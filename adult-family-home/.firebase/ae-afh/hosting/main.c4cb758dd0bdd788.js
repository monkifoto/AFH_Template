"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{4033:(rn,Qe,L)=>{L.d(Qe,{$:()=>rs,A:()=>ce,G:()=>qe,K:()=>vo,L:()=>yo,N:()=>we,P:()=>rd,R:()=>Ha,U:()=>pn,V:()=>Ei,W:()=>kr,X:()=>gs,Y:()=>Fi,Z:()=>Xr,_:()=>Oo,a:()=>Ut,a0:()=>Ss,a1:()=>is,a2:()=>Xo,a3:()=>Qu,a4:()=>kc,a5:()=>sc,a6:()=>La,a7:()=>os,a8:()=>Fc,a9:()=>cc,aA:()=>or,aB:()=>it,aC:()=>Ce,aD:()=>pl,aE:()=>It,aF:()=>on,aG:()=>zc,aH:()=>ef,aI:()=>Wa,aJ:()=>Pr,aN:()=>dc,aQ:()=>$i,aa:()=>uc,ab:()=>Ju,ac:()=>Ca,ad:()=>Zu,ae:()=>Ia,af:()=>S,ag:()=>U,ah:()=>Ie,ak:()=>Rr,al:()=>jr,am:()=>Ir,ap:()=>G,aq:()=>Io,as:()=>vu,at:()=>rl,au:()=>ln,av:()=>ai,aw:()=>di,ax:()=>ze,ay:()=>Aa,az:()=>Qd,b:()=>ss,c:()=>Zh,d:()=>vp,e:()=>$c,f:()=>ys,g:()=>tf,h:()=>dl,i:()=>R,j:()=>yp,k:()=>rh,l:()=>Qs,m:()=>oh,p:()=>Fe,r:()=>qd,s:()=>jc,u:()=>Bc});var c=L(467),ue=L(7852),o=L(1076),be=L(8041),ve=L(1635),me=L(1362);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const qe=function ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},yt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xt=new be.Vy("@firebase/auth");function Je(I,...h){xt.logLevel<=be.$b.ERROR&&xt.error(`Auth (${ue.SDK_VERSION}): ${I}`,...h)}function ze(I,...h){throw Ft(I,...h)}function it(I,...h){return Ft(I,...h)}function Ye(I,h,_){const A=Object.assign(Object.assign({},yt()),{[h]:_});return new o.FA("auth","Firebase",A).create(h,{appName:I.name})}function nt(I){return Ye(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tt(I,h,_){if(!(h instanceof _))throw _.name!==h.constructor.name&&ze(I,"argument-error"),Ye(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ft(I,...h){if("string"!=typeof I){const _=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(_,...A)}return vt.create(I,...h)}function Ce(I,h,..._){if(!I)throw Ft(h,..._)}function Yt(I){const h="INTERNAL ASSERTION FAILED: "+I;throw Je(h),new Error(h)}function ln(I,h){I||Yt(h)}function nr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Pt(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Pe{constructor(h,_){this.shortDelay=h,this.longDelay=_,ln(_>h,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,o.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function de(I,h){ln(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return h?`${_}${h.startsWith("/")?h.slice(1):h}`:_}class Me{static initialize(h,_,A){this.fetchImpl=h,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=new Pe(3e4,6e4);function De(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function He(I,h,_,A){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.A)(function*(I,h,_,A,W={}){return At(I,W,(0,c.A)(function*(){let ae={},Ue={};A&&("GET"===h?Ue=A:ae={body:JSON.stringify(A)});const ft=(0,o.Am)(Object.assign({key:I.config.apiKey},Ue)).slice(1),Gt=yield I._getAdditionalHeaders();return Gt["Content-Type"]="application/json",I.languageCode&&(Gt["X-Firebase-Locale"]=I.languageCode),Me.fetch()(En(I,I.config.apiHost,_,ft),Object.assign({method:h,headers:Gt,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function At(I,h,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.A)(function*(I,h,_){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},Xe),h);try{const W=new Ht(I),ae=yield Promise.race([_(),W.promise]);W.clearNetworkTimeout();const Ue=yield ae.json();if("needConfirmation"in Ue)throw Tn(I,"account-exists-with-different-credential",Ue);if(ae.ok&&!("errorMessage"in Ue))return Ue;{const ft=ae.ok?Ue.errorMessage:Ue.error.message,[Gt,Sn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw Tn(I,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Gt)throw Tn(I,"email-already-in-use",Ue);if("USER_DISABLED"===Gt)throw Tn(I,"user-disabled",Ue);const qn=A[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw Ye(I,qn,Sn);ze(I,qn)}}catch(W){if(W instanceof o.g)throw W;ze(I,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function en(I,h,_,A){return On.apply(this,arguments)}function On(){return(On=(0,c.A)(function*(I,h,_,A,W={}){const ae=yield He(I,h,_,A,W);return"mfaPendingCredential"in ae&&ze(I,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function En(I,h,_,A){const W=`${h}${_}?${A}`;return I.config.emulator?de(I.config,W):`${I.config.apiScheme}://${W}`}function dr(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ht{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(it(this.auth,"network-request-failed")),Te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(I,h,_){const A={appName:I.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const W=it(I,h,A);return W.customData._tokenResponse=_,W}function jn(I){return void 0!==I&&void 0!==I.getResponse}function zt(I){return void 0!==I&&void 0!==I.enterprise}class Vt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===h)return dr(_.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function hn(){return(hn=(0,c.A)(function*(I){return(yield He(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yr(I,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.A)(function*(I,h){return He(I,"GET","/v2/recaptchaConfig",De(I,h))})).apply(this,arguments)}function gn(){return(gn=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function hr(I,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Zr(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ki(){return(Ki=(0,c.A)(function*(I,h=!1){const _=(0,o.Ku)(I),A=yield _.getIdToken(h),W=ti(A);Ce(W&&W.exp&&W.auth_time&&W.iat,_.auth,"internal-error");const ae="object"==typeof W.firebase?W.firebase:void 0,Ue=ae?.sign_in_provider;return{claims:W,token:A,authTime:Zr(cn(W.auth_time)),issuedAtTime:Zr(cn(W.iat)),expirationTime:Zr(cn(W.exp)),signInProvider:Ue||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function cn(I){return 1e3*Number(I)}function ti(I){const[h,_,A]=I.split(".");if(void 0===h||void 0===_||void 0===A)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,o.u)(_);return W?JSON.parse(W):(Je("Failed to decode base64 JWT payload"),null)}catch(W){return Je("Caught error parsing JWT payload as JSON",W?.toString()),null}}function Xn(I){const h=ti(I);return Ce(h,"internal-error"),Ce(typeof h.exp<"u","internal-error"),Ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function _r(I,h){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.A)(function*(I,h,_=!1){if(_)return h;try{return yield h}catch(A){throw A instanceof o.g&&function _i({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}class We{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var _;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const W=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,c.A)(function*(){yield _.iteration()}),A)}iteration(){var h=this;return(0,c.A)(function*(){try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&h.schedule(!0))}h.schedule()})()}}class pt{constructor(h,_){this.createdAt=h,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oe(I){return J.apply(this,arguments)}function J(){return(J=(0,c.A)(function*(I){var h;const _=I.auth,A=yield I.getIdToken(),W=yield _r(I,hr(_,{idToken:A}));Ce(W?.users.length,_,"internal-error");const ae=W.users[0];I._notifyReloadListener(ae);const Ue=null!==(h=ae.providerUserInfo)&&void 0!==h&&h.length?Mt(ae.providerUserInfo):[],ft=function Ct(I,h){return[...I.filter(A=>!h.some(W=>W.providerId===A.providerId)),...h]}(I.providerData,Ue),qn=!!I.isAnonymous&&!(I.email&&ae.passwordHash||ft?.length),Wr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:ft,metadata:new pt(ae.createdAt,ae.lastLoginAt),isAnonymous:qn};Object.assign(I,Wr)})).apply(this,arguments)}function Ae(){return(Ae=(0,c.A)(function*(I){const h=(0,o.Ku)(I);yield oe(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Mt(I){return I.map(h=>{var{providerId:_}=h,A=(0,ve.Tt)(h,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function xe(){return(xe=(0,c.A)(function*(I,h){const _=yield At(I,{},(0,c.A)(function*(){const A=(0,o.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:ae}=I.config,Ue=En(I,W,"/v1/token",`key=${ae}`),ft=yield I._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(Ue,{method:"POST",headers:ft,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function $(){return($=(0,c.A)(function*(I,h){return He(I,"POST","/v2/accounts:revokeToken",De(I,h))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ce(h.idToken,"internal-error"),Ce(typeof h.idToken<"u","internal-error"),Ce(typeof h.refreshToken<"u","internal-error");const _="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Xn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,_)}updateFromIdToken(h){Ce(0!==h.length,"internal-error");const _=Xn(h);this.updateTokensAndExpiration(h,null,_)}getToken(h,_=!1){var A=this;return(0,c.A)(function*(){return _||!A.accessToken||A.isExpired?(Ce(A.refreshToken,h,"user-token-expired"),A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,_){var A=this;return(0,c.A)(function*(){const{accessToken:W,refreshToken:ae,expiresIn:Ue}=yield function Fn(I,h){return xe.apply(this,arguments)}(h,_);A.updateTokensAndExpiration(W,ae,Number(Ue))})()}updateTokensAndExpiration(h,_,A){this.refreshToken=_||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,_){const{refreshToken:A,accessToken:W,expirationTime:ae}=_,Ue=new V;return A&&(Ce("string"==typeof A,"internal-error",{appName:h}),Ue.refreshToken=A),W&&(Ce("string"==typeof W,"internal-error",{appName:h}),Ue.accessToken=W),ae&&(Ce("number"==typeof ae,"internal-error",{appName:h}),Ue.expirationTime=ae),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function F(I,h){Ce("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class le{constructor(h){var{uid:_,auth:A,stsTokenManager:W}=h,ae=(0,ve.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new We(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new pt(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(h){var _=this;return(0,c.A)(function*(){const A=yield _r(_,_.stsTokenManager.getToken(_.auth,h));return Ce(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(h){return function ei(I){return Ki.apply(this,arguments)}(this,h)}reload(){return function Le(I){return Ae.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(_=>Object.assign({},_)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const _=new le(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(h){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,_=!1){var A=this;return(0,c.A)(function*(){let W=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),W=!0),_&&(yield oe(A)),yield A.auth._persistUserIfCurrent(A),W&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,c.A)(function*(){if((0,ue._isFirebaseServerApp)(h.auth.app))return Promise.reject(nt(h.auth));const _=yield h.getIdToken();return yield _r(h,function Lt(I,h){return gn.apply(this,arguments)}(h.auth,{idToken:_})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,_){var A,W,ae,Ue,ft,Gt,Sn,qn;const Wr=null!==(A=_.displayName)&&void 0!==A?A:void 0,Fs=null!==(W=_.email)&&void 0!==W?W:void 0,Ic=null!==(ae=_.phoneNumber)&&void 0!==ae?ae:void 0,Xa=null!==(Ue=_.photoURL)&&void 0!==Ue?Ue:void 0,Vu=null!==(ft=_.tenantId)&&void 0!==ft?ft:void 0,bc=null!==(Gt=_._redirectEventId)&&void 0!==Gt?Gt:void 0,bl=null!==(Sn=_.createdAt)&&void 0!==Sn?Sn:void 0,Qc=null!==(qn=_.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:Jc,emailVerified:ch,isAnonymous:df,providerData:ld,stsTokenManager:uh}=_;Ce(Jc&&uh,h,"internal-error");const Is=V.fromJSON(this.name,uh);Ce("string"==typeof Jc,h,"internal-error"),F(Wr,h.name),F(Fs,h.name),Ce("boolean"==typeof ch,h,"internal-error"),Ce("boolean"==typeof df,h,"internal-error"),F(Ic,h.name),F(Xa,h.name),F(Vu,h.name),F(bc,h.name),F(bl,h.name),F(Qc,h.name);const Zc=new le({uid:Jc,auth:h,email:Fs,emailVerified:ch,displayName:Wr,isAnonymous:df,photoURL:Xa,phoneNumber:Ic,tenantId:Vu,stsTokenManager:Is,createdAt:bl,lastLoginAt:Qc});return ld&&Array.isArray(ld)&&(Zc.providerData=ld.map(lh=>Object.assign({},lh))),bc&&(Zc._redirectEventId=bc),Zc}static _fromIdTokenResponse(h,_,A=!1){return(0,c.A)(function*(){const W=new V;W.updateFromServerResponse(_);const ae=new le({uid:_.localId,auth:h,stsTokenManager:W,isAnonymous:A});return yield oe(ae),ae})()}static _fromGetAccountInfoResponse(h,_,A){return(0,c.A)(function*(){const W=_.users[0];Ce(void 0!==W.localId,"internal-error");const ae=void 0!==W.providerUserInfo?Mt(W.providerUserInfo):[],Ue=!(W.email&&W.passwordHash||ae?.length),ft=new V;ft.updateFromIdToken(A);const Gt=new le({uid:W.localId,auth:h,stsTokenManager:ft,isAnonymous:Ue}),Sn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:ae,metadata:new pt(W.createdAt,W.lastLoginAt),isAnonymous:!(W.email&&W.passwordHash||ae?.length)};return Object.assign(Gt,Sn),Gt})()}}const Ve=new Map;function It(I){ln(I instanceof Function,"Expected a class definition");let h=Ve.get(I);return h?(ln(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,Ve.set(I,h),h)}const pn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(_,A){var W=this;return(0,c.A)(function*(){W.storage[_]=A})()}_get(_){var A=this;return(0,c.A)(function*(){const W=A.storage[_];return void 0===W?null:W})()}_remove(_){var A=this;return(0,c.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return I.type="NONE",I})();function on(I,h,_){return`firebase:${I}:${h}:${_}`}class un{constructor(h,_,A){this.persistence=h,this.auth=_,this.userKey=A;const{config:W,name:ae}=this.auth;this.fullUserKey=on(this.userKey,W.apiKey,ae),this.fullPersistenceKey=on("persistence",W.apiKey,ae),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.A)(function*(){const _=yield h.persistence._get(h.fullUserKey);return _?le._fromJSON(h.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var _=this;return(0,c.A)(function*(){if(_.persistence===h)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=h,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,_,A="authUser"){return(0,c.A)(function*(){if(!_.length)return new un(It(pn),h,A);const W=(yield Promise.all(_.map(function(){var Sn=(0,c.A)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let ae=W[0]||It(pn);const Ue=on(A,h.config.apiKey,h.name);let ft=null;for(const Sn of _)try{const qn=yield Sn._get(Ue);if(qn){const Wr=le._fromJSON(h,qn);Sn!==ae&&(ft=Wr),ae=Sn;break}}catch{}const Gt=W.filter(Sn=>Sn._shouldAllowMigration);return ae._shouldAllowMigration&&Gt.length?(ae=Gt[0],ft&&(yield ae._set(Ue,ft.toJSON())),yield Promise.all(_.map(function(){var Sn=(0,c.A)(function*(qn){if(qn!==ae)try{yield qn._remove(Ue)}catch{}});return function(qn){return Sn.apply(this,arguments)}}())),new un(ae,h,A)):new un(ae,h,A)})()}}function ir(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ko(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(An(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ji(h))return"Blackberry";if(Li(h))return"Webos";if(vi(h))return"Safari";if((h.includes("chrome/")||Tr(h))&&!h.includes("edge/"))return"Chrome";if(di(h))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function An(I=(0,o.ZQ)()){return/firefox\//i.test(I)}function vi(I=(0,o.ZQ)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Tr(I=(0,o.ZQ)()){return/crios\//i.test(I)}function Ko(I=(0,o.ZQ)()){return/iemobile/i.test(I)}function di(I=(0,o.ZQ)()){return/android/i.test(I)}function Ji(I=(0,o.ZQ)()){return/blackberry/i.test(I)}function Li(I=(0,o.ZQ)()){return/webos/i.test(I)}function ai(I=(0,o.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function or(I=(0,o.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Dt(I=(0,o.ZQ)()){return ai(I)||di(I)||Li(I)||Ji(I)||/windows phone/i.test(I)||Ko(I)}function Rn(I,h=[]){let _;switch(I){case"Browser":_=ir((0,o.ZQ)());break;case"Worker":_=`${ir((0,o.ZQ)())}-${I}`;break;default:_=I}const A=h.length?h.join(","):"FirebaseCore-web";return`${_}/JsCore/${ue.SDK_VERSION}/${A}`}class Vn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,_){const A=ae=>new Promise((Ue,ft)=>{try{Ue(h(ae))}catch(Gt){ft(Gt)}});A.onAbort=_,this.queue.push(A);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var _=this;return(0,c.A)(function*(){if(_.auth.currentUser===h)return;const A=[];try{for(const W of _.queue)yield W(h),W.onAbort&&A.push(W.onAbort)}catch(W){A.reverse();for(const ae of A)try{ae()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}function Br(){return(Br=(0,c.A)(function*(I,h={}){return He(I,"GET","/v2/passwordPolicy",De(I,h))})).apply(this,arguments)}class Ri{constructor(h){var _,A,W,ae;const Ue=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Ue.minPasswordLength)&&void 0!==_?_:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(A=h.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(ae=h.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=h.schemaVersion}validatePassword(h){var _,A,W,ae,Ue,ft;const Gt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Gt),this.validatePasswordCharacterOptions(h,Gt),Gt.isValid&&(Gt.isValid=null===(_=Gt.meetsMinPasswordLength)||void 0===_||_),Gt.isValid&&(Gt.isValid=null===(A=Gt.meetsMaxPasswordLength)||void 0===A||A),Gt.isValid&&(Gt.isValid=null===(W=Gt.containsLowercaseLetter)||void 0===W||W),Gt.isValid&&(Gt.isValid=null===(ae=Gt.containsUppercaseLetter)||void 0===ae||ae),Gt.isValid&&(Gt.isValid=null===(Ue=Gt.containsNumericCharacter)||void 0===Ue||Ue),Gt.isValid&&(Gt.isValid=null===(ft=Gt.containsNonAlphanumericCharacter)||void 0===ft||ft),Gt}validatePasswordLengthOptions(h,_){const A=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=h.length>=A),W&&(_.meetsMaxPasswordLength=h.length<=W)}validatePasswordCharacterOptions(h,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let W=0;W<h.length;W++)A=h.charAt(W),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(h,_,A,W,ae){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ae))}}class qo{constructor(h,_,A,W){this.app=h,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ds(this),this.idTokenSubscription=new ds(this),this.beforeStateQueue=new Vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(h,_){var A=this;return _&&(this._popupRedirectResolver=It(_)),this._initializationPromise=this.queue((0,c.A)(function*(){var W,ae;if(!A._deleted&&(A.persistenceManager=yield un.create(A,h),!A._deleted)){if(null!==(W=A._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(ae=A.currentUser)||void 0===ae?void 0:ae.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.A)(function*(){if(h._deleted)return;const _=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||_){if(h.currentUser&&_&&h.currentUser.uid===_.uid)return h._currentUser._assign(_),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(h){var _=this;return(0,c.A)(function*(){try{const A=yield hr(_,{idToken:h}),W=yield le._fromGetAccountInfoResponse(_,A,h);yield _.directlySetCurrentUser(W)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var _=this;return(0,c.A)(function*(){var A;if((0,ue._isFirebaseServerApp)(_.app)){const ft=_.app.settings.authIdToken;return ft?new Promise(Gt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(ft).then(Gt,Gt))}):_.directlySetCurrentUser(null)}const W=yield _.assertedPersistence.getCurrentUser();let ae=W,Ue=!1;if(h&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ft=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,Gt=ae?._redirectEventId,Sn=yield _.tryRedirectSignIn(h);(!ft||ft===Gt)&&Sn?.user&&(ae=Sn.user,Ue=!0)}if(!ae)return _.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ue)try{yield _.beforeStateQueue.runMiddleware(ae)}catch(ft){ae=W,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ft))}return ae?_.reloadAndSetCurrentUserOrClear(ae):_.directlySetCurrentUser(null)}return Ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ae._redirectEventId?_.directlySetCurrentUser(ae):_.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(h){var _=this;return(0,c.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,h,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var _=this;return(0,c.A)(function*(){try{yield oe(h)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,c.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var _=this;return(0,c.A)(function*(){if((0,ue._isFirebaseServerApp)(_.app))return Promise.reject(nt(_));const A=h?(0,o.Ku)(h):null;return A&&Ce(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(h,_=!1){var A=this;return(0,c.A)(function*(){if(!A._deleted)return h&&Ce(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,c.A)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.A)(function*(){return(0,ue._isFirebaseServerApp)(h.app)?Promise.reject(nt(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var _=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(nt(this)):this.queue((0,c.A)(function*(){yield _.assertedPersistence.setPersistence(It(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var _=this;return(0,c.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,c.A)(function*(){const _=yield function Nn(I){return Br.apply(this,arguments)}(h),A=new Ri(_);null===h.tenantId?h._projectPasswordPolicy=A:h._tenantPasswordPolicies[h.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new o.FA("auth","Firebase",h())}onAuthStateChanged(h,_,A){return this.registerStateListener(this.authStateSubscription,h,_,A)}beforeAuthStateChanged(h,_){return this.beforeStateQueue.pushCallback(h,_)}onIdTokenChanged(h,_,A){return this.registerStateListener(this.idTokenSubscription,h,_,A)}authStateReady(){return new Promise((h,_)=>{if(this.currentUser)h();else{const A=this.onAuthStateChanged(()=>{A(),h()},_)}})}revokeAccessToken(h){var _=this;return(0,c.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:A};null!=_.tenantId&&(W.tenantId=_.tenantId),yield function ee(I,h){return $.apply(this,arguments)}(_,W)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,_){var A=this;return(0,c.A)(function*(){const W=yield A.getOrInitRedirectPersistenceManager(_);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var _=this;return(0,c.A)(function*(){if(!_.redirectPersistenceManager){const A=h&&It(h)||_._popupRedirectResolver;Ce(A,_,"argument-error"),_.redirectPersistenceManager=yield un.create(_,[It(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(h){var _=this;return(0,c.A)(function*(){var A,W;return _._isInitialized&&(yield _.queue((0,c.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===h?_._currentUser:(null===(W=_.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?_.redirectUser:null})()}_persistUserIfCurrent(h){var _=this;return(0,c.A)(function*(){if(h===_.currentUser)return _.queue((0,c.A)(function*(){return _.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,_,A,W){if(this._deleted)return()=>{};const ae="function"==typeof _?_:_.next.bind(_);let Ue=!1;const ft=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(ft,this,"internal-error"),ft.then(()=>{Ue||ae(this.currentUser)}),"function"==typeof _){const Gt=h.addObserver(_,A,W);return()=>{Ue=!0,Gt()}}{const Gt=h.addObserver(_);return()=>{Ue=!0,Gt()}}}directlySetCurrentUser(h){var _=this;return(0,c.A)(function*(){_.currentUser&&_.currentUser!==h&&_._currentUser._stopProactiveRefresh(),h&&_.isProactiveRefreshEnabled&&h._startProactiveRefresh(),_.currentUser=h,h?yield _.assertedPersistence.setCurrentUser(h):yield _.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.A)(function*(){var _;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(_=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();W&&(A["X-Firebase-Client"]=W);const ae=yield h._getAppCheckToken();return ae&&(A["X-Firebase-AppCheck"]=ae),A})()}_getAppCheckToken(){var h=this;return(0,c.A)(function*(){var _;const A=yield null===(_=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function an(I,...h){xt.logLevel<=be.$b.WARN&&xt.warn(`Auth (${ue.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Pr(I){return(0,o.Ku)(I)}class ds{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,o.tD)(_=>this.observer=_)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mi={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yi(I){return Mi.loadJS(I)}function Bi(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Lr{constructor(h){this.type="recaptcha-enterprise",this.auth=Pr(h)}verify(h="verify",_=!1){var A=this;return(0,c.A)(function*(){function ae(){return ae=(0,c.A)(function*(ft){if(!_){if(null==ft.tenantId&&null!=ft._agentRecaptchaConfig)return ft._agentRecaptchaConfig.siteKey;if(null!=ft.tenantId&&void 0!==ft._tenantRecaptchaConfigs[ft.tenantId])return ft._tenantRecaptchaConfigs[ft.tenantId].siteKey}return new Promise(function(){var Gt=(0,c.A)(function*(Sn,qn){yr(ft,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wr=>{if(void 0!==Wr.recaptchaKey){const Fs=new Vt(Wr);return null==ft.tenantId?ft._agentRecaptchaConfig=Fs:ft._tenantRecaptchaConfigs[ft.tenantId]=Fs,Sn(Fs.siteKey)}qn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wr=>{qn(Wr)})});return function(Sn,qn){return Gt.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ue(ft,Gt,Sn){const qn=window.grecaptcha;zt(qn)?qn.enterprise.ready(()=>{qn.enterprise.execute(ft,{action:h}).then(Wr=>{Gt(Wr)}).catch(()=>{Gt("NO_RECAPTCHA")})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ft,Gt)=>{(function W(ft){return ae.apply(this,arguments)})(A.auth).then(Sn=>{if(!_&&zt(window.grecaptcha))Ue(Sn,ft,Gt);else{if(typeof window>"u")return void Gt(new Error("RecaptchaVerifier is only supported in browser"));let qn=function So(){return Mi.recaptchaEnterpriseScript}();0!==qn.length&&(qn+=Sn),yi(qn).then(()=>{Ue(Sn,ft,Gt)}).catch(Wr=>{Gt(Wr)})}}).catch(Sn=>{Gt(Sn)})})})()}}function xr(I,h,_){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.A)(function*(I,h,_,A=!1){const W=new Lr(I);let ae;try{ae=yield W.verify(_)}catch{ae=yield W.verify(_,!0)}const Ue=Object.assign({},h);return Object.assign(Ue,A?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}function Zi(I,h,_,A){return qi.apply(this,arguments)}function qi(){return qi=(0,c.A)(function*(I,h,_,A){var W;if(null!==(W=I._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield xr(I,h,_,"getOobCode"===_);return A(I,ae)}return A(I,h).catch(function(){var ae=(0,c.A)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ft=yield xr(I,h,_,"getOobCode"===_);return A(I,ft)}return Promise.reject(Ue)});return function(Ue){return ae.apply(this,arguments)}}())}),qi.apply(this,arguments)}function vo(I,h,_){const A=Pr(I);Ce(A._canInitEmulator,A,"emulator-config-failed"),Ce(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const W=!!_?.disableWarnings,ae=fi(h),{host:Ue,port:ft}=function so(I){const h=fi(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(A);if(W){const ae=W[1];return{host:ae,port:ts(A.substr(ae.length+1))}}{const[ae,Ue]=A.split(":");return{host:ae,port:ts(Ue)}}}(h);A.config.emulator={url:`${ae}//${Ue}${null===ft?"":`:${ft}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ue,port:ft,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function fs(){function I(){const h=document.createElement("p"),_=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function fi(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function ts(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class yo{constructor(h,_){this.providerId=h,this.signInMethod=_}toJSON(){return Yt("not implemented")}_getIdTokenResponse(h){return Yt("not implemented")}_linkToIdToken(h,_){return Yt("not implemented")}_getReauthenticationResolver(h){return Yt("not implemented")}}function ps(I,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:resetPassword",De(I,h))})).apply(this,arguments)}function Ar(){return(Ar=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ci(I,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Ui(){return(Ui=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:update",De(I,h))})).apply(this,arguments)}function ao(I,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signInWithPassword",De(I,h))})).apply(this,arguments)}function co(I,h){return $r.apply(this,arguments)}function $r(){return($r=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:sendOobCode",De(I,h))})).apply(this,arguments)}function zn(){return(zn=(0,c.A)(function*(I,h){return co(I,h)})).apply(this,arguments)}function cr(I,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.A)(function*(I,h){return co(I,h)})).apply(this,arguments)}function xo(I,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.A)(function*(I,h){return co(I,h)})).apply(this,arguments)}function Hr(){return(Hr=(0,c.A)(function*(I,h){return co(I,h)})).apply(this,arguments)}function Mo(){return(Mo=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signInWithEmailLink",De(I,h))})).apply(this,arguments)}function go(){return(go=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signInWithEmailLink",De(I,h))})).apply(this,arguments)}class pi extends yo{constructor(h,_,A,W=null){super("password",A),this._email=h,this._password=_,this._tenantId=W}static _fromEmailAndPassword(h,_){return new pi(h,_,"password")}static _fromEmailAndCode(h,_,A=null){return new pi(h,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(h){var _=this;return(0,c.A)(function*(){switch(_.signInMethod){case"password":return Zi(h,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ao);case"emailLink":return function Ro(I,h){return Mo.apply(this,arguments)}(h,{email:_._email,oobCode:_._password});default:ze(h,"internal-error")}})()}_linkToIdToken(h,_){var A=this;return(0,c.A)(function*(){switch(A.signInMethod){case"password":return Zi(h,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ci);case"emailLink":return function Wn(I,h){return go.apply(this,arguments)}(h,{idToken:_,email:A._email,oobCode:A._password});default:ze(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Q(I,h){return H.apply(this,arguments)}function H(){return(H=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signInWithIdp",De(I,h))})).apply(this,arguments)}class we extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const _=new we(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(_.idToken=h.idToken),h.accessToken&&(_.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(_.nonce=h.nonce),h.pendingToken&&(_.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(_.accessToken=h.oauthToken,_.secret=h.oauthTokenSecret):ze("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:W}=_,ae=(0,ve.Tt)(_,["providerId","signInMethod"]);if(!A||!W)return null;const Ue=new we(A,W);return Ue.idToken=ae.idToken||void 0,Ue.accessToken=ae.accessToken||void 0,Ue.secret=ae.secret,Ue.nonce=ae.nonce,Ue.pendingToken=ae.pendingToken||null,Ue}_getIdTokenResponse(h){return Q(h,this.buildRequest())}_linkToIdToken(h,_){const A=this.buildRequest();return A.idToken=_,Q(h,A)}_getReauthenticationResolver(h){const _=this.buildRequest();return _.autoCreate=!1,Q(h,_)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),h.postBody=(0,o.Am)(_)}return h}}function Et(){return(Et=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:sendVerificationCode",De(I,h))})).apply(this,arguments)}function _n(){return(_n=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signInWithPhoneNumber",De(I,h))})).apply(this,arguments)}function tn(){return(tn=(0,c.A)(function*(I,h){const _=yield en(I,"POST","/v1/accounts:signInWithPhoneNumber",De(I,h));if(_.temporaryProof)throw Tn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Kn={USER_NOT_FOUND:"user-not-found"};function ni(){return(ni=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signInWithPhoneNumber",De(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Kn)})).apply(this,arguments)}class ri extends yo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,_){return new ri({verificationId:h,verificationCode:_})}static _fromTokenResponse(h,_){return new ri({phoneNumber:h,temporaryProof:_})}_getIdTokenResponse(h){return function Jt(I,h){return _n.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,_){return function kt(I,h){return tn.apply(this,arguments)}(h,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Dn(I,h){return ni.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:_,verificationId:A,verificationCode:W}=this.params;return h&&_?{temporaryProof:h,phoneNumber:_}:{sessionInfo:A,code:W}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:_,verificationCode:A,phoneNumber:W,temporaryProof:ae}=h;return A||_||W||ae?new ri({verificationId:_,verificationCode:A,phoneNumber:W,temporaryProof:ae}):null}}class qr{constructor(h){var _,A,W,ae,Ue,ft;const Gt=(0,o.I9)((0,o.hp)(h)),Sn=null!==(_=Gt.apiKey)&&void 0!==_?_:null,qn=null!==(A=Gt.oobCode)&&void 0!==A?A:null,Wr=function gi(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Gt.mode)&&void 0!==W?W:null);Ce(Sn&&qn&&Wr,"argument-error"),this.apiKey=Sn,this.operation=Wr,this.code=qn,this.continueUrl=null!==(ae=Gt.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ue=Gt.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(ft=Gt.tenantId)&&void 0!==ft?ft:null}static parseLink(h){const _=function Kr(I){const h=(0,o.I9)((0,o.hp)(I)).link,_=h?(0,o.I9)((0,o.hp)(h)).deep_link_id:null,A=(0,o.I9)((0,o.hp)(I)).deep_link_id;return(A?(0,o.I9)((0,o.hp)(A)).link:null)||A||_||h||I}(h);try{return new qr(_)}catch{return null}}}let Ei=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,A){return pi._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const W=qr.parseLink(A);return Ce(W,"argument-error"),pi._fromEmailAndCode(_,W.code,W.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class pr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ii extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Xr extends ii{static credentialFromJSON(h){const _="string"==typeof h?JSON.parse(h):h;return Ce("providerId"in _&&"signInMethod"in _,"argument-error"),we._fromParams(_)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ce(h.idToken||h.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Xr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Xr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:W,pendingToken:ae,nonce:Ue,providerId:ft}=h;if(!A&&!W&&!_&&!ae||!ft)return null;try{return new Xr(ft)._credential({idToken:_,accessToken:A,nonce:Ue,pendingToken:ae})}catch{return null}}}let kr=(()=>{class I extends ii{constructor(){super("facebook.com")}static credential(_){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),gs=(()=>{class I extends ii{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:W}=_;if(!A&&!W)return null;try{return I.credential(A,W)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Fi=(()=>{class I extends ii{constructor(){super("github.com")}static credential(_){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class $i extends yo{constructor(h,_){super(h,h),this.pendingToken=_}_getIdTokenResponse(h){return Q(h,this.buildRequest())}_linkToIdToken(h,_){const A=this.buildRequest();return A.idToken=_,Q(h,A)}_getReauthenticationResolver(h){const _=this.buildRequest();return _.autoCreate=!1,Q(h,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const _="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:W,pendingToken:ae}=_;return A&&W&&ae&&A===W?new $i(A,ae):null}static _create(h,_){return new $i(h,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oo extends pr{constructor(h){Ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Oo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Oo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const _=$i.fromJSON(h);return Ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:_,providerId:A}=h;if(!_||!A)return null;try{return $i._create(A,_)}catch{return null}}}let rs=(()=>{class I extends ii{constructor(){super("twitter.com")}static credential(_,A){return we._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:W}=_;if(!A||!W)return null;try{return I.credential(A,W)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ka(I,h){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signUp",De(I,h))})).apply(this,arguments)}class Hi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,_,A,W=!1){return(0,c.A)(function*(){const ae=yield le._fromIdTokenResponse(h,A,W),Ue=Bs(A);return new Hi({user:ae,providerId:Ue,_tokenResponse:A,operationType:_})})()}static _forOperation(h,_,A){return(0,c.A)(function*(){yield h._updateTokensIfNecessary(A,!0);const W=Bs(A);return new Hi({user:h,providerId:W,_tokenResponse:A,operationType:_})})()}}function Bs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ss(I){return $s.apply(this,arguments)}function $s(){return($s=(0,c.A)(function*(I){var h;if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const _=Pr(I);if(yield _._initializationPromise,null!==(h=_.currentUser)&&void 0!==h&&h.isAnonymous)return new Hi({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield ka(_,{returnSecureToken:!0}),W=yield Hi._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(W.user),W})).apply(this,arguments)}class Gr extends o.g{constructor(h,_,A,W){var ae;super(_.code,_.message),this.operationType=A,this.user=W,Object.setPrototypeOf(this,Gr.prototype),this.customData={appName:h.name,tenantId:null!==(ae=h.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,_,A,W){return new Gr(h,_,A,W)}}function ia(I,h,_,A){return("reauthenticate"===h?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Gr._fromErrorAndOperation(I,ae,h,A):ae})}function Fa(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function G(I,h){return X.apply(this,arguments)}function X(){return X=(0,c.A)(function*(I,h){const _=(0,o.Ku)(I);yield Oe(!0,_,h);const{providerUserInfo:A}=yield function xn(I,h){return Cn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[h]}),W=Fa(A||[]);return _.providerData=_.providerData.filter(ae=>W.has(ae.providerId)),W.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),X.apply(this,arguments)}function O(I,h){return se.apply(this,arguments)}function se(){return(se=(0,c.A)(function*(I,h,_=!1){const A=yield _r(I,h._linkToIdToken(I.auth,yield I.getIdToken()),_);return Hi._forOperation(I,"link",A)})).apply(this,arguments)}function Oe(I,h,_){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.A)(function*(I,h,_){yield oe(h);const W=!1===I?"provider-already-linked":"no-such-provider";Ce(Fa(h.providerData).has(_)===I,h.auth,W)})).apply(this,arguments)}function $n(I,h){return to.apply(this,arguments)}function to(){return(to=(0,c.A)(function*(I,h,_=!1){const{auth:A}=I;if((0,ue._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const W="reauthenticate";try{const ae=yield _r(I,ia(A,W,h,I),_);Ce(ae.idToken,A,"internal-error");const Ue=ti(ae.idToken);Ce(Ue,A,"internal-error");const{sub:ft}=Ue;return Ce(I.uid===ft,A,"user-mismatch"),Hi._forOperation(I,W,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&ze(A,"user-mismatch"),ae}})).apply(this,arguments)}function mo(I,h){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.A)(function*(I,h,_=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const A="signIn",W=yield ia(I,A,h),ae=yield Hi._fromIdTokenResponse(I,A,W);return _||(yield I._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function is(I,h){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.A)(function*(I,h){return mo(Pr(I),h)})).apply(this,arguments)}function Xo(I,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.A)(function*(I,h){const _=(0,o.Ku)(I);return yield Oe(!1,_,h.providerId),O(_,h)})).apply(this,arguments)}function Qu(I,h){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.A)(function*(I,h){return $n((0,o.Ku)(I),h)})).apply(this,arguments)}function no(){return(no=(0,c.A)(function*(I,h){return en(I,"POST","/v1/accounts:signInWithCustomToken",De(I,h))})).apply(this,arguments)}function kc(I,h){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,c.A)(function*(I,h){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const _=Pr(I),A=yield function Hs(I,h){return no.apply(this,arguments)}(_,{token:h,returnSecureToken:!0}),W=yield Hi._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(W.user),W}),Yo.apply(this,arguments)}class oa{constructor(h,_){this.factorId=h,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(h,_){return"phoneInfo"in _?Qo._fromServerResponse(h,_):"totpInfo"in _?ms._fromServerResponse(h,_):ze(h,"internal-error")}}class Qo extends oa{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,_){return new Qo(_)}}class ms extends oa{constructor(h){super("totp",h)}static _fromServerResponse(h,_){return new ms(_)}}function Ps(I,h,_){var A;Ce((null===(A=_.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),Ce(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=_.url,h.dynamicLinkDomain=_.dynamicLinkDomain,h.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ce(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=_.iOS.bundleId),_.android&&(Ce(_.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=_.android.installApp,h.androidMinimumVersionCode=_.android.minimumVersion,h.androidPackageName=_.android.packageName)}function sr(I){return oc.apply(this,arguments)}function oc(){return(oc=(0,c.A)(function*(I){const h=Pr(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function sc(I,h,_){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.A)(function*(I,h,_){const A=Pr(I),W={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};_&&Ps(A,W,_),yield Zi(A,W,"getOobCode",cr)})).apply(this,arguments)}function La(I,h,_){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,c.A)(function*(I,h,_){yield ps((0,o.Ku)(I),{oobCode:h,newPassword:_}).catch(function(){var A=(0,c.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&sr(I),W});return function(W){return A.apply(this,arguments)}}())}),Ea.apply(this,arguments)}function os(I,h){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,c.A)(function*(I,h){yield function Po(I,h){return Ui.apply(this,arguments)}((0,o.Ku)(I),{oobCode:h})}),Gs.apply(this,arguments)}function Fc(I,h){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.A)(function*(I,h){const _=(0,o.Ku)(I),A=yield ps(_,{oobCode:h}),W=A.requestType;switch(Ce(W,_,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(A.mfaInfo,_,"internal-error");default:Ce(A.email,_,"internal-error")}let ae=null;return A.mfaInfo&&(ae=oa._fromServerResponse(Pr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ae},operation:W}})).apply(this,arguments)}function cc(I,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.A)(function*(I,h){const{data:_}=yield Fc((0,o.Ku)(I),h);return _.email})).apply(this,arguments)}function uc(I,h,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.A)(function*(I,h,_){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const A=Pr(I),Ue=yield Zi(A,{returnSecureToken:!0,email:h,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ka).catch(Gt=>{throw"auth/password-does-not-meet-requirements"===Gt.code&&sr(I),Gt}),ft=yield Hi._fromIdTokenResponse(A,"signIn",Ue);return yield A._updateCurrentUser(ft.user),ft})).apply(this,arguments)}function Ju(I,h,_){return(0,ue._isFirebaseServerApp)(I.app)?Promise.reject(nt(I)):is((0,o.Ku)(I),Ei.credential(h,_)).catch(function(){var A=(0,c.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&sr(I),W});return function(W){return A.apply(this,arguments)}}())}function Ca(I,h,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.A)(function*(I,h,_){const A=Pr(I),W={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ae(Ue,ft){Ce(ft.handleCodeInApp,A,"argument-error"),ft&&Ps(A,Ue,ft)})(W,_),yield Zi(A,W,"getOobCode",xo)})).apply(this,arguments)}function Zu(I,h){const _=qr.parseLink(h);return"EMAIL_SIGNIN"===_?.operation}function Ia(I,h,_){return pu.apply(this,arguments)}function pu(){return(pu=(0,c.A)(function*(I,h,_){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const A=(0,o.Ku)(I),W=Ei.credentialWithLink(h,_||nr());return Ce(W._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),is(A,W)})).apply(this,arguments)}function Ii(){return(Ii=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:createAuthUri",De(I,h))})).apply(this,arguments)}function S(I,h){return Z.apply(this,arguments)}function Z(){return Z=(0,c.A)(function*(I,h){const A={identifier:h,continueUri:Pt()?nr():"http://localhost"},{signinMethods:W}=yield function gu(I,h){return Ii.apply(this,arguments)}((0,o.Ku)(I),A);return W||[]}),Z.apply(this,arguments)}function U(I,h){return Y.apply(this,arguments)}function Y(){return Y=(0,c.A)(function*(I,h){const _=(0,o.Ku)(I),W={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Ps(_.auth,W,h);const{email:ae}=yield function Qt(I,h){return zn.apply(this,arguments)}(_.auth,W);ae!==I.email&&(yield I.reload())}),Y.apply(this,arguments)}function Ie(I,h,_){return mt.apply(this,arguments)}function mt(){return mt=(0,c.A)(function*(I,h,_){const A=(0,o.Ku)(I),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};_&&Ps(A.auth,ae,_);const{email:Ue}=yield function Eo(I,h){return Hr.apply(this,arguments)}(A.auth,ae);Ue!==I.email&&(yield I.reload())}),mt.apply(this,arguments)}function In(){return(In=(0,c.A)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Rr(I,h){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,c.A)(function*(I,{displayName:h,photoURL:_}){if(void 0===h&&void 0===_)return;const A=(0,o.Ku)(I),ae={idToken:yield A.getIdToken(),displayName:h,photoUrl:_,returnSecureToken:!0},Ue=yield _r(A,function Rt(I,h){return In.apply(this,arguments)}(A.auth,ae));A.displayName=Ue.displayName||null,A.photoURL=Ue.photoUrl||null;const ft=A.providerData.find(({providerId:Gt})=>"password"===Gt);ft&&(ft.displayName=A.displayName,ft.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ue)}),Cr.apply(this,arguments)}function jr(I,h){const _=(0,o.Ku)(I);return(0,ue._isFirebaseServerApp)(_.auth.app)?Promise.reject(nt(_.auth)):mi(_,h,null)}function Ir(I,h){return mi((0,o.Ku)(I),null,h)}function mi(I,h,_){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,c.A)(function*(I,h,_){const{auth:A}=I,ae={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(ae.email=h),_&&(ae.password=_);const Ue=yield _r(I,function fr(I,h){return Ar.apply(this,arguments)}(A,ae));yield I._updateTokensIfNecessary(Ue,!0)}),Yr.apply(this,arguments)}class _o{constructor(h,_,A={}){this.isNewUser=h,this.providerId=_,this.profile=A}}class jo extends _o{constructor(h,_,A,W){super(h,_,A),this.username=W}}class sa extends _o{constructor(h,_){super(h,"facebook.com",_)}}class Bo extends jo{constructor(h,_){super(h,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class zr extends _o{constructor(h,_){super(h,"google.com",_)}}class Ln extends jo{constructor(h,_,A){super(h,"twitter.com",_,A)}}function Io(I){const{user:h,_tokenResponse:_}=I;return h.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ni(I){var h,_;if(!I)return null;const{providerId:A}=I,W=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ae=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&I?.idToken){const Ue=null===(_=null===(h=ti(I.idToken))||void 0===h?void 0:h.firebase)||void 0===_?void 0:_.sign_in_provider;if(Ue)return new _o(ae,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!A)return null;switch(A){case"facebook.com":return new sa(ae,W);case"github.com":return new Bo(ae,W);case"google.com":return new zr(ae,W);case"twitter.com":return new Ln(ae,W,I.screenName||null);case"custom":case"anonymous":return new _o(ae,null);default:return new _o(ae,A,W)}}(_)}class ca{constructor(h,_,A){this.type=h,this.credential=_,this.user=A}static _fromIdtoken(h,_){return new ca("enroll",h,_)}static _fromMfaPendingCredential(h){return new ca("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var _,A;if(h?.multiFactorSession){if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ca._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return ca._fromIdtoken(h.multiFactorSession.idToken)}return null}}class _u{constructor(h,_,A){this.session=h,this.hints=_,this.signInResolver=A}static _fromError(h,_){const A=Pr(h),W=_.customData._serverResponse,ae=(W.mfaInfo||[]).map(ft=>oa._fromServerResponse(A,ft));Ce(W.mfaPendingCredential,A,"internal-error");const Ue=ca._fromMfaPendingCredential(W.mfaPendingCredential);return new _u(Ue,ae,function(){var ft=(0,c.A)(function*(Gt){const Sn=yield Gt._process(A,Ue);delete W.mfaInfo,delete W.mfaPendingCredential;const qn=Object.assign(Object.assign({},W),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(_.operationType){case"signIn":const Wr=yield Hi._fromIdTokenResponse(A,_.operationType,qn);return yield A._updateCurrentUser(Wr.user),Wr;case"reauthenticate":return Ce(_.user,A,"internal-error"),Hi._forOperation(_.user,_.operationType,qn);default:ze(A,"internal-error")}});return function(Gt){return ft.apply(this,arguments)}}())}resolveSignIn(h){var _=this;return(0,c.A)(function*(){return _.signInResolver(h)})()}}function vu(I,h){var _;const A=(0,o.Ku)(I),W=h;return Ce(h.customData.operationType,A,"argument-error"),Ce(null===(_=W.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),_u._fromError(A,W)}class Lc{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>oa._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new Lc(h)}getSession(){var h=this;return(0,c.A)(function*(){return ca._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,_){var A=this;return(0,c.A)(function*(){const W=h,ae=yield A.getSession(),Ue=yield _r(A.user,W._process(A.user.auth,ae,_));return yield A.user._updateTokensIfNecessary(Ue),A.user.reload()})()}unenroll(h){var _=this;return(0,c.A)(function*(){const A="string"==typeof h?h:h.uid,W=yield _.user.getIdToken();try{const ae=yield _r(_.user,function ed(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:withdraw",De(I,h))}(_.user.auth,{idToken:W,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ue})=>Ue!==A),yield _.user._updateTokensIfNecessary(ae),yield _.user.reload()}catch(ae){throw ae}})()}}const Ho=new WeakMap;function rl(I){const h=(0,o.Ku)(I);return Ho.has(h)||Ho.set(h,Lc._fromUser(h)),Ho.get(h)}const yu="__sak";class zi{constructor(h,_){this.storageRetriever=h,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(yu,"1"),this.storage.removeItem(yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,_){return this.storage.setItem(h,JSON.stringify(_)),Promise.resolve()}_get(h){const _=this.storage.getItem(h);return Promise.resolve(_?JSON.parse(_):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ss=(()=>{class I extends zi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ua(){const I=(0,o.ZQ)();return vi(I)||ai(I)}()&&function fn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const W=this.storage.getItem(A),ae=this.localCache[A];W!==ae&&_(A,ae,W)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((ft,Gt,Sn)=>{this.notifyListeners(ft,Sn)});const W=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(W);if(_.newValue!==ft)null!==_.newValue?this.storage.setItem(W,_.newValue):this.storage.removeItem(W);else if(this.localCache[W]===_.newValue&&!A)return}const ae=()=>{const ft=this.storage.getItem(W);!A&&this.localCache[W]===ft||this.notifyListeners(W,ft)},Ue=this.storage.getItem(W);!function Ze(){return(0,o.lT)()&&10===document.documentMode}()||Ue===_.newValue||_.newValue===_.oldValue?ae():setTimeout(ae,10)}notifyListeners(_,A){this.localCache[_]=A;const W=this.listeners[_];if(W)for(const ae of Array.from(W))ae(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var W=()=>super._set,ae=this;return(0,c.A)(function*(){yield W().call(ae,_,A),ae.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,W=this;return(0,c.A)(function*(){const ae=yield A().call(W,_);return W.localCache[_]=JSON.stringify(ae),ae})()}_remove(_){var A=()=>super._remove,W=this;return(0,c.A)(function*(){yield A().call(W,_),delete W.localCache[_]})()}}return I.type="LOCAL",I})(),Ut=(()=>{class I extends zi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return I.type="SESSION",I})();let ja=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(ae=>ae.isListeningto(_));if(A)return A;const W=new I(_);return this.receivers.push(W),W}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,c.A)(function*(){const W=_,{eventId:ae,eventType:Ue,data:ft}=W.data,Gt=A.handlersMap[Ue];if(!Gt?.size)return;W.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ue});const Sn=Array.from(Gt).map(function(){var Wr=(0,c.A)(function*(Fs){return Fs(W.origin,ft)});return function(Fs){return Wr.apply(this,arguments)}}()),qn=yield function gr(I){return Promise.all(I.map(function(){var h=(0,c.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return h.apply(this,arguments)}}()))}(Sn);W.ports[0].postMessage({status:"done",eventId:ae,eventType:Ue,response:qn})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function dc(I="",h=10){let _="";for(let A=0;A<h;A++)_+=Math.floor(10*Math.random());return I+_}class Si{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,_,A=50){var W=this;return(0,c.A)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ue,ft;return new Promise((Gt,Sn)=>{const qn=dc("",20);ae.port1.start();const Wr=setTimeout(()=>{Sn(new Error("unsupported_event"))},A);ft={messageChannel:ae,onMessage(Fs){const Ic=Fs;if(Ic.data.eventId===qn)switch(Ic.data.status){case"ack":clearTimeout(Wr),Ue=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Gt(Ic.data.response);break;default:clearTimeout(Wr),clearTimeout(Ue),Sn(new Error("invalid_response"))}}},W.handlers.add(ft),ae.port1.addEventListener("message",ft.onMessage),W.target.postMessage({eventType:h,eventId:qn,data:_},[ae.port2])}).finally(()=>{ft&&W.removeMessageHandler(ft)})})()}}function Xi(){return window}function bo(){return typeof Xi().WorkerGlobalScope<"u"&&"function"==typeof Xi().importScripts}function Iu(){return(Iu=(0,c.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bu="firebaseLocalStorageDb",_s="firebaseLocalStorage",Ba="fbase_key";class Ks{constructor(h){this.request=h}toPromise(){return new Promise((h,_)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function vs(I,h){return I.transaction([_s],h?"readwrite":"readonly").objectStore(_s)}function qs(){const I=indexedDB.open(bu,1);return new Promise((h,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(_s,{keyPath:Ba})}catch(W){_(W)}}),I.addEventListener("success",(0,c.A)(function*(){const A=I.result;A.objectStoreNames.contains(_s)?h(A):(A.close(),yield function Kd(){const I=indexedDB.deleteDatabase(bu);return new Ks(I).toPromise()}(),h(yield qs()))}))})}function fc(I,h,_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.A)(function*(I,h,_){const A=vs(I,!0).put({[Ba]:h,value:_});return new Ks(A).toPromise()})).apply(this,arguments)}function ba(){return(ba=(0,c.A)(function*(I,h){const _=vs(I,!1).get(h),A=yield new Ks(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Xs(I,h){const _=vs(I,!0).delete(h);return new Ks(_).toPromise()}const R=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.A)(function*(){return _.db||(_.db=yield qs()),_.db})()}_withRetries(_){var A=this;return(0,c.A)(function*(){let W=0;for(;;)try{const ae=yield A._openDb();return yield _(ae)}catch(ae){if(W++>3)throw ae;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.A)(function*(){return bo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.A)(function*(){_.receiver=ja._getInstance(function ol(){return bo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,c.A)(function*(W,ae){return{keyProcessed:(yield _._poll()).includes(ae.key)}});return function(W,ae){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,c.A)(function*(W,ae){return["keyChanged"]});return function(W,ae){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.A)(function*(){var A,W;if(_.activeServiceWorker=yield function hc(){return Iu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Si(_.activeServiceWorker);const ae=yield _.sender._send("ping",{},800);ae&&null!==(A=ae[0])&&void 0!==A&&A.fulfilled&&null!==(W=ae[0])&&void 0!==W&&W.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,c.A)(function*(){if(A.sender&&A.activeServiceWorker&&function il(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const _=yield qs();return yield fc(_,yu,"1"),yield Xs(_,yu),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,c.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var W=this;return(0,c.A)(function*(){return W._withPendingWrite((0,c.A)(function*(){return yield W._withRetries(ae=>fc(ae,_,A)),W.localCache[_]=A,W.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,c.A)(function*(){const W=yield A._withRetries(ae=>function nd(I,h){return ba.apply(this,arguments)}(ae,_));return A.localCache[_]=W,W})()}_remove(_){var A=this;return(0,c.A)(function*(){return A._withPendingWrite((0,c.A)(function*(){return yield A._withRetries(W=>Xs(W,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.A)(function*(){const A=yield _._withRetries(Ue=>{const ft=vs(Ue,!1).getAll();return new Ks(ft).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const W=[],ae=new Set;if(0!==A.length)for(const{fbase_key:Ue,value:ft}of A)ae.add(Ue),JSON.stringify(_.localCache[Ue])!==JSON.stringify(ft)&&(_.notifyListeners(Ue,ft),W.push(Ue));for(const Ue of Object.keys(_.localCache))_.localCache[Ue]&&!ae.has(Ue)&&(_.notifyListeners(Ue,null),W.push(Ue));return W})()}notifyListeners(_,A){this.localCache[_]=A;const W=this.listeners[_];if(W)for(const ae of Array.from(W))ae(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),mn=1e12;class mr{constructor(h){this.auth=h,this.counter=mn,this._widgets=new Map}render(h,_){const A=this.counter;return this._widgets.set(A,new wr(h,this.auth.name,_||{})),this.counter++,A}reset(h){var _;const A=h||mn;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(h){var _;return(null===(_=this._widgets.get(h||mn))||void 0===_?void 0:_.getResponse())||""}execute(h){var _=this;return(0,c.A)(function*(){var A;return null===(A=_._widgets.get(h||mn))||void 0===A||A.execute(),""})()}}class wr{constructor(h,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof h?document.getElementById(h):h;Ce(W,"argument-error",{appName:_}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function br(I){const h=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<I;A++)h.push(_.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":_}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oi=Bi("rcb"),Uc=new Pe(3e4,6e4);class as{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Xi().grecaptcha)||void 0===h||!h.render)}load(h,_=""){return Ce(function $a(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(_),h,"argument-error"),this.shouldResolveImmediately(_)&&jn(Xi().grecaptcha)?Promise.resolve(Xi().grecaptcha):new Promise((A,W)=>{const ae=Xi().setTimeout(()=>{W(it(h,"network-request-failed"))},Uc.get());Xi()[oi]=()=>{Xi().clearTimeout(ae),delete Xi()[oi];const ft=Xi().grecaptcha;if(!ft||!jn(ft))return void W(it(h,"internal-error"));const Gt=ft.render;ft.render=(Sn,qn)=>{const Wr=Gt(Sn,qn);return this.counter++,Wr},this.hostLanguage=_,A(ft)},yi(`${function va(){return Mi.recaptchaV2Script}()}?${(0,o.Am)({onload:oi,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ae),W(it(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var _;return!(null===(_=Xi().grecaptcha)||void 0===_||!_.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ys{load(h){return(0,c.A)(function*(){return new mr(h)})()}clearedOneInstance(){}}const la="recaptcha",Qh={theme:"light",type:"image"};class Ha{constructor(h,_,A=Object.assign({},Qh)){this.parameters=A,this.type=la,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pr(h),this.isInvisible="invisible"===this.parameters.size,Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof _?document.getElementById(_):_;Ce(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ys:new as,this.validateStartingState()}verify(){var h=this;return(0,c.A)(function*(){h.assertNotDestroyed();const _=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(_)||new Promise(ae=>{const Ue=ft=>{ft&&(h.tokenChangeListeners.delete(Ue),ae(ft))};h.tokenChangeListeners.add(Ue),h.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof h)h(_);else if("string"==typeof h){const A=Xi()[h];"function"==typeof A&&A(_)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.A)(function*(){if(yield h.init(),!h.widgetId){let _=h.container;if(!h.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}h.widgetId=h.getAssertedRecaptcha().render(_,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.A)(function*(){Ce(Pt()&&!bo(),h.auth,"internal-error"),yield function Os(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const _=yield function Vr(I){return hn.apply(this,arguments)}(h.auth);Ce(_,h.auth,"internal-error"),h.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pc{constructor(h,_){this.verificationId=h,this.onConfirmation=_}confirm(h){const _=ri._fromVerification(this.verificationId,h);return this.onConfirmation(_)}}function jc(I,h,_){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.A)(function*(I,h,_){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const A=Pr(I),W=yield al(A,h,(0,o.Ku)(_));return new pc(W,ae=>is(A,ae))})).apply(this,arguments)}function Qs(I,h,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.A)(function*(I,h,_){const A=(0,o.Ku)(I);yield Oe(!1,A,"phone");const W=yield al(A.auth,h,(0,o.Ku)(_));return new pc(W,ae=>Xo(A,ae))})).apply(this,arguments)}function qd(I,h,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.A)(function*(I,h,_){const A=(0,o.Ku)(I);if((0,ue._isFirebaseServerApp)(A.auth.app))return Promise.reject(nt(A.auth));const W=yield al(A.auth,h,(0,o.Ku)(_));return new pc(W,ae=>Qu(A,ae))})).apply(this,arguments)}function al(I,h,_){return gc.apply(this,arguments)}function gc(){return gc=(0,c.A)(function*(I,h,_){var A;const W=yield _.verify();try{let ae;if(Ce("string"==typeof W,I,"argument-error"),Ce(_.type===la,I,"argument-error"),ae="string"==typeof h?{phoneNumber:h}:h,"session"in ae){const Ue=ae.session;if("phoneNumber"in ae)return Ce("enroll"===Ue.type,I,"internal-error"),(yield function tl(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:start",De(I,h))}(I,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Ue.type,I,"internal-error");const ft=(null===(A=ae.multiFactorHint)||void 0===A?void 0:A.uid)||ae.multiFactorUid;return Ce(ft,I,"missing-multi-factor-info"),(yield function j(I,h){return He(I,"POST","/v2/accounts/mfaSignIn:start",De(I,h))}(I,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield function Be(I,h){return Et.apply(this,arguments)}(I,{phoneNumber:ae.phoneNumber,recaptchaToken:W});return Ue}}finally{_._reset()}}),gc.apply(this,arguments)}function Bc(I,h){return wu.apply(this,arguments)}function wu(){return(wu=(0,c.A)(function*(I,h){const _=(0,o.Ku)(I);if((0,ue._isFirebaseServerApp)(_.auth.app))return Promise.reject(nt(_.auth));yield O(_,h)})).apply(this,arguments)}let rd=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=Pr(_)}verifyPhoneNumber(_,A){return al(this.auth,_,(0,o.Ku)(A))}static credential(_,A){return ri._fromVerification(_,A)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:W}=_;return A&&W?ri._fromTokenResponse(A,W):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function da(I,h){return h?It(h):(Ce(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class id extends yo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Q(h,this._buildIdpRequest())}_linkToIdToken(h,_){return Q(h,this._buildIdpRequest(_))}_getReauthenticationResolver(h){return Q(h,this._buildIdpRequest())}_buildIdpRequest(h){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(_.idToken=h),_}}function Jh(I){return mo(I.auth,new id(I),I.bypassAuthState)}function od(I){const{auth:h,user:_}=I;return Ce(_,h,"internal-error"),$n(_,new id(I),I.bypassAuthState)}function kg(I){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.A)(function*(I){const{auth:h,user:_}=I;return Ce(_,h,"internal-error"),O(_,new id(I),I.bypassAuthState)})).apply(this,arguments)}class mc{constructor(h,_,A,W,ae=!1){this.auth=h,this.resolver=A,this.user=W,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var h=this;return new Promise(function(){var _=(0,c.A)(function*(A,W){h.pendingPromise={resolve:A,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ae){h.reject(ae)}});return function(A,W){return _.apply(this,arguments)}}())}onAuthEvent(h){var _=this;return(0,c.A)(function*(){const{urlResponse:A,sessionId:W,postBody:ae,tenantId:Ue,error:ft,type:Gt}=h;if(ft)return void _.reject(ft);const Sn={auth:_.auth,requestUri:A,sessionId:W,tenantId:Ue||void 0,postBody:ae||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Gt)(Sn))}catch(qn){_.reject(qn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Jh;case"linkViaPopup":case"linkViaRedirect":return kg;case"reauthViaPopup":case"reauthViaRedirect":return od;default:ze(this.auth,"internal-error")}}resolve(h){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ul=new Pe(2e3,1e4);function Zh(I,h,_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.A)(function*(I,h,_){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I,"operation-not-supported-in-this-environment"));const A=Pr(I);Tt(I,h,pr);const W=da(A,_);return new ko(A,"signInViaPopup",h,W).executeNotNull()})).apply(this,arguments)}function $c(I,h,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.A)(function*(I,h,_){const A=(0,o.Ku)(I);if((0,ue._isFirebaseServerApp)(A.auth.app))return Promise.reject(it(A.auth,"operation-not-supported-in-this-environment"));Tt(A.auth,h,pr);const W=da(A.auth,_);return new ko(A.auth,"reauthViaPopup",h,W,A).executeNotNull()})).apply(this,arguments)}function vp(I,h,_){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(I,h,_){const A=(0,o.Ku)(I);Tt(A.auth,h,pr);const W=da(A.auth,_);return new ko(A.auth,"linkViaPopup",h,W,A).executeNotNull()})).apply(this,arguments)}let ko=(()=>{class I extends mc{constructor(_,A,W,ae,Ue){super(_,A,ae,Ue),this.provider=W,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.A)(function*(){const A=yield _.execute();return Ce(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,c.A)(function*(){ln(1===_.filter.length,"Popup operations only handle one event");const A=dc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(W=>{_.reject(W)}),_.resolver._isIframeWebStorageSupported(_.auth,W=>{W||_.reject(it(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,W;this.pollId=null!==(W=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ul.get())};_()}}return I.currentPopupAction=null,I})();const Au="pendingRedirect",Jo=new Map;class Xd extends mc{constructor(h,_,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,_=this;return(0,c.A)(function*(){let A=Jo.get(_.auth._key());if(!A){try{const ae=(yield function Ga(I,h){return ea.apply(this,arguments)}(_.resolver,_.auth))?yield h().call(_):null;A=()=>Promise.resolve(ae)}catch(W){A=()=>Promise.reject(W)}Jo.set(_.auth._key(),A)}return _.bypassAuthState||Jo.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var _=()=>super.onAuthEvent,A=this;return(0,c.A)(function*(){if("signInViaRedirect"===h.type)return _().call(A,h);if("unknown"!==h.type){if(h.eventId){const W=yield A.auth._redirectUserForId(h.eventId);if(W)return A.user=W,_().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function ea(){return(ea=(0,c.A)(function*(I,h){const _=Du(h),A=_c(I);if(!(yield A._isAvailable()))return!1;const W="true"===(yield A._get(_));return yield A._remove(_),W})).apply(this,arguments)}function za(I,h){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.A)(function*(I,h){return _c(I)._set(Du(h),"true")})).apply(this,arguments)}function Wa(){Jo.clear()}function ef(I,h){Jo.set(I._key(),h)}function _c(I){return It(I._redirectPersistence)}function Du(I){return on(Au,I.config.apiKey,I.name)}function ys(I,h,_){return function Su(I,h,_){return Yd.apply(this,arguments)}(I,h,_)}function Yd(){return(Yd=(0,c.A)(function*(I,h,_){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const A=Pr(I);Tt(I,h,pr),yield A._initializationPromise;const W=da(A,_);return yield za(W,A),W._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function dl(I,h,_){return function Gc(I,h,_){return sd.apply(this,arguments)}(I,h,_)}function sd(){return(sd=(0,c.A)(function*(I,h,_){const A=(0,o.Ku)(I);if(Tt(A.auth,h,pr),(0,ue._isFirebaseServerApp)(A.auth.app))return Promise.reject(nt(A.auth));yield A.auth._initializationPromise;const W=da(A.auth,_);yield za(W,A.auth);const ae=yield Ka(A);return W._openRedirect(A.auth,h,"reauthViaRedirect",ae)})).apply(this,arguments)}function tf(I,h,_){return function hl(I,h,_){return wa.apply(this,arguments)}(I,h,_)}function wa(){return(wa=(0,c.A)(function*(I,h,_){const A=(0,o.Ku)(I);Tt(A.auth,h,pr),yield A.auth._initializationPromise;const W=da(A.auth,_);yield Oe(!1,A,h.providerId),yield za(W,A.auth);const ae=yield Ka(A);return W._openRedirect(A.auth,h,"linkViaRedirect",ae)})).apply(this,arguments)}function yp(I,h){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.A)(function*(I,h){return yield Pr(I)._initializationPromise,zc(I,h,!1)})).apply(this,arguments)}function zc(I,h){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,c.A)(function*(I,h,_=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(nt(I));const A=Pr(I),W=da(A,h),Ue=yield new Xd(A,W,_).execute();return Ue&&!_&&(delete Ue.user._redirectEventId,yield A._persistUserIfCurrent(Ue.user),yield A._setRedirectUser(null,h)),Ue})).apply(this,arguments)}function Ka(I){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.A)(function*(I){const h=dc(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class pl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(_=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Wc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yc(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=h,_=!0)),_}sendToConsumer(h,_){var A;if(h.error&&!yc(h)){const W=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(it(this.auth,W))}else _.onAuthEvent(h)}isEventForConsumer(h,_){const A=null===_.eventId||!!h.eventId&&h.eventId===_.eventId;return _.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vc(h))}saveEventToCache(h){this.cachedEventUids.add(vc(h)),this.lastProcessedEventTime=Date.now()}}function vc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function yc({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Qd(I){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.A)(function*(I,h={}){return He(I,"GET","/v1/projects",h)})).apply(this,arguments)}const ro=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fg=/^https?/;function Jd(){return(Jd=(0,c.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield Qd(I);for(const _ of h)try{if(Cp(_))return}catch{}ze(I,"unauthorized-domain")})).apply(this,arguments)}function Cp(I){const h=nr(),{protocol:_,hostname:A}=new URL(h);if(I.startsWith("chrome-extension://")){const Ue=new URL(I);return""===Ue.hostname&&""===A?"chrome-extension:"===_&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===_&&Ue.hostname===A}if(!Fg.test(_))return!1;if(ro.test(I))return A===I;const W=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(A)}const nf=new Pe(3e4,6e4);function xu(){const I=Xi().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Ru=null;const rf=new Pe(5e3,15e3),eh="__/auth/iframe",Vi="emulator/auth/iframe",gl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function th(I){const h=I.config;Ce(h.authDomain,I,"auth-domain-config-required");const _=h.emulator?de(h,Vi):`https://${I.config.authDomain}/${eh}`,A={apiKey:h.apiKey,appName:I.name,v:ue.SDK_VERSION},W=fa.get(I.config.apiHost);W&&(A.eid=W);const ae=I._getFrameworks();return ae.length&&(A.fw=ae.join(",")),`${_}?${(0,o.Am)(A).slice(1)}`}function Ec(){return Ec=(0,c.A)(function*(I){const h=yield function Mu(I){return Ru=Ru||function Zd(I){return new Promise((h,_)=>{var A,W,ae;function Ue(){xu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{xu(),_(it(I,"network-request-failed"))},timeout:nf.get()})}if(null!==(W=null===(A=Xi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==W&&W.Iframe)h(gapi.iframes.getContext());else{if(null===(ae=Xi().gapi)||void 0===ae||!ae.load){const ft=Bi("iframefcb");return Xi()[ft]=()=>{gapi.load?Ue():_(it(I,"network-request-failed"))},yi(`${function Ai(){return Mi.gapiScript}()}?onload=${ft}`).catch(Gt=>_(Gt))}Ue()}}).catch(h=>{throw Ru=null,h})}(I),Ru}(I),_=Xi().gapi;return Ce(_,I,"internal-error"),h.open({where:document.body,url:th(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gl,dontclear:!0},A=>new Promise(function(){var W=(0,c.A)(function*(ae,Ue){yield A.restyle({setHideOnLeave:!1});const ft=it(I,"network-request-failed"),Gt=Xi().setTimeout(()=>{Ue(ft)},rf.get());function Sn(){Xi().clearTimeout(Gt),ae(A)}A.ping(Sn).then(Sn,()=>{Ue(ft)})});return function(ae,Ue){return W.apply(this,arguments)}}()))}),Ec.apply(this,arguments)}const nh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cd="__/auth/handler",Nu="emulator/auth/handler",Cs=encodeURIComponent("fac");function Aa(I,h,_,A,W,ae){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.A)(function*(I,h,_,A,W,ae){Ce(I.config.authDomain,I,"auth-domain-config-required"),Ce(I.config.apiKey,I,"invalid-api-key");const Ue={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:A,v:ue.SDK_VERSION,eventId:W};if(h instanceof pr){h.setDefaultLanguage(I.languageCode),Ue.providerId=h.providerId||"",(0,o.Im)(h.getCustomParameters())||(Ue.customParameters=JSON.stringify(h.getCustomParameters()));for(const[qn,Wr]of Object.entries(ae||{}))Ue[qn]=Wr}if(h instanceof ii){const qn=h.getScopes().filter(Wr=>""!==Wr);qn.length>0&&(Ue.scopes=qn.join(","))}I.tenantId&&(Ue.tid=I.tenantId);const ft=Ue;for(const qn of Object.keys(ft))void 0===ft[qn]&&delete ft[qn];const Gt=yield I._getAppCheckToken(),Sn=Gt?`#${Cs}=${encodeURIComponent(Gt)}`:"";return`${function _l({config:I}){return I.emulator?de(I,Nu):`https://${I.authDomain}/${cd}`}(I)}?${(0,o.Am)(ft).slice(1)}${Sn}`})).apply(this,arguments)}const vl="webStorageSupport",rh=class uf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ut,this._completeRedirectFn=zc,this._overrideRedirectResult=ef}_openPopup(h,_,A,W){var ae=this;return(0,c.A)(function*(){var Ue;ln(null===(Ue=ae.eventManagers[h._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const ft=yield Aa(h,_,A,nr(),W);return function Ip(I,h,_,A=500,W=600){const ae=Math.max((window.screen.availHeight-W)/2,0).toString(),Ue=Math.max((window.screen.availWidth-A)/2,0).toString();let ft="";const Gt=Object.assign(Object.assign({},nh),{width:A.toString(),height:W.toString(),top:ae,left:Ue}),Sn=(0,o.ZQ)().toLowerCase();_&&(ft=Tr(Sn)?"_blank":_),An(Sn)&&(h=h||"http://localhost",Gt.scrollbars="yes");const qn=Object.entries(Gt).reduce((Fs,[Ic,Xa])=>`${Fs}${Ic}=${Xa},`,"");if(function dt(I=(0,o.ZQ)()){var h;return ai(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Sn)&&"_self"!==ft)return function ks(I,h){const _=document.createElement("a");_.href=I,_.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(h||"",ft),new cf(null);const Wr=window.open(h||"",ft,qn);Ce(Wr,I,"popup-blocked");try{Wr.focus()}catch{}return new cf(Wr)}(h,ft,dc())})()}_openRedirect(h,_,A,W){var ae=this;return(0,c.A)(function*(){return yield ae._originValidation(h),function Hn(I){Xi().location.href=I}(yield Aa(h,_,A,nr(),W)),new Promise(()=>{})})()}_initialize(h){const _=h._key();if(this.eventManagers[_]){const{manager:W,promise:ae}=this.eventManagers[_];return W?Promise.resolve(W):(ln(ae,"If manager is not set, promise should be"),ae)}const A=this.initAndGetManager(h);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(h){var _=this;return(0,c.A)(function*(){const A=yield function Es(I){return Ec.apply(this,arguments)}(h),W=new pl(h);return A.register("authEvent",ae=>(Ce(ae?.authEvent,h,"invalid-auth-event"),{status:W.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[h._key()]={manager:W},_.iframes[h._key()]=A,W})()}_isIframeWebStorageSupported(h,_){this.iframes[h._key()].send(vl,{type:vl},W=>{var ae;const Ue=null===(ae=W?.[0])||void 0===ae?void 0:ae[vl];void 0!==Ue&&_(!!Ue),ze(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const _=h._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ep(I){return Jd.apply(this,arguments)}(h)),this.originValidationPromises[_]}get _shouldInitProactively(){return Dt()||vi()||ai()}};class ih{constructor(h){this.factorId=h}_process(h,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(h,_.credential,A);case"signin":return this._finalizeSignIn(h,_.credential);default:return Yt("unexpected MultiFactorSessionType")}}}class qc extends ih{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new qc(h)}_finalizeEnroll(h,_,A){return function nl(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:finalize",De(I,h))}(h,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,_){return function re(I,h){return He(I,"POST","/v2/accounts/mfaSignIn:finalize",De(I,h))}(h,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oh=(()=>{class I{constructor(){}static assertion(_){return qc._fromCredential(_)}}return I.FACTOR_ID="phone",I})();var El="@firebase/auth";class ku{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var _=this;return(0,c.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const _=this.auth.onIdTokenChanged(A=>{h(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,_),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const _=this.internalListeners.get(h);_&&(this.internalListeners.delete(h),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,o.XA)("authIdTokenMaxAge"),function hs(I){Mi=I}({loadJS:I=>new Promise((h,_)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=h,A.onerror=W=>{const ae=it("internal-error");ae.customData=W,_(ae)},A.type="text/javascript",A.charset="UTF-8",function lf(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Cl(I){(0,ue._registerComponent)(new me.uA("auth",(h,{options:_})=>{const A=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),ae=h.getProvider("app-check-internal"),{apiKey:Ue,authDomain:ft}=A.options;Ce(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:A.name});const Gt={apiKey:Ue,authDomain:ft,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rn(I)},Sn=new qo(A,W,ae,Gt);return function Na(I,h){const _=h?.persistence||[],A=(Array.isArray(_)?_:[_]).map(It);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(A,h?.popupRedirectResolver)}(Sn,_),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,_,A)=>{h.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new me.uA("auth-internal",h=>{const _=Pr(h.getProvider("auth").getImmediate());return new ku(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(El,"1.7.4",function Fu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ue.registerVersion)(El,"1.7.4","esm2017")}("Browser")},9583:(rn,Qe,L)=>{L.d(Qe,{fS:()=>b_,Ix:()=>Gu,H6:()=>Hu,T1:()=>lo,Wq:()=>kd,uY:()=>su,W6:()=>de,Ci:()=>rg,YQ:()=>lg,NJ:()=>Hl,Dc:()=>zt,GA:()=>Vd,cm:()=>Yn,K$:()=>Lt,FA:()=>Gn,lo:()=>Dr,bI:()=>Wt,qG:()=>na,qi:()=>ln,c8:()=>rm,gS:()=>S_,C3:()=>gg,hq:()=>Xf,me:()=>tg,rJ:()=>Vf,Cs:()=>$u,vN:()=>Ff,kd:()=>cu,CL:()=>k_,LA:()=>ou,H9:()=>eg,ol:()=>Bf,Q5:()=>wc,Os:()=>sm,FD:()=>vv,rf:()=>E_,Ws:()=>ho,z6:()=>fo,x7:()=>D_,nY:()=>mm,_e:()=>Gl,GG:()=>dg,kU:()=>Ev,Rr:()=>Cv,aU:()=>Uf,GV:()=>F_,AB:()=>_v,$1:()=>sg,po:()=>Dd,St:()=>ng,aQ:()=>P_,FC:()=>vm,My:()=>y_,P:()=>gv,B:()=>Sh,yx:()=>Dh,c4:()=>N_,O5:()=>Cm,BN:()=>Iv,He:()=>Ft,lN:()=>Dc,HM:()=>Kf,EO:()=>kh,mZ:()=>_m,iB:()=>g_,_M:()=>dm});var Fe,$e,c=L(467),ue=L(7852),o=L(1362),be=L(8041),ve=L(1076),me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={};(function(){var u;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l(et,Re,Ge){Ge||(Ge=0);var tt=Array(16);if("string"==typeof Re)for(var ot=0;16>ot;++ot)tt[ot]=Re.charCodeAt(Ge++)|Re.charCodeAt(Ge++)<<8|Re.charCodeAt(Ge++)<<16|Re.charCodeAt(Ge++)<<24;else for(ot=0;16>ot;++ot)tt[ot]=Re[Ge++]|Re[Ge++]<<8|Re[Ge++]<<16|Re[Ge++]<<24;var gt=et.g[3],je=(Re=et.g[0])+(gt^(Ge=et.g[1])&((ot=et.g[2])^gt))+tt[0]+3614090360&4294967295;je=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=(Ge=(ot=(gt=(Re=Ge+(je<<7&4294967295|je>>>25))+((je=gt+(ot^Re&(Ge^ot))+tt[1]+3905402710&4294967295)<<12&4294967295|je>>>20))+((je=ot+(Ge^gt&(Re^Ge))+tt[2]+606105819&4294967295)<<17&4294967295|je>>>15))+((je=Ge+(Re^ot&(gt^Re))+tt[3]+3250441966&4294967295)<<22&4294967295|je>>>10))+((je=Re+(gt^Ge&(ot^gt))+tt[4]+4118548399&4294967295)<<7&4294967295|je>>>25))+((je=gt+(ot^Re&(Ge^ot))+tt[5]+1200080426&4294967295)<<12&4294967295|je>>>20))+((je=ot+(Ge^gt&(Re^Ge))+tt[6]+2821735955&4294967295)<<17&4294967295|je>>>15))+((je=Ge+(Re^ot&(gt^Re))+tt[7]+4249261313&4294967295)<<22&4294967295|je>>>10))+((je=Re+(gt^Ge&(ot^gt))+tt[8]+1770035416&4294967295)<<7&4294967295|je>>>25))+((je=gt+(ot^Re&(Ge^ot))+tt[9]+2336552879&4294967295)<<12&4294967295|je>>>20))+((je=ot+(Ge^gt&(Re^Ge))+tt[10]+4294925233&4294967295)<<17&4294967295|je>>>15))+((je=Ge+(Re^ot&(gt^Re))+tt[11]+2304563134&4294967295)<<22&4294967295|je>>>10))+((je=Re+(gt^Ge&(ot^gt))+tt[12]+1804603682&4294967295)<<7&4294967295|je>>>25))+((je=gt+(ot^Re&(Ge^ot))+tt[13]+4254626195&4294967295)<<12&4294967295|je>>>20))+((je=ot+(Ge^gt&(Re^Ge))+tt[14]+2792965006&4294967295)<<17&4294967295|je>>>15))+((je=Ge+(Re^ot&(gt^Re))+tt[15]+1236535329&4294967295)<<22&4294967295|je>>>10))+((je=Re+(ot^gt&(Ge^ot))+tt[1]+4129170786&4294967295)<<5&4294967295|je>>>27))+((je=gt+(Ge^ot&(Re^Ge))+tt[6]+3225465664&4294967295)<<9&4294967295|je>>>23))+((je=ot+(Re^Ge&(gt^Re))+tt[11]+643717713&4294967295)<<14&4294967295|je>>>18))+((je=Ge+(gt^Re&(ot^gt))+tt[0]+3921069994&4294967295)<<20&4294967295|je>>>12))+((je=Re+(ot^gt&(Ge^ot))+tt[5]+3593408605&4294967295)<<5&4294967295|je>>>27))+((je=gt+(Ge^ot&(Re^Ge))+tt[10]+38016083&4294967295)<<9&4294967295|je>>>23))+((je=ot+(Re^Ge&(gt^Re))+tt[15]+3634488961&4294967295)<<14&4294967295|je>>>18))+((je=Ge+(gt^Re&(ot^gt))+tt[4]+3889429448&4294967295)<<20&4294967295|je>>>12))+((je=Re+(ot^gt&(Ge^ot))+tt[9]+568446438&4294967295)<<5&4294967295|je>>>27))+((je=gt+(Ge^ot&(Re^Ge))+tt[14]+3275163606&4294967295)<<9&4294967295|je>>>23))+((je=ot+(Re^Ge&(gt^Re))+tt[3]+4107603335&4294967295)<<14&4294967295|je>>>18))+((je=Ge+(gt^Re&(ot^gt))+tt[8]+1163531501&4294967295)<<20&4294967295|je>>>12))+((je=Re+(ot^gt&(Ge^ot))+tt[13]+2850285829&4294967295)<<5&4294967295|je>>>27))+((je=gt+(Ge^ot&(Re^Ge))+tt[2]+4243563512&4294967295)<<9&4294967295|je>>>23))+((je=ot+(Re^Ge&(gt^Re))+tt[7]+1735328473&4294967295)<<14&4294967295|je>>>18))+((je=Ge+(gt^Re&(ot^gt))+tt[12]+2368359562&4294967295)<<20&4294967295|je>>>12))+((je=Re+(Ge^ot^gt)+tt[5]+4294588738&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Re^Ge^ot)+tt[8]+2272392833&4294967295)<<11&4294967295|je>>>21))+((je=ot+(gt^Re^Ge)+tt[11]+1839030562&4294967295)<<16&4294967295|je>>>16))+((je=Ge+(ot^gt^Re)+tt[14]+4259657740&4294967295)<<23&4294967295|je>>>9))+((je=Re+(Ge^ot^gt)+tt[1]+2763975236&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Re^Ge^ot)+tt[4]+1272893353&4294967295)<<11&4294967295|je>>>21))+((je=ot+(gt^Re^Ge)+tt[7]+4139469664&4294967295)<<16&4294967295|je>>>16))+((je=Ge+(ot^gt^Re)+tt[10]+3200236656&4294967295)<<23&4294967295|je>>>9))+((je=Re+(Ge^ot^gt)+tt[13]+681279174&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Re^Ge^ot)+tt[0]+3936430074&4294967295)<<11&4294967295|je>>>21))+((je=ot+(gt^Re^Ge)+tt[3]+3572445317&4294967295)<<16&4294967295|je>>>16))+((je=Ge+(ot^gt^Re)+tt[6]+76029189&4294967295)<<23&4294967295|je>>>9))+((je=Re+(Ge^ot^gt)+tt[9]+3654602809&4294967295)<<4&4294967295|je>>>28))+((je=gt+(Re^Ge^ot)+tt[12]+3873151461&4294967295)<<11&4294967295|je>>>21))+((je=ot+(gt^Re^Ge)+tt[15]+530742520&4294967295)<<16&4294967295|je>>>16))+((je=Ge+(ot^gt^Re)+tt[2]+3299628645&4294967295)<<23&4294967295|je>>>9))+((je=Re+(ot^(Ge|~gt))+tt[0]+4096336452&4294967295)<<6&4294967295|je>>>26))+((je=gt+(Ge^(Re|~ot))+tt[7]+1126891415&4294967295)<<10&4294967295|je>>>22))+((je=ot+(Re^(gt|~Ge))+tt[14]+2878612391&4294967295)<<15&4294967295|je>>>17))+((je=Ge+(gt^(ot|~Re))+tt[5]+4237533241&4294967295)<<21&4294967295|je>>>11))+((je=Re+(ot^(Ge|~gt))+tt[12]+1700485571&4294967295)<<6&4294967295|je>>>26))+((je=gt+(Ge^(Re|~ot))+tt[3]+2399980690&4294967295)<<10&4294967295|je>>>22))+((je=ot+(Re^(gt|~Ge))+tt[10]+4293915773&4294967295)<<15&4294967295|je>>>17))+((je=Ge+(gt^(ot|~Re))+tt[1]+2240044497&4294967295)<<21&4294967295|je>>>11))+((je=Re+(ot^(Ge|~gt))+tt[8]+1873313359&4294967295)<<6&4294967295|je>>>26))+((je=gt+(Ge^(Re|~ot))+tt[15]+4264355552&4294967295)<<10&4294967295|je>>>22))+((je=ot+(Re^(gt|~Ge))+tt[6]+2734768916&4294967295)<<15&4294967295|je>>>17))+((je=Ge+(gt^(ot|~Re))+tt[13]+1309151649&4294967295)<<21&4294967295|je>>>11))+((gt=(Re=Ge+((je=Re+(ot^(Ge|~gt))+tt[4]+4149444226&4294967295)<<6&4294967295|je>>>26))+((je=gt+(Ge^(Re|~ot))+tt[11]+3174756917&4294967295)<<10&4294967295|je>>>22))^((ot=gt+((je=ot+(Re^(gt|~Ge))+tt[2]+718787259&4294967295)<<15&4294967295|je>>>17))|~Re))+tt[9]+3951481745&4294967295,et.g[0]=et.g[0]+Re&4294967295,et.g[1]=et.g[1]+(ot+(je<<21&4294967295|je>>>11))&4294967295,et.g[2]=et.g[2]+ot&4294967295,et.g[3]=et.g[3]+gt&4294967295}function y(et,Re){this.h=Re;for(var Ge=[],tt=!0,ot=et.length-1;0<=ot;ot--){var gt=0|et[ot];tt&&gt==Re||(Ge[ot]=gt,tt=!1)}this.g=Ge}(function e(et,Re){function Ge(){}Ge.prototype=Re.prototype,et.D=Re.prototype,et.prototype=new Ge,et.prototype.constructor=et,et.C=function(tt,ot,gt){for(var je=Array(arguments.length-2),qu=2;qu<arguments.length;qu++)je[qu-2]=arguments[qu];return Re.prototype[ot].apply(tt,je)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(et,Re){void 0===Re&&(Re=et.length);for(var Ge=Re-this.blockSize,tt=this.B,ot=this.h,gt=0;gt<Re;){if(0==ot)for(;gt<=Ge;)l(this,et,gt),gt+=this.blockSize;if("string"==typeof et){for(;gt<Re;)if(tt[ot++]=et.charCodeAt(gt++),ot==this.blockSize){l(this,tt),ot=0;break}}else for(;gt<Re;)if(tt[ot++]=et[gt++],ot==this.blockSize){l(this,tt),ot=0;break}}this.h=ot,this.o+=Re},s.prototype.v=function(){var et=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);et[0]=128;for(var Re=1;Re<et.length-8;++Re)et[Re]=0;var Ge=8*this.o;for(Re=et.length-8;Re<et.length;++Re)et[Re]=255&Ge,Ge/=256;for(this.u(et),et=Array(16),Re=Ge=0;4>Re;++Re)for(var tt=0;32>tt;tt+=8)et[Ge++]=this.g[Re]>>>tt&255;return et};var D={};function N(et){return-128<=et&&128>et?function p(et,Re){var Ge=D;return Object.prototype.hasOwnProperty.call(Ge,et)?Ge[et]:Ge[et]=Re(et)}(et,function(Re){return new y([0|Re],0>Re?-1:0)}):new y([0|et],0>et?-1:0)}function z(et){if(isNaN(et)||!isFinite(et))return fe;if(0>et)return qt(z(-et));for(var Re=[],Ge=1,tt=0;et>=Ge;tt++)Re[tt]=et/Ge|0,Ge*=4294967296;return new y(Re,0)}var fe=N(0),ke=N(1),ut=N(16777216);function $t(et){if(0!=et.h)return!1;for(var Re=0;Re<et.g.length;Re++)if(0!=et.g[Re])return!1;return!0}function nn(et){return-1==et.h}function qt(et){for(var Re=et.g.length,Ge=[],tt=0;tt<Re;tt++)Ge[tt]=~et.g[tt];return new y(Ge,~et.h).add(ke)}function kn(et,Re){return et.add(qt(Re))}function Qn(et,Re){for(;(65535&et[Re])!=et[Re];)et[Re+1]+=et[Re]>>>16,et[Re]&=65535,Re++}function Un(et,Re){this.g=et,this.h=Re}function Sr(et,Re){if($t(Re))throw Error("division by zero");if($t(et))return new Un(fe,fe);if(nn(et))return Re=Sr(qt(et),Re),new Un(qt(Re.g),qt(Re.h));if(nn(Re))return Re=Sr(et,qt(Re)),new Un(qt(Re.g),Re.h);if(30<et.g.length){if(nn(et)||nn(Re))throw Error("slowDivide_ only works with positive integers.");for(var Ge=ke,tt=Re;0>=tt.l(et);)Ge=Pi(Ge),tt=Pi(tt);var ot=Qr(Ge,1),gt=Qr(tt,1);for(tt=Qr(tt,2),Ge=Qr(Ge,2);!$t(tt);){var je=gt.add(tt);0>=je.l(et)&&(ot=ot.add(Ge),gt=je),tt=Qr(tt,1),Ge=Qr(Ge,1)}return Re=kn(et,ot.j(Re)),new Un(ot,Re)}for(ot=fe;0<=et.l(Re);){for(Ge=Math.max(1,Math.floor(et.m()/Re.m())),tt=48>=(tt=Math.ceil(Math.log(Ge)/Math.LN2))?1:Math.pow(2,tt-48),je=(gt=z(Ge)).j(Re);nn(je)||0<je.l(et);)je=(gt=z(Ge-=tt)).j(Re);$t(gt)&&(gt=ke),ot=ot.add(gt),et=kn(et,je)}return new Un(ot,et)}function Pi(et){for(var Re=et.g.length+1,Ge=[],tt=0;tt<Re;tt++)Ge[tt]=et.i(tt)<<1|et.i(tt-1)>>>31;return new y(Ge,et.h)}function Qr(et,Re){var Ge=Re>>5;Re%=32;for(var tt=et.g.length-Ge,ot=[],gt=0;gt<tt;gt++)ot[gt]=0<Re?et.i(gt+Ge)>>>Re|et.i(gt+Ge+1)<<32-Re:et.i(gt+Ge);return new y(ot,et.h)}(u=y.prototype).m=function(){if(nn(this))return-qt(this).m();for(var et=0,Re=1,Ge=0;Ge<this.g.length;Ge++){var tt=this.i(Ge);et+=(0<=tt?tt:4294967296+tt)*Re,Re*=4294967296}return et},u.toString=function(et){if(2>(et=et||10)||36<et)throw Error("radix out of range: "+et);if($t(this))return"0";if(nn(this))return"-"+qt(this).toString(et);for(var Re=z(Math.pow(et,6)),Ge=this,tt="";;){var ot=Sr(Ge,Re).g,gt=((0<(Ge=kn(Ge,ot.j(Re))).g.length?Ge.g[0]:Ge.h)>>>0).toString(et);if($t(Ge=ot))return gt+tt;for(;6>gt.length;)gt="0"+gt;tt=gt+tt}},u.i=function(et){return 0>et?0:et<this.g.length?this.g[et]:this.h},u.l=function(et){return nn(et=kn(this,et))?-1:$t(et)?0:1},u.abs=function(){return nn(this)?qt(this):this},u.add=function(et){for(var Re=Math.max(this.g.length,et.g.length),Ge=[],tt=0,ot=0;ot<=Re;ot++){var gt=tt+(65535&this.i(ot))+(65535&et.i(ot)),je=(gt>>>16)+(this.i(ot)>>>16)+(et.i(ot)>>>16);tt=je>>>16,Ge[ot]=(je&=65535)<<16|(gt&=65535)}return new y(Ge,-2147483648&Ge[Ge.length-1]?-1:0)},u.j=function(et){if($t(this)||$t(et))return fe;if(nn(this))return nn(et)?qt(this).j(qt(et)):qt(qt(this).j(et));if(nn(et))return qt(this.j(qt(et)));if(0>this.l(ut)&&0>et.l(ut))return z(this.m()*et.m());for(var Re=this.g.length+et.g.length,Ge=[],tt=0;tt<2*Re;tt++)Ge[tt]=0;for(tt=0;tt<this.g.length;tt++)for(var ot=0;ot<et.g.length;ot++){var gt=this.i(tt)>>>16,je=65535&this.i(tt),qu=et.i(ot)>>>16,Qf=65535&et.i(ot);Ge[2*tt+2*ot]+=je*Qf,Qn(Ge,2*tt+2*ot),Ge[2*tt+2*ot+1]+=gt*Qf,Qn(Ge,2*tt+2*ot+1),Ge[2*tt+2*ot+1]+=je*qu,Qn(Ge,2*tt+2*ot+1),Ge[2*tt+2*ot+2]+=gt*qu,Qn(Ge,2*tt+2*ot+2)}for(tt=0;tt<Re;tt++)Ge[tt]=Ge[2*tt+1]<<16|Ge[2*tt];for(tt=Re;tt<2*Re;tt++)Ge[tt]=0;return new y(Ge,0)},u.A=function(et){return Sr(this,et).h},u.and=function(et){for(var Re=Math.max(this.g.length,et.g.length),Ge=[],tt=0;tt<Re;tt++)Ge[tt]=this.i(tt)&et.i(tt);return new y(Ge,this.h&et.h)},u.or=function(et){for(var Re=Math.max(this.g.length,et.g.length),Ge=[],tt=0;tt<Re;tt++)Ge[tt]=this.i(tt)|et.i(tt);return new y(Ge,this.h|et.h)},u.xor=function(et){for(var Re=Math.max(this.g.length,et.g.length),Ge=[],tt=0;tt<Re;tt++)Ge[tt]=this.i(tt)^et.i(tt);return new y(Ge,this.h^et.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$e=Ne.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=z,y.fromString=function ie(et,Re){if(0==et.length)throw Error("number format error: empty string");if(2>(Re=Re||10)||36<Re)throw Error("radix out of range: "+Re);if("-"==et.charAt(0))return qt(ie(et.substring(1),Re));if(0<=et.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ge=z(Math.pow(Re,8)),tt=fe,ot=0;ot<et.length;ot+=8){var gt=Math.min(8,et.length-ot),je=parseInt(et.substring(ot,ot+gt),Re);8>gt?(gt=z(Math.pow(Re,gt)),tt=tt.j(gt).add(z(je))):tt=(tt=tt.j(Ge)).add(z(je))}return tt},Fe=Ne.Integer=y}).apply(typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{});var ge,st,qe,yt,vt,jt,xt,an,Je,te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,k,K){return v==Array.prototype||v==Object.prototype||(v[k]=K.value),v},s=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof te&&te];for(var k=0;k<v.length;++k){var K=v[k];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}(this);!function l(v,k){if(k)e:{var K=s;v=v.split(".");for(var he=0;he<v.length-1;he++){var ct=v[he];if(!(ct in K))break e;K=K[ct]}(k=k(he=K[v=v[v.length-1]]))!=he&&null!=k&&e(K,v,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(v){return v||function(){return function p(v,k){v instanceof String&&(v+="");var K=0,he=!1,ct={next:function(){if(!he&&K<v.length){var St=K++;return{value:k(St,v[St]),done:!1}}return he=!0,{done:!0,value:void 0}}};return ct[Symbol.iterator]=function(){return ct},ct}(this,function(k,K){return K})}});var y=y||{},D=this||self;function N(v){var k=typeof v;return"array"==(k="object"!=k?k:v?Array.isArray(v)?"array":k:"null")||"object"==k&&"number"==typeof v.length}function z(v){var k=typeof v;return"object"==k&&null!=v||"function"==k}function ie(v,k,K){return v.call.apply(v.bind,arguments)}function fe(v,k,K){if(!v)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,he),v.apply(k,ct)}}return function(){return v.apply(k,arguments)}}function ke(v,k,K){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:fe).apply(null,arguments)}function ut(v,k){var K=Array.prototype.slice.call(arguments,1);return function(){var he=K.slice();return he.push.apply(he,arguments),v.apply(this,he)}}function $t(v,k){function K(){}K.prototype=k.prototype,v.aa=k.prototype,v.prototype=new K,v.prototype.constructor=v,v.Qb=function(he,ct,St){for(var yn=Array(arguments.length-2),Qi=2;Qi<arguments.length;Qi++)yn[Qi-2]=arguments[Qi];return k.prototype[ct].apply(he,yn)}}function nn(v){const k=v.length;if(0<k){const K=Array(k);for(let he=0;he<k;he++)K[he]=v[he];return K}return[]}function qt(v,k){for(let K=1;K<arguments.length;K++){const he=arguments[K];if(N(he)){const ct=v.length||0,St=he.length||0;v.length=ct+St;for(let yn=0;yn<St;yn++)v[ct+yn]=he[yn]}else v.push(he)}}function Qn(v){return/^[\s\xa0]*$/.test(v)}function Un(){var v=D.navigator;return v&&(v=v.userAgent)?v:""}function Sr(v){return Sr[" "](v),v}Sr[" "]=function(){};var Pi=!(-1==Un().indexOf("Gecko")||-1!=Un().toLowerCase().indexOf("webkit")&&-1==Un().indexOf("Edge")||-1!=Un().indexOf("Trident")||-1!=Un().indexOf("MSIE")||-1!=Un().indexOf("Edge"));function Qr(v,k,K){for(const he in v)k.call(K,v[he],he,v)}function Re(v){const k={};for(const K in v)k[K]=v[K];return k}const Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(v,k){let K,he;for(let ct=1;ct<arguments.length;ct++){for(K in he=arguments[ct],he)v[K]=he[K];for(let St=0;St<Ge.length;St++)K=Ge[St],Object.prototype.hasOwnProperty.call(he,K)&&(v[K]=he[K])}}function ot(v){var k=1;v=v.split(":");const K=[];for(;0<k&&v.length;)K.push(v.shift()),k--;return v.length&&K.push(v.join(":")),K}function gt(v){D.setTimeout(()=>{throw v},0)}function je(){var v=L_;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}var Qf=new class kn{constructor(k,K){this.i=k,this.j=K,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new xa,v=>v.reset());class xa{constructor(){this.next=this.g=this.h=null}set(k,K){this.h=k,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let Jf,Zf=!1,L_=new class qu{constructor(){this.h=this.g=null}add(k,K){const he=Qf.get();he.set(k,K),this.h?this.h.next=he:this.g=he,this.h=he}},mg=()=>{const v=D.Promise.resolve(void 0);Jf=()=>{v.then(U_)}};var U_=()=>{for(var v;v=je();){try{v.h.call(v.g)}catch(K){gt(K)}var k=Qf;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}Zf=!1};function Wl(){this.s=this.s,this.C=this.C}function Vs(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}Wl.prototype.s=!1,Wl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Vs.prototype.h=function(){this.defaultPrevented=!0};var kv=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const K=()=>{};D.addEventListener("test",K,k),D.removeEventListener("test",K,k)}catch{}return v}();function Lh(v,k){if(Vs.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var K=this.type=v.type,he=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(Pi){e:{try{Sr(k.nodeName);var ct=!0;break e}catch{}ct=!1}ct||(k=null)}}else"mouseover"==K?k=v.fromElement:"mouseout"==K&&(k=v.toElement);this.relatedTarget=k,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Fv[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Lh.aa.h.call(this)}}$t(Lh,Vs);var Fv={2:"touch",3:"pen",4:"mouse"};Lh.prototype.h=function(){Lh.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ep="closure_listenable_"+(1e6*Math.random()|0),Im=0;function Vv(v,k,K,he,ct){this.listener=v,this.proxy=null,this.src=k,this.type=K,this.capture=!!he,this.ha=ct,this.key=++Im,this.da=this.fa=!1}function _g(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function vg(v){this.src=v,this.g={},this.h=0}function yg(v,k){var K=k.type;if(K in v.g){var St,he=v.g[K],ct=Array.prototype.indexOf.call(he,k,void 0);(St=0<=ct)&&Array.prototype.splice.call(he,ct,1),St&&(_g(k),0==v.g[K].length&&(delete v.g[K],v.h--))}}function Eg(v,k,K,he){for(var ct=0;ct<v.length;++ct){var St=v[ct];if(!St.da&&St.listener==k&&St.capture==!!K&&St.ha==he)return ct}return-1}vg.prototype.add=function(v,k,K,he,ct){var St=v.toString();(v=this.g[St])||(v=this.g[St]=[],this.h++);var yn=Eg(v,k,he,ct);return-1<yn?(k=v[yn],K||(k.fa=!1)):((k=new Vv(k,this.src,St,!!he,ct)).fa=K,v.push(k)),k};var Ra="closure_lm_"+(1e6*Math.random()|0),Uh={};function tp(v,k,K,he,ct){if(he&&he.once)return bm(v,k,K,he,ct);if(Array.isArray(k)){for(var St=0;St<k.length;St++)tp(v,k[St],K,he,ct);return null}return K=sp(K),v&&v[ep]?v.K(k,K,z(he)?!!he.capture:!!he,ct):np(v,k,K,!1,he,ct)}function np(v,k,K,he,ct,St){if(!k)throw Error("Invalid event type");var yn=z(ct)?!!ct.capture:!!ct,Qi=ip(v);if(Qi||(v[Ra]=Qi=new vg(v)),(K=Qi.add(k,K,he,yn,St)).proxy)return K;if(he=function j_(){const k=Lv;return function v(K){return k.call(v.src,v.listener,K)}}(),K.proxy=he,he.src=v,he.listener=K,v.addEventListener)kv||(ct=yn),void 0===ct&&(ct=!1),v.addEventListener(k.toString(),he,ct);else if(v.attachEvent)v.attachEvent(rp(k.toString()),he);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(he)}return K}function bm(v,k,K,he,ct){if(Array.isArray(k)){for(var St=0;St<k.length;St++)bm(v,k[St],K,he,ct);return null}return K=sp(K),v&&v[ep]?v.L(k,K,z(he)?!!he.capture:!!he,ct):np(v,k,K,!0,he,ct)}function jh(v,k,K,he,ct){if(Array.isArray(k))for(var St=0;St<k.length;St++)jh(v,k[St],K,he,ct);else he=z(he)?!!he.capture:!!he,K=sp(K),v&&v[ep]?(v=v.i,(k=String(k).toString())in v.g&&-1<(K=Eg(St=v.g[k],K,he,ct))&&(_g(St[K]),Array.prototype.splice.call(St,K,1),0==St.length&&(delete v.g[k],v.h--))):v&&(v=ip(v))&&(k=v.g[k.toString()],v=-1,k&&(v=Eg(k,K,he,ct)),(K=-1<v?k[v]:null)&&Ld(K))}function Ld(v){if("number"!=typeof v&&v&&!v.da){var k=v.src;if(k&&k[ep])yg(k.i,v);else{var K=v.type,he=v.proxy;k.removeEventListener?k.removeEventListener(K,he,v.capture):k.detachEvent?k.detachEvent(rp(K),he):k.addListener&&k.removeListener&&k.removeListener(he),(K=ip(k))?(yg(K,v),0==K.h&&(K.src=null,k[Ra]=null)):_g(v)}}}function rp(v){return v in Uh?Uh[v]:Uh[v]="on"+v}function Lv(v,k){if(v.da)v=!0;else{k=new Lh(k,this);var K=v.listener,he=v.ha||v.src;v.fa&&Ld(v),v=K.call(he,k)}return v}function ip(v){return(v=v[Ra])instanceof vg?v:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(v){return"function"==typeof v?v:(v[op]||(v[op]=function(k){return v.handleEvent(k)}),v[op])}function bs(){Wl.call(this),this.i=new vg(this),this.M=this,this.F=null}function Ts(v,k){var K,he=v.F;if(he)for(K=[];he;he=he.F)K.push(he);if(v=v.M,he=k.type||k,"string"==typeof k)k=new Vs(k,v);else if(k instanceof Vs)k.target=k.target||v;else{var ct=k;tt(k=new Vs(he,v),ct)}if(ct=!0,K)for(var St=K.length-1;0<=St;St--){var yn=k.g=K[St];ct=ec(yn,he,!0,k)&&ct}if(ct=ec(yn=k.g=v,he,!0,k)&&ct,ct=ec(yn,he,!1,k)&&ct,K)for(St=0;St<K.length;St++)ct=ec(yn=k.g=K[St],he,!1,k)&&ct}function ec(v,k,K,he){if(!(k=v.i.g[String(k)]))return!0;k=k.concat();for(var ct=!0,St=0;St<k.length;++St){var yn=k[St];if(yn&&!yn.da&&yn.capture==K){var Qi=yn.listener,ls=yn.ha||yn.src;yn.fa&&yg(v.i,yn),ct=!1!==Qi.call(ls,he)&&ct}}return ct&&!he.defaultPrevented}function B_(v,k,K){if("function"==typeof v)K&&(v=ke(v,K));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=ke(v.handleEvent,v)}return 2147483647<Number(k)?-1:D.setTimeout(v,k||0)}function $_(v){v.g=B_(()=>{v.g=null,v.i&&(v.i=!1,$_(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}$t(bs,Wl),bs.prototype[ep]=!0,bs.prototype.removeEventListener=function(v,k,K,he){jh(this,v,k,K,he)},bs.prototype.N=function(){if(bs.aa.N.call(this),this.i){var k,v=this.i;for(k in v.g){for(var K=v.g[k],he=0;he<K.length;he++)_g(K[he]);delete v.g[k],v.h--}}this.F=null},bs.prototype.K=function(v,k,K,he){return this.i.add(String(v),k,!1,K,he)},bs.prototype.L=function(v,k,K,he){return this.i.add(String(v),k,!0,K,he)};class Tm extends Wl{constructor(k,K){super(),this.m=k,this.l=K,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:$_(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ap(v){Wl.call(this),this.h=v,this.g={}}$t(ap,Wl);var wm=[];function Am(v){Qr(v.g,function(k,K){this.g.hasOwnProperty(K)&&Ld(k)},v),v.g={}}ap.prototype.N=function(){ap.aa.N.call(this),Am(this)},ap.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bh=D.JSON.stringify,cp=D.JSON.parse,H_=class{stringify(v){return D.JSON.stringify(v,void 0)}parse(v){return D.JSON.parse(v,void 0)}};function $h(){}function G_(){}$h.prototype.h=null;var Hh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cg(){Vs.call(this,"d")}function Ig(){Vs.call(this,"c")}$t(Cg,Vs),$t(Ig,Vs);var Kl={},bg=null;function Gh(){return bg=bg||new bs}function Ud(v){Vs.call(this,Kl.La,v)}function C(v){const k=Gh();Ts(k,new Ud(k))}function g(v,k){Vs.call(this,Kl.STAT_EVENT,v),this.stat=k}function m(v){const k=Gh();Ts(k,new g(k,v))}function M(v,k){Vs.call(this,Kl.Ma,v),this.size=k}function q(v,k){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){v()},k)}function pe(){this.g=!0}function wt(v,k,K,he){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+function sn(v,k){if(!v.g)return k;if(!k)return null;try{var K=JSON.parse(k);if(K)for(v=0;v<K.length;v++)if(Array.isArray(K[v])){var he=K[v];if(!(2>he.length)){var ct=he[1];if(Array.isArray(ct)&&!(1>ct.length)){var St=ct[0];if("noop"!=St&&"stop"!=St&&"close"!=St)for(var yn=1;yn<ct.length;yn++)ct[yn]=""}}}return Bh(K)}catch{return k}}(v,K)+(he?" "+he:"")})}Kl.La="serverreachability",$t(Ud,Vs),Kl.STAT_EVENT="statevent",$t(g,Vs),Kl.Ma="timingevent",$t(M,Vs),pe.prototype.xa=function(){this.g=!1},pe.prototype.info=function(){};var lr,Jn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ui(){}function Pn(v,k,K,he){this.j=v,this.i=k,this.l=K,this.R=he||1,this.U=new ap(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}$t(ui,$h),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},lr=new ui;var si={},Wi={};function Jr(v,k,K){v.L=1,v.v=du(ta(k)),v.m=K,v.P=!0,Fr(v,null)}function Fr(v,k){v.F=Date.now(),Yi(v),v.A=ta(v.v);var K=v.A,he=v.R;Array.isArray(he)||(he=[String(he)]),lp(K.i,"t",he),v.C=0,K=v.j.J,v.h=new er,v.g=Qv(v.j,K?k:null,!v.m),0<v.O&&(v.M=new Tm(ke(v.Y,v,v.g),v.O)),k=v.U,K=v.g,he=v.ca;var ct="readystatechange";Array.isArray(ct)||(ct&&(wm[0]=ct.toString()),ct=wm);for(var St=0;St<ct.length;St++){var yn=tp(K,ct[St],he||k.handleEvent,!1,k.h||k);if(!yn)break;k.g[yn.key]=yn}k=v.H?Re(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),C(),function Se(v,k,K,he,ct,St){v.info(function(){if(v.g)if(St)for(var yn="",Qi=St.split("&"),ls=0;ls<Qi.length;ls++){var xi=Qi[ls].split("=");if(1<xi.length){var As=xi[0];xi=xi[1];var Us=As.split("_");yn=2<=Us.length&&"type"==Us[1]?yn+(As+"=")+xi+"&":yn+(As+"=redacted&")}}else yn=null;else yn=St;return"XMLHTTP REQ ("+he+") [attempt "+ct+"]: "+k+"\n"+K+"\n"+yn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function bi(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function Ti(v,k){var K=v.C,he=k.indexOf("\n",K);return-1==he?Wi:(K=Number(k.substring(K,he)),isNaN(K)?si:(he+=1)+K>k.length?Wi:(k=k.slice(he,he+K),v.C=he+K,k))}function Yi(v){v.S=Date.now()+v.I,es(v,v.I)}function es(v,k){if(null!=v.B)throw Error("WatchDog timer not null");v.B=q(ke(v.ba,v),k)}function Vo(v){v.B&&(D.clearTimeout(v.B),v.B=null)}function po(v){0==v.j.G||v.J||Xv(v.j,v)}function wo(v){Vo(v);var k=v.M;k&&"function"==typeof k.ma&&k.ma(),v.M=null,Am(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function Ma(v,k){try{var K=v.j;if(0!=K.G&&(K.g==v||ga(K.h,v)))if(!v.K&&ga(K.h,v)&&3==K.G){try{var he=K.Da.g.parse(k)}catch{he=null}if(Array.isArray(he)&&3==he.length){var ct=he;if(0==ct[0]){e:if(!K.u){if(K.g){if(!(K.g.F+3e3<v.F))break e;km(K),q_(K)}Om(K),m(18)}}else K.za=ct[1],0<K.za-K.T&&37500>ct[2]&&K.F&&0==K.v&&!K.C&&(K.C=q(ke(K.Za,K),6e3));if(1>=us(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else Gd(K,11)}else if((v.K||K.g==v)&&km(K),!Qn(k))for(ct=K.Da.g.parse(k),k=0;k<ct.length;k++){let xi=ct[k];if(K.T=xi[0],xi=xi[1],2==K.G)if("c"==xi[0]){K.K=xi[1],K.ia=xi[2];const As=xi[3];null!=As&&(K.la=As,K.j.info("VER="+K.la));const Us=xi[4];null!=Us&&(K.Aa=Us,K.j.info("SVER="+K.Aa));const gp=xi[5];null!=gp&&"number"==typeof gp&&0<gp&&(K.L=he=1.5*gp,K.j.info("backChannelRequestTimeoutMs_="+he)),he=K;const Rc=v.g;if(Rc){const xg=Rc.g?Rc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xg){var St=he.h;St.g||-1==xg.indexOf("spdy")&&-1==xg.indexOf("quic")&&-1==xg.indexOf("h2")||(St.j=St.l,St.g=new Set,St.h&&(jd(St,St.h),St.h=null))}if(he.D){const Lm=Rc.g?Rc.g.getResponseHeader("X-HTTP-Session-Id"):null;Lm&&(he.ya=Lm,wi(he.I,he.D,Lm))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-v.F,K.j.info("Handshake RTT: "+K.R+"ms"));var yn=v;if((he=K).qa=Vm(he,he.J?he.ia:null,he.W),yn.K){Sc(he.h,yn);var Qi=yn,ls=he.L;ls&&(Qi.I=ls),Qi.B&&(Vo(Qi),Yi(Qi)),he.g=yn}else qv(he);0<K.i.length&&Mm(K)}else"stop"!=xi[0]&&"close"!=xi[0]||Gd(K,7);else 3==K.G&&("stop"==xi[0]||"close"==xi[0]?"stop"==xi[0]?Gd(K,7):hp(K):"noop"!=xi[0]&&K.l&&K.l.ta(xi),K.v=0)}C()}catch{}}function uu(v){this.l=v||10,v=D.PerformanceNavigationTiming?0<(v=D.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ql(v){return!!v.h||!!v.g&&v.g.size>=v.j}function us(v){return v.h?1:v.g?v.g.size:0}function ga(v,k){return v.h?v.h==k:!!v.g&&v.g.has(k)}function jd(v,k){v.g?v.g.add(k):v.h=k}function Sc(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}function zh(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let k=v.i;for(const K of v.g.values())k=k.concat(K.D);return k}return nn(v.i)}function Wo(v,k){if(v.forEach&&"function"==typeof v.forEach)v.forEach(k,void 0);else if(N(v)||"string"==typeof v)Array.prototype.forEach.call(v,k,void 0);else for(var K=function lu(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(N(v)||"string"==typeof v){var k=[];v=v.length;for(var K=0;K<v;K++)k.push(K);return k}k=[],K=0;for(const he in v)k[K++]=he;return k}}}(v),he=function Oa(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(N(v)){for(var k=[],K=v.length,he=0;he<K;he++)k.push(v[he]);return k}for(he in k=[],K=0,v)k[K++]=v[he];return k}(v),ct=he.length,St=0;St<ct;St++)k.call(void 0,he[St],K&&K[St],v)}Pn.prototype.ca=function(v){v=v.target;const k=this.M;k&&3==Yl(v)?k.j():this.Y(v)},Pn.prototype.Y=function(v){try{if(v==this.g)e:{const Us=Yl(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Us)&&(3!=Us||this.g&&(this.h.h||this.g.oa()||Gv(this.g)))){this.J||4!=Us||7==k||C(),Vo(this);var K=this.g.Z();this.X=K;t:if(bi(this)){var he=Gv(this.g);v="";var ct=he.length,St=4==Yl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),po(this);var yn="";break t}this.h.i=new D.TextDecoder}for(k=0;k<ct;k++)this.h.h=!0,v+=this.h.i.decode(he[k],{stream:!(St&&k==ct-1)});he.length=0,this.h.g+=v,this.C=0,yn=this.h.g}else yn=this.g.oa();if(this.o=200==K,function _t(v,k,K,he,ct,St,yn){v.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+ct+"]: "+k+"\n"+K+"\n"+St+" "+yn})}(this.i,this.u,this.A,this.l,this.R,Us,K),this.o){if(this.T&&!this.K){t:{if(this.g){var Qi,ls=this.g;if((Qi=ls.g?ls.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qn(Qi)){var xi=Qi;break t}}xi=null}if(!(K=xi)){this.o=!1,this.s=3,m(12),wo(this),po(this);break e}wt(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,K)}if(this.P){let Rc;for(K=!0;!this.J&&this.C<yn.length;){if(Rc=Ti(this,yn),Rc==Wi){4==Us&&(this.s=4,m(14),K=!1),wt(this.i,this.l,null,"[Incomplete Response]");break}if(Rc==si){this.s=4,m(15),wt(this.i,this.l,yn,"[Invalid Chunk]"),K=!1;break}wt(this.i,this.l,Rc,null),Ma(this,Rc)}if(bi(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Us||0!=yn.length||this.h.h||(this.s=1,m(16),K=!1),this.o=this.o&&K,K){if(0<yn.length&&!this.W){this.W=!0;var As=this.j;As.g==this&&As.ba&&!As.M&&(As.j.info("Great, no buffering proxy detected. Bytes received: "+yn.length),Nm(As),As.M=!0,m(11))}}else wt(this.i,this.l,yn,"[Invalid Chunked Response]"),wo(this),po(this)}else wt(this.i,this.l,yn,null),Ma(this,yn);4==Us&&wo(this),this.o&&!this.J&&(4==Us?Xv(this.j,this):(this.o=!1,Yi(this)))}else(function Ay(v){const k={};v=(v.g&&2<=Yl(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<v.length;he++){if(Qn(v[he]))continue;var K=ot(v[he]);const ct=K[0];if("string"!=typeof(K=K[1]))continue;K=K.trim();const St=k[ct]||[];k[ct]=St,St.push(K)}!function et(v,k){for(const K in v)k.call(void 0,v[K],K,v)}(k,function(he){return he.join(", ")})})(this.g),400==K&&0<yn.indexOf("Unknown SID")?(this.s=3,m(12)):(this.s=0,m(13)),wo(this),po(this)}}}catch{}},Pn.prototype.cancel=function(){this.J=!0,wo(this)},Pn.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function bn(v,k){v.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(C(),m(17)),wo(this),this.s=2,po(this)):es(this,this.S-v)},uu.prototype.cancel=function(){if(this.i=zh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Ao){this.h=v.h,Ls(this,v.j),this.o=v.o,this.g=v.g,nc(this,v.s),this.l=v.l;var k=v.i,K=new hu;K.i=k.i,k.g&&(K.g=new Map(k.g),K.h=k.h),Xl(this,K),this.m=v.m}else v&&(k=String(v).match(ma))?(this.h=!1,Ls(this,k[1]||"",!0),this.o=rc(k[2]||""),this.g=rc(k[3]||"",!0),nc(this,k[4]),this.l=rc(k[5]||"",!0),Xl(this,k[6]||"",!0),this.m=rc(k[7]||"")):(this.h=!1,this.i=new hu(null,this.h))}function ta(v){return new Ao(v)}function Ls(v,k,K){v.j=K?rc(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function nc(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function Xl(v,k,K){k instanceof hu?(v.i=k,function Pm(v,k){k&&!v.j&&(xc(v),v.i=null,v.g.forEach(function(K,he){var ct=he.toLowerCase();he!=ct&&(up(this,he),lp(this,ct,K))},v)),v.j=k}(v.i,v.h)):(K||(k=Pc(k,Sm)),v.i=new hu(k,v.h))}function wi(v,k,K){v.i.set(k,K)}function du(v){return wi(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function rc(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Pc(v,k,K){return"string"==typeof v?(v=encodeURI(v).replace(k,Bd),K&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Bd(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Ao.prototype.toString=function(){var v=[],k=this.j;k&&v.push(Pc(k,Xu,!0),":");var K=this.g;return(K||"file"==k)&&(v.push("//"),(k=this.o)&&v.push(Pc(k,Xu,!0),"@"),v.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(K=this.s)&&v.push(":",String(K))),(K=this.l)&&(this.g&&"/"!=K.charAt(0)&&v.push("/"),v.push(Pc(K,"/"==K.charAt(0)?Dm:Tg,!0))),(K=this.i.toString())&&v.push("?",K),(K=this.m)&&v.push("#",Pc(K,Yu)),v.join("")};var v,Xu=/[#\/\?@]/g,Tg=/[#\?:]/g,Dm=/[#\?]/g,Sm=/[#\?@]/g,Yu=/#/g;function hu(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function xc(v){v.g||(v.g=new Map,v.h=0,v.i&&function tc(v,k){if(v){v=v.split("&");for(var K=0;K<v.length;K++){var he=v[K].indexOf("="),ct=null;if(0<=he){var St=v[K].substring(0,he);ct=v[K].substring(he+1)}else St=v[K];k(St,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}(v.i,function(k,K){v.add(decodeURIComponent(k.replace(/\+/g," ")),K)}))}function up(v,k){xc(v),k=fu(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function Wh(v,k){return xc(v),k=fu(v,k),v.g.has(k)}function lp(v,k,K){up(v,k),0<K.length&&(v.i=null,v.g.set(fu(v,k),nn(K)),v.h+=K.length)}function fu(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function $d(v,k,K,he,ct){try{ct&&(ct.onload=null,ct.onerror=null,ct.onabort=null,ct.ontimeout=null),he(K)}catch{}}function wy(){this.g=new H_}function IE(v,k,K){const he=K||"";try{Wo(v,function(ct,St){let yn=ct;z(ct)&&(yn=Bh(ct)),k.push(he+St+"="+encodeURIComponent(yn))})}catch(ct){throw k.push(he+"type="+encodeURIComponent("_badmap")),ct}}function wg(v){this.l=v.Ub||null,this.j=v.eb||!1}function W_(v,k){bs.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jv(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Ag(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Dg(v)}function Dg(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function xm(v){let k="";return Qr(v,function(K,he){k+=he,k+=":",k+=K,k+="\r\n"}),k}function Kh(v,k,K){e:{for(he in K){var he=!1;break e}he=!0}he||(K=xm(K),"string"==typeof v?null!=K&&encodeURIComponent(String(K)):wi(v,k,K))}function Do(v){bs.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=hu.prototype).add=function(v,k){xc(this),this.i=null,v=fu(this,v);var K=this.g.get(v);return K||this.g.set(v,K=[]),K.push(k),this.h+=1,this},u.forEach=function(v,k){xc(this),this.g.forEach(function(K,he){K.forEach(function(ct){v.call(k,ct,he,this)},this)},this)},u.na=function(){xc(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),K=[];for(let he=0;he<k.length;he++){const ct=v[he];for(let St=0;St<ct.length;St++)K.push(k[he])}return K},u.V=function(v){xc(this);let k=[];if("string"==typeof v)Wh(this,v)&&(k=k.concat(this.g.get(fu(this,v))));else{v=Array.from(this.g.values());for(let K=0;K<v.length;K++)k=k.concat(v[K])}return k},u.set=function(v,k){return xc(this),this.i=null,Wh(this,v=fu(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},u.get=function(v,k){return v&&0<(v=this.V(v)).length?String(v[0]):k},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var K=0;K<k.length;K++){var he=k[K];const St=encodeURIComponent(String(he)),yn=this.V(he);for(he=0;he<yn.length;he++){var ct=St;""!==yn[he]&&(ct+="="+encodeURIComponent(String(yn[he]))),v.push(ct)}}return this.i=v.join("&")},$t(wg,$h),wg.prototype.g=function(){return new W_(this.l,this.j)},wg.prototype.i=(v={},function(){return v}),$t(W_,bs),(u=W_.prototype).open=function(v,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,Dg(this)},u.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||D).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ag(this)),this.readyState=0},u.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Dg(this)),this.g&&(this.readyState=3,Dg(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jv(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?Ag(this):Dg(this),3==this.readyState&&jv(this)}},u.Ra=function(v){this.g&&(this.response=this.responseText=v,Ag(this))},u.Qa=function(v){this.g&&(this.response=v,Ag(this))},u.ga=function(){this.g&&Ag(this)},u.setRequestHeader=function(v,k){this.u.append(v,k)},u.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var K=k.next();!K.done;)v.push((K=K.value)[0]+": "+K[1]),K=k.next();return v.join("\r\n")},Object.defineProperty(W_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),$t(Do,bs);var Rm=/^https?$/i,Bv=["POST","PUT"];function dp(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,K_(v),Hd(v)}function K_(v){v.A||(v.A=!0,Ts(v,"complete"),Ts(v,"error"))}function $v(v){if(v.h&&typeof y<"u"&&(!v.v[1]||4!=Yl(v)||2!=v.Z()))if(v.u&&4==Yl(v))B_(v.Ea,0,v);else if(Ts(v,"readystatechange"),4==Yl(v)){v.h=!1;try{const yn=v.Z();e:switch(yn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var K;if(!(K=k)){var he;if(he=0===yn){var ct=String(v.D).match(ma)[1]||null;!ct&&D.self&&D.self.location&&(ct=D.self.location.protocol.slice(0,-1)),he=!Rm.test(ct?ct.toLowerCase():"")}K=he}if(K)Ts(v,"complete"),Ts(v,"success");else{v.m=6;try{var St=2<Yl(v)?v.g.statusText:""}catch{St=""}v.l=St+" ["+v.Z()+"]",K_(v)}}finally{Hd(v)}}}function Hd(v,k){if(v.g){Hv(v);const K=v.g,he=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||Ts(v,"ready");try{K.onreadystatechange=he}catch{}}}function Hv(v){v.I&&(D.clearTimeout(v.I),v.I=null)}function Yl(v){return v.g?v.g.readyState:0}function Gv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function qh(v,k,K){return K&&K.internalChannelParams&&K.internalChannelParams[v]||k}function Sg(v){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qh("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qh("baseRetryDelayMs",5e3,v),this.cb=qh("retryDelaySeedMs",1e4,v),this.Wa=qh("forwardChannelMaxRetries",2,v),this.wa=qh("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new uu(v&&v.concurrentRequestLimit),this.Da=new wy,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function hp(v){if(zv(v),3==v.G){var k=v.U++,K=ta(v.I);if(wi(K,"SID",v.K),wi(K,"RID",k),wi(K,"TYPE","terminate"),fp(v,K),(k=new Pn(v,v.j,k)).L=2,k.v=du(ta(K)),K=!1,D.navigator&&D.navigator.sendBeacon)try{K=D.navigator.sendBeacon(k.v.toString(),"")}catch{}!K&&D.Image&&((new Image).src=k.v,K=!0),K||(k.g=Qv(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Yi(k)}Fm(v)}function q_(v){v.g&&(Nm(v),v.g.cancel(),v.g=null)}function zv(v){q_(v),v.u&&(D.clearTimeout(v.u),v.u=null),km(v),v.h.cancel(),v.s&&("number"==typeof v.s&&D.clearTimeout(v.s),v.s=null)}function Mm(v){if(!ql(v.h)&&!v.s){v.s=!0;var k=v.Ga;Jf||mg(),Zf||(Jf(),Zf=!0),L_.add(k,v),v.B=0}}function Wv(v,k){var K;K=k?k.l:v.U++;const he=ta(v.I);wi(he,"SID",v.K),wi(he,"RID",K),wi(he,"AID",v.T),fp(v,he),v.m&&v.o&&Kh(he,v.m,v.o),K=new Pn(v,v.j,K,v.B+1),null===v.m&&(K.H=v.o),k&&(v.i=k.D.concat(v.i)),k=Kv(v,K,1e3),K.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),jd(v.h,K),Jr(K,he,k)}function fp(v,k){v.H&&Qr(v.H,function(K,he){wi(k,he,K)}),v.l&&Wo({},function(K,he){wi(k,he,K)})}function Kv(v,k,K){K=Math.min(v.i.length,K);var he=v.l?ke(v.l.Na,v.l,v):null;e:{var ct=v.i;let St=-1;for(;;){const yn=["count="+K];-1==St?0<K?(St=ct[0].g,yn.push("ofs="+St)):St=0:yn.push("ofs="+St);let Qi=!0;for(let ls=0;ls<K;ls++){let xi=ct[ls].g;const As=ct[ls].map;if(xi-=St,0>xi)St=Math.max(0,ct[ls].g-100),Qi=!1;else try{IE(As,yn,"req"+xi+"_")}catch{he&&he(As)}}if(Qi){he=yn.join("&");break e}}}return v=v.i.splice(0,K),k.D=v,he}function qv(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;Jf||mg(),Zf||(Jf(),Zf=!0),L_.add(k,v),v.v=0}}function Om(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=q(ke(v.Fa,v),Yv(v,v.v)),v.v++,0))}function Nm(v){null!=v.A&&(D.clearTimeout(v.A),v.A=null)}function Y_(v){v.g=new Pn(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var k=ta(v.qa);wi(k,"RID","rpc"),wi(k,"SID",v.K),wi(k,"AID",v.T),wi(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&wi(k,"TO",v.ja),wi(k,"TYPE","xmlhttp"),fp(v,k),v.m&&v.o&&Kh(k,v.m,v.o),v.L&&(v.g.I=v.L);var K=v.g;v=v.ia,K.L=1,K.v=du(ta(k)),K.m=null,K.P=!0,Fr(K,v)}function km(v){null!=v.C&&(D.clearTimeout(v.C),v.C=null)}function Xv(v,k){var K=null;if(v.g==k){km(v),Nm(v),v.g=null;var he=2}else{if(!ga(v.h,k))return;K=k.D,Sc(v.h,k),he=1}if(0!=v.G)if(k.o)if(1==he){K=k.m?k.m.length:0,k=Date.now()-k.F;var ct=v.B;Ts(he=Gh(),new M(he,K)),Mm(v)}else qv(v);else if(3==(ct=k.s)||0==ct&&0<k.X||!(1==he&&function X_(v,k){return!(us(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=k.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=q(ke(v.Ga,v,k),Yv(v,v.B)),v.B++,0)))}(v,k)||2==he&&Om(v)))switch(K&&0<K.length&&(k=v.h,k.i=k.i.concat(K)),ct){case 1:Gd(v,5);break;case 4:Gd(v,10);break;case 3:Gd(v,6);break;default:Gd(v,2)}}function Yv(v,k){let K=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(K*=2),K*k}function Gd(v,k){if(v.j.info("Error code "+k),2==k){var K=ke(v.fb,v),he=v.Xa;const ct=!he;he=new Ao(he||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||Ls(he,"https"),du(he),ct?function z_(v,k){const K=new pe;if(D.Image){const he=new Image;he.onload=ut($d,K,"TestLoadImage: loaded",!0,k,he),he.onerror=ut($d,K,"TestLoadImage: error",!1,k,he),he.onabort=ut($d,K,"TestLoadImage: abort",!1,k,he),he.ontimeout=ut($d,K,"TestLoadImage: timeout",!1,k,he),D.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=v}else k(!1)}(he.toString(),K):function CE(v,k){new pe;const he=new AbortController,ct=setTimeout(()=>{he.abort(),$d(0,0,!1,k)},1e4);fetch(v,{signal:he.signal}).then(St=>{clearTimeout(ct),$d(0,0,!!St.ok,k)}).catch(()=>{clearTimeout(ct),$d(0,0,!1,k)})}(he.toString(),K)}else m(2);v.G=0,v.l&&v.l.sa(k),Fm(v),zv(v)}function Fm(v){if(v.G=0,v.ka=[],v.l){const k=zh(v.h);(0!=k.length||0!=v.i.length)&&(qt(v.ka,k),qt(v.ka,v.i),v.h.i.length=0,nn(v.i),v.i.length=0),v.l.ra()}}function Vm(v,k,K){var he=K instanceof Ao?ta(K):new Ao(K);if(""!=he.g)k&&(he.g=k+"."+he.g),nc(he,he.s);else{var ct=D.location;he=ct.protocol,k=k?k+"."+ct.hostname:ct.hostname,ct=+ct.port;var St=new Ao(null);he&&Ls(St,he),k&&(St.g=k),ct&&nc(St,ct),K&&(St.l=K),he=St}return k=v.ya,(K=v.D)&&k&&wi(he,K,k),wi(he,"VER",v.la),fp(v,he),he}function Qv(v,k,K){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new Do(v.Ca&&!v.pa?new wg({eb:K}):v.pa)).Ha(v.J),k}function Pg(){}function Xh(){}function _a(v,k){bs.call(this),this.g=new Sg(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!Qn(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!Qn(k)&&(this.g.D=k,null!==(v=this.h)&&k in v&&k in(v=this.h)&&delete v[k]),this.j=new pp(this)}function Q_(v){Cg.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const K in k){v=K;break e}v=void 0}(this.i=v)&&(v=this.i,k=null!==k&&v in k?k[v]:void 0),this.data=k}else this.data=v}function Jv(){Ig.call(this),this.status=1}function pp(v){this.g=v}(u=Do.prototype).Ha=function(v){this.J=v},u.ea=function(v,k,K,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=function Uv(v){return v.h||(v.h=v.i())}(this.o?this.o:lr),this.g.onreadystatechange=ke(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(St){return void dp(this,St)}if(v=K||"",K=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var ct in he)K.set(ct,he[ct]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const St of he.keys())K.set(St,he.get(St))}he=Array.from(K.keys()).find(St=>"content-type"==St.toLowerCase()),ct=D.FormData&&v instanceof D.FormData,!(0<=Array.prototype.indexOf.call(Bv,k,void 0))||he||ct||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,yn]of K)this.g.setRequestHeader(St,yn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hv(this),this.u=!0,this.g.send(v),this.u=!1}catch(St){dp(this,St)}},u.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ts(this,"complete"),Ts(this,"abort"),Hd(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hd(this,!0)),Do.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?$v(this):this.bb())},u.bb=function(){$v(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Yl(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&0==k.indexOf(v)&&(k=k.substring(v.length)),cp(k)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=Sg.prototype).la=8,u.G=1,u.connect=function(v,k,K,he){m(0),this.W=v,this.H=k||{},K&&void 0!==he&&(this.H.OSID=K,this.H.OAID=he),this.F=this.X,this.I=Vm(this,null,this.W),Mm(this)},u.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const ct=new Pn(this,this.j,v);let St=this.o;if(this.S&&(St?(St=Re(St),tt(St,this.S)):St=this.S),null!==this.m||this.O||(ct.H=St,St=null),this.P)e:{for(var k=0,K=0;K<this.i.length;K++){var he=this.i[K];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(k+=he)){k=K;break e}if(4096===k||K===this.i.length-1){k=K+1;break e}}k=1e3}else k=1e3;k=Kv(this,ct,k),wi(K=ta(this.I),"RID",v),wi(K,"CVER",22),this.D&&wi(K,"X-HTTP-Session-Id",this.D),fp(this,K),St&&(this.O?k="headers="+encodeURIComponent(String(xm(St)))+"&"+k:this.m&&Kh(K,this.m,St)),jd(this.h,ct),this.Ua&&wi(K,"TYPE","init"),this.P?(wi(K,"$req",k),wi(K,"SID","null"),ct.T=!0,Jr(ct,K,null)):Jr(ct,K,k),this.G=2}}else 3==this.G&&(v?Wv(this,v):0==this.i.length||ql(this.h)||Wv(this))},u.Fa=function(){if(this.u=null,Y_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=q(ke(this.ab,this),v)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,m(10),q_(this),Y_(this))},u.Za=function(){null!=this.C&&(this.C=null,q_(this),Om(this),m(19))},u.fb=function(v){v?(this.j.info("Successfully pinged google.com"),m(2)):(this.j.info("Failed to ping google.com"),m(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Pg.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},Xh.prototype.g=function(v,k){return new _a(v,k)},$t(_a,bs),_a.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_a.prototype.close=function(){hp(this.g)},_a.prototype.o=function(v){var k=this.g;if("string"==typeof v){var K={};K.__data__=v,v=K}else this.u&&((K={}).__data__=Bh(v),v=K);k.i.push(new class{constructor(v,k){this.g=v,this.map=k}}(k.Ya++,v)),3==k.G&&Mm(k)},_a.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,_a.aa.N.call(this)},$t(Q_,Cg),$t(Jv,Ig),$t(pp,Pg),pp.prototype.ua=function(){Ts(this.g,"a")},pp.prototype.ta=function(v){Ts(this.g,new Q_(v))},pp.prototype.sa=function(v){Ts(this.g,new Jv)},pp.prototype.ra=function(){Ts(this.g,"b")},Xh.prototype.createWebChannel=Xh.prototype.g,_a.prototype.send=_a.prototype.o,_a.prototype.open=_a.prototype.m,_a.prototype.close=_a.prototype.close,Je=ce.createWebChannelTransport=function(){return new Xh},an=ce.getStatEventTarget=function(){return Gh()},xt=ce.Event=Kl,jt=ce.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,vt=ce.ErrorCode=Jn,ar.COMPLETE="complete",yt=ce.EventType=ar,G_.EventType=Hh,Hh.OPEN="a",Hh.CLOSE="b",Hh.ERROR="c",Hh.MESSAGE="d",bs.prototype.listen=bs.prototype.K,qe=ce.WebChannel=G_,st=ce.FetchXmlHttpFactory=wg,Do.prototype.listenOnce=Do.prototype.L,Do.prototype.getLastError=Do.prototype.Ka,Do.prototype.getLastErrorCode=Do.prototype.Ba,Do.prototype.getStatus=Do.prototype.Z,Do.prototype.getResponseJson=Do.prototype.Oa,Do.prototype.getResponseText=Do.prototype.oa,Do.prototype.send=Do.prototype.ea,Do.prototype.setWithCredentials=Do.prototype.Ha,ge=ce.XhrIo=Do}).apply(typeof te<"u"?te:typeof self<"u"?self:typeof window<"u"?window:{});const ze="@firebase/firestore";class it{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");let Ye="10.12.1";const nt=new be.Vy("@firebase/firestore");function Tt(){return nt.logLevel}function Ft(u){nt.setLogLevel(u)}function Ce(u,...e){if(nt.logLevel<=be.$b.DEBUG){const r=e.map(nr);nt.debug(`Firestore (${Ye}): ${u}`,...r)}}function Yt(u,...e){if(nt.logLevel<=be.$b.ERROR){const r=e.map(nr);nt.error(`Firestore (${Ye}): ${u}`,...r)}}function ln(u,...e){if(nt.logLevel<=be.$b.WARN){const r=e.map(nr);nt.warn(`Firestore (${Ye}): ${u}`,...r)}}function nr(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Pt(u="Unexpected state"){const e=`FIRESTORE (${Ye}) INTERNAL ASSERTION FAILED: `+u;throw Yt(e),new Error(e)}function Bt(u,e){u||Pt()}function Wt(u,e){u||Pt()}function at(u,e){return u}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ve.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Me{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Xe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Te{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(it.UNAUTHENTICATED))}shutdown(){}}class De{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class He{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const p=z=>this.i!==l?(l=this.i,r(z)):Promise.resolve();let y=new Me;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Me,e.enqueueRetryable(()=>p(this.currentUser))};const D=()=>{const z=y;e.enqueueRetryable((0,c.A)(function*(){yield z.promise,yield p(s.currentUser)}))},N=z=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(z=>N(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?N(z):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Me)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt("string"==typeof s.accessToken),new Xe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new it(e)}}class bt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class At{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new bt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class en{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=p=>{null!=p.error&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const y=p.token!==this.R;return this.R=p.token,Ce("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const l=p=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>l(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?l(p):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Bt("string"==typeof r.token),this.R=r.token,new dn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function En(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<u;s++)r[s]=Math.floor(256*Math.random());return r}class dr{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=En(40);for(let p=0;p<l.length;++p)s.length<20&&l[p]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[p]%62))}return s}}function Ht(u,e){return u<e?-1:u>e?1:0}function Tn(u,e,r){return u.length===e.length&&u.every((s,l)=>r(s,e[l]))}function jn(u){return u+"\0"}class zt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new de(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new de(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new de(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new zt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new zt(0,0))}static max(){return new Vt(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vr{constructor(e,r,s){void 0===r?r=0:r>e.length&&Pt(),void 0===s?s=e.length-r:s>e.length-r&&Pt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Vr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const p=e.get(l),y=r.get(l);if(p<y)return-1;if(p>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class hn extends Vr{construct(e,r,s){return new hn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(Pe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new hn(r)}static emptyPath(){return new hn([])}}const yr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Vr{construct(e,r,s){return new Gn(e,r,s)}static isValidIdentifier(e){return yr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const p=()=>{if(0===s.length)throw new de(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let y=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new de(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[l+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new de(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,l+=2}else"`"===D?(y=!y,l++):"."!==D||y?(s+=D,l++):(p(),l++)}if(p(),y)throw new de(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(r)}static emptyPath(){return new Gn([])}}class Lt{constructor(e){this.path=e}static fromPath(e){return new Lt(hn.fromString(e))}static fromName(e){return new Lt(hn.fromString(e).popFirst(5))}static empty(){return new Lt(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return hn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lt(new hn(e.slice()))}}class gn{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function xn(u){return u.fields.find(e=>2===e.kind)}function Cn(u){return u.fields.filter(e=>2!==e.kind)}gn.UNKNOWN_ID=-1;class Er{constructor(e,r){this.fieldPath=e,this.kind=r}}class Bn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Bn(0,cn.min())}}function ei(u,e){const r=u.toTimestamp().seconds,s=u.toTimestamp().nanoseconds+1,l=Vt.fromTimestamp(1e9===s?new zt(r+1,0):new zt(r,s));return new cn(l,Lt.empty(),e)}function Ki(u){return new cn(u.readTime,u.key,-1)}class cn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new cn(Vt.min(),Lt.empty(),-1)}static max(){return new cn(Vt.max(),Lt.empty(),-1)}}function ti(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=Lt.comparator(u.documentKey,e.documentKey),0!==r?r:Ht(u.largestBatchId,e.largestBatchId))}const Xn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _r{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mn(u){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.A)(function*(u){if(u.code!==Pe.FAILED_PRECONDITION||u.message!==Xn)throw u;Ce("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new We((s,l)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,l)},this.catchCallback=p=>{this.wrapFailure(r,p).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof We?r:We.resolve(r)}catch(r){return We.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):We.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):We.reject(r)}static resolve(e){return new We((r,s)=>{r(e)})}static reject(e){return new We((r,s)=>{s(e)})}static waitFor(e){return new We((r,s)=>{let l=0,p=0,y=!1;e.forEach(D=>{++l,D.next(()=>{++p,y&&p===l&&r()},N=>s(N))}),y=!0,p===l&&r()})}static or(e){let r=We.resolve(!1);for(const s of e)r=r.next(l=>l?We.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,p)=>{s.push(r.call(this,l,p))}),this.waitFor(s)}static mapArray(e,r){return new We((s,l)=>{const p=e.length,y=new Array(p);let D=0;for(let N=0;N<p;N++){const z=N;r(e[z]).next(ie=>{y[z]=ie,++D,D===p&&s(y)},ie=>l(ie))}})}static doWhile(e,r){return new We((s,l)=>{const p=()=>{!0===e()?r().next(()=>{p()},l):s()};p()})}}class pt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Me,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Ae(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=ee(s.target.error);this.V.reject(new Ae(e,l))}}static open(e,r,s,l){try{return new pt(r,e.transaction(l,s))}catch(p){throw new Ae(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Mt(r)}}class oe{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===oe.S((0,ve.ZQ)())&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ce("SimpleDb","Removing database:",e),Fn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ve.zW)())return!1;if(oe.C())return!0;const e=(0,ve.ZQ)(),r=oe.S(e),s=0<r&&r<10,l=J(e),p=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,c.A)(function*(){return r.db||(Ce("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=y=>{s(y.target.result)},p.onblocked=()=>{l(new Ae(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=y=>{const D=y.target.error;l("VersionError"===D.name?new de(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new de(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Ae(e,D))},p.onupgradeneeded=y=>{Ce("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.O(y.target.result,p.transaction,y.oldVersion,r.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var p=this;return(0,c.A)(function*(){const y="readonly"===r;let D=0;for(;;){++D;try{p.db=yield p.M(e);const N=pt.open(p.db,e,y?"readonly":"readwrite",s),z=l(N).next(ie=>(N.g(),ie)).catch(ie=>(N.abort(ie),We.reject(ie))).toPromise();return z.catch(()=>{}),yield N.m,z}catch(N){const z=N,ie="FirebaseError"!==z.name&&D<3;if(Ce("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ie),p.close(),!ie)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function J(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Le{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Fn(this.B.delete())}}class Ae extends de{constructor(e,r){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ct(u){return"IndexedDbTransactionError"===u.name}class Mt{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(Ce("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Fn(s)}add(e){return Ce("SimpleDb","ADD",this.store.name,e,e),Fn(this.store.add(e))}get(e){return Fn(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ce("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ce("SimpleDb","DELETE",this.store.name,e),Fn(this.store.delete(e))}count(){return Ce("SimpleDb","COUNT",this.store.name),Fn(this.store.count())}U(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const p=l.getAll(s.range);return new We((y,D)=>{p.onerror=N=>{D(N.target.error)},p.onsuccess=N=>{y(N.target.result)}})}{const p=this.cursor(s),y=[];return this.W(p,(D,N)=>{y.push(N)}).next(()=>y)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new We((l,p)=>{s.onerror=y=>{p(y.target.error)},s.onsuccess=y=>{l(y.target.result)}})}j(e,r){Ce("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const l=this.cursor(s);return this.W(l,(p,y,D)=>D.delete())}J(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.W(l,r)}Y(e){const r=this.cursor({});return new We((s,l)=>{r.onerror=p=>{const y=ee(p.target.error);l(y)},r.onsuccess=p=>{const y=p.target.result;y?e(y.primaryKey,y.value).next(D=>{D?y.continue():s()}):s()}})}W(e,r){const s=[];return new We((l,p)=>{e.onerror=y=>{p(y.target.error)},e.onsuccess=y=>{const D=y.target.result;if(!D)return void l();const N=new Le(D),z=r(D.primaryKey,D.value,N);if(z instanceof We){const ie=z.catch(fe=>(N.done(),We.reject(fe)));s.push(ie)}N.isDone?l():null===N.K?D.continue():D.continue(N.K)}}).next(()=>We.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Fn(u){return new We((e,r)=>{u.onsuccess=s=>{e(s.target.result)},u.onerror=s=>{const l=ee(s.target.error);r(l)}})}let xe=!1;function ee(u){const e=oe.S((0,ve.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const s=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xe||(xe=!0,setTimeout(()=>{throw s},0)),s}}return u}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ce("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.A)(function*(){r.task=null;try{Ce("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Ct(s)?Ce("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Mn(s)}yield r.X(6e4)}))}}class V{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let l=r,p=!0;return We.doWhile(()=>!0===p&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return Ce("IndexBackfiller",`Processing collection: ${y}`),this.ne(e,y,l).next(D=>{l-=D,s.add(y)});p=!1})).next(()=>r-l)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(p=>{const y=p.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.re(l,p)).next(D=>(Ce("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>y.size)}))}re(e,r){let s=e;return r.changes.forEach((l,p)=>{const y=Ki(p);ti(y,s)>0&&(s=y)}),new cn(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class u{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function le(u){return null==u}function Ve(u){return 0===u&&1/u==-1/0}function It(u){return"number"==typeof u&&Number.isInteger(u)&&!Ve(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Nt(u){let e="";for(let r=0;r<u.length;r++)e.length>0&&(e=on(e)),e=pn(u.get(r),e);return on(e)}function pn(u,e){let r=e;const s=u.length;for(let l=0;l<s;l++){const p=u.charAt(l);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function on(u){return u+"\x01\x01"}function un(u){const e=u.length;if(Bt(e>=2),2===e)return Bt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),hn.emptyPath();const r=e-2,s=[];let l="";for(let p=0;p<e;){const y=u.indexOf("\x01",p);switch((y<0||y>r)&&Pt(),u.charAt(y+1)){case"\x01":const D=u.substring(p,y);let N;0===l.length?N=D:(l+=D,N=l,l=""),s.push(N);break;case"\x10":l+=u.substring(p,y),l+="\0";break;case"\x11":l+=u.substring(p,y+1);break;default:Pt()}p=y+2}return new hn(s)}const ir=["userId","batchId"];function An(u,e){return[u,Nt(e)]}function vi(u,e,r){return[u,Nt(e),r]}const Tr={},Ko=["prefixPath","collectionGroup","readTime","documentId"],di=["prefixPath","collectionGroup","documentId"],Ji=["collectionGroup","readTime","prefixPath","documentId"],Li=["canonicalId","targetId"],ai=["targetId","path"],or=["path","targetId"],dt=["collectionId","parent"],Ze=["indexId","uid"],Dt=["uid","sequenceNumber"],fn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rn=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],Nn=["userId","collectionPath","largestBatchId"],Br=["userId","collectionGroup","largestBatchId"],Nr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ri=[...Nr,"documentOverlays"],qo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pr=qo,ds=[...Pr,"indexConfiguration","indexState","indexEntries"],Mi=ds;class hs extends _r{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function yi(u,e){const r=at(u);return oe.F(r._e,e)}function va(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function So(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function Bi(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class vr{constructor(e,r){this.comparator=e,this.root=r||Lr.EMPTY}insert(e,r){return new vr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ns(this.root,e,this.comparator,!0)}}class ns{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?s(e.key,r):1,r&&l&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,r,s,l,p){this.key=e,this.value=r,this.color=s??Lr.RED,this.left=l??Lr.EMPTY,this.right=p??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,p){return new Lr(e??this.key,r??this.value,s??this.color,l??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const p=s(e,l.key);return l=p<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===p?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Lr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,r,s,l,p){return this}insert(e,r,s){return new Lr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Lo(this.data.getIterator())}getIteratorFrom(e){return new Lo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,p=s.getNext().key;if(0!==this.comparator(l,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new xr(this.comparator);return r.data=e,r}}class Lo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zi(u){return u.hasNext()?u.getNext():void 0}class qi{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new qi([])}unionWith(e){let r=new xr(Gn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new qi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Tn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class oo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function na(){return typeof atob<"u"}class Oi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new oo("Invalid base64 string: "+p):p}}(e);return new Oi(r)}static fromUint8Array(e){const r=function(l){let p="";for(let y=0;y<l.length;++y)p+=String.fromCharCode(l[y]);return p}(e);return new Oi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const Na=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(u){if(Bt(!!u),"string"==typeof u){let e=0;const r=Na.exec(u);if(Bt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(u);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fi(u.seconds),nanos:fi(u.nanos)}}function fi(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function so(u){return"string"==typeof u?Oi.fromBase64String(u):Oi.fromUint8Array(u)}function ts(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function fs(u){const e=u.mapValue.fields.__previous_value__;return ts(e)?fs(e):e}function yo(u){const e=vo(u.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}class ps{constructor(e,r,s,l,p,y,D,N,z){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=p,this.forceLongPolling=y,this.autoDetectLongPolling=D,this.longPollingOptions=N,this.useFetchStreams=z}}class Yn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Yn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yn&&e.projectId===this.projectId&&e.database===this.database}}const fr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ar={nullValue:"NULL_VALUE"};function ci(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?ts(u)?4:Hr(u)?9007199254740991:10:Pt()}function Zn(u,e){if(u===e)return!0;const r=ci(u);if(r!==ci(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return yo(u).isEqual(yo(e));case 3:return function(l,p){if("string"==typeof l.timestampValue&&"string"==typeof p.timestampValue&&l.timestampValue.length===p.timestampValue.length)return l.timestampValue===p.timestampValue;const y=vo(l.timestampValue),D=vo(p.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return p=e,so(u.bytesValue).isEqual(so(p.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(l,p){return fi(l.geoPointValue.latitude)===fi(p.geoPointValue.latitude)&&fi(l.geoPointValue.longitude)===fi(p.geoPointValue.longitude)}(u,e);case 2:return function(l,p){if("integerValue"in l&&"integerValue"in p)return fi(l.integerValue)===fi(p.integerValue);if("doubleValue"in l&&"doubleValue"in p){const y=fi(l.doubleValue),D=fi(p.doubleValue);return y===D?Ve(y)===Ve(D):isNaN(y)&&isNaN(D)}return!1}(u,e);case 9:return Tn(u.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:return function(l,p){const y=l.mapValue.fields||{},D=p.mapValue.fields||{};if(va(y)!==va(D))return!1;for(const N in y)if(y.hasOwnProperty(N)&&(void 0===D[N]||!Zn(y[N],D[N])))return!1;return!0}(u,e);default:return Pt()}var p}function Po(u,e){return void 0!==(u.values||[]).find(r=>Zn(r,e))}function Ui(u,e){if(u===e)return 0;const r=ci(u),s=ci(e);if(r!==s)return Ht(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ht(u.booleanValue,e.booleanValue);case 2:return function(p,y){const D=fi(p.integerValue||p.doubleValue),N=fi(y.integerValue||y.doubleValue);return D<N?-1:D>N?1:D===N?0:isNaN(D)?isNaN(N)?0:-1:1}(u,e);case 3:return ao(u.timestampValue,e.timestampValue);case 4:return ao(yo(u),yo(e));case 5:return Ht(u.stringValue,e.stringValue);case 6:return function(p,y){const D=so(p),N=so(y);return D.compareTo(N)}(u.bytesValue,e.bytesValue);case 7:return function(p,y){const D=p.split("/"),N=y.split("/");for(let z=0;z<D.length&&z<N.length;z++){const ie=Ht(D[z],N[z]);if(0!==ie)return ie}return Ht(D.length,N.length)}(u.referenceValue,e.referenceValue);case 8:return function(p,y){const D=Ht(fi(p.latitude),fi(y.latitude));return 0!==D?D:Ht(fi(p.longitude),fi(y.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return function(p,y){const D=p.values||[],N=y.values||[];for(let z=0;z<D.length&&z<N.length;++z){const ie=Ui(D[z],N[z]);if(ie)return ie}return Ht(D.length,N.length)}(u.arrayValue,e.arrayValue);case 10:return function(p,y){if(p===fr.mapValue&&y===fr.mapValue)return 0;if(p===fr.mapValue)return 1;if(y===fr.mapValue)return-1;const D=p.fields||{},N=Object.keys(D),z=y.fields||{},ie=Object.keys(z);N.sort(),ie.sort();for(let fe=0;fe<N.length&&fe<ie.length;++fe){const ke=Ht(N[fe],ie[fe]);if(0!==ke)return ke;const ut=Ui(D[N[fe]],z[ie[fe]]);if(0!==ut)return ut}return Ht(N.length,ie.length)}(u.mapValue,e.mapValue);default:throw Pt()}}function ao(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return Ht(u,e);const r=vo(u),s=vo(e),l=Ht(r.seconds,s.seconds);return 0!==l?l:Ht(r.nanos,s.nanos)}function Di(u){return co(u)}function co(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const s=vo(r);return`time(${s.seconds},${s.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?so(u.bytesValue).toBase64():"referenceValue"in u?Lt.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let s="[",l=!0;for(const p of r.values||[])l?l=!1:s+=",",s+=co(p);return s+"]"}(u.arrayValue):"mapValue"in u?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",p=!0;for(const y of s)p?p=!1:l+=",",l+=`${y}:${co(r.fields[y])}`;return l+"}"}(u.mapValue):Pt()}function Qt(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function zn(u){return!!u&&"integerValue"in u}function cr(u){return!!u&&"arrayValue"in u}function ki(u){return!!u&&"nullValue"in u}function xo(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function hi(u){return!!u&&"mapValue"in u}function Eo(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return So(u.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Eo(s)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Eo(u.arrayValue.values[r]);return e}return Object.assign({},u)}function Hr(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ro(u){return"nullValue"in u?Ar:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Qt(Yn.empty(),Lt.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:Pt()}function Mo(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Qt(Yn.empty(),Lt.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?fr:Pt()}function Wn(u,e){const r=Ui(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function go(u,e){const r=Ui(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!hi(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(r)}setAll(e){let r=Gn.emptyPath(),s={},l=[];e.forEach((y,D)=>{if(!r.isImmediateParentOf(D)){const N=this.getFieldsMap(r);this.applyChanges(N,s,l),s={},l=[],r=D.popLast()}y?s[D.lastSegment()]=Eo(y):l.push(D.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,s,l)}delete(e){const r=this.field(e.popLast());hi(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];hi(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){So(r,(l,p)=>e[l]=p);for(const l of s)delete e[l]}clone(){return new pi(Eo(this.value))}}function Q(u){const e=[];return So(u.fields,(r,s)=>{const l=new Gn([r]);if(hi(s)){const p=Q(s.mapValue).fields;if(0===p.length)e.push(l);else for(const y of p)e.push(l.child(y))}else e.push(l)}),new qi(e)}class H{constructor(e,r,s,l,p,y,D){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=p,this.data=y,this.documentState=D}static newInvalidDocument(e){return new H(e,0,Vt.min(),Vt.min(),Vt.min(),pi.empty(),0)}static newFoundDocument(e,r,s,l){return new H(e,1,r,Vt.min(),s,l,0)}static newNoDocument(e,r){return new H(e,2,r,Vt.min(),Vt.min(),pi.empty(),0)}static newUnknownDocument(e,r){return new H(e,3,r,Vt.min(),Vt.min(),pi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof H&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new H(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _e{constructor(e,r){this.position=e,this.inclusive=r}}function we(u,e,r){let s=0;for(let l=0;l<u.position.length;l++){const p=e[l],y=u.position[l];if(s=p.field.isKeyField()?Lt.comparator(Lt.fromName(y.referenceValue),r.key):Ui(y,r.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Be(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!Zn(u.position[r],e.position[r]))return!1;return!0}class Et{constructor(e,r="asc"){this.field=e,this.dir=r}}function Jt(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class _n{}class kt extends _n{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Ei(e,r,s):"array-contains"===r?new kr(e,s):"in"===r?new gs(e,s):"not-in"===r?new Fi(e,s):"array-contains-any"===r?new Ds(e,s):new kt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new pr(e,s):new ii(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Ui(r,this.value)):null!==r&&ci(this.value)===ci(r)&&this.matchesComparison(Ui(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tn extends _n{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new tn(e,r)}matches(e){return Kn(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kn(u){return"and"===u.op}function Dn(u){return"or"===u.op}function ni(u){return ri(u)&&Kn(u)}function ri(u){for(const e of u.filters)if(e instanceof tn)return!1;return!0}function gi(u){if(u instanceof kt)return u.field.canonicalString()+u.op.toString()+Di(u.value);if(ni(u))return u.filters.map(e=>gi(e)).join(",");{const e=u.filters.map(r=>gi(r)).join(",");return`${u.op}(${e})`}}function Kr(u,e){return u instanceof kt?(s=u,(l=e)instanceof kt&&s.op===l.op&&s.field.isEqual(l.field)&&Zn(s.value,l.value)):u instanceof tn?function(s,l){return l instanceof tn&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((p,y,D)=>p&&Kr(y,l.filters[D]),!0)}(u,e):void Pt();var s,l}function qr(u,e){const r=u.filters.concat(e);return tn.create(r,u.op)}function eo(u){return u instanceof kt?`${(r=u).field.canonicalString()} ${r.op} ${Di(r.value)}`:u instanceof tn?function(r){return r.op.toString()+" {"+r.getFilters().map(eo).join(" ,")+"}"}(u):"Filter";var r}class Ei extends kt{constructor(e,r,s){super(e,r,s),this.key=Lt.fromName(s.referenceValue)}matches(e){const r=Lt.comparator(e.key,this.key);return this.matchesComparison(r)}}class pr extends kt{constructor(e,r){super(e,"in",r),this.keys=Xr(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ii extends kt{constructor(e,r){super(e,"not-in",r),this.keys=Xr(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Xr(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Lt.fromName(s.referenceValue))}class kr extends kt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return cr(r)&&Po(r.arrayValue,this.value)}}class gs extends kt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Po(this.value.arrayValue,r)}}class Fi extends kt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Po(this.value.arrayValue,r)}}class Ds extends kt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!cr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Po(this.value.arrayValue,s))}}class $i{constructor(e,r=null,s=[],l=[],p=null,y=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=p,this.startAt=y,this.endAt=D,this.ue=null}}function ya(u,e=null,r=[],s=[],l=null,p=null,y=null){return new $i(u,e,r,s,l,p,y)}function Oo(u){const e=at(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>gi(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),le(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Di(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Di(s)).join(",")),e.ue=r}return e.ue}function rs(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!Jt(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!Kr(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Be(u.startAt,e.startAt)&&Be(u.endAt,e.endAt)}function ka(u){return Lt.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function ra(u,e){return u.filters.filter(r=>r instanceof kt&&r.field.isEqual(e))}function Hi(u,e,r){let s=Ar,l=!0;for(const p of ra(u,e)){let y=Ar,D=!0;switch(p.op){case"<":case"<=":y=Ro(p.value);break;case"==":case"in":case">=":y=p.value;break;case">":y=p.value,D=!1;break;case"!=":case"not-in":y=Ar}Wn({value:s,inclusive:l},{value:y,inclusive:D})<0&&(s=y,l=D)}if(null!==r)for(let p=0;p<u.orderBy.length;++p)if(u.orderBy[p].field.isEqual(e)){const y=r.position[p];Wn({value:s,inclusive:l},{value:y,inclusive:r.inclusive})<0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}function Bs(u,e,r){let s=fr,l=!0;for(const p of ra(u,e)){let y=fr,D=!0;switch(p.op){case">=":case">":y=Mo(p.value),D=!1;break;case"==":case"in":case"<=":y=p.value;break;case"<":y=p.value,D=!1;break;case"!=":case"not-in":y=fr}go({value:s,inclusive:l},{value:y,inclusive:D})>0&&(s=y,l=D)}if(null!==r)for(let p=0;p<u.orderBy.length;++p)if(u.orderBy[p].field.isEqual(e)){const y=r.position[p];go({value:s,inclusive:l},{value:y,inclusive:r.inclusive})>0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}class Ss{constructor(e,r=null,s=[],l=[],p=null,y="F",D=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=p,this.limitType=y,this.startAt=D,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function $s(u,e,r,s,l,p,y,D){return new Ss(u,e,r,s,l,p,y,D)}function Gr(u){return new Ss(u)}function ia(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function Fa(u){return null!==u.collectionGroup}function G(u){const e=at(u);if(null===e.ce){e.ce=[];const r=new Set;for(const p of e.explicitOrderBy)e.ce.push(p),r.add(p.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let D=new xr(Gn.comparator);return y.filters.forEach(N=>{N.getFlattenedFilters().forEach(z=>{z.isInequality()&&(D=D.add(z.field))})}),D})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.ce.push(new Et(p,s))}),r.has(Gn.keyField().canonicalString())||e.ce.push(new Et(Gn.keyField(),s))}return e.ce}function X(u){const e=at(u);return e.le||(e.le=function se(u,e){if("F"===u.limitType)return ya(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(l=>new Et(l.field,"desc"===l.dir?"asc":"desc"));const r=u.endAt?new _e(u.endAt.position,u.endAt.inclusive):null,s=u.startAt?new _e(u.startAt.position,u.startAt.inclusive):null;return ya(u.path,u.collectionGroup,e,u.filters,u.limit,r,s)}}(e,G(u))),e.le}function Oe(u,e){const r=u.filters.concat([e]);return new Ss(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function vn(u,e,r){return new Ss(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function $n(u,e){return rs(X(u),X(e))&&u.limitType===e.limitType}function to(u){return`${Oo(X(u))}|lt:${u.limitType}`}function mo(u){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>eo(l)).join(", ")}]`),le(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(y=l).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Di(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Di(l)).join(",")),`Target(${s})`}(X(u))}; limitType=${u.limitType})`}function Gi(u,e){return e.isFoundDocument()&&function(s,l){const p=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):Lt.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(u,e)&&function(s,l){for(const p of G(s))if(!p.field.isKeyField()&&null===l.data.field(p.field))return!1;return!0}(u,e)&&function(s,l){for(const p of s.filters)if(!p.matches(l))return!1;return!0}(u,e)&&(l=e,!((s=u).startAt&&!function(y,D,N){const z=we(y,D,N);return y.inclusive?z<=0:z<0}(s.startAt,G(s),l)||s.endAt&&!function(y,D,N){const z=we(y,D,N);return y.inclusive?z>=0:z>0}(s.endAt,G(s),l)));var s,l}function is(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Uo(u){return(e,r)=>{let s=!1;for(const l of G(u)){const p=Xo(l,e,r);if(0!==p)return p;s=s||l.field.isKeyField()}return 0}}function Xo(u,e,r){const s=u.field.isKeyField()?Lt.comparator(e.key,r.key):function(p,y,D){const N=y.data.field(p),z=D.data.field(p);return null!==N&&null!==z?Ui(N,z):Pt()}(u.field,e,r);switch(u.dir){case"asc":return s;case"desc":return-1*s;default:return Pt()}}class Co{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,p]of s)if(this.equalsFn(l,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return void(l[p]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(r,s)=>{for(const[l,p]of s)e(l,p)})}isEmpty(){return Bi(this.inner)}size(){return this.innerSize}}const Qu=new vr(Lt.comparator);function Ur(){return Qu}const Hs=new vr(Lt.comparator);function no(...u){let e=Hs;for(const r of u)e=e.insert(r.key,r);return e}function kc(u){let e=Hs;return u.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Yo(){return Qo()}function oa(){return Qo()}function Qo(){return new Co(u=>u.toString(),(u,e)=>u.isEqual(e))}const ms=new vr(Lt.comparator),Ps=new xr(Lt.comparator);function sr(...u){let e=Ps;for(const r of u)e=e.add(r);return e}const oc=new xr(Ht);function sc(){return oc}function Va(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ve(e)?"-0":e}}function La(u){return{integerValue:""+u}}function Ea(u,e){return It(e)?La(e):Va(u,e)}class os{constructor(){this._=void 0}}function Gs(u,e,r){return u instanceof cc?function(l,p){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return p&&ts(p)&&(p=fs(p)),p&&(y.fields.__previous_value__=p),{mapValue:y}}(r,e):u instanceof xs?uc(u,e):u instanceof zs?Ju(u,e):function(l,p){const y=ac(l,p),D=Ua(y)+Ua(l.Pe);return zn(y)&&zn(l.Pe)?La(D):Va(l.serializer,D)}(u,e)}function Fc(u,e,r){return u instanceof xs?uc(u,e):u instanceof zs?Ju(u,e):r}function ac(u,e){return u instanceof Ca?zn(s=e)||(p=s)&&"doubleValue"in p?e:{integerValue:0}:null;var s,p}class cc extends os{}class xs extends os{constructor(e){super(),this.elements=e}}function uc(u,e){const r=Zu(e);for(const s of u.elements)r.some(l=>Zn(l,s))||r.push(s);return{arrayValue:{values:r}}}class zs extends os{constructor(e){super(),this.elements=e}}function Ju(u,e){let r=Zu(e);for(const s of u.elements)r=r.filter(l=>!Zn(l,s));return{arrayValue:{values:r}}}class Ca extends os{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ua(u){return fi(u.integerValue||u.doubleValue)}function Zu(u){return cr(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class Ia{constructor(e,r){this.field=e,this.transform=r}}class gu{constructor(e,r){this.version=e,this.transformResults=r}}class Ii{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function S(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class Z{}function U(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new mi(u.key,Ii.none()):new In(u.key,u.data,Ii.none());{const r=u.data,s=pi.empty();let l=new xr(Gn.comparator);for(let p of e.fields)if(!l.has(p)){let y=r.field(p);null===y&&p.length>1&&(p=p.popLast(),y=r.field(p)),null===y?s.delete(p):s.set(p,y),l=l.add(p)}return new Rr(u.key,s,new qi(l.toArray()),Ii.none())}}function Y(u,e,r){u instanceof In?function(l,p,y){const D=l.value.clone(),N=jr(l.fieldTransforms,p,y.transformResults);D.setAll(N),p.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(u,e,r):u instanceof Rr?function(l,p,y){if(!S(l.precondition,p))return void p.convertToUnknownDocument(y.version);const D=jr(l.fieldTransforms,p,y.transformResults),N=p.data;N.setAll(Cr(l)),N.setAll(D),p.convertToFoundDocument(y.version,N).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Ie(u,e,r,s){return u instanceof In?function(p,y,D,N){if(!S(p.precondition,y))return D;const z=p.value.clone(),ie=Ir(p.fieldTransforms,N,y);return z.setAll(ie),y.convertToFoundDocument(y.version,z).setHasLocalMutations(),null}(u,e,r,s):u instanceof Rr?function(p,y,D,N){if(!S(p.precondition,y))return D;const z=Ir(p.fieldTransforms,N,y),ie=y.data;return ie.setAll(Cr(p)),ie.setAll(z),y.convertToFoundDocument(y.version,ie).setHasLocalMutations(),null===D?null:D.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(fe=>fe.field))}(u,e,r,s):(D=r,S(u.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):D);var y,D}function mt(u,e){let r=null;for(const s of u.fieldTransforms){const l=e.data.field(s.field),p=ac(s.transform,l||null);null!=p&&(null===r&&(r=pi.empty()),r.set(s.field,p))}return r||null}function Rt(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=u.fieldTransforms)&&void 0===l||s&&l&&Tn(s,l,(p,y)=>function pu(u,e){return u.field.isEqual(e.field)&&(l=e.transform,(s=u.transform)instanceof xs&&l instanceof xs||s instanceof zs&&l instanceof zs?Tn(s.elements,l.elements,Zn):s instanceof Ca&&l instanceof Ca?Zn(s.Pe,l.Pe):s instanceof cc&&l instanceof cc);var s,l}(p,y))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var s,l}class In extends Z{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rr extends Z{constructor(e,r,s,l,p=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Cr(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=u.data.field(r);e.set(r,s)}}),e}function jr(u,e,r){const s=new Map;Bt(u.length===r.length);for(let l=0;l<r.length;l++){const p=u[l],y=p.transform,D=e.data.field(p.field);s.set(p.field,Fc(y,D,r[l]))}return s}function Ir(u,e,r){const s=new Map;for(const l of u){const p=l.transform,y=r.data.field(l.field);s.set(l.field,Gs(p,y,e))}return s}class mi extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yr extends Z{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ni{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const p=this.mutations[l];p.key.isEqual(e.key)&&Y(p,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ie(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ie(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=oa();return this.mutations.forEach(l=>{const p=e.get(l.key),y=p.overlayedDocument;let D=this.applyToLocalView(y,p.mutatedFields);D=r.has(l.key)?null:D;const N=U(y,D);null!==N&&s.set(l.key,N),y.isValidDocument()||y.convertToNoDocument(Vt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),sr())}isEqual(e){return this.batchId===e.batchId&&Tn(this.mutations,e.mutations,(r,s)=>Rt(r,s))&&Tn(this.baseMutations,e.baseMutations,(r,s)=>Rt(r,s))}}class _o{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Bt(e.mutations.length===s.length);let l=ms;const p=e.mutations;for(let y=0;y<p.length;y++)l=l.insert(p[y].key,s[y].version);return new _o(e,r,s,l)}}class jo{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bo{constructor(e,r){this.count=e,this.unchangedNames=r}}var zr,Ln;function Io(u){switch(u){default:return Pt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function aa(u){if(void 0===u)return Yt("GRPC error has no .code"),Pe.UNKNOWN;switch(u){case zr.OK:return Pe.OK;case zr.CANCELLED:return Pe.CANCELLED;case zr.UNKNOWN:return Pe.UNKNOWN;case zr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case zr.INTERNAL:return Pe.INTERNAL;case zr.UNAVAILABLE:return Pe.UNAVAILABLE;case zr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case zr.NOT_FOUND:return Pe.NOT_FOUND;case zr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case zr.ABORTED:return Pe.ABORTED;case zr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case zr.DATA_LOSS:return Pe.DATA_LOSS;default:return Pt()}}(Ln=zr||(zr={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";function Ws(){return new TextEncoder}const Rs=new Fe([4294967295,4294967295],0);function $o(u){const e=Ws().encode(u),r=new $e;return r.update(e),new Uint8Array(r.digest())}function mu(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Fe([r,s],0),new Fe([l,p],0)]}class el{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new uo(`Invalid padding: ${r}`);if(s<0)throw new uo(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new uo(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new uo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fe.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(Fe.fromNumber(s)));return 1===l.compare(Rs)&&(l=new Fe([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=$o(e),[s,l]=mu(r);for(let p=0;p<this.hashCount;p++){const y=this.Ee(s,l,p);if(!this.de(y))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),y=new el(p,l,r);return s.forEach(D=>y.insert(D)),y}insert(e){if(0===this.Ie)return;const r=$o(e),[s,l]=mu(r);for(let p=0;p<this.hashCount;p++){const y=this.Ee(s,l,p);this.Ae(y)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mr{constructor(e,r,s,l,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,No.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Mr(Vt.min(),l,new vr(Ht),Ur(),sr())}}class No{constructor(e,r,s,l,p){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new No(s,r,sr(),sr(),sr())}}class Vc{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class lc{constructor(e,r){this.targetId=e,this.me=r}}class Ms{constructor(e,r,s=Oi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class ca{constructor(){this.fe=0,this.ge=tl(),this.pe=Oi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=sr(),r=sr(),s=sr();return this.ge.forEach((l,p)=>{switch(p){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Pt()}}),new No(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=tl()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _u{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=vu(),this.Qe=new vr(Ht)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const p=l.target;if(ka(p))if(0===s){const y=new Lt(p.path);this.Ue(r,y,H.newNoDocument(y,Vt.min()))}else Bt(1===s);else{const y=this.Ye(r);if(y!==s){const D=this.Ze(e),N=D?this.Xe(D,e,y):1;0!==N&&(this.je(r),this.Qe=this.Qe.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:p=0}=r;let y,D;try{y=so(s).toUint8Array()}catch(N){if(N instanceof oo)return ln("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{D=new el(y,l,p)}catch(N){return ln(N instanceof uo?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(p=>{const y=this.Le.tt(),D=`projects/${y.projectId}/databases/${y.database}/documents/${p.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,p,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((p,y)=>{const D=this.Je(y);if(D){if(p.current&&ka(D.target)){const N=new Lt(D.target.path);null!==this.ke.get(N)||this.it(y,N)||this.Ue(y,N,H.newNoDocument(N,e))}p.be&&(r.set(y,p.Ce()),p.ve())}});let s=sr();this.qe.forEach((p,y)=>{let D=!0;y.forEachWhile(N=>{const z=this.Je(N);return!z||"TargetPurposeLimboResolution"===z.purpose||(D=!1,!1)}),D&&(s=s.add(p))}),this.ke.forEach((p,y)=>y.setReadTime(e));const l=new Mr(e,r,this.Qe,this.ke,s);return this.ke=Ur(),this.qe=vu(),this.Qe=new vr(Ht),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new ca,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new xr(Ht),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ca),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function vu(){return new vr(Lt.comparator)}function tl(){return new vr(Lt.comparator)}const nl={asc:"ASCENDING",desc:"DESCENDING"},Zl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rr={and:"AND",or:"OR"};class ed{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Lc(u,e){return u.useProto3Json||le(e)?e:{value:e}}function Ho(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rl(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function yu(u,e){return Ho(u,e.toTimestamp())}function zi(u){return Bt(!!u),Vt.fromTimestamp(function(r){const s=vo(r);return new zt(s.seconds,s.nanos)}(u))}function ua(u,e){return Eu(u,e).canonicalString()}function Eu(u,e){const r=(l=u,new hn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function Cu(u){const e=hn.fromString(u);return Bt(ba(e)),e}function Kt(u,e){return ua(u.databaseId,e.path)}function ss(u,e){const r=Cu(e);if(r.get(1)!==u.databaseId.projectId)throw new de(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new de(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new Lt(ja(r))}function td(u,e){return ua(u.databaseId,e)}function Ut(u){const e=Cu(u);return 4===e.length?hn.emptyPath():ja(e)}function gr(u){return new hn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function ja(u){return Bt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function dc(u,e,r){return{name:Kt(u,e),fields:r.value.mapValue.fields}}function Si(u,e,r){const s=ss(u,e.name),l=zi(e.updateTime),p=e.createTime?zi(e.createTime):Vt.min(),y=new pi({mapValue:{fields:e.fields}}),D=H.newFoundDocument(s,l,p,y);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function bo(u,e){let r;if(e instanceof In)r={update:dc(u,e.key,e.value)};else if(e instanceof mi)r={delete:Kt(u,e.key)};else if(e instanceof Rr)r={update:dc(u,e.key,e.data),updateMask:nd(e.fieldMask)};else{if(!(e instanceof Yr))return Pt();r={verify:Kt(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(p,y){const D=y.transform;if(D instanceof cc)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof xs)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof zs)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Ca)return{fieldPath:y.field.canonicalString(),increment:D.Pe};throw Pt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:yu(u,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Pt()),r;var p}function hc(u,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?Ii.updateTime(zi(p.updateTime)):void 0!==p.exists?Ii.exists(p.exists):Ii.none():Ii.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(y,D){let N=null;"setToServerValue"in D?(Bt("REQUEST_TIME"===D.setToServerValue),N=new cc):"appendMissingElements"in D?N=new xs(D.appendMissingElements.values||[]):"removeAllFromArray"in D?N=new zs(D.removeAllFromArray.values||[]):"increment"in D?N=new Ca(y,D.increment):Pt();const z=Gn.fromServerFormat(D.fieldPath);return new Ia(z,N)}(u,l)):[];var p;if(e.update){const l=ss(u,e.update.name),p=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new qi((e.updateMask.fieldPaths||[]).map(ie=>Gn.fromServerFormat(ie)));return new Rr(l,p,y,r,s)}return new In(l,p,r,s)}if(e.delete){const l=ss(u,e.delete);return new mi(l,r)}if(e.verify){const l=ss(u,e.verify);return new Yr(l,r)}return Pt()}function il(u,e){return{documents:[td(u,e.path)]}}function ol(u,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=td(u,l);const p=function(z){if(0!==z.length)return Tu(tn.create(z,"and"))}(e.filters);p&&(r.structuredQuery.where=p);const y=function(z){if(0!==z.length)return z.map(ie=>{return{field:qs((ke=ie).field),direction:Ks(ke.dir)};var ke})}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const D=Lc(u,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(z=e.startAt).inclusive,values:z.position}),e.endAt&&(r.structuredQuery.endAt=function(z){return{before:!z.inclusive,values:z.position}}(e.endAt)),{_t:r,parent:l};var z}function Go(u){let e=Ut(u.parent);const r=u.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Bt(1===s);const ie=r.from[0];ie.allDescendants?l=ie.collectionId:e=e.child(ie.collectionId)}let p=[];r.where&&(p=function(fe){const ke=Ba(fe);return ke instanceof tn&&ni(ke)?ke.getFilters():[ke]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(ke=>{return new Et(fc(($t=ke).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));let D=null;r.limit&&(D=function(fe){let ke;return ke="object"==typeof fe?fe.value:fe,le(ke)?null:ke}(r.limit));let N=null;var fe;r.startAt&&(N=new _e((fe=r.startAt).values||[],!!fe.before));let z=null;return r.endAt&&(z=function(fe){return new _e(fe.values||[],!fe.before)}(r.endAt)),$s(e,l,y,p,D,"F",N,z)}function Ba(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=fc(r.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=fc(r.unaryFilter.field);return kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=fc(r.unaryFilter.field);return kt.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=fc(r.unaryFilter.field);return kt.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(u):void 0!==u.fieldFilter?kt.create(fc((r=u).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return tn.create(r.compositeFilter.filters.map(s=>Ba(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Pt()}}(r.compositeFilter.op))}(u):Pt();var r}function Ks(u){return nl[u]}function vs(u){return Zl[u]}function Kd(u){return rr[u]}function qs(u){return{fieldPath:u.canonicalString()}}function fc(u){return Gn.fromServerFormat(u.fieldPath)}function Tu(u){return u instanceof kt?function(r){if("=="===r.op){if(xo(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NAN"}};if(ki(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(xo(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NOT_NAN"}};if(ki(r.value))return{unaryFilter:{field:qs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(r.field),op:vs(r.op),value:r.value}}}(u):u instanceof tn?function(r){const s=r.getFilters().map(l=>Tu(l));return 1===s.length?s[0]:{compositeFilter:{op:Kd(r.op),filters:s}}}(u):Pt()}function nd(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ba(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class Xs{constructor(e,r,s,l,p=Vt.min(),y=Vt.min(),D=Oi.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=D,this.expectedCount=N}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function b(u,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:R(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Kt(p=u.ct,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:Ho(p,y.version.toTimestamp()),createTime:Ho(p,y.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:j(e.version)};else{if(!e.isUnknownDocument())return Pt();s.unknownDocument={path:r.path.toArray(),version:j(e.version)}}var p,y;return s}function R(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function j(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function re(u){const e=new zt(u.seconds,u.nanoseconds);return Vt.fromTimestamp(e)}function Ee(u,e){const r=(e.baseMutations||[]).map(p=>hc(u.ct,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const s=e.mutations.map(p=>hc(u.ct,p)),l=zt.fromMillis(e.localWriteTimeMs);return new Ni(e.batchId,l,r,s)}function ht(u){const e=re(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?re(u.lastLimboFreeSnapshotVersion):Vt.min();let s;return s=void 0!==u.query.documents?(Bt(1===(p=u.query).documents.length),X(Gr(Ut(p.documents[0])))):function(p){return X(Go(p))}(u.query),new Xs(s,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,r,Oi.fromBase64String(u.resumeToken));var p}function lt(u,e){const r=j(e.snapshotVersion),s=j(e.lastLimboFreeSnapshotVersion);let l;l=ka(e.target)?il(u.ct,e.target):ol(u.ct,e.target)._t;const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oo(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function mn(u){const e=Go({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?vn(e,e.limit,"L"):e}function mr(u,e){return new jo(e.largestBatchId,hc(u.ct,e.overlayMutation))}function wr(u,e){const r=e.path.lastSegment();return[u,Nt(e.path.popLast()),r]}function br(u,e,r,s){return{indexId:u,uid:e,sequenceNumber:r,readTime:j(s.readTime),documentKey:Nt(s.documentKey.path),largestBatchId:s.largestBatchId}}class oi{getBundleMetadata(e,r){return Uc(e).get(r).next(s=>{if(s)return{id:(p=s).bundleId,createTime:re(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Uc(e).put({bundleId:(l=r).id,createTime:j(zi(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return as(e).get(r).next(s=>{if(s)return{name:(p=s).name,query:mn(p.bundledQuery),readTime:re(p.readTime)};var p})}saveNamedQuery(e,r){return as(e).put({name:(l=r).name,readTime:j(zi(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Uc(u){return yi(u,"bundles")}function as(u){return yi(u,"namedQueries")}class $a{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new $a(e,r.uid||"")}getOverlay(e,r){return Ys(e).get(wr(this.userId,r)).next(s=>s?mr(this.serializer,s):null)}getOverlays(e,r){const s=Yo();return We.forEach(r,l=>this.getOverlay(e,l).next(p=>{null!==p&&s.set(l,p)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((p,y)=>{const D=new jo(r,y);l.push(this.ht(e,D))}),We.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(y=>l.add(Nt(y.getCollectionPath())));const p=[];return l.forEach(y=>{const D=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);p.push(Ys(e).j("collectionPathOverlayIndex",D))}),We.waitFor(p)}getOverlaysForCollection(e,r,s){const l=Yo(),p=Nt(r),y=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Ys(e).U("collectionPathOverlayIndex",y).next(D=>{for(const N of D){const z=mr(this.serializer,N);l.set(z.getKey(),z)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const p=Yo();let y;const D=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ys(e).J({index:"collectionGroupOverlayIndex",range:D},(N,z,ie)=>{const fe=mr(this.serializer,z);p.size()<l||fe.largestBatchId===y?(p.set(fe.getKey(),fe),y=fe.largestBatchId):ie.done()}).next(()=>p)}ht(e,r){return Ys(e).put(function(l,p,y){const[D,N,z]=wr(p,y.mutation.key);return{userId:p,collectionPath:N,documentId:z,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:bo(l.ct,y.mutation)}}(this.serializer,this.userId,r))}}function Ys(u){return yi(u,"documentOverlays")}class la{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(fi(e.integerValue));else if("doubleValue"in e){const s=fi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),Ve(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=vo(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(so(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Hr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Pt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),Lt.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Qh(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function Ha(u){const e=64-function(s){let l=0;for(let p=0;p<8;++p){const y=Qh(255&s[p]);if(l+=y,8!==y)break}return l}(u);return Math.ceil(e/8)}la.bt=new la;class Os{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const r=this.Bt(e),s=Ha(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Bt(e),s=Ha(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(p){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,p,!1),new Uint8Array(y.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class pc{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class jc{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ta{constructor(){this.Gt=new Os,this.zt=new pc(this.Gt),this.jt=new jc(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Qs{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Qs(this.indexId,this.documentKey,this.arrayValue,s)}}function Js(u,e){let r=u.indexId-e.indexId;return 0!==r?r:(r=qd(u.arrayValue,e.arrayValue),0!==r?r:(r=qd(u.directionalValue,e.directionalValue),0!==r?r:Lt.comparator(u.documentKey,e.documentKey)))}function qd(u,e){for(let r=0;r<u.length&&r<e.length;++r){const s=u[r]-e[r];if(0!==s)return s}return u.length-e.length}class sl{constructor(e){this.Yt=new xr((r,s)=>Gn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Bt(e.collectionGroup===this.collectionId),this.en)return!1;const r=xn(e);if(void 0!==r&&!this.nn(r))return!1;const s=Cn(e);let l=new Set,p=0,y=0;for(;p<s.length&&this.nn(s[p]);++p)l=l.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const N=s[p];if(!this.rn(D,N)||!this.sn(this.Zt[y++],N))return!1}++p}for(;p<s.length;++p)if(y>=this.Zt.length||!this.sn(this.Zt[y++],s[p]))return!1;return!0}on(){if(this.en)return null;let e=new xr(Gn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Er(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Er(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Er(s.field,"asc"===s.dir?0:1)));return new gn(gn.UNKNOWN_ID,this.collectionId,r,Bn.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function al(u){var e,r;if(Bt(u instanceof kt||u instanceof tn),u instanceof kt){if(u instanceof gs){const l=(null===(r=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>kt.create(u.field,"==",p)))||[];return tn.create(l,"or")}return u}const s=u.filters.map(l=>al(l));return tn.create(s,u.op)}function gc(u){if(0===u.getFilters().length)return[];const e=da(al(u));return Bt(rd(e)),Bc(e)||wu(e)?[e]:e.getFilters()}function Bc(u){return u instanceof kt}function wu(u){return u instanceof tn&&ni(u)}function rd(u){return Bc(u)||wu(u)||function(r){if(r instanceof tn&&Dn(r)){for(const s of r.getFilters())if(!Bc(s)&&!wu(s))return!1;return!0}return!1}(u)}function da(u){if(Bt(u instanceof kt||u instanceof tn),u instanceof kt)return u;if(1===u.filters.length)return da(u.filters[0]);const e=u.filters.map(s=>da(s));let r=tn.create(e,u.op);return r=od(r),rd(r)?r:(Bt(r instanceof tn),Bt(Kn(r)),Bt(r.filters.length>1),r.filters.reduce((s,l)=>id(s,l)))}function id(u,e){let r;return Bt(u instanceof kt||u instanceof tn),Bt(e instanceof kt||e instanceof tn),r=u instanceof kt?e instanceof kt?tn.create([u,e],"and"):Jh(u,e):e instanceof kt?Jh(e,u):function(l,p){if(Bt(l.filters.length>0&&p.filters.length>0),Kn(l)&&Kn(p))return qr(l,p.getFilters());const y=Dn(l)?l:p,D=Dn(l)?p:l,N=y.filters.map(z=>id(z,D));return tn.create(N,"or")}(u,e),od(r)}function Jh(u,e){if(Kn(e))return qr(e,u.getFilters());{const r=e.filters.map(s=>id(u,s));return tn.create(r,"or")}}function od(u){if(Bt(u instanceof kt||u instanceof tn),u instanceof kt)return u;const e=u.getFilters();if(1===e.length)return od(e[0]);if(ri(u))return u;const r=e.map(l=>od(l)),s=[];return r.forEach(l=>{l instanceof kt?s.push(l):l instanceof tn&&(l.op===u.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:tn.create(s,u.op)}class kg{constructor(){this._n=new cl}addToCollectionParentIndex(e,r){return this._n.add(r),We.resolve()}getCollectionParents(e,r){return We.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return We.resolve()}deleteFieldIndex(e,r){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,r){return We.resolve()}getDocumentsMatchingTarget(e,r){return We.resolve(null)}getIndexType(e,r){return We.resolve(0)}getFieldIndexes(e,r){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,r){return We.resolve(cn.min())}getMinOffsetFromCollectionGroup(e,r){return We.resolve(cn.min())}updateCollectionGroup(e,r,s){return We.resolve()}updateIndexEntries(e,r){return We.resolve()}}class cl{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new xr(hn.comparator),p=!l.has(s);return this.index[r]=l.add(s),p}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new xr(hn.comparator)).toArray()}}const mc=new Uint8Array(0);class ul{constructor(e,r){this.databaseId=r,this.an=new cl,this.un=new Co(s=>Oo(s),(s,l)=>rs(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const p={collectionId:s,parent:Nt(l)};return Zh(e).put(p)}return We.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[jn(r),""],!1,!0);return Zh(e).U(l).next(p=>{for(const y of p){if(y.collectionId!==r)break;s.push(un(y.parent))}return s})}addFieldIndex(e,r){const s=$c(e),l={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var D;delete l.indexId;const p=s.add(l);if(r.indexState){const y=ha(e);return p.next(D=>{y.put(br(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const s=$c(e),l=ha(e),p=Zs(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=$c(e),s=Zs(e),l=ha(e);return r.j().next(()=>s.j()).next(()=>l.j())}createTargetIndexes(e,r){return We.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const p=new sl(s).on();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const s=Zs(e);let l=!0;const p=new Map;return We.forEach(this.cn(r),y=>this.ln(e,y).next(D=>{l&&(l=!!D),p.set(y,D)})).next(()=>{if(l){let y=sr();const D=[];return We.forEach(p,(N,z)=>{var Un;Ce("IndexedDbIndexManager",`Using index ${Un=N,`id=${Un.indexId}|cg=${Un.collectionGroup}|f=${Un.fields.map(Sr=>`${Sr.fieldPath}:${Sr.kind}`).join(",")}`} to execute ${Oo(r)}`);const ie=function(Un,Sr){const Pi=xn(Sr);if(void 0===Pi)return null;for(const Qr of ra(Un,Pi.fieldPath))switch(Qr.op){case"array-contains-any":return Qr.value.arrayValue.values||[];case"array-contains":return[Qr.value]}return null}(z,N),fe=function(Un,Sr){const Pi=new Map;for(const Qr of Cn(Sr))for(const et of ra(Un,Qr.fieldPath))switch(et.op){case"==":case"in":Pi.set(Qr.fieldPath.canonicalString(),et.value);break;case"not-in":case"!=":return Pi.set(Qr.fieldPath.canonicalString(),et.value),Array.from(Pi.values())}return null}(z,N),ke=function(Un,Sr){const Pi=[];let Qr=!0;for(const et of Cn(Sr)){const Re=0===et.kind?Hi(Un,et.fieldPath,Un.startAt):Bs(Un,et.fieldPath,Un.startAt);Pi.push(Re.value),Qr&&(Qr=Re.inclusive)}return new _e(Pi,Qr)}(z,N),ut=function(Un,Sr){const Pi=[];let Qr=!0;for(const et of Cn(Sr)){const Re=0===et.kind?Bs(Un,et.fieldPath,Un.endAt):Hi(Un,et.fieldPath,Un.endAt);Pi.push(Re.value),Qr&&(Qr=Re.inclusive)}return new _e(Pi,Qr)}(z,N),$t=this.hn(N,z,ke),nn=this.hn(N,z,ut),qt=this.Pn(N,z,fe),kn=this.In(N.indexId,ie,$t,ke.inclusive,nn,ut.inclusive,qt);return We.forEach(kn,Qn=>s.G(Qn,r.limit).next(Un=>{Un.forEach(Sr=>{const Pi=Lt.fromSegments(Sr.documentKey);y.has(Pi)||(y=y.add(Pi),D.push(Pi))})}))}).next(()=>D)}return We.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:gc(tn.create(e.filters,"and")).map(s=>ya(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,p,y,D){const N=(null!=r?r.length:1)*Math.max(s.length,p.length),z=N/(null!=r?r.length:1),ie=[];for(let fe=0;fe<N;++fe){const ke=r?this.Tn(r[fe/z]):mc,ut=this.En(e,ke,s[fe%z],l),$t=this.dn(e,ke,p[fe%z],y),nn=D.map(qt=>this.En(e,ke,qt,!0));ie.push(...this.createRange(ut,$t,nn))}return ie}En(e,r,s,l){const p=new Qs(e,Lt.empty(),r,s);return l?p:p.Jt()}dn(e,r,s,l){const p=new Qs(e,Lt.empty(),r,s);return l?p.Jt():p}ln(e,r){const s=new sl(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(p=>{let y=null;for(const D of p)s.tn(D)&&(!y||D.fields.length>y.fields.length)&&(y=D);return y})}getIndexType(e,r){let s=2;const l=this.cn(r);return We.forEach(l,p=>this.ln(e,p).next(y=>{y?0!==s&&y.fields.length<function(N){let z=new xr(Gn.comparator),ie=!1;for(const fe of N.filters)for(const ke of fe.getFlattenedFilters())ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?ie=!0:z=z.add(ke.field));for(const fe of N.orderBy)fe.field.isKeyField()||(z=z.add(fe.field));return z.size+(ie?1:0)}(p)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new Ta;for(const l of Cn(e)){const p=r.data.field(l.fieldPath);if(null==p)return null;const y=s.Ht(l.kind);la.bt.Pt(p,y)}return s.Wt()}Tn(e){const r=new Ta;return la.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Ta;return la.bt.Pt(Qt(this.databaseId,r),s.Ht(function(p){const y=Cn(p);return 0===y.length?0:y[y.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new Ta);let p=0;for(const y of Cn(e)){const D=s[p++];for(const N of l)if(this.Vn(r,y.fieldPath)&&cr(D))l=this.mn(l,y,D);else{const z=N.Ht(y.kind);la.bt.Pt(D,z)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],p=[];for(const y of s.arrayValue.values||[])for(const D of l){const N=new Ta;N.seed(D.Wt()),la.bt.Pt(y,N.Ht(r.kind)),p.push(N)}return p}Vn(e,r){return!!e.filters.find(s=>s instanceof kt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=$c(e),l=ha(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(p=>{const y=[];return We.forEach(p,D=>l.get([D.indexId,this.uid]).next(N=>{y.push(function(ie,fe){const ke=fe?new Bn(fe.sequenceNumber,new cn(re(fe.readTime),new Lt(un(fe.documentKey)),fe.largestBatchId)):Bn.empty(),ut=ie.fields.map(([$t,nn])=>new Er(Gn.fromServerFormat($t),nn));return new gn(ie.indexId,ie.collectionGroup,ut,ke)}(D,N))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const p=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==p?p:Ht(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=$c(e),p=ha(e);return this.gn(e).next(y=>l.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>We.forEach(D,N=>p.put(br(N.indexId,this.uid,y,s)))))}updateIndexEntries(e,r){const s=new Map;return We.forEach(r,(l,p)=>{const y=s.get(l.collectionGroup);return(y?We.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),We.forEach(D,N=>this.pn(e,l,N).next(z=>{const ie=this.yn(p,N);return z.isEqual(ie)?We.resolve():this.wn(e,p,N,z,ie)}))))})}Sn(e,r,s,l){return Zs(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return Zs(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=Zs(e);let p=new xr(Js);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(y,D)=>{p=p.add(new Qs(s.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>p)}yn(e,r){let s=new xr(Js);const l=this.An(r,e);if(null==l)return s;const p=xn(r);if(null!=p){const y=e.data.field(p.fieldPath);if(cr(y))for(const D of y.arrayValue.values||[])s=s.add(new Qs(r.indexId,e.key,this.Tn(D),l))}else s=s.add(new Qs(r.indexId,e.key,mc,l));return s}wn(e,r,s,l,p){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(N,z,ie,fe,ke){const ut=N.getIterator(),$t=z.getIterator();let nn=Zi(ut),qt=Zi($t);for(;nn||qt;){let kn=!1,Qn=!1;if(nn&&qt){const Un=ie(nn,qt);Un<0?Qn=!0:Un>0&&(kn=!0)}else null!=nn?Qn=!0:kn=!0;kn?(fe(qt),qt=Zi($t)):Qn?(ke(nn),nn=Zi(ut)):(nn=Zi(ut),qt=Zi($t))}}(l,p,Js,D=>{y.push(this.Sn(e,r,s,D))},D=>{y.push(this.bn(e,r,s,D))}),We.waitFor(y)}gn(e){let r=1;return ha(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,p)=>{p.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((y,D)=>Js(y,D)).filter((y,D,N)=>!D||0!==Js(y,N[D-1]));const l=[];l.push(e);for(const y of s){const D=Js(y,e),N=Js(y,r);if(0===D)l[0]=e.Jt();else if(D>0&&N<0)l.push(y),l.push(y.Jt());else if(N>0)break}l.push(r);const p=[];for(let y=0;y<l.length;y+=2){if(this.Dn(l[y],l[y+1]))return[];p.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,mc,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,mc,[]]))}return p}Dn(e,r){return Js(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(vp)}getMinOffset(e,r){return We.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||Pt())).next(vp)}}function Zh(u){return yi(u,"collectionParents")}function Zs(u){return yi(u,"indexEntries")}function $c(u){return yi(u,"indexConfiguration")}function ha(u){return yi(u,"indexState")}function vp(u){Bt(0!==u.length);let e=u[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<u.length;s++){const l=u[s].indexState.offset;ti(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new cn(e.readTime,e.documentKey,r)}const ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Au(u,e,r){const s=u.store("mutations"),l=u.store("documentMutations"),p=[],y=IDBKeyRange.only(r.batchId);let D=0;const N=s.J({range:y},(ie,fe,ke)=>(D++,ke.delete()));p.push(N.next(()=>{Bt(1===D)}));const z=[];for(const ie of r.mutations){const fe=vi(e,ie.key.path,r.batchId);p.push(l.delete(fe)),z.push(ie.key)}return We.waitFor(p).next(()=>z)}function Jo(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw Pt();e=u.noDocument}return JSON.stringify(e).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class Xd{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){Bt(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Xd(p,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ea(e).J({index:"userMutationsIndex",range:s},(l,p,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const p=za(e),y=ea(e);return y.add({}).next(D=>{Bt("number"==typeof D);const N=new Ni(D,r,s,l),z=function(ut,$t,nn){const qt=nn.baseMutations.map(Qn=>bo(ut.ct,Qn)),kn=nn.mutations.map(Qn=>bo(ut.ct,Qn));return{userId:$t,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:qt,mutations:kn}}(this.serializer,this.userId,N),ie=[];let fe=new xr((ke,ut)=>Ht(ke.canonicalString(),ut.canonicalString()));for(const ke of l){const ut=vi(this.userId,ke.key.path,D);fe=fe.add(ke.key.path.popLast()),ie.push(y.put(z)),ie.push(p.put(ut,Tr))}return fe.forEach(ke=>{ie.push(this.indexManager.addToCollectionParentIndex(e,ke))}),e.addOnCommittedListener(()=>{this.Cn[D]=N.keys()}),We.waitFor(ie).next(()=>N)})}lookupMutationBatch(e,r){return ea(e).get(r).next(s=>s?(Bt(s.userId===this.userId),Ee(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?We.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return ea(e).J({index:"userMutationsIndex",range:l},(y,D,N)=>{D.userId===this.userId&&(Bt(D.batchId>=s),p=Ee(this.serializer,D)),N.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ea(e).J({index:"userMutationsIndex",range:r,reverse:!0},(l,p,y)=>{s=p.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ea(e).U("userMutationsIndex",r).next(s=>s.map(l=>Ee(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=An(this.userId,r.path),l=IDBKeyRange.lowerBound(s),p=[];return za(e).J({range:l},(y,D,N)=>{const[z,ie,fe]=y,ke=un(ie);if(z===this.userId&&r.path.isEqual(ke))return ea(e).get(fe).next(ut=>{if(!ut)throw Pt();Bt(ut.userId===this.userId),p.push(Ee(this.serializer,ut))});N.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new xr(Ht);const l=[];return r.forEach(p=>{const y=An(this.userId,p.path),D=IDBKeyRange.lowerBound(y),N=za(e).J({range:D},(z,ie,fe)=>{const[ke,ut,$t]=z,nn=un(ut);ke===this.userId&&p.path.isEqual(nn)?s=s.add($t):fe.done()});l.push(N)}),We.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,p=An(this.userId,s),y=IDBKeyRange.lowerBound(p);let D=new xr(Ht);return za(e).J({range:y},(N,z,ie)=>{const[fe,ke,ut]=N,$t=un(ke);fe===this.userId&&s.isPrefixOf($t)?$t.length===l&&(D=D.add(ut)):ie.done()}).next(()=>this.Fn(e,D))}Fn(e,r){const s=[],l=[];return r.forEach(p=>{l.push(ea(e).get(p).next(y=>{if(null===y)throw Pt();Bt(y.userId===this.userId),s.push(Ee(this.serializer,y))}))}),We.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return Au(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),We.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return We.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return za(e).J({range:s},(p,y,D)=>{if(p[0]===this.userId){const N=un(p[1]);l.push(N)}else D.done()}).next(()=>{Bt(0===l.length)})})}containsKey(e,r){return Ga(e,this.userId,r)}xn(e){return Hc(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ga(u,e,r){const s=An(e,r.path),l=s[1],p=IDBKeyRange.lowerBound(s);let y=!1;return za(u).J({range:p,H:!0},(D,N,z)=>{const[ie,fe,ke]=D;ie===e&&fe===l&&(y=!0),z.done()}).next(()=>y)}function ea(u){return yi(u,"mutations")}function za(u){return yi(u,"documentMutations")}function Hc(u){return yi(u,"mutationQueues")}class Wa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Wa(0)}static Ln(){return new Wa(-1)}}class ef{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Wa(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Vt.fromTimestamp(new zt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>_c(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Bt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const p=[];return _c(e).J((y,D)=>{const N=ht(D);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(l++,p.push(this.removeTargetData(e,N)))}).next(()=>We.waitFor(p)).next(()=>l)}forEachTarget(e,r){return _c(e).J((s,l)=>{const p=ht(l);r(p)})}Bn(e){return Du(e).get("targetGlobalKey").next(r=>(Bt(null!==r),r))}kn(e,r){return Du(e).put("targetGlobalKey",r)}qn(e,r){return _c(e).put(lt(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Oo(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return _c(e).J({range:l,index:"queryTargetsIndex"},(y,D,N)=>{const z=ht(D);rs(r,z.target)&&(p=z,N.done())}).next(()=>p)}addMatchingKeys(e,r,s){const l=[],p=ys(e);return r.forEach(y=>{const D=Nt(y.path);l.push(p.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,y))}),We.waitFor(l)}removeMatchingKeys(e,r,s){const l=ys(e);return We.forEach(r,p=>{const y=Nt(p.path);return We.waitFor([l.delete([s,y]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,r){const s=ys(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=ys(e);let p=sr();return l.J({range:s,H:!0},(y,D,N)=>{const z=un(y[1]),ie=new Lt(z);p=p.add(ie)}).next(()=>p)}containsKey(e,r){const s=Nt(r.path),l=IDBKeyRange.bound([s],[jn(s)],!1,!0);let p=0;return ys(e).J({index:"documentTargetsIndex",H:!0,range:l},([y,D],N,z)=>{0!==y&&(p++,z.done())}).next(()=>p>0)}ot(e,r){return _c(e).get(r).next(s=>s?ht(s):null)}}function _c(u){return yi(u,"targets")}function Du(u){return yi(u,"targetGlobal")}function ys(u){return yi(u,"targetDocuments")}function Su([u,e],[r,s]){const l=Ht(u,r);return 0===l?Ht(e,s):l}class Yd{constructor(e){this.Kn=e,this.buffer=new xr(Su),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Su(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class dl{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;Ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Ct(s)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Mn(s)}yield r.zn(3e5)}))}}class Gc{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return We.resolve(F.oe);const s=new Yd(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(ll)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ll):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,p,y,D,N,z;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(fe=>(fe>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${fe}`),l=this.params.maximumSequenceNumbersToCollect):l=fe,y=Date.now(),this.nthSequenceNumber(e,l))).next(fe=>(s=fe,D=Date.now(),this.removeTargets(e,s,r))).next(fe=>(p=fe,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(fe=>(z=Date.now(),Tt()<=be.$b.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-ie}ms\n\tDetermined least recently used ${l} in `+(D-y)+`ms\n\tRemoved ${p} targets in `+(N-D)+`ms\n\tRemoved ${fe} documents in `+(z-N)+`ms\nTotal Duration: ${z-ie}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:p,documentsRemoved:fe})))}}class tf{constructor(e,r){this.db=e,this.garbageCollector=function sd(u,e){return new Gc(u,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return hl(e,s)}removeReference(e,r,s){return hl(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return hl(e,r)}er(e,r){return function(l,p){let y=!1;return Hc(l).Y(D=>Ga(l,D,p).next(N=>(N&&(y=!0),We.resolve(!N)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let p=0;return this.Xn(e,(y,D)=>{if(D<=r){const N=this.er(e,y).next(z=>{if(!z)return p++,s.getEntry(e,y).next(()=>(s.removeEntry(y,Vt.min()),ys(e).delete([0,Nt(y.path)])))});l.push(N)}}).next(()=>We.waitFor(l)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return hl(e,r)}Xn(e,r){const s=ys(e);let l,p=F.oe;return s.J({index:"documentTargetsIndex"},([y,D],{path:N,sequenceNumber:z})=>{0===y?(p!==F.oe&&r(new Lt(un(l)),p),p=z,l=N):p=F.oe}).next(()=>{p!==F.oe&&r(new Lt(un(l)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hl(u,e){return ys(u).put((l=u.currentSequenceNumber,{targetId:0,path:Nt(e.path),sequenceNumber:l}));var l}class wa{constructor(){this.changes=new Co(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,H.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?We.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ka(e).put(s)}removeEntry(e,r,s){return Ka(e).delete(function(p,y){const D=p.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],R(y),D[D.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=H.newInvalidDocument(r);return Ka(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ns(r))},(l,p)=>{s=this.nr(r,p)}).next(()=>s)}rr(e,r){let s={size:0,document:H.newInvalidDocument(r)};return Ka(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ns(r))},(l,p)=>{s={document:this.nr(r,p),size:Jo(p)}}).next(()=>s)}getEntries(e,r){let s=Ur();return this.ir(e,r,(l,p)=>{const y=this.nr(l,p);s=s.insert(l,y)}).next(()=>s)}sr(e,r){let s=Ur(),l=new vr(Lt.comparator);return this.ir(e,r,(p,y)=>{const D=this.nr(p,y);s=s.insert(p,D),l=l.insert(p,Jo(y))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return We.resolve();let l=new xr(pl);r.forEach(N=>l=l.add(N));const p=IDBKeyRange.bound(Ns(l.first()),Ns(l.last())),y=l.getIterator();let D=y.getNext();return Ka(e).J({index:"documentKeyIndex",range:p},(N,z,ie)=>{const fe=Lt.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;D&&pl(D,fe)<0;)s(D,null),D=y.getNext();D&&D.isEqual(fe)&&(s(D,z),D=y.hasNext()?y.getNext():null),D?ie.$(Ns(D)):ie.done()}).next(()=>{for(;D;)s(D,null),D=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,p){const y=r.path,D=[y.popLast().toArray(),y.lastSegment(),R(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ka(e).U(IDBKeyRange.bound(D,N,!0)).next(z=>{p?.incrementDocumentReadCount(z.length);let ie=Ur();for(const fe of z){const ke=this.nr(Lt.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);ke.isFoundDocument()&&(Gi(r,ke)||l.has(ke.key))&&(ie=ie.insert(ke.key,ke))}return ie})}getAllFromCollectionGroup(e,r,s,l){let p=Ur();const y=fl(r,s),D=fl(r,cn.max());return Ka(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,D,!0)},(N,z,ie)=>{const fe=this.nr(Lt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);p=p.insert(fe.key,fe),p.size===l&&ie.done()}).next(()=>p)}newChangeBuffer(e){return new zc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Pu(e).get("remoteDocumentGlobalKey").next(r=>(Bt(!!r),r))}tr(e,r){return Pu(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function x(u,e){let r;if(e.document)r=Si(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Lt.fromSegments(e.noDocument.path),l=re(e.noDocument.readTime);r=H.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pt();{const s=Lt.fromSegments(e.unknownDocument.path),l=re(e.unknownDocument.version);r=H.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const p=new zt(l[0],l[1]);return Vt.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Vt.min()))return s}return H.newInvalidDocument(e)}}function zo(u){return new yp(u)}class zc extends wa{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Co(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new xr((p,y)=>Ht(p.canonicalString(),y.canonicalString()));return this.changes.forEach((p,y)=>{const D=this.ur.get(p);if(r.push(this.ar.removeEntry(e,p,D.readTime)),y.isValidDocument()){const N=b(this.ar.serializer,y);l=l.add(p.path.popLast());const z=Jo(N);s+=z-D.size,r.push(this.ar.addEntry(e,p,N))}else if(s-=D.size,this.trackRemovals){const N=b(this.ar.serializer,y.convertToNoDocument(Vt.min()));r.push(this.ar.addEntry(e,p,N))}}),l.forEach(p=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.ar.updateMetadata(e,s)),We.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((p,y)=>{this.ur.set(p,{size:y,readTime:s.get(p).readTime})}),s))}}function Pu(u){return yi(u,"remoteDocumentGlobal")}function Ka(u){return yi(u,"remoteDocumentsV14")}function Ns(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fl(u,e){const r=e.documentKey.path.toArray();return[u,R(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function pl(u,e){const r=u.path.toArray(),s=e.path.toArray();let l=0;for(let p=0;p<r.length-2&&p<s.length-2;++p)if(l=Ht(r[p],s[p]),l)return l;return l=Ht(r.length,s.length),l||(l=Ht(r[r.length-2],s[s.length-2]),l||Ht(r[r.length-1],s[s.length-1]))}class vc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class yc{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&Ie(s.mutation,l,qi.empty(),zt.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,sr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=sr()){const l=Yo();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(p=>{let y=no();return p.forEach((D,N)=>{y=y.insert(D,N.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const s=Yo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,sr()))}populateOverlays(e,r,s){const l=[];return s.forEach(p=>{r.has(p)||l.push(p)}),this.documentOverlayCache.getOverlays(e,l).next(p=>{p.forEach((y,D)=>{r.set(y,D)})})}computeViews(e,r,s,l){let p=Ur();const y=Qo(),D=Qo();return r.forEach((N,z)=>{const ie=s.get(z.key);l.has(z.key)&&(void 0===ie||ie.mutation instanceof Rr)?p=p.insert(z.key,z):void 0!==ie?(y.set(z.key,ie.mutation.getFieldMask()),Ie(ie.mutation,z,ie.mutation.getFieldMask(),zt.now())):y.set(z.key,qi.empty())}),this.recalculateAndSaveOverlays(e,p).next(N=>(N.forEach((z,ie)=>y.set(z,ie)),r.forEach((z,ie)=>{var fe;return D.set(z,new vc(ie,null!==(fe=y.get(z))&&void 0!==fe?fe:null))}),D))}recalculateAndSaveOverlays(e,r){const s=Qo();let l=new vr((y,D)=>y-D),p=sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const D of y)D.keys().forEach(N=>{const z=r.get(N);if(null===z)return;let ie=s.get(N)||qi.empty();ie=D.applyToLocalView(z,ie),s.set(N,ie);const fe=(l.get(D.batchId)||sr()).add(N);l=l.insert(D.batchId,fe)})}).next(()=>{const y=[],D=l.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),z=N.key,ie=N.value,fe=oa();ie.forEach(ke=>{if(!p.has(ke)){const ut=U(r.get(ke),s.get(ke));null!==ut&&fe.set(ke,ut),p=p.add(ke)}}),y.push(this.documentOverlayCache.saveOverlays(e,z,fe))}return We.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return Lt.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Fa(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var y}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(p=>{const y=l-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-p.size):We.resolve(Yo());let D=-1,N=p;return y.next(z=>We.forEach(z,(ie,fe)=>(D<fe.largestBatchId&&(D=fe.largestBatchId),p.get(ie)?We.resolve():this.remoteDocumentCache.getEntry(e,ie).next(ke=>{N=N.insert(ie,ke)}))).next(()=>this.populateOverlays(e,z,p)).next(()=>this.computeViews(e,N,z,sr())).next(ie=>({batchId:D,changes:kc(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Lt(r)).next(s=>{let l=no();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const p=r.collectionGroup;let y=no();return this.indexManager.getCollectionParents(e,p).next(D=>We.forEach(D,N=>{const z=(fe=r,ke=N.child(p),new Ss(ke,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,ke;return this.getDocumentsMatchingCollectionQuery(e,z,s,l).next(ie=>{ie.forEach((fe,ke)=>{y=y.insert(fe,ke)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,s,l){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(y=>(p=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,p,l))).next(y=>{p.forEach((N,z)=>{const ie=z.getKey();null===y.get(ie)&&(y=y.insert(ie,H.newInvalidDocument(ie)))});let D=no();return y.forEach((N,z)=>{const ie=p.get(N);void 0!==ie&&Ie(ie.mutation,z,qi.empty(),zt.now()),Gi(r,z)&&(D=D.insert(N,z))}),D})}}class Wc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return We.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:zi(l.createTime)}),We.resolve();var l}getNamedQuery(e,r){return We.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:mn(l.bundledQuery),readTime:zi(l.readTime)}),We.resolve();var l}}class Qd{constructor(){this.overlays=new vr(Lt.comparator),this.hr=new Map}getOverlay(e,r){return We.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Yo();return We.forEach(r,l=>this.getOverlay(e,l).next(p=>{null!==p&&s.set(l,p)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,p)=>{this.ht(e,r,p)}),We.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(p=>this.overlays=this.overlays.remove(p)),this.hr.delete(s)),We.resolve()}getOverlaysForCollection(e,r,s){const l=Yo(),p=r.length+1,y=new Lt(r.child("")),D=this.overlays.getIteratorFrom(y);for(;D.hasNext();){const N=D.getNext().value,z=N.getKey();if(!r.isPrefixOf(z.path))break;z.path.length===p&&N.largestBatchId>s&&l.set(N.getKey(),N)}return We.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let p=new vr((z,ie)=>z-ie);const y=this.overlays.getIterator();for(;y.hasNext();){const z=y.getNext().value;if(z.getKey().getCollectionGroup()===r&&z.largestBatchId>s){let ie=p.get(z.largestBatchId);null===ie&&(ie=Yo(),p=p.insert(z.largestBatchId,ie)),ie.set(z.getKey(),z)}}const D=Yo(),N=p.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((z,ie)=>D.set(z,ie)),!(D.size()>=l)););return We.resolve(D)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const y=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new jo(r,s));let p=this.hr.get(r);void 0===p&&(p=sr(),this.hr.set(r,p)),this.hr.set(r,p.add(s.key))}}class Kc{constructor(){this.Pr=new xr(ro.Ir),this.Tr=new xr(ro.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new ro(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new ro(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Lt(new hn([])),s=new ro(r,e),l=new ro(r,e+1),p=[];return this.Tr.forEachInRange([s,l],y=>{this.Ar(y),p.push(y.key)}),p}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Lt(new hn([])),s=new ro(r,e),l=new ro(r,e+1);let p=sr();return this.Tr.forEachInRange([s,l],y=>{p=p.add(y.key)}),p}containsKey(e){const r=new ro(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class ro{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Lt.comparator(e.key,r.key)||Ht(e.pr,r.pr)}static Er(e,r){return Ht(e.pr,r.pr)||Lt.comparator(e.key,r.key)}}class Fg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new xr(ro.Ir)}checkEmpty(e){return We.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const p=this.yr;this.yr++;const y=new Ni(p,r,s,l);this.mutationQueue.push(y);for(const D of l)this.wr=this.wr.add(new ro(D.key,p)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return We.resolve(y)}lookupMutationBatch(e,r){return We.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),p=l<0?0:l;return We.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new ro(r,0),l=new ro(r,Number.POSITIVE_INFINITY),p=[];return this.wr.forEachInRange([s,l],y=>{const D=this.Sr(y.pr);p.push(D)}),We.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new xr(Ht);return r.forEach(l=>{const p=new ro(l,0),y=new ro(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([p,y],D=>{s=s.add(D.pr)})}),We.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let p=s;Lt.isDocumentKey(p)||(p=p.child(""));const y=new ro(new Lt(p),0);let D=new xr(Ht);return this.wr.forEachWhile(N=>{const z=N.key.path;return!!s.isPrefixOf(z)&&(z.length===l&&(D=D.add(N.pr)),!0)},y),We.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Bt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return We.forEach(r.mutations,l=>{const p=new ro(l.key,r.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new ro(r,0),l=this.wr.firstAfterOrEqual(s);return We.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return We.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ep{constructor(e){this.vr=e,this.docs=new vr(Lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),p=l?l.size:0,y=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:y}),this.size+=y-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return We.resolve(s?s.document.mutableCopy():H.newInvalidDocument(r))}getEntries(e,r){let s=Ur();return r.forEach(l=>{const p=this.docs.get(l);s=s.insert(l,p?p.document.mutableCopy():H.newInvalidDocument(l))}),We.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let p=Ur();const y=r.path,D=new Lt(y.child("")),N=this.docs.getIteratorFrom(D);for(;N.hasNext();){const{key:z,value:{document:ie}}=N.getNext();if(!y.isPrefixOf(z.path))break;z.path.length>y.length+1||ti(Ki(ie),s)<=0||(l.has(ie.key)||Gi(r,ie))&&(p=p.insert(ie.key,ie.mutableCopy()))}return We.resolve(p)}getAllFromCollectionGroup(e,r,s,l){Pt()}Fr(e,r){return We.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Jd(this)}getSize(e){return We.resolve(this.size)}}class Jd extends wa{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),We.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Cp{constructor(e){this.persistence=e,this.Mr=new Co(r=>Oo(r),rs),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Kc,this.targetCount=0,this.Lr=Wa.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),We.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Wa(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,We.resolve()}updateTargetData(e,r){return this.qn(r),We.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,r,s){let l=0;const p=[];return this.Mr.forEach((y,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Mr.delete(y),p.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),We.waitFor(p).next(()=>l)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return We.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),We.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,p=[];return l&&r.forEach(y=>{p.push(l.markPotentiallyOrphaned(e,y))}),We.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),We.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return We.resolve(s)}containsKey(e,r){return We.resolve(this.Nr.containsKey(r))}}class nf{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Cp(this),this.indexManager=new kg,this.remoteDocumentCache=new Ep(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new Wc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Qd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Fg(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){Ce("MemoryPersistence","Starting transaction:",e);const l=new xu(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(p=>this.referenceDelegate.Wr(l).next(()=>p)).toPromise().then(p=>(l.raiseOnCommittedEvent(),p))}Gr(e,r){return We.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class xu extends _r{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.zr=new Kc,this.jr=null}static Hr(e){return new Zd(e)}get Jr(){if(this.jr)return this.jr;throw Pt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),We.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),We.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),We.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(p=>this.Jr.add(p.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Jr,s=>{const l=Lt.fromPath(s);return this.Yr(e,l).next(p=>{p||r.removeEntry(l,Vt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return We.or([()=>We.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Mu{constructor(e){this.serializer=e}O(e,r,s,l){const p=new pt("createOrUpgrade",r);var N;s<1&&l>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ir,{unique:!0}),N.createObjectStore("documentMutations"),rf(e),function(N){N.createObjectStore("remoteDocuments")}(e));let y=We.resolve();return s<3&&l>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),rf(e)),y=y.next(()=>function(N){const z=N.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",ie)}(p))),s<4&&l>=4&&(0!==s&&(y=y.next(()=>function(N,z){return z.store("mutations").U().next(ie=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ir,{unique:!0});const fe=z.store("mutations"),ke=ie.map(ut=>fe.put(ut));return We.waitFor(ke)})}(e,p))),y=y.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(y=y.next(()=>this.Xr(p))),s<6&&l>=6&&(y=y.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ei(p)))),s<7&&l>=7&&(y=y.next(()=>this.ti(p))),s<8&&l>=8&&(y=y.next(()=>this.ni(e,p))),s<9&&l>=9&&(y=y.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(y=y.next(()=>this.ri(p))),s<11&&l>=11&&(y=y.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(y=y.next(()=>{!function(N){const z=N.createObjectStore("documentOverlays",{keyPath:Vn});z.createIndex("collectionPathOverlayIndex",Nn,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",Br,{unique:!1})}(e)})),s<13&&l>=13&&(y=y.next(()=>function(N){const z=N.createObjectStore("remoteDocumentsV14",{keyPath:Ko});z.createIndex("documentKeyIndex",di),z.createIndex("collectionGroupIndex",Ji)}(e)).next(()=>this.ii(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(y=y.next(()=>this.si(e,p))),s<15&&l>=15&&(y=y.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:Ze}).createIndex("sequenceNumberIndex",Dt,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:fn}).createIndex("documentKeyIndex",Rn,{unique:!1})}(e))),s<16&&l>=16&&(y=y.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),y}ei(e){let r=0;return e.store("remoteDocuments").J((s,l)=>{r+=Jo(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(l=>We.forEach(l,p=>{const y=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",y).next(D=>We.forEach(D,N=>{Bt(N.userId===p.userId);const z=Ee(this.serializer,N);return Au(e,p.userId,z).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const p=[];return s.J((y,D)=>{const N=new hn(y),z=[0,Nt(N)];p.push(r.get(z).next(ie=>ie?We.resolve():r.put({targetId:0,path:Nt(N),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>We.waitFor(p))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:dt});const s=r.store("collectionParents"),l=new cl,p=y=>{if(l.add(y)){const D=y.lastSegment(),N=y.popLast();return s.put({collectionId:D,parent:Nt(N)})}};return r.store("remoteDocuments").J({H:!0},(y,D)=>{const N=new hn(y);return p(N.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([y,D,N],z)=>{const ie=un(D);return p(ie.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,l)=>{const p=ht(l),y=lt(this.serializer,p);return r.put(y)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.J((p,y)=>{const D=r.store("remoteDocumentsV14"),N=(fe=y,fe.document?new Lt(hn.fromString(fe.document.name).popFirst(5)):fe.noDocument?Lt.fromSegments(fe.noDocument.path):fe.unknownDocument?Lt.fromSegments(fe.unknownDocument.path):Pt()).path.toArray(),z={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var fe;l.push(D.put(z))}).next(()=>We.waitFor(l))}si(e,r){const s=r.store("mutations"),l=zo(this.serializer),p=new nf(Zd.Hr,this.serializer.ct);return s.U().next(y=>{const D=new Map;return y.forEach(N=>{var z;let ie=null!==(z=D.get(N.userId))&&void 0!==z?z:sr();Ee(this.serializer,N).keys().forEach(fe=>ie=ie.add(fe)),D.set(N.userId,ie)}),We.forEach(D,(N,z)=>{const ie=new it(z),fe=$a.lt(this.serializer,ie),ke=p.getIndexManager(ie),ut=Xd.lt(ie,this.serializer,ke,p.referenceDelegate);return new yc(l,ut,fe,ke).recalculateAndSaveOverlaysForDocumentKeys(new hs(r,F.oe),N).next()})})}}function rf(u){u.createObjectStore("targetDocuments",{keyPath:ai}).createIndex("documentTargetsIndex",or,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Li,{unique:!0}),u.createObjectStore("targetGlobal")}const eh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vi{constructor(e,r,s,l,p,y,D,N,z,ie,fe=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=p,this.window=y,this.document=D,this._i=z,this.ai=ie,this.ui=fe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=ke=>Promise.resolve(),!Vi.D())throw new de(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tf(this,l),this.Ti=r+"main",this.serializer=new w(N),this.Ei=new oe(this.Ti,this.ui,new Mu(this.serializer)),this.Qr=new ef(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zo(this.serializer),this.$r=new oi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ie&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(Pe.FAILED_PRECONDITION,eh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,c.A)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,c.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fa(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Ct(e))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return gl(e).get("owner").next(r=>We.resolve(this.Si(r)))}bi(e){return fa(e).delete(this.clientId)}Di(){var e=this;return(0,c.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=yi(s,"clientMetadata");return l.U().next(p=>{const y=e.vi(p,18e5),D=p.filter(N=>-1===y.indexOf(N));return We.forEach(D,N=>l.delete(N.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?We.resolve(!0):gl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new de(Pe.FAILED_PRECONDITION,eh);return!1}}return!(!this.networkEnabled||!this.inForeground)||fa(e).U().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ce("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,c.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new hs(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>fa(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Xd.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ul(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return $a.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){Ce("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",p=16===(N=this.ui)?Mi:15===N?ds:14===N?Pr:13===N?qo:12===N?Ri:11===N?Nr:void Pt();var N;let y;return this.Ei.runTransaction(e,l,p,D=>(y=new hs(D,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(y).next(N=>!!N||this.pi(y)).next(N=>{if(!N)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new de(Pe.FAILED_PRECONDITION,Xn);return s(y)}).next(N=>this.wi(y).next(()=>N)):this.ki(y).next(()=>s(y)))).then(D=>(y.raiseOnCommittedEvent(),D))}ki(e){return gl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new de(Pe.FAILED_PRECONDITION,eh)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gl(e).put("owner",r)}static D(){return oe.D()}yi(e){const r=gl(e);return r.get("owner").next(s=>this.Si(s)?(Ce("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):We.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Yt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,ve.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return Ce("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Yt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gl(u){return yi(u,"owner")}function fa(u){return yi(u,"clientMetadata")}function th(u,e){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+e+"/"+r+"/"}class Es{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=sr(),l=sr();for(const p of r.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:l=l.add(p.doc.key)}return new Es(e,r.fromCache,s,l)}}class Ec{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nh{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ve.nr)()?8:J((0,ve.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const p={result:null};return this.ji(e,r).next(y=>{p.result=y}).next(()=>{if(!p.result)return this.Hi(e,r,l,s).next(y=>{p.result=y})}).next(()=>{if(p.result)return;const y=new Ec;return this.Ji(e,r,y).next(D=>{if(p.result=D,this.Ui)return this.Yi(e,r,y,D.size)})}).next(()=>p.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(Tt()<=be.$b.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",mo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),We.resolve()):(Tt()<=be.$b.DEBUG&&Ce("QueryEngine","Query:",mo(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(Tt()<=be.$b.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",mo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,X(r))):We.resolve())}ji(e,r){if(ia(r))return We.resolve(null);let s=X(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=vn(r,null,"F"),s=X(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const y=sr(...p);return this.zi.getDocuments(e,y).next(D=>this.indexManager.getMinOffset(e,s).next(N=>{const z=this.Zi(r,D);return this.Xi(r,z,y,N.readTime)?this.ji(e,vn(r,null,"F")):this.es(e,z,r,N)}))})))}Hi(e,r,s,l){return ia(r)||l.isEqual(Vt.min())?We.resolve(null):this.zi.getDocuments(e,s).next(p=>{const y=this.Zi(r,p);return this.Xi(r,y,s,l)?We.resolve(null):(Tt()<=be.$b.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),mo(r)),this.es(e,y,r,ei(l,-1)).next(D=>D))})}Zi(e,r){let s=new xr(Uo(e));return r.forEach((l,p)=>{Gi(e,p)&&(s=s.add(p))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(l)>0)}Ji(e,r,s){return Tt()<=be.$b.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",mo(r)),this.zi.getDocumentsMatchingQuery(e,r,cn.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(p=>(r.forEach(y=>{p=p.insert(y.key,y)}),p))}}class ad{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new vr(Ht),this.rs=new Co(p=>Oo(p),rs),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Ou(u,e,r,s){return new ad(u,e,r,s)}function sf(u,e){return af.apply(this,arguments)}function af(){return(af=(0,c.A)(function*(u,e){const r=at(u);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(p=>(l=p,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(p=>{const y=[],D=[];let N=sr();for(const z of l){y.push(z.batchId);for(const ie of z.mutations)N=N.add(ie.key)}for(const z of p){D.push(z.batchId);for(const ie of z.mutations)N=N.add(ie.key)}return r.localDocuments.getDocuments(s,N).next(z=>({us:z,removedBatchIds:y,addedBatchIds:D}))})})})).apply(this,arguments)}function Ip(u){const e=at(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function cd(u,e,r){let s=sr(),l=sr();return r.forEach(p=>s=s.add(p)),e.getEntries(u,s).next(p=>{let y=Ur();return r.forEach((D,N)=>{const z=p.get(D);N.isFoundDocument()!==z.isFoundDocument()&&(l=l.add(D)),N.isNoDocument()&&N.version.isEqual(Vt.min())?(e.removeEntry(D,N.readTime),y=y.insert(D,N)):!z.isValidDocument()||N.version.compareTo(z.version)>0||0===N.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(N),y=y.insert(D,N)):Ce("LocalStore","Ignoring outdated watch update for ",D,". Current version:",z.version," Watch version:",N.version)}),{cs:y,ls:l}})}function Nu(u,e){const r=at(u);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Cs(u,e){const r=at(u);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(p=>p?(l=p,We.resolve(l)):r.Qr.allocateTargetId(s).next(y=>(l=new Xs(e,y,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Aa(u,e,r){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.A)(function*(u,e,r){const s=at(u),l=s.ns.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",p,y=>s.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!Ct(y))throw y;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)})).apply(this,arguments)}function _l(u,e,r){const s=at(u);let l=Vt.min(),p=sr();return s.persistence.runTransaction("Execute query","readwrite",y=>function(N,z,ie){const fe=at(N),ke=fe.rs.get(ie);return void 0!==ke?We.resolve(fe.ns.get(ke)):fe.Qr.getTargetData(z,ie)}(s,y,X(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(y,D.targetId).next(N=>{p=N})}).next(()=>s.ts.getDocumentsMatchingQuery(y,e,r?l:Vt.min(),r?p:sr())).next(D=>(rh(s,is(e),D),{documents:D,hs:p})))}function vl(u,e){const r=at(u),s=at(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,e).next(y=>y?y.target:null))}function uf(u,e){const r=at(u),s=r.ss.get(e)||Vt.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,ei(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(rh(r,e,l),l))}function rh(u,e,r){let s=u.ss.get(e)||Vt.min();r.forEach((l,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),u.ss.set(e,s)}function qc(){return(qc=(0,c.A)(function*(u,e,r,s){const l=at(u);let p=sr(),y=Ur();for(const z of r){const ie=e.Ps(z.metadata.name);z.document&&(p=p.add(ie));const fe=e.Is(z);fe.setReadTime(e.Ts(z.metadata.readTime)),y=y.insert(ie,fe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),N=yield Cs(l,(ie=s,X(Gr(hn.fromString(`__bundle__/docs/${ie}`)))));var ie;return l.persistence.runTransaction("Apply bundle documents","readwrite",z=>cd(z,D,y).next(ie=>(D.apply(z),ie)).next(ie=>l.Qr.removeMatchingKeysForTargetId(z,N.targetId).next(()=>l.Qr.addMatchingKeys(z,p,N.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(z,ie.cs,ie.ls)).next(()=>ie.cs)))})).apply(this,arguments)}function oh(u,e){return yl.apply(this,arguments)}function yl(){return(yl=(0,c.A)(function*(u,e,r=sr()){const s=yield Cs(u,X(mn(e.bundledQuery))),l=at(u);return l.persistence.runTransaction("Save named query","readwrite",p=>{const y=zi(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return l.$r.saveNamedQuery(p,e);const D=s.withResumeToken(Oi.EMPTY_BYTE_STRING,y);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(p,D).next(()=>l.Qr.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>l.Qr.addMatchingKeys(p,r,s.targetId)).next(()=>l.$r.saveNamedQuery(p,e))})})).apply(this,arguments)}function Xc(u,e){return`firestore_clients_${u}_${e}`}function sh(u,e,r){let s=`firestore_mutations_${u}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function qa(u,e){return`firestore_targets_${u}_${e}`}class El{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let p,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(p=new de(l.error.code,l.error.message))),y?new El(e,r,l.state,p):(Yt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(l=new de(s.error.code,s.error.message))),p?new Cc(e,s.state,l):(Yt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ku{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,p=sc();for(let y=0;l&&y<s.activeTargetIds.length;++y)l=It(s.activeTargetIds[y]),p=p.add(s.activeTargetIds[y]);return l?new ku(e,p):(Yt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Fu{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Fu(r.clientId,r.onlineState):(Yt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Cl{constructor(){this.activeTargetIds=sc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ud{constructor(e,r,s,l,p){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new vr(Ht),this.started=!1,this.ys=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ws=Xc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Cl),this.bs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.A)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Vs)continue;const p=e.getItem(Xc(e.persistenceKey,l));if(p){const y=ku.Es(l,p);y&&(e.ps=e.ps.insert(y.clientId,y))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(qa(this.persistenceKey,e));if(s){const l=Cc.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qa(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ce("SharedClientState","READ",e,r),r}setItem(e,r){Ce("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(Ce("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(y){let D=F.oe;if(null!=y)try{const N=JSON.parse(y);Bt("number"==typeof N),D=N}catch(N){Yt("SharedClientState","Failed to read sequence number from WebStorage",N)}return D}(s.newValue);l!==F.oe&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(p=>r.syncEngine.Ys(p)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const l=new El(this.currentUser,e,r,s),p=sh(this.persistenceKey,this.currentUser,e);this.setItem(p,l.ds())}Bs(e){const r=sh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=qa(this.persistenceKey,e),p=new Cc(e,r,s);this.setItem(l,p.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return ku.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return El.Es(new it(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return Cc.Es(l,r)}xs(e){return Fu.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,c.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);Ce("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),p=this.Ns(s),y=[],D=[];return p.forEach(N=>{l.has(N)||y.push(N)}),l.forEach(N=>{p.has(N)||D.push(N)}),this.syncEngine.eo(y,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=sc();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class ah{constructor(){this.no=new Cl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Cl,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Da{io(e){}shutdown(){}}class Yc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Il=null;function lf(){return null===Il?Il=268435456+Math.round(2147483648*Math.random()):Il++,"0x"+Il.toString(16)}const I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const _="WebChannelConnection";class A extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${l}/databases/${p}`,this.bo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${p}`}get Do(){return!1}Co(r,s,l,p,y){const D=lf(),N=this.vo(r,s.toUriEncodedString());Ce("RestConnection",`Sending RPC '${r}' ${D}:`,N,l);const z={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(z,p,y),this.Mo(r,N,z,l).then(ie=>(Ce("RestConnection",`Received RPC '${r}' ${D}: `,ie),ie),ie=>{throw ln("RestConnection",`RPC '${r}' ${D} failed with error: `,ie,"url: ",N,"request:",l),ie})}xo(r,s,l,p,y,D){return this.Co(r,s,l,p,y)}Fo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ye,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,y)=>r[y]=p),l&&l.headers.forEach((p,y)=>r[y]=p)}vo(r,s){return`${this.wo}/v1/${s}:${I[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,l){const p=lf();return new Promise((y,D)=>{const N=new ge;N.setWithCredentials(!0),N.listenOnce(yt.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case vt.NO_ERROR:const ie=N.getResponseJson();Ce(_,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(ie)),y(ie);break;case vt.TIMEOUT:Ce(_,`RPC '${e}' ${p} timed out`),D(new de(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case vt.HTTP_ERROR:const fe=N.getStatus();if(Ce(_,`RPC '${e}' ${p} failed with status:`,fe,"response text:",N.getResponseText()),fe>0){let ke=N.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const ut=ke?.error;if(ut&&ut.status&&ut.message){const $t=function(qt){const kn=qt.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(kn)>=0?kn:Pe.UNKNOWN}(ut.status);D(new de($t,ut.message))}else D(new de(Pe.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new de(Pe.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{Ce(_,`RPC '${e}' ${p} completed.`)}});const z=JSON.stringify(l);Ce(_,`RPC '${e}' ${p} sending request:`,l),N.send(r,"POST",z,s,15)})}Oo(e,r,s){const l=lf(),p=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Je(),D=an(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(N.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(N.xmlHttpFactory=new st({})),this.Fo(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const ie=p.join("");Ce(_,`Creating RPC '${e}' stream ${l}: ${ie}`,N);const fe=y.createWebChannel(ie,N);let ke=!1,ut=!1;const $t=new h({lo:qt=>{ut?Ce(_,`Not sending because RPC '${e}' stream ${l} is closed:`,qt):(ke||(Ce(_,`Opening RPC '${e}' stream ${l} transport.`),fe.open(),ke=!0),Ce(_,`RPC '${e}' stream ${l} sending:`,qt),fe.send(qt))},ho:()=>fe.close()}),nn=(qt,kn,Qn)=>{qt.listen(kn,Un=>{try{Qn(Un)}catch(Sr){setTimeout(()=>{throw Sr},0)}})};return nn(fe,qe.EventType.OPEN,()=>{ut||(Ce(_,`RPC '${e}' stream ${l} transport opened.`),$t.mo())}),nn(fe,qe.EventType.CLOSE,()=>{ut||(ut=!0,Ce(_,`RPC '${e}' stream ${l} transport closed`),$t.po())}),nn(fe,qe.EventType.ERROR,qt=>{ut||(ut=!0,ln(_,`RPC '${e}' stream ${l} transport errored:`,qt),$t.po(new de(Pe.UNAVAILABLE,"The operation could not be completed")))}),nn(fe,qe.EventType.MESSAGE,qt=>{var kn;if(!ut){const Qn=qt.data[0];Bt(!!Qn);const Sr=Qn.error||(null===(kn=Qn[0])||void 0===kn?void 0:kn.error);if(Sr){Ce(_,`RPC '${e}' stream ${l} received error:`,Sr);const Pi=Sr.status;let Qr=function(Ge){const tt=zr[Ge];if(void 0!==tt)return aa(tt)}(Pi),et=Sr.message;void 0===Qr&&(Qr=Pe.INTERNAL,et="Unknown error status: "+Pi+" with message "+Sr.message),ut=!0,$t.po(new de(Qr,et)),fe.close()}else Ce(_,`RPC '${e}' stream ${l} received:`,Qn),$t.yo(Qn)}}),nn(D,xt.STAT_EVENT,qt=>{qt.stat===jt.PROXY?Ce(_,`RPC '${e}' stream ${l} detected buffering proxy`):qt.stat===jt.NOPROXY&&Ce(_,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$t.fo()},0),$t}}function W(){return typeof window<"u"?window:null}function ae(){return typeof document<"u"?document:null}function Ue(u){return new ed(u,!0)}class ft{constructor(e,r,s=1e3,l=1.5,p=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=l,this.Bo=p,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),l=Math.max(0,r-s);l>0&&Ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Gt{constructor(e,r,s,l,p,y,D,N){this.oi=e,this.Go=s,this.zo=l,this.connection=p,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ft(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,c.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,c.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,c.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Yt(r.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Pe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.jo===r&&this.u_(s,l)},s=>{e(()=>{const l=new de(Pe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(l)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(l=>{s(()=>this.c_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}e_(){var e=this;this.state=5,this.Yo.$o((0,c.A)(function*(){e.state=0,e.start()}))}c_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sn extends Gt{constructor(e,r,s,l,p,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,y),this.serializer=p}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function Hn(u,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:Pt(),l=e.targetChange.targetIds||[],p=function(z,ie){return z.useProto3Json?(Bt(void 0===ie||"string"==typeof ie),Oi.fromBase64String(ie||"")):(Bt(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),Oi.fromUint8Array(ie||new Uint8Array))}(u,e.targetChange.resumeToken),y=e.targetChange.cause,D=y&&function(z){const ie=void 0===z.code?Pe.UNKNOWN:aa(z.code);return new de(ie,z.message||"")}(y);r=new Ms(s,l,p,D||null)}else if("documentChange"in e){const s=e.documentChange,l=ss(u,s.document.name),p=zi(s.document.updateTime),y=s.document.createTime?zi(s.document.createTime):Vt.min(),D=new pi({mapValue:{fields:s.document.fields}}),N=H.newFoundDocument(l,p,y,D);r=new Vc(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,l=ss(u,s.document),p=s.readTime?zi(s.readTime):Vt.min(),y=H.newNoDocument(l,p);r=new Vc([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,l=ss(u,s.document);r=new Vc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Pt();{const s=e.filter,{count:l=0,unchangedNames:p}=s,y=new Bo(l,p);r=new lc(s.targetId,y)}}var z;return r}(this.serializer,e),s=function(p){if(!("targetChange"in p))return Vt.min();const y=p.targetChange;return y.targetIds&&y.targetIds.length?Vt.min():y.readTime?zi(y.readTime):Vt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=gr(this.serializer),r.addTarget=function(p,y){let D;const N=y.target;if(D=ka(N)?{documents:il(p,N)}:{query:ol(p,N)._t},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){D.resumeToken=rl(p,y.resumeToken);const z=Lc(p,y.expectedCount);null!==z&&(D.expectedCount=z)}else if(y.snapshotVersion.compareTo(Vt.min())>0){D.readTime=Ho(p,y.snapshotVersion.toTimestamp());const z=Lc(p,y.expectedCount);null!==z&&(D.expectedCount=z)}return D}(this.serializer,e);const s=function _s(u,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=gr(this.serializer),r.removeTarget=e,this.i_(r)}}class qn extends Gt{constructor(e,r,s,l,p,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,y),this.serializer=p,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function Iu(u,e){return u&&u.length>0?(Bt(void 0!==e),u.map(r=>function(l,p){let y=zi(l.updateTime?l.updateTime:p);return y.isEqual(Vt.min())&&(y=zi(p)),new gu(y,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.A_(s,r)}return Bt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=gr(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>bo(this.serializer,s))};this.i_(r)}}class Wr extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.m_=!1}f_(){if(this.m_)throw new de(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,y])=>this.connection.Co(e,Eu(r,s),l,p,y)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new de(Pe.UNKNOWN,p.toString())})}xo(e,r,s,l,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,D])=>this.connection.xo(e,Eu(r,s),l,y,D,p)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new de(Pe.UNKNOWN,y.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Fs{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Yt(r),this.y_=!1):Ce("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Ic{constructor(e,r,s,l,p){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=p,this.O_.io(D=>{s.enqueueAndForget((0,c.A)(function*(){var N;Is(y)&&(Ce("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,c.A)(function*(ie){const fe=at(ie);fe.M_.add(4),yield bc(fe),fe.N_.set("Unknown"),fe.M_.delete(4),yield Xa(fe)}),function z(ie){return N.apply(this,arguments)})(y))}))}),this.N_=new Fs(s,l)}}function Xa(u){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,c.A)(function*(u){if(Is(u))for(const e of u.x_)yield e(!0)})).apply(this,arguments)}function bc(u){return bl.apply(this,arguments)}function bl(){return(bl=(0,c.A)(function*(u){for(const e of u.x_)yield e(!1)})).apply(this,arguments)}function Qc(u,e){const r=at(u);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),uh(r)?ld(r):fd(r).Xo()&&ch(r,e))}function Jc(u,e){const r=at(u),s=fd(r);r.F_.delete(e),s.Xo()&&df(r,e),0===r.F_.size&&(s.Xo()?s.n_():Is(r)&&r.N_.set("Unknown"))}function ch(u,e){if(u.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}fd(u).P_(e)}function df(u,e){u.L_.xe(e),fd(u).I_(e)}function ld(u){u.L_=new _u({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.F_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),fd(u).start(),u.N_.w_()}function uh(u){return Is(u)&&!fd(u).Zo()&&u.F_.size>0}function Is(u){return 0===at(u).M_.size}function Zc(u){u.L_=void 0}function lh(u){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.A)(function*(u){u.N_.set("Online")})).apply(this,arguments)}function bp(u){return hf.apply(this,arguments)}function hf(){return(hf=(0,c.A)(function*(u){u.F_.forEach((e,r)=>{ch(u,e)})})).apply(this,arguments)}function dd(u,e){return dh.apply(this,arguments)}function dh(){return(dh=(0,c.A)(function*(u,e){Zc(u),uh(u)?(u.N_.D_(e),ld(u)):u.N_.set("Unknown")})).apply(this,arguments)}function Tp(u,e,r){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,c.A)(function*(u,e,r){if(u.N_.set("Online"),e instanceof Ms&&2===e.state&&e.cause)try{yield(s=(0,c.A)(function*(p,y){const D=y.cause;for(const N of y.targetIds)p.F_.has(N)&&(yield p.remoteSyncer.rejectListen(N,D),p.F_.delete(N),p.L_.removeTarget(N))}),function l(p,y){return s.apply(this,arguments)})(u,e)}catch(s){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield wl(u,s)}else if(e instanceof Vc?u.L_.Ke(e):e instanceof lc?u.L_.He(e):u.L_.We(e),!r.isEqual(Vt.min()))try{const s=yield Ip(u.localStore);r.compareTo(s)>=0&&(yield function(p,y){const D=p.L_.rt(y);return D.targetChanges.forEach((N,z)=>{if(N.resumeToken.approximateByteSize()>0){const ie=p.F_.get(z);ie&&p.F_.set(z,ie.withResumeToken(N.resumeToken,y))}}),D.targetMismatches.forEach((N,z)=>{const ie=p.F_.get(N);if(!ie)return;p.F_.set(N,ie.withResumeToken(Oi.EMPTY_BYTE_STRING,ie.snapshotVersion)),df(p,N);const fe=new Xs(ie.target,N,z,ie.sequenceNumber);ch(p,fe)}),p.remoteSyncer.applyRemoteEvent(D)}(u,r))}catch(s){Ce("RemoteStore","Failed to raise snapshot:",s),yield wl(u,s)}var s}),Tl.apply(this,arguments)}function wl(u,e,r){return Al.apply(this,arguments)}function Al(){return(Al=(0,c.A)(function*(u,e,r){if(!Ct(e))throw e;u.M_.add(1),yield bc(u),u.N_.set("Offline"),r||(r=()=>Ip(u.localStore)),u.asyncQueue.enqueueRetryable((0,c.A)(function*(){Ce("RemoteStore","Retrying IndexedDB access"),yield r(),u.M_.delete(1),yield Xa(u)}))})).apply(this,arguments)}function Vg(u,e){return e().catch(r=>wl(u,r,e))}function hd(u){return wp.apply(this,arguments)}function wp(){return(wp=(0,c.A)(function*(u){const e=at(u),r=eu(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Ap(e);)try{const l=yield Nu(e.localStore,s);if(null===l){0===e.v_.length&&r.n_();break}s=l.batchId,ff(e,l)}catch(l){yield wl(e,l)}Lg(e)&&Ug(e)})).apply(this,arguments)}function Ap(u){return Is(u)&&u.v_.length<10}function ff(u,e){u.v_.push(e);const r=eu(u);r.Xo()&&r.E_&&r.d_(e.mutations)}function Lg(u){return Is(u)&&!eu(u).Zo()&&u.v_.length>0}function Ug(u){eu(u).start()}function Km(u){return pf.apply(this,arguments)}function pf(){return(pf=(0,c.A)(function*(u){eu(u).V_()})).apply(this,arguments)}function qm(u){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,c.A)(function*(u){const e=eu(u);for(const r of u.v_)e.d_(r.mutations)})).apply(this,arguments)}function Fo(u,e,r){return gf.apply(this,arguments)}function gf(){return(gf=(0,c.A)(function*(u,e,r){const s=u.v_.shift(),l=_o.from(s,e,r);yield Vg(u,()=>u.remoteSyncer.applySuccessfulWrite(l)),yield hd(u)})).apply(this,arguments)}function Sp(u,e){return hh.apply(this,arguments)}function hh(){return hh=(0,c.A)(function*(u,e){var r;e&&eu(u).E_&&(yield(r=(0,c.A)(function*(l,p){if(Io(D=p.code)&&D!==Pe.ABORTED){const y=l.v_.shift();eu(l).t_(),yield Vg(l,()=>l.remoteSyncer.rejectFailedWrite(y.batchId,p)),yield hd(l)}var D}),function s(l,p){return r.apply(this,arguments)})(u,e)),Lg(u)&&Ug(u)}),hh.apply(this,arguments)}function cs(u,e){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,c.A)(function*(u,e){const r=at(u);r.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const s=Is(r);r.M_.add(3),yield bc(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Xa(r)})).apply(this,arguments)}function mf(u,e){return _f.apply(this,arguments)}function _f(){return(_f=(0,c.A)(function*(u,e){const r=at(u);e?(r.M_.delete(2),yield Xa(r)):e||(r.M_.add(2),yield bc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function fd(u){return u.B_||(u.B_=function(r,s,l){const p=at(r);return p.f_(),new Sn(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,l)}(u.datastore,u.asyncQueue,{Po:lh.bind(null,u),To:bp.bind(null,u),Ao:dd.bind(null,u),h_:Tp.bind(null,u)}),u.x_.push(function(){var e=(0,c.A)(function*(r){r?(u.B_.t_(),uh(u)?ld(u):u.N_.set("Unknown")):(yield u.B_.stop(),Zc(u))});return function(r){return e.apply(this,arguments)}}())),u.B_}function eu(u){return u.k_||(u.k_=function(r,s,l){const p=at(r);return p.f_(),new qn(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,l)}(u.datastore,u.asyncQueue,{Po:()=>Promise.resolve(),To:Km.bind(null,u),Ao:Sp.bind(null,u),R_:qm.bind(null,u),A_:Fo.bind(null,u)}),u.x_.push(function(){var e=(0,c.A)(function*(r){r?(u.k_.t_(),yield hd(u)):(yield u.k_.stop(),u.v_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${u.v_.length} pending writes`),u.v_=[]))});return function(r){return e.apply(this,arguments)}}())),u.k_}class Pp{constructor(e,r,s,l,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=p,this.deferred=new Me,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,p){const y=Date.now()+s,D=new Pp(e,r,y,l,p);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sl(u,e){if(Yt("AsyncQueue",`${e}: ${u}`),Ct(u))return new de(Pe.UNAVAILABLE,`${e}: ${u}`);throw u}class pd{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Lt.comparator(r.key,s.key):(r,s)=>Lt.comparator(r.key,s.key),this.keyedMap=no(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new pd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof pd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,p=s.getNext().key;if(!l.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new pd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class xp{constructor(){this.q_=new vr(Lt.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Pt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Lu{constructor(e,r,s,l,p,y,D,N,z){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=p,this.fromCache=y,this.syncStateChanged=D,this.excludesMetadataChanges=N,this.hasCachedResults=z}static fromInitialDocuments(e,r,s,l,p){const y=[];return r.forEach(D=>{y.push({type:0,doc:D})}),new Lu(e,r,pd.emptySet(r),y,s,l,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$n(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class Xm{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class gd{constructor(){this.queries=new Co(e=>to(e),$n),this.onlineState="Unknown",this.z_=new Set}}function fh(u,e){return vf.apply(this,arguments)}function vf(){return(vf=(0,c.A)(function*(u,e){const r=at(u);let s=3;const l=e.query;let p=r.queries.get(l);p?!p.W_()&&e.G_()&&(s=2):(p=new Xm,s=e.G_()?0:1);try{switch(s){case 0:p.K_=yield r.onListen(l,!0);break;case 1:p.K_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(y){const D=Sl(y,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(D)}r.queries.set(l,p),p.U_.push(e),e.j_(r.onlineState),p.K_&&e.H_(p.K_)&&yf(r)})).apply(this,arguments)}function Uu(u,e){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.A)(function*(u,e){const r=at(u),s=e.query;let l=3;const p=r.queries.get(s);if(p){const y=p.U_.indexOf(e);y>=0&&(p.U_.splice(y,1),0===p.U_.length?l=e.G_()?0:1:!p.W_()&&e.G_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Rp(u,e){const r=at(u);let s=!1;for(const l of e){const y=r.queries.get(l.query);if(y){for(const D of y.U_)D.H_(l)&&(s=!0);y.K_=l}}s&&yf(r)}function jg(u,e,r){const s=at(u),l=s.queries.get(e);if(l)for(const p of l.U_)p.onError(r);s.queries.delete(e)}function yf(u){u.z_.forEach(e=>{e.next()})}var Ef,xl;(xl=Ef||(Ef={})).J_="default",xl.Cache="cache";class md{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Lu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Ef.Cache}}class Bg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class Cf{constructor(e){this.serializer=e}Ps(e){return ss(this.serializer,e)}Is(e){return e.metadata.exists?Si(this.serializer,e.document,!1):H.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return zi(e)}}class If{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$g(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=hn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new Cf(this.serializer);for(const l of e)if(l.metadata.queries){const p=s.Ps(l.metadata.name);for(const y of l.metadata.queries){const D=(r.get(y)||sr()).add(p);r.set(y,D)}}return r}complete(){var e=this;return(0,c.A)(function*(){const r=yield function ih(u,e,r,s){return qc.apply(this,arguments)}(e.localStore,new Cf(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const l of e.queries)yield oh(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function $g(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Hg{constructor(e){this.key=e}}class Gg{constructor(e){this.key=e}}class zg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sr(),this.mutatedKeys=sr(),this.Ia=Uo(e),this.Ta=new pd(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new xp,l=r?r.Ta:this.Ta;let p=r?r.mutatedKeys:this.mutatedKeys,y=l,D=!1;const N="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,z="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ie,fe)=>{const ke=l.get(ie),ut=Gi(this.query,fe)?fe:null,$t=!!ke&&this.mutatedKeys.has(ke.key),nn=!!ut&&(ut.hasLocalMutations||this.mutatedKeys.has(ut.key)&&ut.hasCommittedMutations);let qt=!1;ke&&ut?ke.data.isEqual(ut.data)?$t!==nn&&(s.track({type:3,doc:ut}),qt=!0):this.Ra(ke,ut)||(s.track({type:2,doc:ut}),qt=!0,(N&&this.Ia(ut,N)>0||z&&this.Ia(ut,z)<0)&&(D=!0)):!ke&&ut?(s.track({type:0,doc:ut}),qt=!0):ke&&!ut&&(s.track({type:1,doc:ke}),qt=!0,(N||z)&&(D=!0)),qt&&(ut?(y=y.add(ut),p=nn?p.add(ie):p.delete(ie)):(y=y.delete(ie),p=p.delete(ie)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ie="F"===this.query.limitType?y.last():y.first();y=y.delete(ie.key),p=p.delete(ie.key),s.track({type:1,doc:ie})}return{Ta:y,Aa:s,Xi:D,mutatedKeys:p}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const p=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const y=e.Aa.Q_();y.sort((ie,fe)=>function(ut,$t){const nn=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return nn(ut)-nn($t)}(ie.type,fe.type)||this.Ia(ie.doc,fe.doc)),this.Va(s),l=null!=l&&l;const D=r&&!l?this.ma():[],N=0===this.Pa.size&&this.current&&!l?1:0,z=N!==this.ha;return this.ha=N,0!==y.length||z?{snapshot:new Lu(this.query,e.Ta,p,y,e.mutatedKeys,0===N,z,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new xp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=sr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Gg(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Hg(s))}),r}pa(e){this.la=e.hs,this.Pa=sr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return Lu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Ym{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Qm{constructor(e){this.key=e,this.wa=!1}}class Wg{constructor(e,r,s,l,p,y){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=p,this.maxConcurrentLimboResolutions=y,this.Sa={},this.ba=new Co(D=>to(D),$n),this.Da=new Map,this.Ca=new Set,this.va=new vr(Lt.comparator),this.Fa=new Map,this.Ma=new Kc,this.xa={},this.Oa=new Map,this.Na=Wa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function tu(u,e){return ph.apply(this,arguments)}function ph(){return(ph=(0,c.A)(function*(u,e,r=!0){const s=Pf(u);let l;const p=s.ba.get(e);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),l=p.view.ya()):l=yield Kg(s,e,r,!0),l})).apply(this,arguments)}function Mp(u,e){return Op.apply(this,arguments)}function Op(){return(Op=(0,c.A)(function*(u,e){const r=Pf(u);yield Kg(r,e,!0,!1)})).apply(this,arguments)}function Kg(u,e,r,s){return gh.apply(this,arguments)}function gh(){return(gh=(0,c.A)(function*(u,e,r,s){const l=yield Cs(u.localStore,X(e)),p=l.targetId,y=r?u.sharedClientState.addLocalQueryTarget(p):"not-current";let D;return s&&(D=yield _d(u,e,p,"current"===y,l.resumeToken)),u.isPrimaryClient&&r&&Qc(u.remoteStore,l),D})).apply(this,arguments)}function _d(u,e,r,s,l){return nu.apply(this,arguments)}function nu(){return nu=(0,c.A)(function*(u,e,r,s,l){u.Ba=(fe,ke,ut)=>{return($t=(0,c.A)(function*(qt,kn,Qn,Un){let Sr=kn.view.da(Qn);Sr.Xi&&(Sr=yield _l(qt.localStore,kn.query,!1).then(({documents:Re})=>kn.view.da(Re,Sr)));const Pi=Un&&Un.targetChanges.get(kn.targetId),Qr=Un&&null!=Un.targetMismatches.get(kn.targetId),et=kn.view.applyChanges(Sr,qt.isPrimaryClient,Pi,Qr);return Xg(qt,kn.targetId,et.fa),et.snapshot}),function nn(qt,kn,Qn,Un){return $t.apply(this,arguments)})(u,fe,ke,ut);var $t};const p=yield _l(u.localStore,e,!0),y=new zg(e,p.hs),D=y.da(p.documents),N=No.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==u.onlineState,l),z=y.applyChanges(D,u.isPrimaryClient,N);Xg(u,r,z.fa);const ie=new Ym(e,r,y);return u.ba.set(e,ie),u.Da.has(r)?u.Da.get(r).push(e):u.Da.set(r,[e]),z.snapshot}),nu.apply(this,arguments)}function Jm(u,e,r){return vd.apply(this,arguments)}function vd(){return(vd=(0,c.A)(function*(u,e,r){const s=at(u),l=s.ba.get(e),p=s.Da.get(l.targetId);if(p.length>1)return s.Da.set(l.targetId,p.filter(y=>!$n(y,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Aa(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&Jc(s.remoteStore,l.targetId),iu(s,l.targetId)}).catch(Mn))):(iu(s,l.targetId),yield Aa(s.localStore,l.targetId,!0))})).apply(this,arguments)}function Zm(u,e){return qg.apply(this,arguments)}function qg(){return(qg=(0,c.A)(function*(u,e){const r=at(u),s=r.ba.get(e),l=r.Da.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Jc(r.remoteStore,s.targetId))})).apply(this,arguments)}function Np(){return(Np=(0,c.A)(function*(u,e,r){const s=xf(u);try{const l=yield function(y,D){const N=at(y),z=zt.now(),ie=D.reduce((ut,$t)=>ut.add($t.key),sr());let fe,ke;return N.persistence.runTransaction("Locally write mutations","readwrite",ut=>{let $t=Ur(),nn=sr();return N.os.getEntries(ut,ie).next(qt=>{$t=qt,$t.forEach((kn,Qn)=>{Qn.isValidDocument()||(nn=nn.add(kn))})}).next(()=>N.localDocuments.getOverlayedDocuments(ut,$t)).next(qt=>{fe=qt;const kn=[];for(const Qn of D){const Un=mt(Qn,fe.get(Qn.key).overlayedDocument);null!=Un&&kn.push(new Rr(Qn.key,Un,Q(Un.value.mapValue),Ii.exists(!0)))}return N.mutationQueue.addMutationBatch(ut,z,kn,D)}).next(qt=>{ke=qt;const kn=qt.applyToLocalDocumentSet(fe,nn);return N.documentOverlayCache.saveOverlays(ut,qt.batchId,kn)})}).then(()=>({batchId:ke.batchId,changes:kc(fe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(y,D,N){let z=y.xa[y.currentUser.toKey()];z||(z=new vr(Ht)),z=z.insert(D,N),y.xa[y.currentUser.toKey()]=z}(s,l.batchId,r),yield Tc(s,l.changes),yield hd(s.remoteStore)}catch(l){const p=Sl(l,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function kp(u,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.A)(function*(u,e){const r=at(u);try{const s=yield function ks(u,e){const r=at(u),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const y=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const D=[];e.targetChanges.forEach((ie,fe)=>{const ke=l.get(fe);if(!ke)return;D.push(r.Qr.removeMatchingKeys(p,ie.removedDocuments,fe).next(()=>r.Qr.addMatchingKeys(p,ie.addedDocuments,fe)));let ut=ke.withSequenceNumber(p.currentSequenceNumber);var nn,qt,kn;null!==e.targetMismatches.get(fe)?ut=ut.withResumeToken(Oi.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):ie.resumeToken.approximateByteSize()>0&&(ut=ut.withResumeToken(ie.resumeToken,s)),l=l.insert(fe,ut),qt=ut,kn=ie,(0===(nn=ke).resumeToken.approximateByteSize()||qt.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||kn.addedDocuments.size+kn.modifiedDocuments.size+kn.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(p,ut))});let N=Ur(),z=sr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(p,ie))}),D.push(cd(p,y,e.documentUpdates).next(ie=>{N=ie.cs,z=ie.ls})),!s.isEqual(Vt.min())){const ie=r.Qr.getLastRemoteSnapshotVersion(p).next(fe=>r.Qr.setTargetsMetadata(p,p.currentSequenceNumber,s));D.push(ie)}return We.waitFor(D).next(()=>y.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,N,z)).next(()=>N)}).then(p=>(r.ns=l,p))}(r.localStore,e);e.targetChanges.forEach((l,p)=>{const y=r.Fa.get(p);y&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.wa=!0:l.modifiedDocuments.size>0?Bt(y.wa):l.removedDocuments.size>0&&(Bt(y.wa),y.wa=!1))}),yield Tc(r,s,e)}catch(s){yield Mn(s)}})).apply(this,arguments)}function Fp(u,e,r){const s=at(u);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ba.forEach((p,y)=>{const D=y.view.j_(e);D.snapshot&&l.push(D.snapshot)}),function(y,D){const N=at(y);N.onlineState=D;let z=!1;N.queries.forEach((ie,fe)=>{for(const ke of fe.U_)ke.j_(D)&&(z=!0)}),z&&yf(N)}(s.eventManager,e),l.length&&s.Sa.h_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function _h(u,e,r){return bf.apply(this,arguments)}function bf(){return(bf=(0,c.A)(function*(u,e,r){const s=at(u);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Fa.get(e),p=l&&l.key;if(p){let y=new vr(Lt.comparator);y=y.insert(p,H.newNoDocument(p,Vt.min()));const D=sr().add(p),N=new Mr(Vt.min(),new Map,new vr(Ht),y,D);yield kp(s,N),s.va=s.va.remove(p),s.Fa.delete(e),Lp(s)}else yield Aa(s.localStore,e,!1).then(()=>iu(s,e,r)).catch(Mn)})).apply(this,arguments)}function vh(u,e){return yd.apply(this,arguments)}function yd(){return(yd=(0,c.A)(function*(u,e){const r=at(u),s=e.batch.batchId;try{const l=yield function cf(u,e){const r=at(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),p=r.os.newChangeBuffer({trackRemovals:!0});return function(D,N,z,ie){const fe=z.batch,ke=fe.keys();let ut=We.resolve();return ke.forEach($t=>{ut=ut.next(()=>ie.getEntry(N,$t)).next(nn=>{const qt=z.docVersions.get($t);Bt(null!==qt),nn.version.compareTo(qt)<0&&(fe.applyToRemoteDocument(nn,z),nn.isValidDocument()&&(nn.setReadTime(z.commitVersion),ie.addEntry(nn)))})}),ut.next(()=>D.mutationQueue.removeMutationBatch(N,fe))}(r,s,e,p).next(()=>p.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let N=sr();for(let z=0;z<D.mutationResults.length;++z)D.mutationResults[z].transformResults.length>0&&(N=N.add(D.batch.mutations[z].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);Rl(r,s,null),Eh(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Tc(r,l)}catch(l){yield Mn(l)}})).apply(this,arguments)}function e_(u,e,r){return yh.apply(this,arguments)}function yh(){return(yh=(0,c.A)(function*(u,e,r){const s=at(u);try{const l=yield function(y,D){const N=at(y);return N.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let ie;return N.mutationQueue.lookupMutationBatch(z,D).next(fe=>(Bt(null!==fe),ie=fe.keys(),N.mutationQueue.removeMutationBatch(z,fe))).next(()=>N.mutationQueue.performConsistencyCheck(z)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(z,ie,D)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,ie)).next(()=>N.localDocuments.getDocuments(z,ie))})}(s.localStore,e);Rl(s,e,r),Eh(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Tc(s,l)}catch(l){yield Mn(l)}})).apply(this,arguments)}function wf(){return(wf=(0,c.A)(function*(u,e){const r=at(u);Is(r.remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const D=at(y);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>D.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Oa.get(s)||[];l.push(e),r.Oa.set(s,l)}catch(s){const l=Sl(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function Eh(u,e){(u.Oa.get(e)||[]).forEach(r=>{r.resolve()}),u.Oa.delete(e)}function Rl(u,e,r){const s=at(u);let l=s.xa[s.currentUser.toKey()];if(l){const p=l.get(e);p&&(r?p.reject(r):p.resolve(),l=l.remove(e)),s.xa[s.currentUser.toKey()]=l}}function iu(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const s of u.Da.get(e))u.ba.delete(s),r&&u.Sa.ka(s,r);u.Da.delete(e),u.isPrimaryClient&&u.Ma.Vr(e).forEach(s=>{u.Ma.containsKey(s)||Vp(u,s)})}function Vp(u,e){u.Ca.delete(e.path.canonicalString());const r=u.va.get(e);null!==r&&(Jc(u.remoteStore,r),u.va=u.va.remove(e),u.Fa.delete(r),Lp(u))}function Xg(u,e,r){for(const s of r)s instanceof Hg?(u.Ma.addReference(s.key,e),Ml(u,s)):s instanceof Gg?(Ce("SyncEngine","Document no longer in limbo: "+s.key),u.Ma.removeReference(s.key,e),u.Ma.containsKey(s.key)||Vp(u,s.key)):Pt()}function Ml(u,e){const r=e.key,s=r.path.canonicalString();u.va.get(r)||u.Ca.has(s)||(Ce("SyncEngine","New document in limbo: "+r),u.Ca.add(s),Lp(u))}function Lp(u){for(;u.Ca.size>0&&u.va.size<u.maxConcurrentLimboResolutions;){const e=u.Ca.values().next().value;u.Ca.delete(e);const r=new Lt(hn.fromString(e)),s=u.Na.next();u.Fa.set(s,new Qm(r)),u.va=u.va.insert(r,s),Qc(u.remoteStore,new Xs(X(Gr(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function Tc(u,e,r){return Af.apply(this,arguments)}function Af(){return Af=(0,c.A)(function*(u,e,r){const s=at(u),l=[],p=[],y=[];var D;s.ba.isEmpty()||(s.ba.forEach((D,N)=>{y.push(s.Ba(N,e,r).then(z=>{if((z||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,z&&!z.fromCache?"current":"not-current"),z){l.push(z);const ie=Es.Ki(N.targetId,z);p.push(ie)}}))}),yield Promise.all(y),s.Sa.h_(l),yield(D=(0,c.A)(function*(z,ie){const fe=at(z);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>We.forEach(ie,ut=>We.forEach(ut.qi,$t=>fe.persistence.referenceDelegate.addReference(ke,ut.targetId,$t)).next(()=>We.forEach(ut.Qi,$t=>fe.persistence.referenceDelegate.removeReference(ke,ut.targetId,$t)))))}catch(ke){if(!Ct(ke))throw ke;Ce("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of ie){const ut=ke.targetId;if(!ke.fromCache){const $t=fe.ns.get(ut),qt=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);fe.ns=fe.ns.insert(ut,qt)}}}),function N(z,ie){return D.apply(this,arguments)})(s.localStore,p))}),Af.apply(this,arguments)}function Df(u,e){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,c.A)(function*(u,e){const r=at(u);if(!r.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const s=yield sf(r.localStore,e);r.currentUser=e,(p=r).Oa.forEach(D=>{D.forEach(N=>{N.reject(new de(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Tc(r,s.us)}var p})).apply(this,arguments)}function Ed(u,e){const r=at(u),s=r.Fa.get(e);if(s&&s.wa)return sr().add(s.key);{let l=sr();const p=r.Da.get(e);if(!p)return l;for(const y of p){const D=r.ba.get(y);l=l.unionWith(D.view.Ea)}return l}}function t_(u,e){return Up.apply(this,arguments)}function Up(){return(Up=(0,c.A)(function*(u,e){const r=at(u),s=yield _l(r.localStore,e.query,!0),l=e.view.pa(s);return r.isPrimaryClient&&Xg(r,e.targetId,l.fa),l})).apply(this,arguments)}function n_(u,e){return jp.apply(this,arguments)}function jp(){return(jp=(0,c.A)(function*(u,e){const r=at(u);return uf(r.localStore,e).then(s=>Tc(r,s))})).apply(this,arguments)}function Sf(u,e,r,s){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,c.A)(function*(u,e,r,s){const l=at(u),p=yield function(D,N){const z=at(D),ie=at(z.mutationQueue);return z.persistence.runTransaction("Lookup mutation documents","readonly",fe=>ie.vn(fe,N).next(ke=>ke?z.localDocuments.getDocuments(fe,ke):We.resolve(null)))}(l.localStore,e);var N;null!==p?("pending"===r?yield hd(l.remoteStore):"acknowledged"===r||"rejected"===r?(Rl(l,e,s||null),Eh(l,e),N=e,at(at(l.localStore).mutationQueue).Mn(N)):Pt(),yield Tc(l,p)):Ce("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Pa(){return(Pa=(0,c.A)(function*(u,e){const r=at(u);if(Pf(r),xf(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield bh(r,s.toArray());r.La=!0,yield mf(r.remoteStore,!0);for(const p of l)Qc(r.remoteStore,p)}else if(!1===e&&!1!==r.La){const s=[];let l=Promise.resolve();r.Da.forEach((p,y)=>{r.sharedClientState.isLocalQueryTarget(y)?s.push(y):l=l.then(()=>(iu(r,y),Aa(r.localStore,y,!0))),Jc(r.remoteStore,y)}),yield l,yield bh(r,s),function(y){const D=at(y);D.Fa.forEach((N,z)=>{Jc(D.remoteStore,z)}),D.Ma.mr(),D.Fa=new Map,D.va=new vr(Lt.comparator)}(r),r.La=!1,yield mf(r.remoteStore,!1)}})).apply(this,arguments)}function bh(u,e,r){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.A)(function*(u,e,r){const s=at(u),l=[],p=[];for(const y of e){let D;const N=s.Da.get(y);if(N&&0!==N.length){D=yield Cs(s.localStore,X(N[0]));for(const z of N){const ie=s.ba.get(z),fe=yield t_(s,ie);fe.snapshot&&p.push(fe.snapshot)}}else{const z=yield vl(s.localStore,y);D=yield Cs(s.localStore,z),yield _d(s,Bp(z),y,!1,D.resumeToken)}l.push(D)}return s.Sa.h_(p),l})).apply(this,arguments)}function Bp(u){return $s(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function $p(u){return r=at(u).localStore,at(at(r).persistence).Bi();var r}function Nl(u,e,r,s){return Th.apply(this,arguments)}function Th(){return(Th=(0,c.A)(function*(u,e,r,s){const l=at(u);if(l.La)return void Ce("SyncEngine","Ignoring unexpected query state notification.");const p=l.Da.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const y=yield uf(l.localStore,is(p[0])),D=Mr.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Oi.EMPTY_BYTE_STRING);yield Tc(l,y,D);break}case"rejected":yield Aa(l.localStore,e,!0),iu(l,e,s);break;default:Pt()}})).apply(this,arguments)}function r_(u,e,r){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,c.A)(function*(u,e,r){const s=Pf(u);if(s.La){for(const l of e){if(s.Da.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){Ce("SyncEngine","Adding an already active target "+l);continue}const p=yield vl(s.localStore,l),y=yield Cs(s.localStore,p);yield _d(s,Bp(p),y.targetId,!1,y.resumeToken),Qc(s.remoteStore,y)}for(const l of r)s.Da.has(l)&&(yield Aa(s.localStore,l,!1).then(()=>{Jc(s.remoteStore,l),iu(s,l)}).catch(Mn))}})).apply(this,arguments)}function Pf(u){const e=at(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=kp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ed.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_h.bind(null,e),e.Sa.h_=Rp.bind(null,e.eventManager),e.Sa.ka=jg.bind(null,e.eventManager),e}function xf(u){const e=at(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e_.bind(null,e),e}class Qa{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,c.A)(function*(){r.serializer=Ue(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Ou(this.persistence,new nh,e.initialUser,this.serializer)}createPersistence(e){return new nf(Zd.Hr,this.serializer)}createSharedClientState(e){return new ah}terminate(){var e=this;return(0,c.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gp extends Qa{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield xf(s.Qa.syncEngine),yield hd(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ou(this.persistence,new nh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new dl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new V(r,this.persistence);return new $(e.asyncQueue,s)}createPersistence(e){const r=th(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new Vi(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,W(),ae(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ah}}class i_ extends Gp{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,e);const l=s.Qa.syncEngine;s.sharedClientState instanceof ud&&(s.sharedClientState.syncEngine={Zs:Sf.bind(null,l),Xs:Nl.bind(null,l),eo:r_.bind(null,l),Bi:$p.bind(null,l),Ys:n_.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var p=(0,c.A)(function*(y){yield function Ol(u,e){return Pa.apply(this,arguments)}(s.Qa.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const r=W();if(!ud.D(r))throw new de(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=th(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ud(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class pa{initialize(e,r){var s=this;return(0,c.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Fp(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Df.bind(null,s.syncEngine),yield mf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gd}createDatastore(e){const r=Ue(e.databaseInfo.databaseId),s=new A(e.databaseInfo);return new Wr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,p=e.asyncQueue,y=r=>Fp(this.syncEngine,r,0),D=Yc.D()?new Yc:new Da,new Ic(s,l,p,y,D);var s,l,p,y,D}createSyncEngine(e,r){return function(l,p,y,D,N,z,ie){const fe=new Wg(l,p,y,D,N,z);return ie&&(fe.La=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,c.A)(function*(){var r,s;yield(s=(0,c.A)(function*(p){const y=at(p);Ce("RemoteStore","RemoteStore shutting down."),y.M_.add(5),yield bc(y),y.O_.shutdown(),y.N_.set("Unknown")}),function l(p){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Yg(u,e=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<u.byteLength){const s={value:u.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Rf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Qg{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Me,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,c.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,c.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,c.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),l=Number(s);isNaN(l)&&e.ja(`length string (${s}) is not valid number`);const p=yield e.Ha(l);return new Bg(JSON.parse(p),r.length+l)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,c.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,c.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class o_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new de(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,c.A)(function*(y,D){const N=at(y),z={documents:D.map(ut=>Kt(N.serializer,ut))},ie=yield N.xo("BatchGetDocuments",N.serializer.databaseId,hn.emptyPath(),z,D.length),fe=new Map;ie.forEach(ut=>{const $t=function Xi(u,e){return"found"in e?function(s,l){Bt(!!l.found);const p=ss(s,l.found.name),y=zi(l.found.updateTime),D=l.found.createTime?zi(l.found.createTime):Vt.min(),N=new pi({mapValue:{fields:l.found.fields}});return H.newFoundDocument(p,y,D,N)}(u,e):"missing"in e?function(s,l){Bt(!!l.missing),Bt(!!l.readTime);const p=ss(s,l.missing),y=zi(l.readTime);return H.newNoDocument(p,y)}(u,e):Pt()}(N.serializer,ut);fe.set($t.key.toString(),$t)});const ke=[];return D.forEach(ut=>{const $t=fe.get(ut.toString());Bt(!!$t),ke.push($t)}),ke}),function p(y,D){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new mi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const p=Lt.fromPath(l);e.mutations.push(new Yr(p,e.precondition(p)))}),yield(s=(0,c.A)(function*(p,y){const D=at(p),N={writes:y.map(z=>bo(D.serializer,z))};yield D.Co("Commit",D.serializer.databaseId,hn.emptyPath(),N)}),function l(p,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Pt();r=Vt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new de(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Vt.min())?Ii.exists(!1):Ii.updateTime(r):Ii.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Vt.min()))throw new de(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(r)}return Ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class s_{constructor(e,r,s,l,p){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=p,this.Za=s.maxAttempts,this.Yo=new ft(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,c.A)(function*(){const r=new o_(e.datastore),s=e.tu(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(p=>{e.nu(p)}))}).catch(l=>{e.nu(l)})}))}tu(e){try{const r=this.updateFunction(e);return!le(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Io(r)}return!1}}class a_{constructor(e,r,s,l){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=it.UNAUTHENTICATED,this.clientId=dr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,c.A)(function*(D){Ce("FirestoreClient","Received user=",D.uid),yield p.authCredentialListener(D),p.user=D});return function(D){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(Ce("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Me;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=Sl(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Mf(u,e){return bd.apply(this,arguments)}function bd(){return bd=(0,c.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let s=r.initialUser;u.setCredentialChangeListener(function(){var l=(0,c.A)(function*(p){s.isEqual(p)||(yield sf(e.localStore,p),s=p)});return function(p){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),bd.apply(this,arguments)}function Ja(u,e){return ju.apply(this,arguments)}function ju(){return(ju=(0,c.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield kl(u);Ce("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(s=>cs(e.remoteStore,s)),u.setAppCheckTokenChangeListener((s,l)=>cs(e.remoteStore,l)),u._onlineComponents=e})).apply(this,arguments)}function Td(u){return"FirebaseError"===u.name?u.code===Pe.FAILED_PRECONDITION||u.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}function kl(u){return Of.apply(this,arguments)}function Of(){return(Of=(0,c.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mf(u,u._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Td(r))throw r;ln("Error using user provided cache. Falling back to memory cache: "+r),yield Mf(u,new Qa)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),yield Mf(u,new Qa);return u._offlineComponents})).apply(this,arguments)}function zp(u){return wh.apply(this,arguments)}function wh(){return(wh=(0,c.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ja(u,u._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),yield Ja(u,new pa))),u._onlineComponents})).apply(this,arguments)}function ur(u){return kl(u).then(e=>e.persistence)}function Bu(u){return kl(u).then(e=>e.localStore)}function Ah(u){return zp(u).then(e=>e.remoteStore)}function Jg(u){return zp(u).then(e=>e.syncEngine)}function Fl(u){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,c.A)(function*(u){const e=yield zp(u),r=e.eventManager;return r.onListen=tu.bind(null,e.syncEngine),r.onUnlisten=Jm.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Mp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Zm.bind(null,e.syncEngine),r})).apply(this,arguments)}function Kp(u,e,r={}){const s=new Me;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(p,y,D,N,z){const ie=new Rf({next:ke=>{y.enqueueAndForget(()=>Uu(p,fe));const ut=ke.docs.has(D);!ut&&ke.fromCache?z.reject(new de(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&ke.fromCache&&N&&"server"===N.source?z.reject(new de(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(ke)},error:ke=>z.reject(ke)}),fe=new md(Gr(D.path),ie,{includeMetadataChanges:!0,ra:!0});return fh(p,fe)}(yield Fl(u),u.asyncQueue,e,r,s)})),s.promise}function qp(u,e,r={}){const s=new Me;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(p,y,D,N,z){const ie=new Rf({next:ke=>{y.enqueueAndForget(()=>Uu(p,fe)),ke.fromCache&&"server"===N.source?z.reject(new de(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(ke)},error:ke=>z.reject(ke)}),fe=new md(D,ie,{includeMetadataChanges:!0,ra:!0});return fh(p,fe)}(yield Fl(u),u.asyncQueue,e,r,s)})),s.promise}function tm(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const nm=new Map;function Qp(u,e,r){if(!r)throw new de(Pe.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function rm(u,e,r,s){if(!0===e&&!0===s)throw new de(Pe.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function Jp(u){if(!Lt.isDocumentKey(u))throw new de(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function p_(u){if(Lt.isDocumentKey(u))throw new de(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Zp(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(s=u).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof u?"a function":Pt()}function Dr(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new de(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Zp(u);throw new de(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}function wd(u,e){if(e<=0)throw new de(Pe.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class kf{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new de(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new de(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=tm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new de(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new de(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new de(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new de(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kf(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Te;switch(s.type){case"firstParty":return new At(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=nm.get(r);s&&(Ce("ComponentProvider","Removing Datastore"),nm.delete(r),s.terminate())}(this),Promise.resolve()}}function Ff(u,e,r,s={}){var l;const p=(u=Dr(u,Ad))._getSettings(),y=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==y&&ln("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},p),{host:y,ssl:!1})),s.mockUserToken){let D,N;if("string"==typeof s.mockUserToken)D=s.mockUserToken,N=it.MOCK_USER;else{D=(0,ve.Fy)(s.mockUserToken,null===(l=u._app)||void 0===l?void 0:l.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new de(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new it(z)}u._authCredentials=new De(new Xe(D,N))}}class Zo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class lo{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}}class Za extends Zo{constructor(e,r,s){super(e,r,Gr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new Lt(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function Vf(u,e,...r){if(u=(0,ve.Ku)(u),Qp("collection","path",e),u instanceof Ad){const s=hn.fromString(e,...r);return p_(s),new Za(u,null,s)}{if(!(u instanceof lo||u instanceof Za))throw new de(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(hn.fromString(e,...r));return p_(s),new Za(u.firestore,null,s)}}function $u(u,e){if(u=Dr(u,Ad),Qp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zo(u,null,(s=e,new Ss(hn.emptyPath(),s)));var s}function eg(u,e,...r){if(u=(0,ve.Ku)(u),1===arguments.length&&(e=dr.newId()),Qp("doc","path",e),u instanceof Ad){const s=hn.fromString(e,...r);return Jp(s),new lo(u,null,new Lt(s))}{if(!(u instanceof lo||u instanceof Za))throw new de(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(hn.fromString(e,...r));return Jp(s),new lo(u.firestore,u instanceof Za?u.converter:null,new Lt(s))}}function Dh(u,e){return u=(0,ve.Ku)(u),e=(0,ve.Ku)(e),(u instanceof lo||u instanceof Za)&&(e instanceof lo||e instanceof Za)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function Sh(u,e){return u=(0,ve.Ku)(u),e=(0,ve.Ku)(e),u instanceof Zo&&e instanceof Zo&&u.firestore===e.firestore&&$n(u._query,e._query)&&u.converter===e.converter}class Ph{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ft(this,"async_queue_retry"),this.hu=()=>{const r=ae();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=ae();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=ae();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Me;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,c.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Ct(r))throw r;Ce("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const l=Pp.createAndSchedule(this,e,r,s,p=>this.Eu(p));return this._u.push(l),l}Pu(){this.au&&Pt()}verifyOperationInProgress(){}du(){var e=this;return(0,c.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Lf(u){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const p of["next","error","complete"])if(p in l&&"function"==typeof l[p])return!0;return!1}(u)}class im{constructor(){this._progressObserver={},this._taskCompletionResolver=new Me,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Hu=-1;class ji extends Ad{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new Ph,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jf(this),this._firestoreClient.terminate()}}function Uf(u,e){const r="object"==typeof u?u:(0,ue.getApp)(),s="string"==typeof u?u:e||"(default)",l=(0,ue._getProvider)(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const p=(0,ve.yU)("firestore");p&&Ff(l,...p)}return l}function ho(u){return u._firestoreClient||jf(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function jf(u){var e,r,s;const l=u._freezeSettings(),p=(N=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new ps(u._databaseId,N,u._persistenceKey,(ie=l).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,tm(ie.experimentalLongPollingOptions),ie.useFetchStreams));var N,ie;u._firestoreClient=new a_(u._authCredentials,u._appCheckCredentials,u._queue,p),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Bf(u,e){m_(u=Dr(u,ji));const r=ho(u);if(r._uninitializedComponentsProvider)throw new de(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");ln("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=u._freezeSettings(),l=new pa;return Ll(r,l,new Gp(l,s.cacheSizeBytes,e?.forceOwnership))}function wc(u){m_(u=Dr(u,ji));const e=ho(u);if(e._uninitializedComponentsProvider)throw new de(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");ln("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings(),s=new pa;return Ll(e,s,new i_(s,r.cacheSizeBytes))}function Ll(u,e,r){const s=new Me;return u.asyncQueue.enqueue((0,c.A)(function*(){try{yield Mf(u,r),yield Ja(u,e),s.resolve()}catch(l){const p=l;if(!Td(p))throw p;ln("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function tg(u){if(u._initialized&&!u._terminated)throw new de(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Me;return u._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(l){if(!oe.D())return Promise.resolve();const p=l+"main";yield oe.delete(p)}),function s(l){return r.apply(this,arguments)})(th(u._databaseId,u._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function g_(u){return function(r){const s=new Me;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Tf(u,e){return wf.apply(this,arguments)}(yield Jg(r),s)})),s.promise}(ho(u=Dr(u,ji)))}function sm(u){return function u_(u){return u.asyncQueue.enqueue((0,c.A)(function*(){const e=yield ur(u),r=yield Ah(u);return e.setNetworkEnabled(!0),function(l){const p=at(l);return p.M_.delete(0),Xa(p)}(r)}))}(ho(u=Dr(u,ji)))}function ou(u){return function l_(u){return u.asyncQueue.enqueue((0,c.A)(function*(){const e=yield ur(u),r=yield Ah(u);return e.setNetworkEnabled(!1),(s=(0,c.A)(function*(p){const y=at(p);y.M_.add(0),yield bc(y),y.N_.set("Offline")}),function l(p){return s.apply(this,arguments)})(r);var s}))}(ho(u=Dr(u,ji)))}function Dd(u,e){const r=ho(u=Dr(u,ji)),s=new im;return function Vl(u,e,r,s){const l=function(y,D){let N;return N="string"==typeof y?Ws().encode(y):y,ie=function(ie,fe){if(ie instanceof Uint8Array)return Yg(ie,void 0);if(ie instanceof ArrayBuffer)return Yg(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Qg(ie,D);var ie}(r,Ue(e));u.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function Ya(u,e,r){const s=at(u);var l;(l=(0,c.A)(function*(y,D,N){try{const z=yield D.getMetadata();if(yield function($t,nn){const qt=at($t),kn=zi(nn.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",Qn=>qt.$r.getBundleMetadata(Qn,nn.id)).then(Qn=>!!Qn&&Qn.createTime.compareTo(kn)>=0)}(y.localStore,z))return yield D.close(),N._completeWith({taskState:"Success",documentsLoaded:($t=z).totalDocuments,bytesLoaded:$t.totalBytes,totalDocuments:$t.totalDocuments,totalBytes:$t.totalBytes}),Promise.resolve(new Set);N._updateProgress($g(z));const ie=new If(z,y.localStore,D.serializer);let fe=yield D.qa();for(;fe;){const ut=yield ie._a(fe);ut&&N._updateProgress(ut),fe=yield D.qa()}const ke=yield ie.complete();return yield Tc(y,ke.ca,void 0),yield function($t,nn){const qt=at($t);return qt.persistence.runTransaction("Save bundle","readwrite",kn=>qt.$r.saveBundleMetadata(kn,nn))}(y.localStore,z),N._completeWith(ke.progress),Promise.resolve(ke.ua)}catch(z){return ln("SyncEngine",`Loading bundle failed with ${z}`),N._failWith(z),Promise.resolve(new Set)}var $t}),function p(y,D,N){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Jg(u),l,s)}))}(r,u._databaseId,e,s),s}function ng(u,e){return function Zg(u,e){return u.asyncQueue.enqueue((0,c.A)(function*(){return function(s,l){const p=at(s);return p.persistence.runTransaction("Get named query","readonly",y=>p.$r.getNamedQuery(y,l))}(yield Bu(u),e)}))}(ho(u=Dr(u,ji)),e).then(r=>r?new Zo(u,null,r.query):null)}function m_(u){if(u._initialized||u._terminated)throw new de(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gu(Oi.fromBase64String(e))}catch(r){throw new de(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Gu(Oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class su{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new de(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sd{constructor(e){this._methodName=e}}class rg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new de(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new de(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const uv=/^__.*__$/;class lv{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Rr(e,this.data,this.fieldMask,r,this.fieldTransforms):new In(e,this.data,r,this.fieldTransforms)}}class dv{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Rr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function __(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class Pd{constructor(e,r,s,l,p,y){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===p&&this.mu(),this.fieldTransforms=p||[],this.fieldMask=y||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.wu(e),l}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.mu(),l}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Mh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(__(this.fu)&&uv.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class hv{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Ue(e)}Fu(e,r,s,l=!1){return new Pd({fu:e,methodName:r,vu:s,path:Gn.emptyPath(),yu:!1,Cu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(u){const e=u._freezeSettings(),r=Ue(u._databaseId);return new hv(u._databaseId,!!e.ignoreUndefinedProperties,r)}function xh(u,e,r,s,l,p={}){const y=u.Fu(p.merge||p.mergeFields?2:0,e,r,l);cm("Data must be an object, but it was:",y,s);const D=zf(s,y);let N,z;if(p.merge)N=new qi(y.fieldMask),z=y.fieldTransforms;else if(p.mergeFields){const ie=[];for(const fe of p.mergeFields){const ke=Md(e,fe,r);if(!y.contains(ke))throw new de(Pe.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);um(ie,ke)||ie.push(ke)}N=new qi(ie),z=y.fieldTransforms.filter(fe=>N.covers(fe.field))}else N=null,z=y.fieldTransforms;return new lv(new pi(D),N,z)}class au extends Sd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof au}}function ig(u,e,r){return new Pd({fu:3,vu:e.settings.vu,methodName:u._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Hf extends Sd{_toFieldTransform(e){return new Ia(e.path,new cc)}isEqual(e){return e instanceof Hf}}class xd extends Sd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=ig(this,e,!0),s=this.Mu.map(p=>Rd(p,r)),l=new xs(s);return new Ia(e.path,l)}isEqual(e){return e instanceof xd&&(0,ve.bD)(this.Mu,e.Mu)}}class jl extends Sd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=ig(this,e,!0),s=this.Mu.map(p=>Rd(p,r)),l=new zs(s);return new Ia(e.path,l)}isEqual(e){return e instanceof jl&&(0,ve.bD)(this.Mu,e.Mu)}}class Ac extends Sd{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Ca(e.serializer,Ea(e.serializer,this.xu));return new Ia(e.path,r)}isEqual(e){return e instanceof Ac&&this.xu===e.xu}}function Bl(u,e,r,s){const l=u.Fu(1,e,r);cm("Data must be an object, but it was:",l,s);const p=[],y=pi.empty();So(s,(N,z)=>{const ie=og(e,N,r);z=(0,ve.Ku)(z);const fe=l.Su(ie);if(z instanceof au)p.push(ie);else{const ke=Rd(z,fe);null!=ke&&(p.push(ie),y.set(ie,ke))}});const D=new qi(p);return new dv(y,D,l.fieldTransforms)}function Gf(u,e,r,s,l,p){const y=u.Fu(1,e,r),D=[Md(e,s,r)],N=[l];if(p.length%2!=0)throw new de(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<p.length;ke+=2)D.push(Md(e,p[ke])),N.push(p[ke+1]);const z=[],ie=pi.empty();for(let ke=D.length-1;ke>=0;--ke)if(!um(z,D[ke])){const ut=D[ke];let $t=N[ke];$t=(0,ve.Ku)($t);const nn=y.Su(ut);if($t instanceof au)z.push(ut);else{const qt=Rd($t,nn);null!=qt&&(z.push(ut),ie.set(ut,qt))}}const fe=new qi(z);return new dv(ie,fe,y.fieldTransforms)}function $l(u,e,r,s=!1){return Rd(r,u.Fu(s?4:3,e))}function Rd(u,e){if(Rh(u=(0,ve.Ku)(u)))return cm("Unsupported field value:",e,u),zf(u,e);if(u instanceof Sd)return function(s,l){if(!__(l.fu))throw l.Du(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Du(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(l);p&&l.fieldTransforms.push(p)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,l){const p=[];let y=0;for(const D of s){let N=Rd(D,l.bu(y));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),y++}return{arrayValue:{values:p}}}(u,e)}return function(s,l){if(null===(s=(0,ve.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ea(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=zt.fromDate(s);return{timestampValue:Ho(l.serializer,p)}}if(s instanceof zt){const p=new zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ho(l.serializer,p)}}if(s instanceof rg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gu)return{bytesValue:rl(l.serializer,s._byteString)};if(s instanceof lo){const p=l.databaseId,y=s.firestore._databaseId;if(!y.isEqual(p))throw l.Du(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:ua(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Du(`Unsupported field value: ${Zp(s)}`)}(u,e)}function zf(u,e){const r={};return Bi(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(u,(s,l)=>{const p=Rd(l,e.pu(s));null!=p&&(r[s]=p)}),{mapValue:{fields:r}}}function Rh(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof zt||u instanceof rg||u instanceof Gu||u instanceof lo||u instanceof Sd)}function cm(u,e,r){if(!Rh(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Zp(r);throw e.Du("an object"===s?u+" a custom object":u+" "+s)}var l}function Md(u,e,r){if((e=(0,ve.Ku)(e))instanceof su)return e._internalPath;if("string"==typeof e)return og(u,e);throw Mh("Field path arguments must be of type string or ",u,!1,void 0,r)}const fv=new RegExp("[~\\*/\\[\\]]");function og(u,e,r){if(e.search(fv)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new su(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function Mh(u,e,r,s,l){const p=s&&!s.isEmpty(),y=void 0!==l;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(p||y)&&(N+=" (found",p&&(N+=` in field ${s}`),y&&(N+=` in document ${l}`),N+=")"),new de(Pe.INVALID_ARGUMENT,D+u+N)}function um(u,e){return u.some(r=>r.isEqual(e))}class Wf{constructor(e,r,s,l,p){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class pv extends Wf{data(){return super.data()}}function lm(u,e){return"string"==typeof e?og(u,e):e instanceof su?e._internalPath:e._delegate._internalPath}function v_(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new de(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oh{}class Od extends Oh{}function gv(u,e,...r){let s=[];e instanceof Oh&&s.push(e),s=s.concat(r),function(p){const y=p.filter(N=>N instanceof Wu).length,D=p.filter(N=>N instanceof Nh).length;if(y>1||y>0&&D>0)throw new de(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)u=l._apply(u);return u}class Nh extends Od{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Nh(e,r,s)}_apply(e){const r=this._parse(e);return gm(e._query,r),new Zo(e.firestore,e.converter,Oe(e._query,r))}_parse(e){const r=zu(e.firestore);return function(p,y,D,N,z,ie,fe){let ke;if(z.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new de(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){pm(fe,ie);const ut=[];for(const $t of fe)ut.push(I_(N,p,$t));ke={arrayValue:{values:ut}}}else ke=I_(N,p,fe)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||pm(fe,ie),ke=$l(D,"where",fe,"in"===ie||"not-in"===ie);return kt.create(z,ie,ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function dm(u,e,r){const s=e,l=lm("where",u);return Nh._create(l,s,r)}class Wu extends Oh{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Wu(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:tn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,p){let y=l;const D=p.getFlattenedFilters();for(const N of D)gm(y,N),y=Oe(y,N)}(e._query,r),new Zo(e.firestore,e.converter,Oe(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hm extends Od{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new hm(e,r)}_apply(e){const r=function(l,p,y){if(null!==l.startAt)throw new de(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new de(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Et(p,y)}(e._query,this._field,this._direction);return new Zo(e.firestore,e.converter,function(l,p){const y=l.explicitOrderBy.concat([p]);return new Ss(l.path,l.collectionGroup,y,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}function y_(u,e="asc"){const r=e,s=lm("orderBy",u);return hm._create(s,r)}class fm extends Od{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new fm(e,r,s)}_apply(e){return new Zo(e.firestore,e.converter,vn(e._query,this._limit,this._limitType))}}function _v(u){return wd("limit",u),fm._create("limit",u,"F")}function sg(u){return wd("limitToLast",u),fm._create("limitToLast",u,"L")}class ag extends Od{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new ag(e,r,s)}_apply(e){const r=C_(e,this.type,this._docOrFields,this._inclusive);return new Zo(e.firestore,e.converter,(p=r,new Ss((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,p,l.endAt)));var l,p}}function kh(...u){return ag._create("startAt",u,!0)}function Kf(...u){return ag._create("startAfter",u,!1)}class cg extends Od{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new cg(e,r,s)}_apply(e){const r=C_(e,this.type,this._docOrFields,this._inclusive);return new Zo(e.firestore,e.converter,(p=r,new Ss((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,p)));var l,p}}function E_(...u){return cg._create("endBefore",u,!1)}function vv(...u){return cg._create("endAt",u,!0)}function C_(u,e,r,s){if(r[0]=(0,ve.Ku)(r[0]),r[0]instanceof Wf)return function(p,y,D,N,z){if(!N)throw new de(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ie=[];for(const fe of G(p))if(fe.field.isKeyField())ie.push(Qt(y,N.key));else{const ke=N.data.field(fe.field);if(ts(ke))throw new de(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const ut=fe.field.canonicalString();throw new de(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ut}' (used as the orderBy) does not exist.`)}ie.push(ke)}return new _e(ie,z)}(u._query,u.firestore._databaseId,e,r[0]._document,s);{const l=zu(u.firestore);return function(y,D,N,z,ie,fe){const ke=y.explicitOrderBy;if(ie.length>ke.length)throw new de(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ut=[];for(let $t=0;$t<ie.length;$t++){const nn=ie[$t];if(ke[$t].field.isKeyField()){if("string"!=typeof nn)throw new de(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof nn}`);if(!Fa(y)&&-1!==nn.indexOf("/"))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${nn}' contains a slash.`);const qt=y.path.child(hn.fromString(nn));if(!Lt.isDocumentKey(qt))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${qt}' is not because it contains an odd number of segments.`);const kn=new Lt(qt);ut.push(Qt(D,kn))}else{const qt=$l(N,z,nn);ut.push(qt)}}return new _e(ut,fe)}(u._query,u.firestore._databaseId,l,e,r,s)}}function I_(u,e,r){if("string"==typeof(r=(0,ve.Ku)(r))){if(""===r)throw new de(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fa(e)&&-1!==r.indexOf("/"))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(hn.fromString(r));if(!Lt.isDocumentKey(s))throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qt(u,new Lt(s))}if(r instanceof lo)return Qt(u,r._key);throw new de(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(r)}.`)}function pm(u,e){if(!Array.isArray(u)||0===u.length)throw new de(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gm(u,e){const r=function(l,p){for(const y of l)for(const D of y.getFlattenedFilters())if(p.indexOf(D.op)>=0)return D.op;return null}(u.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new de(Pe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class b_{convertValue(e,r="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Pt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return So(e,(l,p)=>{s[l]=this.convertValue(p,r)}),s}convertGeoPoint(e){return new rg(fi(e.latitude),fi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=fs(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const r=vo(e);return new zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=hn.fromString(e);Bt(ba(s));const l=new Yn(s.get(1),s.get(3)),p=new Lt(s.popFirst(5));return l.isEqual(r)||Yt(`Document ${p} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Fh(u,e,r){let s;return s=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,s}class T_ extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}class Nd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kd extends Wf{constructor(e,r,s,l,p,y){super(e,r,s,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class lg extends kd{data(e={}){return super.data(e)}}class Hl{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Nd(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new lg(this._firestore,this._userDataWriter,s.key,s,new Nd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new de(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,p){if(l._snapshot.oldDocs.isEmpty()){let y=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new lg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Nd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:y++}))}{let y=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>p||3!==D.type).map(D=>{const N=new lg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Nd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let z=-1,ie=-1;return 0!==D.type&&(z=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),ie=y.indexOf(D.doc.key)),{type:A_(D.type),doc:N,oldIndex:z,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function A_(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function Dc(u,e){return u instanceof kd&&e instanceof kd?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof Hl&&e instanceof Hl&&u._firestore===e._firestore&&Sh(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function D_(u){u=Dr(u,lo);const e=Dr(u.firestore,ji);return Kp(ho(e),u._key).then(r=>hg(e,u,r))}class Fd extends b_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}function mm(u){u=Dr(u,lo);const e=Dr(u.firestore,ji),r=ho(e),s=new Fd(e);return function d_(u,e){const r=new Me;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(p,y,D){try{const N=yield function(ie,fe){const ke=at(ie);return ke.persistence.runTransaction("read document","readonly",ut=>ke.localDocuments.getDocument(ut,fe))}(p,y);N.isFoundDocument()?D.resolve(N):N.isNoDocument()?D.resolve(null):D.reject(new de(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const z=Sl(N,`Failed to get document '${y} from cache`);D.reject(z)}}),function l(p,y,D){return s.apply(this,arguments)})(yield Bu(u),e,r);var s})),r.promise}(r,u._key).then(l=>new kd(e,s,u._key,l,new Nd(null!==l&&l.hasLocalMutations,!0),u.converter))}function Gl(u){u=Dr(u,lo);const e=Dr(u.firestore,ji);return Kp(ho(e),u._key,{source:"server"}).then(r=>hg(e,u,r))}function dg(u){u=Dr(u,Zo);const e=Dr(u.firestore,ji),r=ho(e),s=new Fd(e);return v_(u._query),qp(r,u._query).then(l=>new Hl(e,s,u,l))}function Ev(u){u=Dr(u,Zo);const e=Dr(u.firestore,ji),r=ho(e),s=new Fd(e);return function Nf(u,e){const r=new Me;return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(p,y,D){try{const N=yield _l(p,y,!0),z=new zg(y,N.hs),ie=z.da(N.documents),fe=z.applyChanges(ie,!1);D.resolve(fe.snapshot)}catch(N){const z=Sl(N,`Failed to execute query '${y} against cache`);D.reject(z)}}),function l(p,y,D){return s.apply(this,arguments)})(yield Bu(u),e,r);var s})),r.promise}(r,u._query).then(l=>new Hl(e,s,u,l))}function Cv(u){u=Dr(u,Zo);const e=Dr(u.firestore,ji),r=ho(e),s=new Fd(e);return qp(r,u._query,{source:"server"}).then(l=>new Hl(e,s,u,l))}function Iv(u,e,r){u=Dr(u,lo);const s=Dr(u.firestore,ji),l=Fh(u.converter,e,r);return fo(s,[xh(zu(s),"setDoc",u._key,l,null!==u.converter,r).toMutation(u._key,Ii.none())])}function _m(u,e,r,...s){u=Dr(u,lo);const l=Dr(u.firestore,ji),p=zu(l);let y;return y="string"==typeof(e=(0,ve.Ku)(e))||e instanceof su?Gf(p,"updateDoc",u._key,e,r,s):Bl(p,"updateDoc",u._key,e),fo(l,[y.toMutation(u._key,Ii.exists(!0))])}function cu(u){return fo(Dr(u.firestore,ji),[new mi(u._key,Ii.none())])}function S_(u,e){const r=Dr(u.firestore,ji),s=eg(u),l=Fh(u.converter,e);return fo(r,[xh(zu(u.firestore),"addDoc",s._key,l,null!==u.converter,{}).toMutation(s._key,Ii.exists(!1))]).then(()=>s)}function P_(u,...e){var r,s,l;u=(0,ve.Ku)(u);let p={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof e[y]||Lf(e[y])||(p=e[y],y++);const D={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Lf(e[y])){const fe=e[y];e[y]=null===(r=fe.next)||void 0===r?void 0:r.bind(fe),e[y+1]=null===(s=fe.error)||void 0===s?void 0:s.bind(fe),e[y+2]=null===(l=fe.complete)||void 0===l?void 0:l.bind(fe)}let N,z,ie;if(u instanceof lo)z=Dr(u.firestore,ji),ie=Gr(u._key.path),N={next:fe=>{e[y]&&e[y](hg(z,u,fe))},error:e[y+1],complete:e[y+2]};else{const fe=Dr(u,Zo);z=Dr(fe.firestore,ji),ie=fe._query;const ke=new Fd(z);N={next:ut=>{e[y]&&e[y](new Hl(z,ke,fe,ut))},error:e[y+1],complete:e[y+2]},v_(u._query)}return function(ke,ut,$t,nn){const qt=new Rf(nn),kn=new md(ut,qt,$t);return ke.asyncQueue.enqueueAndForget((0,c.A)(function*(){return fh(yield Fl(ke),kn)})),()=>{qt.$a(),ke.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Uu(yield Fl(ke),kn)}))}}(ho(z),ie,D,N)}function vm(u,e){return function h_(u,e){const r=new Rf(e);return u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return l=yield Fl(u),p=r,at(l).z_.add(p),void p.next();var l,p})),()=>{r.$a(),u.asyncQueue.enqueueAndForget((0,c.A)(function*(){return l=yield Fl(u),p=r,void at(l).z_.delete(p);var l,p}))}}(ho(u=Dr(u,ji)),Lf(e)?e:{next:e})}function fo(u,e){return function(s,l){const p=new Me;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function mh(u,e,r){return Np.apply(this,arguments)}(yield Jg(s),l,p)})),p.promise}(ho(u),e)}function hg(u,e,r){const s=r.docs.get(e._key),l=new Fd(u);return new kd(u,l,e._key,s,new Nd(r.hasPendingWrites,r.fromCache),e.converter)}const Ku={maxAttempts:5};class Vd{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=zu(e)}set(e,r,s){this._verifyNotCommitted();const l=zl(e,this._firestore),p=Fh(l.converter,r,s),y=xh(this._dataReader,"WriteBatch.set",l._key,p,null!==l.converter,s);return this._mutations.push(y.toMutation(l._key,Ii.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const p=zl(e,this._firestore);let y;return y="string"==typeof(r=(0,ve.Ku)(r))||r instanceof su?Gf(this._dataReader,"WriteBatch.update",p._key,r,s,l):Bl(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(y.toMutation(p._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=zl(e,this._firestore);return this._mutations=this._mutations.concat(new mi(r._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zl(u,e){if((u=(0,ve.Ku)(u)).firestore!==e)throw new de(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class Dv extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=zu(r)}get(r){const s=zl(r,this._firestore),l=new T_(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return Pt();const y=p[0];if(y.isFoundDocument())return new Wf(this._firestore,l,y.key,y,s.converter);if(y.isNoDocument())return new Wf(this._firestore,l,s._key,null,s.converter);throw Pt()})}set(r,s,l){const p=zl(r,this._firestore),y=Fh(p.converter,s,l),D=xh(this._dataReader,"Transaction.set",p._key,y,null!==p.converter,l);return this._transaction.set(p._key,D),this}update(r,s,l,...p){const y=zl(r,this._firestore);let D;return D="string"==typeof(s=(0,ve.Ku)(s))||s instanceof su?Gf(this._dataReader,"Transaction.update",y._key,s,l,p):Bl(this._dataReader,"Transaction.update",y._key,s),this._transaction.update(y._key,D),this}delete(r){const s=zl(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=zl(e,this._firestore),s=new Fd(this._firestore);return super.get(e).then(l=>new kd(this._firestore,s,r._key,l._document,new Nd(!1,!1),r.converter))}}function N_(u,e,r){u=Dr(u,ji);const s=Object.assign(Object.assign({},Ku),r);return function(p){if(p.maxAttempts<1)throw new de(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,y,D){const N=new Me;return p.asyncQueue.enqueueAndForget((0,c.A)(function*(){const z=yield function c_(u){return zp(u).then(e=>e.datastore)}(p);new s_(p.asyncQueue,z,D,y,N).Xa()})),N.promise}(ho(u),l=>e(new Dv(u,l)),s)}function k_(){return new au("deleteField")}function Cm(){return new Hf("serverTimestamp")}function Xf(...u){return new xd("arrayUnion",u)}function gg(...u){return new jl("arrayRemove",u)}function F_(u){return new Ac("increment",u)}!function(e,r=!0){Ye=ue.SDK_VERSION,(0,ue._registerComponent)(new o.uA("firestore",(s,{instanceIdentifier:l,options:p})=>{const y=s.getProvider("app").getImmediate(),D=new ji(new He(s.getProvider("auth-internal")),new en(s.getProvider("app-check-internal")),function(z,ie){if(!Object.prototype.hasOwnProperty.apply(z.options,["projectId"]))throw new de(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yn(z.options.projectId,ie)}(y,l),y);return p=Object.assign({useFetchStreams:r},p),D._setSettings(p),D},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(ze,"4.6.3",e),(0,ue.registerVersion)(ze,"4.6.3","esm2017")}()},4535:(rn,Qe,L)=>{L.d(Qe,{Ad:()=>Nn,D5:()=>Qt,KR:()=>hi,Mp:()=>Eo,Mx:()=>ti,TZ:()=>Wt,UC:()=>Ai,UY:()=>nr,XR:()=>xo,ZH:()=>Cn,_w:()=>cr,bp:()=>co,c7:()=>Hr,nb:()=>Ro,nw:()=>gn,p_:()=>zn,qk:()=>ki,uj:()=>Yt,xc:()=>Vn,yb:()=>$r});var c=L(467),ue=L(7852),o=L(1076),be=L(1362);const ve="firebasestorage.googleapis.com",me="storageBucket";class te extends o.g{constructor(H,_e,we=0){super(ge(H),`Firebase Storage: ${_e} (${ge(H)})`),this.status_=we,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,te.prototype)}get status(){return this.status_}set status(H){this.status_=H}_codeEquals(H){return ge(H)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(H){this.customData.serverResponse=H,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ce=function(Q){return Q.UNKNOWN="unknown",Q.OBJECT_NOT_FOUND="object-not-found",Q.BUCKET_NOT_FOUND="bucket-not-found",Q.PROJECT_NOT_FOUND="project-not-found",Q.QUOTA_EXCEEDED="quota-exceeded",Q.UNAUTHENTICATED="unauthenticated",Q.UNAUTHORIZED="unauthorized",Q.UNAUTHORIZED_APP="unauthorized-app",Q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Q.INVALID_CHECKSUM="invalid-checksum",Q.CANCELED="canceled",Q.INVALID_EVENT_NAME="invalid-event-name",Q.INVALID_URL="invalid-url",Q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Q.NO_DEFAULT_BUCKET="no-default-bucket",Q.CANNOT_SLICE_BLOB="cannot-slice-blob",Q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Q.NO_DOWNLOAD_URL="no-download-url",Q.INVALID_ARGUMENT="invalid-argument",Q.INVALID_ARGUMENT_COUNT="invalid-argument-count",Q.APP_DELETED="app-deleted",Q.INVALID_ROOT_OPERATION="invalid-root-operation",Q.INVALID_FORMAT="invalid-format",Q.INTERNAL_ERROR="internal-error",Q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Q}(ce||{});function ge(Q){return"storage/"+Q}function st(){return new te(ce.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function an(){return new te(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Je(){return new te(ce.CANCELED,"User canceled the upload/download.")}function nt(){return new te(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yt(Q){return new te(ce.INVALID_ARGUMENT,Q)}function ln(){return new te(ce.APP_DELETED,"The Firebase app was deleted.")}function nr(Q){return new te(ce.INVALID_ROOT_OPERATION,"The operation '"+Q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pt(Q,H){return new te(ce.INVALID_FORMAT,"String does not match format '"+Q+"': "+H)}function Bt(Q){throw new te(ce.INTERNAL_ERROR,"Internal error: "+Q)}class Wt{constructor(H,_e){this.bucket=H,this.path_=_e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const H=encodeURIComponent;return"/b/"+H(this.bucket)+"/o/"+H(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(H,_e){let we;try{we=Wt.makeFromUrl(H,_e)}catch{return new Wt(H,"")}if(""===we.path)return we;throw function it(Q){return new te(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Q+"'.")}(H)}static makeFromUrl(H,_e){let we=null;const Be="([A-Za-z0-9.\\-_]+)",_n=new RegExp("^gs://"+Be+"(/(.*))?$","i");function tn(ii){ii.path_=decodeURIComponent(ii.path)}const Dn=_e.replace(/[.]/g,"\\."),pr=[{regex:_n,indices:{bucket:1,path:3},postModify:function Et(ii){"/"===ii.path.charAt(ii.path.length-1)&&(ii.path_=ii.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Dn}/v[A-Za-z0-9_]+/b/${Be}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:tn},{regex:new RegExp(`^https?://${_e===ve?"(?:storage.googleapis.com|storage.cloud.google.com)":_e}/${Be}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:tn}];for(let ii=0;ii<pr.length;ii++){const Xr=pr[ii],kr=Xr.regex.exec(H);if(kr){let Fi=kr[Xr.indices.path];Fi||(Fi=""),we=new Wt(kr[Xr.indices.bucket],Fi),Xr.postModify(we);break}}if(null==we)throw function ze(Q){return new te(ce.INVALID_URL,"Invalid URL '"+Q+"'.")}(H);return we}}class at{constructor(H){this.promise_=Promise.reject(H)}getPromise(){return this.promise_}cancel(H=!1){}}function De(Q){return"string"==typeof Q||Q instanceof String}function He(Q){return bt()&&Q instanceof Blob}function bt(){return typeof Blob<"u"}function At(Q,H,_e,we){if(we<H)throw Yt(`Invalid value for '${Q}'. Expected ${H} or greater.`);if(we>_e)throw Yt(`Invalid value for '${Q}'. Expected ${_e} or less.`)}function dn(Q,H,_e){let we=H;return null==_e&&(we=`https://${H}`),`${_e}://${we}/v0${Q}`}function en(Q){const H=encodeURIComponent;let _e="?";for(const we in Q)Q.hasOwnProperty(we)&&(_e=_e+(H(we)+"=")+H(Q[we])+"&");return _e=_e.slice(0,-1),_e}var On=function(Q){return Q[Q.NO_ERROR=0]="NO_ERROR",Q[Q.NETWORK_ERROR=1]="NETWORK_ERROR",Q[Q.ABORT=2]="ABORT",Q}(On||{});function En(Q,H){const _e=Q>=500&&Q<600,Be=-1!==[408,429].indexOf(Q),Et=-1!==H.indexOf(Q);return _e||Be||Et}class dr{constructor(H,_e,we,Be,Et,Jt,_n,kt,tn,Kn,Dn,ni=!0){this.url_=H,this.method_=_e,this.headers_=we,this.body_=Be,this.successCodes_=Et,this.additionalRetryCodes_=Jt,this.callback_=_n,this.errorCallback_=kt,this.timeout_=tn,this.progressCallback_=Kn,this.connectionFactory_=Dn,this.retry=ni,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ri,gi)=>{this.resolve_=ri,this.reject_=gi,this.start_()})}start_(){const _e=(we,Be)=>{const Et=this.resolve_,Jt=this.reject_,_n=Be.connection;if(Be.wasSuccessCode)try{const kt=this.callback_(_n,_n.getResponse());!function Me(Q){return void 0!==Q}(kt)?Et():Et(kt)}catch(kt){Jt(kt)}else if(null!==_n){const kt=st();kt.serverResponse=_n.getErrorText(),Jt(this.errorCallback_?this.errorCallback_(_n,kt):kt)}else Jt(Be.canceled?this.appDelete_?ln():Je():an())};this.canceled_?_e(0,new Ht(!1,null,!0)):this.backoffId_=function Pe(Q,H,_e){let we=1,Be=null,Et=null,Jt=!1,_n=0;function kt(){return 2===_n}let tn=!1;function Kn(...qr){tn||(tn=!0,H.apply(null,qr))}function Dn(qr){Be=setTimeout(()=>{Be=null,Q(ri,kt())},qr)}function ni(){Et&&clearTimeout(Et)}function ri(qr,...eo){if(tn)return void ni();if(qr)return ni(),void Kn.call(null,qr,...eo);if(kt()||Jt)return ni(),void Kn.call(null,qr,...eo);let pr;we<64&&(we*=2),1===_n?(_n=2,pr=0):pr=1e3*(we+Math.random()),Dn(pr)}let gi=!1;function Kr(qr){gi||(gi=!0,ni(),!tn&&(null!==Be?(qr||(_n=2),clearTimeout(Be),Dn(0)):qr||(_n=1)))}return Dn(0),Et=setTimeout(()=>{Jt=!0,Kr(!0)},_e),Kr}((we,Be)=>{if(Be)return void we(!1,new Ht(!1,null,!0));const Et=this.connectionFactory_();this.pendingConnection_=Et;const Jt=_n=>{null!==this.progressCallback_&&this.progressCallback_(_n.loaded,_n.lengthComputable?_n.total:-1)};null!==this.progressCallback_&&Et.addUploadProgressListener(Jt),Et.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Et.removeUploadProgressListener(Jt),this.pendingConnection_=null;const _n=Et.getErrorCode()===On.NO_ERROR,kt=Et.getStatus();if(!_n||En(kt,this.additionalRetryCodes_)&&this.retry){const Kn=Et.getErrorCode()===On.ABORT;return void we(!1,new Ht(!1,null,Kn))}const tn=-1!==this.successCodes_.indexOf(kt);we(!0,new Ht(tn,Et))})},_e,this.timeout_)}getPromise(){return this.promise_}cancel(H){this.canceled_=!0,this.appDelete_=H||!1,null!==this.backoffId_&&function de(Q){Q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ht{constructor(H,_e,we){this.wasSuccessCode=H,this.connection=_e,this.canceled=!!we}}function yr(...Q){const H=function hn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==H){const _e=new H;for(let we=0;we<Q.length;we++)_e.append(Q[we]);return _e.getBlob()}if(bt())return new Blob(Q);throw new te(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xn{constructor(H,_e){this.data=H,this.contentType=_e||null}}function Cn(Q,H){switch(Q){case gn.RAW:return new xn(hr(H));case gn.BASE64:case gn.BASE64URL:return new xn(Zr(Q,H));case gn.DATA_URL:return new xn(function ei(Q){const H=new Bn(Q);return H.base64?Zr(gn.BASE64,H.rest):function Er(Q){let H;try{H=decodeURIComponent(Q)}catch{throw Pt(gn.DATA_URL,"Malformed data URL.")}return hr(H)}(H.rest)}(H),function Ki(Q){return new Bn(Q).contentType}(H))}throw st()}function hr(Q){const H=[];for(let _e=0;_e<Q.length;_e++){let we=Q.charCodeAt(_e);we<=127?H.push(we):we<=2047?H.push(192|we>>6,128|63&we):55296==(64512&we)?_e<Q.length-1&&56320==(64512&Q.charCodeAt(_e+1))?(we=65536|(1023&we)<<10|1023&Q.charCodeAt(++_e),H.push(240|we>>18,128|we>>12&63,128|we>>6&63,128|63&we)):H.push(239,191,189):56320==(64512&we)?H.push(239,191,189):H.push(224|we>>12,128|we>>6&63,128|63&we)}return new Uint8Array(H)}function Zr(Q,H){switch(Q){case gn.BASE64:{const Be=-1!==H.indexOf("-"),Et=-1!==H.indexOf("_");if(Be||Et)throw Pt(Q,"Invalid character '"+(Be?"-":"_")+"' found: is it base64url encoded?");break}case gn.BASE64URL:{const Be=-1!==H.indexOf("+"),Et=-1!==H.indexOf("/");if(Be||Et)throw Pt(Q,"Invalid character '"+(Be?"+":"/")+"' found: is it base64 encoded?");H=H.replace(/-/g,"+").replace(/_/g,"/");break}}let _e;try{_e=function Lt(Q){if(typeof atob>"u")throw function Ce(Q){return new te(ce.UNSUPPORTED_ENVIRONMENT,`${Q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Q)}(H)}catch(Be){throw Be.message.includes("polyfill")?Be:Pt(Q,"Invalid character found")}const we=new Uint8Array(_e.length);for(let Be=0;Be<_e.length;Be++)we[Be]=_e.charCodeAt(Be);return we}class Bn{constructor(H){this.base64=!1,this.contentType=null;const _e=H.match(/^data:([^,]+)?,/);if(null===_e)throw Pt(gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const we=_e[1]||null;null!=we&&(this.base64=function cn(Q,H){return Q.length>=H.length&&Q.substring(Q.length-H.length)===H}(we,";base64"),this.contentType=this.base64?we.substring(0,we.length-7):we),this.rest=H.substring(H.indexOf(",")+1)}}class ti{constructor(H,_e){let we=0,Be="";He(H)?(this.data_=H,we=H.size,Be=H.type):H instanceof ArrayBuffer?(_e?this.data_=new Uint8Array(H):(this.data_=new Uint8Array(H.byteLength),this.data_.set(new Uint8Array(H))),we=this.data_.length):H instanceof Uint8Array&&(_e?this.data_=H:(this.data_=new Uint8Array(H.length),this.data_.set(H)),we=H.length),this.size_=we,this.type_=Be}size(){return this.size_}type(){return this.type_}slice(H,_e){if(He(this.data_)){const Be=function Gn(Q,H,_e){return Q.webkitSlice?Q.webkitSlice(H,_e):Q.mozSlice?Q.mozSlice(H,_e):Q.slice?Q.slice(H,_e):null}(this.data_,H,_e);return null===Be?null:new ti(Be)}{const we=new Uint8Array(this.data_.buffer,H,_e-H);return new ti(we,!0)}}static getBlob(...H){if(bt()){const _e=H.map(we=>we instanceof ti?we.data_:we);return new ti(yr.apply(null,_e))}{const _e=H.map(Jt=>De(Jt)?Cn(gn.RAW,Jt).data:Jt.data_);let we=0;_e.forEach(Jt=>{we+=Jt.byteLength});const Be=new Uint8Array(we);let Et=0;return _e.forEach(Jt=>{for(let _n=0;_n<Jt.length;_n++)Be[Et++]=Jt[_n]}),new ti(Be,!0)}}uploadData(){return this.data_}}function Xn(Q){let H;try{H=JSON.parse(Q)}catch{return null}return function Te(Q){return"object"==typeof Q&&!Array.isArray(Q)}(H)?H:null}function _i(Q){const H=Q.lastIndexOf("/",Q.length-2);return-1===H?Q:Q.slice(H+1)}function We(Q,H){return H}class pt{constructor(H,_e,we,Be){this.server=H,this.local=_e||H,this.writable=!!we,this.xform=Be||We}}let oe=null;function Le(){if(oe)return oe;const Q=[];Q.push(new pt("bucket")),Q.push(new pt("generation")),Q.push(new pt("metageneration")),Q.push(new pt("name","fullPath",!0));const _e=new pt("name");_e.xform=function H(Et,Jt){return function J(Q){return!De(Q)||Q.length<2?Q:_i(Q)}(Jt)},Q.push(_e);const Be=new pt("size");return Be.xform=function we(Et,Jt){return void 0!==Jt?Number(Jt):Jt},Q.push(Be),Q.push(new pt("timeCreated")),Q.push(new pt("updated")),Q.push(new pt("md5Hash",null,!0)),Q.push(new pt("cacheControl",null,!0)),Q.push(new pt("contentDisposition",null,!0)),Q.push(new pt("contentEncoding",null,!0)),Q.push(new pt("contentLanguage",null,!0)),Q.push(new pt("contentType",null,!0)),Q.push(new pt("metadata","customMetadata",!0)),oe=Q,oe}function Mt(Q,H,_e){const we=Xn(H);return null===we?null:function Ct(Q,H,_e){const we={type:"file"},Be=_e.length;for(let Et=0;Et<Be;Et++){const Jt=_e[Et];we[Jt.local]=Jt.xform(we,H[Jt.server])}return function Ae(Q,H){Object.defineProperty(Q,"ref",{get:function _e(){const Et=new Wt(Q.bucket,Q.fullPath);return H._makeStorageReference(Et)}})}(we,Q),we}(Q,we,_e)}function xe(Q,H){const _e={},we=H.length;for(let Be=0;Be<we;Be++){const Et=H[Be];Et.writable&&(_e[Et.server]=Q[Et.local])}return JSON.stringify(_e)}const ee="prefixes",$="items";class le{constructor(H,_e,we,Be){this.url=H,this.method=_e,this.handler=we,this.timeout=Be,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ve(Q){if(!Q)throw st()}function It(Q,H){return function _e(we,Be){const Et=Mt(Q,Be,H);return Ve(null!==Et),Et}}function on(Q){return function H(_e,we){let Be;return Be=401===_e.getStatus()?_e.getErrorText().includes("Firebase App Check token is invalid")?function jt(){return new te(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function vt(){return new te(ce.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===_e.getStatus()?function yt(Q){return new te(ce.QUOTA_EXCEEDED,"Quota for bucket '"+Q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Q.bucket):403===_e.getStatus()?function xt(Q){return new te(ce.UNAUTHORIZED,"User does not have permission to access '"+Q+"'.")}(Q.path):we,Be.status=_e.getStatus(),Be.serverResponse=we.serverResponse,Be}}function un(Q){const H=on(Q);return function _e(we,Be){let Et=H(we,Be);return 404===we.getStatus()&&(Et=function qe(Q){return new te(ce.OBJECT_NOT_FOUND,"Object '"+Q+"' does not exist.")}(Q.path)),Et.serverResponse=Be.serverResponse,Et}}function ir(Q,H,_e){const Be=dn(H.fullServerUrl(),Q.host,Q._protocol),Jt=Q.maxOperationRetryTime,_n=new le(Be,"GET",It(Q,_e),Jt);return _n.errorHandler=un(H),_n}function An(Q,H,_e,we,Be){const Et={};Et.prefix=H.isRoot?"":H.path+"/",_e&&_e.length>0&&(Et.delimiter=_e),we&&(Et.pageToken=we),Be&&(Et.maxResults=Be);const _n=dn(H.bucketOnlyServerUrl(),Q.host,Q._protocol),tn=Q.maxOperationRetryTime,Kn=new le(_n,"GET",function Nt(Q,H){return function _e(we,Be){const Et=function F(Q,H,_e){const we=Xn(_e);return null===we?null:function V(Q,H,_e){const we={prefixes:[],items:[],nextPageToken:_e.nextPageToken};if(_e[ee])for(const Be of _e[ee]){const Et=Be.replace(/\/$/,""),Jt=Q._makeStorageReference(new Wt(H,Et));we.prefixes.push(Jt)}if(_e[$])for(const Be of _e[$]){const Et=Q._makeStorageReference(new Wt(H,Be.name));we.items.push(Et)}return we}(Q,H,we)}(Q,H,Be);return Ve(null!==Et),Et}}(Q,H.bucket),tn);return Kn.urlParams=Et,Kn.errorHandler=on(H),Kn}function Li(Q,H,_e){const we=Object.assign({},_e);return we.fullPath=Q.path,we.size=H.size(),we.contentType||(we.contentType=function Ji(Q,H){return Q&&Q.contentType||H&&H.type()||"application/octet-stream"}(null,H)),we}class or{constructor(H,_e,we,Be){this.current=H,this.total=_e,this.finalized=!!we,this.metadata=Be||null}}function dt(Q,H){let _e=null;try{_e=Q.getResponseHeader("X-Goog-Upload-Status")}catch{Ve(!1)}return Ve(!!_e&&-1!==(H||["active"]).indexOf(_e)),_e}const Vn={STATE_CHANGED:"state_changed"},Nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Br(Q){switch(Q){case"running":case"pausing":case"canceling":return Nn.RUNNING;case"paused":return Nn.PAUSED;case"success":return Nn.SUCCESS;case"canceled":return Nn.CANCELED;default:return Nn.ERROR}}class Nr{constructor(H,_e,we){if(function Xe(Q){return"function"==typeof Q}(H)||null!=_e||null!=we)this.next=H,this.error=_e??void 0,this.complete=we??void 0;else{const Et=H;this.next=Et.next,this.error=Et.error,this.complete=Et.complete}}}function Ri(Q){return(...H)=>{Promise.resolve().then(()=>Q(...H))}}let qo=null;class Pr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=On.NO_ERROR,this.sendPromise_=new Promise(H=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=On.ABORT,H()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=On.NETWORK_ERROR,H()}),this.xhr_.addEventListener("load",()=>{H()})})}send(H,_e,we,Be){if(this.sent_)throw Bt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(_e,H,!0),void 0!==Be)for(const Et in Be)Be.hasOwnProperty(Et)&&this.xhr_.setRequestHeader(Et,Be[Et].toString());return void 0!==we?this.xhr_.send(we):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(H){return this.xhr_.getResponseHeader(H)}addUploadProgressListener(H){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",H)}removeUploadProgressListener(H){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",H)}}class ds extends Pr{initXhr(){this.xhr_.responseType="text"}}function Mi(){return qo?qo():new ds}class Ai{constructor(H,_e,we=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=H,this._blob=_e,this._metadata=we,this._mappings=Le(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Be=>{if(this._request=void 0,this._chunkMultiplier=1,Be._codeEquals(ce.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Et=this.isExponentialBackoffExpired();if(En(Be.status,[])){if(!Et)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Be=an()}this._error=Be,this._transition("error")}},this._metadataErrorHandler=Be=>{this._request=void 0,Be._codeEquals(ce.CANCELED)?this.completeTransitions_():(this._error=Be,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Be,Et)=>{this._resolve=Be,this._reject=Et,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const H=this._transferred;return _e=>this._updateProgress(H+_e)}_shouldDoResumable(H){return H.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(H){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([_e,we])=>{switch(this._state){case"running":H(_e,we);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((H,_e)=>{const we=function Ze(Q,H,_e,we,Be){const Et=H.bucketOnlyServerUrl(),Jt=Li(H,we,Be),_n={name:Jt.fullPath},kt=dn(Et,Q.host,Q._protocol),Kn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${we.size()}`,"X-Goog-Upload-Header-Content-Type":Jt.contentType,"Content-Type":"application/json; charset=utf-8"},Dn=xe(Jt,_e),gi=new le(kt,"POST",function ri(Kr){let qr;dt(Kr);try{qr=Kr.getResponseHeader("X-Goog-Upload-URL")}catch{Ve(!1)}return Ve(De(qr)),qr},Q.maxUploadRetryTime);return gi.urlParams=_n,gi.headers=Kn,gi.body=Dn,gi.errorHandler=on(H),gi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Be=this._ref.storage._makeRequest(we,Mi,H,_e);this._request=Be,Be.getPromise().then(Et=>{this._request=void 0,this._uploadUrl=Et,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const H=this._uploadUrl;this._resolveToken((_e,we)=>{const Be=function Dt(Q,H,_e,we){const kt=new le(_e,"POST",function Et(tn){const Kn=dt(tn,["active","final"]);let Dn=null;try{Dn=tn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ve(!1)}Dn||Ve(!1);const ni=Number(Dn);return Ve(!isNaN(ni)),new or(ni,we.size(),"final"===Kn)},Q.maxUploadRetryTime);return kt.headers={"X-Goog-Upload-Command":"query"},kt.errorHandler=on(H),kt}(this._ref.storage,this._ref._location,H,this._blob),Et=this._ref.storage._makeRequest(Be,Mi,_e,we);this._request=Et,Et.getPromise().then(Jt=>{this._request=void 0,this._updateProgress(Jt.current),this._needToFetchStatus=!1,Jt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const H=262144*this._chunkMultiplier,_e=new or(this._transferred,this._blob.size()),we=this._uploadUrl;this._resolveToken((Be,Et)=>{let Jt;try{Jt=function Rn(Q,H,_e,we,Be,Et,Jt,_n){const kt=new or(0,0);if(Jt?(kt.current=Jt.current,kt.total=Jt.total):(kt.current=0,kt.total=we.size()),we.size()!==kt.total)throw function Tt(){return new te(ce.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const tn=kt.total-kt.current;let Kn=tn;Be>0&&(Kn=Math.min(Kn,Be));const Dn=kt.current;let ri="";ri=0===Kn?"finalize":tn===Kn?"upload, finalize":"upload";const gi={"X-Goog-Upload-Command":ri,"X-Goog-Upload-Offset":`${kt.current}`},Kr=we.slice(Dn,Dn+Kn);if(null===Kr)throw nt();const pr=new le(_e,"POST",function qr(ii,Xr){const kr=dt(ii,["active","final"]),gs=kt.current+Kn,Fi=we.size();let Ds;return Ds="final"===kr?It(H,Et)(ii,Xr):null,new or(gs,Fi,"final"===kr,Ds)},H.maxUploadRetryTime);return pr.headers=gi,pr.body=Kr.uploadData(),pr.progressCallback=_n||null,pr.errorHandler=on(Q),pr}(this._ref._location,this._ref.storage,we,this._blob,H,this._mappings,_e,this._makeProgressCallback())}catch(kt){return this._error=kt,void this._transition("error")}const _n=this._ref.storage._makeRequest(Jt,Mi,Be,Et,!1);this._request=_n,_n.getPromise().then(kt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(kt.current),kt.finalized?(this._metadata=kt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((H,_e)=>{const we=ir(this._ref.storage,this._ref._location,this._mappings),Be=this._ref.storage._makeRequest(we,Mi,H,_e);this._request=Be,Be.getPromise().then(Et=>{this._request=void 0,this._metadata=Et,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((H,_e)=>{const we=function ai(Q,H,_e,we,Be){const Et=H.bucketOnlyServerUrl(),Jt={"X-Goog-Upload-Protocol":"multipart"},kt=function _n(){let pr="";for(let ii=0;ii<2;ii++)pr+=Math.random().toString().slice(2);return pr}();Jt["Content-Type"]="multipart/related; boundary="+kt;const tn=Li(H,we,Be),Kn=xe(tn,_e),ri=ti.getBlob("--"+kt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Kn+"\r\n--"+kt+"\r\nContent-Type: "+tn.contentType+"\r\n\r\n",we,"\r\n--"+kt+"--");if(null===ri)throw nt();const gi={name:tn.fullPath},Kr=dn(Et,Q.host,Q._protocol),eo=Q.maxUploadRetryTime,Ei=new le(Kr,"POST",It(Q,_e),eo);return Ei.urlParams=gi,Ei.headers=Jt,Ei.body=ri.uploadData(),Ei.errorHandler=on(H),Ei}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Be=this._ref.storage._makeRequest(we,Mi,H,_e);this._request=Be,Be.getPromise().then(Et=>{this._request=void 0,this._metadata=Et,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(H){const _e=this._transferred;this._transferred=H,this._transferred!==_e&&this._notifyObservers()}_transition(H){if(this._state!==H)switch(H){case"canceling":case"pausing":this._state=H,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const _e="paused"===this._state;this._state=H,_e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=H,this._notifyObservers();break;case"canceled":this._error=Je(),this._state=H,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const H=Br(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:H,metadata:this._metadata,task:this,ref:this._ref}}on(H,_e,we,Be){const Et=new Nr(_e||void 0,we||void 0,Be||void 0);return this._addObserver(Et),()=>{this._removeObserver(Et)}}then(H,_e){return this._promise.then(H,_e)}catch(H){return this.then(null,H)}_addObserver(H){this._observers.push(H),this._notifyObserver(H)}_removeObserver(H){const _e=this._observers.indexOf(H);-1!==_e&&this._observers.splice(_e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(_e=>{this._notifyObserver(_e)})}_finishPromise(){if(void 0!==this._resolve){let H=!0;switch(Br(this._state)){case Nn.SUCCESS:Ri(this._resolve.bind(null,this.snapshot))();break;case Nn.CANCELED:case Nn.ERROR:Ri(this._reject.bind(null,this._error))();break;default:H=!1}H&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(H){switch(Br(this._state)){case Nn.RUNNING:case Nn.PAUSED:H.next&&Ri(H.next.bind(H,this.snapshot))();break;case Nn.SUCCESS:H.complete&&Ri(H.complete.bind(H))();break;default:H.error&&Ri(H.error.bind(H,this._error))()}}resume(){const H="paused"===this._state||"pausing"===this._state;return H&&this._transition("running"),H}pause(){const H="running"===this._state;return H&&this._transition("pausing"),H}cancel(){const H="running"===this._state||"pausing"===this._state;return H&&this._transition("canceling"),H}}class Bi{constructor(H,_e){this._service=H,this._location=_e instanceof Wt?_e:Wt.makeFromUrl(_e,H.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(H,_e){return new Bi(H,_e)}get root(){const H=new Wt(this._location.bucket,"");return this._newRef(this._service,H)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _i(this._location.path)}get storage(){return this._service}get parent(){const H=function _r(Q){if(0===Q.length)return null;const H=Q.lastIndexOf("/");return-1===H?"":Q.slice(0,H)}(this._location.path);if(null===H)return null;const _e=new Wt(this._location.bucket,H);return new Bi(this._service,_e)}_throwIfRoot(H){if(""===this._location.path)throw nr(H)}}function qi(Q,H,_e){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.A)(function*(Q,H,_e){const Be=yield na(Q,{pageToken:_e});H.prefixes.push(...Be.prefixes),H.items.push(...Be.items),null!=Be.nextPageToken&&(yield qi(Q,H,Be.nextPageToken))})).apply(this,arguments)}function na(Q,H){null!=H&&"number"==typeof H.maxResults&&At("options.maxResults",1,1e3,H.maxResults);const _e=H||{},we=An(Q.storage,Q._location,"/",_e.pageToken,_e.maxResults);return Q.storage.makeRequestWithTokens(we,Mi)}function vo(Q){Q._throwIfRoot("getDownloadURL");const H=function Tr(Q,H,_e){const Be=dn(H.fullServerUrl(),Q.host,Q._protocol),Jt=Q.maxOperationRetryTime,_n=new le(Be,"GET",function pn(Q,H){return function _e(we,Be){const Et=Mt(Q,Be,H);return Ve(null!==Et),function Fn(Q,H,_e,we){const Be=Xn(H);if(null===Be||!De(Be.downloadTokens))return null;const Et=Be.downloadTokens;if(0===Et.length)return null;const Jt=encodeURIComponent;return Et.split(",").map(tn=>{const Dn=Q.fullPath;return dn("/b/"+Jt(Q.bucket)+"/o/"+Jt(Dn),_e,we)+en({alt:"media",token:tn})})[0]}(Et,Be,Q.host,Q._protocol)}}(Q,_e),Jt);return _n.errorHandler=un(H),_n}(Q.storage,Q._location,Le());return Q.storage.makeRequestWithTokens(H,Mi).then(_e=>{if(null===_e)throw function Ft(){return new te(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return _e})}function so(Q,H){const _e=function Mn(Q,H){const _e=H.split("/").filter(we=>we.length>0).join("/");return 0===Q.length?_e:Q+"/"+_e}(Q._location.path,H),we=new Wt(Q._location.bucket,_e);return new Bi(Q.storage,we)}function yo(Q,H){if(Q instanceof Ar){const _e=Q;if(null==_e._bucket)throw function Ye(){return new te(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+me+"' property when initializing the app?")}();const we=new Bi(_e,_e._bucket);return null!=H?yo(we,H):we}return void 0!==H?so(Q,H):Q}function ps(Q,H){if(H&&function ts(Q){return/^[A-Za-z]+:\/\//.test(Q)}(H)){if(Q instanceof Ar)return function fs(Q,H){return new Bi(Q,H)}(Q,H);throw Yt("To use ref(service, url), the first argument must be a Storage instance.")}return yo(Q,H)}function Yn(Q,H){const _e=H?.[me];return null==_e?null:Wt.makeFromBucketSpec(_e,Q)}class Ar{constructor(H,_e,we,Be,Et){this.app=H,this._authProvider=_e,this._appCheckProvider=we,this._url=Be,this._firebaseVersion=Et,this._bucket=null,this._host=ve,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Be?Wt.makeFromBucketSpec(Be,this._host):Yn(this._host,this.app.options)}get host(){return this._host}set host(H){this._host=H,this._bucket=null!=this._url?Wt.makeFromBucketSpec(this._url,H):Yn(H,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(H){At("time",0,Number.POSITIVE_INFINITY,H),this._maxUploadRetryTime=H}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(H){At("time",0,Number.POSITIVE_INFINITY,H),this._maxOperationRetryTime=H}_getAuthToken(){var H=this;return(0,c.A)(function*(){if(H._overrideAuthToken)return H._overrideAuthToken;const _e=H._authProvider.getImmediate({optional:!0});if(_e){const we=yield _e.getToken();if(null!==we)return we.accessToken}return null})()}_getAppCheckToken(){var H=this;return(0,c.A)(function*(){const _e=H._appCheckProvider.getImmediate({optional:!0});return _e?(yield _e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(H=>H.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(H){return new Bi(this,H)}_makeRequest(H,_e,we,Be,Et=!0){if(this._deleted)return new at(ln());{const Jt=function Vr(Q,H,_e,we,Be,Et,Jt=!0){const _n=en(Q.urlParams),kt=Q.url+_n,tn=Object.assign({},Q.headers);return function zt(Q,H){H&&(Q["X-Firebase-GMPID"]=H)}(tn,H),function Tn(Q,H){null!==H&&H.length>0&&(Q.Authorization="Firebase "+H)}(tn,_e),function jn(Q,H){Q["X-Firebase-Storage-Version"]="webjs/"+(H??"AppManager")}(tn,Et),function Vt(Q,H){null!==H&&(Q["X-Firebase-AppCheck"]=H)}(tn,we),new dr(kt,Q.method,tn,Q.body,Q.successCodes,Q.additionalRetryCodes,Q.handler,Q.errorHandler,Q.timeout,Q.progressCallback,Be,Jt)}(H,this._appId,we,Be,_e,this._firebaseVersion,Et);return this._requests.add(Jt),Jt.getPromise().then(()=>this._requests.delete(Jt),()=>this._requests.delete(Jt)),Jt}}makeRequestWithTokens(H,_e){var we=this;return(0,c.A)(function*(){const[Be,Et]=yield Promise.all([we._getAuthToken(),we._getAppCheckToken()]);return we._makeRequest(H,_e,Be,Et).getPromise()})()}}const ci="@firebase/storage",Po="storage";function co(Q,H,_e){return function xr(Q,H,_e){return Q._throwIfRoot("uploadBytesResumable"),new Ai(Q,new ti(H),_e)}(Q=(0,o.Ku)(Q),H,_e)}function $r(Q){return function Oi(Q){Q._throwIfRoot("getMetadata");const H=ir(Q.storage,Q._location,Le());return Q.storage.makeRequestWithTokens(H,Mi)}(Q=(0,o.Ku)(Q))}function Qt(Q,H){return function Na(Q,H){Q._throwIfRoot("updateMetadata");const _e=function Ko(Q,H,_e,we){const Et=dn(H.fullServerUrl(),Q.host,Q._protocol),_n=xe(_e,we),tn=Q.maxOperationRetryTime,Kn=new le(Et,"PATCH",It(Q,we),tn);return Kn.headers={"Content-Type":"application/json; charset=utf-8"},Kn.body=_n,Kn.errorHandler=un(H),Kn}(Q.storage,Q._location,H,Le());return Q.storage.makeRequestWithTokens(_e,Mi)}(Q=(0,o.Ku)(Q),H)}function zn(Q,H){return na(Q=(0,o.Ku)(Q),H)}function cr(Q){return function Zi(Q){const H={prefixes:[],items:[]};return qi(Q,H).then(()=>H)}(Q=(0,o.Ku)(Q))}function ki(Q){return vo(Q=(0,o.Ku)(Q))}function xo(Q){return function fi(Q){Q._throwIfRoot("deleteObject");const H=function di(Q,H){const we=dn(H.fullServerUrl(),Q.host,Q._protocol),_n=new le(we,"DELETE",function Jt(kt,tn){},Q.maxOperationRetryTime);return _n.successCodes=[200,204],_n.errorHandler=un(H),_n}(Q.storage,Q._location);return Q.storage.makeRequestWithTokens(H,Mi)}(Q=(0,o.Ku)(Q))}function hi(Q,H){return ps(Q=(0,o.Ku)(Q),H)}function Eo(Q,H){return so(Q,H)}function Hr(Q=(0,ue.getApp)(),H){Q=(0,o.Ku)(Q);const we=(0,ue._getProvider)(Q,Po).getImmediate({identifier:H}),Be=(0,o.yU)("storage");return Be&&Ro(we,...Be),we}function Ro(Q,H,_e,we={}){!function fr(Q,H,_e,we={}){Q.host=`${H}:${_e}`,Q._protocol="http";const{mockUserToken:Be}=we;Be&&(Q._overrideAuthToken="string"==typeof Be?Be:(0,o.Fy)(Be,Q.app.options.projectId))}(Q,H,_e,we)}function go(Q,{instanceIdentifier:H}){const _e=Q.getProvider("app").getImmediate(),we=Q.getProvider("auth-internal"),Be=Q.getProvider("app-check-internal");return new Ar(_e,we,Be,H,ue.SDK_VERSION)}!function pi(){(0,ue._registerComponent)(new be.uA(Po,go,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(ci,"0.12.5",""),(0,ue.registerVersion)(ci,"0.12.5","esm2017")}()},1076:(rn,Qe,L)=>{L.d(Qe,{Am:()=>Lt,Bd:()=>Yt,FA:()=>He,Fy:()=>nt,I9:()=>gn,Im:()=>Vt,Ku:()=>Fn,Ll:()=>Ce,T9:()=>ze,Uj:()=>$e,XA:()=>it,ZQ:()=>Tt,bD:()=>hn,cY:()=>Ye,eX:()=>Me,g:()=>De,gR:()=>jn,hp:()=>xn,jZ:()=>Ft,lT:()=>Bt,lV:()=>nr,nr:()=>Pe,sr:()=>ln,tD:()=>hr,u:()=>te,yU:()=>Je,zW:()=>de,zw:()=>ge});const be=function(xe){const ee=[];let $=0;for(let V=0;V<xe.length;V++){let F=xe.charCodeAt(V);F<128?ee[$++]=F:F<2048?(ee[$++]=F>>6|192,ee[$++]=63&F|128):55296==(64512&F)&&V+1<xe.length&&56320==(64512&xe.charCodeAt(V+1))?(F=65536+((1023&F)<<10)+(1023&xe.charCodeAt(++V)),ee[$++]=F>>18|240,ee[$++]=F>>12&63|128,ee[$++]=F>>6&63|128,ee[$++]=63&F|128):(ee[$++]=F>>12|224,ee[$++]=F>>6&63|128,ee[$++]=63&F|128)}return ee},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,ee){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let F=0;F<xe.length;F+=3){const le=xe[F],Ve=F+1<xe.length,It=Ve?xe[F+1]:0,Nt=F+2<xe.length,pn=Nt?xe[F+2]:0;let ir=(15&It)<<2|pn>>6,An=63&pn;Nt||(An=64,Ve||(ir=64)),V.push($[le>>2],$[(3&le)<<4|It>>4],$[ir],$[An])}return V.join("")},encodeString(xe,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(xe):this.encodeByteArray(be(xe),ee)},decodeString(xe,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(xe):function(xe){const ee=[];let $=0,V=0;for(;$<xe.length;){const F=xe[$++];if(F<128)ee[V++]=String.fromCharCode(F);else if(F>191&&F<224){const le=xe[$++];ee[V++]=String.fromCharCode((31&F)<<6|63&le)}else if(F>239&&F<365){const Nt=((7&F)<<18|(63&xe[$++])<<12|(63&xe[$++])<<6|63&xe[$++])-65536;ee[V++]=String.fromCharCode(55296+(Nt>>10)),ee[V++]=String.fromCharCode(56320+(1023&Nt))}else{const le=xe[$++],Ve=xe[$++];ee[V++]=String.fromCharCode((15&F)<<12|(63&le)<<6|63&Ve)}}return ee.join("")}(this.decodeStringToByteArray(xe,ee))},decodeStringToByteArray(xe,ee){this.init_();const $=ee?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let F=0;F<xe.length;){const le=$[xe.charAt(F++)],It=F<xe.length?$[xe.charAt(F)]:0;++F;const pn=F<xe.length?$[xe.charAt(F)]:64;++F;const un=F<xe.length?$[xe.charAt(F)]:64;if(++F,null==le||null==It||null==pn||null==un)throw new Ne;V.push(le<<2|It>>4),64!==pn&&(V.push(It<<4&240|pn>>2),64!==un&&V.push(pn<<6&192|un))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(xe){return function(xe){const ee=be(xe);return me.encodeByteArray(ee,!0)}(xe).replace(/\./g,"")},te=function(xe){try{return me.decodeString(xe,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function ge(xe,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return ee}for(const $ in ee)!ee.hasOwnProperty($)||!st($)||(xe[$]=ge(xe[$],ee[$]));return xe}function st(xe){return"__proto__"!==xe}const xt=()=>{try{return function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const xe=process.env.__FIREBASE_DEFAULTS__;return xe?JSON.parse(xe):void 0})()||(()=>{if(typeof document>"u")return;let xe;try{xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=xe&&te(xe[1]);return ee&&JSON.parse(ee)})()}catch(xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xe}`)}},Je=xe=>{const ee=(xe=>{var ee,$;return null===($=null===(ee=xt())||void 0===ee?void 0:ee.emulatorHosts)||void 0===$?void 0:$[xe]})(xe);if(!ee)return;const $=ee.lastIndexOf(":");if($<=0||$+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const V=parseInt(ee.substring($+1),10);return"["===ee[0]?[ee.substring(1,$-1),V]:[ee.substring(0,$),V]},ze=()=>{var xe;return null===(xe=xt())||void 0===xe?void 0:xe.config},it=xe=>{var ee;return null===(ee=xt())||void 0===ee?void 0:ee[`_${xe}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,$)=>{this.resolve=ee,this.reject=$})}wrapCallback(ee){return($,V)=>{$?this.reject($):this.resolve(V),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee($):ee($,V))}}}function nt(xe,ee){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=ee||"demo-project",F=xe.iat||0,le=xe.sub||xe.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:F,exp:F+3600,auth_time:F,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(Ve)),""].join(".")}function Tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function Ce(){var xe;const ee=null===(xe=xt())||void 0===xe?void 0:xe.forceEnvironment;if("node"===ee)return!0;if("browser"===ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Yt(){return"object"==typeof self&&self.self===self}function ln(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function nr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bt(){const xe=Tt();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function Pe(){return!Ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function Me(){return new Promise((xe,ee)=>{try{let $=!0;const V="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(V);F.onsuccess=()=>{F.result.close(),$||self.indexedDB.deleteDatabase(V),xe(!0)},F.onupgradeneeded=()=>{$=!1},F.onerror=()=>{var le;ee((null===(le=F.error)||void 0===le?void 0:le.message)||"")}}catch($){ee($)}})}class De extends Error{constructor(ee,$,V){super($),this.code=ee,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(ee,$,V){this.service=ee,this.serviceName=$,this.errors=V}create(ee,...$){const V=$[0]||{},F=`${this.service}/${ee}`,le=this.errors[ee],Ve=le?function bt(xe,ee){return xe.replace(At,($,V)=>{const F=ee[V];return null!=F?String(F):`<${V}?>`})}(le,V):"Error";return new De(F,`${this.serviceName}: ${Ve} (${F}).`,V)}}const At=/\{\$([^}]+)}/g;function jn(xe,ee){return Object.prototype.hasOwnProperty.call(xe,ee)}function Vt(xe){for(const ee in xe)if(Object.prototype.hasOwnProperty.call(xe,ee))return!1;return!0}function hn(xe,ee){if(xe===ee)return!0;const $=Object.keys(xe),V=Object.keys(ee);for(const F of $){if(!V.includes(F))return!1;const le=xe[F],Ve=ee[F];if(yr(le)&&yr(Ve)){if(!hn(le,Ve))return!1}else if(le!==Ve)return!1}for(const F of V)if(!$.includes(F))return!1;return!0}function yr(xe){return null!==xe&&"object"==typeof xe}function Lt(xe){const ee=[];for(const[$,V]of Object.entries(xe))Array.isArray(V)?V.forEach(F=>{ee.push(encodeURIComponent($)+"="+encodeURIComponent(F))}):ee.push(encodeURIComponent($)+"="+encodeURIComponent(V));return ee.length?"&"+ee.join("&"):""}function gn(xe){const ee={};return xe.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[F,le]=V.split("=");ee[decodeURIComponent(F)]=decodeURIComponent(le)}}),ee}function xn(xe){const ee=xe.indexOf("?");if(!ee)return"";const $=xe.indexOf("#",ee);return xe.substring(ee,$>0?$:void 0)}function hr(xe,ee){const $=new Er(xe,ee);return $.subscribe.bind($)}class Er{constructor(ee,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{ee(this)}).catch(V=>{this.error(V)})}next(ee){this.forEachObserver($=>{$.next(ee)})}error(ee){this.forEachObserver($=>{$.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,$,V){let F;if(void 0===ee&&void 0===$&&void 0===V)throw new Error("Missing Observer.");F=function Bn(xe,ee){if("object"!=typeof xe||null===xe)return!1;for(const $ of ee)if($ in xe&&"function"==typeof xe[$])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:$,complete:V},void 0===F.next&&(F.next=ei),void 0===F.error&&(F.error=ei),void 0===F.complete&&(F.complete=ei);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),le}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,ee)}sendOne(ee,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{$(this.observers[ee])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}function Fn(xe){return xe&&xe._delegate?xe._delegate:xe}},491:(rn,Qe,L)=>{L.d(Qe,{G:()=>ue});var c=L(7705);let ue=(()=>{class o{static#e=this.\u0275fac=function(me){return new(me||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(me,Ne){1&me&&(c.j41(0,"section",0)(1,"div",1)(2,"h2"),c.EFF(3),c.k0s(),c.j41(4,"h4"),c.EFF(5),c.k0s()(),c.j41(6,"div",2),c.nrm(7,"img",3),c.k0s()()),2&me&&(c.R7$(3),c.JRh(Ne.title),c.R7$(2),c.JRh(Ne.content),c.R7$(2),c.FS9("src",Ne.imageURL,c.B4B),c.FS9("alt",Ne.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},4593:(rn,Qe,L)=>{L.d(Qe,{F:()=>ue});var c=L(7705);let ue=(()=>{class o{static#e=this.\u0275fac=function(me){return new(me||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(me,Ne){1&me&&(c.j41(0,"section",0)(1,"div",1),c.nrm(2,"img",2),c.k0s(),c.j41(3,"div",3)(4,"h2"),c.EFF(5),c.k0s(),c.j41(6,"h4"),c.EFF(7),c.k0s()()()),2&me&&(c.R7$(2),c.FS9("src",Ne.imageURL,c.B4B),c.FS9("alt",Ne.title),c.R7$(3),c.JRh(Ne.title),c.R7$(2),c.JRh(Ne.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:3rem}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},4026:(rn,Qe,L)=>{L.d(Qe,{B:()=>oe});var c=L(7705),ue=L(8704),o=L(6814),be=L(6861),ve=L(923),me=L(177),Ne=L(467),Fe=L(5558),$e=L(8455),te=L(6354);function ce(J,Le){if(1&J&&c.nrm(0,"button",14),2&J){const Ae=Le.index;c.AVh("active",0===Ae),c.BMQ("data-bs-slide-to",Ae)("aria-current",0===Ae?"true":null)("aria-label","Slide "+(Ae+1))}}function ge(J,Le){if(1&J){const Ae=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",17)(3,"h1"),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.EFF(6),c.k0s(),c.j41(7,"div",18),c.nrm(8,"br"),c.j41(9,"p"),c.EFF(10),c.k0s()(),c.j41(11,"button",19),c.bIt("click",function(){c.eBV(Ae);const Mt=c.XpG(3);return c.Njj(Mt.navigateToContact(Mt.businessId))}),c.EFF(12," Book Consultation "),c.k0s()()()}if(2&J){const Ae=Le.$implicit,Ct=Le.index,Mt=c.XpG(3);c.AVh("active",0===Ct),c.R7$(1),c.Y8G("src",Ae.url,c.B4B),c.R7$(5),c.SpI(" ",Mt.business.businessName,""),c.R7$(4),c.JRh(Mt.business.tagline)}}function st(J,Le){if(1&J&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,ce,1,5,"button",6),c.k0s(),c.j41(3,"div",7),c.DNE(4,ge,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&J){const Ae=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",Ae.heroImages),c.R7$(2),c.Y8G("ngForOf",Ae.heroImages)}}function qe(J,Le){if(1&J&&(c.qex(0),c.DNE(1,st,13,2,"div",3),c.bVm()),2&J){const Ae=c.XpG();c.R7$(1),c.Y8G("ngIf",Ae.business)}}function yt(J,Le){if(1&J&&c.nrm(0,"button",22),2&J){const Ae=Le.index;c.AVh("active",0===Ae),c.BMQ("data-bs-slide-to",Ae)("aria-current",0===Ae?"true":null)("aria-label","Slide "+(Ae+1))}}function vt(J,Le){if(1&J&&(c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",23)(3,"h1",24),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.j41(6,"span",25),c.EFF(7),c.k0s()(),c.j41(8,"div",26)(9,"h3"),c.EFF(10),c.k0s()()()()),2&J){const Ae=Le.$implicit,Ct=Le.index,Mt=c.XpG(3);c.AVh("active",0===Ct),c.R7$(1),c.Y8G("src",Ae.url,c.B4B),c.R7$(6),c.JRh(Mt.business.businessName),c.R7$(3),c.JRh(Mt.business.tagline)}}function jt(J,Le){if(1&J&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,yt,1,5,"button",21),c.k0s(),c.j41(3,"div",7),c.DNE(4,vt,11,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&J){const Ae=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",Ae.heroImages),c.R7$(2),c.Y8G("ngForOf",Ae.heroImages)}}function xt(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",20),c.DNE(2,jt,13,2,"div",3),c.k0s(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(2),c.Y8G("ngIf",Ae.business)}}function an(J,Le){if(1&J&&c.nrm(0,"button",22),2&J){const Ae=Le.index;c.AVh("active",0===Ae),c.BMQ("data-bs-slide-to",Ae)("aria-current",0===Ae?"true":null)("aria-label","Slide "+(Ae+1))}}function Je(J,Le){if(1&J){const Ae=c.RV6();c.j41(0,"div",15),c.nrm(1,"img",16),c.j41(2,"div",23)(3,"h1",24),c.EFF(4,"Welcome to "),c.nrm(5,"br"),c.j41(6,"span",25),c.EFF(7),c.k0s()(),c.j41(8,"div",26)(9,"h3"),c.EFF(10),c.k0s()(),c.j41(11,"button",27),c.bIt("click",function(){c.eBV(Ae);const Mt=c.XpG(3);return c.Njj(Mt.navigateToContact(Mt.businessId))}),c.EFF(12," Schedule a Visit "),c.k0s()()()}if(2&J){const Ae=Le.$implicit,Ct=Le.index,Mt=c.XpG(3);c.AVh("active",0===Ct),c.R7$(1),c.Y8G("src",Ae.url,c.B4B),c.R7$(6),c.JRh(Mt.business.businessName),c.R7$(3),c.JRh(Mt.business.tagline)}}function ze(J,Le){if(1&J&&(c.j41(0,"div",4)(1,"div",5),c.DNE(2,an,1,5,"button",21),c.k0s(),c.j41(3,"div",7),c.DNE(4,Je,13,5,"div",8),c.k0s(),c.j41(5,"button",9),c.nrm(6,"span",10),c.j41(7,"span",11),c.EFF(8,"Previous"),c.k0s()(),c.j41(9,"button",12),c.nrm(10,"span",13),c.j41(11,"span",11),c.EFF(12,"Next"),c.k0s()()()),2&J){const Ae=c.XpG(2);c.R7$(2),c.Y8G("ngForOf",Ae.heroImages),c.R7$(2),c.Y8G("ngForOf",Ae.heroImages)}}function it(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",20),c.DNE(2,ze,13,2,"div",3),c.k0s(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(2),c.Y8G("ngIf",Ae.business)}}let Ye=(()=>{class J{constructor(Ae,Ct,Mt,Fn){this.router=Ae,this.route=Ct,this.webContentService=Mt,this.businessDataService=Fn,this.business=null,this.heroImages=[],this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(Ae=>{this.business=Ae,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.business&&(console.log("Hero Section busines id:",this.business.id),console.log("Hero Section LayoutType: ",this.layoutType),this.loadHeroImages())})}loadHeroImages(){var Ae=this;this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Fe.n)(Mt=>{const Fn=Mt.map(function(){var xe=(0,Ne.A)(function*(ee){return(yield Ae.webContentService.checkImageExists(ee.url))?ee:null});return function(ee){return xe.apply(this,arguments)}}());return(0,$e.H)(Promise.all(Fn))}),(0,te.T)(Mt=>Mt.filter(Fn=>null!==Fn))).subscribe(Mt=>{this.heroImages=Mt,this.heroImages.forEach(Fn=>{console.log(Fn.url)})})}navigateToContact(Ae){this.router.navigate(["/contact-us"],{queryParams:{id:Ae}})}static#e=this.\u0275fac=function(Ct){return new(Ct||J)(c.rXU(o.Ix),c.rXU(o.nX),c.rXU(ue.N),c.rXU(ve.A))};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-hero-carousel"]],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","heroCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","class","afhBtn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"afhBtn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hero-overlay"],[1,"business-subtitle","garamond"],["type","button",1,"afhBtn",3,"click"],[1,"ae-hero-section"],["type","button","class","ae-afhBtn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel",1,"ae-afhBtn"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"afhBtn","carouselBtn",3,"click"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0),c.DNE(1,qe,2,1,"ng-container",1),c.DNE(2,xt,3,1,"ng-container",1),c.DNE(3,it,3,1,"ng-container",2),c.k0s()),2&Ct&&(c.Y8G("ngSwitch",Mt.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out;height:800px}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption[_ngcontent-%COMP%]{text-align:left}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;margin-bottom:10px;position:absolute;top:55%;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7rem;margin-bottom:20px;position:absolute;top:75%;left:10%;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.afhBtn[_ngcontent-%COMP%]{position:absolute;top:80%;left:10%}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{padding-left:5%;align-items:center}.ae-h1[_ngcontent-%COMP%]{font-size:2rem;top:60%}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;top:70%}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:60vh;overflow:hidden}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{padding:10px}.ae-hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.ae-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:40vh;overflow:hidden}}"]})}return J})();function nt(J,Le){if(1&J&&(c.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),c.EFF(5),c.k0s(),c.j41(6,"strong"),c.EFF(7),c.k0s()()()()()),2&J){const Ae=Le.$implicit;c.R7$(5),c.SpI('" ',Ae.quote,' "'),c.R7$(2),c.JRh(Ae.name)}}function Tt(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Testimonials"),c.k0s()(),c.j41(5,"div",6),c.DNE(6,nt,8,2,"div",7),c.k0s()(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(6),c.Y8G("ngForOf",Ae.testimonials)}}function Ft(J,Le){if(1&J&&(c.j41(0,"div",18)(1,"div",19)(2,"div",20),c.EFF(3,"\u275d"),c.k0s(),c.j41(4,"p",21),c.EFF(5),c.k0s(),c.j41(6,"h4",22),c.EFF(7),c.k0s()()()),2&J){const Ae=Le.$implicit;c.R7$(5),c.JRh(Ae.quote),c.R7$(2),c.JRh(Ae.name)}}function Ce(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",11)(2,"div",12)(3,"h2",13),c.EFF(4,"Word of mouth"),c.k0s(),c.j41(5,"p",14),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",15)(8,"div",16),c.DNE(9,Ft,8,2,"div",17),c.nI1(10,"slice"),c.k0s()()(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(9),c.Y8G("ngForOf",c.brH(10,1,Ae.testimonials,0,4))}}function Yt(J,Le){if(1&J&&(c.j41(0,"div",30)(1,"div",31),c.nrm(2,"div",32),c.j41(3,"p",33),c.EFF(4),c.k0s()(),c.j41(5,"div",34)(6,"p",35),c.EFF(7),c.k0s()()()),2&J){const Ae=Le.$implicit;c.R7$(4),c.JRh(Ae.quote),c.R7$(3),c.JRh(Ae.name)}}function ln(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",23)(2,"div",24)(3,"h2",25),c.EFF(4,"Word of Mouth"),c.k0s(),c.j41(5,"p",26),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",27)(8,"div",28),c.DNE(9,Yt,8,2,"div",29),c.k0s()()(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(9),c.Y8G("ngForOf",Ae.testimonials)}}let nr=(()=>{class J{constructor(){this.layoutType="demo"}static#e=this.\u0275fac=function(Ct){return new(Ct||J)};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0),c.DNE(1,Tt,7,1,"ng-container",1),c.DNE(2,Ce,11,5,"ng-container",1),c.DNE(3,ln,10,1,"ng-container",2),c.k0s()),2&Ct&&(c.Y8G("ngSwitch",Mt.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1,me.fG,me.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}return J})();function Pt(J,Le){if(1&J&&(c.j41(0,"div",9),c.nrm(1,"i",10),c.j41(2,"h3",11),c.EFF(3),c.k0s(),c.j41(4,"div",12)(5,"p"),c.EFF(6),c.k0s()()()),2&J){const Ae=Le.$implicit;c.R7$(1),c.Y8G("ngClass",Ae.icon),c.R7$(2),c.JRh(Ae.title),c.R7$(3),c.JRh(Ae.description)}}function Bt(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our "),c.k0s(),c.j41(5,"span",5),c.EFF(6,"Services"),c.k0s()(),c.j41(7,"h3",6),c.EFF(8,"Home Care From Trained Professionals"),c.k0s(),c.j41(9,"div",7),c.DNE(10,Pt,7,3,"div",8),c.k0s()(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(10),c.Y8G("ngForOf",Ae.services)}}function Wt(J,Le){if(1&J&&(c.j41(0,"div",31)(1,"p"),c.EFF(2),c.k0s()()),2&J){const Ae=c.XpG().$implicit;c.R7$(2),c.JRh(Ae.description)}}function at(J,Le){if(1&J){const Ae=c.RV6();c.j41(0,"div",26),c.bIt("click",function(){const Fn=c.eBV(Ae).index,xe=c.XpG(2);return c.Njj(xe.toggleService(Fn))}),c.j41(1,"div",27)(2,"span",28),c.EFF(3),c.k0s(),c.j41(4,"span",29),c.EFF(5),c.k0s()(),c.DNE(6,Wt,3,1,"div",30),c.k0s()}if(2&J){const Ae=Le.$implicit,Ct=Le.index,Mt=c.XpG(2);c.R7$(3),c.JRh(Ae.title),c.R7$(2),c.JRh(Mt.expandedServiceIndex===Ct?"-":"+"),c.R7$(1),c.Y8G("ngIf",Mt.expandedServiceIndex===Ct)}}function Pe(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),c.EFF(6,"Our "),c.k0s(),c.j41(7,"span",18),c.EFF(8,"Services"),c.k0s()(),c.j41(9,"div",19),c.DNE(10,at,7,3,"div",20),c.k0s()(),c.j41(11,"div",21)(12,"div",22),c.nrm(13,"img",23),c.k0s(),c.j41(14,"div",24),c.nrm(15,"img",25),c.k0s()()()(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(10),c.Y8G("ngForOf",Ae.services)}}let de=(()=>{class J{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(Ae){this.expandedServiceIndex=this.expandedServiceIndex===Ae?null:Ae}static#e=this.\u0275fac=function(Ct){return new(Ct||J)};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0),c.DNE(1,Bt,11,1,"ng-container",1),c.DNE(2,Pe,16,1,"ng-container",1),c.k0s()),2&Ct&&(c.Y8G("ngSwitch",Mt.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.YU,me.Sq,me.bT,me.ux,me.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}return J})(),Me=(()=>{class J{static#e=this.\u0275fac=function(Ct){return new(Ct||J)};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-center-text"]],inputs:{title:"title",content:"content"},decls:7,vars:2,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description"],[1,"afhBtn"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2),c.k0s(),c.j41(3,"h4",2),c.EFF(4),c.k0s(),c.j41(5,"button",3),c.EFF(6,"Scehdule A Visit"),c.k0s()()),2&Ct&&(c.R7$(2),c.JRh(Mt.title),c.R7$(2),c.SpI(" ",Mt.content," "))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}return J})();function Xe(J,Le){if(1&J){const Ae=c.RV6();c.qex(0),c.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),c.EFF(5,"We Are "),c.j41(6,"span",6),c.EFF(7),c.k0s()(),c.j41(8,"h1"),c.EFF(9),c.k0s(),c.j41(10,"p"),c.EFF(11),c.k0s(),c.j41(12,"div",7)(13,"button",8),c.bIt("click",function(){c.eBV(Ae);const Mt=c.XpG();return c.Njj(Mt.navigateToContact())}),c.EFF(14,"Contact Us"),c.k0s()()()()(),c.bVm()}if(2&J){const Ae=c.XpG();c.R7$(7),c.JRh(Ae.business.businessName),c.R7$(2),c.JRh(Ae.business.welcomeMessage),c.R7$(2),c.JRh(Ae.business.keyServicesHighlights)}}function Te(J,Le){if(1&J&&(c.qex(0),c.j41(1,"div",9),c.nrm(2,"app-center-text",10),c.k0s(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(2),c.Y8G("title","Who We Are")("content",Ae.business.businessStory)}}function De(J,Le){if(1&J&&(c.qex(0),c.j41(1,"div",9),c.nrm(2,"app-center-text",10),c.k0s(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(2),c.Y8G("title","Who We Are")("content",Ae.business.businessStory)}}let He=(()=>{class J{constructor(Ae){this.router=Ae,this.layoutType="demo"}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.business.businessId}})}static#e=this.\u0275fac=function(Ct){return new(Ct||J)(c.rXU(o.Ix))};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",business:"business"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"title","content"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0),c.DNE(1,Xe,15,3,"ng-container",1),c.DNE(2,Te,3,2,"ng-container",1),c.DNE(3,De,3,2,"ng-container",2),c.k0s()),2&Ct&&(c.Y8G("ngSwitch",Mt.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.ux,me.e1,me.fG,Me],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}return J})();function bt(J,Le){if(1&J){const Ae=c.RV6();c.qex(0),c.j41(1,"div",2)(2,"div",3)(3,"span",4),c.EFF(4,"Book a "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Consultation"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," We would love to meet you! Contact us to schedule a tour. "),c.k0s(),c.j41(9,"button",7),c.bIt("click",function(){c.eBV(Ae);const Mt=c.XpG();return c.Njj(Mt.navigateToContact(Mt.id))}),c.EFF(10,"Book Consultation"),c.k0s()(),c.bVm()}}function At(J,Le){if(1&J){const Ae=c.RV6();c.qex(0),c.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),c.EFF(6,"Ready to experience "),c.k0s(),c.j41(7,"span",13),c.EFF(8),c.k0s()(),c.j41(9,"p"),c.EFF(10,"Discover what makes our services unique and tailored to your needs."),c.k0s(),c.j41(11,"div",14)(12,"button",15),c.bIt("click",function(){c.eBV(Ae);const Mt=c.XpG();return c.Njj(Mt.navigateToContact(Mt.id))}),c.EFF(13,"Schedule a Visit"),c.k0s()()()()(),c.bVm()}if(2&J){const Ae=c.XpG();c.R7$(8),c.SpI("",Ae.businessName,"?")}}let dn=(()=>{class J{constructor(Ae){this.router=Ae,this.id=null,this.layoutType="demo"}navigateToContact(Ae){this.router.navigate(["/contact-us"],{queryParams:{id:Ae}})}static#e=this.\u0275fac=function(Ct){return new(Ct||J)(c.rXU(o.Ix))};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0),c.DNE(1,bt,11,0,"ng-container",1),c.DNE(2,At,14,1,"ng-container",1),c.k0s()),2&Ct&&(c.Y8G("ngSwitch",Mt.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.ux,me.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}"]})}return J})();function en(J,Le){if(1&J&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&J){const Ae=Le.$implicit;c.R7$(1),c.Y8G("innerHTML",Ae.name,c.npT),c.R7$(1),c.Y8G("innerHTML",Ae.description,c.npT)}}function On(J,Le){if(1&J&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our Unique "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Features"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,en,3,2,"div",9),c.k0s()()(),c.bVm()),2&J){const Ae=c.XpG();c.R7$(11),c.Y8G("ngForOf",Ae.uniqueService)}}function En(J,Le){1&J&&c.eu8(0)}let dr=(()=>{class J{constructor(Ae,Ct){this.webContent=Ae,this.route=Ct,this.layoutType="demo"}static#e=this.\u0275fac=function(Ct){return new(Ct||J)(c.rXU(ue.N),c.rXU(o.nX))};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0),c.DNE(1,On,12,1,"ng-container",1),c.DNE(2,En,1,0,"ng-container",1),c.k0s()),2&Ct&&(c.Y8G("ngSwitch",Mt.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}return J})();function Ht(J,Le){if(1&J&&(c.j41(0,"div",8),c.nrm(1,"div",9)(2,"div",10),c.k0s()),2&J){const Ae=Le.$implicit;c.R7$(1),c.Y8G("innerHTML",Ae.name,c.npT),c.R7$(1),c.Y8G("innerHTML",Ae.description,c.npT)}}let Tn=(()=>{class J{constructor(Ae,Ct){this.webContent=Ae,this.route=Ct,this.layoutType="demo"}static#e=this.\u0275fac=function(Ct){return new(Ct||J)(c.rXU(ue.N),c.rXU(o.nX))};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:11,vars:2,consts:[[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-section-description"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"section",0)(1,"div",1)(2,"span",2),c.EFF(3,"Why Choose "),c.k0s(),c.j41(4,"span",3),c.EFF(5),c.k0s()(),c.j41(6,"p",4),c.EFF(7," What sets us appart. "),c.k0s(),c.j41(8,"div",5)(9,"div",6),c.DNE(10,Ht,3,2,"div",7),c.k0s()()()),2&Ct&&(c.R7$(5),c.SpI(" ",Mt.businessName,""),c.R7$(5),c.Y8G("ngForOf",Mt.whyChooseUs))},dependencies:[me.Sq],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return J})();var jn=L(4593),zt=L(491);function Vt(J,Le){if(1&J&&(c.j41(0,"div",5),c.nrm(1,"i",6),c.j41(2,"h3",7),c.EFF(3),c.k0s()()),2&J){const Ae=Le.$implicit;c.R7$(1),c.HbH(Ae.icon),c.R7$(2),c.JRh(Ae.title)}}let Vr=(()=>{class J{constructor(){this.services=[]}static#e=this.\u0275fac=function(Ct){return new(Ct||J)};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:7,vars:1,consts:[[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(Ct,Mt){1&Ct&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2,"Our Services"),c.k0s(),c.j41(3,"div",2),c.DNE(4,Vt,4,3,"div",3),c.k0s(),c.j41(5,"button",4),c.EFF(6,"Learn More"),c.k0s()()),2&Ct&&(c.R7$(4),c.Y8G("ngForOf",Mt.services))},dependencies:[me.Sq,o.Wk],styles:[".services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;background-color:var(--dark-background-color);color:var(--primary-color);padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:4rem}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}"]})}return J})();function hn(J,Le){1&J&&c.nrm(0,"app-right-text",9),2&J&&c.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident`s unique needs, ensuring they feel valued and supported.")}function yr(J,Le){1&J&&c.nrm(0,"app-left-text",9),2&J&&c.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const Gn=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},Lt=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},gn=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},xn=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},Cn=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},hr=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},Er=function(J,Le,Ae,Ct,Mt,Fn){return[J,Le,Ae,Ct,Mt,Fn]};function Zr(J,Le){1&J&&c.nrm(0,"app-icon-list",10),2&J&&c.Y8G("services",c.l4e(7,Er,c.lJ4(1,Gn),c.lJ4(2,Lt),c.lJ4(3,gn),c.lJ4(4,xn),c.lJ4(5,Cn),c.lJ4(6,hr)))}const Bn=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},ei=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},cn=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Xn=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},Mn=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},We=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}};function pt(J,Le){if(1&J&&c.nrm(0,"app-our-services-home",11),2&J){const Ae=c.XpG();c.Y8G("layoutType",Ae.business.theme.themeType)("services",c.l4e(8,Er,c.lJ4(2,Bn),c.lJ4(3,ei),c.lJ4(4,cn),c.lJ4(5,Xn),c.lJ4(6,Mn),c.lJ4(7,We)))}}let oe=(()=>{class J{constructor(Ae,Ct,Mt,Fn){this.webContent=Ae,this.route=Ct,this.metaService=Mt,this.businessDataService=Fn,this.business={businessData:[],heroImages:[],logoText:"",businessName:"",businessURL:"",providerName:"",keyWords:"",tagline:"",uniqueService:[],whyChoose:[],businessStory:"",motivation:"",missionImageUrl:"",mission:"",visionImageUrl:"",vision:"",certifications:"",services:[],specialPrograms:"",tours:"",freeConsulting:"",websiteGoals:"",logoImage:"",ownerImagesBios:"",staffImagesBios:"",facilityImages:[],lifestyleImages:[],mediaFeatures:"",ratings:"",testimonials:[],address:"",phone:"",fax:"",email:"",businessHours:"",socialMedia:"",welcomeMessage:"",keyServicesHighlights:"",teamValues:"",benefits:[],contactFormDetails:"",mapIframeUrl:"",photoGalleryText:"",employees:[],id:"",faqs:"",blogNews:"",isActive:!1,contactUsImageUrl:"",toursImageUrl:"",consultingImageUrl:"",theme:{backgroundColor:"",primaryColor:"",secondaryColor:"",textColor:"",accentColor:"",darkBackgroundColor:"",navBackgroundColor:"",navTextColor:"",navActiveBackground:"",navActiveText:"",buttonColor:"",buttonHoverColor:"",themeType:""}},this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("Home component ngOnInit"),this.route.queryParams.subscribe(Ae=>{const Ct=Ae.id;this.metaService.getMetaData(Ct).subscribe(Mt=>{this.metaService.updateMetaTags(Mt)}),this.businessDataService.loadBusinessData(Ct).subscribe(Mt=>{console.log("Home comonent businessDataService data:",Mt),Mt&&(this.business=Mt)})})}static#e=this.\u0275fac=function(Ct){return new(Ct||J)(c.rXU(ue.N),c.rXU(o.nX),c.rXU(be.R),c.rXU(ve.A))};static#t=this.\u0275cmp=c.VBU({type:J,selectors:[["app-home"]],decls:12,vars:16,consts:[[1,"content-wrapper"],[3,"layoutType","business"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"id","layoutType","businessName"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"]],template:function(Ct,Mt){1&Ct&&(c.nrm(0,"app-hero-carousel"),c.j41(1,"div",0),c.nrm(2,"app-welcome",1),c.k0s(),c.DNE(3,hn,1,3,"app-right-text",2),c.DNE(4,yr,1,3,"app-left-text",2),c.DNE(5,Zr,1,14,"app-icon-list",3),c.j41(6,"div",0),c.DNE(7,pt,1,15,"app-our-services-home",4),c.k0s(),c.nrm(8,"app-why-us",5)(9,"app-features",6)(10,"app-testimonials",7)(11,"app-consultation",8)),2&Ct&&(c.R7$(2),c.Y8G("layoutType",Mt.business.theme.themeType)("business",Mt.business),c.R7$(1),c.Y8G("ngIf","ae"===Mt.business.theme.themeType),c.R7$(1),c.Y8G("ngIf","ae"===Mt.business.theme.themeType),c.R7$(1),c.Y8G("ngIf","ae"===Mt.business.theme.themeType),c.R7$(2),c.Y8G("ngIf","hh"===Mt.business.theme.themeType),c.R7$(1),c.Y8G("whyChooseUs",Mt.business.whyChoose)("layoutType",Mt.business.theme.themeType)("businessName",Mt.business.businessName),c.R7$(1),c.Y8G("uniqueService",Mt.business.uniqueService)("layoutType",Mt.business.theme.themeType),c.R7$(1),c.Y8G("testimonials",Mt.business.testimonials)("layoutType",Mt.business.theme.themeType),c.R7$(1),c.Y8G("id",Mt.business.id)("layoutType",Mt.business.theme.themeType)("businessName",Mt.business.businessName))},dependencies:[me.bT,Ye,nr,de,He,dn,dr,Tn,jn.F,zt.G,Vr]})}return J})()},214:(rn,Qe,L)=>{L.d(Qe,{W:()=>ue});var c=L(7705);let ue=(()=>{class o{constructor(){this.closeModal=new c.bkB}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(me){return new(me||o)};static#t=this.\u0275cmp=c.VBU({type:o,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(me,Ne){1&me&&(c.j41(0,"div",0),c.bIt("click",function(){return Ne.close()}),c.j41(1,"div",1),c.bIt("click",function($e){return $e.stopPropagation()}),c.j41(2,"button",2),c.bIt("click",function(){return Ne.close()}),c.EFF(3,"Close"),c.k0s(),c.nrm(4,"img",3),c.k0s()()),2&me&&(c.R7$(4),c.Y8G("src",Ne.imageUrl,c.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return o})()},4796:(rn,Qe,L)=>{L.d(Qe,{u:()=>ve});var c=L(6354),ue=L(7705),o=L(1977),be=L(6814);let ve=(()=>{class me{constructor(Fe,$e){this.afAuth=Fe,this.router=$e,this.user$=Fe.authState}login(Fe,$e){return this.afAuth.signInWithEmailAndPassword(Fe,$e)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,c.T)(Fe=>!!Fe))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function($e){return new($e||me)(ue.KVO(o.DS),ue.KVO(be.Ix))};static#t=this.\u0275prov=ue.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},923:(rn,Qe,L)=>{L.d(Qe,{A:()=>me});var c=L(4412),ue=L(6354),o=L(8141),be=L(7705),ve=L(3012);let me=(()=>{class Ne{constructor($e){this.businessService=$e,this.businessDataSubject=new c.t(null),this.businessIdSubject=new c.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData($e){return this.businessService.getBusinessData($e).pipe((0,ue.T)(te=>te??null),(0,o.M)(te=>{this.businessDataSubject.next(te),this.businessIdSubject.next($e)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static#e=this.\u0275fac=function(te){return new(te||Ne)(be.KVO(ve.u))};static#t=this.\u0275prov=be.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})()},3012:(rn,Qe,L)=>{L.d(Qe,{u:()=>Ne});var c=L(7673),ue=L(6354),o=L(5558),be=L(7705),ve=L(6340),me=L(8721);let Ne=(()=>{class Fe{constructor(te,ce){this.afs=te,this.storage=ce,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(te){console.log("Business Created");const ce=this.afs.createId();return this.afs.doc(`${this.basePath}/${ce}`).set({...te,id:ce}),this.afs.doc(`${this.basePath}/${ce}`).valueChanges().pipe((0,ue.T)(ge=>{if(!ge)throw new Error("Business not found after creation");return ge}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(te=>te.map(ce=>{const ge=ce.payload.doc.data(),st=ce.payload.doc.id,{id:qe,...yt}=ge;return{id:st,...yt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,te=>te.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(te){return this.getBusinessData(te)}getBusinessData(te){const ce=te&&te.trim()?te:this.defaultBusinessId;return this.afs.collection("businesses").doc(ce).snapshotChanges().pipe((0,o.n)(ge=>{const st=ge.payload.data(),qe=ge.payload.id;if(!st)return(0,c.of)(void 0);const{id:yt,...vt}=st,jt={id:qe,...vt},xt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${qe}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(Je=>{const ze=Je.payload.data()||xt;return jt.theme=ze,jt}))}))}updateBusiness(te,ce){return this.afs.doc(`${this.basePath}/${te}`).update(ce)}deleteBusiness(te){return this.afs.doc(`${this.basePath}/${te}`).delete()}uploadFile(te,ce){return this.storage.upload(te,ce)}getDownloadURL(te){return this.storage.ref(te).getDownloadURL()}updateThemeFileName(te,ce=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ce}`).update({"theme.themeFileName":te})}getThemeFileName(te=this.defaultBusinessId){const ge=this.afs.collection(this.basePath).doc(te).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${te}`),ge.get().toPromise().then(st=>{if(st&&st.exists){const qe=st.data();console.log("Theme document found:",qe);const yt=qe?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${yt}`),yt}return console.warn(`No theme document found for business ID: ${te}. Using default theme.`),"default-theme.css"}).catch(st=>(console.error(`Error fetching theme file name for business ID: ${te}`,st),"default-theme.css"))}static#e=this.\u0275fac=function(ce){return new(ce||Fe)(be.KVO(ve.Qe),be.KVO(me.ap))};static#t=this.\u0275prov=be.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},6861:(rn,Qe,L)=>{L.d(Qe,{R:()=>ve});var c=L(6354),ue=L(7705),o=L(345),be=L(6340);let ve=(()=>{class me{constructor(Fe,$e,te){this.meta=Fe,this.title=$e,this.firestore=te,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}updateMetaTags(Fe){this.title.setTitle(Fe.title),this.meta.updateTag({name:"description",content:Fe.description}),this.meta.updateTag({name:"keywords",content:Fe.keywords}),this.meta.updateTag({property:"og:title",content:Fe.title}),this.meta.updateTag({property:"og:description",content:Fe.description})}getMetaData(Fe){return(null==Fe||""==Fe||""===Fe)&&(Fe=this.defaultBusinessId),this.firestore.collection("businesses").doc(Fe).valueChanges().pipe((0,c.T)($e=>$e?{title:$e.metaTitle||"Adult Family Home",description:$e.metaDescription||"Best Adult Family home in Washington State",keywords:$e.metaKeywords||"default, keywords"}:{title:"No Metadata Title",description:"No Default Description",keywords:"default, keywords"}))}static#e=this.\u0275fac=function($e){return new($e||me)(ue.KVO(o.W8),ue.KVO(o.hE),ue.KVO(be.Qe))};static#t=this.\u0275prov=ue.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},5009:(rn,Qe,L)=>{L.d(Qe,{F:()=>$e});var c=L(8810),ue=L(8455),o=L(7673),be=L(6697),ve=L(5558),me=L(9437),Ne=L(7705),Fe=L(6340);let $e=(()=>{class te{constructor(ge){this.firestore=ge,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(ge){return this.firestore.collection("businesses").doc(ge).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(ge){console.log("Theme Service: - Fetching theme for business ID:",ge);const st=this.firestore.collection("businesses").doc(ge),qe=st.collection("theme").doc("themeDoc");return st.snapshotChanges().pipe((0,be.s)(1),(0,ve.n)(yt=>yt.payload.exists?qe.get().pipe((0,ve.n)(vt=>vt.exists?(vt.data(),qe.valueChanges()):(0,ue.H)(qe.set(this.defaultTheme)).pipe((0,ve.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),qe.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,c.$)("Theme Service: - Business document does not exist"))),(0,me.W)(yt=>(console.error("Error fetching theme:",yt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,o.of)(this.defaultTheme))))}updateColors(ge,st){const qe=this.firestore.collection("businesses").doc(ge).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+ge+" theme service updateColors: ",st),qe.set(st,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),st.themeFileName&&this.applyThemeFile(st.themeFileName)}).catch(yt=>{throw console.error("Theme Service: - Error updating colors:",yt),new Error(yt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(ge){return this.loadCss(`assets/themes/${ge}`)}loadCss(ge){return new Promise((st,qe)=>{console.log("Load css from  file:",ge);const yt=document.createElement("link");yt.rel="stylesheet",yt.href=ge,yt.onload=()=>{console.log(`Loaded theme: ${ge}`),st()},yt.onerror=vt=>{console.error(`Failed to load theme: ${ge}`,vt),qe(vt)},document.head.appendChild(yt)})}static#e=this.\u0275fac=function(st){return new(st||te)(Ne.KVO(Fe.Qe))};static#t=this.\u0275prov=Ne.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},8704:(rn,Qe,L)=>{L.d(Qe,{N:()=>Ne});var c=L(6354),ue=L(9437),o=L(7673),be=L(7705),ve=L(6340),me=L(8721);let Ne=(()=>{class Fe{constructor(te,ce){this.firestore=te,this.storage=ce,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(te){const ce=te&&te.trim()?te:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ce).snapshotChanges().pipe((0,c.T)(ge=>{const st=ge.payload.data(),qe=ge.payload.id;if(st){const{id:yt,testimonials:vt=[],...jt}=st;return{id:qe,testimonials:vt.map(an=>({...an,photoURL:an.photoURL&&an.photoURL.trim()?an.photoURL:this.defaultImage})),...jt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(te){return this.storage.ref(te).getDownloadURL().pipe((0,ue.W)(ce=>(console.error("Error fetching photo URL:",ce),(0,o.of)(""))))}getEmployeesByBusinessId(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).get().pipe((0,c.T)(ce=>{if(ce.exists){const ge=ce.data();return ge&&ge.employees?ge.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(ce=>(console.error("Error fetching employees:",ce),(0,o.of)([]))))}getBusinessGalleryImagesById(te){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection("gallery").valueChanges()}getBusinessUploadedImagesById(te,ce){return(null==te||""==te||""===te)&&(te=this.defaultBusinessId),this.firestore.collection("businesses").doc(te).collection(ce).valueChanges()}checkImageExists(te){return this.storage.refFromURL(te).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(ce){return new(ce||Fe)(be.KVO(ve.Qe),be.KVO(me.ap))};static#t=this.\u0275prov=be.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},6317:(rn,Qe,L)=>{var c={};L.r(c),L.d(c,{afterMain:()=>Mo,afterRead:()=>Eo,afterWrite:()=>pi,applyStyles:()=>kt,arrow:()=>Ss,auto:()=>Po,basePlacements:()=>Ui,beforeMain:()=>Hr,beforeRead:()=>xo,beforeWrite:()=>Wn,bottom:()=>Ar,clippingParents:()=>co,computeStyles:()=>X,createPopper:()=>Rt,createPopperBase:()=>Ie,createPopperLite:()=>Rr,detectOverflow:()=>ms,end:()=>Di,eventListeners:()=>Oe,flip:()=>sc,hide:()=>os,left:()=>Zn,main:()=>Ro,modifierPhases:()=>Q,offset:()=>ac,placements:()=>ki,popper:()=>Qt,popperGenerator:()=>Y,popperOffsets:()=>xs,preventOverflow:()=>Ju,read:()=>hi,reference:()=>zn,right:()=>ci,start:()=>ao,top:()=>fr,variationPlacements:()=>cr,viewport:()=>$r,write:()=>go});var ue=L(345),o=L(7705),be=L(7673),ve=L(8455),me=L(1985),Ne=L(274),Fe=L(5964),$e=L(6354),te=L(980),ce=L(5558),ge=L(177);class st{}class qe{}class yt{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?"string"==typeof g?this.lazyInit=()=>{this.headers=new Map,g.split("\n").forEach(m=>{const M=m.indexOf(":");if(M>0){const q=m.slice(0,M),pe=q.toLowerCase(),Se=m.slice(M+1).trim();this.maybeSetNormalizedName(q,pe),this.headers.has(pe)?this.headers.get(pe).push(Se):this.headers.set(pe,[Se])}})}:typeof Headers<"u"&&g instanceof Headers?(this.headers=new Map,g.forEach((m,M)=>{this.setHeaderEntries(M,m)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(g).forEach(([m,M])=>{this.setHeaderEntries(m,M)})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const m=this.headers.get(g.toLowerCase());return m&&m.length>0?m[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,m){return this.clone({name:g,value:m,op:"a"})}set(g,m){return this.clone({name:g,value:m,op:"s"})}delete(g,m){return this.clone({name:g,value:m,op:"d"})}maybeSetNormalizedName(g,m){this.normalizedNames.has(m)||this.normalizedNames.set(m,g)}init(){this.lazyInit&&(this.lazyInit instanceof yt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(m=>{this.headers.set(m,g.headers.get(m)),this.normalizedNames.set(m,g.normalizedNames.get(m))})}clone(g){const m=new yt;return m.lazyInit=this.lazyInit&&this.lazyInit instanceof yt?this.lazyInit:this,m.lazyUpdate=(this.lazyUpdate||[]).concat([g]),m}applyUpdate(g){const m=g.name.toLowerCase();switch(g.op){case"a":case"s":let M=g.value;if("string"==typeof M&&(M=[M]),0===M.length)return;this.maybeSetNormalizedName(g.name,m);const q=("a"===g.op?this.headers.get(m):void 0)||[];q.push(...M),this.headers.set(m,q);break;case"d":const pe=g.value;if(pe){let Se=this.headers.get(m);if(!Se)return;Se=Se.filter(_t=>-1===pe.indexOf(_t)),0===Se.length?(this.headers.delete(m),this.normalizedNames.delete(m)):this.headers.set(m,Se)}else this.headers.delete(m),this.normalizedNames.delete(m)}}setHeaderEntries(g,m){const M=(Array.isArray(m)?m:[m]).map(pe=>pe.toString()),q=g.toLowerCase();this.headers.set(q,M),this.maybeSetNormalizedName(g,q)}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(m=>g(this.normalizedNames.get(m),this.headers.get(m)))}}class jt{encodeKey(g){return ze(g)}encodeValue(g){return ze(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const an=/%(\d[a-f0-9])/gi,Je={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ze(C){return encodeURIComponent(C).replace(an,(g,m)=>Je[m]??g)}function it(C){return`${C}`}class Ye{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new jt,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xt(C,g){const m=new Map;return C.length>0&&C.replace(/^\?/,"").split("&").forEach(q=>{const pe=q.indexOf("="),[Se,_t]=-1==pe?[g.decodeKey(q),""]:[g.decodeKey(q.slice(0,pe)),g.decodeValue(q.slice(pe+1))],wt=m.get(Se)||[];wt.push(_t),m.set(Se,wt)}),m}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(m=>{const M=g.fromObject[m],q=Array.isArray(M)?M.map(it):[it(M)];this.map.set(m,q)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const m=this.map.get(g);return m?m[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,m){return this.clone({param:g,value:m,op:"a"})}appendAll(g){const m=[];return Object.keys(g).forEach(M=>{const q=g[M];Array.isArray(q)?q.forEach(pe=>{m.push({param:M,value:pe,op:"a"})}):m.push({param:M,value:q,op:"a"})}),this.clone(m)}set(g,m){return this.clone({param:g,value:m,op:"s"})}delete(g,m){return this.clone({param:g,value:m,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const m=this.encoder.encodeKey(g);return this.map.get(g).map(M=>m+"="+this.encoder.encodeValue(M)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const m=new Ye({encoder:this.encoder});return m.cloneFrom=this.cloneFrom||this,m.updates=(this.updates||[]).concat(g),m}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const m=("a"===g.op?this.map.get(g.param):void 0)||[];m.push(it(g.value)),this.map.set(g.param,m);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let M=this.map.get(g.param)||[];const q=M.indexOf(it(g.value));-1!==q&&M.splice(q,1),M.length>0?this.map.set(g.param,M):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class Tt{constructor(){this.map=new Map}set(g,m){return this.map.set(g,m),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function Ce(C){return typeof ArrayBuffer<"u"&&C instanceof ArrayBuffer}function Yt(C){return typeof Blob<"u"&&C instanceof Blob}function ln(C){return typeof FormData<"u"&&C instanceof FormData}class Pt{constructor(g,m,M,q){let pe;if(this.url=m,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function Ft(C){switch(C){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||q?(this.body=void 0!==M?M:null,pe=q):pe=M,pe&&(this.reportProgress=!!pe.reportProgress,this.withCredentials=!!pe.withCredentials,pe.responseType&&(this.responseType=pe.responseType),pe.headers&&(this.headers=pe.headers),pe.context&&(this.context=pe.context),pe.params&&(this.params=pe.params)),this.headers||(this.headers=new yt),this.context||(this.context=new Tt),this.params){const Se=this.params.toString();if(0===Se.length)this.urlWithParams=m;else{const _t=m.indexOf("?");this.urlWithParams=m+(-1===_t?"?":_t<m.length-1?"&":"")+Se}}else this.params=new Ye,this.urlWithParams=m}serializeBody(){return null===this.body?null:Ce(this.body)||Yt(this.body)||ln(this.body)||function nr(C){return typeof URLSearchParams<"u"&&C instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ln(this.body)?null:Yt(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const m=g.method||this.method,M=g.url||this.url,q=g.responseType||this.responseType,pe=void 0!==g.body?g.body:this.body,Se=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,_t=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let wt=g.headers||this.headers,bn=g.params||this.params;const sn=g.context??this.context;return void 0!==g.setHeaders&&(wt=Object.keys(g.setHeaders).reduce((Jn,ar)=>Jn.set(ar,g.setHeaders[ar]),wt)),g.setParams&&(bn=Object.keys(g.setParams).reduce((Jn,ar)=>Jn.set(ar,g.setParams[ar]),bn)),new Pt(m,M,pe,{params:bn,headers:wt,context:sn,reportProgress:_t,responseType:q,withCredentials:Se})}}var Bt=function(C){return C[C.Sent=0]="Sent",C[C.UploadProgress=1]="UploadProgress",C[C.ResponseHeader=2]="ResponseHeader",C[C.DownloadProgress=3]="DownloadProgress",C[C.Response=4]="Response",C[C.User=5]="User",C}(Bt||{});class Wt{constructor(g,m=200,M="OK"){this.headers=g.headers||new yt,this.status=void 0!==g.status?g.status:m,this.statusText=g.statusText||M,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class at extends Wt{constructor(g={}){super(g),this.type=Bt.ResponseHeader}clone(g={}){return new at({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Pe extends Wt{constructor(g={}){super(g),this.type=Bt.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new Pe({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class de extends Wt{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function Me(C,g){return{body:g,headers:C.headers,context:C.context,observe:C.observe,params:C.params,reportProgress:C.reportProgress,responseType:C.responseType,withCredentials:C.withCredentials}}let Xe=(()=>{class C{constructor(m){this.handler=m}request(m,M,q={}){let pe;if(m instanceof Pt)pe=m;else{let wt,bn;wt=q.headers instanceof yt?q.headers:new yt(q.headers),q.params&&(bn=q.params instanceof Ye?q.params:new Ye({fromObject:q.params})),pe=new Pt(m,M,void 0!==q.body?q.body:null,{headers:wt,context:q.context,params:bn,reportProgress:q.reportProgress,responseType:q.responseType||"json",withCredentials:q.withCredentials})}const Se=(0,be.of)(pe).pipe((0,Ne.H)(wt=>this.handler.handle(wt)));if(m instanceof Pt||"events"===q.observe)return Se;const _t=Se.pipe((0,Fe.p)(wt=>wt instanceof Pe));switch(q.observe||"body"){case"body":switch(pe.responseType){case"arraybuffer":return _t.pipe((0,$e.T)(wt=>{if(null!==wt.body&&!(wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return wt.body}));case"blob":return _t.pipe((0,$e.T)(wt=>{if(null!==wt.body&&!(wt.body instanceof Blob))throw new Error("Response is not a Blob.");return wt.body}));case"text":return _t.pipe((0,$e.T)(wt=>{if(null!==wt.body&&"string"!=typeof wt.body)throw new Error("Response is not a string.");return wt.body}));default:return _t.pipe((0,$e.T)(wt=>wt.body))}case"response":return _t;default:throw new Error(`Unreachable: unhandled observe type ${q.observe}}`)}}delete(m,M={}){return this.request("DELETE",m,M)}get(m,M={}){return this.request("GET",m,M)}head(m,M={}){return this.request("HEAD",m,M)}jsonp(m,M){return this.request("JSONP",m,{params:(new Ye).append(M,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(m,M={}){return this.request("OPTIONS",m,M)}patch(m,M,q={}){return this.request("PATCH",m,Me(q,M))}post(m,M,q={}){return this.request("POST",m,Me(q,M))}put(m,M,q={}){return this.request("PUT",m,Me(q,M))}static#e=this.\u0275fac=function(M){return new(M||C)(o.KVO(st))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();function On(C,g){return g(C)}function En(C,g){return(m,M)=>g.intercept(m,{handle:q=>C(q,M)})}const Ht=new o.nKC(""),Tn=new o.nKC(""),jn=new o.nKC("");function zt(){let C=null;return(g,m)=>{null===C&&(C=((0,o.WQX)(Ht,{optional:!0})??[]).reduceRight(En,On));const M=(0,o.WQX)(o.$K3),q=M.add();return C(g,m).pipe((0,te.j)(()=>M.remove(q)))}}let Vt=(()=>{class C extends st{constructor(m,M){super(),this.backend=m,this.injector=M,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(m){if(null===this.chain){const q=Array.from(new Set([...this.injector.get(Tn),...this.injector.get(jn,[])]));this.chain=q.reduceRight((pe,Se)=>function dr(C,g,m){return(M,q)=>m.runInContext(()=>g(M,pe=>C(pe,q)))}(pe,Se,this.injector),On)}const M=this.pendingTasks.add();return this.chain(m,q=>this.backend.handle(q)).pipe((0,te.j)(()=>this.pendingTasks.remove(M)))}static#e=this.\u0275fac=function(M){return new(M||C)(o.KVO(qe),o.KVO(o.uvJ))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();const Bn=/^\)\]\}',?\n/;let Ki=(()=>{class C{constructor(m){this.xhrFactory=m}handle(m){if("JSONP"===m.method)throw new o.wOt(-2800,!1);const M=this.xhrFactory;return(M.\u0275loadImpl?(0,ve.H)(M.\u0275loadImpl()):(0,be.of)(null)).pipe((0,ce.n)(()=>new me.c(pe=>{const Se=M.build();if(Se.open(m.method,m.urlWithParams),m.withCredentials&&(Se.withCredentials=!0),m.headers.forEach((Pn,er)=>Se.setRequestHeader(Pn,er.join(","))),m.headers.has("Accept")||Se.setRequestHeader("Accept","application/json, text/plain, */*"),!m.headers.has("Content-Type")){const Pn=m.detectContentTypeHeader();null!==Pn&&Se.setRequestHeader("Content-Type",Pn)}if(m.responseType){const Pn=m.responseType.toLowerCase();Se.responseType="json"!==Pn?Pn:"text"}const _t=m.serializeBody();let wt=null;const bn=()=>{if(null!==wt)return wt;const Pn=Se.statusText||"OK",er=new yt(Se.getAllResponseHeaders()),si=function ei(C){return"responseURL"in C&&C.responseURL?C.responseURL:/^X-Request-URL:/m.test(C.getAllResponseHeaders())?C.getResponseHeader("X-Request-URL"):null}(Se)||m.url;return wt=new at({headers:er,status:Se.status,statusText:Pn,url:si}),wt},sn=()=>{let{headers:Pn,status:er,statusText:si,url:Wi}=bn(),Jr=null;204!==er&&(Jr=typeof Se.response>"u"?Se.responseText:Se.response),0===er&&(er=Jr?200:0);let Fr=er>=200&&er<300;if("json"===m.responseType&&"string"==typeof Jr){const bi=Jr;Jr=Jr.replace(Bn,"");try{Jr=""!==Jr?JSON.parse(Jr):null}catch(Ti){Jr=bi,Fr&&(Fr=!1,Jr={error:Ti,text:Jr})}}Fr?(pe.next(new Pe({body:Jr,headers:Pn,status:er,statusText:si,url:Wi||void 0})),pe.complete()):pe.error(new de({error:Jr,headers:Pn,status:er,statusText:si,url:Wi||void 0}))},Jn=Pn=>{const{url:er}=bn(),si=new de({error:Pn,status:Se.status||0,statusText:Se.statusText||"Unknown Error",url:er||void 0});pe.error(si)};let ar=!1;const lr=Pn=>{ar||(pe.next(bn()),ar=!0);let er={type:Bt.DownloadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(er.total=Pn.total),"text"===m.responseType&&Se.responseText&&(er.partialText=Se.responseText),pe.next(er)},ui=Pn=>{let er={type:Bt.UploadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(er.total=Pn.total),pe.next(er)};return Se.addEventListener("load",sn),Se.addEventListener("error",Jn),Se.addEventListener("timeout",Jn),Se.addEventListener("abort",Jn),m.reportProgress&&(Se.addEventListener("progress",lr),null!==_t&&Se.upload&&Se.upload.addEventListener("progress",ui)),Se.send(_t),pe.next({type:Bt.Sent}),()=>{Se.removeEventListener("error",Jn),Se.removeEventListener("abort",Jn),Se.removeEventListener("load",sn),Se.removeEventListener("timeout",Jn),m.reportProgress&&(Se.removeEventListener("progress",lr),null!==_t&&Se.upload&&Se.upload.removeEventListener("progress",ui)),Se.readyState!==Se.DONE&&Se.abort()}})))}static#e=this.\u0275fac=function(M){return new(M||C)(o.KVO(ge.N0))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();const cn=new o.nKC("XSRF_ENABLED"),Xn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Mn=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class _i{}let We=(()=>{class C{constructor(m,M,q){this.doc=m,this.platform=M,this.cookieName=q,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const m=this.doc.cookie||"";return m!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ge._b)(m,this.cookieName),this.lastCookieString=m),this.lastToken}static#e=this.\u0275fac=function(M){return new(M||C)(o.KVO(ge.qQ),o.KVO(o.Agw),o.KVO(Xn))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac})}return C})();function pt(C,g){const m=C.url.toLowerCase();if(!(0,o.WQX)(cn)||"GET"===C.method||"HEAD"===C.method||m.startsWith("http://")||m.startsWith("https://"))return g(C);const M=(0,o.WQX)(_i).getToken(),q=(0,o.WQX)(Mn);return null!=M&&!C.headers.has(q)&&(C=C.clone({headers:C.headers.set(q,M)})),g(C)}var J=function(C){return C[C.Interceptors=0]="Interceptors",C[C.LegacyInterceptors=1]="LegacyInterceptors",C[C.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",C[C.NoXsrfProtection=3]="NoXsrfProtection",C[C.JsonpSupport=4]="JsonpSupport",C[C.RequestsMadeViaParent=5]="RequestsMadeViaParent",C[C.Fetch=6]="Fetch",C}(J||{});function Ae(...C){const g=[Xe,Ki,Vt,{provide:st,useExisting:Vt},{provide:qe,useExisting:Ki},{provide:Tn,useValue:pt,multi:!0},{provide:cn,useValue:!0},{provide:_i,useClass:We}];for(const m of C)g.push(...m.\u0275providers);return(0,o.EmA)(g)}const Mt=new o.nKC("LEGACY_INTERCEPTOR_FN");function Fn(){return function Le(C,g){return{\u0275kind:C,\u0275providers:g}}(J.LegacyInterceptors,[{provide:Mt,useFactory:zt},{provide:Tn,useExisting:Mt,multi:!0}])}let Ve=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275mod=o.$C({type:C});static#n=this.\u0275inj=o.G2t({providers:[Ae(Fn())]})}return C})();var Tr=L(6814),Ko=L(4026),di=L(8704),Ji=L(6861),Li=L(923),ai=L(9437);function or(C,g){if(1&C&&(o.j41(0,"div",4),o.nrm(1,"img",5),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()()),2&C){const m=g.$implicit;o.R7$(1),o.FS9("alt",m.name),o.Y8G("src",m.photoURL,o.B4B),o.R7$(2),o.JRh(m.name),o.R7$(2),o.JRh(m.role),o.R7$(2),o.JRh(m.bio)}}function dt(C,g){if(1&C&&(o.j41(0,"div",1)(1,"h2"),o.EFF(2,"Meet the Team"),o.k0s(),o.j41(3,"div",2),o.DNE(4,or,8,5,"div",3),o.nI1(5,"async"),o.k0s()()),2&C){const m=o.XpG();o.R7$(4),o.Y8G("ngForOf",o.bMT(5,1,m.employees$))}}let Ze=(()=>{class C{constructor(m,M){this.route=m,this.employeeService=M}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,$e.T)(m=>m.get("id")||""),(0,ce.n)(m=>this.employeeService.getEmployeesByBusinessId(m)),(0,ai.W)(m=>(console.error("Error fetching employees:",m),(0,be.of)([]))))}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Tr.nX),o.rXU(di.N))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(M,q){1&M&&o.DNE(0,dt,6,3,"div",0),2&M&&o.Y8G("ngIf",q.employees$)},dependencies:[ge.Sq,ge.bT,ge.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return C})();var Dt=L(4593),fn=L(491);let Rn=(()=>{class C{constructor(m,M){this.route=m,this.router=M,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"}}}ngOnInit(){this.router.events.subscribe(()=>{const M=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",M),M&&this.imagesAndMessages[M]?(this.backgroundImage=`url(${this.imagesAndMessages[M].image})`,this.message=this.imagesAndMessages[M].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Tr.nX),o.rXU(Tr.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(M,q){1&M&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3),o.k0s()()()),2&M&&(o.xc7("background-image",q.backgroundImage),o.R7$(3),o.JRh(q.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}return C})(),Vn=(()=>{class C{constructor(){this.text="",this.author="",this.imageURL=""}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(M,q){1&M&&(o.j41(0,"div",0)(1,"div",1),o.nrm(2,"img",2),o.j41(3,"div",3)(4,"p",4),o.EFF(5),o.k0s(),o.j41(6,"p",5),o.EFF(7),o.k0s()()()()),2&M&&(o.R7$(2),o.FS9("src",q.imageURL,o.B4B),o.R7$(3),o.SpI('" ',q.text,'"'),o.R7$(2),o.SpI("\u2013 ",q.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}return C})();function Nn(C,g){if(1&C&&(o.qex(0),o.j41(1,"button",3),o.EFF(2),o.k0s(),o.bVm()),2&C){const m=o.XpG();o.R7$(2),o.JRh(m.buttonText)}}function Br(C,g){if(1&C&&(o.j41(0,"a",4),o.EFF(1),o.k0s()),2&C){const m=o.XpG();o.R7$(1),o.JRh(m.buttonText)}}const Nr=function(C,g){return{"background-color":C,color:g}};let Ri=(()=>{class C{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(M,q){if(1&M&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2),o.k0s(),o.DNE(3,Nn,3,1,"ng-container",1),o.DNE(4,Br,2,1,"ng-template",null,2,o.C5r),o.k0s()),2&M){const pe=o.sdS(5);o.Y8G("ngStyle",o.l_i(4,Nr,q.bgColor,q.textColor)),o.R7$(2),o.JRh(q.text),o.R7$(1),o.Y8G("ngIf",q.isButton)("ngIfElse",pe)}},dependencies:[ge.bT,ge.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}return C})();function qo(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"About Us"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),o.EFF(12,"Our Story"),o.k0s()(),o.nrm(13,"div",11),o.k0s(),o.j41(14,"section",12)(15,"div",13),o.nrm(16,"img",14),o.j41(17,"div",9)(18,"h2",10),o.EFF(19,"Our Mission"),o.k0s()(),o.nrm(20,"div",11),o.k0s(),o.j41(21,"div",15),o.nrm(22,"img",14),o.j41(23,"div",9)(24,"h2",10),o.EFF(25,"Our Vision"),o.k0s()(),o.nrm(26,"div",11),o.k0s()(),o.j41(27,"section",16),o.nrm(28,"app-meet-the-team",17),o.k0s()(),o.j41(29,"div",18)(30,"div",19)(31,"h2"),o.EFF(32,"Come Meet Our Family"),o.k0s(),o.j41(33,"p"),o.EFF(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(35,"button",20),o.bIt("click",function(){o.eBV(m);const q=o.XpG(2);return o.Njj(q.navigateToContact())}),o.EFF(36,"Schedule a Visit"),o.k0s()()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(13),o.Y8G("innerHTML",m.business.businessStory,o.npT),o.R7$(3),o.Y8G("src",m.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",m.business.mission,o.npT),o.R7$(2),o.Y8G("src",m.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",m.business.vision,o.npT),o.R7$(2),o.Y8G("businessId",m.business.id)}}function Pr(C,g){if(1&C&&o.nrm(0,"app-right-text",25),2&C){const m=o.XpG(3);o.Y8G("imageURL","../../../../../assets//sharedAssets/5388429572_df9a403081_k.jpg")("title","What We Stand For")("content",m.business.mission)}}function ds(C,g){if(1&C&&o.nrm(0,"app-left-text",25),2&C){const m=o.XpG(3);o.Y8G("imageURL","../../../../assets//sharedAssets/9676303919_32372bf834_o.jpg")("title","The Future We See")("content",m.business.vision)}}function Mi(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",21),o.DNE(3,Pr,1,3,"app-right-text",22),o.DNE(4,ds,1,3,"app-left-text",22),o.k0s(),o.nrm(5,"app-testimonial-image",23)(6,"app-call-to-action",24),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("ngIf","ae"===m.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ae"===m.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",m.business.testimonials[0].name)("text",m.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function hs(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",21),o.nrm(3,"app-right-text",25)(4,"app-left-text",25),o.k0s(),o.nrm(5,"app-testimonial-image",23)(6,"app-call-to-action",24),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("imageURL","../../../../../assets//sharedAssets/5388429572_df9a403081_k.jpg")("title","What We Stand For")("content",m.business.mission),o.R7$(1),o.Y8G("imageURL","../../../../assets//sharedAssets/9676303919_32372bf834_o.jpg")("title","The Future We See")("content",m.business.vision),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",m.business.testimonials[5].name)("text",m.business.testimonials[5].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function yi(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,qo,37,6,"ng-container",2),o.DNE(3,Mi,7,10,"ng-container",2),o.DNE(4,hs,7,14,"ng-container",3),o.k0s()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae")}}let va=(()=>{class C{constructor(m,M,q,pe,Se){this.webContent=m,this.route=M,this.router=q,this.metaService=pe,this.businessDataService=Se,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,this.businessId=m?.id||null,this.businessId&&this.metaService.getMetaData(this.businessId).subscribe(M=>{this.metaService.updateMetaTags(M)})})}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(di.N),o.rXU(Tr.nX),o.rXU(Tr.Ix),o.rXU(Ji.R),o.rXU(Li.A))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(M,q){1&M&&o.DNE(0,yi,5,3,"div",0),2&M&&o.Y8G("ngIf",q.business)},dependencies:[ge.bT,ge.ux,ge.e1,ge.fG,Ze,Dt.F,fn.G,Rn,Vn,Ri],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}return C})();function So(C,g){if(1&C&&(o.j41(0,"div",4),o.nrm(1,"i",5),o.j41(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&C){const m=g.$implicit;o.R7$(1),o.Y8G("ngClass",m.icon),o.R7$(2),o.JRh(m.title),o.R7$(2),o.JRh(m.description)}}let Ai=(()=>{class C{constructor(){this.layoutType="demo"}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:7,vars:1,consts:[[1,"services-section"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"afhBtn"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(M,q){1&M&&(o.j41(0,"section",0)(1,"h2"),o.EFF(2,"Our Services"),o.k0s(),o.j41(3,"div",1),o.DNE(4,So,6,3,"div",2),o.k0s(),o.j41(5,"button",3),o.EFF(6,"Book a consultation"),o.k0s()()),2&M&&(o.R7$(4),o.Y8G("ngForOf",q.services))},dependencies:[ge.YU,ge.Sq],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return C})();function Bi(C,g){if(1&C&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&C){const m=g.$implicit;o.R7$(2),o.JRh(m.name)}}function vr(C,g){if(1&C&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&C){const m=g.$implicit;o.R7$(2),o.JRh(m.name)}}function ns(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Providing exceptional care tailored to your needs"),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8),o.nrm(10,"img",9),o.j41(11,"h2"),o.EFF(12,"Our Comprehensive Services"),o.k0s(),o.j41(13,"ul"),o.DNE(14,Bi,3,1,"li",10),o.k0s()(),o.j41(15,"section",8),o.nrm(16,"img",9),o.j41(17,"h2"),o.EFF(18,"Our Benefits"),o.k0s(),o.j41(19,"ul"),o.DNE(20,vr,3,1,"li",10),o.k0s()(),o.j41(21,"section",11)(22,"h2"),o.EFF(23,"Special Programs"),o.k0s(),o.j41(24,"h3"),o.EFF(25),o.k0s()(),o.j41(26,"section",12)(27,"div",13),o.nrm(28,"img",14),o.j41(29,"div",15)(30,"h2",16),o.EFF(31,"Tours"),o.k0s()(),o.nrm(32,"div",17),o.k0s(),o.j41(33,"div",18),o.nrm(34,"img",19),o.j41(35,"div",15)(36,"h2",16),o.EFF(37,"Free Consulting"),o.k0s()(),o.nrm(38,"div",17),o.k0s()()(),o.j41(39,"div",20)(40,"div",21)(41,"h2"),o.EFF(42,"Ready to Experience Exceptional Care?"),o.k0s(),o.j41(43,"p"),o.EFF(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),o.k0s(),o.j41(45,"button",22),o.bIt("click",function(){o.eBV(m);const q=o.XpG(2);return o.Njj(q.navigateToContact())}),o.EFF(46,"Book a Consultation"),o.k0s()()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(14),o.Y8G("ngForOf",m.business.services),o.R7$(6),o.Y8G("ngForOf",m.business.benefits),o.R7$(5),o.JRh(m.business.specialPrograms),o.R7$(7),o.Y8G("innerHTML",m.business.tours,o.npT),o.R7$(6),o.Y8G("innerHTML",m.business.freeConsulting,o.npT)}}const xr=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Zi=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},oo=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Oi=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},vo=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},so=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},ts=function(C,g,m,M,q,pe){return[C,g,m,M,q,pe]};function fs(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("layoutType",m.business.theme.themeType)("services",o.l4e(16,ts,o.lJ4(10,xr),o.lJ4(11,Zi),o.lJ4(12,oo),o.lJ4(13,Oi),o.lJ4(14,vo),o.lJ4(15,so))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",m.business.testimonials[1].name)("text",m.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function yo(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.Y8G("layoutType",m.business.theme.themeType)("services",o.l4e(16,ts,o.lJ4(10,xr),o.lJ4(11,Zi),o.lJ4(12,oo),o.lJ4(13,Oi),o.lJ4(14,vo),o.lJ4(15,so))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",m.business.testimonials[6].name)("text",m.business.testimonials[6].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",m.business.theme.backgroundColor)("textColor",m.business.theme.textColor)}}function ps(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,ns,47,5,"ng-container",2),o.DNE(3,fs,6,23,"ng-container",2),o.DNE(4,yo,6,23,"ng-container",3),o.k0s()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae")}}let Yn=(()=>{class C{constructor(m,M,q){this.router=m,this.businessDataService=M,this.metaService=q,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,this.businessId=m?.id||null,this.businessId&&this.metaService.getMetaData(this.businessId).subscribe(M=>{this.metaService.updateMetaTags(M)})})}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Tr.Ix),o.rXU(Li.A),o.rXU(Ji.R))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","/assets/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_ (3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_ (1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(M,q){1&M&&o.DNE(0,ps,5,3,"div",0),2&M&&o.Y8G("ngIf",q.business)},dependencies:[ge.Sq,ge.bT,ge.ux,ge.e1,ge.fG,Ai,Rn,Vn,Ri],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return C})();var fr="top",Ar="bottom",ci="right",Zn="left",Po="auto",Ui=[fr,Ar,ci,Zn],ao="start",Di="end",co="clippingParents",$r="viewport",Qt="popper",zn="reference",cr=Ui.reduce(function(C,g){return C.concat([g+"-"+ao,g+"-"+Di])},[]),ki=[].concat(Ui,[Po]).reduce(function(C,g){return C.concat([g,g+"-"+ao,g+"-"+Di])},[]),xo="beforeRead",hi="read",Eo="afterRead",Hr="beforeMain",Ro="main",Mo="afterMain",Wn="beforeWrite",go="write",pi="afterWrite",Q=[xo,hi,Eo,Hr,Ro,Mo,Wn,go,pi];function H(C){return C?(C.nodeName||"").toLowerCase():null}function _e(C){if(null==C)return window;if("[object Window]"!==C.toString()){var g=C.ownerDocument;return g&&g.defaultView||window}return C}function we(C){return C instanceof _e(C).Element||C instanceof Element}function Be(C){return C instanceof _e(C).HTMLElement||C instanceof HTMLElement}function Et(C){return!(typeof ShadowRoot>"u")&&(C instanceof _e(C).ShadowRoot||C instanceof ShadowRoot)}const kt={name:"applyStyles",enabled:!0,phase:"write",fn:function Jt(C){var g=C.state;Object.keys(g.elements).forEach(function(m){var M=g.styles[m]||{},q=g.attributes[m]||{},pe=g.elements[m];!Be(pe)||!H(pe)||(Object.assign(pe.style,M),Object.keys(q).forEach(function(Se){var _t=q[Se];!1===_t?pe.removeAttribute(Se):pe.setAttribute(Se,!0===_t?"":_t)}))})},effect:function _n(C){var g=C.state,m={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,m.popper),g.styles=m,g.elements.arrow&&Object.assign(g.elements.arrow.style,m.arrow),function(){Object.keys(g.elements).forEach(function(M){var q=g.elements[M],pe=g.attributes[M]||{},_t=Object.keys(g.styles.hasOwnProperty(M)?g.styles[M]:m[M]).reduce(function(wt,bn){return wt[bn]="",wt},{});!Be(q)||!H(q)||(Object.assign(q.style,_t),Object.keys(pe).forEach(function(wt){q.removeAttribute(wt)}))})}},requires:["computeStyles"]};function tn(C){return C.split("-")[0]}var Kn=Math.max,Dn=Math.min,ni=Math.round;function ri(){var C=navigator.userAgentData;return null!=C&&C.brands&&Array.isArray(C.brands)?C.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function gi(){return!/^((?!chrome|android).)*safari/i.test(ri())}function Kr(C,g,m){void 0===g&&(g=!1),void 0===m&&(m=!1);var M=C.getBoundingClientRect(),q=1,pe=1;g&&Be(C)&&(q=C.offsetWidth>0&&ni(M.width)/C.offsetWidth||1,pe=C.offsetHeight>0&&ni(M.height)/C.offsetHeight||1);var _t=(we(C)?_e(C):window).visualViewport,wt=!gi()&&m,bn=(M.left+(wt&&_t?_t.offsetLeft:0))/q,sn=(M.top+(wt&&_t?_t.offsetTop:0))/pe,Jn=M.width/q,ar=M.height/pe;return{width:Jn,height:ar,top:sn,right:bn+Jn,bottom:sn+ar,left:bn,x:bn,y:sn}}function qr(C){var g=Kr(C),m=C.offsetWidth,M=C.offsetHeight;return Math.abs(g.width-m)<=1&&(m=g.width),Math.abs(g.height-M)<=1&&(M=g.height),{x:C.offsetLeft,y:C.offsetTop,width:m,height:M}}function eo(C,g){var m=g.getRootNode&&g.getRootNode();if(C.contains(g))return!0;if(m&&Et(m)){var M=g;do{if(M&&C.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function Ei(C){return _e(C).getComputedStyle(C)}function pr(C){return["table","td","th"].indexOf(H(C))>=0}function ii(C){return((we(C)?C.ownerDocument:C.document)||window.document).documentElement}function Xr(C){return"html"===H(C)?C:C.assignedSlot||C.parentNode||(Et(C)?C.host:null)||ii(C)}function kr(C){return Be(C)&&"fixed"!==Ei(C).position?C.offsetParent:null}function Fi(C){for(var g=_e(C),m=kr(C);m&&pr(m)&&"static"===Ei(m).position;)m=kr(m);return m&&("html"===H(m)||"body"===H(m)&&"static"===Ei(m).position)?g:m||function gs(C){var g=/firefox/i.test(ri());if(/Trident/i.test(ri())&&Be(C)&&"fixed"===Ei(C).position)return null;var q=Xr(C);for(Et(q)&&(q=q.host);Be(q)&&["html","body"].indexOf(H(q))<0;){var pe=Ei(q);if("none"!==pe.transform||"none"!==pe.perspective||"paint"===pe.contain||-1!==["transform","perspective"].indexOf(pe.willChange)||g&&"filter"===pe.willChange||g&&pe.filter&&"none"!==pe.filter)return q;q=q.parentNode}return null}(C)||g}function Ds(C){return["top","bottom"].indexOf(C)>=0?"x":"y"}function $i(C,g,m){return Kn(C,Dn(g,m))}function rs(C){return Object.assign({},{top:0,right:0,bottom:0,left:0},C)}function ka(C,g){return g.reduce(function(m,M){return m[M]=C,m},{})}const Ss={name:"arrow",enabled:!0,phase:"main",fn:function Hi(C){var g,m=C.state,M=C.name,q=C.options,pe=m.elements.arrow,Se=m.modifiersData.popperOffsets,_t=tn(m.placement),wt=Ds(_t),sn=[Zn,ci].indexOf(_t)>=0?"height":"width";if(pe&&Se){var Jn=function(g,m){return rs("number"!=typeof(g="function"==typeof g?g(Object.assign({},m.rects,{placement:m.placement})):g)?g:ka(g,Ui))}(q.padding,m),ar=qr(pe),lr="y"===wt?fr:Zn,ui="y"===wt?Ar:ci,Pn=m.rects.reference[sn]+m.rects.reference[wt]-Se[wt]-m.rects.popper[sn],er=Se[wt]-m.rects.reference[wt],si=Fi(pe),Wi=si?"y"===wt?si.clientHeight||0:si.clientWidth||0:0,Ti=Wi/2-ar[sn]/2+(Pn/2-er/2),Yi=$i(Jn[lr],Ti,Wi-ar[sn]-Jn[ui]);m.modifiersData[M]=((g={})[wt]=Yi,g.centerOffset=Yi-Ti,g)}},effect:function Bs(C){var g=C.state,M=C.options.element,q=void 0===M?"[data-popper-arrow]":M;null!=q&&("string"==typeof q&&!(q=g.elements.popper.querySelector(q))||eo(g.elements.popper,q)&&(g.elements.arrow=q))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $s(C){return C.split("-")[1]}var Gr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fa(C){var g,m=C.popper,M=C.popperRect,q=C.placement,pe=C.variation,Se=C.offsets,_t=C.position,wt=C.gpuAcceleration,bn=C.adaptive,sn=C.roundOffsets,Jn=C.isFixed,ar=Se.x,lr=void 0===ar?0:ar,ui=Se.y,Pn=void 0===ui?0:ui,er="function"==typeof sn?sn({x:lr,y:Pn}):{x:lr,y:Pn};lr=er.x,Pn=er.y;var si=Se.hasOwnProperty("x"),Wi=Se.hasOwnProperty("y"),Jr=Zn,Fr=fr,bi=window;if(bn){var Ti=Fi(m),Yi="clientHeight",es="clientWidth";Ti===_e(m)&&"static"!==Ei(Ti=ii(m)).position&&"absolute"===_t&&(Yi="scrollHeight",es="scrollWidth"),(q===fr||(q===Zn||q===ci)&&pe===Di)&&(Fr=Ar,Pn-=(Jn&&Ti===bi&&bi.visualViewport?bi.visualViewport.height:Ti[Yi])-M.height,Pn*=wt?1:-1),q!==Zn&&(q!==fr&&q!==Ar||pe!==Di)||(Jr=ci,lr-=(Jn&&Ti===bi&&bi.visualViewport?bi.visualViewport.width:Ti[es])-M.width,lr*=wt?1:-1)}var ws,wo=Object.assign({position:_t},bn&&Gr),Ma=!0===sn?function ia(C,g){var M=C.y,q=g.devicePixelRatio||1;return{x:ni(C.x*q)/q||0,y:ni(M*q)/q||0}}({x:lr,y:Pn},_e(m)):{x:lr,y:Pn};return lr=Ma.x,Pn=Ma.y,Object.assign({},wo,wt?((ws={})[Fr]=Wi?"0":"",ws[Jr]=si?"0":"",ws.transform=(bi.devicePixelRatio||1)<=1?"translate("+lr+"px, "+Pn+"px)":"translate3d("+lr+"px, "+Pn+"px, 0)",ws):((g={})[Fr]=Wi?Pn+"px":"",g[Jr]=si?lr+"px":"",g.transform="",g))}const X={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function G(C){var g=C.state,m=C.options,M=m.gpuAcceleration,q=void 0===M||M,pe=m.adaptive,Se=void 0===pe||pe,_t=m.roundOffsets,wt=void 0===_t||_t,bn={placement:tn(g.placement),variation:$s(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:q,isFixed:"fixed"===g.options.strategy};null!=g.modifiersData.popperOffsets&&(g.styles.popper=Object.assign({},g.styles.popper,Fa(Object.assign({},bn,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:Se,roundOffsets:wt})))),null!=g.modifiersData.arrow&&(g.styles.arrow=Object.assign({},g.styles.arrow,Fa(Object.assign({},bn,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:wt})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var O={passive:!0};const Oe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function se(C){var g=C.state,m=C.instance,M=C.options,q=M.scroll,pe=void 0===q||q,Se=M.resize,_t=void 0===Se||Se,wt=_e(g.elements.popper),bn=[].concat(g.scrollParents.reference,g.scrollParents.popper);return pe&&bn.forEach(function(sn){sn.addEventListener("scroll",m.update,O)}),_t&&wt.addEventListener("resize",m.update,O),function(){pe&&bn.forEach(function(sn){sn.removeEventListener("scroll",m.update,O)}),_t&&wt.removeEventListener("resize",m.update,O)}},data:{}};var vn={left:"right",right:"left",bottom:"top",top:"bottom"};function $n(C){return C.replace(/left|right|bottom|top/g,function(g){return vn[g]})}var to={start:"end",end:"start"};function mo(C){return C.replace(/start|end/g,function(g){return to[g]})}function Gi(C){var g=_e(C);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function is(C){return Kr(ii(C)).left+Gi(C).scrollLeft}function Co(C){var g=Ei(C);return/auto|scroll|overlay|hidden/.test(g.overflow+g.overflowY+g.overflowX)}function Qu(C){return["html","body","#document"].indexOf(H(C))>=0?C.ownerDocument.body:Be(C)&&Co(C)?C:Qu(Xr(C))}function Ur(C,g){var m;void 0===g&&(g=[]);var M=Qu(C),q=M===(null==(m=C.ownerDocument)?void 0:m.body),pe=_e(M),Se=q?[pe].concat(pe.visualViewport||[],Co(M)?M:[]):M,_t=g.concat(Se);return q?_t:_t.concat(Ur(Xr(Se)))}function Hs(C){return Object.assign({},C,{left:C.x,top:C.y,right:C.x+C.width,bottom:C.y+C.height})}function kc(C,g,m){return g===$r?Hs(function Uo(C,g){var m=_e(C),M=ii(C),q=m.visualViewport,pe=M.clientWidth,Se=M.clientHeight,_t=0,wt=0;if(q){pe=q.width,Se=q.height;var bn=gi();(bn||!bn&&"fixed"===g)&&(_t=q.offsetLeft,wt=q.offsetTop)}return{width:pe,height:Se,x:_t+is(C),y:wt}}(C,m)):we(g)?function no(C,g){var m=Kr(C,!1,"fixed"===g);return m.top=m.top+C.clientTop,m.left=m.left+C.clientLeft,m.bottom=m.top+C.clientHeight,m.right=m.left+C.clientWidth,m.width=C.clientWidth,m.height=C.clientHeight,m.x=m.left,m.y=m.top,m}(g,m):Hs(function Xo(C){var g,m=ii(C),M=Gi(C),q=null==(g=C.ownerDocument)?void 0:g.body,pe=Kn(m.scrollWidth,m.clientWidth,q?q.scrollWidth:0,q?q.clientWidth:0),Se=Kn(m.scrollHeight,m.clientHeight,q?q.scrollHeight:0,q?q.clientHeight:0),_t=-M.scrollLeft+is(C),wt=-M.scrollTop;return"rtl"===Ei(q||m).direction&&(_t+=Kn(m.clientWidth,q?q.clientWidth:0)-pe),{width:pe,height:Se,x:_t,y:wt}}(ii(C)))}function Qo(C){var wt,g=C.reference,m=C.element,M=C.placement,q=M?tn(M):null,pe=M?$s(M):null,Se=g.x+g.width/2-m.width/2,_t=g.y+g.height/2-m.height/2;switch(q){case fr:wt={x:Se,y:g.y-m.height};break;case Ar:wt={x:Se,y:g.y+g.height};break;case ci:wt={x:g.x+g.width,y:_t};break;case Zn:wt={x:g.x-m.width,y:_t};break;default:wt={x:g.x,y:g.y}}var bn=q?Ds(q):null;if(null!=bn){var sn="y"===bn?"height":"width";switch(pe){case ao:wt[bn]=wt[bn]-(g[sn]/2-m[sn]/2);break;case Di:wt[bn]=wt[bn]+(g[sn]/2-m[sn]/2)}}return wt}function ms(C,g){void 0===g&&(g={});var M=g.placement,q=void 0===M?C.placement:M,pe=g.strategy,Se=void 0===pe?C.strategy:pe,_t=g.boundary,wt=void 0===_t?co:_t,bn=g.rootBoundary,sn=void 0===bn?$r:bn,Jn=g.elementContext,ar=void 0===Jn?Qt:Jn,lr=g.altBoundary,ui=void 0!==lr&&lr,Pn=g.padding,er=void 0===Pn?0:Pn,si=rs("number"!=typeof er?er:ka(er,Ui)),Jr=C.rects.popper,Fr=C.elements[ui?ar===Qt?zn:Qt:ar],bi=function oa(C,g,m,M){var q="clippingParents"===g?function Yo(C){var g=Ur(Xr(C)),M=["absolute","fixed"].indexOf(Ei(C).position)>=0&&Be(C)?Fi(C):C;return we(M)?g.filter(function(q){return we(q)&&eo(q,M)&&"body"!==H(q)}):[]}(C):[].concat(g),pe=[].concat(q,[m]),_t=pe.reduce(function(wt,bn){var sn=kc(C,bn,M);return wt.top=Kn(sn.top,wt.top),wt.right=Dn(sn.right,wt.right),wt.bottom=Dn(sn.bottom,wt.bottom),wt.left=Kn(sn.left,wt.left),wt},kc(C,pe[0],M));return _t.width=_t.right-_t.left,_t.height=_t.bottom-_t.top,_t.x=_t.left,_t.y=_t.top,_t}(we(Fr)?Fr:Fr.contextElement||ii(C.elements.popper),wt,sn,Se),Ti=Kr(C.elements.reference),Yi=Qo({reference:Ti,element:Jr,strategy:"absolute",placement:q}),es=Hs(Object.assign({},Jr,Yi)),Vo=ar===Qt?es:Ti,po={top:bi.top-Vo.top+si.top,bottom:Vo.bottom-bi.bottom+si.bottom,left:bi.left-Vo.left+si.left,right:Vo.right-bi.right+si.right},wo=C.modifiersData.offset;if(ar===Qt&&wo){var Ma=wo[q];Object.keys(po).forEach(function(ws){var uu=[ci,Ar].indexOf(ws)>=0?1:-1,ql=[fr,Ar].indexOf(ws)>=0?"y":"x";po[ws]+=Ma[ql]*uu})}return po}const sc={name:"flip",enabled:!0,phase:"main",fn:function oc(C){var g=C.state,m=C.options,M=C.name;if(!g.modifiersData[M]._skip){for(var q=m.mainAxis,pe=void 0===q||q,Se=m.altAxis,_t=void 0===Se||Se,wt=m.fallbackPlacements,bn=m.padding,sn=m.boundary,Jn=m.rootBoundary,ar=m.altBoundary,lr=m.flipVariations,ui=void 0===lr||lr,Pn=m.allowedAutoPlacements,er=g.options.placement,si=tn(er),Jr=wt||(si!==er&&ui?function sr(C){if(tn(C)===Po)return[];var g=$n(C);return[mo(C),g,mo(g)]}(er):[$n(er)]),Fr=[er].concat(Jr).reduce(function(ma,tc){return ma.concat(tn(tc)===Po?function Ps(C,g){void 0===g&&(g={});var q=g.boundary,pe=g.rootBoundary,Se=g.padding,_t=g.flipVariations,wt=g.allowedAutoPlacements,bn=void 0===wt?ki:wt,sn=$s(g.placement),Jn=sn?_t?cr:cr.filter(function(ui){return $s(ui)===sn}):Ui,ar=Jn.filter(function(ui){return bn.indexOf(ui)>=0});0===ar.length&&(ar=Jn);var lr=ar.reduce(function(ui,Pn){return ui[Pn]=ms(C,{placement:Pn,boundary:q,rootBoundary:pe,padding:Se})[tn(Pn)],ui},{});return Object.keys(lr).sort(function(ui,Pn){return lr[ui]-lr[Pn]})}(g,{placement:tc,boundary:sn,rootBoundary:Jn,padding:bn,flipVariations:ui,allowedAutoPlacements:Pn}):tc)},[]),bi=g.rects.reference,Ti=g.rects.popper,Yi=new Map,es=!0,Vo=Fr[0],po=0;po<Fr.length;po++){var wo=Fr[po],Ma=tn(wo),ws=$s(wo)===ao,uu=[fr,Ar].indexOf(Ma)>=0,ql=uu?"width":"height",us=ms(g,{placement:wo,boundary:sn,rootBoundary:Jn,altBoundary:ar,padding:bn}),ga=uu?ws?ci:Zn:ws?Ar:fr;bi[ql]>Ti[ql]&&(ga=$n(ga));var jd=$n(ga),Sc=[];if(pe&&Sc.push(us[Ma]<=0),_t&&Sc.push(us[ga]<=0,us[jd]<=0),Sc.every(function(ma){return ma})){Vo=wo,es=!1;break}Yi.set(wo,Sc)}if(es)for(var Oa=function(tc){var Ao=Fr.find(function(ta){var Ls=Yi.get(ta);if(Ls)return Ls.slice(0,tc).every(function(nc){return nc})});if(Ao)return Vo=Ao,"break"},lu=ui?3:1;lu>0&&"break"!==Oa(lu);lu--);g.placement!==Vo&&(g.modifiersData[M]._skip=!0,g.placement=Vo,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Va(C,g,m){return void 0===m&&(m={x:0,y:0}),{top:C.top-g.height-m.y,right:C.right-g.width+m.x,bottom:C.bottom-g.height+m.y,left:C.left-g.width-m.x}}function La(C){return[fr,ci,Ar,Zn].some(function(g){return C[g]>=0})}const os={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ea(C){var g=C.state,m=C.name,M=g.rects.reference,q=g.rects.popper,pe=g.modifiersData.preventOverflow,Se=ms(g,{elementContext:"reference"}),_t=ms(g,{altBoundary:!0}),wt=Va(Se,M),bn=Va(_t,q,pe),sn=La(wt),Jn=La(bn);g.modifiersData[m]={referenceClippingOffsets:wt,popperEscapeOffsets:bn,isReferenceHidden:sn,hasPopperEscaped:Jn},g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-reference-hidden":sn,"data-popper-escaped":Jn})}},ac={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Fc(C){var g=C.state,M=C.name,q=C.options.offset,pe=void 0===q?[0,0]:q,Se=ki.reduce(function(sn,Jn){return sn[Jn]=function Gs(C,g,m){var M=tn(C),q=[Zn,fr].indexOf(M)>=0?-1:1,pe="function"==typeof m?m(Object.assign({},g,{placement:C})):m,Se=pe[0],_t=pe[1];return Se=Se||0,_t=(_t||0)*q,[Zn,ci].indexOf(M)>=0?{x:_t,y:Se}:{x:Se,y:_t}}(Jn,g.rects,pe),sn},{}),_t=Se[g.placement],bn=_t.y;null!=g.modifiersData.popperOffsets&&(g.modifiersData.popperOffsets.x+=_t.x,g.modifiersData.popperOffsets.y+=bn),g.modifiersData[M]=Se}},xs={name:"popperOffsets",enabled:!0,phase:"read",fn:function cc(C){var g=C.state;g.modifiersData[C.name]=Qo({reference:g.rects.reference,element:g.rects.popper,strategy:"absolute",placement:g.placement})},data:{}},Ju={name:"preventOverflow",enabled:!0,phase:"main",fn:function zs(C){var g=C.state,m=C.options,M=C.name,q=m.mainAxis,pe=void 0===q||q,Se=m.altAxis,_t=void 0!==Se&&Se,ar=m.tether,lr=void 0===ar||ar,ui=m.tetherOffset,Pn=void 0===ui?0:ui,er=ms(g,{boundary:m.boundary,rootBoundary:m.rootBoundary,padding:m.padding,altBoundary:m.altBoundary}),si=tn(g.placement),Wi=$s(g.placement),Jr=!Wi,Fr=Ds(si),bi=function uc(C){return"x"===C?"y":"x"}(Fr),Ti=g.modifiersData.popperOffsets,Yi=g.rects.reference,es=g.rects.popper,Vo="function"==typeof Pn?Pn(Object.assign({},g.rects,{placement:g.placement})):Pn,po="number"==typeof Vo?{mainAxis:Vo,altAxis:Vo}:Object.assign({mainAxis:0,altAxis:0},Vo),wo=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,Ma={x:0,y:0};if(Ti){if(pe){var ws,uu="y"===Fr?fr:Zn,ql="y"===Fr?Ar:ci,us="y"===Fr?"height":"width",ga=Ti[Fr],jd=ga+er[uu],Sc=ga-er[ql],zh=lr?-es[us]/2:0,Oa=Wi===ao?Yi[us]:es[us],lu=Wi===ao?-es[us]:-Yi[us],Wo=g.elements.arrow,ma=lr&&Wo?qr(Wo):{width:0,height:0},tc=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ao=tc[uu],ta=tc[ql],Ls=$i(0,Yi[us],ma[us]),nc=Jr?Yi[us]/2-zh-Ls-Ao-po.mainAxis:Oa-Ls-Ao-po.mainAxis,Xl=Jr?-Yi[us]/2+zh+Ls+ta+po.mainAxis:lu+Ls+ta+po.mainAxis,wi=g.elements.arrow&&Fi(g.elements.arrow),du=wi?"y"===Fr?wi.clientTop||0:wi.clientLeft||0:0,rc=null!=(ws=wo?.[Fr])?ws:0,Bd=ga+Xl-rc,Xu=$i(lr?Dn(jd,ga+nc-rc-du):jd,ga,lr?Kn(Sc,Bd):Sc);Ti[Fr]=Xu,Ma[Fr]=Xu-ga}if(_t){var Tg,Yu=Ti[bi],hu="y"===bi?"height":"width",xc=Yu+er["x"===Fr?fr:Zn],up=Yu-er["x"===Fr?Ar:ci],Wh=-1!==[fr,Zn].indexOf(si),lp=null!=(Tg=wo?.[bi])?Tg:0,fu=Wh?xc:Yu-Yi[hu]-es[hu]-lp+po.altAxis,Pm=Wh?Yu+Yi[hu]+es[hu]-lp-po.altAxis:up,z_=lr&&Wh?function ya(C,g,m){var M=$i(C,g,m);return M>m?m:M}(fu,Yu,Pm):$i(lr?fu:xc,Yu,lr?Pm:up);Ti[bi]=z_,Ma[bi]=z_-Yu}g.modifiersData[M]=Ma}},requiresIfExists:["offset"]};function Ia(C,g,m){void 0===m&&(m=!1);var M=Be(g),q=Be(g)&&function Zu(C){var g=C.getBoundingClientRect(),m=ni(g.width)/C.offsetWidth||1,M=ni(g.height)/C.offsetHeight||1;return 1!==m||1!==M}(g),pe=ii(g),Se=Kr(C,q,m),_t={scrollLeft:0,scrollTop:0},wt={x:0,y:0};return(M||!M&&!m)&&(("body"!==H(g)||Co(pe))&&(_t=function Ua(C){return C!==_e(C)&&Be(C)?function Ca(C){return{scrollLeft:C.scrollLeft,scrollTop:C.scrollTop}}(C):Gi(C)}(g)),Be(g)?((wt=Kr(g,!0)).x+=g.clientLeft,wt.y+=g.clientTop):pe&&(wt.x=is(pe))),{x:Se.left+_t.scrollLeft-wt.x,y:Se.top+_t.scrollTop-wt.y,width:Se.width,height:Se.height}}function pu(C){var g=new Map,m=new Set,M=[];function q(pe){m.add(pe.name),[].concat(pe.requires||[],pe.requiresIfExists||[]).forEach(function(_t){if(!m.has(_t)){var wt=g.get(_t);wt&&q(wt)}}),M.push(pe)}return C.forEach(function(pe){g.set(pe.name,pe)}),C.forEach(function(pe){m.has(pe.name)||q(pe)}),M}function Ii(C){var g;return function(){return g||(g=new Promise(function(m){Promise.resolve().then(function(){g=void 0,m(C())})})),g}}var Z={placement:"bottom",modifiers:[],strategy:"absolute"};function U(){for(var C=arguments.length,g=new Array(C),m=0;m<C;m++)g[m]=arguments[m];return!g.some(function(M){return!(M&&"function"==typeof M.getBoundingClientRect)})}function Y(C){void 0===C&&(C={});var m=C.defaultModifiers,M=void 0===m?[]:m,q=C.defaultOptions,pe=void 0===q?Z:q;return function(_t,wt,bn){void 0===bn&&(bn=pe);var sn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Z,pe),modifiersData:{},elements:{reference:_t,popper:wt},attributes:{},styles:{}},Jn=[],ar=!1,lr={state:sn,setOptions:function(si){var Wi="function"==typeof si?si(sn.options):si;Pn(),sn.options=Object.assign({},pe,sn.options,Wi),sn.scrollParents={reference:we(_t)?Ur(_t):_t.contextElement?Ur(_t.contextElement):[],popper:Ur(wt)};var Jr=function gu(C){var g=pu(C);return Q.reduce(function(m,M){return m.concat(g.filter(function(q){return q.phase===M}))},[])}(function S(C){var g=C.reduce(function(m,M){var q=m[M.name];return m[M.name]=q?Object.assign({},q,M,{options:Object.assign({},q.options,M.options),data:Object.assign({},q.data,M.data)}):M,m},{});return Object.keys(g).map(function(m){return g[m]})}([].concat(M,sn.options.modifiers)));return sn.orderedModifiers=Jr.filter(function(Fr){return Fr.enabled}),function ui(){sn.orderedModifiers.forEach(function(er){var Wi=er.options,Fr=er.effect;if("function"==typeof Fr){var bi=Fr({state:sn,name:er.name,instance:lr,options:void 0===Wi?{}:Wi});Jn.push(bi||function(){})}})}(),lr.update()},forceUpdate:function(){if(!ar){var si=sn.elements,Wi=si.reference,Jr=si.popper;if(U(Wi,Jr)){sn.rects={reference:Ia(Wi,Fi(Jr),"fixed"===sn.options.strategy),popper:qr(Jr)},sn.reset=!1,sn.placement=sn.options.placement,sn.orderedModifiers.forEach(function(po){return sn.modifiersData[po.name]=Object.assign({},po.data)});for(var Fr=0;Fr<sn.orderedModifiers.length;Fr++)if(!0!==sn.reset){var bi=sn.orderedModifiers[Fr],Ti=bi.fn,Yi=bi.options;"function"==typeof Ti&&(sn=Ti({state:sn,options:void 0===Yi?{}:Yi,name:bi.name,instance:lr})||sn)}else sn.reset=!1,Fr=-1}}},update:Ii(function(){return new Promise(function(er){lr.forceUpdate(),er(sn)})}),destroy:function(){Pn(),ar=!0}};if(!U(_t,wt))return lr;function Pn(){Jn.forEach(function(er){return er()}),Jn=[]}return lr.setOptions(bn).then(function(er){!ar&&bn.onFirstUpdate&&bn.onFirstUpdate(er)}),lr}}var Ie=Y(),Rt=Y({defaultModifiers:[Oe,xs,X,kt,ac,sc,Ju,Ss,os]}),Rr=Y({defaultModifiers:[Oe,xs,X,kt]});const Cr=new Map,jr={set(C,g,m){Cr.has(C)||Cr.set(C,new Map);const M=Cr.get(C);M.has(g)||0===M.size?M.set(g,m):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(M.keys())[0]}.`)},get:(C,g)=>Cr.has(C)&&Cr.get(C).get(g)||null,remove(C,g){if(!Cr.has(C))return;const m=Cr.get(C);m.delete(g),0===m.size&&Cr.delete(C)}},Yr="transitionend",Ni=C=>(C&&window.CSS&&window.CSS.escape&&(C=C.replace(/#([^\s"#']+)/g,(g,m)=>`#${CSS.escape(m)}`)),C),Bo=C=>{C.dispatchEvent(new Event(Yr))},zr=C=>!(!C||"object"!=typeof C)&&(typeof C.jquery<"u"&&(C=C[0]),typeof C.nodeType<"u"),Ln=C=>zr(C)?C.jquery?C[0]:C:"string"==typeof C&&C.length>0?document.querySelector(Ni(C)):null,Io=C=>{if(!zr(C)||0===C.getClientRects().length)return!1;const g="visible"===getComputedStyle(C).getPropertyValue("visibility"),m=C.closest("details:not([open])");if(!m)return g;if(m!==C){const M=C.closest("summary");if(M&&M.parentNode!==m||null===M)return!1}return g},aa=C=>!(C&&C.nodeType===Node.ELEMENT_NODE&&!C.classList.contains("disabled"))||(typeof C.disabled<"u"?C.disabled:C.hasAttribute("disabled")&&"false"!==C.getAttribute("disabled")),Ci=C=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof C.getRootNode){const g=C.getRootNode();return g instanceof ShadowRoot?g:null}return C instanceof ShadowRoot?C:C.parentNode?Ci(C.parentNode):null},Ws=()=>{},$o=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,mu=[],uo=()=>"rtl"===document.documentElement.dir,Mr=C=>{(C=>{"loading"===document.readyState?(mu.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of mu)g()}),mu.push(C)):C()})(()=>{const g=$o();if(g){const m=C.NAME,M=g.fn[m];g.fn[m]=C.jQueryInterface,g.fn[m].Constructor=C,g.fn[m].noConflict=()=>(g.fn[m]=M,C.jQueryInterface)}})},No=(C,g=[],m=C)=>"function"==typeof C?C(...g):m,Vc=(C,g,m=!0)=>{if(!m)return void No(C);const q=(C=>{if(!C)return 0;let{transitionDuration:g,transitionDelay:m}=window.getComputedStyle(C);const M=Number.parseFloat(g),q=Number.parseFloat(m);return M||q?(g=g.split(",")[0],m=m.split(",")[0],1e3*(Number.parseFloat(g)+Number.parseFloat(m))):0})(g)+5;let pe=!1;const Se=({target:_t})=>{_t===g&&(pe=!0,g.removeEventListener(Yr,Se),No(C))};g.addEventListener(Yr,Se),setTimeout(()=>{pe||Bo(g)},q)},lc=(C,g,m,M)=>{const q=C.length;let pe=C.indexOf(g);return-1===pe?!m&&M?C[q-1]:C[0]:(pe+=m?1:-1,M&&(pe=(pe+q)%q),C[Math.max(0,Math.min(pe,q-1))])},Ms=/[^.]*(?=\..*)\.|.*/,ca=/\..*/,_u=/::\d+$/,vu={};let tl=1;const nl={mouseenter:"mouseover",mouseleave:"mouseout"},Zl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function rr(C,g){return g&&`${g}::${tl++}`||C.uidEvent||tl++}function ed(C){const g=rr(C);return C.uidEvent=g,vu[g]=vu[g]||{},vu[g]}function rl(C,g,m=null){return Object.values(C).find(M=>M.callable===g&&M.delegationSelector===m)}function yu(C,g,m){const M="string"==typeof g,q=M?m:g||m;let pe=Cu(C);return Zl.has(pe)||(pe=C),[M,q,pe]}function zi(C,g,m,M,q){if("string"!=typeof g||!C)return;let[pe,Se,_t]=yu(g,m,M);var ui;g in nl&&(ui=Se,Se=function(Pn){if(!Pn.relatedTarget||Pn.relatedTarget!==Pn.delegateTarget&&!Pn.delegateTarget.contains(Pn.relatedTarget))return ui.call(this,Pn)});const wt=ed(C),bn=wt[_t]||(wt[_t]={}),sn=rl(bn,Se,pe?m:null);if(sn)return void(sn.oneOff=sn.oneOff&&q);const Jn=rr(Se,g.replace(Ms,"")),ar=pe?function Ho(C,g,m){return function M(q){const pe=C.querySelectorAll(g);for(let{target:Se}=q;Se&&Se!==this;Se=Se.parentNode)for(const _t of pe)if(_t===Se)return ss(q,{delegateTarget:Se}),M.oneOff&&Kt.off(C,q.type,g,m),m.apply(Se,[q])}}(C,m,Se):function Lc(C,g){return function m(M){return ss(M,{delegateTarget:C}),m.oneOff&&Kt.off(C,M.type,g),g.apply(C,[M])}}(C,Se);ar.delegationSelector=pe?m:null,ar.callable=Se,ar.oneOff=q,ar.uidEvent=Jn,bn[Jn]=ar,C.addEventListener(_t,ar,pe)}function ua(C,g,m,M,q){const pe=rl(g[m],M,q);pe&&(C.removeEventListener(m,pe,!!q),delete g[m][pe.uidEvent])}function Eu(C,g,m,M){const q=g[m]||{};for(const[pe,Se]of Object.entries(q))pe.includes(M)&&ua(C,g,m,Se.callable,Se.delegationSelector)}function Cu(C){return C=C.replace(ca,""),nl[C]||C}const Kt={on(C,g,m,M){zi(C,g,m,M,!1)},one(C,g,m,M){zi(C,g,m,M,!0)},off(C,g,m,M){if("string"!=typeof g||!C)return;const[q,pe,Se]=yu(g,m,M),_t=Se!==g,wt=ed(C),bn=wt[Se]||{},sn=g.startsWith(".");if(typeof pe<"u"){if(!Object.keys(bn).length)return;ua(C,wt,Se,pe,q?m:null)}else{if(sn)for(const Jn of Object.keys(wt))Eu(C,wt,Jn,g.slice(1));for(const[Jn,ar]of Object.entries(bn)){const lr=Jn.replace(_u,"");(!_t||g.includes(lr))&&ua(C,wt,Se,ar.callable,ar.delegationSelector)}}},trigger(C,g,m){if("string"!=typeof g||!C)return null;const M=$o();let Se=null,_t=!0,wt=!0,bn=!1;g!==Cu(g)&&M&&(Se=M.Event(g,m),M(C).trigger(Se),_t=!Se.isPropagationStopped(),wt=!Se.isImmediatePropagationStopped(),bn=Se.isDefaultPrevented());const sn=ss(new Event(g,{bubbles:_t,cancelable:!0}),m);return bn&&sn.preventDefault(),wt&&C.dispatchEvent(sn),sn.defaultPrevented&&Se&&Se.preventDefault(),sn}};function ss(C,g={}){for(const[m,M]of Object.entries(g))try{C[m]=M}catch{Object.defineProperty(C,m,{configurable:!0,get:()=>M})}return C}function td(C){if("true"===C)return!0;if("false"===C)return!1;if(C===Number(C).toString())return Number(C);if(""===C||"null"===C)return null;if("string"!=typeof C)return C;try{return JSON.parse(decodeURIComponent(C))}catch{return C}}function Ut(C){return C.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}const gr={setDataAttribute(C,g,m){C.setAttribute(`data-bs-${Ut(g)}`,m)},removeDataAttribute(C,g){C.removeAttribute(`data-bs-${Ut(g)}`)},getDataAttributes(C){if(!C)return{};const g={},m=Object.keys(C.dataset).filter(M=>M.startsWith("bs")&&!M.startsWith("bsConfig"));for(const M of m){let q=M.replace(/^bs/,"");q=q.charAt(0).toLowerCase()+q.slice(1,q.length),g[q]=td(C.dataset[M])}return g},getDataAttribute:(C,g)=>td(C.getAttribute(`data-bs-${Ut(g)}`))};class ja{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(g){return g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g}_mergeConfigObj(g,m){const M=zr(m)?gr.getDataAttribute(m,"config"):{};return{...this.constructor.Default,..."object"==typeof M?M:{},...zr(m)?gr.getDataAttributes(m):{},..."object"==typeof g?g:{}}}_typeCheckConfig(g,m=this.constructor.DefaultType){for(const[M,q]of Object.entries(m)){const pe=g[M],Se=zr(pe)?"element":null==(C=pe)?`${C}`:Object.prototype.toString.call(C).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(q).test(Se))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${M}" provided type "${Se}" but expected type "${q}".`)}var C}}class Si extends ja{constructor(g,m){super(),(g=Ln(g))&&(this._element=g,this._config=this._getConfig(m),jr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){jr.remove(this._element,this.constructor.DATA_KEY),Kt.off(this._element,this.constructor.EVENT_KEY);for(const g of Object.getOwnPropertyNames(this))this[g]=null}_queueCallback(g,m,M=!0){Vc(g,m,M)}_getConfig(g){return g=this._mergeConfigObj(g,this._element),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}static getInstance(g){return jr.get(Ln(g),this.DATA_KEY)}static getOrCreateInstance(g,m={}){return this.getInstance(g)||new this(g,"object"==typeof m?m:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(g){return`${g}${this.EVENT_KEY}`}}const Xi=C=>{let g=C.getAttribute("data-bs-target");if(!g||"#"===g){let m=C.getAttribute("href");if(!m||!m.includes("#")&&!m.startsWith("."))return null;m.includes("#")&&!m.startsWith("#")&&(m=`#${m.split("#")[1]}`),g=m&&"#"!==m?m.trim():null}return g?g.split(",").map(m=>Ni(m)).join(","):null},Hn={find:(C,g=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(g,C)),findOne:(C,g=document.documentElement)=>Element.prototype.querySelector.call(g,C),children:(C,g)=>[].concat(...C.children).filter(m=>m.matches(g)),parents(C,g){const m=[];let M=C.parentNode.closest(g);for(;M;)m.push(M),M=M.parentNode.closest(g);return m},prev(C,g){let m=C.previousElementSibling;for(;m;){if(m.matches(g))return[m];m=m.previousElementSibling}return[]},next(C,g){let m=C.nextElementSibling;for(;m;){if(m.matches(g))return[m];m=m.nextElementSibling}return[]},focusableChildren(C){const g=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(m=>`${m}:not([tabindex^="-"])`).join(",");return this.find(g,C).filter(m=>!aa(m)&&Io(m))},getSelectorFromElement(C){const g=Xi(C);return g&&Hn.findOne(g)?g:null},getElementFromSelector(C){const g=Xi(C);return g?Hn.findOne(g):null},getMultipleElementsFromSelector(C){const g=Xi(C);return g?Hn.find(g):[]}},bo=(C,g="hide")=>{const M=C.NAME;Kt.on(document,`click.dismiss${C.EVENT_KEY}`,`[data-bs-dismiss="${M}"]`,function(q){if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),aa(this))return;const pe=Hn.getElementFromSelector(this)||this.closest(`.${M}`);C.getOrCreateInstance(pe)[g]()})},il=".bs.alert",ol=`close${il}`,bu=`closed${il}`;class Ba extends Si{static get NAME(){return"alert"}close(){if(Kt.trigger(this._element,ol).defaultPrevented)return;this._element.classList.remove("show");const m=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,m)}_destroyElement(){this._element.remove(),Kt.trigger(this._element,bu),this.dispose()}static jQueryInterface(g){return this.each(function(){const m=Ba.getOrCreateInstance(this);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g](this)}})}}bo(Ba,"close"),Mr(Ba);const Tu='[data-bs-toggle="button"]';class ba extends Si{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(g){return this.each(function(){const m=ba.getOrCreateInstance(this);"toggle"===g&&m[g]()})}}Kt.on(document,"click.bs.button.data-api",Tu,C=>{C.preventDefault();const g=C.target.closest(Tu);ba.getOrCreateInstance(g).toggle()}),Mr(ba);const w=".bs.swipe",x=`touchstart${w}`,b=`touchmove${w}`,R=`touchend${w}`,j=`pointerdown${w}`,re=`pointerup${w}`,mr={endCallback:null,leftCallback:null,rightCallback:null},wr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class br extends ja{constructor(g,m){super(),this._element=g,g&&br.isSupported()&&(this._config=this._getConfig(m),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return mr}static get DefaultType(){return wr}static get NAME(){return"swipe"}dispose(){Kt.off(this._element,w)}_start(g){this._supportPointerEvents?this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX):this._deltaX=g.touches[0].clientX}_end(g){this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX-this._deltaX),this._handleSwipe(),No(this._config.endCallback)}_move(g){this._deltaX=g.touches&&g.touches.length>1?0:g.touches[0].clientX-this._deltaX}_handleSwipe(){const g=Math.abs(this._deltaX);if(g<=40)return;const m=g/this._deltaX;this._deltaX=0,m&&No(m>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Kt.on(this._element,j,g=>this._start(g)),Kt.on(this._element,re,g=>this._end(g)),this._element.classList.add("pointer-event")):(Kt.on(this._element,x,g=>this._start(g)),Kt.on(this._element,b,g=>this._move(g)),Kt.on(this._element,R,g=>this._end(g)))}_eventIsPointerPenTouch(g){return this._supportPointerEvents&&("pen"===g.pointerType||"touch"===g.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const as=".bs.carousel",$a=".data-api",Ha="next",Os="prev",pc="left",jc="right",Ta=`slide${as}`,Qs=`slid${as}`,Js=`keydown${as}`,qd=`mouseenter${as}`,sl=`mouseleave${as}`,al=`dragstart${as}`,gc=`load${as}${$a}`,Bc=`click${as}${$a}`,wu="carousel",rd="active",cl=".active",mc=".carousel-item",ul=cl+mc,vp={ArrowLeft:jc,ArrowRight:pc},ll={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ko={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Au extends Si{constructor(g,m){super(g,m),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Hn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===wu&&this.cycle()}static get Default(){return ll}static get DefaultType(){return ko}static get NAME(){return"carousel"}next(){this._slide(Ha)}nextWhenVisible(){!document.hidden&&Io(this._element)&&this.next()}prev(){this._slide(Os)}pause(){this._isSliding&&Bo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Kt.one(this._element,Qs,()=>this.cycle());this.cycle()}}to(g){const m=this._getItems();if(g>m.length-1||g<0)return;if(this._isSliding)return void Kt.one(this._element,Qs,()=>this.to(g));const M=this._getItemIndex(this._getActive());M!==g&&this._slide(g>M?Ha:Os,m[g])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(g){return g.defaultInterval=g.interval,g}_addEventListeners(){this._config.keyboard&&Kt.on(this._element,Js,g=>this._keydown(g)),"hover"===this._config.pause&&(Kt.on(this._element,qd,()=>this.pause()),Kt.on(this._element,sl,()=>this._maybeEnableCycle())),this._config.touch&&br.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const M of Hn.find(".carousel-item img",this._element))Kt.on(M,al,q=>q.preventDefault());this._swipeHelper=new br(this._element,{leftCallback:()=>this._slide(this._directionToOrder(pc)),rightCallback:()=>this._slide(this._directionToOrder(jc)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(g){if(/input|textarea/i.test(g.target.tagName))return;const m=vp[g.key];m&&(g.preventDefault(),this._slide(this._directionToOrder(m)))}_getItemIndex(g){return this._getItems().indexOf(g)}_setActiveIndicatorElement(g){if(!this._indicatorsElement)return;const m=Hn.findOne(cl,this._indicatorsElement);m.classList.remove(rd),m.removeAttribute("aria-current");const M=Hn.findOne(`[data-bs-slide-to="${g}"]`,this._indicatorsElement);M&&(M.classList.add(rd),M.setAttribute("aria-current","true"))}_updateInterval(){const g=this._activeElement||this._getActive();if(!g)return;const m=Number.parseInt(g.getAttribute("data-bs-interval"),10);this._config.interval=m||this._config.defaultInterval}_slide(g,m=null){if(this._isSliding)return;const M=this._getActive(),q=g===Ha,pe=m||lc(this._getItems(),M,q,this._config.wrap);if(pe===M)return;const Se=this._getItemIndex(pe),_t=lr=>Kt.trigger(this._element,lr,{relatedTarget:pe,direction:this._orderToDirection(g),from:this._getItemIndex(M),to:Se});if(_t(Ta).defaultPrevented||!M||!pe)return;const bn=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Se),this._activeElement=pe;const sn=q?"carousel-item-start":"carousel-item-end",Jn=q?"carousel-item-next":"carousel-item-prev";pe.classList.add(Jn),M.classList.add(sn),pe.classList.add(sn),this._queueCallback(()=>{pe.classList.remove(sn,Jn),pe.classList.add(rd),M.classList.remove(rd,Jn,sn),this._isSliding=!1,_t(Qs)},M,this._isAnimated()),bn&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Hn.findOne(ul,this._element)}_getItems(){return Hn.find(mc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(g){return uo()?g===pc?Os:Ha:g===pc?Ha:Os}_orderToDirection(g){return uo()?g===Os?pc:jc:g===Os?jc:pc}static jQueryInterface(g){return this.each(function(){const m=Au.getOrCreateInstance(this,g);if("number"!=typeof g){if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g]()}}else m.to(g)})}}Kt.on(document,Bc,"[data-bs-slide], [data-bs-slide-to]",function(C){const g=Hn.getElementFromSelector(this);if(!g||!g.classList.contains(wu))return;C.preventDefault();const m=Au.getOrCreateInstance(g),M=this.getAttribute("data-bs-slide-to");return M?(m.to(M),void m._maybeEnableCycle()):"next"===gr.getDataAttribute(this,"slide")?(m.next(),void m._maybeEnableCycle()):(m.prev(),void m._maybeEnableCycle())}),Kt.on(window,gc,()=>{const C=Hn.find('[data-bs-ride="carousel"]');for(const g of C)Au.getOrCreateInstance(g)}),Mr(Au);const Ga=".bs.collapse",za=`show${Ga}`,Hc=`shown${Ga}`,Wa=`hide${Ga}`,ef=`hidden${Ga}`,_c=`click${Ga}.data-api`,Du="show",ys="collapse",Su="collapsing",dl=`:scope .${ys} .${ys}`,wa='[data-bs-toggle="collapse"]',yp={parent:null,toggle:!0},zo={parent:"(null|element)",toggle:"boolean"};class zc extends Si{constructor(g,m){super(g,m),this._isTransitioning=!1,this._triggerArray=[];const M=Hn.find(wa);for(const q of M){const pe=Hn.getSelectorFromElement(q),Se=Hn.find(pe).filter(_t=>_t===this._element);null!==pe&&Se.length&&this._triggerArray.push(q)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yp}static get DefaultType(){return zo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let g=[];if(this._config.parent&&(g=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(_t=>_t!==this._element).map(_t=>zc.getOrCreateInstance(_t,{toggle:!1}))),g.length&&g[0]._isTransitioning||Kt.trigger(this._element,za).defaultPrevented)return;for(const _t of g)_t.hide();const M=this._getDimension();this._element.classList.remove(ys),this._element.classList.add(Su),this._element.style[M]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Se=`scroll${M[0].toUpperCase()+M.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Su),this._element.classList.add(ys,Du),this._element.style[M]="",Kt.trigger(this._element,Hc)},this._element,!0),this._element.style[M]=`${this._element[Se]}px`}hide(){if(this._isTransitioning||!this._isShown()||Kt.trigger(this._element,Wa).defaultPrevented)return;const m=this._getDimension();this._element.style[m]=`${this._element.getBoundingClientRect()[m]}px`,this._element.classList.add(Su),this._element.classList.remove(ys,Du);for(const q of this._triggerArray){const pe=Hn.getElementFromSelector(q);pe&&!this._isShown(pe)&&this._addAriaAndCollapsedClass([q],!1)}this._isTransitioning=!0,this._element.style[m]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Su),this._element.classList.add(ys),Kt.trigger(this._element,ef)},this._element,!0)}_isShown(g=this._element){return g.classList.contains(Du)}_configAfterMerge(g){return g.toggle=!!g.toggle,g.parent=Ln(g.parent),g}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const g=this._getFirstLevelChildren(wa);for(const m of g){const M=Hn.getElementFromSelector(m);M&&this._addAriaAndCollapsedClass([m],this._isShown(M))}}_getFirstLevelChildren(g){const m=Hn.find(dl,this._config.parent);return Hn.find(g,this._config.parent).filter(M=>!m.includes(M))}_addAriaAndCollapsedClass(g,m){if(g.length)for(const M of g)M.classList.toggle("collapsed",!m),M.setAttribute("aria-expanded",m)}static jQueryInterface(g){const m={};return"string"==typeof g&&/show|hide/.test(g)&&(m.toggle=!1),this.each(function(){const M=zc.getOrCreateInstance(this,m);if("string"==typeof g){if(typeof M[g]>"u")throw new TypeError(`No method named "${g}"`);M[g]()}})}}Kt.on(document,_c,wa,function(C){("A"===C.target.tagName||C.delegateTarget&&"A"===C.delegateTarget.tagName)&&C.preventDefault();for(const g of Hn.getMultipleElementsFromSelector(this))zc.getOrCreateInstance(g,{toggle:!1}).toggle()}),Mr(zc);const Pu="dropdown",Ns=".bs.dropdown",fl=".data-api",yc="ArrowUp",Wc="ArrowDown",Kc=`hide${Ns}`,ro=`hidden${Ns}`,Fg=`show${Ns}`,Ep=`shown${Ns}`,Jd=`click${Ns}${fl}`,Cp=`keydown${Ns}${fl}`,nf=`keyup${Ns}${fl}`,xu="show",Vi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',gl=`${Vi}.${xu}`,fa=".dropdown-menu",nh=uo()?"top-end":"top-start",ad=uo()?"top-start":"top-end",Ou=uo()?"bottom-end":"bottom-start",sf=uo()?"bottom-start":"bottom-end",af=uo()?"left-start":"right-start",cf=uo()?"right-start":"left-start",cd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Nu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Cs extends Si{constructor(g,m){super(g,m),this._popper=null,this._parent=this._element.parentNode,this._menu=Hn.next(this._element,fa)[0]||Hn.prev(this._element,fa)[0]||Hn.findOne(fa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return cd}static get DefaultType(){return Nu}static get NAME(){return Pu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(aa(this._element)||this._isShown())return;const g={relatedTarget:this._element};if(!Kt.trigger(this._element,Fg,g).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const M of[].concat(...document.body.children))Kt.on(M,"mouseover",Ws);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xu),this._element.classList.add(xu),Kt.trigger(this._element,Ep,g)}}hide(){!aa(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(g){if(!Kt.trigger(this._element,Kc,g).defaultPrevented){if("ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))Kt.off(M,"mouseover",Ws);this._popper&&this._popper.destroy(),this._menu.classList.remove(xu),this._element.classList.remove(xu),this._element.setAttribute("aria-expanded","false"),gr.removeDataAttribute(this._menu,"popper"),Kt.trigger(this._element,ro,g)}}_getConfig(g){if("object"==typeof(g=super._getConfig(g)).reference&&!zr(g.reference)&&"function"!=typeof g.reference.getBoundingClientRect)throw new TypeError(`${Pu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return g}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let g=this._element;"parent"===this._config.reference?g=this._parent:zr(this._config.reference)?g=Ln(this._config.reference):"object"==typeof this._config.reference&&(g=this._config.reference);const m=this._getPopperConfig();this._popper=Rt(g,this._menu,m)}_isShown(){return this._menu.classList.contains(xu)}_getPlacement(){const g=this._parent;if(g.classList.contains("dropend"))return af;if(g.classList.contains("dropstart"))return cf;if(g.classList.contains("dropup-center"))return"top";if(g.classList.contains("dropdown-center"))return"bottom";const m="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return g.classList.contains("dropup")?m?ad:nh:m?sf:Ou}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(m=>Number.parseInt(m,10)):"function"==typeof g?m=>g(m,this._element):g}_getPopperConfig(){const g={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(gr.setDataAttribute(this._menu,"popper","static"),g.modifiers=[{name:"applyStyles",enabled:!1}]),{...g,...No(this._config.popperConfig,[g])}}_selectMenuItem({key:g,target:m}){const M=Hn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(q=>Io(q));M.length&&lc(M,m,g===Wc,!M.includes(m)).focus()}static jQueryInterface(g){return this.each(function(){const m=Cs.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g]()}})}static clearMenus(g){if(2===g.button||"keyup"===g.type&&"Tab"!==g.key)return;const m=Hn.find(gl);for(const M of m){const q=Cs.getInstance(M);if(!q||!1===q._config.autoClose)continue;const pe=g.composedPath(),Se=pe.includes(q._menu);if(pe.includes(q._element)||"inside"===q._config.autoClose&&!Se||"outside"===q._config.autoClose&&Se||q._menu.contains(g.target)&&("keyup"===g.type&&"Tab"===g.key||/input|select|option|textarea|form/i.test(g.target.tagName)))continue;const _t={relatedTarget:q._element};"click"===g.type&&(_t.clickEvent=g),q._completeHide(_t)}}static dataApiKeydownHandler(g){const m=/input|textarea/i.test(g.target.tagName),M="Escape"===g.key,q=[yc,Wc].includes(g.key);if(!q&&!M||m&&!M)return;g.preventDefault();const pe=this.matches(Vi)?this:Hn.prev(this,Vi)[0]||Hn.next(this,Vi)[0]||Hn.findOne(Vi,g.delegateTarget.parentNode),Se=Cs.getOrCreateInstance(pe);if(q)return g.stopPropagation(),Se.show(),void Se._selectMenuItem(g);Se._isShown()&&(g.stopPropagation(),Se.hide(),pe.focus())}}Kt.on(document,Cp,Vi,Cs.dataApiKeydownHandler),Kt.on(document,Cp,fa,Cs.dataApiKeydownHandler),Kt.on(document,Jd,Cs.clearMenus),Kt.on(document,nf,Cs.clearMenus),Kt.on(document,Jd,Vi,function(C){C.preventDefault(),Cs.getOrCreateInstance(this).toggle()}),Mr(Cs);const Aa="backdrop",vl=`mousedown.bs.${Aa}`,uf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ih extends ja{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return uf}static get DefaultType(){return rh}static get NAME(){return Aa}show(g){if(!this._config.isVisible)return void No(g);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{No(g)})}hide(g){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),No(g)})):No(g)}dispose(){this._isAppended&&(Kt.off(this._element,vl),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add("fade"),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=Ln(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),Kt.on(g,vl,()=>{No(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){Vc(g,this._getElement(),this._config.isAnimated)}}const yl=".bs.focustrap",Xc=`focusin${yl}`,sh=`keydown.tab${yl}`,Cc="backward",ku={autofocus:!0,trapElement:null},Fu={autofocus:"boolean",trapElement:"element"};class Cl extends ja{constructor(g){super(),this._config=this._getConfig(g),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ku}static get DefaultType(){return Fu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Kt.off(document,yl),Kt.on(document,Xc,g=>this._handleFocusin(g)),Kt.on(document,sh,g=>this._handleKeydown(g)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Kt.off(document,yl))}_handleFocusin(g){const{trapElement:m}=this._config;if(g.target===document||g.target===m||m.contains(g.target))return;const M=Hn.focusableChildren(m);0===M.length?m.focus():this._lastTabNavDirection===Cc?M[M.length-1].focus():M[0].focus()}_handleKeydown(g){"Tab"===g.key&&(this._lastTabNavDirection=g.shiftKey?Cc:"forward")}}const ud=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ah=".sticky-top",Da="padding-right",Yc="margin-right";class Il{constructor(){this._element=document.body}getWidth(){const g=document.documentElement.clientWidth;return Math.abs(window.innerWidth-g)}hide(){const g=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Da,m=>m+g),this._setElementAttributes(ud,Da,m=>m+g),this._setElementAttributes(ah,Yc,m=>m-g)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Da),this._resetElementAttributes(ud,Da),this._resetElementAttributes(ah,Yc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(g,m,M){const q=this.getWidth();this._applyManipulationCallback(g,Se=>{if(Se!==this._element&&window.innerWidth>Se.clientWidth+q)return;this._saveInitialAttribute(Se,m);const _t=window.getComputedStyle(Se).getPropertyValue(m);Se.style.setProperty(m,`${M(Number.parseFloat(_t))}px`)})}_saveInitialAttribute(g,m){const M=g.style.getPropertyValue(m);M&&gr.setDataAttribute(g,m,M)}_resetElementAttributes(g,m){this._applyManipulationCallback(g,q=>{const pe=gr.getDataAttribute(q,m);null!==pe?(gr.removeDataAttribute(q,m),q.style.setProperty(m,pe)):q.style.removeProperty(m)})}_applyManipulationCallback(g,m){if(zr(g))m(g);else for(const M of Hn.find(g,this._element))m(M)}}const h=".bs.modal",W=`hide${h}`,ae=`hidePrevented${h}`,Ue=`hidden${h}`,ft=`show${h}`,Gt=`shown${h}`,Sn=`resize${h}`,qn=`click.dismiss${h}`,Wr=`mousedown.dismiss${h}`,Fs=`keydown.dismiss${h}`,Ic=`click${h}.data-api`,Xa="modal-open",bl="modal-static",ld={backdrop:!0,focus:!0,keyboard:!0},uh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Is extends Si{constructor(g,m){super(g,m),this._dialog=Hn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Il,this._addEventListeners()}static get Default(){return ld}static get DefaultType(){return uh}static get NAME(){return"modal"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||this._isTransitioning||Kt.trigger(this._element,ft,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xa),this._adjustDialog(),this._backdrop.show(()=>this._showElement(g)))}hide(){!this._isShown||this._isTransitioning||Kt.trigger(this._element,W).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Kt.off(window,h),Kt.off(this._dialog,h),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ih({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Cl({trapElement:this._element})}_showElement(g){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const m=Hn.findOne(".modal-body",this._dialog);m&&(m.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Kt.trigger(this._element,Gt,{relatedTarget:g})},this._dialog,this._isAnimated())}_addEventListeners(){Kt.on(this._element,Fs,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Kt.on(window,Sn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Kt.on(this._element,Wr,g=>{Kt.one(this._element,qn,m=>{if(this._element===g.target&&this._element===m.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xa),this._resetAdjustments(),this._scrollBar.reset(),Kt.trigger(this._element,Ue)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Kt.trigger(this._element,ae).defaultPrevented)return;const m=this._element.scrollHeight>document.documentElement.clientHeight,M=this._element.style.overflowY;"hidden"===M||this._element.classList.contains(bl)||(m||(this._element.style.overflowY="hidden"),this._element.classList.add(bl),this._queueCallback(()=>{this._element.classList.remove(bl),this._queueCallback(()=>{this._element.style.overflowY=M},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const g=this._element.scrollHeight>document.documentElement.clientHeight,m=this._scrollBar.getWidth(),M=m>0;if(M&&!g){const q=uo()?"paddingLeft":"paddingRight";this._element.style[q]=`${m}px`}if(!M&&g){const q=uo()?"paddingRight":"paddingLeft";this._element.style[q]=`${m}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(g,m){return this.each(function(){const M=Is.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof M[g]>"u")throw new TypeError(`No method named "${g}"`);M[g](m)}})}}Kt.on(document,Ic,'[data-bs-toggle="modal"]',function(C){const g=Hn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&C.preventDefault(),Kt.one(g,ft,q=>{q.defaultPrevented||Kt.one(g,Ue,()=>{Io(this)&&this.focus()})});const m=Hn.findOne(".modal.show");m&&Is.getInstance(m).hide(),Is.getOrCreateInstance(g).toggle(this)}),bo(Is),Mr(Is);const Sa=".bs.offcanvas",bp=".data-api",hf=`load${Sa}${bp}`,Tp="showing",Al=".offcanvas.show",Vg=`show${Sa}`,hd=`shown${Sa}`,wp=`hide${Sa}`,Ap=`hidePrevented${Sa}`,ff=`hidden${Sa}`,Lg=`resize${Sa}`,Ug=`click${Sa}${bp}`,Km=`keydown.dismiss${Sa}`,qm={backdrop:!0,keyboard:!0,scroll:!1},Dp={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fo extends Si{constructor(g,m){super(g,m),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return qm}static get DefaultType(){return Dp}static get NAME(){return"offcanvas"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||Kt.trigger(this._element,Vg,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Il).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Tp),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Tp),Kt.trigger(this._element,hd,{relatedTarget:g})},this._element,!0))}hide(){this._isShown&&!Kt.trigger(this._element,wp).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Il).reset(),Kt.trigger(this._element,ff)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const m=!!this._config.backdrop;return new ih({className:"offcanvas-backdrop",isVisible:m,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:m?()=>{"static"!==this._config.backdrop?this.hide():Kt.trigger(this._element,Ap)}:null})}_initializeFocusTrap(){return new Cl({trapElement:this._element})}_addEventListeners(){Kt.on(this._element,Km,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();Kt.trigger(this._element,Ap)}})}static jQueryInterface(g){return this.each(function(){const m=Fo.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g](this)}})}}Kt.on(document,Ug,'[data-bs-toggle="offcanvas"]',function(C){const g=Hn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),aa(this))return;Kt.one(g,ff,()=>{Io(this)&&this.focus()});const m=Hn.findOne(Al);m&&m!==g&&Fo.getInstance(m).hide(),Fo.getOrCreateInstance(g).toggle(this)}),Kt.on(window,hf,()=>{for(const C of Hn.find(Al))Fo.getOrCreateInstance(C).show()}),Kt.on(window,Lg,()=>{for(const C of Hn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(C).position&&Fo.getOrCreateInstance(C).hide()}),bo(Fo),Mr(Fo);const Sp={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},hh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Dl=(C,g)=>{const m=C.nodeName.toLowerCase();return g.includes(m)?!hh.has(m)||!!cs.test(C.nodeValue):g.filter(M=>M instanceof RegExp).some(M=>M.test(m))},fd={allowList:Sp,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},eu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Pp={entry:"(string|element|function|null)",selector:"(string|element)"};class Sl extends ja{constructor(g){super(),this._config=this._getConfig(g)}static get Default(){return fd}static get DefaultType(){return eu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(g=>this._resolvePossibleFunction(g)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(g){return this._checkContent(g),this._config.content={...this._config.content,...g},this}toHtml(){const g=document.createElement("div");g.innerHTML=this._maybeSanitize(this._config.template);for(const[q,pe]of Object.entries(this._config.content))this._setContent(g,pe,q);const m=g.children[0],M=this._resolvePossibleFunction(this._config.extraClass);return M&&m.classList.add(...M.split(" ")),m}_typeCheckConfig(g){super._typeCheckConfig(g),this._checkContent(g.content)}_checkContent(g){for(const[m,M]of Object.entries(g))super._typeCheckConfig({selector:m,entry:M},Pp)}_setContent(g,m,M){const q=Hn.findOne(M,g);if(q){if(!(m=this._resolvePossibleFunction(m)))return void q.remove();if(zr(m))return void this._putElementInTemplate(Ln(m),q);if(this._config.html)return void(q.innerHTML=this._maybeSanitize(m));q.textContent=m}}_maybeSanitize(g){return this._config.sanitize?function mf(C,g,m){if(!C.length)return C;if(m&&"function"==typeof m)return m(C);const q=(new window.DOMParser).parseFromString(C,"text/html"),pe=[].concat(...q.body.querySelectorAll("*"));for(const Se of pe){const _t=Se.nodeName.toLowerCase();if(!Object.keys(g).includes(_t)){Se.remove();continue}const wt=[].concat(...Se.attributes),bn=[].concat(g["*"]||[],g[_t]||[]);for(const sn of wt)Dl(sn,bn)||Se.removeAttribute(sn.nodeName)}return q.body.innerHTML}(g,this._config.allowList,this._config.sanitizeFn):g}_resolvePossibleFunction(g){return No(g,[this])}_putElementInTemplate(g,m){if(this._config.html)return m.innerHTML="",void m.append(g);m.textContent=g.textContent}}const xp=new Set(["sanitize","allowList","sanitizeFn"]),Lu="fade",gd="show",Uu="hide.bs.modal",Pl="hover",Rp="focus",Ym={AUTO:"auto",TOP:"top",RIGHT:uo()?"left":"right",BOTTOM:"bottom",LEFT:uo()?"right":"left"},Qm={allowList:Sp,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Wg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class tu extends Si{constructor(g,m){if(typeof c>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(g,m),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Qm}static get DefaultType(){return Wg}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Kt.off(this._element.closest(".modal"),Uu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const g=Kt.trigger(this._element,this.constructor.eventName("show")),M=(Ci(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(g.defaultPrevented||!M)return;this._disposePopper();const q=this._getTipElement();this._element.setAttribute("aria-describedby",q.getAttribute("id"));const{container:pe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(pe.append(q),Kt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(q),q.classList.add(gd),"ontouchstart"in document.documentElement)for(const _t of[].concat(...document.body.children))Kt.on(_t,"mouseover",Ws);this._queueCallback(()=>{Kt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Kt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(gd),"ontouchstart"in document.documentElement)for(const q of[].concat(...document.body.children))Kt.off(q,"mouseover",Ws);this._activeTrigger.click=!1,this._activeTrigger[Rp]=!1,this._activeTrigger[Pl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Kt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(g){const m=this._getTemplateFactory(g).toHtml();if(!m)return null;m.classList.remove(Lu,gd),m.classList.add(`bs-${this.constructor.NAME}-auto`);const M=(C=>{do{C+=Math.floor(1e6*Math.random())}while(document.getElementById(C));return C})(this.constructor.NAME).toString();return m.setAttribute("id",M),this._isAnimated()&&m.classList.add(Lu),m}setContent(g){this._newContent=g,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(g){return this._templateFactory?this._templateFactory.changeContent(g):this._templateFactory=new Sl({...this._config,content:g,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(g){return this.constructor.getOrCreateInstance(g.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Lu)}_isShown(){return this.tip&&this.tip.classList.contains(gd)}_createPopper(g){const m=No(this._config.placement,[this,g,this._element]),M=Ym[m.toUpperCase()];return Rt(this._element,g,this._getPopperConfig(M))}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(m=>Number.parseInt(m,10)):"function"==typeof g?m=>g(m,this._element):g}_resolvePossibleFunction(g){return No(g,[this._element])}_getPopperConfig(g){const m={placement:g,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:M=>{this._getTipElement().setAttribute("data-popper-placement",M.state.placement)}}]};return{...m,...No(this._config.popperConfig,[m])}}_setListeners(){const g=this._config.trigger.split(" ");for(const m of g)if("click"===m)Kt.on(this._element,this.constructor.eventName("click"),this._config.selector,M=>{this._initializeOnDelegatedTarget(M).toggle()});else if("manual"!==m){const M=this.constructor.eventName(m===Pl?"mouseenter":"focusin"),q=this.constructor.eventName(m===Pl?"mouseleave":"focusout");Kt.on(this._element,M,this._config.selector,pe=>{const Se=this._initializeOnDelegatedTarget(pe);Se._activeTrigger["focusin"===pe.type?Rp:Pl]=!0,Se._enter()}),Kt.on(this._element,q,this._config.selector,pe=>{const Se=this._initializeOnDelegatedTarget(pe);Se._activeTrigger["focusout"===pe.type?Rp:Pl]=Se._element.contains(pe.relatedTarget),Se._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Kt.on(this._element.closest(".modal"),Uu,this._hideModalHandler)}_fixTitle(){const g=this._element.getAttribute("title");g&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",g),this._element.setAttribute("data-bs-original-title",g),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(g,m){clearTimeout(this._timeout),this._timeout=setTimeout(g,m)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(g){const m=gr.getDataAttributes(this._element);for(const M of Object.keys(m))xp.has(M)&&delete m[M];return g={...m,..."object"==typeof g&&g?g:{}},g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g.container=!1===g.container?document.body:Ln(g.container),"number"==typeof g.delay&&(g.delay={show:g.delay,hide:g.delay}),"number"==typeof g.title&&(g.title=g.title.toString()),"number"==typeof g.content&&(g.content=g.content.toString()),g}_getDelegateConfig(){const g={};for(const[m,M]of Object.entries(this._config))this.constructor.Default[m]!==M&&(g[m]=M);return g.selector=!1,g.trigger="manual",g}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(g){return this.each(function(){const m=tu.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g]()}})}}Mr(tu);const Kg={...tu.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gh={...tu.DefaultType,content:"(null|string|element|function)"};class _d extends tu{static get Default(){return Kg}static get DefaultType(){return gh}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(g){return this.each(function(){const m=_d.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g]()}})}}Mr(_d);const vd=".bs.scrollspy",qg=`activate${vd}`,mh=`click${vd}`,Np=`load${vd}.data-api`,ru="active",_h="[href]",vh=".nav-link",yh=`${vh}, .nav-item > ${vh}, .list-group-item`,Eh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Rl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class iu extends Si{constructor(g,m){super(g,m),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Eh}static get DefaultType(){return Rl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const g of this._observableSections.values())this._observer.observe(g)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(g){return g.target=Ln(g.target)||document.body,g.rootMargin=g.offset?`${g.offset}px 0px -30%`:g.rootMargin,"string"==typeof g.threshold&&(g.threshold=g.threshold.split(",").map(m=>Number.parseFloat(m))),g}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Kt.off(this._config.target,mh),Kt.on(this._config.target,mh,_h,g=>{const m=this._observableSections.get(g.target.hash);if(m){g.preventDefault();const M=this._rootElement||window,q=m.offsetTop-this._element.offsetTop;if(M.scrollTo)return void M.scrollTo({top:q,behavior:"smooth"});M.scrollTop=q}}))}_getNewObserver(){return new IntersectionObserver(m=>this._observerCallback(m),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(g){const m=Se=>this._targetLinks.get(`#${Se.target.id}`),M=Se=>{this._previousScrollData.visibleEntryTop=Se.target.offsetTop,this._process(m(Se))},q=(this._rootElement||document.documentElement).scrollTop,pe=q>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=q;for(const Se of g){if(!Se.isIntersecting){this._activeTarget=null,this._clearActiveClass(m(Se));continue}const _t=Se.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(pe&&_t){if(M(Se),!q)return}else!pe&&!_t&&M(Se)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const g=Hn.find(_h,this._config.target);for(const m of g){if(!m.hash||aa(m))continue;const M=Hn.findOne(decodeURI(m.hash),this._element);Io(M)&&(this._targetLinks.set(decodeURI(m.hash),m),this._observableSections.set(m.hash,M))}}_process(g){this._activeTarget!==g&&(this._clearActiveClass(this._config.target),this._activeTarget=g,g.classList.add(ru),this._activateParents(g),Kt.trigger(this._element,qg,{relatedTarget:g}))}_activateParents(g){if(g.classList.contains("dropdown-item"))Hn.findOne(".dropdown-toggle",g.closest(".dropdown")).classList.add(ru);else for(const m of Hn.parents(g,".nav, .list-group"))for(const M of Hn.prev(m,yh))M.classList.add(ru)}_clearActiveClass(g){g.classList.remove(ru);const m=Hn.find(`${_h}.${ru}`,g);for(const M of m)M.classList.remove(ru)}static jQueryInterface(g){return this.each(function(){const m=iu.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g]()}})}}Kt.on(window,Np,()=>{for(const C of Hn.find('[data-bs-spy="scroll"]'))iu.getOrCreateInstance(C)}),Mr(iu);const Ml=".bs.tab",Lp=`hide${Ml}`,Tc=`hidden${Ml}`,Af=`show${Ml}`,Df=`shown${Ml}`,Ch=`click${Ml}`,Ed=`keydown${Ml}`,t_=`load${Ml}`,Up="ArrowLeft",n_="ArrowRight",jp="ArrowUp",Sf="ArrowDown",Ih="Home",Ol="End",Pa="active",Cd="show",$p=".dropdown-toggle",Th=`:not(${$p})`,xf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ya=`.nav-link${Th}, .list-group-item${Th}, [role="tab"]${Th}, ${xf}`,Qa=`.${Pa}[data-bs-toggle="tab"], .${Pa}[data-bs-toggle="pill"], .${Pa}[data-bs-toggle="list"]`;class Id extends Si{constructor(g){super(g),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Kt.on(this._element,Ed,m=>this._keydown(m)))}static get NAME(){return"tab"}show(){const g=this._element;if(this._elemIsActive(g))return;const m=this._getActiveElem(),M=m?Kt.trigger(m,Lp,{relatedTarget:g}):null;Kt.trigger(g,Af,{relatedTarget:m}).defaultPrevented||M&&M.defaultPrevented||(this._deactivate(m,g),this._activate(g,m))}_activate(g,m){g&&(g.classList.add(Pa),this._activate(Hn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.removeAttribute("tabindex"),g.setAttribute("aria-selected",!0),this._toggleDropDown(g,!0),Kt.trigger(g,Df,{relatedTarget:m})):g.classList.add(Cd)},g,g.classList.contains("fade")))}_deactivate(g,m){g&&(g.classList.remove(Pa),g.blur(),this._deactivate(Hn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.setAttribute("aria-selected",!1),g.setAttribute("tabindex","-1"),this._toggleDropDown(g,!1),Kt.trigger(g,Tc,{relatedTarget:m})):g.classList.remove(Cd)},g,g.classList.contains("fade")))}_keydown(g){if(![Up,n_,jp,Sf,Ih,Ol].includes(g.key))return;g.stopPropagation(),g.preventDefault();const m=this._getChildren().filter(q=>!aa(q));let M;if([Ih,Ol].includes(g.key))M=m[g.key===Ih?0:m.length-1];else{const q=[n_,Sf].includes(g.key);M=lc(m,g.target,q,!0)}M&&(M.focus({preventScroll:!0}),Id.getOrCreateInstance(M).show())}_getChildren(){return Hn.find(Ya,this._parent)}_getActiveElem(){return this._getChildren().find(g=>this._elemIsActive(g))||null}_setInitialAttributes(g,m){this._setAttributeIfNotExists(g,"role","tablist");for(const M of m)this._setInitialAttributesOnChild(M)}_setInitialAttributesOnChild(g){g=this._getInnerElement(g);const m=this._elemIsActive(g),M=this._getOuterElement(g);g.setAttribute("aria-selected",m),M!==g&&this._setAttributeIfNotExists(M,"role","presentation"),m||g.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(g,"role","tab"),this._setInitialAttributesOnTargetPanel(g)}_setInitialAttributesOnTargetPanel(g){const m=Hn.getElementFromSelector(g);m&&(this._setAttributeIfNotExists(m,"role","tabpanel"),g.id&&this._setAttributeIfNotExists(m,"aria-labelledby",`${g.id}`))}_toggleDropDown(g,m){const M=this._getOuterElement(g);if(!M.classList.contains("dropdown"))return;const q=(pe,Se)=>{const _t=Hn.findOne(pe,M);_t&&_t.classList.toggle(Se,m)};q($p,Pa),q(".dropdown-menu",Cd),M.setAttribute("aria-expanded",m)}_setAttributeIfNotExists(g,m,M){g.hasAttribute(m)||g.setAttribute(m,M)}_elemIsActive(g){return g.classList.contains(Pa)}_getInnerElement(g){return g.matches(Ya)?g:Hn.findOne(Ya,g)}_getOuterElement(g){return g.closest(".nav-item, .list-group-item")||g}static jQueryInterface(g){return this.each(function(){const m=Id.getOrCreateInstance(this);if("string"==typeof g){if(void 0===m[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);m[g]()}})}}Kt.on(document,Ch,xf,function(C){["A","AREA"].includes(this.tagName)&&C.preventDefault(),!aa(this)&&Id.getOrCreateInstance(this).show()}),Kt.on(window,t_,()=>{for(const C of Hn.find(Qa))Id.getOrCreateInstance(C)}),Mr(Id);const pa=".bs.toast",Yg=`mouseover${pa}`,Rf=`mouseout${pa}`,Qg=`focusin${pa}`,o_=`focusout${pa}`,s_=`hide${pa}`,a_=`hidden${pa}`,Mf=`show${pa}`,bd=`shown${pa}`,Td="show",kl="showing",Of={animation:"boolean",autohide:"boolean",delay:"number"},zp={animation:!0,autohide:!0,delay:5e3};class wh extends Si{constructor(g,m){super(g,m),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return zp}static get DefaultType(){return Of}static get NAME(){return"toast"}show(){Kt.trigger(this._element,Mf).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Td,kl),this._queueCallback(()=>{this._element.classList.remove(kl),Kt.trigger(this._element,bd),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Kt.trigger(this._element,s_).defaultPrevented&&(this._element.classList.add(kl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(kl,Td),Kt.trigger(this._element,a_)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Td),super.dispose()}isShown(){return this._element.classList.contains(Td)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(g,m){switch(g.type){case"mouseover":case"mouseout":this._hasMouseInteraction=m;break;case"focusin":case"focusout":this._hasKeyboardInteraction=m}if(m)return void this._clearTimeout();const M=g.relatedTarget;this._element===M||this._element.contains(M)||this._maybeScheduleHide()}_setListeners(){Kt.on(this._element,Yg,g=>this._onInteraction(g,!0)),Kt.on(this._element,Rf,g=>this._onInteraction(g,!1)),Kt.on(this._element,Qg,g=>this._onInteraction(g,!0)),Kt.on(this._element,o_,g=>this._onInteraction(g,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(g){return this.each(function(){const m=wh.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof m[g]>"u")throw new TypeError(`No method named "${g}"`);m[g](this)}})}}bo(wh),Mr(wh);var ur=L(4341);let Bu=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(M,q){1&M&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2),o.nrm(3,"i",3),o.j41(4,"p"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"i",4),o.j41(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",2),o.nrm(11,"i",5),o.j41(12,"p"),o.EFF(13),o.k0s()()()()),2&M&&(o.R7$(5),o.JRh(q.phoneNumber),o.R7$(4),o.JRh(q.address),o.R7$(4),o.JRh(q.email))}})}return C})();var Ah=L(6340);let Jg=(()=>{class C{constructor(m,M,q){this.firestore=m,this.route=M,this.sanitizer=q,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(m=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(m?.mapIframeUrl??null)})}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Ah.Qe),o.rXU(Tr.nX),o.rXU(ue.up))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(M,q){1&M&&(o.j41(0,"section",0)(1,"div",1),o.EFF(2,"Find Us Here"),o.k0s(),o.j41(3,"div",2),o.nrm(4,"div",3),o.k0s()()),2&M&&(o.R7$(4),o.Y8G("innerHTML",q.mapIframeUrl,o.npT))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return C})();function c_(C,g){if(1&C&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Email"),o.k0s(),o.j41(3,"p")(4,"a",45),o.EFF(5),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(4),o.Mz_("href","mailto:",m.business.email,"",o.B4B),o.R7$(1),o.JRh(m.business.email)}}function Fl(C,g){if(1&C&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Fax"),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s()()),2&C){const m=o.XpG(3);o.R7$(4),o.JRh(m.business.fax)}}function Wp(C,g){if(1&C&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Social Media"),o.k0s(),o.j41(3,"p")(4,"a",45),o.EFF(5),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(4),o.FS9("href",m.business.socialMedia,o.B4B),o.R7$(1),o.JRh(m.business.socialMedia)}}function u_(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",13)(2,"div",14)(3,"h1"),o.EFF(4,"Contact Us"),o.k0s(),o.j41(5,"div",15)(6,"p"),o.EFF(7,"We're here to answer any questions you have"),o.k0s()()()(),o.j41(8,"div",16)(9,"section",17)(10,"div",18),o.EFF(11,"Get in Touch"),o.k0s(),o.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),o.EFF(17,"Address"),o.k0s(),o.j41(18,"p"),o.EFF(19),o.k0s()(),o.j41(20,"div",22)(21,"h3"),o.EFF(22,"Phone"),o.k0s(),o.j41(23,"p"),o.EFF(24),o.k0s()(),o.DNE(25,c_,6,2,"div",23),o.DNE(26,Fl,5,1,"div",23),o.DNE(27,Wp,6,2,"div",23),o.j41(28,"div")(29,"h3"),o.EFF(30,"Visitation Hours"),o.k0s(),o.j41(31,"ul")(32,"li")(33,"strong"),o.EFF(34,"Monday:"),o.k0s(),o.EFF(35," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(36,"li")(37,"strong"),o.EFF(38,"Tuesday:"),o.k0s(),o.EFF(39," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(40,"li")(41,"strong"),o.EFF(42,"Wednesday:"),o.k0s(),o.EFF(43," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(44,"li")(45,"strong"),o.EFF(46,"Thursday:"),o.k0s(),o.EFF(47," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(48,"li")(49,"strong"),o.EFF(50,"Friday:"),o.k0s(),o.EFF(51," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(52,"li")(53,"strong"),o.EFF(54,"Saturday:"),o.k0s(),o.EFF(55," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(56,"li")(57,"strong"),o.EFF(58,"Sunday:"),o.k0s(),o.EFF(59," 7:00am \u2013 7:00pm"),o.k0s()()()()(),o.j41(60,"div",24)(61,"div",25),o.nrm(62,"img",26),o.k0s()()()(),o.j41(63,"section",27)(64,"div",18),o.EFF(65,"Send Us a Message"),o.k0s(),o.j41(66,"div",28)(67,"div",29)(68,"div",30)(69,"h2",31),o.EFF(70,"How can we help?"),o.k0s(),o.j41(71,"p",32),o.EFF(72,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),o.k0s()()(),o.j41(73,"div",33)(74,"form",34,35),o.bIt("ngSubmit",function(){o.eBV(m);const q=o.XpG(2);return o.Njj(q.onSubmit())}),o.j41(76,"div",36)(77,"label",37),o.EFF(78,"Name"),o.k0s(),o.j41(79,"input",38),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.name=q)}),o.k0s()(),o.j41(80,"div",36)(81,"label",39),o.EFF(82,"Email"),o.k0s(),o.j41(83,"input",40),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.email=q)}),o.k0s()(),o.j41(84,"div",36)(85,"label",41),o.EFF(86,"Message"),o.k0s(),o.j41(87,"textarea",42),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.message=q)}),o.k0s()(),o.j41(88,"button",43),o.EFF(89,"Submit"),o.k0s()()()()(),o.nrm(90,"app-information",44)(91,"app-map-iframe"),o.k0s(),o.bVm()}if(2&C){const m=o.sdS(75),M=o.XpG(2);o.R7$(19),o.JRh(M.business.address),o.R7$(5),o.JRh(M.business.phone),o.R7$(1),o.Y8G("ngIf",M.business.email),o.R7$(1),o.Y8G("ngIf",M.business.fax),o.R7$(1),o.Y8G("ngIf",M.business.socialMedia),o.R7$(35),o.Y8G("src",M.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",o.B4B),o.R7$(17),o.Y8G("ngModel",M.formData.name),o.R7$(4),o.Y8G("ngModel",M.formData.email),o.R7$(4),o.Y8G("ngModel",M.formData.message),o.R7$(1),o.Y8G("disabled",!m.form.valid),o.R7$(2),o.Y8G("phoneNumber",M.business.phone)("address",M.business.address)("email",M.business.email)}}function l_(C,g){if(1&C&&(o.j41(0,"div",49)(1,"p")(2,"a",45),o.EFF(3),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",m.business.email,"",o.B4B),o.R7$(1),o.JRh(m.business.email)}}function d_(C,g){if(1&C&&(o.j41(0,"div",60)(1,"a",61),o.nrm(2,"i",62),o.k0s()()),2&C){const m=o.XpG(3);o.R7$(1),o.FS9("href",m.business.socialMedia,o.B4B)}}function Kp(C,g){if(1&C){const m=o.RV6();o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",46)(3,"div",47)(4,"h2"),o.EFF(5,"Contact us"),o.k0s(),o.DNE(6,l_,4,2,"div",48),o.j41(7,"div",49)(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",49)(11,"p"),o.EFF(12),o.k0s()(),o.DNE(13,d_,3,1,"div",50),o.k0s(),o.j41(14,"div",51)(15,"form",52),o.bIt("submit",function(){o.eBV(m);const q=o.XpG(2);return o.Njj(q.onSubmit())}),o.j41(16,"div",36)(17,"label",53),o.EFF(18,"Name "),o.j41(19,"span"),o.EFF(20,"(required)"),o.k0s()(),o.j41(21,"div",54)(22,"input",55),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.name=q)}),o.k0s()()(),o.j41(23,"div",36)(24,"label",39),o.EFF(25,"Email "),o.j41(26,"span"),o.EFF(27,"(required)"),o.k0s()(),o.j41(28,"input",56),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.email=q)}),o.k0s()(),o.j41(29,"div",36)(30,"label",41),o.EFF(31,"Message "),o.j41(32,"span"),o.EFF(33,"(required)"),o.k0s()(),o.j41(34,"textarea",57),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.message=q)}),o.k0s()(),o.j41(35,"button",58),o.EFF(36,"Send"),o.k0s()()()(),o.j41(37,"div",46)(38,"div",47)(39,"div")(40,"h2"),o.EFF(41,"Visitation Hours"),o.k0s(),o.j41(42,"ul")(43,"li")(44,"strong"),o.EFF(45,"Monday:"),o.k0s(),o.EFF(46," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(47,"li")(48,"strong"),o.EFF(49,"Tuesday:"),o.k0s(),o.EFF(50," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(51,"li")(52,"strong"),o.EFF(53,"Wednesday:"),o.k0s(),o.EFF(54," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(55,"li")(56,"strong"),o.EFF(57,"Thursday:"),o.k0s(),o.EFF(58," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(59,"li")(60,"strong"),o.EFF(61,"Friday:"),o.k0s(),o.EFF(62," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(63,"li")(64,"strong"),o.EFF(65,"Saturday:"),o.k0s(),o.EFF(66," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(67,"li")(68,"strong"),o.EFF(69,"Sunday:"),o.k0s(),o.EFF(70," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(71,"div",59),o.nrm(72,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(6),o.Y8G("ngIf",m.business.email),o.R7$(3),o.JRh(m.business.phone),o.R7$(3),o.JRh(m.business.address),o.R7$(1),o.Y8G("ngIf",m.business.socialMedia),o.R7$(9),o.Y8G("ngModel",m.formData.name),o.R7$(6),o.Y8G("ngModel",m.formData.email),o.R7$(6),o.Y8G("ngModel",m.formData.message)}}function Nf(C,g){if(1&C&&(o.j41(0,"div",49)(1,"p")(2,"a",45),o.EFF(3),o.k0s()()()),2&C){const m=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",m.business.email,"",o.B4B),o.R7$(1),o.JRh(m.business.email)}}function qp(C,g){if(1&C&&(o.j41(0,"div",60)(1,"a",61),o.nrm(2,"i",62),o.k0s()()),2&C){const m=o.XpG(3);o.R7$(1),o.FS9("href",m.business.socialMedia,o.B4B)}}function Xp(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",46)(2,"div",47)(3,"h2"),o.EFF(4,"Contact us"),o.k0s(),o.DNE(5,Nf,4,2,"div",48),o.j41(6,"div",49)(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",49)(10,"p"),o.EFF(11),o.k0s()(),o.DNE(12,qp,3,1,"div",50),o.k0s(),o.j41(13,"div",51)(14,"form",52),o.bIt("submit",function(){o.eBV(m);const q=o.XpG(2);return o.Njj(q.onSubmit())}),o.j41(15,"div",36)(16,"label",53),o.EFF(17,"Name "),o.j41(18,"span"),o.EFF(19,"(required)"),o.k0s()(),o.j41(20,"div",54)(21,"input",55),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.name=q)}),o.k0s()()(),o.j41(22,"div",36)(23,"label",39),o.EFF(24,"Email "),o.j41(25,"span"),o.EFF(26,"(required)"),o.k0s()(),o.j41(27,"input",56),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.email=q)}),o.k0s()(),o.j41(28,"div",36)(29,"label",41),o.EFF(30,"Message "),o.j41(31,"span"),o.EFF(32,"(required)"),o.k0s()(),o.j41(33,"textarea",57),o.bIt("ngModelChange",function(q){o.eBV(m);const pe=o.XpG(2);return o.Njj(pe.formData.message=q)}),o.k0s()(),o.j41(34,"button",58),o.EFF(35,"Send"),o.k0s()()()(),o.j41(36,"div",46)(37,"div",47)(38,"div")(39,"h2"),o.EFF(40,"Visitation Hours"),o.k0s(),o.j41(41,"ul")(42,"li")(43,"strong"),o.EFF(44,"Monday:"),o.k0s(),o.EFF(45," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(46,"li")(47,"strong"),o.EFF(48,"Tuesday:"),o.k0s(),o.EFF(49," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(50,"li")(51,"strong"),o.EFF(52,"Wednesday:"),o.k0s(),o.EFF(53," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(54,"li")(55,"strong"),o.EFF(56,"Thursday:"),o.k0s(),o.EFF(57," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(58,"li")(59,"strong"),o.EFF(60,"Friday:"),o.k0s(),o.EFF(61," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(62,"li")(63,"strong"),o.EFF(64,"Saturday:"),o.k0s(),o.EFF(65," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(66,"li")(67,"strong"),o.EFF(68,"Sunday:"),o.k0s(),o.EFF(69," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(70,"div",59),o.nrm(71,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(5),o.Y8G("ngIf",m.business.email),o.R7$(3),o.JRh(m.business.phone),o.R7$(3),o.JRh(m.business.address),o.R7$(1),o.Y8G("ngIf",m.business.socialMedia),o.R7$(9),o.Y8G("ngModel",m.formData.name),o.R7$(6),o.Y8G("ngModel",m.formData.email),o.R7$(6),o.Y8G("ngModel",m.formData.message)}}function h_(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,u_,92,13,"ng-container",2),o.DNE(3,Kp,73,7,"ng-container",2),o.DNE(4,Xp,72,7,"ng-container",3),o.k0s(),o.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),o.EFF(10),o.k0s(),o.nrm(11,"button",9),o.k0s(),o.j41(12,"div",10),o.EFF(13),o.k0s(),o.j41(14,"div",11)(15,"button",12),o.EFF(16,"Close"),o.k0s()()()()()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(7),o.JRh(m.modalTitle),o.R7$(3),o.SpI(" ",m.modalMessage," ")}}let Vl=(()=>{class C{constructor(m,M,q,pe,Se){this.businessDataService=m,this.webContent=M,this.route=q,this.http=pe,this.metaService=Se,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:""},this.modalTitle="",this.modalMessage=""}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,m?.id&&(this.metaService.getMetaData(m.id).subscribe(M=>{this.metaService.updateMetaTags(M)}),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const m=document.getElementById("responseModal");m?this.responseModal=new Is(m):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(m=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},m=>{console.error("Error sending email",m),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}showModal(){this.responseModal&&this.responseModal.show()}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Li.A),o.rXU(di.N),o.rXU(Tr.nX),o.rXU(Xe),o.rXU(Ji.R))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(M,q){1&M&&o.DNE(0,h_,17,5,"div",0),2&M&&o.Y8G("ngIf",q.business)},dependencies:[ge.bT,ge.ux,ge.e1,ge.fG,ur.qT,ur.me,ur.BC,ur.cb,ur.YS,ur.vS,ur.cV,Bu,Jg,Rn],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}return C})();var Zg=L(467),f_=L(214);function Yp(C,g){if(1&C){const m=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(m).$implicit,Se=o.XpG(3);return o.Njj(Se.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&C){const m=g.$implicit;o.R7$(1),o.Y8G("src",m.url,o.B4B)}}function em(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"div",5)(2,"div",6)(3,"h1"),o.EFF(4,"Our Home"),o.k0s(),o.j41(5,"div",7)(6,"p"),o.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),o.k0s()()()(),o.j41(8,"div",8)(9,"section",9)(10,"div",10),o.EFF(11,"Welcome to Our Home"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"section",11)(15,"div",10),o.EFF(16,"Explore Our Gallery"),o.k0s(),o.j41(17,"div",12),o.DNE(18,Yp,2,1,"div",13),o.k0s()(),o.j41(19,"div",14)(20,"div",15)(21,"h2"),o.EFF(22,"Come Meet Our Family"),o.k0s(),o.j41(23,"p"),o.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(25,"button",16),o.bIt("click",function(){o.eBV(m);const q=o.XpG(2);return o.Njj(q.navigateToContact(q.business.id))}),o.EFF(26,"Schedule a Visit"),o.k0s()()()(),o.bVm()}if(2&C){const m=o.XpG(2);o.R7$(13),o.SpI(" ",m.business.photoGalleryText," "),o.R7$(5),o.Y8G("ngForOf",m.images)}}function tm(C,g){if(1&C){const m=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(m).$implicit,Se=o.XpG(3);return o.Njj(Se.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&C){const m=g.$implicit;o.R7$(1),o.Y8G("src",m.url,o.B4B)}}function nm(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div"),o.EFF(3),o.k0s(),o.j41(4,"section",11)(5,"div",10),o.EFF(6,"Explore Our Gallery"),o.k0s(),o.j41(7,"div",12),o.DNE(8,tm,2,1,"div",13),o.k0s()(),o.nrm(9,"app-testimonial-image",19),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.JRh(m.business.photoGalleryText),o.R7$(5),o.Y8G("ngForOf",m.images),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",m.business.testimonials[4].name)("text",m.business.testimonials[4].quote)}}function Qp(C,g){if(1&C){const m=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(m).$implicit,Se=o.XpG(3);return o.Njj(Se.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&C){const m=g.$implicit;o.R7$(1),o.Y8G("src",m.url,o.B4B)}}function rm(C,g){if(1&C&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div"),o.EFF(3),o.k0s(),o.j41(4,"section",11)(5,"div",10),o.EFF(6,"Explore Our Gallery"),o.k0s(),o.j41(7,"div",12),o.DNE(8,Qp,2,1,"div",13),o.k0s()(),o.bVm()),2&C){const m=o.XpG(2);o.R7$(3),o.JRh(m.business.photoGalleryText),o.R7$(5),o.Y8G("ngForOf",m.images)}}function Jp(C,g){if(1&C){const m=o.RV6();o.j41(0,"app-image-viewer-modal",20),o.bIt("closeModal",function(){o.eBV(m);const q=o.XpG(2);return o.Njj(q.onCloseModal())}),o.k0s()}if(2&C){const m=o.XpG(2);o.Y8G("imageUrl",m.selectedImageUrl)}}function p_(C,g){if(1&C&&(o.j41(0,"div")(1,"div",1),o.DNE(2,em,27,2,"ng-container",2),o.DNE(3,nm,10,5,"ng-container",2),o.DNE(4,rm,9,2,"ng-container",3),o.DNE(5,Jp,1,1,"app-image-viewer-modal",4),o.k0s()()),2&C){const m=o.XpG();o.R7$(1),o.Y8G("ngSwitch",m.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(2),o.Y8G("ngIf",m.selectedImageUrl)}}let Zp=(()=>{class C{constructor(m,M,q,pe,Se){this.businessDataService=m,this.route=M,this.webContent=q,this.metaService=pe,this.router=Se,this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(m=>{this.business=m,this.layoutType=m?.theme.themeType||"",m?.id&&(this.businessId=m.id,this.metaService.getMetaData(m.id).subscribe(M=>{this.metaService.updateMetaTags(M),this.loadImages()}))})}loadImages(){var m=this;this.webContent.getBusinessGalleryImagesById(this.businessId).pipe((0,ce.n)(M=>{const q=M.map(function(){var pe=(0,Zg.A)(function*(Se){return(yield m.webContent.checkImageExists(Se.url))?Se:null});return function(Se){return pe.apply(this,arguments)}}());return(0,ve.H)(Promise.all(q))}),(0,$e.T)(M=>M.filter(q=>null!==q))).subscribe(M=>{this.images=M})}onImageClick(m){this.selectedImageUrl=m}onCloseModal(){this.selectedImageUrl=null}navigateToContact(m){this.router.navigate(["/contact-us"],{queryParams:{id:m}})}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Li.A),o.rXU(Tr.nX),o.rXU(di.N),o.rXU(Ji.R),o.rXU(Tr.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageURL","author","text"],[3,"imageUrl","closeModal"]],template:function(M,q){1&M&&o.DNE(0,p_,6,4,"div",0),2&M&&o.Y8G("ngIf",q.business)},dependencies:[ge.Sq,ge.bT,ge.ux,ge.e1,ge.fG,f_.W,Rn,Vn],styles:[".gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}"]})}return C})();var Dr=L(4796);function wd(C,g){if(1&C&&(o.j41(0,"div",11),o.EFF(1),o.k0s()),2&C){const m=o.XpG();o.R7$(1),o.JRh(m.errorMessage)}}let kf=(()=>{class C{constructor(m,M){this.authService=m,this.router=M,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(m=>{this.errorMessage=m.message})}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Dr.u),o.rXU(Tr.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(M,q){1&M&&(o.j41(0,"div",0)(1,"div",1)(2,"h2",2),o.EFF(3,"Login"),o.k0s(),o.j41(4,"form",3),o.bIt("submit",function(){return q.login()}),o.j41(5,"div",4)(6,"label",5),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",6),o.bIt("ngModelChange",function(Se){return q.email=Se}),o.k0s()(),o.j41(9,"div",4)(10,"label",7),o.EFF(11,"Password"),o.k0s(),o.j41(12,"input",8),o.bIt("ngModelChange",function(Se){return q.password=Se}),o.k0s()(),o.j41(13,"button",9),o.EFF(14,"Login"),o.k0s(),o.DNE(15,wd,2,1,"div",10),o.k0s()()()),2&M&&(o.R7$(8),o.Y8G("ngModel",q.email),o.R7$(4),o.Y8G("ngModel",q.password),o.R7$(3),o.Y8G("ngIf",q.errorMessage))},dependencies:[ge.bT,ur.qT,ur.me,ur.BC,ur.cb,ur.YS,ur.vS,ur.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return C})();const Ff=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Ko.B},{path:"about-us",component:va},{path:"services",component:Yn},{path:"contact-us",component:Vl},{path:"gallery",component:Zp},{path:"login",component:kf},{path:"resident-form",component:(()=>{class C{constructor(m){this.fb=m,this.intakeForm=this.fb.group({name:["",ur.k0.required],email:["",[ur.k0.required,ur.k0.email]],phoneNumber:["",ur.k0.required],referralSource:["",ur.k0.required],relationToResident:["",ur.k0.required],residentName:["",ur.k0.required],age:["",ur.k0.required],gender:["",ur.k0.required],medicalHistory:["",ur.k0.required],height:["",ur.k0.required],weight:["",ur.k0.required],reasonForMoving:["",ur.k0.required],rnAssessment:["",ur.k0.required],eating:["",ur.k0.required],personalHygiene:["",ur.k0.required],bathing:["",ur.k0.required],toileting:["",ur.k0.required],mobility:["",ur.k0.required],transfers:["",ur.k0.required],medicationAssistance:["",ur.k0.required],memoryIssues:["",ur.k0.required],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:["",ur.k0.required],targetMoveInDate:["",ur.k0.required],disclosureSummary:[""],questions:[""]})}onSubmit(){this.intakeForm.valid&&console.log(this.intakeForm.value)}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(ur.ok))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-resident-intake-form"]],decls:169,vars:2,consts:[[3,"formGroup","ngSubmit"],["formControlName","name","placeholder","First and last name"],["formControlName","email","type","email"],["formControlName","phoneNumber"],["formControlName","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["formControlName","relationToResident"],["formControlName","residentName"],["formControlName","age","type","number"],["formControlName","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["formControlName","medicalHistory"],["formControlName","height","type","number"],["formControlName","weight","type","number"],["formControlName","reasonForMoving"],["formControlName","rnAssessment"],["value","yes"],["value","no"],["formControlName","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["formControlName","personalHygiene"],["formControlName","bathing"],["formControlName","toileting"],["formControlName","mobility"],["formControlName","transfers"],["formControlName","medicationAssistance"],["formControlName","memoryIssues"],["formControlName","behavior"],["formControlName","skinCondition"],["formControlName","additionalInfo"],["formControlName","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["formControlName","targetMoveInDate","type","date"],["formControlName","disclosureSummary"],["formControlName","questions"],["type","submit",3,"disabled"]],template:function(M,q){1&M&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return q.onSubmit()}),o.j41(1,"label"),o.EFF(2," Name * "),o.nrm(3,"input",1),o.k0s(),o.j41(4,"label"),o.EFF(5," Email * "),o.nrm(6,"input",2),o.k0s(),o.j41(7,"label"),o.EFF(8," Phone number * "),o.nrm(9,"input",3),o.k0s(),o.j41(10,"label"),o.EFF(11," How did you find out about us? * "),o.j41(12,"select",4)(13,"option",5),o.EFF(14,"Google"),o.k0s(),o.j41(15,"option",6),o.EFF(16,"Facebook"),o.k0s(),o.j41(17,"option",7),o.EFF(18,"Placement Agency"),o.k0s(),o.j41(19,"option",8),o.EFF(20,"Friends and/or Family"),o.k0s(),o.j41(21,"option",9),o.EFF(22,"Other"),o.k0s()()(),o.j41(23,"label"),o.EFF(24," What is your relation to the resident? * "),o.nrm(25,"input",10),o.k0s(),o.j41(26,"label"),o.EFF(27," Resident's name * "),o.nrm(28,"input",11),o.k0s(),o.j41(29,"label"),o.EFF(30," Age * "),o.nrm(31,"input",12),o.k0s(),o.j41(32,"label"),o.EFF(33," Gender * "),o.j41(34,"select",13)(35,"option",14),o.EFF(36,"Male"),o.k0s(),o.j41(37,"option",15),o.EFF(38,"Female"),o.k0s(),o.j41(39,"option",16),o.EFF(40,"Prefer not to say"),o.k0s(),o.j41(41,"option",9),o.EFF(42,"Other"),o.k0s()()(),o.j41(43,"label"),o.EFF(44," Relevant medical and surgical history * "),o.nrm(45,"textarea",17),o.k0s(),o.j41(46,"label"),o.EFF(47," Height * "),o.nrm(48,"input",18),o.k0s(),o.j41(49,"label"),o.EFF(50," Weight * "),o.nrm(51,"input",19),o.k0s(),o.j41(52,"label"),o.EFF(53," Reason for moving to an adult family home * "),o.nrm(54,"textarea",20),o.k0s(),o.j41(55,"label"),o.EFF(56,' Do you already have an "RN Assessment for AFH"? * '),o.j41(57,"select",21)(58,"option",22),o.EFF(59,"Yes"),o.k0s(),o.j41(60,"option",23),o.EFF(61,"No"),o.k0s()()(),o.j41(62,"label"),o.EFF(63," Eating * "),o.j41(64,"select",24)(65,"option",25),o.EFF(66,"Independent"),o.k0s(),o.j41(67,"option",26),o.EFF(68,"Needing Assistance"),o.k0s(),o.j41(69,"option",27),o.EFF(70,"Dependent"),o.k0s()()(),o.j41(71,"label"),o.EFF(72," Personal Hygiene * "),o.j41(73,"select",28)(74,"option",25),o.EFF(75,"Independent"),o.k0s(),o.j41(76,"option",26),o.EFF(77,"Needing Assistance"),o.k0s(),o.j41(78,"option",27),o.EFF(79,"Dependent"),o.k0s()()(),o.j41(80,"label"),o.EFF(81," Bathing * "),o.j41(82,"select",29)(83,"option",25),o.EFF(84,"Independent"),o.k0s(),o.j41(85,"option",26),o.EFF(86,"Needing Assistance"),o.k0s(),o.j41(87,"option",27),o.EFF(88,"Dependent"),o.k0s()()(),o.j41(89,"label"),o.EFF(90," Toileting * "),o.j41(91,"select",30)(92,"option",25),o.EFF(93,"Independent"),o.k0s(),o.j41(94,"option",26),o.EFF(95,"Needing Assistance"),o.k0s(),o.j41(96,"option",27),o.EFF(97,"Dependent"),o.k0s()()(),o.j41(98,"label"),o.EFF(99," Mobility * "),o.j41(100,"select",31)(101,"option",25),o.EFF(102,"Independent"),o.k0s(),o.j41(103,"option",26),o.EFF(104,"Needing Assistance"),o.k0s(),o.j41(105,"option",27),o.EFF(106,"Dependent"),o.k0s()()(),o.j41(107,"label"),o.EFF(108," Transfers * "),o.j41(109,"select",32)(110,"option",25),o.EFF(111,"Independent"),o.k0s(),o.j41(112,"option",26),o.EFF(113,"Needing Assistance"),o.k0s(),o.j41(114,"option",27),o.EFF(115,"Dependent"),o.k0s()()(),o.j41(116,"label"),o.EFF(117," Medication Assistance * "),o.j41(118,"select",33)(119,"option",22),o.EFF(120,"Yes"),o.k0s(),o.j41(121,"option",23),o.EFF(122,"No"),o.k0s()()(),o.j41(123,"label"),o.EFF(124," Memory Issues * "),o.j41(125,"select",34)(126,"option",22),o.EFF(127,"Yes"),o.k0s(),o.j41(128,"option",23),o.EFF(129,"No"),o.k0s()()(),o.j41(130,"label"),o.EFF(131," Behavior "),o.nrm(132,"textarea",35),o.k0s(),o.j41(133,"label"),o.EFF(134," Skin Condition "),o.nrm(135,"textarea",36),o.k0s(),o.j41(136,"label"),o.EFF(137," Other information you want us to know "),o.nrm(138,"textarea",37),o.k0s(),o.j41(139,"label"),o.EFF(140," Current living situation * "),o.j41(141,"select",38)(142,"option",39),o.EFF(143,"Own Home"),o.k0s(),o.j41(144,"option",40),o.EFF(145,"Relative's Home"),o.k0s(),o.j41(146,"option",41),o.EFF(147,"Hospital"),o.k0s(),o.j41(148,"option",42),o.EFF(149,"Adult Family Home"),o.k0s(),o.j41(150,"option",43),o.EFF(151,"Senior Living"),o.k0s(),o.j41(152,"option",9),o.EFF(153,"Other"),o.k0s()()(),o.j41(154,"label"),o.EFF(155," Target move in date * "),o.nrm(156,"input",44),o.k0s(),o.j41(157,"label"),o.EFF(158," Would you like a summary of disclosures of our rates and services, including itemized services? "),o.j41(159,"select",45)(160,"option",22),o.EFF(161,"Yes"),o.k0s(),o.j41(162,"option",23),o.EFF(163,"No"),o.k0s()()(),o.j41(164,"label"),o.EFF(165," Do you have any questions for us? "),o.nrm(166,"textarea",46),o.k0s(),o.j41(167,"button",47),o.EFF(168,"Submit"),o.k0s()()),2&M&&(o.Y8G("formGroup",q.intakeForm),o.R7$(167),o.Y8G("disabled",q.intakeForm.invalid))},dependencies:[ur.qT,ur.xH,ur.y7,ur.me,ur.Q0,ur.wz,ur.BC,ur.cb,ur.j4,ur.JD],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:20px;background-color:#f8f8f8;border-radius:8px;box-shadow:0 4px 8px #0000001a}label[_ngcontent-%COMP%]{display:block;margin-bottom:12px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:4px;border:1px solid #ddd;border-radius:4px;font-size:16px;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:4px;cursor:pointer;margin-top:20px;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:15px}label[_ngcontent-%COMP%]{margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{font-size:16px;padding:10px}}"]})}return C})()},{path:"login",component:kf},{path:"admin",loadChildren:()=>L.e(948).then(L.bind(L,5948)).then(C=>C.AdminModule)},{path:":id",component:Ko.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Zo=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275mod=o.$C({type:C});static#n=this.\u0275inj=o.G2t({imports:[Tr.iI.forRoot(Ff),Tr.iI]})}return C})();var lo=L(5009);function Za(C,g){if(1&C&&o.nrm(0,"img",13),2&C){const m=o.XpG(2);o.Y8G("src",null==m.business?null:m.business.logoImage,o.B4B)}}const Vf=function(){return["/home"]},$u=function(C){return{id:C}},eg=function(C){return{"open-bar1":C}},Dh=function(C){return{"open-bar2":C}},Sh=function(C){return{"open-bar3":C}},Ph=function(C){return{active:C}};function Lf(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),o.DNE(5,Za,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()()()(),o.bVm()}if(2&C){const m=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(7,Vf))("queryParams",o.eq3(8,$u,m.businessId)),o.R7$(1),o.Y8G("ngIf",null==m.business?null:m.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(10,eg,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(12,Dh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Sh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Ph,m.menuOpen))}}function im(C,g){if(1&C&&o.nrm(0,"img",13),2&C){const m=o.XpG(2);o.Y8G("src",null==m.business?null:m.business.logoImage,o.B4B)}}const Hu=function(){return["/contact-us"]};function ji(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,im,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()(),o.j41(21,"div",4)(22,"a",5)(23,"button",15),o.EFF(24,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&C){const m=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Vf))("queryParams",o.eq3(10,$u,m.businessId)),o.R7$(1),o.Y8G("ngIf",null==m.business?null:m.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,eg,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Dh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Sh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,Ph,m.menuOpen)),o.R7$(12),o.Y8G("routerLink",o.lJ4(20,Hu))("queryParams",o.eq3(21,$u,m.businessId))}}function om(C,g){if(1&C&&o.nrm(0,"img",13),2&C){const m=o.XpG(2);o.Y8G("src",null==m.business?null:m.business.logoImage,o.B4B)}}function Uf(C,g){if(1&C){const m=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,om,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(m);const q=o.XpG();return o.Njj(q.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()(),o.j41(21,"div",4)(22,"a",5)(23,"button",15),o.EFF(24,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&C){const m=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Vf))("queryParams",o.eq3(10,$u,m.businessId)),o.R7$(1),o.Y8G("ngIf",null==m.business?null:m.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,eg,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Dh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Sh,m.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,Ph,m.menuOpen)),o.R7$(12),o.Y8G("routerLink",o.lJ4(20,Hu))("queryParams",o.eq3(21,$u,m.businessId))}}let ho=(()=>{class C{constructor(m,M,q){this.route=m,this.router=M,this.businessDataService=q,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(m=>{m&&(this.businessId=m,this.businessDataService.getBusinessData().subscribe(M=>{this.business=M,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(m){const M=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${m}`],{queryParams:M}).then(q=>{q||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Tr.nX),o.rXU(Tr.Ix),o.rXU(Li.A))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-navigation"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(M,q){1&M&&(o.j41(0,"div",0),o.DNE(1,Lf,21,18,"ng-container",1),o.DNE(2,ji,25,23,"ng-container",1),o.DNE(3,Uf,25,23,"ng-container",1),o.k0s()),2&M&&(o.Y8G("ngSwitch",q.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","demo"))},dependencies:[ge.YU,ge.bT,ge.ux,ge.e1,Tr.Wk],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return C})();function jf(C,g){if(1&C&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&C){const m=o.XpG();o.R7$(4),o.JRh(null==m.business?null:m.business.businessName),o.R7$(7),o.SpI(" ",null==m.business?null:m.business.address," "),o.R7$(3),o.SpI("Provider:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone)}}function Bf(C,g){if(1&C&&(o.qex(0),o.j41(1,"footer",12)(2,"div",13)(3,"div",14),o.nrm(4,"hr",15),o.j41(5,"h2",16),o.EFF(6),o.k0s(),o.nrm(7,"hr",15),o.k0s(),o.j41(8,"div",17)(9,"div",18)(10,"h3",19),o.EFF(11,"Owner:"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"div",18)(15,"h3",19),o.EFF(16,"Location:"),o.k0s(),o.j41(17,"address"),o.EFF(18),o.k0s()(),o.j41(19,"div",18)(20,"h3",19),o.EFF(21,"Provider:"),o.k0s(),o.j41(22,"p"),o.EFF(23),o.k0s(),o.j41(24,"p"),o.EFF(25,"Email: "),o.j41(26,"a",11),o.EFF(27),o.k0s()(),o.j41(28,"p"),o.EFF(29,"Phone: "),o.j41(30,"a",11),o.EFF(31),o.k0s()()()(),o.j41(32,"div",20)(33,"p"),o.EFF(34),o.k0s()()()(),o.bVm()),2&C){const m=o.XpG();o.R7$(6),o.JRh(null==m.business?null:m.business.businessName),o.R7$(7),o.JRh(null==m.business?null:m.business.providerName),o.R7$(5),o.JRh(null==m.business?null:m.business.address),o.R7$(5),o.JRh(null==m.business?null:m.business.providerName),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.email),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone),o.R7$(3),o.Lme("\xa9 ",2024," ",null==m.business?null:m.business.businessName,". All rights reserved.")}}function wc(C,g){if(1&C&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&C){const m=o.XpG();o.R7$(4),o.JRh(null==m.business?null:m.business.businessName),o.R7$(7),o.SpI(" ",null==m.business?null:m.business.address," "),o.R7$(3),o.SpI("Provider:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==m.business?null:m.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==m.business?null:m.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==m.business?null:m.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==m.business?null:m.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==m.business?null:m.business.phone)}}function Ll(C,g){if(1&C&&(o.j41(0,"div",21)(1,"h1",22),o.EFF(2,"Debugger:"),o.k0s(),o.j41(3,"div",23)(4,"div",24)(5,"span",25),o.EFF(6,"Theme File:"),o.k0s(),o.j41(7,"span",26),o.EFF(8),o.k0s()(),o.j41(9,"div",24)(10,"span",25),o.EFF(11,"Business ID:"),o.k0s(),o.j41(12,"span",26),o.EFF(13),o.k0s()(),o.j41(14,"div",24)(15,"span",25),o.EFF(16,"Business Name:"),o.k0s(),o.j41(17,"span",26),o.EFF(18),o.k0s()()()()),2&C){const m=o.XpG();o.R7$(8),o.JRh(m.themeFileName),o.R7$(5),o.JRh(null==m.business?null:m.business.id),o.R7$(5),o.JRh(null==m.business?null:m.business.businessName)}}let tg=(()=>{class C{constructor(m,M,q,pe,Se,_t){this.route=m,this.webContentService=M,this.authService=q,this.themeService=pe,this.businessDataService=Se,this.router=_t,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(m=>{this.business=m}),this.businessDataService.getBusinessId().subscribe(m=>{m&&(this.businessId=m,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(M=>{M&&(this.themeFileName=M.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Tr.nX),o.rXU(di.N),o.rXU(Dr.u),o.rXU(lo.F),o.rXU(Li.A),o.rXU(Tr.Ix))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-footer"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(M,q){1&M&&(o.j41(0,"div",0),o.DNE(1,jf,34,12,"ng-container",1),o.DNE(2,Bf,35,10,"ng-container",1),o.DNE(3,wc,34,12,"ng-container",2),o.k0s(),o.DNE(4,Ll,19,3,"div",3),o.nI1(5,"async")),2&M&&(o.Y8G("ngSwitch",q.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(2),o.Y8G("ngIf",o.bMT(5,4,q.isAuthenticated$)))},dependencies:[ge.bT,ge.ux,ge.e1,ge.fG,ge.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}return C})(),g_=(()=>{class C{constructor(m,M,q,pe,Se){this.route=m,this.webContent=M,this.metaService=q,this.router=pe,this.themeService=Se,this.title="adult-family-home"}ngOnInit(){this.route.queryParams.subscribe(m=>{this.businessId=m.id,this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(m=>{m&&(this.business=m)})}static#e=this.\u0275fac=function(M){return new(M||C)(o.rXU(Tr.nX),o.rXU(di.N),o.rXU(Ji.R),o.rXU(Tr.Ix),o.rXU(lo.F))};static#t=this.\u0275cmp=o.VBU({type:C,selectors:[["app-root"]],decls:3,vars:0,template:function(M,q){1&M&&o.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[Tr.n3,ho,tg]})}return C})();const sm_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var ou=L(2214),To=L(5407);class Dd{constructor(g){return g}}class ng{constructor(){return(0,ou.Dk)()}}const $f=new o.nKC("angularfire2._apps"),Gu={provide:Dd,useFactory:function Ul(C){return C&&1===C.length?C[0]:new Dd((0,ou.Sx)())},deps:[[new o.Xx1,$f]]},su={provide:ng,deps:[[new o.Xx1,$f]]};function am(C){return(g,m)=>{const M=g.runOutsideAngular(()=>C(m));return new Dd(M)}}let Sd=(()=>{class C{constructor(m){(0,ou.KO)("angularfire",To.xv.full,"core"),(0,ou.KO)("angularfire",To.xv.full,"app"),(0,ou.KO)("angular",o.xvI.full,m.toString())}static \u0275fac=function(M){return new(M||C)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:C});static \u0275inj=o.G2t({providers:[Gu,su]})}return C})();function rg(C,...g){return{ngModule:Sd,providers:[{provide:$f,useFactory:am(C),multi:!0,deps:[o.SKi,o.zZn,To.u0,...g]}]}}const __=(0,To.S3)(ou.Wp,!0);L(4033),L(7852),L(1076),L(8041),L(1362);class Bl{constructor(){return(0,To.CA)("auth")}}var P_=L(9583);class vm{constructor(g){return g}}const fo="firestore",fg=new o.nKC("angularfire2.firestore-instances");function pg(C){return(g,m)=>{const M=g.runOutsideAngular(()=>C(m));return new vm(M)}}const ym={provide:class hg{constructor(){return(0,To.CA)(fo)}},deps:[[new o.Xx1,fg]]},Em={provide:vm,useFactory:function R_(C,g){const m=(0,To.lR)(fo,C,g);return m&&new vm(m)},deps:[[new o.Xx1,fg],Dd]};let bv=(()=>{class C{constructor(){(0,ou.KO)("angularfire",To.xv.full,"fst")}static \u0275fac=function(M){return new(M||C)};static \u0275mod=o.$C({type:C});static \u0275inj=o.G2t({providers:[Em,ym]})}return C})();function M_(C,...g){return{ngModule:bv,providers:[{provide:fg,useFactory:pg(C),multi:!0,deps:[o.SKi,o.zZn,To.u0,ng,[new o.Xx1,Bl],[new o.Xx1,To.Jv],...g]}]}}const ut=(0,To.S3)(P_.aU,!0);var yg=L(9253),Eg=L(8721),Ra=L(1977),Uh=L(4535);class tp{constructor(g){return g}}const np="storage",jh=new o.nKC("angularfire2.storage-instances");function rp(C){return(g,m)=>{const M=g.runOutsideAngular(()=>C(m));return new tp(M)}}const Lv={provide:class j_{constructor(){return(0,To.CA)(np)}},deps:[[new o.Xx1,jh]]},ip={provide:tp,useFactory:function Ld(C,g){const m=(0,To.lR)(np,C,g);return m&&new tp(m)},deps:[[new o.Xx1,jh],Dd]};let op=(()=>{class C{constructor(){(0,ou.KO)("angularfire",To.xv.full,"gcs")}static \u0275fac=function(M){return new(M||C)};static \u0275mod=o.$C({type:C});static \u0275inj=o.G2t({providers:[ip,Lv]})}return C})();function sp(C,...g){return{ngModule:op,providers:[{provide:jh,useFactory:rp(C),multi:!0,deps:[o.SKi,o.zZn,To.u0,ng,[new o.Xx1,Bl],[new o.Xx1,To.Jv],...g]}]}}const Am=(0,To.S3)(Uh.c7,!0);var Ig=L(3012);let Kl=(()=>{class C{constructor(m,M,q){this.http=m,this.themeService=M,this.businessService=q,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(m){return new Promise((M,q)=>{this.themeService.getBusinessTheme(m).subscribe({next:pe=>{this.themeService.applyThemeFile(pe?pe.themeFileName:"default.css").then(()=>M()).catch(_t=>{console.error("Error applying theme file:",_t),M()}),this.themeService.getThemeColors(m).subscribe(_t=>{this.applyTheme(_t),M()},_t=>{console.error("Error loading theme:",_t),M()})},error:pe=>{console.error("Error loading business theme:",pe),this.themeService.applyThemeFile("default.css").then(()=>M()).catch(Se=>{console.error("Error applying default theme file:",Se),M()})}})})}applyTheme(m){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",m.primaryColor),document.documentElement.style.setProperty("--secondary-color",m.secondaryColor),document.documentElement.style.setProperty("--accent-color",m.accentColor),document.documentElement.style.setProperty("--background-color",m.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",m.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",m.textColor),document.documentElement.style.setProperty("--nav-background-color",m.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",m.navTextColor),document.documentElement.style.setProperty("--nav-active-background",m.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",m.navActiveText),document.documentElement.style.setProperty("--button-color",m.buttonColor),document.documentElement.style.setProperty("--button-hover-color",m.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(m){return m.primaryColor&&m.secondaryColor&&m.accentColor&&m.backgroundColor&&m.darkBackgroundColor&&m.textColor&&m.navBackgroundColor&&m.navTextColor&&m.navActiveBackground&&m.navActiveText&&m.buttonColor&&m.buttonHoverColor}static#e=this.\u0275fac=function(M){return new(M||C)(o.KVO(Xe),o.KVO(lo.F),o.KVO(Ig.u))};static#t=this.\u0275prov=o.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function bg(C,g,m){return()=>{let q=new URL(window.location.href).searchParams.get("id");return q||(q="Z93oAAVwFAwhmdH2lLtB"),console.log("app.module",q),C.loadTheme(q||"")}}function Gh(C,g,m){let q=new URL(window.location.href).searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("Initializing business data with businessId:",q),()=>{C.loadBusinessData(q).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(pe=>{console.error("Error loading business data:",pe)})}}let Ud=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275mod=o.$C({type:C,bootstrap:[g_]});static#n=this.\u0275inj=o.G2t({providers:[{provide:o.hnV,useFactory:bg,deps:[Kl,ge.aZ,Tr.Ix],multi:!0},{provide:o.hnV,useFactory:Gh,deps:[Li.A,ge.aZ,Tr.Ix],multi:!0}],imports:[ue.Bb,Tr.iI,Zo,Ah.cM,Eg.y5,Ra.X8,yg.bf.initializeApp(sm_firebase),rg(()=>__(sm_firebase)),M_(()=>ut()),sp(()=>Am()),ur.X1,ur.YN,Ve]})}return C})();ue.sG().bootstrapModule(Ud).catch(C=>console.error(C))},4412:(rn,Qe,L)=>{L.d(Qe,{t:()=>ue});var c=L(1413);class ue extends c.B{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const ve=super._subscribe(be);return!ve.closed&&be.next(this._value),ve}getValue(){const{hasError:be,thrownError:ve,_value:me}=this;if(be)throw ve;return this._throwIfClosed(),me}next(be){super.next(this._value=be)}}},1985:(rn,Qe,L)=>{L.d(Qe,{c:()=>Fe});var c=L(7707),ue=L(8359),o=L(3494),be=L(1203),ve=L(1026),me=L(8071),Ne=L(9786);let Fe=(()=>{class ge{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const yt=new ge;return yt.source=this,yt.operator=qe,yt}subscribe(qe,yt,vt){const jt=function ce(ge){return ge&&ge instanceof c.vU||function te(ge){return ge&&(0,me.T)(ge.next)&&(0,me.T)(ge.error)&&(0,me.T)(ge.complete)}(ge)&&(0,ue.Uv)(ge)}(qe)?qe:new c.Ms(qe,yt,vt);return(0,Ne.Y)(()=>{const{operator:xt,source:an}=this;jt.add(xt?xt.call(jt,an):an?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(qe){try{return this._subscribe(qe)}catch(yt){qe.error(yt)}}forEach(qe,yt){return new(yt=$e(yt))((vt,jt)=>{const xt=new c.Ms({next:an=>{try{qe(an)}catch(Je){jt(Je),xt.unsubscribe()}},error:jt,complete:vt});this.subscribe(xt)})}_subscribe(qe){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(qe)}[o.s](){return this}pipe(...qe){return(0,be.m)(qe)(this)}toPromise(qe){return new(qe=$e(qe))((yt,vt)=>{let jt;this.subscribe(xt=>jt=xt,xt=>vt(xt),()=>yt(jt))})}}return ge.create=st=>new ge(st),ge})();function $e(ge){var st;return null!==(st=ge??ve.$.Promise)&&void 0!==st?st:Promise}},1413:(rn,Qe,L)=>{L.d(Qe,{B:()=>Ne});var c=L(1985),ue=L(8359);const be=(0,L(1853).L)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=L(7908),me=L(9786);let Ne=(()=>{class $e extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const ge=new Fe(this,this);return ge.operator=ce,ge}_throwIfClosed(){if(this.closed)throw new be}next(ce){(0,me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(ce)}})}error(ce){(0,me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:ge}=this;for(;ge.length;)ge.shift().error(ce)}})}complete(){(0,me.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:ge,isStopped:st,observers:qe}=this;return ge||st?ue.Kn:(this.currentObservers=null,qe.push(ce),new ue.yU(()=>{this.currentObservers=null,(0,ve.o)(qe,ce)}))}_checkFinalizedStatuses(ce){const{hasError:ge,thrownError:st,isStopped:qe}=this;ge?ce.error(st):qe&&ce.complete()}asObservable(){const ce=new c.c;return ce.source=this,ce}}return $e.create=(te,ce)=>new Fe(te,ce),$e})();class Fe extends Ne{constructor(te,ce){super(),this.destination=te,this.source=ce}next(te){var ce,ge;null===(ge=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===ge||ge.call(ce,te)}error(te){var ce,ge;null===(ge=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===ge||ge.call(ce,te)}complete(){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ce||ce.call(te)}_subscribe(te){var ce,ge;return null!==(ge=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(te))&&void 0!==ge?ge:ue.Kn}}},7707:(rn,Qe,L)=>{L.d(Qe,{Ms:()=>vt,vU:()=>ge});var c=L(8071),ue=L(8359),o=L(1026),be=L(5334),ve=L(5343);const me=$e("C",void 0,void 0);function $e(ze,it,Ye){return{kind:ze,value:it,error:Ye}}var te=L(9270),ce=L(9786);class ge extends ue.yU{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,ue.Uv)(it)&&it.add(this)):this.destination=Je}static create(it,Ye,nt){return new vt(it,Ye,nt)}next(it){this.isStopped?an(function Fe(ze){return $e("N",ze,void 0)}(it),this):this._next(it)}error(it){this.isStopped?an(function Ne(ze){return $e("E",void 0,ze)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?an(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function qe(ze,it){return st.call(ze,it)}class yt{constructor(it){this.partialObserver=it}next(it){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(it)}catch(nt){jt(nt)}}error(it){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(it)}catch(nt){jt(nt)}else jt(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(Ye){jt(Ye)}}}class vt extends ge{constructor(it,Ye,nt){let Tt;if(super(),(0,c.T)(it)||!it)Tt={next:it??void 0,error:Ye??void 0,complete:nt??void 0};else{let Ft;this&&o.$.useDeprecatedNextContext?(Ft=Object.create(it),Ft.unsubscribe=()=>this.unsubscribe(),Tt={next:it.next&&qe(it.next,Ft),error:it.error&&qe(it.error,Ft),complete:it.complete&&qe(it.complete,Ft)}):Tt=it}this.destination=new yt(Tt)}}function jt(ze){o.$.useDeprecatedSynchronousErrorHandling?(0,ce.l)(ze):(0,be.m)(ze)}function an(ze,it){const{onStoppedNotification:Ye}=o.$;Ye&&te.f.setTimeout(()=>Ye(ze,it))}const Je={closed:!0,next:ve.l,error:function xt(ze){throw ze},complete:ve.l}},8359:(rn,Qe,L)=>{L.d(Qe,{Kn:()=>me,yU:()=>ve,Uv:()=>Ne});var c=L(8071);const o=(0,L(1853).L)($e=>function(ce){$e(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((ge,st)=>`${st+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var be=L(7908);class ve{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const qe of ce)qe.remove(this);else ce.remove(this);const{initialTeardown:ge}=this;if((0,c.T)(ge))try{ge()}catch(qe){te=qe instanceof o?qe.errors:[qe]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const qe of st)try{Fe(qe)}catch(yt){te=te??[],yt instanceof o?te=[...te,...yt.errors]:te.push(yt)}}if(te)throw new o(te)}}add(te){var ce;if(te&&te!==this)if(this.closed)Fe(te);else{if(te instanceof ve){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(te)}}_hasParent(te){const{_parentage:ce}=this;return ce===te||Array.isArray(ce)&&ce.includes(te)}_addParent(te){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(te),ce):ce?[ce,te]:te}_removeParent(te){const{_parentage:ce}=this;ce===te?this._parentage=null:Array.isArray(ce)&&(0,be.o)(ce,te)}remove(te){const{_finalizers:ce}=this;ce&&(0,be.o)(ce,te),te instanceof ve&&te._removeParent(this)}}ve.EMPTY=(()=>{const $e=new ve;return $e.closed=!0,$e})();const me=ve.EMPTY;function Ne($e){return $e instanceof ve||$e&&"closed"in $e&&(0,c.T)($e.remove)&&(0,c.T)($e.add)&&(0,c.T)($e.unsubscribe)}function Fe($e){(0,c.T)($e)?$e():$e.unsubscribe()}},1026:(rn,Qe,L)=>{L.d(Qe,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(rn,Qe,L)=>{L.d(Qe,{x:()=>ve});var c=L(6365),o=L(3794),be=L(8455);function ve(...me){return function ue(){return(0,c.U)(1)}()((0,be.H)(me,(0,o.lI)(me)))}},983:(rn,Qe,L)=>{L.d(Qe,{w:()=>ue});const ue=new(L(1985).c)(ve=>ve.complete())},8455:(rn,Qe,L)=>{L.d(Qe,{H:()=>it});var c=L(8750),ue=L(941),o=L(6745),me=L(1985),Fe=L(4761),$e=L(8071),te=L(5225);function ge(Ye,nt){if(!Ye)throw new Error("Iterable cannot be null");return new me.c(Tt=>{(0,te.N)(Tt,nt,()=>{const Ft=Ye[Symbol.asyncIterator]();(0,te.N)(Tt,nt,()=>{Ft.next().then(Ce=>{Ce.done?Tt.complete():Tt.next(Ce.value)})},0,!0)})})}var st=L(5055),qe=L(9858),yt=L(7441),vt=L(5397),jt=L(7953),xt=L(591),an=L(5196);function it(Ye,nt){return nt?function ze(Ye,nt){if(null!=Ye){if((0,st.l)(Ye))return function be(Ye,nt){return(0,c.Tg)(Ye).pipe((0,o._)(nt),(0,ue.Q)(nt))}(Ye,nt);if((0,yt.X)(Ye))return function Ne(Ye,nt){return new me.c(Tt=>{let Ft=0;return nt.schedule(function(){Ft===Ye.length?Tt.complete():(Tt.next(Ye[Ft++]),Tt.closed||this.schedule())})})}(Ye,nt);if((0,qe.y)(Ye))return function ve(Ye,nt){return(0,c.Tg)(Ye).pipe((0,o._)(nt),(0,ue.Q)(nt))}(Ye,nt);if((0,jt.T)(Ye))return ge(Ye,nt);if((0,vt.x)(Ye))return function ce(Ye,nt){return new me.c(Tt=>{let Ft;return(0,te.N)(Tt,nt,()=>{Ft=Ye[Fe.l](),(0,te.N)(Tt,nt,()=>{let Ce,Yt;try{({value:Ce,done:Yt}=Ft.next())}catch(ln){return void Tt.error(ln)}Yt?Tt.complete():Tt.next(Ce)},0,!0)}),()=>(0,$e.T)(Ft?.return)&&Ft.return()})}(Ye,nt);if((0,an.U)(Ye))return function Je(Ye,nt){return ge((0,an.C)(Ye),nt)}(Ye,nt)}throw(0,xt.L)(Ye)}(Ye,nt):(0,c.Tg)(Ye)}},8750:(rn,Qe,L)=>{L.d(Qe,{Tg:()=>st});var c=L(1635),ue=L(7441),o=L(9858),be=L(1985),ve=L(5055),me=L(7953),Ne=L(591),Fe=L(5397),$e=L(5196),te=L(8071),ce=L(5334),ge=L(3494);function st(ze){if(ze instanceof be.c)return ze;if(null!=ze){if((0,ve.l)(ze))return function qe(ze){return new be.c(it=>{const Ye=ze[ge.s]();if((0,te.T)(Ye.subscribe))return Ye.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,ue.X)(ze))return function yt(ze){return new be.c(it=>{for(let Ye=0;Ye<ze.length&&!it.closed;Ye++)it.next(ze[Ye]);it.complete()})}(ze);if((0,o.y)(ze))return function vt(ze){return new be.c(it=>{ze.then(Ye=>{it.closed||(it.next(Ye),it.complete())},Ye=>it.error(Ye)).then(null,ce.m)})}(ze);if((0,me.T)(ze))return xt(ze);if((0,Fe.x)(ze))return function jt(ze){return new be.c(it=>{for(const Ye of ze)if(it.next(Ye),it.closed)return;it.complete()})}(ze);if((0,$e.U)(ze))return function an(ze){return xt((0,$e.C)(ze))}(ze)}throw(0,Ne.L)(ze)}function xt(ze){return new be.c(it=>{(function Je(ze,it){var Ye,nt,Tt,Ft;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Ye=(0,c.xN)(ze);!(nt=yield Ye.next()).done;)if(it.next(nt.value),it.closed)return}catch(Ce){Tt={error:Ce}}finally{try{nt&&!nt.done&&(Ft=Ye.return)&&(yield Ft.call(Ye))}finally{if(Tt)throw Tt.error}}it.complete()})})(ze,it).catch(Ye=>it.error(Ye))})}},7786:(rn,Qe,L)=>{L.d(Qe,{h:()=>me});var c=L(6365),ue=L(8750),o=L(983),be=L(3794),ve=L(8455);function me(...Ne){const Fe=(0,be.lI)(Ne),$e=(0,be.R0)(Ne,1/0),te=Ne;return te.length?1===te.length?(0,ue.Tg)(te[0]):(0,c.U)($e)((0,ve.H)(te,Fe)):o.w}},7673:(rn,Qe,L)=>{L.d(Qe,{of:()=>o});var c=L(3794),ue=L(8455);function o(...be){const ve=(0,c.lI)(be);return(0,ue.H)(be,ve)}},8810:(rn,Qe,L)=>{L.d(Qe,{$:()=>o});var c=L(1985),ue=L(8071);function o(be,ve){const me=(0,ue.T)(be)?be:()=>be,Ne=Fe=>Fe.error(me());return new c.c(ve?Fe=>ve.schedule(Ne,0,Fe):Ne)}},4360:(rn,Qe,L)=>{L.d(Qe,{_:()=>ue});var c=L(7707);function ue(be,ve,me,Ne,Fe){return new o(be,ve,me,Ne,Fe)}class o extends c.vU{constructor(ve,me,Ne,Fe,$e,te){super(ve),this.onFinalize=$e,this.shouldUnsubscribe=te,this._next=me?function(ce){try{me(ce)}catch(ge){ve.error(ge)}}:super._next,this._error=Fe?function(ce){try{Fe(ce)}catch(ge){ve.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(ce){ve.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},9437:(rn,Qe,L)=>{L.d(Qe,{W:()=>be});var c=L(8750),ue=L(4360),o=L(9974);function be(ve){return(0,o.N)((me,Ne)=>{let te,Fe=null,$e=!1;Fe=me.subscribe((0,ue._)(Ne,void 0,void 0,ce=>{te=(0,c.Tg)(ve(ce,be(ve)(me))),Fe?(Fe.unsubscribe(),Fe=null,te.subscribe(Ne)):$e=!0})),$e&&(Fe.unsubscribe(),Fe=null,te.subscribe(Ne))})}},274:(rn,Qe,L)=>{L.d(Qe,{H:()=>o});var c=L(1397),ue=L(8071);function o(be,ve){return(0,ue.T)(ve)?(0,c.Z)(be,ve,1):(0,c.Z)(be,1)}},9901:(rn,Qe,L)=>{L.d(Qe,{U:()=>o});var c=L(9974),ue=L(4360);function o(be){return(0,c.N)((ve,me)=>{let Ne=!1;ve.subscribe((0,ue._)(me,Fe=>{Ne=!0,me.next(Fe)},()=>{Ne||me.next(be),me.complete()}))})}},3294:(rn,Qe,L)=>{L.d(Qe,{F:()=>be});var c=L(3669),ue=L(9974),o=L(4360);function be(me,Ne=c.D){return me=me??ve,(0,ue.N)((Fe,$e)=>{let te,ce=!0;Fe.subscribe((0,o._)($e,ge=>{const st=Ne(ge);(ce||!me(te,st))&&(ce=!1,te=st,$e.next(ge))}))})}function ve(me,Ne){return me===Ne}},5964:(rn,Qe,L)=>{L.d(Qe,{p:()=>o});var c=L(9974),ue=L(4360);function o(be,ve){return(0,c.N)((me,Ne)=>{let Fe=0;me.subscribe((0,ue._)(Ne,$e=>be.call(ve,$e,Fe++)&&Ne.next($e)))})}},980:(rn,Qe,L)=>{L.d(Qe,{j:()=>ue});var c=L(9974);function ue(o){return(0,c.N)((be,ve)=>{try{be.subscribe(ve)}finally{ve.add(o)}})}},1594:(rn,Qe,L)=>{L.d(Qe,{$:()=>Ne});var c=L(9350),ue=L(5964),o=L(6697),be=L(9901),ve=L(3774),me=L(3669);function Ne(Fe,$e){const te=arguments.length>=2;return ce=>ce.pipe(Fe?(0,ue.p)((ge,st)=>Fe(ge,st,ce)):me.D,(0,o.s)(1),te?(0,be.U)($e):(0,ve.v)(()=>new c.G))}},6354:(rn,Qe,L)=>{L.d(Qe,{T:()=>o});var c=L(9974),ue=L(4360);function o(be,ve){return(0,c.N)((me,Ne)=>{let Fe=0;me.subscribe((0,ue._)(Ne,$e=>{Ne.next(be.call(ve,$e,Fe++))}))})}},6365:(rn,Qe,L)=>{L.d(Qe,{U:()=>o});var c=L(1397),ue=L(3669);function o(be=1/0){return(0,c.Z)(ue.D,be)}},1397:(rn,Qe,L)=>{L.d(Qe,{Z:()=>Fe});var c=L(6354),ue=L(8750),o=L(9974),be=L(5225),ve=L(4360),Ne=L(8071);function Fe($e,te,ce=1/0){return(0,Ne.T)(te)?Fe((ge,st)=>(0,c.T)((qe,yt)=>te(ge,qe,st,yt))((0,ue.Tg)($e(ge,st))),ce):("number"==typeof te&&(ce=te),(0,o.N)((ge,st)=>function me($e,te,ce,ge,st,qe,yt,vt){const jt=[];let xt=0,an=0,Je=!1;const ze=()=>{Je&&!jt.length&&!xt&&te.complete()},it=nt=>xt<ge?Ye(nt):jt.push(nt),Ye=nt=>{qe&&te.next(nt),xt++;let Tt=!1;(0,ue.Tg)(ce(nt,an++)).subscribe((0,ve._)(te,Ft=>{st?.(Ft),qe?it(Ft):te.next(Ft)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(xt--;jt.length&&xt<ge;){const Ft=jt.shift();yt?(0,be.N)(te,yt,()=>Ye(Ft)):Ye(Ft)}ze()}catch(Ft){te.error(Ft)}}))};return $e.subscribe((0,ve._)(te,it,()=>{Je=!0,ze()})),()=>{vt?.()}}(ge,st,$e,ce)))}},941:(rn,Qe,L)=>{L.d(Qe,{Q:()=>be});var c=L(5225),ue=L(9974),o=L(4360);function be(ve,me=0){return(0,ue.N)((Ne,Fe)=>{Ne.subscribe((0,o._)(Fe,$e=>(0,c.N)(Fe,ve,()=>Fe.next($e),me),()=>(0,c.N)(Fe,ve,()=>Fe.complete(),me),$e=>(0,c.N)(Fe,ve,()=>Fe.error($e),me)))})}},2816:(rn,Qe,L)=>{L.d(Qe,{S:()=>be});var c=L(9974),ue=L(4360);function be(ve,me){return(0,c.N)(function o(ve,me,Ne,Fe,$e){return(te,ce)=>{let ge=Ne,st=me,qe=0;te.subscribe((0,ue._)(ce,yt=>{const vt=qe++;st=ge?ve(st,yt,vt):(ge=!0,yt),Fe&&ce.next(st)},$e&&(()=>{ge&&ce.next(st),ce.complete()})))}}(ve,me,arguments.length>=2,!0))}},7647:(rn,Qe,L)=>{L.d(Qe,{u:()=>ve});var c=L(8750),ue=L(1413),o=L(7707),be=L(9974);function ve(Ne={}){const{connector:Fe=(()=>new ue.B),resetOnError:$e=!0,resetOnComplete:te=!0,resetOnRefCountZero:ce=!0}=Ne;return ge=>{let st,qe,yt,vt=0,jt=!1,xt=!1;const an=()=>{qe?.unsubscribe(),qe=void 0},Je=()=>{an(),st=yt=void 0,jt=xt=!1},ze=()=>{const it=st;Je(),it?.unsubscribe()};return(0,be.N)((it,Ye)=>{vt++,!xt&&!jt&&an();const nt=yt=yt??Fe();Ye.add(()=>{vt--,0===vt&&!xt&&!jt&&(qe=me(ze,ce))}),nt.subscribe(Ye),!st&&vt>0&&(st=new o.Ms({next:Tt=>nt.next(Tt),error:Tt=>{xt=!0,an(),qe=me(Je,$e,Tt),nt.error(Tt)},complete:()=>{jt=!0,an(),qe=me(Je,te),nt.complete()}}),(0,c.Tg)(it).subscribe(st))})(ge)}}function me(Ne,Fe,...$e){if(!0===Fe)return void Ne();if(!1===Fe)return;const te=new o.Ms({next:()=>{te.unsubscribe(),Ne()}});return(0,c.Tg)(Fe(...$e)).subscribe(te)}},9172:(rn,Qe,L)=>{L.d(Qe,{Z:()=>be});var c=L(8793),ue=L(3794),o=L(9974);function be(...ve){const me=(0,ue.lI)(ve);return(0,o.N)((Ne,Fe)=>{(me?(0,c.x)(ve,Ne,me):(0,c.x)(ve,Ne)).subscribe(Fe)})}},6745:(rn,Qe,L)=>{L.d(Qe,{_:()=>ue});var c=L(9974);function ue(o,be=0){return(0,c.N)((ve,me)=>{me.add(o.schedule(()=>ve.subscribe(me),be))})}},5558:(rn,Qe,L)=>{L.d(Qe,{n:()=>be});var c=L(8750),ue=L(9974),o=L(4360);function be(ve,me){return(0,ue.N)((Ne,Fe)=>{let $e=null,te=0,ce=!1;const ge=()=>ce&&!$e&&Fe.complete();Ne.subscribe((0,o._)(Fe,st=>{$e?.unsubscribe();let qe=0;const yt=te++;(0,c.Tg)(ve(st,yt)).subscribe($e=(0,o._)(Fe,vt=>Fe.next(me?me(st,vt,yt,qe++):vt),()=>{$e=null,ge()}))},()=>{ce=!0,ge()}))})}},6697:(rn,Qe,L)=>{L.d(Qe,{s:()=>be});var c=L(983),ue=L(9974),o=L(4360);function be(ve){return ve<=0?()=>c.w:(0,ue.N)((me,Ne)=>{let Fe=0;me.subscribe((0,o._)(Ne,$e=>{++Fe<=ve&&(Ne.next($e),ve<=Fe&&Ne.complete())}))})}},8141:(rn,Qe,L)=>{L.d(Qe,{M:()=>ve});var c=L(8071),ue=L(9974),o=L(4360),be=L(3669);function ve(me,Ne,Fe){const $e=(0,c.T)(me)||Ne||Fe?{next:me,error:Ne,complete:Fe}:me;return $e?(0,ue.N)((te,ce)=>{var ge;null===(ge=$e.subscribe)||void 0===ge||ge.call($e);let st=!0;te.subscribe((0,o._)(ce,qe=>{var yt;null===(yt=$e.next)||void 0===yt||yt.call($e,qe),ce.next(qe)},()=>{var qe;st=!1,null===(qe=$e.complete)||void 0===qe||qe.call($e),ce.complete()},qe=>{var yt;st=!1,null===(yt=$e.error)||void 0===yt||yt.call($e,qe),ce.error(qe)},()=>{var qe,yt;st&&(null===(qe=$e.unsubscribe)||void 0===qe||qe.call($e)),null===(yt=$e.finalize)||void 0===yt||yt.call($e)}))}):be.D}},3774:(rn,Qe,L)=>{L.d(Qe,{v:()=>be});var c=L(9350),ue=L(9974),o=L(4360);function be(me=ve){return(0,ue.N)((Ne,Fe)=>{let $e=!1;Ne.subscribe((0,o._)(Fe,te=>{$e=!0,Fe.next(te)},()=>$e?Fe.complete():Fe.error(me())))})}function ve(){return new c.G}},6780:(rn,Qe,L)=>{L.d(Qe,{R:()=>ve});var c=L(8359);class ue extends c.yU{constructor(Ne,Fe){super()}schedule(Ne,Fe=0){return this}}const o={setInterval(me,Ne,...Fe){const{delegate:$e}=o;return $e?.setInterval?$e.setInterval(me,Ne,...Fe):setInterval(me,Ne,...Fe)},clearInterval(me){const{delegate:Ne}=o;return(Ne?.clearInterval||clearInterval)(me)},delegate:void 0};var be=L(7908);class ve extends ue{constructor(Ne,Fe){super(Ne,Fe),this.scheduler=Ne,this.work=Fe,this.pending=!1}schedule(Ne,Fe=0){var $e;if(this.closed)return this;this.state=Ne;const te=this.id,ce=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ce,te,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(ce,this.id,Fe),this}requestAsyncId(Ne,Fe,$e=0){return o.setInterval(Ne.flush.bind(Ne,this),$e)}recycleAsyncId(Ne,Fe,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Fe;null!=Fe&&o.clearInterval(Fe)}execute(Ne,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Ne,Fe);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Fe){let te,$e=!1;try{this.work(Ne)}catch(ce){$e=!0,te=ce||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:Fe}=this,{actions:$e}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.o)($e,this),null!=Ne&&(this.id=this.recycleAsyncId(Fe,Ne,null)),this.delay=null,super.unsubscribe()}}}},9687:(rn,Qe,L)=>{L.d(Qe,{q:()=>o});var c=L(6129);class ue{constructor(ve,me=ue.now){this.schedulerActionCtor=ve,this.now=me}schedule(ve,me=0,Ne){return new this.schedulerActionCtor(this,ve).schedule(Ne,me)}}ue.now=c.U.now;class o extends ue{constructor(ve,me=ue.now){super(ve,me),this.actions=[],this._active=!1}flush(ve){const{actions:me}=this;if(this._active)return void me.push(ve);let Ne;this._active=!0;do{if(Ne=ve.execute(ve.state,ve.delay))break}while(ve=me.shift());if(this._active=!1,Ne){for(;ve=me.shift();)ve.unsubscribe();throw Ne}}}},3236:(rn,Qe,L)=>{L.d(Qe,{E:()=>o});var c=L(6780);const o=new(L(9687).q)(c.R)},6129:(rn,Qe,L)=>{L.d(Qe,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(rn,Qe,L)=>{L.d(Qe,{f:()=>c});const c={setTimeout(ue,o,...be){const{delegate:ve}=c;return ve?.setTimeout?ve.setTimeout(ue,o,...be):setTimeout(ue,o,...be)},clearTimeout(ue){const{delegate:o}=c;return(o?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(rn,Qe,L)=>{L.d(Qe,{l:()=>ue});const ue=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(rn,Qe,L)=>{L.d(Qe,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(rn,Qe,L)=>{L.d(Qe,{G:()=>ue});const ue=(0,L(1853).L)(o=>function(){o(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(rn,Qe,L)=>{L.d(Qe,{R0:()=>me,ms:()=>be,lI:()=>ve});var c=L(8071);function o(Ne){return Ne[Ne.length-1]}function be(Ne){return(0,c.T)(o(Ne))?Ne.pop():void 0}function ve(Ne){return function ue(Ne){return Ne&&(0,c.T)(Ne.schedule)}(o(Ne))?Ne.pop():void 0}function me(Ne,Fe){return"number"==typeof o(Ne)?Ne.pop():Fe}},3073:(rn,Qe,L)=>{L.d(Qe,{D:()=>ve});const{isArray:c}=Array,{getPrototypeOf:ue,prototype:o,keys:be}=Object;function ve(Ne){if(1===Ne.length){const Fe=Ne[0];if(c(Fe))return{args:Fe,keys:null};if(function me(Ne){return Ne&&"object"==typeof Ne&&ue(Ne)===o}(Fe)){const $e=be(Fe);return{args:$e.map(te=>Fe[te]),keys:$e}}}return{args:Ne,keys:null}}},7908:(rn,Qe,L)=>{function c(ue,o){if(ue){const be=ue.indexOf(o);0<=be&&ue.splice(be,1)}}L.d(Qe,{o:()=>c})},1853:(rn,Qe,L)=>{function c(ue){const be=ue(ve=>{Error.call(ve),ve.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}L.d(Qe,{L:()=>c})},8496:(rn,Qe,L)=>{function c(ue,o){return ue.reduce((be,ve,me)=>(be[ve]=o[me],be),{})}L.d(Qe,{e:()=>c})},9786:(rn,Qe,L)=>{L.d(Qe,{Y:()=>o,l:()=>be});var c=L(1026);let ue=null;function o(ve){if(c.$.useDeprecatedSynchronousErrorHandling){const me=!ue;if(me&&(ue={errorThrown:!1,error:null}),ve(),me){const{errorThrown:Ne,error:Fe}=ue;if(ue=null,Ne)throw Fe}}else ve()}function be(ve){c.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=ve)}},5225:(rn,Qe,L)=>{function c(ue,o,be,ve=0,me=!1){const Ne=o.schedule(function(){be(),me?ue.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(ue.add(Ne),!me)return Ne}L.d(Qe,{N:()=>c})},3669:(rn,Qe,L)=>{function c(ue){return ue}L.d(Qe,{D:()=>c})},7441:(rn,Qe,L)=>{L.d(Qe,{X:()=>c});const c=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(rn,Qe,L)=>{L.d(Qe,{T:()=>ue});var c=L(8071);function ue(o){return Symbol.asyncIterator&&(0,c.T)(o?.[Symbol.asyncIterator])}},8071:(rn,Qe,L)=>{function c(ue){return"function"==typeof ue}L.d(Qe,{T:()=>c})},5055:(rn,Qe,L)=>{L.d(Qe,{l:()=>o});var c=L(3494),ue=L(8071);function o(be){return(0,ue.T)(be[c.s])}},5397:(rn,Qe,L)=>{L.d(Qe,{x:()=>o});var c=L(4761),ue=L(8071);function o(be){return(0,ue.T)(be?.[c.l])}},9858:(rn,Qe,L)=>{L.d(Qe,{y:()=>ue});var c=L(8071);function ue(o){return(0,c.T)(o?.then)}},5196:(rn,Qe,L)=>{L.d(Qe,{C:()=>o,U:()=>be});var c=L(1635),ue=L(8071);function o(ve){return(0,c.AQ)(this,arguments,function*(){const Ne=ve.getReader();try{for(;;){const{value:Fe,done:$e}=yield(0,c.N3)(Ne.read());if($e)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Fe)}}finally{Ne.releaseLock()}})}function be(ve){return(0,ue.T)(ve?.getReader)}},9974:(rn,Qe,L)=>{L.d(Qe,{N:()=>o,S:()=>ue});var c=L(8071);function ue(be){return(0,c.T)(be?.lift)}function o(be){return ve=>{if(ue(ve))return ve.lift(function(me){try{return be(me,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(rn,Qe,L)=>{L.d(Qe,{I:()=>be});var c=L(6354);const{isArray:ue}=Array;function be(ve){return(0,c.T)(me=>function o(ve,me){return ue(me)?ve(...me):ve(me)}(ve,me))}},5343:(rn,Qe,L)=>{function c(){}L.d(Qe,{l:()=>c})},1203:(rn,Qe,L)=>{L.d(Qe,{F:()=>ue,m:()=>o});var c=L(3669);function ue(...be){return o(be)}function o(be){return 0===be.length?c.D:1===be.length?be[0]:function(me){return be.reduce((Ne,Fe)=>Fe(Ne),me)}}},5334:(rn,Qe,L)=>{L.d(Qe,{m:()=>o});var c=L(1026),ue=L(9270);function o(be){ue.f.setTimeout(()=>{const{onUnhandledError:ve}=c.$;if(!ve)throw be;ve(be)})}},591:(rn,Qe,L)=>{function c(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Qe,{L:()=>c})},177:(rn,Qe,L)=>{L.d(Qe,{AJ:()=>Hr,B3:()=>Lo,Jj:()=>fi,MD:()=>Eo,N0:()=>_n,P9:()=>xo,QT:()=>o,Sm:()=>yt,Sq:()=>Pr,VF:()=>ve,Vy:()=>pi,Xr:()=>we,YU:()=>Br,ZD:()=>be,_b:()=>Rn,aZ:()=>jt,bT:()=>hs,e1:()=>Bi,fG:()=>vr,fw:()=>vt,hb:()=>st,hj:()=>Fe,lG:()=>Di,qQ:()=>me,ux:()=>Ai});var c=L(7705);let ue=null;function o(){return ue}function be(S){ue||(ue=S)}class ve{}const me=new c.nKC("DocumentToken");let Ne=(()=>{class S{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)($e)},providedIn:"platform"})}return S})();const Fe=new c.nKC("Location Initialized");let $e=(()=>{class S extends Ne{constructor(){super(),this._doc=(0,c.WQX)(me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(U){const Y=o().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",U,!1),()=>Y.removeEventListener("popstate",U)}onHashChange(U){const Y=o().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",U,!1),()=>Y.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,Y,Ie){this._history.pushState(U,Y,Ie)}replaceState(U,Y,Ie){this._history.replaceState(U,Y,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return new S},providedIn:"platform"})}return S})();function te(S,Z){if(0==S.length)return Z;if(0==Z.length)return S;let U=0;return S.endsWith("/")&&U++,Z.startsWith("/")&&U++,2==U?S+Z.substring(1):1==U?S+Z:S+"/"+Z}function ce(S){const Z=S.match(/#|\?|$/),U=Z&&Z.index||S.length;return S.slice(0,U-("/"===S[U-1]?1:0))+S.slice(U)}function ge(S){return S&&"?"!==S[0]?"?"+S:S}let st=(()=>{class S{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275prov=c.jDH({token:S,factory:function(){return(0,c.WQX)(yt)},providedIn:"root"})}return S})();const qe=new c.nKC("appBaseHref");let yt=(()=>{class S extends st{constructor(U,Y){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return te(this._baseHref,U)}path(U=!1){const Y=this._platformLocation.pathname+ge(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&U?`${Y}${Ie}`:Y}pushState(U,Y,Ie,mt){const Rt=this.prepareExternalUrl(Ie+ge(mt));this._platformLocation.pushState(U,Y,Rt)}replaceState(U,Y,Ie,mt){const Rt=this.prepareExternalUrl(Ie+ge(mt));this._platformLocation.replaceState(U,Y,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.KVO(Ne),c.KVO(qe,8))};static#t=this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),vt=(()=>{class S extends st{constructor(U,Y){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(U){const Y=te(this._baseHref,U);return Y.length>0?"#"+Y:Y}pushState(U,Y,Ie,mt){let Rt=this.prepareExternalUrl(Ie+ge(mt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.pushState(U,Y,Rt)}replaceState(U,Y,Ie,mt){let Rt=this.prepareExternalUrl(Ie+ge(mt));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.replaceState(U,Y,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.KVO(Ne),c.KVO(qe,8))};static#t=this.\u0275prov=c.jDH({token:S,factory:S.\u0275fac})}return S})(),jt=(()=>{class S{constructor(U){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const Y=this._locationStrategy.getBaseHref();this._basePath=function ze(S){if(new RegExp("^(https?:)?//").test(S)){const[,U]=S.split(/\/\/[^\/]+/);return U}return S}(ce(Je(Y))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,Y=""){return this.path()==this.normalize(U+ge(Y))}normalize(U){return S.stripTrailingSlash(function an(S,Z){if(!S||!Z.startsWith(S))return Z;const U=Z.substring(S.length);return""===U||["/",";","?","#"].includes(U[0])?U:Z}(this._basePath,Je(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,Y="",Ie=null){this._locationStrategy.pushState(Ie,"",U,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ge(Y)),Ie)}replaceState(U,Y="",Ie=null){this._locationStrategy.replaceState(Ie,"",U,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ge(Y)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",Y){this._urlChangeListeners.forEach(Ie=>Ie(U,Y))}subscribe(U,Y,Ie){return this._subject.subscribe({next:U,error:Y,complete:Ie})}static#e=this.normalizeQueryParams=ge;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(Y){return new(Y||S)(c.KVO(st))};static#i=this.\u0275prov=c.jDH({token:S,factory:function(){return function xt(){return new jt((0,c.KVO)(st))}()},providedIn:"root"})}return S})();function Je(S){return S.replace(/\/index.html$/,"")}function Rn(S,Z){Z=encodeURIComponent(Z);for(const U of S.split(";")){const Y=U.indexOf("="),[Ie,mt]=-1==Y?[U,""]:[U.slice(0,Y),U.slice(Y+1)];if(Ie.trim()===Z)return decodeURIComponent(mt)}return null}const Vn=/\s+/,Nn=[];let Br=(()=>{class S{constructor(U,Y,Ie,mt){this._iterableDiffers=U,this._keyValueDiffers=Y,this._ngEl=Ie,this._renderer=mt,this.initialClasses=Nn,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Vn):Nn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Vn):U}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const Y of U)this._updateState(Y,!0);else if(null!=U)for(const Y of Object.keys(U))this._updateState(Y,!!U[Y]);this._applyStateDiff()}_updateState(U,Y){const Ie=this.stateMap.get(U);void 0!==Ie?(Ie.enabled!==Y&&(Ie.changed=!0,Ie.enabled=Y),Ie.touched=!0):this.stateMap.set(U,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const Y=U[0],Ie=U[1];Ie.changed?(this._toggleClass(Y,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Ie.touched=!1}}_toggleClass(U,Y){(U=U.trim()).length>0&&U.split(Vn).forEach(Ie=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c._q3),c.rXU(c.MKu),c.rXU(c.aKT),c.rXU(c.sFG))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return S})();class qo{constructor(Z,U,Y,Ie){this.$implicit=Z,this.ngForOf=U,this.index=Y,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pr=(()=>{class S{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,Y,Ie){this._viewContainer=U,this._template=Y,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const Y=this._viewContainer;U.forEachOperation((Ie,mt,Rt)=>{if(null==Ie.previousIndex)Y.createEmbeddedView(this._template,new qo(Ie.item,this._ngForOf,-1,-1),null===Rt?void 0:Rt);else if(null==Rt)Y.remove(null===mt?void 0:mt);else if(null!==mt){const In=Y.get(mt);Y.move(In,Rt),ds(In,Ie)}});for(let Ie=0,mt=Y.length;Ie<mt;Ie++){const In=Y.get(Ie).context;In.index=Ie,In.count=mt,In.ngForOf=this._ngForOf}U.forEachIdentityChange(Ie=>{ds(Y.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(U,Y){return!0}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return S})();function ds(S,Z){S.context.$implicit=Z.item}let hs=(()=>{class S{constructor(U,Y){this._viewContainer=U,this._context=new yi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){va("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){va("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,Y){return!0}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return S})();class yi{constructor(){this.$implicit=null,this.ngIf=null}}function va(S,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,c.Tbb)(Z)}'.`)}class So{constructor(Z,U){this._viewContainerRef=Z,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Z){Z&&!this._created?this.create():!Z&&this._created&&this.destroy()}}let Ai=(()=>{class S{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews.push(U)}_matchCase(U){const Y=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(U){if(this._defaultViews.length>0&&U!==this._defaultUsed){this._defaultUsed=U;for(const Y of this._defaultViews)Y.enforceState(U)}}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return S})(),Bi=(()=>{class S{constructor(U,Y,Ie){this.ngSwitch=Ie,Ie._addCase(),this._view=new So(U,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(Ai,9))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return S})(),vr=(()=>{class S{constructor(U,Y,Ie){Ie._addDefault(new So(U,Y))}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(Ai,9))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return S})(),Lo=(()=>{class S{constructor(U,Y,Ie){this._ngEl=U,this._differs=Y,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,Y){const[Ie,mt]=U.split("."),Rt=-1===Ie.indexOf("-")?void 0:c.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Ie,mt?`${Y}${mt}`:Y,Rt):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,Rt)}_applyChanges(U){U.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),U.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),U.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.aKT),c.rXU(c.MKu),c.rXU(c.sFG))};static#t=this.\u0275dir=c.FsC({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return S})();function oo(S,Z){return new c.wOt(2100,!1)}class na{createSubscription(Z,U){return(0,c.O8t)(()=>Z.subscribe({next:U,error:Y=>{throw Y}}))}dispose(Z){(0,c.O8t)(()=>Z.unsubscribe())}}class Oi{createSubscription(Z,U){return Z.then(U,Y=>{throw Y})}dispose(Z){}}const Na=new Oi,vo=new na;let fi=(()=>{class S{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,Y=>this._updateLatestValue(U,Y))}_selectStrategy(U){if((0,c.jNT)(U))return Na;if((0,c.zjR)(U))return vo;throw oo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,Y){U===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.gRc,16))};static#t=this.\u0275pipe=c.EJ8({name:"async",type:S,pure:!1,standalone:!0})}return S})(),Di=(()=>{class S{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=co}transform(U,Y=co){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const Ie=this.differ.diff(U),mt=Y!==this.compareFn;return Ie&&(this.keyValues=[],Ie.forEachItem(Rt=>{this.keyValues.push(function ao(S,Z){return{key:S,value:Z}}(Rt.key,Rt.currentValue))})),(Ie||mt)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static#e=this.\u0275fac=function(Y){return new(Y||S)(c.rXU(c.MKu,16))};static#t=this.\u0275pipe=c.EJ8({name:"keyvalue",type:S,pure:!1,standalone:!0})}return S})();function co(S,Z){const U=S.key,Y=Z.key;if(U===Y)return 0;if(void 0===U)return 1;if(void 0===Y)return-1;if(null===U)return 1;if(null===Y)return-1;if("string"==typeof U&&"string"==typeof Y)return U<Y?-1:1;if("number"==typeof U&&"number"==typeof Y)return U-Y;if("boolean"==typeof U&&"boolean"==typeof Y)return U<Y?-1:1;const Ie=String(U),mt=String(Y);return Ie==mt?0:Ie<mt?-1:1}let xo=(()=>{class S{transform(U,Y,Ie){if(null==U)return null;if(!this.supports(U))throw oo();return U.slice(Y,Ie)}supports(U){return"string"==typeof U||Array.isArray(U)}static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275pipe=c.EJ8({name:"slice",type:S,pure:!1,standalone:!0})}return S})(),Eo=(()=>{class S{static#e=this.\u0275fac=function(Y){return new(Y||S)};static#t=this.\u0275mod=c.$C({type:S});static#n=this.\u0275inj=c.G2t({})}return S})();const Hr="browser",Ro="server";function pi(S){return S===Ro}let we=(()=>{class S{static#e=this.\u0275prov=(0,c.jDH)({token:S,providedIn:"root",factory:()=>new Be((0,c.KVO)(me),window)})}return S})();class Be{constructor(Z,U){this.document=Z,this.window=U,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const U=function Et(S,Z){const U=S.getElementById(Z)||S.getElementsByName(Z)[0];if(U)return U;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const Y=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let Ie=Y.currentNode;for(;Ie;){const mt=Ie.shadowRoot;if(mt){const Rt=mt.getElementById(Z)||mt.querySelector(`[name="${Z}"]`);if(Rt)return Rt}Ie=Y.nextNode()}}return null}(this.document,Z);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const U=Z.getBoundingClientRect(),Y=U.left+this.window.pageXOffset,Ie=U.top+this.window.pageYOffset,mt=this.offset();this.window.scrollTo(Y-mt[0],Ie-mt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class _n{}},7705:(rn,Qe,L)=>{L.d(Qe,{$C:()=>so,$GK:()=>gn,$K3:()=>KC,$MX:()=>bd,AVh:()=>My,Agw:()=>am,B4B:()=>Yp,BIS:()=>uv,BMQ:()=>ta,C4Q:()=>sv,C5r:()=>SC,Co$:()=>$0,DNE:()=>Om,EFF:()=>WE,EJ8:()=>ps,EmA:()=>Zo,FS9:()=>Dy,FsC:()=>yo,G2t:()=>Ht,GBs:()=>IC,GFd:()=>uu,H3F:()=>WC,H5H:()=>Fy,H8p:()=>om,HJs:()=>HA,HbH:()=>UE,Hbi:()=>xA,JRh:()=>Ny,JZv:()=>Bn,Jv_:()=>B0,KH2:()=>Bm,KVO:()=>Nt,Kcf:()=>Gp,L39:()=>BA,LfX:()=>jn,Lme:()=>ky,MKu:()=>mE,Mz_:()=>Zv,NEm:()=>sA,NYb:()=>nA,Njj:()=>dc,O8t:()=>mt,OA$:()=>Ir,Ocv:()=>Rw,Ol2:()=>G0,PLl:()=>su,QTQ:()=>N,Ql9:()=>Nw,QuC:()=>ci,R7$:()=>p,RV6:()=>Qi,Rfq:()=>yt,RxE:()=>pm,SKi:()=>fo,SpI:()=>ny,TL$:()=>Ih,Tbb:()=>ge,UyX:()=>pa,VBU:()=>Oi,Vns:()=>Og,Vt3:()=>Pn,WHO:()=>QC,WPN:()=>Vl,WQX:()=>on,XpG:()=>bE,Xx1:()=>Xc,Y8G:()=>Fm,Z63:()=>wd,ZF7:()=>Qa,_9s:()=>E_,_q3:()=>gE,aKT:()=>Kf,aNF:()=>z0,bIt:()=>As,bMT:()=>cC,bVm:()=>K,bkB:()=>cu,brH:()=>uC,c1b:()=>uy,cWb:()=>i_,czy:()=>Al,e01:()=>JC,e5t:()=>Rf,eBV:()=>ja,eq3:()=>Z0,eu8:()=>he,fpN:()=>PA,gRc:()=>gA,gXe:()=>Li,giA:()=>ZC,h9k:()=>qp,hnV:()=>zC,iLQ:()=>uE,j41:()=>Pg,jDH:()=>En,jNT:()=>ls,k0s:()=>Xh,kS0:()=>pl,kdw:()=>qa,l4e:()=>tC,lJ4:()=>J0,lNU:()=>Je,l_i:()=>eC,lsd:()=>TC,mGM:()=>CC,mq5:()=>f0,n$t:()=>Jp,nI1:()=>aC,nKC:()=>cn,naY:()=>pA,npT:()=>Zg,nrm:()=>_a,o8S:()=>zm,oH4:()=>rI,osQ:()=>Yg,plB:()=>Zy,qex:()=>k,rXU:()=>D,rcV:()=>Ya,sFG:()=>vv,sZ2:()=>$f,sdS:()=>Gd,uvJ:()=>wc,w6W:()=>CT,wOt:()=>ze,wni:()=>bC,xGo:()=>Pu,xc7:()=>Ry,xe9:()=>dy,xvI:()=>gm,zZn:()=>Dc,zcH:()=>Gl,zjR:()=>xi});var c=L(1413),ue=L(8359),o=L(1985),be=L(7786),ve=L(4412),me=L(7673),Ne=L(7647),Fe=L(5558),$e=L(3294);function te(t){for(let n in t)if(t[n]===te)return n;throw Error("Could not find renamed property on target object.")}function ce(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function st(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const qe=te({__forward_ref__:te});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return ge(this())},t}function vt(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty(qe)&&t.__forward_ref__===yt}function xt(t){return t&&!!t.\u0275providers}const Je="https://g.co/ng/security#xss";class ze extends Error{constructor(n,i){super(function it(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ye(t){return"string"==typeof t?t:null==t?"":String(t)}function Yt(t,n){throw new ze(-201,!1)}function bt(t,n){null==t&&function At(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function En(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tn(t){return zt(t,hn)||zt(t,Gn)}function jn(t){return null!==Tn(t)}function zt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Vr(t){return t&&(t.hasOwnProperty(yr)||t.hasOwnProperty(Lt))?t[yr]:null}const hn=te({\u0275prov:te}),yr=te({\u0275inj:te}),Gn=te({ngInjectableDef:te}),Lt=te({ngInjectorDef:te});var gn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(gn||{});let xn;function hr(t){const n=xn;return xn=t,n}function Er(t,n,i){const a=Tn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&gn.Optional?null:void 0!==n?n:void Yt(ge(t))}const Bn=globalThis;class cn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=En({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ct={},Mt="__NG_DI_FLAG__",Fn="ngTempTokenPath",ee=/\n/gm,V="__source";let F;function Ve(t){const n=F;return F=t,n}function It(t,n=gn.Default){if(void 0===F)throw new ze(-203,!1);return null===F?Er(t,void 0,n):F.get(t,n&gn.Optional?null:void 0,n)}function Nt(t,n=gn.Default){return(function Cn(){return xn}()||It)(vt(t),n)}function on(t,n=gn.Default){return Nt(t,un(n))}function un(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ir(t){const n=[];for(let i=0;i<t.length;i++){const a=vt(t[i]);if(Array.isArray(a)){if(0===a.length)throw new ze(900,!1);let d,f=gn.Default;for(let E=0;E<a.length;E++){const T=a[E],P=vi(T);"number"==typeof P?-1===P?d=T.token:f|=P:d=T}n.push(Nt(d,f))}else n.push(Nt(a))}return n}function An(t,n){return t[Mt]=n,t.prototype[Mt]=n,t}function vi(t){return t[Mt]}function di(t){return{toString:t}.toString()}var Ji=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ji||{}),Li=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Li||{});const ai={},or=[],dt=te({\u0275cmp:te}),Ze=te({\u0275dir:te}),Dt=te({\u0275pipe:te}),fn=te({\u0275mod:te}),Rn=te({\u0275fac:te}),Vn=te({__NG_ELEMENT_ID__:te}),Nn=te({__NG_ENV_ID__:te});function Br(t,n,i){let a=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const f=n.length;if(d+f===a||t.charCodeAt(d+f)<=32)return d}i=d+1}}function Nr(t,n,i){let a=0;for(;a<i.length;){const d=i[a];if("number"==typeof d){if(0!==d)break;a++;const f=i[a++],E=i[a++],T=i[a++];t.setAttribute(n,E,T,f)}else{const f=d,E=i[++a];qo(f)?t.setProperty(n,f,E):t.setAttribute(n,f,E),a++}}return a}function Ri(t){return 3===t||4===t||6===t}function qo(t){return 64===t.charCodeAt(0)}function Pr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const d=n[a];"number"==typeof d?i=d:0===i||ds(t,i,d,null,-1===i||2===i?n[++a]:null)}}return t}function ds(t,n,i,a,d){let f=0,E=t.length;if(-1===n)E=-1;else for(;f<t.length;){const T=t[f++];if("number"==typeof T){if(T===n){E=-1;break}if(T>n){E=f-1;break}}}for(;f<t.length;){const T=t[f];if("number"==typeof T)break;if(T===i){if(null===a)return void(null!==d&&(t[f+1]=d));if(a===t[f+1])return void(t[f+2]=d)}f++,null!==a&&f++,null!==d&&f++}-1!==E&&(t.splice(E,0,n),f=E+1),t.splice(f++,0,i),null!==a&&t.splice(f++,0,a),null!==d&&t.splice(f++,0,d)}const Mi="ng-template";function hs(t,n,i){let a=0,d=!0;for(;a<t.length;){let f=t[a++];if("string"==typeof f&&d){const E=t[a++];if(i&&"class"===f&&-1!==Br(E.toLowerCase(),n,0))return!0}else{if(1===f){for(;a<t.length&&"string"==typeof(f=t[a++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function yi(t){return 4===t.type&&t.value!==Mi}function va(t,n,i){return n===(4!==t.type||i?t.value:Mi)}function So(t,n,i){let a=4;const d=t.attrs||[],f=function Lr(t){for(let n=0;n<t.length;n++)if(Ri(t[n]))return n;return t.length}(d);let E=!1;for(let T=0;T<n.length;T++){const P=n[T];if("number"!=typeof P){if(!E)if(4&a){if(a=2|1&a,""!==P&&!va(t,P,i)||""===P&&1===n.length){if(Ai(a))return!1;E=!0}}else{const B=8&a?P:n[++T];if(8&a&&null!==t.attrs){if(!hs(t.attrs,B,i)){if(Ai(a))return!1;E=!0}continue}const ye=Bi(8&a?"class":P,d,yi(t),i);if(-1===ye){if(Ai(a))return!1;E=!0;continue}if(""!==B){let Ke;Ke=ye>f?"":d[ye+1].toLowerCase();const rt=8&a?Ke:null;if(rt&&-1!==Br(rt,B,0)||2&a&&B!==Ke){if(Ai(a))return!1;E=!0}}}}else{if(!E&&!Ai(a)&&!Ai(P))return!1;if(E&&Ai(P))continue;E=!1,a=P|1&a}}return Ai(a)||E}function Ai(t){return 0==(1&t)}function Bi(t,n,i,a){if(null===n)return-1;let d=0;if(a||!i){let f=!1;for(;d<n.length;){const E=n[d];if(E===t)return d;if(3===E||6===E)f=!0;else{if(1===E||2===E){let T=n[++d];for(;"string"==typeof T;)T=n[++d];continue}if(4===E)break;if(0===E){d+=4;continue}}d+=f?1:2}return-1}return function xr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function vr(t,n,i=!1){for(let a=0;a<n.length;a++)if(So(t,n[a],i))return!0;return!1}function Zi(t,n){return t?":not("+n.trim()+")":n}function qi(t){let n=t[0],i=1,a=2,d="",f=!1;for(;i<t.length;){let E=t[i];if("string"==typeof E)if(2&a){const T=t[++i];d+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?d+="."+E:4&a&&(d+=" "+E);else""!==d&&!Ai(E)&&(n+=Zi(f,d),d=""),a=E,f=f||!Ai(a);i++}return""!==d&&(n+=Zi(f,d)),n}function Oi(t){return di(()=>{const n=Po(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ji.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Li.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""};Ui(i);const a=t.dependencies;return i.directiveDefs=ao(a,!1),i.pipeDefs=ao(a,!0),i.id=function co(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function vo(t){return Yn(t)||fr(t)}function fi(t){return null!==t}function so(t){return di(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fs(t,n){if(null==t)return ai;const i={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),i[d]=a,n&&(n[d]=f)}return i}function yo(t){return di(()=>{const n=Po(t);return Ui(n),n})}function ps(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yn(t){return t[dt]||null}function fr(t){return t[Ze]||null}function Ar(t){return t[Dt]||null}function ci(t){const n=Yn(t)||fr(t)||Ar(t);return null!==n&&n.standalone}function Zn(t,n){const i=t[fn]||null;if(!i&&!0===n)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return i}function Po(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ai,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fs(t.inputs,n),outputs:fs(t.outputs)}}function Ui(t){t.features?.forEach(n=>n(t))}function ao(t,n){if(!t)return null;const i=n?Ar:vo;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(fi)}const $r=0,Qt=1,zn=2,cr=3,ki=4,xo=5,hi=6,Eo=7,Hr=8,Ro=9,Mo=10,Wn=11,go=12,pi=13,Q=14,H=15,_e=16,we=17,Be=18,Et=19,Jt=20,_n=21,kt=22,tn=23,Kn=24,Dn=25,ri=1,gi=2,Kr=7,eo=9,pr=11;function Xr(t){return Array.isArray(t)&&"object"==typeof t[ri]}function kr(t){return Array.isArray(t)&&!0===t[ri]}function gs(t){return 0!=(4&t.flags)}function Fi(t){return t.componentOffset>-1}function Ds(t){return 1==(1&t.flags)}function $i(t){return!!t.template}function ya(t){return 0!=(512&t[zn])}function Uo(t,n){return t.hasOwnProperty(Rn)?t[Rn]:null}let Ur=null,Hs=!1;function no(t){const n=Ur;return Ur=t,n}const kc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function oa(t){if(!os(t)||t.dirty){if(!t.producerMustRecompute(t)&&!sc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ps(t){t.dirty=!0,function Qo(t){if(void 0===t.liveConsumerNode)return;const n=Hs;Hs=!0;try{for(const i of t.liveConsumerNode)i.dirty||Ps(i)}finally{Hs=n}}(t),t.consumerMarkedDirty?.(t)}function sr(t){return t&&(t.nextProducerIndex=0),no(t)}function oc(t,n){if(no(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(os(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Ea(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sc(t){Gs(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(oa(i),a!==i.version))return!0}return!1}function Va(t){if(Gs(t),os(t))for(let n=0;n<t.producerNode.length;n++)Ea(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ea(t,n){if(function Fc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Gs(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ea(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];Gs(d),d.producerIndexOfThis[a]=n}}function os(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Gs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ca=null;function mt(t){const n=no(null);try{return t()}finally{no(n)}}const In=()=>{},Rr=(()=>({...kc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:In}))();class jr{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ir(){return mi}function mi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ni),Yr}function Yr(){const t=jo(this),n=t?.current;if(n){const i=t.previous;if(i===ai)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Ni(t,n,i,a){const d=this.declaredInputs[i],f=jo(t)||function sa(t,n){return t[_o]=n}(t,{previous:ai,current:null}),E=f.current||(f.current={}),T=f.previous,P=T[d];E[d]=new jr(P&&P.currentValue,n,T===ai),t[a]=n}Ir.ngInherit=!0;const _o="__ngSimpleChanges__";function jo(t){return t[_o]||null}const Ln=function(t,n,i){};function Ci(t){for(;Array.isArray(t);)t=t[$r];return t}function Rs(t,n){return Ci(n[t])}function $o(t,n){return Ci(n[t.index])}function el(t,n){return t.data[n]}function uo(t,n){return t[n]}function Mr(t,n){const i=n[t];return Xr(i)?i:i[$r]}function Ms(t,n){return null==n?null:t[n]}function ca(t){t[we]=0}function _u(t){1024&t[zn]||(t[zn]|=1024,tl(t,1))}function vu(t){1024&t[zn]&&(t[zn]&=-1025,tl(t,-1))}function tl(t,n){let i=t[cr];if(null===i)return;i[xo]+=n;let a=i;for(i=i[cr];null!==i&&(1===n&&1===a[xo]||-1===n&&0===a[xo]);)i[xo]+=n,a=i,i=i[cr]}const rr={lFrame:re(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zi(){return rr.bindingsEnabled}function Ut(){return rr.lFrame.lView}function gr(){return rr.lFrame.tView}function ja(t){return rr.lFrame.contextLView=t,t[Hr]}function dc(t){return rr.lFrame.contextLView=null,t}function Si(){let t=Xi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xi(){return rr.lFrame.currentTNode}function bo(t,n){const i=rr.lFrame;i.currentTNode=t,i.isParent=n}function hc(){return rr.lFrame.isParent}function Iu(){rr.lFrame.isParent=!1}function Go(){const t=rr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ks(){return rr.lFrame.bindingIndex++}function vs(t){const n=rr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function fc(t,n){const i=rr.lFrame;i.bindingIndex=i.bindingRootIndex=t,nd(n)}function nd(t){rr.lFrame.currentDirectiveIndex=t}function Xs(){return rr.lFrame.currentQueryIndex}function w(t){rr.lFrame.currentQueryIndex=t}function x(t){const n=t[Qt];return 2===n.type?n.declTNode:1===n.type?t[hi]:null}function b(t,n,i){if(i&gn.SkipSelf){let d=n,f=t;for(;!(d=d.parent,null!==d||i&gn.Host||(d=x(f),null===d||(f=f[Q],10&d.type))););if(null===d)return!1;n=d,t=f}const a=rr.lFrame=j();return a.currentTNode=n,a.lView=t,!0}function R(t){const n=j(),i=t[Qt];rr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function j(){const t=rr.lFrame,n=null===t?null:t.child;return null===n?re(t):n}function re(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ee(){const t=rr.lFrame;return rr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ht=Ee;function lt(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wr(){return rr.lFrame.selectedIndex}function br(t){rr.lFrame.selectedIndex=t}function oi(){const t=rr.lFrame;return el(t.tView,t.selectedIndex)}let Qh=!0;function Ha(){return Qh}function Os(t){Qh=t}function jc(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:P,ngAfterViewChecked:B,ngOnDestroy:ne}=f;E&&(t.contentHooks??=[]).push(-i,E),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),P&&(t.viewHooks??=[]).push(-i,P),B&&((t.viewHooks??=[]).push(i,B),(t.viewCheckHooks??=[]).push(i,B)),null!=ne&&(t.destroyHooks??=[]).push(i,ne)}}function Ta(t,n,i){qd(t,n,3,i)}function Qs(t,n,i,a){(3&t[zn])===i&&qd(t,n,i,a)}function Js(t,n){let i=t[zn];(3&i)===n&&(i&=8191,i+=1,t[zn]=i)}function qd(t,n,i,a){const f=a??-1,E=n.length-1;let T=0;for(let P=void 0!==a?65535&t[we]:0;P<E;P++)if("number"==typeof n[P+1]){if(T=n[P],null!=a&&T>=a)break}else n[P]<0&&(t[we]+=65536),(T<f||-1==f)&&(al(t,i,n,P),t[we]=(4294901760&t[we])+P+2),P++}function sl(t,n){Ln(4,t,n);const i=no(null);try{n.call(t)}finally{no(i),Ln(5,t,n)}}function al(t,n,i,a){const d=i[a]<0,f=i[a+1],T=t[d?-i[a]:i[a]];d?t[zn]>>13<t[we]>>16&&(3&t[zn])===n&&(t[zn]+=8192,sl(T,f)):sl(T,f)}const gc=-1;class Bc{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function mc(t){return t!==gc}function ul(t){return 32767&t}function Zs(t,n){let i=function Zh(t){return t>>16}(t),a=n;for(;i>0;)a=a[Q],i--;return a}let $c=!0;function ha(t){const n=$c;return $c=t,n}const ll=255,ko=5;let Au=0;const Jo={};function Ga(t,n){const i=za(t,n);if(-1!==i)return i;const a=n[Qt];a.firstCreatePass&&(t.injectorIndex=n.length,ea(a.data,t),ea(n,null),ea(a.blueprint,null));const d=Hc(t,n),f=t.injectorIndex;if(mc(d)){const E=ul(d),T=Zs(d,n),P=T[Qt].data;for(let B=0;B<8;B++)n[f+B]=T[E+B]|P[E+B]}return n[f+8]=d,f}function ea(t,n){t.push(0,0,0,0,0,0,0,0,n)}function za(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Hc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,d=n;for(;null!==d;){if(a=fl(d),null===a)return gc;if(i++,d=d[Q],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return gc}function Wa(t,n,i){!function Xd(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Vn)&&(a=i[Vn]),null==a&&(a=i[Vn]=Au++);const d=a&ll;n.data[t+(d>>ko)]|=1<<d}(t,n,i)}function _c(t,n,i){if(i&gn.Optional||void 0!==t)return t;Yt()}function Du(t,n,i,a){if(i&gn.Optional&&void 0===a&&(a=null),!(i&(gn.Self|gn.Host))){const d=t[Ro],f=hr(void 0);try{return d?d.get(n,a,i&gn.Optional):Er(n,a,i&gn.Optional)}finally{hr(f)}}return _c(a,0,i)}function ys(t,n,i,a=gn.Default,d){if(null!==t){if(2048&n[zn]&&!(a&gn.Self)){const E=function Ns(t,n,i,a,d){let f=t,E=n;for(;null!==f&&null!==E&&2048&E[zn]&&!(512&E[zn]);){const T=Su(f,E,i,a|gn.Self,Jo);if(T!==Jo)return T;let P=f.parent;if(!P){const B=E[Jt];if(B){const ne=B.get(i,Jo,a);if(ne!==Jo)return ne}P=fl(E),E=E[Q]}f=P}return d}(t,n,i,a,Jo);if(E!==Jo)return E}const f=Su(t,n,i,a,Jo);if(f!==Jo)return f}return Du(n,i,a,d)}function Su(t,n,i,a,d){const f=function sd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof n?n>=0?n&ll:zc:n}(i);if("function"==typeof f){if(!b(n,t,a))return a&gn.Host?_c(d,0,a):Du(n,i,a,d);try{let E;if(E=f(a),null!=E||a&gn.Optional)return E;Yt()}finally{ht()}}else if("number"==typeof f){let E=null,T=za(t,n),P=gc,B=a&gn.Host?n[H][hi]:null;for((-1===T||a&gn.SkipSelf)&&(P=-1===T?Hc(t,n):n[T+8],P!==gc&&hl(a,!1)?(E=n[Qt],T=ul(P),n=Zs(P,n)):T=-1);-1!==T;){const ne=n[Qt];if(tf(f,T,ne.data)){const ye=Yd(T,n,i,E,a,B);if(ye!==Jo)return ye}P=n[T+8],P!==gc&&hl(a,n[Qt].data[T+8]===B)&&tf(f,T,n)?(E=ne,T=ul(P),n=Zs(P,n)):T=-1}}return d}function Yd(t,n,i,a,d,f){const E=n[Qt],T=E.data[t+8],ne=dl(T,E,i,null==a?Fi(T)&&$c:a!=E&&0!=(3&T.type),d&gn.Host&&f===T);return null!==ne?Gc(n,E,ne,T):Jo}function dl(t,n,i,a,d){const f=t.providerIndexes,E=n.data,T=1048575&f,P=t.directiveStart,ne=f>>20,Ke=d?T+ne:t.directiveEnd;for(let rt=a?T:T+ne;rt<Ke;rt++){const Ot=E[rt];if(rt<P&&i===Ot||rt>=P&&Ot.type===i)return rt}if(d){const rt=E[P];if(rt&&$i(rt)&&rt.type===i)return P}return null}function Gc(t,n,i,a){let d=t[i];const f=n.data;if(function wu(t){return t instanceof Bc}(d)){const E=d;E.resolving&&function Tt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ze(-200,`Circular dependency in DI detected for ${t}${i}`)}(function nt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}(f[i]));const T=ha(E.canSeeViewProviders);E.resolving=!0;const B=E.injectImpl?hr(E.injectImpl):null;b(t,a,gn.Default);try{d=t[i]=E.factory(void 0,f,t,a),n.firstCreatePass&&i>=a.directiveStart&&function pc(t,n,i){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:f}=n.type.prototype;if(a){const E=mi(n);(i.preOrderHooks??=[]).push(t,E),(i.preOrderCheckHooks??=[]).push(t,E)}d&&(i.preOrderHooks??=[]).push(0-t,d),f&&((i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f))}(i,f[i],n)}finally{null!==B&&hr(B),ha(T),E.resolving=!1,ht()}}return d}function tf(t,n,i){return!!(i[n+(t>>ko)]&1<<t)}function hl(t,n){return!(t&gn.Self||t&gn.Host&&n)}class zo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return ys(this._tNode,this._lView,n,un(a),i)}}function zc(){return new zo(Si(),Ut())}function Pu(t){return di(()=>{const n=t.prototype.constructor,i=n[Rn]||Ka(n),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const f=d[Rn]||Ka(d);if(f&&f!==i)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Ka(t){return jt(t)?()=>{const n=Ka(vt(t));return n&&n()}:Uo(t)}function fl(t){const n=t[Qt],i=n.type;return 2===i?n.declTNode:1===i?t[hi]:null}function pl(t){return function ef(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let d=0;for(;d<a;){const f=i[d];if(Ri(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<a&&"string"==typeof i[d];)d++;else{if(f===n)return i[d+1];d+=2}}}return null}(Si(),t)}const yc="__parameters__";function ro(t,n,i){return di(()=>{const a=function Kc(t){return function(...i){if(t){const a=t(...i);for(const d in a)this[d]=a[d]}}}(n);function d(...f){if(this instanceof d)return a.apply(this,f),this;const E=new d(...f);return T.annotation=E,T;function T(P,B,ne){const ye=P.hasOwnProperty(yc)?P[yc]:Object.defineProperty(P,yc,{value:[]})[yc];for(;ye.length<=ne;)ye.push(null);return(ye[ne]=ye[ne]||[]).push(E),P}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function Ec(t,n){t.forEach(i=>Array.isArray(i)?Ec(i,n):n(i))}function nh(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ad(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ks(t,n,i){let a=Nu(t,n);return a>=0?t[1|a]=i:(a=~a,function cf(t,n,i,a){let d=t.length;if(d==n)t.push(i,a);else if(1===d)t.push(a,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function cd(t,n){const i=Nu(t,n);if(i>=0)return t[1|i]}function Nu(t,n){return function Aa(t,n,i){let a=0,d=t.length>>i;for(;d!==a;){const f=a+(d-a>>1),E=t[f<<i];if(n===E)return f<<i;E>n?d=f:a=f+1}return~(d<<i)}(t,n,1)}const Xc=An(ro("Optional"),8),qa=An(ro("SkipSelf"),4);function Tl(t){return 128==(128&t.flags)}var Al=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Al||{});const Vg=/^>|^->|<!--|-->|--!>|<!-$/g,hd=/(<|>)/g,wp="\u200b$1\u200b";const ff=new Map;let Lg=0;const hh="__ngContext__";function cs(t,n){Xr(n)?(t[hh]=n[Et],function Km(t){ff.set(t[Et],t)}(n)):t[hh]=n}let gd;function fh(t,n){return gd(t,n)}function Uu(t){const n=t[cr];return kr(n)?n[cr]:n}function jg(t){return Ef(t[go])}function yf(t){return Ef(t[ki])}function Ef(t){for(;null!==t&&!kr(t);)t=t[ki];return t}function xl(t,n,i,a,d){if(null!=a){let f,E=!1;kr(a)?f=a:Xr(a)&&(E=!0,a=a[$r]);const T=Ci(a);0===t&&null!==i?null==d?Jm(n,i,T):nu(n,i,T,d||null,!0):1===t&&null!==i?nu(n,i,T,d||null,!0):2===t?function Tf(t,n,i){const a=mh(t,n);a&&function Zm(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,T,E):3===t&&n.destroyNode(T),null!=f&&function Xg(t,n,i,a,d){const f=i[Kr];f!==Ci(i)&&xl(n,t,a,f,d);for(let T=pr;T<i.length;T++){const P=i[T];Rl(P[Qt],P,t,n,a,f)}}(n,t,f,i,d)}}function Cf(t,n){return t.createComment(function Ap(t){return t.replace(Vg,n=>n.replace(hd,wp))}(n))}function If(t,n,i){return t.createElement(n,i)}function Wg(t,n){const i=t[eo],a=i.indexOf(n);vu(n),i.splice(a,1)}function tu(t,n){if(t.length<=pr)return;const i=pr+n,a=t[i];if(a){const d=a[_e];null!==d&&d!==t&&Wg(d,a),n>0&&(t[i-1][ki]=a[ki]);const f=ad(t,pr+n);!function $g(t,n){Rl(t,n,n[Wn],2,null,null),n[$r]=null,n[hi]=null}(a[Qt],a);const E=f[Be];null!==E&&E.detachView(f[Qt]),a[cr]=null,a[ki]=null,a[zn]&=-129}return a}function ph(t,n){if(!(256&n[zn])){const i=n[Wn];n[tn]&&Va(n[tn]),n[Kn]&&Va(n[Kn]),i.destroyNode&&Rl(t,n,i,3,null,null),function zg(t){let n=t[go];if(!n)return Mp(t[Qt],t);for(;n;){let i=null;if(Xr(n))i=n[go];else{const a=n[pr];a&&(i=a)}if(!i){for(;n&&!n[ki]&&n!==t;)Xr(n)&&Mp(n[Qt],n),n=n[cr];null===n&&(n=t),Xr(n)&&Mp(n[Qt],n),i=n&&n[ki]}n=i}}(n)}}function Mp(t,n){if(!(256&n[zn])){n[zn]&=-129,n[zn]|=256,function Kg(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const d=n[i[a]];if(!(d instanceof Bc)){const f=i[a+1];if(Array.isArray(f))for(let E=0;E<f.length;E+=2){const T=d[f[E]],P=f[E+1];Ln(4,T,P);try{P.call(T)}finally{Ln(5,T,P)}}else{Ln(4,d,f);try{f.call(d)}finally{Ln(5,d,f)}}}}}(t,n),function Op(t,n){const i=t.cleanup,a=n[Eo];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const E=i[f+3];E>=0?a[E]():a[-E].unsubscribe(),f+=2}else i[f].call(a[i[f+1]]);null!==a&&(n[Eo]=null);const d=n[_n];if(null!==d){n[_n]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(t,n),1===n[Qt].type&&n[Wn].destroy();const i=n[_e];if(null!==i&&kr(n[cr])){i!==n[cr]&&Wg(i,n);const a=n[Be];null!==a&&a.detachView(t)}!function qm(t){ff.delete(t[Et])}(n)}}function gh(t,n,i){return function _d(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[$r];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:f}=t.data[a.directiveStart+d];if(f===Li.None||f===Li.Emulated)return null}return $o(a,i)}}(t,n.parent,i)}function nu(t,n,i,a,d){t.insertBefore(n,i,a,d)}function Jm(t,n,i){t.appendChild(n,i)}function vd(t,n,i,a,d){null!==a?nu(t,n,i,a,d):Jm(t,n,i)}function mh(t,n){return t.parentNode(n)}let _h,Df,Sf,Pa,Fp=function ru(t,n,i){return 40&t.type?$o(t,i):null};function vh(t,n,i,a){const d=gh(t,a,n),f=n[Wn],T=function kp(t,n,i){return Fp(t,n,i)}(a.parent||n[hi],a,n);if(null!=d)if(Array.isArray(i))for(let P=0;P<i.length;P++)vd(f,d,i[P],T,!1);else vd(f,d,i,T,!1);void 0!==_h&&_h(f,a,n,i,d)}function yd(t,n){if(null!==n){const i=n.type;if(3&i)return $o(n,t);if(4&i)return yh(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return yd(t,a);{const d=t[n.index];return kr(d)?yh(-1,d):Ci(d)}}if(32&i)return fh(n,t)()||Ci(t[n.index]);{const a=e_(t,n);return null!==a?Array.isArray(a)?a[0]:yd(Uu(t[H]),a):yd(t,n.next)}}return null}function e_(t,n){return null!==n?t[H][hi].projection[n.projection]:null}function yh(t,n){const i=pr+t+1;if(i<n.length){const a=n[i],d=a[Qt].firstChild;if(null!==d)return yd(a,d)}return n[Kr]}function Eh(t,n,i,a,d,f,E){for(;null!=i;){const T=a[i.index],P=i.type;if(E&&0===n&&(T&&cs(Ci(T),a),i.flags|=2),32!=(32&i.flags))if(8&P)Eh(t,n,i.child,a,d,f,!1),xl(n,t,d,T,f);else if(32&P){const B=fh(i,a);let ne;for(;ne=B();)xl(n,t,d,ne,f);xl(n,t,d,T,f)}else 16&P?Vp(t,n,a,i,d,f):xl(n,t,d,T,f);i=E?i.projectionNext:i.next}}function Rl(t,n,i,a,d,f){Eh(i,a,t.firstChild,n,d,f,!1)}function Vp(t,n,i,a,d,f){const E=i[H],P=E[hi].projection[a.projection];if(Array.isArray(P))for(let B=0;B<P.length;B++)xl(n,t,d,P[B],f);else{let B=P;const ne=E[cr];Tl(a)&&(B.flags|=128),Eh(t,n,B,ne,d,f,!0)}}function Tc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Af(t,n,i){const{mergedAttrs:a,classes:d,styles:f}=i;null!==a&&Nr(t,n,a),null!==d&&Tc(t,n,d),null!==f&&function Lp(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}function Ed(t){return function Ch(){if(void 0===Df&&(Df=null,Bn.trustedTypes))try{Df=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Df}()?.createHTML(t)||t}function Ih(t){Sf=t}function Ol(){if(void 0!==Sf)return Sf;if(typeof document<"u")return document;throw new ze(210,!1)}function bh(){if(void 0===Pa&&(Pa=null,Bn.trustedTypes))try{Pa=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pa}function Cd(t){return bh()?.createHTML(t)||t}function $p(t){return bh()?.createScriptURL(t)||t}class Nl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class Th extends Nl{getTypeName(){return"HTML"}}class r_ extends Nl{getTypeName(){return"Style"}}class Hp extends Nl{getTypeName(){return"Script"}}class Pf extends Nl{getTypeName(){return"URL"}}class xf extends Nl{getTypeName(){return"ResourceURL"}}function Ya(t){return t instanceof Nl?t.changingThisBreaksApplicationSecurity:t}function Qa(t,n){const i=function Id(t){return t instanceof Nl&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Je})`)}return i===n}function Gp(t){return new Th(t)}function i_(t){return new r_(t)}function pa(t){return new Hp(t)}function Yg(t){return new Pf(t)}function Rf(t){return new xf(t)}class o_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ed(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class s_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Ed(n),i}}const Mf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bd(t){return(t=String(t)).match(Mf)?t:"unsafe:"+t}function Ja(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function ju(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Td=Ja("area,br,col,hr,img,wbr"),kl=Ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Of=Ja("rp,rt"),Bu=ju(Td,ju(kl,Ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ju(Of,Ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ju(Of,kl)),Ah=Ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fl=ju(Ah,Ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wp=Ja("script,style,template");class u_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Bu.hasOwnProperty(i))return this.sanitizedSomething=!0,!Wp.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let d=0;d<a.length;d++){const f=a.item(d),E=f.name,T=E.toLowerCase();if(!Fl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let P=f.value;Ah[T]&&(P=bd(P)),this.buf.push(" ",E,'="',Kp(P),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Bu.hasOwnProperty(i)&&!Td.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Kp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const l_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d_=/([^\#-~ |!])/g;function Kp(t){return t.replace(/&/g,"&amp;").replace(l_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(d_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nf;function qp(t,n){let i=null;try{Nf=Nf||function Qg(t){const n=new s_(t);return function a_(){try{return!!(new window.DOMParser).parseFromString(Ed(""),"text/html")}catch{return!1}}()?new o_(n):n}(t);let a=n?String(n):"";i=Nf.getInertBodyElement(a);let d=5,f=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=f,f=i.innerHTML,i=Nf.getInertBodyElement(a)}while(a!==f);return Ed((new u_).sanitizeChildren(Xp(i)||i))}finally{if(i){const a=Xp(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Xp(t){return"content"in t&&function h_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Vl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vl||{});function Zg(t){const n=Dr();return n?Cd(n.sanitize(Vl.HTML,t)||""):Qa(t,"HTML")?Cd(Ya(t)):qp(Ol(),Ye(t))}function Yp(t){const n=Dr();return n?n.sanitize(Vl.URL,t)||"":Qa(t,"URL")?Ya(t):bd(Ye(t))}function em(t){const n=Dr();if(n)return $p(n.sanitize(Vl.RESOURCE_URL,t)||"");if(Qa(t,"ResourceURL"))return $p(Ya(t));throw new ze(904,!1)}function Jp(t,n,i){return function rm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?em:Yp}(n,i)(t)}function Dr(){const t=Ut();return t&&t[Mo].sanitizer}const wd=new cn("ENVIRONMENT_INITIALIZER"),kf=new cn("INJECTOR",-1),Ad=new cn("INJECTOR_DEF_TYPES");class Ff{get(n,i=Ct){if(i===Ct){const a=new Error(`NullInjectorError: No provider for ${ge(n)}!`);throw a.name="NullInjectorError",a}return i}}function Zo(t){return{\u0275providers:t}}function lo(...t){return{\u0275providers:Za(0,t),\u0275fromNgModule:!0}}function Za(t,...n){const i=[],a=new Set;let d;const f=E=>{i.push(E)};return Ec(n,E=>{const T=E;$u(T,f,[],a)&&(d||=[],d.push(T))}),void 0!==d&&Vf(d,f),i}function Vf(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:d}=t[i];Dh(d,f=>{n(f,a)})}}function $u(t,n,i,a){if(!(t=vt(t)))return!1;let d=null,f=Vr(t);const E=!f&&Yn(t);if(f||E){if(E&&!E.standalone)return!1;d=t}else{const P=t.ngModule;if(f=Vr(P),!f)return!1;d=P}const T=a.has(d);if(E){if(T)return!1;if(a.add(d),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const B of P)$u(B,n,i,a)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let B;a.add(d);try{Ec(f.imports,ne=>{$u(ne,n,i,a)&&(B||=[],B.push(ne))})}finally{}void 0!==B&&Vf(B,n)}if(!T){const B=Uo(d)||(()=>new d);n({provide:d,useFactory:B,deps:or},d),n({provide:Ad,useValue:d,multi:!0},d),n({provide:wd,useValue:()=>Nt(d),multi:!0},d)}const P=f.providers;if(null!=P&&!T){const B=t;Dh(P,ne=>{n(ne,B)})}}}return d!==t&&void 0!==t.providers}function Dh(t,n){for(let i of t)xt(i)&&(i=i.\u0275providers),Array.isArray(i)?Dh(i,n):n(i)}const Sh=te({provide:String,useValue:te});function Ph(t){return null!==t&&"object"==typeof t&&Sh in t}function Hu(t){return"function"==typeof t}const om=new cn("Set Injector scope."),Uf={},ho={};let jf;function Bf(){return void 0===jf&&(jf=new Ff),jf}class wc{}class Ll extends wc{get destroyed(){return this._destroyed}constructor(n,i,a,d){super(),this.parent=i,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ul(n,E=>this.processProvider(E)),this.records.set(kf,To(void 0,this)),d.has("environment")&&this.records.set(wc,To(void 0,this));const f=this.records.get(om);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Ad.multi,or,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Ve(this),a=hr(void 0);try{return n()}finally{Ve(i),hr(a)}}get(n,i=Ct,a=gn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Nn))return n[Nn](this);a=un(a);const f=Ve(this),E=hr(void 0);try{if(!(a&gn.SkipSelf)){let P=this.records.get(n);if(void 0===P){const B=function m_(t){return"function"==typeof t||"object"==typeof t&&t instanceof cn}(n)&&Tn(n);P=B&&this.injectableDefInScope(B)?To(tg(n),Uf):null,this.records.set(n,P)}if(null!=P)return this.hydrate(n,P)}return(a&gn.Self?Bf():this.parent).get(n,i=a&gn.Optional&&i===Ct?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[Fn]=T[Fn]||[]).unshift(ge(n)),f)throw T;return function Tr(t,n,i,a){const d=t[Fn];throw n[V]&&d.unshift(n[V]),t.message=function Ko(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=ge(n);if(Array.isArray(n))d=n.map(ge).join(" -> ");else if("object"==typeof n){let f=[];for(let E in n)if(n.hasOwnProperty(E)){let T=n[E];f.push(E+":"+("string"==typeof T?JSON.stringify(T):ge(T)))}d=`{${f.join(", ")}}`}return`${i}${a?"("+a+")":""}[${d}]: ${t.replace(ee,"\n  ")}`}("\n"+t.message,d,i,a),t.ngTokenPath=d,t[Fn]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{hr(E),Ve(f)}}resolveInjectorInitializers(){const n=Ve(this),i=hr(void 0);try{const d=this.get(wd.multi,or,gn.Self);for(const f of d)f()}finally{Ve(n),hr(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(ge(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(n){let i=Hu(n=vt(n))?n:vt(n&&n.provide);const a=function sm(t){return Ph(t)?To(void 0,t.useValue):To(ou(t),Uf)}(n);if(Hu(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=To(void 0,Uf,!0),d.factory=()=>ir(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===Uf&&(i.value=ho,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ng(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=vt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function tg(t){const n=Tn(t),i=null!==n?n.factory:Uo(t);if(null!==i)return i;if(t instanceof cn)throw new ze(204,!1);if(t instanceof Function)return function g_(t){const n=t.length;if(n>0)throw function Ou(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(n,"?"),new ze(204,!1);const i=function Vt(t){return t&&(t[hn]||t[Gn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ze(204,!1)}function ou(t,n,i){let a;if(Hu(t)){const d=vt(t);return Uo(d)||tg(d)}if(Ph(t))a=()=>vt(t.useValue);else if(function im(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ir(t.deps||[]));else if(function Lf(t){return!(!t||!t.useExisting)}(t))a=()=>Nt(vt(t.useExisting));else{const d=vt(t&&(t.useClass||t.provide));if(!function Dd(t){return!!t.deps}(t))return Uo(d)||tg(d);a=()=>new d(...ir(t.deps))}return a}function To(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Ul(t,n){for(const i of t)Array.isArray(i)?Ul(i,n):i&&xt(i)?Ul(i.\u0275providers,n):n(i)}const $f=new cn("AppId",{providedIn:"root",factory:()=>Gu}),Gu="ng",su=new cn("Platform Initializer"),am=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uv=new cn("CSP nonce",{providedIn:"root",factory:()=>Ol().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Md=(t,n,i)=>null;function Mh(t,n,i=!1){return Md(t,n,i)}class _y{}class mv{}class _v{resolveComponentFactory(n){throw function hm(t){const n=Error(`No component factory found for ${ge(t)}.`);return n.ngComponent=t,n}(n)}}let sg=(()=>{class t{static#e=this.NULL=new _v}return t})();function ag(){return kh(Si(),Ut())}function kh(t,n){return new Kf($o(t,n))}let Kf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=ag}return t})();function cg(t){return t instanceof Kf?t.nativeElement:t}class E_{}let vv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function C_(){const t=Ut(),i=Mr(Si().index,t);return(Xr(i)?i:t)[Wn]}()}return t})(),I_=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>null})}return t})();class pm{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const gm=new pm("16.2.12"),ug={};function Hl(t,n=null,i=null,a){const d=A_(t,n,i,a);return d.resolveInjectorInitializers(),d}function A_(t,n=null,i=null,a,d=new Set){const f=[i||or,lo(t)];return a=a||("object"==typeof t?void 0:ge(t)),new Ll(f,n||Bf(),a||null,d)}let Dc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ct;static#t=this.NULL=new Ff;static create(i,a){if(Array.isArray(i))return Hl({name:""},a,i,"");{const d=i.name??"";return Hl({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=En({token:t,providedIn:"any",factory:()=>Nt(kf)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function mm(t){return t.ngOriginalError}class Gl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&mm(n);for(;i&&mm(i);)i=mm(i);return i||null}}function _m(t){return n=>{setTimeout(t,void 0,n)}}const cu=class Iv extends c.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let d=n,f=i||(()=>null),E=a;if(n&&"object"==typeof n){const P=n;d=P.next?.bind(P),f=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(f=_m(f),d&&(d=_m(d)),E&&(E=_m(E)));const T=super.subscribe({next:d,error:f,complete:E});return n instanceof ue.yU&&n.add(T),T}};function S_(...t){}class fo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cu(!1),this.onMicrotaskEmpty=new cu(!1),this.onStable=new cu(!1),this.onError=new cu(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&i,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function P_(){const t="function"==typeof Bn.requestAnimationFrame;let n=Bn[t?"requestAnimationFrame":"setTimeout"],i=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function R_(t){const n=()=>{!function fg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pg(t),t.isCheckStableRunning=!0,x_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,d,f,E,T)=>{if(function Cy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(d,f,E,T);try{return ym(t),i.invokeTask(d,f,E,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),Em(t)}},onInvoke:(i,a,d,f,E,T,P)=>{try{return ym(t),i.invoke(d,f,E,T,P)}finally{t.shouldCoalesceRunChangeDetection&&n(),Em(t)}},onHasTask:(i,a,d,f)=>{i.hasTask(d,f),a===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,pg(t),x_(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,a,d,f)=>(i.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fo.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(fo.isInAngularZone())throw new ze(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,d){const f=this._inner,E=f.scheduleEventTask("NgZoneEvent: "+d,n,hg,S_,S_);try{return f.runTask(E,i,a)}finally{f.cancelTask(E)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const hg={};function x_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ym(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Em(t){t._nesting--,x_(t)}class bv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cu,this.onMicrotaskEmpty=new cu,this.onStable=new cu,this.onError=new cu}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,d){return n.apply(i,a)}}const M_=new cn("",{providedIn:"root",factory:Tv});function Tv(){const t=on(fo);let n=!0;const i=new o.c(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),a=new o.c(d=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{fo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const E=t.onUnstable.subscribe(()=>{fo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),E.unsubscribe()}});return(0,be.h)(i,a.pipe((0,Ne.u)()))}function Ku(t){return t instanceof Function?t():t}let Cm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xf(t){for(;t;){t[zn]|=64;const n=Uu(t);if(ya(t)&&!n)return t;t=n}return null}const Sv=new cn("",{providedIn:"root",factory:()=>!1});let Vh=null;function Yf(t,n){return t[n]??s()}function u(t,n){const i=s();i.producerNode?.length&&(t[n]=Vh,i.lView=t,Vh=r())}const e={...kc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xf(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Vh??=r(),Vh}const l={};function p(t){y(gr(),Ut(),wr()+t,!1)}function y(t,n,i,a){if(!a)if(3==(3&n[zn])){const f=t.preOrderCheckHooks;null!==f&&Ta(n,f,i)}else{const f=t.preOrderHooks;null!==f&&Qs(n,f,0,i)}br(i)}function D(t,n=gn.Default){const i=Ut();return null===i?Nt(t,n):ys(Si(),i,vt(t),n)}function N(){throw new Error("invalid")}function ie(t,n,i,a,d,f,E,T,P,B,ne){const ye=n.blueprint.slice();return ye[$r]=d,ye[zn]=140|a,(null!==B||t&&2048&t[zn])&&(ye[zn]|=2048),ca(ye),ye[cr]=ye[Q]=t,ye[Hr]=i,ye[Mo]=E||t&&t[Mo],ye[Wn]=T||t&&t[Wn],ye[Ro]=P||t&&t[Ro]||null,ye[hi]=f,ye[Et]=function Ug(){return Lg++}(),ye[kt]=ne,ye[Jt]=B,ye[H]=2==n.type?t[H]:ye,ye}function fe(t,n,i,a,d){let f=t.data[n];if(null===f)f=function ke(t,n,i,a,d){const f=Xi(),E=hc(),P=t.data[n]=function ot(t,n,i,a,d,f){let E=n?n.injectorIndex:-1,T=0;return function ua(){return null!==rr.skipHydrationRootTNode}()&&(T|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?f:f&&f.parent,i,n,a,d);return null===t.firstChild&&(t.firstChild=P),null!==f&&(E?null==f.child&&null!==P.parent&&(f.child=P):null===f.next&&(f.next=P,P.prev=f)),P}(t,n,i,a,d),function Kd(){return rr.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=a,f.attrs=d;const E=function Hn(){const t=rr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===E?-1:E.injectorIndex}return bo(f,!0),f}function ut(t,n,i,a){if(0===i)return-1;const d=n.length;for(let f=0;f<i;f++)n.push(a),t.blueprint.push(a),t.data.push(null);return d}function $t(t,n,i,a,d){const f=Yf(n,tn),E=wr(),T=2&a;try{br(-1),T&&n.length>Dn&&y(t,n,Dn,!1),Ln(T?2:0,d);const B=T?f:null,ne=sr(B);try{null!==B&&(B.dirty=!1),i(a,d)}finally{oc(B,ne)}}finally{T&&null===n[tn]&&u(n,tn),br(E),Ln(T?3:1,d)}}function nn(t,n,i){if(gs(n)){const a=no(null);try{const f=n.directiveEnd;for(let E=n.directiveStart;E<f;E++){const T=t.data[E];T.contentQueries&&T.contentQueries(1,i[E],E)}}finally{no(a)}}}function qt(t,n,i){zi()&&(function kv(t,n,i,a){const d=i.directiveStart,f=i.directiveEnd;Fi(i)&&function Eg(t,n,i){const a=$o(n,t),d=Qn(i);let E=16;i.signals?E=4096:i.onPush&&(E=64);const T=Ld(t,ie(t,d,null,E,a,n,null,t[Mo].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=T}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||Ga(i,n),cs(a,n);const E=i.initialInputs;for(let T=d;T<f;T++){const P=t.data[T],B=Gc(n,t,T,i);cs(B,n),null!==E&&tp(0,T-d,B,P,0,E),$i(P)&&(Mr(i.index,n)[Hr]=Gc(n,t,T,i))}}(t,n,i,$o(i,n)),64==(64&i.flags)&&Lh(t,n,i))}function kn(t,n,i=$o){const a=n.localNames;if(null!==a){let d=n.index+1;for(let f=0;f<a.length;f+=2){const E=a[f+1],T=-1===E?i(n,t):t[E];t[d++]=T}}}function Qn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Un(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Un(t,n,i,a,d,f,E,T,P,B,ne){const ye=Dn+a,Ke=ye+d,rt=function Sr(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:l);return i}(ye,Ke),Ot="function"==typeof B?B():B;return rt[Qt]={type:t,blueprint:rt,template:i,queries:null,viewQuery:T,declTNode:n,data:rt.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:Ot,incompleteFirstPass:!1,ssrId:ne}}let et=t=>null;function gt(t,n,i,a){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const f=t[d];null===a?je(i,n,d,f):a.hasOwnProperty(d)&&je(i,n,a[d],f)}return i}function je(t,n,i,a){t.hasOwnProperty(i)?t[i].push(n,a):t[i]=[n,a]}function xa(t,n,i,a,d,f,E,T){const P=$o(n,i);let ne,B=n.inputs;!T&&null!=B&&(ne=B[a])?(Ts(t,i,ne,a,d),Fi(n)&&function Jf(t,n){const i=Mr(n,t);16&i[zn]||(i[zn]|=64)}(i,n.index)):3&n.type&&(a=function Qf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=E?E(d,n.value||"",a):d,f.setProperty(P,a,d))}function mg(t,n,i,a){if(zi()){const d=null===a?null:{"":-1},f=function ep(t,n){const i=t.directiveRegistry;let a=null,d=null;if(i)for(let f=0;f<i.length;f++){const E=i[f];if(vr(n,E.selectors,!1))if(a||(a=[]),$i(E))if(null!==E.findHostDirectiveDefs){const T=[];d=d||new Map,E.findHostDirectiveDefs(E,T,d),a.unshift(...T,E),Im(t,n,T.length)}else a.unshift(E),Im(t,n,0);else d=d||new Map,E.findHostDirectiveDefs?.(E,a,d),a.push(E)}return null===a?null:[a,d]}(t,i);let E,T;null===f?E=T=null:[E,T]=f,null!==E&&U_(t,n,i,E,d,T),d&&function Vv(t,n,i){if(n){const a=t.localNames=[];for(let d=0;d<n.length;d+=2){const f=i[n[d+1]];if(null==f)throw new ze(-301,!1);a.push(n[d],f)}}}(i,a,d)}i.mergedAttrs=Pr(i.mergedAttrs,i.attrs)}function U_(t,n,i,a,d,f){for(let B=0;B<a.length;B++)Wa(Ga(i,n),t,a[B].type);!function vg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let B=0;B<a.length;B++){const ne=a[B];ne.providersResolver&&ne.providersResolver(ne)}let E=!1,T=!1,P=ut(t,n,a.length,null);for(let B=0;B<a.length;B++){const ne=a[B];i.mergedAttrs=Pr(i.mergedAttrs,ne.hostAttrs),yg(t,i,n,P,ne),_g(P,ne,d),null!==ne.contentQueries&&(i.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(i.flags|=64);const ye=ne.type.prototype;!E&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),E=!0),!T&&(ye.ngOnChanges||ye.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),P++}!function qu(t,n,i){const d=n.directiveEnd,f=t.data,E=n.attrs,T=[];let P=null,B=null;for(let ne=n.directiveStart;ne<d;ne++){const ye=f[ne],Ke=i?i.get(ye):null,Ot=Ke?Ke.outputs:null;P=gt(ye.inputs,ne,P,Ke?Ke.inputs:null),B=gt(ye.outputs,ne,B,Ot);const Zt=null===P||null===E||yi(n)?null:j_(P,ne,E);T.push(Zt)}null!==P&&(P.hasOwnProperty("class")&&(n.flags|=8),P.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=P,n.outputs=B}(t,i,f)}function Lh(t,n,i){const a=i.directiveStart,d=i.directiveEnd,f=i.index,E=function Tu(){return rr.lFrame.currentDirectiveIndex}();try{br(f);for(let T=a;T<d;T++){const P=t.data[T],B=n[T];nd(T),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Fv(P,B)}}finally{br(-1),nd(E)}}function Fv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Im(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function _g(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;$i(n)&&(i[""]=t)}}function yg(t,n,i,a,d){t.data[a]=d;const f=d.factory||(d.factory=Uo(d.type)),E=new Bc(f,$i(d),D);t.blueprint[a]=E,i[a]=E,function Wl(t,n,i,a,d){const f=d.hostBindings;if(f){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const T=~n.index;(function Vs(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(E)!=T&&E.push(T),E.push(i,a,f)}}(t,n,a,ut(t,i,d.hostVars,l),d)}function Ra(t,n,i,a,d,f){const E=$o(t,n);!function Uh(t,n,i,a,d,f,E){if(null==f)t.removeAttribute(n,d,i);else{const T=null==E?Ye(f):E(f,a||"",d);t.setAttribute(n,d,T,i)}}(n[Wn],E,f,t.value,i,a,d)}function tp(t,n,i,a,d,f){const E=f[n];if(null!==E)for(let T=0;T<E.length;)np(a,i,E[T++],E[T++],E[T++])}function np(t,n,i,a,d){const f=no(null);try{const E=t.inputTransforms;null!==E&&E.hasOwnProperty(a)&&(d=E[a].call(n,d)),null!==t.setInput?t.setInput(n,d,i,a):n[a]=d}finally{no(f)}}function j_(t,n,i){let a=null,d=0;for(;d<i.length;){const f=i[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===a&&(a=[]);const E=t[f];for(let T=0;T<E.length;T+=2)if(E[T]===n){a.push(f,E[T+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function bm(t,n,i,a){return[t,!0,!1,n,null,0,a,i,null,null,null]}function jh(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const f=i[a+1];if(-1!==f){const E=t.data[f];w(i[a]),E.contentQueries(2,n[f],f)}}}function Ld(t,n){return t[go]?t[pi][ki]=n:t[go]=n,t[pi]=n,n}function rp(t,n,i){w(0);const a=no(null);try{n(t,i)}finally{no(a)}}function ip(t){return t[Eo]||(t[Eo]=[])}function op(t){return t.cleanup||(t.cleanup=[])}function bs(t,n){const i=t[Ro],a=i?i.get(Gl,null):null;a&&a.handleError(n)}function Ts(t,n,i,a,d){for(let f=0;f<i.length;){const E=i[f++],T=i[f++];np(t.data[E],n[E],a,T,d)}}function ec(t,n,i){const a=Rs(n,t);!function Bg(t,n,i){t.setValue(n,i)}(t[Wn],a,i)}function B_(t,n){const i=Mr(n,t),a=i[Qt];!function $_(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const d=i[$r];null!==d&&null===i[kt]&&(i[kt]=Mh(d,i[Ro])),Tm(a,i,i[Hr])}function Tm(t,n,i){R(n);try{const a=t.viewQuery;null!==a&&rp(1,a,i);const d=t.template;null!==d&&$t(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jh(t,n),t.staticViewQueries&&rp(2,t.viewQuery,i);const f=t.components;null!==f&&function ap(t,n){for(let i=0;i<n.length;i++)B_(t,n[i])}(n,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[zn]&=-5,lt()}}let wm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,a,d){const f=typeof Zone>"u"?null:Zone.current,E=function Rt(t,n,i){const a=Object.create(Rr);i&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const d=E=>{a.cleanupFn=E};return a.ref={notify:()=>Ps(a),run:()=>{if(a.dirty=!1,a.hasRun&&!sc(a))return;a.hasRun=!0;const E=sr(a);try{a.cleanupFn(),a.cleanupFn=In,a.fn(d)}finally{oc(a,E)}},cleanup:()=>a.cleanupFn()},a.ref}(i,B=>{this.all.has(B)&&this.queue.set(B,f)},d);let T;this.all.add(E),E.notify();const P=()=>{E.cleanup(),T?.(),this.all.delete(E),this.queue.delete(E)};return T=a?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[i,a]of this.queue)this.queue.delete(i),a?a.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:()=>new t})}return t})();function Bh(t,n,i){let a=i?t.styles:null,d=i?t.classes:null,f=0;if(null!==n)for(let E=0;E<n.length;E++){const T=n[E];"number"==typeof T?f=T:1==f?d=st(d,T):2==f&&(a=st(a,T+": "+n[++E]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=d:t.classesWithoutHost=d}function cp(t,n,i,a,d=!1){for(;null!==i;){const f=n[i.index];null!==f&&a.push(Ci(f)),kr(f)&&H_(f,a);const E=i.type;if(8&E)cp(t,n,i.child,a);else if(32&E){const T=fh(i,n);let P;for(;P=T();)a.push(P)}else if(16&E){const T=e_(n,i);if(Array.isArray(T))a.push(...T);else{const P=Uu(n[H]);cp(P[Qt],P,T,a,!0)}}i=d?i.projectionNext:i.next}return a}function H_(t,n){for(let i=pr;i<t.length;i++){const a=t[i],d=a[Qt].firstChild;null!==d&&cp(a[Qt],a,d,n)}t[Kr]!==t[$r]&&n.push(t[Kr])}function $h(t,n,i,a=!0){const d=n[Mo],f=d.rendererFactory,E=d.afterRenderEventManager;f.begin?.(),E?.begin();try{Hh(t,n,t.template,i)}catch(P){throw a&&bs(n,P),P}finally{f.end?.(),d.effectManager?.flush(),E?.end()}}function Hh(t,n,i,a){const d=n[zn];if(256!=(256&d)){n[Mo].effectManager?.flush(),R(n);try{ca(n),function Ba(t){return rr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&$t(t,n,i,2,a);const E=3==(3&d);if(E){const B=t.preOrderCheckHooks;null!==B&&Ta(n,B,null)}else{const B=t.preOrderHooks;null!==B&&Qs(n,B,0,null),Js(n,0)}if(function Ig(t){for(let n=jg(t);null!==n;n=yf(n)){if(!n[gi])continue;const i=n[eo];for(let a=0;a<i.length;a++){_u(i[a])}}}(n),Cg(n,2),null!==t.contentQueries&&jh(t,n),E){const B=t.contentCheckHooks;null!==B&&Ta(n,B)}else{const B=t.contentHooks;null!==B&&Qs(n,B,1),Js(n,1)}!function z(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const a=Yf(n,Kn);try{for(let d=0;d<i.length;d++){const f=i[d];if(f<0)br(~f);else{const E=f,T=i[++d],P=i[++d];fc(T,E),a.dirty=!1;const B=sr(a);try{P(2,n[E])}finally{oc(a,B)}}}}finally{null===n[Kn]&&u(n,Kn),br(-1)}}(t,n);const T=t.components;null!==T&&Gh(n,T,0);const P=t.viewQuery;if(null!==P&&rp(2,P,a),E){const B=t.viewCheckHooks;null!==B&&Ta(n,B)}else{const B=t.viewHooks;null!==B&&Qs(n,B,2),Js(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[zn]&=-73,vu(n)}finally{lt()}}}function Cg(t,n){for(let i=jg(t);null!==i;i=yf(i))for(let a=pr;a<i.length;a++)bg(i[a],n)}function Kl(t,n,i){bg(Mr(n,t),i)}function bg(t,n){if(!function Vc(t){return 128==(128&t[zn])}(t))return;const i=t[Qt],a=t[zn];if(80&a&&0===n||1024&a||2===n)Hh(i,t,i.template,t[Hr]);else if(t[xo]>0){Cg(t,1);const d=i.components;null!==d&&Gh(t,d,1)}}function Gh(t,n,i){for(let a=0;a<n.length;a++)Kl(t,n[a],i)}class Ud{get rootNodes(){const n=this._lView,i=n[Qt];return cp(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hr]}set context(n){this._lView[Hr]=n}get destroyed(){return 256==(256&this._lView[zn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[cr];if(kr(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(tu(n,a),ad(i,a))}this._attachedToViewContainer=!1}ph(this._lView[Qt],this._lView)}onDestroy(n){!function nl(t,n){if(256==(256&t[zn]))throw new ze(911,!1);null===t[_n]&&(t[_n]=[]),t[_n].push(n)}(this._lView,n)}markForCheck(){Xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[zn]&=-129}reattach(){this._lView[zn]|=128}detectChanges(){$h(this._lView[Qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gg(t,n){Rl(t,n,n[Wn],2,null,null)}(this._lView[Qt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=n}}class C extends Ud{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;$h(n[Qt],n,n[Hr],!1)}checkNoChanges(){}get context(){return null}}class g extends sg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Yn(n);return new pe(i,this.ngModule)}}function m(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class q{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=un(a);const d=this.injector.get(n,ug,a);return d!==ug||i===ug?d:this.parentInjector.get(n,i,a)}}class pe extends mv{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=m(n.inputs);if(null!==i)for(const d of a)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return a}get outputs(){return m(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function oo(t){return t.map(qi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,d){let f=(d=d||this.ngModule)instanceof wc?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const E=f?new q(n,f):n,T=E.get(E_,null);if(null===T)throw new ze(407,!1);const ye={rendererFactory:T,sanitizer:E.get(I_,null),effectManager:E.get(wm,null),afterRenderEventManager:E.get(Cm,null)},Ke=T.createRenderer(null,this.componentDef),rt=this.componentDef.selectors[0][0]||"div",Ot=a?function Pi(t,n,i,a){const f=a.get(Sv,!1)||i===Li.ShadowDom,E=t.selectRootElement(n,f);return function Qr(t){et(t)}(E),E}(Ke,a,this.componentDef.encapsulation,E):If(Ke,rt,function M(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(rt)),tr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Xt=null;null!==Ot&&(Xt=Mh(Ot,E,!0));const Or=Un(0,null,null,1,0,null,null,null,null,null,null),li=ie(null,Or,null,tr,null,null,ye,Ke,E,null,Xt);let io,Nc;R(li);try{const Yh=this.componentDef;let Wm,vE=null;Yh.findHostDirectiveDefs?(Wm=[],vE=new Map,Yh.findHostDirectiveDefs(Yh,Wm,vE),Wm.push(Yh)):Wm=[Yh];const GA=function _t(t,n){const i=t[Qt],a=Dn;return t[a]=n,fe(i,a,2,"#host",null)}(li,Ot),zA=function wt(t,n,i,a,d,f,E){const T=d[Qt];!function bn(t,n,i,a){for(const d of t)n.mergedAttrs=Pr(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Bh(n,n.mergedAttrs,!0),null!==i&&Af(a,i,n))}(a,t,n,E);let P=null;null!==n&&(P=Mh(n,d[Ro]));const B=f.rendererFactory.createRenderer(n,i);let ne=16;i.signals?ne=4096:i.onPush&&(ne=64);const ye=ie(d,Qn(i),null,ne,d[t.index],t,f,B,null,null,P);return T.firstCreatePass&&Im(T,t,a.length-1),Ld(d,ye),d[t.index]=ye}(GA,Ot,Yh,Wm,li,ye,Ke);Nc=el(Or,Dn),Ot&&function Jn(t,n,i,a){if(a)Nr(t,i,["ng-version",gm.full]);else{const{attrs:d,classes:f}=function na(t){const n=[],i=[];let a=1,d=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===d?""!==f&&n.push(f,t[++a]):8===d&&i.push(f);else{if(!Ai(d))break;d=f}a++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Nr(t,i,d),f&&f.length>0&&Tc(t,i,f.join(" "))}}(Ke,Yh,Ot,a),void 0!==i&&function ar(t,n,i){const a=t.projection=[];for(let d=0;d<n.length;d++){const f=i[d];a.push(null!=f?Array.from(f):null)}}(Nc,this.ngContentSelectors,i),io=function sn(t,n,i,a,d,f){const E=Si(),T=d[Qt],P=$o(E,d);U_(T,d,E,i,null,a);for(let ne=0;ne<i.length;ne++)cs(Gc(d,T,E.directiveStart+ne,E),d);Lh(T,d,E),P&&cs(P,d);const B=Gc(d,T,E.directiveStart+E.componentOffset,E);if(t[Hr]=d[Hr]=B,null!==f)for(const ne of f)ne(B,n);return nn(T,E,t),B}(zA,Yh,Wm,vE,li,[lr]),Tm(Or,li,null)}finally{lt()}return new Se(this.componentType,io,kh(Nc,li),li,Nc)}}class Se extends _y{constructor(n,i,a,d,f){super(),this.location=a,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new C(d),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;Ts(f[Qt],f,d,n,i),this.previousInputValues.set(n,i),Xf(Mr(this._tNode.index,f))}}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function lr(){const t=Si();jc(Ut()[Qt],t)}function Pn(t){let n=function ui(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let d;if($i(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ze(903,!1);d=n.\u0275dir}if(d){if(i){a.push(d);const E=t;E.inputs=si(t.inputs),E.inputTransforms=si(t.inputTransforms),E.declaredInputs=si(t.declaredInputs),E.outputs=si(t.outputs);const T=d.hostBindings;T&&Fr(t,T);const P=d.viewQuery,B=d.contentQueries;if(P&&Wi(t,P),B&&Jr(t,B),ce(t.inputs,d.inputs),ce(t.declaredInputs,d.declaredInputs),ce(t.outputs,d.outputs),null!==d.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),ce(E.inputTransforms,d.inputTransforms)),$i(d)&&d.data.animation){const ne=t.data;ne.animation=(ne.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let E=0;E<f.length;E++){const T=f[E];T&&T.ngInherit&&T(t),T===Pn&&(i=!1)}}n=Object.getPrototypeOf(n)}!function er(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=n+=d.hostVars,d.hostAttrs=Pr(d.hostAttrs,i=Pr(i,d.hostAttrs))}}(a)}function si(t){return t===ai?{}:t===or?[]:t}function Wi(t,n){const i=t.viewQuery;t.viewQuery=i?(a,d)=>{n(a,d),i(a,d)}:n}function Jr(t,n){const i=t.contentQueries;t.contentQueries=i?(a,d,f)=>{n(a,d,f),i(a,d,f)}:n}function Fr(t,n){const i=t.hostBindings;t.hostBindings=i?(a,d)=>{n(a,d),i(a,d)}:n}function uu(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const d=n[a];Array.isArray(d)&&d[2]&&(i[a]=d[2])}t.inputTransforms=i}function us(t){return!!Sc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Sc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oa(t,n,i){return t[n]=i}function lu(t,n){return t[n]}function Wo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ma(t,n,i,a){const d=Wo(t,n,i);return Wo(t,n+1,a)||d}function ta(t,n,i,a){const d=Ut();return Wo(d,Ks(),n)&&(gr(),Ra(oi(),d,t,n,i,a)),ta}function nc(t,n,i,a){return Wo(t,Ks(),i)?n+Ye(i)+a:l}function Xl(t,n,i,a,d,f){const T=ma(t,function _s(){return rr.lFrame.bindingIndex}(),i,d);return vs(2),T?n+Ye(i)+a+Ye(d)+f:l}function Om(t,n,i,a,d,f,E,T){const P=Ut(),B=gr(),ne=t+Dn,ye=B.firstCreatePass?function qv(t,n,i,a,d,f,E,T,P){const B=n.consts,ne=fe(n,t,4,E||null,Ms(B,T));mg(n,i,ne,Ms(B,P)),jc(n,ne);const ye=ne.tView=Un(2,ne,a,d,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,B,null);return null!==n.queries&&(n.queries.template(n,ne),ye.queries=n.queries.embeddedTView(ne)),ne}(ne,B,P,n,i,a,d,f,E):B.data[ne];bo(ye,!1);const Ke=Nm(B,P,ye,t);Ha()&&vh(B,P,Ke,ye),cs(Ke,P),Ld(P,P[ne]=bm(Ke,P,Ke,ye)),Ds(ye)&&qt(B,P,ye),null!=E&&kn(P,ye,T)}let Nm=function Y_(t,n,i,a){return Os(!0),n[Wn].createComment("")};function Gd(t){return uo(function il(){return rr.lFrame.contextLView}(),Dn+t)}function Fm(t,n,i){const a=Ut();return Wo(a,Ks(),n)&&xa(gr(),oi(),a,t,n,a[Wn],i,!1),Fm}function Vm(t,n,i,a,d){const E=d?"class":"style";Ts(t,i,n.inputs[E],E,a)}function Pg(t,n,i,a){const d=Ut(),f=gr(),E=Dn+t,T=d[Wn],P=f.firstCreatePass?function Qv(t,n,i,a,d,f){const E=n.consts,P=fe(n,t,2,a,Ms(E,d));return mg(n,i,P,Ms(E,f)),null!==P.attrs&&Bh(P,P.attrs,!1),null!==P.mergedAttrs&&Bh(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(E,f,d,n,i,a):f.data[E],B=Q_(f,d,P,T,n,t);d[E]=B;const ne=Ds(P);return bo(P,!0),Af(T,B,P),32!=(32&P.flags)&&Ha()&&vh(f,d,B,P),0===function Ho(){return rr.lFrame.elementDepthCount}()&&cs(B,d),function rl(){rr.lFrame.elementDepthCount++}(),ne&&(qt(f,d,P),nn(f,P,d)),null!==a&&kn(d,P),Pg}function Xh(){let t=Si();hc()?Iu():(t=t.parent,bo(t,!1));const n=t;(function Eu(t){return rr.skipHydrationRootTNode===t})(n)&&function td(){rr.skipHydrationRootTNode=null}(),function yu(){rr.lFrame.elementDepthCount--}();const i=gr();return i.firstCreatePass&&(jc(i,t),gs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Jh(t){return 0!=(8&t.flags)}(n)&&Vm(i,n,Ut(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function od(t){return 0!=(16&t.flags)}(n)&&Vm(i,n,Ut(),n.stylesWithoutHost,!1),Xh}function _a(t,n,i,a){return Pg(t,n,i,a),Xh(),_a}let Q_=(t,n,i,a,d,f)=>(Os(!0),If(a,d,function la(){return rr.lFrame.currentNamespace}()));function k(t,n,i){const a=Ut(),d=gr(),f=t+Dn,E=d.firstCreatePass?function v(t,n,i,a,d){const f=n.consts,E=Ms(f,a),T=fe(n,t,8,"ng-container",E);return null!==E&&Bh(T,E,!0),mg(n,i,T,Ms(f,d)),null!==n.queries&&n.queries.elementStart(n,T),T}(f,d,a,n,i):d.data[f];bo(E,!0);const T=ct(d,a,E,t);return a[f]=T,Ha()&&vh(d,a,T,E),cs(T,a),Ds(E)&&(qt(d,a,E),nn(d,E,a)),null!=i&&kn(a,E),k}function K(){let t=Si();const n=gr();return hc()?Iu():(t=t.parent,bo(t,!1)),n.firstCreatePass&&(jc(n,t),gs(t)&&n.queries.elementEnd(t)),K}function he(t,n,i){return k(t,n,i),K(),he}let ct=(t,n,i,a)=>(Os(!0),Cf(n[Wn],""));function Qi(){return Ut()}function ls(t){return!!t&&"function"==typeof t.then}function xi(t){return!!t&&"function"==typeof t.subscribe}function As(t,n,i,a){const d=Ut(),f=gr(),E=Si();return function Rc(t,n,i,a,d,f,E){const T=Ds(a),B=t.firstCreatePass&&op(t),ne=n[Hr],ye=ip(n);let Ke=!0;if(3&a.type||E){const Zt=$o(a,n),wn=E?E(Zt):Zt,tr=ye.length,Xt=E?li=>E(Ci(li[a.index])):a.index;let Or=null;if(!E&&T&&(Or=function gp(t,n,i,a){const d=t.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const E=d[f];if(E===i&&d[f+1]===a){const T=n[Eo],P=d[f+2];return T.length>P?T[P]:null}"string"==typeof E&&(f+=2)}return null}(t,n,d,a.index)),null!==Or)(Or.__ngLastListenerFn__||Or).__ngNextListenerFn__=f,Or.__ngLastListenerFn__=f,Ke=!1;else{f=Lm(a,n,ne,f,!1);const li=i.listen(wn,d,f);ye.push(f,li),B&&B.push(d,Xt,tr,tr+1)}}else f=Lm(a,n,ne,f,!1);const rt=a.outputs;let Ot;if(Ke&&null!==rt&&(Ot=rt[d])){const Zt=Ot.length;if(Zt)for(let wn=0;wn<Zt;wn+=2){const io=n[Ot[wn]][Ot[wn+1]].subscribe(f),Nc=ye.length;ye.push(f,io),B&&B.push(d,a.index,Nc,-(Nc+1))}}}(f,d,d[Wn],E,t,n,a),As}function xg(t,n,i,a){try{return Ln(6,n,i),!1!==i(a)}catch(d){return bs(t,d),!1}finally{Ln(7,n,i)}}function Lm(t,n,i,a,d){return function f(E){if(E===Function)return a;Xf(t.componentOffset>-1?Mr(t.index,n):n);let P=xg(n,i,a,E),B=f.__ngNextListenerFn__;for(;B;)P=xg(n,i,B,E)&&P,B=B.__ngNextListenerFn__;return d&&!1===P&&E.preventDefault(),P}}function bE(t=1){return function mn(t){return(rr.lFrame.contextLView=function mr(t,n){for(;t>0;)n=n[Q],t--;return n}(t,rr.lFrame.contextLView))[Hr]}(t)}function Dy(t,n,i){return Zv(t,"",n,"",i),Dy}function Zv(t,n,i,a,d){const f=Ut(),E=nc(f,n,i,a);return E!==l&&xa(gr(),oi(),f,t,E,f[Wn],d,!1),Zv}function ey(t,n){return t<<17|n<<2}function mp(t){return t>>17&32767}function Sy(t){return 2|t}function Rg(t){return(131068&t)>>2}function Py(t,n){return-131069&t|n<<2}function xy(t){return 1|t}function ME(t,n,i,a,d){const f=t[i+1],E=null===n;let T=a?mp(f):Rg(f),P=!1;for(;0!==T&&(!1===P||E);){const ne=t[T+1];LI(t[T],n)&&(P=!0,t[T+1]=a?xy(ne):Sy(ne)),T=a?mp(ne):Rg(ne)}P&&(t[i+1]=a?Sy(f):xy(f))}function LI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Nu(t,n)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OE(t){return t.substring(js.key,js.keyEnd)}function NE(t,n){const i=js.textEnd;return i===n?-1:(n=js.keyEnd=function $I(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,js.key=n,i),Um(t,n,i))}function Um(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Ry(t,n,i){return Ql(t,n,i,!1),Ry}function My(t,n){return Ql(t,n,null,!0),My}function UE(t){!function Jl(t,n,i,a){const d=gr(),f=vs(2);d.firstUpdatePass&&BE(d,null,f,a);const E=Ut();if(i!==l&&Wo(E,f,i)){const T=d.data[wr()];if(zE(T,a)&&!jE(d,f)){let P=a?T.classesWithoutHost:T.stylesWithoutHost;null!==P&&(i=st(P,i||"")),Vm(d,T,E,i,a)}else!function JI(t,n,i,a,d,f,E,T){d===l&&(d=or);let P=0,B=0,ne=0<d.length?d[0]:null,ye=0<f.length?f[0]:null;for(;null!==ne||null!==ye;){const Ke=P<d.length?d[P+1]:void 0,rt=B<f.length?f[B+1]:void 0;let Zt,Ot=null;ne===ye?(P+=2,B+=2,Ke!==rt&&(Ot=ye,Zt=rt)):null===ye||null!==ne&&ne<ye?(P+=2,Ot=ne):(B+=2,Ot=ye,Zt=rt),null!==Ot&&HE(t,n,i,a,Ot,Zt,E,T),ne=P<d.length?d[P]:null,ye=B<f.length?f[B]:null}}(d,T,E,E[Wn],E[f+1],E[f+1]=function YI(t,n,i){if(null==i||""===i)return or;const a=[],d=Ya(i);if(Array.isArray(d))for(let f=0;f<d.length;f++)t(a,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&t(a,f,d[f]);else"string"==typeof d&&n(a,d);return a}(t,n,i),a,f)}}(QI,Wd,t,!0)}function Wd(t,n){for(let i=function jI(t){return function FE(t){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=t.length}(t),NE(t,Um(t,0,js.textEnd))}(n);i>=0;i=NE(n,i))ks(t,OE(n),!0)}function Ql(t,n,i,a){const d=Ut(),f=gr(),E=vs(2);f.firstUpdatePass&&BE(f,t,E,a),n!==l&&Wo(d,E,n)&&HE(f,f.data[wr()],d,d[Wn],t,d[E+1]=function ZI(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ge(Ya(t)))),t}(n,i),a,E)}function jE(t,n){return n>=t.expandoStartIndex}function BE(t,n,i,a){const d=t.data;if(null===d[i+1]){const f=d[wr()],E=jE(t,i);zE(f,a)&&null===n&&!E&&(n=!1),n=function WI(t,n,i,a){const d=function ba(t){const n=rr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=a?n.residualClasses:n.residualStyles;if(null===d)0===(a?n.classBindings:n.styleBindings)&&(i=J_(i=Oy(null,t,n,i,a),n.attrs,a),f=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==d)if(i=Oy(d,t,n,i,a),null===f){let P=function KI(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Rg(a))return t[mp(a)]}(t,n,a);void 0!==P&&Array.isArray(P)&&(P=Oy(null,t,n,P[1],a),P=J_(P,n.attrs,a),function qI(t,n,i,a){t[mp(i?n.classBindings:n.styleBindings)]=a}(t,n,a,P))}else f=function XI(t,n,i){let a;const d=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<d;f++)a=J_(a,t[f].hostAttrs,i);return J_(a,n.attrs,i)}(t,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),i}(d,f,n,a),function FI(t,n,i,a,d,f){let E=f?n.classBindings:n.styleBindings,T=mp(E),P=Rg(E);t[a]=i;let ne,B=!1;if(Array.isArray(i)?(ne=i[1],(null===ne||Nu(i,ne)>0)&&(B=!0)):ne=i,d)if(0!==P){const Ke=mp(t[T+1]);t[a+1]=ey(Ke,T),0!==Ke&&(t[Ke+1]=Py(t[Ke+1],a)),t[T+1]=function NI(t,n){return 131071&t|n<<17}(t[T+1],a)}else t[a+1]=ey(T,0),0!==T&&(t[T+1]=Py(t[T+1],a)),T=a;else t[a+1]=ey(P,0),0===T?T=a:t[P+1]=Py(t[P+1],a),P=a;B&&(t[a+1]=Sy(t[a+1])),ME(t,ne,a,!0),ME(t,ne,a,!1),function VI(t,n,i,a,d){const f=d?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Nu(f,n)>=0&&(i[a+1]=xy(i[a+1]))}(n,ne,t,a,f),E=ey(T,P),f?n.classBindings=E:n.styleBindings=E}(d,f,n,i,E,a)}}function Oy(t,n,i,a,d){let f=null;const E=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<E&&(f=n[T],a=J_(a,f.hostAttrs,d),f!==t);)T++;return null!==t&&(i.directiveStylingLast=T),a}function J_(t,n,i){const a=i?1:2;let d=-1;if(null!==n)for(let f=0;f<n.length;f++){const E=n[f];"number"==typeof E?d=E:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ks(t,E,!!i||n[++f]))}return void 0===t?null:t}function QI(t,n,i){const a=String(n);""!==a&&!a.includes(" ")&&ks(t,a,i)}function HE(t,n,i,a,d,f,E,T){if(!(3&n.type))return;const P=t.data,B=P[T+1],ne=function kI(t){return 1==(1&t)}(B)?GE(P,n,i,d,Rg(B),E):void 0;ty(ne)||(ty(f)||function OI(t){return 2==(2&t)}(B)&&(f=GE(P,null,i,d,T,E)),function Ml(t,n,i,a,d){if(n)d?t.addClass(i,a):t.removeClass(i,a);else{let f=-1===a.indexOf("-")?void 0:Al.DashCase;null==d?t.removeStyle(i,a,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Al.Important),t.setStyle(i,a,d,f))}}(a,E,Rs(wr(),i),d,f))}function GE(t,n,i,a,d,f){const E=null===n;let T;for(;d>0;){const P=t[d],B=Array.isArray(P),ne=B?P[1]:P,ye=null===ne;let Ke=i[d+1];Ke===l&&(Ke=ye?or:void 0);let rt=ye?cd(Ke,a):ne===a?Ke:void 0;if(B&&!ty(rt)&&(rt=cd(P,a)),ty(rt)&&(T=rt,E))return T;const Ot=t[d+1];d=E?mp(Ot):Rg(Ot)}if(null!==n){let P=f?n.residualClasses:n.residualStyles;null!=P&&(T=cd(P,a))}return T}function ty(t){return void 0!==t}function zE(t,n){return 0!=(t.flags&(n?8:16))}function WE(t,n=""){const i=Ut(),a=gr(),d=t+Dn,f=a.firstCreatePass?fe(a,d,1,n,null):a.data[d],E=KE(a,i,f,n,t);i[d]=E,Ha()&&vh(a,i,E,f),bo(f,!1)}let KE=(t,n,i,a,d)=>(Os(!0),function md(t,n){return t.createText(n)}(n[Wn],a));function Ny(t){return ny("",t,""),Ny}function ny(t,n,i){const a=Ut(),d=nc(a,t,n,i);return d!==l&&ec(a,wr(),d),ny}function ky(t,n,i,a,d){const f=Ut(),E=Xl(f,t,n,i,a,d);return E!==l&&ec(f,wr(),E),ky}const Mg=void 0;var Cb=["en",[["a","p"],["AM","PM"],Mg],[["AM","PM"],Mg,Mg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mg,"{1} 'at' {0}",Mg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Eb(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let jm={};function Fy(t){const n=function Ib(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=p0(n);if(i)return i;const a=n.split("-")[0];if(i=p0(a),i)return i;if("en"===a)return Cb;throw new ze(701,!1)}function f0(t){return Fy(t)[Bm.PluralCase]}function p0(t){return t in jm||(jm[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),jm[t]}var Bm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bm||{});const $m="en-US";let g0=$m;function Uy(t,n,i,a,d){if(t=vt(t),Array.isArray(t))for(let f=0;f<t.length;f++)Uy(t[f],n,i,a,d);else{const f=gr(),E=Ut(),T=Si();let P=Hu(t)?t:vt(t.provide);const B=ou(t),ne=1048575&T.providerIndexes,ye=T.directiveStart,Ke=T.providerIndexes>>20;if(Hu(t)||!t.multi){const rt=new Bc(B,d,D),Ot=By(P,n,d?ne:ne+Ke,ye);-1===Ot?(Wa(Ga(T,E),f,P),jy(f,t,n.length),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(rt),E.push(rt)):(i[Ot]=rt,E[Ot]=rt)}else{const rt=By(P,n,ne+Ke,ye),Ot=By(P,n,ne,ne+Ke),wn=Ot>=0&&i[Ot];if(d&&!wn||!d&&!(rt>=0&&i[rt])){Wa(Ga(T,E),f,P);const tr=function ET(t,n,i,a,d){const f=new Bc(t,i,D);return f.multi=[],f.index=n,f.componentProviders=0,j0(f,d,a&&!i),f}(d?yT:vT,i.length,d,a,B);!d&&wn&&(i[Ot].providerFactory=tr),jy(f,t,n.length,0),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(tr),E.push(tr)}else jy(f,t,rt>-1?rt:Ot,j0(i[d?Ot:rt],B,!d&&a));!d&&a&&wn&&i[Ot].componentProviders++}}}function jy(t,n,i,a){const d=Hu(n),f=function ji(t){return!!t.useClass}(n);if(d||f){const P=(f?vt(n.useClass):n).prototype.ngOnDestroy;if(P){const B=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const ne=B.indexOf(i);-1===ne?B.push(i,[a,P]):B[ne+1].push(a,P)}else B.push(i,P)}}}function j0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function By(t,n,i,a){for(let d=i;d<a;d++)if(n[d]===t)return d;return-1}function vT(t,n,i,a){return $y(this.multi,[])}function yT(t,n,i,a){const d=this.multi;let f;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=Gc(i,i[Qt],this.providerFactory.index,a);f=T.slice(0,E),$y(d,f);for(let P=E;P<T.length;P++)f.push(T[P])}else f=[],$y(d,f);return f}function $y(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function B0(t,n=[]){return i=>{i.providersResolver=(a,d)=>function _T(t,n,i){const a=gr();if(a.firstCreatePass){const d=$i(t);Uy(i,a.data,a.blueprint,d,!0),Uy(n,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,n)}}class Og{}class $0{}function CT(t,n){return new Hy(t,n??null,[])}class Hy extends Og{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new g(this);const d=Zn(n);this._bootstrapComponents=Ku(d.bootstrap),this._r3Injector=A_(n,i,[{provide:Og,useValue:this},{provide:sg,useValue:this.componentFactoryResolver},...a],ge(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Gy extends $0{constructor(n){super(),this.moduleType=n}create(n){return new Hy(this.moduleType,n,[])}}class H0 extends Og{constructor(n){super(),this.componentFactoryResolver=new g(this),this.instance=null;const i=new Ll([...n.providers,{provide:Og,useValue:this},{provide:sg,useValue:this.componentFactoryResolver}],n.parent||Bf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function G0(t,n,i=null){return new H0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let bT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=Za(0,i.type),d=a.length>0?G0([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=En({token:t,providedIn:"environment",factory:()=>new t(Nt(wc))})}return t})();function z0(t){t.getStandaloneInjector=n=>n.get(bT).getOrCreateStandaloneInjector(t)}function J0(t,n,i){const a=Go()+t,d=Ut();return d[a]===l?Oa(d,a,i?n.call(i):n()):lu(d,a)}function Z0(t,n,i,a){return nC(Ut(),Go(),t,n,i,a)}function eC(t,n,i,a,d){return function rC(t,n,i,a,d,f,E){const T=n+i;return ma(t,T,d,f)?Oa(t,T+2,E?a.call(E,d,f):a(d,f)):iv(t,T+2)}(Ut(),Go(),t,n,i,a,d)}function tC(t,n,i,a,d,f,E,T,P){const B=Go()+t,ne=Ut(),ye=function Ao(t,n,i,a,d,f){const E=ma(t,n,i,a);return ma(t,n+2,d,f)||E}(ne,B,i,a,d,f);return ma(ne,B+4,E,T)||ye?Oa(ne,B+6,P?n.call(P,i,a,d,f,E,T):n(i,a,d,f,E,T)):lu(ne,B+6)}function iv(t,n){const i=t[n];return i===l?void 0:i}function nC(t,n,i,a,d,f){const E=n+i;return Wo(t,E,d)?Oa(t,E+1,f?a.call(f,d):a(d)):iv(t,E+1)}function iC(t,n,i,a,d,f,E,T){const P=n+i;return function tc(t,n,i,a,d){const f=ma(t,n,i,a);return Wo(t,n+2,d)||f}(t,P,d,f,E)?Oa(t,P+3,T?a.call(T,d,f,E):a(d,f,E)):iv(t,P+3)}function aC(t,n){const i=gr();let a;const d=t+Dn;i.firstCreatePass?(a=function LT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[d]=a,a.onDestroy&&(i.destroyHooks??=[]).push(d,a.onDestroy)):a=i.data[d];const f=a.factory||(a.factory=Uo(a.type)),T=hr(D);try{const P=ha(!1),B=f();return ha(P),function Yv(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,Ut(),d,B),B}finally{hr(T)}}function cC(t,n,i){const a=t+Dn,d=Ut(),f=uo(d,a);return ov(d,a)?nC(d,Go(),n,f.transform,i,f):f.transform(i)}function uC(t,n,i,a,d){const f=t+Dn,E=Ut(),T=uo(E,f);return ov(E,f)?iC(E,Go(),n,T.transform,i,a,d,T):T.transform(i,a,d)}function ov(t,n){return t[Qt].data[n].pure}function $T(){return this._results[Symbol.iterator]()}class Wy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new cu)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Wy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=$T)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const d=function Es(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function th(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],f=n[a];if(i&&(d=i(d),f=i(f)),f!==d)return!1}return!0}(a._results,d,i))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GT(t,n,i,a=!0){const d=n[Qt];if(function Ym(t,n,i,a){const d=pr+a,f=i.length;a>0&&(i[d-1][ki]=n),a<f-pr?(n[ki]=i[d],nh(i,pr+a,n)):(i.push(n),n[ki]=null),n[cr]=i;const E=n[_e];null!==E&&i!==E&&function Qm(t,n){const i=t[eo];n[H]!==n[cr][cr][H]&&(t[gi]=!0),null===i?t[eo]=[n]:i.push(n)}(E,n);const T=n[Be];null!==T&&T.insertView(t),n[zn]|=128}(d,n,t,i),a){const f=yh(i,t),E=n[Wn],T=mh(E,t[Kr]);null!==T&&function Hg(t,n,i,a,d,f){a[$r]=d,a[hi]=n,Rl(t,a,i,1,d,f)}(d,t[hi],E,n,T,f)}}let sv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KT}return t})();const zT=sv,WT=class extends zT{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const d=function HT(t,n,i,a){const d=n.tView,T=ie(t,d,i,4096&t[zn]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);T[_e]=t[n.index];const B=t[Be];return null!==B&&(T[Be]=B.createEmbeddedView(d)),Tm(d,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:a});return new Ud(d)}};function KT(){return ay(Si(),Ut())}function ay(t,n){return 4&t.type?new WT(n,t,kh(t,n)):null}let uy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZT}return t})();function ZT(){return mC(Si(),Ut())}const ew=uy,pC=class extends ew{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return kh(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Hc(this._hostTNode,this._hostLView);if(mc(n)){const i=Zs(n,this._hostLView),a=ul(n);return new zo(i[Qt].data[a+8],i)}return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=gC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-pr}createEmbeddedView(n,i,a){let d,f;"number"==typeof a?d=a:null!=a&&(d=a.index,f=a.injector);const T=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(T,d,false),T}createComponent(n,i,a,d,f){const E=n&&!function fa(t){return"function"==typeof t}(n);let T;if(E)T=i;else{const Zt=i||{};T=Zt.index,a=Zt.injector,d=Zt.projectableNodes,f=Zt.environmentInjector||Zt.ngModuleRef}const P=E?n:new pe(Yn(n)),B=a||this.parentInjector;if(!f&&null==P.ngModule){const wn=(E?B:this.parentInjector).get(wc,null);wn&&(f=wn)}Yn(P.componentType??{});const rt=P.create(B,d,null,f);return this.insertImpl(rt.hostView,T,false),rt}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,a){const d=n._lView;if(function lc(t){return kr(t[cr])}(d)){const P=this.indexOf(n);if(-1!==P)this.detach(P);else{const B=d[cr],ne=new pC(B,B[hi],B[cr]);ne.detach(ne.indexOf(n))}}const E=this._adjustIndex(i),T=this._lContainer;return GT(T,d,E,!a),n.attachToViewContainerRef(),nh(Ky(T),E,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=gC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=tu(this._lContainer,i);a&&(ad(Ky(this._lContainer),i),ph(a[Qt],a))}detach(n){const i=this._adjustIndex(n,-1),a=tu(this._lContainer,i);return a&&null!=ad(Ky(this._lContainer),i)?new Ud(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function gC(t){return t[8]}function Ky(t){return t[8]||(t[8]=[])}function mC(t,n){let i;const a=n[t.index];return kr(a)?i=a:(i=bm(a,n,null,t),n[t.index]=i,Ld(n,i)),_C(i,n,t,a),new pC(i,t,n)}let _C=function vC(t,n,i,a){if(t[Kr])return;let d;d=8&i.type?Ci(a):function tw(t,n){const i=t[Wn],a=i.createComment(""),d=$o(n,t);return nu(i,mh(i,d),a,function Np(t,n){return t.nextSibling(n)}(i,d),!1),a}(n,i),t[Kr]=d};class qy{constructor(n){this.queryList=n,this.matches=null}clone(){return new qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let f=0;f<a;f++){const E=i.getByIndex(f);d.push(this.queries[E.indexInDeclarationView].clone())}return new Xy(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DC(n,i).matches&&this.queries[i].setDirty()}}class yC{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class Yy{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const d=null!==i?i.length:0,f=this.getByIndex(a).embeddedTView(n,d);f&&(f.indexInDeclarationView=a,null!==i?i.push(f):i=[f])}return null!==i?new Yy(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Qy{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Qy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const f=a[d];this.matchTNodeWithReadOption(n,i,iw(i,f)),this.matchTNodeWithReadOption(n,i,dl(i,n,f,!1,!1))}else a===sv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,dl(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Kf||d===uy||d===sv&&4&i.type)this.addMatch(i.index,-2);else{const f=dl(i,n,d,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function iw(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function sw(t,n,i,a){return-1===i?function ow(t,n){return 11&t.type?kh(t,n):4&t.type?ay(t,n):null}(n,t):-2===i?function aw(t,n,i){return i===Kf?kh(n,t):i===sv?ay(n,t):i===uy?mC(n,t):void 0}(t,n,a):Gc(t,t[Qt],i,n)}function EC(t,n,i,a){const d=n[Be].queries[a];if(null===d.matches){const f=t.data,E=i.matches,T=[];for(let P=0;P<E.length;P+=2){const B=E[P];T.push(B<0?null:sw(n,f[B],E[P+1],i.metadata.read))}d.matches=T}return d.matches}function Jy(t,n,i,a){const d=t.queries.getByIndex(i),f=d.matches;if(null!==f){const E=EC(t,n,d,i);for(let T=0;T<f.length;T+=2){const P=f[T];if(P>0)a.push(E[T/2]);else{const B=f[T+1],ne=n[-P];for(let ye=pr;ye<ne.length;ye++){const Ke=ne[ye];Ke[_e]===Ke[cr]&&Jy(Ke[Qt],Ke,B,a)}if(null!==ne[eo]){const ye=ne[eo];for(let Ke=0;Ke<ye.length;Ke++){const rt=ye[Ke];Jy(rt[Qt],rt,B,a)}}}}}return a}function CC(t){const n=Ut(),i=gr(),a=Xs();w(a+1);const d=DC(i,a);if(t.dirty&&function No(t){return 4==(4&t[zn])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const f=d.crossesNgTemplate?Jy(i,n,a,[]):EC(i,n,d,a);t.reset(f,cg),t.notifyOnChanges()}return!0}return!1}function IC(t,n,i){const a=gr();a.firstCreatePass&&(AC(a,new yC(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),wC(a,Ut(),n)}function bC(t,n,i,a){const d=gr();if(d.firstCreatePass){const f=Si();AC(d,new yC(n,i,a),f.index),function uw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}wC(d,Ut(),i)}function TC(){return function cw(t,n){return t[Be].queries[n].queryList}(Ut(),Xs())}function wC(t,n,i){const a=new Wy(4==(4&i));(function tt(t,n,i,a){const d=ip(n);d.push(i),t.firstCreatePass&&op(t).push(a,d.length-1)})(t,n,a,a.destroy),null===n[Be]&&(n[Be]=new Xy),n[Be].queries.push(new qy(a))}function AC(t,n,i){null===t.queries&&(t.queries=new Yy),t.queries.track(new Qy(n,i))}function DC(t,n){return t.queries.getByIndex(n)}function SC(t,n){return ay(t,n)}function Zy(t){return!!Zn(t)}const zC=new cn("Application Initializer");let iE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=on(zC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const f=d();if(ls(f))i.push(f);else if(xi(f)){const E=new Promise((T,P)=>{f.subscribe({complete:T,error:P})});i.push(E)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(d=>{this.reject(d)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const dy=new cn("LocaleId",{providedIn:"root",factory:()=>on(dy,gn.Optional|gn.SkipSelf)||function xw(){return typeof $localize<"u"&&$localize.locale||$m}()}),Rw=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ow{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new Gy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),f=Ku(Zn(i).declarations).reduce((E,T)=>{const P=Yn(T);return P&&E.push(new pe(P)),E},[]);return new Ow(a,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QC=new cn(""),JC=new cn("");let aE,nA=(()=>{class t{constructor(i,a,d){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aE||(function rA(t){aE=t}(d),d.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,d){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==f),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:d})}whenStable(i,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Nt(fo),Nt(ZC),Nt(JC))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac})}return t})(),ZC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return aE?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),_p=null;const eI=new cn("AllowMultipleToken"),cE=new cn("PlatformDestroyListeners"),uE=new cn("appBootstrapListener");class sA{constructor(n,i){this.name=n,this.token=i}}function rI(t,n,i=[]){const a=`Platform: ${n}`,d=new cn(a);return(f=[])=>{let E=lE();if(!E||E.injector.get(eI,!1)){const T=[...i,...f,{provide:d,useValue:!0}];t?t(T):function aA(t){if(_p&&!_p.get(eI,!1))throw new ze(400,!1);(function tI(){!function Zu(t){Ca=t}(()=>{throw new ze(600,!1)})})(),_p=t;const n=t.get(oI);(function nI(t){t.get(su,null)?.forEach(i=>i())})(t)}(function iI(t=[],n){return Dc.create({name:n,providers:[{provide:om,useValue:"platform"},{provide:cE,useValue:new Set([()=>_p=null])},...t]})}(T,a))}return function uA(t){const n=lE();if(!n)throw new ze(401,!1);return n}()}}function lE(){return _p?.get(oI)??null}let oI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const d=function lA(t="zone.js",n){return"noop"===t?new bv:"zone.js"===t?new fo(n):t}(a?.ngZone,function sI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const f=function IT(t,n,i){return new Hy(t,n,i)}(i.moduleType,this.injector,function dI(t){return[{provide:fo,useFactory:t},{provide:wd,multi:!0,useFactory:()=>{const n=on(hA,{optional:!0});return()=>n.initialize()}},{provide:lI,useFactory:dA},{provide:M_,useFactory:Tv}]}(()=>d)),E=f.injector.get(Gl,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:P=>{E.handleError(P)}});f.onDestroy(()=>{fy(this._modules,f),T.unsubscribe()})}),function aI(t,n,i){try{const a=i();return ls(a)?a.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(E,d,()=>{const T=f.injector.get(iE);return T.runInitializers(),T.donePromise.then(()=>(function m0(t){bt(t,"Expected localeId to be defined"),"string"==typeof t&&(g0=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(dy,$m)||$m),this._moduleDoBootstrap(f),f))})})}bootstrapModule(i,a=[]){const d=cI({},a);return function iA(t,n,i){const a=new Gy(i);return Promise.resolve(a)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(i){const a=i.injector.get(zm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new ze(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(cE,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Nt(Dc))};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cI(t,n){return Array.isArray(n)?n.reduce(cI,t):{...t,...n}}let zm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=on(lI),this.zoneIsStable=on(M_),this.componentTypes=[],this.components=[],this.isStable=on(KC).hasPendingTasks.pipe((0,Fe.n)(i=>i?(0,me.of)(!1):this.zoneIsStable),(0,$e.F)(),(0,Ne.u)()),this._injector=on(wc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const d=i instanceof mv;if(!this._injector.get(iE).done)throw!d&&ci(i),new ze(405,!1);let E;E=d?i:this._injector.get(sg).resolveComponentFactory(i),this.componentTypes.push(E.componentType);const T=function oA(t){return t.isBoundToModule}(E)?void 0:this._injector.get(Og),B=E.create(Dc.NULL,[],a||E.selector,T),ne=B.location.nativeElement,ye=B.injector.get(QC,null);return ye?.registerApplication(ne),B.onDestroy(()=>{this.detachView(B.hostView),fy(this.components,B),ye?.unregisterApplication(ne)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;fy(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get(uE,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>fy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ze(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const lI=new cn("",{providedIn:"root",factory:()=>on(Gl).handleError.bind(void 0)});function dA(){const t=on(fo),n=on(Gl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let hA=(()=>{class t{constructor(){this.zone=on(fo),this.applicationRef=on(zm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=En({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(){return!1}let gA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mA}return t})();function mA(t){return function _A(t,n,i){if(Fi(t)&&!i){const a=Mr(t.index,n);return new Ud(a,a)}return 47&t.type?new Ud(n[H],n):null}(Si(),Ut(),16==(16&t))}class mI{constructor(){}supports(n){return us(n)}create(n){return new IA(n)}}const CA=(t,n)=>n;class IA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||CA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,d=0,f=null;for(;i||a;){const E=!a||i&&i.currentIndex<vI(a,d,f)?i:a,T=vI(E,d,f),P=E.currentIndex;if(E===a)d--,a=a._nextRemoved;else if(i=i._next,null==E.previousIndex)d++;else{f||(f=[]);const B=T-d,ne=P-d;if(B!=ne){for(let Ke=0;Ke<B;Ke++){const rt=Ke<f.length?f[Ke]:f[Ke]=0,Ot=rt+Ke;ne<=Ot&&Ot<B&&(f[Ke]=rt+1)}f[E.previousIndex]=ne-B}}T!==P&&n(E,T,P)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!us(n))throw new ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,f,E,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)f=n[T],E=this._trackByFn(T,f),null!==i&&Object.is(i.trackById,E)?(a&&(i=this._verifyReinsertion(i,f,E,T)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,E,T),a=!0),i=i._next}else d=0,function jd(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,T=>{E=this._trackByFn(d,T),null!==i&&Object.is(i.trackById,E)?(a&&(i=this._verifyReinsertion(i,T,E,d)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,E,d),a=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,d){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,d)):n=this._addAfter(new bA(i,a),f,d),n}_verifyReinsertion(n,i,a,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,f=n._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new _I),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _I),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class bA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class _I{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new TA,this.map.set(i,a)),a.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vI(t,n,i){const a=t.previousIndex;if(null===a)return a;let d=0;return i&&a<i.length&&(d=i[a]),a+n+d}class yI{constructor(){}supports(n){return n instanceof Map||Sc(n)}create(){return new wA}}class wA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Sc(n)))throw new ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(d,a);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const f=d._prev,E=d._next;return f&&(f._next=E),E&&(E._prev=f),d._next=null,d._prev=null,d}const a=new AA(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class AA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EI(){return new gE([new mI])}let gE=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:EI});constructor(i){this.factories=i}static create(i,a){if(null!=a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||EI()),deps:[[t,new qa,new Xc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(null!=a)return a;throw new ze(901,!1)}}return t})();function CI(){return new mE([new yI])}let mE=(()=>{class t{static#e=this.\u0275prov=En({token:t,providedIn:"root",factory:CI});constructor(i){this.factories=i}static create(i,a){if(a){const d=a.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||CI()),deps:[[t,new qa,new Xc]]}}find(i){const a=this.factories.find(d=>d.supports(i));if(a)return a;throw new ze(901,!1)}}return t})();const PA=rI(null,"core",[]);let xA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)(Nt(zm))};static#t=this.\u0275mod=so({type:t});static#n=this.\u0275inj=Ht({})}return t})();function BA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HA(t){const n=Yn(t);if(!n)return null;const i=new pe(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(rn,Qe,L)=>{L.d(Qe,{DS:()=>Bt,X8:()=>Wt,$z:()=>Yt,UB:()=>nr,yy:()=>Ft,ZP:()=>Ce,AU:()=>ln,CP:()=>Tt,gF:()=>Pt}),L(2438);var ue=L(177),o=L(7705),be=L(5407),ve=L(9253),me=L(1413),Ne=L(7673),Fe=L(1985),$e=L(8455),te=L(7786),ce=L(941),ge=L(5558),st=L(6354),qe=L(6129);class yt extends me.B{constructor(Pe=1/0,de=1/0,Me=qe.U){super(),this._bufferSize=Pe,this._windowTime=de,this._timestampProvider=Me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=de===1/0,this._bufferSize=Math.max(1,Pe),this._windowTime=Math.max(1,de)}next(Pe){const{isStopped:de,_buffer:Me,_infiniteTimeWindow:Xe,_timestampProvider:Te,_windowTime:De}=this;de||(Me.push(Pe),!Xe&&Me.push(Te.now()+De)),this._trimBuffer(),super.next(Pe)}_subscribe(Pe){this._throwIfClosed(),this._trimBuffer();const de=this._innerSubscribe(Pe),{_infiniteTimeWindow:Me,_buffer:Xe}=this,Te=Xe.slice();for(let De=0;De<Te.length&&!Pe.closed;De+=Me?1:2)Pe.next(Te[De]);return this._checkFinalizedStatuses(Pe),de}_trimBuffer(){const{_bufferSize:Pe,_timestampProvider:de,_buffer:Me,_infiniteTimeWindow:Xe}=this,Te=(Xe?1:2)*Pe;if(Pe<1/0&&Te<Me.length&&Me.splice(0,Me.length-Te),!Xe){const De=de.now();let He=0;for(let bt=1;bt<Me.length&&Me[bt]<=De;bt+=2)He=bt;He&&Me.splice(0,He+1)}}}var vt=L(7647);function jt(at,Pe,de){let Me,Xe=!1;return at&&"object"==typeof at?({bufferSize:Me=1/0,windowTime:Pe=1/0,refCount:Xe=!1,scheduler:de}=at):Me=at??1/0,(0,vt.u)({connector:()=>new yt(Me,Pe,de),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Xe})}var xt=L(1594),an=L(8071);function Je(at,Pe){return(0,an.T)(Pe)?(0,ge.n)(()=>at,Pe):(0,ge.n)(()=>at)}var ze=L(6745),it=L(5964),Ye=L(7935);const Tt=new o.nKC("angularfire2.auth.use-emulator"),Ft=new o.nKC("angularfire2.auth.settings"),Ce=new o.nKC("angularfire2.auth.tenant-id"),Yt=new o.nKC("angularfire2.auth.langugage-code"),ln=new o.nKC("angularfire2.auth.use-device-language"),nr=new o.nKC("angularfire.auth.persistence"),Pt=(at,Pe,de,Me,Xe,Te,De,He)=>(0,ve.BM)(`${at.name}.auth`,"AngularFireAuth",at.name,()=>{const bt=Pe.runOutsideAngular(()=>at.auth());if(de&&bt.useEmulator(...de),Me&&(bt.tenantId=Me),bt.languageCode=Xe,Te&&bt.useDeviceLanguage(),De)for(const[At,dn]of Object.entries(De))bt.settings[At]=dn;return He&&bt.setPersistence(He),bt},[de,Me,Xe,Te,De,He]);let Bt=(()=>{class at{authState;idToken;user;idTokenResult;credential;constructor(de,Me,Xe,Te,De,He,bt,At,dn,en,On,En){const dr=new me.B,Ht=(0,Ne.of)(void 0).pipe((0,ce.Q)(De.outsideAngular),(0,ge.n)(()=>Te.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,st.T)(()=>(0,ve.iB)(de,Te,Me)),(0,st.T)(Tn=>Pt(Tn,Te,He,At,dn,en,bt,On)),jt({bufferSize:1,refCount:!1}));if((0,ue.Vy)(Xe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ne.of)(null);else{Ht.pipe((0,xt.$)()).subscribe();const Tn=Ht.pipe((0,ge.n)(Vt=>Vt.getRedirectResult().then(Vr=>Vr,()=>null)),be.U0,jt({bufferSize:1,refCount:!1})),jn=Ht.pipe((0,ge.n)(Vt=>new Fe.c(Vr=>({unsubscribe:Te.runOutsideAngular(()=>Vt.onAuthStateChanged(hn=>Vr.next(hn),hn=>Vr.error(hn),()=>Vr.complete()))})))),zt=Ht.pipe((0,ge.n)(Vt=>new Fe.c(Vr=>({unsubscribe:Te.runOutsideAngular(()=>Vt.onIdTokenChanged(hn=>Vr.next(hn),hn=>Vr.error(hn),()=>Vr.complete()))}))));this.authState=Tn.pipe(Je(jn),(0,ze._)(De.outsideAngular),(0,ce.Q)(De.insideAngular)),this.user=Tn.pipe(Je(zt),(0,ze._)(De.outsideAngular),(0,ce.Q)(De.insideAngular)),this.idToken=this.user.pipe((0,ge.n)(Vt=>Vt?(0,$e.H)(Vt.getIdToken()):(0,Ne.of)(null))),this.idTokenResult=this.user.pipe((0,ge.n)(Vt=>Vt?(0,$e.H)(Vt.getIdTokenResult()):(0,Ne.of)(null))),this.credential=(0,te.h)(Tn,dr,this.authState.pipe((0,it.p)(Vt=>!Vt))).pipe((0,st.T)(Vt=>Vt?.user?Vt:null),(0,ze._)(De.outsideAngular),(0,ce.Q)(De.insideAngular))}return(0,ve.Gt)(this,Ht,Te,{spy:{apply:(Tn,jn,zt)=>{(Tn.startsWith("signIn")||Tn.startsWith("createUser"))&&zt.then(Vt=>dr.next(Vt))}}})}static \u0275fac=function(Me){return new(Me||at)(o.KVO(ve.rx),o.KVO(ve.uP,8),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(be.u0),o.KVO(Tt,8),o.KVO(Ft,8),o.KVO(Ce,8),o.KVO(Yt,8),o.KVO(ln,8),o.KVO(nr,8),o.KVO(be.Jv,8))};static \u0275prov=o.jDH({token:at,factory:at.\u0275fac,providedIn:"any"})}return at})(),Wt=(()=>{class at{constructor(){Ye.A.registerVersion("angularfire",be.xv.full,"auth-compat")}static \u0275fac=function(Me){return new(Me||at)};static \u0275mod=o.$C({type:at});static \u0275inj=o.G2t({providers:[Bt]})}return at})()},6340:(rn,Qe,L)=>{L.d(Qe,{Qe:()=>_i,cM:()=>We});var c=L(177),ue=L(7705),o=L(5407),be=L(9253),ve=L(1977),me=L(3236),Ne=L(1985),Fe=L(8455),$e=L(7673),te=L(9172),ce=L(9974),ge=L(4360);function st(){return(0,ce.N)((pt,oe)=>{let J,Le=!1;pt.subscribe((0,ge._)(oe,Ae=>{const Ct=J;J=Ae,Le&&oe.next([Ct,Ae]),Le=!0}))})}var qe=L(6354),yt=L(2816),vt=L(3294),jt=L(5964),an=(L(2438),L(3345)),Je=L(9583),ze=L(1076),it=L(1362);function Tt(pt,oe){if(void 0===oe)return{merge:!1};if(void 0!==oe.mergeFields&&void 0!==oe.merge)throw new Je.W6("invalid-argument",`Invalid options passed to function ${pt}(): You cannot specify both "merge" and "mergeFields".`);return oe}function Ft(){if(typeof Uint8Array>"u")throw new Je.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ce(){if(!(0,Je.qG)())throw new Je.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Yt{constructor(oe){this._delegate=oe}static fromBase64String(oe){return Ce(),new Yt(Je.Ix.fromBase64String(oe))}static fromUint8Array(oe){return Ft(),new Yt(Je.Ix.fromUint8Array(oe))}toBase64(){return Ce(),this._delegate.toBase64()}toUint8Array(){return Ft(),this._delegate.toUint8Array()}isEqual(oe){return this._delegate.isEqual(oe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ln(pt){return function nr(pt,oe){if("object"!=typeof pt||null===pt)return!1;const J=pt;for(const Le of oe)if(Le in J&&"function"==typeof J[Le])return!0;return!1}(pt,["next","error","complete"])}class Pt{enableIndexedDbPersistence(oe,J){return(0,Je.ol)(oe._delegate,{forceOwnership:J})}enableMultiTabIndexedDbPersistence(oe){return(0,Je.Q5)(oe._delegate)}clearIndexedDbPersistence(oe){return(0,Je.me)(oe._delegate)}}class Bt{constructor(oe,J,Le){this._delegate=J,this._persistenceProvider=Le,this.INTERNAL={delete:()=>this.terminate()},oe instanceof Je.cm||(this._appCompat=oe)}get _databaseId(){return this._delegate._databaseId}settings(oe){const J=this._delegate._getSettings();!oe.merge&&J.host!==oe.host&&(0,Je.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),oe.merge&&delete(oe=Object.assign(Object.assign({},J),oe)).merge,this._delegate._setSettings(oe)}useEmulator(oe,J,Le={}){(0,Je.vN)(this._delegate,oe,J,Le)}enableNetwork(){return(0,Je.Os)(this._delegate)}disableNetwork(){return(0,Je.LA)(this._delegate)}enablePersistence(oe){let J=!1,Le=!1;return oe&&(J=!!oe.synchronizeTabs,Le=!!oe.experimentalForceOwningTab,(0,Je.c8)("synchronizeTabs",J,"experimentalForceOwningTab",Le)),J?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Le)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Je.iB)(this._delegate)}onSnapshotsInSync(oe){return(0,Je.FC)(this._delegate,oe)}get app(){if(!this._appCompat)throw new Je.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(oe){try{return new En(this,(0,Je.rJ)(this._delegate,oe))}catch(J){throw Te(J,"collection()","Firestore.collection()")}}doc(oe){try{return new Xe(this,(0,Je.H9)(this._delegate,oe))}catch(J){throw Te(J,"doc()","Firestore.doc()")}}collectionGroup(oe){try{return new dn(this,(0,Je.Cs)(this._delegate,oe))}catch(J){throw Te(J,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(oe){return(0,Je.c4)(this._delegate,J=>oe(new Pe(this,J)))}batch(){return(0,Je.Ws)(this._delegate),new de(new Je.GA(this._delegate,oe=>(0,Je.z6)(this._delegate,oe)))}loadBundle(oe){return(0,Je.po)(this._delegate,oe)}namedQuery(oe){return(0,Je.St)(this._delegate,oe).then(J=>J?new dn(this,J):null)}}class Wt extends Je.fS{constructor(oe){super(),this.firestore=oe}convertBytes(oe){return new Yt(new Je.Ix(oe))}convertReference(oe){const J=this.convertDocumentKey(oe,this.firestore._databaseId);return Xe.forKey(J,this.firestore,null)}}class Pe{constructor(oe,J){this._firestore=oe,this._delegate=J,this._userDataWriter=new Wt(oe)}get(oe){const J=dr(oe);return this._delegate.get(J).then(Le=>new bt(this._firestore,new Je.Wq(this._firestore._delegate,this._userDataWriter,Le._key,Le._document,Le.metadata,J.converter)))}set(oe,J,Le){const Ae=dr(oe);return Le?(Tt("Transaction.set",Le),this._delegate.set(Ae,J,Le)):this._delegate.set(Ae,J),this}update(oe,J,Le,...Ae){const Ct=dr(oe);return 2===arguments.length?this._delegate.update(Ct,J):this._delegate.update(Ct,J,Le,...Ae),this}delete(oe){const J=dr(oe);return this._delegate.delete(J),this}}class de{constructor(oe){this._delegate=oe}set(oe,J,Le){const Ae=dr(oe);return Le?(Tt("WriteBatch.set",Le),this._delegate.set(Ae,J,Le)):this._delegate.set(Ae,J),this}update(oe,J,Le,...Ae){const Ct=dr(oe);return 2===arguments.length?this._delegate.update(Ct,J):this._delegate.update(Ct,J,Le,...Ae),this}delete(oe){const J=dr(oe);return this._delegate.delete(J),this}commit(){return this._delegate.commit()}}class Me{constructor(oe,J,Le){this._firestore=oe,this._userDataWriter=J,this._delegate=Le}fromFirestore(oe,J){const Le=new Je.YQ(this._firestore._delegate,this._userDataWriter,oe._key,oe._document,oe.metadata,null);return this._delegate.fromFirestore(new At(this._firestore,Le),J??{})}toFirestore(oe,J){return J?this._delegate.toFirestore(oe,J):this._delegate.toFirestore(oe)}static getInstance(oe,J){const Le=Me.INSTANCES;let Ae=Le.get(oe);Ae||(Ae=new WeakMap,Le.set(oe,Ae));let Ct=Ae.get(J);return Ct||(Ct=new Me(oe,new Wt(oe),J),Ae.set(J,Ct)),Ct}}Me.INSTANCES=new WeakMap;class Xe{constructor(oe,J){this.firestore=oe,this._delegate=J,this._userDataWriter=new Wt(oe)}static forPath(oe,J,Le){if(oe.length%2!=0)throw new Je.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${oe.canonicalString()} has ${oe.length}`);return new Xe(J,new Je.T1(J._delegate,Le,new Je.K$(oe)))}static forKey(oe,J,Le){return new Xe(J,new Je.T1(J._delegate,Le,oe))}get id(){return this._delegate.id}get parent(){return new En(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(oe){try{return new En(this.firestore,(0,Je.rJ)(this._delegate,oe))}catch(J){throw Te(J,"collection()","DocumentReference.collection()")}}isEqual(oe){return(oe=(0,ze.Ku)(oe))instanceof Je.T1&&(0,Je.yx)(this._delegate,oe)}set(oe,J){J=Tt("DocumentReference.set",J);try{return J?(0,Je.BN)(this._delegate,oe,J):(0,Je.BN)(this._delegate,oe)}catch(Le){throw Te(Le,"setDoc()","DocumentReference.set()")}}update(oe,J,...Le){try{return 1===arguments.length?(0,Je.mZ)(this._delegate,oe):(0,Je.mZ)(this._delegate,oe,J,...Le)}catch(Ae){throw Te(Ae,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Je.kd)(this._delegate)}onSnapshot(...oe){const J=De(oe),Le=He(oe,Ae=>new bt(this.firestore,new Je.Wq(this.firestore._delegate,this._userDataWriter,Ae._key,Ae._document,Ae.metadata,this._delegate.converter)));return(0,Je.aQ)(this._delegate,J,Le)}get(oe){let J;return J="cache"===oe?.source?(0,Je.nY)(this._delegate):"server"===oe?.source?(0,Je._e)(this._delegate):(0,Je.x7)(this._delegate),J.then(Le=>new bt(this.firestore,new Je.Wq(this.firestore._delegate,this._userDataWriter,Le._key,Le._document,Le.metadata,this._delegate.converter)))}withConverter(oe){return new Xe(this.firestore,this._delegate.withConverter(oe?Me.getInstance(this.firestore,oe):null))}}function Te(pt,oe,J){return pt.message=pt.message.replace(oe,J),pt}function De(pt){for(const oe of pt)if("object"==typeof oe&&!ln(oe))return oe;return{}}function He(pt,oe){var J,Le;let Ae;return Ae=ln(pt[0])?pt[0]:ln(pt[1])?pt[1]:"function"==typeof pt[0]?{next:pt[0],error:pt[1],complete:pt[2]}:{next:pt[1],error:pt[2],complete:pt[3]},{next:Ct=>{Ae.next&&Ae.next(oe(Ct))},error:null===(J=Ae.error)||void 0===J?void 0:J.bind(Ae),complete:null===(Le=Ae.complete)||void 0===Le?void 0:Le.bind(Ae)}}class bt{constructor(oe,J){this._firestore=oe,this._delegate=J}get ref(){return new Xe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(oe){return this._delegate.data(oe)}get(oe,J){return this._delegate.get(oe,J)}isEqual(oe){return(0,Je.lN)(this._delegate,oe._delegate)}}class At extends bt{data(oe){const J=this._delegate.data(oe);return this._delegate._converter||(0,Je.bI)(void 0!==J,"Document in a QueryDocumentSnapshot should exist"),J}}class dn{constructor(oe,J){this.firestore=oe,this._delegate=J,this._userDataWriter=new Wt(oe)}where(oe,J,Le){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je._M)(oe,J,Le)))}catch(Ae){throw Te(Ae,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(oe,J){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je.My)(oe,J)))}catch(Le){throw Te(Le,/(orderBy|where)\(\)/,"Query.$1()")}}limit(oe){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je.AB)(oe)))}catch(J){throw Te(J,"limit()","Query.limit()")}}limitToLast(oe){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je.$1)(oe)))}catch(J){throw Te(J,"limitToLast()","Query.limitToLast()")}}startAt(...oe){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je.EO)(...oe)))}catch(J){throw Te(J,"startAt()","Query.startAt()")}}startAfter(...oe){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je.HM)(...oe)))}catch(J){throw Te(J,"startAfter()","Query.startAfter()")}}endBefore(...oe){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je.rf)(...oe)))}catch(J){throw Te(J,"endBefore()","Query.endBefore()")}}endAt(...oe){try{return new dn(this.firestore,(0,Je.P)(this._delegate,(0,Je.FD)(...oe)))}catch(J){throw Te(J,"endAt()","Query.endAt()")}}isEqual(oe){return(0,Je.B)(this._delegate,oe._delegate)}get(oe){let J;return J="cache"===oe?.source?(0,Je.kU)(this._delegate):"server"===oe?.source?(0,Je.Rr)(this._delegate):(0,Je.GG)(this._delegate),J.then(Le=>new On(this.firestore,new Je.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Le._snapshot)))}onSnapshot(...oe){const J=De(oe),Le=He(oe,Ae=>new On(this.firestore,new Je.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Ae._snapshot)));return(0,Je.aQ)(this._delegate,J,Le)}withConverter(oe){return new dn(this.firestore,this._delegate.withConverter(oe?Me.getInstance(this.firestore,oe):null))}}class en{constructor(oe,J){this._firestore=oe,this._delegate=J}get type(){return this._delegate.type}get doc(){return new At(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class On{constructor(oe,J){this._firestore=oe,this._delegate=J}get query(){return new dn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(oe=>new At(this._firestore,oe))}docChanges(oe){return this._delegate.docChanges(oe).map(J=>new en(this._firestore,J))}forEach(oe,J){this._delegate.forEach(Le=>{oe.call(J,new At(this._firestore,Le))})}isEqual(oe){return(0,Je.lN)(this._delegate,oe._delegate)}}class En extends dn{constructor(oe,J){super(oe,J),this.firestore=oe,this._delegate=J}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const oe=this._delegate.parent;return oe?new Xe(this.firestore,oe):null}doc(oe){try{return new Xe(this.firestore,void 0===oe?(0,Je.H9)(this._delegate):(0,Je.H9)(this._delegate,oe))}catch(J){throw Te(J,"doc()","CollectionReference.doc()")}}add(oe){return(0,Je.gS)(this._delegate,oe).then(J=>new Xe(this.firestore,J))}isEqual(oe){return(0,Je.yx)(this._delegate,oe._delegate)}withConverter(oe){return new En(this.firestore,this._delegate.withConverter(oe?Me.getInstance(this.firestore,oe):null))}}function dr(pt){return(0,Je.lo)(pt,Je.T1)}class Ht{constructor(...oe){this._delegate=new Je.uY(...oe)}static documentId(){return new Ht(Je.FA.keyField().canonicalString())}isEqual(oe){return(oe=(0,ze.Ku)(oe))instanceof Je.uY&&this._delegate._internalPath.isEqual(oe._internalPath)}}class Tn{constructor(oe){this._delegate=oe}static serverTimestamp(){const oe=(0,Je.O5)();return oe._methodName="FieldValue.serverTimestamp",new Tn(oe)}static delete(){const oe=(0,Je.CL)();return oe._methodName="FieldValue.delete",new Tn(oe)}static arrayUnion(...oe){const J=(0,Je.hq)(...oe);return J._methodName="FieldValue.arrayUnion",new Tn(J)}static arrayRemove(...oe){const J=(0,Je.C3)(...oe);return J._methodName="FieldValue.arrayRemove",new Tn(J)}static increment(oe){const J=(0,Je.GV)(oe);return J._methodName="FieldValue.increment",new Tn(J)}isEqual(oe){return this._delegate.isEqual(oe._delegate)}}const jn={Firestore:Bt,GeoPoint:Je.Ci,Timestamp:Je.Dc,Blob:Yt,Transaction:Pe,WriteBatch:de,DocumentReference:Xe,DocumentSnapshot:bt,Query:dn,QueryDocumentSnapshot:At,QuerySnapshot:On,CollectionReference:En,FieldPath:Ht,FieldValue:Tn,setLogLevel:function at(pt){(0,Je.He)(pt)},CACHE_SIZE_UNLIMITED:Je.H6};!function Vt(pt){(function zt(pt,oe){pt.INTERNAL.registerComponent(new it.uA("firestore-compat",J=>{const Le=J.getProvider("app-compat").getImmediate(),Ae=J.getProvider("firestore").getImmediate();return oe(Le,Ae)},"PUBLIC").setServiceProps(Object.assign({},jn)))})(pt,(oe,J)=>new Bt(oe,J,new Pt)),pt.registerVersion("@firebase/firestore-compat","0.3.32")}(an.A);var Vr=L(7935);function yr(pt,oe){return function hn(pt,oe=me.E){return new Ne.c(J=>{let Le;return null!=oe?oe.schedule(()=>{Le=pt.onSnapshot({includeMetadataChanges:!0},J)}):Le=pt.onSnapshot({includeMetadataChanges:!0},J),()=>{Le?.()}})}(pt,oe)}function Lt(pt,oe){return yr(pt,oe).pipe((0,qe.T)(J=>({payload:J,type:"query"})))}class gn{ref;afs;constructor(oe,J){this.ref=oe,this.afs=J}set(oe,J){return this.ref.set(oe,J)}update(oe){return this.ref.update(oe)}delete(){return this.ref.delete()}collection(oe,J){const Le=this.ref.collection(oe),{ref:Ae,query:Ct}=Mn(Le,J);return new ei(Ae,Ct,this.afs)}snapshotChanges(){return function Gn(pt,oe){return yr(pt,oe).pipe((0,te.Z)(void 0),st(),(0,qe.T)(J=>{const[Le,Ae]=J;return Ae.exists?Le?.exists?{payload:Ae,type:"modified"}:{payload:Ae,type:"added"}:{payload:Ae,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(oe={}){return this.snapshotChanges().pipe((0,qe.T)(({payload:J})=>oe.idField?{...J.data(),[oe.idField]:J.id}:J.data()))}get(oe){return(0,Fe.H)(this.ref.get(oe)).pipe(o.U0)}}function xn(pt,oe){return Lt(pt,oe).pipe((0,te.Z)(void 0),st(),(0,qe.T)(J=>{const[Le,Ae]=J,Ct=Ae.payload.docChanges(),Mt=Ct.map(Fn=>({type:Fn.type,payload:Fn}));return Le&&JSON.stringify(Le.payload.metadata)!==JSON.stringify(Ae.payload.metadata)&&Ae.payload.docs.forEach((Fn,xe)=>{const ee=Ct.find(V=>V.doc.ref.isEqual(Fn.ref)),$=Le?.payload.docs.find(V=>V.ref.isEqual(Fn.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(Fn.metadata)||!ee&&$&&JSON.stringify($.metadata)===JSON.stringify(Fn.metadata)||Mt.push({type:"modified",payload:{oldIndex:xe,newIndex:xe,type:"modified",doc:Fn}})}),Mt}))}function Cn(pt,oe,J){return xn(pt,J).pipe((0,yt.S)((Le,Ae)=>function hr(pt,oe,J){return oe.forEach(Le=>{J.indexOf(Le.type)>-1&&(pt=function Zr(pt,oe){switch(oe.type){case"added":if(!pt[oe.newIndex]||!pt[oe.newIndex].doc.ref.isEqual(oe.doc.ref))return Er(pt,oe.newIndex,0,oe);break;case"modified":if(null==pt[oe.oldIndex]||pt[oe.oldIndex].doc.ref.isEqual(oe.doc.ref)){if(oe.oldIndex!==oe.newIndex){const J=pt.slice();return J.splice(oe.oldIndex,1),J.splice(oe.newIndex,0,oe),J}return Er(pt,oe.newIndex,1,oe)}break;case"removed":if(pt[oe.oldIndex]&&pt[oe.oldIndex].doc.ref.isEqual(oe.doc.ref))return Er(pt,oe.oldIndex,1)}return pt}(pt,Le))}),pt}(Le,Ae.map(Ct=>Ct.payload),oe),[]),(0,vt.F)(),(0,qe.T)(Le=>Le.map(Ae=>({type:Ae.type,payload:Ae}))))}function Er(pt,oe,J,...Le){const Ae=pt.slice();return Ae.splice(oe,J,...Le),Ae}function Bn(pt){return(!pt||0===pt.length)&&(pt=["added","removed","modified"]),pt}class ei{ref;query;afs;constructor(oe,J,Le){this.ref=oe,this.query=J,this.afs=Le}stateChanges(oe){let J=xn(this.query,this.afs.schedulers.outsideAngular);return oe&&oe.length>0&&(J=J.pipe((0,qe.T)(Le=>Le.filter(Ae=>oe.indexOf(Ae.type)>-1)))),J.pipe((0,te.Z)(void 0),st(),(0,jt.p)(([Le,Ae])=>Ae.length>0||!Le),(0,qe.T)(([,Le])=>Le),o.U0)}auditTrail(oe){return this.stateChanges(oe).pipe((0,yt.S)((J,Le)=>[...J,...Le],[]))}snapshotChanges(oe){const J=Bn(oe);return Cn(this.query,J,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(oe={}){return Lt(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.T)(J=>J.payload.docs.map(Le=>oe.idField?{...Le.data(),[oe.idField]:Le.id}:Le.data())),o.U0)}get(oe){return(0,Fe.H)(this.query.get(oe)).pipe(o.U0)}add(oe){return this.ref.add(oe)}doc(oe){return new gn(this.ref.doc(oe),this.afs)}}class Ki{query;afs;constructor(oe,J){this.query=oe,this.afs=J}stateChanges(oe){return oe&&0!==oe.length?xn(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.T)(J=>J.filter(Le=>oe.indexOf(Le.type)>-1)),(0,jt.p)(J=>J.length>0),o.U0):xn(this.query,this.afs.schedulers.outsideAngular).pipe(o.U0)}auditTrail(oe){return this.stateChanges(oe).pipe((0,yt.S)((J,Le)=>[...J,...Le],[]))}snapshotChanges(oe){const J=Bn(oe);return Cn(this.query,J,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(oe={}){return Lt(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.T)(Le=>Le.payload.docs.map(Ae=>oe.idField?{[oe.idField]:Ae.id,...Ae.data()}:Ae.data())),o.U0)}get(oe){return(0,Fe.H)(this.query.get(oe)).pipe(o.U0)}}const cn=new ue.nKC("angularfire2.enableFirestorePersistence"),ti=new ue.nKC("angularfire2.firestore.persistenceSettings"),Xn=new ue.nKC("angularfire2.firestore.settings"),_r=new ue.nKC("angularfire2.firestore.use-emulator");function Mn(pt,oe=(J=>J)){return{query:oe(pt),ref:pt}}let _i=(()=>{class pt{schedulers;firestore;persistenceEnabled$;constructor(J,Le,Ae,Ct,Mt,Fn,xe,ee,$,V,F,le,Ve,It,Nt,pn,on){this.schedulers=xe;const un=(0,be.iB)(J,Fn,Le),ir=$;V&&(0,ve.gF)(un,Fn,F,Ve,It,Nt,le,pn),[this.firestore,this.persistenceEnabled$]=(0,be.BM)(`${un.name}.firestore`,"AngularFirestore",un.name,()=>{const An=Fn.runOutsideAngular(()=>un.firestore());if(Ct&&An.settings(Ct),ir&&An.useEmulator(...ir),Ae&&!(0,c.Vy)(Mt)){const vi=()=>{try{return(0,Fe.H)(An.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Tr){return typeof console<"u"&&console.warn(Tr),(0,$e.of)(!1)}};return[An,Fn.runOutsideAngular(vi)]}return[An,(0,$e.of)(!1)]},[Ct,ir,Ae])}collection(J,Le){let Ae;Ae="string"==typeof J?this.firestore.collection(J):J;const{ref:Ct,query:Mt}=Mn(Ae,Le),Fn=this.schedulers.ngZone.run(()=>Ct);return new ei(Fn,Mt,this)}collectionGroup(J,Le){const Ae=Le||(Mt=>Mt),Ct=this.firestore.collectionGroup(J);return new Ki(Ae(Ct),this)}doc(J){let Le;Le="string"==typeof J?this.firestore.doc(J):J;const Ae=this.schedulers.ngZone.run(()=>Le);return new gn(Ae,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Le){return new(Le||pt)(ue.KVO(be.rx),ue.KVO(be.uP,8),ue.KVO(cn,8),ue.KVO(Xn,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(o.u0),ue.KVO(ti,8),ue.KVO(_r,8),ue.KVO(ve.DS,8),ue.KVO(ve.CP,8),ue.KVO(ve.yy,8),ue.KVO(ve.ZP,8),ue.KVO(ve.$z,8),ue.KVO(ve.AU,8),ue.KVO(ve.UB,8),ue.KVO(o.Jv,8))};static \u0275prov=ue.jDH({token:pt,factory:pt.\u0275fac,providedIn:"any"})}return pt})(),We=(()=>{class pt{constructor(){Vr.A.registerVersion("angularfire",o.xv.full,"fst-compat")}static enablePersistence(J){return{ngModule:pt,providers:[{provide:cn,useValue:!0},{provide:ti,useValue:J}]}}static \u0275fac=function(Le){return new(Le||pt)};static \u0275mod=ue.$C({type:pt});static \u0275inj=ue.G2t({providers:[_i]})}return pt})()},8721:(rn,Qe,L)=>{L.d(Qe,{ap:()=>Pe,y5:()=>Xe});var c=L(5407),ue=L(1985),o=L(7673),be=L(8455),ve=L(3236),me=L(9974),Ne=L(4360),$e=L(6354),te=L(5558),ce=L(7705),ge=L(9253),st=L(3345),qe=L(4535),yt=L(1362);class vt{constructor(De,He,bt){this._delegate=De,this.task=He,this.ref=bt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jt{constructor(De,He){this._delegate=De,this._ref=He,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new vt(this._delegate.snapshot,this,this._ref)}then(De,He){return this._delegate.then(bt=>{if(De)return De(new vt(bt,this,this._ref))},He)}on(De,He,bt,At){let dn;return He&&(dn="function"==typeof He?en=>He(new vt(en,this,this._ref)):{next:He.next?en=>He.next(new vt(en,this,this._ref)):void 0,complete:He.complete||void 0,error:He.error||void 0}),this._delegate.on(De,dn,bt||void 0,At||void 0)}}class xt{constructor(De,He){this._delegate=De,this._service=He}get prefixes(){return this._delegate.prefixes.map(De=>new an(De,this._service))}get items(){return this._delegate.items.map(De=>new an(De,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class an{constructor(De,He){this._delegate=De,this.storage=He}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(De){const He=(0,qe.Mp)(this._delegate,De);return new an(He,this.storage)}get root(){return new an(this._delegate.root,this.storage)}get parent(){const De=this._delegate.parent;return null==De?null:new an(De,this.storage)}put(De,He){return this._throwIfRoot("put"),new jt((0,qe.bp)(this._delegate,De,He),this)}putString(De,He=qe.nw.RAW,bt){this._throwIfRoot("putString");const At=(0,qe.ZH)(He,De),dn=Object.assign({},bt);return null==dn.contentType&&null!=At.contentType&&(dn.contentType=At.contentType),new jt(new qe.UC(this._delegate,new qe.Mx(At.data,!0),dn),this)}listAll(){return(0,qe._w)(this._delegate).then(De=>new xt(De,this.storage))}list(De){return(0,qe.p_)(this._delegate,De||void 0).then(He=>new xt(He,this.storage))}getMetadata(){return(0,qe.yb)(this._delegate)}updateMetadata(De){return(0,qe.D5)(this._delegate,De)}getDownloadURL(){return(0,qe.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,qe.XR)(this._delegate)}_throwIfRoot(De){if(""===this._delegate._location.path)throw(0,qe.UY)(De)}}class Je{constructor(De,He){this.app=De,this._delegate=He}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(De){if(ze(De))throw(0,qe.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new an((0,qe.KR)(this._delegate,De),this)}refFromURL(De){if(!ze(De))throw(0,qe.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qe.TZ.makeFromUrl(De,this._delegate.host)}catch{throw(0,qe.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new an((0,qe.KR)(this._delegate,De),this)}setMaxUploadRetryTime(De){this._delegate.maxUploadRetryTime=De}setMaxOperationRetryTime(De){this._delegate.maxOperationRetryTime=De}useEmulator(De,He,bt={}){(0,qe.nb)(this._delegate,De,He,bt)}}function ze(Te){return/^[A-Za-z]+:\/\//.test(Te)}function Tt(Te,{instanceIdentifier:De}){const He=Te.getProvider("app-compat").getImmediate(),bt=Te.getProvider("storage").getImmediate({identifier:De});return new Je(He,bt)}!function Ft(Te){const De={TaskState:qe.Ad,TaskEvent:qe.xc,StringFormat:qe.nw,Storage:Je,Reference:an};Te.INTERNAL.registerComponent(new yt.uA("storage-compat",Tt,"PUBLIC").setServiceProps(De).setMultipleInstances(!0)),Te.registerVersion("@firebase/storage-compat","0.3.8")}(st.A);var Ce=L(7935);function ln(Te){const De=function Yt(Te){return new ue.c(De=>{const He=en=>De.next(en);He(Te.snapshot);const dn=Te.on("state_changed",He);return Te.then(en=>{He(en),De.complete()},en=>{He(Te.snapshot),(en=>{De.error(en)})(en)}),function(){dn()}}).pipe(function Fe(Te,De=ve.E){return(0,me.N)((He,bt)=>{let At=null,dn=null,en=null;const On=()=>{if(At){At.unsubscribe(),At=null;const dr=dn;dn=null,bt.next(dr)}};function En(){const dr=en+Te,Ht=De.now();if(Ht<dr)return At=this.schedule(void 0,dr-Ht),void bt.add(At);On()}He.subscribe((0,Ne._)(bt,dr=>{dn=dr,en=De.now(),At||(At=De.schedule(En,Te),bt.add(At))},()=>{On(),bt.complete()},void 0,()=>{dn=At=null}))})}(0))}(Te);return{task:Te,then:Te.then.bind(Te),catch:Te.catch.bind(Te),pause:Te.pause.bind(Te),cancel:Te.cancel.bind(Te),resume:Te.resume.bind(Te),snapshotChanges:()=>De,percentageChanges:()=>De.pipe((0,$e.T)(He=>He.bytesTransferred/He.totalBytes*100))}}function nr(Te){return{getDownloadURL:()=>(0,o.of)(void 0).pipe(c.Oe,(0,te.n)(()=>Te.getDownloadURL()),c.U0),getMetadata:()=>(0,o.of)(void 0).pipe(c.Oe,(0,te.n)(()=>Te.getMetadata()),c.U0),delete:()=>(0,be.H)(Te.delete()),child:De=>nr(Te.child(De)),updateMetadata:De=>(0,be.H)(Te.updateMetadata(De)),put:(De,He)=>ln(Te.put(De,He)),putString:(De,He,bt)=>ln(Te.putString(De,He,bt)),list:De=>(0,be.H)(Te.list(De)),listAll:()=>(0,be.H)(Te.listAll())}}const Pt=new ce.nKC("angularfire2.storageBucket"),Bt=new ce.nKC("angularfire2.storage.maxUploadRetryTime"),Wt=new ce.nKC("angularfire2.storage.maxOperationRetryTime"),at=new ce.nKC("angularfire2.storage.use-emulator");let Pe=(()=>{class Te{storage;constructor(He,bt,At,dn,en,On,En,dr,Ht,Tn){const jn=(0,ge.iB)(He,en,bt);this.storage=(0,ge.BM)(`${jn.name}.storage.${At}`,"AngularFireStorage",jn.name,()=>{const zt=en.runOutsideAngular(()=>jn.storage(At||void 0)),Vt=Ht;return Vt&&zt.useEmulator(...Vt),En&&zt.setMaxUploadRetryTime(En),dr&&zt.setMaxOperationRetryTime(dr),zt},[En,dr])}ref(He){return nr(this.storage.ref(He))}refFromURL(He){return nr(this.storage.refFromURL(He))}upload(He,bt,At){return nr(this.storage.ref(He)).put(bt,At)}static \u0275fac=function(bt){return new(bt||Te)(ce.KVO(ge.rx),ce.KVO(ge.uP,8),ce.KVO(Pt,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(c.u0),ce.KVO(Bt,8),ce.KVO(Wt,8),ce.KVO(at,8),ce.KVO(c.Jv,8))};static \u0275prov=ce.jDH({token:Te,factory:Te.\u0275fac,providedIn:"any"})}return Te})(),Me=(()=>{class Te{static \u0275fac=function(bt){return new(bt||Te)};static \u0275mod=ce.$C({type:Te});static \u0275inj=ce.G2t({})}return Te})(),Xe=(()=>{class Te{constructor(){Ce.A.registerVersion("angularfire",c.xv.full,"gcs-compat")}static \u0275fac=function(bt){return new(bt||Te)};static \u0275mod=ce.$C({type:Te});static \u0275inj=ce.G2t({providers:[Pe],imports:[Me]})}return Te})()},9253:(rn,Qe,L)=>{L.d(Qe,{BM:()=>qe,Gt:()=>ve,bf:()=>st,e7:()=>me,iB:()=>te,rx:()=>Fe,uP:()=>$e});var c=L(7705),ue=L(5407),o=L(7935);const be=["ngOnDestroy"],ve=(xt,an,Je,ze={})=>new Proxy(xt,{get:(it,Ye)=>Je.runOutsideAngular(()=>{if(xt[Ye])return ze?.spy?.get&&ze.spy.get(Ye,xt[Ye]),xt[Ye];if(be.indexOf(Ye)>-1)return()=>{};const nt=an.toPromise().then(Tt=>{const Ft=Tt?.[Ye];return"function"==typeof Ft?Ft.bind(Tt):Ft?.then?Ft.then(Ce=>Je.run(()=>Ce)):Je.run(()=>Ft)});return new Proxy(()=>{},{get:(Tt,Ft)=>nt[Ft],apply:(Tt,Ft,Ce)=>nt.then(Yt=>{const ln=Yt?.(...Ce);return ze?.spy?.apply&&ze.spy.apply(Ye,Ce,ln),ln})})})}),me=(xt,an)=>{an.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(ze=>{Object.defineProperty(xt.prototype,ze,Object.getOwnPropertyDescriptor(Je.prototype||Je,ze))})})};class Ne{constructor(an){return an}}const Fe=new c.nKC("angularfire2.app.options"),$e=new c.nKC("angularfire2.app.name");function te(xt,an,Je){const it="object"==typeof Je&&Je||{};it.name=it.name||"string"==typeof Je&&Je||"[DEFAULT]";const nt=o.A.apps.filter(Tt=>Tt&&Tt.name===it.name)[0]||an.runOutsideAngular(()=>o.A.initializeApp(xt,it));try{if(JSON.stringify(xt)!==JSON.stringify(nt.options)){const Tt=!!module.hot;ce("error",`${nt.name} Firebase App already initialized with different options${Tt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ne(nt)}const ce=(xt,...an)=>{(0,c.naY)()&&typeof console<"u"&&console[xt](...an)},ge={provide:Ne,useFactory:te,deps:[Fe,c.SKi,[new c.Xx1,$e]]};let st=(()=>{class xt{static initializeApp(Je,ze){return{ngModule:xt,providers:[{provide:Fe,useValue:Je},{provide:$e,useValue:ze}]}}constructor(Je){o.A.registerVersion("angularfire",ue.xv.full,"core"),o.A.registerVersion("angularfire",ue.xv.full,"app-compat"),o.A.registerVersion("angular",c.xvI.full,Je.toString())}static \u0275fac=function(ze){return new(ze||xt)(c.KVO(c.Agw))};static \u0275mod=c.$C({type:xt});static \u0275inj=c.G2t({providers:[ge]})}return xt})();function qe(xt,an,Je,ze,it){const[,Ye,nt]=globalThis.\u0275AngularfireInstanceCache.find(Tt=>Tt[0]===xt)||[];if(Ye)return function yt(xt,an){try{return xt.toString()===an.toString()}catch{return xt===an}}(it,nt)||(jt("error",`${an} was already initialized on the ${Je} Firebase App with different settings.${vt?" You may need to reload as Firebase is not HMR aware.":""}`),jt("warn",{is:it,was:nt})),Ye;{const Tt=ze();return globalThis.\u0275AngularfireInstanceCache.push([xt,Tt,it]),Tt}}const vt=typeof module<"u"&&!!module.hot,jt=(xt,...an)=>{(0,c.naY)()&&typeof console<"u"&&console[xt](...an)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(rn,Qe,L)=>{L.d(Qe,{xv:()=>qe,U0:()=>ln,Oe:()=>Ce,u0:()=>Ye,Jv:()=>xt,CA:()=>jt,lR:()=>vt,S3:()=>Bt});var c=L(7705),ue=L(2214),o=L(6780),ve=L(9687);const Ne=new class me extends ve.q{}(class be extends o.R{constructor(at,Pe){super(at,Pe),this.scheduler=at,this.work=Pe}schedule(at,Pe=0){return Pe>0?super.schedule(at,Pe):(this.delay=Pe,this.state=at,this.scheduler.flush(this),this)}execute(at,Pe){return Pe>0||this.closed?super.execute(at,Pe):this._execute(at,Pe)}requestAsyncId(at,Pe,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(at,Pe,de):(at.flush(this),0)}});var $e=L(3236),te=L(1985),ce=L(8141),ge=L(941),st=L(6745);const qe=new c.RxE("ANGULARFIRE2_VERSION");function vt(Wt,at,Pe){if(at){if(1===at.length)return at[0];const Xe=at.filter(Te=>Te.app===Pe);if(1===Xe.length)return Xe[0]}return Pe.container.getProvider(Wt).getImmediate({optional:!0})}const jt=(Wt,at)=>{const Pe=at?[at]:(0,ue.Dk)(),de=[];return Pe.forEach(Me=>{Me.container.getProvider(Wt).instances.forEach(Te=>{de.includes(Te)||de.push(Te)})}),de};class xt{constructor(){return jt(an)}}const an="app-check";function Je(){}class ze{zone;delegate;constructor(at,Pe=Ne){this.zone=at,this.delegate=Pe}now(){return this.delegate.now()}schedule(at,Pe,de){const Me=this.zone;return this.delegate.schedule(function(Te){Me.runGuarded(()=>{at.apply(this,[Te])})},Pe,de)}}class it{zone;task=null;constructor(at){this.zone=at}call(at,Pe){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je)),Pe.pipe((0,ce.M)({next:de,complete:de,error:de})).subscribe(at).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{class Wt{ngZone;outsideAngular;insideAngular;constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new ze(Zone.current)),this.insideAngular=Pe.run(()=>new ze(Zone.current,$e.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(de){return new(de||Wt)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})();function nt(){const Wt=globalThis.\u0275AngularFireScheduler;if(!Wt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Wt}function Ft(Wt){return nt().ngZone.run(()=>Wt())}function Ce(Wt){return Wt.pipe((0,ge.Q)(nt().outsideAngular))}function ln(Wt){return function nr(Wt){return function(Pe){return(Pe=Pe.lift(new it(Wt.ngZone))).pipe((0,st._)(Wt.outsideAngular),(0,ge.Q)(Wt.insideAngular))}}(nt())(Wt)}const Pt=(Wt,at)=>function(){const de=arguments;return at&&setTimeout(()=>{"scheduled"===at.state&&at.invoke()},10),Ft(()=>Wt.apply(void 0,de))},Bt=(Wt,at)=>function(){let Pe;const de=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof de[Xe]&&(at&&(Pe||=Ft(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je))),de[Xe]=Pt(de[Xe],Pe));const Me=function Tt(Wt){return nt().ngZone.runOutsideAngular(()=>Wt())}(()=>Wt.apply(this,de));if(!at){if(Me instanceof te.c){const Xe=nt();return Me.pipe((0,st._)(Xe.outsideAngular),(0,ge.Q)(Xe.insideAngular))}return Ft(()=>Me)}return Me instanceof te.c?Me.pipe(ln):Me instanceof Promise?Ft(()=>new Promise((Xe,Te)=>Me.then(De=>Ft(()=>Xe(De)),De=>Ft(()=>Te(De))))):"function"==typeof Me&&Pe?function(){return setTimeout(()=>{Pe&&"scheduled"===Pe.state&&Pe.invoke()},10),Me.apply(this,arguments)}:Ft(()=>Me)}},4341:(rn,Qe,L)=>{L.d(Qe,{Zm:()=>jt,me:()=>ze,v8:()=>xo,ok:()=>Bs,JD:()=>Hr,j4:()=>Qt,$R:()=>cr,YN:()=>ia,BC:()=>xn,cb:()=>Cn,cV:()=>Bi,vS:()=>ts,xH:()=>pi,Q0:()=>ps,Fm:()=>Zn,X1:()=>Fa,YS:()=>Kr,wz:()=>go,k0:()=>Ce,qT:()=>fs,y7:()=>Et});var c=L(7705),ue=L(177),o=L(8455),be=L(1985),ve=L(3073),me=L(8750),Ne=L(3794),Fe=L(4360),$e=L(6450),te=L(8496),ge=L(6354);let st=(()=>{class G{constructor(O,se){this._renderer=O,this._elementRef=se,this.onChange=Oe=>{},this.onTouched=()=>{}}setProperty(O,se){this._renderer.setProperty(this._elementRef.nativeElement,O,se)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(c.sFG),c.rXU(c.aKT))};static#t=this.\u0275dir=c.FsC({type:G})}return G})(),qe=(()=>{class G extends st{static#e=this.\u0275fac=function(){let O;return function(Oe){return(O||(O=c.xGo(G)))(Oe||G)}}();static#t=this.\u0275dir=c.FsC({type:G,features:[c.Vt3]})}return G})();const yt=new c.nKC("NgValueAccessor"),vt={provide:yt,useExisting:(0,c.Rfq)(()=>jt),multi:!0};let jt=(()=>{class G extends qe{writeValue(O){this.setProperty("checked",O)}static#e=this.\u0275fac=function(){let O;return function(Oe){return(O||(O=c.xGo(G)))(Oe||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(se,Oe){1&se&&c.bIt("change",function($n){return Oe.onChange($n.target.checked)})("blur",function(){return Oe.onTouched()})},features:[c.Jv_([vt]),c.Vt3]})}return G})();const xt={provide:yt,useExisting:(0,c.Rfq)(()=>ze),multi:!0},Je=new c.nKC("CompositionEventMode");let ze=(()=>{class G extends st{constructor(O,se,Oe){super(O,se),this._compositionMode=Oe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function an(){const G=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Je,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(se,Oe){1&se&&c.bIt("input",function($n){return Oe._handleInput($n.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function($n){return Oe._compositionEnd($n.target.value)})},features:[c.Jv_([xt]),c.Vt3]})}return G})();function it(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function Ye(G){return null!=G&&"number"==typeof G.length}const nt=new c.nKC("NgValidators"),Tt=new c.nKC("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ce{static min(X){return function Yt(G){return X=>{if(it(X.value)||it(G))return null;const O=parseFloat(X.value);return!isNaN(O)&&O<G?{min:{min:G,actual:X.value}}:null}}(X)}static max(X){return function ln(G){return X=>{if(it(X.value)||it(G))return null;const O=parseFloat(X.value);return!isNaN(O)&&O>G?{max:{max:G,actual:X.value}}:null}}(X)}static required(X){return nr(X)}static requiredTrue(X){return function Pt(G){return!0===G.value?null:{required:!0}}(X)}static email(X){return function Bt(G){return it(G.value)||Ft.test(G.value)?null:{email:!0}}(X)}static minLength(X){return function Wt(G){return X=>it(X.value)||!Ye(X.value)?null:X.value.length<G?{minlength:{requiredLength:G,actualLength:X.value.length}}:null}(X)}static maxLength(X){return function at(G){return X=>Ye(X.value)&&X.value.length>G?{maxlength:{requiredLength:G,actualLength:X.value.length}}:null}(X)}static pattern(X){return function Pe(G){if(!G)return de;let X,O;return"string"==typeof G?(O="","^"!==G.charAt(0)&&(O+="^"),O+=G,"$"!==G.charAt(G.length-1)&&(O+="$"),X=new RegExp(O)):(O=G.toString(),X=G),se=>{if(it(se.value))return null;const Oe=se.value;return X.test(Oe)?null:{pattern:{requiredPattern:O,actualValue:Oe}}}}(X)}static nullValidator(X){return null}static compose(X){return At(X)}static composeAsync(X){return en(X)}}function nr(G){return it(G.value)?{required:!0}:null}function de(G){return null}function Me(G){return null!=G}function Xe(G){return(0,c.jNT)(G)?(0,o.H)(G):G}function Te(G){let X={};return G.forEach(O=>{X=null!=O?{...X,...O}:X}),0===Object.keys(X).length?null:X}function De(G,X){return X.map(O=>O(G))}function bt(G){return G.map(X=>function He(G){return!G.validate}(X)?X:O=>X.validate(O))}function At(G){if(!G)return null;const X=G.filter(Me);return 0==X.length?null:function(O){return Te(De(O,X))}}function dn(G){return null!=G?At(bt(G)):null}function en(G){if(!G)return null;const X=G.filter(Me);return 0==X.length?null:function(O){return function ce(...G){const X=(0,Ne.ms)(G),{args:O,keys:se}=(0,ve.D)(G),Oe=new be.c(vn=>{const{length:$n}=O;if(!$n)return void vn.complete();const to=new Array($n);let mo=$n,Gi=$n;for(let is=0;is<$n;is++){let Uo=!1;(0,me.Tg)(O[is]).subscribe((0,Fe._)(vn,Xo=>{Uo||(Uo=!0,Gi--),to[is]=Xo},()=>mo--,void 0,()=>{(!mo||!Uo)&&(Gi||vn.next(se?(0,te.e)(se,to):to),vn.complete())}))}});return X?Oe.pipe((0,$e.I)(X)):Oe}(De(O,X).map(Xe)).pipe((0,ge.T)(Te))}}function On(G){return null!=G?en(bt(G)):null}function En(G,X){return null===G?[X]:Array.isArray(G)?[...G,X]:[G,X]}function dr(G){return G._rawValidators}function Ht(G){return G._rawAsyncValidators}function Tn(G){return G?Array.isArray(G)?G:[G]:[]}function jn(G,X){return Array.isArray(G)?G.includes(X):G===X}function zt(G,X){const O=Tn(X);return Tn(G).forEach(Oe=>{jn(O,Oe)||O.push(Oe)}),O}function Vt(G,X){return Tn(X).filter(O=>!jn(G,O))}class Vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=dn(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=On(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,O){return!!this.control&&this.control.hasError(X,O)}getError(X,O){return this.control?this.control.getError(X,O):null}}class hn extends Vr{get formDirective(){return null}get path(){return null}}class yr extends Vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(X){this._cd=X}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xn=(()=>{class G extends Gn{constructor(O){super(O)}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(yr,2))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(se,Oe){2&se&&c.AVh("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[c.Vt3]})}return G})(),Cn=(()=>{class G extends Gn{constructor(O){super(O)}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(hn,10))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(se,Oe){2&se&&c.AVh("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)("ng-submitted",Oe.isSubmitted)},features:[c.Vt3]})}return G})();const Ae="VALID",Ct="INVALID",Mt="PENDING",Fn="DISABLED";function xe(G){return(F(G)?G.validators:G)||null}function $(G,X){return(F(X)?X.asyncValidators:G)||null}function F(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function le(G,X,O){const se=G.controls;if(!(X?Object.keys(se):se).length)throw new c.wOt(1e3,"");if(!se[O])throw new c.wOt(1001,"")}function Ve(G,X,O){G._forEachChild((se,Oe)=>{if(void 0===O[Oe])throw new c.wOt(1002,"")})}class It{constructor(X,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(X),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(X){this._rawValidators=this._composedValidatorFn=X}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(X){this._rawAsyncValidators=this._composedAsyncValidatorFn=X}get parent(){return this._parent}get valid(){return this.status===Ae}get invalid(){return this.status===Ct}get pending(){return this.status==Mt}get disabled(){return this.status===Fn}get enabled(){return this.status!==Fn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(X){this._assignValidators(X)}setAsyncValidators(X){this._assignAsyncValidators(X)}addValidators(X){this.setValidators(zt(X,this._rawValidators))}addAsyncValidators(X){this.setAsyncValidators(zt(X,this._rawAsyncValidators))}removeValidators(X){this.setValidators(Vt(X,this._rawValidators))}removeAsyncValidators(X){this.setAsyncValidators(Vt(X,this._rawAsyncValidators))}hasValidator(X){return jn(this._rawValidators,X)}hasAsyncValidator(X){return jn(this._rawAsyncValidators,X)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(X={}){this.touched=!0,this._parent&&!X.onlySelf&&this._parent.markAsTouched(X)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(X=>X.markAllAsTouched())}markAsUntouched(X={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}markAsDirty(X={}){this.pristine=!1,this._parent&&!X.onlySelf&&this._parent.markAsDirty(X)}markAsPristine(X={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}markAsPending(X={}){this.status=Mt,!1!==X.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!X.onlySelf&&this._parent.markAsPending(X)}disable(X={}){const O=this._parentMarkedDirty(X.onlySelf);this.status=Fn,this.errors=null,this._forEachChild(se=>{se.disable({...X,onlySelf:!0})}),this._updateValue(),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...X,skipPristineCheck:O}),this._onDisabledChange.forEach(se=>se(!0))}enable(X={}){const O=this._parentMarkedDirty(X.onlySelf);this.status=Ae,this._forEachChild(se=>{se.enable({...X,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent}),this._updateAncestors({...X,skipPristineCheck:O}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(X){this._parent&&!X.onlySelf&&(this._parent.updateValueAndValidity(X),X.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(X){this._parent=X}getRawValue(){return this.value}updateValueAndValidity(X={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ae||this.status===Mt)&&this._runAsyncValidator(X.emitEvent)),!1!==X.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!X.onlySelf&&this._parent.updateValueAndValidity(X)}_updateTreeValidity(X={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(X)),this.updateValueAndValidity({onlySelf:!0,emitEvent:X.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fn:Ae}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(X){if(this.asyncValidator){this.status=Mt,this._hasOwnPendingAsyncValidator=!0;const O=Xe(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:X})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(X,O={}){this.errors=X,this._updateControlsErrors(!1!==O.emitEvent)}get(X){let O=X;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((se,Oe)=>se&&se._find(Oe),this)}getError(X,O){const se=O?this.get(O):this;return se&&se.errors?se.errors[X]:null}hasError(X,O){return!!this.getError(X,O)}get root(){let X=this;for(;X._parent;)X=X._parent;return X}_updateControlsErrors(X){this.status=this._calculateStatus(),X&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(X)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Fn:this.errors?Ct:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mt)?Mt:this._anyControlsHaveStatus(Ct)?Ct:Ae}_anyControlsHaveStatus(X){return this._anyControls(O=>O.status===X)}_anyControlsDirty(){return this._anyControls(X=>X.dirty)}_anyControlsTouched(){return this._anyControls(X=>X.touched)}_updatePristine(X={}){this.pristine=!this._anyControlsDirty(),this._parent&&!X.onlySelf&&this._parent._updatePristine(X)}_updateTouched(X={}){this.touched=this._anyControlsTouched(),this._parent&&!X.onlySelf&&this._parent._updateTouched(X)}_registerOnCollectionChange(X){this._onCollectionChange=X}_setUpdateStrategy(X){F(X)&&null!=X.updateOn&&(this._updateOn=X.updateOn)}_parentMarkedDirty(X){return!X&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(X){return null}_assignValidators(X){this._rawValidators=Array.isArray(X)?X.slice():X,this._composedValidatorFn=function ee(G){return Array.isArray(G)?dn(G):G||null}(this._rawValidators)}_assignAsyncValidators(X){this._rawAsyncValidators=Array.isArray(X)?X.slice():X,this._composedAsyncValidatorFn=function V(G){return Array.isArray(G)?On(G):G||null}(this._rawAsyncValidators)}}class Nt extends It{constructor(X,O,se){super(xe(O),$(se,O)),this.controls=X,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(X,O){return this.controls[X]?this.controls[X]:(this.controls[X]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(X,O,se={}){this.registerControl(X,O),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(X,O={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(X,O,se={}){this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),delete this.controls[X],O&&this.registerControl(X,O),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(X){return this.controls.hasOwnProperty(X)&&this.controls[X].enabled}setValue(X,O={}){Ve(this,0,X),Object.keys(X).forEach(se=>{le(this,!0,se),this.controls[se].setValue(X[se],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(X,O={}){null!=X&&(Object.keys(X).forEach(se=>{const Oe=this.controls[se];Oe&&Oe.patchValue(X[se],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(X={},O={}){this._forEachChild((se,Oe)=>{se.reset(X?X[Oe]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(X,O,se)=>(X[se]=O.getRawValue(),X))}_syncPendingControls(){let X=this._reduceChildren(!1,(O,se)=>!!se._syncPendingControls()||O);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){Object.keys(this.controls).forEach(O=>{const se=this.controls[O];se&&X(se,O)})}_setUpControls(){this._forEachChild(X=>{X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(X){for(const[O,se]of Object.entries(this.controls))if(this.contains(O)&&X(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,se,Oe)=>((se.enabled||this.disabled)&&(O[Oe]=se.value),O))}_reduceChildren(X,O){let se=X;return this._forEachChild((Oe,vn)=>{se=O(se,Oe,vn)}),se}_allControlsDisabled(){for(const X of Object.keys(this.controls))if(this.controls[X].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(X){return this.controls.hasOwnProperty(X)?this.controls[X]:null}}class un extends Nt{}const An=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>vi}),vi="always";function Tr(G,X){return[...X.path,G]}function Ko(G,X,O=vi){ai(G,X),X.valueAccessor.writeValue(G.value),(G.disabled||"always"===O)&&X.valueAccessor.setDisabledState?.(G.disabled),function dt(G,X){X.valueAccessor.registerOnChange(O=>{G._pendingValue=O,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Dt(G,X)})}(G,X),function fn(G,X){const O=(se,Oe)=>{X.valueAccessor.writeValue(se),Oe&&X.viewToModelUpdate(se)};G.registerOnChange(O),X._registerOnDestroy(()=>{G._unregisterOnChange(O)})}(G,X),function Ze(G,X){X.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Dt(G,X),"submit"!==G.updateOn&&G.markAsTouched()})}(G,X),function Li(G,X){if(X.valueAccessor.setDisabledState){const O=se=>{X.valueAccessor.setDisabledState(se)};G.registerOnDisabledChange(O),X._registerOnDestroy(()=>{G._unregisterOnDisabledChange(O)})}}(G,X)}function di(G,X,O=!0){const se=()=>{};X.valueAccessor&&(X.valueAccessor.registerOnChange(se),X.valueAccessor.registerOnTouched(se)),or(G,X),G&&(X._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function Ji(G,X){G.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(X)})}function ai(G,X){const O=dr(G);null!==X.validator?G.setValidators(En(O,X.validator)):"function"==typeof O&&G.setValidators([O]);const se=Ht(G);null!==X.asyncValidator?G.setAsyncValidators(En(se,X.asyncValidator)):"function"==typeof se&&G.setAsyncValidators([se]);const Oe=()=>G.updateValueAndValidity();Ji(X._rawValidators,Oe),Ji(X._rawAsyncValidators,Oe)}function or(G,X){let O=!1;if(null!==G){if(null!==X.validator){const Oe=dr(G);if(Array.isArray(Oe)&&Oe.length>0){const vn=Oe.filter($n=>$n!==X.validator);vn.length!==Oe.length&&(O=!0,G.setValidators(vn))}}if(null!==X.asyncValidator){const Oe=Ht(G);if(Array.isArray(Oe)&&Oe.length>0){const vn=Oe.filter($n=>$n!==X.asyncValidator);vn.length!==Oe.length&&(O=!0,G.setAsyncValidators(vn))}}}const se=()=>{};return Ji(X._rawValidators,se),Ji(X._rawAsyncValidators,se),O}function Dt(G,X){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),X.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Rn(G,X){ai(G,X)}function Pr(G,X){if(!G.hasOwnProperty("model"))return!1;const O=G.model;return!!O.isFirstChange()||!Object.is(X,O.currentValue)}function Mi(G,X){G._syncPendingControls(),X.forEach(O=>{const se=O.control;"submit"===se.updateOn&&se._pendingChange&&(O.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}function hs(G,X){if(!X)return null;let O,se,Oe;return Array.isArray(X),X.forEach(vn=>{vn.constructor===ze?O=vn:function ds(G){return Object.getPrototypeOf(G.constructor)===qe}(vn)?se=vn:Oe=vn}),Oe||se||O||null}const So={provide:hn,useExisting:(0,c.Rfq)(()=>Bi)},Ai=(()=>Promise.resolve())();let Bi=(()=>{class G extends hn{constructor(O,se,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Nt({},dn(O),On(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Ai.then(()=>{const se=this._findContainer(O.path);O.control=se.registerControl(O.name,O.control),Ko(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Ai.then(()=>{const se=this._findContainer(O.path);se&&se.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){Ai.then(()=>{const se=this._findContainer(O.path),Oe=new Nt({});Rn(Oe,O),se.registerControl(O.name,Oe),Oe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Ai.then(()=>{const se=this._findContainer(O.path);se&&se.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,se){Ai.then(()=>{this.form.get(O.path).setValue(se)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,Mi(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(nt,10),c.rXU(Tt,10),c.rXU(An,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(se,Oe){1&se&&c.bIt("submit",function($n){return Oe.onSubmit($n)})("reset",function(){return Oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([So]),c.Vt3]})}return G})();function vr(G,X){const O=G.indexOf(X);O>-1&&G.splice(O,1)}function ns(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Lr=class extends It{constructor(X=null,O,se){super(xe(O),$(se,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(X),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=ns(X)?X.value:X)}setValue(X,O={}){this.value=this._pendingValue=X,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(X,O={}){this.setValue(X,O)}reset(X=this.defaultValue,O={}){this._applyFormState(X),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(X){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(X){this._onChange.push(X)}_unregisterOnChange(X){vr(this._onChange,X)}registerOnDisabledChange(X){this._onDisabledChange.push(X)}_unregisterOnDisabledChange(X){vr(this._onDisabledChange,X)}_forEachChild(X){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(X){ns(X)?(this.value=this._pendingValue=X.value,X.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=X}};let Zi=(()=>{class G extends hn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Tr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let O;return function(Oe){return(O||(O=c.xGo(G)))(Oe||G)}}();static#t=this.\u0275dir=c.FsC({type:G,features:[c.Vt3]})}return G})();const fi={provide:yr,useExisting:(0,c.Rfq)(()=>ts)},so=(()=>Promise.resolve())();let ts=(()=>{class G extends yr{constructor(O,se,Oe,vn,$n,to){super(),this._changeDetectorRef=$n,this.callSetDisabledState=to,this.control=new Lr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=O,this._setValidators(se),this._setAsyncValidators(Oe),this.valueAccessor=hs(0,vn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const se=O.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),Pr(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ko(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){so.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const se=O.isDisabled.currentValue,Oe=0!==se&&(0,c.L39)(se);so.then(()=>{Oe&&!this.control.disabled?this.control.disable():!Oe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?Tr(O,this._parent):[O]}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(hn,9),c.rXU(nt,10),c.rXU(Tt,10),c.rXU(yt,10),c.rXU(c.gRc,8),c.rXU(An,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([fi]),c.Vt3,c.OA$]})}return G})(),fs=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})();const yo={provide:yt,useExisting:(0,c.Rfq)(()=>ps),multi:!0};let ps=(()=>{class G extends qe{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=se=>{O(""==se?null:parseFloat(se))}}static#e=this.\u0275fac=function(){let O;return function(Oe){return(O||(O=c.xGo(G)))(Oe||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(se,Oe){1&se&&c.bIt("input",function($n){return Oe.onChange($n.target.value)})("blur",function(){return Oe.onTouched()})},features:[c.Jv_([yo]),c.Vt3]})}return G})();const Yn={provide:yt,useExisting:(0,c.Rfq)(()=>Zn),multi:!0};let Ar=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({})}return G})(),ci=(()=>{class G{constructor(){this._accessors=[]}add(O,se){this._accessors.push([O,se])}remove(O){for(let se=this._accessors.length-1;se>=0;--se)if(this._accessors[se][1]===O)return void this._accessors.splice(se,1)}select(O){this._accessors.forEach(se=>{this._isSameGroup(se,O)&&se[1]!==O&&se[1].fireUncheck(O.value)})}_isSameGroup(O,se){return!!O[0].control&&O[0]._parent===se._control._parent&&O[1].name===se.name}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275prov=c.jDH({token:G,factory:G.\u0275fac,providedIn:Ar})}return G})(),Zn=(()=>{class G extends qe{constructor(O,se,Oe,vn){super(O,se),this._registry=Oe,this._injector=vn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,c.WQX)(An,{optional:!0})??vi}ngOnInit(){this._control=this._injector.get(yr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(O){this._state=O===this.value,this.setProperty("checked",this._state)}registerOnChange(O){this._fn=O,this.onChange=()=>{O(this.value),this._registry.select(this)}}setDisabledState(O){(this.setDisabledStateFired||O||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",O),this.setDisabledStateFired=!0}fireUncheck(O){this.writeValue(O)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(ci),c.rXU(c.zZn))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(se,Oe){1&se&&c.bIt("change",function(){return Oe.onChange()})("blur",function(){return Oe.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c.Jv_([Yn]),c.Vt3]})}return G})();const ao=new c.nKC("NgModelWithFormControlWarning"),$r={provide:hn,useExisting:(0,c.Rfq)(()=>Qt)};let Qt=(()=>{class G extends hn{constructor(O,se,Oe){super(),this.callSetDisabledState=Oe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(O),this._setAsyncValidators(se)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(or(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const se=this.form.get(O.path);return Ko(se,O,this.callSetDisabledState),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),se}getControl(O){return this.form.get(O.path)}removeControl(O){di(O.control||null,O,!1),function yi(G,X){const O=G.indexOf(X);O>-1&&G.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,se){this.form.get(O.path).setValue(se)}onSubmit(O){return this.submitted=!0,Mi(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const se=O.control,Oe=this.form.get(O.path);se!==Oe&&(di(se||null,O),(G=>G instanceof Lr)(Oe)&&(Ko(Oe,O,this.callSetDisabledState),O.control=Oe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const se=this.form.get(O.path);Rn(se,O),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const se=this.form.get(O.path);se&&function Vn(G,X){return or(G,X)}(se,O)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ai(this.form,this),this._oldForm&&or(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(nt,10),c.rXU(Tt,10),c.rXU(An,8))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(se,Oe){1&se&&c.bIt("submit",function($n){return Oe.onSubmit($n)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([$r]),c.Vt3,c.OA$]})}return G})();const zn={provide:hn,useExisting:(0,c.Rfq)(()=>cr)};let cr=(()=>{class G extends Zi{constructor(O,se,Oe){super(),this.name=null,this._parent=O,this._setValidators(se),this._setAsyncValidators(Oe)}_checkParentType(){hi(this._parent)}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(hn,13),c.rXU(nt,10),c.rXU(Tt,10))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c.Jv_([zn]),c.Vt3]})}return G})();const ki={provide:hn,useExisting:(0,c.Rfq)(()=>xo)};let xo=(()=>{class G extends hn{constructor(O,se,Oe){super(),this.name=null,this._parent=O,this._setValidators(se),this._setAsyncValidators(Oe)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Tr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){hi(this._parent)}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(hn,13),c.rXU(nt,10),c.rXU(Tt,10))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c.Jv_([ki]),c.Vt3]})}return G})();function hi(G){return!(G instanceof cr||G instanceof Qt||G instanceof xo)}const Eo={provide:yr,useExisting:(0,c.Rfq)(()=>Hr)};let Hr=(()=>{class G extends yr{set isDisabled(O){}static#e=this._ngModelWarningSentOnce=!1;constructor(O,se,Oe,vn,$n){super(),this._ngModelWarningConfig=$n,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(se),this._setAsyncValidators(Oe),this.valueAccessor=hs(0,vn)}ngOnChanges(O){this._added||this._setUpControl(),Pr(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return Tr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(se){return new(se||G)(c.rXU(hn,13),c.rXU(nt,10),c.rXU(Tt,10),c.rXU(yt,10),c.rXU(ao,8))};static#n=this.\u0275dir=c.FsC({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([Eo]),c.Vt3,c.OA$]})}return G})();const Ro={provide:yt,useExisting:(0,c.Rfq)(()=>go),multi:!0};function Mo(G,X){return null==G?`${X}`:(X&&"object"==typeof X&&(X="Object"),`${G}: ${X}`.slice(0,50))}let go=(()=>{class G extends qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const Oe=Mo(this._getOptionId(O),O);this.setProperty("value",Oe)}registerOnChange(O){this.onChange=se=>{this.value=this._getOptionValue(se),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const se of this._optionMap.keys())if(this._compareWith(this._optionMap.get(se),O))return se;return null}_getOptionValue(O){const se=function Wn(G){return G.split(":")[0]}(O);return this._optionMap.has(se)?this._optionMap.get(se):O}static#e=this.\u0275fac=function(){let O;return function(Oe){return(O||(O=c.xGo(G)))(Oe||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(se,Oe){1&se&&c.bIt("change",function($n){return Oe.onChange($n.target.value)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Ro]),c.Vt3]})}return G})(),pi=(()=>{class G{constructor(O,se,Oe){this._element=O,this._renderer=se,this._select=Oe,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(Mo(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(go,9))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})();const Q={provide:yt,useExisting:(0,c.Rfq)(()=>Be),multi:!0};function H(G,X){return null==G?`${X}`:("string"==typeof X&&(X=`'${X}'`),X&&"object"==typeof X&&(X="Object"),`${G}: ${X}`.slice(0,50))}let Be=(()=>{class G extends qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let se;if(this.value=O,Array.isArray(O)){const Oe=O.map(vn=>this._getOptionId(vn));se=(vn,$n)=>{vn._setSelected(Oe.indexOf($n.toString())>-1)}}else se=(Oe,vn)=>{Oe._setSelected(!1)};this._optionMap.forEach(se)}registerOnChange(O){this.onChange=se=>{const Oe=[],vn=se.selectedOptions;if(void 0!==vn){const $n=vn;for(let to=0;to<$n.length;to++){const Gi=this._getOptionValue($n[to].value);Oe.push(Gi)}}else{const $n=se.options;for(let to=0;to<$n.length;to++){const mo=$n[to];if(mo.selected){const Gi=this._getOptionValue(mo.value);Oe.push(Gi)}}}this.value=Oe,O(Oe)}}_registerOption(O){const se=(this._idCounter++).toString();return this._optionMap.set(se,O),se}_getOptionId(O){for(const se of this._optionMap.keys())if(this._compareWith(this._optionMap.get(se)._value,O))return se;return null}_getOptionValue(O){const se=function _e(G){return G.split(":")[0]}(O);return this._optionMap.has(se)?this._optionMap.get(se)._value:O}static#e=this.\u0275fac=function(){let O;return function(Oe){return(O||(O=c.xGo(G)))(Oe||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(se,Oe){1&se&&c.bIt("change",function($n){return Oe.onChange($n.target)})("blur",function(){return Oe.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Q]),c.Vt3]})}return G})(),Et=(()=>{class G{constructor(O,se,Oe){this._element=O,this._renderer=se,this._select=Oe,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(H(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(H(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(se){return new(se||G)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Be,9))};static#t=this.\u0275dir=c.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})(),kt=(()=>{class G{constructor(){this._validator=de}ngOnChanges(O){if(this.inputName in O){const se=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):de,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=c.FsC({type:G,features:[c.OA$]})}return G})();const ri={provide:nt,useExisting:(0,c.Rfq)(()=>Kr),multi:!0};let Kr=(()=>{class G extends kt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=O=>nr}enabled(O){return O}static#e=this.\u0275fac=function(){let O;return function(Oe){return(O||(O=c.xGo(G)))(Oe||G)}}();static#t=this.\u0275dir=c.FsC({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(se,Oe){2&se&&c.BMQ("required",Oe._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([ri]),c.Vt3]})}return G})(),Oo=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({imports:[Ar]})}return G})();class rs extends It{constructor(X,O,se){super(xe(O),$(se,O)),this.controls=X,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(X){return this.controls[this._adjustIndex(X)]}push(X,O={}){this.controls.push(X),this._registerControl(X),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(X,O,se={}){this.controls.splice(X,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(X,O={}){let se=this._adjustIndex(X);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(X,O,se={}){let Oe=this._adjustIndex(X);Oe<0&&(Oe=0),this.controls[Oe]&&this.controls[Oe]._registerOnCollectionChange(()=>{}),this.controls.splice(Oe,1),O&&(this.controls.splice(Oe,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(X,O={}){Ve(this,0,X),X.forEach((se,Oe)=>{le(this,!1,Oe),this.at(Oe).setValue(se,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(X,O={}){null!=X&&(X.forEach((se,Oe)=>{this.at(Oe)&&this.at(Oe).patchValue(se,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(X=[],O={}){this._forEachChild((se,Oe)=>{se.reset(X[Oe],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(X=>X.getRawValue())}clear(X={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:X.emitEvent}))}_adjustIndex(X){return X<0?X+this.length:X}_syncPendingControls(){let X=this.controls.reduce((O,se)=>!!se._syncPendingControls()||O,!1);return X&&this.updateValueAndValidity({onlySelf:!0}),X}_forEachChild(X){this.controls.forEach((O,se)=>{X(O,se)})}_updateValue(){this.value=this.controls.filter(X=>X.enabled||this.disabled).map(X=>X.value)}_anyControls(X){return this.controls.some(O=>O.enabled&&X(O))}_setUpControls(){this._forEachChild(X=>this._registerControl(X))}_allControlsDisabled(){for(const X of this.controls)if(X.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(X){X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange)}_find(X){return this.at(X)??null}}function Hi(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Bs=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new G;return O.useNonNullable=!0,O}group(O,se=null){const Oe=this._reduceControls(O);let vn={};return Hi(se)?vn=se:null!==se&&(vn.validators=se.validator,vn.asyncValidators=se.asyncValidator),new Nt(Oe,vn)}record(O,se=null){const Oe=this._reduceControls(O);return new un(Oe,se)}control(O,se,Oe){let vn={};return this.useNonNullable?(Hi(se)?vn=se:(vn.validators=se,vn.asyncValidators=Oe),new Lr(O,{...vn,nonNullable:!0})):new Lr(O,se,Oe)}array(O,se,Oe){const vn=O.map($n=>this._createControl($n));return new rs(vn,se,Oe)}_reduceControls(O){const se={};return Object.keys(O).forEach(Oe=>{se[Oe]=this._createControl(O[Oe])}),se}_createControl(O){return O instanceof Lr||O instanceof It?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275prov=c.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),ia=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:An,useValue:O.callSetDisabledState??vi}]}}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({imports:[Oo]})}return G})(),Fa=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:ao,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:An,useValue:O.callSetDisabledState??vi}]}}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=c.$C({type:G});static#n=this.\u0275inj=c.G2t({imports:[Oo]})}return G})()},345:(rn,Qe,L)=>{L.d(Qe,{Bb:()=>jn,W8:()=>Vt,hE:()=>yr,sG:()=>En,up:()=>_i});var c=L(7705),ue=L(177);class o extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends o{static makeCurrent(){(0,ue.ZD)(new be)}onAndCancel($,V,F){return $.addEventListener(V,F),()=>{$.removeEventListener(V,F)}}dispatchEvent($,V){$.dispatchEvent(V)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,V){return(V=V||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,V){return"window"===V?window:"document"===V?$:"body"===V?$.body:null}getBaseHref($){const V=function me(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==V?null:function Fe(ee){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ee);const $=Ne.pathname;return"/"===$.charAt(0)?$:`/${$}`}(V)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,ue._b)(document.cookie,$)}}let Ne,ve=null,te=(()=>{class ee{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const ce=new c.nKC("EventManagerPlugins");let ge=(()=>{class ee{constructor(V,F){this._zone=F,this._eventNameToPlugin=new Map,V.forEach(le=>{le.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,F,le){return this._findPluginFor(F).addEventListener(V,F,le)}getZone(){return this._zone}_findPluginFor(V){let F=this._eventNameToPlugin.get(V);if(F)return F;if(F=this._plugins.find(Ve=>Ve.supports(V)),!F)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(V,F),F}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ce),c.KVO(c.SKi))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class st{constructor($){this._doc=$}}const qe="ng-app-id";let yt=(()=>{class ee{constructor(V,F,le,Ve={}){this.doc=V,this.appId=F,this.nonce=le,this.platformId=Ve,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(Ve),this.resetHostNodes()}addStyles(V){for(const F of V)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(V){for(const F of V)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(F=>F.remove()),V.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const F of this.getAllStyles())this.addStyleToHost(V,F)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const F of this.hostNodes)this.addStyleToHost(F,V)}onStyleRemoved(V){const F=this.styleRef;F.get(V)?.elements?.forEach(le=>le.remove()),F.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${qe}="${this.appId}"]`);if(V?.length){const F=new Map;return V.forEach(le=>{null!=le.textContent&&F.set(le.textContent,le)}),F}return null}changeUsageCount(V,F){const le=this.styleRef;if(le.has(V)){const Ve=le.get(V);return Ve.usage+=F,Ve.usage}return le.set(V,{usage:F,elements:[]}),F}getStyleElement(V,F){const le=this.styleNodesInDOM,Ve=le?.get(F);if(Ve?.parentNode===V)return le.delete(F),Ve.removeAttribute(qe),Ve;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=F,this.platformIsServer&&It.setAttribute(qe,this.appId),It}}addStyleToHost(V,F){const le=this.getStyleElement(V,F);V.appendChild(le);const Ve=this.styleRef,It=Ve.get(F)?.elements;It?It.push(le):Ve.set(F,{elements:[le],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ue.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g,it=new c.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Tt(ee,$){return $.map(V=>V.replace(jt,ee))}let Ft=(()=>{class ee{constructor(V,F,le,Ve,It,Nt,pn,on=null){this.eventManager=V,this.sharedStylesHost=F,this.appId=le,this.removeStylesOnCompDestroy=Ve,this.doc=It,this.platformId=Nt,this.ngZone=pn,this.nonce=on,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(Nt),this.defaultRenderer=new Ce(V,It,pn,this.platformIsServer)}createRenderer(V,F){if(!V||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===c.gXe.ShadowDom&&(F={...F,encapsulation:c.gXe.Emulated});const le=this.getOrCreateRenderer(V,F);return le instanceof Wt?le.applyToHost(V):le instanceof Bt&&le.applyStyles(),le}getOrCreateRenderer(V,F){const le=this.rendererByCompId;let Ve=le.get(F.id);if(!Ve){const It=this.doc,Nt=this.ngZone,pn=this.eventManager,on=this.sharedStylesHost,un=this.removeStylesOnCompDestroy,ir=this.platformIsServer;switch(F.encapsulation){case c.gXe.Emulated:Ve=new Wt(pn,on,F,this.appId,un,It,Nt,ir);break;case c.gXe.ShadowDom:return new Pt(pn,on,V,F,It,Nt,this.nonce,ir);default:Ve=new Bt(pn,on,F,un,It,Nt,ir)}le.set(F.id,Ve)}return Ve}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ge),c.KVO(yt),c.KVO(c.sZ2),c.KVO(it),c.KVO(ue.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class Ce{constructor($,V,F,le){this.eventManager=$,this.doc=V,this.ngZone=F,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,V){return V?this.doc.createElementNS(vt[V]||V,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,V){(nr($)?$.content:$).appendChild(V)}insertBefore($,V,F){$&&(nr($)?$.content:$).insertBefore(V,F)}removeChild($,V){$&&$.removeChild(V)}selectRootElement($,V){let F="string"==typeof $?this.doc.querySelector($):$;if(!F)throw new c.wOt(-5104,!1);return V||(F.textContent=""),F}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,V,F,le){if(le){V=le+":"+V;const Ve=vt[le];Ve?$.setAttributeNS(Ve,V,F):$.setAttribute(V,F)}else $.setAttribute(V,F)}removeAttribute($,V,F){if(F){const le=vt[F];le?$.removeAttributeNS(le,V):$.removeAttribute(`${F}:${V}`)}else $.removeAttribute(V)}addClass($,V){$.classList.add(V)}removeClass($,V){$.classList.remove(V)}setStyle($,V,F,le){le&(c.czy.DashCase|c.czy.Important)?$.style.setProperty(V,F,le&c.czy.Important?"important":""):$.style[V]=F}removeStyle($,V,F){F&c.czy.DashCase?$.style.removeProperty(V):$.style[V]=""}setProperty($,V,F){$[V]=F}setValue($,V){$.nodeValue=V}listen($,V,F){if("string"==typeof $&&!($=(0,ue.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${V}`);return this.eventManager.addEventListener($,V,this.decoratePreventDefault(F))}decoratePreventDefault($){return V=>{if("__ngUnwrap__"===V)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(V)):$(V))&&V.preventDefault()}}}function nr(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Pt extends Ce{constructor($,V,F,le,Ve,It,Nt,pn){super($,Ve,It,pn),this.sharedStylesHost=V,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=Tt(le.id,le.styles);for(const un of on){const ir=document.createElement("style");Nt&&ir.setAttribute("nonce",Nt),ir.textContent=un,this.shadowRoot.appendChild(ir)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,V){return super.appendChild(this.nodeOrShadowRoot($),V)}insertBefore($,V,F){return super.insertBefore(this.nodeOrShadowRoot($),V,F)}removeChild($,V){return super.removeChild(this.nodeOrShadowRoot($),V)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bt extends Ce{constructor($,V,F,le,Ve,It,Nt,pn){super($,Ve,It,Nt),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=le,this.styles=pn?Tt(pn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wt extends Bt{constructor($,V,F,le,Ve,It,Nt,pn){const on=le+"-"+F.id;super($,V,F,Ve,It,Nt,pn,on),this.contentAttr=function Ye(ee){return"_ngcontent-%COMP%".replace(jt,ee)}(on),this.hostAttr=function nt(ee){return"_nghost-%COMP%".replace(jt,ee)}(on)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,V){const F=super.createElement($,V);return super.setAttribute(F,this.contentAttr,""),F}}let at=(()=>{class ee extends st{constructor(V){super(V)}supports(V){return!0}addEventListener(V,F,le){return V.addEventListener(F,le,!1),()=>this.removeEventListener(V,F,le)}removeEventListener(V,F,le){return V.removeEventListener(F,le)}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ue.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Pe=["alt","control","meta","shift"],de={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Me={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let Xe=(()=>{class ee extends st{constructor(V){super(V)}supports(V){return null!=ee.parseEventName(V)}addEventListener(V,F,le){const Ve=ee.parseEventName(F),It=ee.eventCallback(Ve.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(V,Ve.domEventName,It))}static parseEventName(V){const F=V.toLowerCase().split("."),le=F.shift();if(0===F.length||"keydown"!==le&&"keyup"!==le)return null;const Ve=ee._normalizeKey(F.pop());let It="",Nt=F.indexOf("code");if(Nt>-1&&(F.splice(Nt,1),It="code."),Pe.forEach(on=>{const un=F.indexOf(on);un>-1&&(F.splice(un,1),It+=on+".")}),It+=Ve,0!=F.length||0===Ve.length)return null;const pn={};return pn.domEventName=le,pn.fullKey=It,pn}static matchEventFullKeyCode(V,F){let le=de[V.key]||V.key,Ve="";return F.indexOf("code.")>-1&&(le=V.code,Ve="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),Pe.forEach(It=>{It!==le&&(0,Me[It])(V)&&(Ve+=It+".")}),Ve+=le,Ve===F)}static eventCallback(V,F,le){return Ve=>{ee.matchEventFullKeyCode(Ve,V)&&le.runGuarded(()=>F(Ve))}}static _normalizeKey(V){return"esc"===V?"escape":V}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ue.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const En=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:ue.AJ},{provide:c.PLl,useValue:function At(){be.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function en(){return(0,c.TL$)(document),document},deps:[]}]),dr=new c.nKC(""),Ht=[{provide:c.e01,useClass:class $e{addToWindow($){c.JZv.getAngularTestability=(F,le=!0)=>{const Ve=$.findTestabilityInTree(F,le);if(null==Ve)throw new c.wOt(5103,!1);return Ve},c.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(F=>{const le=c.JZv.getAllAngularTestabilities();let Ve=le.length,It=!1;const Nt=function(pn){It=It||pn,Ve--,0==Ve&&F(It)};le.forEach(pn=>{pn.whenStable(Nt)})})}findTestabilityInTree($,V,F){return null==V?null:$.getTestability(V)??(F?(0,ue.QT)().isShadowRoot(V)?this.findTestabilityInTree($,V.host,!0):this.findTestabilityInTree($,V.parentElement,!0):null)}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],Tn=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function dn(){return new c.zcH},deps:[]},{provide:ce,useClass:at,multi:!0,deps:[ue.qQ,c.SKi,c.Agw]},{provide:ce,useClass:Xe,multi:!0,deps:[ue.qQ]},Ft,yt,ge,{provide:c._9s,useExisting:Ft},{provide:ue.N0,useClass:te,deps:[]},[]];let jn=(()=>{class ee{constructor(V){}static withServerTransition(V){return{ngModule:ee,providers:[{provide:c.sZ2,useValue:V.appId}]}}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(dr,12))};static#t=this.\u0275mod=c.$C({type:ee});static#n=this.\u0275inj=c.G2t({providers:[...Tn,...Ht],imports:[ue.MD,c.Hbi]})}return ee})(),Vt=(()=>{class ee{constructor(V){this._doc=V,this._dom=(0,ue.QT)()}addTag(V,F=!1){return V?this._getOrCreateElement(V,F):null}addTags(V,F=!1){return V?V.reduce((le,Ve)=>(Ve&&le.push(this._getOrCreateElement(Ve,F)),le),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const F=this._doc.querySelectorAll(`meta[${V}]`);return F?[].slice.call(F):[]}updateTag(V,F){if(!V)return null;F=F||this._parseSelector(V);const le=this.getTag(F);return le?this._setMetaElementAttributes(V,le):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,F=!1){if(!F){const It=this._parseSelector(V),Nt=this.getTags(It).filter(pn=>this._containsAttributes(V,pn))[0];if(void 0!==Nt)return Nt}const le=this._dom.createElement("meta");return this._setMetaElementAttributes(V,le),this._doc.getElementsByTagName("head")[0].appendChild(le),le}_setMetaElementAttributes(V,F){return Object.keys(V).forEach(le=>F.setAttribute(this._getMetaKeyMap(le),V[le])),F}_parseSelector(V){const F=V.name?"name":"property";return`${F}="${V[F]}"`}_containsAttributes(V,F){return Object.keys(V).every(le=>F.getAttribute(this._getMetaKeyMap(le))===V[le])}_getMetaKeyMap(V){return Vr[V]||V}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ue.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let le=null;return le=F?new F:function zt(){return new Vt((0,c.KVO)(ue.qQ))}(),le},providedIn:"root"})}return ee})();const Vr={httpEquiv:"http-equiv"};let yr=(()=>{class ee{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ue.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let le=null;return le=F?new F:function hn(){return new yr((0,c.KVO)(ue.qQ))}(),le},providedIn:"root"})}return ee})();typeof window<"u"&&window;let _i=(()=>{class ee{static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let le=null;return le=F?new(F||ee):c.KVO(pt),le},providedIn:"root"})}return ee})(),pt=(()=>{class ee extends _i{constructor(V){super(),this._doc=V}sanitize(V,F){if(null==F)return null;switch(V){case c.WPN.NONE:return F;case c.WPN.HTML:return(0,c.ZF7)(F,"HTML")?(0,c.rcV)(F):(0,c.h9k)(this._doc,String(F)).toString();case c.WPN.STYLE:return(0,c.ZF7)(F,"Style")?(0,c.rcV)(F):F;case c.WPN.SCRIPT:if((0,c.ZF7)(F,"Script"))return(0,c.rcV)(F);throw new c.wOt(5200,!1);case c.WPN.URL:return(0,c.ZF7)(F,"URL")?(0,c.rcV)(F):(0,c.$MX)(String(F));case c.WPN.RESOURCE_URL:if((0,c.ZF7)(F,"ResourceURL"))return(0,c.rcV)(F);throw new c.wOt(5201,!1);default:throw new c.wOt(5202,!1)}}bypassSecurityTrustHtml(V){return(0,c.Kcf)(V)}bypassSecurityTrustStyle(V){return(0,c.cWb)(V)}bypassSecurityTrustScript(V){return(0,c.UyX)(V)}bypassSecurityTrustUrl(V){return(0,c.osQ)(V)}bypassSecurityTrustResourceUrl(V){return(0,c.e5t)(V)}static#e=this.\u0275fac=function(F){return new(F||ee)(c.KVO(ue.qQ))};static#t=this.\u0275prov=c.jDH({token:ee,factory:function(F){let le=null;return le=F?new F:function We(ee){return new pt(ee.get(ue.qQ))}(c.KVO(c.zZn)),le},providedIn:"root"})}return ee})()},6814:(rn,Qe,L)=>{L.d(Qe,{nX:()=>cr,Ix:()=>Mr,Wk:()=>lc,iI:()=>ol,n3:()=>go});var c=L(7705),ue=L(1985),o=L(8071),ve=L(8455),me=L(7673),Ne=L(4412),Fe=L(3073),$e=L(3669),te=L(6450),ce=L(3794),ge=L(8496),st=L(4360),qe=L(5225);function yt(...w){const x=(0,ce.lI)(w),b=(0,ce.ms)(w),{args:R,keys:j}=(0,Fe.D)(w);if(0===R.length)return(0,ve.H)([],x);const re=new ue.c(function vt(w,x,b=$e.D){return R=>{jt(x,()=>{const{length:j}=w,re=new Array(j);let Ee=j,ht=j;for(let lt=0;lt<j;lt++)jt(x,()=>{const mn=(0,ve.H)(w[lt],x);let mr=!1;mn.subscribe((0,st._)(R,wr=>{re[lt]=wr,mr||(mr=!0,ht--),ht||R.next(b(re.slice()))},()=>{--Ee||R.complete()}))},R)},R)}}(R,x,j?Ee=>(0,ge.e)(j,Ee):$e.D));return b?re.pipe((0,te.I)(b)):re}function jt(w,x,b){w?(0,qe.N)(b,w,x):x()}var xt=L(9350),an=L(8793),Je=L(8750);function ze(w){return new ue.c(x=>{(0,Je.Tg)(w()).subscribe(x)})}var it=L(1203),Ye=L(8810),nt=L(983),Tt=L(8359),Ft=L(9974);function Ce(){return(0,Ft.N)((w,x)=>{let b=null;w._refCount++;const R=(0,st._)(x,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(b=null);const j=w._connection,re=b;b=null,j&&(!re||j===re)&&j.unsubscribe(),x.unsubscribe()});w.subscribe(R),R.closed||(b=w.connect())})}class Yt extends ue.c{constructor(x,b){super(),this.source=x,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,Ft.S)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Tt.yU;const b=this.getSubject();x.add(this.source.subscribe((0,st._)(b,void 0,()=>{this._teardown(),b.complete()},R=>{this._teardown(),b.error(R)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Tt.yU.EMPTY)}return x}refCount(){return Ce()(this)}}var ln=L(1413),nr=L(177),Pt=L(6354),Bt=L(5558),Wt=L(6697),at=L(9172),Pe=L(5964),de=L(1397),Me=L(1594),Xe=L(274),Te=L(8141),De=L(9437),He=L(2816),bt=L(9901);function At(w){return w<=0?()=>nt.w:(0,Ft.N)((x,b)=>{let R=[];x.subscribe((0,st._)(b,j=>{R.push(j),w<R.length&&R.shift()},()=>{for(const j of R)b.next(j);b.complete()},void 0,()=>{R=null}))})}var dn=L(3774),En=L(980),dr=L(5343),Tn=L(6365),jn=L(345);const zt="primary",Vt=Symbol("RouteTitle");class Vr{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const b=this.params[x];return Array.isArray(b)?b[0]:b}return null}getAll(x){if(this.has(x)){const b=this.params[x];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function hn(w){return new Vr(w)}function yr(w,x,b){const R=b.path.split("/");if(R.length>w.length||"full"===b.pathMatch&&(x.hasChildren()||R.length<w.length))return null;const j={};for(let re=0;re<R.length;re++){const Ee=R[re],ht=w[re];if(Ee.startsWith(":"))j[Ee.substring(1)]=ht;else if(Ee!==ht.path)return null}return{consumed:w.slice(0,R.length),posParams:j}}function Lt(w,x){const b=w?Object.keys(w):void 0,R=x?Object.keys(x):void 0;if(!b||!R||b.length!=R.length)return!1;let j;for(let re=0;re<b.length;re++)if(j=b[re],!gn(w[j],x[j]))return!1;return!0}function gn(w,x){if(Array.isArray(w)&&Array.isArray(x)){if(w.length!==x.length)return!1;const b=[...w].sort(),R=[...x].sort();return b.every((j,re)=>R[re]===j)}return w===x}function xn(w){return w.length>0?w[w.length-1]:null}function Cn(w){return function be(w){return!!w&&(w instanceof ue.c||(0,o.T)(w.lift)&&(0,o.T)(w.subscribe))}(w)?w:(0,c.jNT)(w)?(0,ve.H)(Promise.resolve(w)):(0,me.of)(w)}const hr={exact:function ei(w,x,b){if(!pt(w.segments,x.segments)||!Xn(w.segments,x.segments,b)||w.numberOfChildren!==x.numberOfChildren)return!1;for(const R in x.children)if(!w.children[R]||!ei(w.children[R],x.children[R],b))return!1;return!0},subset:cn},Er={exact:function Bn(w,x){return Lt(w,x)},subset:function Ki(w,x){return Object.keys(x).length<=Object.keys(w).length&&Object.keys(x).every(b=>gn(w[b],x[b]))},ignored:()=>!0};function Zr(w,x,b){return hr[b.paths](w.root,x.root,b.matrixParams)&&Er[b.queryParams](w.queryParams,x.queryParams)&&!("exact"===b.fragment&&w.fragment!==x.fragment)}function cn(w,x,b){return ti(w,x,x.segments,b)}function ti(w,x,b,R){if(w.segments.length>b.length){const j=w.segments.slice(0,b.length);return!(!pt(j,b)||x.hasChildren()||!Xn(j,b,R))}if(w.segments.length===b.length){if(!pt(w.segments,b)||!Xn(w.segments,b,R))return!1;for(const j in x.children)if(!w.children[j]||!cn(w.children[j],x.children[j],R))return!1;return!0}{const j=b.slice(0,w.segments.length),re=b.slice(w.segments.length);return!!(pt(w.segments,j)&&Xn(w.segments,j,R)&&w.children[zt])&&ti(w.children[zt],x,re,R)}}function Xn(w,x,b){return x.every((R,j)=>Er[b](w[j].parameters,R.parameters))}class _r{constructor(x=new Mn([],{}),b={},R=null){this.root=x,this.queryParams=b,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return Ae.serialize(this)}}class Mn{constructor(x,b){this.segments=x,this.children=b,this.parent=null,Object.values(b).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ct(this)}}class _i{constructor(x,b){this.path=x,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=hn(this.parameters)),this._parameterMap}toString(){return le(this)}}function pt(w,x){return w.length===x.length&&w.every((b,R)=>b.path===x[R].path)}let J=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return new Le},providedIn:"root"})}return w})();class Le{parse(x){const b=new Ko(x);return new _r(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(x){const b=`/${Mt(x.root,!0)}`,R=function It(w){const x=Object.keys(w).map(b=>{const R=w[b];return Array.isArray(R)?R.map(j=>`${xe(b)}=${xe(j)}`).join("&"):`${xe(b)}=${xe(R)}`}).filter(b=>!!b);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${b}${R}${"string"==typeof x.fragment?`#${function ee(w){return encodeURI(w)}(x.fragment)}`:""}`}}const Ae=new Le;function Ct(w){return w.segments.map(x=>le(x)).join("/")}function Mt(w,x){if(!w.hasChildren())return Ct(w);if(x){const b=w.children[zt]?Mt(w.children[zt],!1):"",R=[];return Object.entries(w.children).forEach(([j,re])=>{j!==zt&&R.push(`${j}:${Mt(re,!1)}`)}),R.length>0?`${b}(${R.join("//")})`:b}{const b=function oe(w,x){let b=[];return Object.entries(w.children).forEach(([R,j])=>{R===zt&&(b=b.concat(x(j,R)))}),Object.entries(w.children).forEach(([R,j])=>{R!==zt&&(b=b.concat(x(j,R)))}),b}(w,(R,j)=>j===zt?[Mt(w.children[zt],!1)]:[`${j}:${Mt(R,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[zt]?`${Ct(w)}/${b[0]}`:`${Ct(w)}/(${b.join("//")})`}}function Fn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xe(w){return Fn(w).replace(/%3B/gi,";")}function $(w){return Fn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(w){return decodeURIComponent(w)}function F(w){return V(w.replace(/\+/g,"%20"))}function le(w){return`${$(w.path)}${function Ve(w){return Object.keys(w).map(x=>`;${$(x)}=${$(w[x])}`).join("")}(w.parameters)}`}const Nt=/^[^\/()?;#]+/;function pn(w){const x=w.match(Nt);return x?x[0]:""}const on=/^[^\/()?;=#]+/,ir=/^[^=?&#]+/,vi=/^[^&#]+/;class Ko{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(x.length>0||Object.keys(b).length>0)&&(R[zt]=new Mn(x,b)),R}parseSegment(){const x=pn(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(x),new _i(V(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const b=function un(w){const x=w.match(on);return x?x[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const j=pn(this.remaining);j&&(R=j,this.capture(R))}x[V(b)]=V(R)}parseQueryParam(x){const b=function An(w){const x=w.match(ir);return x?x[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const Ee=function Tr(w){const x=w.match(vi);return x?x[0]:""}(this.remaining);Ee&&(R=Ee,this.capture(R))}const j=F(b),re=F(R);if(x.hasOwnProperty(j)){let Ee=x[j];Array.isArray(Ee)||(Ee=[Ee],x[j]=Ee),Ee.push(re)}else x[j]=re}parseParens(x){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=pn(this.remaining),j=this.remaining[R.length];if("/"!==j&&")"!==j&&";"!==j)throw new c.wOt(4010,!1);let re;R.indexOf(":")>-1?(re=R.slice(0,R.indexOf(":")),this.capture(re),this.capture(":")):x&&(re=zt);const Ee=this.parseChildren();b[re]=1===Object.keys(Ee).length?Ee[zt]:new Mn([],Ee),this.consumeOptional("//")}return b}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new c.wOt(4011,!1)}}function di(w){return w.segments.length>0?new Mn([],{[zt]:w}):w}function Ji(w){const x={};for(const R of Object.keys(w.children)){const re=Ji(w.children[R]);if(R===zt&&0===re.segments.length&&re.hasChildren())for(const[Ee,ht]of Object.entries(re.children))x[Ee]=ht;else(re.segments.length>0||re.hasChildren())&&(x[R]=re)}return function Li(w){if(1===w.numberOfChildren&&w.children[zt]){const x=w.children[zt];return new Mn(w.segments.concat(x.segments),x.children)}return w}(new Mn(w.segments,x))}function ai(w){return w instanceof _r}function dt(w){let x;const j=di(function b(re){const Ee={};for(const lt of re.children){const mn=b(lt);Ee[lt.outlet]=mn}const ht=new Mn(re.url,Ee);return re===w&&(x=ht),ht}(w.root));return x??j}function Ze(w,x,b,R){let j=w;for(;j.parent;)j=j.parent;if(0===x.length)return Rn(j,j,j,b,R);const re=function Br(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Nn(!0,0,w);let x=0,b=!1;const R=w.reduce((j,re,Ee)=>{if("object"==typeof re&&null!=re){if(re.outlets){const ht={};return Object.entries(re.outlets).forEach(([lt,mn])=>{ht[lt]="string"==typeof mn?mn.split("/"):mn}),[...j,{outlets:ht}]}if(re.segmentPath)return[...j,re.segmentPath]}return"string"!=typeof re?[...j,re]:0===Ee?(re.split("/").forEach((ht,lt)=>{0==lt&&"."===ht||(0==lt&&""===ht?b=!0:".."===ht?x++:""!=ht&&j.push(ht))}),j):[...j,re]},[]);return new Nn(b,x,R)}(x);if(re.toRoot())return Rn(j,j,new Mn([],{}),b,R);const Ee=function Ri(w,x,b){if(w.isAbsolute)return new Nr(x,!0,0);if(!b)return new Nr(x,!1,NaN);if(null===b.parent)return new Nr(b,!0,0);const R=Dt(w.commands[0])?0:1;return function qo(w,x,b){let R=w,j=x,re=b;for(;re>j;){if(re-=j,R=R.parent,!R)throw new c.wOt(4005,!1);j=R.segments.length}return new Nr(R,!1,j-re)}(b,b.segments.length-1+R,w.numberOfDoubleDots)}(re,j,w),ht=Ee.processChildren?Mi(Ee.segmentGroup,Ee.index,re.commands):ds(Ee.segmentGroup,Ee.index,re.commands);return Rn(j,Ee.segmentGroup,ht,b,R)}function Dt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function fn(w){return"object"==typeof w&&null!=w&&w.outlets}function Rn(w,x,b,R,j){let Ee,re={};R&&Object.entries(R).forEach(([lt,mn])=>{re[lt]=Array.isArray(mn)?mn.map(mr=>`${mr}`):`${mn}`}),Ee=w===x?b:Vn(w,x,b);const ht=di(Ji(Ee));return new _r(ht,re,j)}function Vn(w,x,b){const R={};return Object.entries(w.children).forEach(([j,re])=>{R[j]=re===x?b:Vn(re,x,b)}),new Mn(w.segments,R)}class Nn{constructor(x,b,R){if(this.isAbsolute=x,this.numberOfDoubleDots=b,this.commands=R,x&&R.length>0&&Dt(R[0]))throw new c.wOt(4003,!1);const j=R.find(fn);if(j&&j!==xn(R))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nr{constructor(x,b,R){this.segmentGroup=x,this.processChildren=b,this.index=R}}function ds(w,x,b){if(w||(w=new Mn([],{})),0===w.segments.length&&w.hasChildren())return Mi(w,x,b);const R=function hs(w,x,b){let R=0,j=x;const re={match:!1,pathIndex:0,commandIndex:0};for(;j<w.segments.length;){if(R>=b.length)return re;const Ee=w.segments[j],ht=b[R];if(fn(ht))break;const lt=`${ht}`,mn=R<b.length-1?b[R+1]:null;if(j>0&&void 0===lt)break;if(lt&&mn&&"object"==typeof mn&&void 0===mn.outlets){if(!Ai(lt,mn,Ee))return re;R+=2}else{if(!Ai(lt,{},Ee))return re;R++}j++}return{match:!0,pathIndex:j,commandIndex:R}}(w,x,b),j=b.slice(R.commandIndex);if(R.match&&R.pathIndex<w.segments.length){const re=new Mn(w.segments.slice(0,R.pathIndex),{});return re.children[zt]=new Mn(w.segments.slice(R.pathIndex),w.children),Mi(re,0,j)}return R.match&&0===j.length?new Mn(w.segments,{}):R.match&&!w.hasChildren()?yi(w,x,b):R.match?Mi(w,0,j):yi(w,x,b)}function Mi(w,x,b){if(0===b.length)return new Mn(w.segments,{});{const R=function Pr(w){return fn(w[0])?w[0].outlets:{[zt]:w}}(b),j={};if(Object.keys(R).some(re=>re!==zt)&&w.children[zt]&&1===w.numberOfChildren&&0===w.children[zt].segments.length){const re=Mi(w.children[zt],x,b);return new Mn(w.segments,re.children)}return Object.entries(R).forEach(([re,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(j[re]=ds(w.children[re],x,Ee))}),Object.entries(w.children).forEach(([re,Ee])=>{void 0===R[re]&&(j[re]=Ee)}),new Mn(w.segments,j)}}function yi(w,x,b){const R=w.segments.slice(0,x);let j=0;for(;j<b.length;){const re=b[j];if(fn(re)){const lt=va(re.outlets);return new Mn(R,lt)}if(0===j&&Dt(b[0])){R.push(new _i(w.segments[x].path,So(b[0]))),j++;continue}const Ee=fn(re)?re.outlets[zt]:`${re}`,ht=j<b.length-1?b[j+1]:null;Ee&&ht&&Dt(ht)?(R.push(new _i(Ee,So(ht))),j+=2):(R.push(new _i(Ee,{})),j++)}return new Mn(R,{})}function va(w){const x={};return Object.entries(w).forEach(([b,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(x[b]=yi(new Mn([],{}),0,R))}),x}function So(w){const x={};return Object.entries(w).forEach(([b,R])=>x[b]=`${R}`),x}function Ai(w,x,b){return w==b.path&&Lt(x,b.parameters)}const Bi="imperative";class vr{constructor(x,b){this.id=x,this.url=b}}class ns extends vr{constructor(x,b,R="imperative",j=null){super(x,b),this.type=0,this.navigationTrigger=R,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lr extends vr{constructor(x,b,R){super(x,b),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xr extends vr{constructor(x,b,R,j){super(x,b),this.reason=R,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends vr{constructor(x,b,R,j){super(x,b),this.reason=R,this.code=j,this.type=16}}class Zi extends vr{constructor(x,b,R,j){super(x,b),this.error=R,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qi extends vr{constructor(x,b,R,j){super(x,b),this.urlAfterRedirects=R,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends vr{constructor(x,b,R,j){super(x,b),this.urlAfterRedirects=R,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends vr{constructor(x,b,R,j,re){super(x,b),this.urlAfterRedirects=R,this.state=j,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oi extends vr{constructor(x,b,R,j){super(x,b),this.urlAfterRedirects=R,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Na extends vr{constructor(x,b,R,j){super(x,b),this.urlAfterRedirects=R,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fi{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class so{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ps{constructor(x,b,R){this.routerEvent=x,this.position=b,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yn{}class fr{constructor(x){this.url=x}}class ci{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zn,this.attachRef=null}}let Zn=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(b,R){const j=this.getOrCreateContext(b);j.outlet=R,this.contexts.set(b,j)}onChildOutletDestroyed(b){const R=this.getContext(b);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let R=this.getContext(b);return R||(R=new ci,this.contexts.set(b,R)),R}getContext(b){return this.contexts.get(b)||null}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Po{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const b=this.pathFromRoot(x);return b.length>1?b[b.length-2]:null}children(x){const b=Ui(x,this._root);return b?b.children.map(R=>R.value):[]}firstChild(x){const b=Ui(x,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(x){const b=ao(x,this._root);return b.length<2?[]:b[b.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return ao(x,this._root).map(b=>b.value)}}function Ui(w,x){if(w===x.value)return x;for(const b of x.children){const R=Ui(w,b);if(R)return R}return null}function ao(w,x){if(w===x.value)return[x];for(const b of x.children){const R=ao(w,b);if(R.length)return R.unshift(x),R}return[]}class Di{constructor(x,b){this.value=x,this.children=b}toString(){return`TreeNode(${this.value})`}}function co(w){const x={};return w&&w.children.forEach(b=>x[b.value.outlet]=b),x}class $r extends Po{constructor(x,b){super(x),this.snapshot=b,Hr(this,x)}toString(){return this.snapshot.toString()}}function Qt(w,x){const b=function zn(w,x){const Ee=new hi([],{},{},"",{},zt,x,null,{});return new Eo("",new Di(Ee,[]))}(0,x),R=new Ne.t([new _i("",{})]),j=new Ne.t({}),re=new Ne.t({}),Ee=new Ne.t({}),ht=new Ne.t(""),lt=new cr(R,j,Ee,ht,re,zt,x,b.root);return lt.snapshot=b.root,new $r(new Di(lt,[]),b)}class cr{constructor(x,b,R,j,re,Ee,ht,lt){this.urlSubject=x,this.paramsSubject=b,this.queryParamsSubject=R,this.fragmentSubject=j,this.dataSubject=re,this.outlet=Ee,this.component=ht,this._futureSnapshot=lt,this.title=this.dataSubject?.pipe((0,Pt.T)(mn=>mn[Vt]))??(0,me.of)(void 0),this.url=x,this.params=b,this.queryParams=R,this.fragment=j,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.T)(x=>hn(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.T)(x=>hn(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ki(w,x="emptyOnly"){const b=w.pathFromRoot;let R=0;if("always"!==x)for(R=b.length-1;R>=1;){const j=b[R],re=b[R-1];if(j.routeConfig&&""===j.routeConfig.path)R--;else{if(re.component)break;R--}}return function xo(w){return w.reduce((x,b)=>({params:{...x.params,...b.params},data:{...x.data,...b.data},resolve:{...b.data,...x.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(R))}class hi{get title(){return this.data?.[Vt]}constructor(x,b,R,j,re,Ee,ht,lt,mn){this.url=x,this.params=b,this.queryParams=R,this.fragment=j,this.data=re,this.outlet=Ee,this.component=ht,this.routeConfig=lt,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eo extends Po{constructor(x,b){super(b),this.url=x,Hr(this,b)}toString(){return Ro(this._root)}}function Hr(w,x){x.value._routerState=w,x.children.forEach(b=>Hr(w,b))}function Ro(w){const x=w.children.length>0?` { ${w.children.map(Ro).join(", ")} } `:"";return`${w.value}${x}`}function Mo(w){if(w.snapshot){const x=w.snapshot,b=w._futureSnapshot;w.snapshot=b,Lt(x.queryParams,b.queryParams)||w.queryParamsSubject.next(b.queryParams),x.fragment!==b.fragment&&w.fragmentSubject.next(b.fragment),Lt(x.params,b.params)||w.paramsSubject.next(b.params),function Gn(w,x){if(w.length!==x.length)return!1;for(let b=0;b<w.length;++b)if(!Lt(w[b],x[b]))return!1;return!0}(x.url,b.url)||w.urlSubject.next(b.url),Lt(x.data,b.data)||w.dataSubject.next(b.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Wn(w,x){const b=Lt(w.params,x.params)&&function We(w,x){return pt(w,x)&&w.every((b,R)=>Lt(b.parameters,x[R].parameters))}(w.url,x.url);return b&&!(!w.parent!=!x.parent)&&(!w.parent||Wn(w.parent,x.parent))}let go=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(Zn),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(Q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:R,previousValue:j}=b.name;if(R)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,R){this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=b;const j=this.location,Ee=b.snapshot.component,ht=this.parentContexts.getOrCreateContext(this.name).children,lt=new pi(b,ht,j.injector);this.activated=j.createComponent(Ee,{index:j.length,injector:lt,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275dir=c.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}return w})();class pi{constructor(x,b,R){this.route=x,this.childContexts=b,this.parent=R}get(x,b){return x===cr?this.route:x===Zn?this.childContexts:this.parent.get(x,b)}}const Q=new c.nKC("");let H=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:R}=b,j=yt([R.queryParams,R.params,R.data]).pipe((0,Bt.n)(([re,Ee,ht],lt)=>(ht={...re,...Ee,...ht},0===lt?(0,me.of)(ht):Promise.resolve(ht)))).subscribe(re=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(b);const Ee=(0,c.HJs)(R.component);if(Ee)for(const{templateName:ht}of Ee.inputs)b.activatedComponentRef.setInput(ht,re[ht]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,j)}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac})}return w})();function we(w,x,b){if(b&&w.shouldReuseRoute(x.value,b.value.snapshot)){const R=b.value;R._futureSnapshot=x.value;const j=function Be(w,x,b){return x.children.map(R=>{for(const j of b.children)if(w.shouldReuseRoute(R.value,j.value.snapshot))return we(w,R,j);return we(w,R)})}(w,x,b);return new Di(R,j)}{if(w.shouldAttach(x.value)){const re=w.retrieve(x.value);if(null!==re){const Ee=re.route;return Ee.value._futureSnapshot=x.value,Ee.children=x.children.map(ht=>we(w,ht)),Ee}}const R=function Et(w){return new cr(new Ne.t(w.url),new Ne.t(w.params),new Ne.t(w.queryParams),new Ne.t(w.fragment),new Ne.t(w.data),w.outlet,w.component,w)}(x.value),j=x.children.map(re=>we(w,re));return new Di(R,j)}}const Jt="ngNavigationCancelingError";function _n(w,x){const{redirectTo:b,navigationBehaviorOptions:R}=ai(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=kt(!1,0,x);return j.url=b,j.navigationBehaviorOptions=R,j}function kt(w,x,b){const R=new Error("NavigationCancelingError: "+(w||""));return R[Jt]=!0,R.cancellationCode=x,b&&(R.url=b),R}function Kn(w){return w&&w[Jt]}let Dn=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275cmp=c.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(R,j){1&R&&c.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2})}return w})();function Xr(w){const x=w.children&&w.children.map(Xr),b=x?{...w,children:x}:{...w};return!b.component&&!b.loadComponent&&(x||b.loadChildren)&&b.outlet&&b.outlet!==zt&&(b.component=Dn),b}function kr(w){return w.outlet||zt}function Fi(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let x=w.parent;x;x=x.parent){const b=x.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class ya{constructor(x,b,R,j,re){this.routeReuseStrategy=x,this.futureState=b,this.currState=R,this.forwardEvent=j,this.inputBindingEnabled=re}activate(x){const b=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,R,x),Mo(this.futureState.root),this.activateChildRoutes(b,R,x)}deactivateChildRoutes(x,b,R){const j=co(b);x.children.forEach(re=>{const Ee=re.value.outlet;this.deactivateRoutes(re,j[Ee],R),delete j[Ee]}),Object.values(j).forEach(re=>{this.deactivateRouteAndItsChildren(re,R)})}deactivateRoutes(x,b,R){const j=x.value,re=b?b.value:null;if(j===re)if(j.component){const Ee=R.getContext(j.outlet);Ee&&this.deactivateChildRoutes(x,b,Ee.children)}else this.deactivateChildRoutes(x,b,R);else re&&this.deactivateRouteAndItsChildren(b,R)}deactivateRouteAndItsChildren(x,b){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,b):this.deactivateRouteAndOutlet(x,b)}detachAndStoreRouteSubtree(x,b){const R=b.getContext(x.value.outlet),j=R&&x.value.component?R.children:b,re=co(x);for(const Ee of Object.keys(re))this.deactivateRouteAndItsChildren(re[Ee],j);if(R&&R.outlet){const Ee=R.outlet.detach(),ht=R.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:Ee,route:x,contexts:ht})}}deactivateRouteAndOutlet(x,b){const R=b.getContext(x.value.outlet),j=R&&x.value.component?R.children:b,re=co(x);for(const Ee of Object.keys(re))this.deactivateRouteAndItsChildren(re[Ee],j);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(x,b,R){const j=co(b);x.children.forEach(re=>{this.activateRoutes(re,j[re.value.outlet],R),this.forwardEvent(new yo(re.value.snapshot))}),x.children.length&&this.forwardEvent(new ts(x.value.snapshot))}activateRoutes(x,b,R){const j=x.value,re=b?b.value:null;if(Mo(j),j===re)if(j.component){const Ee=R.getOrCreateContext(j.outlet);this.activateChildRoutes(x,b,Ee.children)}else this.activateChildRoutes(x,b,R);else if(j.component){const Ee=R.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const ht=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Ee.children.onOutletReAttached(ht.contexts),Ee.attachRef=ht.componentRef,Ee.route=ht.route.value,Ee.outlet&&Ee.outlet.attach(ht.componentRef,ht.route.value),Mo(ht.route.value),this.activateChildRoutes(x,null,Ee.children)}else{const ht=Fi(j.snapshot);Ee.attachRef=null,Ee.route=j,Ee.injector=ht,Ee.outlet&&Ee.outlet.activateWith(j,Ee.injector),this.activateChildRoutes(x,null,Ee.children)}}else this.activateChildRoutes(x,null,R)}}class Oo{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class rs{constructor(x,b){this.component=x,this.route=b}}function ka(w,x,b){const R=w._root;return Bs(R,x?x._root:null,b,[R.value])}function Hi(w,x){const b=Symbol(),R=x.get(w,b);return R===b?"function"!=typeof w||(0,c.LfX)(w)?x.get(w):w:R}function Bs(w,x,b,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const re=co(x);return w.children.forEach(Ee=>{(function Ss(w,x,b,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const re=w.value,Ee=x?x.value:null,ht=b?b.getContext(w.value.outlet):null;if(Ee&&re.routeConfig===Ee.routeConfig){const lt=function $s(w,x,b){if("function"==typeof b)return b(w,x);switch(b){case"pathParamsChange":return!pt(w.url,x.url);case"pathParamsOrQueryParamsChange":return!pt(w.url,x.url)||!Lt(w.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wn(w,x)||!Lt(w.queryParams,x.queryParams);default:return!Wn(w,x)}}(Ee,re,re.routeConfig.runGuardsAndResolvers);lt?j.canActivateChecks.push(new Oo(R)):(re.data=Ee.data,re._resolvedData=Ee._resolvedData),Bs(w,x,re.component?ht?ht.children:null:b,R,j),lt&&ht&&ht.outlet&&ht.outlet.isActivated&&j.canDeactivateChecks.push(new rs(ht.outlet.component,Ee))}else Ee&&Gr(x,ht,j),j.canActivateChecks.push(new Oo(R)),Bs(w,null,re.component?ht?ht.children:null:b,R,j)})(Ee,re[Ee.value.outlet],b,R.concat([Ee.value]),j),delete re[Ee.value.outlet]}),Object.entries(re).forEach(([Ee,ht])=>Gr(ht,b.getContext(Ee),j)),j}function Gr(w,x,b){const R=co(w),j=w.value;Object.entries(R).forEach(([re,Ee])=>{Gr(Ee,j.component?x?x.children.getContext(re):null:x,b)}),b.canDeactivateChecks.push(new rs(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function ia(w){return"function"==typeof w}function to(w){return w instanceof xt.G||"EmptyError"===w?.name}const mo=Symbol("INITIAL_VALUE");function Gi(){return(0,Bt.n)(w=>yt(w.map(x=>x.pipe((0,Wt.s)(1),(0,at.Z)(mo)))).pipe((0,Pt.T)(x=>{for(const b of x)if(!0!==b){if(b===mo)return mo;if(!1===b||b instanceof _r)return b}return!0}),(0,Pe.p)(x=>x!==mo),(0,Wt.s)(1)))}function Yo(w){return(0,it.F)((0,Te.M)(x=>{if(ai(x))throw _n(0,x)}),(0,Pt.T)(x=>!0===x))}class Qo{constructor(x){this.segmentGroup=x||null}}class ms{constructor(x){this.urlTree=x}}function Ps(w){return(0,Ye.$)(new Qo(w))}function sr(w){return(0,Ye.$)(new ms(w))}class Va{constructor(x,b){this.urlSerializer=x,this.urlTree=b}noMatchError(x){return new c.wOt(4002,!1)}lineralizeSegments(x,b){let R=[],j=b.root;for(;;){if(R=R.concat(j.segments),0===j.numberOfChildren)return(0,me.of)(R);if(j.numberOfChildren>1||!j.children[zt])return(0,Ye.$)(new c.wOt(4e3,!1));j=j.children[zt]}}applyRedirectCommands(x,b,R){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),x,R)}applyRedirectCreateUrlTree(x,b,R,j){const re=this.createSegmentGroup(x,b.root,R,j);return new _r(re,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(x,b){const R={};return Object.entries(x).forEach(([j,re])=>{if("string"==typeof re&&re.startsWith(":")){const ht=re.substring(1);R[j]=b[ht]}else R[j]=re}),R}createSegmentGroup(x,b,R,j){const re=this.createSegments(x,b.segments,R,j);let Ee={};return Object.entries(b.children).forEach(([ht,lt])=>{Ee[ht]=this.createSegmentGroup(x,lt,R,j)}),new Mn(re,Ee)}createSegments(x,b,R,j){return b.map(re=>re.path.startsWith(":")?this.findPosParam(x,re,j):this.findOrReturn(re,R))}findPosParam(x,b,R){const j=R[b.path.substring(1)];if(!j)throw new c.wOt(4001,!1);return j}findOrReturn(x,b){let R=0;for(const j of b){if(j.path===x.path)return b.splice(R),j;R++}return x}}const La={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ea(w,x,b,R,j){const re=os(w,x,b);return re.matched?(R=function ni(w,x){return w.providers&&!w._injector&&(w._injector=(0,c.Ol2)(w.providers,x,`Route: ${w.path}`)),w._injector??x}(x,R),function oa(w,x,b,R){const j=x.canMatch;if(!j||0===j.length)return(0,me.of)(!0);const re=j.map(Ee=>{const ht=Hi(Ee,w);return Cn(function Oe(w){return w&&ia(w.canMatch)}(ht)?ht.canMatch(x,b):w.runInContext(()=>ht(x,b)))});return(0,me.of)(re).pipe(Gi(),Yo())}(R,x,b).pipe((0,Pt.T)(Ee=>!0===Ee?re:{...La}))):(0,me.of)(re)}function os(w,x,b){if(""===x.path)return"full"===x.pathMatch&&(w.hasChildren()||b.length>0)?{...La}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const j=(x.matcher||yr)(b,w,x);if(!j)return{...La};const re={};Object.entries(j.posParams??{}).forEach(([ht,lt])=>{re[ht]=lt.path});const Ee=j.consumed.length>0?{...re,...j.consumed[j.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:j.consumed,remainingSegments:b.slice(j.consumed.length),parameters:Ee,positionalParamSegments:j.posParams??{}}}function Gs(w,x,b,R){return b.length>0&&function cc(w,x,b){return b.some(R=>uc(w,x,R)&&kr(R)!==zt)}(w,b,R)?{segmentGroup:new Mn(x,ac(R,new Mn(b,w.children))),slicedSegments:[]}:0===b.length&&function xs(w,x,b){return b.some(R=>uc(w,x,R))}(w,b,R)?{segmentGroup:new Mn(w.segments,Fc(w,0,b,R,w.children)),slicedSegments:b}:{segmentGroup:new Mn(w.segments,w.children),slicedSegments:b}}function Fc(w,x,b,R,j){const re={};for(const Ee of R)if(uc(w,b,Ee)&&!j[kr(Ee)]){const ht=new Mn([],{});re[kr(Ee)]=ht}return{...j,...re}}function ac(w,x){const b={};b[zt]=x;for(const R of w)if(""===R.path&&kr(R)!==zt){const j=new Mn([],{});b[kr(R)]=j}return b}function uc(w,x,b){return(!(w.hasChildren()||x.length>0)||"full"!==b.pathMatch)&&""===b.path}class Ua{constructor(x,b,R,j,re,Ee,ht){this.injector=x,this.configLoader=b,this.rootComponentType=R,this.config=j,this.urlTree=re,this.paramsInheritanceStrategy=Ee,this.urlSerializer=ht,this.allowRedirects=!0,this.applyRedirects=new Va(this.urlSerializer,this.urlTree)}noMatchError(x){return new c.wOt(4002,!1)}recognize(){const x=Gs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,zt).pipe((0,De.W)(b=>{if(b instanceof ms)return this.allowRedirects=!1,this.urlTree=b.urlTree,this.match(b.urlTree);throw b instanceof Qo?this.noMatchError(b):b}),(0,Pt.T)(b=>{const R=new hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,{}),j=new Di(R,b),re=new Eo("",j),Ee=function or(w,x,b=null,R=null){return Ze(dt(w),x,b,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(re._root),{state:re,tree:Ee}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,zt).pipe((0,De.W)(R=>{throw R instanceof Qo?this.noMatchError(R):R}))}inheritParamsAndData(x){const b=x.value,R=ki(b,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data),x.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(x,b,R,j){return 0===R.segments.length&&R.hasChildren()?this.processChildren(x,b,R):this.processSegment(x,b,R,R.segments,j,!0)}processChildren(x,b,R){const j=[];for(const re of Object.keys(R.children))"primary"===re?j.unshift(re):j.push(re);return(0,ve.H)(j).pipe((0,Xe.H)(re=>{const Ee=R.children[re],ht=function gs(w,x){const b=w.filter(R=>kr(R)===x);return b.push(...w.filter(R=>kr(R)!==x)),b}(b,re);return this.processSegmentGroup(x,ht,Ee,re)}),(0,He.S)((re,Ee)=>(re.push(...Ee),re)),(0,bt.U)(null),function en(w,x){const b=arguments.length>=2;return R=>R.pipe(w?(0,Pe.p)((j,re)=>w(j,re,R)):$e.D,At(1),b?(0,bt.U)(x):(0,dn.v)(()=>new xt.G))}(),(0,de.Z)(re=>{if(null===re)return Ps(R);const Ee=pu(re);return function Zu(w){w.sort((x,b)=>x.value.outlet===zt?-1:b.value.outlet===zt?1:x.value.outlet.localeCompare(b.value.outlet))}(Ee),(0,me.of)(Ee)}))}processSegment(x,b,R,j,re,Ee){return(0,ve.H)(b).pipe((0,Xe.H)(ht=>this.processSegmentAgainstRoute(ht._injector??x,b,ht,R,j,re,Ee).pipe((0,De.W)(lt=>{if(lt instanceof Qo)return(0,me.of)(null);throw lt}))),(0,Me.$)(ht=>!!ht),(0,De.W)(ht=>{if(to(ht))return function Ju(w,x,b){return 0===x.length&&!w.children[b]}(R,j,re)?(0,me.of)([]):Ps(R);throw ht}))}processSegmentAgainstRoute(x,b,R,j,re,Ee,ht){return function zs(w,x,b,R){return!!(kr(w)===R||R!==zt&&uc(x,b,w))&&("**"===w.path||os(x,w,b).matched)}(R,j,re,Ee)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(x,j,R,re,Ee,ht):ht&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,j,b,R,re,Ee):Ps(j):Ps(j)}expandSegmentAgainstRouteUsingRedirect(x,b,R,j,re,Ee){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,R,j,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(x,b,R,j,re,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,b,R,j){const re=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?sr(re):this.applyRedirects.lineralizeSegments(R,re).pipe((0,de.Z)(Ee=>{const ht=new Mn(Ee,{});return this.processSegment(x,b,ht,Ee,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,b,R,j,re,Ee){const{matched:ht,consumedSegments:lt,remainingSegments:mn,positionalParamSegments:mr}=os(b,j,re);if(!ht)return Ps(b);const wr=this.applyRedirects.applyRedirectCommands(lt,j.redirectTo,mr);return j.redirectTo.startsWith("/")?sr(wr):this.applyRedirects.lineralizeSegments(j,wr).pipe((0,de.Z)(br=>this.processSegment(x,R,b,br.concat(mn),Ee,!1)))}matchSegmentAgainstRoute(x,b,R,j,re,Ee){let ht;if("**"===R.path){const lt=j.length>0?xn(j).parameters:{},mn=new hi(j,lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ii(R),kr(R),R.component??R._loadedComponent??null,R,S(R));ht=(0,me.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]}),b.children={}}else ht=Ea(b,R,j,x).pipe((0,Pt.T)(({matched:lt,consumedSegments:mn,remainingSegments:mr,parameters:wr})=>lt?{snapshot:new hi(mn,wr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ii(R),kr(R),R.component??R._loadedComponent??null,R,S(R)),consumedSegments:mn,remainingSegments:mr}:null));return ht.pipe((0,Bt.n)(lt=>null===lt?Ps(b):this.getChildConfig(x=R._injector??x,R,j).pipe((0,Bt.n)(({routes:mn})=>{const mr=R._loadedInjector??x,{snapshot:wr,consumedSegments:br,remainingSegments:oi}=lt,{segmentGroup:Uc,slicedSegments:as}=Gs(b,br,oi,mn);if(0===as.length&&Uc.hasChildren())return this.processChildren(mr,mn,Uc).pipe((0,Pt.T)(Ys=>null===Ys?null:[new Di(wr,Ys)]));if(0===mn.length&&0===as.length)return(0,me.of)([new Di(wr,[])]);const $a=kr(R)===re;return this.processSegment(mr,mn,Uc,as,$a?zt:re,!0).pipe((0,Pt.T)(Ys=>[new Di(wr,Ys)]))}))))}getChildConfig(x,b,R){return b.children?(0,me.of)({routes:b.children,injector:x}):b.loadChildren?void 0!==b._loadedRoutes?(0,me.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function kc(w,x,b,R){const j=x.canLoad;if(void 0===j||0===j.length)return(0,me.of)(!0);const re=j.map(Ee=>{const ht=Hi(Ee,w);return Cn(function G(w){return w&&ia(w.canLoad)}(ht)?ht.canLoad(x,b):w.runInContext(()=>ht(x,b)))});return(0,me.of)(re).pipe(Gi(),Yo())}(x,b,R).pipe((0,de.Z)(j=>j?this.configLoader.loadChildren(x,b).pipe((0,Te.M)(re=>{b._loadedRoutes=re.routes,b._loadedInjector=re.injector})):function sc(w){return(0,Ye.$)(kt(!1,3))}())):(0,me.of)({routes:[],injector:x})}}function Ia(w){const x=w.value.routeConfig;return x&&""===x.path}function pu(w){const x=[],b=new Set;for(const R of w){if(!Ia(R)){x.push(R);continue}const j=x.find(re=>R.value.routeConfig===re.value.routeConfig);void 0!==j?(j.children.push(...R.children),b.add(j)):x.push(R)}for(const R of b){const j=pu(R.children);x.push(new Di(R.value,j))}return x.filter(R=>!b.has(R))}function Ii(w){return w.data||{}}function S(w){return w.resolve||{}}function In(w){return"string"==typeof w.title||null===w.title}function Rr(w){return(0,Bt.n)(x=>{const b=w(x);return b?(0,ve.H)(b).pipe((0,Pt.T)(()=>x)):(0,me.of)(x)})}const Cr=new c.nKC("ROUTES");let jr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,me.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const R=Cn(b.loadComponent()).pipe((0,Pt.T)(Yr),(0,Te.M)(re=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=re}),(0,En.j)(()=>{this.componentLoaders.delete(b)})),j=new Yt(R,()=>new ln.B).pipe(Ce());return this.componentLoaders.set(b,j),j}loadChildren(b,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,me.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const re=function Ir(w,x,b,R){return Cn(w.loadChildren()).pipe((0,Pt.T)(Yr),(0,de.Z)(j=>j instanceof c.Co$||Array.isArray(j)?(0,me.of)(j):(0,ve.H)(x.compileModuleAsync(j))),(0,Pt.T)(j=>{R&&R(w);let re,Ee,ht=!1;return Array.isArray(j)?(Ee=j,!0):(re=j.create(b).injector,Ee=re.get(Cr,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(Xr),injector:re}}))}(R,this.compiler,b,this.onLoadEndListener).pipe((0,En.j)(()=>{this.childrenLoaders.delete(R)})),Ee=new Yt(re,()=>new ln.B).pipe(Ce());return this.childrenLoaders.set(R,Ee),Ee}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Yr(w){return function mi(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ni=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ln.B,this.transitionAbortSubject=new ln.B,this.configLoader=(0,c.WQX)(jr),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(J),this.rootContexts=(0,c.WQX)(Zn),this.inputBindingEnabled=null!==(0,c.WQX)(Q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,me.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new fi(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new vo(j))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:R})}setupNavigations(b,R,j){return this.transitions=new Ne.t({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:b.urlHandlingStrategy.extract(R),urlAfterRedirects:b.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bi,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pe.p)(re=>0!==re.id),(0,Pt.T)(re=>({...re,extractedUrl:b.urlHandlingStrategy.extract(re.rawUrl)})),(0,Bt.n)(re=>{this.currentTransition=re;let Ee=!1,ht=!1;return(0,me.of)(re).pipe((0,Te.M)(lt=>{this.currentNavigation={id:lt.id,initialUrl:lt.rawUrl,extractedUrl:lt.extractedUrl,trigger:lt.source,extras:lt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bt.n)(lt=>{const mn=lt.currentBrowserUrl.toString(),mr=!b.navigated||lt.extractedUrl.toString()!==mn||mn!==lt.currentUrlTree.toString();if(!mr&&"reload"!==(lt.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const br="";return this.events.next(new Lo(lt.id,this.urlSerializer.serialize(lt.rawUrl),br,0)),lt.resolve(null),nt.w}if(b.urlHandlingStrategy.shouldProcessUrl(lt.rawUrl))return(0,me.of)(lt).pipe((0,Bt.n)(br=>{const oi=this.transitions?.getValue();return this.events.next(new ns(br.id,this.urlSerializer.serialize(br.extractedUrl),br.source,br.restoredState)),oi!==this.transitions?.getValue()?nt.w:Promise.resolve(br)}),function Z(w,x,b,R,j,re){return(0,de.Z)(Ee=>function Ca(w,x,b,R,j,re,Ee="emptyOnly"){return new Ua(w,x,b,R,j,Ee,re).recognize()}(w,x,b,R,Ee.extractedUrl,j,re).pipe((0,Pt.T)(({state:ht,tree:lt})=>({...Ee,targetSnapshot:ht,urlAfterRedirects:lt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,Te.M)(br=>{re.targetSnapshot=br.targetSnapshot,re.urlAfterRedirects=br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:br.urlAfterRedirects};const oi=new qi(br.id,this.urlSerializer.serialize(br.extractedUrl),this.urlSerializer.serialize(br.urlAfterRedirects),br.targetSnapshot);this.events.next(oi)}));if(mr&&b.urlHandlingStrategy.shouldProcessUrl(lt.currentRawUrl)){const{id:br,extractedUrl:oi,source:Uc,restoredState:as,extras:$a}=lt,Ys=new ns(br,this.urlSerializer.serialize(oi),Uc,as);this.events.next(Ys);const la=Qt(0,this.rootComponentType).snapshot;return this.currentTransition=re={...lt,targetSnapshot:la,urlAfterRedirects:oi,extras:{...$a,skipLocationChange:!1,replaceUrl:!1}},(0,me.of)(re)}{const br="";return this.events.next(new Lo(lt.id,this.urlSerializer.serialize(lt.extractedUrl),br,1)),lt.resolve(null),nt.w}}),(0,Te.M)(lt=>{const mn=new oo(lt.id,this.urlSerializer.serialize(lt.extractedUrl),this.urlSerializer.serialize(lt.urlAfterRedirects),lt.targetSnapshot);this.events.next(mn)}),(0,Pt.T)(lt=>(this.currentTransition=re={...lt,guards:ka(lt.targetSnapshot,lt.currentSnapshot,this.rootContexts)},re)),function is(w,x){return(0,de.Z)(b=>{const{targetSnapshot:R,currentSnapshot:j,guards:{canActivateChecks:re,canDeactivateChecks:Ee}}=b;return 0===Ee.length&&0===re.length?(0,me.of)({...b,guardsResult:!0}):function Uo(w,x,b,R){return(0,ve.H)(w).pipe((0,de.Z)(j=>function no(w,x,b,R,j){const re=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,me.of)(!0);const Ee=re.map(ht=>{const lt=Fi(x)??j,mn=Hi(ht,lt);return Cn(function se(w){return w&&ia(w.canDeactivate)}(mn)?mn.canDeactivate(w,x,b,R):lt.runInContext(()=>mn(w,x,b,R))).pipe((0,Me.$)())});return(0,me.of)(Ee).pipe(Gi())}(j.component,j.route,b,x,R)),(0,Me.$)(j=>!0!==j,!0))}(Ee,R,j,w).pipe((0,de.Z)(ht=>ht&&function Fa(w){return"boolean"==typeof w}(ht)?function Xo(w,x,b,R){return(0,ve.H)(x).pipe((0,Xe.H)(j=>(0,an.x)(function Qu(w,x){return null!==w&&x&&x(new so(w)),(0,me.of)(!0)}(j.route.parent,R),function Co(w,x){return null!==w&&x&&x(new fs(w)),(0,me.of)(!0)}(j.route,R),function Hs(w,x,b){const R=x[x.length-1],re=x.slice(0,x.length-1).reverse().map(Ee=>function ra(w){const x=w.routeConfig?w.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:w,guards:x}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>ze(()=>{const ht=Ee.guards.map(lt=>{const mn=Fi(Ee.node)??b,mr=Hi(lt,mn);return Cn(function O(w){return w&&ia(w.canActivateChild)}(mr)?mr.canActivateChild(R,w):mn.runInContext(()=>mr(R,w))).pipe((0,Me.$)())});return(0,me.of)(ht).pipe(Gi())}));return(0,me.of)(re).pipe(Gi())}(w,j.path,b),function Ur(w,x,b){const R=x.routeConfig?x.routeConfig.canActivate:null;if(!R||0===R.length)return(0,me.of)(!0);const j=R.map(re=>ze(()=>{const Ee=Fi(x)??b,ht=Hi(re,Ee);return Cn(function X(w){return w&&ia(w.canActivate)}(ht)?ht.canActivate(x,w):Ee.runInContext(()=>ht(x,w))).pipe((0,Me.$)())}));return(0,me.of)(j).pipe(Gi())}(w,j.route,b))),(0,Me.$)(j=>!0!==j,!0))}(R,re,w,x):(0,me.of)(ht)),(0,Pt.T)(ht=>({...b,guardsResult:ht})))})}(this.environmentInjector,lt=>this.events.next(lt)),(0,Te.M)(lt=>{if(re.guardsResult=lt.guardsResult,ai(lt.guardsResult))throw _n(0,lt.guardsResult);const mn=new na(lt.id,this.urlSerializer.serialize(lt.extractedUrl),this.urlSerializer.serialize(lt.urlAfterRedirects),lt.targetSnapshot,!!lt.guardsResult);this.events.next(mn)}),(0,Pe.p)(lt=>!!lt.guardsResult||(this.cancelNavigationTransition(lt,"",3),!1)),Rr(lt=>{if(lt.guards.canActivateChecks.length)return(0,me.of)(lt).pipe((0,Te.M)(mn=>{const mr=new Oi(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(mr)}),(0,Bt.n)(mn=>{let mr=!1;return(0,me.of)(mn).pipe(function U(w,x){return(0,de.Z)(b=>{const{targetSnapshot:R,guards:{canActivateChecks:j}}=b;if(!j.length)return(0,me.of)(b);let re=0;return(0,ve.H)(j).pipe((0,Xe.H)(Ee=>function Y(w,x,b,R){const j=w.routeConfig,re=w._resolve;return void 0!==j?.title&&!In(j)&&(re[Vt]=j.title),function Ie(w,x,b,R){const j=function mt(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===j.length)return(0,me.of)({});const re={};return(0,ve.H)(j).pipe((0,de.Z)(Ee=>function Rt(w,x,b,R){const j=Fi(x)??R,re=Hi(w,j);return Cn(re.resolve?re.resolve(x,b):j.runInContext(()=>re(x,b)))}(w[Ee],x,b,R).pipe((0,Me.$)(),(0,Te.M)(ht=>{re[Ee]=ht}))),At(1),function On(w){return(0,Pt.T)(()=>w)}(re),(0,De.W)(Ee=>to(Ee)?nt.w:(0,Ye.$)(Ee)))}(re,w,x,R).pipe((0,Pt.T)(Ee=>(w._resolvedData=Ee,w.data=ki(w,b).resolve,j&&In(j)&&(w.data[Vt]=j.title),null)))}(Ee.route,R,w,x)),(0,Te.M)(()=>re++),At(1),(0,de.Z)(Ee=>re===j.length?(0,me.of)(b):nt.w))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,Te.M)({next:()=>mr=!0,complete:()=>{mr||this.cancelNavigationTransition(mn,"",2)}}))}),(0,Te.M)(mn=>{const mr=new Na(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(mr)}))}),Rr(lt=>{const mn=mr=>{const wr=[];mr.routeConfig?.loadComponent&&!mr.routeConfig._loadedComponent&&wr.push(this.configLoader.loadComponent(mr.routeConfig).pipe((0,Te.M)(br=>{mr.component=br}),(0,Pt.T)(()=>{})));for(const br of mr.children)wr.push(...mn(br));return wr};return yt(mn(lt.targetSnapshot.root)).pipe((0,bt.U)(),(0,Wt.s)(1))}),Rr(()=>this.afterPreactivation()),(0,Pt.T)(lt=>{const mn=function _e(w,x,b){const R=we(w,x._root,b?b._root:void 0);return new $r(R,x)}(b.routeReuseStrategy,lt.targetSnapshot,lt.currentRouterState);return this.currentTransition=re={...lt,targetRouterState:mn},re}),(0,Te.M)(()=>{this.events.next(new Yn)}),((w,x,b,R)=>(0,Pt.T)(j=>(new ya(x,j.targetRouterState,j.currentRouterState,b,R).activate(w),j)))(this.rootContexts,b.routeReuseStrategy,lt=>this.events.next(lt),this.inputBindingEnabled),(0,Wt.s)(1),(0,Te.M)({next:lt=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lr(lt.id,this.urlSerializer.serialize(lt.extractedUrl),this.urlSerializer.serialize(lt.urlAfterRedirects))),b.titleStrategy?.updateTitle(lt.targetRouterState.snapshot),lt.resolve(!0)},complete:()=>{Ee=!0}}),function Ht(w){return(0,Ft.N)((x,b)=>{(0,Je.Tg)(w).subscribe((0,st._)(b,()=>b.complete(),dr.l)),!b.closed&&x.subscribe(b)})}(this.transitionAbortSubject.pipe((0,Te.M)(lt=>{throw lt}))),(0,En.j)(()=>{Ee||ht||this.cancelNavigationTransition(re,"",1),this.currentNavigation?.id===re.id&&(this.currentNavigation=null)}),(0,De.W)(lt=>{if(ht=!0,Kn(lt))this.events.next(new xr(re.id,this.urlSerializer.serialize(re.extractedUrl),lt.message,lt.cancellationCode)),function tn(w){return Kn(w)&&ai(w.url)}(lt)?this.events.next(new fr(lt.url)):re.resolve(!1);else{this.events.next(new Zi(re.id,this.urlSerializer.serialize(re.extractedUrl),lt,re.targetSnapshot??void 0));try{re.resolve(b.errorHandler(lt))}catch(mn){re.reject(mn)}}return nt.w}))}))}cancelNavigationTransition(b,R,j){const re=new xr(b.id,this.urlSerializer.serialize(b.extractedUrl),R,j);this.events.next(re),b.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function _o(w){return w!==Bi}let jo=(()=>{class w{buildTitle(b){let R,j=b.root;for(;void 0!==j;)R=this.getResolvedTitleForRoute(j)??R,j=j.children.find(re=>re.outlet===zt);return R}getResolvedTitleForRoute(b){return b.data[Vt]}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(sa)},providedIn:"root"})}return w})(),sa=(()=>{class w extends jo{constructor(b){super(),this.title=b}updateTitle(b){const R=this.buildTitle(b);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||w)(c.KVO(jn.hE))};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Bo=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(Ln)},providedIn:"root"})}return w})();class zr{shouldDetach(x){return!1}store(x,b){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,b){return x.routeConfig===b.routeConfig}}let Ln=(()=>{class w extends zr{static#e=this.\u0275fac=function(){let b;return function(j){return(b||(b=c.xGo(w)))(j||w)}}();static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Io=new c.nKC("",{providedIn:"root",factory:()=>({})});let aa=(()=>{class w{static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:function(){return(0,c.WQX)(Ci)},providedIn:"root"})}return w})(),Ci=(()=>{class w{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,R){return b}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var Ws=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Ws||{});function Rs(w,x){w.events.pipe((0,Pe.p)(b=>b instanceof Lr||b instanceof xr||b instanceof Zi||b instanceof Lo),(0,Pt.T)(b=>b instanceof Lr||b instanceof Lo?Ws.COMPLETE:b instanceof xr&&(0===b.code||1===b.code)?Ws.REDIRECTING:Ws.FAILED),(0,Pe.p)(b=>b!==Ws.REDIRECTING),(0,Wt.s)(1)).subscribe(()=>{x()})}function $o(w){throw w}function mu(w,x,b){return x.parse("/")}const el={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mr=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.WQX)(c.H3F),this.isNgZoneEnabled=!1,this._events=new ln.B,this.options=(0,c.WQX)(Io,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.$K3),this.errorHandler=this.options.errorHandler||$o,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.WQX)(aa),this.routeReuseStrategy=(0,c.WQX)(Bo),this.titleStrategy=(0,c.WQX)(jo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.WQX)(Cr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.WQX)(Ni),this.urlSerializer=(0,c.WQX)(J),this.location=(0,c.WQX)(nr.aZ),this.componentInputBindingEnabled=!!(0,c.WQX)(Q,{optional:!0}),this.eventsSubscription=new Tt.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(Vc(R)&&this._events.next(R));if(R instanceof ns)_o(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(R instanceof Lo)this.rawUrlTree=j.rawUrl;else if(R instanceof qi){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(re,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(R instanceof Yn)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(R instanceof xr)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(j);else if(R instanceof fr){const re=this.urlHandlingStrategy.merge(R.url,j.currentRawUrl),Ee={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_o(j.source)};this.scheduleNavigation(re,Bi,null,Ee,{resolve:j.resolve,reject:j.reject,promise:j.promise})}R instanceof Zi&&this.restoreHistory(j,!0),R instanceof Lr&&(this.navigated=!0),Vc(R)&&this._events.next(R)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bi,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R="popstate"===b.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,R,b.state)},0)}))}navigateToSyncWithBrowser(b,R,j){const re={replaceUrl:!0},Ee=j?.navigationId?j:null;if(j){const lt={...j};delete lt.navigationId,delete lt.\u0275routerPageId,0!==Object.keys(lt).length&&(re.state=lt)}const ht=this.parseUrl(b);this.scheduleNavigation(ht,R,Ee,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Xr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,R={}){const{relativeTo:j,queryParams:re,fragment:Ee,queryParamsHandling:ht,preserveFragment:lt}=R,mn=lt?this.currentUrlTree.fragment:Ee;let wr,mr=null;switch(ht){case"merge":mr={...this.currentUrlTree.queryParams,...re};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=re||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{wr=dt(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),wr=this.currentUrlTree.root}return Ze(wr,b,mr,mn??null)}navigateByUrl(b,R={skipLocationChange:!1}){const j=ai(b)?b:this.parseUrl(b),re=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(re,Bi,null,R)}navigate(b,R={skipLocationChange:!1}){return function No(w){for(let x=0;x<w.length;x++)if(null==w[x])throw new c.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(j){R=this.malformedUriErrorHandler(j,this.urlSerializer,b)}return R}isActive(b,R){let j;if(j=!0===R?{...el}:!1===R?{...uo}:R,ai(b))return Zr(this.currentUrlTree,b,j);const re=this.parseUrl(b);return Zr(this.currentUrlTree,re,j)}removeEmptyProps(b){return Object.keys(b).reduce((R,j)=>{const re=b[j];return null!=re&&(R[j]=re),R},{})}scheduleNavigation(b,R,j,re,Ee){if(this.disposed)return Promise.resolve(!1);let ht,lt,mn;Ee?(ht=Ee.resolve,lt=Ee.reject,mn=Ee.promise):mn=new Promise((wr,br)=>{ht=wr,lt=br});const mr=this.pendingTasks.add();return Rs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:re,resolve:ht,reject:lt,promise:mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mn.catch(wr=>Promise.reject(wr))}setBrowserUrl(b,R){const j=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(j)||R.extras.replaceUrl){const Ee={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(j,"",Ee)}else{const re={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(j,"",re)}}restoreHistory(b,R=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-this.browserPageId;0!==re?this.location.historyGo(re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===re&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}static#e=this.\u0275fac=function(R){return new(R||w)};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Vc(w){return!(w instanceof Yn||w instanceof fr)}let lc=(()=>{class w{constructor(b,R,j,re,Ee,ht){this.router=b,this.route=R,this.tabIndexAttribute=j,this.renderer=re,this.el=Ee,this.locationStrategy=ht,this.href=null,this.commands=null,this.onChanges=new ln.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const lt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===lt||"area"===lt,this.isAnchorElement?this.subscription=b.events.subscribe(mn=>{mn instanceof Lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,R,j,re,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||R||j||re||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,R){const j=this.renderer,re=this.el.nativeElement;null!==R?j.setAttribute(re,b,R):j.removeAttribute(re,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(R){return new(R||w)(c.rXU(Mr),c.rXU(cr),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(nr.hb))};static#t=this.\u0275dir=c.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,j){1&R&&c.bIt("click",function(Ee){return j.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&R&&c.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.L39],skipLocationChange:["skipLocationChange","skipLocationChange",c.L39],replaceUrl:["replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}return w})();class _u{}let nl=(()=>{class w{constructor(b,R,j,re,Ee){this.router=b,this.injector=j,this.preloadingStrategy=re,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.p)(b=>b instanceof Lr),(0,Xe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const j=[];for(const re of R){re.providers&&!re._injector&&(re._injector=(0,c.Ol2)(re.providers,b,`Route: ${re.path}`));const Ee=re._injector??b,ht=re._loadedInjector??Ee;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&j.push(this.preloadConfig(Ee,re)),(re.children||re._loadedRoutes)&&j.push(this.processRoutes(ht,re.children??re._loadedRoutes))}return(0,ve.H)(j).pipe((0,Tn.U)())}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>{let j;j=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(b,R):(0,me.of)(null);const re=j.pipe((0,de.Z)(Ee=>null===Ee?(0,me.of)(void 0):(R._loadedRoutes=Ee.routes,R._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??b,Ee.routes))));if(R.loadComponent&&!R._loadedComponent){const Ee=this.loader.loadComponent(R);return(0,ve.H)([re,Ee]).pipe((0,Tn.U)())}return re})}static#e=this.\u0275fac=function(R){return new(R||w)(c.KVO(Mr),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(_u),c.KVO(jr))};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const Zl=new c.nKC("");let rr=(()=>{class w{constructor(b,R,j,re,Ee={}){this.urlSerializer=b,this.transitions=R,this.viewportScroller=j,this.zone=re,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Lr?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Lo&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof ps&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ps(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){c.QTQ()};static#t=this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac})}return w})();function Ho(w,x){return{\u0275kind:w,\u0275providers:x}}function Eu(){const w=(0,c.WQX)(c.zZn);return x=>{const b=w.get(c.o8S);if(x!==b.components[0])return;const R=w.get(Mr),j=w.get(Cu);1===w.get(Kt)&&R.initialNavigation(),w.get(gr,null,c.$GK.Optional)?.setUpPreloading(),w.get(Zl,null,c.$GK.Optional)?.init(),R.resetRootComponentType(b.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Cu=new c.nKC("",{factory:()=>new ln.B}),Kt=new c.nKC("",{providedIn:"root",factory:()=>1}),gr=new c.nKC("");function ja(w){return Ho(0,[{provide:gr,useExisting:nl},{provide:_u,useExisting:w}])}const hc=new c.nKC("ROUTER_FORROOT_GUARD"),Iu=[nr.aZ,{provide:J,useClass:Le},Mr,Zn,{provide:cr,useFactory:function Lc(w){return w.routerState.root},deps:[Mr]},jr,[]];function il(){return new c.NEm("Router",Mr)}let ol=(()=>{class w{constructor(b){}static forRoot(b,R){return{ngModule:w,providers:[Iu,[],{provide:Cr,multi:!0,useValue:b},{provide:hc,useFactory:Ba,deps:[[Mr,new c.Xx1,new c.kdw]]},{provide:Io,useValue:R||{}},R?.useHash?{provide:nr.hb,useClass:nr.fw}:{provide:nr.hb,useClass:nr.Sm},{provide:Zl,useFactory:()=>{const w=(0,c.WQX)(nr.Xr),x=(0,c.WQX)(c.SKi),b=(0,c.WQX)(Io),R=(0,c.WQX)(Ni),j=(0,c.WQX)(J);return b.scrollOffset&&w.setOffset(b.scrollOffset),new rr(j,R,w,x,b)}},R?.preloadingStrategy?ja(R.preloadingStrategy).\u0275providers:[],{provide:c.NEm,multi:!0,useFactory:il},R?.initialNavigation?Ks(R):[],R?.bindToComponentInputs?Ho(8,[H,{provide:Q,useExisting:H}]).\u0275providers:[],[{provide:vs,useFactory:Eu},{provide:c.iLQ,multi:!0,useExisting:vs}]]}}static forChild(b){return{ngModule:w,providers:[{provide:Cr,multi:!0,useValue:b}]}}static#e=this.\u0275fac=function(R){return new(R||w)(c.KVO(hc,8))};static#t=this.\u0275mod=c.$C({type:w});static#n=this.\u0275inj=c.G2t({})}return w})();function Ba(w){return"guarded"}function Ks(w){return["disabled"===w.initialNavigation?Ho(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const x=(0,c.WQX)(Mr);return()=>{x.setUpLocationChangeListener()}}},{provide:Kt,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Ho(2,[{provide:Kt,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:x=>{const b=x.get(nr.hj,Promise.resolve());return()=>b.then(()=>new Promise(R=>{const j=x.get(Mr),re=x.get(Cu);Rs(j,()=>{R(!0)}),x.get(Ni).afterPreactivation=()=>(R(!0),re.closed?(0,me.of)(void 0):re),j.initialNavigation()}))}}]).\u0275providers:[]]}const vs=new c.nKC("")},3345:(rn,Qe,L)=>{L.d(Qe,{A:()=>yt});var c=L(1076),ue=L(1362),o=L(7852),be=L(8041);class ve{constructor(jt,xt){this._delegate=jt,this.firebase=xt,(0,o._addComponent)(jt,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=jt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this._delegate.automaticDataCollectionEnabled=jt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(jt=>{this._delegate.checkDestroyed(),jt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(jt,xt=o._DEFAULT_ENTRY_NAME){var an;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(jt);return!Je.isInitialized()&&"EXPLICIT"===(null===(an=Je.getComponent())||void 0===an?void 0:an.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:xt})}_removeServiceInstance(jt,xt=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(jt).clearInstance(xt)}_addComponent(jt){(0,o._addComponent)(this._delegate,jt)}_addOrOverwriteComponent(jt){(0,o._addOrOverwriteComponent)(this._delegate,jt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function $e(){const vt=function Fe(vt){const jt={},xt={__esModule:!0,initializeApp:function ze(Tt,Ft={}){const Ce=o.initializeApp(Tt,Ft);if((0,c.gR)(jt,Ce.name))return jt[Ce.name];const Yt=new vt(Ce,xt);return jt[Ce.name]=Yt,Yt},app:Je,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function Ye(Tt){const Ft=Tt.name,Ce=Ft.replace("-compat","");if(o._registerComponent(Tt)&&"PUBLIC"===Tt.type){const Yt=(ln=Je())=>{if("function"!=typeof ln[Ce])throw Ne.create("invalid-app-argument",{appName:Ft});return ln[Ce]()};void 0!==Tt.serviceProps&&(0,c.zw)(Yt,Tt.serviceProps),xt[Ce]=Yt,vt.prototype[Ce]=function(...ln){return this._getService.bind(this,Ft).apply(this,Tt.multipleInstances?ln:[])}}return"PUBLIC"===Tt.type?xt[Ce]:null},removeApp:function an(Tt){delete jt[Tt]},useAsService:function nt(Tt,Ft){return"serverAuth"===Ft?null:Ft},modularAPIs:o}};function Je(Tt){if(!(0,c.gR)(jt,Tt=Tt||o._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:Tt});return jt[Tt]}return xt.default=xt,Object.defineProperty(xt,"apps",{get:function it(){return Object.keys(jt).map(Tt=>jt[Tt])}}),Je.App=vt,xt}(ve);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function jt(xt){(0,c.zw)(vt,xt)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),vt}(),ce=new be.Vy("@firebase/app-compat");if((0,c.Bd)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yt=te;!function qe(vt){(0,o.registerVersion)("@firebase/app-compat","0.2.35",vt)}()},7852:(rn,Qe,L)=>{L.r(Qe),L.d(Qe,{FirebaseError:()=>be.g,SDK_VERSION:()=>J,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>Bn,_addOrOverwriteComponent:()=>ei,_apps:()=>hr,_clearComponents:()=>Mn,_components:()=>Zr,_getProvider:()=>cn,_isFirebaseApp:()=>Xn,_isFirebaseServerApp:()=>_r,_registerComponent:()=>Ki,_removeServiceInstance:()=>ti,_serverApps:()=>Er,deleteApp:()=>Fn,getApp:()=>Ct,getApps:()=>Mt,initializeApp:()=>Le,initializeServerApp:()=>Ae,onLog:()=>$,registerVersion:()=>ee,setLogLevel:()=>V});var c=L(467),ue=L(1362),o=L(8041),be=L(1076);const ve=(dt,Ze)=>Ze.some(Dt=>dt instanceof Dt);let me,Ne;const te=new WeakMap,ce=new WeakMap,ge=new WeakMap,st=new WeakMap,qe=new WeakMap;let jt={get(dt,Ze,Dt){if(dt instanceof IDBTransaction){if("done"===Ze)return ce.get(dt);if("objectStoreNames"===Ze)return dt.objectStoreNames||ge.get(dt);if("store"===Ze)return Dt.objectStoreNames[1]?void 0:Dt.objectStore(Dt.objectStoreNames[0])}return ze(dt[Ze])},set:(dt,Ze,Dt)=>(dt[Ze]=Dt,!0),has:(dt,Ze)=>dt instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in dt};function Je(dt){return"function"==typeof dt?function an(dt){return dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(dt)?function(...Ze){return dt.apply(it(this),Ze),ze(te.get(this))}:function(...Ze){return ze(dt.apply(it(this),Ze))}:function(Ze,...Dt){const fn=dt.call(it(this),Ze,...Dt);return ge.set(fn,Ze.sort?Ze.sort():[Ze]),ze(fn)}}(dt):(dt instanceof IDBTransaction&&function vt(dt){if(ce.has(dt))return;const Ze=new Promise((Dt,fn)=>{const Rn=()=>{dt.removeEventListener("complete",Vn),dt.removeEventListener("error",Nn),dt.removeEventListener("abort",Nn)},Vn=()=>{Dt(),Rn()},Nn=()=>{fn(dt.error||new DOMException("AbortError","AbortError")),Rn()};dt.addEventListener("complete",Vn),dt.addEventListener("error",Nn),dt.addEventListener("abort",Nn)});ce.set(dt,Ze)}(dt),ve(dt,function Fe(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(dt,jt):dt)}function ze(dt){if(dt instanceof IDBRequest)return function yt(dt){const Ze=new Promise((Dt,fn)=>{const Rn=()=>{dt.removeEventListener("success",Vn),dt.removeEventListener("error",Nn)},Vn=()=>{Dt(ze(dt.result)),Rn()},Nn=()=>{fn(dt.error),Rn()};dt.addEventListener("success",Vn),dt.addEventListener("error",Nn)});return Ze.then(Dt=>{Dt instanceof IDBCursor&&te.set(Dt,dt)}).catch(()=>{}),qe.set(Ze,dt),Ze}(dt);if(st.has(dt))return st.get(dt);const Ze=Je(dt);return Ze!==dt&&(st.set(dt,Ze),qe.set(Ze,dt)),Ze}const it=dt=>qe.get(dt),Tt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],Ce=new Map;function Yt(dt,Ze){if(!(dt instanceof IDBDatabase)||Ze in dt||"string"!=typeof Ze)return;if(Ce.get(Ze))return Ce.get(Ze);const Dt=Ze.replace(/FromIndex$/,""),fn=Ze!==Dt,Rn=Ft.includes(Dt);if(!(Dt in(fn?IDBIndex:IDBObjectStore).prototype)||!Rn&&!Tt.includes(Dt))return;const Vn=function(){var Nn=(0,c.A)(function*(Br,...Nr){const Ri=this.transaction(Br,Rn?"readwrite":"readonly");let qo=Ri.store;return fn&&(qo=qo.index(Nr.shift())),(yield Promise.all([qo[Dt](...Nr),Rn&&Ri.done]))[0]});return function(Nr){return Nn.apply(this,arguments)}}();return Ce.set(Ze,Vn),Vn}!function xt(dt){jt=dt(jt)}(dt=>({...dt,get:(Ze,Dt,fn)=>Yt(Ze,Dt)||dt.get(Ze,Dt,fn),has:(Ze,Dt)=>!!Yt(Ze,Dt)||dt.has(Ze,Dt)}));class ln{constructor(Ze){this.container=Ze}getPlatformInfoString(){return this.container.getProviders().map(Dt=>{if(function nr(dt){const Ze=dt.getComponent();return"VERSION"===Ze?.type}(Dt)){const fn=Dt.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Dt=>Dt).join(" ")}}const Pt="@firebase/app",Bt="0.10.5",Wt=new o.Vy("@firebase/app"),xn="[DEFAULT]",Cn={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},hr=new Map,Er=new Map,Zr=new Map;function Bn(dt,Ze){try{dt.container.addComponent(Ze)}catch(Dt){Wt.debug(`Component ${Ze.name} failed to register with FirebaseApp ${dt.name}`,Dt)}}function ei(dt,Ze){dt.container.addOrOverwriteComponent(Ze)}function Ki(dt){const Ze=dt.name;if(Zr.has(Ze))return Wt.debug(`There were multiple attempts to register component ${Ze}.`),!1;Zr.set(Ze,dt);for(const Dt of hr.values())Bn(Dt,dt);for(const Dt of Er.values())Bn(Dt,dt);return!0}function cn(dt,Ze){const Dt=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Dt&&Dt.triggerHeartbeat(),dt.container.getProvider(Ze)}function ti(dt,Ze,Dt=xn){cn(dt,Ze).clearInstance(Dt)}function Xn(dt){return void 0!==dt.options}function _r(dt){return void 0!==dt.settings}function Mn(){Zr.clear()}const We=new be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pt{constructor(Ze,Dt,fn){this._isDeleted=!1,this._options=Object.assign({},Ze),this._config=Object.assign({},Dt),this._name=Dt.name,this._automaticDataCollectionEnabled=Dt.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ze){this._isDeleted=Ze}checkDestroyed(){if(this.isDeleted)throw We.create("app-deleted",{appName:this._name})}}class oe extends pt{constructor(Ze,Dt,fn,Rn){const Vn=void 0!==Dt.automaticDataCollectionEnabled&&Dt.automaticDataCollectionEnabled,Nn={name:fn,automaticDataCollectionEnabled:Vn};super(void 0!==Ze.apiKey?Ze:Ze.options,Nn,Rn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Vn},Dt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Dt.releaseOnDeref=void 0,ee(Pt,Bt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ze){this.isDeleted||(this._refCount++,void 0!==Ze&&this._finalizationRegistry.register(Ze,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Fn(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw We.create("server-app-deleted")}}const J="10.12.2";function Le(dt,Ze={}){let Dt=dt;"object"!=typeof Ze&&(Ze={name:Ze});const fn=Object.assign({name:xn,automaticDataCollectionEnabled:!1},Ze),Rn=fn.name;if("string"!=typeof Rn||!Rn)throw We.create("bad-app-name",{appName:String(Rn)});if(Dt||(Dt=(0,be.T9)()),!Dt)throw We.create("no-options");const Vn=hr.get(Rn);if(Vn){if((0,be.bD)(Dt,Vn.options)&&(0,be.bD)(fn,Vn.config))return Vn;throw We.create("duplicate-app",{appName:Rn})}const Nn=new ue.h1(Rn);for(const Nr of Zr.values())Nn.addComponent(Nr);const Br=new pt(Dt,fn,Nn);return hr.set(Rn,Br),Br}function Ae(dt,Ze){if((0,be.Bd)())throw We.create("invalid-server-app-environment");let Dt;void 0===Ze.automaticDataCollectionEnabled&&(Ze.automaticDataCollectionEnabled=!1),Dt=Xn(dt)?dt.options:dt;const fn=Object.assign(Object.assign({},Ze),Dt);if(void 0!==fn.releaseOnDeref&&delete fn.releaseOnDeref,void 0!==Ze.releaseOnDeref&&typeof FinalizationRegistry>"u")throw We.create("finalization-registry-not-supported",{});const Vn=""+(Ri=JSON.stringify(fn),[...Ri].reduce((qo,Pr)=>Math.imul(31,qo)+Pr.charCodeAt(0)|0,0)),Nn=Er.get(Vn);var Ri;if(Nn)return Nn.incRefCount(Ze.releaseOnDeref),Nn;const Br=new ue.h1(Vn);for(const Ri of Zr.values())Br.addComponent(Ri);const Nr=new oe(Dt,Ze,Vn,Br);return Er.set(Vn,Nr),Nr}function Ct(dt=xn){const Ze=hr.get(dt);if(!Ze&&dt===xn&&(0,be.T9)())return Le();if(!Ze)throw We.create("no-app",{appName:dt});return Ze}function Mt(){return Array.from(hr.values())}function Fn(dt){return xe.apply(this,arguments)}function xe(){return(xe=(0,c.A)(function*(dt){let Ze=!1;const Dt=dt.name;hr.has(Dt)?(Ze=!0,hr.delete(Dt)):Er.has(Dt)&&dt.decRefCount()<=0&&(Er.delete(Dt),Ze=!0),Ze&&(yield Promise.all(dt.container.getProviders().map(fn=>fn.delete())),dt.isDeleted=!0)})).apply(this,arguments)}function ee(dt,Ze,Dt){var fn;let Rn=null!==(fn=Cn[dt])&&void 0!==fn?fn:dt;Dt&&(Rn+=`-${Dt}`);const Vn=Rn.match(/\s|\//),Nn=Ze.match(/\s|\//);if(Vn||Nn){const Br=[`Unable to register library "${Rn}" with version "${Ze}":`];return Vn&&Br.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),Vn&&Nn&&Br.push("and"),Nn&&Br.push(`version name "${Ze}" contains illegal characters (whitespace or "/")`),void Wt.warn(Br.join(" "))}Ki(new ue.uA(`${Rn}-version`,()=>({library:Rn,version:Ze}),"VERSION"))}function $(dt,Ze){if(null!==dt&&"function"!=typeof dt)throw We.create("invalid-log-argument");(0,o.Ey)(dt,Ze)}function V(dt){(0,o.He)(dt)}const F="firebase-heartbeat-database",le=1,Ve="firebase-heartbeat-store";let It=null;function Nt(){return It||(It=function Ye(dt,Ze,{blocked:Dt,upgrade:fn,blocking:Rn,terminated:Vn}={}){const Nn=indexedDB.open(dt,Ze),Br=ze(Nn);return fn&&Nn.addEventListener("upgradeneeded",Nr=>{fn(ze(Nn.result),Nr.oldVersion,Nr.newVersion,ze(Nn.transaction),Nr)}),Dt&&Nn.addEventListener("blocked",Nr=>Dt(Nr.oldVersion,Nr.newVersion,Nr)),Br.then(Nr=>{Vn&&Nr.addEventListener("close",()=>Vn()),Rn&&Nr.addEventListener("versionchange",Ri=>Rn(Ri.oldVersion,Ri.newVersion,Ri))}).catch(()=>{}),Br}(F,le,{upgrade:(dt,Ze)=>{if(0===Ze)try{dt.createObjectStore(Ve)}catch(Dt){console.warn(Dt)}}}).catch(dt=>{throw We.create("idb-open",{originalErrorMessage:dt.message})})),It}function on(){return(on=(0,c.A)(function*(dt){try{const Dt=(yield Nt()).transaction(Ve),fn=yield Dt.objectStore(Ve).get(An(dt));return yield Dt.done,fn}catch(Ze){if(Ze instanceof be.g)Wt.warn(Ze.message);else{const Dt=We.create("idb-get",{originalErrorMessage:Ze?.message});Wt.warn(Dt.message)}}})).apply(this,arguments)}function un(dt,Ze){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.A)(function*(dt,Ze){try{const fn=(yield Nt()).transaction(Ve,"readwrite");yield fn.objectStore(Ve).put(Ze,An(dt)),yield fn.done}catch(Dt){if(Dt instanceof be.g)Wt.warn(Dt.message);else{const fn=We.create("idb-set",{originalErrorMessage:Dt?.message});Wt.warn(fn.message)}}})).apply(this,arguments)}function An(dt){return`${dt.name}!${dt.options.appId}`}class Ko{constructor(Ze){this.container=Ze,this._heartbeatsCache=null;const Dt=this.container.getProvider("app").getImmediate();this._storage=new Li(Dt),this._heartbeatsCachePromise=this._storage.read().then(fn=>(this._heartbeatsCache=fn,fn))}triggerHeartbeat(){var Ze=this;return(0,c.A)(function*(){var Dt,fn;const Vn=Ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nn=di();if((null!=(null===(Dt=Ze._heartbeatsCache)||void 0===Dt?void 0:Dt.heartbeats)||(Ze._heartbeatsCache=yield Ze._heartbeatsCachePromise,null!=(null===(fn=Ze._heartbeatsCache)||void 0===fn?void 0:fn.heartbeats)))&&Ze._heartbeatsCache.lastSentHeartbeatDate!==Nn&&!Ze._heartbeatsCache.heartbeats.some(Br=>Br.date===Nn))return Ze._heartbeatsCache.heartbeats.push({date:Nn,agent:Vn}),Ze._heartbeatsCache.heartbeats=Ze._heartbeatsCache.heartbeats.filter(Br=>{const Nr=new Date(Br.date).valueOf();return Date.now()-Nr<=2592e6}),Ze._storage.overwrite(Ze._heartbeatsCache)})()}getHeartbeatsHeader(){var Ze=this;return(0,c.A)(function*(){var Dt;if(null===Ze._heartbeatsCache&&(yield Ze._heartbeatsCachePromise),null==(null===(Dt=Ze._heartbeatsCache)||void 0===Dt?void 0:Dt.heartbeats)||0===Ze._heartbeatsCache.heartbeats.length)return"";const fn=di(),{heartbeatsToSend:Rn,unsentEntries:Vn}=function Ji(dt,Ze=1024){const Dt=[];let fn=dt.slice();for(const Rn of dt){const Vn=Dt.find(Nn=>Nn.agent===Rn.agent);if(Vn){if(Vn.dates.push(Rn.date),ai(Dt)>Ze){Vn.dates.pop();break}}else if(Dt.push({agent:Rn.agent,dates:[Rn.date]}),ai(Dt)>Ze){Dt.pop();break}fn=fn.slice(1)}return{heartbeatsToSend:Dt,unsentEntries:fn}}(Ze._heartbeatsCache.heartbeats),Nn=(0,be.Uj)(JSON.stringify({version:2,heartbeats:Rn}));return Ze._heartbeatsCache.lastSentHeartbeatDate=fn,Vn.length>0?(Ze._heartbeatsCache.heartbeats=Vn,yield Ze._storage.overwrite(Ze._heartbeatsCache)):(Ze._heartbeatsCache.heartbeats=[],Ze._storage.overwrite(Ze._heartbeatsCache)),Nn})()}}function di(){return(new Date).toISOString().substring(0,10)}class Li{constructor(Ze){this.app=Ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,be.zW)()&&(0,be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ze=this;return(0,c.A)(function*(){if(yield Ze._canUseIndexedDBPromise){const fn=yield function pn(dt){return on.apply(this,arguments)}(Ze.app);return fn?.heartbeats?fn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ze){var Dt=this;return(0,c.A)(function*(){var fn;if(yield Dt._canUseIndexedDBPromise){const Vn=yield Dt.read();return un(Dt.app,{lastSentHeartbeatDate:null!==(fn=Ze.lastSentHeartbeatDate)&&void 0!==fn?fn:Vn.lastSentHeartbeatDate,heartbeats:Ze.heartbeats})}})()}add(Ze){var Dt=this;return(0,c.A)(function*(){var fn;if(yield Dt._canUseIndexedDBPromise){const Vn=yield Dt.read();return un(Dt.app,{lastSentHeartbeatDate:null!==(fn=Ze.lastSentHeartbeatDate)&&void 0!==fn?fn:Vn.lastSentHeartbeatDate,heartbeats:[...Vn.heartbeats,...Ze.heartbeats]})}})()}}function ai(dt){return(0,be.Uj)(JSON.stringify({version:2,heartbeats:dt})).length}!function or(dt){Ki(new ue.uA("platform-logger",Ze=>new ln(Ze),"PRIVATE")),Ki(new ue.uA("heartbeat",Ze=>new Ko(Ze),"PRIVATE")),ee(Pt,Bt,dt),ee(Pt,Bt,"esm2017"),ee("fire-js","")}("")},1362:(rn,Qe,L)=>{L.d(Qe,{h1:()=>Fe,uA:()=>o});var c=L(467),ue=L(1076);class o{constructor(te,ce,ge){this.name=te,this.instanceFactory=ce,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const be="[DEFAULT]";class ve{constructor(te,ce){this.name=te,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ce=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ce)){const ge=new ue.cY;if(this.instancesDeferred.set(ce,ge),this.isInitialized(ce)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ce});st&&ge.resolve(st)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(te){var ce;const ge=this.normalizeInstanceIdentifier(te?.identifier),st=null!==(ce=te?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(qe){if(st)return null;throw qe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Ne($e){return"EAGER"===$e.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[ce,ge]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ce);try{const qe=this.getOrInitializeService({instanceIdentifier:st});ge.resolve(qe)}catch{}}}}clearInstance(te=be){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,c.A)(function*(){const ce=Array.from(te.instances.values());yield Promise.all([...ce.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...ce.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=be){return this.instances.has(te)}getOptions(te=be){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ce={}}=te,ge=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:ge,options:ce});for(const[qe,yt]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(qe)&&yt.resolve(st);return st}onInit(te,ce){var ge;const st=this.normalizeInstanceIdentifier(ce),qe=null!==(ge=this.onInitCallbacks.get(st))&&void 0!==ge?ge:new Set;qe.add(te),this.onInitCallbacks.set(st,qe);const yt=this.instances.get(st);return yt&&te(yt,st),()=>{qe.delete(te)}}invokeOnInitCallbacks(te,ce){const ge=this.onInitCallbacks.get(ce);if(ge)for(const st of ge)try{st(te,ce)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ce={}}){let ge=this.instances.get(te);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:($e=te,$e===be?void 0:$e),options:ce}),this.instances.set(te,ge),this.instancesOptions.set(te,ce),this.invokeOnInitCallbacks(ge,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ge)}catch{}var $e;return ge||null}normalizeInstanceIdentifier(te=be){return this.component?this.component.multipleInstances?te:be:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ce=this.getProvider(te.name);if(ce.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ce.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ce=new ve(te,this);return this.providers.set(te,ce),ce}getProviders(){return Array.from(this.providers.values())}}},8041:(rn,Qe,L)=>{L.d(Qe,{$b:()=>ue,Ey:()=>$e,He:()=>Fe,Vy:()=>Ne});const c=[];var ue=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(ue||{});const o={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},be=ue.INFO,ve={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},me=(te,ce,...ge)=>{if(ce<te.logLevel)return;const st=(new Date).toISOString(),qe=ve[ce];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[qe](`[${st}]  ${te.name}:`,...ge)};class Ne{constructor(ce){this.name=ce,this._logLevel=be,this._logHandler=me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in ue))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?o[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...ce),this._logHandler(this,ue.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...ce),this._logHandler(this,ue.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...ce),this._logHandler(this,ue.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...ce),this._logHandler(this,ue.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...ce),this._logHandler(this,ue.ERROR,...ce)}}function Fe(te){c.forEach(ce=>{ce.setLogLevel(te)})}function $e(te,ce){for(const ge of c){let st=null;ce&&ce.level&&(st=o[ce.level]),ge.userLogHandler=null===te?null:(qe,yt,...vt)=>{const jt=vt.map(xt=>{if(null==xt)return null;if("string"==typeof xt)return xt;if("number"==typeof xt||"boolean"==typeof xt)return xt.toString();if(xt instanceof Error)return xt.message;try{return JSON.stringify(xt)}catch{return null}}).filter(xt=>xt).join(" ");yt>=(st??qe.logLevel)&&te({level:ue[yt].toLowerCase(),message:jt,args:vt,type:qe.name})}}}},2214:(rn,Qe,L)=>{L.d(Qe,{Dk:()=>c.getApps,KO:()=>c.registerVersion,Sx:()=>c.getApp,Wp:()=>c.initializeApp});var c=L(7852);(0,c.registerVersion)("firebase","10.12.2","app")},7935:(rn,Qe,L)=>{L.d(Qe,{A:()=>c.A});var c=L(3345);c.A.registerVersion("firebase","10.12.2","app-compat")},2438:(rn,Qe,L)=>{var c=L(467),ue=L(3345),o=L(4033),be=L(1076),Ne=(L(7852),L(8041),L(1362));function Fe(){return window}function ce(){return ce=(0,c.A)(function*($,V,F){var le;const{BuildInfo:Ve}=Fe();(0,o.au)(V.sessionId,"AuthEvent did not contain a session ID");const It=yield function xt($){return an.apply(this,arguments)}(V.sessionId),Nt={};return(0,o.av)()?Nt.ibi=Ve.packageName:(0,o.aw)()?Nt.apn=Ve.packageName:(0,o.ax)($,"operation-not-supported-in-this-environment"),Ve.displayName&&(Nt.appDisplayName=Ve.displayName),Nt.sessionId=It,(0,o.ay)($,F,V.type,void 0,null!==(le=V.eventId)&&void 0!==le?le:void 0,Nt)}),ce.apply(this,arguments)}function st(){return(st=(0,c.A)(function*($){const{BuildInfo:V}=Fe(),F={};(0,o.av)()?F.iosBundleId=V.packageName:(0,o.aw)()?F.androidPackageName=V.packageName:(0,o.ax)($,"operation-not-supported-in-this-environment"),yield(0,o.az)($,F)})).apply(this,arguments)}function vt(){return(vt=(0,c.A)(function*($,V,F){const{cordova:le}=Fe();let Ve=()=>{};try{yield new Promise((It,Nt)=>{let pn=null;function on(){var An;It();const vi=null===(An=le.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof vi&&vi(),"function"==typeof F?.close&&F.close()}function un(){pn||(pn=window.setTimeout(()=>{Nt((0,o.aB)($,"redirect-cancelled-by-user"))},2e3))}function ir(){"visible"===document?.visibilityState&&un()}V.addPassiveListener(on),document.addEventListener("resume",un,!1),(0,o.aw)()&&document.addEventListener("visibilitychange",ir,!1),Ve=()=>{V.removePassiveListener(on),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",ir,!1),pn&&window.clearTimeout(pn)}})}finally{Ve()}})).apply(this,arguments)}function an(){return(an=(0,c.A)(function*($){const V=function Je($){if((0,o.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const V=new ArrayBuffer($.length),F=new Uint8Array(V);for(let le=0;le<$.length;le++)F[le]=$.charCodeAt(le);return F}($),F=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(F)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class it extends o.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.A)(function*(){yield V.initPromise})()}}function Tt($){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.A)(function*($){const V=yield ln()._get(nr($));return V&&(yield ln()._remove(nr($))),V})).apply(this,arguments)}function Yt(){const $=[];for(let F=0;F<20;F++){const le=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return $.join("")}function ln(){return(0,o.aE)(o.b)}function nr($){return(0,o.aF)("authEvent",$.config.apiKey,$.name)}function Wt($){if(!$?.includes("?"))return{};const[V,...F]=$.split("?");return(0,be.I9)(F.join("?"))}const de=class Pe{constructor(){this._redirectPersistence=o.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,c.A)(function*(){const le=V._key();let Ve=F.eventManagers.get(le);return Ve||(Ve=new it(V),F.eventManagers.set(le,Ve),F.attachCallbackListeners(V,Ve)),Ve})()}_openPopup(V){(0,o.ax)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,F,le,Ve){var It=this;return(0,c.A)(function*(){!function jt($){var V,F,le,Ve,It,Nt,pn,on,un,ir;const An=Fe();(0,o.aC)("function"==typeof(null===(V=An?.universalLinks)||void 0===V?void 0:V.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,o.aC)(typeof(null===(F=An?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,o.aC)("function"==typeof(null===(It=null===(Ve=null===(le=An?.cordova)||void 0===le?void 0:le.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===It?void 0:It.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(on=null===(pn=null===(Nt=An?.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===pn?void 0:pn.browsertab)||void 0===on?void 0:on.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(ir=null===(un=An?.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===ir?void 0:ir.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Nt=yield It._initialize(V);yield Nt.initialized(),Nt.resetRedirect(),(0,o.aI)(),yield It._originValidation(V);const pn=function Ye($,V,F=null){return{type:V,eventId:F,urlResponse:null,sessionId:Yt(),postBody:null,tenantId:$.tenantId,error:(0,o.aB)($,"no-auth-event")}}(V,le,Ve);yield function nt($,V){return ln()._set(nr($),V)}(V,pn);const on=yield function te($,V,F){return ce.apply(this,arguments)}(V,pn,F),un=yield function qe($){const{cordova:V}=Fe();return new Promise(F=>{V.plugins.browsertab.isAvailable(le=>{let Ve=null;le?V.plugins.browsertab.openUrl($):Ve=V.InAppBrowser.open($,(0,o.aA)()?"_blank":"_system","location=yes"),F(Ve)})})}(on);return function yt($,V,F){return vt.apply(this,arguments)}(V,Nt,un)})()}_isIframeWebStorageSupported(V,F){throw new Error("Method not implemented.")}_originValidation(V){const F=V._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function ge($){return st.apply(this,arguments)}(V)),this.originValidationPromises[F]}attachCallbackListeners(V,F){const{universalLinks:le,handleOpenURL:Ve,BuildInfo:It}=Fe(),Nt=setTimeout((0,c.A)(function*(){yield Tt(V),F.onEvent(Me())}),500),pn=function(){var ir=(0,c.A)(function*(An){clearTimeout(Nt);const vi=yield Tt(V);let Tr=null;vi&&An?.url&&(Tr=function Ce($,V){var F,le;const Ve=function Bt($){const V=Wt($),F=V.link?decodeURIComponent(V.link):void 0,le=Wt(F).link,Ve=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Wt(Ve).link||Ve||le||F||$}(V);if(Ve.includes("/__/auth/callback")){const It=Wt(Ve),Nt=It.firebaseError?function Pt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(It.firebaseError)):null,pn=null===(le=null===(F=Nt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===le?void 0:le[1],on=pn?(0,o.aB)(pn):null;return on?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:on,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Ve,postBody:null}}return null}(vi,An.url)),F.onEvent(Tr||Me())});return function(vi){return ir.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,pn);const on=Ve,un=`${It.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var ir=(0,c.A)(function*(An){if(An.toLowerCase().startsWith(un)&&pn({url:An}),"function"==typeof on)try{on(An)}catch(vi){console.error(vi)}});return function(An){return ir.apply(this,arguments)}}()}};function Me(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,o.aB)("no-auth-event")}}function bt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function dn($=(0,be.ZQ)()){return!("file:"!==bt()&&"ionic:"!==bt()&&"capacitor:"!==bt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ht(){try{const $=self.localStorage,V=o.aN();if($)return $.setItem(V,"1"),$.removeItem(V),!function dr($=(0,be.ZQ)()){return function On(){return(0,be.lT)()&&11===document?.documentMode}()||function En($=(0,be.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,be.zW)()}catch{return Tn()&&(0,be.zW)()}return!1}function Tn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function At(){return"http:"===bt()||"https:"===bt()}()||(0,be.sr)()||dn())&&!function en(){return(0,be.lV)()||(0,be.Ll)()}()&&Ht()&&!Tn()}function zt(){return dn()&&typeof document<"u"}function Vr(){return(Vr=(0,c.A)(function*(){return!!zt()&&new Promise($=>{const V=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),$(!0)})})})).apply(this,arguments)}const yr={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=o.aC,Lt="persistence";function xn($){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*($){yield $._initializationPromise;const V=Er(),F=o.aF(Lt,$.config.apiKey,$.name);V&&V.setItem(F,$._getPersistence())})).apply(this,arguments)}function Er(){var $;try{return(null===($=function hn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Zr=o.aC;class Bn{constructor(){this.browserResolver=o.aE(o.k),this.cordovaResolver=o.aE(de),this.underlyingResolver=null,this._redirectPersistence=o.a,this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,c.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,F,le,Ve){var It=this;return(0,c.A)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openPopup(V,F,le,Ve)})()}_openRedirect(V,F,le,Ve){var It=this;return(0,c.A)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openRedirect(V,F,le,Ve)})()}_isIframeWebStorageSupported(V,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,F)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.A)(function*(){if(V.underlyingResolver)return;const F=yield function Vt(){return Vr.apply(this,arguments)}();V.underlyingResolver=F?V.cordovaResolver:V.browserResolver})()}}function ei($){return $.unwrap()}function cn($){return Xn($)}function Xn($){const{_tokenResponse:V}=$ instanceof be.g?$.customData:$;if(!V)return null;if(!($ instanceof be.g)&&"temporaryProof"in V&&"phoneNumber"in V)return o.P.credentialFromResult($);const F=V.providerId;if(!F||F===o.p.PASSWORD)return null;let le;switch(F){case o.p.GOOGLE:le=o.X;break;case o.p.FACEBOOK:le=o.W;break;case o.p.GITHUB:le=o.Y;break;case o.p.TWITTER:le=o.$;break;default:const{oauthIdToken:Ve,oauthAccessToken:It,oauthTokenSecret:Nt,pendingToken:pn,nonce:on}=V;return It||Nt||Ve||pn?pn?F.startsWith("saml.")?o.aQ._create(F,pn):o.N._fromParams({providerId:F,signInMethod:F,pendingToken:pn,idToken:Ve,accessToken:It}):new o.Z(F).credential({idToken:Ve,accessToken:It,rawNonce:on}):null}return $ instanceof be.g?le.credentialFromError($):le.credentialFromResult($)}function _r($,V){return V.catch(F=>{throw F instanceof be.g&&function ti($,V){var F;const le=null===(F=V.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new We($,o.as($,V));else if(le){const Ve=Xn(V),It=V;Ve&&(It.credential=Ve,It.tenantId=le.tenantId||void 0,It.email=le.email||void 0,It.phoneNumber=le.phoneNumber||void 0)}}($,F),F}).then(F=>{const Ve=F.user;return{operationType:F.operationType,credential:cn(F),additionalUserInfo:o.aq(F),user:pt.getOrCreate(Ve)}})}function Mn($,V){return _i.apply(this,arguments)}function _i(){return(_i=(0,c.A)(function*($,V){const F=yield V;return{verificationId:F.verificationId,confirm:le=>_r($,F.confirm(le))}})).apply(this,arguments)}class We{constructor(V,F){this.resolver=F,this.auth=function Ki($){return $.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return _r(ei(this.auth),this.resolver.resolveSignIn(V))}}class pt{constructor(V){this._delegate=V,this.multiFactor=o.at(V)}static getOrCreate(V){return pt.USER_MAP.has(V)||pt.USER_MAP.set(V,new pt(V)),pt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var F=this;return(0,c.A)(function*(){return _r(F.auth,o.a2(F._delegate,V))})()}linkWithPhoneNumber(V,F){var le=this;return(0,c.A)(function*(){return Mn(le.auth,o.l(le._delegate,V,F))})()}linkWithPopup(V){var F=this;return(0,c.A)(function*(){return _r(F.auth,o.d(F._delegate,V,Bn))})()}linkWithRedirect(V){var F=this;return(0,c.A)(function*(){return yield xn(o.aJ(F.auth)),o.g(F._delegate,V,Bn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var F=this;return(0,c.A)(function*(){return _r(F.auth,o.a3(F._delegate,V))})()}reauthenticateWithPhoneNumber(V,F){return Mn(this.auth,o.r(this._delegate,V,F))}reauthenticateWithPopup(V){return _r(this.auth,o.e(this._delegate,V,Bn))}reauthenticateWithRedirect(V){var F=this;return(0,c.A)(function*(){return yield xn(o.aJ(F.auth)),o.h(F._delegate,V,Bn)})()}sendEmailVerification(V){return o.ag(this._delegate,V)}unlink(V){var F=this;return(0,c.A)(function*(){return yield o.ap(F._delegate,V),F})()}updateEmail(V){return o.al(this._delegate,V)}updatePassword(V){return o.am(this._delegate,V)}updatePhoneNumber(V){return o.u(this._delegate,V)}updateProfile(V){return o.ak(this._delegate,V)}verifyBeforeUpdateEmail(V,F){return o.ah(this._delegate,V,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pt.USER_MAP=new WeakMap;const oe=o.aC;let J=(()=>{class ${constructor(F,le){if(this.app=F,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=F.options;oe(Ve,"invalid-api-key",{appName:F.name}),oe(Ve,"invalid-api-key",{appName:F.name});const It=typeof window<"u"?Bn:void 0;this._delegate=le.initialize({options:{persistence:Ae(Ve,F.name),popupRedirectResolver:It}}),this._delegate._updateErrorMap(o.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,le){o.K(this._delegate,F,le)}applyActionCode(F){return o.a7(this._delegate,F)}checkActionCode(F){return o.a8(this._delegate,F)}confirmPasswordReset(F,le){return o.a6(this._delegate,F,le)}createUserWithEmailAndPassword(F,le){var Ve=this;return(0,c.A)(function*(){return _r(Ve._delegate,o.aa(Ve._delegate,F,le))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return o.af(this._delegate,F)}isSignInWithEmailLink(F){return o.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,c.A)(function*(){oe(jn(),F._delegate,"operation-not-supported-in-this-environment");const le=yield o.j(F._delegate,Bn);return le?_r(F._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Xe($,V){(0,o.aJ)($)._logFramework(V)}(this._delegate,F)}onAuthStateChanged(F,le,Ve){const{next:It,error:Nt,complete:pn}=Le(F,le,Ve);return this._delegate.onAuthStateChanged(It,Nt,pn)}onIdTokenChanged(F,le,Ve){const{next:It,error:Nt,complete:pn}=Le(F,le,Ve);return this._delegate.onIdTokenChanged(It,Nt,pn)}sendSignInLinkToEmail(F,le){return o.ac(this._delegate,F,le)}sendPasswordResetEmail(F,le){return o.a5(this._delegate,F,le||void 0)}setPersistence(F){var le=this;return(0,c.A)(function*(){let Ve;switch(function gn($,V){Gn(Object.values(yr).includes(V),$,"invalid-persistence-type"),(0,be.lV)()?Gn(V!==yr.SESSION,$,"unsupported-persistence-type"):(0,be.Ll)()?Gn(V===yr.NONE,$,"unsupported-persistence-type"):Tn()?Gn(V===yr.NONE||V===yr.LOCAL&&(0,be.zW)(),$,"unsupported-persistence-type"):Gn(V===yr.NONE||Ht(),$,"unsupported-persistence-type")}(le._delegate,F),F){case yr.SESSION:Ve=o.a;break;case yr.LOCAL:Ve=(yield o.aE(o.i)._isAvailable())?o.i:o.b;break;case yr.NONE:Ve=o.U;break;default:return o.ax("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return _r(this._delegate,o.a0(this._delegate))}signInWithCredential(F){return _r(this._delegate,o.a1(this._delegate,F))}signInWithCustomToken(F){return _r(this._delegate,o.a4(this._delegate,F))}signInWithEmailAndPassword(F,le){return _r(this._delegate,o.ab(this._delegate,F,le))}signInWithEmailLink(F,le){return _r(this._delegate,o.ae(this._delegate,F,le))}signInWithPhoneNumber(F,le){return Mn(this._delegate,o.s(this._delegate,F,le))}signInWithPopup(F){var le=this;return(0,c.A)(function*(){return oe(jn(),le._delegate,"operation-not-supported-in-this-environment"),_r(le._delegate,o.c(le._delegate,F,Bn))})()}signInWithRedirect(F){var le=this;return(0,c.A)(function*(){return oe(jn(),le._delegate,"operation-not-supported-in-this-environment"),yield xn(le._delegate),o.f(le._delegate,F,Bn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return o.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=yr,$})();function Le($,V,F){let le=$;"function"!=typeof $&&({next:le,error:V,complete:F}=$);const Ve=le;return{next:Nt=>Ve(Nt&&pt.getOrCreate(Nt)),error:V,complete:F}}function Ae($,V){const F=function hr($,V){const F=Er();if(!F)return[];const le=o.aF(Lt,$,V);switch(F.getItem(le)){case yr.NONE:return[o.U];case yr.LOCAL:return[o.i,o.a];case yr.SESSION:return[o.a];default:return[]}}($,V);if(typeof self<"u"&&!F.includes(o.i)&&F.push(o.i),typeof window<"u")for(const le of[o.b,o.a])F.includes(le)||F.push(le);return F.includes(o.U)||F.push(o.U),F}class Ct{constructor(){this.providerId="phone",this._delegate=new o.P(ei(ue.A.auth()))}static credential(V,F){return o.P.credential(V,F)}verifyPhoneNumber(V,F){return this._delegate.verifyPhoneNumber(V,F)}unwrap(){return this._delegate}}Ct.PHONE_SIGN_IN_METHOD=o.P.PHONE_SIGN_IN_METHOD,Ct.PROVIDER_ID=o.P.PROVIDER_ID;const Mt=o.aC;class Fn{constructor(V,F,le=ue.A.app()){var Ve;Mt(null===(Ve=le.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new o.R(le.auth(),V,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ee($){$.INTERNAL.registerComponent(new Ne.uA("auth-compat",V=>{const F=V.getProvider("app-compat").getImmediate(),le=V.getProvider("auth");return new J(F,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.A.EMAIL_SIGNIN,PASSWORD_RESET:o.A.PASSWORD_RESET,RECOVER_EMAIL:o.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.A.VERIFY_EMAIL}},EmailAuthProvider:o.V,FacebookAuthProvider:o.W,GithubAuthProvider:o.Y,GoogleAuthProvider:o.X,OAuthProvider:o.Z,SAMLAuthProvider:o._,PhoneAuthProvider:Ct,PhoneMultiFactorGenerator:o.m,RecaptchaVerifier:Fn,TwitterAuthProvider:o.$,Auth:J,AuthCredential:o.L,Error:be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.9")}(ue.A)},467:(rn,Qe,L)=>{function c(o,be,ve,me,Ne,Fe,$e){try{var te=o[Fe]($e),ce=te.value}catch(ge){return void ve(ge)}te.done?be(ce):Promise.resolve(ce).then(me,Ne)}function ue(o){return function(){var be=this,ve=arguments;return new Promise(function(me,Ne){var Fe=o.apply(be,ve);function $e(ce){c(Fe,me,Ne,$e,te,"next",ce)}function te(ce){c(Fe,me,Ne,$e,te,"throw",ce)}$e(void 0)})}}L.d(Qe,{A:()=>ue})},1635:(rn,Qe,L)=>{function be(de,Me){var Xe={};for(var Te in de)Object.prototype.hasOwnProperty.call(de,Te)&&Me.indexOf(Te)<0&&(Xe[Te]=de[Te]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(Te=Object.getOwnPropertySymbols(de);De<Te.length;De++)Me.indexOf(Te[De])<0&&Object.prototype.propertyIsEnumerable.call(de,Te[De])&&(Xe[Te[De]]=de[Te[De]])}return Xe}function ge(de,Me,Xe,Te){return new(Xe||(Xe=Promise))(function(He,bt){function At(On){try{en(Te.next(On))}catch(En){bt(En)}}function dn(On){try{en(Te.throw(On))}catch(En){bt(En)}}function en(On){On.done?He(On.value):function De(He){return He instanceof Xe?He:new Xe(function(bt){bt(He)})}(On.value).then(At,dn)}en((Te=Te.apply(de,Me||[])).next())})}function ze(de){return this instanceof ze?(this.v=de,this):new ze(de)}function it(de,Me,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Te=Xe.apply(de,Me||[]),He=[];return De={},At("next"),At("throw"),At("return",function bt(Ht){return function(Tn){return Promise.resolve(Tn).then(Ht,En)}}),De[Symbol.asyncIterator]=function(){return this},De;function At(Ht,Tn){Te[Ht]&&(De[Ht]=function(jn){return new Promise(function(zt,Vt){He.push([Ht,jn,zt,Vt])>1||dn(Ht,jn)})},Tn&&(De[Ht]=Tn(De[Ht])))}function dn(Ht,Tn){try{!function en(Ht){Ht.value instanceof ze?Promise.resolve(Ht.value.v).then(On,En):dr(He[0][2],Ht)}(Te[Ht](Tn))}catch(jn){dr(He[0][3],jn)}}function On(Ht){dn("next",Ht)}function En(Ht){dn("throw",Ht)}function dr(Ht,Tn){Ht(Tn),He.shift(),He.length&&dn(He[0][0],He[0][1])}}function nt(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Me=de[Symbol.asyncIterator];return Me?Me.call(de):(de=function vt(de){var Me="function"==typeof Symbol&&Symbol.iterator,Xe=Me&&de[Me],Te=0;if(Xe)return Xe.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Te>=de.length&&(de=void 0),{value:de&&de[Te++],done:!de}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Xe={},Te("next"),Te("throw"),Te("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function Te(He){Xe[He]=de[He]&&function(bt){return new Promise(function(At,dn){!function De(He,bt,At,dn){Promise.resolve(dn).then(function(en){He({value:en,done:At})},bt)}(At,dn,(bt=de[He](bt)).done,bt.value)})}}}L.d(Qe,{AQ:()=>it,N3:()=>ze,Tt:()=>be,sH:()=>ge,xN:()=>nt}),"function"==typeof SuppressedError&&SuppressedError}},rn=>{rn(rn.s=6317)}]);