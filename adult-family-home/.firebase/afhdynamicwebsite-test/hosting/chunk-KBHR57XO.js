import{$b as H,Aa as V,Ba as D,E as a,Fb as W,H as u,J as h,Jb as q,K as f,Ka as U,La as d,M as k,Ma as G,Mb as Y,Na as B,O as _,R as o,S as i,T as m,X as P,Y as l,Z as v,Zb as z,cc as Z,fa as r,fc as $,ga as p,ha as x,ka as L,la as I,ma as j,na as N,o as A,oa as T,p as b,pc as J,r as g,rc as K,tc as w,ua as F,uc as Q,v as y,va as R,w as O,z as E}from"./chunk-A762WAGH.js";var tt=(()=>{class e{constructor(t,n,s){this.auth=t,this.router=n,this.platformId=s}canActivate(){return D(this.platformId)?new Promise(t=>{q(this.auth,n=>{n?t(!0):(this.router.navigate(["/login"]),t(!1))})}):(console.log("\u26D4 SSR: skipping AuthGuard"),Promise.resolve(!0))}static{this.\u0275fac=function(n){return new(n||e)(g(W),g(d),g(E))}}static{this.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ot=()=>["/home/"],rt=e=>({id:e});function st(e,S){if(e&1){let t=P();o(0,"button",7),l("click",function(){y(t);let s=v().$implicit,c=v();return O(c.deleteBusiness(s.id))}),r(1,"Delete"),i()}}function at(e,S){if(e&1){let t=P();o(0,"tr")(1,"td")(2,"a",6)(3,"strong"),r(4),i()()(),o(5,"td"),r(6),i(),o(7,"td")(8,"strong"),r(9),i(),m(10,"br"),r(11),m(12,"br"),r(13),i(),o(14,"td"),r(15),i(),o(16,"td"),r(17),i(),o(18,"td")(19,"button",7),l("click",function(){let s=y(t).$implicit,c=v();return O(c.editBusiness(s.id))}),r(20,"Edit"),i(),k(21,st,2,0,"button",8),i()()}if(e&2){let t=S.$implicit;a(2),_("routerLink",N(10,ot))("queryParams",T(11,rt,t.id)),a(2),x(" ",t.id,""),a(2),p(t.businessName),a(3),x("",t.providerName," "),a(2),x(" ",t.phone,""),a(2),p(t.email),a(2),p(t.isActive),a(2),p(t.isLive),a(4),_("ngIf",!t.isActive)}}var et=(()=>{class e{constructor(t,n){this.businessService=t,this.router=n,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(t=>{this.businesses=t}):this.businessService.getAllBusinesses().subscribe(t=>{this.businesses=t})}editBusiness(t){this.router.navigate(["/admin/edit-business",t])}deleteBusiness(t){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(t,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(n=>console.error("Error deleting business",n))}addNewBusiness(){this.router.navigate(["/admin/new"])}static{this.\u0275fac=function(n){return new(n||e)(u(Y),u(d))}}static{this.\u0275cmp=h({type:e,selectors:[["app-business-list"]],standalone:!1,decls:25,vars:2,consts:[[1,"business-list-container"],["ttype","button",1,"afhBtn",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModelChange","change","ngModel"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],["type","button",1,"afhBtn",3,"click"],["type","button","class","afhBtn",3,"click",4,"ngIf"]],template:function(n,s){n&1&&(o(0,"div",0)(1,"h2"),r(2,"Business List"),i(),o(3,"button",1),l("click",function(){return s.addNewBusiness()}),r(4,"Add New Business"),i(),o(5,"label",2),r(6,"Show Active Only"),i(),o(7,"input",3),j("ngModelChange",function(M){return I(s.showActiveOnly,M)||(s.showActiveOnly=M),M}),l("change",function(){return s.loadBusinesses()}),i(),o(8,"table",4)(9,"thead")(10,"tr")(11,"th"),r(12,"ID"),i(),o(13,"th"),r(14,"Name"),i(),o(15,"th"),r(16,"Provider"),i(),o(17,"th"),r(18,"Active"),i(),o(19,"th"),r(20,"Live"),i(),o(21,"th"),r(22,"Actions"),i()()(),o(23,"tbody"),k(24,at,22,13,"tr",5),i()()()),n&2&&(a(7),L("ngModel",s.showActiveOnly),a(17),_("ngForOf",s.businesses))},dependencies:[F,R,G,H,Z,$],styles:[`.business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:var(--button-color);color:var(--primary-color);border:none;border-radius:5px;cursor:pointer}.add-business-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--background-color)}.business-id-link[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.edit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:var(--primary-color)}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}
/*# sourceMappingURL=business-list.component-2CSTTZ3M.css.map */`]})}}return e})();var nt=(()=>{class e{constructor(t,n){this.router=t,this.authService=n}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static{this.\u0275fac=function(n){return new(n||e)(u(d),u(K))}}static{this.\u0275cmp=h({type:e,selectors:[["app-admin"]],standalone:!1,decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],["type","button",1,"afhBtn",3,"click"]],template:function(n,s){n&1&&(o(0,"div",0)(1,"div",1)(2,"h4"),r(3,"Admin Dashboard"),i(),o(4,"button",2),l("click",function(){return s.loadBusinessList()}),r(5,"View Business List"),i(),o(6,"button",2),l("click",function(){return s.logout()}),r(7,"Logout"),i()()(),m(8,"router-outlet"))},dependencies:[U],styles:[`.admin-container[_ngcontent-%COMP%]{width:100%;margin:160px auto 0;background-color:var(--background-color);border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin:10px}button[_ngcontent-%COMP%]{padding:15px 30px;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--button-color-hover)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px var(--button-color)}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}
/*# sourceMappingURL=admin.component-EUVMVYYR.css.map */`]})}}return e})();var ct=[{path:"",component:nt,canActivate:[tt],children:[{path:"businessList",component:et},{path:"new",component:w},{path:"edit-business/:id",component:w},{path:"gallery-upload",component:Q},{path:":id",component:z}]}],it=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=b({imports:[B.forChild(ct),B]})}}return e})();var Ft=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=b({imports:[V,it,J]})}}return e})();export{Ft as AdminModule};
//# sourceMappingURL=chunk-KBHR57XO.js.map
