"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(on,tt,V)=>{V.d(tt,{$:()=>Oa,A:()=>te,G:()=>Ge,K:()=>Ci,L:()=>$s,N:()=>Ce,P:()=>Do,R:()=>ol,U:()=>ln,V:()=>Ki,W:()=>Si,X:()=>Lr,Y:()=>yo,Z:()=>Di,_:()=>Ko,a:()=>nl,a0:()=>zs,a1:()=>fs,a2:()=>Ws,a3:()=>to,a4:()=>qi,a5:()=>Aa,a6:()=>Ou,a7:()=>ec,a8:()=>Lo,a9:()=>tc,aA:()=>lr,aB:()=>Ze,aC:()=>Ie,aD:()=>Qf,aE:()=>dt,aF:()=>pn,aG:()=>pc,aH:()=>Rl,aI:()=>Gh,aJ:()=>Sr,aN:()=>Or,aQ:()=>Zs,aa:()=>Uh,ab:()=>Nu,ac:()=>vl,ad:()=>nc,ae:()=>Fa,af:()=>rc,ag:()=>ne,ah:()=>Y,ak:()=>Pn,al:()=>pi,am:()=>ii,ap:()=>vo,aq:()=>Ni,as:()=>El,at:()=>ca,au:()=>gn,av:()=>gi,aw:()=>xi,ax:()=>Te,ay:()=>ja,az:()=>Zo,b:()=>sc,c:()=>Ku,d:()=>qu,e:()=>Fd,f:()=>Uo,g:()=>xl,h:()=>Pl,i:()=>O,j:()=>Xf,k:()=>Yh,l:()=>ua,m:()=>Zu,p:()=>Be,r:()=>Hu,s:()=>wo,u:()=>Wu});var o=V(467),ue=V(7852),i=V(1076),ve=V(8041),ge=V(1635),De=V(1362);const Be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function he(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},pt=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nt=new ve.Vy("@firebase/auth");function ze(C,...g){Nt.logLevel<=ve.$b.ERROR&&Nt.error(`Auth (${ue.SDK_VERSION}): ${C}`,...g)}function Te(C,...g){throw Ot(C,...g)}function Ze(C,...g){return Ot(C,...g)}function Oe(C,g,v){const S=Object.assign(Object.assign({},pt()),{[g]:v});return new i.FA("auth","Firebase",S).create(g,{appName:C.name})}function et(C){return Oe(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $e(C,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Te(C,"argument-error"),Oe(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(C,...g){if("string"!=typeof C){const v=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(v,...S)}return Tt.create(C,...g)}function Ie(C,g,...v){if(!C)throw Ot(g,...v)}function Yt(C){const g="INTERNAL ASSERTION FAILED: "+C;throw ze(g),new Error(g)}function gn(C,g){C||Yt(g)}function sr(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Qe(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Pe{constructor(g,v){this.shortDelay=g,this.longDelay=v,gn(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qe()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(C,g){gn(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class en{static initialize(g,v,S){this.fetchImpl=g,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const We={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new Pe(3e4,6e4);function Ee(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Me(C,g,v,S){return lt.apply(this,arguments)}function lt(){return(lt=(0,o.A)(function*(C,g,v,S,X={}){return rt(C,X,(0,o.A)(function*(){let de={},Ye={};S&&("GET"===g?Ye=S:de={body:JSON.stringify(S)});const Rt=(0,i.Am)(Object.assign({key:C.config.apiKey},Ye)).slice(1),Wt=yield C._getAdditionalHeaders();Wt["Content-Type"]="application/json",C.languageCode&&(Wt["X-Firebase-Locale"]=C.languageCode);const Mn=Object.assign({method:g,headers:Wt},de);return(0,i.c1)()||(Mn.referrerPolicy="no-referrer"),en.fetch()(sn(C,C.config.apiHost,v,Rt),Mn)}))})).apply(this,arguments)}function rt(C,g,v){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,o.A)(function*(C,g,v){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},We),g);try{const X=new Jt(C),de=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const Ye=yield de.json();if("needConfirmation"in Ye)throw jn(C,"account-exists-with-different-credential",Ye);if(de.ok&&!("errorMessage"in Ye))return Ye;{const Rt=de.ok?Ye.errorMessage:Ye.error.message,[Wt,Mn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wt)throw jn(C,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===Wt)throw jn(C,"email-already-in-use",Ye);if("USER_DISABLED"===Wt)throw jn(C,"user-disabled",Ye);const On=S[Wt]||Wt.toLowerCase().replace(/[_\s]+/g,"-");if(Mn)throw Oe(C,On,Mn);Te(C,On)}}catch(X){if(X instanceof i.g)throw X;Te(C,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function An(C,g,v,S){return rr.apply(this,arguments)}function rr(){return(rr=(0,o.A)(function*(C,g,v,S,X={}){const de=yield Me(C,g,v,S,X);return"mfaPendingCredential"in de&&Te(C,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function sn(C,g,v,S){const X=`${g}${v}?${S}`;return C.config.emulator?st(C.config,X):`${C.config.apiScheme}://${X}`}function Bn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(Ze(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(C,g,v){const S={appName:C.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=Ze(C,g,S);return X.customData._tokenResponse=v,X}function xn(C){return void 0!==C&&void 0!==C.getResponse}function zt(C){return void 0!==C&&void 0!==C.enterprise}class Bt{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===g)return Bn(v.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function an(){return(an=(0,o.A)(function*(C){return(yield Me(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fr(C,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.A)(function*(C,g){return Me(C,"GET","/v2/recaptchaConfig",Ee(C,g))})).apply(this,arguments)}function wn(){return(wn=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Dn(){return(Dn=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Hr(C,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Yr(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ms(){return(ms=(0,o.A)(function*(C,g=!1){const v=(0,i.Ku)(C),S=yield v.getIdToken(g),X=ni(S);Ie(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const de="object"==typeof X.firebase?X.firebase:void 0,Ye=de?.sign_in_provider;return{claims:X,token:S,authTime:Yr(fn(X.auth_time)),issuedAtTime:Yr(fn(X.iat)),expirationTime:Yr(fn(X.exp)),signInProvider:Ye||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function fn(C){return 1e3*Number(C)}function ni(C){const[g,v,S]=C.split(".");if(void 0===g||void 0===v||void 0===S)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,i.u)(v);return X?JSON.parse(X):(ze("Failed to decode base64 JWT payload"),null)}catch(X){return ze("Caught error parsing JWT payload as JSON",X?.toString()),null}}function er(C){const g=ni(C);return Ie(g,"internal-error"),Ie(typeof g.exp<"u","internal-error"),Ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function Ar(C,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,o.A)(function*(C,g,v=!1){if(v)return g;try{return yield g}catch(S){throw S instanceof i.g&&function Ii({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}class ot{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var g=this;return(0,o.A)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class Et{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yr(this.lastLoginAt),this.creationTime=Yr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ce(C){return xe.apply(this,arguments)}function xe(){return(xe=(0,o.A)(function*(C){var g;const v=C.auth,S=yield C.getIdToken(),X=yield Ar(C,Hr(v,{idToken:S}));Ie(X?.users.length,v,"internal-error");const de=X.users[0];C._notifyReloadListener(de);const Ye=null!==(g=de.providerUserInfo)&&void 0!==g&&g.length?Kt(de.providerUserInfo):[],Rt=function Ve(C,g){return[...C.filter(S=>!g.some(X=>X.providerId===S.providerId)),...g]}(C.providerData,Ye),On=!!C.isAnonymous&&!(C.email&&de.passwordHash||Rt?.length),ti={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:Rt,metadata:new Et(de.createdAt,de.lastLoginAt),isAnonymous:On};Object.assign(C,ti)})).apply(this,arguments)}function qt(){return(qt=(0,o.A)(function*(C){const g=(0,i.Ku)(C);yield ce(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Kt(C){return C.map(g=>{var{providerId:v}=g,S=(0,ge.Tt)(g,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function ft(){return(ft=(0,o.A)(function*(C,g){const v=yield rt(C,{},(0,o.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:X,apiKey:de}=C.config,Ye=sn(C,X,"/v1/token",`key=${de}`),Rt=yield C._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(Ye,{method:"POST",headers:Rt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(C,g){return Me(C,"POST","/v2/accounts:revokeToken",Ee(C,g))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ie(g.idToken,"internal-error"),Ie(typeof g.idToken<"u","internal-error"),Ie(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):er(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}updateFromIdToken(g){Ie(0!==g.length,"internal-error");const v=er(g);this.updateTokensAndExpiration(g,null,v)}getToken(g,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(Ie(S.refreshToken,g,"user-token-expired"),S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var S=this;return(0,o.A)(function*(){const{accessToken:X,refreshToken:de,expiresIn:Ye}=yield function _e(C,g){return ft.apply(this,arguments)}(g,v);S.updateTokensAndExpiration(X,de,Number(Ye))})()}updateTokensAndExpiration(g,v,S){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,v){const{refreshToken:S,accessToken:X,expirationTime:de}=v,Ye=new x;return S&&(Ie("string"==typeof S,"internal-error",{appName:g}),Ye.refreshToken=S),X&&(Ie("string"==typeof X,"internal-error",{appName:g}),Ye.accessToken=X),de&&(Ie("number"==typeof de,"internal-error",{appName:g}),Ye.expirationTime=de),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function k(C,g){Ie("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class re{constructor(g){var{uid:v,auth:S,stsTokenManager:X}=g,de=(0,ge.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Et(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,o.A)(function*(){const S=yield Ar(v,v.stsTokenManager.getToken(v.auth,g));return Ie(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(g){return function hi(C){return ms.apply(this,arguments)}(this,g)}reload(){return function At(C){return qt.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new re(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var S=this;return(0,o.A)(function*(){let X=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),X=!0),v&&(yield ce(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(g.auth.app))return Promise.reject(et(g.auth));const v=yield g.getIdToken();return yield Ar(g,function $t(C,g){return wn.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var S,X,de,Ye,Rt,Wt,Mn,On;const ti=null!==(S=v.displayName)&&void 0!==S?S:void 0,Bo=null!==(X=v.email)&&void 0!==X?X:void 0,ha=null!==(de=v.phoneNumber)&&void 0!==de?de:void 0,$l=null!==(Ye=v.photoURL)&&void 0!==Ye?Ye:void 0,Kd=null!==(Rt=v.tenantId)&&void 0!==Rt?Rt:void 0,td=null!==(Wt=v._redirectEventId)&&void 0!==Wt?Wt:void 0,nu=null!==(Mn=v.createdAt)&&void 0!==Mn?Mn:void 0,Pg=null!==(On=v.lastLoginAt)&&void 0!==On?On:void 0,{uid:np,emailVerified:qd,isAnonymous:xg,providerData:ru,stsTokenManager:ef}=v;Ie(np&&ef,g,"internal-error");const Pa=x.fromJSON(this.name,ef);Ie("string"==typeof np,g,"internal-error"),k(ti,g.name),k(Bo,g.name),Ie("boolean"==typeof qd,g,"internal-error"),Ie("boolean"==typeof xg,g,"internal-error"),k(ha,g.name),k($l,g.name),k(Kd,g.name),k(td,g.name),k(nu,g.name),k(Pg,g.name);const Yd=new re({uid:np,auth:g,email:Bo,emailVerified:qd,displayName:ti,isAnonymous:xg,photoURL:$l,phoneNumber:ha,tenantId:Kd,stsTokenManager:Pa,createdAt:nu,lastLoginAt:Pg});return ru&&Array.isArray(ru)&&(Yd.providerData=ru.map(tf=>Object.assign({},tf))),td&&(Yd._redirectEventId=td),Yd}static _fromIdTokenResponse(g,v,S=!1){return(0,o.A)(function*(){const X=new x;X.updateFromServerResponse(v);const de=new re({uid:v.localId,auth:g,stsTokenManager:X,isAnonymous:S});return yield ce(de),de})()}static _fromGetAccountInfoResponse(g,v,S){return(0,o.A)(function*(){const X=v.users[0];Ie(void 0!==X.localId,"internal-error");const de=void 0!==X.providerUserInfo?Kt(X.providerUserInfo):[],Ye=!(X.email&&X.passwordHash||de?.length),Rt=new x;Rt.updateFromIdToken(S);const Wt=new re({uid:X.localId,auth:g,stsTokenManager:Rt,isAnonymous:Ye}),Mn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:de,metadata:new Et(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||de?.length)};return Object.assign(Wt,Mn),Wt})()}}const fe=new Map;function dt(C){gn(C instanceof Function,"Expected a class definition");let g=fe.get(C);return g?(gn(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,fe.set(C,g),g)}const ln=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,o.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return C.type="NONE",C})();function pn(C,g,v){return`firebase:${C}:${g}:${v}`}class Sn{constructor(g,v,S){this.persistence=g,this.auth=v,this.userKey=S;const{config:X,name:de}=this.auth;this.fullUserKey=pn(this.userKey,X.apiKey,de),this.fullPersistenceKey=pn("persistence",X.apiKey,de),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.A)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?re._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,o.A)(function*(){if(v.persistence===g)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new Sn(dt(ln),g,S);const X=(yield Promise.all(v.map(function(){var Mn=(0,o.A)(function*(On){if(yield On._isAvailable())return On});return function(On){return Mn.apply(this,arguments)}}()))).filter(Mn=>Mn);let de=X[0]||dt(ln);const Ye=pn(S,g.config.apiKey,g.name);let Rt=null;for(const Mn of v)try{const On=yield Mn._get(Ye);if(On){const ti=re._fromJSON(g,On);Mn!==de&&(Rt=ti),de=Mn;break}}catch{}const Wt=X.filter(Mn=>Mn._shouldAllowMigration);return de._shouldAllowMigration&&Wt.length?(de=Wt[0],Rt&&(yield de._set(Ye,Rt.toJSON())),yield Promise.all(v.map(function(){var Mn=(0,o.A)(function*(On){if(On!==de)try{yield On._remove(Ye)}catch{}});return function(On){return Mn.apply(this,arguments)}}())),new Sn(de,g,S)):new Sn(de,g,S)})()}}function Ir(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Bs(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(cn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(_s(g))return"Blackberry";if(ys(g))return"Webos";if(Wr(g))return"Safari";if((g.includes("chrome/")||dr(g))&&!g.includes("edge/"))return"Chrome";if(xi(g))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function cn(C=(0,i.ZQ)()){return/firefox\//i.test(C)}function Wr(C=(0,i.ZQ)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function dr(C=(0,i.ZQ)()){return/crios\//i.test(C)}function Bs(C=(0,i.ZQ)()){return/iemobile/i.test(C)}function xi(C=(0,i.ZQ)()){return/android/i.test(C)}function _s(C=(0,i.ZQ)()){return/blackberry/i.test(C)}function ys(C=(0,i.ZQ)()){return/webos/i.test(C)}function gi(C=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function lr(C=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function ct(C=(0,i.ZQ)()){return gi(C)||xi(C)||ys(C)||_s(C)||/windows phone/i.test(C)||Bs(C)}function Ft(C,g=[]){let v;switch(C){case"Browser":v=Ir((0,i.ZQ)());break;case"Worker":v=`${Ir((0,i.ZQ)())}-${C}`;break;default:v=C}const S=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${ue.SDK_VERSION}/${S}`}class un{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const S=de=>new Promise((Ye,Rt)=>{try{Ye(g(de))}catch(Wt){Rt(Wt)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===g)return;const S=[];try{for(const X of v.queue)yield X(g),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const de of S)try{de()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Ln(){return(Ln=(0,o.A)(function*(C,g={}){return Me(C,"GET","/v2/passwordPolicy",Ee(C,g))})).apply(this,arguments)}class kr{constructor(g){var v,S,X,de;const Ye=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Ye.minPasswordLength)&&void 0!==v?v:6,Ye.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ye.maxPasswordLength),void 0!==Ye.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ye.containsLowercaseCharacter),void 0!==Ye.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ye.containsUppercaseCharacter),void 0!==Ye.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ye.containsNumericCharacter),void 0!==Ye.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ye.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=g.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(de=g.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=g.schemaVersion}validatePassword(g){var v,S,X,de,Ye,Rt;const Wt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Wt),this.validatePasswordCharacterOptions(g,Wt),Wt.isValid&&(Wt.isValid=null===(v=Wt.meetsMinPasswordLength)||void 0===v||v),Wt.isValid&&(Wt.isValid=null===(S=Wt.meetsMaxPasswordLength)||void 0===S||S),Wt.isValid&&(Wt.isValid=null===(X=Wt.containsLowercaseLetter)||void 0===X||X),Wt.isValid&&(Wt.isValid=null===(de=Wt.containsUppercaseLetter)||void 0===de||de),Wt.isValid&&(Wt.isValid=null===(Ye=Wt.containsNumericCharacter)||void 0===Ye||Ye),Wt.isValid&&(Wt.isValid=null===(Rt=Wt.containsNonAlphanumericCharacter)||void 0===Rt||Rt),Wt}validatePasswordLengthOptions(g,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=g.length>=S),X&&(v.meetsMaxPasswordLength=g.length<=X)}validatePasswordCharacterOptions(g,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<g.length;X++)S=g.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(g,v,S,X,de){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=de))}}class Kr{constructor(g,v,S,X){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new es(this),this.idTokenSubscription=new es(this),this.beforeStateQueue=new un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(g,v){var S=this;return v&&(this._popupRedirectResolver=dt(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var X,de;if(!S._deleted&&(S.persistenceManager=yield Sn.create(S,g),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(de=S.currentUser)||void 0===de?void 0:de.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.A)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(g){var v=this;return(0,o.A)(function*(){try{const S=yield Hr(v,{idToken:g}),X=yield re._fromGetAccountInfoResponse(v,S,g);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var v=this;return(0,o.A)(function*(){var S;if((0,ue._isFirebaseServerApp)(v.app)){const Rt=v.app.settings.authIdToken;return Rt?new Promise(Wt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Rt).then(Wt,Wt))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let de=X,Ye=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Rt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Wt=de?._redirectEventId,Mn=yield v.tryRedirectSignIn(g);(!Rt||Rt===Wt)&&Mn?.user&&(de=Mn.user,Ye=!0)}if(!de)return v.directlySetCurrentUser(null);if(!de._redirectEventId){if(Ye)try{yield v.beforeStateQueue.runMiddleware(de)}catch(Rt){de=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Rt))}return de?v.reloadAndSetCurrentUserOrClear(de):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===de._redirectEventId?v.directlySetCurrentUser(de):v.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(g){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,o.A)(function*(){try{yield ce(g)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,o.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(v.app))return Promise.reject(et(v));const S=g?(0,i.Ku)(g):null;return S&&Ie(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(g,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return g&&Ie(S.tenantId===g.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(g)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(g),S.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.A)(function*(){return(0,ue._isFirebaseServerApp)(g.app)?Promise.reject(et(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var v=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(et(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(dt(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,o.A)(function*(){const v=yield function zn(C){return Ln.apply(this,arguments)}(g),S=new kr(v);null===g.tenantId?g._projectPasswordPolicy=S:g._tenantPasswordPolicies[g.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new i.FA("auth","Firebase",g())}onAuthStateChanged(g,v,S){return this.registerStateListener(this.authStateSubscription,g,v,S)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,S){return this.registerStateListener(this.idTokenSubscription,g,v,S)}authStateReady(){return new Promise((g,v)=>{if(this.currentUser)g();else{const S=this.onAuthStateChanged(()=>{S(),g()},v)}})}revokeAccessToken(g){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function He(C,g){return $.apply(this,arguments)}(v,X)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var S=this;return(0,o.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===g?X.removeCurrentUser():X.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=g&&dt(g)||v._popupRedirectResolver;Ie(S,v,"argument-error"),v.redirectPersistenceManager=yield Sn.create(v,[dt(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,o.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===g?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,o.A)(function*(){if(g===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,S,X){if(this._deleted)return()=>{};const de="function"==typeof v?v:v.next.bind(v);let Ye=!1;const Rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(Rt,this,"internal-error"),Rt.then(()=>{Ye||de(this.currentUser)}),"function"==typeof v){const Wt=g.addObserver(v,S,X);return()=>{Ye=!0,Wt()}}{const Wt=g.addObserver(v);return()=>{Ye=!0,Wt()}}}directlySetCurrentUser(g){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ft(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":g.clientVersion};g.app.options.appId&&(S["X-Firebase-gmpid"]=g.app.options.appId);const X=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const de=yield g._getAppCheckToken();return de&&(S["X-Firebase-AppCheck"]=de),S})()}_getAppCheckToken(){var g=this;return(0,o.A)(function*(){var v;const S=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function Qt(C,...g){Nt.logLevel<=ve.$b.WARN&&Nt.warn(`Auth (${ue.SDK_VERSION}): ${C}`,...g)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Sr(C){return(0,i.Ku)(C)}class es{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xs={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mo(C){return xs.loadJS(C)}function ci(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Xr{constructor(g){this.type="recaptcha-enterprise",this.auth=Sr(g)}verify(g="verify",v=!1){var S=this;return(0,o.A)(function*(){function de(){return de=(0,o.A)(function*(Rt){if(!v){if(null==Rt.tenantId&&null!=Rt._agentRecaptchaConfig)return Rt._agentRecaptchaConfig.siteKey;if(null!=Rt.tenantId&&void 0!==Rt._tenantRecaptchaConfigs[Rt.tenantId])return Rt._tenantRecaptchaConfigs[Rt.tenantId].siteKey}return new Promise(function(){var Wt=(0,o.A)(function*(Mn,On){Fr(Rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ti=>{if(void 0!==ti.recaptchaKey){const Bo=new Bt(ti);return null==Rt.tenantId?Rt._agentRecaptchaConfig=Bo:Rt._tenantRecaptchaConfigs[Rt.tenantId]=Bo,Mn(Bo.siteKey)}On(new Error("recaptcha Enterprise site key undefined"))}).catch(ti=>{On(ti)})});return function(Mn,On){return Wt.apply(this,arguments)}}())}),de.apply(this,arguments)}function Ye(Rt,Wt,Mn){const On=window.grecaptcha;zt(On)?On.enterprise.ready(()=>{On.enterprise.execute(Rt,{action:g}).then(ti=>{Wt(ti)}).catch(()=>{Wt("NO_RECAPTCHA")})}):Mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rt,Wt)=>{(function X(Rt){return de.apply(this,arguments)})(S.auth).then(Mn=>{if(!v&&zt(window.grecaptcha))Ye(Mn,Rt,Wt);else{if(typeof window>"u")return void Wt(new Error("RecaptchaVerifier is only supported in browser"));let On=function Li(){return xs.recaptchaEnterpriseScript}();0!==On.length&&(On+=Mn),mo(On).then(()=>{Ye(Mn,Rt,Wt)}).catch(ti=>{Wt(ti)})}}).catch(Mn=>{Wt(Mn)})})})()}}function ji(C,g,v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,o.A)(function*(C,g,v,S=!1){const X=new Xr(C);let de;try{de=yield X.verify(v)}catch{de=yield X.verify(v,!0)}const Ye=Object.assign({},g);return Object.assign(Ye,S?{captchaResp:de}:{captchaResponse:de}),Object.assign(Ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ye})).apply(this,arguments)}function Rr(C,g,v,S){return ao.apply(this,arguments)}function ao(){return ao=(0,o.A)(function*(C,g,v,S){var X;if(null!==(X=C._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield ji(C,g,v,"getOobCode"===v);return S(C,de)}return S(C,g).catch(function(){var de=(0,o.A)(function*(Ye){if("auth/missing-recaptcha-token"===Ye.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Rt=yield ji(C,g,v,"getOobCode"===v);return S(C,Rt)}return Promise.reject(Ye)});return function(Ye){return de.apply(this,arguments)}}())}),ao.apply(this,arguments)}function Ci(C,g,v){const S=Sr(C);Ie(S._canInitEmulator,S,"emulator-config-failed"),Ie(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,de=ba(g),{host:Ye,port:Rt}=function Xs(C){const g=ba(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const de=X[1];return{host:de,port:ri(S.substr(de.length+1))}}{const[de,Ye]=S.split(":");return{host:de,port:ri(Ye)}}}(g);S.config.emulator={url:`${de}//${Ye}${null===Rt?"":`:${Rt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ye,port:Rt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function js(){function C(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ba(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function ri(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class $s{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Yt("not implemented")}_getIdTokenResponse(g){return Yt("not implemented")}_linkToIdToken(g,v){return Yt("not implemented")}_getReauthenticationResolver(g){return Yt("not implemented")}}function _o(C,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:resetPassword",Ee(C,g))})).apply(this,arguments)}function Dr(){return(Dr=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Pr(C,g){return us.apply(this,arguments)}function us(){return(us=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function Mi(){return(Mi=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:update",Ee(C,g))})).apply(this,arguments)}function Ts(C,g){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signInWithPassword",Ee(C,g))})).apply(this,arguments)}function ds(C,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:sendOobCode",Ee(C,g))})).apply(this,arguments)}function _n(){return(_n=(0,o.A)(function*(C,g){return ds(C,g)})).apply(this,arguments)}function nr(C,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,o.A)(function*(C,g){return ds(C,g)})).apply(this,arguments)}function Wi(C,g){return is.apply(this,arguments)}function is(){return(is=(0,o.A)(function*(C,g){return ds(C,g)})).apply(this,arguments)}function Hs(){return(Hs=(0,o.A)(function*(C,g){return ds(C,g)})).apply(this,arguments)}function ss(){return(ss=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signInWithEmailLink",Ee(C,g))})).apply(this,arguments)}function Qn(){return(Qn=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signInWithEmailLink",Ee(C,g))})).apply(this,arguments)}class hs extends $s{constructor(g,v,S,X=null){super("password",S),this._email=g,this._password=v,this._tenantId=X}static _fromEmailAndPassword(g,v){return new hs(g,v,"password")}static _fromEmailAndCode(g,v,S=null){return new hs(g,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Rr(g,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ts);case"emailLink":return function Jr(C,g){return ss.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Te(g,"internal-error")}})()}_linkToIdToken(g,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Rr(g,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pr);case"emailLink":return function Is(C,g){return Qn.apply(this,arguments)}(g,{idToken:v,email:S._email,oobCode:S._password});default:Te(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ki(C,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signInWithIdp",Ee(C,g))})).apply(this,arguments)}class Ce extends $s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Ce(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Te("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:X}=v,de=(0,ge.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const Ye=new Ce(S,X);return Ye.idToken=de.idToken||void 0,Ye.accessToken=de.accessToken||void 0,Ye.secret=de.secret,Ye.nonce=de.nonce,Ye.pendingToken=de.pendingToken||null,Ye}_getIdTokenResponse(g){return ki(g,this.buildRequest())}_linkToIdToken(g,v){const S=this.buildRequest();return S.idToken=v,ki(g,S)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,ki(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,i.Am)(v)}return g}}function it(){return(it=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:sendVerificationCode",Ee(C,g))})).apply(this,arguments)}function Xt(){return(Xt=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signInWithPhoneNumber",Ee(C,g))})).apply(this,arguments)}function mn(){return(mn=(0,o.A)(function*(C,g){const v=yield An(C,"POST","/v1/accounts:signInWithPhoneNumber",Ee(C,g));if(v.temporaryProof)throw jn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Wn={USER_NOT_FOUND:"user-not-found"};function Vn(){return(Vn=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signInWithPhoneNumber",Ee(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Wn)})).apply(this,arguments)}class Un extends $s{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Un({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Un({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function It(C,g){return Xt.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function bn(C,g){return mn.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function yr(C,g){return Vn.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:de}=g;return S||v||X||de?new Un({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:de}):null}}class Zr{constructor(g){var v,S,X,de,Ye,Rt;const Wt=(0,i.I9)((0,i.hp)(g)),Mn=null!==(v=Wt.apiKey)&&void 0!==v?v:null,On=null!==(S=Wt.oobCode)&&void 0!==S?S:null,ti=function Yn(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Wt.mode)&&void 0!==X?X:null);Ie(Mn&&On&&ti,"argument-error"),this.apiKey=Mn,this.operation=ti,this.code=On,this.continueUrl=null!==(de=Wt.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(Ye=Wt.languageCode)&&void 0!==Ye?Ye:null,this.tenantId=null!==(Rt=Wt.tenantId)&&void 0!==Rt?Rt:null}static parseLink(g){const v=function ui(C){const g=(0,i.I9)((0,i.hp)(C)).link,v=g?(0,i.I9)((0,i.hp)(g)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(C)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||v||g||C}(g);try{return new Zr(v)}catch{return null}}}let Ki=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,S){return hs._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=Zr.parseLink(S);return Ie(X,"argument-error"),hs._fromEmailAndCode(v,X.code,X.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ei{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Cr extends ei{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Di extends Cr{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),Ce._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ie(g.idToken||g.accessToken,"argument-error"),Ce._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Di.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Di.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:de,nonce:Ye,providerId:Rt}=g;if(!S&&!X&&!v&&!de||!Rt)return null;try{return new Di(Rt)._credential({idToken:v,accessToken:S,nonce:Ye,pendingToken:de})}catch{return null}}}let Si=(()=>{class C extends Cr{constructor(){super("facebook.com")}static credential(v){return Ce._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Lr=(()=>{class C extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Ce._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return C.credential(S,X)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),yo=(()=>{class C extends Cr{constructor(){super("github.com")}static credential(v){return Ce._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Zs extends $s{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return ki(g,this.buildRequest())}_linkToIdToken(g,v){const S=this.buildRequest();return S.idToken=v,ki(g,S)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,ki(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:X,pendingToken:de}=v;return S&&X&&de&&S===X?new Zs(S,de):null}static _create(g,v){return new Zs(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ko extends ei{constructor(g){Ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ko.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ko.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=Zs.fromJSON(g);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:S}=g;if(!v||!S)return null;try{return Zs._create(S,v)}catch{return null}}}let Oa=(()=>{class C extends Cr{constructor(){super("twitter.com")}static credential(v,S){return Ce._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return C.credential(S,X)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ta(C,g){return jc.apply(this,arguments)}function jc(){return(jc=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signUp",Ee(C,g))})).apply(this,arguments)}class Gs{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,S,X=!1){return(0,o.A)(function*(){const de=yield re._fromIdTokenResponse(g,S,X),Ye=Cs(S);return new Gs({user:de,providerId:Ye,_tokenResponse:S,operationType:v})})()}static _forOperation(g,v,S){return(0,o.A)(function*(){yield g._updateTokensIfNecessary(S,!0);const X=Cs(S);return new Gs({user:g,providerId:X,_tokenResponse:S,operationType:v})})()}}function Cs(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function zs(C){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,o.A)(function*(C){var g;if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const v=Sr(C);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Gs({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Ta(v,{returnSecureToken:!0}),X=yield Gs._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class Na extends i.g{constructor(g,v,S,X){var de;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:g.name,tenantId:null!==(de=g.tenantId)&&void 0!==de?de:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(g,v,S,X){return new Na(g,v,S,X)}}function bi(C,g,v,S){return("reauthenticate"===g?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Na._fromErrorAndOperation(C,de,g,S):de})}function Ia(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function vo(C,g){return z.apply(this,arguments)}function z(){return z=(0,o.A)(function*(C,g){const v=(0,i.Ku)(C);yield le(!0,v,g);const{providerUserInfo:S}=yield function $n(C,g){return Dn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),X=Ia(S||[]);return v.providerData=v.providerData.filter(de=>X.has(de.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),z.apply(this,arguments)}function ee(C,g){return U.apply(this,arguments)}function U(){return(U=(0,o.A)(function*(C,g,v=!1){const S=yield Ar(C,g._linkToIdToken(C.auth,yield C.getIdToken()),v);return Gs._forOperation(C,"link",S)})).apply(this,arguments)}function le(C,g,v){return je.apply(this,arguments)}function je(){return(je=(0,o.A)(function*(C,g,v){yield ce(g);const X=!1===C?"provider-already-linked":"no-such-provider";Ie(Ia(g.providerData).has(v)===C,g.auth,X)})).apply(this,arguments)}function yn(C,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,o.A)(function*(C,g,v=!1){const{auth:S}=C;if((0,ue._isFirebaseServerApp)(S.app))return Promise.reject(et(S));const X="reauthenticate";try{const de=yield Ar(C,bi(S,X,g,C),v);Ie(de.idToken,S,"internal-error");const Ye=ni(de.idToken);Ie(Ye,S,"internal-error");const{sub:Rt}=Ye;return Ie(C.uid===Rt,S,"user-mismatch"),Gs._forOperation(C,X,de)}catch(de){throw"auth/user-not-found"===de?.code&&Te(S,"user-mismatch"),de}})).apply(this,arguments)}function os(C,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,o.A)(function*(C,g,v=!1){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S="signIn",X=yield bi(C,S,g),de=yield Gs._fromIdTokenResponse(C,S,X);return v||(yield C._updateCurrentUser(de.user)),de})).apply(this,arguments)}function fs(C,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,o.A)(function*(C,g){return os(Sr(C),g)})).apply(this,arguments)}function Ws(C,g){return as.apply(this,arguments)}function as(){return(as=(0,o.A)(function*(C,g){const v=(0,i.Ku)(C);return yield le(!1,v,g.providerId),ee(v,g)})).apply(this,arguments)}function to(C,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,o.A)(function*(C,g){return yn((0,i.Ku)(C),g)})).apply(this,arguments)}function oa(){return(oa=(0,o.A)(function*(C,g){return An(C,"POST","/v1/accounts:signInWithCustomToken",Ee(C,g))})).apply(this,arguments)}function qi(C,g){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,o.A)(function*(C,g){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const v=Sr(C),S=yield function ws(C,g){return oa.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),X=yield Gs._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),Zl.apply(this,arguments)}class ls{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Fo._fromServerResponse(g,v):"totpInfo"in v?lo._fromServerResponse(g,v):Te(g,"internal-error")}}class Fo extends ls{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Fo(v)}}class lo extends ls{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new lo(v)}}function Ca(C,g,v){var S;Ie((null===(S=v.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function As(C){return wa.apply(this,arguments)}function wa(){return(wa=(0,o.A)(function*(C){const g=Sr(C);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function Aa(C,g,v){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.A)(function*(C,g,v){const S=Sr(C),X={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};v&&Ca(S,X,v),yield Rr(S,X,"getOobCode",nr)})).apply(this,arguments)}function Ou(C,g,v){return _r.apply(this,arguments)}function _r(){return _r=(0,o.A)(function*(C,g,v){yield _o((0,i.Ku)(C),{oobCode:g,newPassword:v}).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&As(C),X});return function(X){return S.apply(this,arguments)}}())}),_r.apply(this,arguments)}function ec(C,g){return bo.apply(this,arguments)}function bo(){return bo=(0,o.A)(function*(C,g){yield function Gr(C,g){return Mi.apply(this,arguments)}((0,i.Ku)(C),{oobCode:g})}),bo.apply(this,arguments)}function Lo(C,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,o.A)(function*(C,g){const v=(0,i.Ku)(C),S=yield _o(v,{oobCode:g}),X=S.requestType;switch(Ie(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(S.mfaInfo,v,"internal-error");default:Ie(S.email,v,"internal-error")}let de=null;return S.mfaInfo&&(de=ls._fromServerResponse(Sr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:de},operation:X}})).apply(this,arguments)}function tc(C,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.A)(function*(C,g){const{data:v}=yield Lo((0,i.Ku)(C),g);return v.email})).apply(this,arguments)}function Uh(C,g,v){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.A)(function*(C,g,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=Sr(C),Ye=yield Rr(S,{returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ta).catch(Wt=>{throw"auth/password-does-not-meet-requirements"===Wt.code&&As(C),Wt}),Rt=yield Gs._fromIdTokenResponse(S,"signIn",Ye);return yield S._updateCurrentUser(Rt.user),Rt})).apply(this,arguments)}function Nu(C,g,v){return(0,ue._isFirebaseServerApp)(C.app)?Promise.reject(et(C)):fs((0,i.Ku)(C),Ki.credential(g,v)).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&As(C),X});return function(X){return S.apply(this,arguments)}}())}function vl(C,g,v){return qo.apply(this,arguments)}function qo(){return(qo=(0,o.A)(function*(C,g,v){const S=Sr(C),X={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function de(Ye,Rt){Ie(Rt.handleCodeInApp,S,"argument-error"),Rt&&Ca(S,Ye,Rt)})(X,v),yield Rr(S,X,"getOobCode",Wi)})).apply(this,arguments)}function nc(C,g){const v=Zr.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function Fa(C,g,v){return Za.apply(this,arguments)}function Za(){return(Za=(0,o.A)(function*(C,g,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=(0,i.Ku)(C),X=Ki.credentialWithLink(g,v||sr());return Ie(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),fs(S,X)})).apply(this,arguments)}function tl(){return(tl=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:createAuthUri",Ee(C,g))})).apply(this,arguments)}function rc(C,g){return P.apply(this,arguments)}function P(){return P=(0,o.A)(function*(C,g){const S={identifier:g,continueUri:Qe()?sr():"http://localhost"},{signinMethods:X}=yield function el(C,g){return tl.apply(this,arguments)}((0,i.Ku)(C),S);return X||[]}),P.apply(this,arguments)}function ne(C,g){return j.apply(this,arguments)}function j(){return j=(0,o.A)(function*(C,g){const v=(0,i.Ku)(C),X={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&Ca(v.auth,X,g);const{email:de}=yield function Qr(C,g){return _n.apply(this,arguments)}(v.auth,X);de!==C.email&&(yield C.reload())}),j.apply(this,arguments)}function Y(C,g,v){return Se.apply(this,arguments)}function Se(){return Se=(0,o.A)(function*(C,g,v){const S=(0,i.Ku)(C),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};v&&Ca(S.auth,de,v);const{email:Ye}=yield function Oi(C,g){return Hs.apply(this,arguments)}(S.auth,de);Ye!==C.email&&(yield C.reload())}),Se.apply(this,arguments)}function Vt(){return(Vt=(0,o.A)(function*(C,g){return Me(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Pn(C,g){return Br.apply(this,arguments)}function Br(){return Br=(0,o.A)(function*(C,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const S=(0,i.Ku)(C),de={idToken:yield S.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},Ye=yield Ar(S,function St(C,g){return Vt.apply(this,arguments)}(S.auth,de));S.displayName=Ye.displayName||null,S.photoURL=Ye.photoUrl||null;const Rt=S.providerData.find(({providerId:Wt})=>"password"===Wt);Rt&&(Rt.displayName=S.displayName,Rt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Ye)}),Br.apply(this,arguments)}function pi(C,g){const v=(0,i.Ku)(C);return(0,ue._isFirebaseServerApp)(v.auth.app)?Promise.reject(et(v.auth)):fr(v,g,null)}function ii(C,g){return fr((0,i.Ku)(C),null,g)}function fr(C,g,v){return si.apply(this,arguments)}function si(){return si=(0,o.A)(function*(C,g,v){const{auth:S}=C,de={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(de.email=g),v&&(de.password=v);const Ye=yield Ar(C,function tr(C,g){return Dr.apply(this,arguments)}(S,de));yield C._updateTokensIfNecessary(Ye,!0)}),si.apply(this,arguments)}class wi{constructor(g,v,S={}){this.isNewUser=g,this.providerId=v,this.profile=S}}class co extends wi{constructor(g,v,S,X){super(g,v,S),this.username=X}}class Ds extends wi{constructor(g,v){super(g,"facebook.com",v)}}class Os extends co{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class $i extends wi{constructor(g,v){super(g,"google.com",v)}}class Qs extends co{constructor(g,v,S){super(g,"twitter.com",v,S)}}function Ni(C){const{user:g,_tokenResponse:v}=C;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ti(C){var g,v;if(!C)return null;const{providerId:S}=C,X=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},de=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&C?.idToken){const Ye=null===(v=null===(g=ni(C.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ye)return new wi(de,"anonymous"!==Ye&&"custom"!==Ye?Ye:null)}if(!S)return null;switch(S){case"facebook.com":return new Ds(de,X);case"github.com":return new Os(de,X);case"google.com":return new $i(de,X);case"twitter.com":return new Qs(de,X,C.screenName||null);case"custom":case"anonymous":return new wi(de,null);default:return new wi(de,S,X)}}(v)}class Ss{constructor(g,v,S){this.type=g,this.credential=v,this.user=S}static _fromIdtoken(g,v){return new Ss("enroll",g,v)}static _fromMfaPendingCredential(g){return new Ss("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,S;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ss._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(S=g.multiFactorSession)&&void 0!==S&&S.idToken)return Ss._fromIdtoken(g.multiFactorSession.idToken)}return null}}class la{constructor(g,v,S){this.session=g,this.hints=v,this.signInResolver=S}static _fromError(g,v){const S=Sr(g),X=v.customData._serverResponse,de=(X.mfaInfo||[]).map(Rt=>ls._fromServerResponse(S,Rt));Ie(X.mfaPendingCredential,S,"internal-error");const Ye=Ss._fromMfaPendingCredential(X.mfaPendingCredential);return new la(Ye,de,function(){var Rt=(0,o.A)(function*(Wt){const Mn=yield Wt._process(S,Ye);delete X.mfaInfo,delete X.mfaPendingCredential;const On=Object.assign(Object.assign({},X),{idToken:Mn.idToken,refreshToken:Mn.refreshToken});switch(v.operationType){case"signIn":const ti=yield Gs._fromIdTokenResponse(S,v.operationType,On);return yield S._updateCurrentUser(ti.user),ti;case"reauthenticate":return Ie(v.user,S,"internal-error"),Gs._forOperation(v.user,v.operationType,On);default:Te(S,"internal-error")}});return function(Wt){return Rt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,o.A)(function*(){return v.signInResolver(g)})()}}function El(C,g){var v;const S=(0,i.Ku)(C),X=g;return Ie(g.customData.operationType,S,"argument-error"),Ie(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),la._fromError(S,X)}class Gc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>ls._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Gc(g)}getSession(){var g=this;return(0,o.A)(function*(){return Ss._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,v){var S=this;return(0,o.A)(function*(){const X=g,de=yield S.getSession(),Ye=yield Ar(S.user,X._process(S.user.auth,de,v));return yield S.user._updateTokensIfNecessary(Ye),S.user.reload()})()}unenroll(g){var v=this;return(0,o.A)(function*(){const S="string"==typeof g?g:g.uid,X=yield v.user.getIdToken();try{const de=yield Ar(v.user,function pr(C,g){return Me(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(C,g))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ye})=>Ye!==S),yield v.user._updateTokensIfNecessary(de),yield v.user.reload()}catch(de){throw de}})()}}const zc=new WeakMap;function ca(C){const g=(0,i.Ku)(C);return zc.has(g)||zc.set(g,Gc._fromUser(g)),zc.get(g)}const ic="__sak";class Uu{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(ic,"1"),this.storage.removeItem(ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const sc=(()=>{class C extends Uu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ct(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),de=this.localCache[S];X!==de&&v(S,de,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Rt,Wt,Mn)=>{this.notifyListeners(Rt,Mn)});const X=v.key;S?this.detachListener():this.stopPolling();const de=()=>{const Rt=this.storage.getItem(X);!S&&this.localCache[X]===Rt||this.notifyListeners(X,Rt)},Ye=this.storage.getItem(X);!function bt(){return(0,i.lT)()&&10===document.documentMode}()||Ye===v.newValue||v.newValue===v.oldValue?de():setTimeout(de,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const de of Array.from(X))de(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,de=this;return(0,o.A)(function*(){yield X().call(de,v,S),de.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,o.A)(function*(){const de=yield S().call(X,v);return X.localCache[v]=JSON.stringify(de),de})()}_remove(v){var S=()=>super._remove,X=this;return(0,o.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return C.type="LOCAL",C})(),nl=(()=>{class C extends Uu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return C.type="SESSION",C})();let Gt=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(de=>de.isListeningto(v));if(S)return S;const X=new C(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const X=v,{eventId:de,eventType:Ye,data:Rt}=X.data,Wt=S.handlersMap[Ye];if(!Wt?.size)return;X.ports[0].postMessage({status:"ack",eventId:de,eventType:Ye});const Mn=Array.from(Wt).map(function(){var ti=(0,o.A)(function*(Bo){return Bo(X.origin,Rt)});return function(Bo){return ti.apply(this,arguments)}}()),On=yield function Xo(C){return Promise.all(C.map(function(){var g=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return g.apply(this,arguments)}}()))}(Mn);X.ports[0].postMessage({status:"done",eventId:de,eventType:Ye,response:On})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Or(C="",g=10){let v="";for(let S=0;S<g;S++)v+=Math.floor(10*Math.random());return C+v}class ps{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,S=50){var X=this;return(0,o.A)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let Ye,Rt;return new Promise((Wt,Mn)=>{const On=Or("",20);de.port1.start();const ti=setTimeout(()=>{Mn(new Error("unsupported_event"))},S);Rt={messageChannel:de,onMessage(Bo){const ha=Bo;if(ha.data.eventId===On)switch(ha.data.status){case"ack":clearTimeout(ti),Ye=setTimeout(()=>{Mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ye),Wt(ha.data.response);break;default:clearTimeout(ti),clearTimeout(Ye),Mn(new Error("invalid_response"))}}},X.handlers.add(Rt),de.port1.addEventListener("message",Rt.onMessage),X.target.postMessage({eventType:g,eventId:On,data:v},[de.port2])}).finally(()=>{Rt&&X.removeMessageHandler(Rt)})})()}}function Xi(){return window}function Va(){return typeof Xi().WorkerGlobalScope<"u"&&"function"==typeof Xi().importScripts}function Qo(){return(Qo=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Md="firebaseLocalStorageDb",rl="firebaseLocalStorage",Rs="fbase_key";class ho{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function il(C,g){return C.transaction([rl],g?"readwrite":"readonly").objectStore(rl)}function Co(){const C=indexedDB.open(Md,1);return new Promise((g,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(rl,{keyPath:Rs})}catch(X){v(X)}}),C.addEventListener("success",(0,o.A)(function*(){const S=C.result;S.objectStoreNames.contains(rl)?g(S):(S.close(),yield function sl(){const C=indexedDB.deleteDatabase(Md);return new ho(C).toPromise()}(),g(yield Co()))}))})}function Od(C,g,v){return oc.apply(this,arguments)}function oc(){return(oc=(0,o.A)(function*(C,g,v){const S=il(C,!0).put({[Rs]:g,value:v});return new ho(S).toPromise()})).apply(this,arguments)}function ac(){return(ac=(0,o.A)(function*(C,g){const v=il(C,!1).get(g),S=yield new ho(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function $u(C,g){const v=il(C,!0).delete(g);return new ho(v).toPromise()}const O=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield Co()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let X=0;for(;;)try{const de=yield S._openDb();return yield v(de)}catch(de){if(X++>3)throw de;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return Va()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Gt._getInstance(function ju(){return Va()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(X,de){return{keyProcessed:(yield v._poll()).includes(de.key)}});return function(X,de){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(X,de){return["keyChanged"]});return function(X,de){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,X;if(v.activeServiceWorker=yield function bl(){return Qo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ps(v.activeServiceWorker);const de=yield v.sender._send("ping",{},800);de&&null!==(S=de[0])&&void 0!==S&&S.fulfilled&&null!==(X=de[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Tl(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield Co();return yield Od(v,ic,"1"),yield $u(v,ic),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,o.A)(function*(){return X._withPendingWrite((0,o.A)(function*(){return yield X._withRetries(de=>Od(de,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const X=yield S._withRetries(de=>function Kf(C,g){return ac.apply(this,arguments)}(de,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(X=>$u(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(Ye=>{const Rt=il(Ye,!1).getAll();return new ho(Rt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],de=new Set;if(0!==S.length)for(const{fbase_key:Ye,value:Rt}of S)de.add(Ye),JSON.stringify(v.localCache[Ye])!==JSON.stringify(Rt)&&(v.notifyListeners(Ye,Rt),X.push(Ye));for(const Ye of Object.keys(v.localCache))v.localCache[Ye]&&!de.has(Ye)&&(v.notifyListeners(Ye,null),X.push(Ye));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const de of Array.from(X))de(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),wt=1e12;class yt{constructor(g){this.auth=g,this.counter=wt,this._widgets=new Map}render(g,v){const S=this.counter;return this._widgets.set(S,new In(g,this.auth.name,v||{})),this.counter++,S}reset(g){var v;const S=g||wt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(g){var v;return(null===(v=this._widgets.get(g||wt))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(g||wt))||void 0===S||S.execute(),""})()}}class In{constructor(g,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof g?document.getElementById(g):g;Ie(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function or(C){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<C;S++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wr=ci("rcb"),jr=new Pe(3e4,6e4);class Ur{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Xi().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return Ie(function Ua(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&xn(Xi().grecaptcha)?Promise.resolve(Xi().grecaptcha):new Promise((S,X)=>{const de=Xi().setTimeout(()=>{X(Ze(g,"network-request-failed"))},jr.get());Xi()[wr]=()=>{Xi().clearTimeout(de),delete Xi()[wr];const Rt=Xi().grecaptcha;if(!Rt||!xn(Rt))return void X(Ze(g,"internal-error"));const Wt=Rt.render;Rt.render=(Mn,On)=>{const ti=Wt(Mn,On);return this.counter++,ti},this.hostLanguage=v,S(Rt)},mo(`${function oo(){return xs.recaptchaV2Script}()}?${(0,i.Am)({onload:wr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(de),X(Ze(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Xi().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cl{load(g){return(0,o.A)(function*(){return new yt(g)})()}clearedOneInstance(){}}const lc="recaptcha",wl={theme:"light",type:"image"};class ol{constructor(g,v,S=Object.assign({},wl)){this.parameters=S,this.type=lc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sr(g),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;Ie(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cl:new Ur,this.validateStartingState()}verify(){var g=this;return(0,o.A)(function*(){g.assertNotDestroyed();const v=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(v)||new Promise(de=>{const Ye=Rt=>{Rt&&(g.tokenChangeListeners.delete(Ye),de(Rt))};g.tokenChangeListeners.add(Ye),g.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof g)g(v);else if("string"==typeof g){const S=Xi()[g];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.A)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.A)(function*(){Ie(Qe()&&!Va(),g.auth,"internal-error"),yield function Al(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function Er(C){return an.apply(this,arguments)}(g.auth);Ie(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vo{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Un._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function wo(C,g,v){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,o.A)(function*(C,g,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=Sr(C),X=yield zu(S,g,(0,i.Ku)(v));return new Vo(X,de=>fs(S,de))})).apply(this,arguments)}function ua(C,g,v){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,o.A)(function*(C,g,v){const S=(0,i.Ku)(C);yield le(!1,S,"phone");const X=yield zu(S.auth,g,(0,i.Ku)(v));return new Vo(X,de=>Ws(S,de))})).apply(this,arguments)}function Hu(C,g,v){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,o.A)(function*(C,g,v){const S=(0,i.Ku)(C);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(et(S.auth));const X=yield zu(S.auth,g,(0,i.Ku)(v));return new Vo(X,de=>to(S,de))})).apply(this,arguments)}function zu(C,g,v){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,o.A)(function*(C,g,v){var S;const X=yield v.verify();try{let de;if(Ie("string"==typeof X,C,"argument-error"),Ie(v.type===lc,C,"argument-error"),de="string"==typeof g?{phoneNumber:g}:g,"session"in de){const Ye=de.session;if("phoneNumber"in de)return Ie("enroll"===Ye.type,C,"internal-error"),(yield function Lu(C,g){return Me(C,"POST","/v2/accounts/mfaEnrollment:start",Ee(C,g))}(C,{idToken:Ye.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ie("signin"===Ye.type,C,"internal-error");const Rt=(null===(S=de.multiFactorHint)||void 0===S?void 0:S.uid)||de.multiFactorUid;return Ie(Rt,C,"missing-multi-factor-info"),(yield function w(C,g){return Me(C,"POST","/v2/accounts/mfaSignIn:start",Ee(C,g))}(C,{mfaPendingCredential:Ye.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ye}=yield function Ne(C,g){return it.apply(this,arguments)}(C,{phoneNumber:de.phoneNumber,recaptchaToken:X});return Ye}}finally{v._reset()}}),Nd.apply(this,arguments)}function Wu(C,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,o.A)(function*(C,g){const v=(0,i.Ku)(C);if((0,ue._isFirebaseServerApp)(v.auth.app))return Promise.reject(et(v.auth));yield ee(v,g)})).apply(this,arguments)}let Do=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Sr(v)}verifyPhoneNumber(v,S){return zu(this.auth,v,(0,i.Ku)(S))}static credential(v,S){return Un._fromVerification(v,S)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?Un._fromTokenResponse(S,X):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Dl(C,g){return g?dt(g):(Ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class jh extends $s{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ki(g,this._buildIdpRequest())}_linkToIdToken(g,v){return ki(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return ki(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function kd(C){return os(C.auth,new jh(C),C.bypassAuthState)}function i_(C){const{auth:g,user:v}=C;return Ie(v,g,"internal-error"),yn(v,new jh(C),C.bypassAuthState)}function $h(C){return qc.apply(this,arguments)}function qc(){return(qc=(0,o.A)(function*(C){const{auth:g,user:v}=C;return Ie(v,g,"internal-error"),ee(v,new jh(C),C.bypassAuthState)})).apply(this,arguments)}class Hh{constructor(g,v,S,X,de=!1){this.auth=g,this.resolver=S,this.user=X,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,o.A)(function*(S,X){g.pendingPromise={resolve:S,reject:X};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(de){g.reject(de)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:X,postBody:de,tenantId:Ye,error:Rt,type:Wt}=g;if(Rt)return void v.reject(Rt);const Mn={auth:v.auth,requestUri:S,sessionId:X,tenantId:Ye||void 0,postBody:de||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Wt)(Mn))}catch(On){v.reject(On)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return kd;case"linkViaPopup":case"linkViaRedirect":return $h;case"reauthViaPopup":case"reauthViaRedirect":return i_;default:Te(this.auth,"internal-error")}}resolve(g){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qf=new Pe(2e3,1e4);function Ku(C,g,v){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.A)(function*(C,g,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(Ze(C,"operation-not-supported-in-this-environment"));const S=Sr(C);$e(C,g,ei);const X=Dl(S,v);return new Yf(S,"signInViaPopup",g,X).executeNotNull()})).apply(this,arguments)}function Fd(C,g,v){return cc.apply(this,arguments)}function cc(){return(cc=(0,o.A)(function*(C,g,v){const S=(0,i.Ku)(C);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(Ze(S.auth,"operation-not-supported-in-this-environment"));$e(S.auth,g,ei);const X=Dl(S.auth,v);return new Yf(S.auth,"reauthViaPopup",g,X,S).executeNotNull()})).apply(this,arguments)}function qu(C,g,v){return al.apply(this,arguments)}function al(){return(al=(0,o.A)(function*(C,g,v){const S=(0,i.Ku)(C);$e(S.auth,g,ei);const X=Dl(S.auth,v);return new Yf(S.auth,"linkViaPopup",g,X,S).executeNotNull()})).apply(this,arguments)}let Yf=(()=>{class C extends Hh{constructor(v,S,X,de,Ye){super(v,S,de,Ye),this.provider=X,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return Ie(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){gn(1===v.filter.length,"Popup operations only handle one event");const S=Or();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(Ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,qf.get())};v()}}return C.currentPopupAction=null,C})();const uc="pendingRedirect",Da=new Map;class Ld extends Hh{constructor(g,v,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,o.A)(function*(){let S=Da.get(v.auth._key());if(!S){try{const de=(yield function Ks(C,g){return Vd.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;S=()=>Promise.resolve(de)}catch(X){S=()=>Promise.reject(X)}Da.set(v.auth._key(),S)}return v.bypassAuthState||Da.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===g.type)return v().call(S,g);if("unknown"!==g.type){if(g.eventId){const X=yield S.auth._redirectUserForId(g.eventId);if(X)return S.user=X,v().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function Vd(){return(Vd=(0,o.A)(function*(C,g){const v=Yu(g),S=hc(C);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function dc(C,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,o.A)(function*(C,g){return hc(C)._set(Yu(g),"true")})).apply(this,arguments)}function Gh(){Da.clear()}function Rl(C,g){Da.set(C._key(),g)}function hc(C){return dt(C._redirectPersistence)}function Yu(C){return pn(uc,C.config.apiKey,C.name)}function Uo(C,g,v){return function Ba(C,g,v){return Xu.apply(this,arguments)}(C,g,v)}function Xu(){return(Xu=(0,o.A)(function*(C,g,v){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=Sr(C);$e(C,g,ei),yield S._initializationPromise;const X=Dl(S,v);return yield dc(X,S),X._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function Pl(C,g,v){return function wg(C,g,v){return Sa.apply(this,arguments)}(C,g,v)}function Sa(){return(Sa=(0,o.A)(function*(C,g,v){const S=(0,i.Ku)(C);if($e(S.auth,g,ei),(0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(et(S.auth));yield S.auth._initializationPromise;const X=Dl(S.auth,v);yield dc(X,S.auth);const de=yield Ag(S);return X._openRedirect(S.auth,g,"reauthViaRedirect",de)})).apply(this,arguments)}function xl(C,g,v){return function Ml(C,g,v){return fc.apply(this,arguments)}(C,g,v)}function fc(){return(fc=(0,o.A)(function*(C,g,v){const S=(0,i.Ku)(C);$e(S.auth,g,ei),yield S.auth._initializationPromise;const X=Dl(S.auth,v);yield le(!1,S,g.providerId),yield dc(X,S.auth);const de=yield Ag(S);return X._openRedirect(S.auth,g,"linkViaRedirect",de)})).apply(this,arguments)}function Xf(C,g){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,o.A)(function*(C,g){return yield Sr(C)._initializationPromise,pc(C,g,!1)})).apply(this,arguments)}function pc(C,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,o.A)(function*(C,g,v=!1){if((0,ue._isFirebaseServerApp)(C.app))return Promise.reject(et(C));const S=Sr(C),X=Dl(S,g),Ye=yield new Ld(S,X,v).execute();return Ye&&!v&&(delete Ye.user._redirectEventId,yield S._persistUserIfCurrent(Ye.user),yield S._setRedirectUser(null,g)),Ye})).apply(this,arguments)}function Ag(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,o.A)(function*(C){const g=Or(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class Qf{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(v=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Nl(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ud(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var S;if(g.error&&!Ud(g)){const X=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(Ze(this.auth,X))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const S=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qu(g))}saveEventToCache(g){this.cachedEventUids.add(Qu(g)),this.lastProcessedEventTime=Date.now()}}function Qu(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Ud({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function Zo(C){return da.apply(this,arguments)}function da(){return(da=(0,o.A)(function*(C,g={}){return Me(C,"GET","/v1/projects",g)})).apply(this,arguments)}const zh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bd=/^https?/;function jd(){return(jd=(0,o.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Zo(C);for(const v of g)try{if(Jf(v))return}catch{}Te(C,"unauthorized-domain")})).apply(this,arguments)}function Jf(C){const g=sr(),{protocol:v,hostname:S}=new URL(g);if(C.startsWith("chrome-extension://")){const Ye=new URL(C);return""===Ye.hostname&&""===S?"chrome-extension:"===v&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&Ye.hostname===S}if(!Bd.test(v))return!1;if(zh.test(C))return S===C;const X=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const s_=new Pe(3e4,6e4);function Qc(){const C=Xi().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Fs=null;const a_=new Pe(5e3,15e3),Jc="__/auth/iframe",gc="emulator/auth/iframe",Wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Es=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $d(C){const g=C.config;Ie(g.authDomain,C,"auth-domain-config-required");const v=g.emulator?st(g,gc):`https://${C.config.authDomain}/${Jc}`,S={apiKey:g.apiKey,appName:C.name,v:ue.SDK_VERSION},X=Es.get(C.config.apiHost);X&&(S.eid=X);const de=C._getFrameworks();return de.length&&(S.fw=de.join(",")),`${v}?${(0,i.Am)(S).slice(1)}`}function Kh(){return Kh=(0,o.A)(function*(C){const g=yield function o_(C){return Fs=Fs||function Zf(C){return new Promise((g,v)=>{var S,X,de;function Ye(){Qc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Qc(),v(Ze(C,"network-request-failed"))},timeout:s_.get()})}if(null!==(X=null===(S=Xi().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)g(gapi.iframes.getContext());else{if(null===(de=Xi().gapi)||void 0===de||!de.load){const Rt=ci("iframefcb");return Xi()[Rt]=()=>{gapi.load?Ye():v(Ze(C,"network-request-failed"))},mo(`${function Wo(){return xs.gapiScript}()}?onload=${Rt}`).catch(Wt=>v(Wt))}Ye()}}).catch(g=>{throw Fs=null,g})}(C),Fs}(C),v=Xi().gapi;return Ie(v,C,"internal-error"),g.open({where:document.body,url:$d(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wh,dontclear:!0},S=>new Promise(function(){var X=(0,o.A)(function*(de,Ye){yield S.restyle({setHideOnLeave:!1});const Rt=Ze(C,"network-request-failed"),Wt=Xi().setTimeout(()=>{Ye(Rt)},a_.get());function Mn(){Xi().clearTimeout(Wt),de(S)}S.ping(Mn).then(Mn,()=>{Ye(Rt)})});return function(de,Ye){return X.apply(this,arguments)}}()))}),Kh.apply(this,arguments)}const ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gd{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sg="__/auth/handler",ta="emulator/auth/handler",na=encodeURIComponent("fac");function ja(C,g,v,S,X,de){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.A)(function*(C,g,v,S,X,de){Ie(C.config.authDomain,C,"auth-domain-config-required"),Ie(C.config.apiKey,C,"invalid-api-key");const Ye={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:S,v:ue.SDK_VERSION,eventId:X};if(g instanceof ei){g.setDefaultLanguage(C.languageCode),Ye.providerId=g.providerId||"",(0,i.Im)(g.getCustomParameters())||(Ye.customParameters=JSON.stringify(g.getCustomParameters()));for(const[On,ti]of Object.entries(de||{}))Ye[On]=ti}if(g instanceof Cr){const On=g.getScopes().filter(ti=>""!==ti);On.length>0&&(Ye.scopes=On.join(","))}C.tenantId&&(Ye.tid=C.tenantId);const Rt=Ye;for(const On of Object.keys(Rt))void 0===Rt[On]&&delete Rt[On];const Wt=yield C._getAppCheckToken(),Mn=Wt?`#${na}=${encodeURIComponent(Wt)}`:"";return`${function qh({config:C}){return C.emulator?st(C,ta):`https://${C.authDomain}/${Sg}`}(C)}?${(0,i.Am)(Rt).slice(1)}${Mn}`})).apply(this,arguments)}const Ju="webStorageSupport",Yh=class Rg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nl,this._completeRedirectFn=pc,this._overrideRedirectResult=Rl}_openPopup(g,v,S,X){var de=this;return(0,o.A)(function*(){var Ye;gn(null===(Ye=de.eventManagers[g._key()])||void 0===Ye?void 0:Ye.manager,"_initialize() not called before _openPopup()");const Rt=yield ja(g,v,S,sr(),X);return function ep(C,g,v,S=500,X=600){const de=Math.max((window.screen.availHeight-X)/2,0).toString(),Ye=Math.max((window.screen.availWidth-S)/2,0).toString();let Rt="";const Wt=Object.assign(Object.assign({},ea),{width:S.toString(),height:X.toString(),top:de,left:Ye}),Mn=(0,i.ZQ)().toLowerCase();v&&(Rt=dr(Mn)?"_blank":v),cn(Mn)&&(g=g||"http://localhost",Wt.scrollbars="yes");const On=Object.entries(Wt).reduce((Bo,[ha,$l])=>`${Bo}${ha}=${$l},`,"");if(function Gi(C=(0,i.ZQ)()){var g;return gi(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Mn)&&"_self"!==Rt)return function Dg(C,g){const v=document.createElement("a");v.href=C,v.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(g||"",Rt),new Gd(null);const ti=window.open(g||"",Rt,On);Ie(ti,C,"popup-blocked");try{ti.focus()}catch{}return new Gd(ti)}(g,Rt,Or())})()}_openRedirect(g,v,S,X){var de=this;return(0,o.A)(function*(){return yield de._originValidation(g),function kn(C){Xi().location.href=C}(yield ja(g,v,S,sr(),X)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:X,promise:de}=this.eventManagers[v];return X?Promise.resolve(X):(gn(de,"If manager is not set, promise should be"),de)}const S=this.initAndGetManager(g);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(g){var v=this;return(0,o.A)(function*(){const S=yield function kl(C){return Kh.apply(this,arguments)}(g),X=new Qf(g);return S.register("authEvent",de=>(Ie(de?.authEvent,g,"invalid-auth-event"),{status:X.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:X},v.iframes[g._key()]=S,X})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Ju,{type:Ju},X=>{var de;const Ye=null===(de=X?.[0])||void 0===de?void 0:de[Ju];void 0!==Ye&&v(!!Ye),Te(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Xc(C){return jd.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return ct()||Wr()||gi()}};class Xh{constructor(g){this.factorId=g}_process(g,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,S);case"signin":return this._finalizeSignIn(g,v.credential);default:return Yt("unexpected MultiFactorSessionType")}}}class Ul extends Xh{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ul(g)}_finalizeEnroll(g,v,S){return function xd(C,g){return Me(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(C,g))}(g,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function N(C,g){return Me(C,"POST","/v2/accounts/mfaSignIn:finalize",Ee(C,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zu=(()=>{class C{constructor(){}static assertion(v){return Ul._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Jh="@firebase/auth";class Zh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(S=>{g(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function ts(C){xs=C}({loadJS:C=>new Promise((g,v)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=g,S.onerror=X=>{const de=Ze("internal-error");de.customData=X,v(de)},S.type="text/javascript",S.charset="UTF-8",function jl(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function eu(C){(0,ue._registerComponent)(new De.uA("auth",(g,{options:v})=>{const S=g.getProvider("app").getImmediate(),X=g.getProvider("heartbeat"),de=g.getProvider("app-check-internal"),{apiKey:Ye,authDomain:Rt}=S.options;Ie(Ye&&!Ye.includes(":"),"invalid-api-key",{appName:S.name});const Wt={apiKey:Ye,authDomain:Rt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ft(C)},Mn=new Kr(S,X,de,Wt);return function Xa(C,g){const v=g?.persistence||[],S=(Array.isArray(v)?v:[v]).map(dt);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(S,g?.popupRedirectResolver)}(Mn,v),Mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,S)=>{g.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new De.uA("auth-internal",g=>{const v=Sr(g.getProvider("auth").getImmediate());return new Zh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Jh,"1.7.9",function tp(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,ue.registerVersion)(Jh,"1.7.9","esm2017")}("Browser")},9583:(on,tt,V)=>{V.d(tt,{fS:()=>ym,Ix:()=>mu,H6:()=>Up,T1:()=>Ls,Wq:()=>vu,uY:()=>hd,W6:()=>st,Ci:()=>jp,YQ:()=>ul,NJ:()=>Rc,Dc:()=>zt,GA:()=>Qp,cm:()=>Dr,K$:()=>$t,FA:()=>Xn,lo:()=>di,bI:()=>Ue,qG:()=>Xa,qi:()=>gn,c8:()=>im,gS:()=>TE,C3:()=>Jp,hq:()=>DE,me:()=>Bp,rJ:()=>M_,Cs:()=>O_,vN:()=>Yy,kd:()=>bE,CL:()=>q_,LA:()=>Xy,H9:()=>gu,ol:()=>Ef,Q5:()=>cl,Os:()=>k_,FD:()=>j_,rf:()=>O0,Ws:()=>bs,z6:()=>_h,x7:()=>yE,nY:()=>xc,_e:()=>cv,GG:()=>vE,kU:()=>N0,Rr:()=>Ro,aU:()=>cm,GV:()=>SE,AB:()=>hE,$1:()=>nv,po:()=>um,St:()=>uE,aQ:()=>z_,FC:()=>uv,My:()=>tv,P:()=>ev,B:()=>_f,yx:()=>om,c4:()=>Em,O5:()=>_v,BN:()=>EE,He:()=>Ot,lN:()=>_E,HM:()=>iv,EO:()=>rv,mZ:()=>G_,iB:()=>uh,_M:()=>mm});var Be,ke,o=V(467),ue=V(7852),i=V(1362),ve=V(8041),ge=V(1076),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ut,Le,Je){Je||(Je=0);var ht=Array(16);if("string"==typeof Le)for(var mt=0;16>mt;++mt)ht[mt]=Le.charCodeAt(Je++)|Le.charCodeAt(Je++)<<8|Le.charCodeAt(Je++)<<16|Le.charCodeAt(Je++)<<24;else for(mt=0;16>mt;++mt)ht[mt]=Le[Je++]|Le[Je++]<<8|Le[Je++]<<16|Le[Je++]<<24;var Dt=ut.g[3],qe=(Le=ut.g[0])+(Dt^(Je=ut.g[1])&((mt=ut.g[2])^Dt))+ht[0]+3614090360&4294967295;qe=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=(Je=(mt=(Dt=(Le=Je+(qe<<7&4294967295|qe>>>25))+((qe=Dt+(mt^Le&(Je^mt))+ht[1]+3905402710&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Je^Dt&(Le^Je))+ht[2]+606105819&4294967295)<<17&4294967295|qe>>>15))+((qe=Je+(Le^mt&(Dt^Le))+ht[3]+3250441966&4294967295)<<22&4294967295|qe>>>10))+((qe=Le+(Dt^Je&(mt^Dt))+ht[4]+4118548399&4294967295)<<7&4294967295|qe>>>25))+((qe=Dt+(mt^Le&(Je^mt))+ht[5]+1200080426&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Je^Dt&(Le^Je))+ht[6]+2821735955&4294967295)<<17&4294967295|qe>>>15))+((qe=Je+(Le^mt&(Dt^Le))+ht[7]+4249261313&4294967295)<<22&4294967295|qe>>>10))+((qe=Le+(Dt^Je&(mt^Dt))+ht[8]+1770035416&4294967295)<<7&4294967295|qe>>>25))+((qe=Dt+(mt^Le&(Je^mt))+ht[9]+2336552879&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Je^Dt&(Le^Je))+ht[10]+4294925233&4294967295)<<17&4294967295|qe>>>15))+((qe=Je+(Le^mt&(Dt^Le))+ht[11]+2304563134&4294967295)<<22&4294967295|qe>>>10))+((qe=Le+(Dt^Je&(mt^Dt))+ht[12]+1804603682&4294967295)<<7&4294967295|qe>>>25))+((qe=Dt+(mt^Le&(Je^mt))+ht[13]+4254626195&4294967295)<<12&4294967295|qe>>>20))+((qe=mt+(Je^Dt&(Le^Je))+ht[14]+2792965006&4294967295)<<17&4294967295|qe>>>15))+((qe=Je+(Le^mt&(Dt^Le))+ht[15]+1236535329&4294967295)<<22&4294967295|qe>>>10))+((qe=Le+(mt^Dt&(Je^mt))+ht[1]+4129170786&4294967295)<<5&4294967295|qe>>>27))+((qe=Dt+(Je^mt&(Le^Je))+ht[6]+3225465664&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Le^Je&(Dt^Le))+ht[11]+643717713&4294967295)<<14&4294967295|qe>>>18))+((qe=Je+(Dt^Le&(mt^Dt))+ht[0]+3921069994&4294967295)<<20&4294967295|qe>>>12))+((qe=Le+(mt^Dt&(Je^mt))+ht[5]+3593408605&4294967295)<<5&4294967295|qe>>>27))+((qe=Dt+(Je^mt&(Le^Je))+ht[10]+38016083&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Le^Je&(Dt^Le))+ht[15]+3634488961&4294967295)<<14&4294967295|qe>>>18))+((qe=Je+(Dt^Le&(mt^Dt))+ht[4]+3889429448&4294967295)<<20&4294967295|qe>>>12))+((qe=Le+(mt^Dt&(Je^mt))+ht[9]+568446438&4294967295)<<5&4294967295|qe>>>27))+((qe=Dt+(Je^mt&(Le^Je))+ht[14]+3275163606&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Le^Je&(Dt^Le))+ht[3]+4107603335&4294967295)<<14&4294967295|qe>>>18))+((qe=Je+(Dt^Le&(mt^Dt))+ht[8]+1163531501&4294967295)<<20&4294967295|qe>>>12))+((qe=Le+(mt^Dt&(Je^mt))+ht[13]+2850285829&4294967295)<<5&4294967295|qe>>>27))+((qe=Dt+(Je^mt&(Le^Je))+ht[2]+4243563512&4294967295)<<9&4294967295|qe>>>23))+((qe=mt+(Le^Je&(Dt^Le))+ht[7]+1735328473&4294967295)<<14&4294967295|qe>>>18))+((qe=Je+(Dt^Le&(mt^Dt))+ht[12]+2368359562&4294967295)<<20&4294967295|qe>>>12))+((qe=Le+(Je^mt^Dt)+ht[5]+4294588738&4294967295)<<4&4294967295|qe>>>28))+((qe=Dt+(Le^Je^mt)+ht[8]+2272392833&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(Dt^Le^Je)+ht[11]+1839030562&4294967295)<<16&4294967295|qe>>>16))+((qe=Je+(mt^Dt^Le)+ht[14]+4259657740&4294967295)<<23&4294967295|qe>>>9))+((qe=Le+(Je^mt^Dt)+ht[1]+2763975236&4294967295)<<4&4294967295|qe>>>28))+((qe=Dt+(Le^Je^mt)+ht[4]+1272893353&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(Dt^Le^Je)+ht[7]+4139469664&4294967295)<<16&4294967295|qe>>>16))+((qe=Je+(mt^Dt^Le)+ht[10]+3200236656&4294967295)<<23&4294967295|qe>>>9))+((qe=Le+(Je^mt^Dt)+ht[13]+681279174&4294967295)<<4&4294967295|qe>>>28))+((qe=Dt+(Le^Je^mt)+ht[0]+3936430074&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(Dt^Le^Je)+ht[3]+3572445317&4294967295)<<16&4294967295|qe>>>16))+((qe=Je+(mt^Dt^Le)+ht[6]+76029189&4294967295)<<23&4294967295|qe>>>9))+((qe=Le+(Je^mt^Dt)+ht[9]+3654602809&4294967295)<<4&4294967295|qe>>>28))+((qe=Dt+(Le^Je^mt)+ht[12]+3873151461&4294967295)<<11&4294967295|qe>>>21))+((qe=mt+(Dt^Le^Je)+ht[15]+530742520&4294967295)<<16&4294967295|qe>>>16))+((qe=Je+(mt^Dt^Le)+ht[2]+3299628645&4294967295)<<23&4294967295|qe>>>9))+((qe=Le+(mt^(Je|~Dt))+ht[0]+4096336452&4294967295)<<6&4294967295|qe>>>26))+((qe=Dt+(Je^(Le|~mt))+ht[7]+1126891415&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Le^(Dt|~Je))+ht[14]+2878612391&4294967295)<<15&4294967295|qe>>>17))+((qe=Je+(Dt^(mt|~Le))+ht[5]+4237533241&4294967295)<<21&4294967295|qe>>>11))+((qe=Le+(mt^(Je|~Dt))+ht[12]+1700485571&4294967295)<<6&4294967295|qe>>>26))+((qe=Dt+(Je^(Le|~mt))+ht[3]+2399980690&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Le^(Dt|~Je))+ht[10]+4293915773&4294967295)<<15&4294967295|qe>>>17))+((qe=Je+(Dt^(mt|~Le))+ht[1]+2240044497&4294967295)<<21&4294967295|qe>>>11))+((qe=Le+(mt^(Je|~Dt))+ht[8]+1873313359&4294967295)<<6&4294967295|qe>>>26))+((qe=Dt+(Je^(Le|~mt))+ht[15]+4264355552&4294967295)<<10&4294967295|qe>>>22))+((qe=mt+(Le^(Dt|~Je))+ht[6]+2734768916&4294967295)<<15&4294967295|qe>>>17))+((qe=Je+(Dt^(mt|~Le))+ht[13]+1309151649&4294967295)<<21&4294967295|qe>>>11))+((Dt=(Le=Je+((qe=Le+(mt^(Je|~Dt))+ht[4]+4149444226&4294967295)<<6&4294967295|qe>>>26))+((qe=Dt+(Je^(Le|~mt))+ht[11]+3174756917&4294967295)<<10&4294967295|qe>>>22))^((mt=Dt+((qe=mt+(Le^(Dt|~Je))+ht[2]+718787259&4294967295)<<15&4294967295|qe>>>17))|~Le))+ht[9]+3951481745&4294967295,ut.g[0]=ut.g[0]+Le&4294967295,ut.g[1]=ut.g[1]+(mt+(qe<<21&4294967295|qe>>>11))&4294967295,ut.g[2]=ut.g[2]+mt&4294967295,ut.g[3]=ut.g[3]+Dt&4294967295}function b(ut,Le){this.h=Le;for(var Je=[],ht=!0,mt=ut.length-1;0<=mt;mt--){var Dt=0|ut[mt];ht&&Dt==Le||(Je[mt]=Dt,ht=!1)}this.g=Je}(function e(ut,Le){function Je(){}Je.prototype=Le.prototype,ut.D=Le.prototype,ut.prototype=new Je,ut.prototype.constructor=ut,ut.C=function(ht,mt,Dt){for(var qe=Array(arguments.length-2),Tu=2;Tu<arguments.length;Tu++)qe[Tu-2]=arguments[Tu];return Le.prototype[mt].apply(ht,qe)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(ut,Le){void 0===Le&&(Le=ut.length);for(var Je=Le-this.blockSize,ht=this.B,mt=this.h,Dt=0;Dt<Le;){if(0==mt)for(;Dt<=Je;)h(this,ut,Dt),Dt+=this.blockSize;if("string"==typeof ut){for(;Dt<Le;)if(ht[mt++]=ut.charCodeAt(Dt++),mt==this.blockSize){h(this,ht),mt=0;break}}else for(;Dt<Le;)if(ht[mt++]=ut[Dt++],mt==this.blockSize){h(this,ht),mt=0;break}}this.h=mt,this.o+=Le},a.prototype.v=function(){var ut=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ut[0]=128;for(var Le=1;Le<ut.length-8;++Le)ut[Le]=0;var Je=8*this.o;for(Le=ut.length-8;Le<ut.length;++Le)ut[Le]=255&Je,Je/=256;for(this.u(ut),ut=Array(16),Le=Je=0;4>Le;++Le)for(var ht=0;32>ht;ht+=8)ut[Je++]=this.g[Le]>>>ht&255;return ut};var R={};function F(ut){return-128<=ut&&128>ut?function y(ut,Le){var Je=R;return Object.prototype.hasOwnProperty.call(Je,ut)?Je[ut]:Je[ut]=Le(ut)}(ut,function(Le){return new b([0|Le],0>Le?-1:0)}):new b([0|ut],0>ut?-1:0)}function W(ut){if(isNaN(ut)||!isFinite(ut))return ye;if(0>ut)return rn(W(-ut));for(var Le=[],Je=1,ht=0;ut>=Je;ht++)Le[ht]=ut/Je|0,Je*=4294967296;return new b(Le,0)}var ye=F(0),Ke=F(1),Ct=F(16777216);function Ht(ut){if(0!=ut.h)return!1;for(var Le=0;Le<ut.g.length;Le++)if(0!=ut.g[Le])return!1;return!0}function dn(ut){return-1==ut.h}function rn(ut){for(var Le=ut.g.length,Je=[],ht=0;ht<Le;ht++)Je[ht]=~ut.g[ht];return new b(Je,~ut.h).add(Ke)}function Kn(ut,Le){return ut.add(rn(Le))}function cr(ut,Le){for(;(65535&ut[Le])!=ut[Le];)ut[Le+1]+=ut[Le]>>>16,ut[Le]&=65535,Le++}function Jn(ut,Le){this.g=ut,this.h=Le}function Vr(ut,Le){if(Ht(Le))throw Error("division by zero");if(Ht(ut))return new Jn(ye,ye);if(dn(ut))return Le=Vr(rn(ut),Le),new Jn(rn(Le.g),rn(Le.h));if(dn(Le))return Le=Vr(ut,rn(Le)),new Jn(rn(Le.g),Le.h);if(30<ut.g.length){if(dn(ut)||dn(Le))throw Error("slowDivide_ only works with positive integers.");for(var Je=Ke,ht=Le;0>=ht.l(ut);)Je=Ri(Je),ht=Ri(ht);var mt=oi(Je,1),Dt=oi(ht,1);for(ht=oi(ht,2),Je=oi(Je,2);!Ht(ht);){var qe=Dt.add(ht);0>=qe.l(ut)&&(mt=mt.add(Je),Dt=qe),ht=oi(ht,1),Je=oi(Je,1)}return Le=Kn(ut,mt.j(Le)),new Jn(mt,Le)}for(mt=ye;0<=ut.l(Le);){for(Je=Math.max(1,Math.floor(ut.m()/Le.m())),ht=48>=(ht=Math.ceil(Math.log(Je)/Math.LN2))?1:Math.pow(2,ht-48),qe=(Dt=W(Je)).j(Le);dn(qe)||0<qe.l(ut);)qe=(Dt=W(Je-=ht)).j(Le);Ht(Dt)&&(Dt=Ke),mt=mt.add(Dt),ut=Kn(ut,qe)}return new Jn(mt,ut)}function Ri(ut){for(var Le=ut.g.length+1,Je=[],ht=0;ht<Le;ht++)Je[ht]=ut.i(ht)<<1|ut.i(ht-1)>>>31;return new b(Je,ut.h)}function oi(ut,Le){var Je=Le>>5;Le%=32;for(var ht=ut.g.length-Je,mt=[],Dt=0;Dt<ht;Dt++)mt[Dt]=0<Le?ut.i(Dt+Je)>>>Le|ut.i(Dt+Je+1)<<32-Le:ut.i(Dt+Je);return new b(mt,ut.h)}(d=b.prototype).m=function(){if(dn(this))return-rn(this).m();for(var ut=0,Le=1,Je=0;Je<this.g.length;Je++){var ht=this.i(Je);ut+=(0<=ht?ht:4294967296+ht)*Le,Le*=4294967296}return ut},d.toString=function(ut){if(2>(ut=ut||10)||36<ut)throw Error("radix out of range: "+ut);if(Ht(this))return"0";if(dn(this))return"-"+rn(this).toString(ut);for(var Le=W(Math.pow(ut,6)),Je=this,ht="";;){var mt=Vr(Je,Le).g,Dt=((0<(Je=Kn(Je,mt.j(Le))).g.length?Je.g[0]:Je.h)>>>0).toString(ut);if(Ht(Je=mt))return Dt+ht;for(;6>Dt.length;)Dt="0"+Dt;ht=Dt+ht}},d.i=function(ut){return 0>ut?0:ut<this.g.length?this.g[ut]:this.h},d.l=function(ut){return dn(ut=Kn(this,ut))?-1:Ht(ut)?0:1},d.abs=function(){return dn(this)?rn(this):this},d.add=function(ut){for(var Le=Math.max(this.g.length,ut.g.length),Je=[],ht=0,mt=0;mt<=Le;mt++){var Dt=ht+(65535&this.i(mt))+(65535&ut.i(mt)),qe=(Dt>>>16)+(this.i(mt)>>>16)+(ut.i(mt)>>>16);ht=qe>>>16,Je[mt]=(qe&=65535)<<16|(Dt&=65535)}return new b(Je,-2147483648&Je[Je.length-1]?-1:0)},d.j=function(ut){if(Ht(this)||Ht(ut))return ye;if(dn(this))return dn(ut)?rn(this).j(rn(ut)):rn(rn(this).j(ut));if(dn(ut))return rn(this.j(rn(ut)));if(0>this.l(Ct)&&0>ut.l(Ct))return W(this.m()*ut.m());for(var Le=this.g.length+ut.g.length,Je=[],ht=0;ht<2*Le;ht++)Je[ht]=0;for(ht=0;ht<this.g.length;ht++)for(var mt=0;mt<ut.g.length;mt++){var Dt=this.i(ht)>>>16,qe=65535&this.i(ht),Tu=ut.i(mt)>>>16,Zp=65535&ut.i(mt);Je[2*ht+2*mt]+=qe*Zp,cr(Je,2*ht+2*mt),Je[2*ht+2*mt+1]+=Dt*Zp,cr(Je,2*ht+2*mt+1),Je[2*ht+2*mt+1]+=qe*Tu,cr(Je,2*ht+2*mt+1),Je[2*ht+2*mt+2]+=Dt*Tu,cr(Je,2*ht+2*mt+2)}for(ht=0;ht<Le;ht++)Je[ht]=Je[2*ht+1]<<16|Je[2*ht];for(ht=Le;ht<2*Le;ht++)Je[ht]=0;return new b(Je,0)},d.A=function(ut){return Vr(this,ut).h},d.and=function(ut){for(var Le=Math.max(this.g.length,ut.g.length),Je=[],ht=0;ht<Le;ht++)Je[ht]=this.i(ht)&ut.i(ht);return new b(Je,this.h&ut.h)},d.or=function(ut){for(var Le=Math.max(this.g.length,ut.g.length),Je=[],ht=0;ht<Le;ht++)Je[ht]=this.i(ht)|ut.i(ht);return new b(Je,this.h|ut.h)},d.xor=function(ut){for(var Le=Math.max(this.g.length,ut.g.length),Je=[],ht=0;ht<Le;ht++)Je[ht]=this.i(ht)^ut.i(ht);return new b(Je,this.h^ut.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ke=be.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=W,b.fromString=function oe(ut,Le){if(0==ut.length)throw Error("number format error: empty string");if(2>(Le=Le||10)||36<Le)throw Error("radix out of range: "+Le);if("-"==ut.charAt(0))return rn(oe(ut.substring(1),Le));if(0<=ut.indexOf("-"))throw Error('number format error: interior "-" character');for(var Je=W(Math.pow(Le,8)),ht=ye,mt=0;mt<ut.length;mt+=8){var Dt=Math.min(8,ut.length-mt),qe=parseInt(ut.substring(mt,mt+Dt),Le);8>Dt?(Dt=W(Math.pow(Le,Dt)),ht=ht.j(Dt).add(W(qe))):ht=(ht=ht.j(Je)).add(W(qe))}return ht},Be=be.Integer=b}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var he,Ge,pt,Tt,Mt,Nt,Qt,ze,J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,B,q){return E==Array.prototype||E==Object.prototype||(E[B]=q.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof J&&J];for(var B=0;B<E.length;++B){var q=E[B];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,B){if(B)e:{var q=a;E=E.split(".");for(var pe=0;pe<E.length-1;pe++){var _t=E[pe];if(!(_t in q))break e;q=q[_t]}(B=B(pe=q[E=E[E.length-1]]))!=pe&&null!=B&&e(q,E,{configurable:!0,writable:!0,value:B})}}("Array.prototype.values",function(E){return E||function(){return function y(E,B){E instanceof String&&(E+="");var q=0,pe=!1,_t={next:function(){if(!pe&&q<E.length){var kt=q++;return{value:B(kt,E[kt]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}(this,function(B,q){return q})}});var b=b||{},R=this||self;function F(E){var B=typeof E;return"array"==(B="object"!=B?B:E?Array.isArray(E)?"array":B:"null")||"object"==B&&"number"==typeof E.length}function W(E){var B=typeof E;return"object"==B&&null!=E||"function"==B}function oe(E,B,q){return E.call.apply(E.bind,arguments)}function ye(E,B,q){if(!E)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,pe),E.apply(B,_t)}}return function(){return E.apply(B,arguments)}}function Ke(E,B,q){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:ye).apply(null,arguments)}function Ct(E,B){var q=Array.prototype.slice.call(arguments,1);return function(){var pe=q.slice();return pe.push.apply(pe,arguments),E.apply(this,pe)}}function Ht(E,B){function q(){}q.prototype=B.prototype,E.aa=B.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(pe,_t,kt){for(var Cn=Array(arguments.length-2),Ui=2;Ui<arguments.length;Ui++)Cn[Ui-2]=arguments[Ui];return B.prototype[_t].apply(pe,Cn)}}function dn(E){const B=E.length;if(0<B){const q=Array(B);for(let pe=0;pe<B;pe++)q[pe]=E[pe];return q}return[]}function rn(E,B){for(let q=1;q<arguments.length;q++){const pe=arguments[q];if(F(pe)){const _t=E.length||0,kt=pe.length||0;E.length=_t+kt;for(let Cn=0;Cn<kt;Cn++)E[_t+Cn]=pe[Cn]}else E.push(pe)}}function cr(E){return/^[\s\xa0]*$/.test(E)}function Jn(){var E=R.navigator;return E&&(E=E.userAgent)?E:""}function Vr(E){return Vr[" "](E),E}Vr[" "]=function(){};var Ri=!(-1==Jn().indexOf("Gecko")||-1!=Jn().toLowerCase().indexOf("webkit")&&-1==Jn().indexOf("Edge")||-1!=Jn().indexOf("Trident")||-1!=Jn().indexOf("MSIE")||-1!=Jn().indexOf("Edge"));function oi(E,B,q){for(const pe in E)B.call(q,E[pe],pe,E)}function Le(E){const B={};for(const q in E)B[q]=E[q];return B}const Je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(E,B){let q,pe;for(let _t=1;_t<arguments.length;_t++){for(q in pe=arguments[_t],pe)E[q]=pe[q];for(let kt=0;kt<Je.length;kt++)q=Je[kt],Object.prototype.hasOwnProperty.call(pe,q)&&(E[q]=pe[q])}}function mt(E){var B=1;E=E.split(":");const q=[];for(;0<B&&E.length;)q.push(E.shift()),B--;return E.length&&q.push(E.join(":")),q}function Dt(E){R.setTimeout(()=>{throw E},0)}function qe(){var E=J_;let B=null;return E.g&&(B=E.g,E.g=E.g.next,E.g||(E.h=null),B.next=null),B}var Zp=new class Kn{constructor(B,q){this.i=B,this.j=q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}(()=>new NE,E=>E.reset());class NE{constructor(){this.next=this.g=this.h=null}set(B,q){this.h=B,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let yh,eg=!1,J_=new class Tu{constructor(){this.h=this.g=null}add(B,q){const pe=Zp.get();pe.set(B,q),this.h?this.h.next=pe:this.g=pe,this.h=pe}},Im=()=>{const E=R.Promise.resolve(void 0);yh=()=>{E.then(kE)}};var kE=()=>{for(var E;E=qe();){try{E.h.call(E.g)}catch(q){Dt(q)}var B=Zp;B.j(E),100>B.h&&(B.h++,E.next=B.g,B.g=E)}eg=!1};function md(){this.s=this.s,this.C=this.C}function ia(E,B){this.type=E,this.g=this.target=B,this.defaultPrevented=!1}md.prototype.s=!1,md.prototype.ma=function(){this.s||(this.s=!0,this.N())},md.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ia.prototype.h=function(){this.defaultPrevented=!0};var FE=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var E=!1,B=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};R.addEventListener("test",q,B),R.removeEventListener("test",q,B)}catch{}return E}();function tg(E,B){if(ia.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,pe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=B,B=E.relatedTarget){if(Ri){e:{try{Vr(B.nodeName);var _t=!0;break e}catch{}_t=!1}_t||(B=null)}}else"mouseover"==q?B=E.fromElement:"mouseout"==q&&(B=E.toElement);this.relatedTarget=B,pe?(this.clientX=void 0!==pe.clientX?pe.clientX:pe.pageX,this.clientY=void 0!==pe.clientY?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Mc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&tg.aa.h.call(this)}}Ht(tg,ia);var Mc={2:"touch",3:"pen",4:"mouse"};tg.prototype.h=function(){tg.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var vh="closure_listenable_"+(1e6*Math.random()|0),LE=0;function vv(E,B,q,pe,_t){this.listener=E,this.proxy=null,this.src=B,this.type=q,this.capture=!!pe,this.ha=_t,this.key=++LE,this.da=this.fa=!1}function Cm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function ng(E){this.src=E,this.g={},this.h=0}function wm(E,B){var q=B.type;if(q in E.g){var kt,pe=E.g[q],_t=Array.prototype.indexOf.call(pe,B,void 0);(kt=0<=_t)&&Array.prototype.splice.call(pe,_t,1),kt&&(Cm(B),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Sf(E,B,q,pe){for(var _t=0;_t<E.length;++_t){var kt=E[_t];if(!kt.da&&kt.listener==B&&kt.capture==!!q&&kt.ha==pe)return _t}return-1}ng.prototype.add=function(E,B,q,pe,_t){var kt=E.toString();(E=this.g[kt])||(E=this.g[kt]=[],this.h++);var Cn=Sf(E,B,pe,_t);return-1<Cn?(B=E[Cn],q||(B.fa=!1)):((B=new vv(B,this.src,kt,!!pe,_t)).fa=q,E.push(B)),B};var rg="closure_lm_"+(1e6*Math.random()|0),Ev={};function Z_(E,B,q,pe,_t){if(pe&&pe.once)return ty(E,B,q,pe,_t);if(Array.isArray(B)){for(var kt=0;kt<B.length;kt++)Z_(E,B[kt],q,pe,_t);return null}return q=Dm(q),E&&E[vh]?E.K(B,q,W(pe)?!!pe.capture:!!pe,_t):ey(E,B,q,!1,pe,_t)}function ey(E,B,q,pe,_t,kt){if(!B)throw Error("Invalid event type");var Cn=W(_t)?!!_t.capture:!!_t,Ui=ig(E);if(Ui||(E[rg]=Ui=new ng(E)),(q=Ui.add(B,q,pe,Cn,kt)).proxy)return q;if(pe=function bv(){const B=VE;return function E(q){return B.call(E.src,E.listener,q)}}(),q.proxy=pe,pe.src=E,pe.listener=q,E.addEventListener)FE||(_t=Cn),void 0===_t&&(_t=!1),E.addEventListener(B.toString(),pe,_t);else if(E.attachEvent)E.attachEvent(Tv(B.toString()),pe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(pe)}return q}function ty(E,B,q,pe,_t){if(Array.isArray(B)){for(var kt=0;kt<B.length;kt++)ty(E,B[kt],q,pe,_t);return null}return q=Dm(q),E&&E[vh]?E.L(B,q,W(pe)?!!pe.capture:!!pe,_t):ey(E,B,q,!0,pe,_t)}function Am(E,B,q,pe,_t){if(Array.isArray(B))for(var kt=0;kt<B.length;kt++)Am(E,B[kt],q,pe,_t);else pe=W(pe)?!!pe.capture:!!pe,q=Dm(q),E&&E[vh]?(E=E.i,(B=String(B).toString())in E.g&&-1<(q=Sf(kt=E.g[B],q,pe,_t))&&(Cm(kt[q]),Array.prototype.splice.call(kt,q,1),0==kt.length&&(delete E.g[B],E.h--))):E&&(E=ig(E))&&(B=E.g[B.toString()],E=-1,B&&(E=Sf(B,q,pe,_t)),(q=-1<E?B[E]:null)&&Wl(q))}function Wl(E){if("number"!=typeof E&&E&&!E.da){var B=E.src;if(B&&B[vh])wm(B.i,E);else{var q=E.type,pe=E.proxy;B.removeEventListener?B.removeEventListener(q,pe,E.capture):B.detachEvent?B.detachEvent(Tv(q),pe):B.addListener&&B.removeListener&&B.removeListener(pe),(q=ig(B))?(wm(q,E),0==q.h&&(q.src=null,B[rg]=null)):Cm(E)}}}function Tv(E){return E in Ev?Ev[E]:Ev[E]="on"+E}function VE(E,B){if(E.da)E=!0;else{B=new tg(B,this);var q=E.listener,pe=E.ha||E.src;E.fa&&Wl(E),E=q.call(pe,B)}return E}function ig(E){return(E=E[rg])instanceof ng?E:null}var ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dm(E){return"function"==typeof E?E:(E[ny]||(E[ny]=function(B){return E.handleEvent(B)}),E[ny])}function sa(){md.call(this),this.i=new ng(this),this.M=this,this.F=null}function Po(E,B){var q,pe=E.F;if(pe)for(q=[];pe;pe=pe.F)q.push(pe);if(E=E.M,pe=B.type||B,"string"==typeof B)B=new ia(B,E);else if(B instanceof ia)B.target=B.target||E;else{var _t=B;ht(B=new ia(pe,E),_t)}if(_t=!0,q)for(var kt=q.length-1;0<=kt;kt--){var Cn=B.g=q[kt];_t=_d(Cn,pe,!0,B)&&_t}if(_t=_d(Cn=B.g=E,pe,!0,B)&&_t,_t=_d(Cn,pe,!1,B)&&_t,q)for(kt=0;kt<q.length;kt++)_t=_d(Cn=B.g=q[kt],pe,!1,B)&&_t}function _d(E,B,q,pe){if(!(B=E.i.g[String(B)]))return!0;B=B.concat();for(var _t=!0,kt=0;kt<B.length;++kt){var Cn=B[kt];if(Cn&&!Cn.da&&Cn.capture==q){var Ui=Cn.listener,so=Cn.ha||Cn.src;Cn.fa&&wm(E.i,Cn),_t=!1!==Ui.call(so,pe)&&_t}}return _t&&!pe.defaultPrevented}function ry(E,B,q){if("function"==typeof E)q&&(E=Ke(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=Ke(E.handleEvent,E)}return 2147483647<Number(B)?-1:R.setTimeout(E,B||0)}function sg(E){E.g=ry(()=>{E.g=null,E.i&&(E.i=!1,sg(E))},E.l);const B=E.h;E.h=null,E.m.apply(null,B)}Ht(sa,md),sa.prototype[vh]=!0,sa.prototype.removeEventListener=function(E,B,q,pe){Am(this,E,B,q,pe)},sa.prototype.N=function(){if(sa.aa.N.call(this),this.i){var B,E=this.i;for(B in E.g){for(var q=E.g[B],pe=0;pe<q.length;pe++)Cm(q[pe]);delete E.g[B],E.h--}}this.F=null},sa.prototype.K=function(E,B,q,pe){return this.i.add(String(E),B,!1,q,pe)},sa.prototype.L=function(E,B,q,pe){return this.i.add(String(E),B,!0,q,pe)};class UE extends md{constructor(B,q){super(),this.m=B,this.l=q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:sg(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rf(E){md.call(this),this.h=E,this.g={}}Ht(Rf,md);var Sm=[];function Rm(E){oi(E.g,function(B,q){this.g.hasOwnProperty(q)&&Wl(B)},E),E.g={}}Rf.prototype.N=function(){Rf.aa.N.call(this),Rm(this)},Rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pf=R.JSON.stringify,iy=R.JSON.parse,sy=class{stringify(E){return R.JSON.stringify(E,void 0)}parse(E){return R.JSON.parse(E,void 0)}};function Pm(){}function oy(){}Pm.prototype.h=null;var Eh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function og(){ia.call(this,"d")}function xm(){ia.call(this,"c")}Ht(og,ia),Ht(xm,ia);var yd={},bh=null;function Mm(){return bh=bh||new sa}function Iv(E){ia.call(this,yd.La,E)}function ag(E){const B=Mm();Po(B,new Iv(B))}function Cv(E,B){ia.call(this,yd.STAT_EVENT,E),this.stat=B}function ga(E){const B=Mm();Po(B,new Cv(B,E))}function wv(E,B){ia.call(this,yd.Ma,E),this.size=B}function lg(E,B){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){E()},B)}function cg(){this.g=!0}function xf(E,B,q,pe){E.info(function(){return"XMLHTTP TEXT ("+B+"): "+function BE(E,B){if(!E.g)return B;if(!B)return null;try{var q=JSON.parse(B);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var pe=q[E];if(!(2>pe.length)){var _t=pe[1];if(Array.isArray(_t)&&!(1>_t.length)){var kt=_t[0];if("noop"!=kt&&"stop"!=kt&&"close"!=kt)for(var Cn=1;Cn<_t.length;Cn++)_t[Cn]=""}}}return Pf(q)}catch{return B}}(E,q)+(pe?" "+pe:"")})}yd.La="serverreachability",Ht(Iv,ia),yd.STAT_EVENT="statevent",Ht(Cv,ia),yd.Ma="timingevent",Ht(wv,ia),cg.prototype.xa=function(){this.g=!1},cg.prototype.info=function(){};var cy,Nm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Av={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function km(){}function Cu(E,B,q,pe){this.j=E,this.i=B,this.l=q,this.R=pe||1,this.U=new Rf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uy}function uy(){this.i=null,this.g="",this.h=!1}Ht(km,Pm),km.prototype.g=function(){return new XMLHttpRequest},km.prototype.i=function(){return{}},cy=new km;var Hi={},Fm={};function ug(E,B,q){E.L=1,E.v=Ff(_a(B)),E.m=q,E.P=!0,Dv(E,null)}function Dv(E,B){E.F=Date.now(),Vm(E),E.A=_a(E.v);var q=E.A,pe=E.R;Array.isArray(pe)||(pe=[String(pe)]),ya(q.i,"t",pe),E.C=0,q=E.j.J,E.h=new uy,E.g=Mo(E.j,q?B:null,!E.m),0<E.O&&(E.M=new UE(Ke(E.Y,E,E.g),E.O)),B=E.U,q=E.g,pe=E.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(Sm[0]=_t.toString()),_t=Sm);for(var kt=0;kt<_t.length;kt++){var Cn=Z_(q,_t[kt],pe||B.handleEvent,!1,B.h||B);if(!Cn)break;B.g[Cn.key]=Cn}B=E.H?Le(E.H):{},E.m?(E.u||(E.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,B)):(E.u="GET",E.g.ea(E.A,E.u,null,B)),ag(),function ay(E,B,q,pe,_t,kt){E.info(function(){if(E.g)if(kt)for(var Cn="",Ui=kt.split("&"),so=0;so<Ui.length;so++){var Pi=Ui[so].split("=");if(1<Pi.length){var po=Pi[0];Pi=Pi[1];var Oo=po.split("_");Cn=2<=Oo.length&&"type"==Oo[1]?Cn+(po+"=")+Pi+"&":Cn+(po+"=redacted&")}}else Cn=null;else Cn=kt;return"XMLHTTP REQ ("+pe+") [attempt "+_t+"]: "+B+"\n"+q+"\n"+Cn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function Lm(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function dy(E,B){var q=E.C,pe=B.indexOf("\n",q);return-1==pe?Fm:(q=Number(B.substring(q,pe)),isNaN(q)?Hi:(pe+=1)+q>B.length?Fm:(B=B.slice(pe,pe+q),E.C=pe+q,B))}function Vm(E){E.S=Date.now()+E.I,Mf(E,E.I)}function Mf(E,B){if(null!=E.B)throw Error("WatchDog timer not null");E.B=lg(Ke(E.ba,E),B)}function Um(E){E.B&&(R.clearTimeout(E.B),E.B=null)}function Of(E){0==E.j.G||E.J||mg(E.j,E)}function Oc(E){Um(E);var B=E.M;B&&"function"==typeof B.ma&&B.ma(),E.M=null,Rm(E.U),E.g&&(B=E.g,E.g=null,B.abort(),B.ma())}function Bm(E,B){try{var q=E.j;if(0!=q.G&&(q.g==E||Th(q.h,E)))if(!E.K&&Th(q.h,E)&&3==q.G){try{var pe=q.Da.g.parse(B)}catch{pe=null}if(Array.isArray(pe)&&3==pe.length){var _t=pe;if(0==_t[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;Yl(q),Mh(q)}Rd(q),ga(18)}}else q.za=_t[1],0<q.za-q.T&&37500>_t[2]&&q.F&&0==q.v&&!q.C&&(q.C=lg(Ke(q.Za,q),6e3));if(1>=wu(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Nh(q,11)}else if((E.K||q.g==E)&&Yl(q),!cr(B))for(_t=q.Da.g.parse(B),B=0;B<_t.length;B++){let Pi=_t[B];if(q.T=Pi[0],Pi=Pi[1],2==q.G)if("c"==Pi[0]){q.K=Pi[1],q.ia=Pi[2];const po=Pi[3];null!=po&&(q.la=po,q.j.info("VER="+q.la));const Oo=Pi[4];null!=Oo&&(q.Aa=Oo,q.j.info("SVER="+q.Aa));const Ru=Pi[5];null!=Ru&&"number"==typeof Ru&&0<Ru&&(q.L=pe=1.5*Ru,q.j.info("backChannelRequestTimeoutMs_="+pe)),pe=q;const va=E.g;if(va){const $f=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($f){var kt=pe.h;kt.g||-1==$f.indexOf("spdy")&&-1==$f.indexOf("quic")&&-1==$f.indexOf("h2")||(kt.j=kt.l,kt.g=new Set,kt.h&&(ma(kt,kt.h),kt.h=null))}if(pe.D){const _g=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;_g&&(pe.ya=_g,cs(pe.I,pe.D,_g))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Cn=E;if((pe=q).qa=my(pe,pe.J?pe.ia:null,pe.W),Cn.K){dg(pe.h,Cn);var Ui=Cn,so=pe.L;so&&(Ui.I=so),Ui.B&&(Um(Ui),Vm(Ui)),pe.g=Cn}else pg(pe);0<q.i.length&&Oh(q)}else"stop"!=Pi[0]&&"close"!=Pi[0]||Nh(q,7);else 3==q.G&&("stop"==Pi[0]||"close"==Pi[0]?"stop"==Pi[0]?Nh(q,7):Dd(q):"noop"!=Pi[0]&&q.l&&q.l.ta(Pi),q.v=0)}ag()}catch{}}function Nf(E){this.l=E||10,E=R.PerformanceNavigationTiming?0<(E=R.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function wu(E){return E.h?1:E.g?E.g.size:0}function Th(E,B){return E.h?E.h==B:!!E.g&&E.g.has(B)}function ma(E,B){E.g?E.g.add(B):E.h=B}function dg(E,B){E.h&&E.h==B?E.h=null:E.g&&E.g.has(B)&&E.g.delete(B)}function vd(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let B=E.i;for(const q of E.g.values())B=B.concat(q.D);return B}return dn(E.i)}function Ed(E,B){if(E.forEach&&"function"==typeof E.forEach)E.forEach(B,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,B,void 0);else for(var q=function Ch(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var B=[];E=E.length;for(var q=0;q<E;q++)B.push(q);return B}B=[],q=0;for(const pe in E)B[q++]=pe;return B}}}(E),pe=function Ih(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var B=[],q=E.length,pe=0;pe<q;pe++)B.push(E[pe]);return B}for(pe in B=[],q=0,E)B[q++]=E[pe];return B}(E),_t=pe.length,kt=0;kt<_t;kt++)B.call(void 0,pe[kt],q&&q[kt],E)}Cu.prototype.ca=function(E){E=E.target;const B=this.M;B&&3==dl(E)?B.j():this.Y(E)},Cu.prototype.Y=function(E){try{if(E==this.g)e:{const Oo=dl(this.g);var B=this.g.Ba();if(this.g.Z(),!(3>Oo)&&(3!=Oo||this.g&&(this.h.h||this.g.oa()||Ka(this.g)))){this.J||4!=Oo||7==B||ag(),Um(this);var q=this.g.Z();this.X=q;t:if(Lm(this)){var pe=Ka(this.g);E="";var _t=pe.length,kt=4==dl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oc(this),Of(this);var Cn="";break t}this.h.i=new R.TextDecoder}for(B=0;B<_t;B++)this.h.h=!0,E+=this.h.i.decode(pe[B],{stream:!(kt&&B==_t-1)});pe.length=0,this.h.g+=E,this.C=0,Cn=this.h.g}else Cn=this.g.oa();if(this.o=200==q,function ly(E,B,q,pe,_t,kt,Cn){E.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+_t+"]: "+B+"\n"+q+"\n"+kt+" "+Cn})}(this.i,this.u,this.A,this.l,this.R,Oo,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Ui,so=this.g;if((Ui=so.g?so.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(Ui)){var Pi=Ui;break t}}Pi=null}if(!(q=Pi)){this.o=!1,this.s=3,ga(12),Oc(this),Of(this);break e}xf(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bm(this,q)}if(this.P){let va;for(q=!0;!this.J&&this.C<Cn.length;){if(va=dy(this,Cn),va==Fm){4==Oo&&(this.s=4,ga(14),q=!1),xf(this.i,this.l,null,"[Incomplete Response]");break}if(va==Hi){this.s=4,ga(15),xf(this.i,this.l,Cn,"[Invalid Chunk]"),q=!1;break}xf(this.i,this.l,va,null),Bm(this,va)}if(Lm(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Oo||0!=Cn.length||this.h.h||(this.s=1,ga(16),q=!1),this.o=this.o&&q,q){if(0<Cn.length&&!this.W){this.W=!0;var po=this.j;po.g==this&&po.ba&&!po.M&&(po.j.info("Great, no buffering proxy detected. Bytes received: "+Cn.length),gg(po),po.M=!0,ga(11))}}else xf(this.i,this.l,Cn,"[Invalid Chunked Response]"),Oc(this),Of(this)}else xf(this.i,this.l,Cn,null),Bm(this,Cn);4==Oo&&Oc(this),this.o&&!this.J&&(4==Oo?mg(this.j,this):(this.o=!1,Vm(this)))}else(function qm(E){const B={};E=(E.g&&2<=dl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let pe=0;pe<E.length;pe++){if(cr(E[pe]))continue;var q=mt(E[pe]);const _t=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const kt=B[_t]||[];B[_t]=kt,kt.push(q)}!function ut(E,B){for(const q in E)B.call(void 0,E[q],q,E)}(B,function(pe){return pe.join(", ")})})(this.g),400==q&&0<Cn.indexOf("Unknown SID")?(this.s=3,ga(12)):(this.s=0,ga(13)),Oc(this),Of(this)}}}catch{}},Cu.prototype.cancel=function(){this.J=!0,Oc(this)},Cu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Om(E,B){E.info(function(){return"TIMEOUT: "+B})}(this.i,this.A),2!=this.L&&(ag(),ga(17)),Oc(this),this.s=2,Of(this)):Mf(this,this.S-E)},Nf.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Wa){this.h=E.h,Nc(this,E.j),this.o=E.o,this.g=E.g,kf(this,E.s),this.l=E.l;var B=E.i,q=new Lf;q.i=B.i,B.g&&(q.g=new Map(B.g),q.h=B.h),jm(this,q),this.m=E.m}else E&&(B=String(E).match(bd))?(this.h=!1,Nc(this,B[1]||"",!0),this.o=Ah(B[2]||""),this.g=Ah(B[3]||"",!0),kf(this,B[4]),this.l=Ah(B[5]||"",!0),jm(this,B[6]||"",!0),this.m=Ah(B[7]||"")):(this.h=!1,this.i=new Lf(null,this.h))}function _a(E){return new Wa(E)}function Nc(E,B,q){E.j=q?Ah(B,!0):B,E.j&&(E.j=E.j.replace(/:$/,""))}function kf(E,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);E.s=B}else E.s=null}function jm(E,B,q){B instanceof Lf?(E.i=B,function Pv(E,B){B&&!E.j&&(ql(E),E.i=null,E.g.forEach(function(q,pe){var _t=pe.toLowerCase();pe!=_t&&(hg(this,pe),ya(this,_t,q))},E)),E.j=B}(E.i,E.h)):(q||(B=Dh(B,Rv)),E.i=new Lf(B,E.h))}function cs(E,B,q){E.i.set(B,q)}function Ff(E){return cs(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ah(E,B){return E?B?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Dh(E,B,q){return"string"==typeof E?(E=encodeURI(E).replace(B,hy),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function hy(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Wa.prototype.toString=function(){var E=[],B=this.j;B&&E.push(Dh(B,$m,!0),":");var q=this.g;return(q||"file"==B)&&(E.push("//"),(B=this.o)&&E.push(Dh(B,$m,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Dh(q,"/"==q.charAt(0)?Hm:Sv,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Dh(q,Td)),E.join("")};var E,$m=/[#\/\?@]/g,Sv=/[#\?:]/g,Hm=/[#\?]/g,Rv=/[#\?@]/g,Td=/#/g;function Lf(E,B){this.h=this.g=null,this.i=E||null,this.j=!!B}function ql(E){E.g||(E.g=new Map,E.h=0,E.i&&function wh(E,B){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var pe=E[q].indexOf("="),_t=null;if(0<=pe){var kt=E[q].substring(0,pe);_t=E[q].substring(pe+1)}else kt=E[q];B(kt,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}(E.i,function(B,q){E.add(decodeURIComponent(B.replace(/\+/g," ")),q)}))}function hg(E,B){ql(E),B=Sh(E,B),E.g.has(B)&&(E.i=null,E.h-=E.g.get(B).length,E.g.delete(B))}function Gm(E,B){return ql(E),B=Sh(E,B),E.g.has(B)}function ya(E,B,q){hg(E,B),0<q.length&&(E.i=null,E.g.set(Sh(E,B),dn(q)),E.h+=q.length)}function Sh(E,B){return B=String(B),E.j&&(B=B.toLowerCase()),B}function Ho(E,B,q,pe,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),pe(q)}catch{}}function Rh(){this.g=new sy}function Wm(E,B,q){const pe=q||"";try{Ed(E,function(_t,kt){let Cn=_t;W(_t)&&(Cn=Pf(_t)),B.push(pe+kt+"="+encodeURIComponent(Cn))})}catch(_t){throw B.push(pe+"type="+encodeURIComponent("_badmap")),_t}}function Id(E){this.l=E.Ub||null,this.j=E.eb||!1}function Vf(E,B){sa.call(this),this.D=E,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Cd(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function wd(E){E.readyState=4,E.l=null,E.j=null,E.v=null,fg(E)}function fg(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Ad(E){let B="";return oi(E,function(q,pe){B+=pe,B+=":",B+=q,B+="\r\n"}),B}function Uf(E,B,q){e:{for(pe in q){var pe=!1;break e}pe=!0}pe||(q=Ad(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):cs(E,B,q))}function Vs(E){sa.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=Lf.prototype).add=function(E,B){ql(this),this.i=null,E=Sh(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(B),this.h+=1,this},d.forEach=function(E,B){ql(this),this.g.forEach(function(q,pe){q.forEach(function(_t){E.call(B,_t,pe,this)},this)},this)},d.na=function(){ql(this);const E=Array.from(this.g.values()),B=Array.from(this.g.keys()),q=[];for(let pe=0;pe<B.length;pe++){const _t=E[pe];for(let kt=0;kt<_t.length;kt++)q.push(B[pe])}return q},d.V=function(E){ql(this);let B=[];if("string"==typeof E)Gm(this,E)&&(B=B.concat(this.g.get(Sh(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)B=B.concat(E[q])}return B},d.set=function(E,B){return ql(this),this.i=null,Gm(this,E=Sh(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[B]),this.h+=1,this},d.get=function(E,B){return E&&0<(E=this.V(E)).length?String(E[0]):B},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],B=Array.from(this.g.keys());for(var q=0;q<B.length;q++){var pe=B[q];const kt=encodeURIComponent(String(pe)),Cn=this.V(pe);for(pe=0;pe<Cn.length;pe++){var _t=kt;""!==Cn[pe]&&(_t+="="+encodeURIComponent(String(Cn[pe]))),E.push(_t)}}return this.i=E.join("&")},Ht(Id,Pm),Id.prototype.g=function(){return new Vf(this.l,this.j)},Id.prototype.i=(E={},function(){return E}),Ht(Vf,sa),(d=Vf.prototype).open=function(E,B){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=B,this.readyState=1,fg(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(B.body=E),(this.D||R).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wd(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,fg(this)),this.g&&(this.readyState=3,fg(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cd(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var B=E.value?E.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!E.done}))&&(this.response=this.responseText+=B)}E.done?wd(this):fg(this),3==this.readyState&&Cd(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,wd(this))},d.Qa=function(E){this.g&&(this.response=E,wd(this))},d.ga=function(){this.g&&wd(this)},d.setRequestHeader=function(E,B){this.u.append(E,B)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],B=this.h.entries();for(var q=B.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=B.next();return E.join("\r\n")},Object.defineProperty(Vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Ht(Vs,sa);var fy=/^https?$/i,Mv=["POST","PUT"];function Ph(E,B){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=B,E.m=5,Au(E),xh(E)}function Au(E){E.A||(E.A=!0,Po(E,"complete"),Po(E,"error"))}function Du(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=dl(E)||2!=E.Z()))if(E.u&&4==dl(E))ry(E.Ea,0,E);else if(Po(E,"readystatechange"),4==dl(E)){E.h=!1;try{const Cn=E.Z();e:switch(Cn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var q;if(!(q=B)){var pe;if(pe=0===Cn){var _t=String(E.D).match(bd)[1]||null;!_t&&R.self&&R.self.location&&(_t=R.self.location.protocol.slice(0,-1)),pe=!fy.test(_t?_t.toLowerCase():"")}q=pe}if(q)Po(E,"complete"),Po(E,"success");else{E.m=6;try{var kt=2<dl(E)?E.g.statusText:""}catch{kt=""}E.l=kt+" ["+E.Z()+"]",Au(E)}}finally{xh(E)}}}function xh(E,B){if(E.g){Km(E);const q=E.g,pe=E.v[0]?()=>{}:null;E.g=null,E.v=null,B||Po(E,"ready");try{q.onreadystatechange=pe}catch{}}}function Km(E){E.I&&(R.clearTimeout(E.I),E.I=null)}function dl(E){return E.g?E.g.readyState:0}function Ka(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function kc(E,B,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||B}function py(E){this.Aa=0,this.i=[],this.j=new cg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kc("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kc("baseRetryDelayMs",5e3,E),this.cb=kc("retryDelaySeedMs",1e4,E),this.Wa=kc("forwardChannelMaxRetries",2,E),this.wa=kc("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Nf(E&&E.concurrentRequestLimit),this.Da=new Rh,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Dd(E){if(Ym(E),3==E.G){var B=E.U++,q=_a(E.I);if(cs(q,"SID",E.K),cs(q,"RID",B),cs(q,"TYPE","terminate"),fl(E,q),(B=new Cu(E,E.j,B)).L=2,B.v=Ff(_a(q)),q=!1,R.navigator&&R.navigator.sendBeacon)try{q=R.navigator.sendBeacon(B.v.toString(),"")}catch{}!q&&R.Image&&((new Image).src=B.v,q=!0),q||(B.g=Mo(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Vm(B)}gy(E)}function Mh(E){E.g&&(gg(E),E.g.cancel(),E.g=null)}function Ym(E){Mh(E),E.u&&(R.clearTimeout(E.u),E.u=null),Yl(E),E.h.cancel(),E.s&&("number"==typeof E.s&&R.clearTimeout(E.s),E.s=null)}function Oh(E){if(!xo(E.h)&&!E.s){E.s=!0;var B=E.Ga;yh||Im(),eg||(yh(),eg=!0),J_.add(B,E),E.B=0}}function hl(E,B){var q;q=B?B.l:E.U++;const pe=_a(E.I);cs(pe,"SID",E.K),cs(pe,"RID",q),cs(pe,"AID",E.T),fl(E,pe),E.m&&E.o&&Uf(pe,E.m,E.o),q=new Cu(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),B&&(E.i=B.D.concat(E.i)),B=Sd(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),ma(E.h,q),ug(q,pe,B)}function fl(E,B){E.H&&oi(E.H,function(q,pe){cs(B,pe,q)}),E.l&&Ed({},function(q,pe){cs(B,pe,q)})}function Sd(E,B,q){q=Math.min(E.i.length,q);var pe=E.l?Ke(E.l.Na,E.l,E):null;e:{var _t=E.i;let kt=-1;for(;;){const Cn=["count="+q];-1==kt?0<q?(kt=_t[0].g,Cn.push("ofs="+kt)):kt=0:Cn.push("ofs="+kt);let Ui=!0;for(let so=0;so<q;so++){let Pi=_t[so].g;const po=_t[so].map;if(Pi-=kt,0>Pi)kt=Math.max(0,_t[so].g-100),Ui=!1;else try{Wm(po,Cn,"req"+Pi+"_")}catch{pe&&pe(po)}}if(Ui){pe=Cn.join("&");break e}}}return E=E.i.splice(0,q),B.D=E,pe}function pg(E){if(!E.g&&!E.u){E.Y=1;var B=E.Fa;yh||Im(),eg||(yh(),eg=!0),J_.add(B,E),E.v=0}}function Rd(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=lg(Ke(E.Fa,E),Bf(E,E.v)),E.v++,0))}function gg(E){null!=E.A&&(R.clearTimeout(E.A),E.A=null)}function Fc(E){E.g=new Cu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var B=_a(E.qa);cs(B,"RID","rpc"),cs(B,"SID",E.K),cs(B,"AID",E.T),cs(B,"CI",E.F?"0":"1"),!E.F&&E.ja&&cs(B,"TO",E.ja),cs(B,"TYPE","xmlhttp"),fl(E,B),E.m&&E.o&&Uf(B,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=Ff(_a(B)),q.m=null,q.P=!0,Dv(q,E)}function Yl(E){null!=E.C&&(R.clearTimeout(E.C),E.C=null)}function mg(E,B){var q=null;if(E.g==B){Yl(E),gg(E),E.g=null;var pe=2}else{if(!Th(E.h,B))return;q=B.D,dg(E.h,B),pe=1}if(0!=E.G)if(B.o)if(1==pe){q=B.m?B.m.length:0,B=Date.now()-B.F;var _t=E.B;Po(pe=Mm(),new wv(pe,q)),Oh(E)}else pg(E);else if(3==(_t=B.s)||0==_t&&0<B.X||!(1==pe&&function Su(E,B){return!(wu(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=B.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=lg(Ke(E.Ga,E,B),Bf(E,E.B)),E.B++,0)))}(E,B)||2==pe&&Rd(E)))switch(q&&0<q.length&&(B=E.h,B.i=B.i.concat(q)),_t){case 1:Nh(E,5);break;case 4:Nh(E,10);break;case 3:Nh(E,6);break;default:Nh(E,2)}}function Bf(E,B){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*B}function Nh(E,B){if(E.j.info("Error code "+B),2==B){var q=Ke(E.fb,E),pe=E.Xa;const _t=!pe;pe=new Wa(pe||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Nc(pe,"https"),Ff(pe),_t?function zm(E,B){const q=new cg;if(R.Image){const pe=new Image;pe.onload=Ct(Ho,q,"TestLoadImage: loaded",!0,B,pe),pe.onerror=Ct(Ho,q,"TestLoadImage: error",!1,B,pe),pe.onabort=Ct(Ho,q,"TestLoadImage: abort",!1,B,pe),pe.ontimeout=Ct(Ho,q,"TestLoadImage: timeout",!1,B,pe),R.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=E}else B(!1)}(pe.toString(),q):function xv(E,B){new cg;const pe=new AbortController,_t=setTimeout(()=>{pe.abort(),Ho(0,0,!1,B)},1e4);fetch(E,{signal:pe.signal}).then(kt=>{clearTimeout(_t),Ho(0,0,!!kt.ok,B)}).catch(()=>{clearTimeout(_t),Ho(0,0,!1,B)})}(pe.toString(),q)}else ga(2);E.G=0,E.l&&E.l.sa(B),gy(E),Ym(E)}function gy(E){if(E.G=0,E.ka=[],E.l){const B=vd(E.h);(0!=B.length||0!=E.i.length)&&(rn(E.ka,B),rn(E.ka,E.i),E.h.i.length=0,dn(E.i),E.i.length=0),E.l.ra()}}function my(E,B,q){var pe=q instanceof Wa?_a(q):new Wa(q);if(""!=pe.g)B&&(pe.g=B+"."+pe.g),kf(pe,pe.s);else{var _t=R.location;pe=_t.protocol,B=B?B+"."+_t.hostname:_t.hostname,_t=+_t.port;var kt=new Wa(null);pe&&Nc(kt,pe),B&&(kt.g=B),_t&&kf(kt,_t),q&&(kt.l=q),pe=kt}return B=E.ya,(q=E.D)&&B&&cs(pe,q,B),cs(pe,"VER",E.la),fl(E,pe),pe}function Mo(E,B,q){if(B&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(B=new Vs(E.Ca&&!E.pa?new Id({eb:q}):E.pa)).Ha(E.J),B}function kh(){}function jf(){}function xa(E,B){sa.call(this),this.g=new py(B),this.l=E,this.h=B&&B.messageUrlParams||null,E=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(E?E["X-WebChannel-Content-Type"]=B.messageContentType:E={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(E?E["X-WebChannel-Client-Profile"]=B.va:E={"X-WebChannel-Client-Profile":B.va}),this.g.S=E,(E=B&&B.Sb)&&!cr(E)&&(this.g.m=E),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!cr(B)&&(this.g.D=B,null!==(E=this.h)&&B in E&&B in(E=this.h)&&delete E[B]),this.j=new Fh(this)}function Ov(E){og.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var B=E.__sm__;if(B){e:{for(const q in B){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,B=null!==B&&E in B?B[E]:void 0),this.data=B}else this.data=E}function Nv(){xm.call(this),this.status=1}function Fh(E){this.g=E}(d=Vs.prototype).Ha=function(E){this.J=E},d.ea=function(E,B,q,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);B=B?B.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cy.g(),this.v=function Iu(E){return E.h||(E.h=E.i())}(this.o?this.o:cy),this.g.onreadystatechange=Ke(this.Ea,this);try{this.B=!0,this.g.open(B,String(E),!0),this.B=!1}catch(kt){return void Ph(this,kt)}if(E=q||"",q=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var _t in pe)q.set(_t,pe[_t]);else{if("function"!=typeof pe.keys||"function"!=typeof pe.get)throw Error("Unknown input type for opt_headers: "+String(pe));for(const kt of pe.keys())q.set(kt,pe.get(kt))}pe=Array.from(q.keys()).find(kt=>"content-type"==kt.toLowerCase()),_t=R.FormData&&E instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Mv,B,void 0))||pe||_t||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[kt,Cn]of q)this.g.setRequestHeader(kt,Cn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Km(this),this.u=!0,this.g.send(E),this.u=!1}catch(kt){Ph(this,kt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Po(this,"complete"),Po(this,"abort"),xh(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xh(this,!0)),Vs.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Du(this):this.bb())},d.bb=function(){Du(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<dl(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var B=this.g.responseText;return E&&0==B.indexOf(E)&&(B=B.substring(E.length)),iy(B)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=py.prototype).la=8,d.G=1,d.connect=function(E,B,q,pe){ga(0),this.W=E,this.H=B||{},q&&void 0!==pe&&(this.H.OSID=q,this.H.OAID=pe),this.F=this.X,this.I=my(this,null,this.W),Oh(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const _t=new Cu(this,this.j,E);let kt=this.o;if(this.S&&(kt?(kt=Le(kt),ht(kt,this.S)):kt=this.S),null!==this.m||this.O||(_t.H=kt,kt=null),this.P)e:{for(var B=0,q=0;q<this.i.length;q++){var pe=this.i[q];if(void 0===(pe="__data__"in pe.map&&"string"==typeof(pe=pe.map.__data__)?pe.length:void 0))break;if(4096<(B+=pe)){B=q;break e}if(4096===B||q===this.i.length-1){B=q+1;break e}}B=1e3}else B=1e3;B=Sd(this,_t,B),cs(q=_a(this.I),"RID",E),cs(q,"CVER",22),this.D&&cs(q,"X-HTTP-Session-Id",this.D),fl(this,q),kt&&(this.O?B="headers="+encodeURIComponent(String(Ad(kt)))+"&"+B:this.m&&Uf(q,this.m,kt)),ma(this.h,_t),this.Ua&&cs(q,"TYPE","init"),this.P?(cs(q,"$req",B),cs(q,"SID","null"),_t.T=!0,ug(_t,q,null)):ug(_t,q,B),this.G=2}}else 3==this.G&&(E?hl(this,E):0==this.i.length||xo(this.h)||hl(this))},d.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=lg(Ke(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ga(10),Mh(this),Fc(this))},d.Za=function(){null!=this.C&&(this.C=null,Mh(this),Rd(this),ga(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ga(2)):(this.j.info("Failed to ping google.com"),ga(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=kh.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},jf.prototype.g=function(E,B){return new xa(E,B)},Ht(xa,sa),xa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xa.prototype.close=function(){Dd(this.g)},xa.prototype.o=function(E){var B=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=Pf(E),E=q);B.i.push(new class{constructor(E,B){this.g=E,this.map=B}}(B.Ya++,E)),3==B.G&&Oh(B)},xa.prototype.N=function(){this.g.l=null,delete this.j,Dd(this.g),delete this.g,xa.aa.N.call(this)},Ht(Ov,og),Ht(Nv,xm),Ht(Fh,kh),Fh.prototype.ua=function(){Po(this.g,"a")},Fh.prototype.ta=function(E){Po(this.g,new Ov(E))},Fh.prototype.sa=function(E){Po(this.g,new Nv)},Fh.prototype.ra=function(){Po(this.g,"b")},jf.prototype.createWebChannel=jf.prototype.g,xa.prototype.send=xa.prototype.o,xa.prototype.open=xa.prototype.m,xa.prototype.close=xa.prototype.close,ze=te.createWebChannelTransport=function(){return new jf},Qt=te.getStatEventTarget=function(){return Mm()},Nt=te.Event=yd,Mt=te.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nm.NO_ERROR=0,Nm.TIMEOUT=8,Nm.HTTP_ERROR=6,Tt=te.ErrorCode=Nm,Av.COMPLETE="complete",pt=te.EventType=Av,oy.EventType=Eh,Eh.OPEN="a",Eh.CLOSE="b",Eh.ERROR="c",Eh.MESSAGE="d",sa.prototype.listen=sa.prototype.K,Ge=te.WebChannel=oy,te.FetchXmlHttpFactory=Id,Vs.prototype.listenOnce=Vs.prototype.L,Vs.prototype.getLastError=Vs.prototype.Ka,Vs.prototype.getLastErrorCode=Vs.prototype.Ba,Vs.prototype.getStatus=Vs.prototype.Z,Vs.prototype.getResponseJson=Vs.prototype.Oa,Vs.prototype.getResponseText=Vs.prototype.oa,Vs.prototype.send=Vs.prototype.ea,Vs.prototype.setWithCredentials=Vs.prototype.Ha,he=te.XhrIo=Vs}).apply(typeof J<"u"?J:typeof self<"u"?self:typeof window<"u"?window:{});const Te="@firebase/firestore";class Ze{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let Oe="10.14.0";const et=new ve.Vy("@firebase/firestore");function $e(){return et.logLevel}function Ot(d){et.setLogLevel(d)}function Ie(d,...e){if(et.logLevel<=ve.$b.DEBUG){const r=e.map(sr);et.debug(`Firestore (${Oe}): ${d}`,...r)}}function Yt(d,...e){if(et.logLevel<=ve.$b.ERROR){const r=e.map(sr);et.error(`Firestore (${Oe}): ${d}`,...r)}}function gn(d,...e){if(et.logLevel<=ve.$b.WARN){const r=e.map(sr);et.warn(`Firestore (${Oe}): ${d}`,...r)}}function sr(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Qe(d="Unexpected state"){const e=`FIRESTORE (${Oe}) INTERNAL ASSERTION FAILED: `+d;throw Yt(e),new Error(e)}function Pt(d,e){d||Qe()}function Ue(d,e){d||Qe()}function at(d,e){return d}const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ge.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class en{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class We{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ze.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Me{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;Pt(void 0===this.o);let h=this.i;const y=W=>this.i!==h?(h=this.i,r(W)):Promise.resolve();let b=new en;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new en,e.enqueueRetryable(()=>y(this.currentUser))};const R=()=>{const W=b;e.enqueueRetryable((0,o.A)(function*(){yield W.promise,yield y(a.currentUser)}))},F=W=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(W=>F(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?F(W):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new en)}},0),R()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Pt("string"==typeof a.accessToken),new We(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Ze(e)}}class lt{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rt{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new lt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class An{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Pt(void 0===this.o);const a=y=>{null!=y.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const b=y.token!==this.R;return this.R=y.token,Ie("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>a(y))};const h=y=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Pt("string"==typeof r.token),this.R=r.token,new Lt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class Bn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=sn(40);for(let y=0;y<h.length;++y)a.length<20&&h[y]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return a}}function Jt(d,e){return d<e?-1:d>e?1:0}function jn(d,e,r){return d.length===e.length&&d.every((a,h)=>r(a,e[h]))}function xn(d){return d+"\0"}class zt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new st(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new st(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new st(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new zt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new zt(0,0))}static max(){return new Bt(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Er{constructor(e,r,a){void 0===r?r=0:r>e.length&&Qe(),void 0===a?a=e.length-r:a>e.length-r&&Qe(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===Er.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const y=e.get(h),b=r.get(h);if(y<b)return-1;if(y>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class an extends Er{construct(e,r,a){return new an(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(Pe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new an(r)}static emptyPath(){return new an([])}}const Fr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Er{construct(e,r,a){return new Xn(e,r,a)}static isValidIdentifier(e){return Fr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const y=()=>{if(0===a.length)throw new st(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new st(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new st(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=F,h+=2}else"`"===R?(b=!b,h++):"."!==R||b?(a+=R,h++):(y(),h++)}if(y(),b)throw new st(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(r)}static emptyPath(){return new Xn([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(an.fromString(e))}static fromName(e){return new $t(an.fromString(e).popFirst(5))}static empty(){return new $t(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return an.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new an(e.slice()))}}class wn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function $n(d){return d.fields.find(e=>2===e.kind)}function Dn(d){return d.fields.filter(e=>2!==e.kind)}wn.UNKNOWN_ID=-1;class xr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Gn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Gn(0,fn.min())}}function hi(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=Bt.fromTimestamp(1e9===a?new zt(r+1,0):new zt(r,a));return new fn(h,$t.empty(),e)}function ms(d){return new fn(d.readTime,d.key,-1)}class fn{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new fn(Bt.min(),$t.empty(),-1)}static max(){return new fn(Bt.max(),$t.empty(),-1)}}function ni(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=$t.comparator(d.documentKey,e.documentKey),0!==r?r:Jt(d.largestBatchId,e.largestBatchId))}const er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ar{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Hn(d){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,o.A)(function*(d){if(d.code!==Pe.FAILED_PRECONDITION||d.message!==er)throw d;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ot((a,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(a,h)},this.catchCallback=y=>{this.wrapFailure(r,y).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ot?r:ot.resolve(r)}catch(r){return ot.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ot.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ot.reject(r)}static resolve(e){return new ot((r,a)=>{r(e)})}static reject(e){return new ot((r,a)=>{a(e)})}static waitFor(e){return new ot((r,a)=>{let h=0,y=0,b=!1;e.forEach(R=>{++h,R.next(()=>{++y,b&&y===h&&r()},F=>a(F))}),b=!0,y===h&&r()})}static or(e){let r=ot.resolve(!1);for(const a of e)r=r.next(h=>h?ot.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,y)=>{a.push(r.call(this,h,y))}),this.waitFor(a)}static mapArray(e,r){return new ot((a,h)=>{const y=e.length,b=new Array(y);let R=0;for(let F=0;F<y;F++){const W=F;r(e[W]).next(oe=>{b[W]=oe,++R,R===y&&a(b)},oe=>h(oe))}})}static doWhile(e,r){return new ot((a,h)=>{const y=()=>{!0===e()?r().next(()=>{y()},h):a()};y()})}}class Et{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new en,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new qt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=He(a.target.error);this.V.reject(new qt(e,h))}}static open(e,r,a,h){try{return new Et(r,e.transaction(h,a))}catch(y){throw new qt(r,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Kt(r)}}class ce{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===ce.S((0,ge.ZQ)())&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),_e(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ge.zW)())return!1;if(ce.v())return!0;const e=(0,ge.ZQ)(),r=ce.S(e),a=0<r&&r<10,h=xe(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(Ie("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const y=indexedDB.open(r.name,r.version);y.onsuccess=b=>{a(b.target.result)},y.onblocked=()=>{h(new qt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=b=>{const R=b.target.error;h("VersionError"===R.name?new st(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new st(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new qt(e,R))},y.onupgradeneeded=b=>{Ie("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,y.transaction,b.oldVersion,r.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var y=this;return(0,o.A)(function*(){const b="readonly"===r;let R=0;for(;;){++R;try{y.db=yield y.M(e);const F=Et.open(y.db,e,b?"readonly":"readwrite",a),W=h(F).next(oe=>(F.g(),oe)).catch(oe=>(F.abort(oe),ot.reject(oe))).toPromise();return W.catch(()=>{}),yield F.m,W}catch(F){const W=F,oe="FirebaseError"!==W.name&&R<3;if(Ie("SimpleDb","Transaction failed with error:",W.message,"Retrying:",oe),y.close(),!oe)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xe(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class At{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return _e(this.B.delete())}}class qt extends st{constructor(e,r){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ve(d){return"IndexedDbTransactionError"===d.name}class Kt{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(Ie("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),_e(a)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),_e(this.store.add(e))}get(e){return _e(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ie("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),_e(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),_e(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(a.range);return new ot((b,R)=>{y.onerror=F=>{R(F.target.error)},y.onsuccess=F=>{b(F.target.result)}})}{const y=this.cursor(a),b=[];return this.W(y,(R,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new ot((h,y)=>{a.onerror=b=>{y(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){Ie("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(y,b,R)=>R.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new ot((a,h)=>{r.onerror=y=>{const b=He(y.target.error);h(b)},r.onsuccess=y=>{const b=y.target.result;b?e(b.primaryKey,b.value).next(R=>{R?b.continue():a()}):a()}})}W(e,r){const a=[];return new ot((h,y)=>{e.onerror=b=>{y(b.target.error)},e.onsuccess=b=>{const R=b.target.result;if(!R)return void h();const F=new At(R),W=r(R.primaryKey,R.value,F);if(W instanceof ot){const oe=W.catch(ye=>(F.done(),ot.reject(ye)));a.push(oe)}F.isDone?h():null===F.K?R.continue():R.continue(F.K)}}).next(()=>ot.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function _e(d){return new ot((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=He(a.target.error);r(h)}})}let ft=!1;function He(d){const e=ce.S((0,ge.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ft||(ft=!0,setTimeout(()=>{throw a},0)),a}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Ve(a)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Hn(a)}yield r.X(6e4)}))}}class x{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,y=!0;return ot.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return Ie("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(R=>{h-=R,a.add(b)});y=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(y=>{const b=y.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,y)).next(R=>(Ie("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,r,R))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,y)=>{const b=ms(y);ni(b,a)>0&&(a=b)}),new fn(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function re(d){return null==d}function fe(d){return 0===d&&1/d==-1/0}function dt(d){return"number"==typeof d&&Number.isInteger(d)&&!fe(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function xt(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=pn(e)),e=ln(d.get(r),e);return pn(e)}function ln(d,e){let r=e;const a=d.length;for(let h=0;h<a;h++){const y=d.charAt(h);switch(y){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=y}}return r}function pn(d){return d+"\x01\x01"}function Sn(d){const e=d.length;if(Pt(e>=2),2===e)return Pt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),an.emptyPath();const r=e-2,a=[];let h="";for(let y=0;y<e;){const b=d.indexOf("\x01",y);switch((b<0||b>r)&&Qe(),d.charAt(b+1)){case"\x01":const R=d.substring(y,b);let F;0===h.length?F=R:(h+=R,F=h,h=""),a.push(F);break;case"\x10":h+=d.substring(y,b),h+="\0";break;case"\x11":h+=d.substring(y,b+1);break;default:Qe()}y=b+2}return new an(a)}const Ir=["userId","batchId"];function cn(d,e){return[d,xt(e)]}function Wr(d,e,r){return[d,xt(e),r]}const dr={},Bs=["prefixPath","collectionGroup","readTime","documentId"],xi=["prefixPath","collectionGroup","documentId"],_s=["collectionGroup","readTime","prefixPath","documentId"],ys=["canonicalId","targetId"],gi=["targetId","path"],lr=["path","targetId"],Gi=["collectionId","parent"],bt=["indexId","uid"],ct=["uid","sequenceNumber"],Ft=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],un=["indexId","uid","orderedDocumentKey"],zn=["userId","collectionPath","documentId"],Ln=["userId","collectionPath","largestBatchId"],mr=["userId","collectionGroup","largestBatchId"],kr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kr=[...kr,"documentOverlays"],Sr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],es=Sr,xs=[...es,"indexConfiguration","indexState","indexEntries"],ts=xs,mo=[...xs,"globals"];class oo extends Ar{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Li(d,e){const r=at(d);return ce.F(r._e,e)}function Wo(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function ci(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function vs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Xr{constructor(e,r){this.comparator=e,this.root=r||Ai.EMPTY}insert(e,r){return new Xr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ji(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ji(this.root,e,this.comparator,!1)}getReverseIterator(){return new ji(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ji(this.root,e,this.comparator,!0)}}class ji{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=r?a(e.key,r):1,r&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,r,a,h,y){this.key=e,this.value=r,this.color=a??Ai.RED,this.left=h??Ai.EMPTY,this.right=y??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,y){return new Ai(e??this.key,r??this.value,a??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const y=a(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===y?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Ai.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1,Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(e,r,a,h,y){return this}insert(e,r,a){return new Ai(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rr{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ao(this.data.getIterator())}getIteratorFrom(e){return new ao(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Rr(this.comparator);return r.data=e,r}}class ao{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ko(d){return d.hasNext()?d.getNext():void 0}class fi{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new fi([])}unionWith(e){let r=new Rr(Xn.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new fi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return jn(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class Ma extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Xa(){return typeof atob<"u"}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Ma("Invalid base64 string: "+y):y}}(e);return new Ci(r)}static fromUint8Array(e){const r=function(h){let y="";for(let b=0;b<h.length;++b)y+=String.fromCharCode(h[b]);return y}(e);return new Ci(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const ba=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(d){if(Pt(!!d),"string"==typeof d){let e=0;const r=ba.exec(d);if(Pt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ri(d.seconds),nanos:ri(d.nanos)}}function ri(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function js(d){return"string"==typeof d?Ci.fromBase64String(d):Ci.fromUint8Array(d)}function $s(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function _o(d){const e=d.mapValue.fields.__previous_value__;return $s(e)?_o(e):e}function Ei(d){const e=Xs(d.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}class tr{constructor(e,r,a,h,y,b,R,F,W){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=y,this.forceLongPolling=b,this.autoDetectLongPolling=R,this.longPollingOptions=F,this.useFetchStreams=W}}class Dr{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Dr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dr&&e.projectId===this.projectId&&e.database===this.database}}const Pr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},us={nullValue:"NULL_VALUE"};function Gr(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?$s(d)?4:Qn(d)?9007199254740991:ss(d)?10:11:Qe()}function Mi(d,e){if(d===e)return!0;const r=Gr(d);if(r!==Gr(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return Ei(d).isEqual(Ei(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const b=Xs(h.timestampValue),R=Xs(y.timestampValue);return b.seconds===R.seconds&&b.nanos===R.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,js(d.bytesValue).isEqual(js(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return ri(h.geoPointValue.latitude)===ri(y.geoPointValue.latitude)&&ri(h.geoPointValue.longitude)===ri(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ri(h.integerValue)===ri(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const b=ri(h.doubleValue),R=ri(y.doubleValue);return b===R?fe(b)===fe(R):isNaN(b)&&isNaN(R)}return!1}(d,e);case 9:return jn(d.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(h,y){const b=h.mapValue.fields||{},R=y.mapValue.fields||{};if(Wo(b)!==Wo(R))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===R[F]||!Mi(b[F],R[F])))return!1;return!0}(d,e);default:return Qe()}var y}function Ts(d,e){return void 0!==(d.values||[]).find(r=>Mi(r,e))}function zi(d,e){if(d===e)return 0;const r=Gr(d),a=Gr(e);if(r!==a)return Jt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Jt(d.booleanValue,e.booleanValue);case 2:return function(y,b){const R=ri(y.integerValue||y.doubleValue),F=ri(b.integerValue||b.doubleValue);return R<F?-1:R>F?1:R===F?0:isNaN(R)?isNaN(F)?0:-1:1}(d,e);case 3:return ds(d.timestampValue,e.timestampValue);case 4:return ds(Ei(d),Ei(e));case 5:return Jt(d.stringValue,e.stringValue);case 6:return function(y,b){const R=js(y),F=js(b);return R.compareTo(F)}(d.bytesValue,e.bytesValue);case 7:return function(y,b){const R=y.split("/"),F=b.split("/");for(let W=0;W<R.length&&W<F.length;W++){const oe=Jt(R[W],F[W]);if(0!==oe)return oe}return Jt(R.length,F.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,b){const R=Jt(ri(y.latitude),ri(b.latitude));return 0!==R?R:Jt(ri(y.longitude),ri(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return rs(d.arrayValue,e.arrayValue);case 10:return function(y,b){var R,F,W,oe;const Ct=null===(R=(y.fields||{}).value)||void 0===R?void 0:R.arrayValue,Ht=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,dn=Jt((null===(W=Ct?.values)||void 0===W?void 0:W.length)||0,(null===(oe=Ht?.values)||void 0===oe?void 0:oe.length)||0);return 0!==dn?dn:rs(Ct,Ht)}(d.mapValue,e.mapValue);case 11:return function(y,b){if(y===Pr.mapValue&&b===Pr.mapValue)return 0;if(y===Pr.mapValue)return 1;if(b===Pr.mapValue)return-1;const R=y.fields||{},F=Object.keys(R),W=b.fields||{},oe=Object.keys(W);F.sort(),oe.sort();for(let ye=0;ye<F.length&&ye<oe.length;++ye){const Ke=Jt(F[ye],oe[ye]);if(0!==Ke)return Ke;const Ct=zi(R[F[ye]],W[oe[ye]]);if(0!==Ct)return Ct}return Jt(F.length,oe.length)}(d.mapValue,e.mapValue);default:throw Qe()}}function ds(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Jt(d,e);const r=Xs(d),a=Xs(e),h=Jt(r.seconds,a.seconds);return 0!==h?h:Jt(r.nanos,a.nanos)}function rs(d,e){const r=d.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const y=zi(r[h],a[h]);if(y)return y}return Jt(r.length,a.length)}function Qr(d){return _n(d)}function _n(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=Xs(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?js(d.bytesValue).toBase64():"referenceValue"in d?$t.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",h=!0;for(const y of r.values||[])h?h=!1:a+=",",a+=_n(y);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",y=!0;for(const b of a)y?y=!1:h+=",",h+=`${b}:${_n(r.fields[b])}`;return h+"}"}(d.mapValue):Qe()}function hr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Wi(d){return!!d&&"integerValue"in d}function is(d){return!!d&&"arrayValue"in d}function Oi(d){return!!d&&"nullValue"in d}function Hs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Jr(d){return!!d&&"mapValue"in d}function ss(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Is(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return ci(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=Is(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Is(d.arrayValue.values[r]);return e}return Object.assign({},d)}function Qn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const hs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ki(d){return"nullValue"in d?us:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?hr(Dr.empty(),$t.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?ss(d)?hs:{mapValue:{}}:Qe()}function Z(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?hr(Dr.empty(),$t.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?hs:"mapValue"in d?ss(d)?{mapValue:{}}:Pr:Qe()}function Q(d,e){const r=zi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Ce(d,e){const r=zi(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Ne{constructor(e){this.value=e}static empty(){return new Ne({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Jr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Is(r)}setAll(e){let r=Xn.emptyPath(),a={},h=[];e.forEach((b,R)=>{if(!r.isImmediateParentOf(R)){const F=this.getFieldsMap(r);this.applyChanges(F,a,h),a={},h=[],r=R.popLast()}b?a[R.lastSegment()]=Is(b):h.push(R.lastSegment())});const y=this.getFieldsMap(r);this.applyChanges(y,a,h)}delete(e){const r=this.field(e.popLast());Jr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];Jr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){ci(r,(h,y)=>e[h]=y);for(const h of a)delete e[h]}clone(){return new Ne(Is(this.value))}}function it(d){const e=[];return ci(d.fields,(r,a)=>{const h=new Xn([r]);if(Jr(a)){const y=it(a.mapValue).fields;if(0===y.length)e.push(h);else for(const b of y)e.push(h.child(b))}else e.push(h)}),new fi(e)}class It{constructor(e,r,a,h,y,b,R){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=y,this.data=b,this.documentState=R}static newInvalidDocument(e){return new It(e,0,Bt.min(),Bt.min(),Bt.min(),Ne.empty(),0)}static newFoundDocument(e,r,a,h){return new It(e,1,r,Bt.min(),a,h,0)}static newNoDocument(e,r){return new It(e,2,r,Bt.min(),Bt.min(),Ne.empty(),0)}static newUnknownDocument(e,r){return new It(e,3,r,Bt.min(),Bt.min(),Ne.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ne.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ne.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xt{constructor(e,r){this.position=e,this.inclusive=r}}function bn(d,e,r){let a=0;for(let h=0;h<d.position.length;h++){const y=e[h],b=d.position[h];if(a=y.field.isKeyField()?$t.comparator($t.fromName(b.referenceValue),r.key):zi(b,r.data.field(y.field)),"desc"===y.dir&&(a*=-1),0!==a)break}return a}function mn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!Mi(d.position[r],e.position[r]))return!1;return!0}class Wn{constructor(e,r="asc"){this.field=e,this.dir=r}}function yr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Vn{}class Un extends Vn{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new Lr(e,r,a):"array-contains"===r?new eo(e,a):"in"===r?new Ko(e,a):"not-in"===r?new Oa(e,a):"array-contains-any"===r?new Ta(e,a):new Un(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new yo(e,a):new Vi(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(zi(r,this.value)):null!==r&&Gr(this.value)===Gr(r)&&this.matchesComparison(zi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends Vn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Yn(e,r)}matches(e){return ui(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ui(d){return"and"===d.op}function Zr(d){return"or"===d.op}function qr(d){return Ki(d)&&ui(d)}function Ki(d){for(const e of d.filters)if(e instanceof Yn)return!1;return!0}function ei(d){if(d instanceof Un)return d.field.canonicalString()+d.op.toString()+Qr(d.value);if(qr(d))return d.filters.map(e=>ei(e)).join(",");{const e=d.filters.map(r=>ei(r)).join(",");return`${d.op}(${e})`}}function Cr(d,e){return d instanceof Un?(a=d,(h=e)instanceof Un&&a.op===h.op&&a.field.isEqual(h.field)&&Mi(a.value,h.value)):d instanceof Yn?function(a,h){return h instanceof Yn&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((y,b,R)=>y&&Cr(b,h.filters[R]),!0)}(d,e):void Qe();var a,h}function Di(d,e){const r=d.filters.concat(e);return Yn.create(r,d.op)}function Si(d){return d instanceof Un?`${(r=d).field.canonicalString()} ${r.op} ${Qr(r.value)}`:d instanceof Yn?function(r){return r.op.toString()+" {"+r.getFilters().map(Si).join(" ,")+"}"}(d):"Filter";var r}class Lr extends Un{constructor(e,r,a){super(e,r,a),this.key=$t.fromName(a.referenceValue)}matches(e){const r=$t.comparator(e.key,this.key);return this.matchesComparison(r)}}class yo extends Un{constructor(e,r){super(e,"in",r),this.keys=Zs(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Vi extends Un{constructor(e,r){super(e,"not-in",r),this.keys=Zs(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Zs(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>$t.fromName(a.referenceValue))}class eo extends Un{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return is(r)&&Ts(r.arrayValue,this.value)}}class Ko extends Un{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ts(this.value.arrayValue,r)}}class Oa extends Un{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ts(this.value.arrayValue,r)}}class Ta extends Un{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!is(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Ts(this.value.arrayValue,a))}}class jc{constructor(e,r=null,a=[],h=[],y=null,b=null,R=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=y,this.startAt=b,this.endAt=R,this.ue=null}}function Gs(d,e=null,r=[],a=[],h=null,y=null,b=null){return new jc(d,e,r,a,h,y,b)}function Cs(d){const e=at(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>ei(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(y=a).field.canonicalString()+y.dir;var y}).join(","),re(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Qr(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Qr(a)).join(",")),e.ue=r}return e.ue}function zs(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!yr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Cr(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!mn(d.startAt,e.startAt)&&mn(d.endAt,e.endAt)}function Qa(d){return $t.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function Na(d,e){return d.filters.filter(r=>r instanceof Un&&r.field.isEqual(e))}function bi(d,e,r){let a=us,h=!0;for(const y of Na(d,e)){let b=us,R=!0;switch(y.op){case"<":case"<=":b=ki(y.value);break;case"==":case"in":case">=":b=y.value;break;case">":b=y.value,R=!1;break;case"!=":case"not-in":b=us}Q({value:a,inclusive:h},{value:b,inclusive:R})<0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Q({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function Ia(d,e,r){let a=Pr,h=!0;for(const y of Na(d,e)){let b=Pr,R=!0;switch(y.op){case">=":case">":b=Z(y.value),R=!1;break;case"==":case"in":case"<=":b=y.value;break;case"<":b=y.value,R=!1;break;case"!=":case"not-in":b=Pr}Ce({value:a,inclusive:h},{value:b,inclusive:R})>0&&(a=b,h=R)}if(null!==r)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const b=r.position[y];Ce({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class vo{constructor(e,r=null,a=[],h=[],y=null,b="F",R=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=y,this.limitType=b,this.startAt=R,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function z(d,e,r,a,h,y,b,R){return new vo(d,e,r,a,h,y,b,R)}function ee(d){return new vo(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function le(d){return null!==d.collectionGroup}function je(d){const e=at(d);if(null===e.ce){e.ce=[];const r=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),r.add(y.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let R=new Rr(Xn.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(W=>{W.isInequality()&&(R=R.add(W.field))})}),R})(e).forEach(y=>{r.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Wn(y,a))}),r.has(Xn.keyField().canonicalString())||e.ce.push(new Wn(Xn.keyField(),a))}return e.ce}function yn(d){const e=at(d);return e.le||(e.le=function os(d,e){if("F"===d.limitType)return Gs(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Wn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Xt(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new Xt(d.startAt.position,d.startAt.inclusive):null;return Gs(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,je(d))),e.le}function Ms(d,e){const r=d.filters.concat([e]);return new vo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function fs(d,e,r){return new vo(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function Eo(d,e){return zs(yn(d),yn(e))&&d.limitType===e.limitType}function Ws(d){return`${Cs(yn(d))}|lt:${d.limitType}`}function as(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Si(h)).join(", ")}]`),re(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>Qr(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>Qr(h)).join(",")),`Target(${a})`}(yn(d))}; limitType=${d.limitType})`}function to(d,e){return e.isFoundDocument()&&function(a,h){const y=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(y):$t.isDocumentKey(a.path)?a.path.isEqual(y):a.path.isImmediateParentOf(y)}(d,e)&&function(a,h){for(const y of je(a))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(a,h){for(const y of a.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,R,F){const W=bn(b,R,F);return b.inclusive?W<=0:W<0}(a.startAt,je(a),h)||a.endAt&&!function(b,R,F){const W=bn(b,R,F);return b.inclusive?W>=0:W>0}(a.endAt,je(a),h)));var a,h}function ml(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function ws(d){return(e,r)=>{let a=!1;for(const h of je(d)){const y=oa(h,e,r);if(0!==y)return y;a=a||h.field.isKeyField()}return 0}}function oa(d,e,r){const a=d.field.isKeyField()?$t.comparator(e.key,r.key):function(y,b,R){const F=b.data.field(y),W=R.data.field(y);return null!==F&&null!==W?zi(F,W):Qe()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Qe()}}class qi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,y]of a)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(r,a)=>{for(const[h,y]of a)e(h,y)})}isEmpty(){return vs(this.inner)}size(){return this.innerSize}}const Zl=new Xr($t.comparator);function ls(){return Zl}const Fo=new Xr($t.comparator);function lo(...d){let e=Fo;for(const r of d)e=e.insert(r.key,r);return e}function Ca(d){let e=Fo;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function As(){return Aa()}function wa(){return Aa()}function Aa(){return new qi(d=>d.toString(),(d,e)=>d.isEqual(e))}const _l=new Xr($t.comparator),Ou=new Rr($t.comparator);function _r(...d){let e=Ou;for(const r of d)e=e.add(r);return e}const ec=new Rr(Jt);function bo(){return ec}function Lo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fe(e)?"-0":e}}function Ja(d){return{integerValue:""+d}}function tc(d,e){return dt(e)?Ja(e):Lo(d,e)}class yl{constructor(){this._=void 0}}function Uh(d,e,r){return d instanceof vl?function(h,y){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&$s(y)&&(y=_o(y)),y&&(b.fields.__previous_value__=y),{mapValue:b}}(r,e):d instanceof qo?nc(d,e):d instanceof Fa?Za(d,e):function(h,y){const b=Nu(h,y),R=tl(b)+tl(h.Pe);return Wi(b)&&Wi(h.Pe)?Ja(R):Lo(h.serializer,R)}(d,e)}function ka(d,e,r){return d instanceof qo?nc(d,e):d instanceof Fa?Za(d,e):r}function Nu(d,e){return d instanceof el?Wi(a=e)||(y=a)&&"doubleValue"in y?e:{integerValue:0}:null;var a,y}class vl extends yl{}class qo extends yl{constructor(e){super(),this.elements=e}}function nc(d,e){const r=rc(e);for(const a of d.elements)r.some(h=>Mi(h,a))||r.push(a);return{arrayValue:{values:r}}}class Fa extends yl{constructor(e){super(),this.elements=e}}function Za(d,e){let r=rc(e);for(const a of d.elements)r=r.filter(h=>!Mi(h,a));return{arrayValue:{values:r}}}class el extends yl{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function tl(d){return ri(d.integerValue||d.doubleValue)}function rc(d){return is(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class j{constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Se(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class St{}function Vt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Ds(d.key,Y.none()):new fr(d.key,d.data,Y.none());{const r=d.data,a=Ne.empty();let h=new Rr(Xn.comparator);for(let y of e.fields)if(!h.has(y)){let b=r.field(y);null===b&&y.length>1&&(y=y.popLast(),b=r.field(y)),null===b?a.delete(y):a.set(y,b),h=h.add(y)}return new si(d.key,a,new fi(h.toArray()),Y.none())}}function Pn(d,e,r){d instanceof fr?function(h,y,b){const R=h.value.clone(),F=wi(h.fieldTransforms,y,b.transformResults);R.setAll(F),y.convertToFoundDocument(b.version,R).setHasCommittedMutations()}(d,e,r):d instanceof si?function(h,y,b){if(!Se(h.precondition,y))return void y.convertToUnknownDocument(b.version);const R=wi(h.fieldTransforms,y,b.transformResults),F=y.data;F.setAll(Ti(h)),F.setAll(R),y.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Br(d,e,r,a){return d instanceof fr?function(y,b,R,F){if(!Se(y.precondition,b))return R;const W=y.value.clone(),oe=co(y.fieldTransforms,F,b);return W.setAll(oe),b.convertToFoundDocument(b.version,W).setHasLocalMutations(),null}(d,e,r,a):d instanceof si?function(y,b,R,F){if(!Se(y.precondition,b))return R;const W=co(y.fieldTransforms,F,b),oe=b.data;return oe.setAll(Ti(y)),oe.setAll(W),b.convertToFoundDocument(b.version,oe).setHasLocalMutations(),null===R?null:R.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(ye=>ye.field))}(d,e,r,a):(R=r,Se(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):R);var b,R}function pi(d,e){let r=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),y=Nu(a.transform,h||null);null!=y&&(null===r&&(r=Ne.empty()),r.set(a.field,y))}return r||null}function ii(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&jn(a,h,(y,b)=>function ne(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof qo&&h instanceof qo||a instanceof Fa&&h instanceof Fa?jn(a.elements,h.elements,Mi):a instanceof el&&h instanceof el?Mi(a.Pe,h.Pe):a instanceof vl&&h instanceof vl);var a,h}(y,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class fr extends St{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class si extends St{constructor(e,r,a,h,y=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Ti(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function wi(d,e,r){const a=new Map;Pt(d.length===r.length);for(let h=0;h<r.length;h++){const y=d[h],b=y.transform,R=e.data.field(y.field);a.set(y.field,ka(b,R,r[h]))}return a}function co(d,e,r){const a=new Map;for(const h of d){const y=h.transform,b=r.data.field(h.field);a.set(h.field,Uh(y,b,e))}return a}class Ds extends St{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Os extends St{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $i{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&Pn(y,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Br(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Br(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=wa();return this.mutations.forEach(h=>{const y=e.get(h.key),b=y.overlayedDocument;let R=this.applyToLocalView(b,y.mutatedFields);R=r.has(h.key)?null:R;const F=Vt(b,R);null!==F&&a.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(Bt.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),_r())}isEqual(e){return this.batchId===e.batchId&&jn(this.mutations,e.mutations,(r,a)=>ii(r,a))&&jn(this.baseMutations,e.baseMutations,(r,a)=>ii(r,a))}}class Qs{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){Pt(e.mutations.length===a.length);let h=_l;const y=e.mutations;for(let b=0;b<y.length;b++)h=h.insert(y[b].key,a[b].version);return new Qs(e,r,a,h)}}class Ni{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $c{constructor(e,r){this.count=e,this.unchangedNames=r}}var vr,Mr;function La(d){switch(d){default:return Qe();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function no(d){if(void 0===d)return Yt("GRPC error has no .code"),Pe.UNKNOWN;switch(d){case vr.OK:return Pe.OK;case vr.CANCELLED:return Pe.CANCELLED;case vr.UNKNOWN:return Pe.UNKNOWN;case vr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case vr.INTERNAL:return Pe.INTERNAL;case vr.UNAVAILABLE:return Pe.UNAVAILABLE;case vr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case vr.NOT_FOUND:return Pe.NOT_FOUND;case vr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case vr.ABORTED:return Pe.ABORTED;case vr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case vr.DATA_LOSS:return Pe.DATA_LOSS;default:return Qe()}}(Mr=vr||(vr={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";function Io(){return new TextEncoder}const Ns=new Be([4294967295,4294967295],0);function Fi(d){const e=Io().encode(d),r=new ke;return r.update(e),new Uint8Array(r.digest())}function ku(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Be([r,a],0),new Be([h,y],0)]}class Fu{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new aa(`Invalid padding: ${r}`);if(a<0)throw new aa(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new aa(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new aa(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Be.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(Be.fromNumber(a)));return 1===h.compare(Ns)&&(h=new Be([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Fi(e),[a,h]=ku(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),b=new Fu(y,h,r);return a.forEach(R=>b.insert(R)),b}insert(e){if(0===this.Ie)return;const r=Fi(e),[a,h]=ku(r);for(let y=0;y<this.hashCount;y++){const b=this.Ee(a,h,y);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ss{constructor(e,r,a,h,y){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,la.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new Ss(Bt.min(),h,new Xr(Jt),ls(),_r())}}class la{constructor(e,r,a,h,y){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new la(a,r,_r(),_r(),_r())}}class El{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class Lu{constructor(e,r){this.targetId=e,this.me=r}}class xd{constructor(e,r,a=Ci.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class Vu{constructor(){this.fe=0,this.ge=Gc(),this.pe=Ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_r(),r=_r(),a=_r();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:Qe()}}),new la(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=Gc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hc{constructor(e){this.Le=e,this.Be=new Map,this.ke=ls(),this.qe=pr(),this.Qe=new Xr(Jt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:Qe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const y=h.target;if(Qa(y))if(0===a){const b=new $t(y.path);this.Ue(r,b,It.newNoDocument(b,Bt.min()))}else Pt(1===a);else{const b=this.Ye(r);if(b!==a){const R=this.Ze(e),F=R?this.Xe(R,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:y=0}=r;let b,R;try{b=js(a).toUint8Array()}catch(F){if(F instanceof Ma)return gn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{R=new Fu(b,h,y)}catch(F){return gn(F instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===R.Ie?null:R}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(y=>{const b=this.Le.tt(),R=`projects/${b.projectId}/databases/${b.database}/documents/${y.path.canonicalString()}`;e.mightContain(R)||(this.Ue(r,y,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((y,b)=>{const R=this.Je(b);if(R){if(y.current&&Qa(R.target)){const F=new $t(R.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,It.newNoDocument(F,e))}y.be&&(r.set(b,y.ve()),y.Ce())}});let a=_r();this.qe.forEach((y,b)=>{let R=!0;b.forEachWhile(F=>{const W=this.Je(F);return!W||"TargetPurposeLimboResolution"===W.purpose||(R=!1,!1)}),R&&(a=a.add(y))}),this.ke.forEach((y,b)=>b.setReadTime(e));const h=new Ss(e,r,this.Qe,this.ke,a);return this.ke=ls(),this.qe=pr(),this.Qe=new Xr(Jt),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Vu,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Rr(Jt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vu),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function pr(){return new Xr($t.comparator)}function Gc(){return new Xr($t.comparator)}const zc={asc:"ASCENDING",desc:"DESCENDING"},ca={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ic={and:"AND",or:"OR"};class Uu{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Bu(d,e){return d.useProto3Json||re(e)?e:{value:e}}function Yo(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nn(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function sc(d,e){return Yo(d,e.toTimestamp())}function Yi(d){return Pt(!!d),Bt.fromTimestamp(function(r){const a=Xs(r);return new zt(a.seconds,a.nanos)}(d))}function nl(d,e){return Xo(d,e).canonicalString()}function Xo(d,e){const r=(h=d,new an(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Gt(d){const e=an.fromString(d);return Pt(w(e)),e}function Or(d,e){return nl(d.databaseId,e.path)}function ps(d,e){const r=Gt(e);if(r.get(1)!==d.databaseId.projectId)throw new st(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new st(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new $t(bl(r))}function Xi(d,e){return nl(d.databaseId,e)}function kn(d){const e=Gt(d);return 4===e.length?an.emptyPath():bl(e)}function Va(d){return new an(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function bl(d){return Pt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Qo(d,e,r){return{name:Or(d,e),fields:r.value.mapValue.fields}}function Tl(d,e,r){const a=ps(d,e.name),h=Yi(e.updateTime),y=e.createTime?Yi(e.createTime):Bt.min(),b=new Ne({mapValue:{fields:e.fields}}),R=It.newFoundDocument(a,h,y,b);return r&&R.setHasCommittedMutations(),r?R.setHasCommittedMutations():R}function Wc(d,e){let r;if(e instanceof fr)r={update:Qo(d,e.key,e.value)};else if(e instanceof Ds)r={delete:Or(d,e.key)};else if(e instanceof si)r={update:Qo(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof Os))return Qe();r={verify:Or(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(y,b){const R=b.transform;if(R instanceof vl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof qo)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Fa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof el)return{fieldPath:b.field.canonicalString(),increment:R.Pe};throw Qe()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:sc(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Qe()),r;var y}function rl(d,e){const r=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Y.updateTime(Yi(y.updateTime)):void 0!==y.exists?Y.exists(y.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,R){let F=null;"setToServerValue"in R?(Pt("REQUEST_TIME"===R.setToServerValue),F=new vl):"appendMissingElements"in R?F=new qo(R.appendMissingElements.values||[]):"removeAllFromArray"in R?F=new Fa(R.removeAllFromArray.values||[]):"increment"in R?F=new el(b,R.increment):Qe();const W=Xn.fromServerFormat(R.fieldPath);return new P(W,F)}(d,h)):[];var y;if(e.update){const h=ps(d,e.update.name),y=new Ne({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new fi((e.updateMask.fieldPaths||[]).map(oe=>Xn.fromServerFormat(oe)));return new si(h,y,b,r,a)}return new fr(h,y,r,a)}if(e.delete){const h=ps(d,e.delete);return new Ds(h,r)}if(e.verify){const h=ps(d,e.verify);return new Os(h,r)}return Qe()}function ho(d,e){return{documents:[Xi(d,e.path)]}}function il(d,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=Xi(d,h);const y=function(W){if(0!==W.length)return D(Yn.create(W,"and"))}(e.filters);y&&(r.structuredQuery.where=y);const b=function(W){if(0!==W.length)return W.map(oe=>{return{field:fo((Ke=oe).field),direction:Kf(Ke.dir)};var Ke})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const R=Bu(d,e.limit);return null!==R&&(r.structuredQuery.limit=R),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:h};var W}function Co(d){let e=kn(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){Pt(1===a);const oe=r.from[0];oe.allDescendants?h=oe.collectionId:e=e.child(oe.collectionId)}let y=[];r.where&&(y=function(ye){const Ke=oc(ye);return Ke instanceof Yn&&qr(Ke)?Ke.getFilters():[Ke]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(Ke=>{return new Wn(Il((Ht=Ke).field),function(rn){switch(rn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let R=null;r.limit&&(R=function(ye){let Ke;return Ke="object"==typeof ye?ye.value:ye,re(Ke)?null:Ke}(r.limit));let F=null;var ye;r.startAt&&(F=new Xt((ye=r.startAt).values||[],!!ye.before));let W=null;return r.endAt&&(W=function(ye){return new Xt(ye.values||[],!ye.before)}(r.endAt)),z(e,h,b,y,R,"F",F,W)}function oc(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Il(r.unaryFilter.field);return Un.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Il(r.unaryFilter.field);return Un.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Il(r.unaryFilter.field);return Un.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Il(r.unaryFilter.field);return Un.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}(d):void 0!==d.fieldFilter?Un.create(Il((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return Yn.create(r.compositeFilter.filters.map(a=>oc(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Qe()}}(r.compositeFilter.op))}(d):Qe();var r}function Kf(d){return zc[d]}function ac(d){return ca[d]}function $u(d){return ic[d]}function fo(d){return{fieldPath:d.canonicalString()}}function Il(d){return Xn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof Un?function(r){if("=="===r.op){if(Hs(r.value))return{unaryFilter:{field:fo(r.field),op:"IS_NAN"}};if(Oi(r.value))return{unaryFilter:{field:fo(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Hs(r.value))return{unaryFilter:{field:fo(r.field),op:"IS_NOT_NAN"}};if(Oi(r.value))return{unaryFilter:{field:fo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(r.field),op:ac(r.op),value:r.value}}}(d):d instanceof Yn?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:$u(r.op),filters:a}}}(d):Qe()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,a,h,y=Bt.min(),b=Bt.min(),R=Ci.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=R,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Re(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:wt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Or(y=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Yo(y,b.version.toTimestamp()),createTime:Yo(y,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:yt(e.version)};else{if(!e.isUnknownDocument())return Qe();a.unknownDocument={path:r.path.toArray(),version:yt(e.version)}}var y,b;return a}function wt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function yt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function In(d){const e=new zt(d.seconds,d.nanoseconds);return Bt.fromTimestamp(e)}function or(d,e){const r=(e.baseMutations||[]).map(y=>rl(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const a=e.mutations.map(y=>rl(d.ct,y)),h=zt.fromMillis(e.localWriteTimeMs);return new $i(e.batchId,h,r,a)}function wr(d){const e=In(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?In(d.lastLimboFreeSnapshotVersion):Bt.min();let a;return a=void 0!==d.query.documents?(Pt(1===(y=d.query).documents.length),yn(ee(kn(y.documents[0])))):function(y){return yn(Co(y))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,Ci.fromBase64String(d.resumeToken));var y}function jr(d,e){const r=yt(e.snapshotVersion),a=yt(e.lastLimboFreeSnapshotVersion);let h;h=Qa(e.target)?ho(d.ct,e.target):il(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cs(e.target),readTime:r,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Ur(d){const e=Co({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?fs(e,e.limit,"L"):e}function Ua(d,e){return new Ni(e.largestBatchId,rl(d.ct,e.overlayMutation))}function Cl(d,e){const r=e.path.lastSegment();return[d,xt(e.path.popLast()),r]}function lc(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:yt(a.readTime),documentKey:xt(a.documentKey.path),largestBatchId:a.largestBatchId}}class wl{getBundleMetadata(e,r){return ol(e).get(r).next(a=>{if(a)return{id:(y=a).bundleId,createTime:In(y.createTime),version:y.version};var y})}saveBundleMetadata(e,r){return ol(e).put({bundleId:(h=r).id,createTime:yt(Yi(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Al(e).get(r).next(a=>{if(a)return{name:(y=a).name,query:Ur(y.bundledQuery),readTime:In(y.readTime)};var y})}saveNamedQuery(e,r){return Al(e).put({name:(h=r).name,readTime:yt(Yi(h.readTime)),bundledQuery:h.bundledQuery});var h}}function ol(d){return Li(d,"bundles")}function Al(d){return Li(d,"namedQueries")}class Vo{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Vo(e,r.uid||"")}getOverlay(e,r){return wo(e).get(Cl(this.userId,r)).next(a=>a?Ua(this.serializer,a):null)}getOverlays(e,r){const a=As();return ot.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((y,b)=>{const R=new Ni(r,b);h.push(this.ht(e,R))}),ot.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(xt(b.getCollectionPath())));const y=[];return h.forEach(b=>{const R=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);y.push(wo(e).j("collectionPathOverlayIndex",R))}),ot.waitFor(y)}getOverlaysForCollection(e,r,a){const h=As(),y=xt(r),b=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,Number.POSITIVE_INFINITY],!0);return wo(e).U("collectionPathOverlayIndex",b).next(R=>{for(const F of R){const W=Ua(this.serializer,F);h.set(W.getKey(),W)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const y=As();let b;const R=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return wo(e).J({index:"collectionGroupOverlayIndex",range:R},(F,W,oe)=>{const ye=Ua(this.serializer,W);y.size()<h||ye.largestBatchId===b?(y.set(ye.getKey(),ye),b=ye.largestBatchId):oe.done()}).next(()=>y)}ht(e,r){return wo(e).put(function(h,y,b){const[R,F,W]=Cl(y,b.mutation.key);return{userId:y,collectionPath:F,documentId:W,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Wc(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function wo(d){return Li(d,"documentOverlays")}class Bh{Pt(e){return Li(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?Ci.fromUint8Array(a):Ci.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class ua{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(ri(e.integerValue));else if("doubleValue"in e){const a=ri(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),fe(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=Xs(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(js(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?Qn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):ss(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Qe()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const y=e.fields||{};this.dt(r,53);const b="value",R=(null===(h=null===(a=y[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(ri(R)),this.Vt(b,r),this.Tt(y[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),$t.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Kc(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Hu(d){const e=64-function(a){let h=0;for(let y=0;y<8;++y){const b=Kc(255&a[y]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}ua.vt=new ua;class Gu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=Hu(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=Hu(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(y){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,y,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class zu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Nd{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Wu{constructor(){this.jt=new Gu,this.Ht=new zu(this.jt),this.Jt=new Nd(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ao{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Ao(this.indexId,this.documentKey,this.arrayValue,a)}}function Do(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=Dl(d.arrayValue,e.arrayValue),0!==r?r:(r=Dl(d.directionalValue,e.directionalValue),0!==r?r:$t.comparator(d.documentKey,e.documentKey)))}function Dl(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class jh{constructor(e){this.Xt=new Rr((r,a)=>Xn.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Pt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=$n(e);if(void 0!==r&&!this.sn(r))return!1;const a=Dn(e);let h=new Set,y=0,b=0;for(;y<a.length&&this.sn(a[y]);++y)h=h.add(a[y].fieldPath.canonicalString());if(y===a.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!h.has(R.field.canonicalString())){const F=a[y];if(!this.on(R,F)||!this._n(this.en[b++],F))return!1}++y}for(;y<a.length;++y)if(b>=this.en.length||!this._n(this.en[b++],a[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Rr(Xn.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new xr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new xr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new xr(a.field,"asc"===a.dir?0:1)));return new wn(wn.UNKNOWN_ID,this.collectionId,r,Gn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function kd(d){var e,r;if(Pt(d instanceof Un||d instanceof Yn),d instanceof Un){if(d instanceof Ko){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(y=>Un.create(d.field,"==",y)))||[];return Yn.create(h,"or")}return d}const a=d.filters.map(h=>kd(h));return Yn.create(a,d.op)}function i_(d){if(0===d.getFilters().length)return[];const e=qf(kd(d));return Pt(Hh(e)),$h(e)||qc(e)?[e]:e.getFilters()}function $h(d){return d instanceof Un}function qc(d){return d instanceof Yn&&qr(d)}function Hh(d){return $h(d)||qc(d)||function(r){if(r instanceof Yn&&Zr(r)){for(const a of r.getFilters())if(!$h(a)&&!qc(a))return!1;return!0}return!1}(d)}function qf(d){if(Pt(d instanceof Un||d instanceof Yn),d instanceof Un)return d;if(1===d.filters.length)return qf(d.filters[0]);const e=d.filters.map(a=>qf(a));let r=Yn.create(e,d.op);return r=Fd(r),Hh(r)?r:(Pt(r instanceof Yn),Pt(ui(r)),Pt(r.filters.length>1),r.filters.reduce((a,h)=>Ku(a,h)))}function Ku(d,e){let r;return Pt(d instanceof Un||d instanceof Yn),Pt(e instanceof Un||e instanceof Yn),r=d instanceof Un?e instanceof Un?Yn.create([d,e],"and"):Sl(d,e):e instanceof Un?Sl(e,d):function(h,y){if(Pt(h.filters.length>0&&y.filters.length>0),ui(h)&&ui(y))return Di(h,y.getFilters());const b=Zr(h)?h:y,R=Zr(h)?y:h,F=b.filters.map(W=>Ku(W,R));return Yn.create(F,"or")}(d,e),Fd(r)}function Sl(d,e){if(ui(e))return Di(e,d.getFilters());{const r=e.filters.map(a=>Ku(d,a));return Yn.create(r,"or")}}function Fd(d){if(Pt(d instanceof Un||d instanceof Yn),d instanceof Un)return d;const e=d.getFilters();if(1===e.length)return Fd(e[0]);if(Ki(d))return d;const r=e.map(h=>Fd(h)),a=[];return r.forEach(h=>{h instanceof Un?a.push(h):h instanceof Yn&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Yn.create(a,d.op)}class cc{constructor(){this.un=new qu}addToCollectionParentIndex(e,r){return this.un.add(r),ot.resolve()}getCollectionParents(e,r){return ot.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ot.resolve()}deleteFieldIndex(e,r){return ot.resolve()}deleteAllFieldIndexes(e){return ot.resolve()}createTargetIndexes(e,r){return ot.resolve()}getDocumentsMatchingTarget(e,r){return ot.resolve(null)}getIndexType(e,r){return ot.resolve(0)}getFieldIndexes(e,r){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,r){return ot.resolve(fn.min())}getMinOffsetFromCollectionGroup(e,r){return ot.resolve(fn.min())}updateCollectionGroup(e,r,a){return ot.resolve()}updateIndexEntries(e,r){return ot.resolve()}}class qu{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Rr(an.comparator),y=!h.has(a);return this.index[r]=h.add(a),y}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Rr(an.comparator)).toArray()}}const al=new Uint8Array(0);class Yf{constructor(e,r){this.databaseId=r,this.cn=new qu,this.ln=new qi(a=>Cs(a),(a,h)=>zs(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const y={collectionId:a,parent:xt(h)};return uc(e).put(y)}return ot.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[xn(r),""],!1,!0);return uc(e).U(h).next(y=>{for(const b of y){if(b.collectionId!==r)break;a.push(Sn(b.parent))}return a})}addFieldIndex(e,r){const a=Ld(e),h={indexId:(R=r).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var R;delete h.indexId;const y=a.add(h);if(r.indexState){const b=Ks(e);return y.next(R=>{b.put(lc(R,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return y.next()}deleteFieldIndex(e,r){const a=Ld(e),h=Ks(e),y=Da(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Ld(e),a=Da(e),h=Ks(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return ot.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const y=new jh(a).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,r){const a=Da(e);let h=!0;const y=new Map;return ot.forEach(this.hn(r),b=>this.Pn(e,b).next(R=>{h&&(h=!!R),y.set(b,R)})).next(()=>{if(h){let b=_r();const R=[];return ot.forEach(y,(F,W)=>{var Jn;Ie("IndexedDbIndexManager",`Using index ${Jn=F,`id=${Jn.indexId}|cg=${Jn.collectionGroup}|f=${Jn.fields.map(Vr=>`${Vr.fieldPath}:${Vr.kind}`).join(",")}`} to execute ${Cs(r)}`);const oe=function(Jn,Vr){const Ri=$n(Vr);if(void 0===Ri)return null;for(const oi of Na(Jn,Ri.fieldPath))switch(oi.op){case"array-contains-any":return oi.value.arrayValue.values||[];case"array-contains":return[oi.value]}return null}(W,F),ye=function(Jn,Vr){const Ri=new Map;for(const oi of Dn(Vr))for(const ut of Na(Jn,oi.fieldPath))switch(ut.op){case"==":case"in":Ri.set(oi.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return Ri.set(oi.fieldPath.canonicalString(),ut.value),Array.from(Ri.values())}return null}(W,F),Ke=function(Jn,Vr){const Ri=[];let oi=!0;for(const ut of Dn(Vr)){const Le=0===ut.kind?bi(Jn,ut.fieldPath,Jn.startAt):Ia(Jn,ut.fieldPath,Jn.startAt);Ri.push(Le.value),oi&&(oi=Le.inclusive)}return new Xt(Ri,oi)}(W,F),Ct=function(Jn,Vr){const Ri=[];let oi=!0;for(const ut of Dn(Vr)){const Le=0===ut.kind?Ia(Jn,ut.fieldPath,Jn.endAt):bi(Jn,ut.fieldPath,Jn.endAt);Ri.push(Le.value),oi&&(oi=Le.inclusive)}return new Xt(Ri,oi)}(W,F),Ht=this.In(F,W,Ke),dn=this.In(F,W,Ct),rn=this.Tn(F,W,ye),Kn=this.En(F.indexId,oe,Ht,Ke.inclusive,dn,Ct.inclusive,rn);return ot.forEach(Kn,cr=>a.G(cr,r.limit).next(Jn=>{Jn.forEach(Vr=>{const Ri=$t.fromSegments(Vr.documentKey);b.has(Ri)||(b=b.add(Ri),R.push(Ri))})}))}).next(()=>R)}return ot.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:i_(Yn.create(e.filters,"and")).map(a=>Gs(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,y,b,R){const F=(null!=r?r.length:1)*Math.max(a.length,y.length),W=F/(null!=r?r.length:1),oe=[];for(let ye=0;ye<F;++ye){const Ke=r?this.dn(r[ye/W]):al,Ct=this.An(e,Ke,a[ye%W],h),Ht=this.Rn(e,Ke,y[ye%W],b),dn=R.map(rn=>this.An(e,Ke,rn,!0));oe.push(...this.createRange(Ct,Ht,dn))}return oe}An(e,r,a,h){const y=new Ao(e,$t.empty(),r,a);return h?y:y.Zt()}Rn(e,r,a,h){const y=new Ao(e,$t.empty(),r,a);return h?y.Zt():y}Pn(e,r){const a=new jh(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let b=null;for(const R of y)a.rn(R)&&(!b||R.fields.length>b.fields.length)&&(b=R);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return ot.forEach(h,y=>this.Pn(e,y).next(b=>{b?0!==a&&b.fields.length<function(F){let W=new Rr(Xn.comparator),oe=!1;for(const ye of F.filters)for(const Ke of ye.getFlattenedFilters())Ke.field.isKeyField()||("array-contains"===Ke.op||"array-contains-any"===Ke.op?oe=!0:W=W.add(Ke.field));for(const ye of F.orderBy)ye.field.isKeyField()||(W=W.add(ye.field));return W.size+(oe?1:0)}(y)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new Wu;for(const h of Dn(e)){const y=r.data.field(h.fieldPath);if(null==y)return null;const b=a.Yt(h.kind);ua.vt.It(y,b)}return a.zt()}dn(e){const r=new Wu;return ua.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new Wu;return ua.vt.It(hr(this.databaseId,r),a.Yt(function(y){const b=Dn(y);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new Wu);let y=0;for(const b of Dn(e)){const R=a[y++];for(const F of h)if(this.fn(r,b.fieldPath)&&is(R))h=this.gn(h,b,R);else{const W=F.Yt(b.kind);ua.vt.It(R,W)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],y=[];for(const b of a.arrayValue.values||[])for(const R of h){const F=new Wu;F.seed(R.zt()),ua.vt.It(b,F.Yt(r.kind)),y.push(F)}return y}fn(e,r){return!!e.filters.find(a=>a instanceof Un&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=Ld(e),h=Ks(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(y=>{const b=[];return ot.forEach(y,R=>h.get([R.indexId,this.uid]).next(F=>{b.push(function(oe,ye){const Ke=ye?new Gn(ye.sequenceNumber,new fn(In(ye.readTime),new $t(Sn(ye.documentKey)),ye.largestBatchId)):Gn.empty(),Ct=oe.fields.map(([Ht,dn])=>new xr(Xn.fromServerFormat(Ht),dn));return new wn(oe.indexId,oe.collectionGroup,Ct,Ke)}(R,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const y=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Jt(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=Ld(e),y=Ks(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(R=>ot.forEach(R,F=>y.put(lc(F.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return ot.forEach(r,(h,y)=>{const b=a.get(h.collectionGroup);return(b?ot.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),ot.forEach(R,F=>this.wn(e,h,F).next(W=>{const oe=this.Sn(y,F);return W.isEqual(oe)?ot.resolve():this.bn(e,y,F,W,oe)}))))})}Dn(e,r,a,h){return Da(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return Da(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=Da(e);let y=new Rr(Do);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,R)=>{y=y.add(new Ao(a.indexId,r,R.arrayValue,R.directionalValue))}).next(()=>y)}Sn(e,r){let a=new Rr(Do);const h=this.Vn(r,e);if(null==h)return a;const y=$n(r);if(null!=y){const b=e.data.field(y.fieldPath);if(is(b))for(const R of b.arrayValue.values||[])a=a.add(new Ao(r.indexId,e.key,this.dn(R),h))}else a=a.add(new Ao(r.indexId,e.key,al,h));return a}bn(e,r,a,h,y){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,W,oe,ye,Ke){const Ct=F.getIterator(),Ht=W.getIterator();let dn=ko(Ct),rn=ko(Ht);for(;dn||rn;){let Kn=!1,cr=!1;if(dn&&rn){const Jn=oe(dn,rn);Jn<0?cr=!0:Jn>0&&(Kn=!0)}else null!=dn?cr=!0:Kn=!0;Kn?(ye(rn),rn=ko(Ht)):cr?(Ke(dn),dn=ko(Ct)):(dn=ko(Ct),rn=ko(Ht))}}(h,y,Do,R=>{b.push(this.Dn(e,r,a,R))},R=>{b.push(this.vn(e,r,a,R))}),ot.waitFor(b)}yn(e){let r=1;return Ks(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,y)=>{y.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,R)=>Do(b,R)).filter((b,R,F)=>!R||0!==Do(b,F[R-1]));const h=[];h.push(e);for(const b of a){const R=Do(b,e),F=Do(b,r);if(0===R)h[0]=e.Zt();else if(R>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const y=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];y.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,al,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,al,[]]))}return y}Cn(e,r){return Do(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Vd)}getMinOffset(e,r){return ot.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||Qe())).next(Vd)}}function uc(d){return Li(d,"collectionParents")}function Da(d){return Li(d,"indexEntries")}function Ld(d){return Li(d,"indexConfiguration")}function Ks(d){return Li(d,"indexState")}function Vd(d){Pt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;ni(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new fn(e.readTime,e.documentKey,r)}const dc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gh(d,e,r){const a=d.store("mutations"),h=d.store("documentMutations"),y=[],b=IDBKeyRange.only(r.batchId);let R=0;const F=a.J({range:b},(oe,ye,Ke)=>(R++,Ke.delete()));y.push(F.next(()=>{Pt(1===R)}));const W=[];for(const oe of r.mutations){const ye=Wr(e,oe.key.path,r.batchId);y.push(h.delete(ye)),W.push(oe.key)}return ot.waitFor(y).next(()=>W)}function Rl(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Qe();e=d.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class hc{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){Pt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new hc(y,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uo(e).J({index:"userMutationsIndex",range:a},(h,y,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const y=Ba(e),b=Uo(e);return b.add({}).next(R=>{Pt("number"==typeof R);const F=new $i(R,r,a,h),W=function(Ct,Ht,dn){const rn=dn.baseMutations.map(cr=>Wc(Ct.ct,cr)),Kn=dn.mutations.map(cr=>Wc(Ct.ct,cr));return{userId:Ht,batchId:dn.batchId,localWriteTimeMs:dn.localWriteTime.toMillis(),baseMutations:rn,mutations:Kn}}(this.serializer,this.userId,F),oe=[];let ye=new Rr((Ke,Ct)=>Jt(Ke.canonicalString(),Ct.canonicalString()));for(const Ke of h){const Ct=Wr(this.userId,Ke.key.path,R);ye=ye.add(Ke.key.path.popLast()),oe.push(b.put(W)),oe.push(y.put(Ct,dr))}return ye.forEach(Ke=>{oe.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.Fn[R]=F.keys()}),ot.waitFor(oe).next(()=>F)})}lookupMutationBatch(e,r){return Uo(e).get(r).next(a=>a?(Pt(a.userId===this.userId),or(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?ot.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let y=null;return Uo(e).J({index:"userMutationsIndex",range:h},(b,R,F)=>{R.userId===this.userId&&(Pt(R.batchId>=a),y=or(this.serializer,R)),F.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Uo(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,y,b)=>{a=y.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uo(e).U("userMutationsIndex",r).next(a=>a.map(h=>or(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=cn(this.userId,r.path),h=IDBKeyRange.lowerBound(a),y=[];return Ba(e).J({range:h},(b,R,F)=>{const[W,oe,ye]=b,Ke=Sn(oe);if(W===this.userId&&r.path.isEqual(Ke))return Uo(e).get(ye).next(Ct=>{if(!Ct)throw Qe();Pt(Ct.userId===this.userId),y.push(or(this.serializer,Ct))});F.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Rr(Jt);const h=[];return r.forEach(y=>{const b=cn(this.userId,y.path),R=IDBKeyRange.lowerBound(b),F=Ba(e).J({range:R},(W,oe,ye)=>{const[Ke,Ct,Ht]=W,dn=Sn(Ct);Ke===this.userId&&y.path.isEqual(dn)?a=a.add(Ht):ye.done()});h.push(F)}),ot.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,y=cn(this.userId,a),b=IDBKeyRange.lowerBound(y);let R=new Rr(Jt);return Ba(e).J({range:b},(F,W,oe)=>{const[ye,Ke,Ct]=F,Ht=Sn(Ke);ye===this.userId&&a.isPrefixOf(Ht)?Ht.length===h&&(R=R.add(Ct)):oe.done()}).next(()=>this.xn(e,R))}xn(e,r){const a=[],h=[];return r.forEach(y=>{h.push(Uo(e).get(y).next(b=>{if(null===b)throw Qe();Pt(b.userId===this.userId),a.push(or(this.serializer,b))}))}),ot.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Gh(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),ot.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ot.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return Ba(e).J({range:a},(y,b,R)=>{if(y[0]===this.userId){const F=Sn(y[1]);h.push(F)}else R.done()}).next(()=>{Pt(0===h.length)})})}containsKey(e,r){return Yu(e,this.userId,r)}Nn(e){return Xu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yu(d,e,r){const a=cn(e,r.path),h=a[1],y=IDBKeyRange.lowerBound(a);let b=!1;return Ba(d).J({range:y,H:!0},(R,F,W)=>{const[oe,ye,Ke]=R;oe===e&&ye===h&&(b=!0),W.done()}).next(()=>b)}function Uo(d){return Li(d,"mutations")}function Ba(d){return Li(d,"documentMutations")}function Xu(d){return Li(d,"mutationQueues")}class Pl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pl(0)}static kn(){return new Pl(-1)}}class wg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new Pl(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Bt.fromTimestamp(new zt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Sa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>(Pt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const y=[];return Sa(e).J((b,R)=>{const F=wr(R);F.sequenceNumber<=r&&null===a.get(F.targetId)&&(h++,y.push(this.removeTargetData(e,F)))}).next(()=>ot.waitFor(y)).next(()=>h)}forEachTarget(e,r){return Sa(e).J((a,h)=>{const y=wr(h);r(y)})}qn(e){return xl(e).get("targetGlobalKey").next(r=>(Pt(null!==r),r))}Qn(e,r){return xl(e).put("targetGlobalKey",r)}Kn(e,r){return Sa(e).put(jr(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=Cs(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let y=null;return Sa(e).J({range:h,index:"queryTargetsIndex"},(b,R,F)=>{const W=wr(R);zs(r,W.target)&&(y=W,F.done())}).next(()=>y)}addMatchingKeys(e,r,a){const h=[],y=Ml(e);return r.forEach(b=>{const R=xt(b.path);h.push(y.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,b))}),ot.waitFor(h)}removeMatchingKeys(e,r,a){const h=Ml(e);return ot.forEach(r,y=>{const b=xt(y.path);return ot.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,y)])})}removeMatchingKeysForTargetId(e,r){const a=Ml(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=Ml(e);let y=_r();return h.J({range:a,H:!0},(b,R,F)=>{const W=Sn(b[1]),oe=new $t(W);y=y.add(oe)}).next(()=>y)}containsKey(e,r){const a=xt(r.path),h=IDBKeyRange.bound([a],[xn(a)],!1,!0);let y=0;return Ml(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,R],F,W)=>{0!==b&&(y++,W.done())}).next(()=>y>0)}ot(e,r){return Sa(e).get(r).next(a=>a?wr(a):null)}}function Sa(d){return Li(d,"targets")}function xl(d){return Li(d,"targetGlobal")}function Ml(d){return Li(d,"targetDocuments")}function fc([d,e],[r,a]){const h=Jt(d,r);return 0===h?Jt(e,a):h}class Xf{constructor(e){this.Un=e,this.buffer=new Rr(fc),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();fc(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ol{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Ve(a)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Hn(a)}yield r.Hn(3e5)}))}}class pc{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return ot.resolve(k.oe);const a=new Xf(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(dc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dc):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,y,b,R,F,W;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),h=this.params.maximumSequenceNumbersToCollect):h=ye,b=Date.now(),this.nthSequenceNumber(e,h))).next(ye=>(a=ye,R=Date.now(),this.removeTargets(e,a,r))).next(ye=>(y=ye,F=Date.now(),this.removeOrphanedDocuments(e,a))).next(ye=>(W=Date.now(),$e()<=ve.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-oe}ms\n\tDetermined least recently used ${h} in `+(R-b)+`ms\n\tRemoved ${y} targets in `+(F-R)+`ms\n\tRemoved ${ye} documents in `+(W-F)+`ms\nTotal Duration: ${W-oe}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:ye})))}}class Ag{constructor(e,r){this.db=e,this.garbageCollector=function qs(d,e){return new pc(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return Jo(e,a)}removeReference(e,r,a){return Jo(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return Jo(e,r)}nr(e,r){return function(h,y){let b=!1;return Xu(h).Y(R=>Yu(h,R,y).next(F=>(F&&(b=!0),ot.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(b,R)=>{if(R<=r){const F=this.nr(e,b).next(W=>{if(!W)return y++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Bt.min()),Ml(e).delete([0,xt(b.path)])))});h.push(F)}}).next(()=>ot.waitFor(h)).next(()=>a.apply(e)).next(()=>y)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return Jo(e,r)}tr(e,r){const a=Ml(e);let h,y=k.oe;return a.J({index:"documentTargetsIndex"},([b,R],{path:F,sequenceNumber:W})=>{0===b?(y!==k.oe&&r(new $t(Sn(h)),y),y=W,h=F):y=k.oe}).next(()=>{y!==k.oe&&r(new $t(Sn(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jo(d,e){return Ml(d).put((h=d.currentSequenceNumber,{targetId:0,path:xt(e.path),sequenceNumber:h}));var h}class Yc{constructor(){this.changes=new qi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?ot.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qf{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return Zo(e).put(a)}removeEntry(e,r,a){return Zo(e).delete(function(y,b){const R=y.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],wt(b),R[R.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=It.newInvalidDocument(r);return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(da(r))},(h,y)=>{a=this.ir(r,y)}).next(()=>a)}sr(e,r){let a={size:0,document:It.newInvalidDocument(r)};return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(da(r))},(h,y)=>{a={document:this.ir(r,y),size:Rl(y)}}).next(()=>a)}getEntries(e,r){let a=ls();return this._r(e,r,(h,y)=>{const b=this.ir(h,y);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=ls(),h=new Xr($t.comparator);return this._r(e,r,(y,b)=>{const R=this.ir(y,b);a=a.insert(y,R),h=h.insert(y,Rl(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return ot.resolve();let h=new Rr(Bd);r.forEach(F=>h=h.add(F));const y=IDBKeyRange.bound(da(h.first()),da(h.last())),b=h.getIterator();let R=b.getNext();return Zo(e).J({index:"documentKeyIndex",range:y},(F,W,oe)=>{const ye=$t.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;R&&Bd(R,ye)<0;)a(R,null),R=b.getNext();R&&R.isEqual(ye)&&(a(R,W),R=b.hasNext()?b.getNext():null),R?oe.$(da(R)):oe.done()}).next(()=>{for(;R;)a(R,null),R=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,y){const b=r.path,R=[b.popLast().toArray(),b.lastSegment(),wt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zo(e).U(IDBKeyRange.bound(R,F,!0)).next(W=>{y?.incrementDocumentReadCount(W.length);let oe=ls();for(const ye of W){const Ke=this.ir($t.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);Ke.isFoundDocument()&&(to(r,Ke)||h.has(Ke.key))&&(oe=oe.insert(Ke.key,Ke))}return oe})}getAllFromCollectionGroup(e,r,a,h){let y=ls();const b=zh(r,a),R=zh(r,fn.max());return Zo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,R,!0)},(F,W,oe)=>{const ye=this.ir($t.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);y=y.insert(ye.key,ye),y.size===h&&oe.done()}).next(()=>y)}newChangeBuffer(e){return new Ud(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Nl(e).get("remoteDocumentGlobalKey").next(r=>(Pt(!!r),r))}rr(e,r){return Nl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function ae(d,e){let r;if(e.document)r=Tl(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=$t.fromSegments(e.noDocument.path),h=In(e.noDocument.readTime);r=It.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qe();{const a=$t.fromSegments(e.unknownDocument.path),h=In(e.unknownDocument.version);r=It.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const y=new zt(h[0],h[1]);return Bt.fromTimestamp(y)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(Bt.min()))return a}return It.newInvalidDocument(e)}}function Qu(d){return new Qf(d)}class Ud extends Yc{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new qi(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Rr((y,b)=>Jt(y.canonicalString(),b.canonicalString()));return this.changes.forEach((y,b)=>{const R=this.lr.get(y);if(r.push(this.cr.removeEntry(e,y,R.readTime)),b.isValidDocument()){const F=Re(this.cr.serializer,b);h=h.add(y.path.popLast());const W=Rl(F);a+=W-R.size,r.push(this.cr.addEntry(e,y,F))}else if(a-=R.size,this.trackRemovals){const F=Re(this.cr.serializer,b.convertToNoDocument(Bt.min()));r.push(this.cr.addEntry(e,y,F))}}),h.forEach(y=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),r.push(this.cr.updateMetadata(e,a)),ot.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((y,b)=>{this.lr.set(y,{size:b,readTime:a.get(y).readTime})}),a))}}function Nl(d){return Li(d,"remoteDocumentGlobal")}function Zo(d){return Li(d,"remoteDocumentsV14")}function da(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zh(d,e){const r=e.documentKey.path.toArray();return[d,wt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Bd(d,e){const r=d.path.toArray(),a=e.path.toArray();let h=0;for(let y=0;y<r.length-2&&y<a.length-2;++y)if(h=Jt(r[y],a[y]),h)return h;return h=Jt(r.length,a.length),h||(h=Jt(r[r.length-2],a[a.length-2]),h||Jt(r[r.length-1],a[a.length-1]))}class Xc{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class jd{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&Br(a.mutation,h,fi.empty(),zt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,_r()).next(()=>a))}getLocalViewOfDocuments(e,r,a=_r()){const h=As();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(y=>{let b=lo();return y.forEach((R,F)=>{b=b.insert(R,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=As();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,_r()))}populateOverlays(e,r,a){const h=[];return a.forEach(y=>{r.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((b,R)=>{r.set(b,R)})})}computeViews(e,r,a,h){let y=ls();const b=Aa(),R=Aa();return r.forEach((F,W)=>{const oe=a.get(W.key);h.has(W.key)&&(void 0===oe||oe.mutation instanceof si)?y=y.insert(W.key,W):void 0!==oe?(b.set(W.key,oe.mutation.getFieldMask()),Br(oe.mutation,W,oe.mutation.getFieldMask(),zt.now())):b.set(W.key,fi.empty())}),this.recalculateAndSaveOverlays(e,y).next(F=>(F.forEach((W,oe)=>b.set(W,oe)),r.forEach((W,oe)=>{var ye;return R.set(W,new Xc(oe,null!==(ye=b.get(W))&&void 0!==ye?ye:null))}),R))}recalculateAndSaveOverlays(e,r){const a=Aa();let h=new Xr((b,R)=>b-R),y=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const R of b)R.keys().forEach(F=>{const W=r.get(F);if(null===W)return;let oe=a.get(F)||fi.empty();oe=R.applyToLocalView(W,oe),a.set(F,oe);const ye=(h.get(R.batchId)||_r()).add(F);h=h.insert(R.batchId,ye)})}).next(()=>{const b=[],R=h.getReverseIterator();for(;R.hasNext();){const F=R.getNext(),W=F.key,oe=F.value,ye=wa();oe.forEach(Ke=>{if(!y.has(Ke)){const Ct=Vt(r.get(Ke),a.get(Ke));null!==Ct&&ye.set(Ke,Ct),y=y.add(Ke)}}),b.push(this.documentOverlayCache.saveOverlays(e,W,ye))}return ot.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return $t.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):le(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(y=>{const b=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-y.size):ot.resolve(As());let R=-1,F=y;return b.next(W=>ot.forEach(W,(oe,ye)=>(R<ye.largestBatchId&&(R=ye.largestBatchId),y.get(oe)?ot.resolve():this.remoteDocumentCache.getEntry(e,oe).next(Ke=>{F=F.insert(oe,Ke)}))).next(()=>this.populateOverlays(e,W,y)).next(()=>this.computeViews(e,F,W,_r())).next(oe=>({batchId:R,changes:Ca(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $t(r)).next(a=>{let h=lo();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const y=r.collectionGroup;let b=lo();return this.indexManager.getCollectionParents(e,y).next(R=>ot.forEach(R,F=>{const W=(ye=r,Ke=F.child(y),new vo(Ke,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,Ke;return this.getDocumentsMatchingCollectionQuery(e,W,a,h).next(oe=>{oe.forEach((ye,Ke)=>{b=b.insert(ye,Ke)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(y=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,y,h))).next(b=>{y.forEach((F,W)=>{const oe=W.getKey();null===b.get(oe)&&(b=b.insert(oe,It.newInvalidDocument(oe)))});let R=lo();return b.forEach((F,W)=>{const oe=y.get(F);void 0!==oe&&Br(oe.mutation,W,fi.empty(),zt.now()),to(r,W)&&(R=R.insert(F,W))}),R})}}class Jf{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ot.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:Yi(h.createTime)}),ot.resolve();var h}getNamedQuery(e,r){return ot.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:Ur(h.bundledQuery),readTime:Yi(h.readTime)}),ot.resolve();var h}}class s_{constructor(){this.overlays=new Xr($t.comparator),this.Ir=new Map}getOverlay(e,r){return ot.resolve(this.overlays.get(r))}getOverlays(e,r){const a=As();return ot.forEach(r,h=>this.getOverlay(e,h).next(y=>{null!==y&&a.set(h,y)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,y)=>{this.ht(e,r,y)}),ot.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(a)),ot.resolve()}getOverlaysForCollection(e,r,a){const h=As(),y=r.length+1,b=new $t(r.child("")),R=this.overlays.getIteratorFrom(b);for(;R.hasNext();){const F=R.getNext().value,W=F.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===y&&F.largestBatchId>a&&h.set(F.getKey(),F)}return ot.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let y=new Xr((W,oe)=>W-oe);const b=this.overlays.getIterator();for(;b.hasNext();){const W=b.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>a){let oe=y.get(W.largestBatchId);null===oe&&(oe=As(),y=y.insert(W.largestBatchId,oe)),oe.set(W.getKey(),W)}}const R=As(),F=y.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((W,oe)=>R.set(W,oe)),!(R.size()>=h)););return ot.resolve(R)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new Ni(r,a));let y=this.Ir.get(r);void 0===y&&(y=_r(),this.Ir.set(r,y)),this.Ir.set(r,y.add(a.key))}}class Qc{constructor(){this.sessionToken=Ci.EMPTY_BYTE_STRING}getSessionToken(e){return ot.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ot.resolve()}}class Zf{constructor(){this.Tr=new Rr(Fs.Er),this.dr=new Rr(Fs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new Fs(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new Fs(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new $t(new an([])),a=new Fs(r,e),h=new Fs(r,e+1),y=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),y.push(b.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new $t(new an([])),a=new Fs(r,e),h=new Fs(r,e+1);let y=_r();return this.dr.forEachInRange([a,h],b=>{y=y.add(b.key)}),y}containsKey(e){const r=new Fs(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Fs{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return $t.comparator(e.key,r.key)||Jt(e.wr,r.wr)}static Ar(e,r){return Jt(e.wr,r.wr)||$t.comparator(e.key,r.key)}}class o_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Rr(Fs.Er)}checkEmpty(e){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const y=this.Sr;this.Sr++;const b=new $i(y,r,a,h);this.mutationQueue.push(b);for(const R of h)this.br=this.br.add(new Fs(R.key,y)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return ot.resolve(b)}lookupMutationBatch(e,r){return ot.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),y=h<0?0:h;return ot.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Fs(r,0),h=new Fs(r,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([a,h],b=>{const R=this.Dr(b.wr);y.push(R)}),ot.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Rr(Jt);return r.forEach(h=>{const y=new Fs(h,0),b=new Fs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,b],R=>{a=a.add(R.wr)})}),ot.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let y=a;$t.isDocumentKey(y)||(y=y.child(""));const b=new Fs(new $t(y),0);let R=new Rr(Jt);return this.br.forEachWhile(F=>{const W=F.key.path;return!!a.isPrefixOf(W)&&(W.length===h&&(R=R.add(F.wr)),!0)},b),ot.resolve(this.Cr(R))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){Pt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return ot.forEach(r.mutations,h=>{const y=new Fs(h.key,r.batchId);return a=a.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new Fs(r,0),h=this.br.firstAfterOrEqual(a);return ot.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return ot.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class a_{constructor(e){this.Mr=e,this.docs=new Xr($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),y=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-y,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return ot.resolve(a?a.document.mutableCopy():It.newInvalidDocument(r))}getEntries(e,r){let a=ls();return r.forEach(h=>{const y=this.docs.get(h);a=a.insert(h,y?y.document.mutableCopy():It.newInvalidDocument(h))}),ot.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let y=ls();const b=r.path,R=new $t(b.child("")),F=this.docs.getIteratorFrom(R);for(;F.hasNext();){const{key:W,value:{document:oe}}=F.getNext();if(!b.isPrefixOf(W.path))break;W.path.length>b.length+1||ni(ms(oe),a)<=0||(h.has(oe.key)||to(r,oe))&&(y=y.insert(oe.key,oe.mutableCopy()))}return ot.resolve(y)}getAllFromCollectionGroup(e,r,a,h){Qe()}Or(e,r){return ot.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new Jc(this)}getSize(e){return ot.resolve(this.size)}}class Jc extends Yc{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),ot.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class gc{constructor(e){this.persistence=e,this.Nr=new qi(r=>Cs(r),zs),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zf,this.targetCount=0,this.kr=Pl.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),ot.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Pl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ot.resolve()}updateTargetData(e,r){return this.Kn(r),ot.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,r,a){let h=0;const y=[];return this.Nr.forEach((b,R)=>{R.sequenceNumber<=r&&null===a.get(R.targetId)&&(this.Nr.delete(b),y.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),ot.waitFor(y).next(()=>h)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return ot.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),ot.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,y=[];return h&&r.forEach(b=>{y.push(h.markPotentiallyOrphaned(e,b))}),ot.waitFor(y)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ot.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return ot.resolve(a)}containsKey(e,r){return ot.resolve(this.Br.containsKey(r))}}class Wh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new Qc,this.referenceDelegate=e(this),this.Ur=new gc(this),this.indexManager=new cc,this.remoteDocumentCache=new a_(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(r),this.Gr=new Jf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new s_,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new o_(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ie("MemoryPersistence","Starting transaction:",e);const h=new Es(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,r){return ot.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class Es extends Ar{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.Jr=new Zf,this.Yr=null}static Zr(e){return new $d(e)}get Xr(){if(this.Yr)return this.Yr;throw Qe()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),ot.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),ot.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ot.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Xr,a=>{const h=$t.fromPath(a);return this.ei(e,h).next(y=>{y||r.removeEntry(h,Bt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ot.or([()=>ot.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Kh{constructor(e){this.serializer=e}O(e,r,a,h){const y=new Et("createOrUpgrade",r);var F;a<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ir,{unique:!0}),F.createObjectStore("documentMutations"),ea(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=ot.resolve();return a<3&&h>=3&&(0!==a&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),ea(e)),b=b.next(()=>function(F){const W=F.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",oe)}(y))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(F,W){return W.store("mutations").U().next(oe=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ir,{unique:!0});const ye=W.store("mutations"),Ke=oe.map(Ct=>ye.put(Ct));return ot.waitFor(Ke)})}(e,y))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(y))),a<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),a<7&&h>=7&&(b=b.next(()=>this.ii(y))),a<8&&h>=8&&(b=b.next(()=>this.si(e,y))),a<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(y))),a<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(F){const W=F.createObjectStore("documentOverlays",{keyPath:zn});W.createIndex("collectionPathOverlayIndex",Ln,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",mr,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(F){const W=F.createObjectStore("remoteDocumentsV14",{keyPath:Bs});W.createIndex("documentKeyIndex",xi),W.createIndex("collectionGroupIndex",_s)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,y))),a<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:bt}).createIndex("sequenceNumberIndex",ct,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Ft}).createIndex("documentKeyIndex",un,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=Rl(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>ot.forEach(h,y=>{const b=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(R=>ot.forEach(R,F=>{Pt(F.userId===y.userId);const W=or(this.serializer,F);return Gh(e,y.userId,W).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return a.J((b,R)=>{const F=new an(b),W=[0,xt(F)];y.push(r.get(W).next(oe=>oe?ot.resolve():r.put({targetId:0,path:xt(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ot.waitFor(y))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Gi});const a=r.store("collectionParents"),h=new qu,y=b=>{if(h.add(b)){const R=b.lastSegment(),F=b.popLast();return a.put({collectionId:R,parent:xt(F)})}};return r.store("remoteDocuments").J({H:!0},(b,R)=>{const F=new an(b);return y(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,R,F],W)=>{const oe=Sn(R);return y(oe.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const y=wr(h),b=jr(this.serializer,y);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((y,b)=>{const R=r.store("remoteDocumentsV14"),F=(ye=b,ye.document?new $t(an.fromString(ye.document.name).popFirst(5)):ye.noDocument?$t.fromSegments(ye.noDocument.path):ye.unknownDocument?$t.fromSegments(ye.unknownDocument.path):Qe()).path.toArray(),W={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;h.push(R.put(W))}).next(()=>ot.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=Qu(this.serializer),y=new Wh($d.Zr,this.serializer.ct);return a.U().next(b=>{const R=new Map;return b.forEach(F=>{var W;let oe=null!==(W=R.get(F.userId))&&void 0!==W?W:_r();or(this.serializer,F).keys().forEach(ye=>oe=oe.add(ye)),R.set(F.userId,oe)}),ot.forEach(R,(F,W)=>{const oe=new Ze(W),ye=Vo.lt(this.serializer,oe),Ke=y.getIndexManager(oe),Ct=hc.lt(oe,this.serializer,Ke,y.referenceDelegate);return new jd(h,Ct,ye,Ke).recalculateAndSaveOverlaysForDocumentKeys(new oo(r,k.oe),F).next()})})}}function ea(d){d.createObjectStore("targetDocuments",{keyPath:gi}).createIndex("documentTargetsIndex",lr,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ys,{unique:!0}),d.createObjectStore("targetGlobal")}const Fl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hd{constructor(e,r,a,h,y,b,R,F,W,oe,ye=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=y,this.window=b,this.document=R,this.ci=W,this.li=oe,this.hi=ye,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ke=>Promise.resolve(),!Hd.D())throw new st(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ag(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new ce(this.Ai,this.hi,new Kh(this.serializer)),this.$r=new Bh,this.Ur=new wg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qu(this.serializer),this.Gr=new wl,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===oe&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Pe.FAILED_PRECONDITION,Fl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Ve(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ll(e).get("owner").next(r=>ot.resolve(this.vi(r)))}Ci(e){return Vl(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Li(a,"clientMetadata");return h.U().next(y=>{const b=e.xi(y,18e5),R=y.filter(F=>-1===b.indexOf(F));return ot.forEach(R,F=>h.delete(F.clientId)).next(()=>R)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ot.resolve(!0):Ll(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new st(Pe.FAILED_PRECONDITION,Fl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vl(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Ie("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new oo(r,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Vl(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return hc.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Vo.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){Ie("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",y=17===(F=this.hi)?mo:16===F?ts:15===F?xs:14===F?es:13===F?Sr:12===F?Kr:11===F?kr:void Qe();var F;let b;return this.Ri.runTransaction(e,h,y,R=>(b=new oo(R,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new st(Pe.FAILED_PRECONDITION,er);return a(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>a(b)))).then(R=>(b.raiseOnCommittedEvent(),R))}Ki(e){return Ll(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new st(Pe.FAILED_PRECONDITION,Fl)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ll(e).put("owner",r)}static D(){return ce.D()}bi(e){const r=Ll(e);return r.get("owner").next(a=>this.vi(a)?(Ie("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ot.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(Yt(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,ge.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Yt("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ll(d){return Li(d,"owner")}function Vl(d){return Li(d,"clientMetadata")}function Gd(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class ep{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=_r(),h=_r();for(const y of r.docChanges)switch(y.type){case 0:a=a.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new ep(e,r.fromCache,a,h)}}class Dg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ge.nr)()?8:xe((0,ge.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const y={result:null};return this.Yi(e,r).next(b=>{y.result=b}).next(()=>{if(!y.result)return this.Zi(e,r,h,a).next(b=>{y.result=b})}).next(()=>{if(y.result)return;const b=new Dg;return this.Xi(e,r,b).next(R=>{if(y.result=R,this.zi)return this.es(e,r,b,R.size)})}).next(()=>y.result)}es(e,r,a,h){return a.documentReadCount<this.ji?($e()<=ve.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",as(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ot.resolve()):($e()<=ve.$b.DEBUG&&Ie("QueryEngine","Query:",as(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?($e()<=ve.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",as(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(r))):ot.resolve())}Yi(e,r){if(U(r))return ot.resolve(null);let a=yn(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=fs(r,null,"F"),a=yn(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(y=>{const b=_r(...y);return this.Ji.getDocuments(e,b).next(R=>this.indexManager.getMinOffset(e,a).next(F=>{const W=this.ts(r,R);return this.ns(r,W,b,F.readTime)?this.Yi(e,fs(r,null,"F")):this.rs(e,W,r,F)}))})))}Zi(e,r,a,h){return U(r)||h.isEqual(Bt.min())?ot.resolve(null):this.Ji.getDocuments(e,a).next(y=>{const b=this.ts(r,y);return this.ns(r,b,a,h)?ot.resolve(null):($e()<=ve.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),as(r)),this.rs(e,b,r,hi(h,-1)).next(R=>R))})}ts(e,r){let a=new Rr(ws(e));return r.forEach((h,y)=>{to(e,y)&&(a=a.add(y))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const y="F"===e.limitType?r.last():r.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,r,a){return $e()<=ve.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",as(r)),this.Ji.getDocumentsMatchingQuery(e,r,fn.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(y=>(r.forEach(b=>{y=y.insert(b.key,b)}),y))}}class ta{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Xr(Jt),this._s=new qi(y=>Cs(y),zs),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function na(d,e,r,a){return new ta(d,e,r,a)}function ja(d,e){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.A)(function*(d,e){const r=at(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(y=>(h=y,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(y=>{const b=[],R=[];let F=_r();for(const W of h){b.push(W.batchId);for(const oe of W.mutations)F=F.add(oe.key)}for(const W of y){R.push(W.batchId);for(const oe of W.mutations)F=F.add(oe.key)}return r.localDocuments.getDocuments(a,F).next(W=>({hs:W,removedBatchIds:b,addedBatchIds:R}))})})})).apply(this,arguments)}function Ju(d){const e=at(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Yh(d,e,r){let a=_r(),h=_r();return r.forEach(y=>a=a.add(y)),e.getEntries(d,a).next(y=>{let b=ls();return r.forEach((R,F)=>{const W=y.get(R);F.isFoundDocument()!==W.isFoundDocument()&&(h=h.add(R)),F.isNoDocument()&&F.version.isEqual(Bt.min())?(e.removeEntry(R,F.readTime),b=b.insert(R,F)):!W.isValidDocument()||F.version.compareTo(W.version)>0||0===F.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(F),b=b.insert(R,F)):Ie("LocalStore","Ignoring outdated watch update for ",R,". Current version:",W.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function Xh(d,e){const r=at(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Ul(d,e){const r=at(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(y=>y?(h=y,ot.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function Zu(d,e,r){return mc.apply(this,arguments)}function mc(){return(mc=(0,o.A)(function*(d,e,r){const a=at(d),h=a.os.get(e),y=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",y,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Ve(b))throw b;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function ll(d,e,r){const a=at(d);let h=Bt.min(),y=_r();return a.persistence.runTransaction("Execute query","readwrite",b=>function(F,W,oe){const ye=at(F),Ke=ye._s.get(oe);return void 0!==Ke?ot.resolve(ye.os.get(Ke)):ye.Ur.getTargetData(W,oe)}(a,b,yn(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,R.targetId).next(F=>{y=F})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:Bt.min(),r?y:_r())).next(R=>(Jh(a,ml(e),R),{documents:R,Ts:y})))}function Qh(d,e){const r=at(d),a=at(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",y=>a.ot(y,e).next(b=>b?b.target:null))}function Bl(d,e){const r=at(d),a=r.us.get(e)||Bt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,hi(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Jh(r,e,h),h))}function Jh(d,e,r){let a=d.us.get(e)||Bt.min();r.forEach((h,y)=>{y.readTime.compareTo(a)>0&&(a=y.readTime)}),d.us.set(e,a)}function Zh(){return(Zh=(0,o.A)(function*(d,e,r,a){const h=at(d);let y=_r(),b=ls();for(const W of r){const oe=e.Es(W.metadata.name);W.document&&(y=y.add(oe));const ye=e.ds(W);ye.setReadTime(e.As(W.metadata.readTime)),b=b.insert(oe,ye)}const R=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Ul(h,(oe=a,yn(ee(an.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",W=>Yh(W,R,b).next(oe=>(R.apply(W),oe)).next(oe=>h.Ur.removeMatchingKeysForTargetId(W,F.targetId).next(()=>h.Ur.addMatchingKeys(W,y,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(W,oe.Ps,oe.Is)).next(()=>oe.Ps)))})).apply(this,arguments)}function tp(d,e){return eu.apply(this,arguments)}function eu(){return(eu=(0,o.A)(function*(d,e,r=_r()){const a=yield Ul(d,yn(Ur(e.bundledQuery))),h=at(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const b=Yi(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(y,e);const R=a.withResumeToken(Ci.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(R.targetId,R),h.Ur.updateTargetData(y,R).next(()=>h.Ur.removeMatchingKeysForTargetId(y,a.targetId)).next(()=>h.Ur.addMatchingKeys(y,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function tu(d,e){return`firestore_clients_${d}_${e}`}function Wd(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function _c(d,e){return`firestore_targets_${d}_${e}`}class ed{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let y,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(y=new st(h.error.code,h.error.message))),b?new ed(e,r,h.state,y):(Yt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ra{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,y="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return y&&a.error&&(y="string"==typeof a.error.message&&"string"==typeof a.error.code,y&&(h=new st(a.error.code,a.error.message))),y?new Ra(e,a.state,h):(Yt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jl{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,y=bo();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=dt(a.activeTargetIds[b]),y=y.add(a.activeTargetIds[b]);return h?new jl(e,y):(Yt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class C{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new C(r.clientId,r.onlineState):(Yt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class g{constructor(){this.activeTargetIds=bo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,y){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Xr(Jt),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=tu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new g),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const y=e.getItem(tu(e.persistenceKey,h));if(y){const b=jl.Rs(h,y);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(_c(this.persistenceKey,e));if(h){const y=Ra.Rs(e,h);y&&(a=y.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_c(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ie("SharedClientState","READ",e,r),r}setItem(e,r){Ie("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(Ie("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let R=k.oe;if(null!=b)try{const F=JSON.parse(b);Pt("number"==typeof F),R=F}catch(F){Yt("SharedClientState","Failed to read sequence number from WebStorage",F)}return R}(a.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(y=>r.syncEngine.eo(y)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new ed(this.currentUser,e,r,a),y=Wd(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const r=Wd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=_c(this.persistenceKey,e),y=new Ra(e,r,a);this.setItem(h,y.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return jl.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return ed.Rs(new Ze(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return Ra.Rs(h,r)}Ls(e){return C.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(a),b=[],R=[];return y.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{y.has(F)||R.push(F)}),this.syncEngine.io(b,R).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=bo();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new g,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class de{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ye=null;function Rt(){return null===Ye?Ye=268435456+Math.round(2147483648*Math.random()):Ye++,"0x"+Ye.toString(16)}const Wt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const On="WebChannelConnection";class ti extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(r,a,h,y,b){const R=Rt(),F=this.xo(r,a.toUriEncodedString());Ie("RestConnection",`Sending RPC '${r}' ${R}:`,F,h);const W={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(W,y,b),this.No(r,F,W,h).then(oe=>(Ie("RestConnection",`Received RPC '${r}' ${R}: `,oe),oe),oe=>{throw gn("RestConnection",`RPC '${r}' ${R} failed with error: `,oe,"url: ",F,"request:",h),oe})}Lo(r,a,h,y,b,R){return this.Mo(r,a,h,y,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Oe,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((y,b)=>r[b]=y),h&&h.headers.forEach((y,b)=>r[b]=y)}xo(r,a){return`${this.Do}/v1/${a}:${Wt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const y=Rt();return new Promise((b,R)=>{const F=new he;F.setWithCredentials(!0),F.listenOnce(pt.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Tt.NO_ERROR:const oe=F.getResponseJson();Ie(On,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(oe)),b(oe);break;case Tt.TIMEOUT:Ie(On,`RPC '${e}' ${y} timed out`),R(new st(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Tt.HTTP_ERROR:const ye=F.getStatus();if(Ie(On,`RPC '${e}' ${y} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let Ke=F.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const Ct=Ke?.error;if(Ct&&Ct.status&&Ct.message){const Ht=function(rn){const Kn=rn.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(Kn)>=0?Kn:Pe.UNKNOWN}(Ct.status);R(new st(Ht,Ct.message))}else R(new st(Pe.UNKNOWN,"Server responded with status "+F.getStatus()))}else R(new st(Pe.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Ie(On,`RPC '${e}' ${y} completed.`)}});const W=JSON.stringify(h);Ie(On,`RPC '${e}' ${y} sending request:`,h),F.send(r,"POST",W,a,15)})}Bo(e,r,a){const h=Rt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=ze(),R=Qt(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(F.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,a),F.encodeInitMessageHeaders=!0;const oe=y.join("");Ie(On,`Creating RPC '${e}' stream ${h}: ${oe}`,F);const ye=b.createWebChannel(oe,F);let Ke=!1,Ct=!1;const Ht=new Mn({Io:rn=>{Ct?Ie(On,`Not sending because RPC '${e}' stream ${h} is closed:`,rn):(Ke||(Ie(On,`Opening RPC '${e}' stream ${h} transport.`),ye.open(),Ke=!0),Ie(On,`RPC '${e}' stream ${h} sending:`,rn),ye.send(rn))},To:()=>ye.close()}),dn=(rn,Kn,cr)=>{rn.listen(Kn,Jn=>{try{cr(Jn)}catch(Vr){setTimeout(()=>{throw Vr},0)}})};return dn(ye,Ge.EventType.OPEN,()=>{Ct||(Ie(On,`RPC '${e}' stream ${h} transport opened.`),Ht.yo())}),dn(ye,Ge.EventType.CLOSE,()=>{Ct||(Ct=!0,Ie(On,`RPC '${e}' stream ${h} transport closed`),Ht.So())}),dn(ye,Ge.EventType.ERROR,rn=>{Ct||(Ct=!0,gn(On,`RPC '${e}' stream ${h} transport errored:`,rn),Ht.So(new st(Pe.UNAVAILABLE,"The operation could not be completed")))}),dn(ye,Ge.EventType.MESSAGE,rn=>{var Kn;if(!Ct){const cr=rn.data[0];Pt(!!cr);const Vr=cr.error||(null===(Kn=cr[0])||void 0===Kn?void 0:Kn.error);if(Vr){Ie(On,`RPC '${e}' stream ${h} received error:`,Vr);const Ri=Vr.status;let oi=function(Je){const ht=vr[Je];if(void 0!==ht)return no(ht)}(Ri),ut=Vr.message;void 0===oi&&(oi=Pe.INTERNAL,ut="Unknown error status: "+Ri+" with message "+Vr.message),Ct=!0,Ht.So(new st(oi,ut)),ye.close()}else Ie(On,`RPC '${e}' stream ${h} received:`,cr),Ht.bo(cr)}}),dn(R,Nt.STAT_EVENT,rn=>{rn.stat===Mt.PROXY?Ie(On,`RPC '${e}' stream ${h} detected buffering proxy`):rn.stat===Mt.NOPROXY&&Ie(On,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Ht.wo()},0),Ht}}function Bo(){return typeof window<"u"?window:null}function ha(){return typeof document<"u"?document:null}function $l(d){return new Uu(d,!0)}class Kd{constructor(e,r,a=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&Ie("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class td{constructor(e,r,a,h,y,b,R,F){this.ui=e,this.Ho=a,this.Jo=h,this.connection=y,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=R,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Kd(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Yt(r.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===Pe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new st(Pe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nu extends td{constructor(e,r,a,h,y,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Md(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Qe(),h=e.targetChange.targetIds||[],y=function(W,oe){return W.useProto3Json?(Pt(void 0===oe||"string"==typeof oe),Ci.fromBase64String(oe||"")):(Pt(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array),Ci.fromUint8Array(oe||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,R=b&&function(W){const oe=void 0===W.code?Pe.UNKNOWN:no(W.code);return new st(oe,W.message||"")}(b);r=new xd(a,h,y,R||null)}else if("documentChange"in e){const a=e.documentChange,h=ps(d,a.document.name),y=Yi(a.document.updateTime),b=a.document.createTime?Yi(a.document.createTime):Bt.min(),R=new Ne({mapValue:{fields:a.document.fields}}),F=It.newFoundDocument(h,y,b,R);r=new El(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,h=ps(d,a.document),y=a.readTime?Yi(a.readTime):Bt.min(),b=It.newNoDocument(h,y);r=new El([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=ps(d,a.document);r=new El([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Qe();{const a=e.filter,{count:h=0,unchangedNames:y}=a,b=new $c(h,y);r=new Lu(a.targetId,b)}}var W;return r}(this.serializer,e),a=function(y){if(!("targetChange"in y))return Bt.min();const b=y.targetChange;return b.targetIds&&b.targetIds.length?Bt.min():b.readTime?Yi(b.readTime):Bt.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=Va(this.serializer),r.addTarget=function(y,b){let R;const F=b.target;if(R=Qa(F)?{documents:ho(y,F)}:{query:il(y,F)._t},R.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){R.resumeToken=nn(y,b.resumeToken);const W=Bu(y,b.expectedCount);null!==W&&(R.expectedCount=W)}else if(b.snapshotVersion.compareTo(Bt.min())>0){R.readTime=Yo(y,b.snapshotVersion.toTimestamp());const W=Bu(y,b.expectedCount);null!==W&&(R.expectedCount=W)}return R}(this.serializer,e);const a=function Od(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=Va(this.serializer),r.removeTarget=e,this.a_(r)}}class Pg extends td{constructor(e,r,a,h,y,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Rs(d,e){return d&&d.length>0?(Pt(void 0!==e),d.map(r=>function(h,y){let b=Yi(h.updateTime?h.updateTime:y);return b.isEqual(Bt.min())&&(b=Yi(y)),new j(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=Va(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>Wc(this.serializer,a))};this.a_(r)}}class np extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new st(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,b])=>this.connection.Mo(e,Xo(r,a),h,y,b)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new st(Pe.UNKNOWN,y.toString())})}Lo(e,r,a,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,R])=>this.connection.Lo(e,Xo(r,a),h,b,R,y)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new st(Pe.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yt(r),this.D_=!1):Ie("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class xg{constructor(e,r,a,h,y){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(R=>{a.enqueueAndForget((0,o.A)(function*(){var F;fa(b)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,o.A)(function*(oe){const ye=at(oe);ye.L_.add(4),yield Pa(ye),ye.q_.set("Unknown"),ye.L_.delete(4),yield ru(ye)}),function W(oe){return F.apply(this,arguments)})(b))}))}),this.q_=new qd(a,h)}}function ru(d){return ef.apply(this,arguments)}function ef(){return(ef=(0,o.A)(function*(d){if(fa(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Pa(d){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function tf(d,e){const r=at(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),nf(r)?rp(r):yc(r).r_()&&nd(r,e))}function So(d,e){const r=at(d),a=yc(r);r.N_.delete(e),a.r_()&&Mg(r,e),0===r.N_.size&&(a.r_()?a.o_():fa(r)&&r.q_.set("Unknown"))}function nd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}yc(d).A_(e)}function Mg(d,e){d.Q_.xe(e),yc(d).R_(e)}function rp(d){d.Q_=new Hc({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),yc(d).start(),d.q_.v_()}function nf(d){return fa(d)&&!yc(d).n_()&&d.N_.size>0}function fa(d){return 0===at(d).L_.size}function ip(d){d.Q_=void 0}function l_(d){return rd.apply(this,arguments)}function rd(){return(rd=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function sp(d){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,o.A)(function*(d){d.N_.forEach((e,r)=>{nd(d,e)})})).apply(this,arguments)}function xy(d,e){return op.apply(this,arguments)}function op(){return(op=(0,o.A)(function*(d,e){ip(d),nf(d)?(d.q_.M_(e),rp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function c_(d,e,r){return ap.apply(this,arguments)}function ap(){return ap=(0,o.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof xd&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(y,b){const R=b.cause;for(const F of b.targetIds)y.N_.has(F)&&(yield y.remoteSyncer.rejectListen(F,R),y.N_.delete(F),y.Q_.removeTarget(F))}),function h(y,b){return a.apply(this,arguments)})(d,e)}catch(a){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Qd(d,a)}else if(e instanceof El?d.Q_.Ke(e):e instanceof Lu?d.Q_.He(e):d.Q_.We(e),!r.isEqual(Bt.min()))try{const a=yield Ju(d.localStore);r.compareTo(a)>=0&&(yield function(y,b){const R=y.Q_.rt(b);return R.targetChanges.forEach((F,W)=>{if(F.resumeToken.approximateByteSize()>0){const oe=y.N_.get(W);oe&&y.N_.set(W,oe.withResumeToken(F.resumeToken,b))}}),R.targetMismatches.forEach((F,W)=>{const oe=y.N_.get(F);if(!oe)return;y.N_.set(F,oe.withResumeToken(Ci.EMPTY_BYTE_STRING,oe.snapshotVersion)),Mg(y,F);const ye=new N(oe.target,F,W,oe.sequenceNumber);nd(y,ye)}),y.remoteSyncer.applyRemoteEvent(R)}(d,r))}catch(a){Ie("RemoteStore","Failed to raise snapshot:",a),yield Qd(d,a)}var a}),ap.apply(this,arguments)}function Qd(d,e,r){return Og.apply(this,arguments)}function Og(){return(Og=(0,o.A)(function*(d,e,r){if(!Ve(e))throw e;d.L_.add(1),yield Pa(d),d.q_.set("Offline"),r||(r=()=>Ju(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield ru(d)}))})).apply(this,arguments)}function u_(d,e){return e().catch(r=>Qd(d,r,e))}function Jd(d){return lp.apply(this,arguments)}function lp(){return(lp=(0,o.A)(function*(d){const e=at(d),r=su(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iu(e);)try{const h=yield Xh(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,lE(e,h)}catch(h){yield Qd(e,h)}jo(e)&&cp(e)})).apply(this,arguments)}function iu(d){return fa(d)&&d.O_.length<10}function lE(d,e){d.O_.push(e);const r=su(d);r.r_()&&r.V_&&r.m_(e.mutations)}function jo(d){return fa(d)&&!su(d).n_()&&d.O_.length>0}function cp(d){su(d).start()}function d_(d){return rf.apply(this,arguments)}function rf(){return(rf=(0,o.A)(function*(d){su(d).p_()})).apply(this,arguments)}function $o(d){return id.apply(this,arguments)}function id(){return(id=(0,o.A)(function*(d){const e=su(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function h_(d,e,r){return up.apply(this,arguments)}function up(){return(up=(0,o.A)(function*(d,e,r){const a=d.O_.shift(),h=Qs.from(a,e,r);yield u_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Jd(d)})).apply(this,arguments)}function My(d,e){return dp.apply(this,arguments)}function dp(){return dp=(0,o.A)(function*(d,e){var r;e&&su(d).V_&&(yield(r=(0,o.A)(function*(h,y){if(La(R=y.code)&&R!==Pe.ABORTED){const b=h.O_.shift();su(h).s_(),yield u_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,y)),yield Jd(h)}var R}),function a(h,y){return r.apply(this,arguments)})(d,e)),jo(d)&&cp(d)}),dp.apply(this,arguments)}function f_(d,e){return hp.apply(this,arguments)}function hp(){return(hp=(0,o.A)(function*(d,e){const r=at(d);r.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const a=fa(r);r.L_.add(3),yield Pa(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield ru(r)})).apply(this,arguments)}function sf(d,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,o.A)(function*(d,e){const r=at(d);e?(r.L_.delete(2),yield ru(r)):e||(r.L_.add(2),yield Pa(r),r.q_.set("Unknown"))})).apply(this,arguments)}function yc(d){return d.K_||(d.K_=function(r,a,h){const y=at(r);return y.w_(),new nu(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:l_.bind(null,d),Ro:sp.bind(null,d),mo:xy.bind(null,d),d_:c_.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.K_.s_(),nf(d)?rp(d):d.q_.set("Unknown")):(yield d.K_.stop(),ip(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function su(d){return d.U_||(d.U_=function(r,a,h){const y=at(r);return y.w_(),new Pg(a,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:d_.bind(null,d),mo:My.bind(null,d),f_:$o.bind(null,d),g_:h_.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.U_.s_(),yield Jd(d)):(yield d.U_.stop(),d.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class Zd{constructor(e,r,a,h,y){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=y,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,y){const b=Date.now()+a,R=new Zd(e,r,b,h,y);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vc(d,e){if(Yt("AsyncQueue",`${e}: ${d}`),Ve(d))return new st(Pe.UNAVAILABLE,`${e}: ${d}`);throw d}class Hl{constructor(e){this.comparator=e?(r,a)=>e(r,a)||$t.comparator(r.key,a.key):(r,a)=>$t.comparator(r.key,a.key),this.keyedMap=lo(),this.sortedSet=new Xr(this.comparator)}static emptySet(e){return new Hl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,y=a.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Hl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class ou{constructor(){this.W_=new Xr($t.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Qe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class eh{constructor(e,r,a,h,y,b,R,F,W){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=R,this.excludesMetadataChanges=F,this.hasCachedResults=W}static fromInitialDocuments(e,r,a,h,y){const b=[];return r.forEach(R=>{b.push({type:0,doc:R})}),new eh(e,r,Hl.emptySet(r),b,a,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class Oy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class p_{constructor(){this.queries=Ng(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=at(r),y=h.queries;h.queries=Ng(),y.forEach((b,R)=>{for(const F of R.j_)F.onError(a)})}(this,new st(Pe.ABORTED,"Firestore shutting down"))}}function Ng(){return new qi(d=>Ws(d),Eo)}function pp(d,e){return au.apply(this,arguments)}function au(){return(au=(0,o.A)(function*(d,e){const r=at(d);let a=3;const h=e.query;let y=r.queries.get(h);y?!y.H_()&&e.J_()&&(a=2):(y=new Oy,a=e.J_()?0:1);try{switch(a){case 0:y.z_=yield r.onListen(h,!0);break;case 1:y.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const R=vc(b,`Initialization of query '${as(e.query)}' failed`);return void e.onError(R)}r.queries.set(h,y),y.j_.push(e),e.Z_(r.onlineState),y.z_&&e.X_(y.z_)&&Fg(r)})).apply(this,arguments)}function th(d,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,o.A)(function*(d,e){const r=at(d),a=e.query;let h=3;const y=r.queries.get(a);if(y){const b=y.j_.indexOf(e);b>=0&&(y.j_.splice(b,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function kg(d,e){const r=at(d);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const R of b.j_)R.X_(h)&&(a=!0);b.z_=h}}a&&Fg(r)}function mp(d,e,r){const a=at(d),h=a.queries.get(e);if(h)for(const y of h.j_)y.onError(r);a.queries.delete(e)}function Fg(d){d.Y_.forEach(e=>{e.next()})}var Lg,g_;(g_=Lg||(Lg={})).ea="default",g_.Cache="cache";class Vg{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new eh(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lg.Cache}}class Ny{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class sd{constructor(e){this.serializer=e}Es(e){return ps(this.serializer,e)}ds(e){return e.metadata.exists?Tl(this.serializer,e.document,!1):It.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Yi(e)}}class m_{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=af(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=an.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new sd(this.serializer);for(const h of e)if(h.metadata.queries){const y=a.Es(h.metadata.name);for(const b of h.metadata.queries){const R=(r.get(b)||_r()).add(y);r.set(b,R)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function Zc(d,e,r,a){return Zh.apply(this,arguments)}(e.localStore,new sd(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield tp(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function af(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class _p{constructor(e){this.key=e}}class yp{constructor(e){this.key=e}}class __{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_r(),this.mutatedKeys=_r(),this.Aa=ws(e),this.Ra=new Hl(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new ou,h=r?r.Ra:this.Ra;let y=r?r.mutatedKeys:this.mutatedKeys,b=h,R=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,W="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((oe,ye)=>{const Ke=h.get(oe),Ct=to(this.query,ye)?ye:null,Ht=!!Ke&&this.mutatedKeys.has(Ke.key),dn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let rn=!1;Ke&&Ct?Ke.data.isEqual(Ct.data)?Ht!==dn&&(a.track({type:3,doc:Ct}),rn=!0):this.ga(Ke,Ct)||(a.track({type:2,doc:Ct}),rn=!0,(F&&this.Aa(Ct,F)>0||W&&this.Aa(Ct,W)<0)&&(R=!0)):!Ke&&Ct?(a.track({type:0,doc:Ct}),rn=!0):Ke&&!Ct&&(a.track({type:1,doc:Ke}),rn=!0,(F||W)&&(R=!0)),rn&&(Ct?(b=b.add(Ct),y=dn?y.add(oe):y.delete(oe)):(b=b.delete(oe),y=y.delete(oe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const oe="F"===this.query.limitType?b.last():b.first();b=b.delete(oe.key),y=y.delete(oe.key),a.track({type:1,doc:oe})}return{Ra:b,fa:a,ns:R,mutatedKeys:y}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((oe,ye)=>function(Ct,Ht){const dn=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return dn(Ct)-dn(Ht)}(oe.type,ye.type)||this.Aa(oe.doc,ye.doc)),this.pa(a),h=null!=h&&h;const R=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,W=F!==this.Ea;return this.Ea=F,0!==b.length||W?{snapshot:new eh(this.query,e.Ra,y,b,e.mutatedKeys,0===F,W,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ou,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_r(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new yp(a))}),this.da.forEach(a=>{e.has(a)||r.push(new _p(a))}),r}ba(e){this.Ta=e.Ts,this.da=_r();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return eh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ug{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Bg{constructor(e){this.key=e,this.va=!1}}class ky{constructor(e,r,a,h,y,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new qi(R=>Ws(R),Eo),this.Ma=new Map,this.xa=new Set,this.Oa=new Xr($t.comparator),this.Na=new Map,this.La=new Zf,this.Ba={},this.ka=new Map,this.qa=Pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Ec(d,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,o.A)(function*(d,e,r=!0){const a=xp(d);let h;const y=a.Fa.get(e);return y?(a.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield Fy(a,e,r,!0),h})).apply(this,arguments)}function y_(d,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,o.A)(function*(d,e){const r=xp(d);yield Fy(r,e,!0,!1)})).apply(this,arguments)}function Fy(d,e,r,a){return nh.apply(this,arguments)}function nh(){return(nh=(0,o.A)(function*(d,e,r,a){const h=yield Ul(d.localStore,yn(e)),y=h.targetId,b=d.sharedClientState.addLocalQueryTarget(y,r);let R;return a&&(R=yield lu(d,e,y,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&tf(d.remoteStore,h),R})).apply(this,arguments)}function lu(d,e,r,a,h){return bp.apply(this,arguments)}function bp(){return bp=(0,o.A)(function*(d,e,r,a,h){d.Ka=(ye,Ke,Ct)=>{return(Ht=(0,o.A)(function*(rn,Kn,cr,Jn){let Vr=Kn.view.ma(cr);Vr.ns&&(Vr=yield ll(rn.localStore,Kn.query,!1).then(({documents:Le})=>Kn.view.ma(Le,Vr)));const Ri=Jn&&Jn.targetChanges.get(Kn.targetId),oi=Jn&&null!=Jn.targetMismatches.get(Kn.targetId),ut=Kn.view.applyChanges(Vr,rn.isPrimaryClient,Ri,oi);return du(rn,Kn.targetId,ut.wa),ut.snapshot}),function dn(rn,Kn,cr,Jn){return Ht.apply(this,arguments)})(d,ye,Ke,Ct);var Ht};const y=yield ll(d.localStore,e,!0),b=new __(e,y.Ts),R=b.ma(y.documents),F=la.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,h),W=b.applyChanges(R,d.isPrimaryClient,F);du(d,r,W.wa);const oe=new Ug(e,r,b);return d.Fa.set(e,oe),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),W.snapshot}),bp.apply(this,arguments)}function Tp(d,e,r){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,o.A)(function*(d,e,r){const a=at(d),h=a.Fa.get(e),y=a.Ma.get(h.targetId);if(y.length>1)return a.Ma.set(h.targetId,y.filter(b=>!Eo(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Zu(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&So(a.remoteStore,h.targetId),bc(a,h.targetId)}).catch(Hn))):(bc(a,h.targetId),yield Zu(a.localStore,h.targetId,!0))})).apply(this,arguments)}function Cp(d,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,o.A)(function*(d,e){const r=at(d),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),So(r.remoteStore,a.targetId))})).apply(this,arguments)}function od(){return(od=(0,o.A)(function*(d,e,r){const a=Qg(d);try{const h=yield function(b,R){const F=at(b),W=zt.now(),oe=R.reduce((Ct,Ht)=>Ct.add(Ht.key),_r());let ye,Ke;return F.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let Ht=ls(),dn=_r();return F.cs.getEntries(Ct,oe).next(rn=>{Ht=rn,Ht.forEach((Kn,cr)=>{cr.isValidDocument()||(dn=dn.add(Kn))})}).next(()=>F.localDocuments.getOverlayedDocuments(Ct,Ht)).next(rn=>{ye=rn;const Kn=[];for(const cr of R){const Jn=pi(cr,ye.get(cr.key).overlayedDocument);null!=Jn&&Kn.push(new si(cr.key,Jn,it(Jn.value.mapValue),Y.exists(!0)))}return F.mutationQueue.addMutationBatch(Ct,W,Kn,R)}).next(rn=>{Ke=rn;const Kn=rn.applyToLocalDocumentSet(ye,dn);return F.documentOverlayCache.saveOverlays(Ct,rn.batchId,Kn)})}).then(()=>({batchId:Ke.batchId,changes:Ca(ye)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,R,F){let W=b.Ba[b.currentUser.toKey()];W||(W=new Xr(Jt)),W=W.insert(R,F),b.Ba[b.currentUser.toKey()]=W}(a,h.batchId,r),yield Tc(a,h.changes),yield Jd(a.remoteStore)}catch(h){const y=vc(h,"Failed to persist write");r.reject(y)}})).apply(this,arguments)}function Hg(d,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,o.A)(function*(d,e){const r=at(d);try{const a=yield function Rg(d,e){const r=at(d),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const R=[];e.targetChanges.forEach((oe,ye)=>{const Ke=h.get(ye);if(!Ke)return;R.push(r.Ur.removeMatchingKeys(y,oe.removedDocuments,ye).next(()=>r.Ur.addMatchingKeys(y,oe.addedDocuments,ye)));let Ct=Ke.withSequenceNumber(y.currentSequenceNumber);var dn,rn,Kn;null!==e.targetMismatches.get(ye)?Ct=Ct.withResumeToken(Ci.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):oe.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(oe.resumeToken,a)),h=h.insert(ye,Ct),rn=Ct,Kn=oe,(0===(dn=Ke).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-dn.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&R.push(r.Ur.updateTargetData(y,Ct))});let F=ls(),W=_r();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&R.push(r.persistence.referenceDelegate.updateLimboDocument(y,oe))}),R.push(Yh(y,b,e.documentUpdates).next(oe=>{F=oe.Ps,W=oe.Is})),!a.isEqual(Bt.min())){const oe=r.Ur.getLastRemoteSnapshotVersion(y).next(ye=>r.Ur.setTargetsMetadata(y,y.currentSequenceNumber,a));R.push(oe)}return ot.waitFor(R).next(()=>b.apply(y)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,F,W)).next(()=>F)}).then(y=>(r.os=h,y))}(r.localStore,e);e.targetChanges.forEach((h,y)=>{const b=r.Na.get(y);b&&(Pt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Pt(b.va):h.removedDocuments.size>0&&(Pt(b.va),b.va=!1))}),yield Tc(r,a,e)}catch(a){yield Hn(a)}})).apply(this,arguments)}function cf(d,e,r){const a=at(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((y,b)=>{const R=b.view.Z_(e);R.snapshot&&h.push(R.snapshot)}),function(b,R){const F=at(b);F.onlineState=R;let W=!1;F.queries.forEach((oe,ye)=>{for(const Ke of ye.j_)Ke.Z_(R)&&(W=!0)}),W&&Fg(F)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function v_(d,e,r){return cu.apply(this,arguments)}function cu(){return(cu=(0,o.A)(function*(d,e,r){const a=at(d);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),y=h&&h.key;if(y){let b=new Xr($t.comparator);b=b.insert(y,It.newNoDocument(y,Bt.min()));const R=_r().add(y),F=new Ss(Bt.min(),new Map,new Xr(Jt),b,R);yield Hg(a,F),a.Oa=a.Oa.remove(y),a.Na.delete(e),Wg(a)}else yield Zu(a.localStore,e,!1).then(()=>bc(a,e,r)).catch(Hn)})).apply(this,arguments)}function uf(d,e){return E_.apply(this,arguments)}function E_(){return(E_=(0,o.A)(function*(d,e){const r=at(d),a=e.batch.batchId;try{const h=yield function qh(d,e){const r=at(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),y=r.cs.newChangeBuffer({trackRemovals:!0});return function(R,F,W,oe){const ye=W.batch,Ke=ye.keys();let Ct=ot.resolve();return Ke.forEach(Ht=>{Ct=Ct.next(()=>oe.getEntry(F,Ht)).next(dn=>{const rn=W.docVersions.get(Ht);Pt(null!==rn),dn.version.compareTo(rn)<0&&(ye.applyToRemoteDocument(dn,W),dn.isValidDocument()&&(dn.setReadTime(W.commitVersion),oe.addEntry(dn)))})}),Ct.next(()=>R.mutationQueue.removeMutationBatch(F,ye))}(r,a,e,y).next(()=>y.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(R){let F=_r();for(let W=0;W<R.mutationResults.length;++W)R.mutationResults[W].transformResults.length>0&&(F=F.add(R.batch.mutations[W].key));return F}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);Ap(r,a,null),wp(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield Tc(r,h)}catch(h){yield Hn(h)}})).apply(this,arguments)}function uu(d,e,r){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(d,e,r){const a=at(d);try{const h=yield function(b,R){const F=at(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let oe;return F.mutationQueue.lookupMutationBatch(W,R).next(ye=>(Pt(null!==ye),oe=ye.keys(),F.mutationQueue.removeMutationBatch(W,ye))).next(()=>F.mutationQueue.performConsistencyCheck(W)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(W,oe,R)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,oe)).next(()=>F.localDocuments.getDocuments(W,oe))})}(a.localStore,e);Ap(a,e,r),wp(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield Tc(a,h)}catch(h){yield Hn(h)}})).apply(this,arguments)}function zg(){return(zg=(0,o.A)(function*(d,e){const r=at(d);fa(r.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const R=at(b);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>R.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=vc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function wp(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Ap(d,e,r){const a=at(d);let h=a.Ba[a.currentUser.toKey()];if(h){const y=h.get(e);y&&(r?y.reject(r):y.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function bc(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),r&&d.Ca.$a(a,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||Dp(d,a)})}function Dp(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(So(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),Wg(d))}function du(d,e,r){for(const a of r)a instanceof _p?(d.La.addReference(a.key,e),b_(d,a)):a instanceof yp?(Ie("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||Dp(d,a.key)):Qe()}function b_(d,e){const r=e.key,a=r.path.canonicalString();d.Oa.get(r)||d.xa.has(a)||(Ie("SyncEngine","New document in limbo: "+r),d.xa.add(a),Wg(d))}function Wg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new $t(an.fromString(e)),a=d.qa.next();d.Na.set(a,new Bg(r)),d.Oa=d.Oa.insert(r,a),tf(d.remoteStore,new N(yn(ee(r.path)),a,"TargetPurposeLimboResolution",k.oe))}}function Tc(d,e,r){return df.apply(this,arguments)}function df(){return df=(0,o.A)(function*(d,e,r){const a=at(d),h=[],y=[],b=[];var R;a.Fa.isEmpty()||(a.Fa.forEach((R,F)=>{b.push(a.Ka(F,e,r).then(W=>{var oe;if((W||r)&&a.isPrimaryClient){const ye=W?!W.fromCache:null===(oe=r?.targetChanges.get(F.targetId))||void 0===oe?void 0:oe.current;a.sharedClientState.updateQueryState(F.targetId,ye?"current":"not-current")}if(W){h.push(W);const ye=ep.Wi(F.targetId,W);y.push(ye)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(R=(0,o.A)(function*(W,oe){const ye=at(W);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>ot.forEach(oe,Ct=>ot.forEach(Ct.$i,Ht=>ye.persistence.referenceDelegate.addReference(Ke,Ct.targetId,Ht)).next(()=>ot.forEach(Ct.Ui,Ht=>ye.persistence.referenceDelegate.removeReference(Ke,Ct.targetId,Ht)))))}catch(Ke){if(!Ve(Ke))throw Ke;Ie("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of oe){const Ct=Ke.targetId;if(!Ke.fromCache){const Ht=ye.os.get(Ct),rn=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);ye.os=ye.os.insert(Ct,rn)}}}),function F(W,oe){return R.apply(this,arguments)})(a.localStore,y))}),df.apply(this,arguments)}function Sp(d,e){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,o.A)(function*(d,e){const r=at(d);if(!r.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const a=yield ja(r.localStore,e);r.currentUser=e,(y=r).ka.forEach(R=>{R.forEach(F=>{F.reject(new st(Pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Tc(r,a.hs)}var y})).apply(this,arguments)}function ad(d,e){const r=at(d),a=r.Na.get(e);if(a&&a.va)return _r().add(a.key);{let h=_r();const y=r.Ma.get(e);if(!y)return h;for(const b of y){const R=r.Fa.get(b);h=h.unionWith(R.view.Va)}return h}}function rh(d,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,o.A)(function*(d,e){const r=at(d),a=yield ll(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&du(r,e.targetId,h.wa),h})).apply(this,arguments)}function Kg(d,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,o.A)(function*(d,e){const r=at(d);return Bl(r.localStore,e).then(a=>Tc(r,a))})).apply(this,arguments)}function Pp(d,e,r,a){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.A)(function*(d,e,r,a){const h=at(d),y=yield function(R,F){const W=at(R),oe=at(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ye=>oe.Mn(ye,F).next(Ke=>Ke?W.localDocuments.getDocuments(ye,Ke):ot.resolve(null)))}(h.localStore,e);var F;null!==y?("pending"===r?yield Jd(h.remoteStore):"acknowledged"===r||"rejected"===r?(Ap(h,e,a||null),wp(h,e),F=e,at(at(h.localStore).mutationQueue).On(F)):Qe(),yield Tc(h,y)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function qg(){return(qg=(0,o.A)(function*(d,e){const r=at(d);if(xp(r),Qg(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield Yg(r,a.toArray());r.Qa=!0,yield sf(r.remoteStore,!0);for(const y of h)tf(r.remoteStore,y)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((y,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(bc(r,b),Zu(r.localStore,b,!0))),So(r.remoteStore,b)}),yield h,yield Yg(r,a),function(b){const R=at(b);R.Na.forEach((F,W)=>{So(R.remoteStore,W)}),R.La.pr(),R.Na=new Map,R.Oa=new Xr($t.comparator)}(r),r.Qa=!1,yield sf(r.remoteStore,!1)}})).apply(this,arguments)}function Yg(d,e,r){return ff.apply(this,arguments)}function ff(){return(ff=(0,o.A)(function*(d,e,r){const a=at(d),h=[],y=[];for(const b of e){let R;const F=a.Ma.get(b);if(F&&0!==F.length){R=yield Ul(a.localStore,yn(F[0]));for(const W of F){const oe=a.Fa.get(W),ye=yield rh(a,oe);ye.snapshot&&y.push(ye.snapshot)}}else{const W=yield Qh(a.localStore,b);R=yield Ul(a.localStore,W),yield lu(a,T_(W),b,!1,R.resumeToken)}h.push(R)}return a.Ca.d_(y),h})).apply(this,arguments)}function T_(d){return z(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function pa(d){return r=at(d).localStore,at(at(r).persistence).Qi();var r}function ih(d,e,r,a){return I_.apply(this,arguments)}function I_(){return(I_=(0,o.A)(function*(d,e,r,a){const h=at(d);if(h.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(r){case"current":case"not-current":{const b=yield Bl(h.localStore,ml(y[0])),R=Ss.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Ci.EMPTY_BYTE_STRING);yield Tc(h,b,R);break}case"rejected":yield Zu(h.localStore,e,!0),bc(h,e,a);break;default:Qe()}})).apply(this,arguments)}function hu(d,e,r){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,o.A)(function*(d,e,r){const a=xp(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){Ie("SyncEngine","Adding an already active target "+h);continue}const y=yield Qh(a.localStore,h),b=yield Ul(a.localStore,y);yield lu(a,T_(y),b.targetId,!1,b.resumeToken),tf(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield Zu(a.localStore,h,!1).then(()=>{So(a.remoteStore,h),bc(a,h)}).catch(Hn))}})).apply(this,arguments)}function xp(d){const e=at(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ad.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v_.bind(null,e),e.Ca.d_=kg.bind(null,e.eventManager),e.Ca.$a=mp.bind(null,e.eventManager),e}function Qg(d){const e=at(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uu.bind(null,e),e}let ld=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=$l(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return na(this.persistence,new Sg,r.initialUser,this.serializer)}Ga(r){return new Wh($d.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Jg extends ld{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield Qg(a.Ja.syncEngine),yield Jd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return na(this.persistence,new Sg,e.initialUser,this.serializer)}ja(e,r){return new Ol(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new x(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new Hd(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,Bo(),ha(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class C_ extends Jg{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:Pp.bind(null,h),ro:ih.bind(null,h),io:hu.bind(null,h),Qi:pa.bind(null,h),eo:Kg.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var y=(0,o.A)(function*(b){yield function Vy(d,e){return qg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return y.apply(this,arguments)}}())})()}Wa(e){const r=Bo();if(!v.D(r))throw new st(Pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let sh=(()=>{class d{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>cf(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=Sp.bind(null,h.syncEngine),yield sf(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new p_}createDatastore(r){const a=$l(r.databaseInfo.databaseId),h=new ti(r.databaseInfo);return new np(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,y=this.datastore,b=r.asyncQueue,R=a=>cf(this.syncEngine,a,0),F=de.D()?new de:new X,new xg(h,y,b,R,F);var h,y,b,R,F}createSyncEngine(r,a){return function(y,b,R,F,W,oe,ye){const Ke=new ky(y,b,R,F,W,oe);return ye&&(Ke.Qa=!0),Ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,y;yield(y=(0,o.A)(function*(R){const F=at(R);Ie("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield Pa(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(R){return y.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function oh(d,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ra{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class fu{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new en,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const y=yield e.iu(h);return new Ny(JSON.parse(y),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class w_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new st(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,R){const F=at(b),W={documents:R.map(Ct=>Or(F.serializer,Ct))},oe=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,an.emptyPath(),W,R.length),ye=new Map;oe.forEach(Ct=>{const Ht=function ju(d,e){return"found"in e?function(a,h){Pt(!!h.found);const y=ps(a,h.found.name),b=Yi(h.found.updateTime),R=h.found.createTime?Yi(h.found.createTime):Bt.min(),F=new Ne({mapValue:{fields:h.found.fields}});return It.newFoundDocument(y,b,R,F)}(d,e):"missing"in e?function(a,h){Pt(!!h.missing),Pt(!!h.readTime);const y=ps(a,h.missing),b=Yi(h.readTime);return It.newNoDocument(y,b)}(d,e):Qe()}(F.serializer,Ct);ye.set(Ht.key.toString(),Ht)});const Ke=[];return R.forEach(Ct=>{const Ht=ye.get(Ct.toString());Pt(!!Ht),Ke.push(Ht)}),Ke}),function y(b,R){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ds(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const y=$t.fromPath(h);e.mutations.push(new Os(y,e.precondition(y)))}),yield(a=(0,o.A)(function*(y,b){const R=at(y),F={writes:b.map(W=>Wc(R.serializer,W))};yield R.Mo("Commit",R.serializer.databaseId,an.emptyPath(),F)}),function h(y,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Qe();r=Bt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new st(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Bt.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Bt.min()))throw new st(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class A_{constructor(e,r,a,h,y){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=y,this._u=a.maxAttempts,this.t_=new Kd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new w_(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!re(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!La(r)}return!1}}class pf{constructor(e,r,a,h,y){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=Ze.UNAUTHENTICATED,this.clientId=Bn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(a,function(){var R=(0,o.A)(function*(F){Ie("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(a,R=>(Ie("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=vc(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function Zg(d,e){return mi.apply(this,arguments)}function mi(){return mi=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(y){a.isEqual(y)||(yield ja(e.localStore,y),a=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),mi.apply(this,arguments)}function jy(d,e){return gf.apply(this,arguments)}function gf(){return(gf=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield mf(d);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>f_(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>f_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function mf(d){return D_.apply(this,arguments)}function D_(){return(D_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zg(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Pe.FAILED_PRECONDITION||h.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;gn("Error using user provided cache. Falling back to memory cache: "+e),yield Zg(d,new ld)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield Zg(d,new ld);var h;return d._offlineComponents})).apply(this,arguments)}function Mp(d){return Op.apply(this,arguments)}function Op(){return(Op=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield jy(d,d._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield jy(d,new sh))),d._onlineComponents})).apply(this,arguments)}function S_(d){return mf(d).then(e=>e.persistence)}function ah(d){return mf(d).then(e=>e.localStore)}function R_(d){return Mp(d).then(e=>e.remoteStore)}function em(d){return Mp(d).then(e=>e.syncEngine)}function wc(d){return Np.apply(this,arguments)}function Np(){return(Np=(0,o.A)(function*(d){const e=yield Mp(d),r=e.eventManager;return r.onListen=Ec.bind(null,e.syncEngine),r.onUnlisten=Tp.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=y_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Cp.bind(null,e.syncEngine),r})).apply(this,arguments)}function rm(d,e,r={}){const a=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,F,W){const oe=new ra({next:Ke=>{oe.Za(),b.enqueueAndForget(()=>th(y,ye));const Ct=Ke.docs.has(R);!Ct&&Ke.fromCache?W.reject(new st(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&Ke.fromCache&&F&&"server"===F.source?W.reject(new st(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ke)},error:Ke=>W.reject(Ke)}),ye=new Vg(ee(R.path),oe,{includeMetadataChanges:!0,_a:!0});return pp(y,ye)}(yield wc(d),d.asyncQueue,e,r,a)})),a.promise}function kp(d,e,r={}){const a=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(y,b,R,F,W){const oe=new ra({next:Ke=>{oe.Za(),b.enqueueAndForget(()=>th(y,ye)),Ke.fromCache&&"server"===F.source?W.reject(new st(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ke)},error:Ke=>W.reject(Ke)}),ye=new Vg(R,oe,{includeMetadataChanges:!0,_a:!0});return pp(y,ye)}(yield wc(d),d.asyncQueue,e,r,a)})),a.promise}function qy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const lh=new Map;function ud(d,e,r){if(!r)throw new st(Pe.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function im(d,e,r,a){if(!0===e&&!0===a)throw new st(Pe.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function sm(d){if(!$t.isDocumentKey(d))throw new st(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Fp(d){if($t.isDocumentKey(d))throw new st(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function dd(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Qe()}function di(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new st(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dd(d);throw new st(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function Lp(d,e){if(e<=0)throw new st(Pe.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class Vp{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}im("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pu{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vp(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Ae;switch(a.type){case"firstParty":return new rt(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=lh.get(r);a&&(Ie("ComponentProvider","Removing Datastore"),lh.delete(r),a.terminate())}(this),Promise.resolve()}}function Yy(d,e,r,a={}){var h;const y=(d=di(d,pu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==y.host&&y.host!==b&&gn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:b,ssl:!1})),a.mockUserToken){let R,F;if("string"==typeof a.mockUserToken)R=a.mockUserToken,F=Ze.MOCK_USER;else{R=(0,ge.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const W=a.mockUserToken.sub||a.mockUserToken.user_id;if(!W)throw new st(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Ze(W)}d._authCredentials=new Ee(new We(R,F))}}class ro{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class Ls{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class $a extends ro{constructor(e,r,a){super(e,r,ee(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new $t(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function M_(d,e,...r){if(d=(0,ge.Ku)(d),ud("collection","path",e),d instanceof pu){const a=an.fromString(e,...r);return Fp(a),new $a(d,null,a)}{if(!(d instanceof Ls||d instanceof $a))throw new st(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(an.fromString(e,...r));return Fp(a),new $a(d.firestore,null,a)}}function O_(d,e){if(d=di(d,pu),ud("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(Pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(d,null,(a=e,new vo(an.emptyPath(),a)));var a}function gu(d,e,...r){if(d=(0,ge.Ku)(d),1===arguments.length&&(e=Bn.newId()),ud("doc","path",e),d instanceof pu){const a=an.fromString(e,...r);return sm(a),new Ls(d,null,new $t(a))}{if(!(d instanceof Ls||d instanceof $a))throw new st(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(an.fromString(e,...r));return sm(a),new Ls(d.firestore,d instanceof $a?d.converter:null,new $t(a))}}function om(d,e){return d=(0,ge.Ku)(d),e=(0,ge.Ku)(e),(d instanceof Ls||d instanceof $a)&&(e instanceof Ls||e instanceof $a)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function _f(d,e){return d=(0,ge.Ku)(d),e=(0,ge.Ku)(e),d instanceof ro&&e instanceof ro&&d.firestore===e.firestore&&Eo(d._query,e._query)&&d.converter===e.converter}class yf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Kd(this,"async_queue_retry"),this.Vu=()=>{const a=ha();a&&Ie("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=ha();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=ha();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new en;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Ve(r))throw r;Ie("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(b){let R=b.message||"";return b.stack&&(R=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),R}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=Zd.createAndSchedule(this,e,r,a,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Qe()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function am(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class lm{constructor(){this._progressObserver={},this._taskCompletionResolver=new en,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Up=-1;class _i extends pu{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new yf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new yf(r),e._firestoreClient=void 0,yield r}})()}}function cm(d,e){const r="object"==typeof d?d:(0,ue.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,ue._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const y=(0,ge.yU)("firestore");y&&Yy(h,...y)}return h}function bs(d){if(d._terminated)throw new st(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||N_(d),d._firestoreClient}function N_(d){var e,r,a;const h=d._freezeSettings(),y=(F=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new tr(d._databaseId,F,d._persistenceKey,(oe=h).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,qy(oe.experimentalLongPollingOptions),oe.useFetchStreams));var F,oe;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new pf(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(R){const F=R?._online.build();return{_offline:R?._offline.build(F),_online:F}}(d._componentsProvider))}function Ef(d,e){gn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return bf(d,sh.provider,{build:a=>new Jg(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function cl(d){return ch.apply(this,arguments)}function ch(){return(ch=(0,o.A)(function*(d){gn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();bf(d,sh.provider,{build:r=>new C_(r,e.cacheSizeBytes)})})).apply(this,arguments)}function bf(d,e,r){if((d=di(d,_i))._firestoreClient||d._terminated)throw new st(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new st(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},N_(d)}function Bp(d){if(d._initialized&&!d._terminated)throw new st(Pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new en;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!ce.D())return Promise.resolve();const y=h+"main";yield ce.delete(y)}),function a(h){return r.apply(this,arguments)})(Gd(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function uh(d){return function(r){const a=new en;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function Ly(d,e){return zg.apply(this,arguments)}(yield em(r),a)})),a.promise}(bs(d=di(d,_i)))}function k_(d){return function nm(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield S_(d),r=yield R_(d);return e.setNetworkEnabled(!0),function(h){const y=at(h);return y.L_.delete(0),ru(y)}(r)}))}(bs(d=di(d,_i)))}function Xy(d){return function $y(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield S_(d),r=yield R_(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(y){const b=at(y);b.L_.add(0),yield Pa(b),b.q_.set("Offline")}),function h(y){return a.apply(this,arguments)})(r);var a}))}(bs(d=di(d,_i)))}function um(d,e){const r=bs(d=di(d,_i)),a=new lm;return function zy(d,e,r,a){const h=function(b,R){let F;return F="string"==typeof b?Io().encode(b):b,oe=function(oe,ye){if(oe instanceof Uint8Array)return oh(oe,void 0);if(oe instanceof ArrayBuffer)return oh(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new fu(oe,R);var oe}(r,$l(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function Uy(d,e,r){const a=at(d);var h;(h=(0,o.A)(function*(b,R,F){try{const W=yield R.getMetadata();if(yield function(Ht,dn){const rn=at(Ht),Kn=Yi(dn.createTime);return rn.persistence.runTransaction("hasNewerBundle","readonly",cr=>rn.Gr.getBundleMetadata(cr,dn.id)).then(cr=>!!cr&&cr.createTime.compareTo(Kn)>=0)}(b.localStore,W))return yield R.close(),F._completeWith({taskState:"Success",documentsLoaded:(Ht=W).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);F._updateProgress(af(W));const oe=new m_(W,b.localStore,R.serializer);let ye=yield R.Ua();for(;ye;){const Ct=yield oe.la(ye);Ct&&F._updateProgress(Ct),ye=yield R.Ua()}const Ke=yield oe.complete();return yield Tc(b,Ke.Ia,void 0),yield function(Ht,dn){const rn=at(Ht);return rn.persistence.runTransaction("Save bundle","readwrite",Kn=>rn.Gr.saveBundleMetadata(Kn,dn))}(b.localStore,W),F._completeWith(Ke.progress),Promise.resolve(Ke.Pa)}catch(W){return gn("SyncEngine",`Loading bundle failed with ${W}`),F._failWith(W),Promise.resolve(new Set)}var Ht}),function y(b,R,F){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield em(d),h,a)}))}(r,d._databaseId,e,a),a}function uE(d,e){return function Wy(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const y=at(a);return y.persistence.runTransaction("Get named query","readonly",b=>y.Gr.getNamedQuery(b,h))}(yield ah(d),e)}))}(bs(d=di(d,_i)),e).then(r=>r?new ro(d,null,r.query):null)}class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu(Ci.fromBase64String(e))}catch(r){throw new st(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new mu(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new st(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gl{constructor(e){this._methodName=e}}class jp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new st(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new st(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}class dh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let y=0;y<a.length;++y)if(a[y]!==h[y])return!1;return!0}(this._values,e._values)}}const dm=/^__.*__$/;class hh{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new si(e,this.data,this.fieldMask,r,this.fieldTransforms):new fr(e,this.data,r,this.fieldTransforms)}}class $p{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new si(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Hp(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class _u{constructor(e,r,a,h,y,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _u(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Hp(this.Cu)&&dm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Gp{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||$l(e)}Qu(e,r,a,h=!1){return new _u({Cu:e,methodName:r,qu:a,path:Xn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ha(d){const e=d._freezeSettings(),r=$l(d._databaseId);return new Gp(d._databaseId,!!e.ignoreUndefinedProperties,r)}function fh(d,e,r,a,h,y={}){const b=d.Qu(y.merge||y.mergeFields?2:0,e,r,h);fm("Data must be an object, but it was:",b,a);const R=hm(a,b);let F,W;if(y.merge)F=new fi(b.fieldMask),W=b.fieldTransforms;else if(y.mergeFields){const oe=[];for(const ye of y.mergeFields){const Ke=pm(e,ye,r);if(!b.contains(Ke))throw new st(Pe.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Jy(oe,Ke)||oe.push(Ke)}F=new fi(oe),W=b.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,W=b.fieldTransforms;return new hh(new Ne(R),F,W)}class yu extends Gl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yu}}function Ga(d,e,r){return new _u({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class io extends Gl{_toFieldTransform(e){return new P(e.path,new vl)}isEqual(e){return e instanceof io}}class zl extends Gl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Ga(this,e,!0),a=this.Ku.map(y=>Dc(y,r)),h=new qo(a);return new P(e.path,h)}isEqual(e){return e instanceof zl&&(0,ge.bD)(this.Ku,e.Ku)}}class Ac extends Gl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Ga(this,e,!0),a=this.Ku.map(y=>Dc(y,r)),h=new Fa(a);return new P(e.path,h)}isEqual(e){return e instanceof Ac&&(0,ge.bD)(this.Ku,e.Ku)}}class L_ extends Gl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new el(e.serializer,tc(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof L_&&this.$u===e.$u}}function zp(d,e,r,a){const h=d.Qu(1,e,r);fm("Data must be an object, but it was:",h,a);const y=[],b=Ne.empty();ci(a,(F,W)=>{const oe=ph(e,F,r);W=(0,ge.Ku)(W);const ye=h.Nu(oe);if(W instanceof yu)y.push(oe);else{const Ke=Dc(W,ye);null!=Ke&&(y.push(oe),b.set(oe,Ke))}});const R=new fi(y);return new $p(b,R,h.fieldTransforms)}function If(d,e,r,a,h,y){const b=d.Qu(1,e,r),R=[pm(e,a,r)],F=[h];if(y.length%2!=0)throw new st(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<y.length;Ke+=2)R.push(pm(e,y[Ke])),F.push(y[Ke+1]);const W=[],oe=Ne.empty();for(let Ke=R.length-1;Ke>=0;--Ke)if(!Jy(W,R[Ke])){const Ct=R[Ke];let Ht=F[Ke];Ht=(0,ge.Ku)(Ht);const dn=b.Nu(Ct);if(Ht instanceof yu)W.push(Ct);else{const rn=Dc(Ht,dn);null!=rn&&(W.push(Ct),oe.set(Ct,rn))}}const ye=new fi(W);return new $p(oe,ye,b.fieldTransforms)}function V_(d,e,r,a=!1){return Dc(r,d.Qu(a?4:3,e))}function Dc(d,e){if(U_(d=(0,ge.Ku)(d)))return fm("Unsupported field value:",e,d),hm(d,e);if(d instanceof Gl)return function(a,h){if(!Hp(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const y=a._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const y=[];let b=0;for(const R of a){let F=Dc(R,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),y.push(F),b++}return{arrayValue:{values:y}}}(d,e)}return function(a,h){if(null===(a=(0,ge.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return tc(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const y=zt.fromDate(a);return{timestampValue:Yo(h.serializer,y)}}if(a instanceof zt){const y=new zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yo(h.serializer,y)}}if(a instanceof jp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof mu)return{bytesValue:nn(h.serializer,a._byteString)};if(a instanceof Ls){const y=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(y))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:nl(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof dh)return R=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(F=>{if("number"!=typeof F)throw R.Bu("VectorValues must only contain numeric values.");return Lo(R.serializer,F)})}}}}};var R;throw h.Bu(`Unsupported field value: ${dd(a)}`)}(d,e)}function hm(d,e){const r={};return vs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(d,(a,h)=>{const y=Dc(h,e.Mu(a));null!=y&&(r[a]=y)}),{mapValue:{fields:r}}}function U_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof zt||d instanceof jp||d instanceof mu||d instanceof Ls||d instanceof Gl||d instanceof dh)}function fm(d,e,r){if(!U_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=dd(r);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function pm(d,e,r){if((e=(0,ge.Ku)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return ph(d,e);throw gh("Field path arguments must be of type string or ",d,!1,void 0,r)}const dE=new RegExp("[~\\*/\\[\\]]");function ph(d,e,r){if(e.search(dE)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new hd(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function gh(d,e,r,a,h){const y=a&&!a.isEmpty(),b=void 0!==h;let R=`Function ${e}() called with invalid data`;r&&(R+=" (via `toFirestore()`)"),R+=". ";let F="";return(y||b)&&(F+=" (found",y&&(F+=` in field ${a}`),b&&(F+=` in document ${h}`),F+=")"),new st(Pe.INVALID_ARGUMENT,R+d+F)}function Jy(d,e){return d.some(r=>r.isEqual(e))}class Cf{constructor(e,r,a,h,y){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new B_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class B_ extends Cf{data(){return super.data()}}function mh(d,e){return"string"==typeof e?ph(d,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function Zy(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new st(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gm{}class Wp extends gm{}function ev(d,e,...r){let a=[];e instanceof gm&&a.push(e),a=a.concat(r),function(y){const b=y.filter(F=>F instanceof za).length,R=y.filter(F=>F instanceof wf).length;if(b>1||b>0&&R>0)throw new st(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class wf extends Wp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new wf(e,r,a)}_apply(e){const r=this._parse(e);return H_(e._query,r),new ro(e.firestore,e.converter,Ms(e._query,r))}_parse(e){const r=Ha(e.firestore);return function(y,b,R,F,W,oe,ye){let Ke;if(W.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new st(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){ov(ye,oe);const Ct=[];for(const Ht of ye)Ct.push(sv(F,y,Ht));Ke={arrayValue:{values:Ct}}}else Ke=sv(F,y,ye)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||ov(ye,oe),Ke=V_(R,"where",ye,"in"===oe||"not-in"===oe);return Un.create(W,oe,Ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function mm(d,e,r){const a=e,h=mh("where",d);return wf._create(h,a,r)}class za extends gm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new za(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:Yn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,y){let b=h;const R=y.getFlattenedFilters();for(const F of R)H_(b,F),b=Ms(b,F)}(e._query,r),new ro(e.firestore,e.converter,Ms(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pd extends Wp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new pd(e,r)}_apply(e){const r=function(h,y,b){if(null!==h.startAt)throw new st(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new st(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wn(y,b)}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(h,y){const b=h.explicitOrderBy.concat([y]);return new vo(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function tv(d,e="asc"){const r=e,a=mh("orderBy",d);return pd._create(a,r)}class Kp extends Wp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new Kp(e,r,a)}_apply(e){return new ro(e.firestore,e.converter,fs(e._query,this._limit,this._limitType))}}function hE(d){return Lp("limit",d),Kp._create("limit",d,"F")}function nv(d){return Lp("limitToLast",d),Kp._create("limitToLast",d,"L")}class _m extends Wp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new _m(e,r,a)}_apply(e){const r=$_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(y=r,new vo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function rv(...d){return _m._create("startAt",d,!0)}function iv(...d){return _m._create("startAfter",d,!1)}class Af extends Wp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Af(e,r,a)}_apply(e){const r=$_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(y=r,new vo((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function O0(...d){return Af._create("endBefore",d,!1)}function j_(...d){return Af._create("endAt",d,!0)}function $_(d,e,r,a){if(r[0]=(0,ge.Ku)(r[0]),r[0]instanceof Cf)return function(y,b,R,F,W){if(!F)throw new st(Pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const oe=[];for(const ye of je(y))if(ye.field.isKeyField())oe.push(hr(b,F.key));else{const Ke=F.data.field(ye.field);if($s(Ke))throw new st(Pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const Ct=ye.field.canonicalString();throw new st(Pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}oe.push(Ke)}return new Xt(oe,W)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const h=Ha(d.firestore);return function(b,R,F,W,oe,ye){const Ke=b.explicitOrderBy;if(oe.length>Ke.length)throw new st(Pe.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let Ht=0;Ht<oe.length;Ht++){const dn=oe[Ht];if(Ke[Ht].field.isKeyField()){if("string"!=typeof dn)throw new st(Pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof dn}`);if(!le(b)&&-1!==dn.indexOf("/"))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${dn}' contains a slash.`);const rn=b.path.child(an.fromString(dn));if(!$t.isDocumentKey(rn))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const Kn=new $t(rn);Ct.push(hr(R,Kn))}else{const rn=V_(F,W,dn);Ct.push(rn)}}return new Xt(Ct,ye)}(d._query,d.firestore._databaseId,h,e,r,a)}}function sv(d,e,r){if("string"==typeof(r=(0,ge.Ku)(r))){if(""===r)throw new st(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!le(e)&&-1!==r.indexOf("/"))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(an.fromString(r));if(!$t.isDocumentKey(a))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return hr(d,new $t(a))}if(r instanceof Ls)return hr(d,r._key);throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(r)}.`)}function ov(d,e){if(!Array.isArray(d)||0===d.length)throw new st(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H_(d,e){const r=function(h,y){for(const b of h)for(const R of b.getFlattenedFilters())if(y.indexOf(R.op)>=0)return R.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new st(Pe.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ym{convertValue(e,r="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return ci(e,(h,y)=>{a[h]=this.convertValue(y,r)}),a}convertVectorValue(e){var r,a,h;const y=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>ri(b.doubleValue));return new dh(y)}convertGeoPoint(e){return new jp(ri(e.latitude),ri(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=_o(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Ei(e));default:return null}}convertTimestamp(e){const r=Xs(e);return new zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=an.fromString(e);Pt(w(a));const h=new Dr(a.get(1),a.get(3)),y=new $t(a.popFirst(5));return h.isEqual(r)||Yt(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),y}}function vm(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class fE extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,r)}}class Df{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vu extends Cf{constructor(e,r,a,h,y,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(mh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class ul extends vu{data(e={}){return super.data(e)}}class Rc{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Df(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new ul(this._firestore,this._userDataWriter,a.key,a,new Df(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new st(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(R=>({type:"added",doc:new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Df(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(R=>y||3!==R.type).map(R=>{const F=new ul(h._firestore,h._userDataWriter,R.doc.key,R.doc,new Df(h._snapshot.mutatedKeys.has(R.doc.key),h._snapshot.fromCache),h.query.converter);let W=-1,oe=-1;return 0!==R.type&&(W=b.indexOf(R.doc.key),b=b.delete(R.doc.key)),1!==R.type&&(b=b.add(R.doc),oe=b.indexOf(R.doc.key)),{type:mE(R.type),doc:F,oldIndex:W,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function mE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function _E(d,e){return d instanceof vu&&e instanceof vu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Rc&&e instanceof Rc&&d._firestore===e._firestore&&_f(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function yE(d){d=di(d,Ls);const e=di(d.firestore,_i);return rm(bs(e),d._key).then(r=>W_(e,d,r))}class Pc extends ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,r)}}function xc(d){d=di(d,Ls);const e=di(d.firestore,_i),r=bs(e),a=new Pc(e);return function cd(d,e){const r=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const F=yield function(oe,ye){const Ke=at(oe);return Ke.persistence.runTransaction("read document","readonly",Ct=>Ke.localDocuments.getDocument(Ct,ye))}(y,b);F.isFoundDocument()?R.resolve(F):F.isNoDocument()?R.resolve(null):R.reject(new st(Pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const W=vc(F,`Failed to get document '${b} from cache`);R.reject(W)}}),function h(y,b,R){return a.apply(this,arguments)})(yield ah(d),e,r);var a})),r.promise}(r,d._key).then(h=>new vu(e,a,d._key,h,new Df(null!==h&&h.hasLocalMutations,!0),d.converter))}function cv(d){d=di(d,Ls);const e=di(d.firestore,_i);return rm(bs(e),d._key,{source:"server"}).then(r=>W_(e,d,r))}function vE(d){d=di(d,ro);const e=di(d.firestore,_i),r=bs(e),a=new Pc(e);return Zy(d._query),kp(r,d._query).then(h=>new Rc(e,a,d,h))}function N0(d){d=di(d,ro);const e=di(d.firestore,_i),r=bs(e),a=new Pc(e);return function Hy(d,e){const r=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(y,b,R){try{const F=yield ll(y,b,!0),W=new __(b,F.Ts),oe=W.ma(F.documents),ye=W.applyChanges(oe,!1);R.resolve(ye.snapshot)}catch(F){const W=vc(F,`Failed to execute query '${b} against cache`);R.reject(W)}}),function h(y,b,R){return a.apply(this,arguments)})(yield ah(d),e,r);var a})),r.promise}(r,d._query).then(h=>new Rc(e,a,d,h))}function Ro(d){d=di(d,ro);const e=di(d.firestore,_i),r=bs(e),a=new Pc(e);return kp(r,d._query,{source:"server"}).then(h=>new Rc(e,a,d,h))}function EE(d,e,r){d=di(d,Ls);const a=di(d.firestore,_i),h=vm(d.converter,e,r);return _h(a,[fh(Ha(a),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function G_(d,e,r,...a){d=di(d,Ls);const h=di(d.firestore,_i),y=Ha(h);let b;return b="string"==typeof(e=(0,ge.Ku)(e))||e instanceof hd?If(y,"updateDoc",d._key,e,r,a):zp(y,"updateDoc",d._key,e),_h(h,[b.toMutation(d._key,Y.exists(!0))])}function bE(d){return _h(di(d.firestore,_i),[new Ds(d._key,Y.none())])}function TE(d,e){const r=di(d.firestore,_i),a=gu(d),h=vm(d.converter,e);return _h(r,[fh(Ha(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function z_(d,...e){var r,a,h;d=(0,ge.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||am(e[b])||(y=e[b],b++);const R={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(am(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(a=ye.error)||void 0===a?void 0:a.bind(ye),e[b+2]=null===(h=ye.complete)||void 0===h?void 0:h.bind(ye)}let F,W,oe;if(d instanceof Ls)W=di(d.firestore,_i),oe=ee(d._key.path),F={next:ye=>{e[b]&&e[b](W_(W,d,ye))},error:e[b+1],complete:e[b+2]};else{const ye=di(d,ro);W=di(ye.firestore,_i),oe=ye._query;const Ke=new Pc(W);F={next:Ct=>{e[b]&&e[b](new Rc(W,Ke,ye,Ct))},error:e[b+1],complete:e[b+2]},Zy(d._query)}return function(Ke,Ct,Ht,dn){const rn=new ra(dn),Kn=new Vg(Ct,rn,Ht);return Ke.asyncQueue.enqueueAndForget((0,o.A)(function*(){return pp(yield wc(Ke),Kn)})),()=>{rn.Za(),Ke.asyncQueue.enqueueAndForget((0,o.A)(function*(){return th(yield wc(Ke),Kn)}))}}(bs(W),oe,R,F)}function uv(d,e){return function Gy(d,e){const r=new ra(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield wc(d),y=r,at(h).Y_.add(y),void y.next();var h,y})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield wc(d),y=r,void at(h).Y_.delete(y);var h,y}))}}(bs(d=di(d,_i)),am(e)?e:{next:e})}function _h(d,e){return function(a,h){const y=new en;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function $g(d,e,r){return od.apply(this,arguments)}(yield em(a),h,y)})),y.promise}(bs(d),e)}function W_(d,e,r){const a=r.docs.get(e._key),h=new Pc(d);return new vu(d,h,e._key,a,new Df(r.hasPendingWrites,r.fromCache),e.converter)}const Xp={maxAttempts:5};class Qp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ha(e)}set(e,r,a){this._verifyNotCommitted();const h=Eu(e,this._firestore),y=vm(h.converter,r,a),b=fh(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const y=Eu(e,this._firestore);let b;return b="string"==typeof(r=(0,ge.Ku)(r))||r instanceof hd?If(this._dataReader,"WriteBatch.update",y._key,r,a,h):zp(this._dataReader,"WriteBatch.update",y._key,r),this._mutations.push(b.toMutation(y._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Eu(e,this._firestore);return this._mutations=this._mutations.concat(new Ds(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eu(d,e){if((d=(0,ge.Ku)(d)).firestore!==e)throw new st(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class K_ extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Ha(r)}get(r){const a=Eu(r,this._firestore),h=new fE(this._firestore);return this._transaction.lookup([a._key]).then(y=>{if(!y||1!==y.length)return Qe();const b=y[0];if(b.isFoundDocument())return new Cf(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new Cf(this._firestore,h,a._key,null,a.converter);throw Qe()})}set(r,a,h){const y=Eu(r,this._firestore),b=vm(y.converter,a,h),R=fh(this._dataReader,"Transaction.set",y._key,b,null!==y.converter,h);return this._transaction.set(y._key,R),this}update(r,a,h,...y){const b=Eu(r,this._firestore);let R;return R="string"==typeof(a=(0,ge.Ku)(a))||a instanceof hd?If(this._dataReader,"Transaction.update",b._key,a,h,y):zp(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,R),this}delete(r){const a=Eu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Eu(e,this._firestore),a=new Pc(this._firestore);return super.get(e).then(h=>new vu(this._firestore,a,r._key,h._document,new Df(!1,!1),r.converter))}}function Em(d,e,r){d=di(d,_i);const a=Object.assign(Object.assign({},Xp),r);return function(y){if(y.maxAttempts<1)throw new st(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(y,b,R){const F=new en;return y.asyncQueue.enqueueAndForget((0,o.A)(function*(){const W=yield function tm(d){return Mp(d).then(e=>e.datastore)}(y);new A_(y.asyncQueue,W,R,b,F).au()})),F.promise}(bs(d),h=>e(new K_(d,h)),a)}function q_(){return new yu("deleteField")}function _v(){return new io("serverTimestamp")}function DE(...d){return new zl("arrayUnion",d)}function Jp(...d){return new Ac("arrayRemove",d)}function SE(d){return new L_("increment",d)}!function(e,r=!0){Oe=ue.SDK_VERSION,(0,ue._registerComponent)(new i.uA("firestore",(a,{instanceIdentifier:h,options:y})=>{const b=a.getProvider("app").getImmediate(),R=new _i(new Me(a.getProvider("auth-internal")),new An(a.getProvider("app-check-internal")),function(W,oe){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new st(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dr(W.options.projectId,oe)}(b,h),b);return y=Object.assign({useFetchStreams:r},y),R._setSettings(y),R},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Te,"4.7.3",e),(0,ue.registerVersion)(Te,"4.7.3","esm2017")}()},4535:(on,tt,V)=>{V.d(tt,{Ad:()=>Ln,D5:()=>_n,KR:()=>Oi,Mp:()=>Hs,Mx:()=>ni,TZ:()=>Ue,UC:()=>ci,UY:()=>sr,XR:()=>is,ZH:()=>Dn,_w:()=>hr,bp:()=>rs,c7:()=>Jr,nb:()=>ss,nw:()=>wn,p_:()=>nr,qk:()=>Wi,uj:()=>Yt,xc:()=>zn,yb:()=>Qr});var o=V(467),ue=V(7852),i=V(1076),ve=V(1362);const ge="firebasestorage.googleapis.com",De="storageBucket";class J extends i.g{constructor(Q,Ce,Ne=0){super(he(Q),`Firebase Storage: ${Ce} (${he(Q)})`),this.status_=Ne,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,J.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return he(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var te=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(te||{});function he(Z){return"storage/"+Z}function Fe(){return new J(te.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Qt(){return new J(te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ze(){return new J(te.CANCELED,"User canceled the upload/download.")}function et(){return new J(te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yt(Z){return new J(te.INVALID_ARGUMENT,Z)}function gn(){return new J(te.APP_DELETED,"The Firebase app was deleted.")}function sr(Z){return new J(te.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qe(Z,Q){return new J(te.INVALID_FORMAT,"String does not match format '"+Z+"': "+Q)}function Pt(Z){throw new J(te.INTERNAL_ERROR,"Internal error: "+Z)}class Ue{constructor(Q,Ce){this.bucket=Q,this.path_=Ce}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,Ce){let Ne;try{Ne=Ue.makeFromUrl(Q,Ce)}catch{return new Ue(Q,"")}if(""===Ne.path)return Ne;throw function Ze(Z){return new J(te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(Q)}static makeFromUrl(Q,Ce){let Ne=null;const it="([A-Za-z0-9.\\-_]+)",bn=new RegExp("^gs://"+it+"(/(.*))?$","i");function Wn(Di){Di.path_=decodeURIComponent(Di.path)}const Vn=Ce.replace(/[.]/g,"\\."),Cr=[{regex:bn,indices:{bucket:1,path:3},postModify:function It(Di){"/"===Di.path.charAt(Di.path.length-1)&&(Di.path_=Di.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Vn}/v[A-Za-z0-9_]+/b/${it}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Wn},{regex:new RegExp(`^https?://${Ce===ge?"(?:storage.googleapis.com|storage.cloud.google.com)":Ce}/${it}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Wn}];for(let Di=0;Di<Cr.length;Di++){const Si=Cr[Di],Lr=Si.regex.exec(Q);if(Lr){let Vi=Lr[Si.indices.path];Vi||(Vi=""),Ne=new Ue(Lr[Si.indices.bucket],Vi),Si.postModify(Ne);break}}if(null==Ne)throw function Te(Z){return new J(te.INVALID_URL,"Invalid URL '"+Z+"'.")}(Q);return Ne}}class at{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function Ee(Z){return"string"==typeof Z||Z instanceof String}function Me(Z){return lt()&&Z instanceof Blob}function lt(){return typeof Blob<"u"}function rt(Z,Q,Ce,Ne){if(Ne<Q)throw Yt(`Invalid value for '${Z}'. Expected ${Q} or greater.`);if(Ne>Ce)throw Yt(`Invalid value for '${Z}'. Expected ${Ce} or less.`)}function Lt(Z,Q,Ce){let Ne=Q;return null==Ce&&(Ne=`https://${Q}`),`${Ce}://${Ne}/v0${Z}`}function An(Z){const Q=encodeURIComponent;let Ce="?";for(const Ne in Z)Z.hasOwnProperty(Ne)&&(Ce=Ce+(Q(Ne)+"=")+Q(Z[Ne])+"&");return Ce=Ce.slice(0,-1),Ce}var rr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(rr||{});function sn(Z,Q){const Ce=Z>=500&&Z<600,it=-1!==[408,429].indexOf(Z),It=-1!==Q.indexOf(Z);return Ce||it||It}class Bn{constructor(Q,Ce,Ne,it,It,Xt,bn,mn,Wn,yr,Vn,Un=!0){this.url_=Q,this.method_=Ce,this.headers_=Ne,this.body_=it,this.successCodes_=It,this.additionalRetryCodes_=Xt,this.callback_=bn,this.errorCallback_=mn,this.timeout_=Wn,this.progressCallback_=yr,this.connectionFactory_=Vn,this.retry=Un,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Yn,ui)=>{this.resolve_=Yn,this.reject_=ui,this.start_()})}start_(){const Ce=(Ne,it)=>{const It=this.resolve_,Xt=this.reject_,bn=it.connection;if(it.wasSuccessCode)try{const mn=this.callback_(bn,bn.getResponse());!function en(Z){return void 0!==Z}(mn)?It():It(mn)}catch(mn){Xt(mn)}else if(null!==bn){const mn=Fe();mn.serverResponse=bn.getErrorText(),Xt(this.errorCallback_?this.errorCallback_(bn,mn):mn)}else Xt(it.canceled?this.appDelete_?gn():ze():Qt())};this.canceled_?Ce(0,new Jt(!1,null,!0)):this.backoffId_=function Pe(Z,Q,Ce){let Ne=1,it=null,It=null,Xt=!1,bn=0;function mn(){return 2===bn}let Wn=!1;function yr(...qr){Wn||(Wn=!0,Q.apply(null,qr))}function Vn(qr){it=setTimeout(()=>{it=null,Z(Yn,mn())},qr)}function Un(){It&&clearTimeout(It)}function Yn(qr,...Ki){if(Wn)return void Un();if(qr)return Un(),void yr.call(null,qr,...Ki);if(mn()||Xt)return Un(),void yr.call(null,qr,...Ki);let Cr;Ne<64&&(Ne*=2),1===bn?(bn=2,Cr=0):Cr=1e3*(Ne+Math.random()),Vn(Cr)}let ui=!1;function Zr(qr){ui||(ui=!0,Un(),!Wn&&(null!==it?(qr||(bn=2),clearTimeout(it),Vn(0)):qr||(bn=1)))}return Vn(0),It=setTimeout(()=>{Xt=!0,Zr(!0)},Ce),Zr}((Ne,it)=>{if(it)return void Ne(!1,new Jt(!1,null,!0));const It=this.connectionFactory_();this.pendingConnection_=It;const Xt=bn=>{null!==this.progressCallback_&&this.progressCallback_(bn.loaded,bn.lengthComputable?bn.total:-1)};null!==this.progressCallback_&&It.addUploadProgressListener(Xt),It.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&It.removeUploadProgressListener(Xt),this.pendingConnection_=null;const bn=It.getErrorCode()===rr.NO_ERROR,mn=It.getStatus();if(!bn||sn(mn,this.additionalRetryCodes_)&&this.retry){const yr=It.getErrorCode()===rr.ABORT;return void Ne(!1,new Jt(!1,null,yr))}const Wn=-1!==this.successCodes_.indexOf(mn);Ne(!0,new Jt(Wn,It))})},Ce,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function st(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jt{constructor(Q,Ce,Ne){this.wasSuccessCode=Q,this.connection=Ce,this.canceled=!!Ne}}function Fr(...Z){const Q=function an(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const Ce=new Q;for(let Ne=0;Ne<Z.length;Ne++)Ce.append(Z[Ne]);return Ce.getBlob()}if(lt())return new Blob(Z);throw new J(te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $n{constructor(Q,Ce){this.data=Q,this.contentType=Ce||null}}function Dn(Z,Q){switch(Z){case wn.RAW:return new $n(Hr(Q));case wn.BASE64:case wn.BASE64URL:return new $n(Yr(Z,Q));case wn.DATA_URL:return new $n(function hi(Z){const Q=new Gn(Z);return Q.base64?Yr(wn.BASE64,Q.rest):function xr(Z){let Q;try{Q=decodeURIComponent(Z)}catch{throw Qe(wn.DATA_URL,"Malformed data URL.")}return Hr(Q)}(Q.rest)}(Q),function ms(Z){return new Gn(Z).contentType}(Q))}throw Fe()}function Hr(Z){const Q=[];for(let Ce=0;Ce<Z.length;Ce++){let Ne=Z.charCodeAt(Ce);Ne<=127?Q.push(Ne):Ne<=2047?Q.push(192|Ne>>6,128|63&Ne):55296==(64512&Ne)?Ce<Z.length-1&&56320==(64512&Z.charCodeAt(Ce+1))?(Ne=65536|(1023&Ne)<<10|1023&Z.charCodeAt(++Ce),Q.push(240|Ne>>18,128|Ne>>12&63,128|Ne>>6&63,128|63&Ne)):Q.push(239,191,189):56320==(64512&Ne)?Q.push(239,191,189):Q.push(224|Ne>>12,128|Ne>>6&63,128|63&Ne)}return new Uint8Array(Q)}function Yr(Z,Q){switch(Z){case wn.BASE64:{const it=-1!==Q.indexOf("-"),It=-1!==Q.indexOf("_");if(it||It)throw Qe(Z,"Invalid character '"+(it?"-":"_")+"' found: is it base64url encoded?");break}case wn.BASE64URL:{const it=-1!==Q.indexOf("+"),It=-1!==Q.indexOf("/");if(it||It)throw Qe(Z,"Invalid character '"+(it?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let Ce;try{Ce=function $t(Z){if(typeof atob>"u")throw function Ie(Z){return new J(te.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(Q)}catch(it){throw it.message.includes("polyfill")?it:Qe(Z,"Invalid character found")}const Ne=new Uint8Array(Ce.length);for(let it=0;it<Ce.length;it++)Ne[it]=Ce.charCodeAt(it);return Ne}class Gn{constructor(Q){this.base64=!1,this.contentType=null;const Ce=Q.match(/^data:([^,]+)?,/);if(null===Ce)throw Qe(wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Ne=Ce[1]||null;null!=Ne&&(this.base64=function fn(Z,Q){return Z.length>=Q.length&&Z.substring(Z.length-Q.length)===Q}(Ne,";base64"),this.contentType=this.base64?Ne.substring(0,Ne.length-7):Ne),this.rest=Q.substring(Q.indexOf(",")+1)}}class ni{constructor(Q,Ce){let Ne=0,it="";Me(Q)?(this.data_=Q,Ne=Q.size,it=Q.type):Q instanceof ArrayBuffer?(Ce?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),Ne=this.data_.length):Q instanceof Uint8Array&&(Ce?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),Ne=Q.length),this.size_=Ne,this.type_=it}size(){return this.size_}type(){return this.type_}slice(Q,Ce){if(Me(this.data_)){const it=function Xn(Z,Q,Ce){return Z.webkitSlice?Z.webkitSlice(Q,Ce):Z.mozSlice?Z.mozSlice(Q,Ce):Z.slice?Z.slice(Q,Ce):null}(this.data_,Q,Ce);return null===it?null:new ni(it)}{const Ne=new Uint8Array(this.data_.buffer,Q,Ce-Q);return new ni(Ne,!0)}}static getBlob(...Q){if(lt()){const Ce=Q.map(Ne=>Ne instanceof ni?Ne.data_:Ne);return new ni(Fr.apply(null,Ce))}{const Ce=Q.map(Xt=>Ee(Xt)?Dn(wn.RAW,Xt).data:Xt.data_);let Ne=0;Ce.forEach(Xt=>{Ne+=Xt.byteLength});const it=new Uint8Array(Ne);let It=0;return Ce.forEach(Xt=>{for(let bn=0;bn<Xt.length;bn++)it[It++]=Xt[bn]}),new ni(it,!0)}}uploadData(){return this.data_}}function er(Z){let Q;try{Q=JSON.parse(Z)}catch{return null}return function Ae(Z){return"object"==typeof Z&&!Array.isArray(Z)}(Q)?Q:null}function Ii(Z){const Q=Z.lastIndexOf("/",Z.length-2);return-1===Q?Z:Z.slice(Q+1)}function ot(Z,Q){return Q}class Et{constructor(Q,Ce,Ne,it){this.server=Q,this.local=Ce||Q,this.writable=!!Ne,this.xform=it||ot}}let ce=null;function At(){if(ce)return ce;const Z=[];Z.push(new Et("bucket")),Z.push(new Et("generation")),Z.push(new Et("metageneration")),Z.push(new Et("name","fullPath",!0));const Ce=new Et("name");Ce.xform=function Q(It,Xt){return function xe(Z){return!Ee(Z)||Z.length<2?Z:Ii(Z)}(Xt)},Z.push(Ce);const it=new Et("size");return it.xform=function Ne(It,Xt){return void 0!==Xt?Number(Xt):Xt},Z.push(it),Z.push(new Et("timeCreated")),Z.push(new Et("updated")),Z.push(new Et("md5Hash",null,!0)),Z.push(new Et("cacheControl",null,!0)),Z.push(new Et("contentDisposition",null,!0)),Z.push(new Et("contentEncoding",null,!0)),Z.push(new Et("contentLanguage",null,!0)),Z.push(new Et("contentType",null,!0)),Z.push(new Et("metadata","customMetadata",!0)),ce=Z,ce}function Kt(Z,Q,Ce){const Ne=er(Q);return null===Ne?null:function Ve(Z,Q,Ce){const Ne={type:"file"},it=Ce.length;for(let It=0;It<it;It++){const Xt=Ce[It];Ne[Xt.local]=Xt.xform(Ne,Q[Xt.server])}return function qt(Z,Q){Object.defineProperty(Z,"ref",{get:function Ce(){const It=new Ue(Z.bucket,Z.fullPath);return Q._makeStorageReference(It)}})}(Ne,Z),Ne}(Z,Ne,Ce)}function ft(Z,Q){const Ce={},Ne=Q.length;for(let it=0;it<Ne;it++){const It=Q[it];It.writable&&(Ce[It.server]=Z[It.local])}return JSON.stringify(Ce)}const He="prefixes",$="items";class re{constructor(Q,Ce,Ne,it){this.url=Q,this.method=Ce,this.handler=Ne,this.timeout=it,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fe(Z){if(!Z)throw Fe()}function dt(Z,Q){return function Ce(Ne,it){const It=Kt(Z,it,Q);return fe(null!==It),It}}function pn(Z){return function Q(Ce,Ne){let it;return it=401===Ce.getStatus()?Ce.getErrorText().includes("Firebase App Check token is invalid")?function Mt(){return new J(te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Tt(){return new J(te.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ce.getStatus()?function pt(Z){return new J(te.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Ce.getStatus()?function Nt(Z){return new J(te.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Ne,it.status=Ce.getStatus(),it.serverResponse=Ne.serverResponse,it}}function Sn(Z){const Q=pn(Z);return function Ce(Ne,it){let It=Q(Ne,it);return 404===Ne.getStatus()&&(It=function Ge(Z){return new J(te.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),It.serverResponse=it.serverResponse,It}}function Ir(Z,Q,Ce){const it=Lt(Q.fullServerUrl(),Z.host,Z._protocol),Xt=Z.maxOperationRetryTime,bn=new re(it,"GET",dt(Z,Ce),Xt);return bn.errorHandler=Sn(Q),bn}function cn(Z,Q,Ce,Ne,it){const It={};It.prefix=Q.isRoot?"":Q.path+"/",Ce&&Ce.length>0&&(It.delimiter=Ce),Ne&&(It.pageToken=Ne),it&&(It.maxResults=it);const bn=Lt(Q.bucketOnlyServerUrl(),Z.host,Z._protocol),Wn=Z.maxOperationRetryTime,yr=new re(bn,"GET",function xt(Z,Q){return function Ce(Ne,it){const It=function k(Z,Q,Ce){const Ne=er(Ce);return null===Ne?null:function x(Z,Q,Ce){const Ne={prefixes:[],items:[],nextPageToken:Ce.nextPageToken};if(Ce[He])for(const it of Ce[He]){const It=it.replace(/\/$/,""),Xt=Z._makeStorageReference(new Ue(Q,It));Ne.prefixes.push(Xt)}if(Ce[$])for(const it of Ce[$]){const It=Z._makeStorageReference(new Ue(Q,it.name));Ne.items.push(It)}return Ne}(Z,Q,Ne)}(Z,Q,it);return fe(null!==It),It}}(Z,Q.bucket),Wn);return yr.urlParams=It,yr.errorHandler=pn(Q),yr}function ys(Z,Q,Ce){const Ne=Object.assign({},Ce);return Ne.fullPath=Z.path,Ne.size=Q.size(),Ne.contentType||(Ne.contentType=function _s(Z,Q){return Z&&Z.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),Ne}class lr{constructor(Q,Ce,Ne,it){this.current=Q,this.total=Ce,this.finalized=!!Ne,this.metadata=it||null}}function Gi(Z,Q){let Ce=null;try{Ce=Z.getResponseHeader("X-Goog-Upload-Status")}catch{fe(!1)}return fe(!!Ce&&-1!==(Q||["active"]).indexOf(Ce)),Ce}const zn={STATE_CHANGED:"state_changed"},Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mr(Z){switch(Z){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;default:return Ln.ERROR}}class kr{constructor(Q,Ce,Ne){if(function We(Z){return"function"==typeof Z}(Q)||null!=Ce||null!=Ne)this.next=Q,this.error=Ce??void 0,this.complete=Ne??void 0;else{const It=Q;this.next=It.next,this.error=It.error,this.complete=It.complete}}}function Kr(Z){return(...Q)=>{Promise.resolve().then(()=>Z(...Q))}}let Sr=null;class es{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rr.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rr.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rr.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,Ce,Ne,it){if(this.sent_)throw Pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ce,Q,!0),void 0!==it)for(const It in it)it.hasOwnProperty(It)&&this.xhr_.setRequestHeader(It,it[It].toString());return void 0!==Ne?this.xhr_.send(Ne):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class xs extends es{initXhr(){this.xhr_.responseType="text"}}function ts(){return Sr?Sr():new xs}class ci{constructor(Q,Ce,Ne=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=Ce,this._metadata=Ne,this._mappings=At(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=it=>{if(this._request=void 0,this._chunkMultiplier=1,it._codeEquals(te.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const It=this.isExponentialBackoffExpired();if(sn(it.status,[])){if(!It)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();it=Qt()}this._error=it,this._transition("error")}},this._metadataErrorHandler=it=>{this._request=void 0,it._codeEquals(te.CANCELED)?this.completeTransitions_():(this._error=it,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((it,It)=>{this._resolve=it,this._reject=It,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return Ce=>this._updateProgress(Q+Ce)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Ce,Ne])=>{switch(this._state){case"running":Q(Ce,Ne);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,Ce)=>{const Ne=function bt(Z,Q,Ce,Ne,it){const It=Q.bucketOnlyServerUrl(),Xt=ys(Q,Ne,it),bn={name:Xt.fullPath},mn=Lt(It,Z.host,Z._protocol),yr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ne.size()}`,"X-Goog-Upload-Header-Content-Type":Xt.contentType,"Content-Type":"application/json; charset=utf-8"},Vn=ft(Xt,Ce),ui=new re(mn,"POST",function Yn(Zr){let qr;Gi(Zr);try{qr=Zr.getResponseHeader("X-Goog-Upload-URL")}catch{fe(!1)}return fe(Ee(qr)),qr},Z.maxUploadRetryTime);return ui.urlParams=bn,ui.headers=yr,ui.body=Vn,ui.errorHandler=pn(Q),ui}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),it=this._ref.storage._makeRequest(Ne,ts,Q,Ce);this._request=it,it.getPromise().then(It=>{this._request=void 0,this._uploadUrl=It,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((Ce,Ne)=>{const it=function ct(Z,Q,Ce,Ne){const mn=new re(Ce,"POST",function It(Wn){const yr=Gi(Wn,["active","final"]);let Vn=null;try{Vn=Wn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fe(!1)}Vn||fe(!1);const Un=Number(Vn);return fe(!isNaN(Un)),new lr(Un,Ne.size(),"final"===yr)},Z.maxUploadRetryTime);return mn.headers={"X-Goog-Upload-Command":"query"},mn.errorHandler=pn(Q),mn}(this._ref.storage,this._ref._location,Q,this._blob),It=this._ref.storage._makeRequest(it,ts,Ce,Ne);this._request=It,It.getPromise().then(Xt=>{this._request=void 0,this._updateProgress(Xt.current),this._needToFetchStatus=!1,Xt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,Ce=new lr(this._transferred,this._blob.size()),Ne=this._uploadUrl;this._resolveToken((it,It)=>{let Xt;try{Xt=function un(Z,Q,Ce,Ne,it,It,Xt,bn){const mn=new lr(0,0);if(Xt?(mn.current=Xt.current,mn.total=Xt.total):(mn.current=0,mn.total=Ne.size()),Ne.size()!==mn.total)throw function $e(){return new J(te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Wn=mn.total-mn.current;let yr=Wn;it>0&&(yr=Math.min(yr,it));const Vn=mn.current;let Yn="";Yn=0===yr?"finalize":Wn===yr?"upload, finalize":"upload";const ui={"X-Goog-Upload-Command":Yn,"X-Goog-Upload-Offset":`${mn.current}`},Zr=Ne.slice(Vn,Vn+yr);if(null===Zr)throw et();const Cr=new re(Ce,"POST",function qr(Di,Si){const Lr=Gi(Di,["active","final"]),yo=mn.current+yr,Vi=Ne.size();let Zs;return Zs="final"===Lr?dt(Q,It)(Di,Si):null,new lr(yo,Vi,"final"===Lr,Zs)},Q.maxUploadRetryTime);return Cr.headers=ui,Cr.body=Zr.uploadData(),Cr.progressCallback=bn||null,Cr.errorHandler=pn(Z),Cr}(this._ref._location,this._ref.storage,Ne,this._blob,Q,this._mappings,Ce,this._makeProgressCallback())}catch(mn){return this._error=mn,void this._transition("error")}const bn=this._ref.storage._makeRequest(Xt,ts,it,It,!1);this._request=bn,bn.getPromise().then(mn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(mn.current),mn.finalized?(this._metadata=mn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,Ce)=>{const Ne=Ir(this._ref.storage,this._ref._location,this._mappings),it=this._ref.storage._makeRequest(Ne,ts,Q,Ce);this._request=it,it.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,Ce)=>{const Ne=function gi(Z,Q,Ce,Ne,it){const It=Q.bucketOnlyServerUrl(),Xt={"X-Goog-Upload-Protocol":"multipart"},mn=function bn(){let Cr="";for(let Di=0;Di<2;Di++)Cr+=Math.random().toString().slice(2);return Cr}();Xt["Content-Type"]="multipart/related; boundary="+mn;const Wn=ys(Q,Ne,it),yr=ft(Wn,Ce),Yn=ni.getBlob("--"+mn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yr+"\r\n--"+mn+"\r\nContent-Type: "+Wn.contentType+"\r\n\r\n",Ne,"\r\n--"+mn+"--");if(null===Yn)throw et();const ui={name:Wn.fullPath},Zr=Lt(It,Z.host,Z._protocol),Ki=Z.maxUploadRetryTime,ei=new re(Zr,"POST",dt(Z,Ce),Ki);return ei.urlParams=ui,ei.headers=Xt,ei.body=Yn.uploadData(),ei.errorHandler=pn(Q),ei}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),it=this._ref.storage._makeRequest(Ne,ts,Q,Ce);this._request=it,it.getPromise().then(It=>{this._request=void 0,this._metadata=It,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const Ce=this._transferred;this._transferred=Q,this._transferred!==Ce&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Ce="paused"===this._state;this._state=Q,Ce&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=ze(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=mr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,Ce,Ne,it){const It=new kr(Ce||void 0,Ne||void 0,it||void 0);return this._addObserver(It),()=>{this._removeObserver(It)}}then(Q,Ce){return this._promise.then(Q,Ce)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const Ce=this._observers.indexOf(Q);-1!==Ce&&this._observers.splice(Ce,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Ce=>{this._notifyObserver(Ce)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(mr(this._state)){case Ln.SUCCESS:Kr(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:Kr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(mr(this._state)){case Ln.RUNNING:case Ln.PAUSED:Q.next&&Kr(Q.next.bind(Q,this.snapshot))();break;case Ln.SUCCESS:Q.complete&&Kr(Q.complete.bind(Q))();break;default:Q.error&&Kr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class ns{constructor(Q,Ce){this._service=Q,this._location=Ce instanceof Ue?Ce:Ue.makeFromUrl(Ce,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,Ce){return new ns(Q,Ce)}get root(){const Q=new Ue(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ii(this._location.path)}get storage(){return this._service}get parent(){const Q=function Ar(Z){if(0===Z.length)return null;const Q=Z.lastIndexOf("/");return-1===Q?"":Z.slice(0,Q)}(this._location.path);if(null===Q)return null;const Ce=new Ue(this._location.bucket,Q);return new ns(this._service,Ce)}_throwIfRoot(Q){if(""===this._location.path)throw sr(Q)}}function ko(Z,Q,Ce){return fi.apply(this,arguments)}function fi(){return(fi=(0,o.A)(function*(Z,Q,Ce){const it=yield Ma(Z,{pageToken:Ce});Q.prefixes.push(...it.prefixes),Q.items.push(...it.items),null!=it.nextPageToken&&(yield ko(Z,Q,it.nextPageToken))})).apply(this,arguments)}function Ma(Z,Q){null!=Q&&"number"==typeof Q.maxResults&&rt("options.maxResults",1,1e3,Q.maxResults);const Ce=Q||{},Ne=cn(Z.storage,Z._location,"/",Ce.pageToken,Ce.maxResults);return Z.storage.makeRequestWithTokens(Ne,ts)}function ba(Z){Z._throwIfRoot("getDownloadURL");const Q=function dr(Z,Q,Ce){const it=Lt(Q.fullServerUrl(),Z.host,Z._protocol),Xt=Z.maxOperationRetryTime,bn=new re(it,"GET",function ln(Z,Q){return function Ce(Ne,it){const It=Kt(Z,it,Q);return fe(null!==It),function _e(Z,Q,Ce,Ne){const it=er(Q);if(null===it||!Ee(it.downloadTokens))return null;const It=it.downloadTokens;if(0===It.length)return null;const Xt=encodeURIComponent;return It.split(",").map(Wn=>{const Vn=Z.fullPath;return Lt("/b/"+Xt(Z.bucket)+"/o/"+Xt(Vn),Ce,Ne)+An({alt:"media",token:Wn})})[0]}(It,it,Z.host,Z._protocol)}}(Z,Ce),Xt);return bn.errorHandler=Sn(Q),bn}(Z.storage,Z._location,At());return Z.storage.makeRequestWithTokens(Q,ts).then(Ce=>{if(null===Ce)throw function Ot(){return new J(te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Ce})}function ri(Z,Q){const Ce=function Hn(Z,Q){const Ce=Q.split("/").filter(Ne=>Ne.length>0).join("/");return 0===Z.length?Ce:Z+"/"+Ce}(Z._location.path,Q),Ne=new Ue(Z._location.bucket,Ce);return new ns(Z.storage,Ne)}function _o(Z,Q){if(Z instanceof Pr){const Ce=Z;if(null==Ce._bucket)throw function Oe(){return new J(te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+De+"' property when initializing the app?")}();const Ne=new ns(Ce,Ce._bucket);return null!=Q?_o(Ne,Q):Ne}return void 0!==Q?ri(Z,Q):Z}function Ei(Z,Q){if(Q&&function js(Z){return/^[A-Za-z]+:\/\//.test(Z)}(Q)){if(Z instanceof Pr)return function $s(Z,Q){return new ns(Z,Q)}(Z,Q);throw Yt("To use ref(service, url), the first argument must be a Storage instance.")}return _o(Z,Q)}function tr(Z,Q){const Ce=Q?.[De];return null==Ce?null:Ue.makeFromBucketSpec(Ce,Z)}class Pr{constructor(Q,Ce,Ne,it,It){this.app=Q,this._authProvider=Ce,this._appCheckProvider=Ne,this._url=it,this._firebaseVersion=It,this._bucket=null,this._host=ge,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=it?Ue.makeFromBucketSpec(it,this._host):tr(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Ue.makeFromBucketSpec(this._url,Q):tr(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){rt("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){rt("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,o.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const Ce=Q._authProvider.getImmediate({optional:!0});if(Ce){const Ne=yield Ce.getToken();if(null!==Ne)return Ne.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,o.A)(function*(){const Ce=Q._appCheckProvider.getImmediate({optional:!0});return Ce?(yield Ce.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new ns(this,Q)}_makeRequest(Q,Ce,Ne,it,It=!0){if(this._deleted)return new at(gn());{const Xt=function Er(Z,Q,Ce,Ne,it,It,Xt=!0){const bn=An(Z.urlParams),mn=Z.url+bn,Wn=Object.assign({},Z.headers);return function zt(Z,Q){Q&&(Z["X-Firebase-GMPID"]=Q)}(Wn,Q),function jn(Z,Q){null!==Q&&Q.length>0&&(Z.Authorization="Firebase "+Q)}(Wn,Ce),function xn(Z,Q){Z["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(Wn,It),function Bt(Z,Q){null!==Q&&(Z["X-Firebase-AppCheck"]=Q)}(Wn,Ne),new Bn(mn,Z.method,Wn,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,it,Xt)}(Q,this._appId,Ne,it,Ce,this._firebaseVersion,It);return this._requests.add(Xt),Xt.getPromise().then(()=>this._requests.delete(Xt),()=>this._requests.delete(Xt)),Xt}}makeRequestWithTokens(Q,Ce){var Ne=this;return(0,o.A)(function*(){const[it,It]=yield Promise.all([Ne._getAuthToken(),Ne._getAppCheckToken()]);return Ne._makeRequest(Q,Ce,it,It).getPromise()})()}}const us="@firebase/storage",Mi="storage";function rs(Z,Q,Ce){return function Ai(Z,Q,Ce){return Z._throwIfRoot("uploadBytesResumable"),new ci(Z,new ni(Q),Ce)}(Z=(0,i.Ku)(Z),Q,Ce)}function Qr(Z){return function Xa(Z){Z._throwIfRoot("getMetadata");const Q=Ir(Z.storage,Z._location,At());return Z.storage.makeRequestWithTokens(Q,ts)}(Z=(0,i.Ku)(Z))}function _n(Z,Q){return function Ci(Z,Q){Z._throwIfRoot("updateMetadata");const Ce=function Bs(Z,Q,Ce,Ne){const It=Lt(Q.fullServerUrl(),Z.host,Z._protocol),bn=ft(Ce,Ne),Wn=Z.maxOperationRetryTime,yr=new re(It,"PATCH",dt(Z,Ne),Wn);return yr.headers={"Content-Type":"application/json; charset=utf-8"},yr.body=bn,yr.errorHandler=Sn(Q),yr}(Z.storage,Z._location,Q,At());return Z.storage.makeRequestWithTokens(Ce,ts)}(Z=(0,i.Ku)(Z),Q)}function nr(Z,Q){return Ma(Z=(0,i.Ku)(Z),Q)}function hr(Z){return function ao(Z){const Q={prefixes:[],items:[]};return ko(Z,Q).then(()=>Q)}(Z=(0,i.Ku)(Z))}function Wi(Z){return ba(Z=(0,i.Ku)(Z))}function is(Z){return function Xs(Z){Z._throwIfRoot("deleteObject");const Q=function xi(Z,Q){const Ne=Lt(Q.fullServerUrl(),Z.host,Z._protocol),bn=new re(Ne,"DELETE",function Xt(mn,Wn){},Z.maxOperationRetryTime);return bn.successCodes=[200,204],bn.errorHandler=Sn(Q),bn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(Q,ts)}(Z=(0,i.Ku)(Z))}function Oi(Z,Q){return Ei(Z=(0,i.Ku)(Z),Q)}function Hs(Z,Q){return ri(Z,Q)}function Jr(Z=(0,ue.getApp)(),Q){Z=(0,i.Ku)(Z);const Ne=(0,ue._getProvider)(Z,Mi).getImmediate({identifier:Q}),it=(0,i.yU)("storage");return it&&ss(Ne,...it),Ne}function ss(Z,Q,Ce,Ne={}){!function Dr(Z,Q,Ce,Ne={}){Z.host=`${Q}:${Ce}`,Z._protocol="http";const{mockUserToken:it}=Ne;it&&(Z._overrideAuthToken="string"==typeof it?it:(0,i.Fy)(it,Z.app.options.projectId))}(Z,Q,Ce,Ne)}function hs(Z,{instanceIdentifier:Q}){const Ce=Z.getProvider("app").getImmediate(),Ne=Z.getProvider("auth-internal"),it=Z.getProvider("app-check-internal");return new Pr(Ce,Ne,it,Q,ue.SDK_VERSION)}!function ki(){(0,ue._registerComponent)(new ve.uA(Mi,hs,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(us,"0.13.2",""),(0,ue.registerVersion)(us,"0.13.2","esm2017")}()},1076:(on,tt,V)=>{V.d(tt,{Am:()=>$n,Bd:()=>Yt,FA:()=>rt,Fy:()=>et,I9:()=>Dn,Im:()=>an,Ku:()=>He,Ll:()=>Ie,T9:()=>Te,Uj:()=>ke,XA:()=>Ze,ZQ:()=>$e,bD:()=>Xn,c1:()=>sr,cY:()=>Oe,eX:()=>Ae,g:()=>lt,gR:()=>Bt,hp:()=>Hr,jZ:()=>Ot,lT:()=>at,lV:()=>Pt,mS:()=>Ge,nr:()=>en,p7:()=>gn,sr:()=>Qe,tD:()=>Yr,u:()=>J,yU:()=>ze,zW:()=>We,zw:()=>he});const ve=function($){const x=[];let k=0;for(let re=0;re<$.length;re++){let fe=$.charCodeAt(re);fe<128?x[k++]=fe:fe<2048?(x[k++]=fe>>6|192,x[k++]=63&fe|128):55296==(64512&fe)&&re+1<$.length&&56320==(64512&$.charCodeAt(re+1))?(fe=65536+((1023&fe)<<10)+(1023&$.charCodeAt(++re)),x[k++]=fe>>18|240,x[k++]=fe>>12&63|128,x[k++]=fe>>6&63|128,x[k++]=63&fe|128):(x[k++]=fe>>12|224,x[k++]=fe>>6&63|128,x[k++]=63&fe|128)}return x},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,x){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let fe=0;fe<$.length;fe+=3){const dt=$[fe],xt=fe+1<$.length,ln=xt?$[fe+1]:0,pn=fe+2<$.length,Sn=pn?$[fe+2]:0;let Wr=(15&ln)<<2|Sn>>6,dr=63&Sn;pn||(dr=64,xt||(Wr=64)),re.push(k[dt>>2],k[(3&dt)<<4|ln>>4],k[Wr],k[dr])}return re.join("")},encodeString($,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa($):this.encodeByteArray(ve($),x)},decodeString($,x){return this.HAS_NATIVE_SUPPORT&&!x?atob($):function($){const x=[];let k=0,re=0;for(;k<$.length;){const fe=$[k++];if(fe<128)x[re++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const dt=$[k++];x[re++]=String.fromCharCode((31&fe)<<6|63&dt)}else if(fe>239&&fe<365){const pn=((7&fe)<<18|(63&$[k++])<<12|(63&$[k++])<<6|63&$[k++])-65536;x[re++]=String.fromCharCode(55296+(pn>>10)),x[re++]=String.fromCharCode(56320+(1023&pn))}else{const dt=$[k++],xt=$[k++];x[re++]=String.fromCharCode((15&fe)<<12|(63&dt)<<6|63&xt)}}return x.join("")}(this.decodeStringToByteArray($,x))},decodeStringToByteArray($,x){this.init_();const k=x?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let fe=0;fe<$.length;){const dt=k[$.charAt(fe++)],ln=fe<$.length?k[$.charAt(fe)]:0;++fe;const Sn=fe<$.length?k[$.charAt(fe)]:64;++fe;const cn=fe<$.length?k[$.charAt(fe)]:64;if(++fe,null==dt||null==ln||null==Sn||null==cn)throw new be;re.push(dt<<2|ln>>4),64!==Sn&&(re.push(ln<<4&240|Sn>>2),64!==cn&&re.push(Sn<<6&192|cn))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ke=function($){return function($){const x=ve($);return De.encodeByteArray(x,!0)}($).replace(/\./g,"")},J=function($){try{return De.decodeString($,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function he($,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return x}for(const k in x)!x.hasOwnProperty(k)||!Fe(k)||($[k]=he($[k],x[k]));return $}function Fe($){return"__proto__"!==$}function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nt=()=>{try{return Ge().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=$&&J($[1]);return x&&JSON.parse(x)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},ze=$=>{const x=($=>{var x,k;return null===(k=null===(x=Nt())||void 0===x?void 0:x.emulatorHosts)||void 0===k?void 0:k[$]})($);if(!x)return;const k=x.lastIndexOf(":");if(k<=0||k+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const re=parseInt(x.substring(k+1),10);return"["===x[0]?[x.substring(1,k-1),re]:[x.substring(0,k),re]},Te=()=>{var $;return null===($=Nt())||void 0===$?void 0:$.config},Ze=$=>{var x;return null===(x=Nt())||void 0===x?void 0:x[`_${$}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,k)=>{this.resolve=x,this.reject=k})}wrapCallback(x){return(k,re)=>{k?this.reject(k):this.resolve(re),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(k):x(k,re))}}}function et($,x){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=x||"demo-project",fe=$.iat||0,dt=$.sub||$.user_id;if(!dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:fe,exp:fe+3600,auth_time:fe,sub:dt,user_id:dt,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(xt)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ie(){var $;const x=null===($=Nt())||void 0===$?void 0:$.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Yt(){return typeof window<"u"||gn()}function gn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function sr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Qe(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function at(){const $=$e();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function en(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise(($,x)=>{try{let k=!0;const re="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(re);fe.onsuccess=()=>{fe.result.close(),k||self.indexedDB.deleteDatabase(re),$(!0)},fe.onupgradeneeded=()=>{k=!1},fe.onerror=()=>{var dt;x((null===(dt=fe.error)||void 0===dt?void 0:dt.message)||"")}}catch(k){x(k)}})}class lt extends Error{constructor(x,k,re){super(k),this.code=x,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(x,k,re){this.service=x,this.serviceName=k,this.errors=re}create(x,...k){const re=k[0]||{},fe=`${this.service}/${x}`,dt=this.errors[x],xt=dt?function Lt($,x){return $.replace(An,(k,re)=>{const fe=x[re];return null!=fe?String(fe):`<${re}?>`})}(dt,re):"Error";return new lt(fe,`${this.serviceName}: ${xt} (${fe}).`,re)}}const An=/\{\$([^}]+)}/g;function Bt($,x){return Object.prototype.hasOwnProperty.call($,x)}function an($){for(const x in $)if(Object.prototype.hasOwnProperty.call($,x))return!1;return!0}function Xn($,x){if($===x)return!0;const k=Object.keys($),re=Object.keys(x);for(const fe of k){if(!re.includes(fe))return!1;const dt=$[fe],xt=x[fe];if($t(dt)&&$t(xt)){if(!Xn(dt,xt))return!1}else if(dt!==xt)return!1}for(const fe of re)if(!k.includes(fe))return!1;return!0}function $t($){return null!==$&&"object"==typeof $}function $n($){const x=[];for(const[k,re]of Object.entries($))Array.isArray(re)?re.forEach(fe=>{x.push(encodeURIComponent(k)+"="+encodeURIComponent(fe))}):x.push(encodeURIComponent(k)+"="+encodeURIComponent(re));return x.length?"&"+x.join("&"):""}function Dn($){const x={};return $.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[fe,dt]=re.split("=");x[decodeURIComponent(fe)]=decodeURIComponent(dt)}}),x}function Hr($){const x=$.indexOf("?");if(!x)return"";const k=$.indexOf("#",x);return $.substring(x,k>0?k:void 0)}function Yr($,x){const k=new Gn($,x);return k.subscribe.bind(k)}class Gn{constructor(x,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{x(this)}).catch(re=>{this.error(re)})}next(x){this.forEachObserver(k=>{k.next(x)})}error(x){this.forEachObserver(k=>{k.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,k,re){let fe;if(void 0===x&&void 0===k&&void 0===re)throw new Error("Missing Observer.");fe=function ms($,x){if("object"!=typeof $||null===$)return!1;for(const k of x)if(k in $&&"function"==typeof $[k])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:k,complete:re},void 0===fe.next&&(fe.next=fn),void 0===fe.error&&(fe.error=fn),void 0===fe.complete&&(fe.complete=fn);const dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),dt}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,x)}sendOne(x,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{k(this.observers[x])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function He($){return $&&$._delegate?$._delegate:$}},7304:(on,tt,V)=>{V.d(tt,{W:()=>Ze});var o=V(7705),ue=V(345),i=V(6814),ve=V(177);let ge=(()=>{class Oe{transform($e,Ot){if(!$e||!Ot)return $e;let Ie=$e;for(const Yt in Ot)if(Ot.hasOwnProperty(Yt)){const gn=new RegExp(`{{${Yt}}}`,"g");Ie=Ie.replace(gn,Ot[Yt])}return Ie}static{this.\u0275fac=function(Ot){return new(Ot||Oe)}}static{this.\u0275pipe=o.EJ8({name:"replaceKeyword",type:Oe,pure:!0})}}return Oe})();const De=function(Oe){return{"text-align":Oe}},be=function(Oe,et){return{color:Oe,"font-size":et}},Be=function(Oe){return{businessName:Oe}};function ke(Oe,et){if(1&Oe&&(o.j41(0,"div")(1,"div",9)(2,"span",10),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s(),o.nrm(5,"br"),o.j41(6,"span",11),o.EFF(7),o.k0s()()()),2&Oe){const $e=o.XpG(2);o.R7$(1),o.Y8G("ngStyle",o.eq3(8,De,$e.alignText)),o.R7$(1),o.Y8G("ngStyle",o.l_i(10,be,$e.subtitleColor,$e.subtitleFontSize+"px")),o.R7$(1),o.JRh(o.i5U(4,5,$e.subTitle,o.eq3(13,Be,$e._businessName))),o.R7$(3),o.Y8G("ngStyle",o.l_i(15,be,$e.titleColor,$e.titleFontSize+"px")),o.R7$(1),o.SpI("",$e.title," ")}}function J(Oe,et){if(1&Oe&&(o.j41(0,"div")(1,"h3")(2,"span",12),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s()(),o.j41(5,"div",13)(6,"h2",14),o.EFF(7),o.k0s()()()),2&Oe){const $e=o.XpG(2);o.R7$(3),o.JRh(o.i5U(4,2,$e.subTitle,o.eq3(5,Be,$e._businessName))),o.R7$(4),o.JRh($e.title)}}function te(Oe,et){if(1&Oe){const $e=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV($e);const Ie=o.XpG(2);return o.Njj(Ie.navigateToContact(Ie.buttonLink))}),o.EFF(1),o.k0s()}if(2&Oe){const $e=o.XpG(2);o.R7$(1),o.JRh($e.buttonText)}}const he=function(Oe,et,$e){return{"full-width":Oe,centered:et,shadow:$e}},Fe=function(Oe,et,$e,Ot){return{"background-color":Oe,color:et,"text-align":$e,"border-radius":Ot}};function Ge(Oe,et){if(1&Oe&&(o.j41(0,"div",2)(1,"div",3)(2,"div",4),o.DNE(3,ke,8,18,"div",5),o.DNE(4,J,8,7,"div",5),o.nrm(5,"p",6),o.j41(6,"div",7),o.DNE(7,te,2,1,"button",8),o.k0s()()()()),2&Oe){const $e=o.XpG();o.Y8G("ngClass",o.sMw(6,he,$e.fullWidth,!$e.fullWidth,$e.boxShadow))("ngStyle",o.ziG(10,Fe,$e.backgroundColor,$e.textColor,$e.alignText,$e.borderRadius+"px")),o.R7$(3),o.Y8G("ngIf","home"==$e.page),o.R7$(1),o.Y8G("ngIf","home"!=$e.page),o.R7$(1),o.Y8G("innerHTML",$e.sanitizedContent,o.npT),o.R7$(2),o.Y8G("ngIf",$e.showButton)}}function pt(Oe,et){if(1&Oe&&o.nrm(0,"img",19),2&Oe){const $e=o.XpG(2);o.Y8G("src",$e.imageURL,o.B4B)}}function Tt(Oe,et){1&Oe&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function Mt(Oe,et){if(1&Oe&&(o.j41(0,"div",2),o.DNE(1,pt,1,1,"img",16),o.j41(2,"h3",17),o.EFF(3),o.k0s(),o.j41(4,"h2",17),o.EFF(5),o.k0s(),o.nrm(6,"p",6),o.DNE(7,Tt,2,0,"button",18),o.k0s()),2&Oe){const $e=o.XpG();o.Y8G("ngClass",o.sMw(7,he,$e.fullWidth,!$e.fullWidth,$e.boxShadow))("ngStyle",o.ziG(11,Fe,$e.backgroundColor,$e.textColor,$e.alignText,$e.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",$e.imageURL&&$e.showImage),o.R7$(2),o.JRh($e.subTitle),o.R7$(2),o.JRh($e.title),o.R7$(1),o.Y8G("innerHTML",$e.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",$e.showButton)}}function Nt(Oe,et){if(1&Oe&&o.nrm(0,"img",19),2&Oe){const $e=o.XpG(2);o.Y8G("src",$e.imageURL,o.B4B)}}function Qt(Oe,et){if(1&Oe&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Oe){const $e=o.XpG(2);o.R7$(1),o.SpI(" ",$e.titleParts.part2,"")}}function ze(Oe,et){1&Oe&&(o.j41(0,"button",20),o.EFF(1,"Schedule A Visit"),o.k0s())}function Te(Oe,et){if(1&Oe&&(o.j41(0,"div",21),o.DNE(1,Nt,1,1,"img",16),o.j41(2,"div",22)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,Qt,2,1,"span",5),o.k0s(),o.nrm(7,"div",23)(8,"p",6),o.k0s(),o.DNE(9,ze,2,0,"button",18),o.k0s()),2&Oe){const $e=o.XpG();o.Y8G("ngClass",o.sMw(7,he,$e.fullWidth,!$e.fullWidth,$e.boxShadow))("ngStyle",o.ziG(11,Fe,$e.backgroundColor,$e.textColor,$e.alignText,$e.borderRadius+"px")),o.R7$(1),o.Y8G("ngIf",$e.imageURL&&$e.showImage),o.R7$(3),o.SpI(" ",$e.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",$e.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",$e.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",$e.showButton)}}let Ze=(()=>{class Oe{constructor($e,Ot){this.sanitizer=$e,this.router=Ot,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content($e){this._content=$e,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[$e,Ot]=this.title.split("|").map(Ie=>Ie.trim());return{part1:$e,part2:Ot}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact($e){this.router.navigate([$e])}convertToBoolean($e){return"boolean"==typeof $e?$e:"string"==typeof $e&&"true"===$e.toLowerCase()}static{this.\u0275fac=function(Ot){return new(Ot||Oe)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:Oe,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:3,vars:3,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Ot,Ie){1&Ot&&(o.DNE(0,Ge,8,15,"div",0),o.DNE(1,Mt,8,16,"div",0),o.DNE(2,Te,10,16,"div",1)),2&Ot&&(o.Y8G("ngIf","hh"==Ie.themeType),o.R7$(1),o.Y8G("ngIf","ae"==Ie.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Ie.themeType||"sp"==Ie.themeType))},dependencies:[ve.YU,ve.bT,ve.B3,ge]})}}return Oe})()},3711:(on,tt,V)=>{V.d(tt,{a:()=>De});var o=V(7705),ue=V(4710),i=V(177);function ve(be,Be){1&be&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function ge(be,Be){1&be&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let De=(()=>{class be{constructor(ke){this.googleMapsLoader=ke,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(ke=>{console.error("Error loading Google Maps script:",ke)})}ngOnChanges(ke){ke.address&&!ke.address.firstChange&&this.showAddressOnMap(ke.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(ke){this.geocoder.geocode({address:ke},(J,te)=>{if("OK"===te){this.map.setCenter(J[0].geometry.location);const he=new google.maps.LatLngBounds;he.extend(J[0].geometry.location),this.map.fitBounds(he),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:J[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+te)})}getZoomLevel(ke){document.getElementById("map");const he=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(ke*he)))}static{this.\u0275fac=function(J){return new(J||be)(o.rXU(ue.L))}}static{this.\u0275cmp=o.VBU({type:be,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(J,te){1&J&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,ve,2,0,"ng-container",1),o.DNE(3,ge,2,0,"ng-container",2),o.bVm(),o.k0s()),2&J&&(o.Y8G("ngSwitch",te.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return be})()},1915:(on,tt,V)=>{V.d(tt,{j:()=>sr});var o=V(7705),ue=V(6814),i=V(177),ve=V(4591);function ge(Qe,Pt){if(1&Qe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Qe){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(3),o.JRh(Ue.description)}}const De=function(Qe){return{color:Qe}};function be(Qe,Pt){if(1&Qe&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,ge,8,3,"div",10),o.k0s()()()),2&Qe){const Ue=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,De,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function Be(Qe,Pt){if(1&Qe&&(o.j41(0,"div",20),o.nrm(1,"i",21),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&Qe){const Ue=Pt.$implicit,at=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,De,at.textColor))("ngClass",Ue.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,De,at.subtitleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,De,at.textColor)),o.R7$(1),o.JRh(Ue.description)}}function ke(Qe,Pt){if(1&Qe&&(o.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),o.EFF(5),o.k0s(),o.j41(6,"span",17),o.EFF(7),o.k0s()()(),o.j41(8,"div",18),o.DNE(9,Be,6,12,"div",19),o.k0s()()()),2&Qe){const Ue=o.XpG(2);o.R7$(5),o.SpI("",Ue.title," "),o.R7$(2),o.JRh(Ue.subTitle),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}const J=function(Qe,Pt,Ue,at,Pe,st){return{"parallax-container":Qe,"regular-image-container":Pt,"solid-bg-container":Ue,"full-width":at,centered:Pe,shadow:st}},te=function(Qe,Pt,Ue,at,Pe){return{"background-image":Qe,"background-color":Pt,color:Ue,"text-align":at,"border-radius":Pe}};function he(Qe,Pt){if(1&Qe&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,be,7,5,"div",5),o.DNE(3,ke,10,3,"div",5),o.k0s()()),2&Qe){const Ue=o.XpG();o.Y8G("ngClass",o.l4e(4,J,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl,Ue.fullWidth,!Ue.fullWidth,Ue.boxShadow))("ngStyle",o.s1E(11,te,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none",Ue.backgroundColor,Ue.textColor,Ue.alignText,Ue.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!Ue.isMinimal),o.R7$(1),o.Y8G("ngIf",Ue.isMinimal)}}function Fe(Qe,Pt){if(1&Qe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Qe){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(3),o.JRh(Ue.description)}}function Ge(Qe,Pt){if(1&Qe&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",9),o.DNE(6,Fe,8,3,"div",10),o.k0s()()()),2&Qe){const Ue=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(3,De,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function pt(Qe,Pt){if(1&Qe&&(o.j41(0,"div",27),o.nrm(1,"i",28),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&Qe){const Ue=Pt.$implicit;o.R7$(1),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(2),o.JRh(Ue.description)}}function Tt(Qe,Pt){if(1&Qe){const Ue=o.RV6();o.j41(0,"div",29)(1,"button",30),o.bIt("click",function(){o.eBV(Ue);const Pe=o.XpG(3);return o.Njj(Pe.navigateTo("contact-us"))}),o.EFF(2),o.k0s()()}if(2&Qe){const Ue=o.XpG(3);o.R7$(2),o.JRh(Ue.buttonText)}}const Mt=function(Qe,Pt,Ue){return{"parallax-container":Qe,"regular-image-container":Pt,"solid-bg-container":Ue}},Nt=function(Qe){return{"background-image":Qe}};function Qt(Qe,Pt){if(1&Qe&&(o.j41(0,"div"),o.nrm(1,"app-section-tilte",23),o.j41(2,"div",24)(3,"div",18),o.DNE(4,pt,6,3,"div",25),o.k0s()(),o.DNE(5,Tt,3,1,"div",26),o.k0s()),2&Qe){const Ue=o.XpG(2);o.R7$(1),o.Y8G("titleColor",Ue.titleColor)("title",Ue.title),o.R7$(1),o.Y8G("ngClass",o.sMw(6,Mt,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl))("ngStyle",o.eq3(10,Nt,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none")),o.R7$(2),o.Y8G("ngForOf",Ue.items),o.R7$(1),o.Y8G("ngIf",Ue.showButton)}}function ze(Qe,Pt){if(1&Qe&&(o.j41(0,"section",4)(1,"div"),o.DNE(2,Ge,7,5,"div",5),o.DNE(3,Qt,6,12,"div",5),o.k0s()()),2&Qe){const Ue=o.XpG();o.Y8G("ngClass",o.l4e(4,J,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl,Ue.fullWidth,!Ue.fullWidth,Ue.boxShadow))("ngStyle",o.s1E(11,te,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none",Ue.backgroundColor,Ue.textColor,Ue.alignText,Ue.borderRadius+"px")),o.R7$(2),o.Y8G("ngIf",!Ue.isMinimal),o.R7$(1),o.Y8G("ngIf",Ue.isMinimal)}}function Te(Qe,Pt){if(1&Qe&&(o.j41(0,"div",11)(1,"div",12),o.nrm(2,"i",13),o.j41(3,"h2"),o.EFF(4),o.k0s()(),o.j41(5,"div",14)(6,"p"),o.EFF(7),o.k0s()()()),2&Qe){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(2),o.JRh(Ue.title),o.R7$(3),o.JRh(Ue.description)}}function Ze(Qe,Pt){if(1&Qe&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"h3",32),o.EFF(6),o.k0s(),o.j41(7,"div",9),o.DNE(8,Te,8,3,"div",10),o.k0s()()()),2&Qe){const Ue=o.XpG(2);o.R7$(3),o.Y8G("ngStyle",o.eq3(5,De,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(7,De,Ue.subtitleColor)),o.R7$(1),o.JRh(Ue.subTitle),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function Oe(Qe,Pt){if(1&Qe&&(o.j41(0,"div",27),o.nrm(1,"i",33),o.j41(2,"h2",22),o.EFF(3),o.k0s(),o.j41(4,"p",22),o.EFF(5),o.k0s()()),2&Qe){const Ue=Pt.$implicit,at=o.XpG(3);o.R7$(1),o.Y8G("ngStyle",o.eq3(6,De,at.titleColor))("ngClass",Ue.icon),o.R7$(1),o.Y8G("ngStyle",o.eq3(8,De,at.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(1),o.Y8G("ngStyle",o.eq3(10,De,at.subtitleColor)),o.R7$(1),o.JRh(Ue.description)}}const et=function(Qe,Pt,Ue,at,Pe){return{"parallax-container":Qe,"regular-image-container":Pt,"solid-bg-container":Ue,"full-width":at,centered:Pe}},$e=function(Qe,Pt,Ue){return{"background-image":Qe,"background-color":Pt,color:Ue}};function Ot(Qe,Pt){if(1&Qe&&(o.j41(0,"div")(1,"div",24)(2,"div",7)(3,"h2",8),o.EFF(4),o.k0s()(),o.j41(5,"div",18),o.DNE(6,Oe,6,12,"div",25),o.k0s()()()),2&Qe){const Ue=o.XpG(2);o.R7$(1),o.Y8G("ngClass",o.s1E(5,et,Ue.isParallax&&Ue.sectionImageUrl,!Ue.isParallax&&Ue.sectionImageUrl,!Ue.sectionImageUrl,Ue.fullWidth,!Ue.fullWidth))("ngStyle",o.sMw(11,$e,Ue.sectionImageUrl?"url("+Ue.sectionImageUrl+")":"none",Ue.backgroundColor,Ue.textColor)),o.R7$(2),o.Y8G("ngStyle",o.eq3(15,De,Ue.titleColor)),o.R7$(1),o.JRh(Ue.title),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}function Ie(Qe,Pt){if(1&Qe&&(o.j41(0,"section",31)(1,"div"),o.DNE(2,Ze,9,9,"div",5),o.DNE(3,Ot,7,17,"div",5),o.k0s()()),2&Qe){const Ue=o.XpG();o.R7$(2),o.Y8G("ngIf",!Ue.isMinimal),o.R7$(1),o.Y8G("ngIf",Ue.isMinimal)}}function Yt(Qe,Pt){if(1&Qe&&(o.j41(0,"div",38)(1,"div",39),o.nrm(2,"i",40),o.k0s(),o.j41(3,"div",41)(4,"h2",42),o.EFF(5),o.k0s(),o.j41(6,"p",43),o.EFF(7),o.k0s()()()),2&Qe){const Ue=Pt.$implicit;o.R7$(2),o.Y8G("ngClass",Ue.icon),o.R7$(3),o.JRh(Ue.name),o.R7$(2),o.JRh(Ue.description)}}function gn(Qe,Pt){if(1&Qe&&(o.j41(0,"section",34),o.nrm(1,"app-section-tilte",35),o.j41(2,"div",36),o.DNE(3,Yt,8,3,"div",37),o.k0s()()),2&Qe){const Ue=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",Ue.items)}}let sr=(()=>{class Qe{constructor(Ue){this.router=Ue,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(Ue){return"boolean"==typeof Ue?Ue:"string"==typeof Ue&&"true"===Ue.toLowerCase()}navigateTo(Ue){this.router.navigate(["/"+Ue],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(at){return new(at||Qe)(o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:Qe,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId"},decls:5,vars:4,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(at,Pe){1&at&&(o.j41(0,"div",0),o.DNE(1,he,4,17,"section",1),o.DNE(2,ze,4,17,"section",1),o.DNE(3,Ie,4,2,"section",2),o.DNE(4,gn,4,2,"section",3),o.k0s()),2&at&&(o.R7$(1),o.Y8G("ngIf","hh"===Pe.themeType),o.R7$(1),o.Y8G("ngIf","ae"===Pe.themeType),o.R7$(1),o.Y8G("ngIf","prestige"===Pe.themeType),o.R7$(1),o.Y8G("ngIf","sb"==Pe.themeType||"sp"==Pe.themeType))},dependencies:[i.YU,i.Sq,i.bT,i.B3,ve.L]})}}return Qe})()},491:(on,tt,V)=>{V.d(tt,{G:()=>J});var o=V(7705),ue=V(345),i=V(6814),ve=V(177);const ge=function(te,he,Fe){return{"full-width":te,centered:he,shadow:Fe}},De=function(te,he,Fe,Ge){return{"background-color":te,color:he,"text-align":Fe,"border-radius":Ge}};function be(te,he){if(1&te&&(o.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),o.EFF(4),o.k0s()(),o.nrm(5,"p",6),o.k0s(),o.j41(6,"div",7),o.nrm(7,"img",8),o.k0s()()),2&te){const Fe=o.XpG();o.Y8G("ngClass",o.sMw(6,ge,Fe.fullWidth,!Fe.fullWidth,Fe.boxShadow))("ngStyle",o.ziG(10,De,Fe.backgroundColor,Fe.textColor,Fe.alignText,Fe.borderRadius+"px")),o.R7$(4),o.JRh(Fe.title),o.R7$(1),o.Y8G("innerHTML",Fe.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",Fe.sectionImageUrl,o.B4B),o.FS9("alt",Fe.title)}}function Be(te,he){if(1&te&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&te){const Fe=o.XpG(2);o.R7$(1),o.SpI(" ",Fe.titleParts.part2,"")}}function ke(te,he){if(1&te&&(o.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,Be,2,1,"span",12),o.k0s(),o.nrm(8,"div",13)(9,"p",6),o.k0s(),o.j41(10,"div",14),o.nrm(11,"img",8),o.k0s()()()()),2&te){const Fe=o.XpG();o.R7$(5),o.SpI(" ",Fe.titleParts.part1," "),o.R7$(2),o.Y8G("ngIf",Fe.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Fe.sanitizedContent,o.npT),o.R7$(2),o.FS9("src",Fe.sectionImageUrl,o.B4B),o.FS9("alt",Fe.title)}}let J=(()=>{class te{constructor(Fe,Ge){this.sanitizer=Fe,this.router=Ge,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Fe){this._content=Fe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Fe,Ge]=this.title.split("|").map(pt=>pt.trim());return{part1:Fe,part2:Ge}}return{part1:this.title,part2:null}}get contentText(){return this._content}static{this.\u0275fac=function(Ge){return new(Ge||te)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:te,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:2,vars:2,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"]],template:function(Ge,pt){1&Ge&&(o.DNE(0,be,8,15,"section",0),o.DNE(1,ke,12,5,"section",1)),2&Ge&&(o.Y8G("ngIf","hh"===pt.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===pt.themeType||"ae"===pt.themeType||"sb"===pt.themeType||"sp"===pt.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return te})()},4593:(on,tt,V)=>{V.d(tt,{F:()=>J});var o=V(7705),ue=V(345),i=V(6814),ve=V(177);const ge=function(te,he,Fe){return{"full-width":te,centered:he,shadow:Fe}},De=function(te,he,Fe,Ge){return{"background-color":te,color:he,"text-align":Fe,"border-radius":Ge}};function be(te,he){if(1&te&&(o.j41(0,"section",2)(1,"div",3),o.nrm(2,"img",4),o.k0s(),o.j41(3,"div",5)(4,"div",6)(5,"h2",7),o.EFF(6),o.k0s()(),o.nrm(7,"p",8),o.k0s()()),2&te){const Fe=o.XpG();o.Y8G("ngClass",o.sMw(6,ge,Fe.fullWidth,!Fe.fullWidth,Fe.boxShadow))("ngStyle",o.ziG(10,De,Fe.backgroundColor,Fe.textColor,Fe.alignText,Fe.borderRadius+"px")),o.R7$(2),o.FS9("src",Fe.sectionImageUrl,o.B4B),o.FS9("alt",Fe.title),o.R7$(4),o.JRh(Fe.title),o.R7$(1),o.Y8G("innerHTML",Fe.sanitizedContent,o.npT)}}function Be(te,he){if(1&te&&(o.j41(0,"h2")(1,"span"),o.EFF(2),o.k0s()()),2&te){const Fe=o.XpG(2);o.R7$(2),o.JRh(Fe.titleParts.part2)}}function ke(te,he){if(1&te&&(o.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",12),o.nrm(4,"img",4),o.k0s(),o.j41(5,"div",5)(6,"h3"),o.EFF(7),o.k0s(),o.DNE(8,Be,3,1,"h2",13),o.nrm(9,"div",14),o.j41(10,"p",8),o.EFF(11),o.k0s()()()()()),2&te){const Fe=o.XpG();o.R7$(4),o.FS9("src",Fe.sectionImageUrl,o.B4B),o.FS9("alt",Fe.title),o.R7$(3),o.JRh(Fe.titleParts.part1),o.R7$(1),o.Y8G("ngIf",Fe.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Fe.sanitizedContent,o.npT),o.R7$(1),o.JRh(Fe.content)}}let J=(()=>{class te{constructor(Fe,Ge){this.sanitizer=Fe,this.router=Ge,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Fe){this._content=Fe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Fe)}get titleParts(){if(this.title.includes("|")){const[Fe,Ge]=this.title.split("|").map(pt=>pt.trim());return{part1:Fe,part2:Ge}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(Ge){return new(Ge||te)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:te,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"]],template:function(Ge,pt){1&Ge&&(o.DNE(0,be,8,15,"section",0),o.DNE(1,ke,12,6,"section",1)),2&Ge&&(o.Y8G("ngIf","hh"===pt.themeType),o.R7$(1),o.Y8G("ngIf","clemo"===pt.themeType||"ae"===pt.themeType||"sb"===pt.themeType||"sp"===pt.themeType))},dependencies:[ve.YU,ve.bT,ve.B3]})}}return te})()},4591:(on,tt,V)=>{V.d(tt,{L:()=>ve});var o=V(7705),ue=V(177);const i=function(ge){return{color:ge}};let ve=(()=>{class ge{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(Be){return new(Be||ge)}}static{this.\u0275cmp=o.VBU({type:ge,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(Be,ke){1&Be&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&Be&&(o.R7$(1),o.Y8G("ngStyle",o.eq3(2,i,ke.titleColor)),o.R7$(1),o.JRh(ke.title))},dependencies:[ue.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return ge})()},3831:(on,tt,V)=>{V.d(tt,{B:()=>qt});var o=V(7705),ue=V(7304),i=V(4593),ve=V(491),ge=V(6814),De=V(923),be=V(177);const Be=function(Ve,Kt){return{"clemo-btn":Ve,"clemo-btn-outline":Kt}},ke=function(Ve){return{"border-radius":Ve}};function J(Ve,Kt){if(1&Ve&&(o.qex(0),o.j41(1,"a",14),o.EFF(2),o.k0s(),o.bVm()),2&Ve){const _e=Kt.$implicit,ft=o.XpG(3);o.R7$(1),o.Y8G("routerLink",_e.link)("ngClass",o.l_i(4,Be,!_e.outline,_e.outline))("ngStyle",o.eq3(7,ke,ft.buttonBorderRadius)),o.R7$(1),o.SpI(" ",_e.text," ")}}const te=function(Ve,Kt){return{"font-size":Ve,"font-weight":Kt}};function he(Ve,Kt){if(1&Ve&&(o.j41(0,"div",6)(1,"h1"),o.EFF(2),o.k0s(),o.nrm(3,"div",7)(4,"h2",8),o.j41(5,"div",9),o.DNE(6,J,3,9,"ng-container",10),o.k0s(),o.j41(7,"div",11)(8,"div",12),o.nrm(9,"div",13),o.k0s(),o.j41(10,"p"),o.EFF(11,"Scroll down"),o.k0s()()()),2&Ve){const _e=o.XpG().$implicit,ft=o.XpG();o.R7$(2),o.JRh(_e.title),o.R7$(2),o.Y8G("ngStyle",o.l_i(4,te,ft.subtitleSize,ft.subtitleWeight))("innerHTML",_e.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",_e.buttons)}}const Fe=function(Ve){return{backgroundImage:Ve,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Ge(Ve,Kt){if(1&Ve&&(o.j41(0,"div",3),o.nrm(1,"div",4),o.DNE(2,he,12,7,"div",5),o.k0s()),2&Ve){const _e=Kt.$implicit,ft=Kt.index,He=o.XpG();o.AVh("clemo-active",ft===He.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(4,Fe,"url("+_e.backgroundImage+")")),o.R7$(1),o.Y8G("ngIf",null==_e.title?null:_e.title.trim())}}const pt=function(Ve){return{"line-style":Ve}};function Tt(Ve,Kt){if(1&Ve){const _e=o.RV6();o.j41(0,"div",19),o.bIt("click",function(){const $=o.eBV(_e).index,x=o.XpG(2);return o.Njj(x.navigateToSlide($))}),o.k0s()}if(2&Ve){const _e=Kt.index,ft=o.XpG(2);o.AVh("clemo-active",_e===ft.currentSlide),o.Y8G("ngClass",o.eq3(3,pt,"bottom"===ft.navigation))}}function Mt(Ve,Kt){if(1&Ve){const _e=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(_e);const He=o.XpG(2);return o.Njj(He.prevSlide())}),o.nrm(1,"span",21),o.j41(2,"span",22),o.EFF(3,"Previous"),o.k0s()()}}function Nt(Ve,Kt){if(1&Ve){const _e=o.RV6();o.j41(0,"button",23),o.bIt("click",function(){o.eBV(_e);const He=o.XpG(2);return o.Njj(He.nextSlide())}),o.nrm(1,"span",24),o.j41(2,"span",22),o.EFF(3,"Next"),o.k0s()()}}const Qt=function(Ve){return{"bottom-nav":Ve}};function ze(Ve,Kt){if(1&Ve&&(o.j41(0,"div")(1,"div",15),o.DNE(2,Tt,1,5,"div",16),o.k0s(),o.DNE(3,Mt,4,0,"button",17),o.DNE(4,Nt,4,0,"button",18),o.k0s()),2&Ve){const _e=o.XpG();o.R7$(1),o.Y8G("ngClass",o.eq3(4,Qt,"bottom"===_e.navigation)),o.R7$(1),o.Y8G("ngForOf",_e.slides),o.R7$(1),o.Y8G("ngIf",_e.sideButtons),o.R7$(1),o.Y8G("ngIf",_e.sideButtons)}}const Te=function(Ve,Kt,_e,ft,He){return{"--slider-opacity":Ve,height:Kt,"--button-border-radius":_e,"--subtitle-size":ft,"--subtitle-weight":He}};let Ze=(()=>{class Ve{constructor(_e,ft){this.router=_e,this.businessDataService=ft,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(_e=>{_e?(this.business=_e,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(ft=>({title:this.replaceKeywords(ft.title),subtitle:this.replaceKeywords(ft.subtitle),backgroundImage:ft.backgroundImage,buttons:ft.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(_e){this.navigation=_e.navigation??"side",this.sideButtons=_e.sideButtons??!0,this.sliderHeight=_e.sliderHeight??"100vh",this.buttonBorderRadius=_e.buttonBorderRadius??"25px",this.subtitleSize=_e.subtitleSize??"1.5rem",this.subtitleWeight=_e.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",_e)}replaceKeywords(_e){return _e&&this.business?.businessName?_e.replace(/{{businessName}}/g,this.business.businessName):_e}navigateToSlide(_e){this.currentSlide=_e}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const _e=window.scrollY,ft=window.innerHeight;this.sliderOpacity=Math.max(1-_e/ft,0)}static{this.\u0275fac=function(ft){return new(ft||Ve)(o.rXU(ge.Ix),o.rXU(De.A))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-hero-slider"]],hostBindings:function(ft,He){1&ft&&o.bIt("scroll",function(x){return He.onScroll(x)},!1,o.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(ft,He){1&ft&&(o.j41(0,"div",0),o.DNE(1,Ge,3,6,"div",1),o.DNE(2,ze,5,6,"div",2),o.k0s()),2&ft&&(o.Y8G("ngStyle",o.s1E(3,Te,He.sliderOpacity,He.sliderHeight,He.buttonBorderRadius,He.subtitleSize,He.subtitleWeight)),o.R7$(1),o.Y8G("ngForOf",He.slides),o.R7$(1),o.Y8G("ngIf",He.slides.length>1))},dependencies:[be.YU,be.Sq,be.bT,be.B3,ge.Wk,ge.wQ]})}}return Ve})();var Oe=V(1915);function et(Ve,Kt){if(1&Ve&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&Ve){const _e=Kt.$implicit;o.R7$(1),o.Y8G("innerHTML",_e.title,o.npT),o.R7$(1),o.Y8G("innerHTML",_e.description,o.npT)}}const $e=function(Ve,Kt,_e){return{"full-width":Ve,centered:Kt,shadow:_e}},Ot=function(Ve,Kt,_e,ft){return{"background-color":Ve,color:Kt,"text-align":_e,"border-radius":ft}};function Ie(Ve,Kt){if(1&Ve&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,et,3,2,"div",11),o.k0s()()(),o.bVm()),2&Ve){const _e=o.XpG();o.Y8G("ngClass",o.sMw(5,$e,_e.fullWidth,!_e.fullWidth,_e.boxShadow))("ngStyle",o.ziG(9,Ot,_e.backgroundColor,_e.textColor,_e.alignText,_e.borderRadius+"px")),o.R7$(4),o.SpI("",_e.title," "),o.R7$(2),o.JRh(_e.subTitle),o.R7$(3),o.Y8G("ngForOf",_e.items)}}function Yt(Ve,Kt){1&Ve&&o.eu8(0)}function gn(Ve,Kt){if(1&Ve&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&Ve){const _e=Kt.$implicit;o.R7$(1),o.Y8G("innerHTML",_e.title,o.npT),o.R7$(1),o.Y8G("innerHTML",_e.description,o.npT)}}function sr(Ve,Kt){if(1&Ve&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,gn,3,2,"div",11),o.k0s()()(),o.bVm()),2&Ve){const _e=o.XpG();o.R7$(4),o.SpI("",_e.title," "),o.R7$(2),o.JRh(_e.subTitle),o.R7$(3),o.Y8G("ngForOf",_e.items)}}let Qe=(()=>{class Ve{constructor(_e){this.route=_e,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Features  Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(ft){return new(ft||Ve)(o.rXU(ge.nX))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ft,He){1&ft&&(o.j41(0,"div",0),o.DNE(1,Ie,10,14,"ng-container",1),o.DNE(2,Yt,1,0,"ng-container",2),o.DNE(3,sr,10,3,"ng-container",3),o.k0s()),2&ft&&(o.Y8G("ngSwitch",He.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return Ve})();function Pt(Ve,Kt){if(1&Ve&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&Ve){const _e=Kt.$implicit;o.R7$(5),o.SpI('" ',_e.quote,' "'),o.R7$(2),o.JRh(_e.name)}}function Ue(Ve,Kt){if(1&Ve&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,Pt,8,2,"div",7),o.k0s()(),o.bVm()),2&Ve){const _e=o.XpG();o.R7$(6),o.Y8G("ngForOf",_e.testimonials)}}function at(Ve,Kt){if(1&Ve&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&Ve){const _e=Kt.$implicit;o.R7$(5),o.JRh(_e.quote),o.R7$(2),o.JRh(_e.name)}}function Pe(Ve,Kt){if(1&Ve&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,at,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&Ve){const _e=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,_e.testimonials,0,4))}}function st(Ve,Kt){if(1&Ve&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&Ve){const _e=Kt.$implicit;o.R7$(5),o.JRh(_e.quote),o.R7$(2),o.JRh(_e.name)}}function en(Ve,Kt){if(1&Ve&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,st,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&Ve){const _e=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,_e.testimonials,0,4))}}function We(Ve,Kt){if(1&Ve&&(o.j41(0,"div",33)(1,"div",34),o.nrm(2,"div",35),o.j41(3,"p",36),o.EFF(4),o.k0s()(),o.j41(5,"div",37)(6,"p",38),o.EFF(7),o.k0s()()()),2&Ve){const _e=Kt.$implicit;o.R7$(4),o.JRh(_e.quote),o.R7$(3),o.JRh(_e.name)}}function Ae(Ve,Kt){if(1&Ve&&(o.qex(0),o.j41(1,"section",26)(2,"div",27)(3,"h2",28),o.EFF(4,"Word of Mouth"),o.k0s(),o.j41(5,"p",29),o.EFF(6,"You should hear what people have to say about us"),o.k0s()(),o.j41(7,"div",30)(8,"div",31),o.DNE(9,We,8,2,"div",32),o.k0s()()(),o.bVm()),2&Ve){const _e=o.XpG();o.R7$(9),o.Y8G("ngForOf",_e.testimonials)}}let Ee=(()=>{class Ve{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(_e){this.currentIndex=_e,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(ft){return new(ft||Ve)}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(ft,He){1&ft&&(o.j41(0,"div",0),o.DNE(1,Ue,7,1,"ng-container",1),o.DNE(2,Pe,15,5,"ng-container",1),o.DNE(3,en,15,5,"ng-container",1),o.DNE(4,Ae,10,1,"ng-container",2),o.k0s()),2&ft&&(o.Y8G("ngSwitch",He.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[be.Sq,be.ux,be.e1,be.fG,ge.Wk,be.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return Ve})();var Me=V(9969),lt=V(4710);function rt(Ve,Kt){1&Ve&&(o.j41(0,"div",16),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function Lt(Ve,Kt){if(1&Ve){const _e=o.RV6();o.j41(0,"span"),o.EFF(1,"[...]"),o.j41(2,"button",17),o.bIt("click",function(){o.eBV(_e);const He=o.XpG(3);return o.Njj(He.navigateToTestimonials())}),o.EFF(3," Read More "),o.k0s()()}}function An(Ve,Kt){if(1&Ve&&(o.j41(0,"div",8)(1,"div",9)(2,"h3",10),o.EFF(3),o.k0s(),o.nrm(4,"div",11),o.j41(5,"p",12),o.EFF(6),o.k0s(),o.DNE(7,rt,2,0,"div",13),o.k0s(),o.j41(8,"div",14)(9,"p"),o.EFF(10),o.DNE(11,Lt,4,0,"span",15),o.k0s()()()),2&Ve){const _e=Kt.$implicit,ft=o.XpG(2);o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(_e.name),o.R7$(3),o.JRh(_e.relationship),o.R7$(1),o.Y8G("ngIf",_e.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",ft.truncateText(_e.quote)," "),o.R7$(1),o.Y8G("ngIf",ft.isTruncated(_e.quote))}}function rr(Ve,Kt){if(1&Ve){const _e=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){const $=o.eBV(_e).index,x=o.XpG(2);return o.Njj(x.goToSlide($))}),o.EFF(1," \u25cf "),o.k0s()}if(2&Ve){const _e=Kt.index,ft=o.XpG(2);o.AVh("active",_e===ft.currentIndex)}}function sn(Ve,Kt){if(1&Ve&&(o.j41(0,"a",19),o.EFF(1," Leave a Google Review "),o.k0s()),2&Ve){const _e=o.XpG(2);o.Y8G("href",_e.googleReviewLink,o.B4B)}}const Bn=function(Ve){return[Ve]};function Jt(Ve,Kt){if(1&Ve&&(o.qex(0),o.DNE(1,An,12,8,"div",4),o.j41(2,"div",5),o.DNE(3,rr,2,2,"button",6),o.k0s(),o.DNE(4,sn,2,1,"a",7),o.bVm()),2&Ve){const _e=o.XpG();o.R7$(1),o.Y8G("ngForOf",o.eq3(4,Bn,_e.currentTestimonial))("ngForTrackBy",_e.trackByIndex),o.R7$(2),o.Y8G("ngForOf",_e.testimonials),o.R7$(1),o.Y8G("ngIf",_e.placeId)}}function jn(Ve,Kt){1&Ve&&(o.j41(0,"p",20),o.EFF(1,"No testimonials available at the moment."),o.k0s())}let xn=(()=>{class Ve{constructor(_e,ft,He){this.businessDataService=_e,this.googleMapsLoader=ft,this.router=He,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(_e=>{if(_e&&_e.testimonials){const ft=_e.testimonials.map(He=>({...He,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...ft]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(ft,He)=>{if(He===google.maps.places.PlacesServiceStatus.OK){const $=ft?.reviews?.map(x=>({name:x.author_name,quote:x.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...$,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",He)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(_e){this.currentIndex=_e}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(_e,ft){return _e}truncateText(_e){return _e.length>this.maxTextLength?_e.slice(0,this.maxTextLength):_e}isTruncated(_e){return _e.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(ft){return new(ft||Ve)(o.rXU(De.A),o.rXU(lt.L),o.rXU(ge.Ix))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:2,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer","class","afhBtn leave-review",3,"href",4,"ngIf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],[1,"btn","read-more",3,"click"],[3,"click"],["target","_blank","rel","noopener noreferrer",1,"afhBtn","leave-review",3,"href"],[1,"no-testimonials-message"]],template:function(ft,He){if(1&ft&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,Jt,5,6,"ng-container",2),o.DNE(4,jn,2,0,"ng-template",null,3,o.C5r),o.k0s()),2&ft){const $=o.sdS(5);o.R7$(3),o.Y8G("ngIf",He.currentTestimonial)("ngIfElse",$)}},dependencies:[be.Sq,be.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,Me.hZ)("slideIn",[(0,Me.kY)(":enter",[(0,Me.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Me.i0)("0.5s ease-in",(0,Me.iF)({opacity:1,transform:"translateX(0)"}))]),(0,Me.kY)(":leave",[(0,Me.i0)("0.5s ease-out",(0,Me.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,Me.hZ)("fadeInLeft",[(0,Me.kY)(":enter",[(0,Me.iF)({opacity:0,transform:"translateX(-100%)"}),(0,Me.i0)("0.5s ease-in",(0,Me.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,Me.hZ)("fadeInRight",[(0,Me.kY)(":enter",[(0,Me.iF)({opacity:0,transform:"translateX(100%)"}),(0,Me.i0)("0.5s ease-in",(0,Me.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return Ve})();function zt(Ve,Kt){if(1&Ve){const _e=o.RV6();o.qex(0),o.j41(1,"div",2)(2,"div",3)(3,"span",4),o.EFF(4,"Ready to "),o.k0s(),o.j41(5,"span",5),o.EFF(6,"Take the Next Step?"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," We\u2019d love to welcome you into our home. Fill out our resident intake form, and let\u2019s start planning the care and comfort your loved one deserves. "),o.k0s(),o.j41(9,"button",7),o.bIt("click",function(){o.eBV(_e);const He=o.XpG();return o.Njj(He.navigateTo("resident-form"))}),o.EFF(10,"Get Started"),o.k0s()(),o.bVm()}}function Bt(Ve,Kt){if(1&Ve){const _e=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",15),o.bIt("click",function(){o.eBV(_e);const He=o.XpG();return o.Njj(He.navigateToContact(He.id))}),o.EFF(13,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&Ve){const _e=o.XpG();o.R7$(8),o.SpI("",_e.businessName,"?")}}function Er(Ve,Kt){if(1&Ve){const _e=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",16),o.bIt("click",function(){o.eBV(_e);const He=o.XpG();return o.Njj(He.navigateToContact(He.id))}),o.EFF(13,"Let's Talk"),o.k0s()()()()(),o.bVm()}if(2&Ve){const _e=o.XpG();o.R7$(8),o.SpI("",_e.businessName,"?")}}let an=(()=>{class Ve{constructor(_e){this.router=_e,this.id=null,this.layoutType="demo"}navigateToContact(_e){this.router.navigate(["/contact-us"],{queryParams:{id:_e}})}navigateTo(_e){this.router.navigate(["/"+_e],{queryParams:{id:this.id}})}static{this.\u0275fac=function(ft){return new(ft||Ve)(o.rXU(ge.Ix))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],[1,"btn",3,"click"]],template:function(ft,He){1&ft&&(o.j41(0,"div",0),o.DNE(1,zt,11,0,"ng-container",1),o.DNE(2,Bt,14,1,"ng-container",1),o.DNE(3,Er,14,1,"ng-container",1),o.k0s()),2&ft&&(o.Y8G("ngSwitch",He.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","sb"))},dependencies:[be.ux,be.e1]})}}return Ve})();function Fr(Ve,Kt){if(1&Ve&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&Ve){const _e=Kt.$implicit;o.R7$(1),o.Y8G("innerHTML",_e.title,o.npT),o.R7$(1),o.Y8G("innerHTML",_e.description,o.npT)}}const Xn=function(Ve,Kt,_e){return{"full-width":Ve,centered:Kt,shadow:_e}},$t=function(Ve,Kt,_e,ft){return{"background-color":Ve,color:Kt,"text-align":_e,"border-radius":ft}};function wn(Ve,Kt){if(1&Ve&&(o.qex(0,4),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,Fr,3,2,"div",11),o.k0s()()(),o.bVm()),2&Ve){const _e=o.XpG();o.Y8G("ngClass",o.sMw(5,Xn,_e.fullWidth,!_e.fullWidth,_e.boxShadow))("ngStyle",o.ziG(9,$t,_e.backgroundColor,_e.textColor,_e.alignText,_e.borderRadius+"px")),o.R7$(4),o.JRh(_e.title),o.R7$(2),o.SpI(" ",_e.subTitle," "),o.R7$(3),o.Y8G("ngForOf",_e.items)}}function $n(Ve,Kt){1&Ve&&o.eu8(0)}function Dn(Ve,Kt){if(1&Ve&&(o.j41(0,"div",12),o.nrm(1,"div",13)(2,"div",14),o.k0s()),2&Ve){const _e=Kt.$implicit;o.R7$(1),o.Y8G("innerHTML",_e.title,o.npT),o.R7$(1),o.Y8G("innerHTML",_e.description,o.npT)}}function Hr(Ve,Kt){if(1&Ve&&(o.qex(0),o.j41(1,"section",5)(2,"div",6)(3,"span",7),o.EFF(4),o.k0s(),o.j41(5,"span",8),o.EFF(6),o.k0s()(),o.j41(7,"div",9)(8,"div",10),o.DNE(9,Dn,3,2,"div",11),o.k0s()()(),o.bVm()),2&Ve){const _e=o.XpG();o.R7$(4),o.SpI("",_e.title," "),o.R7$(2),o.SpI(" ",_e.subTitle,""),o.R7$(3),o.Y8G("ngForOf",_e.items)}}let xr=(()=>{class Ve{constructor(_e){this.route=_e,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(ft){return new(ft||Ve)(o.rXU(ge.nX))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(ft,He){1&ft&&(o.j41(0,"div",0),o.DNE(1,wn,10,14,"ng-container",1),o.DNE(2,$n,1,0,"ng-container",2),o.DNE(3,Hr,10,3,"ng-container",3),o.k0s()),2&ft&&(o.Y8G("ngSwitch",He.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[be.YU,be.Sq,be.B3,be.ux,be.e1,be.fG]})}}return Ve})();var Yr=V(3711),Gn=V(5558);function hi(Ve,Kt){if(1&Ve&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s(),o.j41(4,"p",10),o.EFF(5),o.k0s()()),2&Ve){const _e=Kt.$implicit;o.R7$(1),o.HbH(_e.icon),o.R7$(2),o.JRh(_e.title),o.R7$(2),o.JRh(_e.description)}}function ms(Ve,Kt){1&Ve&&(o.j41(0,"button",11),o.EFF(1,"Learn More"),o.k0s())}let fn=(()=>{class Ve{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(ft){return new(ft||Ve)}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(ft,He){1&ft&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4),o.k0s(),o.j41(5,"div",4),o.DNE(6,hi,6,4,"div",5),o.k0s(),o.DNE(7,ms,2,0,"button",6),o.k0s()()()),2&ft&&(o.R7$(4),o.JRh(He.sectionTitle),o.R7$(2),o.Y8G("ngForOf",He.items),o.R7$(1),o.Y8G("ngIf",He.showLearnMore))},dependencies:[be.Sq,be.bT,ge.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Ve})();var ni=V(345),er=V(4591);function Ar(Ve,Kt){if(1&Ve&&(o.j41(0,"div",6),o.nrm(1,"img",7),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"span",8),o.EFF(5),o.k0s(),o.nrm(6,"p",9),o.k0s()),2&Ve){const _e=Kt.$implicit,ft=o.XpG(2);o.R7$(1),o.Y8G("src",_e.image,o.B4B)("alt",_e.title),o.R7$(2),o.JRh(_e.title),o.R7$(2),o.JRh(_e.category),o.R7$(1),o.Y8G("innerHTML",ft.getSanitizedDescription(_e.description),o.npT)}}function Hn(Ve,Kt){if(1&Ve&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),o.k0s(),o.j41(4,"div",4),o.DNE(5,Ar,7,5,"div",5),o.k0s()()),2&Ve){const _e=o.XpG();o.R7$(1),o.Y8G("title","Website Packages"),o.R7$(4),o.Y8G("ngForOf",_e.displayItems)}}function Ii(Ve,Kt){if(1&Ve&&(o.j41(0,"div",6)(1,"div",10),o.nrm(2,"img",11),o.j41(3,"span",12),o.EFF(4),o.nI1(5,"number"),o.k0s()(),o.j41(6,"h3",13),o.EFF(7),o.k0s(),o.nrm(8,"p",9),o.j41(9,"a",14),o.EFF(10,"Visit"),o.k0s()()),2&Ve){const _e=Kt.$implicit,ft=Kt.index,He=o.XpG(2);o.R7$(2),o.Mz_("alt","",_e.title," Logo"),o.Y8G("src",_e.companyLogo||_e.image,o.B4B),o.R7$(2),o.JRh(o.i5U(5,6,ft+1,"2.0")),o.R7$(3),o.JRh(_e.title),o.R7$(1),o.Y8G("innerHTML",He.getSanitizedDescription(_e.description),o.npT),o.R7$(1),o.FS9("href",_e.url,o.B4B)}}function ot(Ve,Kt){if(1&Ve&&(o.j41(0,"div",1),o.nrm(1,"app-section-tilte",2),o.j41(2,"p",3),o.EFF(3,"Using carefully vetted providers and vendors."),o.k0s(),o.j41(4,"div",4),o.DNE(5,Ii,11,9,"div",5),o.k0s()()),2&Ve){const _e=o.XpG();o.R7$(1),o.Y8G("title","Trusted Partners"),o.R7$(4),o.Y8G("ngForOf",_e.displayItems)}}let Et=(()=>{class Ve{constructor(_e){this.sanitizer=_e,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$799",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1500",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"Pricing varies",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(_e){return this.sanitizer.bypassSecurityTrustHtml(_e)}ngOnInit(){this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(ft){return new(ft||Ve)(o.rXU(ni.up))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(ft,He){1&ft&&(o.DNE(0,Hn,6,2,"div",0),o.DNE(1,ot,6,2,"div",0)),2&ft&&(o.Y8G("ngIf","sb"==He.layoutType),o.R7$(1),o.Y8G("ngIf","sb"!=He.layoutType))},dependencies:[be.Sq,be.bT,er.L,be.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return Ve})();var ce=V(5743),xe=V(6861);const At=["dynamicContainer"];let qt=(()=>{class Ve{constructor(_e,ft,He,$,x,k){this.sectionService=_e,this.resolver=ft,this.injector=He,this.route=$,this.metaService=x,this.businessDataService=k,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ue.W,"hero-slider":Ze,"right-text":i.F,"left-text":ve.G,"item-list":Oe.j,"icon-list":fn,"unique-features":Qe,testimonials:Ee,"testimonials-carousel":xn,"why-us":xr,"google-map":Yr.a,"latest-products":Et}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,Gn.n)(_e=>(console.log("Business ID Retrieved:",_e),_e?(this.businessId=_e,this.metaService.loadAndApplyMeta(_e),this.businessDataService.loadBusinessData(_e)):[]))).subscribe(_e=>{console.log("Business Data Retrieved:",_e),_e&&(this.business=_e,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(_e=>{console.log("\u{1f4cc} Sections Retrieved:",_e),_e&&0!==_e.length?(this.sections=_e.sort((ft,He)=>(ft.order||0)-(He.order||0)),console.log("\u2705 Final Sections to Load:",this.sections),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}getFilteredSections(_e,ft){console.log(`\u{1f4cc} Filtering sections for themeType: ${_e}`,ft);const $=ft.sort((re,fe)=>(re.order||0)-(fe.order||0)),x={hh:["center-text","item-list","right-text","left-text"],demo:["why-us","unique-features","center-text","item-list","right-text","left-text"],ae:["center-text","right-text","left-text","testimonials"],clemo:["right-text","testimonials","google-map"],sb:["center-text","latest-products","item-list"],prestige:["why-us","unique-features","center-text","item-list","right-text","left-text"]}[_e]||[],k=x.map(re=>$.find(fe=>fe.component===re)).filter(re=>void 0!==re);return console.log("\u2705 Allowed Components for Theme:",x),console.log("\u2705 Final Filtered Sections (Ordered):",k),k}loadComponents(){this.container.clear(),console.log("\u2705 Starting to Load Components"),console.log("\u2705 Adding HeroSliderComponent");const _e=this.resolver.resolveComponentFactory(Ze);if(this.container.createComponent(_e,void 0,this.injector),this.sections.length){if(this.sections.forEach((ft,He)=>{console.log(`\u{1f504} Loading Component for Section ${He+1}:`,ft.component);const $=this.componentsMap[ft.component];if(!$)return void console.error("\u274c Component Not Found:",ft.component);const x=this.resolver.resolveComponentFactory($),k=this.container.createComponent(x,void 0,this.injector);k.instance&&"object"==typeof k.instance&&(Object.assign(k.instance,{title:this.applyReplaceKeyword(ft.sectionTitle||""),subTitle:this.applyReplaceKeyword(ft.sectionSubTitle||""),content:this.applyReplaceKeyword(ft.sectionContent||""),sectionImageUrl:ft.sectionImageUrl||"",showButton:ft.showButton||!1,buttonText:ft.buttonText||"Learn More",buttonLink:ft.buttonLink||"",_businessName:this.business?.businessName||"",showImage:ft.showImage,themeType:this.business?.theme?.themeType,items:ft.items||[],isMinimal:ft.isMinimal||!1,isParallax:ft.isParallax??!0,backgroundColor:ft.backgroundColor||"#ffffff",textColor:ft.textColor||"#000000",titleColor:ft.titleColor||"#000000",titleFontSize:ft.titleFontSize||"36",subtitleColor:ft.subtitleColor||"#000000",subtitleFontSize:ft.subtitleFontSize||"14",fullWidth:ft.fullWidth||!1,alignText:ft.alignText||"left",boxShadow:ft.boxShadow||!1,borderRadius:ft.borderRadius??10,page:ft.page,location:ft.location,businessId:this.business?.id}),console.log(`\u2705 Component Data for ${ft.component}:`,k.instance))}),"sb"==this.business?.theme?.themeType){console.log("Loading LatestProductsComponent");const ft=this.resolver.resolveComponentFactory(Et),He=this.container.createComponent(ft,void 0,this.injector);Object.assign(He.instance,{layoutType:this.business?.theme?.themeType||"sb"})}if(this.business?.testimonials?.length&&!this.business?.placeId&&"sb"!=this.business?.theme?.themeType){console.log("Loading TestimonialsComponent");const ft=this.resolver.resolveComponentFactory(Ee),He=this.container.createComponent(ft,void 0,this.injector);Object.assign(He.instance,{testimonials:this.business?.testimonials||[],layoutType:this.business?.theme?.themeType||"demo"})}if(this.business?.placeId){console.log("Loading TestimonialCarouselComponent");const ft=this.resolver.resolveComponentFactory(xn),He=this.container.createComponent(ft,void 0,this.injector);Object.assign(He.instance,{placeId:this.business?.placeId||""})}if("clemo"!==this.business?.theme?.themeType){console.log("Loading ConsultationComponent");const ft=this.resolver.resolveComponentFactory(an),He=this.container.createComponent(ft,void 0,this.injector);Object.assign(He.instance,{id:this.business?.id||"",layoutType:this.business?.theme?.themeType||"demo",businessName:this.business?.businessName||"Demo"})}if(this.business?.placeId&&"clemo"==this.business?.theme?.themeType){console.log("Loading GoogleMapComponent");const ft=this.resolver.resolveComponentFactory(Yr.a),He=this.container.createComponent(ft,void 0,this.injector);Object.assign(He.instance,{layoutType:this.business?.theme?.themeType||"demo",address:this.business?.address||"Demo"})}}else console.warn("\u2757 No sections available to load.")}applyReplaceKeyword(_e){return _e&&this.business?.businessName?_e.replace(/{{\s*businessName\s*}}/g,this.business.businessName):_e}static{this.\u0275fac=function(ft){return new(ft||Ve)(o.rXU(ce.W),o.rXU(o.OM3),o.rXU(o.zZn),o.rXU(ge.nX),o.rXU(xe.R),o.rXU(De.A))}}static{this.\u0275cmp=o.VBU({type:Ve,selectors:[["app-home"]],viewQuery:function(ft,He){if(1&ft&&o.GBs(At,7,o.c1b),2&ft){let $;o.mGM($=o.lsd())&&(He.container=$.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(ft,He){1&ft&&o.nrm(0,"div",0,1)}})}}return Ve})()},4796:(on,tt,V)=>{V.d(tt,{u:()=>ge});var o=V(6354),ue=V(7705),i=V(1977),ve=V(6814);let ge=(()=>{class De{constructor(Be,ke){this.afAuth=Be,this.router=ke,this.user$=Be.authState}login(Be,ke){return this.afAuth.signInWithEmailAndPassword(Be,ke)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Be=>!!Be))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(ke){return new(ke||De)(ue.KVO(i.DS),ue.KVO(ve.Ix))}}static{this.\u0275prov=ue.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},923:(on,tt,V)=>{V.d(tt,{A:()=>De});var o=V(4412),ue=V(6354),i=V(8141),ve=V(7705),ge=V(3012);let De=(()=>{class be{constructor(ke){this.businessService=ke,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(ke){return console.log("BusinessDataService - loadBusinessData for ID:",ke),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(ke).pipe((0,ue.T)(J=>J?(J.sections||(J.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),J):null),(0,i.M)(J=>{console.log("\u2705 BusinessDataService - Business fetched:",J),this.businessDataSubject.next(J),this.businessIdSubject.next(ke)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(J){return new(J||be)(ve.KVO(ge.u))}}static{this.\u0275prov=ve.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},5743:(on,tt,V)=>{V.d(tt,{W:()=>De});var o=V(467),ue=V(6354),i=V(7705),ve=V(6340),ge=V(5571);let De=(()=>{class be{constructor(ke,J){this.firestore=ke,this.uploadService=J,this.collectionName="businesses"}getAllBusinessSections(ke){return console.log(`Fetching All Sections from Collection for Business ID: ${ke}`),this.firestore.collection(this.collectionName).doc(ke).collection("sections").snapshotChanges().pipe((0,ue.T)(J=>(console.log("Firestore Raw Actions:",J),J.map(te=>({...te.payload.doc.data(),id:te.payload.doc.id})))))}getBusinessSections(ke,J){return console.log(`Fetching Sections for Business ID: ${ke}, Page: ${J}`),this.firestore.collection(this.collectionName).doc(ke).collection("sections",te=>te.where("page","==",J)).snapshotChanges().pipe((0,ue.T)(te=>(console.log("Firestore Raw Actions:",te),te.map(he=>({...he.payload.doc.data(),id:he.payload.doc.id})))))}saveSection(ke,J){return J.id||(J.id=this.firestore.createId()),this.firestore.collection(this.collectionName).doc(ke).collection("sections").doc(J.id).set(J,{merge:!0})}deleteSection(ke,J){return this.firestore.collection(this.collectionName).doc(ke).collection("sections").doc(J).delete()}uploadImage(ke,J,te,he="",Fe="",Ge="",pt=""){var Tt=this;return(0,o.A)(function*(){try{const{downloadUrl:Mt}=Tt.uploadService.uploadFile(ke,J,"sections",he,Fe,Ge,pt);return new Promise((Nt,Qt)=>{Mt.subscribe({next:ze=>{ze?(console.log("\u2705 Image uploaded successfully:",ze),Nt(ze)):Qt("\u274c Image URL is undefined.")},error:ze=>{console.error("\u274c Error getting image URL:",ze),Qt(ze)}})})}catch(Mt){return console.error("\u274c Error uploading image:",Mt),""}})()}mapComponent(ke){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[ke]||"default-component"}static{this.\u0275fac=function(J){return new(J||be)(i.KVO(ve.Qe),i.KVO(ge.B))}}static{this.\u0275prov=i.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},3012:(on,tt,V)=>{V.d(tt,{u:()=>be});var o=V(7673),ue=V(6354),i=V(5558),ve=V(7705),ge=V(6340),De=V(8721);let be=(()=>{class Be{constructor(J,te){this.afs=J,this.storage=te,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(J){console.log("Business Created");const te=this.afs.createId();return this.afs.doc(`${this.basePath}/${te}`).set({...J,id:te}),this.afs.doc(`${this.basePath}/${te}`).valueChanges().pipe((0,ue.T)(he=>{if(!he)throw new Error("Business not found after creation");return he}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(J=>J.map(te=>{const he=te.payload.doc.data(),Fe=te.payload.doc.id,{id:Ge,...pt}=he;return{id:Fe,...pt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,J=>J.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(J){return this.getBusinessData(J)}getBusinessData(J){const te=J&&J.trim()?J:"defaultBusinessId";return this.afs.collection("businesses").doc(te).snapshotChanges().pipe((0,i.n)(he=>{const Fe=he.payload.data(),Ge=he.payload.id;if(!Fe)return(0,o.of)(void 0);const pt={...Fe,id:Ge};return this.afs.collection("sections",Tt=>Tt.where("businessId","==",Ge)).snapshotChanges().pipe((0,ue.T)(Tt=>{const Mt=Tt.map(Nt=>({...Nt.payload.doc.data(),id:Nt.payload.doc.id}));return console.log("\u{1f525} Loaded Sections from Firestore Collection:",Mt),{...pt,sections:Mt}}),(0,i.n)(Tt=>{const Mt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Ge}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(Nt=>{const Qt=Nt.payload.data()||Mt;return Tt.theme=Qt,Tt}))}))}))}updateBusiness(J,te){return this.afs.doc(`${this.basePath}/${J}`).update(te)}deleteBusiness(J){return this.afs.doc(`${this.basePath}/${J}`).delete()}uploadFile(J,te){return this.storage.upload(J,te)}getDownloadURL(J){return this.storage.ref(J).getDownloadURL()}updateThemeFileName(J,te=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${te}`).update({"theme.themeFileName":J})}getThemeFileName(J=this.defaultBusinessId){const he=this.afs.collection(this.basePath).doc(J).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${J}`),he.get().toPromise().then(Fe=>{if(Fe&&Fe.exists){const Ge=Fe.data();console.log("Theme document found:",Ge);const pt=Ge?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${pt}`),pt}return console.warn(`No theme document found for business ID: ${J}. Using default theme.`),"default.css"}).catch(Fe=>(console.error(`Error fetching theme file name for business ID: ${J}`,Fe),"default.css"))}createSection(J,te){return this.afs.collection(`${this.basePath}/${J}/sections`).add(te)}getSections(J){return this.afs.collection(`${this.basePath}/${J}/sections`).snapshotChanges().pipe((0,ue.T)(te=>te.map(he=>{const Fe=he.payload.doc.data();return{sectionId:he.payload.doc.id,...Fe}})))}updateSection(J,te,he){return this.afs.doc(`${this.basePath}/${J}/sections/${te}`).update(he)}deleteSection(J,te){return this.afs.doc(`${this.basePath}/${J}/sections/${te}`).delete()}static{this.\u0275fac=function(te){return new(te||Be)(ve.KVO(ge.Qe),ve.KVO(De.ap))}}static{this.\u0275prov=ve.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}}return Be})()},4710:(on,tt,V)=>{V.d(tt,{L:()=>i});var ue=V(7705);let i=(()=>{class ve{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((De,be)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void De();const Be=document.createElement("script");Be.id="google-maps-script",Be.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Be.async=!0,Be.defer=!0,Be.onload=()=>{this.scriptLoaded=!0,De()},Be.onerror=ke=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,be(ke)},document.body.appendChild(Be)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(be){return new(be||ve)}}static{this.\u0275prov=ue.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}return ve})()},6861:(on,tt,V)=>{V.d(tt,{R:()=>ve});var o=V(7705),ue=V(345),i=V(923);let ve=(()=>{class ge{constructor(be,Be,ke){this.meta=be,this.title=Be,this.businessDataService=ke}updateMetaTags(be){this.title.setTitle(be.title),this.meta.updateTag({name:"description",content:be.description}),this.meta.updateTag({name:"keywords",content:be.keywords}),this.meta.updateTag({property:"og:title",content:be.title}),this.meta.updateTag({property:"og:description",content:be.description})}updateFavicon(be){const Be=document.getElementsByTagName("head")[0];let ke=document.querySelector("link[rel*='icon']");ke||(ke=document.createElement("link"),ke.rel="icon",Be.appendChild(ke)),ke.href=be}loadAndApplyMeta(be){this.businessDataService.loadBusinessData(be).subscribe(Be=>{Be?(this.updateMetaTags({title:Be.metaTitle||"Default Title",description:Be.metaDescription||"Default Description",keywords:Be.metaKeywords||"default, keywords"}),Be.faviconUrl&&this.updateFavicon(Be.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Be){return new(Be||ge)(o.KVO(ue.W8),o.KVO(ue.hE),o.KVO(i.A))}}static{this.\u0275prov=o.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}}return ge})()},5009:(on,tt,V)=>{V.d(tt,{F:()=>ke});var o=V(8810),ue=V(8455),i=V(7673),ve=V(6697),ge=V(5558),De=V(9437),be=V(7705),Be=V(6340);let ke=(()=>{class J{constructor(he){this.firestore=he,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(he){return this.firestore.collection("businesses").doc(he).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(he){console.log("Theme Service: - Fetching theme for business ID:",he);const Fe=this.firestore.collection("businesses").doc(he),Ge=Fe.collection("theme").doc("themeDoc");return Fe.snapshotChanges().pipe((0,ve.s)(1),(0,ge.n)(pt=>pt.payload.exists?Ge.get().pipe((0,ge.n)(Tt=>Tt.exists?(Tt.data(),Ge.valueChanges()):(0,ue.H)(Ge.set(this.defaultTheme)).pipe((0,ge.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Ge.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,De.W)(pt=>(console.error("Error fetching theme:",pt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(he,Fe){const Ge=this.firestore.collection("businesses").doc(he).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+he+" theme service updateColors: ",Fe),Ge.set(Fe,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),Fe.themeFileName&&this.applyThemeFile(Fe.themeFileName)}).catch(pt=>{throw console.error("Theme Service: - Error updating colors:",pt),new Error(pt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(he){return this.loadCss(`assets/themes/${he}`)}loadCss(he){return new Promise((Fe,Ge)=>{console.log("Load css from  file:",he);const pt=document.createElement("link");pt.rel="stylesheet",pt.href=he,pt.onload=()=>{console.log(`Loaded theme: ${he}`),Fe()},pt.onerror=Tt=>{console.error(`Failed to load theme: ${he}`,Tt),Ge(Tt)},document.head.appendChild(pt)})}static{this.\u0275fac=function(Fe){return new(Fe||J)(be.KVO(Be.Qe))}}static{this.\u0275prov=be.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},5571:(on,tt,V)=>{V.d(tt,{B:()=>be});var o=V(1985),ue=V(6354),i=V(980),ve=V(7705),ge=V(8721),De=V(6340);let be=(()=>{class Be{constructor(J,te){this.storage=J,this.firestore=te}uploadFile(J,te,he,Fe="",Ge="",pt="",Tt=""){let Mt;switch(he){case"testimonail":Mt=`businesses/${te}/testimonail/${J.name}`;break;case"employee":Mt=`businesses/${te}/employee/${J.name}`;break;case"business":Mt=`businesses/${te}/business/${J.name}`;break;case"heroImages":Mt=`businesses/${te}/heroImages/${J.name}`;break;case"lifeStyle":Mt=`businesses/${te}/lifeStyle/${J.name}`;break;case"sectionsImages":Mt=`businesses/${te}/sectionsImages/${J.name}`;break;default:Mt=`businesses/${te}/gallery/${J.name}`}const Nt=this.storage.ref(Mt),Qt=this.storage.upload(Mt,J);return{uploadProgress:Qt.percentageChanges().pipe((0,ue.T)(Ze=>Ze??0)),downloadUrl:new o.c(Ze=>{Qt.snapshotChanges().pipe((0,i.j)(()=>{Nt.getDownloadURL().subscribe(Oe=>{this.firestore.collection("businesses").doc(te).collection(he).add({url:Oe,title:Fe,description:Ge,link:pt,order:Tt}),Ze.next(Oe),Ze.complete()})})).subscribe()})}}deleteFile(J,te,he){return new Promise((Fe,Ge)=>{const pt=decodeURIComponent(J.split("/").pop()?.split("?")[0]||"");this.storage.ref(pt).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(te).collection(he).ref.where("url","==",J).get().then(Mt=>{Mt.forEach(Nt=>Nt.ref.delete()),Fe()}).catch(Mt=>{console.error("Error deleting from Firestore:",Mt),Ge(Mt)})},error:Mt=>{console.error("Error deleting from Storage:",Mt),Ge(Mt)}})})}static{this.\u0275fac=function(te){return new(te||Be)(ve.KVO(ge.ap),ve.KVO(De.Qe))}}static{this.\u0275prov=ve.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}}return Be})()},8704:(on,tt,V)=>{V.d(tt,{N:()=>be});var o=V(6354),ue=V(9437),i=V(7673),ve=V(7705),ge=V(6340),De=V(8721);let be=(()=>{class Be{constructor(J,te){this.firestore=J,this.storage=te,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(J){const te=J&&J.trim()?J:this.defaultBusinessId;return this.firestore.collection("businesses").doc(te).snapshotChanges().pipe((0,o.T)(he=>{const Fe=he.payload.data(),Ge=he.payload.id;if(Fe){const{id:pt,testimonials:Tt=[],...Mt}=Fe;return{id:Ge,testimonials:Tt.map(Qt=>({...Qt,photoURL:Qt.photoURL&&Qt.photoURL.trim()?Qt.photoURL:this.defaultImage})),...Mt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(J){return this.storage.ref(J).getDownloadURL().pipe((0,ue.W)(te=>(console.error("Error fetching photo URL:",te),(0,i.of)(""))))}getEmployeesByBusinessId(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).get().pipe((0,o.T)(te=>{if(te.exists){const he=te.data();return he&&he.employees?he.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(te=>(console.error("Error fetching employees:",te),(0,i.of)([]))))}getBusinessGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(J){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection("gallery").valueChanges()}getBusinessUploadedImagesById(J,te){return(null==J||""==J||""===J)&&(J=this.defaultBusinessId),this.firestore.collection("businesses").doc(J).collection(te).valueChanges()}checkImageExists(J){return this.storage.refFromURL(J).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(te){return new(te||Be)(ve.KVO(ge.Qe),ve.KVO(De.ap))}}static{this.\u0275prov=ve.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}}return Be})()},1547:(on,tt,V)=>{var o={};V.r(o),V.d(o,{afterMain:()=>Jr,afterRead:()=>is,afterWrite:()=>Qn,applyStyles:()=>Xt,arrow:()=>Cs,auto:()=>us,basePlacements:()=>Gr,beforeMain:()=>Oi,beforeRead:()=>hr,beforeWrite:()=>ss,bottom:()=>tr,clippingParents:()=>zi,computeStyles:()=>vo,createPopper:()=>Se,createPopperBase:()=>j,createPopperLite:()=>Vt,detectOverflow:()=>Fo,end:()=>Ts,eventListeners:()=>U,flip:()=>wa,hide:()=>_r,left:()=>Pr,main:()=>Hs,modifierPhases:()=>hs,offset:()=>Lo,placements:()=>nr,popper:()=>rs,popperGenerator:()=>ne,popperOffsets:()=>tc,preventOverflow:()=>ka,read:()=>Wi,reference:()=>Qr,right:()=>Dr,start:()=>Mi,top:()=>Ei,variationPlacements:()=>_n,viewport:()=>ds,write:()=>Is});var ue=V(345),i=V(7705),ve=V(7673),ge=V(8455),De=V(1985),be=V(274),Be=V(5964),ke=V(6354),J=V(980),te=V(5558),he=V(177);class Fe{}class Ge{}class pt{constructor(u){this.normalizedNames=new Map,this.lazyUpdate=null,u?"string"==typeof u?this.lazyInit=()=>{this.headers=new Map,u.split("\n").forEach(l=>{const _=l.indexOf(":");if(_>0){const I=l.slice(0,_),L=I.toLowerCase(),K=l.slice(_+1).trim();this.maybeSetNormalizedName(I,L),this.headers.has(L)?this.headers.get(L).push(K):this.headers.set(L,[K])}})}:typeof Headers<"u"&&u instanceof Headers?(this.headers=new Map,u.forEach((l,_)=>{this.setHeaderEntries(_,l)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(u).forEach(([l,_])=>{this.setHeaderEntries(l,_)})}:this.headers=new Map}has(u){return this.init(),this.headers.has(u.toLowerCase())}get(u){this.init();const l=this.headers.get(u.toLowerCase());return l&&l.length>0?l[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(u){return this.init(),this.headers.get(u.toLowerCase())||null}append(u,l){return this.clone({name:u,value:l,op:"a"})}set(u,l){return this.clone({name:u,value:l,op:"s"})}delete(u,l){return this.clone({name:u,value:l,op:"d"})}maybeSetNormalizedName(u,l){this.normalizedNames.has(l)||this.normalizedNames.set(l,u)}init(){this.lazyInit&&(this.lazyInit instanceof pt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(u=>this.applyUpdate(u)),this.lazyUpdate=null))}copyFrom(u){u.init(),Array.from(u.headers.keys()).forEach(l=>{this.headers.set(l,u.headers.get(l)),this.normalizedNames.set(l,u.normalizedNames.get(l))})}clone(u){const l=new pt;return l.lazyInit=this.lazyInit&&this.lazyInit instanceof pt?this.lazyInit:this,l.lazyUpdate=(this.lazyUpdate||[]).concat([u]),l}applyUpdate(u){const l=u.name.toLowerCase();switch(u.op){case"a":case"s":let _=u.value;if("string"==typeof _&&(_=[_]),0===_.length)return;this.maybeSetNormalizedName(u.name,l);const I=("a"===u.op?this.headers.get(l):void 0)||[];I.push(..._),this.headers.set(l,I);break;case"d":const L=u.value;if(L){let K=this.headers.get(l);if(!K)return;K=K.filter(ie=>-1===L.indexOf(ie)),0===K.length?(this.headers.delete(l),this.normalizedNames.delete(l)):this.headers.set(l,K)}else this.headers.delete(l),this.normalizedNames.delete(l)}}setHeaderEntries(u,l){const _=(Array.isArray(l)?l:[l]).map(L=>L.toString()),I=u.toLowerCase();this.headers.set(I,_),this.maybeSetNormalizedName(u,I)}forEach(u){this.init(),Array.from(this.normalizedNames.keys()).forEach(l=>u(this.normalizedNames.get(l),this.headers.get(l)))}}class Mt{encodeKey(u){return Te(u)}encodeValue(u){return Te(u)}decodeKey(u){return decodeURIComponent(u)}decodeValue(u){return decodeURIComponent(u)}}const Qt=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Te(p){return encodeURIComponent(p).replace(Qt,(u,l)=>ze[l]??u)}function Ze(p){return`${p}`}class Oe{constructor(u={}){if(this.updates=null,this.cloneFrom=null,this.encoder=u.encoder||new Mt,u.fromString){if(u.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nt(p,u){const l=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(I=>{const L=I.indexOf("="),[K,ie]=-1==L?[u.decodeKey(I),""]:[u.decodeKey(I.slice(0,L)),u.decodeValue(I.slice(L+1))],me=l.get(K)||[];me.push(ie),l.set(K,me)}),l}(u.fromString,this.encoder)}else u.fromObject?(this.map=new Map,Object.keys(u.fromObject).forEach(l=>{const _=u.fromObject[l],I=Array.isArray(_)?_.map(Ze):[Ze(_)];this.map.set(l,I)})):this.map=null}has(u){return this.init(),this.map.has(u)}get(u){this.init();const l=this.map.get(u);return l?l[0]:null}getAll(u){return this.init(),this.map.get(u)||null}keys(){return this.init(),Array.from(this.map.keys())}append(u,l){return this.clone({param:u,value:l,op:"a"})}appendAll(u){const l=[];return Object.keys(u).forEach(_=>{const I=u[_];Array.isArray(I)?I.forEach(L=>{l.push({param:_,value:L,op:"a"})}):l.push({param:_,value:I,op:"a"})}),this.clone(l)}set(u,l){return this.clone({param:u,value:l,op:"s"})}delete(u,l){return this.clone({param:u,value:l,op:"d"})}toString(){return this.init(),this.keys().map(u=>{const l=this.encoder.encodeKey(u);return this.map.get(u).map(_=>l+"="+this.encoder.encodeValue(_)).join("&")}).filter(u=>""!==u).join("&")}clone(u){const l=new Oe({encoder:this.encoder});return l.cloneFrom=this.cloneFrom||this,l.updates=(this.updates||[]).concat(u),l}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(u=>this.map.set(u,this.cloneFrom.map.get(u))),this.updates.forEach(u=>{switch(u.op){case"a":case"s":const l=("a"===u.op?this.map.get(u.param):void 0)||[];l.push(Ze(u.value)),this.map.set(u.param,l);break;case"d":if(void 0===u.value){this.map.delete(u.param);break}{let _=this.map.get(u.param)||[];const I=_.indexOf(Ze(u.value));-1!==I&&_.splice(I,1),_.length>0?this.map.set(u.param,_):this.map.delete(u.param)}}}),this.cloneFrom=this.updates=null)}}class $e{constructor(){this.map=new Map}set(u,l){return this.map.set(u,l),this}get(u){return this.map.has(u)||this.map.set(u,u.defaultValue()),this.map.get(u)}delete(u){return this.map.delete(u),this}has(u){return this.map.has(u)}keys(){return this.map.keys()}}function Ie(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function Yt(p){return typeof Blob<"u"&&p instanceof Blob}function gn(p){return typeof FormData<"u"&&p instanceof FormData}class Qe{constructor(u,l,_,I){let L;if(this.url=l,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=u.toUpperCase(),function Ot(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||I?(this.body=void 0!==_?_:null,L=I):L=_,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new pt),this.context||(this.context=new $e),this.params){const K=this.params.toString();if(0===K.length)this.urlWithParams=l;else{const ie=l.indexOf("?");this.urlWithParams=l+(-1===ie?"?":ie<l.length-1?"&":"")+K}}else this.params=new Oe,this.urlWithParams=l}serializeBody(){return null===this.body?null:Ie(this.body)||Yt(this.body)||gn(this.body)||function sr(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gn(this.body)?null:Yt(this.body)?this.body.type||null:Ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(u={}){const l=u.method||this.method,_=u.url||this.url,I=u.responseType||this.responseType,L=void 0!==u.body?u.body:this.body,K=void 0!==u.withCredentials?u.withCredentials:this.withCredentials,ie=void 0!==u.reportProgress?u.reportProgress:this.reportProgress;let me=u.headers||this.headers,Xe=u.params||this.params;const vt=u.context??this.context;return void 0!==u.setHeaders&&(me=Object.keys(u.setHeaders).reduce((jt,Tn)=>jt.set(Tn,u.setHeaders[Tn]),me)),u.setParams&&(Xe=Object.keys(u.setParams).reduce((jt,Tn)=>jt.set(Tn,u.setParams[Tn]),Xe)),new Qe(l,_,L,{params:Xe,headers:me,context:vt,reportProgress:ie,responseType:I,withCredentials:K})}}var Pt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(Pt||{});class Ue{constructor(u,l=200,_="OK"){this.headers=u.headers||new pt,this.status=void 0!==u.status?u.status:l,this.statusText=u.statusText||_,this.url=u.url||null,this.ok=this.status>=200&&this.status<300}}class at extends Ue{constructor(u={}){super(u),this.type=Pt.ResponseHeader}clone(u={}){return new at({headers:u.headers||this.headers,status:void 0!==u.status?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}}class Pe extends Ue{constructor(u={}){super(u),this.type=Pt.Response,this.body=void 0!==u.body?u.body:null}clone(u={}){return new Pe({body:void 0!==u.body?u.body:this.body,headers:u.headers||this.headers,status:void 0!==u.status?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}}class st extends Ue{constructor(u){super(u,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${u.url||"(unknown url)"}`:`Http failure response for ${u.url||"(unknown url)"}: ${u.status} ${u.statusText}`,this.error=u.error||null}}function en(p,u){return{body:u,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let We=(()=>{class p{constructor(l){this.handler=l}request(l,_,I={}){let L;if(l instanceof Qe)L=l;else{let me,Xe;me=I.headers instanceof pt?I.headers:new pt(I.headers),I.params&&(Xe=I.params instanceof Oe?I.params:new Oe({fromObject:I.params})),L=new Qe(l,_,void 0!==I.body?I.body:null,{headers:me,context:I.context,params:Xe,reportProgress:I.reportProgress,responseType:I.responseType||"json",withCredentials:I.withCredentials})}const K=(0,ve.of)(L).pipe((0,be.H)(me=>this.handler.handle(me)));if(l instanceof Qe||"events"===I.observe)return K;const ie=K.pipe((0,Be.p)(me=>me instanceof Pe));switch(I.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return ie.pipe((0,ke.T)(me=>{if(null!==me.body&&!(me.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return me.body}));case"blob":return ie.pipe((0,ke.T)(me=>{if(null!==me.body&&!(me.body instanceof Blob))throw new Error("Response is not a Blob.");return me.body}));case"text":return ie.pipe((0,ke.T)(me=>{if(null!==me.body&&"string"!=typeof me.body)throw new Error("Response is not a string.");return me.body}));default:return ie.pipe((0,ke.T)(me=>me.body))}case"response":return ie;default:throw new Error(`Unreachable: unhandled observe type ${I.observe}}`)}}delete(l,_={}){return this.request("DELETE",l,_)}get(l,_={}){return this.request("GET",l,_)}head(l,_={}){return this.request("HEAD",l,_)}jsonp(l,_){return this.request("JSONP",l,{params:(new Oe).append(_,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(l,_={}){return this.request("OPTIONS",l,_)}patch(l,_,I={}){return this.request("PATCH",l,en(I,_))}post(l,_,I={}){return this.request("POST",l,en(I,_))}put(l,_,I={}){return this.request("PUT",l,en(I,_))}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(Fe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function rr(p,u){return u(p)}function sn(p,u){return(l,_)=>u.intercept(l,{handle:I=>p(I,_)})}const Jt=new i.nKC(""),jn=new i.nKC(""),xn=new i.nKC("");function zt(){let p=null;return(u,l)=>{null===p&&(p=((0,i.WQX)(Jt,{optional:!0})??[]).reduceRight(sn,rr));const _=(0,i.WQX)(i.$K3),I=_.add();return p(u,l).pipe((0,J.j)(()=>_.remove(I)))}}let Bt=(()=>{class p extends Fe{constructor(l,_){super(),this.backend=l,this.injector=_,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(l){if(null===this.chain){const I=Array.from(new Set([...this.injector.get(jn),...this.injector.get(xn,[])]));this.chain=I.reduceRight((L,K)=>function Bn(p,u,l){return(_,I)=>l.runInContext(()=>u(_,L=>p(L,I)))}(L,K,this.injector),rr)}const _=this.pendingTasks.add();return this.chain(l,I=>this.backend.handle(I)).pipe((0,J.j)(()=>this.pendingTasks.remove(_)))}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(Ge),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const Gn=/^\)\]\}',?\n/;let ms=(()=>{class p{constructor(l){this.xhrFactory=l}handle(l){if("JSONP"===l.method)throw new i.wOt(-2800,!1);const _=this.xhrFactory;return(_.\u0275loadImpl?(0,ge.H)(_.\u0275loadImpl()):(0,ve.of)(null)).pipe((0,te.n)(()=>new De.c(L=>{const K=_.build();if(K.open(l.method,l.urlWithParams),l.withCredentials&&(K.withCredentials=!0),l.headers.forEach((tn,Rn)=>K.setRequestHeader(tn,Rn.join(","))),l.headers.has("Accept")||K.setRequestHeader("Accept","application/json, text/plain, */*"),!l.headers.has("Content-Type")){const tn=l.detectContentTypeHeader();null!==tn&&K.setRequestHeader("Content-Type",tn)}if(l.responseType){const tn=l.responseType.toLowerCase();K.responseType="json"!==tn?tn:"text"}const ie=l.serializeBody();let me=null;const Xe=()=>{if(null!==me)return me;const tn=K.statusText||"OK",Rn=new pt(K.getAllResponseHeaders()),br=function hi(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(K)||l.url;return me=new at({headers:Rn,status:K.status,statusText:tn,url:br}),me},vt=()=>{let{headers:tn,status:Rn,statusText:br,url:Nr}=Xe(),Tr=null;204!==Rn&&(Tr=typeof K.response>"u"?K.responseText:K.response),0===Rn&&(Rn=Tr?200:0);let Zn=Rn>=200&&Rn<300;if("json"===l.responseType&&"string"==typeof Tr){const ai=Tr;Tr=Tr.replace(Gn,"");try{Tr=""!==Tr?JSON.parse(Tr):null}catch(gr){Tr=ai,Zn&&(Zn=!1,Tr={error:gr,text:Tr})}}Zn?(L.next(new Pe({body:Tr,headers:tn,status:Rn,statusText:br,url:Nr||void 0})),L.complete()):L.error(new st({error:Tr,headers:tn,status:Rn,statusText:br,url:Nr||void 0}))},jt=tn=>{const{url:Rn}=Xe(),br=new st({error:tn,status:K.status||0,statusText:K.statusText||"Unknown Error",url:Rn||void 0});L.error(br)};let Tn=!1;const En=tn=>{Tn||(L.next(Xe()),Tn=!0);let Rn={type:Pt.DownloadProgress,loaded:tn.loaded};tn.lengthComputable&&(Rn.total=tn.total),"text"===l.responseType&&K.responseText&&(Rn.partialText=K.responseText),L.next(Rn)},vn=tn=>{let Rn={type:Pt.UploadProgress,loaded:tn.loaded};tn.lengthComputable&&(Rn.total=tn.total),L.next(Rn)};return K.addEventListener("load",vt),K.addEventListener("error",jt),K.addEventListener("timeout",jt),K.addEventListener("abort",jt),l.reportProgress&&(K.addEventListener("progress",En),null!==ie&&K.upload&&K.upload.addEventListener("progress",vn)),K.send(ie),L.next({type:Pt.Sent}),()=>{K.removeEventListener("error",jt),K.removeEventListener("abort",jt),K.removeEventListener("load",vt),K.removeEventListener("timeout",jt),l.reportProgress&&(K.removeEventListener("progress",En),null!==ie&&K.upload&&K.upload.removeEventListener("progress",vn)),K.readyState!==K.DONE&&K.abort()}})))}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(he.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const fn=new i.nKC("XSRF_ENABLED"),er=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ii{}let ot=(()=>{class p{constructor(l,_,I){this.doc=l,this.platform=_,this.cookieName=I,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const l=this.doc.cookie||"";return l!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,he._b)(l,this.cookieName),this.lastCookieString=l),this.lastToken}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(he.qQ),i.KVO(i.Agw),i.KVO(er))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function Et(p,u){const l=p.url.toLowerCase();if(!(0,i.WQX)(fn)||"GET"===p.method||"HEAD"===p.method||l.startsWith("http://")||l.startsWith("https://"))return u(p);const _=(0,i.WQX)(Ii).getToken(),I=(0,i.WQX)(Hn);return null!=_&&!p.headers.has(I)&&(p=p.clone({headers:p.headers.set(I,_)})),u(p)}var xe=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(xe||{});function At(p,u){return{\u0275kind:p,\u0275providers:u}}function qt(...p){const u=[We,ms,Bt,{provide:Fe,useExisting:Bt},{provide:Ge,useExisting:ms},{provide:jn,useValue:Et,multi:!0},{provide:fn,useValue:!0},{provide:Ii,useClass:ot}];for(const l of p)u.push(...l.\u0275providers);return(0,i.EmA)(u)}const Kt=new i.nKC("LEGACY_INTERCEPTOR_FN");let fe=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[qt(At(xe.LegacyInterceptors,[{provide:Kt,useFactory:zt},{provide:jn,useExisting:Kt,multi:!0}]))]})}}return p})();var dr=V(6814),Bs=V(3831),xi=V(7304),_s=V(4593),ys=V(491),gi=V(1915),lr=V(5743),Gi=V(6861),bt=V(923),ct=V(9437),Ft=V(8704),un=V(4591);function zn(p,u){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const l=u.$implicit;i.R7$(1),i.FS9("alt",l.name),i.Y8G("src",l.photoURL,i.B4B),i.R7$(2),i.JRh(l.name),i.R7$(2),i.JRh(l.role),i.R7$(2),i.JRh(l.bio)}}function Ln(p,u){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"div",3),i.DNE(3,zn,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,3,l.employees$))}}let mr=(()=>{class p{constructor(l,_){this.route=l,this.employeeService=_}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,ke.T)(l=>l.get("id")||""),(0,te.n)(l=>this.employeeService.getEmployeesByBusinessId(l)),(0,ct.W)(l=>(console.error("Error fetching employees:",l),(0,ve.of)([]))))}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dr.nX),i.rXU(Ft.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(_,I){1&_&&i.DNE(0,Ln,5,5,"div",0),2&_&&i.Y8G("ngIf",I.employees$)},dependencies:[he.Sq,he.bT,un.L,he.Jj]})}}return p})(),kr=(()=>{class p{constructor(l,_){this.route=l,this.router=_,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const _=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",_);const I="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;_&&I[_]?(this.backgroundImage=`url(${I[_].image})`,this.message=I[_].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dr.nX),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(_,I){1&_&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&_&&(i.xc7("background-image",I.backgroundImage),i.R7$(3),i.JRh(I.message))}})}}return p})(),Kr=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(_,I){1&_&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&_&&(i.R7$(2),i.FS9("src",I.imageURL,i.B4B),i.R7$(3),i.SpI('" ',I.text,'"'),i.R7$(2),i.SpI("\u2013 ",I.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();const Sr=function(p,u){return{"background-color":p,color:u}};function es(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"button",4),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigate())}),i.EFF(2),i.k0s(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngStyle",i.l_i(2,Sr,l.buttonBgColor,l.buttonTextColor)),i.R7$(1),i.SpI(" ",l.buttonText," ")}}function xs(p,u){if(1&p){const l=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigate())}),i.EFF(1),i.k0s()}if(2&p){const l=i.XpG();i.Y8G("ngStyle",i.l_i(2,Sr,l.buttonBgColor,l.buttonTextColor)),i.R7$(1),i.SpI(" ",l.buttonText," ")}}const ts=function(p,u,l,_){return{"background-color":p,color:u,"border-radius":l,"box-shadow":_}},mo=function(p){return{color:p}};let oo=(()=>{class p{constructor(l){this.router=l,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.contentColor="var(--secondary-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId=""}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout})}navigate(){this.page&&this.businessId&&(this.router.navigate([this.page]),this.router.navigate([this.page],{queryParams:{id:this.businessId}}))}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",contentColor:"contentColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId"},decls:8,vars:17,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"],["href","#",1,"cta-btn",3,"ngStyle","click"]],template:function(_,I){if(1&_&&(i.j41(0,"div",0)(1,"h2",1),i.EFF(2),i.k0s(),i.j41(3,"p",1),i.EFF(4),i.k0s(),i.DNE(5,es,3,5,"ng-container",2),i.DNE(6,xs,2,5,"ng-template",null,3,i.C5r),i.k0s()),2&_){const L=i.sdS(7);i.Y8G("ngClass",I.layout)("ngStyle",i.ziG(8,ts,I.bgColor,I.textColor,I.borderRadius,I.boxShadow)),i.R7$(1),i.Y8G("ngStyle",i.eq3(13,mo,I.titleColor)),i.R7$(1),i.JRh(I.title),i.R7$(1),i.Y8G("ngStyle",i.eq3(15,mo,I.contentColor)),i.R7$(1),i.JRh(I.content),i.R7$(1),i.Y8G("ngIf",I.isButton)("ngIfElse",L)}},dependencies:[he.YU,he.bT,he.B3]})}}return p})();const Li=["dynamicContainer"];function Wo(p,u){1&p&&(i.qex(0),i.j41(1,"div",9)(2,"div",10)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",11)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.bVm())}function ci(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.bVm())}function ns(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function vs(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","sb"))}function Xr(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-testimonial-image",13),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[0].name)("text",l.business.testimonials[0].quote)}}function ji(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-call-to-action",14),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("isButton",!0)("businessId",l.business.id)}}function Ai(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-call-to-action",15),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("isButton",!0)("businessId",l.business.id)}}function Rr(p,u){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Wo,8,0,"ng-container",2),i.DNE(3,ci,2,0,"ng-container",2),i.DNE(4,ns,2,1,"ng-container",2),i.DNE(5,vs,2,1,"ng-container",2),i.k0s(),i.j41(6,"div",3),i.nrm(7,"div",4,5),i.k0s(),i.j41(9,"section",6),i.nrm(10,"app-meet-the-team",7),i.k0s(),i.j41(11,"div",1),i.DNE(12,Xr,2,3,"ng-container",2),i.k0s(),i.j41(13,"div",1),i.DNE(14,ji,2,2,"ng-container",2),i.DNE(15,Ai,2,2,"ng-container",8),i.k0s()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(5),i.Y8G("businessId",l.business.id),i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","sb")}}let ao=(()=>{class p{constructor(l,_,I,L,K,ie){this.sectionService=l,this.resolver=_,this.injector=I,this.route=L,this.metaService=K,this.businessDataService=ie,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":xi.W,"right-text":_s.F,"left-text":ys.G,"item-list":gi.j}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,te.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((_,I)=>(_.order||0)-(I.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.forEach(l=>{const _=this.componentsMap[l.component];if(!_)return void console.error("\u274c Component Not Found:",l.component);const I=this.resolver.resolveComponentFactory(_),L=this.container.createComponent(I,void 0,this.injector);Object.assign(L.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),sectionImageUrl:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef (container) is undefined.")}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(lr.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(dr.nX),i.rXU(Gi.R),i.rXU(bt.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],viewQuery:function(_,I){if(1&_&&i.GBs(Li,5,i.c1b),2&_){let L;i.mGM(L=i.lsd())&&(I.container=L.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"aboutus-page-main-container"],[1,"container"],["dynamicContainer",""],[1,"business-team"],[3,"businessId"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[3,"imageURL","author","text"],["title","Are you ready to see your new website?","content","We\u2019d love to meet you! Schedule a consultation to discuss your new website.","buttonText","Schedule A Consultation","bgColor","#72b7de","textColor","var(--text-color)","titleColor","#253945","contentColor","var(--secondary-color)","buttonBgColor","var(--button-color)","buttonTextColor","var(--button-text-color)","borderRadius","0px","boxShadow","0px 6px 10px rgba(0,0,0,0.3)","layout","centered","page","contact-us",3,"isButton","businessId"],["title","Come Meet Our Family","content","We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home.","buttonText","Schedule A Visit","bgColor","var(--dark-background-color)","textColor","var(--text-color)","titleColor","var(--accent-color)","contentColor","var(--secondary-color)","buttonBgColor","var(--button-color)","buttonTextColor","var(--button-text-color)","borderRadius","0px","boxShadow","0px 6px 10px rgba(0,0,0,0.3)","layout","full-width","page","contact-us",3,"isButton","businessId"]],template:function(_,I){1&_&&i.DNE(0,Rr,16,10,"div",0),2&_&&i.Y8G("ngIf",I.business)},dependencies:[he.bT,he.ux,he.e1,he.fG,mr,kr,Kr,oo]})}}return p})();const ko=["dynamicContainer"];function fi(p,u){1&p&&(i.qex(0),i.j41(1,"div",7)(2,"div",8)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",9)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.bVm())}function Ma(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.bVm())}function Xa(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero",10),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","clemo"))}function Ci(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero",10),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","sb"))}function ba(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero",10),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","prestige"))}function Xs(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-testimonial-image",11),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",l.business.testimonials[1].name||"")("text",l.business.testimonials[1].quote||"")}}function ri(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-call-to-action",12),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("isButton",!0)("businessId",l.business.id)}}function js(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-call-to-action",13),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("isButton",!0)("businessId",l.business.id)}}function $s(p,u){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,fi,8,0,"ng-container",2),i.DNE(3,Ma,2,0,"ng-container",2),i.DNE(4,Xa,2,1,"ng-container",2),i.DNE(5,Ci,2,1,"ng-container",2),i.DNE(6,ba,2,1,"ng-container",2),i.k0s(),i.j41(7,"div",3),i.nrm(8,"div",4,5),i.k0s(),i.j41(10,"div",1),i.DNE(11,Xs,2,3,"ng-container",2),i.k0s(),i.j41(12,"div",1),i.DNE(13,ri,2,2,"ng-container",2),i.DNE(14,js,2,2,"ng-container",6),i.k0s()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(4),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","sb")}}let _o=(()=>{class p{constructor(l,_,I,L,K,ie,me){this.sectionService=l,this.resolver=_,this.injector=I,this.route=L,this.metaService=K,this.businessDataService=ie,this.router=me,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":xi.W,"right-text":_s.F,"left-text":ys.G,"item-list":gi.j}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,te.n)(l=>l?(this.businessId=l,this.metaService.loadAndApplyMeta(l),this.businessDataService.loadBusinessData(l)):[])).subscribe(l=>{l&&(this.business=l,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((_,I)=>(_.order||0)-(I.order||0)),setTimeout(()=>{this.loadComponents()})):console.warn("\u2757 No sections retrieved from the service.")})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?(console.log("\u2705 View and Sections Ready \u2013 Loading Components..."),this.loadComponents()):(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&(console.log("\u2705 Sections loaded after retry \u2013 Loading Components..."),this.loadComponents())},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadComponents(){this.container?(this.container.clear(),this.sections.length?(console.log("\u2705 Loading Components for Sections:",this.sections),this.sections.forEach(l=>{console.log("\u{1f504} Processing Section:",l);const _=this.componentsMap[l.component];if(!_)return void console.error("\u274c Component Not Found:",l.component);const I=this.resolver.resolveComponentFactory(_),L=this.container.createComponent(I,void 0,this.injector);Object.assign(L.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),sectionImageUrl:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})})):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef (container) is undefined.")}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(lr.W),i.rXU(i.OM3),i.rXU(i.zZn),i.rXU(dr.nX),i.rXU(Gi.R),i.rXU(bt.A),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],viewQuery:function(_,I){if(1&_&&i.GBs(ko,5,i.c1b),2&_){let L;i.mGM(L=i.lsd())&&(I.container=L.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"service-page-main-container"],[1,"container"],["dynamicContainer",""],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[3,"imageURL","author","text"],["title","Are you ready to see your new website?","content","We\u2019d love to meet you! Schedule a consultation to discuss your new website.","buttonText","Schedule A Consultation","bgColor","#72b7de","textColor","var(--text-color)","titleColor","#253945","contentColor","var(--secondary-color)","buttonBgColor","var(--button-color)","buttonTextColor","var(--button-text-color)","borderRadius","0px","boxShadow","0px 6px 10px rgba(0,0,0,0.3)","layout","centered","page","contact-us",3,"isButton","businessId"],["title","Ready to Experience Exceptional Care?","content"," Schedule a free consultation today and let\u2019s discuss how we can meet\n        your needs with our personalized services.","buttonText","Book a Consultation","bgColor","var(--background-color)","textColor","var(--text-color)","titleColor","var(--accent-color)","contentColor","var(--dark-background-color)","buttonBgColor","var(--button-color)","buttonTextColor","var(--button-text-color)","borderRadius","0px","boxShadow","0px 6px 10px rgba(0,0,0,0.3)","layout","full-width","page","contact-us",3,"isButton","businessId"]],template:function(_,I){1&_&&i.DNE(0,$s,15,10,"div",0),2&_&&i.Y8G("ngIf",I.business)},dependencies:[he.bT,he.ux,he.e1,he.fG,kr,Kr,oo]})}}return p})();var Ei="top",tr="bottom",Dr="right",Pr="left",us="auto",Gr=[Ei,tr,Dr,Pr],Mi="start",Ts="end",zi="clippingParents",ds="viewport",rs="popper",Qr="reference",_n=Gr.reduce(function(p,u){return p.concat([u+"-"+Mi,u+"-"+Ts])},[]),nr=[].concat(Gr,[us]).reduce(function(p,u){return p.concat([u,u+"-"+Mi,u+"-"+Ts])},[]),hr="beforeRead",Wi="read",is="afterRead",Oi="beforeMain",Hs="main",Jr="afterMain",ss="beforeWrite",Is="write",Qn="afterWrite",hs=[hr,Wi,is,Oi,Hs,Jr,ss,Is,Qn];function ki(p){return p?(p.nodeName||"").toLowerCase():null}function Z(p){if(null==p)return window;if("[object Window]"!==p.toString()){var u=p.ownerDocument;return u&&u.defaultView||window}return p}function Q(p){return p instanceof Z(p).Element||p instanceof Element}function Ce(p){return p instanceof Z(p).HTMLElement||p instanceof HTMLElement}function Ne(p){return!(typeof ShadowRoot>"u")&&(p instanceof Z(p).ShadowRoot||p instanceof ShadowRoot)}const Xt={name:"applyStyles",enabled:!0,phase:"write",fn:function it(p){var u=p.state;Object.keys(u.elements).forEach(function(l){var _=u.styles[l]||{},I=u.attributes[l]||{},L=u.elements[l];!Ce(L)||!ki(L)||(Object.assign(L.style,_),Object.keys(I).forEach(function(K){var ie=I[K];!1===ie?L.removeAttribute(K):L.setAttribute(K,!0===ie?"":ie)}))})},effect:function It(p){var u=p.state,l={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,l.popper),u.styles=l,u.elements.arrow&&Object.assign(u.elements.arrow.style,l.arrow),function(){Object.keys(u.elements).forEach(function(_){var I=u.elements[_],L=u.attributes[_]||{},ie=Object.keys(u.styles.hasOwnProperty(_)?u.styles[_]:l[_]).reduce(function(me,Xe){return me[Xe]="",me},{});!Ce(I)||!ki(I)||(Object.assign(I.style,ie),Object.keys(L).forEach(function(me){I.removeAttribute(me)}))})}},requires:["computeStyles"]};function bn(p){return p.split("-")[0]}var mn=Math.max,Wn=Math.min,yr=Math.round;function Vn(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function Un(){return!/^((?!chrome|android).)*safari/i.test(Vn())}function Yn(p,u,l){void 0===u&&(u=!1),void 0===l&&(l=!1);var _=p.getBoundingClientRect(),I=1,L=1;u&&Ce(p)&&(I=p.offsetWidth>0&&yr(_.width)/p.offsetWidth||1,L=p.offsetHeight>0&&yr(_.height)/p.offsetHeight||1);var ie=(Q(p)?Z(p):window).visualViewport,me=!Un()&&l,Xe=(_.left+(me&&ie?ie.offsetLeft:0))/I,vt=(_.top+(me&&ie?ie.offsetTop:0))/L,jt=_.width/I,Tn=_.height/L;return{width:jt,height:Tn,top:vt,right:Xe+jt,bottom:vt+Tn,left:Xe,x:Xe,y:vt}}function ui(p){var u=Yn(p),l=p.offsetWidth,_=p.offsetHeight;return Math.abs(u.width-l)<=1&&(l=u.width),Math.abs(u.height-_)<=1&&(_=u.height),{x:p.offsetLeft,y:p.offsetTop,width:l,height:_}}function Zr(p,u){var l=u.getRootNode&&u.getRootNode();if(p.contains(u))return!0;if(l&&Ne(l)){var _=u;do{if(_&&p.isSameNode(_))return!0;_=_.parentNode||_.host}while(_)}return!1}function qr(p){return Z(p).getComputedStyle(p)}function Ki(p){return["table","td","th"].indexOf(ki(p))>=0}function ei(p){return((Q(p)?p.ownerDocument:p.document)||window.document).documentElement}function Cr(p){return"html"===ki(p)?p:p.assignedSlot||p.parentNode||(Ne(p)?p.host:null)||ei(p)}function Di(p){return Ce(p)&&"fixed"!==qr(p).position?p.offsetParent:null}function Lr(p){for(var u=Z(p),l=Di(p);l&&Ki(l)&&"static"===qr(l).position;)l=Di(l);return l&&("html"===ki(l)||"body"===ki(l)&&"static"===qr(l).position)?u:l||function Si(p){var u=/firefox/i.test(Vn());if(/Trident/i.test(Vn())&&Ce(p)&&"fixed"===qr(p).position)return null;var I=Cr(p);for(Ne(I)&&(I=I.host);Ce(I)&&["html","body"].indexOf(ki(I))<0;){var L=qr(I);if("none"!==L.transform||"none"!==L.perspective||"paint"===L.contain||-1!==["transform","perspective"].indexOf(L.willChange)||u&&"filter"===L.willChange||u&&L.filter&&"none"!==L.filter)return I;I=I.parentNode}return null}(p)||u}function yo(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Vi(p,u,l){return mn(p,Wn(u,l))}function Ko(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function Oa(p,u){return u.reduce(function(l,_){return l[_]=p,l},{})}const Cs={name:"arrow",enabled:!0,phase:"main",fn:function jc(p){var u,l=p.state,_=p.name,I=p.options,L=l.elements.arrow,K=l.modifiersData.popperOffsets,ie=bn(l.placement),me=yo(ie),vt=[Pr,Dr].indexOf(ie)>=0?"height":"width";if(L&&K){var jt=function(u,l){return Ko("number"!=typeof(u="function"==typeof u?u(Object.assign({},l.rects,{placement:l.placement})):u)?u:Oa(u,Gr))}(I.padding,l),Tn=ui(L),En="y"===me?Ei:Pr,vn="y"===me?tr:Dr,tn=l.rects.reference[vt]+l.rects.reference[me]-K[me]-l.rects.popper[vt],Rn=K[me]-l.rects.reference[me],br=Lr(L),Nr=br?"y"===me?br.clientHeight||0:br.clientWidth||0:0,gr=Nr/2-Tn[vt]/2+(tn/2-Rn/2),yi=Vi(jt[En],gr,Nr-Tn[vt]-jt[vn]);l.modifiersData[_]=((u={})[me]=yi,u.centerOffset=yi-gr,u)}},effect:function Gs(p){var u=p.state,_=p.options.element,I=void 0===_?"[data-popper-arrow]":_;null!=I&&("string"==typeof I&&!(I=u.elements.popper.querySelector(I))||Zr(u.elements.popper,I)&&(u.elements.arrow=I))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zs(p){return p.split("-")[1]}var Qa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bi(p){var u,l=p.popper,_=p.popperRect,I=p.placement,L=p.variation,K=p.offsets,ie=p.position,me=p.gpuAcceleration,Xe=p.adaptive,vt=p.roundOffsets,jt=p.isFixed,Tn=K.x,En=void 0===Tn?0:Tn,vn=K.y,tn=void 0===vn?0:vn,Rn="function"==typeof vt?vt({x:En,y:tn}):{x:En,y:tn};En=Rn.x,tn=Rn.y;var br=K.hasOwnProperty("x"),Nr=K.hasOwnProperty("y"),Tr=Pr,Zn=Ei,ai=window;if(Xe){var gr=Lr(l),yi="clientHeight",Qi="clientWidth";gr===Z(l)&&"static"!==qr(gr=ei(l)).position&&"absolute"===ie&&(yi="scrollHeight",Qi="scrollWidth"),(I===Ei||(I===Pr||I===Dr)&&L===Ts)&&(Zn=tr,tn-=(jt&&gr===ai&&ai.visualViewport?ai.visualViewport.height:gr[yi])-_.height,tn*=me?1:-1),I!==Pr&&(I!==Ei&&I!==tr||L!==Ts)||(Tr=Dr,En-=(jt&&gr===ai&&ai.visualViewport?ai.visualViewport.width:gr[Qi])-_.width,En*=me?1:-1)}var Us,go=Object.assign({position:ie},Xe&&Qa),zo=!0===vt?function Na(p,u){var _=p.y,I=u.devicePixelRatio||1;return{x:yr(p.x*I)/I||0,y:yr(_*I)/I||0}}({x:En,y:tn},Z(l)):{x:En,y:tn};return En=zo.x,tn=zo.y,Object.assign({},go,me?((Us={})[Zn]=Nr?"0":"",Us[Tr]=br?"0":"",Us.transform=(ai.devicePixelRatio||1)<=1?"translate("+En+"px, "+tn+"px)":"translate3d("+En+"px, "+tn+"px, 0)",Us):((u={})[Zn]=Nr?tn+"px":"",u[Tr]=br?En+"px":"",u.transform="",u))}const vo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ia(p){var u=p.state,l=p.options,_=l.gpuAcceleration,I=void 0===_||_,L=l.adaptive,K=void 0===L||L,ie=l.roundOffsets,me=void 0===ie||ie,Xe={placement:bn(u.placement),variation:zs(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:I,isFixed:"fixed"===u.options.strategy};null!=u.modifiersData.popperOffsets&&(u.styles.popper=Object.assign({},u.styles.popper,bi(Object.assign({},Xe,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:K,roundOffsets:me})))),null!=u.modifiersData.arrow&&(u.styles.arrow=Object.assign({},u.styles.arrow,bi(Object.assign({},Xe,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:me})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var z={passive:!0};const U={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function ee(p){var u=p.state,l=p.instance,_=p.options,I=_.scroll,L=void 0===I||I,K=_.resize,ie=void 0===K||K,me=Z(u.elements.popper),Xe=[].concat(u.scrollParents.reference,u.scrollParents.popper);return L&&Xe.forEach(function(vt){vt.addEventListener("scroll",l.update,z)}),ie&&me.addEventListener("resize",l.update,z),function(){L&&Xe.forEach(function(vt){vt.removeEventListener("scroll",l.update,z)}),ie&&me.removeEventListener("resize",l.update,z)}},data:{}};var le={left:"right",right:"left",bottom:"top",top:"bottom"};function je(p){return p.replace(/left|right|bottom|top/g,function(u){return le[u]})}var yn={start:"end",end:"start"};function ir(p){return p.replace(/start|end/g,function(u){return yn[u]})}function os(p){var u=Z(p);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function Ms(p){return Yn(ei(p)).left+os(p).scrollLeft}function Ws(p){var u=qr(p);return/auto|scroll|overlay|hidden/.test(u.overflow+u.overflowY+u.overflowX)}function as(p){return["html","body","#document"].indexOf(ki(p))>=0?p.ownerDocument.body:Ce(p)&&Ws(p)?p:as(Cr(p))}function to(p,u){var l;void 0===u&&(u=[]);var _=as(p),I=_===(null==(l=p.ownerDocument)?void 0:l.body),L=Z(_),K=I?[L].concat(L.visualViewport||[],Ws(_)?_:[]):_,ie=u.concat(K);return I?ie:ie.concat(to(Cr(K)))}function ml(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function oa(p,u,l){return u===ds?ml(function fs(p,u){var l=Z(p),_=ei(p),I=l.visualViewport,L=_.clientWidth,K=_.clientHeight,ie=0,me=0;if(I){L=I.width,K=I.height;var Xe=Un();(Xe||!Xe&&"fixed"===u)&&(ie=I.offsetLeft,me=I.offsetTop)}return{width:L,height:K,x:ie+Ms(p),y:me}}(p,l)):Q(u)?function ws(p,u){var l=Yn(p,!1,"fixed"===u);return l.top=l.top+p.clientTop,l.left=l.left+p.clientLeft,l.bottom=l.top+p.clientHeight,l.right=l.left+p.clientWidth,l.width=p.clientWidth,l.height=p.clientHeight,l.x=l.left,l.y=l.top,l}(u,l):ml(function Eo(p){var u,l=ei(p),_=os(p),I=null==(u=p.ownerDocument)?void 0:u.body,L=mn(l.scrollWidth,l.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),K=mn(l.scrollHeight,l.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),ie=-_.scrollLeft+Ms(p),me=-_.scrollTop;return"rtl"===qr(I||l).direction&&(ie+=mn(l.clientWidth,I?I.clientWidth:0)-L),{width:L,height:K,x:ie,y:me}}(ei(p)))}function ls(p){var me,u=p.reference,l=p.element,_=p.placement,I=_?bn(_):null,L=_?zs(_):null,K=u.x+u.width/2-l.width/2,ie=u.y+u.height/2-l.height/2;switch(I){case Ei:me={x:K,y:u.y-l.height};break;case tr:me={x:K,y:u.y+u.height};break;case Dr:me={x:u.x+u.width,y:ie};break;case Pr:me={x:u.x-l.width,y:ie};break;default:me={x:u.x,y:u.y}}var Xe=I?yo(I):null;if(null!=Xe){var vt="y"===Xe?"height":"width";switch(L){case Mi:me[Xe]=me[Xe]-(u[vt]/2-l[vt]/2);break;case Ts:me[Xe]=me[Xe]+(u[vt]/2-l[vt]/2)}}return me}function Fo(p,u){void 0===u&&(u={});var _=u.placement,I=void 0===_?p.placement:_,L=u.strategy,K=void 0===L?p.strategy:L,ie=u.boundary,me=void 0===ie?zi:ie,Xe=u.rootBoundary,vt=void 0===Xe?ds:Xe,jt=u.elementContext,Tn=void 0===jt?rs:jt,En=u.altBoundary,vn=void 0!==En&&En,tn=u.padding,Rn=void 0===tn?0:tn,br=Ko("number"!=typeof Rn?Rn:Oa(Rn,Gr)),Tr=p.rects.popper,Zn=p.elements[vn?Tn===rs?Qr:rs:Tn],ai=function Zl(p,u,l,_){var I="clippingParents"===u?function qi(p){var u=to(Cr(p)),_=["absolute","fixed"].indexOf(qr(p).position)>=0&&Ce(p)?Lr(p):p;return Q(_)?u.filter(function(I){return Q(I)&&Zr(I,_)&&"body"!==ki(I)}):[]}(p):[].concat(u),L=[].concat(I,[l]),ie=L.reduce(function(me,Xe){var vt=oa(p,Xe,_);return me.top=mn(vt.top,me.top),me.right=Wn(vt.right,me.right),me.bottom=Wn(vt.bottom,me.bottom),me.left=mn(vt.left,me.left),me},oa(p,L[0],_));return ie.width=ie.right-ie.left,ie.height=ie.bottom-ie.top,ie.x=ie.left,ie.y=ie.top,ie}(Q(Zn)?Zn:Zn.contextElement||ei(p.elements.popper),me,vt,K),gr=Yn(p.elements.reference),yi=ls({reference:gr,element:Tr,strategy:"absolute",placement:I}),Qi=ml(Object.assign({},Tr,yi)),Ji=Tn===rs?Qi:gr,Zi={top:ai.top-Ji.top+br.top,bottom:Ji.bottom-ai.bottom+br.bottom,left:ai.left-Ji.left+br.left,right:Ji.right-ai.right+br.right},go=p.modifiersData.offset;if(Tn===rs&&go){var zo=go[I];Object.keys(Zi).forEach(function(Us){var Bc=[Dr,tr].indexOf(Us)>=0?1:-1,Mu=[Ei,tr].indexOf(Us)>=0?"y":"x";Zi[Us]+=zo[Mu]*Bc})}return Zi}const wa={name:"flip",enabled:!0,phase:"main",fn:function As(p){var u=p.state,l=p.options,_=p.name;if(!u.modifiersData[_]._skip){for(var I=l.mainAxis,L=void 0===I||I,K=l.altAxis,ie=void 0===K||K,me=l.fallbackPlacements,Xe=l.padding,vt=l.boundary,jt=l.rootBoundary,Tn=l.altBoundary,En=l.flipVariations,vn=void 0===En||En,tn=l.allowedAutoPlacements,Rn=u.options.placement,br=bn(Rn),Tr=me||(br!==Rn&&vn?function Ca(p){if(bn(p)===us)return[];var u=je(p);return[ir(p),u,ir(u)]}(Rn):[je(Rn)]),Zn=[Rn].concat(Tr).reduce(function(Bi,Xl){return Bi.concat(bn(Xl)===us?function lo(p,u){void 0===u&&(u={});var I=u.boundary,L=u.rootBoundary,K=u.padding,ie=u.flipVariations,me=u.allowedAutoPlacements,Xe=void 0===me?nr:me,vt=zs(u.placement),jt=vt?ie?_n:_n.filter(function(vn){return zs(vn)===vt}):Gr,Tn=jt.filter(function(vn){return Xe.indexOf(vn)>=0});0===Tn.length&&(Tn=jt);var En=Tn.reduce(function(vn,tn){return vn[tn]=Fo(p,{placement:tn,boundary:I,rootBoundary:L,padding:K})[bn(tn)],vn},{});return Object.keys(En).sort(function(vn,tn){return En[vn]-En[tn]})}(u,{placement:Xl,boundary:vt,rootBoundary:jt,padding:Xe,flipVariations:vn,allowedAutoPlacements:tn}):Xl)},[]),ai=u.rects.reference,gr=u.rects.popper,yi=new Map,Qi=!0,Ji=Zn[0],Zi=0;Zi<Zn.length;Zi++){var go=Zn[Zi],zo=bn(go),Us=zs(go)===Mi,Bc=[Ei,tr].indexOf(zo)>=0,Mu=Bc?"width":"height",Nn=Fo(u,{placement:go,boundary:vt,rootBoundary:jt,altBoundary:Tn,padding:Xe}),qn=Bc?Us?Dr:Pr:Us?tr:Ei;ai[Mu]>gr[Mu]&&(qn=je(qn));var ar=je(qn),li=[];if(L&&li.push(Nn[zo]<=0),ie&&li.push(Nn[qn]<=0,Nn[ar]<=0),li.every(function(Bi){return Bi})){Ji=go,Qi=!1;break}yi.set(go,li)}if(Qi)for(var qa=function(Xl){var Gf=Zn.find(function(Ps){var No=yi.get(Ps);if(No)return No.slice(0,Xl).every(function(Ea){return Ea})});if(Gf)return Ji=Gf,"break"},Js=vn?3:1;Js>0&&"break"!==qa(Js);Js--);u.placement!==Ji&&(u.modifiersData[_]._skip=!0,u.placement=Ji,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Aa(p,u,l){return void 0===l&&(l={x:0,y:0}),{top:p.top-u.height-l.y,right:p.right-u.width+l.x,bottom:p.bottom-u.height+l.y,left:p.left-u.width-l.x}}function _l(p){return[Ei,Dr,tr,Pr].some(function(u){return p[u]>=0})}const _r={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ou(p){var u=p.state,l=p.name,_=u.rects.reference,I=u.rects.popper,L=u.modifiersData.preventOverflow,K=Fo(u,{elementContext:"reference"}),ie=Fo(u,{altBoundary:!0}),me=Aa(K,_),Xe=Aa(ie,I,L),vt=_l(me),jt=_l(Xe);u.modifiersData[l]={referenceClippingOffsets:me,popperEscapeOffsets:Xe,isReferenceHidden:vt,hasPopperEscaped:jt},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":vt,"data-popper-escaped":jt})}},Lo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function bo(p){var u=p.state,_=p.name,I=p.options.offset,L=void 0===I?[0,0]:I,K=nr.reduce(function(vt,jt){return vt[jt]=function ec(p,u,l){var _=bn(p),I=[Pr,Ei].indexOf(_)>=0?-1:1,L="function"==typeof l?l(Object.assign({},u,{placement:p})):l,K=L[0],ie=L[1];return K=K||0,ie=(ie||0)*I,[Pr,Dr].indexOf(_)>=0?{x:ie,y:K}:{x:K,y:ie}}(jt,u.rects,L),vt},{}),ie=K[u.placement],Xe=ie.y;null!=u.modifiersData.popperOffsets&&(u.modifiersData.popperOffsets.x+=ie.x,u.modifiersData.popperOffsets.y+=Xe),u.modifiersData[_]=K}},tc={name:"popperOffsets",enabled:!0,phase:"read",fn:function Ja(p){var u=p.state;u.modifiersData[p.name]=ls({reference:u.rects.reference,element:u.rects.popper,strategy:"absolute",placement:u.placement})},data:{}},ka={name:"preventOverflow",enabled:!0,phase:"main",fn:function Uh(p){var u=p.state,l=p.options,_=p.name,I=l.mainAxis,L=void 0===I||I,K=l.altAxis,ie=void 0!==K&&K,Tn=l.tether,En=void 0===Tn||Tn,vn=l.tetherOffset,tn=void 0===vn?0:vn,Rn=Fo(u,{boundary:l.boundary,rootBoundary:l.rootBoundary,padding:l.padding,altBoundary:l.altBoundary}),br=bn(u.placement),Nr=zs(u.placement),Tr=!Nr,Zn=yo(br),ai=function yl(p){return"x"===p?"y":"x"}(Zn),gr=u.modifiersData.popperOffsets,yi=u.rects.reference,Qi=u.rects.popper,Ji="function"==typeof tn?tn(Object.assign({},u.rects,{placement:u.placement})):tn,Zi="number"==typeof Ji?{mainAxis:Ji,altAxis:Ji}:Object.assign({mainAxis:0,altAxis:0},Ji),go=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,zo={x:0,y:0};if(gr){if(L){var Us,Bc="y"===Zn?Ei:Pr,Mu="y"===Zn?tr:Dr,Nn="y"===Zn?"height":"width",qn=gr[Zn],ar=qn+Rn[Bc],li=qn-Rn[Mu],Ys=En?-Qi[Nn]/2:0,qa=Nr===Mi?yi[Nn]:Qi[Nn],Js=Nr===Mi?-Qi[Nn]:-yi[Nn],Ya=u.elements.arrow,Bi=En&&Ya?ui(Ya):{width:0,height:0},Xl=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Gf=Xl[Bc],Ps=Xl[Mu],No=Vi(0,yi[Nn],Bi[Nn]),Ea=Tr?yi[Nn]/2-Ys-No-Gf-Zi.mainAxis:qa-No-Gf-Zi.mainAxis,Eg=Tr?-yi[Nn]/2+Ys+No+Ps+Zi.mainAxis:Js+No+Ps+Zi.mainAxis,zf=u.elements.arrow&&Lr(u.elements.arrow),m0=zf?"y"===Zn?zf.clientTop||0:zf.clientLeft||0:0,Qv=null!=(Us=go?.[Zn])?Us:0,lb=qn+Eg-Qv,Jv=Vi(En?Wn(ar,qn+Ea-Qv-m0):ar,qn,En?mn(li,lb):li);gr[Zn]=Jv,zo[Zn]=Jv-qn}if(ie){var y0,bg=gr[ai],Zv="y"===ai?"height":"width",ub=bg+Rn["x"===Zn?Ei:Pr],eE=bg-Rn["x"===Zn?tr:Dr],Tg=-1!==[Ei,Pr].indexOf(br),v0=null!=(y0=go?.[ai])?y0:0,E0=Tg?ub:bg-yi[Zv]-Qi[Zv]-v0+Zi.altAxis,tE=Tg?bg+yi[Zv]+Qi[Zv]-v0-Zi.altAxis:eE,Ig=En&&Tg?function Zs(p,u,l){var _=Vi(p,u,l);return _>l?l:_}(E0,bg,tE):Vi(En?E0:ub,bg,En?tE:eE);gr[ai]=Ig,zo[ai]=Ig-bg}u.modifiersData[_]=zo}},requiresIfExists:["offset"]};function nc(p,u,l){void 0===l&&(l=!1);var _=Ce(u),I=Ce(u)&&function qo(p){var u=p.getBoundingClientRect(),l=yr(u.width)/p.offsetWidth||1,_=yr(u.height)/p.offsetHeight||1;return 1!==l||1!==_}(u),L=ei(u),K=Yn(p,I,l),ie={scrollLeft:0,scrollTop:0},me={x:0,y:0};return(_||!_&&!l)&&(("body"!==ki(u)||Ws(L))&&(ie=function vl(p){return p!==Z(p)&&Ce(p)?function Nu(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):os(p)}(u)),Ce(u)?((me=Yn(u,!0)).x+=u.clientLeft,me.y+=u.clientTop):L&&(me.x=Ms(L))),{x:K.left+ie.scrollLeft-me.x,y:K.top+ie.scrollTop-me.y,width:K.width,height:K.height}}function Fa(p){var u=new Map,l=new Set,_=[];function I(L){l.add(L.name),[].concat(L.requires||[],L.requiresIfExists||[]).forEach(function(ie){if(!l.has(ie)){var me=u.get(ie);me&&I(me)}}),_.push(L)}return p.forEach(function(L){u.set(L.name,L)}),p.forEach(function(L){l.has(L.name)||I(L)}),_}function el(p){var u;return function(){return u||(u=new Promise(function(l){Promise.resolve().then(function(){u=void 0,l(p())})})),u}}var rc={placement:"bottom",modifiers:[],strategy:"absolute"};function P(){for(var p=arguments.length,u=new Array(p),l=0;l<p;l++)u[l]=arguments[l];return!u.some(function(_){return!(_&&"function"==typeof _.getBoundingClientRect)})}function ne(p){void 0===p&&(p={});var l=p.defaultModifiers,_=void 0===l?[]:l,I=p.defaultOptions,L=void 0===I?rc:I;return function(ie,me,Xe){void 0===Xe&&(Xe=L);var vt={placement:"bottom",orderedModifiers:[],options:Object.assign({},rc,L),modifiersData:{},elements:{reference:ie,popper:me},attributes:{},styles:{}},jt=[],Tn=!1,En={state:vt,setOptions:function(br){var Nr="function"==typeof br?br(vt.options):br;tn(),vt.options=Object.assign({},L,vt.options,Nr),vt.scrollParents={reference:Q(ie)?to(ie):ie.contextElement?to(ie.contextElement):[],popper:to(me)};var Tr=function Za(p){var u=Fa(p);return hs.reduce(function(l,_){return l.concat(u.filter(function(I){return I.phase===_}))},[])}(function tl(p){var u=p.reduce(function(l,_){var I=l[_.name];return l[_.name]=I?Object.assign({},I,_,{options:Object.assign({},I.options,_.options),data:Object.assign({},I.data,_.data)}):_,l},{});return Object.keys(u).map(function(l){return u[l]})}([].concat(_,vt.options.modifiers)));return vt.orderedModifiers=Tr.filter(function(Zn){return Zn.enabled}),function vn(){vt.orderedModifiers.forEach(function(Rn){var Nr=Rn.options,Zn=Rn.effect;if("function"==typeof Zn){var ai=Zn({state:vt,name:Rn.name,instance:En,options:void 0===Nr?{}:Nr});jt.push(ai||function(){})}})}(),En.update()},forceUpdate:function(){if(!Tn){var br=vt.elements,Nr=br.reference,Tr=br.popper;if(P(Nr,Tr)){vt.rects={reference:nc(Nr,Lr(Tr),"fixed"===vt.options.strategy),popper:ui(Tr)},vt.reset=!1,vt.placement=vt.options.placement,vt.orderedModifiers.forEach(function(Zi){return vt.modifiersData[Zi.name]=Object.assign({},Zi.data)});for(var Zn=0;Zn<vt.orderedModifiers.length;Zn++)if(!0!==vt.reset){var ai=vt.orderedModifiers[Zn],gr=ai.fn,yi=ai.options;"function"==typeof gr&&(vt=gr({state:vt,options:void 0===yi?{}:yi,name:ai.name,instance:En})||vt)}else vt.reset=!1,Zn=-1}}},update:el(function(){return new Promise(function(Rn){En.forceUpdate(),Rn(vt)})}),destroy:function(){tn(),Tn=!0}};if(!P(ie,me))return En;function tn(){jt.forEach(function(Rn){return Rn()}),jt=[]}return En.setOptions(Xe).then(function(Rn){!Tn&&Xe.onFirstUpdate&&Xe.onFirstUpdate(Rn)}),En}}var j=ne(),Se=ne({defaultModifiers:[U,tc,vo,Xt,Lo,wa,ka,Cs,_r]}),Vt=ne({defaultModifiers:[U,tc,vo,Xt]});const Pn=new Map,Br={set(p,u,l){Pn.has(p)||Pn.set(p,new Map);const _=Pn.get(p);_.has(u)||0===_.size?_.set(u,l):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(_.keys())[0]}.`)},get:(p,u)=>Pn.has(p)&&Pn.get(p).get(u)||null,remove(p,u){if(!Pn.has(p))return;const l=Pn.get(p);l.delete(u),0===l.size&&Pn.delete(p)}},fr="transitionend",si=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),p),Ds=p=>{p.dispatchEvent(new Event(fr))},Os=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),$i=p=>Os(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(si(p)):null,Qs=p=>{if(!Os(p)||0===p.getClientRects().length)return!1;const u="visible"===getComputedStyle(p).getPropertyValue("visibility"),l=p.closest("details:not([open])");if(!l)return u;if(l!==p){const _=p.closest("summary");if(_&&_.parentNode!==l||null===_)return!1}return u},Ni=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),To=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const u=p.getRootNode();return u instanceof ShadowRoot?u:null}return p instanceof ShadowRoot?p:p.parentNode?To(p.parentNode):null},$c=()=>{},Mr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,La=[],uo=()=>"rtl"===document.documentElement.dir,Io=p=>{(p=>{"loading"===document.readyState?(La.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of La)u()}),La.push(p)):p()})(()=>{const u=Mr();if(u){const l=p.NAME,_=u.fn[l];u.fn[l]=p.jQueryInterface,u.fn[l].Constructor=p,u.fn[l].noConflict=()=>(u.fn[l]=_,p.jQueryInterface)}})},Ns=(p,u=[],l=p)=>"function"==typeof p?p(...u):l,Fi=(p,u,l=!0)=>{if(!l)return void Ns(p);const I=(p=>{if(!p)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(p);const _=Number.parseFloat(u),I=Number.parseFloat(l);return _||I?(u=u.split(",")[0],l=l.split(",")[0],1e3*(Number.parseFloat(u)+Number.parseFloat(l))):0})(u)+5;let L=!1;const K=({target:ie})=>{ie===u&&(L=!0,u.removeEventListener(fr,K),Ns(p))};u.addEventListener(fr,K),setTimeout(()=>{L||Ds(u)},I)},ku=(p,u,l,_)=>{const I=p.length;let L=p.indexOf(u);return-1===L?!l&&_?p[I-1]:p[0]:(L+=l?1:-1,_&&(L=(L+I)%I),p[Math.max(0,Math.min(L,I-1))])},Fu=/[^.]*(?=\..*)\.|.*/,aa=/\..*/,Ss=/::\d+$/,la={};let El=1;const Lu={mouseenter:"mouseover",mouseleave:"mouseout"},xd=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Vu(p,u){return u&&`${u}::${El++}`||p.uidEvent||El++}function Hc(p){const u=Vu(p);return p.uidEvent=u,la[u]=la[u]||{},la[u]}function zc(p,u,l=null){return Object.values(p).find(_=>_.callable===u&&_.delegationSelector===l)}function ca(p,u,l){const _="string"==typeof u,I=_?l:u||l;let L=Yo(p);return xd.has(L)||(L=p),[_,I,L]}function ic(p,u,l,_,I){if("string"!=typeof u||!p)return;let[L,K,ie]=ca(u,l,_);var vn;u in Lu&&(vn=K,K=function(tn){if(!tn.relatedTarget||tn.relatedTarget!==tn.delegateTarget&&!tn.delegateTarget.contains(tn.relatedTarget))return vn.call(this,tn)});const me=Hc(p),Xe=me[ie]||(me[ie]={}),vt=zc(Xe,K,L?l:null);if(vt)return void(vt.oneOff=vt.oneOff&&I);const jt=Vu(K,u.replace(Fu,"")),Tn=L?function Gc(p,u,l){return function _(I){const L=p.querySelectorAll(u);for(let{target:K}=I;K&&K!==this;K=K.parentNode)for(const ie of L)if(ie===K)return sc(I,{delegateTarget:K}),_.oneOff&&nn.off(p,I.type,u,l),l.apply(K,[I])}}(p,l,K):function pr(p,u){return function l(_){return sc(_,{delegateTarget:p}),l.oneOff&&nn.off(p,_.type,u),u.apply(p,[_])}}(p,K);Tn.delegationSelector=L?l:null,Tn.callable=K,Tn.oneOff=I,Tn.uidEvent=jt,Xe[jt]=Tn,p.addEventListener(ie,Tn,L)}function Uu(p,u,l,_,I){const L=zc(u[l],_,I);L&&(p.removeEventListener(l,L,!!I),delete u[l][L.uidEvent])}function Bu(p,u,l,_){const I=u[l]||{};for(const[L,K]of Object.entries(I))L.includes(_)&&Uu(p,u,l,K.callable,K.delegationSelector)}function Yo(p){return p=p.replace(aa,""),Lu[p]||p}const nn={on(p,u,l,_){ic(p,u,l,_,!1)},one(p,u,l,_){ic(p,u,l,_,!0)},off(p,u,l,_){if("string"!=typeof u||!p)return;const[I,L,K]=ca(u,l,_),ie=K!==u,me=Hc(p),Xe=me[K]||{},vt=u.startsWith(".");if(typeof L<"u"){if(!Object.keys(Xe).length)return;Uu(p,me,K,L,I?l:null)}else{if(vt)for(const jt of Object.keys(me))Bu(p,me,jt,u.slice(1));for(const[jt,Tn]of Object.entries(Xe)){const En=jt.replace(Ss,"");(!ie||u.includes(En))&&Uu(p,me,K,Tn.callable,Tn.delegationSelector)}}},trigger(p,u,l){if("string"!=typeof u||!p)return null;const _=Mr();let K=null,ie=!0,me=!0,Xe=!1;u!==Yo(u)&&_&&(K=_.Event(u,l),_(p).trigger(K),ie=!K.isPropagationStopped(),me=!K.isImmediatePropagationStopped(),Xe=K.isDefaultPrevented());const vt=sc(new Event(u,{bubbles:ie,cancelable:!0}),l);return Xe&&vt.preventDefault(),me&&p.dispatchEvent(vt),vt.defaultPrevented&&K&&K.preventDefault(),vt}};function sc(p,u={}){for(const[l,_]of Object.entries(u))try{p[l]=_}catch{Object.defineProperty(p,l,{configurable:!0,get:()=>_})}return p}function Yi(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function nl(p){return p.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const Xo={setDataAttribute(p,u,l){p.setAttribute(`data-bs-${nl(u)}`,l)},removeDataAttribute(p,u){p.removeAttribute(`data-bs-${nl(u)}`)},getDataAttributes(p){if(!p)return{};const u={},l=Object.keys(p.dataset).filter(_=>_.startsWith("bs")&&!_.startsWith("bsConfig"));for(const _ of l){let I=_.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),u[I]=Yi(p.dataset[_])}return u},getDataAttribute:(p,u)=>Yi(p.getAttribute(`data-bs-${nl(u)}`))};class Gt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,l){const _=Os(l)?Xo.getDataAttribute(l,"config"):{};return{...this.constructor.Default,..."object"==typeof _?_:{},...Os(l)?Xo.getDataAttributes(l):{},..."object"==typeof u?u:{}}}_typeCheckConfig(u,l=this.constructor.DefaultType){for(const[_,I]of Object.entries(l)){const L=u[_],K=Os(L)?"element":null==(p=L)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(K))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${_}" provided type "${K}" but expected type "${I}".`)}var p}}class ps extends Gt{constructor(u,l){super(),(u=$i(u))&&(this._element=u,this._config=this._getConfig(l),Br.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Br.remove(this._element,this.constructor.DATA_KEY),nn.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,l,_=!0){Fi(u,l,_)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return Br.get($i(u),this.DATA_KEY)}static getOrCreateInstance(u,l={}){return this.getInstance(u)||new this(u,"object"==typeof l?l:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const Xi=p=>{let u=p.getAttribute("data-bs-target");if(!u||"#"===u){let l=p.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l=`#${l.split("#")[1]}`),u=l&&"#"!==l?l.trim():null}return u?u.split(",").map(l=>si(l)).join(","):null},kn={find:(p,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,p)),findOne:(p,u=document.documentElement)=>Element.prototype.querySelector.call(u,p),children:(p,u)=>[].concat(...p.children).filter(l=>l.matches(u)),parents(p,u){const l=[];let _=p.parentNode.closest(u);for(;_;)l.push(_),_=_.parentNode.closest(u);return l},prev(p,u){let l=p.previousElementSibling;for(;l;){if(l.matches(u))return[l];l=l.previousElementSibling}return[]},next(p,u){let l=p.nextElementSibling;for(;l;){if(l.matches(u))return[l];l=l.nextElementSibling}return[]},focusableChildren(p){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>`${l}:not([tabindex^="-"])`).join(",");return this.find(u,p).filter(l=>!Ni(l)&&Qs(l))},getSelectorFromElement(p){const u=Xi(p);return u&&kn.findOne(u)?u:null},getElementFromSelector(p){const u=Xi(p);return u?kn.findOne(u):null},getMultipleElementsFromSelector(p){const u=Xi(p);return u?kn.find(u):[]}},Va=(p,u="hide")=>{const _=p.NAME;nn.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${_}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),Ni(this))return;const L=kn.getElementFromSelector(this)||this.closest(`.${_}`);p.getOrCreateInstance(L)[u]()})},Tl=".bs.alert",ju=`close${Tl}`,Md=`closed${Tl}`;class Rs extends ps{static get NAME(){return"alert"}close(){if(nn.trigger(this._element,ju).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),nn.trigger(this._element,Md),this.dispose()}static jQueryInterface(u){return this.each(function(){const l=Rs.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Va(Rs,"close"),Io(Rs);const oc='[data-bs-toggle="button"]';class ac extends ps{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const l=ac.getOrCreateInstance(this);"toggle"===u&&l[u]()})}}nn.on(document,"click.bs.button.data-api",oc,p=>{p.preventDefault();const u=p.target.closest(oc);ac.getOrCreateInstance(u).toggle()}),Io(ac);const fo=".bs.swipe",Il=`touchstart${fo}`,D=`touchmove${fo}`,O=`touchend${fo}`,w=`pointerdown${fo}`,N=`pointerup${fo}`,yt={endCallback:null,leftCallback:null,rightCallback:null},In={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class or extends Gt{constructor(u,l){super(),this._element=u,u&&or.isSupported()&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yt}static get DefaultType(){return In}static get NAME(){return"swipe"}dispose(){nn.off(this._element,fo)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),Ns(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const l=u/this._deltaX;this._deltaX=0,l&&Ns(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(nn.on(this._element,w,u=>this._start(u)),nn.on(this._element,N,u=>this._end(u)),this._element.classList.add("pointer-event")):(nn.on(this._element,Il,u=>this._start(u)),nn.on(this._element,D,u=>this._move(u)),nn.on(this._element,O,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&("pen"===u.pointerType||"touch"===u.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ur=".bs.carousel",Ua=".data-api",ol="next",Al="prev",Vo="left",wo="right",Bh=`slide${Ur}`,ua=`slid${Ur}`,Kc=`keydown${Ur}`,Hu=`mouseenter${Ur}`,Gu=`mouseleave${Ur}`,zu=`dragstart${Ur}`,Nd=`load${Ur}${Ua}`,Wu=`click${Ur}${Ua}`,Ao="carousel",Do="active",qc=".active",Hh=".carousel-item",qf=qc+Hh,qu={ArrowLeft:wo,ArrowRight:Vo},al={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Yf={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class uc extends ps{constructor(u,l){super(u,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=kn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ao&&this.cycle()}static get Default(){return al}static get DefaultType(){return Yf}static get NAME(){return"carousel"}next(){this._slide(ol)}nextWhenVisible(){!document.hidden&&Qs(this._element)&&this.next()}prev(){this._slide(Al)}pause(){this._isSliding&&Ds(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void nn.one(this._element,ua,()=>this.cycle());this.cycle()}}to(u){const l=this._getItems();if(u>l.length-1||u<0)return;if(this._isSliding)return void nn.one(this._element,ua,()=>this.to(u));const _=this._getItemIndex(this._getActive());_!==u&&this._slide(u>_?ol:Al,l[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&nn.on(this._element,Kc,u=>this._keydown(u)),"hover"===this._config.pause&&(nn.on(this._element,Hu,()=>this.pause()),nn.on(this._element,Gu,()=>this._maybeEnableCycle())),this._config.touch&&or.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const _ of kn.find(".carousel-item img",this._element))nn.on(_,zu,I=>I.preventDefault());this._swipeHelper=new or(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Vo)),rightCallback:()=>this._slide(this._directionToOrder(wo)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const l=qu[u.key];l&&(u.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const l=kn.findOne(qc,this._indicatorsElement);l.classList.remove(Do),l.removeAttribute("aria-current");const _=kn.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);_&&(_.classList.add(Do),_.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const l=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(u,l=null){if(this._isSliding)return;const _=this._getActive(),I=u===ol,L=l||ku(this._getItems(),_,I,this._config.wrap);if(L===_)return;const K=this._getItemIndex(L),ie=En=>nn.trigger(this._element,En,{relatedTarget:L,direction:this._orderToDirection(u),from:this._getItemIndex(_),to:K});if(ie(Bh).defaultPrevented||!_||!L)return;const Xe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(K),this._activeElement=L;const vt=I?"carousel-item-start":"carousel-item-end",jt=I?"carousel-item-next":"carousel-item-prev";L.classList.add(jt),_.classList.add(vt),L.classList.add(vt),this._queueCallback(()=>{L.classList.remove(vt,jt),L.classList.add(Do),_.classList.remove(Do,jt,vt),this._isSliding=!1,ie(ua)},_,this._isAnimated()),Xe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return kn.findOne(qf,this._element)}_getItems(){return kn.find(Hh,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return uo()?u===Vo?Al:ol:u===Vo?ol:Al}_orderToDirection(u){return uo()?u===Al?Vo:wo:u===Al?wo:Vo}static jQueryInterface(u){return this.each(function(){const l=uc.getOrCreateInstance(this,u);if("number"!=typeof u){if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}}else l.to(u)})}}nn.on(document,Wu,"[data-bs-slide], [data-bs-slide-to]",function(p){const u=kn.getElementFromSelector(this);if(!u||!u.classList.contains(Ao))return;p.preventDefault();const l=uc.getOrCreateInstance(u),_=this.getAttribute("data-bs-slide-to");return _?(l.to(_),void l._maybeEnableCycle()):"next"===Xo.getDataAttribute(this,"slide")?(l.next(),void l._maybeEnableCycle()):(l.prev(),void l._maybeEnableCycle())}),nn.on(window,Nd,()=>{const p=kn.find('[data-bs-ride="carousel"]');for(const u of p)uc.getOrCreateInstance(u)}),Io(uc);const Ks=".bs.collapse",dc=`show${Ks}`,ks=`shown${Ks}`,Gh=`hide${Ks}`,Rl=`hidden${Ks}`,hc=`click${Ks}.data-api`,Yu="show",Uo="collapse",Ba="collapsing",Pl=`:scope .${Uo} .${Uo}`,fc='[data-bs-toggle="collapse"]',Xf={parent:null,toggle:!0},Ol={parent:"(null|element)",toggle:"boolean"};class pc extends ps{constructor(u,l){super(u,l),this._isTransitioning=!1,this._triggerArray=[];const _=kn.find(fc);for(const I of _){const L=kn.getSelectorFromElement(I),K=kn.find(L).filter(ie=>ie===this._element);null!==L&&K.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xf}static get DefaultType(){return Ol}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(ie=>ie!==this._element).map(ie=>pc.getOrCreateInstance(ie,{toggle:!1}))),u.length&&u[0]._isTransitioning||nn.trigger(this._element,dc).defaultPrevented)return;for(const ie of u)ie.hide();const _=this._getDimension();this._element.classList.remove(Uo),this._element.classList.add(Ba),this._element.style[_]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const K=`scroll${_[0].toUpperCase()+_.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ba),this._element.classList.add(Uo,Yu),this._element.style[_]="",nn.trigger(this._element,ks)},this._element,!0),this._element.style[_]=`${this._element[K]}px`}hide(){if(this._isTransitioning||!this._isShown()||nn.trigger(this._element,Gh).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,this._element.classList.add(Ba),this._element.classList.remove(Uo,Yu);for(const I of this._triggerArray){const L=kn.getElementFromSelector(I);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([I],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ba),this._element.classList.add(Uo),nn.trigger(this._element,Rl)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(Yu)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=$i(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(fc);for(const l of u){const _=kn.getElementFromSelector(l);_&&this._addAriaAndCollapsedClass([l],this._isShown(_))}}_getFirstLevelChildren(u){const l=kn.find(Pl,this._config.parent);return kn.find(u,this._config.parent).filter(_=>!l.includes(_))}_addAriaAndCollapsedClass(u,l){if(u.length)for(const _ of u)_.classList.toggle("collapsed",!l),_.setAttribute("aria-expanded",l)}static jQueryInterface(u){const l={};return"string"==typeof u&&/show|hide/.test(u)&&(l.toggle=!1),this.each(function(){const _=pc.getOrCreateInstance(this,l);if("string"==typeof u){if(typeof _[u]>"u")throw new TypeError(`No method named "${u}"`);_[u]()}})}}nn.on(document,hc,fc,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const u of kn.getMultipleElementsFromSelector(this))pc.getOrCreateInstance(u,{toggle:!1}).toggle()}),Io(pc);const qs="dropdown",Jo=".bs.dropdown",Yc=".data-api",Ud="ArrowUp",Nl="ArrowDown",da=`hide${Jo}`,zh=`hidden${Jo}`,Bd=`show${Jo}`,Xc=`shown${Jo}`,jd=`click${Jo}${Yc}`,Jf=`keydown${Jo}${Yc}`,s_=`keyup${Jo}${Yc}`,Qc="show",gc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Wh=`${gc}.${Qc}`,Es=".dropdown-menu",ea=uo()?"top-end":"top-start",Fl=uo()?"top-start":"top-end",Hd=uo()?"bottom-end":"bottom-start",Ll=uo()?"bottom-start":"bottom-end",Vl=uo()?"left-start":"right-start",Gd=uo()?"right-start":"left-start",Sg={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ta={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class na extends ps{constructor(u,l){super(u,l),this._popper=null,this._parent=this._element.parentNode,this._menu=kn.next(this._element,Es)[0]||kn.prev(this._element,Es)[0]||kn.findOne(Es,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Sg}static get DefaultType(){return ta}static get NAME(){return qs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ni(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!nn.trigger(this._element,Bd,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const _ of[].concat(...document.body.children))nn.on(_,"mouseover",$c);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qc),this._element.classList.add(Qc),nn.trigger(this._element,Xc,u)}}hide(){!Ni(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!nn.trigger(this._element,da,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))nn.off(_,"mouseover",$c);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qc),this._element.classList.remove(Qc),this._element.setAttribute("aria-expanded","false"),Xo.removeDataAttribute(this._menu,"popper"),nn.trigger(this._element,zh,u)}}_getConfig(u){if("object"==typeof(u=super._getConfig(u)).reference&&!Os(u.reference)&&"function"!=typeof u.reference.getBoundingClientRect)throw new TypeError(`${qs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;"parent"===this._config.reference?u=this._parent:Os(this._config.reference)?u=$i(this._config.reference):"object"==typeof this._config.reference&&(u=this._config.reference);const l=this._getPopperConfig();this._popper=Se(u,this._menu,l)}_isShown(){return this._menu.classList.contains(Qc)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Vl;if(u.classList.contains("dropstart"))return Gd;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const l="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return u.classList.contains("dropup")?l?Fl:ea:l?Ll:Hd}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Xo.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...Ns(this._config.popperConfig,[u])}}_selectMenuItem({key:u,target:l}){const _=kn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>Qs(I));_.length&&ku(_,l,u===Nl,!_.includes(l)).focus()}static jQueryInterface(u){return this.each(function(){const l=na.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}static clearMenus(u){if(2===u.button||"keyup"===u.type&&"Tab"!==u.key)return;const l=kn.find(Wh);for(const _ of l){const I=na.getInstance(_);if(!I||!1===I._config.autoClose)continue;const L=u.composedPath(),K=L.includes(I._menu);if(L.includes(I._element)||"inside"===I._config.autoClose&&!K||"outside"===I._config.autoClose&&K||I._menu.contains(u.target)&&("keyup"===u.type&&"Tab"===u.key||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const ie={relatedTarget:I._element};"click"===u.type&&(ie.clickEvent=u),I._completeHide(ie)}}static dataApiKeydownHandler(u){const l=/input|textarea/i.test(u.target.tagName),_="Escape"===u.key,I=[Ud,Nl].includes(u.key);if(!I&&!_||l&&!_)return;u.preventDefault();const L=this.matches(gc)?this:kn.prev(this,gc)[0]||kn.next(this,gc)[0]||kn.findOne(gc,u.delegateTarget.parentNode),K=na.getOrCreateInstance(L);if(I)return u.stopPropagation(),K.show(),void K._selectMenuItem(u);K._isShown()&&(u.stopPropagation(),K.hide(),L.focus())}}nn.on(document,Jf,gc,na.dataApiKeydownHandler),nn.on(document,Jf,Es,na.dataApiKeydownHandler),nn.on(document,jd,na.clearMenus),nn.on(document,s_,na.clearMenus),nn.on(document,jd,gc,function(p){p.preventDefault(),na.getOrCreateInstance(this).toggle()}),Io(na);const ja="backdrop",Ju=`mousedown.bs.${ja}`,Rg={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Yh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Xh extends Gt{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return Rg}static get DefaultType(){return Yh}static get NAME(){return ja}show(u){if(!this._config.isVisible)return void Ns(u);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Ns(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Ns(u)})):Ns(u)}dispose(){this._isAppended&&(nn.off(this._element,Ju),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=$i(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),nn.on(u,Ju,()=>{Ns(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){Fi(u,this._getElement(),this._config.isAnimated)}}const mc=".bs.focustrap",ll=`focusin${mc}`,Qh=`keydown.tab${mc}`,Zc="backward",Zh={autofocus:!0,trapElement:null},tp={autofocus:"boolean",trapElement:"element"};class eu extends Gt{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Zh}static get DefaultType(){return tp}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),nn.off(document,mc),nn.on(document,ll,u=>this._handleFocusin(u)),nn.on(document,Qh,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,nn.off(document,mc))}_handleFocusin(u){const{trapElement:l}=this._config;if(u.target===document||u.target===l||l.contains(u.target))return;const _=kn.focusableChildren(l);0===_.length?l.focus():this._lastTabNavDirection===Zc?_[_.length-1].focus():_[0].focus()}_handleKeydown(u){"Tab"===u.key&&(this._lastTabNavDirection=u.shiftKey?Zc:"forward")}}const tu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Wd=".sticky-top",_c="padding-right",ed="margin-right";class Ra{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,_c,l=>l+u),this._setElementAttributes(tu,_c,l=>l+u),this._setElementAttributes(Wd,ed,l=>l-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,_c),this._resetElementAttributes(tu,_c),this._resetElementAttributes(Wd,ed)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,l,_){const I=this.getWidth();this._applyManipulationCallback(u,K=>{if(K!==this._element&&window.innerWidth>K.clientWidth+I)return;this._saveInitialAttribute(K,l);const ie=window.getComputedStyle(K).getPropertyValue(l);K.style.setProperty(l,`${_(Number.parseFloat(ie))}px`)})}_saveInitialAttribute(u,l){const _=u.style.getPropertyValue(l);_&&Xo.setDataAttribute(u,l,_)}_resetElementAttributes(u,l){this._applyManipulationCallback(u,I=>{const L=Xo.getDataAttribute(I,l);null!==L?(Xo.removeDataAttribute(I,l),I.style.setProperty(l,L)):I.style.removeProperty(l)})}_applyManipulationCallback(u,l){if(Os(u))l(u);else for(const _ of kn.find(u,this._element))l(_)}}const g=".bs.modal",X=`hide${g}`,de=`hidePrevented${g}`,Ye=`hidden${g}`,Rt=`show${g}`,Wt=`shown${g}`,Mn=`resize${g}`,On=`click.dismiss${g}`,ti=`mousedown.dismiss${g}`,Bo=`keydown.dismiss${g}`,ha=`click${g}.data-api`,$l="modal-open",nu="modal-static",ru={backdrop:!0,focus:!0,keyboard:!0},ef={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pa extends ps{constructor(u,l){super(u,l),this._dialog=kn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ra,this._addEventListeners()}static get Default(){return ru}static get DefaultType(){return ef}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||nn.trigger(this._element,Rt,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add($l),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){!this._isShown||this._isTransitioning||nn.trigger(this._element,X).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){nn.off(window,g),nn.off(this._dialog,g),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Xh({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new eu({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=kn.findOne(".modal-body",this._dialog);l&&(l.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,nn.trigger(this._element,Wt,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){nn.on(this._element,Bo,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),nn.on(window,Mn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),nn.on(this._element,ti,u=>{nn.one(this._element,On,l=>{if(this._element===u.target&&this._element===l.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove($l),this._resetAdjustments(),this._scrollBar.reset(),nn.trigger(this._element,Ye)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(nn.trigger(this._element,de).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,_=this._element.style.overflowY;"hidden"===_||this._element.classList.contains(nu)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(nu),this._queueCallback(()=>{this._element.classList.remove(nu),this._queueCallback(()=>{this._element.style.overflowY=_},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),_=l>0;if(_&&!u){const I=uo()?"paddingLeft":"paddingRight";this._element.style[I]=`${l}px`}if(!_&&u){const I=uo()?"paddingRight":"paddingLeft";this._element.style[I]=`${l}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,l){return this.each(function(){const _=Pa.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof _[u]>"u")throw new TypeError(`No method named "${u}"`);_[u](l)}})}}nn.on(document,ha,'[data-bs-toggle="modal"]',function(p){const u=kn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),nn.one(u,Rt,I=>{I.defaultPrevented||nn.one(u,Ye,()=>{Qs(this)&&this.focus()})});const l=kn.findOne(".modal.show");l&&Pa.getInstance(l).hide(),Pa.getOrCreateInstance(u).toggle(this)}),Va(Pa),Io(Pa);const So=".bs.offcanvas",nd=".data-api",Mg=`load${So}${nd}`,fa="showing",rd=".offcanvas.show",sp=`show${So}`,Xd=`shown${So}`,xy=`hide${So}`,op=`hidePrevented${So}`,c_=`hidden${So}`,ap=`resize${So}`,Qd=`click${So}${nd}`,Og=`keydown.dismiss${So}`,Jd={backdrop:!0,keyboard:!0,scroll:!1},lp={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class iu extends ps{constructor(u,l){super(u,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Jd}static get DefaultType(){return lp}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||nn.trigger(this._element,sp,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ra).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(fa),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(fa),nn.trigger(this._element,Xd,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&!nn.trigger(this._element,xy).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ra).reset(),nn.trigger(this._element,c_)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Xh({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{"static"!==this._config.backdrop?this.hide():nn.trigger(this._element,op)}:null})}_initializeFocusTrap(){return new eu({trapElement:this._element})}_addEventListeners(){nn.on(this._element,Og,u=>{if("Escape"===u.key){if(this._config.keyboard)return void this.hide();nn.trigger(this._element,op)}})}static jQueryInterface(u){return this.each(function(){const l=iu.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u](this)}})}}nn.on(document,Qd,'[data-bs-toggle="offcanvas"]',function(p){const u=kn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),Ni(this))return;nn.one(u,c_,()=>{Qs(this)&&this.focus()});const l=kn.findOne(rd);l&&l!==u&&iu.getInstance(l).hide(),iu.getOrCreateInstance(u).toggle(this)}),nn.on(window,Mg,()=>{for(const p of kn.find(rd))iu.getOrCreateInstance(p).show()}),nn.on(window,ap,()=>{for(const p of kn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&iu.getOrCreateInstance(p).hide()}),Va(iu),Io(iu);const jo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},cp=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),d_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rf=(p,u)=>{const l=p.nodeName.toLowerCase();return u.includes(l)?!cp.has(l)||!!d_.test(p.nodeValue):u.filter(_=>_ instanceof RegExp).some(_=>_.test(l))},h_={allowList:jo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},up={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},My={entry:"(string|element|function|null)",selector:"(string|element)"};class dp extends Gt{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return h_}static get DefaultType(){return up}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[I,L]of Object.entries(this._config.content))this._setContent(u,L,I);const l=u.children[0],_=this._resolvePossibleFunction(this._config.extraClass);return _&&l.classList.add(..._.split(" ")),l}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[l,_]of Object.entries(u))super._typeCheckConfig({selector:l,entry:_},My)}_setContent(u,l,_){const I=kn.findOne(_,u);if(I){if(!(l=this._resolvePossibleFunction(l)))return void I.remove();if(Os(l))return void this._putElementInTemplate($i(l),I);if(this._config.html)return void(I.innerHTML=this._maybeSanitize(l));I.textContent=l}}_maybeSanitize(u){return this._config.sanitize?function $o(p,u,l){if(!p.length)return p;if(l&&"function"==typeof l)return l(p);const I=(new window.DOMParser).parseFromString(p,"text/html"),L=[].concat(...I.body.querySelectorAll("*"));for(const K of L){const ie=K.nodeName.toLowerCase();if(!Object.keys(u).includes(ie)){K.remove();continue}const me=[].concat(...K.attributes),Xe=[].concat(u["*"]||[],u[ie]||[]);for(const vt of me)rf(vt,Xe)||K.removeAttribute(vt.nodeName)}return I.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return Ns(u,[this])}_putElementInTemplate(u,l){if(this._config.html)return l.innerHTML="",void l.append(u);l.textContent=u.textContent}}const hp=new Set(["sanitize","allowList","sanitizeFn"]),sf="fade",yc="show",vc="hide.bs.modal",Hl="hover",ou="focus",g_={AUTO:"auto",TOP:"top",RIGHT:uo()?"left":"right",BOTTOM:"bottom",LEFT:uo()?"right":"left"},Vg={allowList:jo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ny={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class sd extends ps{constructor(u,l){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Vg}static get DefaultType(){return Ny}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),nn.off(this._element.closest(".modal"),vc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=nn.trigger(this._element,this.constructor.eventName("show")),_=(To(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!_)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(I),nn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(yc),"ontouchstart"in document.documentElement)for(const ie of[].concat(...document.body.children))nn.on(ie,"mouseover",$c);this._queueCallback(()=>{nn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!nn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(yc),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))nn.off(I,"mouseover",$c);this._activeTrigger.click=!1,this._activeTrigger[ou]=!1,this._activeTrigger[Hl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),nn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const l=this._getTemplateFactory(u).toHtml();if(!l)return null;l.classList.remove(sf,yc),l.classList.add(`bs-${this.constructor.NAME}-auto`);const _=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return l.setAttribute("id",_),this._isAnimated()&&l.classList.add(sf),l}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new dp({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(sf)}_isShown(){return this.tip&&this.tip.classList.contains(yc)}_createPopper(u){const l=Ns(this._config.placement,[this,u,this._element]),_=g_[l.toUpperCase()];return Se(this._element,u,this._getPopperConfig(_))}_getOffset(){const{offset:u}=this._config;return"string"==typeof u?u.split(",").map(l=>Number.parseInt(l,10)):"function"==typeof u?l=>u(l,this._element):u}_resolvePossibleFunction(u){return Ns(u,[this._element])}_getPopperConfig(u){const l={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:_=>{this._getTipElement().setAttribute("data-popper-placement",_.state.placement)}}]};return{...l,...Ns(this._config.popperConfig,[l])}}_setListeners(){const u=this._config.trigger.split(" ");for(const l of u)if("click"===l)nn.on(this._element,this.constructor.eventName("click"),this._config.selector,_=>{this._initializeOnDelegatedTarget(_).toggle()});else if("manual"!==l){const _=this.constructor.eventName(l===Hl?"mouseenter":"focusin"),I=this.constructor.eventName(l===Hl?"mouseleave":"focusout");nn.on(this._element,_,this._config.selector,L=>{const K=this._initializeOnDelegatedTarget(L);K._activeTrigger["focusin"===L.type?ou:Hl]=!0,K._enter()}),nn.on(this._element,I,this._config.selector,L=>{const K=this._initializeOnDelegatedTarget(L);K._activeTrigger["focusout"===L.type?ou:Hl]=K._element.contains(L.relatedTarget),K._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},nn.on(this._element.closest(".modal"),vc,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,l){clearTimeout(this._timeout),this._timeout=setTimeout(u,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const l=Xo.getDataAttributes(this._element);for(const _ of Object.keys(l))hp.has(_)&&delete l[_];return u={...l,..."object"==typeof u&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=!1===u.container?document.body:$i(u.container),"number"==typeof u.delay&&(u.delay={show:u.delay,hide:u.delay}),"number"==typeof u.title&&(u.title=u.title.toString()),"number"==typeof u.content&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[l,_]of Object.entries(this._config))this.constructor.Default[l]!==_&&(u[l]=_);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const l=sd.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Io(sd);const yp={...sd.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},__={...sd.DefaultType,content:"(null|string|element|function)"};class Ug extends sd{static get Default(){return yp}static get DefaultType(){return __}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const l=Ug.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u]()}})}}Io(Ug);const Ec=".bs.scrollspy",y_=`activate${Ec}`,Ep=`click${Ec}`,Fy=`load${Ec}.data-api`,lu="active",Tp="[href]",Cp=".nav-link",od=`${Cp}, .nav-item > ${Cp}, .list-group-item`,cf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},v_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class cu extends ps{constructor(u,l){super(u,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cf}static get DefaultType(){return v_}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=$i(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,"string"==typeof u.threshold&&(u.threshold=u.threshold.split(",").map(l=>Number.parseFloat(l))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(nn.off(this._config.target,Ep),nn.on(this._config.target,Ep,Tp,u=>{const l=this._observableSections.get(u.target.hash);if(l){u.preventDefault();const _=this._rootElement||window,I=l.offsetTop-this._element.offsetTop;if(_.scrollTo)return void _.scrollTo({top:I,behavior:"smooth"});_.scrollTop=I}}))}_getNewObserver(){return new IntersectionObserver(l=>this._observerCallback(l),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(u){const l=K=>this._targetLinks.get(`#${K.target.id}`),_=K=>{this._previousScrollData.visibleEntryTop=K.target.offsetTop,this._process(l(K))},I=(this._rootElement||document.documentElement).scrollTop,L=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const K of u){if(!K.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(K));continue}const ie=K.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(L&&ie){if(_(K),!I)return}else!L&&!ie&&_(K)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=kn.find(Tp,this._config.target);for(const l of u){if(!l.hash||Ni(l))continue;const _=kn.findOne(decodeURI(l.hash),this._element);Qs(_)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,_))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(lu),this._activateParents(u),nn.trigger(this._element,y_,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))kn.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(lu);else for(const l of kn.parents(u,".nav, .list-group"))for(const _ of kn.prev(l,od))_.classList.add(lu)}_clearActiveClass(u){u.classList.remove(lu);const l=kn.find(`${Tp}.${lu}`,u);for(const _ of l)_.classList.remove(lu)}static jQueryInterface(u){return this.each(function(){const l=cu.getOrCreateInstance(this,u);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}nn.on(window,Fy,()=>{for(const p of kn.find('[data-bs-spy="scroll"]'))cu.getOrCreateInstance(p)}),Io(cu);const uu=".bs.tab",Gg=`hide${uu}`,Ly=`hidden${uu}`,zg=`show${uu}`,wp=`shown${uu}`,Ap=`click${uu}`,bc=`keydown${uu}`,Dp=`load${uu}`,du="ArrowLeft",b_="ArrowRight",Wg="ArrowUp",Tc="ArrowDown",df="Home",Sp="End",Ic="active",rh="show",Kg=".dropdown-toggle",Pp=`:not(${Kg})`,Yg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ff=`.nav-link${Pp}, .list-group-item${Pp}, [role="tab"]${Pp}, ${Yg}`,T_=`.${Ic}[data-bs-toggle="tab"], .${Ic}[data-bs-toggle="pill"], .${Ic}[data-bs-toggle="list"]`;class pa extends ps{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),nn.on(this._element,bc,l=>this._keydown(l)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const l=this._getActiveElem(),_=l?nn.trigger(l,Gg,{relatedTarget:u}):null;nn.trigger(u,zg,{relatedTarget:l}).defaultPrevented||_&&_.defaultPrevented||(this._deactivate(l,u),this._activate(u,l))}_activate(u,l){u&&(u.classList.add(Ic),this._activate(kn.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),nn.trigger(u,wp,{relatedTarget:l})):u.classList.add(rh)},u,u.classList.contains("fade")))}_deactivate(u,l){u&&(u.classList.remove(Ic),u.blur(),this._deactivate(kn.getElementFromSelector(u)),this._queueCallback(()=>{"tab"===u.getAttribute("role")?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),nn.trigger(u,Ly,{relatedTarget:l})):u.classList.remove(rh)},u,u.classList.contains("fade")))}_keydown(u){if(![du,b_,Wg,Tc,df,Sp].includes(u.key))return;u.stopPropagation(),u.preventDefault();const l=this._getChildren().filter(I=>!Ni(I));let _;if([df,Sp].includes(u.key))_=l[u.key===df?0:l.length-1];else{const I=[b_,Tc].includes(u.key);_=ku(l,u.target,I,!0)}_&&(_.focus({preventScroll:!0}),pa.getOrCreateInstance(_).show())}_getChildren(){return kn.find(ff,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,l){this._setAttributeIfNotExists(u,"role","tablist");for(const _ of l)this._setInitialAttributesOnChild(_)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const l=this._elemIsActive(u),_=this._getOuterElement(u);u.setAttribute("aria-selected",l),_!==u&&this._setAttributeIfNotExists(_,"role","presentation"),l||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const l=kn.getElementFromSelector(u);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(l,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,l){const _=this._getOuterElement(u);if(!_.classList.contains("dropdown"))return;const I=(L,K)=>{const ie=kn.findOne(L,_);ie&&ie.classList.toggle(K,l)};I(Kg,Ic),I(".dropdown-menu",rh),_.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(u,l,_){u.hasAttribute(l)||u.setAttribute(l,_)}_elemIsActive(u){return u.classList.contains(Ic)}_getInnerElement(u){return u.matches(ff)?u:kn.findOne(ff,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const l=pa.getOrCreateInstance(this);if("string"==typeof u){if(void 0===l[u]||u.startsWith("_")||"constructor"===u)throw new TypeError(`No method named "${u}"`);l[u]()}})}}nn.on(document,Ap,Yg,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!Ni(this)&&pa.getOrCreateInstance(this).show()}),nn.on(window,Dp,()=>{for(const p of kn.find(T_))pa.getOrCreateInstance(p)}),Io(pa);const hu=".bs.toast",Xg=`mouseover${hu}`,xp=`mouseout${hu}`,Qg=`focusin${hu}`,Uy=`focusout${hu}`,ld=`hide${hu}`,By=`hidden${hu}`,Jg=`show${hu}`,C_=`shown${hu}`,ra="show",fu="showing",w_={animation:"boolean",autohide:"boolean",delay:"number"},A_={animation:!0,autohide:!0,delay:5e3};class pf extends ps{constructor(u,l){super(u,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return A_}static get DefaultType(){return w_}static get NAME(){return"toast"}show(){nn.trigger(this._element,Jg).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(ra,fu),this._queueCallback(()=>{this._element.classList.remove(fu),nn.trigger(this._element,C_),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!nn.trigger(this._element,ld).defaultPrevented&&(this._element.classList.add(fu),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(fu,ra),nn.trigger(this._element,By)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ra),super.dispose()}isShown(){return this._element.classList.contains(ra)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,l){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=l;break;case"focusin":case"focusout":this._hasKeyboardInteraction=l}if(l)return void this._clearTimeout();const _=u.relatedTarget;this._element===_||this._element.contains(_)||this._maybeScheduleHide()}_setListeners(){nn.on(this._element,Xg,u=>this._onInteraction(u,!0)),nn.on(this._element,xp,u=>this._onInteraction(u,!1)),nn.on(this._element,Qg,u=>this._onInteraction(u,!0)),nn.on(this._element,Uy,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const l=pf.getOrCreateInstance(this,u);if("string"==typeof u){if(typeof l[u]>"u")throw new TypeError(`No method named "${u}"`);l[u](this)}})}}Va(pf),Io(pf);let Zg=(()=>{class p{constructor(l){this.http=l,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(l){return this.http.post(this.emailEndpoint,l)}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(We))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var mi=V(4341);let jy=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(_,I){1&_&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&_&&(i.R7$(5),i.JRh(I.phoneNumber),i.R7$(4),i.JRh(I.address),i.R7$(4),i.JRh(I.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var gf=V(3711);function mf(p,u){if(1&p&&(i.j41(0,"div",5)(1,"p"),i.EFF(2),i.k0s()()),2&p){const l=i.XpG().$implicit;i.R7$(2),i.JRh(l.answer)}}function D_(p,u){if(1&p){const l=i.RV6();i.j41(0,"div",2)(1,"button",3),i.bIt("click",function(){const L=i.eBV(l).$implicit;return i.Njj(L.open=!L.open)}),i.EFF(2),i.k0s(),i.DNE(3,mf,3,1,"div",4),i.k0s()}if(2&p){const l=u.$implicit;i.R7$(2),i.SpI(" ",l.question," "),i.R7$(1),i.Y8G("ngIf",l.open)}}let Mp=(()=>{class p{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(_,I){1&_&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2,"Frequently Asked Questions (FAQs)"),i.k0s(),i.DNE(3,D_,4,2,"div",1),i.k0s()),2&_&&(i.R7$(3),i.Y8G("ngForOf",I.faqs))},dependencies:[he.Sq,he.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return p})();function Op(p,u){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function S_(p,u){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(4),i.JRh(l.business.fax)}}function ah(p,u){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(4),i.FS9("href",l.business.socialMedia,i.B4B),i.R7$(1),i.JRh(l.business.socialMedia)}}function R_(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,Op,6,2,"div",23),i.DNE(26,S_,5,1,"div",23),i.DNE(27,ah,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(l);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61," Send "),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.nrm(64,"app-faq"),i.bVm()}if(2&p){const l=i.sdS(47),_=i.XpG(2);i.R7$(19),i.JRh(_.business.address),i.R7$(5),i.JRh(_.business.phone),i.R7$(1),i.Y8G("ngIf",_.business.email),i.R7$(1),i.Y8G("ngIf",_.business.fax),i.R7$(1),i.Y8G("ngIf",_.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",_.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",_.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",_.formData.name),i.R7$(4),i.Y8G("ngModel",_.formData.email),i.R7$(4),i.Y8G("ngModel",_.formData.message),i.R7$(1),i.Y8G("disabled",!l.form.valid),i.R7$(2),i.Y8G("phoneNumber",_.business.phone)("address",_.business.address)("email",_.business.email),i.R7$(1),i.Y8G("address",_.business.address||"")("layoutType",_.business.theme.themeType||"demo")}}function em(p,u){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function tm(p,u){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function wc(p,u){if(1&p){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,em,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,tm,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(6),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function Np(p,u){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function nm(p,u){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function $y(p,u){if(1&p){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Np,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,nm,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(6),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function cd(p,u){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function rm(p,u){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function Hy(p,u){if(1&p){const l=i.RV6();i.qex(0),i.nrm(1,"app-hero",65),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,cd,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,rm,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(l);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(35,"button",66),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("layoutType","sb"),i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(8),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function kp(p,u){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const l=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",l.business.email,"",i.B4B),i.R7$(1),i.JRh(l.business.email)}}function P_(p,u){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const l=i.XpG(3);i.R7$(1),i.FS9("href",l.business.socialMedia,i.B4B)}}function Gy(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,kp,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,P_,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(l);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.name=I)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.email=I)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(l);const L=i.XpG(2);return i.Njj(L.formData.message=I)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div"),i.nrm(39,"div",24),i.k0s()(),i.j41(40,"div",61),i.nrm(41,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const l=i.XpG(2);i.R7$(5),i.Y8G("ngIf",l.business.email),i.R7$(3),i.JRh(l.business.phone),i.R7$(3),i.JRh(l.business.address),i.R7$(1),i.Y8G("ngIf",l.business.socialMedia),i.R7$(9),i.Y8G("ngModel",l.formData.name),i.R7$(6),i.Y8G("ngModel",l.formData.email),i.R7$(6),i.Y8G("ngModel",l.formData.message),i.R7$(6),i.Y8G("innerHTML",l.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",l.business.address||"")("layoutType",l.business.theme.themeType||"demo")}}function zy(p,u){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,R_,65,16,"ng-container",2),i.DNE(3,wc,45,10,"ng-container",2),i.DNE(4,$y,45,10,"ng-container",2),i.DNE(5,Hy,45,11,"ng-container",2),i.DNE(6,Gy,42,10,"ng-container",3),i.k0s(),i.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),i.EFF(12),i.k0s(),i.nrm(13,"button",9),i.k0s(),i.j41(14,"div",10),i.EFF(15),i.k0s(),i.j41(16,"div",11)(17,"button",12),i.EFF(18," Close "),i.k0s()()()()()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(7),i.JRh(l.modalTitle),i.R7$(3),i.SpI(" ",l.modalMessage," ")}}let Wy=(()=>{class p{constructor(l,_,I,L,K,ie,me,Xe){this.sanitizer=l,this.businessDataService=_,this.webContent=I,this.route=L,this.http=K,this.emailService=ie,this.router=me,this.metaService=Xe,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const l=document.getElementById("responseModal");l?this.responseModal=new Pa(l):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(l=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},l=>{console.error("Error sending email",l),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(l){const _=l.split(".");return _.length>2?_.slice(-2).join("."):l}showModal(){this.responseModal&&this.responseModal.show()}navigateTo(l){this.router.navigate(["/"+l],{queryParams:{id:this.business?.id}})}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(ue.up),i.rXU(bt.A),i.rXU(Ft.N),i.rXU(dr.nX),i.rXU(We),i.rXU(Zg),i.rXU(dr.Ix),i.rXU(Gi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(_,I){1&_&&i.DNE(0,zy,19,7,"div",0),2&_&&i.Y8G("ngIf",I.business)},dependencies:[he.bT,he.ux,he.e1,he.fG,mi.qT,mi.me,mi.BC,mi.cb,mi.YS,mi.vS,mi.cV,jy,kr,gf.a,Mp]})}}return p})();var Ky=V(467);const x_=["dynamicContainer"];function cE(p,u){1&p&&(i.qex(0),i.j41(1,"div",9)(2,"div",10)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",11)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.bVm())}function qy(p,u){1&p&&(i.qex(0),i.nrm(1,"app-hero",12),i.bVm()),2&p&&(i.R7$(1),i.Y8G("layoutType","sb"))}function lh(p,u){if(1&p){const l=i.RV6();i.j41(0,"div",13),i.bIt("click",function(){const L=i.eBV(l).$implicit,K=i.XpG(2);return i.Njj(K.onImageClick(L.url))}),i.nrm(1,"img",14),i.k0s()}if(2&p){const l=u.$implicit;i.R7$(1),i.Y8G("src",l.url,i.B4B)}}function ud(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-call-to-action",15),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("isButton",!0)("businessId",l.business.id)}}function im(p,u){if(1&p&&(i.qex(0),i.nrm(1,"app-call-to-action",16),i.bVm()),2&p){const l=i.XpG(2);i.R7$(1),i.Y8G("isButton",!0)("businessId",l.business.id)}}function sm(p,u){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,cE,8,0,"ng-container",2),i.DNE(3,qy,2,1,"ng-container",2),i.k0s(),i.eu8(4,null,3),i.j41(6,"section",4)(7,"div",5)(8,"h2"),i.EFF(9,"Explore Our Gallery"),i.k0s()(),i.j41(10,"div",6),i.DNE(11,lh,2,1,"div",7),i.k0s()(),i.j41(12,"div",1),i.DNE(13,ud,2,2,"ng-container",2),i.DNE(14,im,2,2,"ng-container",8),i.k0s()()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(8),i.Y8G("ngForOf",l.images),i.R7$(1),i.Y8G("ngSwitch",l.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","sb")}}let Fp=(()=>{class p{constructor(l,_,I,L,K,ie,me,Xe){this.businessDataService=l,this.route=_,this.webContent=I,this.metaService=L,this.router=K,this.sectionService=ie,this.resolver=me,this.injector=Xe,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":xi.W,"right-text":_s.F,"left-text":ys.G,"item-list":gi.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,this.layoutType=l?.theme.themeType||"",l?.id&&(this.businessId=l.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(l=>{console.log("\u{1f4cc} Retrieved Sections:",l),l&&0!==l.length?(this.sections=l.sort((_,I)=>(_.order||0)-(I.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.forEach(l=>{const _=this.componentsMap[l.component];if(!_)return void console.error("\u274c Component Not Found:",l.component);const I=this.resolver.resolveComponentFactory(_),L=this.container.createComponent(I,void 0,this.injector);Object.assign(L.instance,{title:this.applyReplaceKeyword(l.sectionTitle||""),subTitle:this.applyReplaceKeyword(l.sectionSubTitle||""),content:this.applyReplaceKeyword(l.sectionContent||""),imageURL:l.sectionImageUrl||"",showBtn:l.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!l.sectionImageUrl,themeType:this.business?.theme?.themeType,items:l.items||[],isMinimal:l.isMinimal||!1,isParallax:l.isParallax??!0,backgroundColor:l.backgroundColor||"#ffffff",textColor:l.textColor||"#000000",titleColor:l.titleColor||"#000000",subtitleColor:l.subtitleColor||"#000000",fullWidth:l.fullWidth||!1,showButton:l.showButton||!1,buttonText:l.buttonText||"Learn More",buttonLink:l.buttonLink||"",titleFontSize:l.titleFontSize||"36",subtitleFontSize:l.subtitleFontSize||"14",alignText:l.alignText||"left",boxShadow:l.boxShadow||!1,borderRadius:l.borderRadius??10,page:l.page,location:l.location})}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}applyReplaceKeyword(l){return l&&this.business?.businessName?l.replace(/{{\s*businessName\s*}}/g,this.business.businessName):l}loadImages(){var l=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:I,target:L})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,I).pipe((0,te.n)(K=>{console.log(`Raw Firestore images for ${I}:`,K);const ie=K.map(function(){var me=(0,Ky.A)(function*(Xe){return(yield l.webContent.checkImageExists(Xe.url))?Xe:null});return function(Xe){return me.apply(this,arguments)}}());return(0,ge.H)(Promise.all(ie))}),(0,ke.T)(K=>K.filter(ie=>null!==ie)),(0,ke.T)(K=>(console.log(`Filtered images for ${L}:`,K),K.map(ie=>({url:ie.url,title:ie.title||"No Title",description:ie.description||"No Description",link:ie.link||"No Link",order:isNaN(Number(ie.order))?999:Number(ie.order)})).sort((ie,me)=>ie.order-me.order)))).subscribe(K=>{console.log(`Sorted images for ${L}:`,K),this[L]||(this[L]=[]),this[L]=K})})}onImageClick(l){this.selectedImageUrl=l}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(l){this.router.navigate(["/contact-us"],{queryParams:{id:l}})}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(bt.A),i.rXU(dr.nX),i.rXU(Ft.N),i.rXU(Gi.R),i.rXU(dr.Ix),i.rXU(lr.W),i.rXU(i.OM3),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],viewQuery:function(_,I){if(1&_&&i.GBs(x_,5,i.c1b),2&_){let L;i.mGM(L=i.lsd())&&(I.container=L.first)}},inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],["title","Let's build a vision together","content","We\u2019d love to meet you! Schedule a consultation to discuss your new website.","buttonText","Schedule A Consultation","bgColor","var(--dark-background-color)","textColor","var(--text-color)","titleColor","var(--accent-color)","contentColor","var(--secondary-color)","buttonBgColor","var(--button-color)","buttonTextColor","var(--button-text-color)","borderRadius","0px","boxShadow","0px 6px 10px rgba(0,0,0,0.3)","layout","centered","page","contact-us",3,"isButton","businessId"],["title","Come Meet Our Family","content","We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home.","buttonText","Schedule A Visit","bgColor","var(--dark-background-color)","textColor","var(--text-color)","titleColor","var(--accent-color)","contentColor","var(--secondary-color)","buttonBgColor","var(--button-color)","buttonTextColor","var(--button-text-color)","borderRadius","10px","boxShadow","0px 6px 10px rgba(0,0,0,0.3)","layout","centered","page","contact-us",3,"isButton","businessId"]],template:function(_,I){1&_&&i.DNE(0,sm,15,6,"div",0),2&_&&i.Y8G("ngIf",I.business)},dependencies:[he.Sq,he.bT,he.ux,he.e1,he.fG,kr,oo],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%], .ae-gallery-item[_ngcontent-%COMP%]{overflow:visible!important;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;height:200px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;object-fit:cover;object-position:top;overflow:hidden;display:block;border-radius:8px}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{border-radius:8px;padding:40px 120px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block;position:relative;z-index:1}.image-info[_ngcontent-%COMP%]{position:relative;z-index:2}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.image-info[_ngcontent-%COMP%]{color:#000;background:rgba(255,255,255,.8);padding:10px;text-align:center;width:100%}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var dd=V(4796);function di(p,u){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const l=i.XpG();i.R7$(1),i.JRh(l.errorMessage)}}let Lp=(()=>{class p{constructor(l,_){this.authService=l,this.router=_,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(l=>{this.errorMessage=l.message})}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dd.u),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(_,I){1&_&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return I.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(K){return I.email=K}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(K){return I.password=K}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,di,2,1,"div",10),i.k0s()()()),2&_&&(i.R7$(8),i.Y8G("ngModel",I.email),i.R7$(4),i.Y8G("ngModel",I.password),i.R7$(3),i.Y8G("ngIf",I.errorMessage))},dependencies:[he.bT,mi.qT,mi.me,mi.BC,mi.cb,mi.YS,mi.vS,mi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var Vp=V(6340);let pu=(()=>{class p{constructor(l){this.afs=l,this.basePath="businesses"}saveIntakeForm(l,_){const I=this.afs.createId(),L=this.afs.collection(`${this.basePath}/${_}/intake`).doc(I);return new De.c(K=>{L.set(l).then(()=>{K.next(l),K.complete()}).catch(ie=>{console.error("Error saving intake form data",ie),K.error(ie)})})}getIntakeForms(l){return this.afs.collection(`${this.basePath}/${l}/intake`).snapshotChanges().pipe((0,ke.T)(_=>_.map(I=>{const L=I.payload.doc.data();return{id:I.payload.doc.id,...L}})))}getIntakeForm(l,_){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(_).valueChanges().pipe((0,ke.T)(I=>I||void 0))}updateIntakeForm(l,_,I){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(_).update(I)}deleteIntakeForm(l,_){return this.afs.collection(`${this.basePath}/${l}/intake`).doc(_).delete()}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(Vp.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function Yy(p,u){if(1&p){const l=i.RV6();i.j41(0,"div")(1,"form",1),i.bIt("ngSubmit",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.onSubmit())}),i.j41(2,"div",2)(3,"h2"),i.EFF(4,"Personal Information"),i.k0s(),i.j41(5,"label",3),i.EFF(6,"Name *"),i.k0s(),i.nrm(7,"input",4),i.j41(8,"label",5),i.EFF(9,"Email *"),i.k0s(),i.nrm(10,"input",6),i.j41(11,"label",7),i.EFF(12,"Phone number *"),i.k0s(),i.nrm(13,"input",8),i.k0s(),i.j41(14,"div",2)(15,"h2"),i.EFF(16,"Referral Source"),i.k0s(),i.j41(17,"label",9),i.EFF(18,"How did you find out about us? *"),i.k0s(),i.j41(19,"select",10)(20,"option",11),i.EFF(21,"Google"),i.k0s(),i.j41(22,"option",12),i.EFF(23,"Facebook"),i.k0s(),i.j41(24,"option",13),i.EFF(25,"Placement Agency"),i.k0s(),i.j41(26,"option",14),i.EFF(27,"Friends and/or Family"),i.k0s(),i.j41(28,"option",15),i.EFF(29,"Other"),i.k0s()(),i.j41(30,"label",16),i.EFF(31,"What is your relation to the resident? *"),i.k0s(),i.nrm(32,"input",17),i.k0s(),i.j41(33,"div",2)(34,"h2"),i.EFF(35,"Resident Information"),i.k0s(),i.j41(36,"label",18),i.EFF(37,"Resident's name *"),i.k0s(),i.nrm(38,"input",19),i.j41(39,"label",20),i.EFF(40,"Age *"),i.k0s(),i.nrm(41,"input",21),i.j41(42,"label",22),i.EFF(43,"Gender *"),i.k0s(),i.j41(44,"select",23)(45,"option",24),i.EFF(46,"Male"),i.k0s(),i.j41(47,"option",25),i.EFF(48,"Female"),i.k0s(),i.j41(49,"option",26),i.EFF(50,"Prefer not to say"),i.k0s(),i.j41(51,"option",15),i.EFF(52,"Other"),i.k0s()()(),i.j41(53,"div",2)(54,"h2"),i.EFF(55,"Medical History"),i.k0s(),i.j41(56,"label",27),i.EFF(57,"Relevant medical and surgical history *"),i.k0s(),i.nrm(58,"textarea",28),i.j41(59,"label",29),i.EFF(60,"Height *"),i.k0s(),i.nrm(61,"input",30),i.j41(62,"label",31),i.EFF(63,"Weight *"),i.k0s(),i.nrm(64,"input",32),i.j41(65,"label",33),i.EFF(66,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(67,"textarea",34),i.j41(68,"label",35),i.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(70,"select",36)(71,"option",37),i.EFF(72,"Yes"),i.k0s(),i.j41(73,"option",38),i.EFF(74,"No"),i.k0s()()(),i.j41(75,"div",2)(76,"h2"),i.EFF(77,"Care Levels"),i.k0s(),i.j41(78,"label",39),i.EFF(79,"Eating *"),i.k0s(),i.j41(80,"select",40)(81,"option",41),i.EFF(82,"Independent"),i.k0s(),i.j41(83,"option",42),i.EFF(84,"Needing Assistance"),i.k0s(),i.j41(85,"option",43),i.EFF(86,"Dependent"),i.k0s()(),i.j41(87,"label",44),i.EFF(88,"Personal Hygiene *"),i.k0s(),i.j41(89,"select",45)(90,"option",41),i.EFF(91,"Independent"),i.k0s(),i.j41(92,"option",42),i.EFF(93,"Needing Assistance"),i.k0s(),i.j41(94,"option",43),i.EFF(95,"Dependent"),i.k0s()(),i.j41(96,"label",46),i.EFF(97,"Bathing *"),i.k0s(),i.j41(98,"select",47)(99,"option",41),i.EFF(100,"Independent"),i.k0s(),i.j41(101,"option",42),i.EFF(102,"Needing Assistance"),i.k0s(),i.j41(103,"option",43),i.EFF(104,"Dependent"),i.k0s()(),i.j41(105,"label",48),i.EFF(106,"Toileting *"),i.k0s(),i.j41(107,"select",49)(108,"option",41),i.EFF(109,"Independent"),i.k0s(),i.j41(110,"option",42),i.EFF(111,"Needing Assistance"),i.k0s(),i.j41(112,"option",43),i.EFF(113,"Dependent"),i.k0s()(),i.j41(114,"label",50),i.EFF(115,"Mobility *"),i.k0s(),i.j41(116,"select",51)(117,"option",41),i.EFF(118,"Independent"),i.k0s(),i.j41(119,"option",42),i.EFF(120,"Needing Assistance"),i.k0s(),i.j41(121,"option",43),i.EFF(122,"Dependent"),i.k0s()(),i.j41(123,"label",52),i.EFF(124,"Transfers *"),i.k0s(),i.j41(125,"select",53)(126,"option",41),i.EFF(127,"Independent"),i.k0s(),i.j41(128,"option",42),i.EFF(129,"Needing Assistance"),i.k0s(),i.j41(130,"option",43),i.EFF(131,"Dependent"),i.k0s()(),i.j41(132,"label",54),i.EFF(133,"Medication Assistance *"),i.k0s(),i.j41(134,"select",55)(135,"option",37),i.EFF(136,"Yes"),i.k0s(),i.j41(137,"option",38),i.EFF(138,"No"),i.k0s()()(),i.j41(139,"div",2)(140,"h2"),i.EFF(141,"Other Medical Information"),i.k0s(),i.j41(142,"label",56),i.EFF(143,"Memory Issues *"),i.k0s(),i.j41(144,"select",57)(145,"option",37),i.EFF(146,"Yes"),i.k0s(),i.j41(147,"option",38),i.EFF(148,"No"),i.k0s()(),i.j41(149,"label",58),i.EFF(150,"Behavior"),i.k0s(),i.nrm(151,"textarea",59),i.j41(152,"label",60),i.EFF(153,"Skin Condition"),i.k0s(),i.nrm(154,"textarea",61),i.j41(155,"label",62),i.EFF(156,"Other information you want us to know"),i.k0s(),i.nrm(157,"textarea",63),i.k0s(),i.j41(158,"div",2)(159,"h2"),i.EFF(160,"Living Situation"),i.k0s(),i.j41(161,"label",64),i.EFF(162,"Current living situation *"),i.k0s(),i.j41(163,"select",65)(164,"option",66),i.EFF(165,"Own Home"),i.k0s(),i.j41(166,"option",67),i.EFF(167,"Relative's Home"),i.k0s(),i.j41(168,"option",68),i.EFF(169,"Hospital"),i.k0s(),i.j41(170,"option",69),i.EFF(171,"Adult Family Home"),i.k0s(),i.j41(172,"option",70),i.EFF(173,"Senior Living"),i.k0s(),i.j41(174,"option",15),i.EFF(175,"Other"),i.k0s()()(),i.j41(176,"div",2)(177,"label",71),i.EFF(178,"Target move in date *"),i.k0s(),i.nrm(179,"input",72),i.k0s(),i.j41(180,"div",2)(181,"label",73),i.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(183,"select",74)(184,"option",37),i.EFF(185,"Yes"),i.k0s(),i.j41(186,"option",38),i.EFF(187,"No"),i.k0s()()(),i.j41(188,"div",2)(189,"label",75),i.EFF(190,"Do you have any questions for us?"),i.k0s(),i.nrm(191,"textarea",76),i.k0s(),i.j41(192,"button",77),i.EFF(193,"Submit"),i.k0s()()()}if(2&p){const l=i.XpG();i.R7$(1),i.Y8G("formGroup",l.intakeForm),i.R7$(191),i.Y8G("disabled",l.intakeForm.invalid)}}function Ls(p,u){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const l=u.$implicit;i.R7$(3),i.SpI('"',l.quote,'"'),i.R7$(3),i.JRh(l.name)}}function $a(p,u){if(1&p&&(i.j41(0,"div",2),i.DNE(1,Ls,7,2,"div",3),i.k0s()),2&p){const l=i.XpG();i.R7$(1),i.Y8G("ngForOf",l.testimonials)}}const O_=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Bs.B},{path:"about-us",component:ao},{path:"services",component:_o},{path:"contact-us",component:Wy},{path:"gallery",component:Fp},{path:"login",component:Lp},{path:"resident-form",component:(()=>{class p{constructor(l,_,I,L,K){this.fb=l,this.intakeService=_,this.businessDataService=I,this.emailService=L,this.metaService=K,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",mi.k0.required],email:["",[mi.k0.required,mi.k0.email]],phoneNumber:["",mi.k0.required],referralSource:["",mi.k0.required],relationToResident:[""],residentName:["",mi.k0.required],age:["",mi.k0.required],gender:["",mi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{this.business=l,l?.id&&(this.metaService.loadAndApplyMeta(l?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const l=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(l,this.businessId).subscribe(I=>{console.log("Intake form saved successfully!",I)},I=>{console.error("Error saving intake form:",I)});const _={name:l.name,email:l.email,message:this.generateEmailMessage(l),website:window.location.hostname};this.emailService.sendEmail(_).subscribe(I=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},I=>{console.error("Error sending email",I),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(l){return`\n      Name: ${l.name}\n      Email: ${l.email}\n      Phone Number: ${l.phoneNumber}\n      Referral Source: ${l.referralSource}\n      Relation to Resident: ${l.relationToResident}\n      Resident Name: ${l.residentName}\n      Age: ${l.age}\n      Gender: ${l.gender}\n      Medical History: ${l.medicalHistory}\n      Height: ${l.height}\n      Weight: ${l.weight}\n      Reason for Moving: ${l.reasonForMoving}\n      RN Assessment: ${l.rnAssessment}\n      Eating: ${l.eating}\n      Personal Hygiene: ${l.personalHygiene}\n      Bathing: ${l.bathing}\n      Toileting: ${l.toileting}\n      Mobility: ${l.mobility}\n      Transfers: ${l.transfers}\n      Medication Assistance: ${l.medicationAssistance}\n      Memory Issues: ${l.memoryIssues}\n      Behavior: ${l.behavior}\n      Skin Condition: ${l.skinCondition}\n      Additional Info: ${l.additionalInfo}\n      Current Living Situation: ${l.currentLivingSituation}\n      Target Move-In Date: ${l.targetMoveInDate}\n      Disclosure Summary: ${l.disclosureSummary}\n      Questions: ${l.questions}\n    `}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(mi.ok),i.rXU(pu),i.rXU(bt.A),i.rXU(Zg),i.rXU(Gi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(_,I){1&_&&i.DNE(0,Yy,194,2,"div",0),2&_&&i.Y8G("ngIf",I.business)},dependencies:[he.bT,mi.qT,mi.xH,mi.y7,mi.me,mi.Q0,mi.wz,mi.BC,mi.cb,mi.j4,mi.JD],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(l,_){this.businessDataService=l,this.metaService=_,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(l=>{console.log("Testimonial List - :",l),l&&(this.testimonials=l.testimonials||[],this.themeType=l.theme.themeType,this.metaService.loadAndApplyMeta(l?.id))})}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(bt.A),i.rXU(Gi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(_,I){1&_&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,$a,2,1,"div",1),i.k0s()),2&_&&(i.R7$(2),i.Y8G("ngIf",I.testimonials.length>0))},dependencies:[he.Sq,he.bT,kr],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"faq",component:Mp},{path:"login",component:Lp},{path:"admin",loadChildren:()=>V.e(521).then(V.bind(V,5521)).then(p=>p.AdminModule)},{path:":id",component:Bs.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let gu=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[dr.iI.forRoot(O_),dr.iI]})}}return p})();var om=V(5009);function _f(p,u){if(1&p&&i.nrm(0,"img",11),2&p){const l=i.XpG();i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function yf(p,u){if(1&p){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(2,"Our Home"),i.k0s()()}}function am(p,u){if(1&p){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(2,"Our Work"),i.k0s()()}}function lm(p,u){if(1&p){const l=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(2,"Resident Form"),i.k0s()()}}const Up=function(p){return{"clemo-shrink":p}},_i=function(){return["/home"]},vf=function(p){return{id:p}},cm=function(p){return{"clemo-show":p}};let bs=(()=>{class p{constructor(l,_,I){this.route=l,this.router=_,this.businessDataService=I,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(_=>{this.business=_,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(l){const _=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:_}).then(I=>{I||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dr.nX),i.rXU(dr.Ix),i.rXU(bt.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(_,I){1&_&&i.bIt("scroll",function(){return I.onWindowScroll()},!1,i.tSv)},decls:23,vars:15,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(_,I){1&_&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,_f,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return I.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return I.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.j41(11,"li",8)(12,"span",9),i.bIt("click",function(){return I.navigateTo("about-us")}),i.EFF(13,"About Us"),i.k0s()(),i.j41(14,"li",8)(15,"span",9),i.bIt("click",function(){return I.navigateTo("services")}),i.EFF(16,"Services"),i.k0s()(),i.DNE(17,yf,3,0,"li",10),i.DNE(18,am,3,0,"li",10),i.DNE(19,lm,3,0,"li",10),i.j41(20,"li",8)(21,"span",9),i.bIt("click",function(){return I.navigateTo("contact-us")}),i.EFF(22,"Contact"),i.k0s()()()()()()),2&_&&(i.Y8G("ngClass",i.eq3(8,Up,I.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(10,_i))("queryParams",i.eq3(11,vf,I.businessId)),i.R7$(1),i.Y8G("ngIf",null==I.business?null:I.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(13,cm,I.menuOpen)),i.R7$(11),i.Y8G("ngIf","sb"!=I.layoutType),i.R7$(1),i.Y8G("ngIf","sb"==I.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=I.layoutType))},dependencies:[he.YU,he.bT,dr.Wk]})}}return p})();function N_(p,u){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}const Ef=function(){return["/home"]},cl=function(p){return{id:p}},ch=function(p){return{"open-bar1":p}},bf=function(p){return{"open-bar2":p}},Bp=function(p){return{"open-bar3":p}},uh=function(p){return{active:p}};function k_(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,N_,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Ef))("queryParams",i.eq3(8,cl,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,ch,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,bf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Bp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,uh,l.menuOpen))}}function Xy(p,u){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}const F_=function(){return["/contact-us"]};function um(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Xy,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Ef))("queryParams",i.eq3(10,cl,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,ch,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,bf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Bp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,uh,l.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,F_))("queryParams",i.eq3(21,cl,l.businessId))}}function uE(p,u){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function Tf(p,u){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function Qy(p,u){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function mu(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,Qy,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.scrollToSection("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.scrollToSection("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.scrollToSection("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.scrollToSection("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.scrollToSection("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Ef))("queryParams",i.eq3(8,cl,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,ch,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,bf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Bp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,uh,l.menuOpen))}}function hd(p,u){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function x0(p,u){if(1&p&&i.nrm(0,"img",13),2&p){const l=i.XpG(2);i.Y8G("src",null==l.business?null:l.business.logoImage,i.B4B)}}function Gl(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,x0,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Ef))("queryParams",i.eq3(10,cl,l.businessId)),i.R7$(1),i.Y8G("ngIf",null==l.business?null:l.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,ch,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,bf,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Bp,l.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,uh,l.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,F_))("queryParams",i.eq3(21,cl,l.businessId))}}let jp=(()=>{class p{constructor(l,_,I){this.route=l,this.router=_,this.businessDataService=I,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.businessDataService.getBusinessData().subscribe(_=>{this.business=_,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(l){const _=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${l}`],{queryParams:_}).then(I=>{I||console.error("Navigation failed!")})}scrollToSection(l){const _=document.getElementById(l);_&&_.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dr.nX),i.rXU(dr.Ix),i.rXU(bt.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(_,I){1&_&&(i.j41(0,"div",0),i.DNE(1,k_,21,18,"ng-container",1),i.DNE(2,um,29,23,"ng-container",1),i.DNE(3,uE,2,0,"ng-container",1),i.DNE(4,Tf,2,0,"ng-container",1),i.DNE(5,mu,21,18,"ng-container",1),i.DNE(6,hd,2,0,"ng-container",1),i.DNE(7,Gl,27,23,"ng-container",1),i.k0s()),2&_&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","sp"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[he.YU,he.bT,he.ux,he.e1,dr.Wk,bs],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function dh(p,u){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()(),i.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),i.EFF(38,"DESIGNED BY "),i.j41(39,"a",15),i.EFF(40,"SB MEDIA HUB"),i.k0s()()(),i.j41(41,"div",16)(42,"p"),i.EFF(43," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()(),i.bVm()),2&p){const l=i.XpG();i.R7$(4),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.SpI(" ",null==l.business?null:l.business.address," "),i.R7$(3),i.SpI("Provider:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone)}}function dm(p,u){if(1&p&&(i.qex(0),i.j41(1,"footer",17)(2,"div",18)(3,"div",19),i.nrm(4,"hr",20),i.j41(5,"h2",21),i.EFF(6),i.k0s(),i.nrm(7,"hr",20),i.k0s(),i.j41(8,"div",22)(9,"div",23)(10,"h3",24),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",23)(15,"h3",24),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",23)(20,"h3",24),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),i.EFF(36,"DESIGNED BY "),i.j41(37,"a",15),i.EFF(38,"SB MEDIA HUB"),i.k0s()()(),i.j41(39,"div",16)(40,"p"),i.EFF(41),i.k0s()()()()()(),i.bVm()),2&p){const l=i.XpG();i.R7$(6),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.JRh(null==l.business?null:l.business.providerName),i.R7$(5),i.JRh(null==l.business?null:l.business.address),i.R7$(5),i.JRh(null==l.business?null:l.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.email),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(10),i.Lme("\xa9 ",2024," ",null==l.business?null:l.business.businessName,". All rights reserved.")}}function hh(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",29),i.EFF(8),i.k0s(),i.j41(9,"p",30),i.EFF(10),i.k0s()(),i.j41(11,"div",31)(12,"a",32),i.nrm(13,"i",33),i.k0s(),i.j41(14,"a",32),i.nrm(15,"i",34),i.k0s()(),i.j41(16,"nav",35)(17,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),i.EFF(33,"DESIGNED BY "),i.j41(34,"a",15),i.EFF(35,"SB MEDIA HUB"),i.k0s()()(),i.j41(36,"div",16)(37,"p"),i.EFF(38," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.businessName),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function $p(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",29),i.EFF(8),i.k0s(),i.j41(9,"p",30),i.EFF(10),i.k0s()(),i.j41(11,"div",31)(12,"a",32),i.nrm(13,"i",33),i.k0s(),i.j41(14,"a",32),i.nrm(15,"i",34),i.k0s()(),i.j41(16,"nav",35)(17,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",12)(30,"div",13)(31,"div",14)(32,"p"),i.EFF(33,"DESIGNED BY "),i.j41(34,"a",15),i.EFF(35,"SB MEDIA HUB"),i.k0s()()(),i.j41(36,"div",16)(37,"p"),i.EFF(38," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.businessName),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function Hp(p,u){if(1&p){const l=i.RV6();i.qex(0),i.j41(1,"footer",25)(2,"div",26)(3,"div",27),i.nrm(4,"img",28),i.j41(5,"p",29),i.EFF(6),i.k0s(),i.j41(7,"p",30),i.EFF(8),i.k0s()(),i.j41(9,"div",31)(10,"a",32),i.nrm(11,"i",33),i.k0s(),i.j41(12,"a",32),i.nrm(13,"i",34),i.k0s()(),i.j41(14,"nav",35)(15,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(16,"HOME"),i.k0s(),i.j41(17,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(18,"ABOUT US"),i.k0s(),i.j41(19,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(20,"SERVICES"),i.k0s(),i.j41(21,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(22,"OUR WORK"),i.k0s(),i.j41(23,"span",36),i.bIt("click",function(){i.eBV(l);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(24,"CONTACT"),i.k0s()(),i.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),i.EFF(29,"DESIGNED BY "),i.j41(30,"a",15),i.EFF(31,"SB MEDIA HUB"),i.k0s()()(),i.j41(32,"div",16)(33,"p"),i.EFF(34," \xa9 Copyright 2025. All rights reserved."),i.k0s()()()()()(),i.bVm()}if(2&p){const l=i.XpG();i.R7$(4),i.FS9("src",null==l.business?null:l.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==l.business?null:l.business.phone),i.R7$(2),i.JRh(null==l.business?null:l.business.address)}}function _u(p,u){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const l=i.XpG();i.R7$(4),i.JRh(null==l.business?null:l.business.businessName),i.R7$(7),i.SpI(" ",null==l.business?null:l.business.address," "),i.R7$(3),i.SpI("Provider:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==l.business?null:l.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==l.business?null:l.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==l.business?null:l.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==l.business?null:l.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==l.business?null:l.business.phone)}}function Gp(p,u){if(1&p&&(i.j41(0,"div",37)(1,"h1",38),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",39)(4,"div",40)(5,"span",41),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",42),i.EFF(8),i.k0s()(),i.j41(9,"div",40)(10,"span",41),i.EFF(11,"Theme Type:"),i.k0s(),i.j41(12,"span",42),i.EFF(13),i.k0s()(),i.j41(14,"div",40)(15,"span",41),i.EFF(16,"Business ID:"),i.k0s(),i.j41(17,"span",42),i.EFF(18),i.k0s()(),i.j41(19,"div",40)(20,"span",41),i.EFF(21,"Business Name:"),i.k0s(),i.j41(22,"span",42),i.EFF(23),i.k0s()()()()),2&p){const l=i.XpG();i.R7$(8),i.JRh(l.themeFileName),i.R7$(5),i.JRh(null==l.business||null==l.business.theme?null:l.business.theme.themeType),i.R7$(5),i.JRh(null==l.business?null:l.business.id),i.R7$(5),i.JRh(null==l.business?null:l.business.businessName)}}let Ha=(()=>{class p{constructor(l,_,I,L,K,ie){this.route=l,this.webContentService=_,this.authService=I,this.themeService=L,this.businessDataService=K,this.router=ie,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(l){this.router.navigate([`/${l}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(I=>{I||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(l=>{this.business=l}),this.businessDataService.getBusinessId().subscribe(l=>{l&&(this.businessId=l,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(_=>{_&&(this.themeFileName=_.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dr.nX),i.rXU(Ft.N),i.rXU(dd.u),i.rXU(om.F),i.rXU(bt.A),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(_,I){1&_&&(i.j41(0,"div",0),i.DNE(1,dh,44,12,"ng-container",1),i.DNE(2,dm,42,10,"ng-container",1),i.DNE(3,hh,39,4,"ng-container",1),i.DNE(4,$p,39,4,"ng-container",1),i.DNE(5,Hp,35,3,"ng-container",1),i.DNE(6,_u,34,12,"ng-container",2),i.k0s(),i.DNE(7,Gp,24,4,"div",3),i.nI1(8,"async")),2&_&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","prestige"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(2),i.Y8G("ngIf",i.bMT(8,7,I.isAuthenticated$)))},dependencies:[he.bT,he.ux,he.e1,he.fG,he.Jj]})}}return p})(),fh=(()=>{class p{constructor(l,_,I,L,K){this.route=l,this.webContent=_,this.metaService=I,this.router=L,this.themeService=K,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(l=>{this.businessId=l.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(l=>{l&&(this.business=l)})}static{this.\u0275fac=function(_){return new(_||p)(i.rXU(dr.nX),i.rXU(Ft.N),i.rXU(Gi.R),i.rXU(dr.Ix),i.rXU(om.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(_,I){1&_&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[dr.n3,jp,Ha]})}}return p})();const yu_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Ga=V(2214),io=V(5407);class zl{constructor(u){return u}}class Ac{constructor(){return(0,Ga.Dk)()}}const If=new i.nKC("angularfire2._apps"),V_={provide:zl,useFactory:function zp(p){return p&&1===p.length?p[0]:new zl((0,Ga.Sx)())},deps:[[new i.Xx1,If]]},Dc={provide:Ac,deps:[[new i.Xx1,If]]};function hm(p){return(u,l)=>{const _=u.runOutsideAngular(()=>p(l));return new zl(_)}}let U_=(()=>{class p{constructor(l){(0,Ga.KO)("angularfire",io.xv.full,"core"),(0,Ga.KO)("angularfire",io.xv.full,"app"),(0,Ga.KO)("angular",i.xvI.full,l.toString())}static \u0275fac=function(_){return new(_||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[V_,Dc]})}return p})();function fm(p,...u){return{ngModule:U_,providers:[{provide:If,useFactory:hm(p),multi:!0,deps:[i.SKi,i.zZn,io.u0,...u]}]}}const gh=(0,io.S3)(Ga.Wp,!0);V(5504),V(7852),V(1076),V(8041),V(1362);class za{constructor(){return(0,io.CA)("auth")}}var K_=V(9583);class Em{constructor(u){return u}}const q_="firestore",Jp=new i.nKC("angularfire2.firestore-instances");function RE(p){return(u,l)=>{const _=u.runOutsideAngular(()=>p(l));return new Em(_)}}const F0={provide:class _v{constructor(){return(0,io.CA)(q_)}},deps:[[new i.Xx1,Jp]]},L0={provide:Em,useFactory:function SE(p,u){const l=(0,io.lR)(q_,p,u);return l&&new Em(l)},deps:[[new i.Xx1,Jp],zl]};let bm=(()=>{class p{constructor(){(0,Ga.KO)("angularfire",io.xv.full,"fst")}static \u0275fac=function(_){return new(_||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[L0,F0]})}return p})();function Y_(p,...u){return{ngModule:bm,providers:[{provide:Jp,useFactory:RE(p),multi:!0,deps:[i.SKi,i.zZn,io.u0,Ac,[new i.Xx1,za],[new i.Xx1,io.Jv],...u]}]}}const yh=(0,io.S3)(K_.aU,!0);var UE=V(9253),Rf=V(8721),Sm=V(1977),Rm=V(4535);class Pf{constructor(u){return u}}const iy="storage",Iu=new i.nKC("angularfire2.storage-instances");function Eh(p){return(u,l)=>{const _=u.runOutsideAngular(()=>p(l));return new Pf(_)}}const og={provide:class sy{constructor(){return(0,io.CA)(iy)}},deps:[[new i.Xx1,Iu]]},xm={provide:Pf,useFactory:function oy(p,u){const l=(0,io.lR)(iy,p,u);return l&&new Pf(l)},deps:[[new i.Xx1,Iu],zl]};let yd=(()=>{class p{constructor(){(0,Ga.KO)("angularfire",io.xv.full,"gcs")}static \u0275fac=function(_){return new(_||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[xm,og]})}return p})();function bh(p,...u){return{ngModule:yd,providers:[{provide:Iu,useFactory:Eh(p),multi:!0,deps:[i.SKi,i.zZn,io.u0,Ac,[new i.Xx1,za],[new i.Xx1,io.Jv],...u]}]}}const ay=(0,io.S3)(Rm.c7,!0);var Cu=V(3012);let uy=(()=>{class p{constructor(l,_,I){this.http=l,this.themeService=_,this.businessService=I,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(l){return new Promise((_,I)=>{this.themeService.getBusinessTheme(l).subscribe({next:L=>{this.themeService.applyThemeFile(L?L.themeFileName:"default.css").then(()=>_()).catch(ie=>{console.error("Error applying theme file:",ie),_()}),this.themeService.getThemeColors(l).subscribe(ie=>{this.applyTheme(ie),_()},ie=>{console.error("Error loading theme:",ie),_()})},error:L=>{console.error("Error loading business theme:",L),this.themeService.applyThemeFile("default.css").then(()=>_()).catch(K=>{console.error("Error applying default theme file:",K),_()})}})})}applyTheme(l){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",l.primaryColor),document.documentElement.style.setProperty("--secondary-color",l.secondaryColor),document.documentElement.style.setProperty("--accent-color",l.accentColor),document.documentElement.style.setProperty("--background-color",l.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",l.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",l.textColor),document.documentElement.style.setProperty("--nav-background-color",l.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",l.navTextColor),document.documentElement.style.setProperty("--nav-active-background",l.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",l.navActiveText),document.documentElement.style.setProperty("--button-color",l.buttonColor),document.documentElement.style.setProperty("--button-hover-color",l.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(l){return l.primaryColor&&l.secondaryColor&&l.accentColor&&l.backgroundColor&&l.darkBackgroundColor&&l.textColor&&l.navBackgroundColor&&l.navTextColor&&l.navActiveBackground&&l.navActiveText&&l.buttonColor&&l.buttonHoverColor}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(We),i.KVO(om.F),i.KVO(Cu.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Hi=V(9969);function ug(p){return new i.wOt(3e3,!1)}function Td(p){switch(p.length){case 0:return new Hi.sf;case 1:return p[0];default:return new Hi.ui(p)}}function Lf(p,u,l=new Map,_=new Map){const I=[],L=[];let K=-1,ie=null;if(u.forEach(me=>{const Xe=me.get("offset"),vt=Xe==K,jt=vt&&ie||new Map;me.forEach((Tn,En)=>{let vn=En,tn=Tn;if("offset"!==En)switch(vn=p.normalizePropertyName(vn,I),tn){case Hi.FX:tn=l.get(En);break;case Hi.kp:tn=_.get(En);break;default:tn=p.normalizeStyleValue(En,vn,tn,I)}jt.set(vn,tn)}),vt||L.push(jt),ie=jt,K=Xe}),I.length)throw function _a(p){return new i.wOt(3502,!1)}();return L}function ql(p,u,l,_){switch(u){case"start":p.onStart(()=>_(l&&hg(l,"start",p)));break;case"done":p.onDone(()=>_(l&&hg(l,"done",p)));break;case"destroy":p.onDestroy(()=>_(l&&hg(l,"destroy",p)))}}function hg(p,u,l){const L=Gm(p.element,p.triggerName,p.fromState,p.toState,u||p.phaseName,l.totalTime??p.totalTime,!!l.disabled),K=p._data;return null!=K&&(L._data=K),L}function Gm(p,u,l,_,I="",L=0,K){return{element:p,triggerName:u,fromState:l,toState:_,phaseName:I,totalTime:L,disabled:!!K}}function ya(p,u,l){let _=p.get(u);return _||p.set(u,_=l),_}function Sh(p){const u=p.indexOf(":");return[p.substring(1,u),p.slice(u+1)]}const Pv=(()=>typeof document>"u"?null:document.documentElement)();function zm(p){const u=p.parentNode||p.host||null;return u===Pv?null:u}let Ho=null,Rh=!1;function Cd(p,u){for(;u;){if(u===p)return!0;u=zm(u)}return!1}function wd(p,u,l){if(l)return Array.from(p.querySelectorAll(u));const _=p.querySelector(u);return _?[_]:[]}let Ad=(()=>{class p{validateStyleProperty(l){return function Wm(p){Ho||(Ho=function Vf(){return typeof document<"u"?document.body:null}()||{},Rh=!!Ho.style&&"WebkitAppearance"in Ho.style);let u=!0;return Ho.style&&!function xv(p){return"ebkit"==p.substring(1,6)}(p)&&(u=p in Ho.style,!u&&Rh&&(u="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Ho.style)),u}(l)}matchesElement(l,_){return!1}containsElement(l,_){return Cd(l,_)}getParentElement(l){return zm(l)}query(l,_,I){return wd(l,_,I)}computeStyle(l,_,I){return I||""}animate(l,_,I,L,K,ie=[],me){return new Hi.sf(I,L)}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),Uf=(()=>{class p{static{this.NOOP=new Ad}}return p})();const Vs=1e3,Ph="ng-enter",Au="ng-leave",Du="ng-trigger",xh=".ng-trigger",Km="ng-animating",dl=".ng-animating";function Ka(p){if("number"==typeof p)return p;const u=p.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:qm(parseFloat(u[1]),u[2])}function qm(p,u){return"s"===u?p*Vs:p}function kc(p,u,l){return p.hasOwnProperty("duration")?p:function py(p,u,l){let I,L=0,K="";if("string"==typeof p){const ie=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ie)return u.push(ug()),{duration:0,delay:0,easing:""};I=qm(parseFloat(ie[1]),ie[2]);const me=ie[3];null!=me&&(L=qm(parseFloat(me),ie[4]));const Xe=ie[5];Xe&&(K=Xe)}else I=p;if(!l){let ie=!1,me=u.length;I<0&&(u.push(function Dv(){return new i.wOt(3100,!1)}()),ie=!0),L<0&&(u.push(function Lm(){return new i.wOt(3101,!1)}()),ie=!0),ie&&u.splice(me,0,ug())}return{duration:I,delay:L,easing:K}}(p,u,l)}function Dd(p,u={}){return Object.keys(p).forEach(l=>{u[l]=p[l]}),u}function Mh(p){const u=new Map;return Object.keys(p).forEach(l=>{u.set(l,p[l])}),u}function Su(p,u=new Map,l){if(l)for(let[_,I]of l)u.set(_,I);for(let[_,I]of p)u.set(_,I);return u}function hl(p,u,l){u.forEach((_,I)=>{const L=Bf(I);l&&!l.has(I)&&l.set(I,p.style[L]),p.style[L]=_})}function fl(p,u){u.forEach((l,_)=>{const I=Bf(_);p.style[I]=""})}function Sd(p){return Array.isArray(p)?1==p.length?p[0]:(0,Hi.K2)(p):p}const Rd=new RegExp("{{\\s*(.+?)\\s*}}","g");function gg(p){let u=[];if("string"==typeof p){let l;for(;l=Rd.exec(p);)u.push(l[1]);Rd.lastIndex=0}return u}function Fc(p,u,l){const _=p.toString(),I=_.replace(Rd,(L,K)=>{let ie=u[K];return null==ie&&(l.push(function Vm(p){return new i.wOt(3003,!1)}()),ie=""),ie.toString()});return I==_?p:I}function Yl(p){const u=[];let l=p.next();for(;!l.done;)u.push(l.value),l=p.next();return u}const mg=/-+([a-z0-9])/g;function Bf(p){return p.replace(mg,(...u)=>u[1].toUpperCase())}function Mo(p,u,l){switch(u.type){case 7:return p.visitTrigger(u,l);case 0:return p.visitState(u,l);case 1:return p.visitTransition(u,l);case 2:return p.visitSequence(u,l);case 3:return p.visitGroup(u,l);case 4:return p.visitAnimate(u,l);case 5:return p.visitKeyframes(u,l);case 6:return p.visitStyle(u,l);case 8:return p.visitReference(u,l);case 9:return p.visitAnimateChild(u,l);case 10:return p.visitAnimateRef(u,l);case 11:return p.visitQuery(u,l);case 12:return p.visitStagger(u,l);default:throw function Mf(p){return new i.wOt(3004,!1)}()}}function kh(p,u){return window.getComputedStyle(p)[u]}const B="*";function q(p,u){const l=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(_=>function pe(p,u,l){if(":"==p[0]){const me=function _t(p,u){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,_)=>parseFloat(_)>parseFloat(l);case":decrement":return(l,_)=>parseFloat(_)<parseFloat(l);default:return u.push(function Ed(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,l);if("function"==typeof me)return void u.push(me);p=me}const _=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return l.push(function Ch(p){return new i.wOt(3015,!1)}()),u;const I=_[1],L=_[2],K=_[3];u.push(Ui(I,K));"<"==L[0]&&!(I==B&&K==B)&&u.push(Ui(K,I))}(_,l,u)):l.push(p),l}const kt=new Set(["true","1"]),Cn=new Set(["false","0"]);function Ui(p,u){const l=kt.has(p)||Cn.has(p),_=kt.has(u)||Cn.has(u);return(I,L)=>{let K=p==B||p==I,ie=u==B||u==L;return!K&&l&&"boolean"==typeof I&&(K=I?kt.has(p):Cn.has(p)),!ie&&_&&"boolean"==typeof L&&(ie=L?kt.has(u):Cn.has(u)),K&&ie}}const Pi=new RegExp("s*:selfs*,?","g");function po(p,u,l,_){return new Ru(p).build(u,l,_)}class Ru{constructor(u){this._driver=u}build(u,l,_){const I=new _g(l);return this._resetContextStyleTimingState(I),Mo(this,Sd(u),I)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,l){let _=l.queryCount=0,I=l.depCount=0;const L=[],K=[];return"@"==u.name.charAt(0)&&l.errors.push(function Of(){return new i.wOt(3006,!1)}()),u.definitions.forEach(ie=>{if(this._resetContextStyleTimingState(l),0==ie.type){const me=ie,Xe=me.name;Xe.toString().split(/\s*,\s*/).forEach(vt=>{me.name=vt,L.push(this.visitState(me,l))}),me.name=Xe}else if(1==ie.type){const me=this.visitTransition(ie,l);_+=me.queryCount,I+=me.depCount,K.push(me)}else l.errors.push(function Oc(){return new i.wOt(3007,!1)}())}),{type:7,name:u.name,states:L,transitions:K,queryCount:_,depCount:I,options:null}}visitState(u,l){const _=this.visitStyle(u.styles,l),I=u.options&&u.options.params||null;if(_.containsDynamicStyles){const L=new Set,K=I||{};_.styles.forEach(ie=>{ie instanceof Map&&ie.forEach(me=>{gg(me).forEach(Xe=>{K.hasOwnProperty(Xe)||L.add(Xe)})})}),L.size&&(Yl(L.values()),l.errors.push(function Bm(p,u){return new i.wOt(3008,!1)}()))}return{type:0,name:u.name,style:_,options:I?{params:I}:null}}visitTransition(u,l){l.queryCount=0,l.depCount=0;const _=Mo(this,Sd(u.animation),l);return{type:1,matchers:q(u.expr,l.errors),animation:_,queryCount:l.queryCount,depCount:l.depCount,options:Lh(u.options)}}visitSequence(u,l){return{type:2,steps:u.steps.map(_=>Mo(this,_,l)),options:Lh(u.options)}}visitGroup(u,l){const _=l.currentTime;let I=0;const L=u.steps.map(K=>{l.currentTime=_;const ie=Mo(this,K,l);return I=Math.max(I,l.currentTime),ie});return l.currentTime=I,{type:3,steps:L,options:Lh(u.options)}}visitAnimate(u,l){const _=function $E(p,u){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return _y(kc(p,u).duration,0,"");const l=p;if(l.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=_y(0,0,"");return L.dynamic=!0,L.strValue=l,L}const I=kc(l,u);return _y(I.duration,I.delay,I.easing)}(u.timings,l.errors);l.currentAnimateTimings=_;let I,L=u.styles?u.styles:(0,Hi.iF)({});if(5==L.type)I=this.visitKeyframes(L,l);else{let K=u.styles,ie=!1;if(!K){ie=!0;const Xe={};_.easing&&(Xe.easing=_.easing),K=(0,Hi.iF)(Xe)}l.currentTime+=_.duration+_.delay;const me=this.visitStyle(K,l);me.isEmptyStep=ie,I=me}return l.currentAnimateTimings=null,{type:4,timings:_,style:I,options:null}}visitStyle(u,l){const _=this._makeStyleAst(u,l);return this._validateStyleAst(_,l),_}_makeStyleAst(u,l){const _=[],I=Array.isArray(u.styles)?u.styles:[u.styles];for(let ie of I)"string"==typeof ie?ie===Hi.kp?_.push(ie):l.errors.push(new i.wOt(3002,!1)):_.push(Mh(ie));let L=!1,K=null;return _.forEach(ie=>{if(ie instanceof Map&&(ie.has("easing")&&(K=ie.get("easing"),ie.delete("easing")),!L))for(let me of ie.values())if(me.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:_,easing:K,offset:u.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(u,l){const _=l.currentAnimateTimings;let I=l.currentTime,L=l.currentTime;_&&L>0&&(L-=_.duration+_.delay),u.styles.forEach(K=>{"string"!=typeof K&&K.forEach((ie,me)=>{const Xe=l.collectedStyles.get(l.currentQuerySelector),vt=Xe.get(me);let jt=!0;vt&&(L!=I&&L>=vt.startTime&&I<=vt.endTime&&(l.errors.push(function xo(p,u,l,_,I){return new i.wOt(3010,!1)}()),jt=!1),L=vt.startTime),jt&&Xe.set(me,{startTime:L,endTime:I}),l.options&&function pg(p,u,l){const _=u.params||{},I=gg(p);I.length&&I.forEach(L=>{_.hasOwnProperty(L)||l.push(function dy(p){return new i.wOt(3001,!1)}())})}(ie,l.options,l.errors)})})}visitKeyframes(u,l){const _={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function wu(){return new i.wOt(3011,!1)}()),_;let L=0;const K=[];let ie=!1,me=!1,Xe=0;const vt=u.steps.map(br=>{const Nr=this._makeStyleAst(br,l);let Tr=null!=Nr.offset?Nr.offset:function jE(p){if("string"==typeof p)return null;let u=null;if(Array.isArray(p))p.forEach(l=>{if(l instanceof Map&&l.has("offset")){const _=l;u=parseFloat(_.get("offset")),_.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const l=p;u=parseFloat(l.get("offset")),l.delete("offset")}return u}(Nr.styles),Zn=0;return null!=Tr&&(L++,Zn=Nr.offset=Tr),me=me||Zn<0||Zn>1,ie=ie||Zn<Xe,Xe=Zn,K.push(Zn),Nr});me&&l.errors.push(function Th(){return new i.wOt(3012,!1)}()),ie&&l.errors.push(function ma(){return new i.wOt(3200,!1)}());const jt=u.steps.length;let Tn=0;L>0&&L<jt?l.errors.push(function dg(){return new i.wOt(3202,!1)}()):0==L&&(Tn=1/(jt-1));const En=jt-1,vn=l.currentTime,tn=l.currentAnimateTimings,Rn=tn.duration;return vt.forEach((br,Nr)=>{const Tr=Tn>0?Nr==En?1:Tn*Nr:K[Nr],Zn=Tr*Rn;l.currentTime=vn+tn.delay+Zn,tn.duration=Zn,this._validateStyleAst(br,l),br.offset=Tr,_.styles.push(br)}),_}visitReference(u,l){return{type:8,animation:Mo(this,Sd(u.animation),l),options:Lh(u.options)}}visitAnimateChild(u,l){return l.depCount++,{type:9,options:Lh(u.options)}}visitAnimateRef(u,l){return{type:10,animation:this.visitReference(u.animation,l),options:Lh(u.options)}}visitQuery(u,l){const _=l.currentQuerySelector,I=u.options||{};l.queryCount++,l.currentQuery=u;const[L,K]=function va(p){const u=!!p.split(/\s*,\s*/).find(l=>":self"==l);return u&&(p=p.replace(Pi,"")),p=p.replace(/@\*/g,xh).replace(/@\w+/g,l=>xh+"-"+l.slice(1)).replace(/:animating/g,dl),[p,u]}(u.selector);l.currentQuerySelector=_.length?_+" "+L:L,ya(l.collectedStyles,l.currentQuerySelector,new Map);const ie=Mo(this,Sd(u.animation),l);return l.currentQuery=null,l.currentQuerySelector=_,{type:11,selector:L,limit:I.limit||0,optional:!!I.optional,includeSelf:K,animation:ie,originalSelector:u.selector,options:Lh(u.options)}}visitStagger(u,l){l.currentQuery||l.errors.push(function vd(){return new i.wOt(3013,!1)}());const _="full"===u.timings?{duration:0,delay:0,easing:"full"}:kc(u.timings,l.errors,!0);return{type:12,animation:Mo(this,Sd(u.animation),l),timings:_,options:null}}}class _g{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lh(p){return p?(p=Dd(p)).params&&(p.params=function $f(p){return p?Dd(p):null}(p.params)):p={},p}function _y(p,u,l){return{duration:p,delay:u,easing:l}}function yy(p,u,l,_,I,L,K=null,ie=!1){return{type:1,element:p,keyframes:u,preStyleProps:l,postStyleProps:_,duration:I,delay:L,totalTime:I+L,easing:K,subTimeline:ie}}class Xm{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,l){let _=this._map.get(u);_||this._map.set(u,_=[]),_.push(...l)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const V0=new RegExp(":enter","g"),kv=new RegExp(":leave","g");function Pd(p,u,l,_,I,L=new Map,K=new Map,ie,me,Xe=[]){return(new Fv).buildKeyframes(p,u,l,_,I,L,K,ie,me,Xe)}class Fv{buildKeyframes(u,l,_,I,L,K,ie,me,Xe,vt=[]){Xe=Xe||new Xm;const jt=new Qm(u,l,Xe,I,L,vt,[]);jt.options=me;const Tn=me.delay?Ka(me.delay):0;jt.currentTimeline.delayNextStep(Tn),jt.currentTimeline.setStyles([K],null,jt.errors,me),Mo(this,_,jt);const En=jt.timelines.filter(vn=>vn.containsAnimation());if(En.length&&ie.size){let vn;for(let tn=En.length-1;tn>=0;tn--){const Rn=En[tn];if(Rn.element===l){vn=Rn;break}}vn&&!vn.allowOnlyTimelineStyles()&&vn.setStyles([ie],null,jt.errors,me)}return En.length?En.map(vn=>vn.buildKeyframes()):[yy(l,[],[],[],0,Tn,"",!1)]}visitTrigger(u,l){}visitState(u,l){}visitTransition(u,l){}visitAnimateChild(u,l){const _=l.subInstructions.get(l.element);if(_){const I=l.createSubContext(u.options),L=l.currentTimeline.currentTime,K=this._visitSubInstructions(_,I,I.options);L!=K&&l.transformIntoNewTimeline(K)}l.previousNode=u}visitAnimateRef(u,l){const _=l.createSubContext(u.options);_.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],l,_),this.visitReference(u.animation,_),l.transformIntoNewTimeline(_.currentTimeline.currentTime),l.previousNode=u}_applyAnimationRefDelays(u,l,_){for(const I of u){const L=I?.delay;if(L){const K="number"==typeof L?L:Ka(Fc(L,I?.params??{},l.errors));_.delayNextStep(K)}}}_visitSubInstructions(u,l,_){let L=l.currentTimeline.currentTime;const K=null!=_.duration?Ka(_.duration):null,ie=null!=_.delay?Ka(_.delay):null;return 0!==K&&u.forEach(me=>{const Xe=l.appendInstructionToTimeline(me,K,ie);L=Math.max(L,Xe.duration+Xe.delay)}),L}visitReference(u,l){l.updateOptions(u.options,!0),Mo(this,u.animation,l),l.previousNode=u}visitSequence(u,l){const _=l.subContextCount;let I=l;const L=u.options;if(L&&(L.params||L.delay)&&(I=l.createSubContext(L),I.transformIntoNewTimeline(),null!=L.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=Ey);const K=Ka(L.delay);I.delayNextStep(K)}u.steps.length&&(u.steps.forEach(K=>Mo(this,K,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>_&&I.transformIntoNewTimeline()),l.previousNode=u}visitGroup(u,l){const _=[];let I=l.currentTimeline.currentTime;const L=u.options&&u.options.delay?Ka(u.options.delay):0;u.steps.forEach(K=>{const ie=l.createSubContext(u.options);L&&ie.delayNextStep(L),Mo(this,K,ie),I=Math.max(I,ie.currentTimeline.currentTime),_.push(ie.currentTimeline)}),_.forEach(K=>l.currentTimeline.mergeTimelineCollectedStyles(K)),l.transformIntoNewTimeline(I),l.previousNode=u}_visitTiming(u,l){if(u.dynamic){const _=u.strValue;return kc(l.params?Fc(_,l.params,l.errors):_,l.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,l){const _=l.currentAnimateTimings=this._visitTiming(u.timings,l),I=l.currentTimeline;_.delay&&(l.incrementTime(_.delay),I.snapshotCurrentStyles());const L=u.style;5==L.type?this.visitKeyframes(L,l):(l.incrementTime(_.duration),this.visitStyle(L,l),I.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=u}visitStyle(u,l){const _=l.currentTimeline,I=l.currentAnimateTimings;!I&&_.hasCurrentStyleProperties()&&_.forwardFrame();const L=I&&I.easing||u.easing;u.isEmptyStep?_.applyEmptyStep(L):_.setStyles(u.styles,L,l.errors,l.options),l.previousNode=u}visitKeyframes(u,l){const _=l.currentAnimateTimings,I=l.currentTimeline.duration,L=_.duration,ie=l.createSubContext().currentTimeline;ie.easing=_.easing,u.styles.forEach(me=>{ie.forwardTime((me.offset||0)*L),ie.setStyles(me.styles,me.easing,l.errors,l.options),ie.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(ie),l.transformIntoNewTimeline(I+L),l.previousNode=u}visitQuery(u,l){const _=l.currentTimeline.currentTime,I=u.options||{},L=I.delay?Ka(I.delay):0;L&&(6===l.previousNode.type||0==_&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Ey);let K=_;const ie=l.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!I.optional,l.errors);l.currentQueryTotal=ie.length;let me=null;ie.forEach((Xe,vt)=>{l.currentQueryIndex=vt;const jt=l.createSubContext(u.options,Xe);L&&jt.delayNextStep(L),Xe===l.element&&(me=jt.currentTimeline),Mo(this,u.animation,jt),jt.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,jt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(K),me&&(l.currentTimeline.mergeTimelineCollectedStyles(me),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=u}visitStagger(u,l){const _=l.parentContext,I=l.currentTimeline,L=u.timings,K=Math.abs(L.duration),ie=K*(l.currentQueryTotal-1);let me=K*l.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":me=ie-me;break;case"full":me=_.currentStaggerTime}const vt=l.currentTimeline;me&&vt.delayNextStep(me);const jt=vt.currentTime;Mo(this,u.animation,l),l.previousNode=u,_.currentStaggerTime=I.currentTime-jt+(I.startTime-_.currentTimeline.startTime)}}const Ey={};class Qm{constructor(u,l,_,I,L,K,ie,me){this._driver=u,this.element=l,this.subInstructions=_,this._enterClassName=I,this._leaveClassName=L,this.errors=K,this.timelines=ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ey,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=me||new Lv(this._driver,l,0),ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,l){if(!u)return;const _=u;let I=this.options;null!=_.duration&&(I.duration=Ka(_.duration)),null!=_.delay&&(I.delay=Ka(_.delay));const L=_.params;if(L){let K=I.params;K||(K=this.options.params={}),Object.keys(L).forEach(ie=>{(!l||!K.hasOwnProperty(ie))&&(K[ie]=Fc(L[ie],K,this.errors))})}}_copyOptions(){const u={};if(this.options){const l=this.options.params;if(l){const _=u.params={};Object.keys(l).forEach(I=>{_[I]=l[I]})}}return u}createSubContext(u=null,l,_){const I=l||this.element,L=new Qm(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,_||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(u),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(u){return this.previousNode=Ey,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,l,_){const I={duration:l??u.duration,delay:this.currentTimeline.currentTime+(_??0)+u.delay,easing:""},L=new Yb(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,I,u.stretchStartingKeyframe);return this.timelines.push(L),I}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,l,_,I,L,K){let ie=[];if(I&&ie.push(this.element),u.length>0){u=(u=u.replace(V0,"."+this._enterClassName)).replace(kv,"."+this._leaveClassName);let Xe=this._driver.query(this.element,u,1!=_);0!==_&&(Xe=_<0?Xe.slice(Xe.length+_,Xe.length):Xe.slice(0,_)),ie.push(...Xe)}return!L&&0==ie.length&&K.push(function Ih(p){return new i.wOt(3014,!1)}()),ie}}class Lv{constructor(u,l,_,I){this._driver=u,this.element=l,this.startTime=_,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+u),l&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,l){return this.applyStylesToKeyframe(),new Lv(this._driver,u,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,l){this._localTimelineStyles.set(u,l),this._globalTimelineStyles.set(u,l),this._styleSummary.set(u,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[l,_]of this._globalTimelineStyles)this._backFill.set(l,_||Hi.kp),this._currentKeyframe.set(l,Hi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,l,_,I){l&&this._previousKeyframe.set("easing",l);const L=I&&I.params||{},K=function B0(p,u){const l=new Map;let _;return p.forEach(I=>{if("*"===I){_=_||u.keys();for(let L of _)l.set(L,Hi.kp)}else Su(I,l)}),l}(u,this._globalTimelineStyles);for(let[ie,me]of K){const Xe=Fc(me,L,_);this._pendingStyles.set(ie,Xe),this._localTimelineStyles.has(ie)||this._backFill.set(ie,this._globalTimelineStyles.get(ie)??Hi.kp),this._updateStyle(ie,Xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,l)=>{this._currentKeyframe.set(l,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,u)}))}snapshotCurrentStyles(){for(let[u,l]of this._localTimelineStyles)this._pendingStyles.set(u,l),this._updateStyle(u,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let l in this._currentKeyframe)u.push(l);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((l,_)=>{const I=this._styleSummary.get(_);(!I||l.time>I.time)&&this._updateStyle(_,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,l=new Set,_=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((ie,me)=>{const Xe=Su(ie,new Map,this._backFill);Xe.forEach((vt,jt)=>{vt===Hi.FX?u.add(jt):vt===Hi.kp&&l.add(jt)}),_||Xe.set("offset",me/this.duration),I.push(Xe)});const L=u.size?Yl(u.values()):[],K=l.size?Yl(l.values()):[];if(_){const ie=I[0],me=new Map(ie);ie.set("offset",0),me.set("offset",1),I=[ie,me]}return yy(this.element,I,L,K,this.duration,this.startTime,this.easing,!1)}}class Yb extends Lv{constructor(u,l,_,I,L,K,ie=!1){super(u,l,K.delay),this.keyframes=_,this.preStyleProps=I,this.postStyleProps=L,this._stretchStartingKeyframe=ie,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:l,duration:_,easing:I}=this.timings;if(this._stretchStartingKeyframe&&l){const L=[],K=_+l,ie=l/K,me=Su(u[0]);me.set("offset",0),L.push(me);const Xe=Su(u[0]);Xe.set("offset",HE(ie)),L.push(Xe);const vt=u.length-1;for(let jt=1;jt<=vt;jt++){let Tn=Su(u[jt]);const En=Tn.get("offset");Tn.set("offset",HE((l+En*_)/K)),L.push(Tn)}_=K,l=0,I="",u=L}return yy(this.element,u,this.preStyleProps,this.postStyleProps,_,l,I,!0)}}function HE(p,u=3){const l=Math.pow(10,u-1);return Math.round(p*l)/l}class Vv{}const GE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $0 extends Vv{normalizePropertyName(u,l){return Bf(u)}normalizeStyleValue(u,l,_,I){let L="";const K=_.toString().trim();if(GE.has(l)&&0!==_&&"0"!==_)if("number"==typeof _)L="px";else{const ie=_.match(/^[+-]?[\d\.]+([a-z]*)$/);ie&&0==ie[1].length&&I.push(function Um(p,u){return new i.wOt(3005,!1)}())}return K+L}}function zE(p,u,l,_,I,L,K,ie,me,Xe,vt,jt,Tn){return{type:0,element:p,triggerName:u,isRemovalTransition:I,fromState:l,fromStyles:L,toState:_,toStyles:K,timelines:ie,queriedElements:me,preStyleProps:Xe,postStyleProps:vt,totalTime:jt,errors:Tn}}const by={};class WE{constructor(u,l,_){this._triggerName=u,this.ast=l,this._stateStyles=_}match(u,l,_,I){return function KE(p,u,l,_,I){return p.some(L=>L(u,l,_,I))}(this.ast.matchers,u,l,_,I)}buildStyles(u,l,_){let I=this._stateStyles.get("*");return void 0!==u&&(I=this._stateStyles.get(u?.toString())||I),I?I.buildStyles(l,_):new Map}build(u,l,_,I,L,K,ie,me,Xe,vt){const jt=[],Tn=this.ast.options&&this.ast.options.params||by,vn=this.buildStyles(_,ie&&ie.params||by,jt),tn=me&&me.params||by,Rn=this.buildStyles(I,tn,jt),br=new Set,Nr=new Map,Tr=new Map,Zn="void"===I,ai={params:yg(tn,Tn),delay:this.ast.options?.delay},gr=vt?[]:Pd(u,l,this.ast.animation,L,K,vn,Rn,ai,Xe,jt);let yi=0;if(gr.forEach(Ji=>{yi=Math.max(Ji.duration+Ji.delay,yi)}),jt.length)return zE(l,this._triggerName,_,I,Zn,vn,Rn,[],[],Nr,Tr,yi,jt);gr.forEach(Ji=>{const Zi=Ji.element,go=ya(Nr,Zi,new Set);Ji.preStyleProps.forEach(Us=>go.add(Us));const zo=ya(Tr,Zi,new Set);Ji.postStyleProps.forEach(Us=>zo.add(Us)),Zi!==l&&br.add(Zi)});const Qi=Yl(br.values());return zE(l,this._triggerName,_,I,Zn,vn,Rn,gr,Qi,Nr,Tr,yi)}}function yg(p,u){const l=Dd(u);for(const _ in p)p.hasOwnProperty(_)&&null!=p[_]&&(l[_]=p[_]);return l}class G0{constructor(u,l,_){this.styles=u,this.defaultParams=l,this.normalizer=_}buildStyles(u,l){const _=new Map,I=Dd(this.defaultParams);return Object.keys(u).forEach(L=>{const K=u[L];null!==K&&(I[L]=K)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((K,ie)=>{K&&(K=Fc(K,I,l));const me=this.normalizer.normalizePropertyName(ie,l);K=this.normalizer.normalizeStyleValue(ie,me,K,l),_.set(ie,K)})}),_}}class qE{constructor(u,l,_){this.name=u,this.ast=l,this._normalizer=_,this.transitionFactories=[],this.states=new Map,l.states.forEach(I=>{this.states.set(I.name,new G0(I.style,I.options&&I.options.params||{},_))}),Uv(this.states,"true","1"),Uv(this.states,"false","0"),l.transitions.forEach(I=>{this.transitionFactories.push(new WE(u,I,this.states))}),this.fallbackTransition=function W0(p,u,l){return new WE(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,ie)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,l,_,I){return this.transitionFactories.find(K=>K.match(u,l,_,I))||null}matchStyles(u,l,_){return this.fallbackTransition.buildStyles(u,l,_)}}function Uv(p,u,l){p.has(u)?p.has(l)||p.set(l,p.get(u)):p.has(l)&&p.set(u,p.get(l))}const Xb=new Xm;class Bv{constructor(u,l,_){this.bodyNode=u,this._driver=l,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,l){const _=[],L=po(this._driver,l,_,[]);if(_.length)throw function Nc(p){return new i.wOt(3503,!1)}();this._animations.set(u,L)}_buildPlayer(u,l,_){const I=u.element,L=Lf(this._normalizer,u.keyframes,l,_);return this._driver.animate(I,L,u.duration,u.delay,u.easing,[],!0)}create(u,l,_={}){const I=[],L=this._animations.get(u);let K;const ie=new Map;if(L?(K=Pd(this._driver,l,L,Ph,Au,new Map,new Map,_,Xb,I),K.forEach(vt=>{const jt=ya(ie,vt.element,new Map);vt.postStyleProps.forEach(Tn=>jt.set(Tn,null))})):(I.push(function kf(){return new i.wOt(3300,!1)}()),K=[]),I.length)throw function jm(p){return new i.wOt(3504,!1)}();ie.forEach((vt,jt)=>{vt.forEach((Tn,En)=>{vt.set(En,this._driver.computeStyle(jt,En,Hi.kp))})});const Xe=Td(K.map(vt=>{const jt=ie.get(vt.element);return this._buildPlayer(vt,new Map,jt)}));return this._playersById.set(u,Xe),Xe.onDestroy(()=>this.destroy(u)),this.players.push(Xe),Xe}destroy(u){const l=this._getPlayer(u);l.destroy(),this._playersById.delete(u);const _=this.players.indexOf(l);_>=0&&this.players.splice(_,1)}_getPlayer(u){const l=this._playersById.get(u);if(!l)throw function cs(p){return new i.wOt(3301,!1)}();return l}listen(u,l,_,I){const L=Gm(l,"","","");return ql(this._getPlayer(u),_,L,I),()=>{}}command(u,l,_,I){if("register"==_)return void this.register(u,I[0]);if("create"==_)return void this.create(u,l,I[0]||{});const L=this._getPlayer(u);switch(_){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(u)}}}const Ty="ng-animate-queued",jv="ng-animate-disabled",Vc=[],$v={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uc="__ng_removed";class Hv{get params(){return this.options.params}constructor(u,l=""){this.namespaceId=l;const _=u&&u.hasOwnProperty("value");if(this.value=function K0(p){return p??null}(_?u.value:u),_){const L=Dd(u);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const l=u.params;if(l){const _=this.options.params;Object.keys(l).forEach(I=>{null==_[I]&&(_[I]=l[I])})}}}const Jm="void",Gv=new Hv(Jm);class zv{constructor(u,l,_){this.id=u,this.hostElement=l,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,pl(l,this._hostClassName)}listen(u,l,_,I){if(!this._triggers.has(l))throw function Ff(p,u){return new i.wOt(3302,!1)}();if(null==_||0==_.length)throw function Ah(p){return new i.wOt(3303,!1)}();if(!function JE(p){return"start"==p||"done"==p}(_))throw function Dh(p,u){return new i.wOt(3400,!1)}();const L=ya(this._elementListeners,u,[]),K={name:l,phase:_,callback:I};L.push(K);const ie=ya(this._engine.statesByElement,u,new Map);return ie.has(l)||(pl(u,Du),pl(u,Du+"-"+l),ie.set(l,Gv)),()=>{this._engine.afterFlush(()=>{const me=L.indexOf(K);me>=0&&L.splice(me,1),this._triggers.has(l)||ie.delete(l)})}}register(u,l){return!this._triggers.has(u)&&(this._triggers.set(u,l),!0)}_getTrigger(u){const l=this._triggers.get(u);if(!l)throw function hy(p){return new i.wOt(3401,!1)}();return l}trigger(u,l,_,I=!0){const L=this._getTrigger(l),K=new Wv(this.id,l,u);let ie=this._engine.statesByElement.get(u);ie||(pl(u,Du),pl(u,Du+"-"+l),this._engine.statesByElement.set(u,ie=new Map));let me=ie.get(l);const Xe=new Hv(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&me&&Xe.absorbOptions(me.options),ie.set(l,Xe),me||(me=Gv),Xe.value!==Jm&&me.value===Xe.value){if(!function qv(p,u){const l=Object.keys(p),_=Object.keys(u);if(l.length!=_.length)return!1;for(let I=0;I<l.length;I++){const L=l[I];if(!u.hasOwnProperty(L)||p[L]!==u[L])return!1}return!0}(me.params,Xe.params)){const tn=[],Rn=L.matchStyles(me.value,me.params,tn),br=L.matchStyles(Xe.value,Xe.params,tn);tn.length?this._engine.reportError(tn):this._engine.afterFlush(()=>{fl(u,Rn),hl(u,br)})}return}const Tn=ya(this._engine.playersByElement,u,[]);Tn.forEach(tn=>{tn.namespaceId==this.id&&tn.triggerName==l&&tn.queued&&tn.destroy()});let En=L.matchTransition(me.value,Xe.value,u,Xe.params),vn=!1;if(!En){if(!I)return;En=L.fallbackTransition,vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:l,transition:En,fromState:me,toState:Xe,player:K,isFallbackTransition:vn}),vn||(pl(u,Ty),K.onStart(()=>{Hf(u,Ty)})),K.onDone(()=>{let tn=this.players.indexOf(K);tn>=0&&this.players.splice(tn,1);const Rn=this._engine.playersByElement.get(u);if(Rn){let br=Rn.indexOf(K);br>=0&&Rn.splice(br,1)}}),this.players.push(K),Tn.push(K),K}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(l=>l.delete(u)),this._elementListeners.forEach((l,_)=>{this._elementListeners.set(_,l.filter(I=>I.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const l=this._engine.playersByElement.get(u);l&&(l.forEach(_=>_.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,l){const _=this._engine.driver.query(u,xh,!0);_.forEach(I=>{if(I[Uc])return;const L=this._engine.fetchNamespacesByElement(I);L.size?L.forEach(K=>K.triggerLeaveAnimation(I,l,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(u,l,_,I){const L=this._engine.statesByElement.get(u),K=new Map;if(L){const ie=[];if(L.forEach((me,Xe)=>{if(K.set(Xe,me.value),this._triggers.has(Xe)){const vt=this.trigger(u,Xe,Jm,I);vt&&ie.push(vt)}}),ie.length)return this._engine.markElementAsRemoved(this.id,u,!0,l,K),_&&Td(ie).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const l=this._elementListeners.get(u),_=this._engine.statesByElement.get(u);if(l&&_){const I=new Set;l.forEach(L=>{const K=L.name;if(I.has(K))return;I.add(K);const me=this._triggers.get(K).fallbackTransition,Xe=_.get(K)||Gv,vt=new Hv(Jm),jt=new Wv(this.id,K,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:K,transition:me,fromState:Xe,toState:vt,player:jt,isFallbackTransition:!0})})}}removeNode(u,l){const _=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,l),this.triggerLeaveAnimation(u,l,!0))return;let I=!1;if(_.totalAnimations){const L=_.players.length?_.playersByQueriedElement.get(u):[];if(L&&L.length)I=!0;else{let K=u;for(;K=K.parentNode;)if(_.statesByElement.get(K)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(u),I)_.markElementAsRemoved(this.id,u,!1,l);else{const L=u[Uc];(!L||L===$v)&&(_.afterFlush(()=>this.clearElementCache(u)),_.destroyInnerAnimations(u),_._onRemovalComplete(u,l))}}insertNode(u,l){pl(u,this._hostClassName)}drainQueuedTransitions(u){const l=[];return this._queue.forEach(_=>{const I=_.player;if(I.destroyed)return;const L=_.element,K=this._elementListeners.get(L);K&&K.forEach(ie=>{if(ie.name==_.triggerName){const me=Gm(L,_.triggerName,_.fromState.value,_.toState.value);me._data=u,ql(_.player,ie.phase,me,ie.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):l.push(_)}),this._queue=[],l.sort((_,I)=>{const L=_.transition.ast.depCount,K=I.transition.ast.depCount;return 0==L||0==K?L-K:this._engine.driver.containsElement(_.element,I.element)?1:-1})}destroy(u){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Zm{_onRemovalComplete(u,l){this.onRemovalComplete(u,l)}constructor(u,l,_){this.bodyNode=u,this.driver=l,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,L)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(l=>{l.players.forEach(_=>{_.queued&&u.push(_)})}),u}createNamespace(u,l){const _=new zv(u,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(_,l):(this.newHostElements.set(l,_),this.collectEnterElement(l)),this._namespaceLookup[u]=_}_balanceNamespaceList(u,l){const _=this._namespaceList,I=this.namespacesByHostElement;if(_.length-1>=0){let K=!1,ie=this.driver.getParentElement(l);for(;ie;){const me=I.get(ie);if(me){const Xe=_.indexOf(me);_.splice(Xe+1,0,u),K=!0;break}ie=this.driver.getParentElement(ie)}K||_.unshift(u)}else _.push(u);return I.set(l,u),u}register(u,l){let _=this._namespaceLookup[u];return _||(_=this.createNamespace(u,l)),_}registerTrigger(u,l,_){let I=this._namespaceLookup[u];I&&I.register(l,_)&&this.totalAnimations++}destroy(u,l){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const _=this._fetchNamespace(u);this.namespacesByHostElement.delete(_.hostElement);const I=this._namespaceList.indexOf(_);I>=0&&this._namespaceList.splice(I,1),_.destroy(l),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const l=new Set,_=this.statesByElement.get(u);if(_)for(let I of _.values())if(I.namespaceId){const L=this._fetchNamespace(I.namespaceId);L&&l.add(L)}return l}trigger(u,l,_,I){if(Iy(l)){const L=this._fetchNamespace(u);if(L)return L.trigger(l,_,I),!0}return!1}insertNode(u,l,_,I){if(!Iy(l))return;const L=l[Uc];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const K=this.collectedLeaveElements.indexOf(l);K>=0&&this.collectedLeaveElements.splice(K,1)}if(u){const K=this._fetchNamespace(u);K&&K.insertNode(l,_)}I&&this.collectEnterElement(l)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,l){l?this.disabledNodes.has(u)||(this.disabledNodes.add(u),pl(u,jv)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Hf(u,jv))}removeNode(u,l,_){if(Iy(l)){const I=u?this._fetchNamespace(u):null;I?I.removeNode(l,_):this.markElementAsRemoved(u,l,!1,_);const L=this.namespacesByHostElement.get(l);L&&L.id!==u&&L.removeNode(l,_)}else this._onRemovalComplete(l,_)}markElementAsRemoved(u,l,_,I,L){this.collectedLeaveElements.push(l),l[Uc]={namespaceId:u,setForRemoval:I,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:L}}listen(u,l,_,I,L){return Iy(l)?this._fetchNamespace(u).listen(l,_,I,L):()=>{}}_buildInstruction(u,l,_,I,L){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,_,I,u.fromState.options,u.toState.options,l,L)}destroyInnerAnimations(u){let l=this.driver.query(u,xh,!0);l.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(u,dl,!0),l.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(u){const l=this.playersByElement.get(u);l&&l.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(u){const l=this.playersByQueriedElement.get(u);l&&l.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return Td(this.players).onDone(()=>u());u()})}processLeaveNode(u){const l=u[Uc];if(l&&l.setForRemoval){if(u[Uc]=$v,l.namespaceId){this.destroyInnerAnimations(u);const _=this._fetchNamespace(l.namespaceId);_&&_.clearElementCache(u)}this._onRemovalComplete(u,l.setForRemoval)}u.classList?.contains(jv)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(u=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,I)=>this._balanceNamespaceList(_,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)pl(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{l=this._flushAnimations(_,u)}finally{for(let I=0;I<_.length;I++)_[I]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],l.length?Td(l).onDone(()=>{_.forEach(I=>I())}):_.forEach(I=>I())}}reportError(u){throw function $m(p){return new i.wOt(3402,!1)}()}_flushAnimations(u,l){const _=new Xm,I=[],L=new Map,K=[],ie=new Map,me=new Map,Xe=new Map,vt=new Set;this.disabledNodes.forEach(Nn=>{vt.add(Nn);const qn=this.driver.query(Nn,".ng-animate-queued",!0);for(let ar=0;ar<qn.length;ar++)vt.add(qn[ar])});const jt=this.bodyNode,Tn=Array.from(this.statesByElement.keys()),En=ZE(Tn,this.collectedEnterElements),vn=new Map;let tn=0;En.forEach((Nn,qn)=>{const ar=Ph+tn++;vn.set(qn,ar),Nn.forEach(li=>pl(li,ar))});const Rn=[],br=new Set,Nr=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const qn=this.collectedLeaveElements[Nn],ar=qn[Uc];ar&&ar.setForRemoval&&(Rn.push(qn),br.add(qn),ar.hasAnimation?this.driver.query(qn,".ng-star-inserted",!0).forEach(li=>br.add(li)):Nr.add(qn))}const Tr=new Map,Zn=ZE(Tn,Array.from(br));Zn.forEach((Nn,qn)=>{const ar=Au+tn++;Tr.set(qn,ar),Nn.forEach(li=>pl(li,ar))}),u.push(()=>{En.forEach((Nn,qn)=>{const ar=vn.get(qn);Nn.forEach(li=>Hf(li,ar))}),Zn.forEach((Nn,qn)=>{const ar=Tr.get(qn);Nn.forEach(li=>Hf(li,ar))}),Rn.forEach(Nn=>{this.processLeaveNode(Nn)})});const ai=[],gr=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(l).forEach(ar=>{const li=ar.player,Ys=ar.element;if(ai.push(li),this.collectedEnterElements.length){const Ps=Ys[Uc];if(Ps&&Ps.setForMove){if(Ps.previousTriggersValues&&Ps.previousTriggersValues.has(ar.triggerName)){const No=Ps.previousTriggersValues.get(ar.triggerName),Ea=this.statesByElement.get(ar.element);if(Ea&&Ea.has(ar.triggerName)){const Eg=Ea.get(ar.triggerName);Eg.value=No,Ea.set(ar.triggerName,Eg)}}return void li.destroy()}}const qa=!jt||!this.driver.containsElement(jt,Ys),Js=Tr.get(Ys),Ya=vn.get(Ys),Bi=this._buildInstruction(ar,_,Ya,Js,qa);if(Bi.errors&&Bi.errors.length)return void gr.push(Bi);if(qa)return li.onStart(()=>fl(Ys,Bi.fromStyles)),li.onDestroy(()=>hl(Ys,Bi.toStyles)),void I.push(li);if(ar.isFallbackTransition)return li.onStart(()=>fl(Ys,Bi.fromStyles)),li.onDestroy(()=>hl(Ys,Bi.toStyles)),void I.push(li);const Xl=[];Bi.timelines.forEach(Ps=>{Ps.stretchStartingKeyframe=!0,this.disabledNodes.has(Ps.element)||Xl.push(Ps)}),Bi.timelines=Xl,_.append(Ys,Bi.timelines),K.push({instruction:Bi,player:li,element:Ys}),Bi.queriedElements.forEach(Ps=>ya(ie,Ps,[]).push(li)),Bi.preStyleProps.forEach((Ps,No)=>{if(Ps.size){let Ea=me.get(No);Ea||me.set(No,Ea=new Set),Ps.forEach((Eg,zf)=>Ea.add(zf))}}),Bi.postStyleProps.forEach((Ps,No)=>{let Ea=Xe.get(No);Ea||Xe.set(No,Ea=new Set),Ps.forEach((Eg,zf)=>Ea.add(zf))})});if(gr.length){const Nn=[];gr.forEach(qn=>{Nn.push(function Hm(p,u){return new i.wOt(3505,!1)}())}),ai.forEach(qn=>qn.destroy()),this.reportError(Nn)}const yi=new Map,Qi=new Map;K.forEach(Nn=>{const qn=Nn.element;_.has(qn)&&(Qi.set(qn,qn),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,yi))}),I.forEach(Nn=>{const qn=Nn.element;this._getPreviousPlayers(qn,!1,Nn.namespaceId,Nn.triggerName,null).forEach(li=>{ya(yi,qn,[]).push(li),li.destroy()})});const Ji=Rn.filter(Nn=>t_(Nn,me,Xe)),Zi=new Map;e_(Zi,this.driver,Nr,Xe,Hi.kp).forEach(Nn=>{t_(Nn,me,Xe)&&Ji.push(Nn)});const zo=new Map;En.forEach((Nn,qn)=>{e_(zo,this.driver,new Set(Nn),me,Hi.FX)}),Ji.forEach(Nn=>{const qn=Zi.get(Nn),ar=zo.get(Nn);Zi.set(Nn,new Map([...qn?.entries()??[],...ar?.entries()??[]]))});const Us=[],Bc=[],Mu={};K.forEach(Nn=>{const{element:qn,player:ar,instruction:li}=Nn;if(_.has(qn)){if(vt.has(qn))return ar.onDestroy(()=>hl(qn,li.toStyles)),ar.disabled=!0,ar.overrideTotalTime(li.totalTime),void I.push(ar);let Ys=Mu;if(Qi.size>1){let Js=qn;const Ya=[];for(;Js=Js.parentNode;){const Bi=Qi.get(Js);if(Bi){Ys=Bi;break}Ya.push(Js)}Ya.forEach(Bi=>Qi.set(Bi,Ys))}const qa=this._buildAnimation(ar.namespaceId,li,yi,L,zo,Zi);if(ar.setRealPlayer(qa),Ys===Mu)Us.push(ar);else{const Js=this.playersByElement.get(Ys);Js&&Js.length&&(ar.parentPlayer=Td(Js)),I.push(ar)}}else fl(qn,li.fromStyles),ar.onDestroy(()=>hl(qn,li.toStyles)),Bc.push(ar),vt.has(qn)&&I.push(ar)}),Bc.forEach(Nn=>{const qn=L.get(Nn.element);if(qn&&qn.length){const ar=Td(qn);Nn.setRealPlayer(ar)}}),I.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Rn.length;Nn++){const qn=Rn[Nn],ar=qn[Uc];if(Hf(qn,Au),ar&&ar.hasAnimation)continue;let li=[];if(ie.size){let qa=ie.get(qn);qa&&qa.length&&li.push(...qa);let Js=this.driver.query(qn,dl,!0);for(let Ya=0;Ya<Js.length;Ya++){let Bi=ie.get(Js[Ya]);Bi&&Bi.length&&li.push(...Bi)}}const Ys=li.filter(qa=>!qa.destroyed);Ys.length?e0(this,qn,Ys):this.processLeaveNode(qn)}return Rn.length=0,Us.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const qn=this.players.indexOf(Nn);this.players.splice(qn,1)}),Nn.play()}),Us}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,l,_,I,L){let K=[];if(l){const ie=this.playersByQueriedElement.get(u);ie&&(K=ie)}else{const ie=this.playersByElement.get(u);if(ie){const me=!L||L==Jm;ie.forEach(Xe=>{Xe.queued||!me&&Xe.triggerName!=I||K.push(Xe)})}}return(_||I)&&(K=K.filter(ie=>!(_&&_!=ie.namespaceId||I&&I!=ie.triggerName))),K}_beforeAnimationBuild(u,l,_){const L=l.element,K=l.isRemovalTransition?void 0:u,ie=l.isRemovalTransition?void 0:l.triggerName;for(const me of l.timelines){const Xe=me.element,vt=Xe!==L,jt=ya(_,Xe,[]);this._getPreviousPlayers(Xe,vt,K,ie,l.toState).forEach(En=>{const vn=En.getRealPlayer();vn.beforeDestroy&&vn.beforeDestroy(),En.destroy(),jt.push(En)})}fl(L,l.fromStyles)}_buildAnimation(u,l,_,I,L,K){const ie=l.triggerName,me=l.element,Xe=[],vt=new Set,jt=new Set,Tn=l.timelines.map(vn=>{const tn=vn.element;vt.add(tn);const Rn=tn[Uc];if(Rn&&Rn.removedBeforeQueried)return new Hi.sf(vn.duration,vn.delay);const br=tn!==me,Nr=function q0(p){const u=[];return t0(p,u),u}((_.get(tn)||Vc).map(yi=>yi.getRealPlayer())).filter(yi=>!!yi.element&&yi.element===tn),Tr=L.get(tn),Zn=K.get(tn),ai=Lf(this._normalizer,vn.keyframes,Tr,Zn),gr=this._buildPlayer(vn,ai,Nr);if(vn.subTimeline&&I&&jt.add(tn),br){const yi=new Wv(u,ie,tn);yi.setRealPlayer(gr),Xe.push(yi)}return gr});Xe.forEach(vn=>{ya(this.playersByQueriedElement,vn.element,[]).push(vn),vn.onDone(()=>function QE(p,u,l){let _=p.get(u);if(_){if(_.length){const I=_.indexOf(l);_.splice(I,1)}0==_.length&&p.delete(u)}return _}(this.playersByQueriedElement,vn.element,vn))}),vt.forEach(vn=>pl(vn,Km));const En=Td(Tn);return En.onDestroy(()=>{vt.forEach(vn=>Hf(vn,Km)),hl(me,l.toStyles)}),jt.forEach(vn=>{ya(I,vn,[]).push(En)}),En}_buildPlayer(u,l,_){return l.length>0?this.driver.animate(u.element,l,u.duration,u.delay,u.easing,_):new Hi.sf(u.duration,u.delay)}}class Wv{constructor(u,l,_){this.namespaceId=u,this.triggerName=l,this.element=_,this._player=new Hi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((l,_)=>{l.forEach(I=>ql(u,_,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const l=this._player;l.triggerCallback&&u.onStart(()=>l.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,l){ya(this._queuedCallbacks,u,[]).push(l)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const l=this._player;l.triggerCallback&&l.triggerCallback(u)}}function Iy(p){return p&&1===p.nodeType}function Kv(p,u){const l=p.style.display;return p.style.display=u??"none",l}function e_(p,u,l,_,I){const L=[];l.forEach(me=>L.push(Kv(me)));const K=[];_.forEach((me,Xe)=>{const vt=new Map;me.forEach(jt=>{const Tn=u.computeStyle(Xe,jt,I);vt.set(jt,Tn),(!Tn||0==Tn.length)&&(Xe[Uc]=XE,K.push(Xe))}),p.set(Xe,vt)});let ie=0;return l.forEach(me=>Kv(me,L[ie++])),K}function ZE(p,u){const l=new Map;if(p.forEach(ie=>l.set(ie,[])),0==u.length)return l;const I=new Set(u),L=new Map;function K(ie){if(!ie)return 1;let me=L.get(ie);if(me)return me;const Xe=ie.parentNode;return me=l.has(Xe)?Xe:I.has(Xe)?1:K(Xe),L.set(ie,me),me}return u.forEach(ie=>{const me=K(ie);1!==me&&l.get(me).push(ie)}),l}function pl(p,u){p.classList?.add(u)}function Hf(p,u){p.classList?.remove(u)}function e0(p,u,l){Td(l).onDone(()=>p.processLeaveNode(u))}function t0(p,u){for(let l=0;l<p.length;l++){const _=p[l];_ instanceof Hi.ui?t0(_.players,u):u.push(_)}}function t_(p,u,l){const _=l.get(p);if(!_)return!1;let I=u.get(p);return I?_.forEach(L=>I.add(L)):u.set(p,_),l.delete(p),!0}class vg{constructor(u,l,_){this.bodyNode=u,this._driver=l,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(I,L)=>{},this._transitionEngine=new Zm(u,l,_),this._timelineEngine=new Bv(u,l,_),this._transitionEngine.onRemovalComplete=(I,L)=>this.onRemovalComplete(I,L)}registerTrigger(u,l,_,I,L){const K=u+"-"+I;let ie=this._triggerCache[K];if(!ie){const me=[],vt=po(this._driver,L,me,[]);if(me.length)throw function Wa(p,u){return new i.wOt(3404,!1)}();ie=function z0(p,u,l){return new qE(p,u,l)}(I,vt,this._normalizer),this._triggerCache[K]=ie}this._transitionEngine.registerTrigger(l,I,ie)}register(u,l){this._transitionEngine.register(u,l)}destroy(u,l){this._transitionEngine.destroy(u,l)}onInsert(u,l,_,I){this._transitionEngine.insertNode(u,l,_,I)}onRemove(u,l,_){this._transitionEngine.removeNode(u,l,_)}disableAnimations(u,l){this._transitionEngine.markElementAsDisabled(u,l)}process(u,l,_,I){if("@"==_.charAt(0)){const[L,K]=Sh(_);this._timelineEngine.command(L,l,K,I)}else this._transitionEngine.trigger(u,l,_,I)}listen(u,l,_,I,L){if("@"==_.charAt(0)){const[K,ie]=Sh(_);return this._timelineEngine.listen(K,l,ie,L)}return this._transitionEngine.listen(u,l,_,I,L)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let r0=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(l,_,I){this._element=l,this._startStyles=_,this._endStyles=I,this._state=0;let L=p.initialStylesByElement.get(l);L||p.initialStylesByElement.set(l,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hl(this._element,this._initialStyles),this._endStyles&&(hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fl(this._element,this._endStyles),this._endStyles=null),hl(this._element,this._initialStyles),this._state=3)}}return p})();function Cy(p){let u=null;return p.forEach((l,_)=>{(function s0(p){return"display"===p||"position"===p})(_)&&(u=u||new Map,u.set(_,l))}),u}class Yv{constructor(u,l,_,I){this.element=u,this.keyframes=l,this.options=_,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const l=[];return u.forEach(_=>{l.push(Object.fromEntries(_))}),l}_triggerWebAnimation(u,l,_){return u.animate(this._convertKeyframesToObject(l),_)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,I)=>{"offset"!==I&&u.set(I,this._finished?_:kh(this.element,I))}),this.currentSnapshot=u}triggerCallback(u){const l="start"===u?this._onStartFns:this._onDoneFns;l.forEach(_=>_()),l.length=0}}class o0{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,l){return!1}containsElement(u,l){return Cd(u,l)}getParentElement(u){return zm(u)}query(u,l,_){return wd(u,l,_)}computeStyle(u,l,_){return window.getComputedStyle(u)[l]}animate(u,l,_,I,L,K=[]){const me={duration:_,delay:I,fill:0==I?"both":"forwards"};L&&(me.easing=L);const Xe=new Map,vt=K.filter(En=>En instanceof Yv);(function gy(p,u){return 0===p||0===u})(_,I)&&vt.forEach(En=>{En.currentSnapshot.forEach((vn,tn)=>Xe.set(tn,vn))});let jt=function Ym(p){return p.length?p[0]instanceof Map?p:p.map(u=>Mh(u)):[]}(l).map(En=>Su(En));jt=function my(p,u,l){if(l.size&&u.length){let _=u[0],I=[];if(l.forEach((L,K)=>{_.has(K)||I.push(K),_.set(K,L)}),I.length)for(let L=1;L<u.length;L++){let K=u[L];I.forEach(ie=>K.set(ie,kh(p,ie)))}}return u}(u,jt,Xe);const Tn=function n0(p,u){let l=null,_=null;return Array.isArray(u)&&u.length?(l=Cy(u[0]),u.length>1&&(_=Cy(u[u.length-1]))):u instanceof Map&&(l=Cy(u)),l||_?new r0(p,l,_):null}(u,jt);return new Yv(u,jt,me,Tn)}}let a0=(()=>{class p extends Hi.S6{constructor(l,_){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(_.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(l){const _=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(l)?(0,Hi.K2)(l):l;return l0(this._renderer,null,_,"register",[I]),new Y0(_,this._renderer)}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(i._9s),i.KVO(he.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class Y0 extends Hi.Ro{constructor(u,l){super(),this._id=u,this._renderer=l}create(u,l){return new X0(this._id,u,l||{},this._renderer)}}class X0{constructor(u,l,_,I){this.id=u,this.element=l,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",_)}_listen(u,l){return this._renderer.listen(this.element,`@@${this.id}:${u}`,l)}_command(u,...l){return l0(this._renderer,this.element,this.id,u,l)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function l0(p,u,l,_,I){return p.setProperty(u,`@@${l}:${_}`,I)}const c0="@.disabled";let Q0=(()=>{class p{constructor(l,_,I){this.delegate=l,this.engine=_,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,_.onRemovalComplete=(L,K)=>{const ie=K?.parentNode(L);ie&&K.removeChild(ie,L)}}createRenderer(l,_){const L=this.delegate.createRenderer(l,_);if(!(l&&_&&_.data&&_.data.animation)){let vt=this._rendererCache.get(L);return vt||(vt=new u0("",L,this.engine,()=>this._rendererCache.delete(L)),this._rendererCache.set(L,vt)),vt}const K=_.id,ie=_.id+"-"+this._currentId;this._currentId++,this.engine.register(ie,l);const me=vt=>{Array.isArray(vt)?vt.forEach(me):this.engine.registerTrigger(K,ie,l,vt.name,vt)};return _.data.animation.forEach(me),new J0(this,ie,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,_,I){l>=0&&l<this._microtaskId?this._zone.run(()=>_(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[K,ie]=L;K(ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([_,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(i._9s),i.KVO(vg),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class u0{constructor(u,l,_,I){this.namespaceId=u,this.delegate=l,this.engine=_,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,l){return this.delegate.createElement(u,l)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,l){this.delegate.appendChild(u,l),this.engine.onInsert(this.namespaceId,l,u,!1)}insertBefore(u,l,_,I=!0){this.delegate.insertBefore(u,l,_),this.engine.onInsert(this.namespaceId,l,u,I)}removeChild(u,l,_){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(u,l){return this.delegate.selectRootElement(u,l)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,l,_,I){this.delegate.setAttribute(u,l,_,I)}removeAttribute(u,l,_){this.delegate.removeAttribute(u,l,_)}addClass(u,l){this.delegate.addClass(u,l)}removeClass(u,l){this.delegate.removeClass(u,l)}setStyle(u,l,_,I){this.delegate.setStyle(u,l,_,I)}removeStyle(u,l,_){this.delegate.removeStyle(u,l,_)}setProperty(u,l,_){"@"==l.charAt(0)&&l==c0?this.disableAnimations(u,!!_):this.delegate.setProperty(u,l,_)}setValue(u,l){this.delegate.setValue(u,l)}listen(u,l,_){return this.delegate.listen(u,l,_)}disableAnimations(u,l){this.engine.disableAnimations(u,l)}}class J0 extends u0{constructor(u,l,_,I,L){super(l,_,I,L),this.factory=u,this.namespaceId=l}setProperty(u,l,_){"@"==l.charAt(0)?"."==l.charAt(1)&&l==c0?this.disableAnimations(u,_=void 0===_||!!_):this.engine.process(this.namespaceId,u,l.slice(1),_):this.delegate.setProperty(u,l,_)}listen(u,l,_){if("@"==l.charAt(0)){const I=function Z0(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(u);let L=l.slice(1),K="";return"@"!=L.charAt(0)&&([L,K]=function eb(p){const u=p.indexOf(".");return[p.substring(0,u),p.slice(u+1)]}(L)),this.engine.listen(this.namespaceId,I,L,K,ie=>{this.factory.scheduleListenerCallback(ie._data||-1,_,ie)})}return this.delegate.listen(u,l,_)}}const d0=[{provide:Hi.S6,useClass:a0},{provide:Vv,useFactory:function nb(){return new $0}},{provide:vg,useClass:(()=>{class p extends vg{constructor(l,_,I,L){super(l.body,_,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(_){return new(_||p)(i.KVO(he.qQ),i.KVO(Uf),i.KVO(Vv),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function rb(p,u,l){return new Q0(p,u,l)},deps:[ue.B7,vg,i.SKi]}],Xv=[{provide:Uf,useFactory:()=>new o0},{provide:i.bc$,useValue:"BrowserAnimations"},...d0],h0=[{provide:Uf,useClass:Ad},{provide:i.bc$,useValue:"NoopAnimations"},...d0];let ib=(()=>{class p{static withConfig(l){return{ngModule:p,providers:l.disableAnimations?h0:Xv}}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:Xv,imports:[ue.Bb]})}}return p})();const Ay={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function f0(p,u,l){return()=>{const _=window.location.hostname,I=new URL(window.location.href);let L=Ay[_]||I.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("themeInitializerFactory app.module businessId: "+L+" - hostname: "+_),p.loadTheme(L)}}function p0(p,u,l){const _=window.location.hostname,I=new URL(window.location.href);let L=Ay[_]||I.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("initializeBusinessData app.module businessId:: "+L+" - hostname: "+_),()=>{p.loadBusinessData(L).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(K=>{console.error("Error loading business data:",K)})}}let g0=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[fh]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:f0,deps:[uy,he.aZ,dr.Ix],multi:!0},{provide:i.hnV,useFactory:p0,deps:[bt.A,he.aZ,dr.Ix],multi:!0}],imports:[ue.Bb,dr.iI,gu,Vp.cM,Rf.y5,Sm.X8,UE.bf.initializeApp(yu_firebase),fm(()=>gh(yu_firebase)),Y_(()=>yh()),bh(()=>ay()),mi.X1,mi.YN,fe,ib]})}}return p})();ue.sG().bootstrapModule(g0).catch(p=>console.error(p))},4412:(on,tt,V)=>{V.d(tt,{t:()=>ue});var o=V(1413);class ue extends o.B{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const ge=super._subscribe(ve);return!ge.closed&&ve.next(this._value),ge}getValue(){const{hasError:ve,thrownError:ge,_value:De}=this;if(ve)throw ge;return this._throwIfClosed(),De}next(ve){super.next(this._value=ve)}}},1985:(on,tt,V)=>{V.d(tt,{c:()=>Be});var o=V(7707),ue=V(8359),i=V(3494),ve=V(1203),ge=V(1026),De=V(8071),be=V(9786);let Be=(()=>{class he{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const pt=new he;return pt.source=this,pt.operator=Ge,pt}subscribe(Ge,pt,Tt){const Mt=function te(he){return he&&he instanceof o.vU||function J(he){return he&&(0,De.T)(he.next)&&(0,De.T)(he.error)&&(0,De.T)(he.complete)}(he)&&(0,ue.Uv)(he)}(Ge)?Ge:new o.Ms(Ge,pt,Tt);return(0,be.Y)(()=>{const{operator:Nt,source:Qt}=this;Mt.add(Nt?Nt.call(Mt,Qt):Qt?this._subscribe(Mt):this._trySubscribe(Mt))}),Mt}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(pt){Ge.error(pt)}}forEach(Ge,pt){return new(pt=ke(pt))((Tt,Mt)=>{const Nt=new o.Ms({next:Qt=>{try{Ge(Qt)}catch(ze){Mt(ze),Nt.unsubscribe()}},error:Mt,complete:Tt});this.subscribe(Nt)})}_subscribe(Ge){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(Ge)}[i.s](){return this}pipe(...Ge){return(0,ve.m)(Ge)(this)}toPromise(Ge){return new(Ge=ke(Ge))((pt,Tt)=>{let Mt;this.subscribe(Nt=>Mt=Nt,Nt=>Tt(Nt),()=>pt(Mt))})}}return he.create=Fe=>new he(Fe),he})();function ke(he){var Fe;return null!==(Fe=he??ge.$.Promise)&&void 0!==Fe?Fe:Promise}},1413:(on,tt,V)=>{V.d(tt,{B:()=>be});var o=V(1985),ue=V(8359);const ve=(0,V(1853).L)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=V(7908),De=V(9786);let be=(()=>{class ke extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const he=new Be(this,this);return he.operator=te,he}_throwIfClosed(){if(this.closed)throw new ve}next(te){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(te)}})}error(te){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:he}=this;for(;he.length;)he.shift().error(te)}})}complete(){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:he,isStopped:Fe,observers:Ge}=this;return he||Fe?ue.Kn:(this.currentObservers=null,Ge.push(te),new ue.yU(()=>{this.currentObservers=null,(0,ge.o)(Ge,te)}))}_checkFinalizedStatuses(te){const{hasError:he,thrownError:Fe,isStopped:Ge}=this;he?te.error(Fe):Ge&&te.complete()}asObservable(){const te=new o.c;return te.source=this,te}}return ke.create=(J,te)=>new Be(J,te),ke})();class Be extends be{constructor(J,te){super(),this.destination=J,this.source=te}next(J){var te,he;null===(he=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===he||he.call(te,J)}error(J){var te,he;null===(he=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===he||he.call(te,J)}complete(){var J,te;null===(te=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===te||te.call(J)}_subscribe(J){var te,he;return null!==(he=null===(te=this.source)||void 0===te?void 0:te.subscribe(J))&&void 0!==he?he:ue.Kn}}},7707:(on,tt,V)=>{V.d(tt,{Ms:()=>Tt,vU:()=>he});var o=V(8071),ue=V(8359),i=V(1026),ve=V(5334),ge=V(5343);const De=ke("C",void 0,void 0);function ke(Te,Ze,Oe){return{kind:Te,value:Ze,error:Oe}}var J=V(9270),te=V(9786);class he extends ue.yU{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,ue.Uv)(Ze)&&Ze.add(this)):this.destination=ze}static create(Ze,Oe,et){return new Tt(Ze,Oe,et)}next(Ze){this.isStopped?Qt(function Be(Te){return ke("N",Te,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?Qt(function be(Te){return ke("E",void 0,Te)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?Qt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Ge(Te,Ze){return Fe.call(Te,Ze)}class pt{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ze)}catch(et){Mt(et)}}error(Ze){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ze)}catch(et){Mt(et)}else Mt(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Oe){Mt(Oe)}}}class Tt extends he{constructor(Ze,Oe,et){let $e;if(super(),(0,o.T)(Ze)||!Ze)$e={next:Ze??void 0,error:Oe??void 0,complete:et??void 0};else{let Ot;this&&i.$.useDeprecatedNextContext?(Ot=Object.create(Ze),Ot.unsubscribe=()=>this.unsubscribe(),$e={next:Ze.next&&Ge(Ze.next,Ot),error:Ze.error&&Ge(Ze.error,Ot),complete:Ze.complete&&Ge(Ze.complete,Ot)}):$e=Ze}this.destination=new pt($e)}}function Mt(Te){i.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(Te):(0,ve.m)(Te)}function Qt(Te,Ze){const{onStoppedNotification:Oe}=i.$;Oe&&J.f.setTimeout(()=>Oe(Te,Ze))}const ze={closed:!0,next:ge.l,error:function Nt(Te){throw Te},complete:ge.l}},8359:(on,tt,V)=>{V.d(tt,{Kn:()=>De,yU:()=>ge,Uv:()=>be});var o=V(8071);const i=(0,V(1853).L)(ke=>function(te){ke(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((he,Fe)=>`${Fe+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var ve=V(7908);class ge{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Ge of te)Ge.remove(this);else te.remove(this);const{initialTeardown:he}=this;if((0,o.T)(he))try{he()}catch(Ge){J=Ge instanceof i?Ge.errors:[Ge]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Ge of Fe)try{Be(Ge)}catch(pt){J=J??[],pt instanceof i?J=[...J,...pt.errors]:J.push(pt)}}if(J)throw new i(J)}}add(J){var te;if(J&&J!==this)if(this.closed)Be(J);else{if(J instanceof ge){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(J)}}_hasParent(J){const{_parentage:te}=this;return te===J||Array.isArray(te)&&te.includes(J)}_addParent(J){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(J),te):te?[te,J]:J}_removeParent(J){const{_parentage:te}=this;te===J?this._parentage=null:Array.isArray(te)&&(0,ve.o)(te,J)}remove(J){const{_finalizers:te}=this;te&&(0,ve.o)(te,J),J instanceof ge&&J._removeParent(this)}}ge.EMPTY=(()=>{const ke=new ge;return ke.closed=!0,ke})();const De=ge.EMPTY;function be(ke){return ke instanceof ge||ke&&"closed"in ke&&(0,o.T)(ke.remove)&&(0,o.T)(ke.add)&&(0,o.T)(ke.unsubscribe)}function Be(ke){(0,o.T)(ke)?ke():ke.unsubscribe()}},1026:(on,tt,V)=>{V.d(tt,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(on,tt,V)=>{V.d(tt,{x:()=>ge});var o=V(6365),i=V(3794),ve=V(8455);function ge(...De){return function ue(){return(0,o.U)(1)}()((0,ve.H)(De,(0,i.lI)(De)))}},983:(on,tt,V)=>{V.d(tt,{w:()=>ue});const ue=new(V(1985).c)(ge=>ge.complete())},8455:(on,tt,V)=>{V.d(tt,{H:()=>Ze});var o=V(8750),ue=V(941),i=V(6745),De=V(1985),Be=V(4761),ke=V(8071),J=V(5225);function he(Oe,et){if(!Oe)throw new Error("Iterable cannot be null");return new De.c($e=>{(0,J.N)($e,et,()=>{const Ot=Oe[Symbol.asyncIterator]();(0,J.N)($e,et,()=>{Ot.next().then(Ie=>{Ie.done?$e.complete():$e.next(Ie.value)})},0,!0)})})}var Fe=V(5055),Ge=V(9858),pt=V(7441),Tt=V(5397),Mt=V(7953),Nt=V(591),Qt=V(5196);function Ze(Oe,et){return et?function Te(Oe,et){if(null!=Oe){if((0,Fe.l)(Oe))return function ve(Oe,et){return(0,o.Tg)(Oe).pipe((0,i._)(et),(0,ue.Q)(et))}(Oe,et);if((0,pt.X)(Oe))return function be(Oe,et){return new De.c($e=>{let Ot=0;return et.schedule(function(){Ot===Oe.length?$e.complete():($e.next(Oe[Ot++]),$e.closed||this.schedule())})})}(Oe,et);if((0,Ge.y)(Oe))return function ge(Oe,et){return(0,o.Tg)(Oe).pipe((0,i._)(et),(0,ue.Q)(et))}(Oe,et);if((0,Mt.T)(Oe))return he(Oe,et);if((0,Tt.x)(Oe))return function te(Oe,et){return new De.c($e=>{let Ot;return(0,J.N)($e,et,()=>{Ot=Oe[Be.l](),(0,J.N)($e,et,()=>{let Ie,Yt;try{({value:Ie,done:Yt}=Ot.next())}catch(gn){return void $e.error(gn)}Yt?$e.complete():$e.next(Ie)},0,!0)}),()=>(0,ke.T)(Ot?.return)&&Ot.return()})}(Oe,et);if((0,Qt.U)(Oe))return function ze(Oe,et){return he((0,Qt.C)(Oe),et)}(Oe,et)}throw(0,Nt.L)(Oe)}(Oe,et):(0,o.Tg)(Oe)}},8750:(on,tt,V)=>{V.d(tt,{Tg:()=>Fe});var o=V(1635),ue=V(7441),i=V(9858),ve=V(1985),ge=V(5055),De=V(7953),be=V(591),Be=V(5397),ke=V(5196),J=V(8071),te=V(5334),he=V(3494);function Fe(Te){if(Te instanceof ve.c)return Te;if(null!=Te){if((0,ge.l)(Te))return function Ge(Te){return new ve.c(Ze=>{const Oe=Te[he.s]();if((0,J.T)(Oe.subscribe))return Oe.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,ue.X)(Te))return function pt(Te){return new ve.c(Ze=>{for(let Oe=0;Oe<Te.length&&!Ze.closed;Oe++)Ze.next(Te[Oe]);Ze.complete()})}(Te);if((0,i.y)(Te))return function Tt(Te){return new ve.c(Ze=>{Te.then(Oe=>{Ze.closed||(Ze.next(Oe),Ze.complete())},Oe=>Ze.error(Oe)).then(null,te.m)})}(Te);if((0,De.T)(Te))return Nt(Te);if((0,Be.x)(Te))return function Mt(Te){return new ve.c(Ze=>{for(const Oe of Te)if(Ze.next(Oe),Ze.closed)return;Ze.complete()})}(Te);if((0,ke.U)(Te))return function Qt(Te){return Nt((0,ke.C)(Te))}(Te)}throw(0,be.L)(Te)}function Nt(Te){return new ve.c(Ze=>{(function ze(Te,Ze){var Oe,et,$e,Ot;return(0,o.sH)(this,void 0,void 0,function*(){try{for(Oe=(0,o.xN)(Te);!(et=yield Oe.next()).done;)if(Ze.next(et.value),Ze.closed)return}catch(Ie){$e={error:Ie}}finally{try{et&&!et.done&&(Ot=Oe.return)&&(yield Ot.call(Oe))}finally{if($e)throw $e.error}}Ze.complete()})})(Te,Ze).catch(Oe=>Ze.error(Oe))})}},7786:(on,tt,V)=>{V.d(tt,{h:()=>De});var o=V(6365),ue=V(8750),i=V(983),ve=V(3794),ge=V(8455);function De(...be){const Be=(0,ve.lI)(be),ke=(0,ve.R0)(be,1/0),J=be;return J.length?1===J.length?(0,ue.Tg)(J[0]):(0,o.U)(ke)((0,ge.H)(J,Be)):i.w}},7673:(on,tt,V)=>{V.d(tt,{of:()=>i});var o=V(3794),ue=V(8455);function i(...ve){const ge=(0,o.lI)(ve);return(0,ue.H)(ve,ge)}},8810:(on,tt,V)=>{V.d(tt,{$:()=>i});var o=V(1985),ue=V(8071);function i(ve,ge){const De=(0,ue.T)(ve)?ve:()=>ve,be=Be=>Be.error(De());return new o.c(ge?Be=>ge.schedule(be,0,Be):be)}},4360:(on,tt,V)=>{V.d(tt,{_:()=>ue});var o=V(7707);function ue(ve,ge,De,be,Be){return new i(ve,ge,De,be,Be)}class i extends o.vU{constructor(ge,De,be,Be,ke,J){super(ge),this.onFinalize=ke,this.shouldUnsubscribe=J,this._next=De?function(te){try{De(te)}catch(he){ge.error(he)}}:super._next,this._error=Be?function(te){try{Be(te)}catch(he){ge.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(te){ge.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},9437:(on,tt,V)=>{V.d(tt,{W:()=>ve});var o=V(8750),ue=V(4360),i=V(9974);function ve(ge){return(0,i.N)((De,be)=>{let J,Be=null,ke=!1;Be=De.subscribe((0,ue._)(be,void 0,void 0,te=>{J=(0,o.Tg)(ge(te,ve(ge)(De))),Be?(Be.unsubscribe(),Be=null,J.subscribe(be)):ke=!0})),ke&&(Be.unsubscribe(),Be=null,J.subscribe(be))})}},274:(on,tt,V)=>{V.d(tt,{H:()=>i});var o=V(1397),ue=V(8071);function i(ve,ge){return(0,ue.T)(ge)?(0,o.Z)(ve,ge,1):(0,o.Z)(ve,1)}},9901:(on,tt,V)=>{V.d(tt,{U:()=>i});var o=V(9974),ue=V(4360);function i(ve){return(0,o.N)((ge,De)=>{let be=!1;ge.subscribe((0,ue._)(De,Be=>{be=!0,De.next(Be)},()=>{be||De.next(ve),De.complete()}))})}},3294:(on,tt,V)=>{V.d(tt,{F:()=>ve});var o=V(3669),ue=V(9974),i=V(4360);function ve(De,be=o.D){return De=De??ge,(0,ue.N)((Be,ke)=>{let J,te=!0;Be.subscribe((0,i._)(ke,he=>{const Fe=be(he);(te||!De(J,Fe))&&(te=!1,J=Fe,ke.next(he))}))})}function ge(De,be){return De===be}},5964:(on,tt,V)=>{V.d(tt,{p:()=>i});var o=V(9974),ue=V(4360);function i(ve,ge){return(0,o.N)((De,be)=>{let Be=0;De.subscribe((0,ue._)(be,ke=>ve.call(ge,ke,Be++)&&be.next(ke)))})}},980:(on,tt,V)=>{V.d(tt,{j:()=>ue});var o=V(9974);function ue(i){return(0,o.N)((ve,ge)=>{try{ve.subscribe(ge)}finally{ge.add(i)}})}},1594:(on,tt,V)=>{V.d(tt,{$:()=>be});var o=V(9350),ue=V(5964),i=V(6697),ve=V(9901),ge=V(3774),De=V(3669);function be(Be,ke){const J=arguments.length>=2;return te=>te.pipe(Be?(0,ue.p)((he,Fe)=>Be(he,Fe,te)):De.D,(0,i.s)(1),J?(0,ve.U)(ke):(0,ge.v)(()=>new o.G))}},6354:(on,tt,V)=>{V.d(tt,{T:()=>i});var o=V(9974),ue=V(4360);function i(ve,ge){return(0,o.N)((De,be)=>{let Be=0;De.subscribe((0,ue._)(be,ke=>{be.next(ve.call(ge,ke,Be++))}))})}},6365:(on,tt,V)=>{V.d(tt,{U:()=>i});var o=V(1397),ue=V(3669);function i(ve=1/0){return(0,o.Z)(ue.D,ve)}},1397:(on,tt,V)=>{V.d(tt,{Z:()=>Be});var o=V(6354),ue=V(8750),i=V(9974),ve=V(5225),ge=V(4360),be=V(8071);function Be(ke,J,te=1/0){return(0,be.T)(J)?Be((he,Fe)=>(0,o.T)((Ge,pt)=>J(he,Ge,Fe,pt))((0,ue.Tg)(ke(he,Fe))),te):("number"==typeof J&&(te=J),(0,i.N)((he,Fe)=>function De(ke,J,te,he,Fe,Ge,pt,Tt){const Mt=[];let Nt=0,Qt=0,ze=!1;const Te=()=>{ze&&!Mt.length&&!Nt&&J.complete()},Ze=et=>Nt<he?Oe(et):Mt.push(et),Oe=et=>{Ge&&J.next(et),Nt++;let $e=!1;(0,ue.Tg)(te(et,Qt++)).subscribe((0,ge._)(J,Ot=>{Fe?.(Ot),Ge?Ze(Ot):J.next(Ot)},()=>{$e=!0},void 0,()=>{if($e)try{for(Nt--;Mt.length&&Nt<he;){const Ot=Mt.shift();pt?(0,ve.N)(J,pt,()=>Oe(Ot)):Oe(Ot)}Te()}catch(Ot){J.error(Ot)}}))};return ke.subscribe((0,ge._)(J,Ze,()=>{ze=!0,Te()})),()=>{Tt?.()}}(he,Fe,ke,te)))}},941:(on,tt,V)=>{V.d(tt,{Q:()=>ve});var o=V(5225),ue=V(9974),i=V(4360);function ve(ge,De=0){return(0,ue.N)((be,Be)=>{be.subscribe((0,i._)(Be,ke=>(0,o.N)(Be,ge,()=>Be.next(ke),De),()=>(0,o.N)(Be,ge,()=>Be.complete(),De),ke=>(0,o.N)(Be,ge,()=>Be.error(ke),De)))})}},2816:(on,tt,V)=>{V.d(tt,{S:()=>ve});var o=V(9974),ue=V(4360);function ve(ge,De){return(0,o.N)(function i(ge,De,be,Be,ke){return(J,te)=>{let he=be,Fe=De,Ge=0;J.subscribe((0,ue._)(te,pt=>{const Tt=Ge++;Fe=he?ge(Fe,pt,Tt):(he=!0,pt),Be&&te.next(Fe)},ke&&(()=>{he&&te.next(Fe),te.complete()})))}}(ge,De,arguments.length>=2,!0))}},7647:(on,tt,V)=>{V.d(tt,{u:()=>ge});var o=V(8750),ue=V(1413),i=V(7707),ve=V(9974);function ge(be={}){const{connector:Be=(()=>new ue.B),resetOnError:ke=!0,resetOnComplete:J=!0,resetOnRefCountZero:te=!0}=be;return he=>{let Fe,Ge,pt,Tt=0,Mt=!1,Nt=!1;const Qt=()=>{Ge?.unsubscribe(),Ge=void 0},ze=()=>{Qt(),Fe=pt=void 0,Mt=Nt=!1},Te=()=>{const Ze=Fe;ze(),Ze?.unsubscribe()};return(0,ve.N)((Ze,Oe)=>{Tt++,!Nt&&!Mt&&Qt();const et=pt=pt??Be();Oe.add(()=>{Tt--,0===Tt&&!Nt&&!Mt&&(Ge=De(Te,te))}),et.subscribe(Oe),!Fe&&Tt>0&&(Fe=new i.Ms({next:$e=>et.next($e),error:$e=>{Nt=!0,Qt(),Ge=De(ze,ke,$e),et.error($e)},complete:()=>{Mt=!0,Qt(),Ge=De(ze,J),et.complete()}}),(0,o.Tg)(Ze).subscribe(Fe))})(he)}}function De(be,Be,...ke){if(!0===Be)return void be();if(!1===Be)return;const J=new i.Ms({next:()=>{J.unsubscribe(),be()}});return(0,o.Tg)(Be(...ke)).subscribe(J)}},9172:(on,tt,V)=>{V.d(tt,{Z:()=>ve});var o=V(8793),ue=V(3794),i=V(9974);function ve(...ge){const De=(0,ue.lI)(ge);return(0,i.N)((be,Be)=>{(De?(0,o.x)(ge,be,De):(0,o.x)(ge,be)).subscribe(Be)})}},6745:(on,tt,V)=>{V.d(tt,{_:()=>ue});var o=V(9974);function ue(i,ve=0){return(0,o.N)((ge,De)=>{De.add(i.schedule(()=>ge.subscribe(De),ve))})}},5558:(on,tt,V)=>{V.d(tt,{n:()=>ve});var o=V(8750),ue=V(9974),i=V(4360);function ve(ge,De){return(0,ue.N)((be,Be)=>{let ke=null,J=0,te=!1;const he=()=>te&&!ke&&Be.complete();be.subscribe((0,i._)(Be,Fe=>{ke?.unsubscribe();let Ge=0;const pt=J++;(0,o.Tg)(ge(Fe,pt)).subscribe(ke=(0,i._)(Be,Tt=>Be.next(De?De(Fe,Tt,pt,Ge++):Tt),()=>{ke=null,he()}))},()=>{te=!0,he()}))})}},6697:(on,tt,V)=>{V.d(tt,{s:()=>ve});var o=V(983),ue=V(9974),i=V(4360);function ve(ge){return ge<=0?()=>o.w:(0,ue.N)((De,be)=>{let Be=0;De.subscribe((0,i._)(be,ke=>{++Be<=ge&&(be.next(ke),ge<=Be&&be.complete())}))})}},8141:(on,tt,V)=>{V.d(tt,{M:()=>ge});var o=V(8071),ue=V(9974),i=V(4360),ve=V(3669);function ge(De,be,Be){const ke=(0,o.T)(De)||be||Be?{next:De,error:be,complete:Be}:De;return ke?(0,ue.N)((J,te)=>{var he;null===(he=ke.subscribe)||void 0===he||he.call(ke);let Fe=!0;J.subscribe((0,i._)(te,Ge=>{var pt;null===(pt=ke.next)||void 0===pt||pt.call(ke,Ge),te.next(Ge)},()=>{var Ge;Fe=!1,null===(Ge=ke.complete)||void 0===Ge||Ge.call(ke),te.complete()},Ge=>{var pt;Fe=!1,null===(pt=ke.error)||void 0===pt||pt.call(ke,Ge),te.error(Ge)},()=>{var Ge,pt;Fe&&(null===(Ge=ke.unsubscribe)||void 0===Ge||Ge.call(ke)),null===(pt=ke.finalize)||void 0===pt||pt.call(ke)}))}):ve.D}},3774:(on,tt,V)=>{V.d(tt,{v:()=>ve});var o=V(9350),ue=V(9974),i=V(4360);function ve(De=ge){return(0,ue.N)((be,Be)=>{let ke=!1;be.subscribe((0,i._)(Be,J=>{ke=!0,Be.next(J)},()=>ke?Be.complete():Be.error(De())))})}function ge(){return new o.G}},6780:(on,tt,V)=>{V.d(tt,{R:()=>ge});var o=V(8359);class ue extends o.yU{constructor(be,Be){super()}schedule(be,Be=0){return this}}const i={setInterval(De,be,...Be){const{delegate:ke}=i;return ke?.setInterval?ke.setInterval(De,be,...Be):setInterval(De,be,...Be)},clearInterval(De){const{delegate:be}=i;return(be?.clearInterval||clearInterval)(De)},delegate:void 0};var ve=V(7908);class ge extends ue{constructor(be,Be){super(be,Be),this.scheduler=be,this.work=Be,this.pending=!1}schedule(be,Be=0){var ke;if(this.closed)return this;this.state=be;const J=this.id,te=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(te,J,Be)),this.pending=!0,this.delay=Be,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(te,this.id,Be),this}requestAsyncId(be,Be,ke=0){return i.setInterval(be.flush.bind(be,this),ke)}recycleAsyncId(be,Be,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return Be;null!=Be&&i.clearInterval(Be)}execute(be,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(be,Be);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Be){let J,ke=!1;try{this.work(be)}catch(te){ke=!0,J=te||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:be,scheduler:Be}=this,{actions:ke}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.o)(ke,this),null!=be&&(this.id=this.recycleAsyncId(Be,be,null)),this.delay=null,super.unsubscribe()}}}},9687:(on,tt,V)=>{V.d(tt,{q:()=>i});var o=V(6129);class ue{constructor(ge,De=ue.now){this.schedulerActionCtor=ge,this.now=De}schedule(ge,De=0,be){return new this.schedulerActionCtor(this,ge).schedule(be,De)}}ue.now=o.U.now;class i extends ue{constructor(ge,De=ue.now){super(ge,De),this.actions=[],this._active=!1}flush(ge){const{actions:De}=this;if(this._active)return void De.push(ge);let be;this._active=!0;do{if(be=ge.execute(ge.state,ge.delay))break}while(ge=De.shift());if(this._active=!1,be){for(;ge=De.shift();)ge.unsubscribe();throw be}}}},3236:(on,tt,V)=>{V.d(tt,{E:()=>i});var o=V(6780);const i=new(V(9687).q)(o.R)},6129:(on,tt,V)=>{V.d(tt,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(on,tt,V)=>{V.d(tt,{f:()=>o});const o={setTimeout(ue,i,...ve){const{delegate:ge}=o;return ge?.setTimeout?ge.setTimeout(ue,i,...ve):setTimeout(ue,i,...ve)},clearTimeout(ue){const{delegate:i}=o;return(i?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(on,tt,V)=>{V.d(tt,{l:()=>ue});const ue=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,tt,V)=>{V.d(tt,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(on,tt,V)=>{V.d(tt,{G:()=>ue});const ue=(0,V(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(on,tt,V)=>{V.d(tt,{R0:()=>De,ms:()=>ve,lI:()=>ge});var o=V(8071);function i(be){return be[be.length-1]}function ve(be){return(0,o.T)(i(be))?be.pop():void 0}function ge(be){return function ue(be){return be&&(0,o.T)(be.schedule)}(i(be))?be.pop():void 0}function De(be,Be){return"number"==typeof i(be)?be.pop():Be}},3073:(on,tt,V)=>{V.d(tt,{D:()=>ge});const{isArray:o}=Array,{getPrototypeOf:ue,prototype:i,keys:ve}=Object;function ge(be){if(1===be.length){const Be=be[0];if(o(Be))return{args:Be,keys:null};if(function De(be){return be&&"object"==typeof be&&ue(be)===i}(Be)){const ke=ve(Be);return{args:ke.map(J=>Be[J]),keys:ke}}}return{args:be,keys:null}}},7908:(on,tt,V)=>{function o(ue,i){if(ue){const ve=ue.indexOf(i);0<=ve&&ue.splice(ve,1)}}V.d(tt,{o:()=>o})},1853:(on,tt,V)=>{function o(ue){const ve=ue(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}V.d(tt,{L:()=>o})},8496:(on,tt,V)=>{function o(ue,i){return ue.reduce((ve,ge,De)=>(ve[ge]=i[De],ve),{})}V.d(tt,{e:()=>o})},9786:(on,tt,V)=>{V.d(tt,{Y:()=>i,l:()=>ve});var o=V(1026);let ue=null;function i(ge){if(o.$.useDeprecatedSynchronousErrorHandling){const De=!ue;if(De&&(ue={errorThrown:!1,error:null}),ge(),De){const{errorThrown:be,error:Be}=ue;if(ue=null,be)throw Be}}else ge()}function ve(ge){o.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=ge)}},5225:(on,tt,V)=>{function o(ue,i,ve,ge=0,De=!1){const be=i.schedule(function(){ve(),De?ue.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(ue.add(be),!De)return be}V.d(tt,{N:()=>o})},3669:(on,tt,V)=>{function o(ue){return ue}V.d(tt,{D:()=>o})},7441:(on,tt,V)=>{V.d(tt,{X:()=>o});const o=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(on,tt,V)=>{V.d(tt,{T:()=>ue});var o=V(8071);function ue(i){return Symbol.asyncIterator&&(0,o.T)(i?.[Symbol.asyncIterator])}},8071:(on,tt,V)=>{function o(ue){return"function"==typeof ue}V.d(tt,{T:()=>o})},5055:(on,tt,V)=>{V.d(tt,{l:()=>i});var o=V(3494),ue=V(8071);function i(ve){return(0,ue.T)(ve[o.s])}},5397:(on,tt,V)=>{V.d(tt,{x:()=>i});var o=V(4761),ue=V(8071);function i(ve){return(0,ue.T)(ve?.[o.l])}},9858:(on,tt,V)=>{V.d(tt,{y:()=>ue});var o=V(8071);function ue(i){return(0,o.T)(i?.then)}},5196:(on,tt,V)=>{V.d(tt,{C:()=>i,U:()=>ve});var o=V(1635),ue=V(8071);function i(ge){return(0,o.AQ)(this,arguments,function*(){const be=ge.getReader();try{for(;;){const{value:Be,done:ke}=yield(0,o.N3)(be.read());if(ke)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Be)}}finally{be.releaseLock()}})}function ve(ge){return(0,ue.T)(ge?.getReader)}},9974:(on,tt,V)=>{V.d(tt,{N:()=>i,S:()=>ue});var o=V(8071);function ue(ve){return(0,o.T)(ve?.lift)}function i(ve){return ge=>{if(ue(ge))return ge.lift(function(De){try{return ve(De,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,tt,V)=>{V.d(tt,{I:()=>ve});var o=V(6354);const{isArray:ue}=Array;function ve(ge){return(0,o.T)(De=>function i(ge,De){return ue(De)?ge(...De):ge(De)}(ge,De))}},5343:(on,tt,V)=>{function o(){}V.d(tt,{l:()=>o})},1203:(on,tt,V)=>{V.d(tt,{F:()=>ue,m:()=>i});var o=V(3669);function ue(...ve){return i(ve)}function i(ve){return 0===ve.length?o.D:1===ve.length?ve[0]:function(De){return ve.reduce((be,Be)=>Be(be),De)}}},5334:(on,tt,V)=>{V.d(tt,{m:()=>i});var o=V(1026),ue=V(9270);function i(ve){ue.f.setTimeout(()=>{const{onUnhandledError:ge}=o.$;if(!ge)throw ve;ge(ve)})}},591:(on,tt,V)=>{function o(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(tt,{L:()=>o})},9969:(on,tt,V)=>{V.d(tt,{FX:()=>Qt,K2:()=>be,Ro:()=>ue,S6:()=>o,hZ:()=>ve,i0:()=>ge,iF:()=>Be,kY:()=>te,kp:()=>i,sf:()=>Mt,ui:()=>Nt});class o{}class ue{}const i="*";function ve(ze,Te){return{type:7,name:ze,definitions:Te,options:{}}}function ge(ze,Te=null){return{type:4,styles:Te,timings:ze}}function be(ze,Te=null){return{type:2,steps:ze,options:Te}}function Be(ze){return{type:6,styles:ze,offset:null}}function te(ze,Te,Ze=null){return{type:1,expr:ze,animation:Te,options:Ze}}class Mt{constructor(Te=0,Ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Te+Ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}onStart(Te){this._originalOnStartFns.push(Te),this._onStartFns.push(Te)}onDone(Te){this._originalOnDoneFns.push(Te),this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Te=>Te()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Te){this._position=this.totalTime?Te*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Te){const Ze="start"==Te?this._onStartFns:this._onDoneFns;Ze.forEach(Oe=>Oe()),Ze.length=0}}class Nt{constructor(Te){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Te;let Ze=0,Oe=0,et=0;const $e=this.players.length;0==$e?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++Ze==$e&&this._onFinish()}),Ot.onDestroy(()=>{++Oe==$e&&this._onDestroy()}),Ot.onStart(()=>{++et==$e&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,Ie)=>Math.max(Ot,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}init(){this.players.forEach(Te=>Te.init())}onStart(Te){this._onStartFns.push(Te)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Te=>Te()),this._onStartFns=[])}onDone(Te){this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Te=>Te.play())}pause(){this.players.forEach(Te=>Te.pause())}restart(){this.players.forEach(Te=>Te.restart())}finish(){this._onFinish(),this.players.forEach(Te=>Te.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Te=>Te.destroy()),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this.players.forEach(Te=>Te.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Te){const Ze=Te*this.totalTime;this.players.forEach(Oe=>{const et=Oe.totalTime?Math.min(1,Ze/Oe.totalTime):1;Oe.setPosition(et)})}getPosition(){const Te=this.players.reduce((Ze,Oe)=>null===Ze||Oe.totalTime>Ze.totalTime?Oe:Ze,null);return null!=Te?Te.getPosition():0}beforeDestroy(){this.players.forEach(Te=>{Te.beforeDestroy&&Te.beforeDestroy()})}triggerCallback(Te){const Ze="start"==Te?this._onStartFns:this._onDoneFns;Ze.forEach(Oe=>Oe()),Ze.length=0}}const Qt="!"},177:(on,tt,V)=>{V.d(tt,{AJ:()=>Jr,B3:()=>Rr,Jj:()=>Xs,MD:()=>Hs,N0:()=>bn,P9:()=>is,QT:()=>i,QX:()=>Qr,Sm:()=>pt,Sq:()=>es,VF:()=>ge,Vy:()=>ki,Xr:()=>Ne,YU:()=>mr,ZD:()=>ve,_b:()=>un,aZ:()=>Mt,bT:()=>mo,e1:()=>ns,fG:()=>vs,fw:()=>Tt,hb:()=>Fe,hj:()=>Be,lG:()=>ds,qQ:()=>De,ux:()=>ci});var o=V(7705);let ue=null;function i(){return ue}function ve(P){ue||(ue=P)}class ge{}const De=new o.nKC("DocumentToken");let be=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(ke)},providedIn:"platform"})}}return P})();const Be=new o.nKC("Location Initialized");let ke=(()=>{class P extends be{constructor(){super(),this._doc=(0,o.WQX)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(j){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",j,!1),()=>Y.removeEventListener("popstate",j)}onHashChange(j){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",j,!1),()=>Y.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Y,Se){this._history.pushState(j,Y,Se)}replaceState(j,Y,Se){this._history.replaceState(j,Y,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function J(P,ne){if(0==P.length)return ne;if(0==ne.length)return P;let j=0;return P.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?P+ne.substring(1):1==j?P+ne:P+"/"+ne}function te(P){const ne=P.match(/#|\?|$/),j=ne&&ne.index||P.length;return P.slice(0,j-("/"===P[j-1]?1:0))+P.slice(j)}function he(P){return P&&"?"!==P[0]?"?"+P:P}let Fe=(()=>{class P{historyGo(j){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(pt)},providedIn:"root"})}}return P})();const Ge=new o.nKC("appBaseHref");let pt=(()=>{class P extends Fe{constructor(j,Y){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return J(this._baseHref,j)}path(j=!1){const Y=this._platformLocation.pathname+he(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&j?`${Y}${Se}`:Y}pushState(j,Y,Se,St){const Vt=this.prepareExternalUrl(Se+he(St));this._platformLocation.pushState(j,Y,Vt)}replaceState(j,Y,Se,St){const Vt=this.prepareExternalUrl(Se+he(St));this._platformLocation.replaceState(j,Y,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(be),o.KVO(Ge,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),Tt=(()=>{class P extends Fe{constructor(j,Y){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(j){const Y=J(this._baseHref,j);return Y.length>0?"#"+Y:Y}pushState(j,Y,Se,St){let Vt=this.prepareExternalUrl(Se+he(St));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(j,Y,Vt)}replaceState(j,Y,Se,St){let Vt=this.prepareExternalUrl(Se+he(St));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(j,Y,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(be),o.KVO(Ge,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}}return P})(),Mt=(()=>{class P{constructor(j){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Y=this._locationStrategy.getBaseHref();this._basePath=function Te(P){if(new RegExp("^(https?:)?//").test(P)){const[,j]=P.split(/\/\/[^\/]+/);return j}return P}(te(ze(Y))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Y=""){return this.path()==this.normalize(j+he(Y))}normalize(j){return P.stripTrailingSlash(function Qt(P,ne){if(!P||!ne.startsWith(P))return ne;const j=ne.substring(P.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,ze(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Y="",Se=null){this._locationStrategy.pushState(Se,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+he(Y)),Se)}replaceState(j,Y="",Se=null){this._locationStrategy.replaceState(Se,"",j,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+he(Y)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Y){this._urlChangeListeners.forEach(Se=>Se(j,Y))}subscribe(j,Y,Se){return this._subject.subscribe({next:j,error:Y,complete:Se})}static{this.normalizeQueryParams=he}static{this.joinWithSlash=J}static{this.stripTrailingSlash=te}static{this.\u0275fac=function(Y){return new(Y||P)(o.KVO(Fe))}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return function Nt(){return new Mt((0,o.KVO)(Fe))}()},providedIn:"root"})}}return P})();function ze(P){return P.replace(/\/index.html$/,"")}var Oe=function(P){return P[P.Decimal=0]="Decimal",P[P.Percent=1]="Percent",P[P.Currency=2]="Currency",P[P.Scientific=3]="Scientific",P}(Oe||{}),Yt=function(P){return P[P.Decimal=0]="Decimal",P[P.Group=1]="Group",P[P.List=2]="List",P[P.PercentSign=3]="PercentSign",P[P.PlusSign=4]="PlusSign",P[P.MinusSign=5]="MinusSign",P[P.Exponential=6]="Exponential",P[P.SuperscriptingExponent=7]="SuperscriptingExponent",P[P.PerMille=8]="PerMille",P[P.Infinity=9]="Infinity",P[P.NaN=10]="NaN",P[P.TimeSeparator=11]="TimeSeparator",P[P.CurrencyDecimal=12]="CurrencyDecimal",P[P.CurrencyGroup=13]="CurrencyGroup",P}(Yt||{});function Ee(P,ne){const j=(0,o.H5H)(P),Y=j[o.KH2.NumberSymbols][ne];if(typeof Y>"u"){if(ne===Yt.CurrencyDecimal)return j[o.KH2.NumberSymbols][Yt.Decimal];if(ne===Yt.CurrencyGroup)return j[o.KH2.NumberSymbols][Yt.Group]}return Y}const k=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function lr(P){const ne=parseInt(P);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+P);return ne}function un(P,ne){ne=encodeURIComponent(ne);for(const j of P.split(";")){const Y=j.indexOf("="),[Se,St]=-1==Y?[j,""]:[j.slice(0,Y),j.slice(Y+1)];if(Se.trim()===ne)return decodeURIComponent(St)}return null}const zn=/\s+/,Ln=[];let mr=(()=>{class P{constructor(j,Y,Se,St){this._iterableDiffers=j,this._keyValueDiffers=Y,this._ngEl=Se,this._renderer=St,this.initialClasses=Ln,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(zn):Ln}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(zn):j}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const Y of j)this._updateState(Y,!0);else if(null!=j)for(const Y of Object.keys(j))this._updateState(Y,!!j[Y]);this._applyStateDiff()}_updateState(j,Y){const Se=this.stateMap.get(j);void 0!==Se?(Se.enabled!==Y&&(Se.changed=!0,Se.enabled=Y),Se.touched=!0):this.stateMap.set(j,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const Y=j[0],Se=j[1];Se.changed?(this._toggleClass(Y,Se.enabled),Se.changed=!1):Se.touched||(Se.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Se.touched=!1}}_toggleClass(j,Y){(j=j.trim()).length>0&&j.split(zn).forEach(Se=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class Sr{constructor(ne,j,Y,Se){this.$implicit=ne,this.ngForOf=j,this.index=Y,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class P{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Y,Se){this._viewContainer=j,this._template=Y,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Y=this._viewContainer;j.forEachOperation((Se,St,Vt)=>{if(null==Se.previousIndex)Y.createEmbeddedView(this._template,new Sr(Se.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)Y.remove(null===St?void 0:St);else if(null!==St){const Pn=Y.get(St);Y.move(Pn,Vt),xs(Pn,Se)}});for(let Se=0,St=Y.length;Se<St;Se++){const Pn=Y.get(Se).context;Pn.index=Se,Pn.count=St,Pn.ngForOf=this._ngForOf}j.forEachIdentityChange(Se=>{xs(Y.get(Se.currentIndex),Se)})}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function xs(P,ne){P.context.$implicit=ne.item}let mo=(()=>{class P{constructor(j,Y){this._viewContainer=j,this._context=new oo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Li("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Li("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class oo{constructor(){this.$implicit=null,this.ngIf=null}}function Li(P,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,o.Tbb)(ne)}'.`)}class Wo{constructor(ne,j){this._viewContainerRef=ne,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let ci=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const Y=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const Y of this._defaultViews)Y.enforceState(j)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),ns=(()=>{class P{constructor(j,Y,Se){this.ngSwitch=Se,Se._addCase(),this._view=new Wo(j,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ci,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),vs=(()=>{class P{constructor(j,Y,Se){Se._addDefault(new Wo(j,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ci,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Rr=(()=>{class P{constructor(j,Y,Se){this._ngEl=j,this._differs=Y,this._renderer=Se,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,Y){const[Se,St]=j.split("."),Vt=-1===Se.indexOf("-")?void 0:o.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Se,St?`${Y}${St}`:Y,Vt):this._renderer.removeStyle(this._ngEl.nativeElement,Se,Vt)}_applyChanges(j){j.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),j.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),j.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function fi(P,ne){return new o.wOt(2100,!1)}class Ma{createSubscription(ne,j){return(0,o.O8t)(()=>ne.subscribe({next:j,error:Y=>{throw Y}}))}dispose(ne){(0,o.O8t)(()=>ne.unsubscribe())}}class Xa{createSubscription(ne,j){return ne.then(j,Y=>{throw Y})}dispose(ne){}}const Ci=new Xa,ba=new Ma;let Xs=(()=>{class P{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,Y=>this._updateLatestValue(j,Y))}_selectStrategy(j){if((0,o.jNT)(j))return Ci;if((0,o.zjR)(j))return ba;throw fi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,Y){j===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),ds=(()=>{class P{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=rs}transform(j,Y=rs){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const Se=this.differ.diff(j),St=Y!==this.compareFn;return Se&&(this.keyValues=[],Se.forEachItem(Vt=>{this.keyValues.push(function zi(P,ne){return{key:P,value:ne}}(Vt.key,Vt.currentValue))})),(Se||St)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function rs(P,ne){const j=P.key,Y=ne.key;if(j===Y)return 0;if(void 0===j)return 1;if(void 0===Y)return-1;if(null===j)return 1;if(null===Y)return-1;if("string"==typeof j&&"string"==typeof Y)return j<Y?-1:1;if("number"==typeof j&&"number"==typeof Y)return j-Y;if("boolean"==typeof j&&"boolean"==typeof Y)return j<Y?-1:1;const Se=String(j),St=String(Y);return Se==St?0:Se<St?-1:1}let Qr=(()=>{class P{constructor(j){this._locale=j}transform(j,Y,Se){if(!function hr(P){return!(null==P||""===P||P!=P)}(j))return null;Se=Se||this._locale;try{return function Bs(P,ne,j){return function cn(P,ne,j,Y,Se,St,Vt=!1){let Pn="",Br=!1;if(isFinite(P)){let pi=function ys(P){let Y,Se,St,Vt,Pn,ne=Math.abs(P)+"",j=0;for((Se=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(St=ne.search(/e/i))>0?(Se<0&&(Se=St),Se+=+ne.slice(St+1),ne=ne.substring(0,St)):Se<0&&(Se=ne.length),St=0;"0"===ne.charAt(St);St++);if(St===(Pn=ne.length))Y=[0],Se=1;else{for(Pn--;"0"===ne.charAt(Pn);)Pn--;for(Se-=St,Y=[],Vt=0;St<=Pn;St++,Vt++)Y[Vt]=Number(ne.charAt(St))}return Se>22&&(Y=Y.splice(0,21),j=Se-1,Se=1),{digits:Y,exponent:j,integerLen:Se}}(P);Vt&&(pi=function _s(P){if(0===P.digits[0])return P;const ne=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===ne?P.digits.push(0,0):1===ne&&P.digits.push(0),P.integerLen+=2),P}(pi));let ii=ne.minInt,fr=ne.minFrac,si=ne.maxFrac;if(St){const $i=St.match(k);if(null===$i)throw new Error(`${St} is not a valid digit info`);const Qs=$i[1],Ni=$i[3],To=$i[5];null!=Qs&&(ii=lr(Qs)),null!=Ni&&(fr=lr(Ni)),null!=To?si=lr(To):null!=Ni&&fr>si&&(si=fr)}!function gi(P,ne,j){if(ne>j)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${j}).`);let Y=P.digits,Se=Y.length-P.integerLen;const St=Math.min(Math.max(ne,Se),j);let Vt=St+P.integerLen,Pn=Y[Vt];if(Vt>0){Y.splice(Math.max(P.integerLen,Vt));for(let fr=Vt;fr<Y.length;fr++)Y[fr]=0}else{Se=Math.max(0,Se),P.integerLen=1,Y.length=Math.max(1,Vt=St+1),Y[0]=0;for(let fr=1;fr<Vt;fr++)Y[fr]=0}if(Pn>=5)if(Vt-1<0){for(let fr=0;fr>Vt;fr--)Y.unshift(0),P.integerLen++;Y.unshift(1),P.integerLen++}else Y[Vt-1]++;for(;Se<Math.max(0,St);Se++)Y.push(0);let Br=0!==St;const pi=ne+P.integerLen,ii=Y.reduceRight(function(fr,si,Ti,wi){return wi[Ti]=(si+=fr)<10?si:si-10,Br&&(0===wi[Ti]&&Ti>=pi?wi.pop():Br=!1),si>=10?1:0},0);ii&&(Y.unshift(ii),P.integerLen++)}(pi,fr,si);let Ti=pi.digits,wi=pi.integerLen;const co=pi.exponent;let Ds=[];for(Br=Ti.every($i=>!$i);wi<ii;wi++)Ti.unshift(0);for(;wi<0;wi++)Ti.unshift(0);wi>0?Ds=Ti.splice(wi,Ti.length):(Ds=Ti,Ti=[0]);const Os=[];for(Ti.length>=ne.lgSize&&Os.unshift(Ti.splice(-ne.lgSize,Ti.length).join(""));Ti.length>ne.gSize;)Os.unshift(Ti.splice(-ne.gSize,Ti.length).join(""));Ti.length&&Os.unshift(Ti.join("")),Pn=Os.join(Ee(j,Y)),Ds.length&&(Pn+=Ee(j,Se)+Ds.join("")),co&&(Pn+=Ee(j,Yt.Exponential)+"+"+co)}else Pn=Ee(j,Yt.Infinity);return Pn=P<0&&!Br?ne.negPre+Pn+ne.negSuf:ne.posPre+Pn+ne.posSuf,Pn}(P,function xi(P,ne="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Y=P.split(";"),Se=Y[0],St=Y[1],Vt=-1!==Se.indexOf(".")?Se.split("."):[Se.substring(0,Se.lastIndexOf("0")+1),Se.substring(Se.lastIndexOf("0")+1)],Pn=Vt[0],Br=Vt[1]||"";j.posPre=Pn.substring(0,Pn.indexOf("#"));for(let ii=0;ii<Br.length;ii++){const fr=Br.charAt(ii);"0"===fr?j.minFrac=j.maxFrac=ii+1:"#"===fr?j.maxFrac=ii+1:j.posSuf+=fr}const pi=Pn.split(",");if(j.gSize=pi[1]?pi[1].length:0,j.lgSize=pi[2]||pi[1]?(pi[2]||pi[1]).length:0,St){const ii=Se.length-j.posPre.length-j.posSuf.length,fr=St.indexOf("#");j.negPre=St.substring(0,fr).replace(/'/g,""),j.negSuf=St.slice(fr+ii).replace(/'/g,"")}else j.negPre=ne+j.posPre,j.negSuf=j.posSuf;return j}(function Me(P,ne){return(0,o.H5H)(P)[o.KH2.NumberFormats][ne]}(ne,Oe.Decimal),Ee(ne,Yt.MinusSign)),ne,Yt.Group,Yt.Decimal,j)}(function Wi(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(j),Se,Y)}catch(St){throw fi()}}static{this.\u0275fac=function(Y){return new(Y||P)(o.rXU(o.xe9,16))}}static{this.\u0275pipe=o.EJ8({name:"number",type:P,pure:!0,standalone:!0})}}return P})();let is=(()=>{class P{transform(j,Y,Se){if(null==j)return null;if(!this.supports(j))throw fi();return j.slice(Y,Se)}supports(j){return"string"==typeof j||Array.isArray(j)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),Hs=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=o.$C({type:P})}static{this.\u0275inj=o.G2t({})}}return P})();const Jr="browser",ss="server";function ki(P){return P===ss}let Ne=(()=>{class P{static{this.\u0275prov=(0,o.jDH)({token:P,providedIn:"root",factory:()=>new it((0,o.KVO)(De),window)})}}return P})();class it{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function It(P,ne){const j=P.getElementById(ne)||P.getElementsByName(ne)[0];if(j)return j;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Se=Y.currentNode;for(;Se;){const St=Se.shadowRoot;if(St){const Vt=St.getElementById(ne)||St.querySelector(`[name="${ne}"]`);if(Vt)return Vt}Se=Y.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),Y=j.left+this.window.pageXOffset,Se=j.top+this.window.pageYOffset,St=this.offset();this.window.scrollTo(Y-St[0],Se-St[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class bn{}},7705:(on,tt,V)=>{V.d(tt,{$C:()=>ri,$GK:()=>wn,$K3:()=>EI,$MX:()=>oh,AVh:()=>Ty,Agw:()=>um,B4B:()=>kp,BIS:()=>Qy,BMQ:()=>dg,C4Q:()=>sE,C5r:()=>tI,Co$:()=>dT,DNE:()=>Mh,EFF:()=>Hf,EJ8:()=>Ei,EmA:()=>dd,FS9:()=>Ru,FsC:()=>_o,G2t:()=>Jt,GBs:()=>YT,GFd:()=>dy,H3F:()=>vI,H5H:()=>Xe,H8p:()=>_f,HJs:()=>eD,HbH:()=>YE,Hbi:()=>jA,JRh:()=>qv,JZv:()=>Gn,Jv_:()=>uT,KH2:()=>vn,KVO:()=>xt,Kcf:()=>hu,L39:()=>JA,LfX:()=>xn,Lme:()=>vg,MKu:()=>Gb,Mz_:()=>va,NEm:()=>_A,NYb:()=>fA,Njj:()=>Xi,O8t:()=>St,OA$:()=>fr,OM3:()=>za,Ocv:()=>$w,Ol2:()=>fT,PLl:()=>F_,QTQ:()=>d,Ql9:()=>zw,QuC:()=>us,R7$:()=>OE,RV6:()=>Fh,Rfq:()=>pt,RxE:()=>rv,SKi:()=>Ro,SpI:()=>t_,TL$:()=>Ic,Tbb:()=>he,UyX:()=>xp,VBU:()=>Xa,Vns:()=>n_,Vt3:()=>ly,WHO:()=>CI,WPN:()=>cd,WQX:()=>pn,XpG:()=>so,Xx1:()=>Bl,Y8G:()=>pg,Z63:()=>ud,ZF7:()=>ih,_9s:()=>Kp,_q3:()=>Hb,aKT:()=>pd,aNF:()=>pT,bIt:()=>q,bMT:()=>NT,bVm:()=>kh,bc$:()=>Tf,bkB:()=>xc,brH:()=>FT,c1b:()=>I0,cWb:()=>Xg,czy:()=>Xd,e01:()=>wI,e5t:()=>Uy,eBV:()=>ps,eq3:()=>TT,eu8:()=>jf,fpN:()=>BA,gRc:()=>AA,gXe:()=>ys,giA:()=>AI,h9k:()=>Np,hnV:()=>yI,i5U:()=>kT,iLQ:()=>Lb,j41:()=>Fc,jDH:()=>sn,jNT:()=>E,k0s:()=>Yl,kS0:()=>Ud,kdw:()=>Zc,l4e:()=>DT,lJ4:()=>bT,lNU:()=>ze,l_i:()=>IT,lsd:()=>QT,mGM:()=>qT,mq5:()=>jt,n$t:()=>x_,nI1:()=>OT,nKC:()=>fn,naY:()=>wA,npT:()=>rm,nrm:()=>mg,o8S:()=>Ry,oH4:()=>PI,osQ:()=>Qg,plB:()=>Db,qex:()=>Mo,rXU:()=>bu,rcV:()=>pa,s1E:()=>AT,sFG:()=>hE,sMw:()=>CT,sZ2:()=>k_,sdS:()=>Sd,tSv:()=>hv,uvJ:()=>_i,w6W:()=>FC,wOt:()=>Te,wni:()=>XT,xGo:()=>Jo,xc7:()=>Bv,xe9:()=>w0,xvI:()=>iv,zZn:()=>Sc,zcH:()=>ul,ziG:()=>wT,zjR:()=>B});var o=V(1413),ue=V(8359),i=V(1985),ve=V(7786),ge=V(4412),De=V(7673),be=V(7647),Be=V(5558),ke=V(3294);function J(t){for(let n in t)if(t[n]===J)return n;throw Error("Could not find renamed property on target object.")}function te(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function he(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Fe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ge=J({__forward_ref__:J});function pt(t){return t.__forward_ref__=pt,t.toString=function(){return he(this())},t}function Tt(t){return Mt(t)?t():t}function Mt(t){return"function"==typeof t&&t.hasOwnProperty(Ge)&&t.__forward_ref__===pt}function Nt(t){return t&&!!t.\u0275providers}const ze="https://g.co/ng/security#xss";class Te extends Error{constructor(n,s){super(function Ze(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function Oe(t){return"string"==typeof t?t:null==t?"":String(t)}function Yt(t,n){throw new Te(-201,!1)}function lt(t,n){null==t&&function rt(t,n,s,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${s} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function jn(t){return zt(t,an)||zt(t,Xn)}function xn(t){return null!==jn(t)}function zt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Er(t){return t&&(t.hasOwnProperty(Fr)||t.hasOwnProperty($t))?t[Fr]:null}const an=J({\u0275prov:J}),Fr=J({\u0275inj:J}),Xn=J({ngInjectableDef:J}),$t=J({ngInjectorDef:J});var wn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wn||{});let $n;function Hr(t){const n=$n;return $n=t,n}function xr(t,n,s){const c=jn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&wn.Optional?null:void 0!==n?n:void Yt(he(t))}const Gn=globalThis;class fn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=sn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ve={},Kt="__NG_DI_FLAG__",_e="ngTempTokenPath",He=/\n/gm,x="__source";let k;function fe(t){const n=k;return k=t,n}function dt(t,n=wn.Default){if(void 0===k)throw new Te(-203,!1);return null===k?xr(t,void 0,n):k.get(t,n&wn.Optional?null:void 0,n)}function xt(t,n=wn.Default){return(function Dn(){return $n}()||dt)(Tt(t),n)}function pn(t,n=wn.Default){return xt(t,Sn(n))}function Sn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ir(t){const n=[];for(let s=0;s<t.length;s++){const c=Tt(t[s]);if(Array.isArray(c)){if(0===c.length)throw new Te(900,!1);let f,m=wn.Default;for(let T=0;T<c.length;T++){const A=c[T],M=Wr(A);"number"==typeof M?-1===M?f=A.token:m|=M:f=A}n.push(xt(f,m))}else n.push(xt(c))}return n}function cn(t,n){return t[Kt]=n,t.prototype[Kt]=n,t}function Wr(t){return t[Kt]}function xi(t){return{toString:t}.toString()}var _s=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_s||{}),ys=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ys||{});const gi={},lr=[],Gi=J({\u0275cmp:J}),bt=J({\u0275dir:J}),ct=J({\u0275pipe:J}),Ft=J({\u0275mod:J}),un=J({\u0275fac:J}),zn=J({__NG_ELEMENT_ID__:J}),Ln=J({__NG_ENV_ID__:J});function mr(t,n,s){let c=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===c||t.charCodeAt(f+m)<=32)return f}s=f+1}}function kr(t,n,s){let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const m=s[c++],T=s[c++],A=s[c++];t.setAttribute(n,T,A,m)}else{const m=f,T=s[++c];Sr(m)?t.setProperty(n,m,T):t.setAttribute(n,m,T),c++}}return c}function Kr(t){return 3===t||4===t||6===t}function Sr(t){return 64===t.charCodeAt(0)}function es(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?s=f:0===s||xs(t,s,f,null,-1===s||2===s?n[++c]:null)}}return t}function xs(t,n,s,c,f){let m=0,T=t.length;if(-1===n)T=-1;else for(;m<t.length;){const A=t[m++];if("number"==typeof A){if(A===n){T=-1;break}if(A>n){T=m-1;break}}}for(;m<t.length;){const A=t[m];if("number"==typeof A)break;if(A===s){if(null===c)return void(null!==f&&(t[m+1]=f));if(c===t[m+1])return void(t[m+2]=f)}m++,null!==c&&m++,null!==f&&m++}-1!==T&&(t.splice(T,0,n),m=T+1),t.splice(m++,0,s),null!==c&&t.splice(m++,0,c),null!==f&&t.splice(m++,0,f)}const ts="ng-template";function mo(t,n,s){let c=0,f=!0;for(;c<t.length;){let m=t[c++];if("string"==typeof m&&f){const T=t[c++];if(s&&"class"===m&&-1!==mr(T.toLowerCase(),n,0))return!0}else{if(1===m){for(;c<t.length&&"string"==typeof(m=t[c++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function oo(t){return 4===t.type&&t.value!==ts}function Li(t,n,s){return n===(4!==t.type||s?t.value:ts)}function Wo(t,n,s){let c=4;const f=t.attrs||[],m=function ji(t){for(let n=0;n<t.length;n++)if(Kr(t[n]))return n;return t.length}(f);let T=!1;for(let A=0;A<n.length;A++){const M=n[A];if("number"!=typeof M){if(!T)if(4&c){if(c=2|1&c,""!==M&&!Li(t,M,s)||""===M&&1===n.length){if(ci(c))return!1;T=!0}}else{const G=8&c?M:n[++A];if(8&c&&null!==t.attrs){if(!mo(t.attrs,G,s)){if(ci(c))return!1;T=!0}continue}const we=ns(8&c?"class":M,f,oo(t),s);if(-1===we){if(ci(c))return!1;T=!0;continue}if(""!==G){let nt;nt=we>m?"":f[we+1].toLowerCase();const gt=8&c?nt:null;if(gt&&-1!==mr(gt,G,0)||2&c&&G!==nt){if(ci(c))return!1;T=!0}}}}else{if(!T&&!ci(c)&&!ci(M))return!1;if(T&&ci(M))continue;T=!1,c=M|1&c}}return ci(c)||T}function ci(t){return 0==(1&t)}function ns(t,n,s,c){if(null===n)return-1;let f=0;if(c||!s){let m=!1;for(;f<n.length;){const T=n[f];if(T===t)return f;if(3===T||6===T)m=!0;else{if(1===T||2===T){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===T)break;if(0===T){f+=4;continue}}f+=m?1:2}return-1}return function Ai(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const c=t[s];if("number"==typeof c)return-1;if(c===n)return s;s++}return-1}(n,t)}function vs(t,n,s=!1){for(let c=0;c<n.length;c++)if(Wo(t,n[c],s))return!0;return!1}function ao(t,n){return t?":not("+n.trim()+")":n}function ko(t){let n=t[0],s=1,c=2,f="",m=!1;for(;s<t.length;){let T=t[s];if("string"==typeof T)if(2&c){const A=t[++s];f+="["+T+(A.length>0?'="'+A+'"':"")+"]"}else 8&c?f+="."+T:4&c&&(f+=" "+T);else""!==f&&!ci(T)&&(n+=ao(m,f),f=""),c=T,m=m||!ci(c);s++}return""!==f&&(n+=ao(m,f)),n}function Xa(t){return xi(()=>{const n=Mi(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_s.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ys.Emulated,styles:t.styles||lr,_:null,schemas:t.schemas||null,tView:null,id:""};Ts(s);const c=t.dependencies;return s.directiveDefs=zi(c,!1),s.pipeDefs=zi(c,!0),s.id=function rs(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function ba(t){return tr(t)||Dr(t)}function Xs(t){return null!==t}function ri(t){return xi(()=>({type:t.type,bootstrap:t.bootstrap||lr,declarations:t.declarations||lr,imports:t.imports||lr,exports:t.exports||lr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $s(t,n){if(null==t)return gi;const s={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=c,n&&(n[f]=m)}return s}function _o(t){return xi(()=>{const n=Mi(t);return Ts(n),n})}function Ei(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function tr(t){return t[Gi]||null}function Dr(t){return t[bt]||null}function Pr(t){return t[ct]||null}function us(t){const n=tr(t)||Dr(t)||Pr(t);return null!==n&&n.standalone}function Gr(t,n){const s=t[Ft]||null;if(!s&&!0===n)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return s}function Mi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||gi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||lr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$s(t.inputs,n),outputs:$s(t.outputs)}}function Ts(t){t.features?.forEach(n=>n(t))}function zi(t,n){if(!t)return null;const s=n?Pr:ba;return()=>("function"==typeof t?t():t).map(c=>s(c)).filter(Xs)}const Qr=0,_n=1,nr=2,hr=3,Wi=4,is=5,Oi=6,Hs=7,Jr=8,ss=9,Is=10,Qn=11,hs=12,ki=13,Z=14,Q=15,Ce=16,Ne=17,it=18,It=19,Xt=20,bn=21,mn=22,Wn=23,yr=24,Vn=25,Yn=1,ui=2,Zr=7,Ki=9,Cr=11;function Si(t){return Array.isArray(t)&&"object"==typeof t[Yn]}function Lr(t){return Array.isArray(t)&&!0===t[Yn]}function yo(t){return 0!=(4&t.flags)}function Vi(t){return t.componentOffset>-1}function Zs(t){return 1==(1&t.flags)}function eo(t){return!!t.template}function Ko(t){return 0!=(512&t[nr])}function Ws(t,n){return t.hasOwnProperty(un)?t[un]:null}let ws=null,oa=!1;function qi(t){const n=ws;return ws=t,n}const Zl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fo(t){if(!bo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!_l(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function As(t){t.dirty=!0,function lo(t){if(void 0===t.liveConsumerNode)return;const n=oa;oa=!0;try{for(const s of t.liveConsumerNode)s.dirty||As(s)}finally{oa=n}}(t),t.consumerMarkedDirty?.(t)}function wa(t){return t&&(t.nextProducerIndex=0),qi(t)}function Aa(t,n){if(qi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(bo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)ec(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _l(t){Lo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==s.version||(Fo(s),c!==s.version))return!0}return!1}function Ou(t){if(Lo(t),bo(t))for(let n=0;n<t.producerNode.length;n++)ec(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ec(t,n){if(function Ja(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Lo(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)ec(t.producerNode[c],t.producerIndexOfThis[c]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Lo(f),f.producerIndexOfThis[c]=n}}function bo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let qo=null;function St(t){const n=qi(null);try{return t()}finally{qi(n)}}const Pn=()=>{},Br=(()=>({...Zl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Pn}))();class ii{constructor(n,s,c){this.previousValue=n,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function fr(){return si}function si(t){return t.type.prototype.ngOnChanges&&(t.setInput=wi),Ti}function Ti(){const t=Ds(this),n=t?.current;if(n){const s=t.previous;if(s===gi)t.previous=n;else for(let c in n)s[c]=n[c];t.current=null,this.ngOnChanges(n)}}function wi(t,n,s,c){const f=this.declaredInputs[s],m=Ds(t)||function Os(t,n){return t[co]=n}(t,{previous:gi,current:null}),T=m.current||(m.current={}),A=m.previous,M=A[f];T[f]=new ii(M&&M.currentValue,n,A===gi),t[c]=n}fr.ngInherit=!0;const co="__ngSimpleChanges__";function Ds(t){return t[co]||null}const Ni=function(t,n,s){};function vr(t){for(;Array.isArray(t);)t=t[Qr];return t}function La(t,n){return vr(n[t])}function no(t,n){return vr(n[t.index])}function Io(t,n){return t.data[n]}function Ns(t,n){return t[n]}function Fi(t,n){const s=n[t];return Si(s)?s:s[Qr]}function Ss(t,n){return null==n?null:t[n]}function la(t){t[Ne]=0}function El(t){1024&t[nr]||(t[nr]|=1024,xd(t,1))}function Lu(t){1024&t[nr]&&(t[nr]&=-1025,xd(t,-1))}function xd(t,n){let s=t[hr];if(null===s)return;s[is]+=n;let c=s;for(s=s[hr];null!==s&&(1===n&&1===c[is]||-1===n&&0===c[is]);)s[is]+=n,c=s,s=s[hr]}const pr={lFrame:ae(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bu(){return pr.bindingsEnabled}function Gt(){return pr.lFrame.lView}function Or(){return pr.lFrame.tView}function ps(t){return pr.lFrame.contextLView=t,t[Jr]}function Xi(t){return pr.lFrame.contextLView=null,t}function kn(){let t=Va();for(;null!==t&&64===t.type;)t=t.parent;return t}function Va(){return pr.lFrame.currentTNode}function Qo(t,n){const s=pr.lFrame;s.currentTNode=t,s.isParent=n}function Tl(){return pr.lFrame.isParent}function ju(){pr.lFrame.isParent=!1}function Rs(){const t=pr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function sl(){return pr.lFrame.bindingIndex++}function Co(t){const n=pr.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function Kf(t,n){const s=pr.lFrame;s.bindingIndex=s.bindingRootIndex=t,$u(n)}function $u(t){pr.lFrame.currentDirectiveIndex=t}function Il(){return pr.lFrame.currentQueryIndex}function D(t){pr.lFrame.currentQueryIndex=t}function O(t){const n=t[_n];return 2===n.type?n.declTNode:1===n.type?t[Oi]:null}function w(t,n,s){if(s&wn.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||s&wn.Host||(f=O(m),null===f||(m=m[Z],10&f.type))););if(null===f)return!1;n=f,t=m}const c=pr.lFrame=H();return c.currentTNode=n,c.lView=t,!0}function N(t){const n=H(),s=t[_n];pr.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function H(){const t=pr.lFrame,n=null===t?null:t.child;return null===n?ae(t):n}function ae(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Re(){const t=pr.lFrame;return pr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wt=Re;function yt(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wr(){return pr.lFrame.selectedIndex}function jr(t){pr.lFrame.selectedIndex=t}function Ur(){const t=pr.lFrame;return Io(t.tView,t.selectedIndex)}let Al=!0;function Vo(){return Al}function wo(t){Al=t}function ua(t,n){for(let s=n.directiveStart,c=n.directiveEnd;s<c;s++){const m=t.data[s].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:A,ngAfterViewInit:M,ngAfterViewChecked:G,ngOnDestroy:se}=m;T&&(t.contentHooks??=[]).push(-s,T),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),M&&(t.viewHooks??=[]).push(-s,M),G&&((t.viewHooks??=[]).push(s,G),(t.viewCheckHooks??=[]).push(s,G)),null!=se&&(t.destroyHooks??=[]).push(s,se)}}function Kc(t,n,s){zu(t,n,3,s)}function Hu(t,n,s,c){(3&t[nr])===s&&zu(t,n,s,c)}function Gu(t,n){let s=t[nr];(3&s)===n&&(s&=8191,s+=1,t[nr]=s)}function zu(t,n,s,c){const m=c??-1,T=n.length-1;let A=0;for(let M=void 0!==c?65535&t[Ne]:0;M<T;M++)if("number"==typeof n[M+1]){if(A=n[M],null!=c&&A>=c)break}else n[M]<0&&(t[Ne]+=65536),(A<m||-1==m)&&(Wu(t,s,n,M),t[Ne]=(4294901760&t[Ne])+M+2),M++}function Nd(t,n){Ni(4,t,n);const s=qi(null);try{n.call(t)}finally{qi(s),Ni(5,t,n)}}function Wu(t,n,s,c){const f=s[c]<0,m=s[c+1],A=t[f?-s[c]:s[c]];f?t[nr]>>13<t[Ne]>>16&&(3&t[nr])===n&&(t[nr]+=8192,Nd(A,m)):Nd(A,m)}const Ao=-1;class Do{constructor(n,s,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Ku(t){return t!==Ao}function Sl(t){return 32767&t}function cc(t,n){let s=function Fd(t){return t>>16}(t),c=n;for(;s>0;)c=c[Z],s--;return c}let qu=!0;function al(t){const n=qu;return qu=t,n}const uc=255,Da=5;let Ld=0;const Ks={};function dc(t,n){const s=Gh(t,n);if(-1!==s)return s;const c=n[_n];c.firstCreatePass&&(t.injectorIndex=n.length,ks(c.data,t),ks(n,null),ks(c.blueprint,null));const f=Rl(t,n),m=t.injectorIndex;if(Ku(f)){const T=Sl(f),A=cc(f,n),M=A[_n].data;for(let G=0;G<8;G++)n[m+G]=A[T+G]|M[T+G]}return n[m+8]=f,m}function ks(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Gh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Rl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,c=null,f=n;for(;null!==f;){if(c=Qu(f),null===c)return Ao;if(s++,f=f[Z],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return Ao}function hc(t,n,s){!function Vd(t,n,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(zn)&&(c=s[zn]),null==c&&(c=s[zn]=Ld++);const f=c&uc;n.data[t+(f>>Da)]|=1<<f}(t,n,s)}function Uo(t,n,s){if(s&wn.Optional||void 0!==t)return t;Yt()}function Ba(t,n,s,c){if(s&wn.Optional&&void 0===c&&(c=null),!(s&(wn.Self|wn.Host))){const f=t[ss],m=Hr(void 0);try{return f?f.get(n,c,s&wn.Optional):xr(n,c,s&wn.Optional)}finally{Hr(m)}}return Uo(c,0,s)}function Xu(t,n,s,c=wn.Default,f){if(null!==t){if(2048&n[nr]&&!(c&wn.Self)){const T=function Qf(t,n,s,c,f){let m=t,T=n;for(;null!==m&&null!==T&&2048&T[nr]&&!(512&T[nr]);){const A=Pl(m,T,s,c|wn.Self,Ks);if(A!==Ks)return A;let M=m.parent;if(!M){const G=T[Xt];if(G){const se=G.get(s,Ks,c);if(se!==Ks)return se}M=Qu(T),T=T[Z]}m=M}return f}(t,n,s,c,Ks);if(T!==Ks)return T}const m=Pl(t,n,s,c,Ks);if(m!==Ks)return m}return Ba(n,s,c,f)}function Pl(t,n,s,c,f){const m=function Ml(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(zn)?t[zn]:void 0;return"number"==typeof n?n>=0?n&uc:Ag:n}(s);if("function"==typeof m){if(!w(n,t,c))return c&wn.Host?Uo(f,0,c):Ba(n,s,c,f);try{let T;if(T=m(c),null!=T||c&wn.Optional)return T;Yt()}finally{wt()}}else if("number"==typeof m){let T=null,A=Gh(t,n),M=Ao,G=c&wn.Host?n[Q][Oi]:null;for((-1===A||c&wn.SkipSelf)&&(M=-1===A?Rl(t,n):n[A+8],M!==Ao&&Xf(c,!1)?(T=n[_n],A=Sl(M),n=cc(M,n)):A=-1);-1!==A;){const se=n[_n];if(fc(m,A,se.data)){const we=wg(A,n,s,T,c,G);if(we!==Ks)return we}M=n[A+8],M!==Ao&&Xf(c,n[_n].data[A+8]===G)&&fc(m,A,n)?(T=se,A=Sl(M),n=cc(M,n)):A=-1}}return f}function wg(t,n,s,c,f,m){const T=n[_n],A=T.data[t+8],se=Sa(A,T,s,null==c?Vi(A)&&qu:c!=T&&0!=(3&A.type),f&wn.Host&&m===A);return null!==se?xl(n,T,se,A):Ks}function Sa(t,n,s,c,f){const m=t.providerIndexes,T=n.data,A=1048575&m,M=t.directiveStart,se=m>>20,nt=f?A+se:t.directiveEnd;for(let gt=c?A:A+se;gt<nt;gt++){const Ut=T[gt];if(gt<M&&s===Ut||gt>=M&&Ut.type===s)return gt}if(f){const gt=T[M];if(gt&&eo(gt)&&gt.type===s)return M}return null}function xl(t,n,s,c){let f=t[s];const m=n.data;if(function Dl(t){return t instanceof Do}(f)){const T=f;T.resolving&&function $e(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Te(-200,`Circular dependency in DI detected for ${t}${s}`)}(function et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Oe(t)}(m[s]));const A=al(T.canSeeViewProviders);T.resolving=!0;const G=T.injectImpl?Hr(T.injectImpl):null;w(t,c,wn.Default);try{f=t[s]=T.factory(void 0,m,t,c),n.firstCreatePass&&s>=c.directiveStart&&function Bh(t,n,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(c){const T=si(n);(s.preOrderHooks??=[]).push(t,T),(s.preOrderCheckHooks??=[]).push(t,T)}f&&(s.preOrderHooks??=[]).push(0-t,f),m&&((s.preOrderHooks??=[]).push(t,m),(s.preOrderCheckHooks??=[]).push(t,m))}(s,m[s],n)}finally{null!==G&&Hr(G),al(A),T.resolving=!1,wt()}}return f}function fc(t,n,s){return!!(s[n+(t>>Da)]&1<<t)}function Xf(t,n){return!(t&wn.Self||t&wn.Host&&n)}class qs{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,c){return Xu(this._tNode,this._lView,n,Sn(c),s)}}function Ag(){return new qs(kn(),Gt())}function Jo(t){return xi(()=>{const n=t.prototype.constructor,s=n[un]||Yc(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const m=f[un]||Yc(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Yc(t){return Mt(t)?()=>{const n=Yc(Tt(t));return n&&n()}:Ws(t)}function Qu(t){const n=t[_n],s=n.type;return 2===s?n.declTNode:1===s?t[Oi]:null}function Ud(t){return function Yu(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const m=s[f];if(Kr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(m===n)return s[f+1];f+=2}}}return null}(kn(),t)}const Zo="__parameters__";function Xc(t,n,s){return xi(()=>{const c=function Bd(t){return function(...s){if(t){const c=t(...s);for(const f in c)this[f]=c[f]}}}(n);function f(...m){if(this instanceof f)return c.apply(this,m),this;const T=new f(...m);return A.annotation=T,A;function A(M,G,se){const we=M.hasOwnProperty(Zo)?M[Zo]:Object.defineProperty(M,Zo,{value:[]})[Zo];for(;we.length<=se;)we.push(null);return(we[se]=we[se]||[]).push(T),M}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Fl(t,n){t.forEach(s=>Array.isArray(s)?Fl(s,n):n(s))}function Hd(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Ll(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ta(t,n,s){let c=ja(t,n);return c>=0?t[1|c]=s:(c=~c,function Dg(t,n,s,c){let f=t.length;if(f==n)t.push(s,c);else if(1===f)t.push(c,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=c}}(t,c,n,s)),c}function na(t,n){const s=ja(t,n);if(s>=0)return t[1|s]}function ja(t,n){return function qh(t,n,s){let c=0,f=t.length>>s;for(;f!==c;){const m=c+(f-c>>1),T=t[m<<s];if(n===T)return m<<s;T>n?f=m:c=m+1}return~(f<<s)}(t,n,1)}const Bl=cn(Xc("Optional"),8),Zc=cn(Xc("SkipSelf"),4);function rd(t){return 128==(128&t.flags)}var Xd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xd||{});const xy=/^>|^->|<!--|-->|--!>|<!-$/g,op=/(<|>)/g,c_="\u200b$1\u200b";const Qd=new Map;let Og=0;const rf="__ngContext__";function $o(t,n){Si(n)?(t[rf]=n[It],function Jd(t){Qd.set(t[It],t)}(n)):t[rf]=n}let Zd;function vc(t,n){return Zd(t,n)}function ou(t){const n=t[hr];return Lr(n)?n[hr]:n}function p_(t){return pp(t[hs])}function Ng(t){return pp(t[Wi])}function pp(t){for(;null!==t&&!Lr(t);)t=t[Wi];return t}function au(t,n,s,c,f){if(null!=c){let m,T=!1;Lr(c)?m=c:Si(c)&&(T=!0,c=c[Qr]);const A=vr(c);0===t&&null!==s?null==f?vp(n,s,A):Ec(n,s,A,f||null,!0):1===t&&null!==s?Ec(n,s,A,f||null,!0):2===t?function cf(t,n,s){const c=nh(t,n);c&&function Ep(t,n,s,c){t.removeChild(n,s,c)}(t,c,n,s)}(n,A,T):3===t&&n.destroyNode(A),null!=m&&function Gg(t,n,s,c,f){const m=s[Zr];m!==vr(s)&&au(n,t,c,m,f);for(let A=Cr;A<s.length;A++){const M=s[A];uf(M[_n],M,t,n,c,m)}}(n,t,m,s,f)}}function kg(t,n){return t.createComment(function ap(t){return t.replace(xy,n=>n.replace(op,c_))}(n))}function mp(t,n,s){return t.createElement(n,s)}function m_(t,n){const s=t[Ki],c=s.indexOf(n);Lu(n),s.splice(c,1)}function af(t,n){if(t.length<=Cr)return;const s=Cr+n,c=t[s];if(c){const f=c[Ce];null!==f&&f!==t&&m_(f,c),n>0&&(t[s-1][Wi]=c[Wi]);const m=Ll(t,Cr+n);!function Fg(t,n){uf(t,n,n[Qn],2,null,null),n[Qr]=null,n[Oi]=null}(c[_n],c);const T=m[it];null!==T&&T.detachView(m[_n]),c[hr]=null,c[Wi]=null,c[nr]&=-129}return c}function _p(t,n){if(!(256&n[nr])){const s=n[Qn];n[Wn]&&Ou(n[Wn]),n[yr]&&Ou(n[yr]),s.destroyNode&&uf(t,n,s,3,null,null),function Vg(t){let n=t[hs];if(!n)return yp(t[_n],t);for(;n;){let s=null;if(Si(n))s=n[hs];else{const c=n[Cr];c&&(s=c)}if(!s){for(;n&&!n[Wi]&&n!==t;)Si(n)&&yp(n[_n],n),n=n[hr];null===n&&(n=t),Si(n)&&yp(n[_n],n),s=n&&n[Wi]}n=s}}(n)}}function yp(t,n){if(!(256&n[nr])){n[nr]&=-129,n[nr]|=256,function Ug(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let c=0;c<s.length;c+=2){const f=n[s[c]];if(!(f instanceof Do)){const m=s[c+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const A=f[m[T]],M=m[T+1];Ni(4,A,M);try{M.call(A)}finally{Ni(5,A,M)}}else{Ni(4,f,m);try{m.call(f)}finally{Ni(5,f,m)}}}}}(t,n),function __(t,n){const s=t.cleanup,c=n[Hs];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const T=s[m+3];T>=0?c[T]():c[-T].unsubscribe(),m+=2}else s[m].call(c[s[m+1]]);null!==c&&(n[Hs]=null);const f=n[bn];if(null!==f){n[bn]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[_n].type&&n[Qn].destroy();const s=n[Ce];if(null!==s&&Lr(n[hr])){s!==n[hr]&&m_(s,n);const c=n[it];null!==c&&c.detachView(t)}!function iu(t){Qd.delete(t[It])}(n)}}function Bg(t,n,s){return function ky(t,n,s){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return s[Qr];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:m}=t.data[c.directiveStart+f];if(m===ys.None||m===ys.Emulated)return null}return no(c,s)}}(t,n.parent,s)}function Ec(t,n,s,c,f){t.insertBefore(n,s,c,f)}function vp(t,n,s){t.appendChild(n,s)}function y_(t,n,s,c,f){null!==c?Ec(t,n,s,c,f):vp(t,n,s)}function nh(t,n){return t.parentNode(n)}let Cp,bc,Sp,rh,Ip=function Tp(t,n,s){return 40&t.type?no(t,s):null};function $g(t,n,s,c){const f=Bg(t,c,n),m=n[Qn],A=function bp(t,n,s){return Ip(t,n,s)}(c.parent||n[Oi],c,n);if(null!=f)if(Array.isArray(s))for(let M=0;M<s.length;M++)y_(m,f,s[M],A,!1);else y_(m,f,s,A,!1);void 0!==Cp&&Cp(m,c,n,s,f)}function od(t,n){if(null!==n){const s=n.type;if(3&s)return no(n,t);if(4&s)return lf(-1,t[n.index]);if(8&s){const c=n.child;if(null!==c)return od(t,c);{const f=t[n.index];return Lr(f)?lf(-1,f):vr(f)}}if(32&s)return vc(n,t)()||vr(t[n.index]);{const c=Hg(t,n);return null!==c?Array.isArray(c)?c[0]:od(ou(t[Q]),c):od(t,n.next)}}return null}function Hg(t,n){return null!==n?t[Q][Oi].projection[n.projection]:null}function lf(t,n){const s=Cr+t+1;if(s<n.length){const c=n[s],f=c[_n].firstChild;if(null!==f)return od(c,f)}return n[Zr]}function cu(t,n,s,c,f,m,T){for(;null!=s;){const A=c[s.index],M=s.type;if(T&&0===n&&(A&&$o(vr(A),c),s.flags|=2),32!=(32&s.flags))if(8&M)cu(t,n,s.child,c,f,m,!1),au(n,t,f,A,m);else if(32&M){const G=vc(s,c);let se;for(;se=G();)au(n,t,f,se,m);au(n,t,f,A,m)}else 16&M?uu(t,n,c,s,f,m):au(n,t,f,A,m);s=T?s.projectionNext:s.next}}function uf(t,n,s,c,f,m){cu(s,c,t.firstChild,n,f,m,!1)}function uu(t,n,s,c,f,m){const T=s[Q],M=T[Oi].projection[c.projection];if(Array.isArray(M))for(let G=0;G<M.length;G++)au(n,t,f,M[G],m);else{let G=M;const se=T[hr];rd(c)&&(G.flags|=128),cu(t,n,G,se,f,m,!0)}}function wp(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Ap(t,n,s){const{mergedAttrs:c,classes:f,styles:m}=s;null!==c&&kr(t,n,c),null!==f&&wp(t,n,f),null!==m&&function zg(t,n,s){t.setAttribute(n,"style",s)}(t,n,m)}function du(t){return function Dp(){if(void 0===bc&&(bc=null,Gn.trustedTypes))try{bc=Gn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bc}()?.createHTML(t)||t}function Ic(t){Sp=t}function ad(){if(void 0!==Sp)return Sp;if(typeof document<"u")return document;throw new Te(210,!1)}function hf(){if(void 0===rh&&(rh=null,Gn.trustedTypes))try{rh=Gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rh}function Kg(t){return hf()?.createHTML(t)||t}function Pp(t){return hf()?.createScriptURL(t)||t}class Cc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ze})`}}class Vy extends Cc{getTypeName(){return"HTML"}}class qg extends Cc{getTypeName(){return"Style"}}class Yg extends Cc{getTypeName(){return"Script"}}class ff extends Cc{getTypeName(){return"URL"}}class T_ extends Cc{getTypeName(){return"ResourceURL"}}function pa(t){return t instanceof Cc?t.changingThisBreaksApplicationSecurity:t}function ih(t,n){const s=function I_(t){return t instanceof Cc&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${ze})`)}return s===n}function hu(t){return new Vy(t)}function Xg(t){return new qg(t)}function xp(t){return new Yg(t)}function Qg(t){return new ff(t)}function Uy(t){return new T_(t)}class By{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(du(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Jg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=du(n),s}}const sh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oh(t){return(t=String(t)).match(sh)?t:"unsafe:"+t}function ra(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function fu(...t){const n={};for(const s of t)for(const c in s)s.hasOwnProperty(c)&&(n[c]=!0);return n}const w_=ra("area,br,col,hr,img,wbr"),A_=ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pf=ra("rp,rt"),gf=fu(w_,fu(A_,ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fu(pf,ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fu(pf,A_)),mf=ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Op=fu(mf,ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),S_=ra("script,style,template");class ah{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!gf.hasOwnProperty(s))return this.sanitizedSomething=!0,!S_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=n.attributes;for(let f=0;f<c.length;f++){const m=c.item(f),T=m.name,A=T.toLowerCase();if(!Op.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let M=m.value;mf[A]&&(M=oh(M)),this.buf.push(" ",T,'="',tm(M),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();gf.hasOwnProperty(s)&&!w_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(tm(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const R_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,em=/([^\#-~ |!])/g;function tm(t){return t.replace(/&/g,"&amp;").replace(R_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(em,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wc;function Np(t,n){let s=null;try{wc=wc||function ld(t){const n=new Jg(t);return function C_(){try{return!!(new window.DOMParser).parseFromString(du(""),"text/html")}catch{return!1}}()?new By(n):n}(t);let c=n?String(n):"";s=wc.getInertBodyElement(c);let f=5,m=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=m,m=s.innerHTML,s=wc.getInertBodyElement(c)}while(c!==m);return du((new ah).sanitizeChildren(nm(s)||s))}finally{if(s){const c=nm(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function nm(t){return"content"in t&&function $y(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(cd||{});function rm(t){const n=lh();return n?Kg(n.sanitize(cd.HTML,t)||""):ih(t,"HTML")?Kg(pa(t)):Np(ad(),Oe(t))}function kp(t){const n=lh();return n?n.sanitize(cd.URL,t)||"":ih(t,"URL")?pa(t):oh(Oe(t))}function P_(t){const n=lh();if(n)return Pp(n.sanitize(cd.RESOURCE_URL,t)||"");if(ih(t,"ResourceURL"))return Pp(pa(t));throw new Te(904,!1)}function x_(t,n,s){return function Ky(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?P_:kp}(n,s)(t)}function lh(){const t=Gt();return t&&t[Is].sanitizer}const ud=new fn("ENVIRONMENT_INITIALIZER"),im=new fn("INJECTOR",-1),sm=new fn("INJECTOR_DEF_TYPES");class Fp{get(n,s=Ve){if(s===Ve){const c=new Error(`NullInjectorError: No provider for ${he(n)}!`);throw c.name="NullInjectorError",c}return s}}function dd(t){return{\u0275providers:t}}function di(...t){return{\u0275providers:Lp(0,t),\u0275fromNgModule:!0}}function Lp(t,...n){const s=[],c=new Set;let f;const m=T=>{s.push(T)};return Fl(n,T=>{const A=T;pu(A,m,[],c)&&(f||=[],f.push(A))}),void 0!==f&&Vp(f,m),s}function Vp(t,n){for(let s=0;s<t.length;s++){const{ngModule:c,providers:f}=t[s];ro(f,m=>{n(m,c)})}}function pu(t,n,s,c){if(!(t=Tt(t)))return!1;let f=null,m=Er(t);const T=!m&&tr(t);if(m||T){if(T&&!T.standalone)return!1;f=t}else{const M=t.ngModule;if(m=Er(M),!m)return!1;f=M}const A=c.has(f);if(T){if(A)return!1;if(c.add(f),T.dependencies){const M="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const G of M)pu(G,n,s,c)}}else{if(!m)return!1;{if(null!=m.imports&&!A){let G;c.add(f);try{Fl(m.imports,se=>{pu(se,n,s,c)&&(G||=[],G.push(se))})}finally{}void 0!==G&&Vp(G,n)}if(!A){const G=Ws(f)||(()=>new f);n({provide:f,useFactory:G,deps:lr},f),n({provide:sm,useValue:f,multi:!0},f),n({provide:ud,useValue:()=>xt(f),multi:!0},f)}const M=m.providers;if(null!=M&&!A){const G=t;ro(M,se=>{n(se,G)})}}}return f!==t&&void 0!==t.providers}function ro(t,n){for(let s of t)Nt(s)&&(s=s.\u0275providers),Array.isArray(s)?ro(s,n):n(s)}const Ls=J({provide:String,useValue:J});function $a(t){return null!==t&&"object"==typeof t&&Ls in t}function gu(t){return"function"==typeof t}const _f=new fn("Set Injector scope."),yf={},am={};let lm;function Up(){return void 0===lm&&(lm=new Fp),lm}class _i{}class vf extends _i{get destroyed(){return this._destroyed}constructor(n,s,c,f){super(),this.parent=s,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uh(n,T=>this.processProvider(T)),this.records.set(im,cl(void 0,this)),f.has("environment")&&this.records.set(_i,cl(void 0,this));const m=this.records.get(_f);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(sm.multi,lr,wn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=fe(this),c=Hr(void 0);try{return n()}finally{fe(s),Hr(c)}}get(n,s=Ve,c=wn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ln))return n[Ln](this);c=Sn(c);const m=fe(this),T=Hr(void 0);try{if(!(c&wn.SkipSelf)){let M=this.records.get(n);if(void 0===M){const G=function Bp(t){return"function"==typeof t||"object"==typeof t&&t instanceof fn}(n)&&jn(n);M=G&&this.injectableDefInScope(G)?cl(cm(n),yf):null,this.records.set(n,M)}if(null!=M)return this.hydrate(n,M)}return(c&wn.Self?Up():this.parent).get(n,s=c&wn.Optional&&s===Ve?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[_e]=A[_e]||[]).unshift(he(n)),m)throw A;return function dr(t,n,s,c){const f=t[_e];throw n[x]&&f.unshift(n[x]),t.message=function Bs(t,n,s,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=he(n);if(Array.isArray(n))f=n.map(he).join(" -> ");else if("object"==typeof n){let m=[];for(let T in n)if(n.hasOwnProperty(T)){let A=n[T];m.push(T+":"+("string"==typeof A?JSON.stringify(A):he(A)))}f=`{${m.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${t.replace(He,"\n  ")}`}("\n"+t.message,f,s,c),t.ngTokenPath=f,t[_e]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Hr(T),fe(m)}}resolveInjectorInitializers(){const n=fe(this),s=Hr(void 0);try{const f=this.get(ud.multi,lr,wn.Self);for(const m of f)m()}finally{fe(n),Hr(s)}}toString(){const n=[],s=this.records;for(const c of s.keys())n.push(he(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(n){let s=gu(n=Tt(n))?n:Tt(n&&n.provide);const c=function N_(t){return $a(t)?cl(void 0,t.useValue):cl(Ef(t),yf)}(n);if(gu(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=cl(void 0,yf,!0),f.factory=()=>Ir(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,c)}hydrate(n,s){return s.value===yf&&(s.value=am,s.value=s.factory()),"object"==typeof s.value&&s.value&&function bf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Tt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function cm(t){const n=jn(t),s=null!==n?n.factory:Ws(t);if(null!==s)return s;if(t instanceof fn)throw new Te(204,!1);if(t instanceof Function)return function bs(t){const n=t.length;if(n>0)throw function Vl(t,n){const s=[];for(let c=0;c<t;c++)s.push(n);return s}(n,"?"),new Te(204,!1);const s=function Bt(t){return t&&(t[an]||t[Xn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Te(204,!1)}function Ef(t,n,s){let c;if(gu(t)){const f=Tt(t);return Ws(f)||cm(f)}if($a(t))c=()=>Tt(t.useValue);else if(function O_(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Ir(t.deps||[]));else if(function M_(t){return!(!t||!t.useExisting)}(t))c=()=>xt(Tt(t.useExisting));else{const f=Tt(t&&(t.useClass||t.provide));if(!function ch(t){return!!t.deps}(t))return Ws(f)||cm(f);c=()=>new f(...Ir(t.deps))}return c}function cl(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function uh(t,n){for(const s of t)Array.isArray(s)?uh(s,n):s&&Nt(s)?uh(s.\u0275providers,n):n(s)}const k_=new fn("AppId",{providedIn:"root",factory:()=>Xy}),Xy="ng",F_=new fn("Platform Initializer"),um=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tf=new fn("AnimationModuleType"),Qy=new fn("CSP nonce",{providedIn:"root",factory:()=>ad().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zp=(t,n,s)=>null;function Dc(t,n,s=!1){return zp(t,n,s)}class Zy{}class gm{}class mm{resolveComponentFactory(n){throw function Wp(t){const n=Error(`No component factory found for ${he(t)}.`);return n.ngComponent=t,n}(n)}}let za=(()=>{class t{static{this.NULL=new mm}}return t})();function M0(){return fd(kn(),Gt())}function fd(t,n){return new pd(no(t,n))}let pd=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=M0}}return t})();function tv(t){return t instanceof pd?t.nativeElement:t}class Kp{}let hE=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function nv(){const t=Gt(),s=Fi(kn().index,t);return(Si(s)?s:t)[Qn]}()}}return t})(),_m=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>null})}}return t})();class rv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const iv=new rv("16.2.12"),Af={};function pE(t,n=null,s=null,c){const f=lv(t,n,s,c);return f.resolveInjectorInitializers(),f}function lv(t,n=null,s=null,c,f=new Set){const m=[s||lr,di(t)];return c=c||("object"==typeof t?void 0:he(t)),new vf(m,n||Up(),c||null,f)}let Sc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ve}static{this.NULL=new Fp}static create(s,c){if(Array.isArray(s))return pE({name:""},c,s,"");{const f=s.name??"";return pE({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=sn({token:t,providedIn:"any",factory:()=>xt(im)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function vu(t){return t.ngOriginalError}class ul{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&vu(n);for(;s&&vu(s);)s=vu(s);return s||null}}function Pc(t){return n=>{setTimeout(t,void 0,n)}}const xc=class yE extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,c){let f=n,m=s||(()=>null),T=c;if(n&&"object"==typeof n){const M=n;f=M.next?.bind(M),m=M.error?.bind(M),T=M.complete?.bind(M)}this.__isAsync&&(m=Pc(m),f&&(f=Pc(f)),T&&(T=Pc(T)));const A=super.subscribe({next:f,error:m,complete:T});return n instanceof ue.yU&&n.add(A),A}};function cv(...t){}class Ro{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xc(!1),this.onMicrotaskEmpty=new xc(!1),this.onStable=new xc(!1),this.onError=new xc(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&s,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function vE(){const t="function"==typeof Gn.requestAnimationFrame;let n=Gn[t?"requestAnimationFrame":"setTimeout"],s=Gn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function TE(t){const n=()=>{!function bE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,z_(t),t.isCheckStableRunning=!0,G_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),z_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,f,m,T,A)=>{if(function CE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,m,T,A);try{return uv(t),s.invokeTask(f,m,T,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),_h(t)}},onInvoke:(s,c,f,m,T,A,M)=>{try{return uv(t),s.invoke(f,m,T,A,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),_h(t)}},onHasTask:(s,c,f,m)=>{s.hasTask(f,m),c===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,z_(t),G_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,c,f,m)=>(s.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ro.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Ro.isInAngularZone())throw new Te(909,!1)}run(n,s,c){return this._inner.run(n,s,c)}runTask(n,s,c,f){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+f,n,EE,cv,cv);try{return m.runTask(T,s,c)}finally{m.cancelTask(T)}}runGuarded(n,s,c){return this._inner.runGuarded(n,s,c)}runOutsideAngular(n){return this._outer.run(n)}}const EE={};function G_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function z_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _h(t){t._nesting--,G_(t)}class W_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xc,this.onMicrotaskEmpty=new xc,this.onStable=new xc,this.onError=new xc}run(n,s,c){return n.apply(s,c)}runGuarded(n,s,c){return n.apply(s,c)}runOutsideAngular(n){return n()}runTask(n,s,c,f){return n.apply(s,c)}}const IE=new fn("",{providedIn:"root",factory:dv});function dv(){const t=pn(Ro);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),c=new i.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Ro.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const T=t.onUnstable.subscribe(()=>{Ro.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,ve.h)(s,c.pipe((0,be.u)()))}function hv(t){return t.ownerDocument.defaultView}function gd(t){return t instanceof Function?t():t}let mv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Xp(t){for(;t;){t[nr]|=64;const n=ou(t);if(Ko(t)&&!n)return t;t=n}return null}const K_=new fn("",{providedIn:"root",factory:()=>!1});let X_=null;function PE(t,n){return t[n]??ME()}function xE(t,n){const s=ME();s.producerNode?.length&&(t[n]=X_,s.lView=t,X_=Q_())}const yv={...Zl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xp(t.lView)},lView:null};function Q_(){return Object.create(yv)}function ME(){return X_??=Q_(),X_}const zr={};function OE(t){Tm(Or(),Gt(),wr()+t,!1)}function Tm(t,n,s,c){if(!c)if(3==(3&n[nr])){const m=t.preOrderCheckHooks;null!==m&&Kc(n,m,s)}else{const m=t.preOrderHooks;null!==m&&Hu(n,m,0,s)}jr(s)}function bu(t,n=wn.Default){const s=Gt();return null===s?xt(t,n):Xu(kn(),s,Tt(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,c,f,m,T,A,M,G,se){const we=n.blueprint.slice();return we[Qr]=f,we[nr]=140|c,(null!==G||t&&2048&t[nr])&&(we[nr]|=2048),la(we),we[hr]=we[Z]=t,we[Jr]=s,we[Is]=T||t&&t[Is],we[Qn]=A||t&&t[Qn],we[ss]=M||t&&t[ss]||null,we[Oi]=m,we[It]=function u_(){return Og++}(),we[mn]=se,we[Xt]=G,we[Q]=2==n.type?t[Q]:we,we}function a(t,n,s,c,f){let m=t.data[n];if(null===m)m=function h(t,n,s,c,f){const m=Va(),T=Tl(),M=t.data[n]=function Jn(t,n,s,c,f,m){let T=n?n.injectorIndex:-1,A=0;return function Yo(){return null!==pr.skipHydrationRootTNode}()&&(A|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,s,n,c,f);return null===t.firstChild&&(t.firstChild=M),null!==m&&(T?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M,M.prev=m)),M}(t,n,s,c,f),function Od(){return pr.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=c,m.attrs=f;const T=function bl(){const t=pr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===T?-1:T.injectorIndex}return Qo(m,!0),m}function y(t,n,s,c){if(0===s)return-1;const f=n.length;for(let m=0;m<s;m++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function b(t,n,s,c,f){const m=PE(n,Wn),T=wr(),A=2&c;try{jr(-1),A&&n.length>Vn&&Tm(t,n,Vn,!1),Ni(A?2:0,f);const G=A?m:null,se=wa(G);try{null!==G&&(G.dirty=!1),s(c,f)}finally{Aa(G,se)}}finally{A&&null===n[Wn]&&xE(n,Wn),jr(T),Ni(A?3:1,f)}}function R(t,n,s){if(yo(n)){const c=qi(null);try{const m=n.directiveEnd;for(let T=n.directiveStart;T<m;T++){const A=t.data[T];A.contentQueries&&A.contentQueries(1,s[T],T)}}finally{qi(c)}}}function F(t,n,s){Bu()&&(function NE(t,n,s,c){const f=s.directiveStart,m=s.directiveEnd;Vi(s)&&function tg(t,n,s){const c=no(n,t),f=oe(s);let T=16;s.signals?T=4096:s.onPush&&(T=64);const A=Sf(t,r(t,f,null,T,c,n,null,t[Is].rendererFactory.createRenderer(c,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||dc(s,n),$o(c,n);const T=s.initialInputs;for(let A=f;A<m;A++){const M=t.data[A],G=xl(n,t,A,s);$o(G,n),null!==T&&LE(0,A-f,G,M,0,T),eo(M)&&(Fi(s.index,n)[Jr]=xl(n,t,A,s))}}(t,n,s,no(s,n)),64==(64&s.flags)&&yh(t,n,s))}function W(t,n,s=no){const c=n.localNames;if(null!==c){let f=n.index+1;for(let m=0;m<c.length;m+=2){const T=c[m+1],A=-1===T?s(n,t):t[T];t[f++]=A}}}function oe(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ye(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ye(t,n,s,c,f,m,T,A,M,G,se){const we=Vn+c,nt=we+f,gt=function Ke(t,n){const s=[];for(let c=0;c<n;c++)s.push(c<t?null:zr);return s}(we,nt),Ut="function"==typeof G?G():G;return gt[_n]={type:t,blueprint:gt,template:s,queries:null,viewQuery:A,declTNode:n,data:gt.slice().fill(null,we),bindingStartIndex:we,expandoStartIndex:nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:M,consts:Ut,incompleteFirstPass:!1,ssrId:se}}let dn=t=>null;function Vr(t,n,s,c){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const m=t[f];null===c?Ri(s,n,f,m):c.hasOwnProperty(f)&&Ri(s,n,c[f],m)}return s}function Ri(t,n,s,c){t.hasOwnProperty(s)?t[s].push(n,c):t[s]=[n,c]}function Le(t,n,s,c,f,m,T,A){const M=no(n,s);let se,G=n.inputs;!A&&null!=G&&(se=G[c])?(Am(t,s,se,c,f),Vi(n)&&function Je(t,n){const s=Fi(n,t);16&s[nr]||(s[nr]|=64)}(s,n.index)):3&n.type&&(c=function ut(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=T?T(f,n.value||"",c):f,m.setProperty(M,c,f))}function Dt(t,n,s,c){if(Bu()){const f=null===c?null:{"":-1},m=function J_(t,n){const s=t.directiveRegistry;let c=null,f=null;if(s)for(let m=0;m<s.length;m++){const T=s[m];if(vs(n,T.selectors,!1))if(c||(c=[]),eo(T))if(null!==T.findHostDirectiveDefs){const A=[];f=f||new Map,T.findHostDirectiveDefs(T,A,f),c.unshift(...A,T),Im(t,n,A.length)}else c.unshift(T),Im(t,n,0);else f=f||new Map,T.findHostDirectiveDefs?.(T,c,f),c.push(T)}return null===c?null:[c,f]}(t,s);let T,A;null===m?T=A=null:[T,A]=m,null!==T&&qe(t,n,s,T,f,A),f&&function kE(t,n,s){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=s[n[f+1]];if(null==m)throw new Te(-301,!1);c.push(n[f],m)}}}(s,c,f)}s.mergedAttrs=es(s.mergedAttrs,s.attrs)}function qe(t,n,s,c,f,m){for(let G=0;G<c.length;G++)hc(dc(s,n),t,c[G].type);!function ia(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,c.length);for(let G=0;G<c.length;G++){const se=c[G];se.providersResolver&&se.providersResolver(se)}let T=!1,A=!1,M=y(t,n,c.length,null);for(let G=0;G<c.length;G++){const se=c[G];s.mergedAttrs=es(s.mergedAttrs,se.hostAttrs),FE(t,s,n,M,se),md(M,se,f),null!==se.contentQueries&&(s.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=64);const we=se.type.prototype;!T&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),T=!0),!A&&(we.ngOnChanges||we.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),M++}!function oi(t,n,s){const f=n.directiveEnd,m=t.data,T=n.attrs,A=[];let M=null,G=null;for(let se=n.directiveStart;se<f;se++){const we=m[se],nt=s?s.get(we):null,Ut=nt?nt.outputs:null;M=Vr(we.inputs,se,M,nt?nt.inputs:null),G=Vr(we.outputs,se,G,Ut);const hn=null===M||null===T||oo(n)?null:Cm(M,se,T);A.push(hn)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=M,n.outputs=G}(t,s,m)}function yh(t,n,s){const c=s.directiveStart,f=s.directiveEnd,m=s.index,T=function ac(){return pr.lFrame.currentDirectiveIndex}();try{jr(m);for(let A=c;A<f;A++){const M=t.data[A],G=n[A];$u(A),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&eg(M,G)}}finally{jr(-1),$u(T)}}function eg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Im(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function md(t,n,s){if(s){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)s[n.exportAs[c]]=t;eo(n)&&(s[""]=t)}}function FE(t,n,s,c,f){t.data[c]=f;const m=f.factory||(f.factory=Ws(f.type)),T=new Do(m,eo(f),bu);t.blueprint[c]=T,s[c]=T,function Tu(t,n,s,c,f){const m=f.hostBindings;if(m){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const A=~n.index;(function Zp(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(T)!=A&&T.push(A),T.push(s,c,m)}}(t,n,c,y(t,s,f.hostVars,zr),f)}function Mc(t,n,s,c,f,m){const T=no(t,n);!function vh(t,n,s,c,f,m,T){if(null==m)t.removeAttribute(n,f,s);else{const A=null==T?Oe(m):T(m,c||"",f);t.setAttribute(n,f,A,s)}}(n[Qn],T,m,t.value,s,c,f)}function LE(t,n,s,c,f,m){const T=m[n];if(null!==T)for(let A=0;A<T.length;)vv(c,s,T[A++],T[A++],T[A++])}function vv(t,n,s,c,f){const m=qi(null);try{const T=t.inputTransforms;null!==T&&T.hasOwnProperty(c)&&(f=T[c].call(n,f)),null!==t.setInput?t.setInput(n,f,s,c):n[c]=f}finally{qi(m)}}function Cm(t,n,s){let c=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===c&&(c=[]);const T=t[m];for(let A=0;A<T.length;A+=2)if(T[A]===n){c.push(m,T[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function ng(t,n,s,c){return[t,!0,!1,n,null,0,c,s,null,null,null]}function wm(t,n){const s=t.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const m=s[c+1];if(-1!==m){const T=t.data[m];D(s[c]),T.contentQueries(2,n[m],m)}}}function Sf(t,n){return t[hs]?t[ki][Wi]=n:t[hs]=n,t[ki]=n,n}function rg(t,n,s){D(0);const c=qi(null);try{n(t,s)}finally{qi(c)}}function Z_(t){return t[Hs]||(t[Hs]=[])}function ey(t){return t.cleanup||(t.cleanup=[])}function ty(t,n){const s=t[ss],c=s?s.get(ul,null):null;c&&c.handleError(n)}function Am(t,n,s,c,f){for(let m=0;m<s.length;){const T=s[m++],A=s[m++];vv(t.data[T],n[T],c,A,f)}}function Wl(t,n,s){const c=La(n,t);!function gp(t,n,s){t.setValue(n,s)}(t[Qn],c,s)}function Tv(t,n){const s=Fi(n,t),c=s[_n];!function VE(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(c,s);const f=s[Qr];null!==f&&null===s[mn]&&(s[mn]=Dc(f,s[ss])),ig(c,s,s[Jr])}function ig(t,n,s){N(n);try{const c=t.viewQuery;null!==c&&rg(1,c,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wm(t,n),t.staticViewQueries&&rg(2,t.viewQuery,s);const m=t.components;null!==m&&function ny(t,n){for(let s=0;s<n.length;s++)Tv(t,n[s])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[nr]&=-5,yt()}}let Dm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,c,f){const m=typeof Zone>"u"?null:Zone.current,T=function Vt(t,n,s){const c=Object.create(Br);s&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=T=>{c.cleanupFn=T};return c.ref={notify:()=>As(c),run:()=>{if(c.dirty=!1,c.hasRun&&!_l(c))return;c.hasRun=!0;const T=wa(c);try{c.cleanupFn(),c.cleanupFn=Pn,c.fn(f)}finally{Aa(c,T)}},cleanup:()=>c.cleanupFn()},c.ref}(s,G=>{this.all.has(G)&&this.queue.set(G,m)},f);let A;this.all.add(T),T.notify();const M=()=>{T.cleanup(),A?.(),this.all.delete(T),this.queue.delete(T)};return A=c?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Po(t,n,s){let c=s?t.styles:null,f=s?t.classes:null,m=0;if(null!==n)for(let T=0;T<n.length;T++){const A=n[T];"number"==typeof A?m=A:1==m?f=Fe(f,A):2==m&&(c=Fe(c,A+": "+n[++T]+";"))}s?t.styles=c:t.stylesWithoutHost=c,s?t.classes=f:t.classesWithoutHost=f}function _d(t,n,s,c,f=!1){for(;null!==s;){const m=n[s.index];null!==m&&c.push(vr(m)),Lr(m)&&ry(m,c);const T=s.type;if(8&T)_d(t,n,s.child,c);else if(32&T){const A=vc(s,n);let M;for(;M=A();)c.push(M)}else if(16&T){const A=Hg(n,s);if(Array.isArray(A))c.push(...A);else{const M=ou(n[Q]);_d(M[_n],M,A,c,!0)}}s=f?s.projectionNext:s.next}return c}function ry(t,n){for(let s=Cr;s<t.length;s++){const c=t[s],f=c[_n].firstChild;null!==f&&_d(c[_n],c,f,n)}t[Zr]!==t[Qr]&&n.push(t[Zr])}function sg(t,n,s,c=!0){const f=n[Is],m=f.rendererFactory,T=f.afterRenderEventManager;m.begin?.(),T?.begin();try{Sm(t,n,t.template,s)}catch(M){throw c&&ty(n,M),M}finally{m.end?.(),f.effectManager?.flush(),T?.end()}}function Sm(t,n,s,c){const f=n[nr];if(256!=(256&f)){n[Is].effectManager?.flush(),N(n);try{la(n),function il(t){return pr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,c);const T=3==(3&f);if(T){const G=t.preOrderCheckHooks;null!==G&&Kc(n,G,null)}else{const G=t.preOrderHooks;null!==G&&Hu(n,G,0,null),Gu(n,0)}if(function Pf(t){for(let n=p_(t);null!==n;n=Ng(n)){if(!n[ui])continue;const s=n[Ki];for(let c=0;c<s.length;c++){El(s[c])}}}(n),Rm(n,2),null!==t.contentQueries&&wm(t,n),T){const G=t.contentCheckHooks;null!==G&&Kc(n,G)}else{const G=t.contentHooks;null!==G&&Hu(n,G,1),Gu(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const c=PE(n,yr);try{for(let f=0;f<s.length;f++){const m=s[f];if(m<0)jr(~m);else{const T=m,A=s[++f],M=s[++f];Kf(A,T),c.dirty=!1;const G=wa(c);try{M(2,n[T])}finally{Aa(c,G)}}}}finally{null===n[yr]&&xE(n,yr),jr(-1)}}(t,n);const A=t.components;null!==A&&Pm(n,A,0);const M=t.viewQuery;if(null!==M&&rg(2,M,c),T){const G=t.viewCheckHooks;null!==G&&Kc(n,G)}else{const G=t.viewHooks;null!==G&&Hu(n,G,2),Gu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[nr]&=-73,Lu(n)}finally{yt()}}}function Rm(t,n){for(let s=p_(t);null!==s;s=Ng(s))for(let c=Cr;c<s.length;c++)sy(s[c],n)}function iy(t,n,s){sy(Fi(n,t),s)}function sy(t,n){if(!function Fu(t){return 128==(128&t[nr])}(t))return;const s=t[_n],c=t[nr];if(80&c&&0===n||1024&c||2===n)Sm(s,t,s.template,t[Jr]);else if(t[is]>0){Rm(t,1);const f=s.components;null!==f&&Pm(t,f,1)}}function Pm(t,n,s){for(let c=0;c<n.length;c++)iy(t,n[c],s)}class Iu{get rootNodes(){const n=this._lView,s=n[_n];return _d(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jr]}set context(n){this._lView[Jr]=n}get destroyed(){return 256==(256&this._lView[nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[hr];if(Lr(n)){const s=n[8],c=s?s.indexOf(this):-1;c>-1&&(af(n,c),Ll(s,c))}this._attachedToViewContainer=!1}_p(this._lView[_n],this._lView)}onDestroy(n){!function Vu(t,n){if(256==(256&t[nr]))throw new Te(911,!1);null===t[bn]&&(t[bn]=[]),t[bn].push(n)}(this._lView,n)}markForCheck(){Xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[nr]&=-129}reattach(){this._lView[nr]|=128}detectChanges(){sg(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g_(t,n){uf(t,n,n[Qn],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=n}}class oy extends Iu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;sg(n[_n],n,n[Jr],!1)}checkNoChanges(){}get context(){return null}}class Eh extends za{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=tr(n);return new bh(s,this.ngModule)}}function og(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class yd{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,c){c=Sn(c);const f=this.injector.get(n,Af,c);return f!==Af||s===Af?f:this.parentInjector.get(n,s,c)}}class bh extends gm{get inputs(){const n=this.componentDef,s=n.inputTransforms,c=og(n.inputs);if(null!==s)for(const f of c)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return c}get outputs(){return og(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function fi(t){return t.map(ko).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,c,f){let m=(f=f||this.ngModule)instanceof _i?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new yd(n,m):n,A=T.get(Kp,null);if(null===A)throw new Te(407,!1);const we={rendererFactory:A,sanitizer:T.get(_m,null),effectManager:T.get(Dm,null),afterRenderEventManager:T.get(mv,null)},nt=A.createRenderer(null,this.componentDef),gt=this.componentDef.selectors[0][0]||"div",Ut=c?function Ct(t,n,s,c){const m=c.get(K_,!1)||s===ys.ShadowDom,T=t.selectRootElement(n,m);return function Ht(t){dn(t)}(T),T}(nt,c,this.componentDef.encapsulation,T):mp(nt,gt,function xm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(gt)),ur=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Zt=null;null!==Ut&&(Zt=Dc(Ut,T,!0));const $r=ye(0,null,null,1,0,null,null,null,null,null,null),vi=r(null,$r,null,ur,null,null,we,nt,T,null,Zt);let gs,Jl;N(vi);try{const Wf=this.componentDef;let Py,Wb=null;Wf.findHostDirectiveDefs?(Py=[],Wb=new Map,Wf.findHostDirectiveDefs(Wf,Py,Wb),Py.push(Wf)):Py=[Wf];const tD=function Iv(t,n){const s=t[_n],c=Vn;return t[c]=n,a(s,c,2,"#host",null)}(vi,Ut),nD=function ag(t,n,s,c,f,m,T){const A=f[_n];!function Cv(t,n,s,c){for(const f of t)n.mergedAttrs=es(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Po(n,n.mergedAttrs,!0),null!==s&&Ap(c,s,n))}(c,t,n,T);let M=null;null!==n&&(M=Dc(n,f[ss]));const G=m.rendererFactory.createRenderer(n,s);let se=16;s.signals?se=4096:s.onPush&&(se=64);const we=r(f,oe(s),null,se,f[t.index],t,m,G,null,null,M);return A.firstCreatePass&&Im(A,t,c.length-1),Sf(f,we),f[t.index]=we}(tD,Ut,Wf,Py,vi,we,nt);Jl=Io($r,Vn),Ut&&function wv(t,n,s,c){if(c)kr(t,s,["ng-version",iv.full]);else{const{attrs:f,classes:m}=function Ma(t){const n=[],s=[];let c=1,f=2;for(;c<t.length;){let m=t[c];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++c]):8===f&&s.push(m);else{if(!ci(f))break;f=m}c++}return{attrs:n,classes:s}}(n.selectors[0]);f&&kr(t,s,f),m&&m.length>0&&wp(t,s,m.join(" "))}}(nt,Wf,Ut,c),void 0!==s&&function lg(t,n,s){const c=t.projection=[];for(let f=0;f<n.length;f++){const m=s[f];c.push(null!=m?Array.from(m):null)}}(Jl,this.ngContentSelectors,s),gs=function ga(t,n,s,c,f,m){const T=kn(),A=f[_n],M=no(T,f);qe(A,f,T,s,null,c);for(let se=0;se<s.length;se++)$o(xl(f,A,T.directiveStart+se,T),f);yh(A,f,T),M&&$o(M,f);const G=xl(f,A,T.directiveStart+T.componentOffset,T);if(t[Jr]=f[Jr]=G,null!==m)for(const se of m)se(G,n);return R(A,T,t),G}(nD,Wf,Py,Wb,vi,[cg]),ig($r,vi,null)}finally{yt()}return new Mm(this.componentType,gs,fd(Jl,vi),vi,Jl)}}class Mm extends Zy{constructor(n,s,c,f,m){super(),this.location=c,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new oy(f),this.componentType=n}setInput(n,s){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const m=this._rootLView;Am(m[_n],m,f,n,s),this.previousInputValues.set(n,s),Xp(Fi(this._tNode.index,m))}}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function cg(){const t=kn();ua(Gt()[_n],t)}function ly(t){let n=function ay(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const c=[t];for(;n;){let f;if(eo(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Te(903,!1);f=n.\u0275dir}if(f){if(s){c.push(f);const T=t;T.inputs=Om(t.inputs),T.inputTransforms=Om(t.inputTransforms),T.declaredInputs=Om(t.declaredInputs),T.outputs=Om(t.outputs);const A=f.hostBindings;A&&Av(t,A);const M=f.viewQuery,G=f.contentQueries;if(M&&BE(t,M),G&&Nm(t,G),te(t.inputs,f.inputs),te(t.declaredInputs,f.declaredInputs),te(t.outputs,f.outputs),null!==f.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),te(T.inputTransforms,f.inputTransforms)),eo(f)&&f.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let T=0;T<m.length;T++){const A=m[T];A&&A.ngInherit&&A(t),A===ly&&(s=!1)}}n=Object.getPrototypeOf(n)}!function xf(t){let n=0,s=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=es(f.hostAttrs,s=es(s,f.hostAttrs))}}(c)}function Om(t){return t===gi?{}:t===lr?[]:t}function BE(t,n){const s=t.viewQuery;t.viewQuery=s?(c,f)=>{n(c,f),s(c,f)}:n}function Nm(t,n){const s=t.contentQueries;t.contentQueries=s?(c,f,m)=>{n(c,f,m),s(c,f,m)}:n}function Av(t,n){const s=t.hostBindings;t.hostBindings=s?(c,f)=>{n(c,f),s(c,f)}:n}function dy(t){const n=t.inputConfig,s={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[2]&&(s[c]=f[2])}t.inputTransforms=s}function Mf(t){return!!Oc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Oc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Kl(t,n,s){return t[n]=s}function Nf(t,n){return t[n]}function xo(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function wu(t,n,s,c){const f=xo(t,n,s);return xo(t,n+1,c)||f}function ma(t,n,s,c,f,m){const T=wu(t,n,s,c);return wu(t,n+2,f,m)||T}function dg(t,n,s,c){const f=Gt();return xo(f,sl(),n)&&(Or(),Mc(Ur(),f,t,n,s,c)),dg}function Ih(t,n,s,c){return xo(t,sl(),s)?n+Oe(s)+c:zr}function Ch(t,n,s,c,f,m){const A=wu(t,function ho(){return pr.lFrame.bindingIndex}(),s,f);return Co(2),A?n+Oe(s)+c+Oe(f)+m:zr}function Mh(t,n,s,c,f,m,T,A){const M=Gt(),G=Or(),se=t+Vn,we=G.firstCreatePass?function Dd(t,n,s,c,f,m,T,A,M){const G=n.consts,se=a(n,t,4,T||null,Ss(G,A));Dt(n,s,se,Ss(G,M)),ua(n,se);const we=se.tView=ye(2,se,c,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,se),we.queries=n.queries.embeddedTView(se)),se}(se,G,M,n,s,c,f,m,T):G.data[se];Qo(we,!1);const nt=Ym(G,M,we,t);Vo()&&$g(G,M,nt,we),$o(nt,M),Sf(M,M[se]=ng(nt,M,nt,we)),Zs(we)&&F(G,M,we),null!=T&&W(M,we,A)}let Ym=function Oh(t,n,s,c){return wo(!0),n[Qn].createComment("")};function Sd(t){return Ns(function Md(){return pr.lFrame.contextLView}(),Vn+t)}function pg(t,n,s){const c=Gt();return xo(c,sl(),n)&&Le(Or(),Ur(),c,t,n,c[Qn],s,!1),pg}function Rd(t,n,s,c,f){const T=f?"class":"style";Am(t,s,n.inputs[T],T,c)}function Fc(t,n,s,c){const f=Gt(),m=Or(),T=Vn+t,A=f[Qn],M=m.firstCreatePass?function gg(t,n,s,c,f,m){const T=n.consts,M=a(n,t,2,c,Ss(T,f));return Dt(n,s,M,Ss(T,m)),null!==M.attrs&&Po(M,M.attrs,!1),null!==M.mergedAttrs&&Po(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(T,m,f,n,s,c):m.data[T],G=Bf(m,f,M,A,n,t);f[T]=G;const se=Zs(M);return Qo(M,!0),Ap(A,G,M),32!=(32&M.flags)&&Vo()&&$g(m,f,G,M),0===function ca(){return pr.lFrame.elementDepthCount}()&&$o(G,f),function ic(){pr.lFrame.elementDepthCount++}(),se&&(F(m,f,M),R(m,M,f)),null!==c&&W(f,M),Fc}function Yl(){let t=kn();Tl()?ju():(t=t.parent,Qo(t,!1));const n=t;(function nn(t){return pr.skipHydrationRootTNode===t})(n)&&function Xo(){pr.skipHydrationRootTNode=null}(),function Uu(){pr.lFrame.elementDepthCount--}();const s=Or();return s.firstCreatePass&&(ua(s,t),yo(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function $h(t){return 0!=(8&t.flags)}(n)&&Rd(s,n,Gt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function qc(t){return 0!=(16&t.flags)}(n)&&Rd(s,n,Gt(),n.stylesWithoutHost,!1),Yl}function mg(t,n,s,c){return Fc(t,n,s,c),Yl(),mg}let Bf=(t,n,s,c,f,m)=>(wo(!0),mp(c,f,function ol(){return pr.lFrame.currentNamespace}()));function Mo(t,n,s){const c=Gt(),f=Or(),m=t+Vn,T=f.firstCreatePass?function my(t,n,s,c,f){const m=n.consts,T=Ss(m,c),A=a(n,t,8,"ng-container",T);return null!==T&&Po(A,T,!0),Dt(n,s,A,Ss(m,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(m,f,c,n,s):f.data[m];Qo(T,!0);const A=xa(f,c,T,t);return c[m]=A,Vo()&&$g(f,c,A,T),$o(A,c),Zs(T)&&(F(f,c,T),R(f,T,c)),null!=s&&W(c,T),Mo}function kh(){let t=kn();const n=Or();return Tl()?ju():(t=t.parent,Qo(t,!1)),n.firstCreatePass&&(ua(n,t),yo(t)&&n.queries.elementEnd(t)),kh}function jf(t,n,s){return Mo(t,n,s),kh(),jf}let xa=(t,n,s,c)=>(wo(!0),kg(n[Qn],""));function Fh(){return Gt()}function E(t){return!!t&&"function"==typeof t.then}function B(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,c){const f=Gt(),m=Or(),T=kn();return function kt(t,n,s,c,f,m,T){const A=Zs(c),G=t.firstCreatePass&&ey(t),se=n[Jr],we=Z_(n);let nt=!0;if(3&c.type||T){const hn=no(c,n),Fn=T?T(hn):hn,ur=we.length,Zt=T?vi=>T(vr(vi[c.index])):c.index;let $r=null;if(!T&&A&&($r=function _t(t,n,s,c){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const T=f[m];if(T===s&&f[m+1]===c){const A=n[Hs],M=f[m+2];return A.length>M?A[M]:null}"string"==typeof T&&(m+=2)}return null}(t,n,f,c.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=m,$r.__ngLastListenerFn__=m,nt=!1;else{m=Ui(c,n,se,m,!1);const vi=s.listen(Fn,f,m);we.push(m,vi),G&&G.push(f,Zt,ur,ur+1)}}else m=Ui(c,n,se,m,!1);const gt=c.outputs;let Ut;if(nt&&null!==gt&&(Ut=gt[f])){const hn=Ut.length;if(hn)for(let Fn=0;Fn<hn;Fn+=2){const gs=n[Ut[Fn]][Ut[Fn+1]].subscribe(m),Jl=we.length;we.push(m,gs),G&&G.push(f,c.index,Jl,-(Jl+1))}}}(m,f,f[Qn],T,t,n,c),q}function Cn(t,n,s,c){try{return Ni(6,n,s),!1!==s(c)}catch(f){return ty(t,f),!1}finally{Ni(7,n,s)}}function Ui(t,n,s,c,f){return function m(T){if(T===Function)return c;Xp(t.componentOffset>-1?Fi(t.index,n):n);let M=Cn(n,s,c,T),G=m.__ngNextListenerFn__;for(;G;)M=Cn(n,s,G,T)&&M,G=G.__ngNextListenerFn__;return f&&!1===M&&T.preventDefault(),M}}function so(t=1){return function In(t){return(pr.lFrame.contextLView=function or(t,n){for(;t>0;)n=n[Z],t--;return n}(t,pr.lFrame.contextLView))[Jr]}(t)}function Ru(t,n,s){return va(t,"",n,"",s),Ru}function va(t,n,s,c,f){const m=Gt(),T=Ih(m,n,s,c);return T!==zr&&Le(Or(),Ur(),m,t,T,m[Qn],f,!1),va}function vy(t,n){return t<<17|n<<2}function Vh(t){return t>>17&32767}function kv(t){return 2|t}function Pd(t){return(131068&t)>>2}function Fv(t,n){return-131069&t|n<<2}function Qm(t){return 1|t}function j0(t,n,s,c,f){const m=t[s+1],T=null===n;let A=c?Vh(m):Pd(m),M=!1;for(;0!==A&&(!1===M||T);){const se=t[A+1];Vv(t[A],n)&&(M=!0,t[A+1]=c?Qm(se):kv(se)),A=c?Vh(se):Pd(se)}M&&(t[s+1]=c?kv(m):Qm(m))}function Vv(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ja(t,n)>=0}const Go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GE(t){return t.substring(Go.key,Go.keyEnd)}function by(t,n){const s=Go.textEnd;return s===n?-1:(n=Go.keyEnd=function G0(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,Go.key=n,s),yg(t,n,s))}function yg(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Bv(t,n,s){return Lc(t,n,s,!1),Bv}function Ty(t,n){return Lc(t,n,null,!0),Ty}function YE(t){!function Vc(t,n,s,c){const f=Or(),m=Co(2);f.firstUpdatePass&&XE(f,null,m,c);const T=Gt();if(s!==zr&&xo(T,m,s)){const A=f.data[wr()];if(pl(A,c)&&!$v(f,m)){let M=c?A.classesWithoutHost:A.stylesWithoutHost;null!==M&&(s=Fe(M,s||"")),Rd(f,A,T,s,c)}else!function Iy(t,n,s,c,f,m,T,A){f===zr&&(f=lr);let M=0,G=0,se=0<f.length?f[0]:null,we=0<m.length?m[0]:null;for(;null!==se||null!==we;){const nt=M<f.length?f[M+1]:void 0,gt=G<m.length?m[G+1]:void 0;let hn,Ut=null;se===we?(M+=2,G+=2,nt!==gt&&(Ut=we,hn=gt)):null===we||null!==se&&se<we?(M+=2,Ut=se):(G+=2,Ut=we,hn=gt),null!==Ut&&JE(t,n,s,c,Ut,hn,T,A),se=M<f.length?f[M]:null,we=G<m.length?m[G]:null}}(f,A,T,T[Qn],T[m+1],T[m+1]=function Wv(t,n,s){if(null==s||""===s)return lr;const c=[],f=pa(s);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(c,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(c,m,f[m]);else"string"==typeof f&&n(c,f);return c}(t,n,s),c,m)}}(K0,xu,t,!0)}function xu(t,n){for(let s=function zE(t){return function KE(t){Go.key=0,Go.keyEnd=0,Go.value=0,Go.valueEnd=0,Go.textEnd=t.length}(t),by(t,yg(t,0,Go.textEnd))}(n);s>=0;s=by(n,s))ta(t,GE(n),!0)}function Lc(t,n,s,c){const f=Gt(),m=Or(),T=Co(2);m.firstUpdatePass&&XE(m,t,T,c),n!==zr&&xo(f,T,n)&&JE(m,m.data[wr()],f,f[Qn],t,f[T+1]=function ZE(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=he(pa(t)))),t}(n,s),c,T)}function $v(t,n){return n>=t.expandoStartIndex}function XE(t,n,s,c){const f=t.data;if(null===f[s+1]){const m=f[wr()],T=$v(t,s);pl(m,c)&&null===n&&!T&&(n=!1),n=function Uc(t,n,s,c){const f=function fo(t){const n=pr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(s=Zm(s=zv(null,t,n,s,c),n.attrs,c),m=null);else{const T=n.directiveStylingLast;if(-1===T||t[T]!==f)if(s=zv(f,t,n,s,c),null===m){let M=function Hv(t,n,s){const c=s?n.classBindings:n.styleBindings;if(0!==Pd(c))return t[Vh(c)]}(t,n,c);void 0!==M&&Array.isArray(M)&&(M=zv(null,t,n,M[1],c),M=Zm(M,n.attrs,c),function Jm(t,n,s,c){t[Vh(s?n.classBindings:n.styleBindings)]=c}(t,n,c,M))}else m=function Gv(t,n,s){let c;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)c=Zm(c,t[m].hostAttrs,s);return Zm(c,n.attrs,s)}(t,n,c)}return void 0!==m&&(c?n.residualClasses=m:n.residualStyles=m),s}(f,m,n,c),function HE(t,n,s,c,f,m){let T=m?n.classBindings:n.styleBindings,A=Vh(T),M=Pd(T);t[c]=s;let se,G=!1;if(Array.isArray(s)?(se=s[1],(null===se||ja(s,se)>0)&&(G=!0)):se=s,f)if(0!==M){const nt=Vh(t[A+1]);t[c+1]=vy(nt,A),0!==nt&&(t[nt+1]=Fv(t[nt+1],c)),t[A+1]=function U0(t,n){return 131071&t|n<<17}(t[A+1],c)}else t[c+1]=vy(A,0),0!==A&&(t[A+1]=Fv(t[A+1],c)),A=c;else t[c+1]=vy(M,0),0===A?A=c:t[M+1]=Fv(t[M+1],c),M=c;G&&(t[c+1]=kv(t[c+1])),j0(t,se,c,!0),j0(t,se,c,!1),function B0(t,n,s,c,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&ja(m,n)>=0&&(s[c+1]=Qm(s[c+1]))}(n,se,t,c,m),T=vy(A,M),m?n.classBindings=T:n.styleBindings=T}(f,m,n,s,T,c)}}function zv(t,n,s,c,f){let m=null;const T=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<T&&(m=n[A],c=Zm(c,m.hostAttrs,f),m!==t);)A++;return null!==t&&(s.directiveStylingLast=A),c}function Zm(t,n,s){const c=s?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const T=n[m];"number"==typeof T?f=T:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ta(t,T,!!s||n[++m]))}return void 0===t?null:t}function K0(t,n,s){const c=String(n);""!==c&&!c.includes(" ")&&ta(t,c,s)}function JE(t,n,s,c,f,m,T,A){if(!(3&n.type))return;const M=t.data,G=M[A+1],se=function Ey(t){return 1==(1&t)}(G)?Kv(M,n,s,f,Pd(G),T):void 0;e_(se)||(e_(m)||function V0(t){return 2==(2&t)}(G)&&(m=Kv(M,null,s,f,A,T)),function Ly(t,n,s,c,f){if(n)f?t.addClass(s,c):t.removeClass(s,c);else{let m=-1===c.indexOf("-")?void 0:Xd.DashCase;null==f?t.removeStyle(s,c,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Xd.Important),t.setStyle(s,c,f,m))}}(c,T,La(wr(),s),f,m))}function Kv(t,n,s,c,f,m){const T=null===n;let A;for(;f>0;){const M=t[f],G=Array.isArray(M),se=G?M[1]:M,we=null===se;let nt=s[f+1];nt===zr&&(nt=we?lr:void 0);let gt=we?na(nt,c):se===c?nt:void 0;if(G&&!e_(gt)&&(gt=na(M,c)),e_(gt)&&(A=gt,T))return A;const Ut=t[f+1];f=T?Vh(Ut):Pd(Ut)}if(null!==n){let M=m?n.residualClasses:n.residualStyles;null!=M&&(A=na(M,c))}return A}function e_(t){return void 0!==t}function pl(t,n){return 0!=(t.flags&(n?8:16))}function Hf(t,n=""){const s=Gt(),c=Or(),f=t+Vn,m=c.firstCreatePass?a(c,f,1,n,null):c.data[f],T=e0(c,s,m,n,t);s[f]=T,Vo()&&$g(c,s,T,m),Qo(m,!1)}let e0=(t,n,s,c,f)=>(wo(!0),function th(t,n){return t.createText(n)}(n[Qn],c));function qv(t){return t_("",t,""),qv}function t_(t,n,s){const c=Gt(),f=Ih(c,t,n,s);return f!==zr&&Wl(c,wr(),f),t_}function vg(t,n,s,c,f){const m=Gt(),T=Ch(m,t,n,s,c,f);return T!==zr&&Wl(m,wr(),T),vg}const I=void 0;var K=["en",[["a","p"],["AM","PM"],I],[["AM","PM"],I,I],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],I,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],I,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",I,"{1} 'at' {0}",I],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L(t){const s=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let ie={};function Xe(t){const n=function tn(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Tn(n);if(s)return s;const c=n.split("-")[0];if(s=Tn(c),s)return s;if("en"===c)return K;throw new Te(701,!1)}function jt(t){return Xe(t)[vn.PluralCase]}function Tn(t){return t in ie||(ie[t]=Gn.ng&&Gn.ng.common&&Gn.ng.common.locales&&Gn.ng.common.locales[t]),ie[t]}var vn=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(vn||{});const Nr="en-US";let Qi=Nr;function fb(t,n,s,c,f){if(t=Tt(t),Array.isArray(t))for(let m=0;m<t.length;m++)fb(t[m],n,s,c,f);else{const m=Or(),T=Gt(),A=kn();let M=gu(t)?t:Tt(t.provide);const G=Ef(t),se=1048575&A.providerIndexes,we=A.directiveStart,nt=A.providerIndexes>>20;if(gu(t)||!t.multi){const gt=new Do(G,f,bu),Ut=gb(M,n,f?se:se+nt,we);-1===Ut?(hc(dc(A,T),m,M),pb(m,t,n.length),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(gt),T.push(gt)):(s[Ut]=gt,T[Ut]=gt)}else{const gt=gb(M,n,se+nt,we),Ut=gb(M,n,se,se+nt),Fn=Ut>=0&&s[Ut];if(f&&!Fn||!f&&!(gt>=0&&s[gt])){hc(dc(A,T),m,M);const ur=function kC(t,n,s,c,f){const m=new Do(t,s,bu);return m.multi=[],m.index=n,m.componentProviders=0,cT(m,f,c&&!s),m}(f?NC:OC,s.length,f,c,G);!f&&Fn&&(s[Ut].providerFactory=ur),pb(m,t,n.length,0),n.push(M),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(ur),T.push(ur)}else pb(m,t,gt>-1?gt:Ut,cT(s[f?Ut:gt],G,!f&&c));!f&&c&&Fn&&s[Ut].componentProviders++}}}function pb(t,n,s,c){const f=gu(n),m=function om(t){return!!t.useClass}(n);if(f||m){const M=(m?Tt(n.useClass):n).prototype.ngOnDestroy;if(M){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const se=G.indexOf(s);-1===se?G.push(s,[c,M]):G[se+1].push(c,M)}else G.push(s,M)}}}function cT(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function gb(t,n,s,c){for(let f=s;f<c;f++)if(n[f]===t)return f;return-1}function OC(t,n,s,c){return mb(this.multi,[])}function NC(t,n,s,c){const f=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,A=xl(s,s[_n],this.providerFactory.index,c);m=A.slice(0,T),mb(f,m);for(let M=T;M<A.length;M++)m.push(A[M])}else m=[],mb(f,m);return m}function mb(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function uT(t,n=[]){return s=>{s.providersResolver=(c,f)=>function MC(t,n,s){const c=Or();if(c.firstCreatePass){const f=eo(t);fb(s,c.data,c.blueprint,f,!0),fb(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}class n_{}class dT{}function FC(t,n){return new _b(t,n??null,[])}class _b extends n_{constructor(n,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eh(this);const f=Gr(n);this._bootstrapComponents=gd(f.bootstrap),this._r3Injector=lv(n,s,[{provide:n_,useValue:this},{provide:za,useValue:this.componentFactoryResolver},...c],he(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class yb extends dT{constructor(n){super(),this.moduleType=n}create(n){return new _b(this.moduleType,n,[])}}class hT extends n_{constructor(n){super(),this.componentFactoryResolver=new Eh(this),this.instance=null;const s=new vf([...n.providers,{provide:n_,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],n.parent||Up(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function fT(t,n,s=null){return new hT({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let VC=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=Lp(0,s.type),f=c.length>0?fT([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sn({token:t,providedIn:"environment",factory:()=>new t(xt(_i))})}}return t})();function pT(t){t.getStandaloneInjector=n=>n.get(VC).getOrCreateStandaloneInjector(t)}function bT(t,n,s){const c=Rs()+t,f=Gt();return f[c]===zr?Kl(f,c,s?n.call(s):n()):Nf(f,c)}function TT(t,n,s,c){return ST(Gt(),Rs(),t,n,s,c)}function IT(t,n,s,c,f){return RT(Gt(),Rs(),t,n,s,c,f)}function CT(t,n,s,c,f,m){return PT(Gt(),Rs(),t,n,s,c,f,m)}function wT(t,n,s,c,f,m,T){return function xT(t,n,s,c,f,m,T,A,M){const G=n+s;return ma(t,G,f,m,T,A)?Kl(t,G+4,M?c.call(M,f,m,T,A):c(f,m,T,A)):rE(t,G+4)}(Gt(),Rs(),t,n,s,c,f,m,T)}function AT(t,n,s,c,f,m,T,A){const M=Rs()+t,G=Gt(),se=ma(G,M,s,c,f,m);return xo(G,M+4,T)||se?Kl(G,M+5,A?n.call(A,s,c,f,m,T):n(s,c,f,m,T)):Nf(G,M+5)}function DT(t,n,s,c,f,m,T,A,M){const G=Rs()+t,se=Gt(),we=ma(se,G,s,c,f,m);return wu(se,G+4,T,A)||we?Kl(se,G+6,M?n.call(M,s,c,f,m,T,A):n(s,c,f,m,T,A)):Nf(se,G+6)}function rE(t,n){const s=t[n];return s===zr?void 0:s}function ST(t,n,s,c,f,m){const T=n+s;return xo(t,T,f)?Kl(t,T+1,m?c.call(m,f):c(f)):rE(t,T+1)}function RT(t,n,s,c,f,m,T){const A=n+s;return wu(t,A,f,m)?Kl(t,A+2,T?c.call(T,f,m):c(f,m)):rE(t,A+2)}function PT(t,n,s,c,f,m,T,A){const M=n+s;return function Th(t,n,s,c,f){const m=wu(t,n,s,c);return xo(t,n+2,f)||m}(t,M,f,m,T)?Kl(t,M+3,A?c.call(A,f,m,T):c(f,m,T)):rE(t,M+3)}function OT(t,n){const s=Or();let c;const f=t+Vn;s.firstCreatePass?(c=function XC(t,n){if(n)for(let s=n.length-1;s>=0;s--){const c=n[s];if(t===c.name)return c}}(n,s.pipeRegistry),s.data[f]=c,c.onDestroy&&(s.destroyHooks??=[]).push(f,c.onDestroy)):c=s.data[f];const m=c.factory||(c.factory=Ws(c.type)),A=Hr(bu);try{const M=al(!1),G=m();return al(M),function fl(t,n,s,c){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=c}(s,Gt(),f,G),G}finally{Hr(A)}}function NT(t,n,s){const c=t+Vn,f=Gt(),m=Ns(f,c);return iE(f,c)?ST(f,Rs(),n,m.transform,s,m):m.transform(s)}function kT(t,n,s,c){const f=t+Vn,m=Gt(),T=Ns(m,f);return iE(m,f)?RT(m,Rs(),n,T.transform,s,c,T):T.transform(s,c)}function FT(t,n,s,c,f){const m=t+Vn,T=Gt(),A=Ns(T,m);return iE(T,m)?PT(T,Rs(),n,A.transform,s,c,f,A):A.transform(s,c,f)}function iE(t,n){return t[_n].data[n].pure}function ZC(){return this._results[Symbol.iterator]()}class Eb{get changes(){return this._changes||(this._changes=new xc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Eb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ZC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const c=this;c.dirty=!1;const f=function ea(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Kh(t,n,s){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],m=n[c];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(c._results,f,s))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tw(t,n,s,c=!0){const f=n[_n];if(function Ny(t,n,s,c){const f=Cr+c,m=s.length;c>0&&(s[f-1][Wi]=n),c<m-Cr?(n[Wi]=s[f],Hd(s,Cr+c,n)):(s.push(n),n[Wi]=null),n[hr]=s;const T=n[Ce];null!==T&&s!==T&&function sd(t,n){const s=t[Ki];n[Q]!==n[hr][hr][Q]&&(t[ui]=!0),null===s?t[Ki]=[n]:s.push(n)}(T,n);const A=n[it];null!==A&&A.insertView(t),n[nr]|=128}(f,n,t,s),c){const m=lf(s,t),T=n[Qn],A=nh(T,t[Zr]);null!==A&&function Lg(t,n,s,c,f,m){c[Qr]=f,c[Oi]=n,uf(t,c,s,1,f,m)}(f,t[Oi],T,n,A,m)}}let sE=(()=>{class t{static{this.__NG_ELEMENT_ID__=iw}}return t})();const nw=sE,rw=class extends nw{constructor(n,s,c){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,c){const f=function ew(t,n,s,c){const f=n.tView,A=r(t,f,s,4096&t[nr]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);A[Ce]=t[n.index];const G=t[it];return null!==G&&(A[it]=G.createEmbeddedView(f)),ig(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:c});return new Iu(f)}};function iw(){return b0(kn(),Gt())}function b0(t,n){return 4&t.type?new rw(n,t,fd(t,n)):null}let I0=(()=>{class t{static{this.__NG_ELEMENT_ID__=uw}}return t})();function uw(){return HT(kn(),Gt())}const dw=I0,jT=class extends dw{constructor(n,s,c){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=c}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Rl(this._hostTNode,this._hostLView);if(Ku(n)){const s=cc(n,this._hostLView),c=Sl(n);return new qs(s[_n].data[c+8],s)}return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=$T(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(n,s,c){let f,m;"number"==typeof c?f=c:null!=c&&(f=c.index,m=c.injector);const A=n.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(A,f,false),A}createComponent(n,s,c,f,m){const T=n&&!function kl(t){return"function"==typeof t}(n);let A;if(T)A=s;else{const hn=s||{};A=hn.index,c=hn.injector,f=hn.projectableNodes,m=hn.environmentInjector||hn.ngModuleRef}const M=T?n:new bh(tr(n)),G=c||this.parentInjector;if(!m&&null==M.ngModule){const Fn=(T?G:this.parentInjector).get(_i,null);Fn&&(m=Fn)}tr(M.componentType??{});const gt=M.create(G,f,null,m);return this.insertImpl(gt.hostView,A,false),gt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,c){const f=n._lView;if(function aa(t){return Lr(t[hr])}(f)){const M=this.indexOf(n);if(-1!==M)this.detach(M);else{const G=f[hr],se=new jT(G,G[Oi],G[hr]);se.detach(se.indexOf(n))}}const T=this._adjustIndex(s),A=this._lContainer;return tw(A,f,T,!c),n.attachToViewContainerRef(),Hd(bb(A),T,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=$T(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),c=af(this._lContainer,s);c&&(Ll(bb(this._lContainer),s),_p(c[_n],c))}detach(n){const s=this._adjustIndex(n,-1),c=af(this._lContainer,s);return c&&null!=Ll(bb(this._lContainer),s)?new Iu(c):null}_adjustIndex(n,s=0){return n??this.length+s}};function $T(t){return t[8]}function bb(t){return t[8]||(t[8]=[])}function HT(t,n){let s;const c=n[t.index];return Lr(c)?s=c:(s=ng(c,n,null,t),n[t.index]=s,Sf(n,s)),GT(s,n,t,c),new jT(s,t,n)}let GT=function zT(t,n,s,c){if(t[Zr])return;let f;f=8&s.type?vr(c):function hw(t,n){const s=t[Qn],c=s.createComment(""),f=no(n,t);return Ec(s,nh(s,f),c,function lu(t,n){return t.nextSibling(n)}(s,f),!1),c}(n,s),t[Zr]=f};class Tb{constructor(n){this.queryList=n,this.matches=null}clone(){return new Tb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ib{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const c=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let m=0;m<c;m++){const T=s.getByIndex(m);f.push(this.queries[T.indexInDeclarationView].clone())}return new Ib(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==eI(n,s).matches&&this.queries[s].setDirty()}}class WT{constructor(n,s,c=null){this.predicate=n,this.flags=s,this.read=c}}class Cb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,m=this.getByIndex(c).embeddedTView(n,f);m&&(m.indexInDeclarationView=c,null!==s?s.push(m):s=[m])}return null!==s?new Cb(s):null}template(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class wb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new wb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const m=c[f];this.matchTNodeWithReadOption(n,s,gw(s,m)),this.matchTNodeWithReadOption(n,s,Sa(s,n,m,!1,!1))}else c===sE?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Sa(s,n,c,!1,!1))}matchTNodeWithReadOption(n,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===pd||f===I0||f===sE&&4&s.type)this.addMatch(s.index,-2);else{const m=Sa(s,n,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,c)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function gw(t,n){const s=t.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===n)return s[c+1];return null}function _w(t,n,s,c){return-1===s?function mw(t,n){return 11&t.type?fd(t,n):4&t.type?b0(t,n):null}(n,t):-2===s?function yw(t,n,s){return s===pd?fd(n,t):s===sE?b0(n,t):s===I0?HT(n,t):void 0}(t,n,c):xl(t,t[_n],s,n)}function KT(t,n,s,c){const f=n[it].queries[c];if(null===f.matches){const m=t.data,T=s.matches,A=[];for(let M=0;M<T.length;M+=2){const G=T[M];A.push(G<0?null:_w(n,m[G],T[M+1],s.metadata.read))}f.matches=A}return f.matches}function Ab(t,n,s,c){const f=t.queries.getByIndex(s),m=f.matches;if(null!==m){const T=KT(t,n,f,s);for(let A=0;A<m.length;A+=2){const M=m[A];if(M>0)c.push(T[A/2]);else{const G=m[A+1],se=n[-M];for(let we=Cr;we<se.length;we++){const nt=se[we];nt[Ce]===nt[hr]&&Ab(nt[_n],nt,G,c)}if(null!==se[Ki]){const we=se[Ki];for(let nt=0;nt<we.length;nt++){const gt=we[nt];Ab(gt[_n],gt,G,c)}}}}}return c}function qT(t){const n=Gt(),s=Or(),c=Il();D(c+1);const f=eI(s,c);if(t.dirty&&function ku(t){return 4==(4&t[nr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?Ab(s,n,c,[]):KT(s,n,f,c);t.reset(m,tv),t.notifyOnChanges()}return!0}return!1}function YT(t,n,s){const c=Or();c.firstCreatePass&&(ZT(c,new WT(t,n,s),-1),2==(2&n)&&(c.staticViewQueries=!0)),JT(c,Gt(),n)}function XT(t,n,s,c){const f=Or();if(f.firstCreatePass){const m=kn();ZT(f,new WT(n,s,c),m.index),function Ew(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}JT(f,Gt(),s)}function QT(){return function vw(t,n){return t[it].queries[n].queryList}(Gt(),Il())}function JT(t,n,s){const c=new Eb(4==(4&s));(function cr(t,n,s,c){const f=Z_(n);f.push(s),t.firstCreatePass&&ey(t).push(c,f.length-1)})(t,n,c,c.destroy),null===n[it]&&(n[it]=new Ib),n[it].queries.push(new Tb(c))}function ZT(t,n,s){null===t.queries&&(t.queries=new Cb),t.queries.track(new wb(n,s))}function eI(t,n){return t.queries.getByIndex(n)}function tI(t,n){return b0(t,n)}function Db(t){return!!Gr(t)}const yI=new fn("Application Initializer");let Mb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=pn(yI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const m=f();if(E(m))s.push(m);else if(B(m)){const T=new Promise((A,M)=>{m.subscribe({complete:A,error:M})});s.push(T)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const w0=new fn("LocaleId",{providedIn:"root",factory:()=>pn(w0,wn.Optional|wn.SkipSelf)||function jw(){return typeof $localize<"u"&&$localize.locale||Nr}()}),$w=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let EI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class Gw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let zw=(()=>{class t{compileModuleSync(s){return new yb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),m=gd(Gr(s).declarations).reduce((T,A)=>{const M=tr(A);return M&&T.push(new bh(M)),T},[]);return new Gw(c,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const CI=new fn(""),wI=new fn("");let kb,fA=(()=>{class t{constructor(s,c,f){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kb||(function pA(t){kb=t}(f),f.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ro.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==m),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,f){return[]}static{this.\u0275fac=function(c){return new(c||t)(xt(Ro),xt(AI),xt(wI))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac})}}return t})(),AI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return kb?.findTestabilityInTree(this,s,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Cg=null;const DI=new fn("AllowMultipleToken"),Fb=new fn("PlatformDestroyListeners"),Lb=new fn("appBootstrapListener");class _A{constructor(n,s){this.name=n,this.token=s}}function PI(t,n,s=[]){const c=`Platform: ${n}`,f=new fn(c);return(m=[])=>{let T=Vb();if(!T||T.injector.get(DI,!1)){const A=[...s,...m,{provide:f,useValue:!0}];t?t(A):function yA(t){if(Cg&&!Cg.get(DI,!1))throw new Te(400,!1);(function SI(){!function Fa(t){qo=t}(()=>{throw new Te(600,!1)})})(),Cg=t;const n=t.get(MI);(function RI(t){t.get(F_,null)?.forEach(s=>s())})(t)}(function xI(t=[],n){return Sc.create({name:n,providers:[{provide:_f,useValue:"platform"},{provide:Fb,useValue:new Set([()=>Cg=null])},...t]})}(A,c))}return function EA(t){const n=Vb();if(!n)throw new Te(401,!1);return n}()}}function Vb(){return Cg?.get(MI)??null}let MI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const f=function bA(t="zone.js",n){return"noop"===t?new W_:"zone.js"===t?new Ro(n):t}(c?.ngZone,function OI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const m=function LC(t,n,s){return new _b(t,n,s)}(s.moduleType,this.injector,function VI(t){return[{provide:Ro,useFactory:t},{provide:ud,multi:!0,useFactory:()=>{const n=pn(IA,{optional:!0});return()=>n.initialize()}},{provide:LI,useFactory:TA},{provide:IE,useFactory:dv}]}(()=>f)),T=m.injector.get(ul,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:M=>{T.handleError(M)}});m.onDestroy(()=>{D0(this._modules,m),A.unsubscribe()})}),function NI(t,n,s){try{const c=s();return E(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(T,f,()=>{const A=m.injector.get(Mb);return A.runInitializers(),A.donePromise.then(()=>(function Ji(t){lt(t,"Expected localeId to be defined"),"string"==typeof t&&(Qi=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(w0,Nr)||Nr),this._moduleDoBootstrap(m),m))})})}bootstrapModule(s,c=[]){const f=kI({},c);return function gA(t,n,s){const c=new yb(s);return Promise.resolve(c)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(s){const c=s.injector.get(Ry);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Te(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(Fb,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(xt(Sc))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function kI(t,n){return Array.isArray(n)?n.reduce(kI,t):{...t,...n}}let Ry=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pn(LI),this.zoneIsStable=pn(IE),this.componentTypes=[],this.components=[],this.isStable=pn(EI).hasPendingTasks.pipe((0,Be.n)(s=>s?(0,De.of)(!1):this.zoneIsStable),(0,ke.F)(),(0,be.u)()),this._injector=pn(_i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const f=s instanceof gm;if(!this._injector.get(Mb).done)throw!f&&us(s),new Te(405,!1);let T;T=f?s:this._injector.get(za).resolveComponentFactory(s),this.componentTypes.push(T.componentType);const A=function mA(t){return t.isBoundToModule}(T)?void 0:this._injector.get(n_),G=T.create(Sc.NULL,[],c||T.selector,A),se=G.location.nativeElement,we=G.injector.get(CI,null);return we?.registerApplication(se),G.onDestroy(()=>{this.detachView(G.hostView),D0(this.components,G),we?.unregisterApplication(se)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;D0(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(Lb,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>D0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Te(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function D0(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const LI=new fn("",{providedIn:"root",factory:()=>pn(ul).handleError.bind(void 0)});function TA(){const t=pn(Ro),n=pn(ul);return s=>t.runOutsideAngular(()=>n.handleError(s))}let IA=(()=>{class t{constructor(){this.zone=pn(Ro),this.applicationRef=pn(Ry)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wA(){return!1}let AA=(()=>{class t{static{this.__NG_ELEMENT_ID__=DA}}return t})();function DA(t){return function SA(t,n,s){if(Vi(t)&&!s){const c=Fi(t.index,n);return new Iu(c,c)}return 47&t.type?new Iu(n[Q],n):null}(kn(),Gt(),16==(16&t))}class HI{constructor(){}supports(n){return Mf(n)}create(n){return new OA(n)}}const MA=(t,n)=>n;class OA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MA}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,c=this._removalsHead,f=0,m=null;for(;s||c;){const T=!c||s&&s.currentIndex<zI(c,f,m)?s:c,A=zI(T,f,m),M=T.currentIndex;if(T===c)f--,c=c._nextRemoved;else if(s=s._next,null==T.previousIndex)f++;else{m||(m=[]);const G=A-f,se=M-f;if(G!=se){for(let nt=0;nt<G;nt++){const gt=nt<m.length?m[nt]:m[nt]=0,Ut=gt+nt;se<=Ut&&Ut<G&&(m[nt]=gt+1)}m[T.previousIndex]=se-G}}A!==M&&n(T,A,M)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Mf(n))throw new Te(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,T,s=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)m=n[A],T=this._trackByFn(A,m),null!==s&&Object.is(s.trackById,T)?(c&&(s=this._verifyReinsertion(s,m,T,A)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,T,A),c=!0),s=s._next}else f=0,function Of(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let c;for(;!(c=s.next()).done;)n(c.value)}}(n,A=>{T=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,T)?(c&&(s=this._verifyReinsertion(s,A,T,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,T,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,c,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,m,f)):n=this._addAfter(new NA(s,c),m,f),n}_verifyReinsertion(n,s,c,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,s,c),this._addToMoves(n,c),n}_moveAfter(n,s,c){return this._unlink(n),this._insertAfter(n,s,c),this._addToMoves(n,c),n}_addAfter(n,s,c){return this._insertAfter(n,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,c){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new GI),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,c=n._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class NA{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const s=n._prevDup,c=n._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class GI{constructor(){this.map=new Map}put(n){const s=n.trackById;let c=this.map.get(s);c||(c=new kA,this.map.set(s,c)),c.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zI(t,n,s){const c=t.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+n+f}class WI{constructor(){}supports(n){return n instanceof Map||Oc(n)}create(){return new FA}}class FA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Oc(n)))throw new Te(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const c=n._prev;return s._next=n,s._prev=c,n._prev=s,c&&(c._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const m=f._prev,T=f._next;return m&&(m._next=T),T&&(T._prev=m),f._next=null,f._prev=null,f}const c=new LA(n);return this._records.set(n,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(c=>s(n[c],c))}}class LA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KI(){return new Hb([new HI])}let Hb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:KI})}constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||KI()),deps:[[t,new Zc,new Bl]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new Te(901,!1)}}return t})();function qI(){return new Gb([new WI])}let Gb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:qI})}constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||qI()),deps:[[t,new Zc,new Bl]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(c)return c;throw new Te(901,!1)}}return t})();const BA=PI(null,"core",[]);let jA=(()=>{class t{constructor(s){}static{this.\u0275fac=function(c){return new(c||t)(xt(Ry))}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=Jt({})}}return t})();function JA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function eD(t){const n=tr(t);if(!n)return null;const s=new bh(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(on,tt,V)=>{V.d(tt,{DS:()=>Pt,X8:()=>Ue,$z:()=>Yt,UB:()=>sr,yy:()=>Ot,ZP:()=>Ie,AU:()=>gn,CP:()=>$e,gF:()=>Qe}),V(2438);var ue=V(177),i=V(7705),ve=V(5407),ge=V(9253),De=V(1413),be=V(7673),Be=V(1985),ke=V(8455),J=V(7786),te=V(941),he=V(5558),Fe=V(6354),Ge=V(6129);class pt extends De.B{constructor(Pe=1/0,st=1/0,en=Ge.U){super(),this._bufferSize=Pe,this._windowTime=st,this._timestampProvider=en,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=st===1/0,this._bufferSize=Math.max(1,Pe),this._windowTime=Math.max(1,st)}next(Pe){const{isStopped:st,_buffer:en,_infiniteTimeWindow:We,_timestampProvider:Ae,_windowTime:Ee}=this;st||(en.push(Pe),!We&&en.push(Ae.now()+Ee)),this._trimBuffer(),super.next(Pe)}_subscribe(Pe){this._throwIfClosed(),this._trimBuffer();const st=this._innerSubscribe(Pe),{_infiniteTimeWindow:en,_buffer:We}=this,Ae=We.slice();for(let Ee=0;Ee<Ae.length&&!Pe.closed;Ee+=en?1:2)Pe.next(Ae[Ee]);return this._checkFinalizedStatuses(Pe),st}_trimBuffer(){const{_bufferSize:Pe,_timestampProvider:st,_buffer:en,_infiniteTimeWindow:We}=this,Ae=(We?1:2)*Pe;if(Pe<1/0&&Ae<en.length&&en.splice(0,en.length-Ae),!We){const Ee=st.now();let Me=0;for(let lt=1;lt<en.length&&en[lt]<=Ee;lt+=2)Me=lt;Me&&en.splice(0,Me+1)}}}var Tt=V(7647);function Mt(at,Pe,st){let en,We=!1;return at&&"object"==typeof at?({bufferSize:en=1/0,windowTime:Pe=1/0,refCount:We=!1,scheduler:st}=at):en=at??1/0,(0,Tt.u)({connector:()=>new pt(en,Pe,st),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:We})}var Nt=V(1594),Qt=V(8071);function ze(at,Pe){return(0,Qt.T)(Pe)?(0,he.n)(()=>at,Pe):(0,he.n)(()=>at)}var Te=V(6745),Ze=V(5964),Oe=V(7935);const $e=new i.nKC("angularfire2.auth.use-emulator"),Ot=new i.nKC("angularfire2.auth.settings"),Ie=new i.nKC("angularfire2.auth.tenant-id"),Yt=new i.nKC("angularfire2.auth.langugage-code"),gn=new i.nKC("angularfire2.auth.use-device-language"),sr=new i.nKC("angularfire.auth.persistence"),Qe=(at,Pe,st,en,We,Ae,Ee,Me)=>(0,ge.BM)(`${at.name}.auth`,"AngularFireAuth",at.name,()=>{const lt=Pe.runOutsideAngular(()=>at.auth());if(st&&lt.useEmulator(...st),en&&(lt.tenantId=en),lt.languageCode=We,Ae&&lt.useDeviceLanguage(),Ee)for(const[rt,Lt]of Object.entries(Ee))lt.settings[rt]=Lt;return Me&&lt.setPersistence(Me),lt},[st,en,We,Ae,Ee,Me]);let Pt=(()=>{class at{authState;idToken;user;idTokenResult;credential;constructor(st,en,We,Ae,Ee,Me,lt,rt,Lt,An,rr,sn){const Bn=new De.B,Jt=(0,be.of)(void 0).pipe((0,te.Q)(Ee.outsideAngular),(0,he.n)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2438)))),(0,Fe.T)(()=>(0,ge.iB)(st,Ae,en)),(0,Fe.T)(jn=>Qe(jn,Ae,Me,rt,Lt,An,lt,rr)),Mt({bufferSize:1,refCount:!1}));if((0,ue.Vy)(We))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{Jt.pipe((0,Nt.$)()).subscribe();const jn=Jt.pipe((0,he.n)(Bt=>Bt.getRedirectResult().then(Er=>Er,()=>null)),ve.U0,Mt({bufferSize:1,refCount:!1})),xn=Jt.pipe((0,he.n)(Bt=>new Be.c(Er=>({unsubscribe:Ae.runOutsideAngular(()=>Bt.onAuthStateChanged(an=>Er.next(an),an=>Er.error(an),()=>Er.complete()))})))),zt=Jt.pipe((0,he.n)(Bt=>new Be.c(Er=>({unsubscribe:Ae.runOutsideAngular(()=>Bt.onIdTokenChanged(an=>Er.next(an),an=>Er.error(an),()=>Er.complete()))}))));this.authState=jn.pipe(ze(xn),(0,Te._)(Ee.outsideAngular),(0,te.Q)(Ee.insideAngular)),this.user=jn.pipe(ze(zt),(0,Te._)(Ee.outsideAngular),(0,te.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,he.n)(Bt=>Bt?(0,ke.H)(Bt.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,he.n)(Bt=>Bt?(0,ke.H)(Bt.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,J.h)(jn,Bn,this.authState.pipe((0,Ze.p)(Bt=>!Bt))).pipe((0,Fe.T)(Bt=>Bt?.user?Bt:null),(0,Te._)(Ee.outsideAngular),(0,te.Q)(Ee.insideAngular))}return(0,ge.Gt)(this,Jt,Ae,{spy:{apply:(jn,xn,zt)=>{(jn.startsWith("signIn")||jn.startsWith("createUser"))&&zt.then(Bt=>Bn.next(Bt))}}})}static \u0275fac=function(en){return new(en||at)(i.KVO(ge.rx),i.KVO(ge.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(ve.u0),i.KVO($e,8),i.KVO(Ot,8),i.KVO(Ie,8),i.KVO(Yt,8),i.KVO(gn,8),i.KVO(sr,8),i.KVO(ve.Jv,8))};static \u0275prov=i.jDH({token:at,factory:at.\u0275fac,providedIn:"any"})}return at})(),Ue=(()=>{class at{constructor(){Oe.A.registerVersion("angularfire",ve.xv.full,"auth-compat")}static \u0275fac=function(en){return new(en||at)};static \u0275mod=i.$C({type:at});static \u0275inj=i.G2t({providers:[Pt]})}return at})()},6340:(on,tt,V)=>{V.d(tt,{Qe:()=>Ii,cM:()=>ot});var o=V(177),ue=V(7705),i=V(5407),ve=V(9253),ge=V(1977),De=V(3236),be=V(1985),Be=V(8455),ke=V(7673),J=V(9172),te=V(9974),he=V(4360);function Fe(){return(0,te.N)((Et,ce)=>{let xe,At=!1;Et.subscribe((0,he._)(ce,qt=>{const Ve=xe;xe=qt,At&&ce.next([Ve,qt]),At=!0}))})}var Ge=V(6354),pt=V(2816),Tt=V(3294),Mt=V(5964),Qt=(V(2438),V(3345)),ze=V(9583),Te=V(1076),Ze=V(1362);function $e(Et,ce){if(void 0===ce)return{merge:!1};if(void 0!==ce.mergeFields&&void 0!==ce.merge)throw new ze.W6("invalid-argument",`Invalid options passed to function ${Et}(): You cannot specify both "merge" and "mergeFields".`);return ce}function Ot(){if(typeof Uint8Array>"u")throw new ze.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,ze.qG)())throw new ze.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Yt{constructor(ce){this._delegate=ce}static fromBase64String(ce){return Ie(),new Yt(ze.Ix.fromBase64String(ce))}static fromUint8Array(ce){return Ot(),new Yt(ze.Ix.fromUint8Array(ce))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return Ot(),this._delegate.toUint8Array()}isEqual(ce){return this._delegate.isEqual(ce._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gn(Et){return function sr(Et,ce){if("object"!=typeof Et||null===Et)return!1;const xe=Et;for(const At of ce)if(At in xe&&"function"==typeof xe[At])return!0;return!1}(Et,["next","error","complete"])}class Qe{enableIndexedDbPersistence(ce,xe){return(0,ze.ol)(ce._delegate,{forceOwnership:xe})}enableMultiTabIndexedDbPersistence(ce){return(0,ze.Q5)(ce._delegate)}clearIndexedDbPersistence(ce){return(0,ze.me)(ce._delegate)}}class Pt{constructor(ce,xe,At){this._delegate=xe,this._persistenceProvider=At,this.INTERNAL={delete:()=>this.terminate()},ce instanceof ze.cm||(this._appCompat=ce)}get _databaseId(){return this._delegate._databaseId}settings(ce){const xe=this._delegate._getSettings();!ce.merge&&xe.host!==ce.host&&(0,ze.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ce.merge&&delete(ce=Object.assign(Object.assign({},xe),ce)).merge,this._delegate._setSettings(ce)}useEmulator(ce,xe,At={}){(0,ze.vN)(this._delegate,ce,xe,At)}enableNetwork(){return(0,ze.Os)(this._delegate)}disableNetwork(){return(0,ze.LA)(this._delegate)}enablePersistence(ce){let xe=!1,At=!1;return ce&&(xe=!!ce.synchronizeTabs,At=!!ce.experimentalForceOwningTab,(0,ze.c8)("synchronizeTabs",xe,"experimentalForceOwningTab",At)),xe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,At)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ze.iB)(this._delegate)}onSnapshotsInSync(ce){return(0,ze.FC)(this._delegate,ce)}get app(){if(!this._appCompat)throw new ze.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ce){try{return new sn(this,(0,ze.rJ)(this._delegate,ce))}catch(xe){throw Ae(xe,"collection()","Firestore.collection()")}}doc(ce){try{return new We(this,(0,ze.H9)(this._delegate,ce))}catch(xe){throw Ae(xe,"doc()","Firestore.doc()")}}collectionGroup(ce){try{return new Lt(this,(0,ze.Cs)(this._delegate,ce))}catch(xe){throw Ae(xe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ce){return(0,ze.c4)(this._delegate,xe=>ce(new Pe(this,xe)))}batch(){return(0,ze.Ws)(this._delegate),new st(new ze.GA(this._delegate,ce=>(0,ze.z6)(this._delegate,ce)))}loadBundle(ce){return(0,ze.po)(this._delegate,ce)}namedQuery(ce){return(0,ze.St)(this._delegate,ce).then(xe=>xe?new Lt(this,xe):null)}}class Ue extends ze.fS{constructor(ce){super(),this.firestore=ce}convertBytes(ce){return new Yt(new ze.Ix(ce))}convertReference(ce){const xe=this.convertDocumentKey(ce,this.firestore._databaseId);return We.forKey(xe,this.firestore,null)}}class Pe{constructor(ce,xe){this._firestore=ce,this._delegate=xe,this._userDataWriter=new Ue(ce)}get(ce){const xe=Bn(ce);return this._delegate.get(xe).then(At=>new lt(this._firestore,new ze.Wq(this._firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,xe.converter)))}set(ce,xe,At){const qt=Bn(ce);return At?($e("Transaction.set",At),this._delegate.set(qt,xe,At)):this._delegate.set(qt,xe),this}update(ce,xe,At,...qt){const Ve=Bn(ce);return 2===arguments.length?this._delegate.update(Ve,xe):this._delegate.update(Ve,xe,At,...qt),this}delete(ce){const xe=Bn(ce);return this._delegate.delete(xe),this}}class st{constructor(ce){this._delegate=ce}set(ce,xe,At){const qt=Bn(ce);return At?($e("WriteBatch.set",At),this._delegate.set(qt,xe,At)):this._delegate.set(qt,xe),this}update(ce,xe,At,...qt){const Ve=Bn(ce);return 2===arguments.length?this._delegate.update(Ve,xe):this._delegate.update(Ve,xe,At,...qt),this}delete(ce){const xe=Bn(ce);return this._delegate.delete(xe),this}commit(){return this._delegate.commit()}}class en{constructor(ce,xe,At){this._firestore=ce,this._userDataWriter=xe,this._delegate=At}fromFirestore(ce,xe){const At=new ze.YQ(this._firestore._delegate,this._userDataWriter,ce._key,ce._document,ce.metadata,null);return this._delegate.fromFirestore(new rt(this._firestore,At),xe??{})}toFirestore(ce,xe){return xe?this._delegate.toFirestore(ce,xe):this._delegate.toFirestore(ce)}static getInstance(ce,xe){const At=en.INSTANCES;let qt=At.get(ce);qt||(qt=new WeakMap,At.set(ce,qt));let Ve=qt.get(xe);return Ve||(Ve=new en(ce,new Ue(ce),xe),qt.set(xe,Ve)),Ve}}en.INSTANCES=new WeakMap;class We{constructor(ce,xe){this.firestore=ce,this._delegate=xe,this._userDataWriter=new Ue(ce)}static forPath(ce,xe,At){if(ce.length%2!=0)throw new ze.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ce.canonicalString()} has ${ce.length}`);return new We(xe,new ze.T1(xe._delegate,At,new ze.K$(ce)))}static forKey(ce,xe,At){return new We(xe,new ze.T1(xe._delegate,At,ce))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ce){try{return new sn(this.firestore,(0,ze.rJ)(this._delegate,ce))}catch(xe){throw Ae(xe,"collection()","DocumentReference.collection()")}}isEqual(ce){return(ce=(0,Te.Ku)(ce))instanceof ze.T1&&(0,ze.yx)(this._delegate,ce)}set(ce,xe){xe=$e("DocumentReference.set",xe);try{return xe?(0,ze.BN)(this._delegate,ce,xe):(0,ze.BN)(this._delegate,ce)}catch(At){throw Ae(At,"setDoc()","DocumentReference.set()")}}update(ce,xe,...At){try{return 1===arguments.length?(0,ze.mZ)(this._delegate,ce):(0,ze.mZ)(this._delegate,ce,xe,...At)}catch(qt){throw Ae(qt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ze.kd)(this._delegate)}onSnapshot(...ce){const xe=Ee(ce),At=Me(ce,qt=>new lt(this.firestore,new ze.Wq(this.firestore._delegate,this._userDataWriter,qt._key,qt._document,qt.metadata,this._delegate.converter)));return(0,ze.aQ)(this._delegate,xe,At)}get(ce){let xe;return xe="cache"===ce?.source?(0,ze.nY)(this._delegate):"server"===ce?.source?(0,ze._e)(this._delegate):(0,ze.x7)(this._delegate),xe.then(At=>new lt(this.firestore,new ze.Wq(this.firestore._delegate,this._userDataWriter,At._key,At._document,At.metadata,this._delegate.converter)))}withConverter(ce){return new We(this.firestore,this._delegate.withConverter(ce?en.getInstance(this.firestore,ce):null))}}function Ae(Et,ce,xe){return Et.message=Et.message.replace(ce,xe),Et}function Ee(Et){for(const ce of Et)if("object"==typeof ce&&!gn(ce))return ce;return{}}function Me(Et,ce){var xe,At;let qt;return qt=gn(Et[0])?Et[0]:gn(Et[1])?Et[1]:"function"==typeof Et[0]?{next:Et[0],error:Et[1],complete:Et[2]}:{next:Et[1],error:Et[2],complete:Et[3]},{next:Ve=>{qt.next&&qt.next(ce(Ve))},error:null===(xe=qt.error)||void 0===xe?void 0:xe.bind(qt),complete:null===(At=qt.complete)||void 0===At?void 0:At.bind(qt)}}class lt{constructor(ce,xe){this._firestore=ce,this._delegate=xe}get ref(){return new We(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ce){return this._delegate.data(ce)}get(ce,xe){return this._delegate.get(ce,xe)}isEqual(ce){return(0,ze.lN)(this._delegate,ce._delegate)}}class rt extends lt{data(ce){const xe=this._delegate.data(ce);return this._delegate._converter||(0,ze.bI)(void 0!==xe,"Document in a QueryDocumentSnapshot should exist"),xe}}class Lt{constructor(ce,xe){this.firestore=ce,this._delegate=xe,this._userDataWriter=new Ue(ce)}where(ce,xe,At){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze._M)(ce,xe,At)))}catch(qt){throw Ae(qt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ce,xe){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.My)(ce,xe)))}catch(At){throw Ae(At,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ce){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.AB)(ce)))}catch(xe){throw Ae(xe,"limit()","Query.limit()")}}limitToLast(ce){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.$1)(ce)))}catch(xe){throw Ae(xe,"limitToLast()","Query.limitToLast()")}}startAt(...ce){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.EO)(...ce)))}catch(xe){throw Ae(xe,"startAt()","Query.startAt()")}}startAfter(...ce){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.HM)(...ce)))}catch(xe){throw Ae(xe,"startAfter()","Query.startAfter()")}}endBefore(...ce){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.rf)(...ce)))}catch(xe){throw Ae(xe,"endBefore()","Query.endBefore()")}}endAt(...ce){try{return new Lt(this.firestore,(0,ze.P)(this._delegate,(0,ze.FD)(...ce)))}catch(xe){throw Ae(xe,"endAt()","Query.endAt()")}}isEqual(ce){return(0,ze.B)(this._delegate,ce._delegate)}get(ce){let xe;return xe="cache"===ce?.source?(0,ze.kU)(this._delegate):"server"===ce?.source?(0,ze.Rr)(this._delegate):(0,ze.GG)(this._delegate),xe.then(At=>new rr(this.firestore,new ze.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,At._snapshot)))}onSnapshot(...ce){const xe=Ee(ce),At=Me(ce,qt=>new rr(this.firestore,new ze.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,qt._snapshot)));return(0,ze.aQ)(this._delegate,xe,At)}withConverter(ce){return new Lt(this.firestore,this._delegate.withConverter(ce?en.getInstance(this.firestore,ce):null))}}class An{constructor(ce,xe){this._firestore=ce,this._delegate=xe}get type(){return this._delegate.type}get doc(){return new rt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rr{constructor(ce,xe){this._firestore=ce,this._delegate=xe}get query(){return new Lt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ce=>new rt(this._firestore,ce))}docChanges(ce){return this._delegate.docChanges(ce).map(xe=>new An(this._firestore,xe))}forEach(ce,xe){this._delegate.forEach(At=>{ce.call(xe,new rt(this._firestore,At))})}isEqual(ce){return(0,ze.lN)(this._delegate,ce._delegate)}}class sn extends Lt{constructor(ce,xe){super(ce,xe),this.firestore=ce,this._delegate=xe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ce=this._delegate.parent;return ce?new We(this.firestore,ce):null}doc(ce){try{return new We(this.firestore,void 0===ce?(0,ze.H9)(this._delegate):(0,ze.H9)(this._delegate,ce))}catch(xe){throw Ae(xe,"doc()","CollectionReference.doc()")}}add(ce){return(0,ze.gS)(this._delegate,ce).then(xe=>new We(this.firestore,xe))}isEqual(ce){return(0,ze.yx)(this._delegate,ce._delegate)}withConverter(ce){return new sn(this.firestore,this._delegate.withConverter(ce?en.getInstance(this.firestore,ce):null))}}function Bn(Et){return(0,ze.lo)(Et,ze.T1)}class Jt{constructor(...ce){this._delegate=new ze.uY(...ce)}static documentId(){return new Jt(ze.FA.keyField().canonicalString())}isEqual(ce){return(ce=(0,Te.Ku)(ce))instanceof ze.uY&&this._delegate._internalPath.isEqual(ce._internalPath)}}class jn{constructor(ce){this._delegate=ce}static serverTimestamp(){const ce=(0,ze.O5)();return ce._methodName="FieldValue.serverTimestamp",new jn(ce)}static delete(){const ce=(0,ze.CL)();return ce._methodName="FieldValue.delete",new jn(ce)}static arrayUnion(...ce){const xe=(0,ze.hq)(...ce);return xe._methodName="FieldValue.arrayUnion",new jn(xe)}static arrayRemove(...ce){const xe=(0,ze.C3)(...ce);return xe._methodName="FieldValue.arrayRemove",new jn(xe)}static increment(ce){const xe=(0,ze.GV)(ce);return xe._methodName="FieldValue.increment",new jn(xe)}isEqual(ce){return this._delegate.isEqual(ce._delegate)}}const xn={Firestore:Pt,GeoPoint:ze.Ci,Timestamp:ze.Dc,Blob:Yt,Transaction:Pe,WriteBatch:st,DocumentReference:We,DocumentSnapshot:lt,Query:Lt,QueryDocumentSnapshot:rt,QuerySnapshot:rr,CollectionReference:sn,FieldPath:Jt,FieldValue:jn,setLogLevel:function at(Et){(0,ze.He)(Et)},CACHE_SIZE_UNLIMITED:ze.H6};!function Bt(Et){(function zt(Et,ce){Et.INTERNAL.registerComponent(new Ze.uA("firestore-compat",xe=>{const At=xe.getProvider("app-compat").getImmediate(),qt=xe.getProvider("firestore").getImmediate();return ce(At,qt)},"PUBLIC").setServiceProps(Object.assign({},xn)))})(Et,(ce,xe)=>new Pt(ce,xe,new Qe)),Et.registerVersion("@firebase/firestore-compat","0.3.38")}(Qt.A);var Er=V(7935);function Fr(Et,ce){return function an(Et,ce=De.E){return new be.c(xe=>{let At;return null!=ce?ce.schedule(()=>{At=Et.onSnapshot({includeMetadataChanges:!0},xe)}):At=Et.onSnapshot({includeMetadataChanges:!0},xe),()=>{At?.()}})}(Et,ce)}function $t(Et,ce){return Fr(Et,ce).pipe((0,Ge.T)(xe=>({payload:xe,type:"query"})))}class wn{ref;afs;constructor(ce,xe){this.ref=ce,this.afs=xe}set(ce,xe){return this.ref.set(ce,xe)}update(ce){return this.ref.update(ce)}delete(){return this.ref.delete()}collection(ce,xe){const At=this.ref.collection(ce),{ref:qt,query:Ve}=Hn(At,xe);return new hi(qt,Ve,this.afs)}snapshotChanges(){return function Xn(Et,ce){return Fr(Et,ce).pipe((0,J.Z)(void 0),Fe(),(0,Ge.T)(xe=>{const[At,qt]=xe;return qt.exists?At?.exists?{payload:qt,type:"modified"}:{payload:qt,type:"added"}:{payload:qt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return this.snapshotChanges().pipe((0,Ge.T)(({payload:xe})=>ce.idField?{...xe.data(),[ce.idField]:xe.id}:xe.data()))}get(ce){return(0,Be.H)(this.ref.get(ce)).pipe(i.U0)}}function $n(Et,ce){return $t(Et,ce).pipe((0,J.Z)(void 0),Fe(),(0,Ge.T)(xe=>{const[At,qt]=xe,Ve=qt.payload.docChanges(),Kt=Ve.map(_e=>({type:_e.type,payload:_e}));return At&&JSON.stringify(At.payload.metadata)!==JSON.stringify(qt.payload.metadata)&&qt.payload.docs.forEach((_e,ft)=>{const He=Ve.find(x=>x.doc.ref.isEqual(_e.ref)),$=At?.payload.docs.find(x=>x.ref.isEqual(_e.ref));He&&JSON.stringify(He.doc.metadata)===JSON.stringify(_e.metadata)||!He&&$&&JSON.stringify($.metadata)===JSON.stringify(_e.metadata)||Kt.push({type:"modified",payload:{oldIndex:ft,newIndex:ft,type:"modified",doc:_e}})}),Kt}))}function Dn(Et,ce,xe){return $n(Et,xe).pipe((0,pt.S)((At,qt)=>function Hr(Et,ce,xe){return ce.forEach(At=>{xe.indexOf(At.type)>-1&&(Et=function Yr(Et,ce){switch(ce.type){case"added":if(!Et[ce.newIndex]||!Et[ce.newIndex].doc.ref.isEqual(ce.doc.ref))return xr(Et,ce.newIndex,0,ce);break;case"modified":if(null==Et[ce.oldIndex]||Et[ce.oldIndex].doc.ref.isEqual(ce.doc.ref)){if(ce.oldIndex!==ce.newIndex){const xe=Et.slice();return xe.splice(ce.oldIndex,1),xe.splice(ce.newIndex,0,ce),xe}return xr(Et,ce.newIndex,1,ce)}break;case"removed":if(Et[ce.oldIndex]&&Et[ce.oldIndex].doc.ref.isEqual(ce.doc.ref))return xr(Et,ce.oldIndex,1)}return Et}(Et,At))}),Et}(At,qt.map(Ve=>Ve.payload),ce),[]),(0,Tt.F)(),(0,Ge.T)(At=>At.map(qt=>({type:qt.type,payload:qt}))))}function xr(Et,ce,xe,...At){const qt=Et.slice();return qt.splice(ce,xe,...At),qt}function Gn(Et){return(!Et||0===Et.length)&&(Et=["added","removed","modified"]),Et}class hi{ref;query;afs;constructor(ce,xe,At){this.ref=ce,this.query=xe,this.afs=At}stateChanges(ce){let xe=$n(this.query,this.afs.schedulers.outsideAngular);return ce&&ce.length>0&&(xe=xe.pipe((0,Ge.T)(At=>At.filter(qt=>ce.indexOf(qt.type)>-1)))),xe.pipe((0,J.Z)(void 0),Fe(),(0,Mt.p)(([At,qt])=>qt.length>0||!At),(0,Ge.T)(([,At])=>At),i.U0)}auditTrail(ce){return this.stateChanges(ce).pipe((0,pt.S)((xe,At)=>[...xe,...At],[]))}snapshotChanges(ce){const xe=Gn(ce);return Dn(this.query,xe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.T)(xe=>xe.payload.docs.map(At=>ce.idField?{...At.data(),[ce.idField]:At.id}:At.data())),i.U0)}get(ce){return(0,Be.H)(this.query.get(ce)).pipe(i.U0)}add(ce){return this.ref.add(ce)}doc(ce){return new wn(this.ref.doc(ce),this.afs)}}class ms{query;afs;constructor(ce,xe){this.query=ce,this.afs=xe}stateChanges(ce){return ce&&0!==ce.length?$n(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.T)(xe=>xe.filter(At=>ce.indexOf(At.type)>-1)),(0,Mt.p)(xe=>xe.length>0),i.U0):$n(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(ce){return this.stateChanges(ce).pipe((0,pt.S)((xe,At)=>[...xe,...At],[]))}snapshotChanges(ce){const xe=Gn(ce);return Dn(this.query,xe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return $t(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.T)(At=>At.payload.docs.map(qt=>ce.idField?{[ce.idField]:qt.id,...qt.data()}:qt.data())),i.U0)}get(ce){return(0,Be.H)(this.query.get(ce)).pipe(i.U0)}}const fn=new ue.nKC("angularfire2.enableFirestorePersistence"),ni=new ue.nKC("angularfire2.firestore.persistenceSettings"),er=new ue.nKC("angularfire2.firestore.settings"),Ar=new ue.nKC("angularfire2.firestore.use-emulator");function Hn(Et,ce=(xe=>xe)){return{query:ce(Et),ref:Et}}let Ii=(()=>{class Et{schedulers;firestore;persistenceEnabled$;constructor(xe,At,qt,Ve,Kt,_e,ft,He,$,x,k,re,fe,dt,xt,ln,pn){this.schedulers=ft;const Sn=(0,ve.iB)(xe,_e,At),Ir=$;x&&(0,ge.gF)(Sn,_e,k,fe,dt,xt,re,ln),[this.firestore,this.persistenceEnabled$]=(0,ve.BM)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const cn=_e.runOutsideAngular(()=>Sn.firestore());if(Ve&&cn.settings(Ve),Ir&&cn.useEmulator(...Ir),qt&&!(0,o.Vy)(Kt)){const Wr=()=>{try{return(0,Be.H)(cn.enablePersistence(He||void 0).then(()=>!0,()=>!1))}catch(dr){return typeof console<"u"&&console.warn(dr),(0,ke.of)(!1)}};return[cn,_e.runOutsideAngular(Wr)]}return[cn,(0,ke.of)(!1)]},[Ve,Ir,qt])}collection(xe,At){let qt;qt="string"==typeof xe?this.firestore.collection(xe):xe;const{ref:Ve,query:Kt}=Hn(qt,At),_e=this.schedulers.ngZone.run(()=>Ve);return new hi(_e,Kt,this)}collectionGroup(xe,At){const qt=At||(Kt=>Kt),Ve=this.firestore.collectionGroup(xe);return new ms(qt(Ve),this)}doc(xe){let At;At="string"==typeof xe?this.firestore.doc(xe):xe;const qt=this.schedulers.ngZone.run(()=>At);return new wn(qt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(At){return new(At||Et)(ue.KVO(ve.rx),ue.KVO(ve.uP,8),ue.KVO(fn,8),ue.KVO(er,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(i.u0),ue.KVO(ni,8),ue.KVO(Ar,8),ue.KVO(ge.DS,8),ue.KVO(ge.CP,8),ue.KVO(ge.yy,8),ue.KVO(ge.ZP,8),ue.KVO(ge.$z,8),ue.KVO(ge.AU,8),ue.KVO(ge.UB,8),ue.KVO(i.Jv,8))};static \u0275prov=ue.jDH({token:Et,factory:Et.\u0275fac,providedIn:"any"})}return Et})(),ot=(()=>{class Et{constructor(){Er.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(xe){return{ngModule:Et,providers:[{provide:fn,useValue:!0},{provide:ni,useValue:xe}]}}static \u0275fac=function(At){return new(At||Et)};static \u0275mod=ue.$C({type:Et});static \u0275inj=ue.G2t({providers:[Ii]})}return Et})()},8721:(on,tt,V)=>{V.d(tt,{ap:()=>Pe,y5:()=>We});var o=V(5407),ue=V(1985),i=V(7673),ve=V(8455),ge=V(3236),De=V(9974),be=V(4360),ke=V(6354),J=V(5558),te=V(7705),he=V(9253),Fe=V(3345),Ge=V(4535),pt=V(1362);class Tt{constructor(Ee,Me,lt){this._delegate=Ee,this.task=Me,this.ref=lt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Mt{constructor(Ee,Me){this._delegate=Ee,this._ref=Me,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Tt(this._delegate.snapshot,this,this._ref)}then(Ee,Me){return this._delegate.then(lt=>{if(Ee)return Ee(new Tt(lt,this,this._ref))},Me)}on(Ee,Me,lt,rt){let Lt;return Me&&(Lt="function"==typeof Me?An=>Me(new Tt(An,this,this._ref)):{next:Me.next?An=>Me.next(new Tt(An,this,this._ref)):void 0,complete:Me.complete||void 0,error:Me.error||void 0}),this._delegate.on(Ee,Lt,lt||void 0,rt||void 0)}}class Nt{constructor(Ee,Me){this._delegate=Ee,this._service=Me}get prefixes(){return this._delegate.prefixes.map(Ee=>new Qt(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new Qt(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Qt{constructor(Ee,Me){this._delegate=Ee,this.storage=Me}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const Me=(0,Ge.Mp)(this._delegate,Ee);return new Qt(Me,this.storage)}get root(){return new Qt(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new Qt(Ee,this.storage)}put(Ee,Me){return this._throwIfRoot("put"),new Mt((0,Ge.bp)(this._delegate,Ee,Me),this)}putString(Ee,Me=Ge.nw.RAW,lt){this._throwIfRoot("putString");const rt=(0,Ge.ZH)(Me,Ee),Lt=Object.assign({},lt);return null==Lt.contentType&&null!=rt.contentType&&(Lt.contentType=rt.contentType),new Mt(new Ge.UC(this._delegate,new Ge.Mx(rt.data,!0),Lt),this)}listAll(){return(0,Ge._w)(this._delegate).then(Ee=>new Nt(Ee,this.storage))}list(Ee){return(0,Ge.p_)(this._delegate,Ee||void 0).then(Me=>new Nt(Me,this.storage))}getMetadata(){return(0,Ge.yb)(this._delegate)}updateMetadata(Ee){return(0,Ge.D5)(this._delegate,Ee)}getDownloadURL(){return(0,Ge.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ge.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,Ge.UY)(Ee)}}class ze{constructor(Ee,Me){this.app=Ee,this._delegate=Me}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(Te(Ee))throw(0,Ge.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new Qt((0,Ge.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!Te(Ee))throw(0,Ge.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ge.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,Ge.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qt((0,Ge.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,Me,lt={}){(0,Ge.nb)(this._delegate,Ee,Me,lt)}}function Te(Ae){return/^[A-Za-z]+:\/\//.test(Ae)}function $e(Ae,{instanceIdentifier:Ee}){const Me=Ae.getProvider("app-compat").getImmediate(),lt=Ae.getProvider("storage").getImmediate({identifier:Ee});return new ze(Me,lt)}!function Ot(Ae){const Ee={TaskState:Ge.Ad,TaskEvent:Ge.xc,StringFormat:Ge.nw,Storage:ze,Reference:Qt};Ae.INTERNAL.registerComponent(new pt.uA("storage-compat",$e,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),Ae.registerVersion("@firebase/storage-compat","0.3.12")}(Fe.A);var Ie=V(7935);function gn(Ae){const Ee=function Yt(Ae){return new ue.c(Ee=>{const Me=An=>Ee.next(An);Me(Ae.snapshot);const Lt=Ae.on("state_changed",Me);return Ae.then(An=>{Me(An),Ee.complete()},An=>{Me(Ae.snapshot),(An=>{Ee.error(An)})(An)}),function(){Lt()}}).pipe(function Be(Ae,Ee=ge.E){return(0,De.N)((Me,lt)=>{let rt=null,Lt=null,An=null;const rr=()=>{if(rt){rt.unsubscribe(),rt=null;const Bn=Lt;Lt=null,lt.next(Bn)}};function sn(){const Bn=An+Ae,Jt=Ee.now();if(Jt<Bn)return rt=this.schedule(void 0,Bn-Jt),void lt.add(rt);rr()}Me.subscribe((0,be._)(lt,Bn=>{Lt=Bn,An=Ee.now(),rt||(rt=Ee.schedule(sn,Ae),lt.add(rt))},()=>{rr(),lt.complete()},void 0,()=>{Lt=rt=null}))})}(0))}(Ae);return{task:Ae,then:Ae.then.bind(Ae),catch:Ae.catch.bind(Ae),pause:Ae.pause.bind(Ae),cancel:Ae.cancel.bind(Ae),resume:Ae.resume.bind(Ae),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,ke.T)(Me=>Me.bytesTransferred/Me.totalBytes*100))}}function sr(Ae){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Ae.getDownloadURL()),o.U0),getMetadata:()=>(0,i.of)(void 0).pipe(o.Oe,(0,J.n)(()=>Ae.getMetadata()),o.U0),delete:()=>(0,ve.H)(Ae.delete()),child:Ee=>sr(Ae.child(Ee)),updateMetadata:Ee=>(0,ve.H)(Ae.updateMetadata(Ee)),put:(Ee,Me)=>gn(Ae.put(Ee,Me)),putString:(Ee,Me,lt)=>gn(Ae.putString(Ee,Me,lt)),list:Ee=>(0,ve.H)(Ae.list(Ee)),listAll:()=>(0,ve.H)(Ae.listAll())}}const Qe=new te.nKC("angularfire2.storageBucket"),Pt=new te.nKC("angularfire2.storage.maxUploadRetryTime"),Ue=new te.nKC("angularfire2.storage.maxOperationRetryTime"),at=new te.nKC("angularfire2.storage.use-emulator");let Pe=(()=>{class Ae{storage;constructor(Me,lt,rt,Lt,An,rr,sn,Bn,Jt,jn){const xn=(0,he.iB)(Me,An,lt);this.storage=(0,he.BM)(`${xn.name}.storage.${rt}`,"AngularFireStorage",xn.name,()=>{const zt=An.runOutsideAngular(()=>xn.storage(rt||void 0)),Bt=Jt;return Bt&&zt.useEmulator(...Bt),sn&&zt.setMaxUploadRetryTime(sn),Bn&&zt.setMaxOperationRetryTime(Bn),zt},[sn,Bn])}ref(Me){return sr(this.storage.ref(Me))}refFromURL(Me){return sr(this.storage.refFromURL(Me))}upload(Me,lt,rt){return sr(this.storage.ref(Me)).put(lt,rt)}static \u0275fac=function(lt){return new(lt||Ae)(te.KVO(he.rx),te.KVO(he.uP,8),te.KVO(Qe,8),te.KVO(te.Agw),te.KVO(te.SKi),te.KVO(o.u0),te.KVO(Pt,8),te.KVO(Ue,8),te.KVO(at,8),te.KVO(o.Jv,8))};static \u0275prov=te.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"any"})}return Ae})(),en=(()=>{class Ae{static \u0275fac=function(lt){return new(lt||Ae)};static \u0275mod=te.$C({type:Ae});static \u0275inj=te.G2t({})}return Ae})(),We=(()=>{class Ae{constructor(){Ie.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(lt){return new(lt||Ae)};static \u0275mod=te.$C({type:Ae});static \u0275inj=te.G2t({providers:[Pe],imports:[en]})}return Ae})()},9253:(on,tt,V)=>{V.d(tt,{BM:()=>Ge,Gt:()=>ge,bf:()=>Fe,e7:()=>De,iB:()=>J,rx:()=>Be,uP:()=>ke});var o=V(7705),ue=V(5407),i=V(7935);const ve=["ngOnDestroy"],ge=(Nt,Qt,ze,Te={})=>new Proxy(Nt,{get:(Ze,Oe)=>ze.runOutsideAngular(()=>{if(Nt[Oe])return Te?.spy?.get&&Te.spy.get(Oe,Nt[Oe]),Nt[Oe];if(ve.indexOf(Oe)>-1)return()=>{};const et=Qt.toPromise().then($e=>{const Ot=$e?.[Oe];return"function"==typeof Ot?Ot.bind($e):Ot?.then?Ot.then(Ie=>ze.run(()=>Ie)):ze.run(()=>Ot)});return new Proxy(()=>{},{get:($e,Ot)=>et[Ot],apply:($e,Ot,Ie)=>et.then(Yt=>{const gn=Yt?.(...Ie);return Te?.spy?.apply&&Te.spy.apply(Oe,Ie,gn),gn})})})}),De=(Nt,Qt)=>{Qt.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Te=>{Object.defineProperty(Nt.prototype,Te,Object.getOwnPropertyDescriptor(ze.prototype||ze,Te))})})};class be{constructor(Qt){return Qt}}const Be=new o.nKC("angularfire2.app.options"),ke=new o.nKC("angularfire2.app.name");function J(Nt,Qt,ze){const Ze="object"==typeof ze&&ze||{};Ze.name=Ze.name||"string"==typeof ze&&ze||"[DEFAULT]";const et=i.A.apps.filter($e=>$e&&$e.name===Ze.name)[0]||Qt.runOutsideAngular(()=>i.A.initializeApp(Nt,Ze));try{if(JSON.stringify(Nt)!==JSON.stringify(et.options)){const $e=!!module.hot;te("error",`${et.name} Firebase App already initialized with different options${$e?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new be(et)}const te=(Nt,...Qt)=>{(0,o.naY)()&&typeof console<"u"&&console[Nt](...Qt)},he={provide:be,useFactory:J,deps:[Be,o.SKi,[new o.Xx1,ke]]};let Fe=(()=>{class Nt{static initializeApp(ze,Te){return{ngModule:Nt,providers:[{provide:Be,useValue:ze},{provide:ke,useValue:Te}]}}constructor(ze){i.A.registerVersion("angularfire",ue.xv.full,"core"),i.A.registerVersion("angularfire",ue.xv.full,"app-compat"),i.A.registerVersion("angular",o.xvI.full,ze.toString())}static \u0275fac=function(Te){return new(Te||Nt)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:Nt});static \u0275inj=o.G2t({providers:[he]})}return Nt})();function Ge(Nt,Qt,ze,Te,Ze){const[,Oe,et]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===Nt)||[];if(Oe)return function pt(Nt,Qt){try{return Nt.toString()===Qt.toString()}catch{return Nt===Qt}}(Ze,et)||(Mt("error",`${Qt} was already initialized on the ${ze} Firebase App with different settings.${Tt?" You may need to reload as Firebase is not HMR aware.":""}`),Mt("warn",{is:Ze,was:et})),Oe;{const $e=Te();return globalThis.\u0275AngularfireInstanceCache.push([Nt,$e,Ze]),$e}}const Tt=typeof module<"u"&&!!module.hot,Mt=(Nt,...Qt)=>{(0,o.naY)()&&typeof console<"u"&&console[Nt](...Qt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(on,tt,V)=>{V.d(tt,{xv:()=>Ge,U0:()=>gn,Oe:()=>Ie,u0:()=>Oe,Jv:()=>Nt,CA:()=>Mt,lR:()=>Tt,S3:()=>Pt});var o=V(7705),ue=V(2214),i=V(6780),ge=V(9687);const be=new class De extends ge.q{}(class ve extends i.R{constructor(at,Pe){super(at,Pe),this.scheduler=at,this.work=Pe}schedule(at,Pe=0){return Pe>0?super.schedule(at,Pe):(this.delay=Pe,this.state=at,this.scheduler.flush(this),this)}execute(at,Pe){return Pe>0||this.closed?super.execute(at,Pe):this._execute(at,Pe)}requestAsyncId(at,Pe,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(at,Pe,st):(at.flush(this),0)}});var ke=V(3236),J=V(1985),te=V(8141),he=V(941),Fe=V(6745);const Ge=new o.RxE("ANGULARFIRE2_VERSION");function Tt(Ue,at,Pe){if(at){if(1===at.length)return at[0];const We=at.filter(Ae=>Ae.app===Pe);if(1===We.length)return We[0]}return Pe.container.getProvider(Ue).getImmediate({optional:!0})}const Mt=(Ue,at)=>{const Pe=at?[at]:(0,ue.Dk)(),st=[];return Pe.forEach(en=>{en.container.getProvider(Ue).instances.forEach(Ae=>{st.includes(Ae)||st.push(Ae)})}),st};class Nt{constructor(){return Mt(Qt)}}const Qt="app-check";function ze(){}class Te{zone;delegate;constructor(at,Pe=be){this.zone=at,this.delegate=Pe}now(){return this.delegate.now()}schedule(at,Pe,st){const en=this.zone;return this.delegate.schedule(function(Ae){en.runGuarded(()=>{at.apply(this,[Ae])})},Pe,st)}}class Ze{zone;task=null;constructor(at){this.zone=at}call(at,Pe){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze)),Pe.pipe((0,te.M)({next:st,complete:st,error:st})).subscribe(at).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oe=(()=>{class Ue{ngZone;outsideAngular;insideAngular;constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new Te(Zone.current)),this.insideAngular=Pe.run(()=>new Te(Zone.current,ke.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(st){return new(st||Ue)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function et(){const Ue=globalThis.\u0275AngularFireScheduler;if(!Ue)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ue}function Ot(Ue){return et().ngZone.run(()=>Ue())}function Ie(Ue){return Ue.pipe((0,he.Q)(et().outsideAngular))}function gn(Ue){return function sr(Ue){return function(Pe){return(Pe=Pe.lift(new Ze(Ue.ngZone))).pipe((0,Fe._)(Ue.outsideAngular),(0,he.Q)(Ue.insideAngular))}}(et())(Ue)}const Qe=(Ue,at)=>function(){const st=arguments;return at&&setTimeout(()=>{"scheduled"===at.state&&at.invoke()},10),Ot(()=>Ue.apply(void 0,st))},Pt=(Ue,at)=>function(){let Pe;const st=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof st[We]&&(at&&(Pe||=Ot(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ze,{},ze,ze))),st[We]=Qe(st[We],Pe));const en=function $e(Ue){return et().ngZone.runOutsideAngular(()=>Ue())}(()=>Ue.apply(this,st));if(!at){if(en instanceof J.c){const We=et();return en.pipe((0,Fe._)(We.outsideAngular),(0,he.Q)(We.insideAngular))}return Ot(()=>en)}return en instanceof J.c?en.pipe(gn):en instanceof Promise?Ot(()=>new Promise((We,Ae)=>en.then(Ee=>Ot(()=>We(Ee)),Ee=>Ot(()=>Ae(Ee))))):"function"==typeof en&&Pe?function(){return setTimeout(()=>{Pe&&"scheduled"===Pe.state&&Pe.invoke()},10),en.apply(this,arguments)}:Ot(()=>en)}},4341:(on,tt,V)=>{V.d(tt,{Zm:()=>Mt,me:()=>Te,v8:()=>is,ok:()=>zs,JD:()=>Jr,gE:()=>xt,j4:()=>_n,$R:()=>hr,YN:()=>Ia,BC:()=>$n,cb:()=>Dn,cV:()=>ns,vS:()=>js,xH:()=>ki,Q0:()=>Ei,Fm:()=>Gr,X1:()=>vo,YS:()=>Zr,wz:()=>hs,k0:()=>Ie,qT:()=>$s,y7:()=>It});var o=V(7705),ue=V(177),i=V(8455),ve=V(1985),ge=V(3073),De=V(8750),be=V(3794),Be=V(4360),ke=V(6450),J=V(8496),he=V(6354);let Fe=(()=>{class z{constructor(U,le){this._renderer=U,this._elementRef=le,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(U,le){this._renderer.setProperty(this._elementRef.nativeElement,U,le)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:z})}}return z})(),Ge=(()=>{class z extends Fe{static{this.\u0275fac=function(){let U;return function(je){return(U||(U=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,features:[o.Vt3]})}}return z})();const pt=new o.nKC("NgValueAccessor"),Tt={provide:pt,useExisting:(0,o.Rfq)(()=>Mt),multi:!0};let Mt=(()=>{class z extends Ge{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(je){return(U||(U=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(le,je){1&le&&o.bIt("change",function(ir){return je.onChange(ir.target.checked)})("blur",function(){return je.onTouched()})},features:[o.Jv_([Tt]),o.Vt3]})}}return z})();const Nt={provide:pt,useExisting:(0,o.Rfq)(()=>Te),multi:!0},ze=new o.nKC("CompositionEventMode");let Te=(()=>{class z extends Fe{constructor(U,le,je){super(U,le),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qt(){const z=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ze,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(le,je){1&le&&o.bIt("input",function(ir){return je._handleInput(ir.target.value)})("blur",function(){return je.onTouched()})("compositionstart",function(){return je._compositionStart()})("compositionend",function(ir){return je._compositionEnd(ir.target.value)})},features:[o.Jv_([Nt]),o.Vt3]})}}return z})();function Ze(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function Oe(z){return null!=z&&"number"==typeof z.length}const et=new o.nKC("NgValidators"),$e=new o.nKC("NgAsyncValidators"),Ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(ee){return function Yt(z){return ee=>{if(Ze(ee.value)||Ze(z))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U<z?{min:{min:z,actual:ee.value}}:null}}(ee)}static max(ee){return function gn(z){return ee=>{if(Ze(ee.value)||Ze(z))return null;const U=parseFloat(ee.value);return!isNaN(U)&&U>z?{max:{max:z,actual:ee.value}}:null}}(ee)}static required(ee){return sr(ee)}static requiredTrue(ee){return function Qe(z){return!0===z.value?null:{required:!0}}(ee)}static email(ee){return function Pt(z){return Ze(z.value)||Ot.test(z.value)?null:{email:!0}}(ee)}static minLength(ee){return function Ue(z){return ee=>Ze(ee.value)||!Oe(ee.value)?null:ee.value.length<z?{minlength:{requiredLength:z,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function at(z){return ee=>Oe(ee.value)&&ee.value.length>z?{maxlength:{requiredLength:z,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function Pe(z){if(!z)return st;let ee,U;return"string"==typeof z?(U="","^"!==z.charAt(0)&&(U+="^"),U+=z,"$"!==z.charAt(z.length-1)&&(U+="$"),ee=new RegExp(U)):(U=z.toString(),ee=z),le=>{if(Ze(le.value))return null;const je=le.value;return ee.test(je)?null:{pattern:{requiredPattern:U,actualValue:je}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return rt(ee)}static composeAsync(ee){return An(ee)}}function sr(z){return Ze(z.value)?{required:!0}:null}function st(z){return null}function en(z){return null!=z}function We(z){return(0,o.jNT)(z)?(0,i.H)(z):z}function Ae(z){let ee={};return z.forEach(U=>{ee=null!=U?{...ee,...U}:ee}),0===Object.keys(ee).length?null:ee}function Ee(z,ee){return ee.map(U=>U(z))}function lt(z){return z.map(ee=>function Me(z){return!z.validate}(ee)?ee:U=>ee.validate(U))}function rt(z){if(!z)return null;const ee=z.filter(en);return 0==ee.length?null:function(U){return Ae(Ee(U,ee))}}function Lt(z){return null!=z?rt(lt(z)):null}function An(z){if(!z)return null;const ee=z.filter(en);return 0==ee.length?null:function(U){return function te(...z){const ee=(0,be.ms)(z),{args:U,keys:le}=(0,ge.D)(z),je=new ve.c(yn=>{const{length:ir}=U;if(!ir)return void yn.complete();const os=new Array(ir);let Ms=ir,fs=ir;for(let Eo=0;Eo<ir;Eo++){let Ws=!1;(0,De.Tg)(U[Eo]).subscribe((0,Be._)(yn,as=>{Ws||(Ws=!0,fs--),os[Eo]=as},()=>Ms--,void 0,()=>{(!Ms||!Ws)&&(fs||yn.next(le?(0,J.e)(le,os):os),yn.complete())}))}});return ee?je.pipe((0,ke.I)(ee)):je}(Ee(U,ee).map(We)).pipe((0,he.T)(Ae))}}function rr(z){return null!=z?An(lt(z)):null}function sn(z,ee){return null===z?[ee]:Array.isArray(z)?[...z,ee]:[z,ee]}function Bn(z){return z._rawValidators}function Jt(z){return z._rawAsyncValidators}function jn(z){return z?Array.isArray(z)?z:[z]:[]}function xn(z,ee){return Array.isArray(z)?z.includes(ee):z===ee}function zt(z,ee){const U=jn(ee);return jn(z).forEach(je=>{xn(U,je)||U.push(je)}),U}function Bt(z,ee){return jn(ee).filter(U=>!xn(z,U))}class Er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,U){return!!this.control&&this.control.hasError(ee,U)}getError(ee,U){return this.control?this.control.getError(ee,U):null}}class an extends Er{get formDirective(){return null}get path(){return null}}class Fr extends Er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xn{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $n=(()=>{class z extends Xn{constructor(U){super(U)}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(Fr,2))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(le,je){2&le&&o.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)},features:[o.Vt3]})}}return z})(),Dn=(()=>{class z extends Xn{constructor(U){super(U)}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(an,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(le,je){2&le&&o.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)("ng-submitted",je.isSubmitted)},features:[o.Vt3]})}}return z})();const qt="VALID",Ve="INVALID",Kt="PENDING",_e="DISABLED";function ft(z){return(k(z)?z.validators:z)||null}function $(z,ee){return(k(ee)?ee.asyncValidators:z)||null}function k(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}function re(z,ee,U){const le=z.controls;if(!(ee?Object.keys(le):le).length)throw new o.wOt(1e3,"");if(!le[U])throw new o.wOt(1001,"")}function fe(z,ee,U){z._forEachChild((le,je)=>{if(void 0===U[je])throw new o.wOt(1002,"")})}class dt{constructor(ee,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===Ve}get pending(){return this.status==Kt}get disabled(){return this.status===_e}get enabled(){return this.status!==_e}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(zt(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(zt(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Bt(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Bt(ee,this._rawAsyncValidators))}hasValidator(ee){return xn(this._rawValidators,ee)}hasAsyncValidator(ee){return xn(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=Kt,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=_e,this.errors=null,this._forEachChild(le=>{le.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(le=>le(!0))}enable(ee={}){const U=this._parentMarkedDirty(ee.onlySelf);this.status=qt,this._forEachChild(le=>{le.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:U}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===Kt)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_e:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const U=We(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,U={}){this.errors=ee,this._updateControlsErrors(!1!==U.emitEvent)}get(ee){let U=ee;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((le,je)=>le&&le._find(je),this)}getError(ee,U){const le=U?this.get(U):this;return le&&le.errors?le.errors[ee]:null}hasError(ee,U){return!!this.getError(ee,U)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?_e:this.errors?Ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(Ve)?Ve:qt}_anyControlsHaveStatus(ee){return this._anyControls(U=>U.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){k(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function He(z){return Array.isArray(z)?Lt(z):z||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function x(z){return Array.isArray(z)?rr(z):z||null}(this._rawAsyncValidators)}}class xt extends dt{constructor(ee,U,le){super(ft(U),$(le,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,U){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(ee,U,le={}){this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(ee,U={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(ee,U,le={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],U&&this.registerControl(ee,U),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,U={}){fe(this,0,ee),Object.keys(ee).forEach(le=>{re(this,!0,le),this.controls[le].setValue(ee[le],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(Object.keys(ee).forEach(le=>{const je=this.controls[le];je&&je.patchValue(ee[le],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee={},U={}){this._forEachChild((le,je)=>{le.reset(ee?ee[je]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(ee,U,le)=>(ee[le]=U.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(U,le)=>!!le._syncPendingControls()||U);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(U=>{const le=this.controls[U];le&&ee(le,U)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[U,le]of Object.entries(this.controls))if(this.contains(U)&&ee(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,le,je)=>((le.enabled||this.disabled)&&(U[je]=le.value),U))}_reduceChildren(ee,U){let le=ee;return this._forEachChild((je,yn)=>{le=U(le,je,yn)}),le}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class Sn extends xt{}const cn=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Wr}),Wr="always";function dr(z,ee){return[...ee.path,z]}function Bs(z,ee,U=Wr){gi(z,ee),ee.valueAccessor.writeValue(z.value),(z.disabled||"always"===U)&&ee.valueAccessor.setDisabledState?.(z.disabled),function Gi(z,ee){ee.valueAccessor.registerOnChange(U=>{z._pendingValue=U,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&ct(z,ee)})}(z,ee),function Ft(z,ee){const U=(le,je)=>{ee.valueAccessor.writeValue(le),je&&ee.viewToModelUpdate(le)};z.registerOnChange(U),ee._registerOnDestroy(()=>{z._unregisterOnChange(U)})}(z,ee),function bt(z,ee){ee.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&ct(z,ee),"submit"!==z.updateOn&&z.markAsTouched()})}(z,ee),function ys(z,ee){if(ee.valueAccessor.setDisabledState){const U=le=>{ee.valueAccessor.setDisabledState(le)};z.registerOnDisabledChange(U),ee._registerOnDestroy(()=>{z._unregisterOnDisabledChange(U)})}}(z,ee)}function xi(z,ee,U=!0){const le=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(le),ee.valueAccessor.registerOnTouched(le)),lr(z,ee),z&&(ee._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function _s(z,ee){z.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(ee)})}function gi(z,ee){const U=Bn(z);null!==ee.validator?z.setValidators(sn(U,ee.validator)):"function"==typeof U&&z.setValidators([U]);const le=Jt(z);null!==ee.asyncValidator?z.setAsyncValidators(sn(le,ee.asyncValidator)):"function"==typeof le&&z.setAsyncValidators([le]);const je=()=>z.updateValueAndValidity();_s(ee._rawValidators,je),_s(ee._rawAsyncValidators,je)}function lr(z,ee){let U=!1;if(null!==z){if(null!==ee.validator){const je=Bn(z);if(Array.isArray(je)&&je.length>0){const yn=je.filter(ir=>ir!==ee.validator);yn.length!==je.length&&(U=!0,z.setValidators(yn))}}if(null!==ee.asyncValidator){const je=Jt(z);if(Array.isArray(je)&&je.length>0){const yn=je.filter(ir=>ir!==ee.asyncValidator);yn.length!==je.length&&(U=!0,z.setAsyncValidators(yn))}}}const le=()=>{};return _s(ee._rawValidators,le),_s(ee._rawAsyncValidators,le),U}function ct(z,ee){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function un(z,ee){gi(z,ee)}function es(z,ee){if(!z.hasOwnProperty("model"))return!1;const U=z.model;return!!U.isFirstChange()||!Object.is(ee,U.currentValue)}function ts(z,ee){z._syncPendingControls(),ee.forEach(U=>{const le=U.control;"submit"===le.updateOn&&le._pendingChange&&(U.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}function mo(z,ee){if(!ee)return null;let U,le,je;return Array.isArray(ee),ee.forEach(yn=>{yn.constructor===Te?U=yn:function xs(z){return Object.getPrototypeOf(z.constructor)===Ge}(yn)?le=yn:je=yn}),je||le||U||null}const Wo={provide:an,useExisting:(0,o.Rfq)(()=>ns)},ci=(()=>Promise.resolve())();let ns=(()=>{class z extends an{constructor(U,le,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new xt({},Lt(U),rr(le))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){ci.then(()=>{const le=this._findContainer(U.path);U.control=le.registerControl(U.name,U.control),Bs(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){ci.then(()=>{const le=this._findContainer(U.path);le&&le.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){ci.then(()=>{const le=this._findContainer(U.path),je=new xt({});un(je,U),le.registerControl(U.name,je),je.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){ci.then(()=>{const le=this._findContainer(U.path);le&&le.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,le){ci.then(()=>{this.form.get(U.path).setValue(le)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,ts(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(et,10),o.rXU($e,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(le,je){1&le&&o.bIt("submit",function(ir){return je.onSubmit(ir)})("reset",function(){return je.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Wo]),o.Vt3]})}}return z})();function vs(z,ee){const U=z.indexOf(ee);U>-1&&z.splice(U,1)}function Xr(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const ji=class extends dt{constructor(ee=null,U,le){super(ft(U),$(le,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Xr(ee)?ee.value:ee)}setValue(ee,U={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(ee,U={}){this.setValue(ee,U)}reset(ee=this.defaultValue,U={}){this._applyFormState(ee),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){vs(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){vs(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Xr(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};let ao=(()=>{class z extends an{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(je){return(U||(U=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,features:[o.Vt3]})}}return z})();const Xs={provide:Fr,useExisting:(0,o.Rfq)(()=>js)},ri=(()=>Promise.resolve())();let js=(()=>{class z extends Fr{constructor(U,le,je,yn,ir,os){super(),this._changeDetectorRef=ir,this.callSetDisabledState=os,this.control=new ji,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=U,this._setValidators(le),this._setAsyncValidators(je),this.valueAccessor=mo(0,yn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const le=U.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),es(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){ri.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const le=U.isDisabled.currentValue,je=0!==le&&(0,o.L39)(le);ri.then(()=>{je&&!this.control.disabled?this.control.disable():!je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?dr(U,this._parent):[U]}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(an,9),o.rXU(et,10),o.rXU($e,10),o.rXU(pt,10),o.rXU(o.gRc,8),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([Xs]),o.Vt3,o.OA$]})}}return z})(),$s=(()=>{class z{static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275dir=o.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return z})();const _o={provide:pt,useExisting:(0,o.Rfq)(()=>Ei),multi:!0};let Ei=(()=>{class z extends Ge{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=le=>{U(""==le?null:parseFloat(le))}}static{this.\u0275fac=function(){let U;return function(je){return(U||(U=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(le,je){1&le&&o.bIt("input",function(ir){return je.onChange(ir.target.value)})("blur",function(){return je.onTouched()})},features:[o.Jv_([_o]),o.Vt3]})}}return z})();const tr={provide:pt,useExisting:(0,o.Rfq)(()=>Gr),multi:!0};let Pr=(()=>{class z{static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({})}}return z})(),us=(()=>{class z{constructor(){this._accessors=[]}add(U,le){this._accessors.push([U,le])}remove(U){for(let le=this._accessors.length-1;le>=0;--le)if(this._accessors[le][1]===U)return void this._accessors.splice(le,1)}select(U){this._accessors.forEach(le=>{this._isSameGroup(le,U)&&le[1]!==U&&le[1].fireUncheck(U.value)})}_isSameGroup(U,le){return!!U[0].control&&U[0]._parent===le._control._parent&&U[1].name===le.name}static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275prov=o.jDH({token:z,factory:z.\u0275fac,providedIn:Pr})}}return z})(),Gr=(()=>{class z extends Ge{constructor(U,le,je,yn){super(U,le),this._registry=je,this._injector=yn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(cn,{optional:!0})??Wr}ngOnInit(){this._control=this._injector.get(Fr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(us),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(le,je){1&le&&o.bIt("change",function(){return je.onChange()})("blur",function(){return je.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([tr]),o.Vt3]})}}return z})();const zi=new o.nKC("NgModelWithFormControlWarning"),Qr={provide:an,useExisting:(0,o.Rfq)(()=>_n)};let _n=(()=>{class z extends an{constructor(U,le,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(U),this._setAsyncValidators(le)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const le=this.form.get(U.path);return Bs(le,U,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),le}getControl(U){return this.form.get(U.path)}removeControl(U){xi(U.control||null,U,!1),function oo(z,ee){const U=z.indexOf(ee);U>-1&&z.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,le){this.form.get(U.path).setValue(le)}onSubmit(U){return this.submitted=!0,ts(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const le=U.control,je=this.form.get(U.path);le!==je&&(xi(le||null,U),(z=>z instanceof ji)(je)&&(Bs(je,U,this.callSetDisabledState),U.control=je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const le=this.form.get(U.path);un(le,U),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const le=this.form.get(U.path);le&&function zn(z,ee){return lr(z,ee)}(le,U)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gi(this.form,this),this._oldForm&&lr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(et,10),o.rXU($e,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroup",""]],hostBindings:function(le,je){1&le&&o.bIt("submit",function(ir){return je.onSubmit(ir)})("reset",function(){return je.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Qr]),o.Vt3,o.OA$]})}}return z})();const nr={provide:an,useExisting:(0,o.Rfq)(()=>hr)};let hr=(()=>{class z extends ao{constructor(U,le,je){super(),this.name=null,this._parent=U,this._setValidators(le),this._setAsyncValidators(je)}_checkParentType(){Oi(this._parent)}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(an,13),o.rXU(et,10),o.rXU($e,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([nr]),o.Vt3]})}}return z})();const Wi={provide:an,useExisting:(0,o.Rfq)(()=>is)};let is=(()=>{class z extends an{constructor(U,le,je){super(),this.name=null,this._parent=U,this._setValidators(le),this._setAsyncValidators(je)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Oi(this._parent)}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(an,13),o.rXU(et,10),o.rXU($e,10))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([Wi]),o.Vt3]})}}return z})();function Oi(z){return!(z instanceof hr||z instanceof _n||z instanceof is)}const Hs={provide:Fr,useExisting:(0,o.Rfq)(()=>Jr)};let Jr=(()=>{class z extends Fr{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,le,je,yn,ir){super(),this._ngModelWarningConfig=ir,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(le),this._setAsyncValidators(je),this.valueAccessor=mo(0,yn)}ngOnChanges(U){this._added||this._setUpControl(),es(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(an,13),o.rXU(et,10),o.rXU($e,10),o.rXU(pt,10),o.rXU(zi,8))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Hs]),o.Vt3,o.OA$]})}}return z})();const ss={provide:pt,useExisting:(0,o.Rfq)(()=>hs),multi:!0};function Is(z,ee){return null==z?`${ee}`:(ee&&"object"==typeof ee&&(ee="Object"),`${z}: ${ee}`.slice(0,50))}let hs=(()=>{class z extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const je=Is(this._getOptionId(U),U);this.setProperty("value",je)}registerOnChange(U){this.onChange=le=>{this.value=this._getOptionValue(le),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le),U))return le;return null}_getOptionValue(U){const le=function Qn(z){return z.split(":")[0]}(U);return this._optionMap.has(le)?this._optionMap.get(le):U}static{this.\u0275fac=function(){let U;return function(je){return(U||(U=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(le,je){1&le&&o.bIt("change",function(ir){return je.onChange(ir.target.value)})("blur",function(){return je.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([ss]),o.Vt3]})}}return z})(),ki=(()=>{class z{constructor(U,le,je){this._element=U,this._renderer=le,this._select=je,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Is(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(hs,9))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return z})();const Z={provide:pt,useExisting:(0,o.Rfq)(()=>it),multi:!0};function Q(z,ee){return null==z?`${ee}`:("string"==typeof ee&&(ee=`'${ee}'`),ee&&"object"==typeof ee&&(ee="Object"),`${z}: ${ee}`.slice(0,50))}let it=(()=>{class z extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let le;if(this.value=U,Array.isArray(U)){const je=U.map(yn=>this._getOptionId(yn));le=(yn,ir)=>{yn._setSelected(je.indexOf(ir.toString())>-1)}}else le=(je,yn)=>{je._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(U){this.onChange=le=>{const je=[],yn=le.selectedOptions;if(void 0!==yn){const ir=yn;for(let os=0;os<ir.length;os++){const fs=this._getOptionValue(ir[os].value);je.push(fs)}}else{const ir=le.options;for(let os=0;os<ir.length;os++){const Ms=ir[os];if(Ms.selected){const fs=this._getOptionValue(Ms.value);je.push(fs)}}}this.value=je,U(je)}}_registerOption(U){const le=(this._idCounter++).toString();return this._optionMap.set(le,U),le}_getOptionId(U){for(const le of this._optionMap.keys())if(this._compareWith(this._optionMap.get(le)._value,U))return le;return null}_getOptionValue(U){const le=function Ce(z){return z.split(":")[0]}(U);return this._optionMap.has(le)?this._optionMap.get(le)._value:U}static{this.\u0275fac=function(){let U;return function(je){return(U||(U=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(le,je){1&le&&o.bIt("change",function(ir){return je.onChange(ir.target)})("blur",function(){return je.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Z]),o.Vt3]})}}return z})(),It=(()=>{class z{constructor(U,le,je){this._element=U,this._renderer=le,this._select=je,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Q(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Q(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(le){return new(le||z)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(it,9))}}static{this.\u0275dir=o.FsC({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return z})(),mn=(()=>{class z{constructor(){this._validator=st}ngOnChanges(U){if(this.inputName in U){const le=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):st,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275dir=o.FsC({type:z,features:[o.OA$]})}}return z})();const Yn={provide:et,useExisting:(0,o.Rfq)(()=>Zr),multi:!0};let Zr=(()=>{class z extends mn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=U=>sr}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(je){return(U||(U=o.xGo(z)))(je||z)}}()}static{this.\u0275dir=o.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(le,je){2&le&&o.BMQ("required",je._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([Yn]),o.Vt3]})}}return z})(),Oa=(()=>{class z{static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[Pr]})}}return z})();class Ta extends dt{constructor(ee,U,le){super(ft(U),$(le,U)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,U={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(ee,U,le={}){this.controls.splice(ee,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(ee,U={}){let le=this._adjustIndex(ee);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(ee,U,le={}){let je=this._adjustIndex(ee);je<0&&(je=0),this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),this.controls.splice(je,1),U&&(this.controls.splice(je,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,U={}){fe(this,0,ee),ee.forEach((le,je)=>{re(this,!1,je),this.at(je).setValue(le,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(ee,U={}){null!=ee&&(ee.forEach((le,je)=>{this.at(je)&&this.at(je).patchValue(le,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(ee=[],U={}){this._forEachChild((le,je)=>{le.reset(ee[je],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((U,le)=>!!le._syncPendingControls()||U,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((U,le)=>{ee(U,le)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(U=>U.enabled&&ee(U))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function Cs(z){return!!z&&(void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn)}let zs=(()=>{class z{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new z;return U.useNonNullable=!0,U}group(U,le=null){const je=this._reduceControls(U);let yn={};return Cs(le)?yn=le:null!==le&&(yn.validators=le.validator,yn.asyncValidators=le.asyncValidator),new xt(je,yn)}record(U,le=null){const je=this._reduceControls(U);return new Sn(je,le)}control(U,le,je){let yn={};return this.useNonNullable?(Cs(le)?yn=le:(yn.validators=le,yn.asyncValidators=je),new ji(U,{...yn,nonNullable:!0})):new ji(U,le,je)}array(U,le,je){const yn=U.map(ir=>this._createControl(ir));return new Ta(yn,le,je)}_reduceControls(U){const le={};return Object.keys(U).forEach(je=>{le[je]=this._createControl(U[je])}),le}_createControl(U){return U instanceof ji||U instanceof dt?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275prov=o.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),Ia=(()=>{class z{static withConfig(U){return{ngModule:z,providers:[{provide:cn,useValue:U.callSetDisabledState??Wr}]}}static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[Oa]})}}return z})(),vo=(()=>{class z{static withConfig(U){return{ngModule:z,providers:[{provide:zi,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:U.callSetDisabledState??Wr}]}}static{this.\u0275fac=function(le){return new(le||z)}}static{this.\u0275mod=o.$C({type:z})}static{this.\u0275inj=o.G2t({imports:[Oa]})}}return z})()},345:(on,tt,V)=>{V.d(tt,{B7:()=>Ot,Bb:()=>xn,W8:()=>Bt,hE:()=>Fr,sG:()=>sn,up:()=>Ii});var o=V(7705),ue=V(177);class i extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends i{static makeCurrent(){(0,ue.ZD)(new ve)}onAndCancel($,x,k){return $.addEventListener(x,k),()=>{$.removeEventListener(x,k)}}dispatchEvent($,x){$.dispatchEvent(x)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,x){return(x=x||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,x){return"window"===x?window:"document"===x?$:"body"===x?$.body:null}getBaseHref($){const x=function De(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==x?null:function Be(He){be=be||document.createElement("a"),be.setAttribute("href",He);const $=be.pathname;return"/"===$.charAt(0)?$:`/${$}`}(x)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,ue._b)(document.cookie,$)}}let be,ge=null,J=(()=>{class He{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||He)}}static{this.\u0275prov=o.jDH({token:He,factory:He.\u0275fac})}}return He})();const te=new o.nKC("EventManagerPlugins");let he=(()=>{class He{constructor(x,k){this._zone=k,this._eventNameToPlugin=new Map,x.forEach(re=>{re.manager=this}),this._plugins=x.slice().reverse()}addEventListener(x,k,re){return this._findPluginFor(k).addEventListener(x,k,re)}getZone(){return this._zone}_findPluginFor(x){let k=this._eventNameToPlugin.get(x);if(k)return k;if(k=this._plugins.find(fe=>fe.supports(x)),!k)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(x,k),k}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(te),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:He,factory:He.\u0275fac})}}return He})();class Fe{constructor($){this._doc=$}}const Ge="ng-app-id";let pt=(()=>{class He{constructor(x,k,re,fe={}){this.doc=x,this.appId=k,this.nonce=re,this.platformId=fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(fe),this.resetHostNodes()}addStyles(x){for(const k of x)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(x){for(const k of x)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const x=this.styleNodesInDOM;x&&(x.forEach(k=>k.remove()),x.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(x){this.hostNodes.add(x);for(const k of this.getAllStyles())this.addStyleToHost(x,k)}removeHost(x){this.hostNodes.delete(x)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(x){for(const k of this.hostNodes)this.addStyleToHost(k,x)}onStyleRemoved(x){const k=this.styleRef;k.get(x)?.elements?.forEach(re=>re.remove()),k.delete(x)}collectServerRenderedStyles(){const x=this.doc.head?.querySelectorAll(`style[${Ge}="${this.appId}"]`);if(x?.length){const k=new Map;return x.forEach(re=>{null!=re.textContent&&k.set(re.textContent,re)}),k}return null}changeUsageCount(x,k){const re=this.styleRef;if(re.has(x)){const fe=re.get(x);return fe.usage+=k,fe.usage}return re.set(x,{usage:k,elements:[]}),k}getStyleElement(x,k){const re=this.styleNodesInDOM,fe=re?.get(k);if(fe?.parentNode===x)return re.delete(k),fe.removeAttribute(Ge),fe;{const dt=this.doc.createElement("style");return this.nonce&&dt.setAttribute("nonce",this.nonce),dt.textContent=k,this.platformIsServer&&dt.setAttribute(Ge,this.appId),dt}}addStyleToHost(x,k){const re=this.getStyleElement(x,k);x.appendChild(re);const fe=this.styleRef,dt=fe.get(k)?.elements;dt?dt.push(re):fe.set(k,{elements:[re],usage:1})}resetHostNodes(){const x=this.hostNodes;x.clear(),x.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(ue.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:He,factory:He.\u0275fac})}}return He})();const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mt=/%COMP%/g,Ze=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $e(He,$){return $.map(x=>x.replace(Mt,He))}let Ot=(()=>{class He{constructor(x,k,re,fe,dt,xt,ln,pn=null){this.eventManager=x,this.sharedStylesHost=k,this.appId=re,this.removeStylesOnCompDestroy=fe,this.doc=dt,this.platformId=xt,this.ngZone=ln,this.nonce=pn,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(xt),this.defaultRenderer=new Ie(x,dt,ln,this.platformIsServer)}createRenderer(x,k){if(!x||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===o.gXe.ShadowDom&&(k={...k,encapsulation:o.gXe.Emulated});const re=this.getOrCreateRenderer(x,k);return re instanceof Ue?re.applyToHost(x):re instanceof Pt&&re.applyStyles(),re}getOrCreateRenderer(x,k){const re=this.rendererByCompId;let fe=re.get(k.id);if(!fe){const dt=this.doc,xt=this.ngZone,ln=this.eventManager,pn=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,Ir=this.platformIsServer;switch(k.encapsulation){case o.gXe.Emulated:fe=new Ue(ln,pn,k,this.appId,Sn,dt,xt,Ir);break;case o.gXe.ShadowDom:return new Qe(ln,pn,x,k,dt,xt,this.nonce,Ir);default:fe=new Pt(ln,pn,k,Sn,dt,xt,Ir)}re.set(k.id,fe)}return fe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(he),o.KVO(pt),o.KVO(o.sZ2),o.KVO(Ze),o.KVO(ue.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:He,factory:He.\u0275fac})}}return He})();class Ie{constructor($,x,k,re){this.eventManager=$,this.doc=x,this.ngZone=k,this.platformIsServer=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,x){return x?this.doc.createElementNS(Tt[x]||x,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,x){(sr($)?$.content:$).appendChild(x)}insertBefore($,x,k){$&&(sr($)?$.content:$).insertBefore(x,k)}removeChild($,x){$&&$.removeChild(x)}selectRootElement($,x){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new o.wOt(-5104,!1);return x||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,x,k,re){if(re){x=re+":"+x;const fe=Tt[re];fe?$.setAttributeNS(fe,x,k):$.setAttribute(x,k)}else $.setAttribute(x,k)}removeAttribute($,x,k){if(k){const re=Tt[k];re?$.removeAttributeNS(re,x):$.removeAttribute(`${k}:${x}`)}else $.removeAttribute(x)}addClass($,x){$.classList.add(x)}removeClass($,x){$.classList.remove(x)}setStyle($,x,k,re){re&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(x,k,re&o.czy.Important?"important":""):$.style[x]=k}removeStyle($,x,k){k&o.czy.DashCase?$.style.removeProperty(x):$.style[x]=""}setProperty($,x,k){$[x]=k}setValue($,x){$.nodeValue=x}listen($,x,k){if("string"==typeof $&&!($=(0,ue.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${x}`);return this.eventManager.addEventListener($,x,this.decoratePreventDefault(k))}decoratePreventDefault($){return x=>{if("__ngUnwrap__"===x)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(x)):$(x))&&x.preventDefault()}}}function sr(He){return"TEMPLATE"===He.tagName&&void 0!==He.content}class Qe extends Ie{constructor($,x,k,re,fe,dt,xt,ln){super($,fe,dt,ln),this.sharedStylesHost=x,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pn=$e(re.id,re.styles);for(const Sn of pn){const Ir=document.createElement("style");xt&&Ir.setAttribute("nonce",xt),Ir.textContent=Sn,this.shadowRoot.appendChild(Ir)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,x){return super.appendChild(this.nodeOrShadowRoot($),x)}insertBefore($,x,k){return super.insertBefore(this.nodeOrShadowRoot($),x,k)}removeChild($,x){return super.removeChild(this.nodeOrShadowRoot($),x)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends Ie{constructor($,x,k,re,fe,dt,xt,ln){super($,fe,dt,xt),this.sharedStylesHost=x,this.removeStylesOnCompDestroy=re,this.styles=ln?$e(ln,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ue extends Pt{constructor($,x,k,re,fe,dt,xt,ln){const pn=re+"-"+k.id;super($,x,k,fe,dt,xt,ln,pn),this.contentAttr=function Oe(He){return"_ngcontent-%COMP%".replace(Mt,He)}(pn),this.hostAttr=function et(He){return"_nghost-%COMP%".replace(Mt,He)}(pn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,x){const k=super.createElement($,x);return super.setAttribute(k,this.contentAttr,""),k}}let at=(()=>{class He extends Fe{constructor(x){super(x)}supports(x){return!0}addEventListener(x,k,re){return x.addEventListener(k,re,!1),()=>this.removeEventListener(x,k,re)}removeEventListener(x,k,re){return x.removeEventListener(k,re)}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:He,factory:He.\u0275fac})}}return He})();const Pe=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},en={alt:He=>He.altKey,control:He=>He.ctrlKey,meta:He=>He.metaKey,shift:He=>He.shiftKey};let We=(()=>{class He extends Fe{constructor(x){super(x)}supports(x){return null!=He.parseEventName(x)}addEventListener(x,k,re){const fe=He.parseEventName(k),dt=He.eventCallback(fe.fullKey,re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(x,fe.domEventName,dt))}static parseEventName(x){const k=x.toLowerCase().split("."),re=k.shift();if(0===k.length||"keydown"!==re&&"keyup"!==re)return null;const fe=He._normalizeKey(k.pop());let dt="",xt=k.indexOf("code");if(xt>-1&&(k.splice(xt,1),dt="code."),Pe.forEach(pn=>{const Sn=k.indexOf(pn);Sn>-1&&(k.splice(Sn,1),dt+=pn+".")}),dt+=fe,0!=k.length||0===fe.length)return null;const ln={};return ln.domEventName=re,ln.fullKey=dt,ln}static matchEventFullKeyCode(x,k){let re=st[x.key]||x.key,fe="";return k.indexOf("code.")>-1&&(re=x.code,fe="code."),!(null==re||!re)&&(re=re.toLowerCase()," "===re?re="space":"."===re&&(re="dot"),Pe.forEach(dt=>{dt!==re&&(0,en[dt])(x)&&(fe+=dt+".")}),fe+=re,fe===k)}static eventCallback(x,k,re){return fe=>{He.matchEventFullKeyCode(fe,x)&&re.runGuarded(()=>k(fe))}}static _normalizeKey(x){return"esc"===x?"escape":x}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:He,factory:He.\u0275fac})}}return He})();const sn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:ue.AJ},{provide:o.PLl,useValue:function rt(){ve.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function An(){return(0,o.TL$)(document),document},deps:[]}]),Bn=new o.nKC(""),Jt=[{provide:o.e01,useClass:class ke{addToWindow($){o.JZv.getAngularTestability=(k,re=!0)=>{const fe=$.findTestabilityInTree(k,re);if(null==fe)throw new o.wOt(5103,!1);return fe},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(k=>{const re=o.JZv.getAllAngularTestabilities();let fe=re.length,dt=!1;const xt=function(ln){dt=dt||ln,fe--,0==fe&&k(dt)};re.forEach(ln=>{ln.whenStable(xt)})})}findTestabilityInTree($,x,k){return null==x?null:$.getTestability(x)??(k?(0,ue.QT)().isShadowRoot(x)?this.findTestabilityInTree($,x.host,!0):this.findTestabilityInTree($,x.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],jn=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function Lt(){return new o.zcH},deps:[]},{provide:te,useClass:at,multi:!0,deps:[ue.qQ,o.SKi,o.Agw]},{provide:te,useClass:We,multi:!0,deps:[ue.qQ]},Ot,pt,he,{provide:o._9s,useExisting:Ot},{provide:ue.N0,useClass:J,deps:[]},[]];let xn=(()=>{class He{constructor(x){}static withServerTransition(x){return{ngModule:He,providers:[{provide:o.sZ2,useValue:x.appId}]}}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(Bn,12))}}static{this.\u0275mod=o.$C({type:He})}static{this.\u0275inj=o.G2t({providers:[...jn,...Jt],imports:[ue.MD,o.Hbi]})}}return He})(),Bt=(()=>{class He{constructor(x){this._doc=x,this._dom=(0,ue.QT)()}addTag(x,k=!1){return x?this._getOrCreateElement(x,k):null}addTags(x,k=!1){return x?x.reduce((re,fe)=>(fe&&re.push(this._getOrCreateElement(fe,k)),re),[]):[]}getTag(x){return x&&this._doc.querySelector(`meta[${x}]`)||null}getTags(x){if(!x)return[];const k=this._doc.querySelectorAll(`meta[${x}]`);return k?[].slice.call(k):[]}updateTag(x,k){if(!x)return null;k=k||this._parseSelector(x);const re=this.getTag(k);return re?this._setMetaElementAttributes(x,re):this._getOrCreateElement(x,!0)}removeTag(x){this.removeTagElement(this.getTag(x))}removeTagElement(x){x&&this._dom.remove(x)}_getOrCreateElement(x,k=!1){if(!k){const dt=this._parseSelector(x),xt=this.getTags(dt).filter(ln=>this._containsAttributes(x,ln))[0];if(void 0!==xt)return xt}const re=this._dom.createElement("meta");return this._setMetaElementAttributes(x,re),this._doc.getElementsByTagName("head")[0].appendChild(re),re}_setMetaElementAttributes(x,k){return Object.keys(x).forEach(re=>k.setAttribute(this._getMetaKeyMap(re),x[re])),k}_parseSelector(x){const k=x.name?"name":"property";return`${k}="${x[k]}"`}_containsAttributes(x,k){return Object.keys(x).every(re=>k.getAttribute(this._getMetaKeyMap(re))===x[re])}_getMetaKeyMap(x){return Er[x]||x}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:He,factory:function(k){let re=null;return re=k?new k:function zt(){return new Bt((0,o.KVO)(ue.qQ))}(),re},providedIn:"root"})}}return He})();const Er={httpEquiv:"http-equiv"};let Fr=(()=>{class He{constructor(x){this._doc=x}getTitle(){return this._doc.title}setTitle(x){this._doc.title=x||""}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:He,factory:function(k){let re=null;return re=k?new k:function an(){return new Fr((0,o.KVO)(ue.qQ))}(),re},providedIn:"root"})}}return He})();typeof window<"u"&&window;let Ii=(()=>{class He{static{this.\u0275fac=function(k){return new(k||He)}}static{this.\u0275prov=o.jDH({token:He,factory:function(k){let re=null;return re=k?new(k||He):o.KVO(Et),re},providedIn:"root"})}}return He})(),Et=(()=>{class He extends Ii{constructor(x){super(),this._doc=x}sanitize(x,k){if(null==k)return null;switch(x){case o.WPN.NONE:return k;case o.WPN.HTML:return(0,o.ZF7)(k,"HTML")?(0,o.rcV)(k):(0,o.h9k)(this._doc,String(k)).toString();case o.WPN.STYLE:return(0,o.ZF7)(k,"Style")?(0,o.rcV)(k):k;case o.WPN.SCRIPT:if((0,o.ZF7)(k,"Script"))return(0,o.rcV)(k);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(k,"URL")?(0,o.rcV)(k):(0,o.$MX)(String(k));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(k,"ResourceURL"))return(0,o.rcV)(k);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(x){return(0,o.Kcf)(x)}bypassSecurityTrustStyle(x){return(0,o.cWb)(x)}bypassSecurityTrustScript(x){return(0,o.UyX)(x)}bypassSecurityTrustUrl(x){return(0,o.osQ)(x)}bypassSecurityTrustResourceUrl(x){return(0,o.e5t)(x)}static{this.\u0275fac=function(k){return new(k||He)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:He,factory:function(k){let re=null;return re=k?new k:function ot(He){return new Et(He.get(ue.qQ))}(o.KVO(o.zZn)),re},providedIn:"root"})}}return He})()},6814:(on,tt,V)=>{V.d(tt,{nX:()=>hr,Ix:()=>Fi,Wk:()=>aa,wQ:()=>Ss,iI:()=>Wc,n3:()=>hs});var o=V(7705),ue=V(1985),i=V(8071),ge=V(8455),De=V(7673),be=V(4412),Be=V(3073),ke=V(3669),J=V(6450),te=V(3794),he=V(8496),Fe=V(4360),Ge=V(5225);function pt(...D){const O=(0,te.lI)(D),w=(0,te.ms)(D),{args:N,keys:H}=(0,Be.D)(D);if(0===N.length)return(0,ge.H)([],O);const ae=new ue.c(function Tt(D,O,w=ke.D){return N=>{Mt(O,()=>{const{length:H}=D,ae=new Array(H);let Re=H,wt=H;for(let yt=0;yt<H;yt++)Mt(O,()=>{const In=(0,ge.H)(D[yt],O);let or=!1;In.subscribe((0,Fe._)(N,wr=>{ae[yt]=wr,or||(or=!0,wt--),wt||N.next(w(ae.slice()))},()=>{--Re||N.complete()}))},N)},N)}}(N,O,H?Re=>(0,he.e)(H,Re):ke.D));return w?ae.pipe((0,J.I)(w)):ae}function Mt(D,O,w){D?(0,Ge.N)(w,D,O):O()}var Nt=V(9350),Qt=V(8793),ze=V(8750);function Te(D){return new ue.c(O=>{(0,ze.Tg)(D()).subscribe(O)})}var Ze=V(1203),Oe=V(8810),et=V(983),$e=V(8359),Ot=V(9974);function Ie(){return(0,Ot.N)((D,O)=>{let w=null;D._refCount++;const N=(0,Fe._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,ae=w;w=null,H&&(!ae||H===ae)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class Yt extends ue.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ot.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new $e.yU;const w=this.getSubject();O.add(this.source.subscribe((0,Fe._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=$e.yU.EMPTY)}return O}refCount(){return Ie()(this)}}var gn=V(1413),sr=V(177),Qe=V(6354),Pt=V(5558),Ue=V(6697),at=V(9172),Pe=V(5964),st=V(1397),en=V(1594),We=V(274),Ae=V(8141),Ee=V(9437),Me=V(2816),lt=V(9901);function rt(D){return D<=0?()=>et.w:(0,Ot.N)((O,w)=>{let N=[];O.subscribe((0,Fe._)(w,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)w.next(H);w.complete()},void 0,()=>{N=null}))})}var Lt=V(3774),sn=V(980),Bn=V(5343),jn=V(6365),xn=V(345);const zt="primary",Bt=Symbol("RouteTitle");class Er{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function an(D){return new Er(D)}function Fr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let ae=0;ae<N.length;ae++){const Re=N[ae],wt=D[ae];if(Re.startsWith(":"))H[Re.substring(1)]=wt;else if(Re!==wt.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function $t(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let H;for(let ae=0;ae<w.length;ae++)if(H=w[ae],!wn(D[H],O[H]))return!1;return!0}function wn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((H,ae)=>N[ae]===H)}return D===O}function $n(D){return D.length>0?D[D.length-1]:null}function Dn(D){return function ve(D){return!!D&&(D instanceof ue.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,ge.H)(Promise.resolve(D)):(0,De.of)(D)}const Hr={exact:function hi(D,O,w){if(!Et(D.segments,O.segments)||!er(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!hi(D.children[N],O.children[N],w))return!1;return!0},subset:fn},xr={exact:function Gn(D,O){return $t(D,O)},subset:function ms(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>wn(D[w],O[w]))},ignored:()=>!0};function Yr(D,O,w){return Hr[w.paths](D.root,O.root,w.matrixParams)&&xr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function fn(D,O,w){return ni(D,O,O.segments,w)}function ni(D,O,w,N){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!Et(H,w)||O.hasChildren()||!er(H,w,N))}if(D.segments.length===w.length){if(!Et(D.segments,w)||!er(D.segments,w,N))return!1;for(const H in O.children)if(!D.children[H]||!fn(D.children[H],O.children[H],N))return!1;return!0}{const H=w.slice(0,D.segments.length),ae=w.slice(D.segments.length);return!!(Et(D.segments,H)&&er(D.segments,H,N)&&D.children[zt])&&ni(D.children[zt],O,ae,N)}}function er(D,O,w){return O.every((N,H)=>xr[w](D[H].parameters,N.parameters))}class Ar{constructor(O=new Hn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Hn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ve(this)}}class Ii{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return re(this)}}function Et(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let xe=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new At},providedIn:"root"})}}return D})();class At{parse(O){const w=new Bs(O);return new Ar(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Kt(O.root,!0)}`,N=function dt(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(H=>`${ft(w)}=${ft(H)}`).join("&"):`${ft(w)}=${ft(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function He(D){return encodeURI(D)}(O.fragment)}`:""}`}}const qt=new At;function Ve(D){return D.segments.map(O=>re(O)).join("/")}function Kt(D,O){if(!D.hasChildren())return Ve(D);if(O){const w=D.children[zt]?Kt(D.children[zt],!1):"",N=[];return Object.entries(D.children).forEach(([H,ae])=>{H!==zt&&N.push(`${H}:${Kt(ae,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function ce(D,O){let w=[];return Object.entries(D.children).forEach(([N,H])=>{N===zt&&(w=w.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==zt&&(w=w.concat(O(H,N)))}),w}(D,(N,H)=>H===zt?[Kt(D.children[zt],!1)]:[`${H}:${Kt(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[zt]?`${Ve(D)}/${w[0]}`:`${Ve(D)}/(${w.join("//")})`}}function _e(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ft(D){return _e(D).replace(/%3B/gi,";")}function $(D){return _e(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function x(D){return decodeURIComponent(D)}function k(D){return x(D.replace(/\+/g,"%20"))}function re(D){return`${$(D.path)}${function fe(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const xt=/^[^\/()?;#]+/;function ln(D){const O=D.match(xt);return O?O[0]:""}const pn=/^[^\/()?;=#]+/,Ir=/^[^=?&#]+/,Wr=/^[^&#]+/;class Bs{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[zt]=new Hn(O,w)),N}parseSegment(){const O=ln(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Ii(x(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Sn(D){const O=D.match(pn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const H=ln(this.remaining);H&&(N=H,this.capture(N))}O[x(w)]=x(N)}parseQueryParam(O){const w=function cn(D){const O=D.match(Ir);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Re=function dr(D){const O=D.match(Wr);return O?O[0]:""}(this.remaining);Re&&(N=Re,this.capture(N))}const H=k(w),ae=k(N);if(O.hasOwnProperty(H)){let Re=O[H];Array.isArray(Re)||(Re=[Re],O[H]=Re),Re.push(ae)}else O[H]=ae}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=ln(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new o.wOt(4010,!1);let ae;N.indexOf(":")>-1?(ae=N.slice(0,N.indexOf(":")),this.capture(ae),this.capture(":")):O&&(ae=zt);const Re=this.parseChildren();w[ae]=1===Object.keys(Re).length?Re[zt]:new Hn([],Re),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function xi(D){return D.segments.length>0?new Hn([],{[zt]:D}):D}function _s(D){const O={};for(const N of Object.keys(D.children)){const ae=_s(D.children[N]);if(N===zt&&0===ae.segments.length&&ae.hasChildren())for(const[Re,wt]of Object.entries(ae.children))O[Re]=wt;else(ae.segments.length>0||ae.hasChildren())&&(O[N]=ae)}return function ys(D){if(1===D.numberOfChildren&&D.children[zt]){const O=D.children[zt];return new Hn(D.segments.concat(O.segments),O.children)}return D}(new Hn(D.segments,O))}function gi(D){return D instanceof Ar}function Gi(D){let O;const H=xi(function w(ae){const Re={};for(const yt of ae.children){const In=w(yt);Re[yt.outlet]=In}const wt=new Hn(ae.url,Re);return ae===D&&(O=wt),wt}(D.root));return O??H}function bt(D,O,w,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return un(H,H,H,w,N);const ae=function mr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Ln(!0,0,D);let O=0,w=!1;const N=D.reduce((H,ae,Re)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const wt={};return Object.entries(ae.outlets).forEach(([yt,In])=>{wt[yt]="string"==typeof In?In.split("/"):In}),[...H,{outlets:wt}]}if(ae.segmentPath)return[...H,ae.segmentPath]}return"string"!=typeof ae?[...H,ae]:0===Re?(ae.split("/").forEach((wt,yt)=>{0==yt&&"."===wt||(0==yt&&""===wt?w=!0:".."===wt?O++:""!=wt&&H.push(wt))}),H):[...H,ae]},[]);return new Ln(w,O,N)}(O);if(ae.toRoot())return un(H,H,new Hn([],{}),w,N);const Re=function Kr(D,O,w){if(D.isAbsolute)return new kr(O,!0,0);if(!w)return new kr(O,!1,NaN);if(null===w.parent)return new kr(w,!0,0);const N=ct(D.commands[0])?0:1;return function Sr(D,O,w){let N=D,H=O,ae=w;for(;ae>H;){if(ae-=H,N=N.parent,!N)throw new o.wOt(4005,!1);H=N.segments.length}return new kr(N,!1,H-ae)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ae,H,D),wt=Re.processChildren?ts(Re.segmentGroup,Re.index,ae.commands):xs(Re.segmentGroup,Re.index,ae.commands);return un(H,Re.segmentGroup,wt,w,N)}function ct(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ft(D){return"object"==typeof D&&null!=D&&D.outlets}function un(D,O,w,N,H){let Re,ae={};N&&Object.entries(N).forEach(([yt,In])=>{ae[yt]=Array.isArray(In)?In.map(or=>`${or}`):`${In}`}),Re=D===O?w:zn(D,O,w);const wt=xi(_s(Re));return new Ar(wt,ae,H)}function zn(D,O,w){const N={};return Object.entries(D.children).forEach(([H,ae])=>{N[H]=ae===O?w:zn(ae,O,w)}),new Hn(D.segments,N)}class Ln{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&ct(N[0]))throw new o.wOt(4003,!1);const H=N.find(Ft);if(H&&H!==$n(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kr{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function xs(D,O,w){if(D||(D=new Hn([],{})),0===D.segments.length&&D.hasChildren())return ts(D,O,w);const N=function mo(D,O,w){let N=0,H=O;const ae={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=w.length)return ae;const Re=D.segments[H],wt=w[N];if(Ft(wt))break;const yt=`${wt}`,In=N<w.length-1?w[N+1]:null;if(H>0&&void 0===yt)break;if(yt&&In&&"object"==typeof In&&void 0===In.outlets){if(!ci(yt,In,Re))return ae;N+=2}else{if(!ci(yt,{},Re))return ae;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,w),H=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ae=new Hn(D.segments.slice(0,N.pathIndex),{});return ae.children[zt]=new Hn(D.segments.slice(N.pathIndex),D.children),ts(ae,0,H)}return N.match&&0===H.length?new Hn(D.segments,{}):N.match&&!D.hasChildren()?oo(D,O,w):N.match?ts(D,0,H):oo(D,O,w)}function ts(D,O,w){if(0===w.length)return new Hn(D.segments,{});{const N=function es(D){return Ft(D[0])?D[0].outlets:{[zt]:D}}(w),H={};if(Object.keys(N).some(ae=>ae!==zt)&&D.children[zt]&&1===D.numberOfChildren&&0===D.children[zt].segments.length){const ae=ts(D.children[zt],O,w);return new Hn(D.segments,ae.children)}return Object.entries(N).forEach(([ae,Re])=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(H[ae]=xs(D.children[ae],O,Re))}),Object.entries(D.children).forEach(([ae,Re])=>{void 0===N[ae]&&(H[ae]=Re)}),new Hn(D.segments,H)}}function oo(D,O,w){const N=D.segments.slice(0,O);let H=0;for(;H<w.length;){const ae=w[H];if(Ft(ae)){const yt=Li(ae.outlets);return new Hn(N,yt)}if(0===H&&ct(w[0])){N.push(new Ii(D.segments[O].path,Wo(w[0]))),H++;continue}const Re=Ft(ae)?ae.outlets[zt]:`${ae}`,wt=H<w.length-1?w[H+1]:null;Re&&wt&&ct(wt)?(N.push(new Ii(Re,Wo(wt))),H+=2):(N.push(new Ii(Re,{})),H++)}return new Hn(N,{})}function Li(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=oo(new Hn([],{}),0,N))}),O}function Wo(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function ci(D,O,w){return D==w.path&&$t(O,w.parameters)}const ns="imperative";class vs{constructor(O,w){this.id=O,this.url=w}}class Xr extends vs{constructor(O,w,N="imperative",H=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ji extends vs{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ai extends vs{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rr extends vs{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=16}}class ao extends vs{constructor(O,w,N,H){super(O,w),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ko extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ma extends vs{constructor(O,w,N,H,ae){super(O,w),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xa extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends vs{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xs{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ri{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tr{}class Dr{constructor(O){this.url=O}}class us{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gr,this.attachRef=null}}let Gr=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const H=this.getOrCreateContext(w);H.outlet=N,this.contexts.set(w,H)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new us,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class Mi{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=Ts(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=Ts(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=zi(O,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return zi(O,this._root).map(w=>w.value)}}function Ts(D,O){if(D===O.value)return O;for(const w of O.children){const N=Ts(D,w);if(N)return N}return null}function zi(D,O){if(D===O.value)return[O];for(const w of O.children){const N=zi(D,w);if(N.length)return N.unshift(O),N}return[]}class ds{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function rs(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class Qr extends Mi{constructor(O,w){super(O),this.snapshot=w,Jr(this,O)}toString(){return this.snapshot.toString()}}function _n(D,O){const w=function nr(D,O){const Re=new Oi([],{},{},"",{},zt,O,null,{});return new Hs("",new ds(Re,[]))}(0,O),N=new be.t([new Ii("",{})]),H=new be.t({}),ae=new be.t({}),Re=new be.t({}),wt=new be.t(""),yt=new hr(N,H,Re,wt,ae,zt,O,w.root);return yt.snapshot=w.root,new Qr(new ds(yt,[]),w)}class hr{constructor(O,w,N,H,ae,Re,wt,yt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=ae,this.outlet=Re,this.component=wt,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,Qe.T)(In=>In[Bt]))??(0,De.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.T)(O=>an(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.T)(O=>an(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const H=w[N],ae=w[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(ae.component)break;N--}}return function is(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Oi{get title(){return this.data?.[Bt]}constructor(O,w,N,H,ae,Re,wt,yt,In){this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ae,this.outlet=Re,this.component=wt,this.routeConfig=yt,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hs extends Mi{constructor(O,w){super(w),this.url=O,Jr(this,w)}toString(){return ss(this._root)}}function Jr(D,O){O.value._routerState=D,O.children.forEach(w=>Jr(D,w))}function ss(D){const O=D.children.length>0?` { ${D.children.map(ss).join(", ")} } `:"";return`${D.value}${O}`}function Is(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,$t(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),$t(O.params,w.params)||D.paramsSubject.next(w.params),function Xn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!$t(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),$t(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Qn(D,O){const w=$t(D.params,O.params)&&function ot(D,O){return Et(D,O)&&D.every((w,N)=>$t(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||Qn(D.parent,O.parent))}let hs=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(Gr),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:H}=w.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Re=w.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,yt=new ki(w,wt,H.injector);this.activated=H.createComponent(Re,{index:H.length,injector:yt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class ki{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===hr?this.route:O===Gr?this.childContexts:this.parent.get(O,w)}}const Z=new o.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,H=pt([N.queryParams,N.params,N.data]).pipe((0,Pt.n)(([ae,Re,wt],yt)=>(wt={...ae,...Re,...wt},0===yt?(0,De.of)(wt):Promise.resolve(wt)))).subscribe(ae=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Re=(0,o.HJs)(N.component);if(Re)for(const{templateName:wt}of Re.inputs)w.activatedComponentRef.setInput(wt,ae[wt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Ne(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const H=function it(D,O,w){return O.children.map(N=>{for(const H of w.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Ne(D,N,H);return Ne(D,N)})}(D,O,w);return new ds(N,H)}{if(D.shouldAttach(O.value)){const ae=D.retrieve(O.value);if(null!==ae){const Re=ae.route;return Re.value._futureSnapshot=O.value,Re.children=O.children.map(wt=>Ne(D,wt)),Re}}const N=function It(D){return new hr(new be.t(D.url),new be.t(D.params),new be.t(D.queryParams),new be.t(D.fragment),new be.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(ae=>Ne(D,ae));return new ds(N,H)}}const Xt="ngNavigationCancelingError";function bn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=gi(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=mn(!1,0,O);return H.url=w,H.navigationBehaviorOptions=N,H}function mn(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Xt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function yr(D){return D&&D[Xt]}let Vn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,H){1&N&&o.nrm(0,"router-outlet")},dependencies:[hs],encapsulation:2})}}return D})();function Si(D){const O=D.children&&D.children.map(Si),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==zt&&(w.component=Vn),w}function Lr(D){return D.outlet||zt}function Vi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Ko{constructor(O,w,N,H,ae){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=ae}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),Is(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const H=rs(w);O.children.forEach(ae=>{const Re=ae.value.outlet;this.deactivateRoutes(ae,H[Re],N),delete H[Re]}),Object.values(H).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,N)})}deactivateRoutes(O,w,N){const H=O.value,ae=w?w.value:null;if(H===ae)if(H.component){const Re=N.getContext(H.outlet);Re&&this.deactivateChildRoutes(O,w,Re.children)}else this.deactivateChildRoutes(O,w,N);else ae&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ae=rs(O);for(const Re of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Re],H);if(N&&N.outlet){const Re=N.outlet.detach(),wt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Re,route:O,contexts:wt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ae=rs(O);for(const Re of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Re],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const H=rs(w);O.children.forEach(ae=>{this.activateRoutes(ae,H[ae.value.outlet],N),this.forwardEvent(new _o(ae.value.snapshot))}),O.children.length&&this.forwardEvent(new js(O.value.snapshot))}activateRoutes(O,w,N){const H=O.value,ae=w?w.value:null;if(Is(H),H===ae)if(H.component){const Re=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,w,Re.children)}else this.activateChildRoutes(O,w,N);else if(H.component){const Re=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const wt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Re.children.onOutletReAttached(wt.contexts),Re.attachRef=wt.componentRef,Re.route=wt.route.value,Re.outlet&&Re.outlet.attach(wt.componentRef,wt.route.value),Is(wt.route.value),this.activateChildRoutes(O,null,Re.children)}else{const wt=Vi(H.snapshot);Re.attachRef=null,Re.route=H,Re.injector=wt,Re.outlet&&Re.outlet.activateWith(H,Re.injector),this.activateChildRoutes(O,null,Re.children)}}else this.activateChildRoutes(O,null,N)}}class Oa{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Ta{constructor(O,w){this.component=O,this.route=w}}function jc(D,O,w){const N=D._root;return zs(N,O?O._root:null,w,[N.value])}function Cs(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function zs(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=rs(O);return D.children.forEach(Re=>{(function Qa(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,Re=O?O.value:null,wt=w?w.getContext(D.value.outlet):null;if(Re&&ae.routeConfig===Re.routeConfig){const yt=function Na(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!Et(D.url,O.url);case"pathParamsOrQueryParamsChange":return!Et(D.url,O.url)||!$t(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(D,O)||!$t(D.queryParams,O.queryParams);default:return!Qn(D,O)}}(Re,ae,ae.routeConfig.runGuardsAndResolvers);yt?H.canActivateChecks.push(new Oa(N)):(ae.data=Re.data,ae._resolvedData=Re._resolvedData),zs(D,O,ae.component?wt?wt.children:null:w,N,H),yt&&wt&&wt.outlet&&wt.outlet.isActivated&&H.canDeactivateChecks.push(new Ta(wt.outlet.component,Re))}else Re&&bi(O,wt,H),H.canActivateChecks.push(new Oa(N)),zs(D,null,ae.component?wt?wt.children:null:w,N,H)})(Re,ae[Re.value.outlet],w,N.concat([Re.value]),H),delete ae[Re.value.outlet]}),Object.entries(ae).forEach(([Re,wt])=>bi(wt,w.getContext(Re),H)),H}function bi(D,O,w){const N=rs(D),H=D.value;Object.entries(N).forEach(([ae,Re])=>{bi(Re,H.component?O?O.children.getContext(ae):null:O,w)}),w.canDeactivateChecks.push(new Ta(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function Ia(D){return"function"==typeof D}function os(D){return D instanceof Nt.G||"EmptyError"===D?.name}const Ms=Symbol("INITIAL_VALUE");function fs(){return(0,Pt.n)(D=>pt(D.map(O=>O.pipe((0,Ue.s)(1),(0,at.Z)(Ms)))).pipe((0,Qe.T)(O=>{for(const w of O)if(!0!==w){if(w===Ms)return Ms;if(!1===w||w instanceof Ar)return w}return!0}),(0,Pe.p)(O=>O!==Ms),(0,Ue.s)(1)))}function ls(D){return(0,Ze.F)((0,Ae.M)(O=>{if(gi(O))throw bn(0,O)}),(0,Qe.T)(O=>!0===O))}class lo{constructor(O){this.segmentGroup=O||null}}class Ca{constructor(O){this.urlTree=O}}function As(D){return(0,Oe.$)(new lo(D))}function wa(D){return(0,Oe.$)(new Ca(D))}class Ou{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],H=w.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,De.of)(N);if(H.numberOfChildren>1||!H.children[zt])return(0,Oe.$)(new o.wOt(4e3,!1));H=H.children[zt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,H){const ae=this.createSegmentGroup(O,w.root,N,H);return new Ar(ae,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([H,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const wt=ae.substring(1);N[H]=w[wt]}else N[H]=ae}),N}createSegmentGroup(O,w,N,H){const ae=this.createSegments(O,w.segments,N,H);let Re={};return Object.entries(w.children).forEach(([wt,yt])=>{Re[wt]=this.createSegmentGroup(O,yt,N,H)}),new Hn(ae,Re)}createSegments(O,w,N,H){return w.map(ae=>ae.path.startsWith(":")?this.findPosParam(O,ae,H):this.findOrReturn(ae,N))}findPosParam(O,w,N){const H=N[w.path.substring(1)];if(!H)throw new o.wOt(4001,!1);return H}findOrReturn(O,w){let N=0;for(const H of w){if(H.path===O.path)return w.splice(N),H;N++}return O}}const _r={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ec(D,O,w,N,H){const ae=bo(D,O,w);return ae.matched?(N=function Un(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Fo(D,O,w,N){const H=O.canMatch;if(!H||0===H.length)return(0,De.of)(!0);const ae=H.map(Re=>{const wt=Cs(Re,D);return Dn(function je(D){return D&&Ia(D.canMatch)}(wt)?wt.canMatch(O,w):D.runInContext(()=>wt(O,w)))});return(0,De.of)(ae).pipe(fs(),ls())}(N,O,w).pipe((0,Qe.T)(Re=>!0===Re?ae:{..._r}))):(0,De.of)(ae)}function bo(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{..._r}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(O.matcher||Fr)(w,D,O);if(!H)return{..._r};const ae={};Object.entries(H.posParams??{}).forEach(([wt,yt])=>{ae[wt]=yt.path});const Re=H.consumed.length>0?{...ae,...H.consumed[H.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Re,positionalParamSegments:H.posParams??{}}}function Lo(D,O,w,N){return w.length>0&&function yl(D,O,w){return w.some(N=>ka(D,O,N)&&Lr(N)!==zt)}(D,w,N)?{segmentGroup:new Hn(O,tc(N,new Hn(w,D.children))),slicedSegments:[]}:0===w.length&&function Uh(D,O,w){return w.some(N=>ka(D,O,N))}(D,w,N)?{segmentGroup:new Hn(D.segments,Ja(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new Hn(D.segments,D.children),slicedSegments:w}}function Ja(D,O,w,N,H){const ae={};for(const Re of N)if(ka(D,w,Re)&&!H[Lr(Re)]){const wt=new Hn([],{});ae[Lr(Re)]=wt}return{...H,...ae}}function tc(D,O){const w={};w[zt]=O;for(const N of D)if(""===N.path&&Lr(N)!==zt){const H=new Hn([],{});w[Lr(N)]=H}return w}function ka(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class nc{constructor(O,w,N,H,ae,Re,wt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=H,this.urlTree=ae,this.paramsInheritanceStrategy=Re,this.urlSerializer=wt,this.allowRedirects=!0,this.applyRedirects=new Ou(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=Lo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,zt).pipe((0,Ee.W)(w=>{if(w instanceof Ca)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof lo?this.noMatchError(w):w}),(0,Qe.T)(w=>{const N=new Oi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,{}),H=new ds(N,w),ae=new Hs("",H),Re=function lr(D,O,w=null,N=null){return bt(Gi(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Re.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Re),this.inheritParamsAndData(ae._root),{state:ae,tree:Re}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,zt).pipe((0,Ee.W)(N=>{throw N instanceof lo?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Wi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,w,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,H,!0)}processChildren(O,w,N){const H=[];for(const ae of Object.keys(N.children))"primary"===ae?H.unshift(ae):H.push(ae);return(0,ge.H)(H).pipe((0,We.H)(ae=>{const Re=N.children[ae],wt=function yo(D,O){const w=D.filter(N=>Lr(N)===O);return w.push(...D.filter(N=>Lr(N)!==O)),w}(w,ae);return this.processSegmentGroup(O,wt,Re,ae)}),(0,Me.S)((ae,Re)=>(ae.push(...Re),ae)),(0,lt.U)(null),function An(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Pe.p)((H,ae)=>D(H,ae,N)):ke.D,rt(1),w?(0,lt.U)(O):(0,Lt.v)(()=>new Nt.G))}(),(0,st.Z)(ae=>{if(null===ae)return As(N);const Re=el(ae);return function Fa(D){D.sort((O,w)=>O.value.outlet===zt?-1:w.value.outlet===zt?1:O.value.outlet.localeCompare(w.value.outlet))}(Re),(0,De.of)(Re)}))}processSegment(O,w,N,H,ae,Re){return(0,ge.H)(w).pipe((0,We.H)(wt=>this.processSegmentAgainstRoute(wt._injector??O,w,wt,N,H,ae,Re).pipe((0,Ee.W)(yt=>{if(yt instanceof lo)return(0,De.of)(null);throw yt}))),(0,en.$)(wt=>!!wt),(0,Ee.W)(wt=>{if(os(wt))return function vl(D,O,w){return 0===O.length&&!D.children[w]}(N,H,ae)?(0,De.of)([]):As(N);throw wt}))}processSegmentAgainstRoute(O,w,N,H,ae,Re,wt){return function Nu(D,O,w,N){return!!(Lr(D)===N||N!==zt&&ka(O,w,D))&&("**"===D.path||bo(O,D,w).matched)}(N,H,ae,Re)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,ae,Re,wt):wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,w,N,ae,Re):As(H):As(H)}expandSegmentAgainstRouteUsingRedirect(O,w,N,H,ae,Re){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ae,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,H){const ae=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?wa(ae):this.applyRedirects.lineralizeSegments(N,ae).pipe((0,st.Z)(Re=>{const wt=new Hn(Re,{});return this.processSegment(O,w,wt,Re,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ae,Re){const{matched:wt,consumedSegments:yt,remainingSegments:In,positionalParamSegments:or}=bo(w,H,ae);if(!wt)return As(w);const wr=this.applyRedirects.applyRedirectCommands(yt,H.redirectTo,or);return H.redirectTo.startsWith("/")?wa(wr):this.applyRedirects.lineralizeSegments(H,wr).pipe((0,st.Z)(jr=>this.processSegment(O,N,w,jr.concat(In),Re,!1)))}matchSegmentAgainstRoute(O,w,N,H,ae,Re){let wt;if("**"===N.path){const yt=H.length>0?$n(H).parameters:{},In=new Oi(H,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rc(N),Lr(N),N.component??N._loadedComponent??null,N,P(N));wt=(0,De.of)({snapshot:In,consumedSegments:[],remainingSegments:[]}),w.children={}}else wt=ec(w,N,H,O).pipe((0,Qe.T)(({matched:yt,consumedSegments:In,remainingSegments:or,parameters:wr})=>yt?{snapshot:new Oi(In,wr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rc(N),Lr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:In,remainingSegments:or}:null));return wt.pipe((0,Pt.n)(yt=>null===yt?As(w):this.getChildConfig(O=N._injector??O,N,H).pipe((0,Pt.n)(({routes:In})=>{const or=N._loadedInjector??O,{snapshot:wr,consumedSegments:jr,remainingSegments:Ur}=yt,{segmentGroup:Ua,slicedSegments:Cl}=Lo(w,jr,Ur,In);if(0===Cl.length&&Ua.hasChildren())return this.processChildren(or,In,Ua).pipe((0,Qe.T)(wl=>null===wl?null:[new ds(wr,wl)]));if(0===In.length&&0===Cl.length)return(0,De.of)([new ds(wr,[])]);const lc=Lr(N)===ae;return this.processSegment(or,In,Ua,Cl,lc?zt:ae,!0).pipe((0,Qe.T)(wl=>[new ds(wr,wl)]))}))))}getChildConfig(O,w,N){return w.children?(0,De.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,De.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Zl(D,O,w,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,De.of)(!0);const ae=H.map(Re=>{const wt=Cs(Re,D);return Dn(function z(D){return D&&Ia(D.canLoad)}(wt)?wt.canLoad(O,w):D.runInContext(()=>wt(O,w)))});return(0,De.of)(ae).pipe(fs(),ls())}(O,w,N).pipe((0,st.Z)(H=>H?this.configLoader.loadChildren(O,w).pipe((0,Ae.M)(ae=>{w._loadedRoutes=ae.routes,w._loadedInjector=ae.injector})):function _l(D){return(0,Oe.$)(mn(!1,3))}())):(0,De.of)({routes:[],injector:O})}}function Za(D){const O=D.value.routeConfig;return O&&""===O.path}function el(D){const O=[],w=new Set;for(const N of D){if(!Za(N)){O.push(N);continue}const H=O.find(ae=>N.value.routeConfig===ae.value.routeConfig);void 0!==H?(H.children.push(...N.children),w.add(H)):O.push(N)}for(const N of w){const H=el(N.children);O.push(new ds(N.value,H))}return O.filter(N=>!w.has(N))}function rc(D){return D.data||{}}function P(D){return D.resolve||{}}function Pn(D){return"string"==typeof D.title||null===D.title}function Br(D){return(0,Pt.n)(O=>{const w=D(O);return w?(0,ge.H)(w).pipe((0,Qe.T)(()=>O)):(0,De.of)(O)})}const pi=new o.nKC("ROUTES");let ii=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,De.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=Dn(w.loadComponent()).pipe((0,Qe.T)(Ti),(0,Ae.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ae}),(0,sn.j)(()=>{this.componentLoaders.delete(w)})),H=new Yt(N,()=>new gn.B).pipe(Ie());return this.componentLoaders.set(w,H),H}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,De.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ae=function fr(D,O,w,N){return Dn(D.loadChildren()).pipe((0,Qe.T)(Ti),(0,st.Z)(H=>H instanceof o.Co$||Array.isArray(H)?(0,De.of)(H):(0,ge.H)(O.compileModuleAsync(H))),(0,Qe.T)(H=>{N&&N(D);let ae,Re,wt=!1;return Array.isArray(H)?(Re=H,!0):(ae=H.create(w).injector,Re=ae.get(pi,[],{optional:!0,self:!0}).flat()),{routes:Re.map(Si),injector:ae}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,sn.j)(()=>{this.childrenLoaders.delete(N)})),Re=new Yt(ae,()=>new gn.B).pipe(Ie());return this.childrenLoaders.set(N,Re),Re}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ti(D){return function si(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let wi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gn.B,this.transitionAbortSubject=new gn.B,this.configLoader=(0,o.WQX)(ii),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(xe),this.rootContexts=(0,o.WQX)(Gr),this.inputBindingEnabled=null!==(0,o.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Xs(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new ba(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,H){return this.transitions=new be.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ns,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pe.p)(ae=>0!==ae.id),(0,Qe.T)(ae=>({...ae,extractedUrl:w.urlHandlingStrategy.extract(ae.rawUrl)})),(0,Pt.n)(ae=>{this.currentTransition=ae;let Re=!1,wt=!1;return(0,De.of)(ae).pipe((0,Ae.M)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pt.n)(yt=>{const In=yt.currentBrowserUrl.toString(),or=!w.navigated||yt.extractedUrl.toString()!==In||In!==yt.currentUrlTree.toString();if(!or&&"reload"!==(yt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const jr="";return this.events.next(new Rr(yt.id,this.urlSerializer.serialize(yt.rawUrl),jr,0)),yt.resolve(null),et.w}if(w.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,De.of)(yt).pipe((0,Pt.n)(jr=>{const Ur=this.transitions?.getValue();return this.events.next(new Xr(jr.id,this.urlSerializer.serialize(jr.extractedUrl),jr.source,jr.restoredState)),Ur!==this.transitions?.getValue()?et.w:Promise.resolve(jr)}),function ne(D,O,w,N,H,ae){return(0,st.Z)(Re=>function qo(D,O,w,N,H,ae,Re="emptyOnly"){return new nc(D,O,w,N,H,Re,ae).recognize()}(D,O,w,N,Re.extractedUrl,H,ae).pipe((0,Qe.T)(({state:wt,tree:yt})=>({...Re,targetSnapshot:wt,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Ae.M)(jr=>{ae.targetSnapshot=jr.targetSnapshot,ae.urlAfterRedirects=jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jr.urlAfterRedirects};const Ur=new ko(jr.id,this.urlSerializer.serialize(jr.extractedUrl),this.urlSerializer.serialize(jr.urlAfterRedirects),jr.targetSnapshot);this.events.next(Ur)}));if(or&&w.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:jr,extractedUrl:Ur,source:Ua,restoredState:Cl,extras:lc}=yt,wl=new Xr(jr,this.urlSerializer.serialize(Ur),Ua,Cl);this.events.next(wl);const ol=_n(0,this.rootComponentType).snapshot;return this.currentTransition=ae={...yt,targetSnapshot:ol,urlAfterRedirects:Ur,extras:{...lc,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(ae)}{const jr="";return this.events.next(new Rr(yt.id,this.urlSerializer.serialize(yt.extractedUrl),jr,1)),yt.resolve(null),et.w}}),(0,Ae.M)(yt=>{const In=new fi(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(In)}),(0,Qe.T)(yt=>(this.currentTransition=ae={...yt,guards:jc(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},ae)),function Eo(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:ae,canDeactivateChecks:Re}}=w;return 0===Re.length&&0===ae.length?(0,De.of)({...w,guardsResult:!0}):function Ws(D,O,w,N){return(0,ge.H)(D).pipe((0,st.Z)(H=>function qi(D,O,w,N,H){const ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,De.of)(!0);const Re=ae.map(wt=>{const yt=Vi(O)??H,In=Cs(wt,yt);return Dn(function le(D){return D&&Ia(D.canDeactivate)}(In)?In.canDeactivate(D,O,w,N):yt.runInContext(()=>In(D,O,w,N))).pipe((0,en.$)())});return(0,De.of)(Re).pipe(fs())}(H.component,H.route,w,O,N)),(0,en.$)(H=>!0!==H,!0))}(Re,N,H,D).pipe((0,st.Z)(wt=>wt&&function vo(D){return"boolean"==typeof D}(wt)?function as(D,O,w,N){return(0,ge.H)(O).pipe((0,We.H)(H=>(0,Qt.x)(function ml(D,O){return null!==D&&O&&O(new ri(D)),(0,De.of)(!0)}(H.route.parent,N),function to(D,O){return null!==D&&O&&O(new $s(D)),(0,De.of)(!0)}(H.route,N),function oa(D,O,w){const N=O[O.length-1],ae=O.slice(0,O.length-1).reverse().map(Re=>function Gs(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Re)).filter(Re=>null!==Re).map(Re=>Te(()=>{const wt=Re.guards.map(yt=>{const In=Vi(Re.node)??w,or=Cs(yt,In);return Dn(function U(D){return D&&Ia(D.canActivateChild)}(or)?or.canActivateChild(N,D):In.runInContext(()=>or(N,D))).pipe((0,en.$)())});return(0,De.of)(wt).pipe(fs())}));return(0,De.of)(ae).pipe(fs())}(D,H.path,w),function ws(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,De.of)(!0);const H=N.map(ae=>Te(()=>{const Re=Vi(O)??w,wt=Cs(ae,Re);return Dn(function ee(D){return D&&Ia(D.canActivate)}(wt)?wt.canActivate(O,D):Re.runInContext(()=>wt(O,D))).pipe((0,en.$)())}));return(0,De.of)(H).pipe(fs())}(D,H.route,w))),(0,en.$)(H=>!0!==H,!0))}(N,ae,D,O):(0,De.of)(wt)),(0,Qe.T)(wt=>({...w,guardsResult:wt})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Ae.M)(yt=>{if(ae.guardsResult=yt.guardsResult,gi(yt.guardsResult))throw bn(0,yt.guardsResult);const In=new Ma(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(In)}),(0,Pe.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),Br(yt=>{if(yt.guards.canActivateChecks.length)return(0,De.of)(yt).pipe((0,Ae.M)(In=>{const or=new Xa(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(or)}),(0,Pt.n)(In=>{let or=!1;return(0,De.of)(In).pipe(function j(D,O){return(0,st.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,De.of)(w);let ae=0;return(0,ge.H)(H).pipe((0,We.H)(Re=>function Y(D,O,w,N){const H=D.routeConfig,ae=D._resolve;return void 0!==H?.title&&!Pn(H)&&(ae[Bt]=H.title),function Se(D,O,w,N){const H=function St(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,De.of)({});const ae={};return(0,ge.H)(H).pipe((0,st.Z)(Re=>function Vt(D,O,w,N){const H=Vi(O)??N,ae=Cs(D,H);return Dn(ae.resolve?ae.resolve(O,w):H.runInContext(()=>ae(O,w)))}(D[Re],O,w,N).pipe((0,en.$)(),(0,Ae.M)(wt=>{ae[Re]=wt}))),rt(1),function rr(D){return(0,Qe.T)(()=>D)}(ae),(0,Ee.W)(Re=>os(Re)?et.w:(0,Oe.$)(Re)))}(ae,D,O,N).pipe((0,Qe.T)(Re=>(D._resolvedData=Re,D.data=Wi(D,w).resolve,H&&Pn(H)&&(D.data[Bt]=H.title),null)))}(Re.route,N,D,O)),(0,Ae.M)(()=>ae++),rt(1),(0,st.Z)(Re=>ae===H.length?(0,De.of)(w):et.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.M)({next:()=>or=!0,complete:()=>{or||this.cancelNavigationTransition(In,"",2)}}))}),(0,Ae.M)(In=>{const or=new Ci(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(or)}))}),Br(yt=>{const In=or=>{const wr=[];or.routeConfig?.loadComponent&&!or.routeConfig._loadedComponent&&wr.push(this.configLoader.loadComponent(or.routeConfig).pipe((0,Ae.M)(jr=>{or.component=jr}),(0,Qe.T)(()=>{})));for(const jr of or.children)wr.push(...In(jr));return wr};return pt(In(yt.targetSnapshot.root)).pipe((0,lt.U)(),(0,Ue.s)(1))}),Br(()=>this.afterPreactivation()),(0,Qe.T)(yt=>{const In=function Ce(D,O,w){const N=Ne(D,O._root,w?w._root:void 0);return new Qr(N,O)}(w.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=ae={...yt,targetRouterState:In},ae}),(0,Ae.M)(()=>{this.events.next(new tr)}),((D,O,w,N)=>(0,Qe.T)(H=>(new Ko(O,H.targetRouterState,H.currentRouterState,w,N).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,Ue.s)(1),(0,Ae.M)({next:yt=>{Re=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ji(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),w.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Re=!0}}),function Jt(D){return(0,Ot.N)((O,w)=>{(0,ze.Tg)(D).subscribe((0,Fe._)(w,()=>w.complete(),Bn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Ae.M)(yt=>{throw yt}))),(0,sn.j)(()=>{Re||wt||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,Ee.W)(yt=>{if(wt=!0,yr(yt))this.events.next(new Ai(ae.id,this.urlSerializer.serialize(ae.extractedUrl),yt.message,yt.cancellationCode)),function Wn(D){return yr(D)&&gi(D.url)}(yt)?this.events.next(new Dr(yt.url)):ae.resolve(!1);else{this.events.next(new ao(ae.id,this.urlSerializer.serialize(ae.extractedUrl),yt,ae.targetSnapshot??void 0));try{ae.resolve(w.errorHandler(yt))}catch(In){ae.reject(In)}}return et.w}))}))}cancelNavigationTransition(w,N,H){const ae=new Ai(w.id,this.urlSerializer.serialize(w.extractedUrl),N,H);this.events.next(ae),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function co(D){return D!==ns}let Ds=(()=>{class D{buildTitle(w){let N,H=w.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(ae=>ae.outlet===zt);return N}getResolvedTitleForRoute(w){return w.data[Bt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Os)},providedIn:"root"})}}return D})(),Os=(()=>{class D extends Ds{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(xn.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),$i=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ni)},providedIn:"root"})}}return D})();class Qs{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let Ni=(()=>{class D extends Qs{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=o.xGo(D)))(H||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const To=new o.nKC("",{providedIn:"root",factory:()=>({})});let $c=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(vr)},providedIn:"root"})}}return D})(),vr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Mr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Mr||{});function La(D,O){D.events.pipe((0,Pe.p)(w=>w instanceof ji||w instanceof Ai||w instanceof ao||w instanceof Rr),(0,Qe.T)(w=>w instanceof ji||w instanceof Rr?Mr.COMPLETE:w instanceof Ai&&(0===w.code||1===w.code)?Mr.REDIRECTING:Mr.FAILED),(0,Pe.p)(w=>w!==Mr.REDIRECTING),(0,Ue.s)(1)).subscribe(()=>{O()})}function no(D){throw D}function uo(D,O,w){return O.parse("/")}const Io={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ns={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new gn.B,this.options=(0,o.WQX)(To,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||no,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)($c),this.routeReuseStrategy=(0,o.WQX)($i),this.titleStrategy=(0,o.WQX)(Ds),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(pi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(wi),this.urlSerializer=(0,o.WQX)(xe),this.location=(0,o.WQX)(sr.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(Z,{optional:!0}),this.eventsSubscription=new $e.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Fu(N)&&this._events.next(N));if(N instanceof Xr)co(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof Rr)this.rawUrlTree=H.rawUrl;else if(N instanceof ko){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ae,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof tr)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Ai)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof Dr){const ae=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),Re={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||co(H.source)};this.scheduleNavigation(ae,ns,null,Re,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof ao&&this.restoreHistory(H,!0),N instanceof ji&&(this.navigated=!0),Fu(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ns,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,H){const ae={replaceUrl:!0},Re=H?.navigationId?H:null;if(H){const yt={...H};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(ae.state=yt)}const wt=this.parseUrl(w);this.scheduleNavigation(wt,N,Re,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:H,queryParams:ae,fragment:Re,queryParamsHandling:wt,preserveFragment:yt}=N,In=yt?this.currentUrlTree.fragment:Re;let wr,or=null;switch(wt){case"merge":or={...this.currentUrlTree.queryParams,...ae};break;case"preserve":or=this.currentUrlTree.queryParams;break;default:or=ae||null}null!==or&&(or=this.removeEmptyProps(or));try{wr=Gi(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),wr=this.currentUrlTree.root}return bt(wr,w,or,In??null)}navigateByUrl(w,N={skipLocationChange:!1}){const H=gi(w)?w:this.parseUrl(w),ae=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ae,ns,null,N)}navigate(w,N={skipLocationChange:!1}){return function ku(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return N}isActive(w,N){let H;if(H=!0===N?{...Io}:!1===N?{...Ns}:N,gi(w))return Yr(this.currentUrlTree,w,H);const ae=this.parseUrl(w);return Yr(this.currentUrlTree,ae,H)}removeEmptyProps(w){return Object.keys(w).reduce((N,H)=>{const ae=w[H];return null!=ae&&(N[H]=ae),N},{})}scheduleNavigation(w,N,H,ae,Re){if(this.disposed)return Promise.resolve(!1);let wt,yt,In;Re?(wt=Re.resolve,yt=Re.reject,In=Re.promise):In=new Promise((wr,jr)=>{wt=wr,yt=jr});const or=this.pendingTasks.add();return La(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(or))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ae,resolve:wt,reject:yt,promise:In,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),In.catch(wr=>Promise.reject(wr))}setBrowserUrl(w,N){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const Re={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",Re)}else{const ae={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",ae)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Fu(D){return!(D instanceof tr||D instanceof Dr)}let aa=(()=>{class D{constructor(w,N,H,ae,Re,wt){this.router=w,this.route=N,this.tabIndexAttribute=H,this.renderer=ae,this.el=Re,this.locationStrategy=wt,this.href=null,this.commands=null,this.onChanges=new gn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=Re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=w.events.subscribe(In=>{In instanceof ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,H,ae,Re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||H||ae||Re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const H=this.renderer,ae=this.el.nativeElement;null!==N?H.setAttribute(ae,w,N):H.removeAttribute(ae,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Fi),o.rXU(hr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(sr.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&o.bIt("click",function(Re){return H.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&N&&o.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})(),Ss=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,H,ae,Re){this.router=w,this.element=N,this.renderer=H,this.cdr=ae,this.link=Re,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.bkB,this.routerEventsSubscription=w.events.subscribe(wt=>{wt instanceof ji&&this.update()})}ngAfterContentInit(){(0,De.of)(this.links.changes,(0,De.of)(null)).pipe((0,jn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,ge.H)(w).pipe((0,jn.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function la(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Fi),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(aa,8))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,H,ae){if(1&N&&o.wni(ae,aa,5),2&N){let Re;o.mGM(Re=o.lsd())&&(H.links=Re)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.OA$]})}}return D})();class El{}let Vu=(()=>{class D{constructor(w,N,H,ae,Re){this.router=w,this.injector=H,this.preloadingStrategy=ae,this.loader=Re}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.p)(w=>w instanceof ji),(0,We.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const H=[];for(const ae of N){ae.providers&&!ae._injector&&(ae._injector=(0,o.Ol2)(ae.providers,w,`Route: ${ae.path}`));const Re=ae._injector??w,wt=ae._loadedInjector??Re;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&H.push(this.preloadConfig(Re,ae)),(ae.children||ae._loadedRoutes)&&H.push(this.processRoutes(wt,ae.children??ae._loadedRoutes))}return(0,ge.H)(H).pipe((0,jn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,De.of)(null);const ae=H.pipe((0,st.Z)(Re=>null===Re?(0,De.of)(void 0):(N._loadedRoutes=Re.routes,N._loadedInjector=Re.injector,this.processRoutes(Re.injector??w,Re.routes))));if(N.loadComponent&&!N._loadedComponent){const Re=this.loader.loadComponent(N);return(0,ge.H)([ae,Re]).pipe((0,jn.U)())}return ae})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Fi),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(El),o.KVO(ii))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Hc=new o.nKC("");let pr=(()=>{class D{constructor(w,N,H,ae,Re={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=H,this.zone=ae,this.options=Re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Re.scrollPositionRestoration=Re.scrollPositionRestoration||"disabled",Re.anchorScrolling=Re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof ji?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Rr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ei&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ei(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function ca(D,O){return{\u0275kind:D,\u0275providers:O}}function nn(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get(Fi),H=D.get(sc);1===D.get(Yi)&&N.initialNavigation(),D.get(Or,null,o.$GK.Optional)?.setUpPreloading(),D.get(Hc,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const sc=new o.nKC("",{factory:()=>new gn.B}),Yi=new o.nKC("",{providedIn:"root",factory:()=>1}),Or=new o.nKC("");function ps(D){return ca(0,[{provide:Or,useExisting:Vu},{provide:El,useExisting:D}])}const Tl=new o.nKC("ROUTER_FORROOT_GUARD"),ju=[sr.aZ,{provide:xe,useClass:At},Fi,Gr,{provide:hr,useFactory:function zc(D){return D.routerState.root},deps:[Fi]},ii,[]];function Md(){return new o.NEm("Router",Fi)}let Wc=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[ju,[],{provide:pi,multi:!0,useValue:w},{provide:Tl,useFactory:il,deps:[[Fi,new o.Xx1,new o.kdw]]},{provide:To,useValue:N||{}},N?.useHash?{provide:sr.hb,useClass:sr.fw}:{provide:sr.hb,useClass:sr.Sm},{provide:Hc,useFactory:()=>{const D=(0,o.WQX)(sr.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(To),N=(0,o.WQX)(wi),H=(0,o.WQX)(xe);return w.scrollOffset&&D.setOffset(w.scrollOffset),new pr(H,N,D,O,w)}},N?.preloadingStrategy?ps(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:Md},N?.initialNavigation?sl(N):[],N?.bindToComponentInputs?ca(8,[Q,{provide:Z,useExisting:Q}]).\u0275providers:[],[{provide:Co,useFactory:nn},{provide:o.iLQ,multi:!0,useExisting:Co}]]}}static forChild(w){return{ngModule:D,providers:[{provide:pi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Tl,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function il(D){return"guarded"}function sl(D){return["disabled"===D.initialNavigation?ca(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Fi);return()=>{O.setUpLocationChangeListener()}}},{provide:Yi,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?ca(2,[{provide:Yi,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(sr.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const H=O.get(Fi),ae=O.get(sc);La(H,()=>{N(!0)}),O.get(wi).afterPreactivation=()=>(N(!0),ae.closed?(0,De.of)(void 0):ae),H.initialNavigation()}))}}]).\u0275providers:[]]}const Co=new o.nKC("")},3345:(on,tt,V)=>{V.d(tt,{A:()=>pt});var o=V(1076),ue=V(1362),i=V(7852),ve=V(8041);class ge{constructor(Mt,Nt){this._delegate=Mt,this.firebase=Nt,(0,i._addComponent)(Mt,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=Mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Mt){this._delegate.automaticDataCollectionEnabled=Mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Mt=>{this._delegate.checkDestroyed(),Mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(Mt,Nt=i._DEFAULT_ENTRY_NAME){var Qt;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(Mt);return!ze.isInitialized()&&"EXPLICIT"===(null===(Qt=ze.getComponent())||void 0===Qt?void 0:Qt.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Nt})}_removeServiceInstance(Mt,Nt=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Mt).clearInstance(Nt)}_addComponent(Mt){(0,i._addComponent)(this._delegate,Mt)}_addOrOverwriteComponent(Mt){(0,i._addOrOverwriteComponent)(this._delegate,Mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function ke(){const Tt=function Be(Tt){const Mt={},Nt={__esModule:!0,initializeApp:function Te($e,Ot={}){const Ie=i.initializeApp($e,Ot);if((0,o.gR)(Mt,Ie.name))return Mt[Ie.name];const Yt=new Tt(Ie,Nt);return Mt[Ie.name]=Yt,Yt},app:ze,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function Oe($e){const Ot=$e.name,Ie=Ot.replace("-compat","");if(i._registerComponent($e)&&"PUBLIC"===$e.type){const Yt=(gn=ze())=>{if("function"!=typeof gn[Ie])throw be.create("invalid-app-argument",{appName:Ot});return gn[Ie]()};void 0!==$e.serviceProps&&(0,o.zw)(Yt,$e.serviceProps),Nt[Ie]=Yt,Tt.prototype[Ie]=function(...gn){return this._getService.bind(this,Ot).apply(this,$e.multipleInstances?gn:[])}}return"PUBLIC"===$e.type?Nt[Ie]:null},removeApp:function Qt($e){delete Mt[$e]},useAsService:function et($e,Ot){return"serverAuth"===Ot?null:Ot},modularAPIs:i}};function ze($e){if(!(0,o.gR)(Mt,$e=$e||i._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:$e});return Mt[$e]}return Nt.default=Nt,Object.defineProperty(Nt,"apps",{get:function Ze(){return Object.keys(Mt).map($e=>Mt[$e])}}),ze.App=Tt,Nt}(ge);return Tt.INTERNAL=Object.assign(Object.assign({},Tt.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function Mt(Nt){(0,o.zw)(Tt,Nt)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),Tt}(),te=new ve.Vy("@firebase/app-compat");try{const Tt=(0,o.mS)();if(void 0!==Tt.firebase){te.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Mt=Tt.firebase.SDK_VERSION;Mt&&Mt.indexOf("LITE")>=0&&te.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const pt=J;!function Ge(Tt){(0,i.registerVersion)("@firebase/app-compat","0.2.43",Tt)}()},7852:(on,tt,V)=>{V.r(tt),V.d(tt,{FirebaseError:()=>ve.g,SDK_VERSION:()=>At,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>hi,_addOrOverwriteComponent:()=>ms,_apps:()=>xr,_clearComponents:()=>Ii,_components:()=>Gn,_getProvider:()=>ni,_isFirebaseApp:()=>Ar,_isFirebaseServerApp:()=>Hn,_registerComponent:()=>fn,_removeServiceInstance:()=>er,_serverApps:()=>Yr,deleteApp:()=>ft,getApp:()=>Kt,getApps:()=>_e,initializeApp:()=>qt,initializeServerApp:()=>Ve,onLog:()=>x,registerVersion:()=>$,setLogLevel:()=>k});var o=V(467),ue=V(1362),i=V(8041),ve=V(1076);const ge=(bt,ct)=>ct.some(Ft=>bt instanceof Ft);let De,be;const J=new WeakMap,te=new WeakMap,he=new WeakMap,Fe=new WeakMap,Ge=new WeakMap;let Mt={get(bt,ct,Ft){if(bt instanceof IDBTransaction){if("done"===ct)return te.get(bt);if("objectStoreNames"===ct)return bt.objectStoreNames||he.get(bt);if("store"===ct)return Ft.objectStoreNames[1]?void 0:Ft.objectStore(Ft.objectStoreNames[0])}return Te(bt[ct])},set:(bt,ct,Ft)=>(bt[ct]=Ft,!0),has:(bt,ct)=>bt instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in bt};function ze(bt){return"function"==typeof bt?function Qt(bt){return bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(bt)?function(...ct){return bt.apply(Ze(this),ct),Te(J.get(this))}:function(...ct){return Te(bt.apply(Ze(this),ct))}:function(ct,...Ft){const un=bt.call(Ze(this),ct,...Ft);return he.set(un,ct.sort?ct.sort():[ct]),Te(un)}}(bt):(bt instanceof IDBTransaction&&function Tt(bt){if(te.has(bt))return;const ct=new Promise((Ft,un)=>{const zn=()=>{bt.removeEventListener("complete",Ln),bt.removeEventListener("error",mr),bt.removeEventListener("abort",mr)},Ln=()=>{Ft(),zn()},mr=()=>{un(bt.error||new DOMException("AbortError","AbortError")),zn()};bt.addEventListener("complete",Ln),bt.addEventListener("error",mr),bt.addEventListener("abort",mr)});te.set(bt,ct)}(bt),ge(bt,function Be(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(bt,Mt):bt)}function Te(bt){if(bt instanceof IDBRequest)return function pt(bt){const ct=new Promise((Ft,un)=>{const zn=()=>{bt.removeEventListener("success",Ln),bt.removeEventListener("error",mr)},Ln=()=>{Ft(Te(bt.result)),zn()},mr=()=>{un(bt.error),zn()};bt.addEventListener("success",Ln),bt.addEventListener("error",mr)});return ct.then(Ft=>{Ft instanceof IDBCursor&&J.set(Ft,bt)}).catch(()=>{}),Ge.set(ct,bt),ct}(bt);if(Fe.has(bt))return Fe.get(bt);const ct=ze(bt);return ct!==bt&&(Fe.set(bt,ct),Ge.set(ct,bt)),ct}const Ze=bt=>Ge.get(bt),$e=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Ie=new Map;function Yt(bt,ct){if(!(bt instanceof IDBDatabase)||ct in bt||"string"!=typeof ct)return;if(Ie.get(ct))return Ie.get(ct);const Ft=ct.replace(/FromIndex$/,""),un=ct!==Ft,zn=Ot.includes(Ft);if(!(Ft in(un?IDBIndex:IDBObjectStore).prototype)||!zn&&!$e.includes(Ft))return;const Ln=function(){var mr=(0,o.A)(function*(kr,...Kr){const Sr=this.transaction(kr,zn?"readwrite":"readonly");let es=Sr.store;return un&&(es=es.index(Kr.shift())),(yield Promise.all([es[Ft](...Kr),zn&&Sr.done]))[0]});return function(Kr){return mr.apply(this,arguments)}}();return Ie.set(ct,Ln),Ln}!function Nt(bt){Mt=bt(Mt)}(bt=>({...bt,get:(ct,Ft,un)=>Yt(ct,Ft)||bt.get(ct,Ft,un),has:(ct,Ft)=>!!Yt(ct,Ft)||bt.has(ct,Ft)}));class gn{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function sr(bt){const ct=bt.getComponent();return"VERSION"===ct?.type}(Ft)){const un=Ft.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Ft=>Ft).join(" ")}}const Qe="@firebase/app",Pt="0.10.13",Ue=new i.Vy("@firebase/app"),Dn="[DEFAULT]",Hr={[Qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},xr=new Map,Yr=new Map,Gn=new Map;function hi(bt,ct){try{bt.container.addComponent(ct)}catch(Ft){Ue.debug(`Component ${ct.name} failed to register with FirebaseApp ${bt.name}`,Ft)}}function ms(bt,ct){bt.container.addOrOverwriteComponent(ct)}function fn(bt){const ct=bt.name;if(Gn.has(ct))return Ue.debug(`There were multiple attempts to register component ${ct}.`),!1;Gn.set(ct,bt);for(const Ft of xr.values())hi(Ft,bt);for(const Ft of Yr.values())hi(Ft,bt);return!0}function ni(bt,ct){const Ft=bt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ft&&Ft.triggerHeartbeat(),bt.container.getProvider(ct)}function er(bt,ct,Ft=Dn){ni(bt,ct).clearInstance(Ft)}function Ar(bt){return void 0!==bt.options}function Hn(bt){return void 0!==bt.settings}function Ii(){Gn.clear()}const Et=new ve.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ce{constructor(ct,Ft,un){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}class xe extends ce{constructor(ct,Ft,un,zn){const Ln=void 0!==Ft.automaticDataCollectionEnabled&&Ft.automaticDataCollectionEnabled,mr={name:un,automaticDataCollectionEnabled:Ln};super(void 0!==ct.apiKey?ct:ct.options,mr,zn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ln},Ft),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ft.releaseOnDeref=void 0,$(Qe,Pt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ct){this.isDeleted||(this._refCount++,void 0!==ct&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ct,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ft(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Et.create("server-app-deleted")}}const At="10.14.1";function qt(bt,ct={}){let Ft=bt;"object"!=typeof ct&&(ct={name:ct});const un=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},ct),zn=un.name;if("string"!=typeof zn||!zn)throw Et.create("bad-app-name",{appName:String(zn)});if(Ft||(Ft=(0,ve.T9)()),!Ft)throw Et.create("no-options");const Ln=xr.get(zn);if(Ln){if((0,ve.bD)(Ft,Ln.options)&&(0,ve.bD)(un,Ln.config))return Ln;throw Et.create("duplicate-app",{appName:zn})}const mr=new ue.h1(zn);for(const Kr of Gn.values())mr.addComponent(Kr);const kr=new ce(Ft,un,mr);return xr.set(zn,kr),kr}function Ve(bt,ct){if((0,ve.Bd)()&&!(0,ve.p7)())throw Et.create("invalid-server-app-environment");let Ft;void 0===ct.automaticDataCollectionEnabled&&(ct.automaticDataCollectionEnabled=!1),Ft=Ar(bt)?bt.options:bt;const un=Object.assign(Object.assign({},ct),Ft);if(void 0!==un.releaseOnDeref&&delete un.releaseOnDeref,void 0!==ct.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Et.create("finalization-registry-not-supported",{});const Ln=""+(Sr=JSON.stringify(un),[...Sr].reduce((es,xs)=>Math.imul(31,es)+xs.charCodeAt(0)|0,0)),mr=Yr.get(Ln);var Sr;if(mr)return mr.incRefCount(ct.releaseOnDeref),mr;const kr=new ue.h1(Ln);for(const Sr of Gn.values())kr.addComponent(Sr);const Kr=new xe(Ft,ct,Ln,kr);return Yr.set(Ln,Kr),Kr}function Kt(bt=Dn){const ct=xr.get(bt);if(!ct&&bt===Dn&&(0,ve.T9)())return qt();if(!ct)throw Et.create("no-app",{appName:bt});return ct}function _e(){return Array.from(xr.values())}function ft(bt){return He.apply(this,arguments)}function He(){return(He=(0,o.A)(function*(bt){let ct=!1;const Ft=bt.name;xr.has(Ft)?(ct=!0,xr.delete(Ft)):Yr.has(Ft)&&bt.decRefCount()<=0&&(Yr.delete(Ft),ct=!0),ct&&(yield Promise.all(bt.container.getProviders().map(un=>un.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function $(bt,ct,Ft){var un;let zn=null!==(un=Hr[bt])&&void 0!==un?un:bt;Ft&&(zn+=`-${Ft}`);const Ln=zn.match(/\s|\//),mr=ct.match(/\s|\//);if(Ln||mr){const kr=[`Unable to register library "${zn}" with version "${ct}":`];return Ln&&kr.push(`library name "${zn}" contains illegal characters (whitespace or "/")`),Ln&&mr&&kr.push("and"),mr&&kr.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void Ue.warn(kr.join(" "))}fn(new ue.uA(`${zn}-version`,()=>({library:zn,version:ct}),"VERSION"))}function x(bt,ct){if(null!==bt&&"function"!=typeof bt)throw Et.create("invalid-log-argument");(0,i.Ey)(bt,ct)}function k(bt){(0,i.He)(bt)}const re="firebase-heartbeat-database",fe=1,dt="firebase-heartbeat-store";let xt=null;function ln(){return xt||(xt=function Oe(bt,ct,{blocked:Ft,upgrade:un,blocking:zn,terminated:Ln}={}){const mr=indexedDB.open(bt,ct),kr=Te(mr);return un&&mr.addEventListener("upgradeneeded",Kr=>{un(Te(mr.result),Kr.oldVersion,Kr.newVersion,Te(mr.transaction),Kr)}),Ft&&mr.addEventListener("blocked",Kr=>Ft(Kr.oldVersion,Kr.newVersion,Kr)),kr.then(Kr=>{Ln&&Kr.addEventListener("close",()=>Ln()),zn&&Kr.addEventListener("versionchange",Sr=>zn(Sr.oldVersion,Sr.newVersion,Sr))}).catch(()=>{}),kr}(re,fe,{upgrade:(bt,ct)=>{if(0===ct)try{bt.createObjectStore(dt)}catch(Ft){console.warn(Ft)}}}).catch(bt=>{throw Et.create("idb-open",{originalErrorMessage:bt.message})})),xt}function Sn(){return(Sn=(0,o.A)(function*(bt){try{const Ft=(yield ln()).transaction(dt),un=yield Ft.objectStore(dt).get(Wr(bt));return yield Ft.done,un}catch(ct){if(ct instanceof ve.g)Ue.warn(ct.message);else{const Ft=Et.create("idb-get",{originalErrorMessage:ct?.message});Ue.warn(Ft.message)}}})).apply(this,arguments)}function Ir(bt,ct){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.A)(function*(bt,ct){try{const un=(yield ln()).transaction(dt,"readwrite");yield un.objectStore(dt).put(ct,Wr(bt)),yield un.done}catch(Ft){if(Ft instanceof ve.g)Ue.warn(Ft.message);else{const un=Et.create("idb-set",{originalErrorMessage:Ft?.message});Ue.warn(un.message)}}})).apply(this,arguments)}function Wr(bt){return`${bt.name}!${bt.options.appId}`}class xi{constructor(ct){this.container=ct,this._heartbeatsCache=null;const Ft=this.container.getProvider("app").getImmediate();this._storage=new gi(Ft),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var ct=this;return(0,o.A)(function*(){var Ft,un;try{const Ln=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mr=_s();return null==(null===(Ft=ct._heartbeatsCache)||void 0===Ft?void 0:Ft.heartbeats)&&(ct._heartbeatsCache=yield ct._heartbeatsCachePromise,null==(null===(un=ct._heartbeatsCache)||void 0===un?void 0:un.heartbeats))||ct._heartbeatsCache.lastSentHeartbeatDate===mr||ct._heartbeatsCache.heartbeats.some(kr=>kr.date===mr)?void 0:(ct._heartbeatsCache.heartbeats.push({date:mr,agent:Ln}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(kr=>{const Kr=new Date(kr.date).valueOf();return Date.now()-Kr<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache))}catch(zn){Ue.warn(zn)}})()}getHeartbeatsHeader(){var ct=this;return(0,o.A)(function*(){var Ft;try{if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null==(null===(Ft=ct._heartbeatsCache)||void 0===Ft?void 0:Ft.heartbeats)||0===ct._heartbeatsCache.heartbeats.length)return"";const un=_s(),{heartbeatsToSend:zn,unsentEntries:Ln}=function ys(bt,ct=1024){const Ft=[];let un=bt.slice();for(const zn of bt){const Ln=Ft.find(mr=>mr.agent===zn.agent);if(Ln){if(Ln.dates.push(zn.date),lr(Ft)>ct){Ln.dates.pop();break}}else if(Ft.push({agent:zn.agent,dates:[zn.date]}),lr(Ft)>ct){Ft.pop();break}un=un.slice(1)}return{heartbeatsToSend:Ft,unsentEntries:un}}(ct._heartbeatsCache.heartbeats),mr=(0,ve.Uj)(JSON.stringify({version:2,heartbeats:zn}));return ct._heartbeatsCache.lastSentHeartbeatDate=un,Ln.length>0?(ct._heartbeatsCache.heartbeats=Ln,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),mr}catch(un){return Ue.warn(un),""}})()}}function _s(){return(new Date).toISOString().substring(0,10)}class gi{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,ve.zW)()&&(0,ve.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,o.A)(function*(){if(yield ct._canUseIndexedDBPromise){const un=yield function pn(bt){return Sn.apply(this,arguments)}(ct.app);return un?.heartbeats?un:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ct){var Ft=this;return(0,o.A)(function*(){var un;if(yield Ft._canUseIndexedDBPromise){const Ln=yield Ft.read();return Ir(Ft.app,{lastSentHeartbeatDate:null!==(un=ct.lastSentHeartbeatDate)&&void 0!==un?un:Ln.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var Ft=this;return(0,o.A)(function*(){var un;if(yield Ft._canUseIndexedDBPromise){const Ln=yield Ft.read();return Ir(Ft.app,{lastSentHeartbeatDate:null!==(un=ct.lastSentHeartbeatDate)&&void 0!==un?un:Ln.lastSentHeartbeatDate,heartbeats:[...Ln.heartbeats,...ct.heartbeats]})}})()}}function lr(bt){return(0,ve.Uj)(JSON.stringify({version:2,heartbeats:bt})).length}!function Gi(bt){fn(new ue.uA("platform-logger",ct=>new gn(ct),"PRIVATE")),fn(new ue.uA("heartbeat",ct=>new xi(ct),"PRIVATE")),$(Qe,Pt,bt),$(Qe,Pt,"esm2017"),$("fire-js","")}("")},1362:(on,tt,V)=>{V.d(tt,{h1:()=>Be,uA:()=>i});var o=V(467),ue=V(1076);class i{constructor(J,te,he){this.name=J,this.instanceFactory=te,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ve="[DEFAULT]";class ge{constructor(J,te){this.name=J,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const te=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(te)){const he=new ue.cY;if(this.instancesDeferred.set(te,he),this.isInitialized(te)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:te});Fe&&he.resolve(Fe)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(J){var te;const he=this.normalizeInstanceIdentifier(J?.identifier),Fe=null!==(te=J?.optional)&&void 0!==te&&te;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Ge){if(Fe)return null;throw Ge}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function be(ke){return"EAGER"===ke.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[te,he]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(te);try{const Ge=this.getOrInitializeService({instanceIdentifier:Fe});he.resolve(Ge)}catch{}}}}clearInstance(J=ve){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,o.A)(function*(){const te=Array.from(J.instances.values());yield Promise.all([...te.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...te.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ve){return this.instances.has(J)}getOptions(J=ve){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:te={}}=J,he=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:he,options:te});for(const[Ge,pt]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(Ge)&&pt.resolve(Fe);return Fe}onInit(J,te){var he;const Fe=this.normalizeInstanceIdentifier(te),Ge=null!==(he=this.onInitCallbacks.get(Fe))&&void 0!==he?he:new Set;Ge.add(J),this.onInitCallbacks.set(Fe,Ge);const pt=this.instances.get(Fe);return pt&&J(pt,Fe),()=>{Ge.delete(J)}}invokeOnInitCallbacks(J,te){const he=this.onInitCallbacks.get(te);if(he)for(const Fe of he)try{Fe(J,te)}catch{}}getOrInitializeService({instanceIdentifier:J,options:te={}}){let he=this.instances.get(J);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=J,ke===ve?void 0:ke),options:te}),this.instances.set(J,he),this.instancesOptions.set(J,te),this.invokeOnInitCallbacks(he,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,he)}catch{}var ke;return he||null}normalizeInstanceIdentifier(J=ve){return this.component?this.component.multipleInstances?J:ve:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const te=this.getProvider(J.name);if(te.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);te.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const te=new ge(J,this);return this.providers.set(J,te),te}getProviders(){return Array.from(this.providers.values())}}},8041:(on,tt,V)=>{V.d(tt,{$b:()=>ue,Ey:()=>ke,He:()=>Be,Vy:()=>be});const o=[];var ue=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(ue||{});const i={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},ve=ue.INFO,ge={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},De=(J,te,...he)=>{if(te<J.logLevel)return;const Fe=(new Date).toISOString(),Ge=ge[te];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Ge](`[${Fe}]  ${J.name}:`,...he)};class be{constructor(te){this.name=te,this._logLevel=ve,this._logHandler=De,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in ue))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?i[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...te),this._logHandler(this,ue.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...te),this._logHandler(this,ue.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...te),this._logHandler(this,ue.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...te),this._logHandler(this,ue.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...te),this._logHandler(this,ue.ERROR,...te)}}function Be(J){o.forEach(te=>{te.setLogLevel(J)})}function ke(J,te){for(const he of o){let Fe=null;te&&te.level&&(Fe=i[te.level]),he.userLogHandler=null===J?null:(Ge,pt,...Tt)=>{const Mt=Tt.map(Nt=>{if(null==Nt)return null;if("string"==typeof Nt)return Nt;if("number"==typeof Nt||"boolean"==typeof Nt)return Nt.toString();if(Nt instanceof Error)return Nt.message;try{return JSON.stringify(Nt)}catch{return null}}).filter(Nt=>Nt).join(" ");pt>=(Fe??Ge.logLevel)&&J({level:ue[pt].toLowerCase(),message:Mt,args:Tt,type:Ge.name})}}}},2214:(on,tt,V)=>{V.d(tt,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=V(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(on,tt,V)=>{V.d(tt,{A:()=>o.A});var o=V(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(on,tt,V)=>{var o=V(467),ue=V(3345),i=V(5504),ve=V(1076),be=(V(7852),V(8041),V(1362));function Be(){return window}function te(){return te=(0,o.A)(function*($,x,k){var re;const{BuildInfo:fe}=Be();(0,i.au)(x.sessionId,"AuthEvent did not contain a session ID");const dt=yield function Nt($){return Qt.apply(this,arguments)}(x.sessionId),xt={};return(0,i.av)()?xt.ibi=fe.packageName:(0,i.aw)()?xt.apn=fe.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),fe.displayName&&(xt.appDisplayName=fe.displayName),xt.sessionId=dt,(0,i.ay)($,k,x.type,void 0,null!==(re=x.eventId)&&void 0!==re?re:void 0,xt)}),te.apply(this,arguments)}function Fe(){return(Fe=(0,o.A)(function*($){const{BuildInfo:x}=Be(),k={};(0,i.av)()?k.iosBundleId=x.packageName:(0,i.aw)()?k.androidPackageName=x.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),yield(0,i.az)($,k)})).apply(this,arguments)}function Tt(){return(Tt=(0,o.A)(function*($,x,k){const{cordova:re}=Be();let fe=()=>{};try{yield new Promise((dt,xt)=>{let ln=null;function pn(){var cn;dt();const Wr=null===(cn=re.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Wr&&Wr(),"function"==typeof k?.close&&k.close()}function Sn(){ln||(ln=window.setTimeout(()=>{xt((0,i.aB)($,"redirect-cancelled-by-user"))},2e3))}function Ir(){"visible"===document?.visibilityState&&Sn()}x.addPassiveListener(pn),document.addEventListener("resume",Sn,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",Ir,!1),fe=()=>{x.removePassiveListener(pn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",Ir,!1),ln&&window.clearTimeout(ln)}})}finally{fe()}})).apply(this,arguments)}function Qt(){return(Qt=(0,o.A)(function*($){const x=function ze($){if((0,i.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const x=new ArrayBuffer($.length),k=new Uint8Array(x);for(let re=0;re<$.length;re++)k[re]=$.charCodeAt(re);return k}($),k=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(k)).map(fe=>fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ze extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(x)),super.onEvent(x)}initialized(){var x=this;return(0,o.A)(function*(){yield x.initPromise})()}}function $e($){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,o.A)(function*($){const x=yield gn()._get(sr($));return x&&(yield gn()._remove(sr($))),x})).apply(this,arguments)}function Yt(){const $=[];for(let k=0;k<20;k++){const re=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(re))}return $.join("")}function gn(){return(0,i.aE)(i.b)}function sr($){return(0,i.aF)("authEvent",$.config.apiKey,$.name)}function Ue($){if(!$?.includes("?"))return{};const[x,...k]=$.split("?");return(0,ve.I9)(k.join("?"))}const st=class Pe{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(x){var k=this;return(0,o.A)(function*(){const re=x._key();let fe=k.eventManagers.get(re);return fe||(fe=new Ze(x),k.eventManagers.set(re,fe),k.attachCallbackListeners(x,fe)),fe})()}_openPopup(x){(0,i.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,k,re,fe){var dt=this;return(0,o.A)(function*(){!function Mt($){var x,k,re,fe,dt,xt,ln,pn,Sn,Ir;const cn=Be();(0,i.aC)("function"==typeof(null===(x=cn?.universalLinks)||void 0===x?void 0:x.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(k=cn?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(dt=null===(fe=null===(re=cn?.cordova)||void 0===re?void 0:re.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===dt?void 0:dt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(pn=null===(ln=null===(xt=cn?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===ln?void 0:ln.browsertab)||void 0===pn?void 0:pn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(Ir=null===(Sn=cn?.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===Ir?void 0:Ir.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const xt=yield dt._initialize(x);yield xt.initialized(),xt.resetRedirect(),(0,i.aI)(),yield dt._originValidation(x);const ln=function Oe($,x,k=null){return{type:x,eventId:k,urlResponse:null,sessionId:Yt(),postBody:null,tenantId:$.tenantId,error:(0,i.aB)($,"no-auth-event")}}(x,re,fe);yield function et($,x){return gn()._set(sr($),x)}(x,ln);const pn=yield function J($,x,k){return te.apply(this,arguments)}(x,ln,k),Sn=yield function Ge($){const{cordova:x}=Be();return new Promise(k=>{x.plugins.browsertab.isAvailable(re=>{let fe=null;re?x.plugins.browsertab.openUrl($):fe=x.InAppBrowser.open($,(0,i.aA)()?"_blank":"_system","location=yes"),k(fe)})})}(pn);return function pt($,x,k){return Tt.apply(this,arguments)}(x,xt,Sn)})()}_isIframeWebStorageSupported(x,k){throw new Error("Method not implemented.")}_originValidation(x){const k=x._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function he($){return Fe.apply(this,arguments)}(x)),this.originValidationPromises[k]}attachCallbackListeners(x,k){const{universalLinks:re,handleOpenURL:fe,BuildInfo:dt}=Be(),xt=setTimeout((0,o.A)(function*(){yield $e(x),k.onEvent(en())}),500),ln=function(){var Ir=(0,o.A)(function*(cn){clearTimeout(xt);const Wr=yield $e(x);let dr=null;Wr&&cn?.url&&(dr=function Ie($,x){var k,re;const fe=function Pt($){const x=Ue($),k=x.link?decodeURIComponent(x.link):void 0,re=Ue(k).link,fe=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return Ue(fe).link||fe||re||k||$}(x);if(fe.includes("/__/auth/callback")){const dt=Ue(fe),xt=dt.firebaseError?function Qe($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(dt.firebaseError)):null,ln=null===(re=null===(k=xt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===re?void 0:re[1],pn=ln?(0,i.aB)(ln):null;return pn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:fe,postBody:null}}return null}(Wr,cn.url)),k.onEvent(dr||en())});return function(Wr){return Ir.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,ln);const pn=fe,Sn=`${dt.packageName.toLowerCase()}://`;Be().handleOpenURL=function(){var Ir=(0,o.A)(function*(cn){if(cn.toLowerCase().startsWith(Sn)&&ln({url:cn}),"function"==typeof pn)try{pn(cn)}catch(Wr){console.error(Wr)}});return function(cn){return Ir.apply(this,arguments)}}()}};function en(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function lt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Lt($=(0,ve.ZQ)()){return!("file:"!==lt()&&"ionic:"!==lt()&&"capacitor:"!==lt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jt(){try{const $=self.localStorage,x=i.aN();if($)return $.setItem(x,"1"),$.removeItem(x),!function Bn($=(0,ve.ZQ)()){return function rr(){return(0,ve.lT)()&&11===document?.documentMode}()||function sn($=(0,ve.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,ve.zW)()}catch{return jn()&&(0,ve.zW)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xn(){return(function rt(){return"http:"===lt()||"https:"===lt()}()||(0,ve.sr)()||Lt())&&!function An(){return(0,ve.lV)()||(0,ve.Ll)()}()&&Jt()&&!jn()}function zt(){return Lt()&&typeof document<"u"}function Er(){return(Er=(0,o.A)(function*(){return!!zt()&&new Promise($=>{const x=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),$(!0)})})})).apply(this,arguments)}const Fr={LOCAL:"local",NONE:"none",SESSION:"session"},Xn=i.aC,$t="persistence";function $n($){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,o.A)(function*($){yield $._initializationPromise;const x=xr(),k=i.aF($t,$.config.apiKey,$.name);x&&x.setItem(k,$._getPersistence())})).apply(this,arguments)}function xr(){var $;try{return(null===($=function an(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Yr=i.aC;class Gn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(st),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(x){var k=this;return(0,o.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,k,re,fe){var dt=this;return(0,o.A)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(x,k,re,fe)})()}_openRedirect(x,k,re,fe){var dt=this;return(0,o.A)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(x,k,re,fe)})()}_isIframeWebStorageSupported(x,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,k)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,o.A)(function*(){if(x.underlyingResolver)return;const k=yield function Bt(){return Er.apply(this,arguments)}();x.underlyingResolver=k?x.cordovaResolver:x.browserResolver})()}}function hi($){return $.unwrap()}function fn($){return er($)}function er($){const{_tokenResponse:x}=$ instanceof ve.g?$.customData:$;if(!x)return null;if(!($ instanceof ve.g)&&"temporaryProof"in x&&"phoneNumber"in x)return i.P.credentialFromResult($);const k=x.providerId;if(!k||k===i.p.PASSWORD)return null;let re;switch(k){case i.p.GOOGLE:re=i.X;break;case i.p.FACEBOOK:re=i.W;break;case i.p.GITHUB:re=i.Y;break;case i.p.TWITTER:re=i.$;break;default:const{oauthIdToken:fe,oauthAccessToken:dt,oauthTokenSecret:xt,pendingToken:ln,nonce:pn}=x;return dt||xt||fe||ln?ln?k.startsWith("saml.")?i.aQ._create(k,ln):i.N._fromParams({providerId:k,signInMethod:k,pendingToken:ln,idToken:fe,accessToken:dt}):new i.Z(k).credential({idToken:fe,accessToken:dt,rawNonce:pn}):null}return $ instanceof ve.g?re.credentialFromError($):re.credentialFromResult($)}function Ar($,x){return x.catch(k=>{throw k instanceof ve.g&&function ni($,x){var k;const re=null===(k=x.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new ot($,i.as($,x));else if(re){const fe=er(x),dt=x;fe&&(dt.credential=fe,dt.tenantId=re.tenantId||void 0,dt.email=re.email||void 0,dt.phoneNumber=re.phoneNumber||void 0)}}($,k),k}).then(k=>{const fe=k.user;return{operationType:k.operationType,credential:fn(k),additionalUserInfo:i.aq(k),user:Et.getOrCreate(fe)}})}function Hn($,x){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,o.A)(function*($,x){const k=yield x;return{verificationId:k.verificationId,confirm:re=>Ar($,k.confirm(re))}})).apply(this,arguments)}class ot{constructor(x,k){this.resolver=k,this.auth=function ms($){return $.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return Ar(hi(this.auth),this.resolver.resolveSignIn(x))}}class Et{constructor(x){this._delegate=x,this.multiFactor=i.at(x)}static getOrCreate(x){return Et.USER_MAP.has(x)||Et.USER_MAP.set(x,new Et(x)),Et.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var k=this;return(0,o.A)(function*(){return Ar(k.auth,i.a2(k._delegate,x))})()}linkWithPhoneNumber(x,k){var re=this;return(0,o.A)(function*(){return Hn(re.auth,i.l(re._delegate,x,k))})()}linkWithPopup(x){var k=this;return(0,o.A)(function*(){return Ar(k.auth,i.d(k._delegate,x,Gn))})()}linkWithRedirect(x){var k=this;return(0,o.A)(function*(){return yield $n(i.aJ(k.auth)),i.g(k._delegate,x,Gn)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var k=this;return(0,o.A)(function*(){return Ar(k.auth,i.a3(k._delegate,x))})()}reauthenticateWithPhoneNumber(x,k){return Hn(this.auth,i.r(this._delegate,x,k))}reauthenticateWithPopup(x){return Ar(this.auth,i.e(this._delegate,x,Gn))}reauthenticateWithRedirect(x){var k=this;return(0,o.A)(function*(){return yield $n(i.aJ(k.auth)),i.h(k._delegate,x,Gn)})()}sendEmailVerification(x){return i.ag(this._delegate,x)}unlink(x){var k=this;return(0,o.A)(function*(){return yield i.ap(k._delegate,x),k})()}updateEmail(x){return i.al(this._delegate,x)}updatePassword(x){return i.am(this._delegate,x)}updatePhoneNumber(x){return i.u(this._delegate,x)}updateProfile(x){return i.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,k){return i.ah(this._delegate,x,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Et.USER_MAP=new WeakMap;const ce=i.aC;let xe=(()=>{class ${constructor(k,re){if(this.app=k,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:fe}=k.options;ce(fe,"invalid-api-key",{appName:k.name}),ce(fe,"invalid-api-key",{appName:k.name});const dt=typeof window<"u"?Gn:void 0;this._delegate=re.initialize({options:{persistence:qt(fe,k.name),popupRedirectResolver:dt}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Et.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,re){i.K(this._delegate,k,re)}applyActionCode(k){return i.a7(this._delegate,k)}checkActionCode(k){return i.a8(this._delegate,k)}confirmPasswordReset(k,re){return i.a6(this._delegate,k,re)}createUserWithEmailAndPassword(k,re){var fe=this;return(0,o.A)(function*(){return Ar(fe._delegate,i.aa(fe._delegate,k,re))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return i.af(this._delegate,k)}isSignInWithEmailLink(k){return i.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,o.A)(function*(){ce(xn(),k._delegate,"operation-not-supported-in-this-environment");const re=yield i.j(k._delegate,Gn);return re?Ar(k._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function We($,x){(0,i.aJ)($)._logFramework(x)}(this._delegate,k)}onAuthStateChanged(k,re,fe){const{next:dt,error:xt,complete:ln}=At(k,re,fe);return this._delegate.onAuthStateChanged(dt,xt,ln)}onIdTokenChanged(k,re,fe){const{next:dt,error:xt,complete:ln}=At(k,re,fe);return this._delegate.onIdTokenChanged(dt,xt,ln)}sendSignInLinkToEmail(k,re){return i.ac(this._delegate,k,re)}sendPasswordResetEmail(k,re){return i.a5(this._delegate,k,re||void 0)}setPersistence(k){var re=this;return(0,o.A)(function*(){let fe;switch(function wn($,x){Xn(Object.values(Fr).includes(x),$,"invalid-persistence-type"),(0,ve.lV)()?Xn(x!==Fr.SESSION,$,"unsupported-persistence-type"):(0,ve.Ll)()?Xn(x===Fr.NONE,$,"unsupported-persistence-type"):jn()?Xn(x===Fr.NONE||x===Fr.LOCAL&&(0,ve.zW)(),$,"unsupported-persistence-type"):Xn(x===Fr.NONE||Jt(),$,"unsupported-persistence-type")}(re._delegate,k),k){case Fr.SESSION:fe=i.a;break;case Fr.LOCAL:fe=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case Fr.NONE:fe=i.U;break;default:return i.ax("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(fe)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Ar(this._delegate,i.a0(this._delegate))}signInWithCredential(k){return Ar(this._delegate,i.a1(this._delegate,k))}signInWithCustomToken(k){return Ar(this._delegate,i.a4(this._delegate,k))}signInWithEmailAndPassword(k,re){return Ar(this._delegate,i.ab(this._delegate,k,re))}signInWithEmailLink(k,re){return Ar(this._delegate,i.ae(this._delegate,k,re))}signInWithPhoneNumber(k,re){return Hn(this._delegate,i.s(this._delegate,k,re))}signInWithPopup(k){var re=this;return(0,o.A)(function*(){return ce(xn(),re._delegate,"operation-not-supported-in-this-environment"),Ar(re._delegate,i.c(re._delegate,k,Gn))})()}signInWithRedirect(k){var re=this;return(0,o.A)(function*(){return ce(xn(),re._delegate,"operation-not-supported-in-this-environment"),yield $n(re._delegate),i.f(re._delegate,k,Gn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return i.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Fr,$})();function At($,x,k){let re=$;"function"!=typeof $&&({next:re,error:x,complete:k}=$);const fe=re;return{next:xt=>fe(xt&&Et.getOrCreate(xt)),error:x,complete:k}}function qt($,x){const k=function Hr($,x){const k=xr();if(!k)return[];const re=i.aF($t,$,x);switch(k.getItem(re)){case Fr.NONE:return[i.U];case Fr.LOCAL:return[i.i,i.a];case Fr.SESSION:return[i.a];default:return[]}}($,x);if(typeof self<"u"&&!k.includes(i.i)&&k.push(i.i),typeof window<"u")for(const re of[i.b,i.a])k.includes(re)||k.push(re);return k.includes(i.U)||k.push(i.U),k}class Ve{constructor(){this.providerId="phone",this._delegate=new i.P(hi(ue.A.auth()))}static credential(x,k){return i.P.credential(x,k)}verifyPhoneNumber(x,k){return this._delegate.verifyPhoneNumber(x,k)}unwrap(){return this._delegate}}Ve.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,Ve.PROVIDER_ID=i.P.PROVIDER_ID;const Kt=i.aC;class _e{constructor(x,k,re=ue.A.app()){var fe;Kt(null===(fe=re.options)||void 0===fe?void 0:fe.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new i.R(re.auth(),x,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function He($){$.INTERNAL.registerComponent(new be.uA("auth-compat",x=>{const k=x.getProvider("app-compat").getImmediate(),re=x.getProvider("auth");return new xe(k,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:Ve,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:_e,TwitterAuthProvider:i.$,Auth:xe,AuthCredential:i.L,Error:ve.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(ue.A)},467:(on,tt,V)=>{function o(i,ve,ge,De,be,Be,ke){try{var J=i[Be](ke),te=J.value}catch(he){return void ge(he)}J.done?ve(te):Promise.resolve(te).then(De,be)}function ue(i){return function(){var ve=this,ge=arguments;return new Promise(function(De,be){var Be=i.apply(ve,ge);function ke(te){o(Be,De,be,ke,J,"next",te)}function J(te){o(Be,De,be,ke,J,"throw",te)}ke(void 0)})}}V.d(tt,{A:()=>ue})},1635:(on,tt,V)=>{function ve(We,Ae){var Ee={};for(var Me in We)Object.prototype.hasOwnProperty.call(We,Me)&&Ae.indexOf(Me)<0&&(Ee[Me]=We[Me]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var lt=0;for(Me=Object.getOwnPropertySymbols(We);lt<Me.length;lt++)Ae.indexOf(Me[lt])<0&&Object.prototype.propertyIsEnumerable.call(We,Me[lt])&&(Ee[Me[lt]]=We[Me[lt]])}return Ee}function he(We,Ae,Ee,Me){return new(Ee||(Ee=Promise))(function(rt,Lt){function An(Bn){try{sn(Me.next(Bn))}catch(Jt){Lt(Jt)}}function rr(Bn){try{sn(Me.throw(Bn))}catch(Jt){Lt(Jt)}}function sn(Bn){Bn.done?rt(Bn.value):function lt(rt){return rt instanceof Ee?rt:new Ee(function(Lt){Lt(rt)})}(Bn.value).then(An,rr)}sn((Me=Me.apply(We,Ae||[])).next())})}function Te(We){return this instanceof Te?(this.v=We,this):new Te(We)}function Ze(We,Ae,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,Me=Ee.apply(We,Ae||[]),rt=[];return lt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),An("next"),An("throw"),An("return",function Lt(xn){return function(zt){return Promise.resolve(zt).then(xn,Jt)}}),lt[Symbol.asyncIterator]=function(){return this},lt;function An(xn,zt){Me[xn]&&(lt[xn]=function(Bt){return new Promise(function(Er,an){rt.push([xn,Bt,Er,an])>1||rr(xn,Bt)})},zt&&(lt[xn]=zt(lt[xn])))}function rr(xn,zt){try{!function sn(xn){xn.value instanceof Te?Promise.resolve(xn.value.v).then(Bn,Jt):jn(rt[0][2],xn)}(Me[xn](zt))}catch(Bt){jn(rt[0][3],Bt)}}function Bn(xn){rr("next",xn)}function Jt(xn){rr("throw",xn)}function jn(xn,zt){xn(zt),rt.shift(),rt.length&&rr(rt[0][0],rt[0][1])}}function et(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,Ae=We[Symbol.asyncIterator];return Ae?Ae.call(We):(We=function Tt(We){var Ae="function"==typeof Symbol&&Symbol.iterator,Ee=Ae&&We[Ae],Me=0;if(Ee)return Ee.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&Me>=We.length&&(We=void 0),{value:We&&We[Me++],done:!We}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),Ee={},Me("next"),Me("throw"),Me("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Me(rt){Ee[rt]=We[rt]&&function(Lt){return new Promise(function(An,rr){!function lt(rt,Lt,An,rr){Promise.resolve(rr).then(function(sn){rt({value:sn,done:An})},Lt)}(An,rr,(Lt=We[rt](Lt)).done,Lt.value)})}}}V.d(tt,{AQ:()=>Ze,N3:()=>Te,Tt:()=>ve,sH:()=>he,xN:()=>et}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=1547)}]);