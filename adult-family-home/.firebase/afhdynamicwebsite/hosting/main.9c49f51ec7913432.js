"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(nn,Ye,V)=>{V.d(Ye,{$:()=>Ia,A:()=>ae,G:()=>je,K:()=>Si,L:()=>Bs,N:()=>Te,P:()=>Jo,R:()=>Lu,U:()=>at,V:()=>ei,W:()=>Oi,X:()=>Hr,Y:()=>Eo,Z:()=>xi,_:()=>to,a:()=>tc,a0:()=>ms,a1:()=>hs,a2:()=>ys,a3:()=>zo,a4:()=>ji,a5:()=>fa,a6:()=>Mu,a7:()=>bc,a8:()=>bo,a9:()=>Kl,aA:()=>nr,aB:()=>Ke,aC:()=>we,aD:()=>Fd,aE:()=>ee,aF:()=>en,aG:()=>tf,aH:()=>oc,aI:()=>Od,aJ:()=>Tr,aN:()=>xr,aQ:()=>ds,aa:()=>qh,ab:()=>ja,ac:()=>Tc,ad:()=>al,ae:()=>Da,af:()=>cl,ag:()=>re,ah:()=>X,ak:()=>Nn,al:()=>mi,am:()=>ni,ap:()=>Go,aq:()=>bs,as:()=>pa,at:()=>Cs,au:()=>fn,av:()=>Ti,aw:()=>Ci,ax:()=>pe,ay:()=>Io,az:()=>Zo,b:()=>Fu,c:()=>gl,d:()=>Bu,e:()=>Pd,f:()=>ac,g:()=>_a,h:()=>Oc,i:()=>O,j:()=>Jl,k:()=>cf,l:()=>Ga,m:()=>nu,p:()=>Fe,r:()=>Vu,s:()=>ma,u:()=>Dd});var o=V(467),ue=V(7852),i=V(1076),Ce=V(8041),me=V(1635),Se=V(1362);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},_t=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new Ce.Vy("@firebase/auth");function He(I,...m){St.logLevel<=Ce.$b.ERROR&&St.error(`Auth (${ue.SDK_VERSION}): ${I}`,...m)}function pe(I,...m){throw Mt(I,...m)}function Ke(I,...m){return Mt(I,...m)}function Re(I,m,v){const S=Object.assign(Object.assign({},_t()),{[m]:v});return new i.FA("auth","Firebase",S).create(m,{appName:I.name})}function Xe(I){return Re(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yt(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&pe(I,"argument-error"),Re(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(I,...m){if("string"!=typeof I){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return ot.create(I,...m)}function we(I,m,...v){if(!I)throw Mt(m,...v)}function Zt(I){const m="INTERNAL ASSERTION FAILED: "+I;throw He(m),new Error(m)}function fn(I,m){I||Zt(m)}function or(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function xt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Le{constructor(m,v){this.shortDelay=m,this.longDelay=v,fn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(I,m){fn(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Xt{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new Le(3e4,6e4);function be(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Ve(I,m,v,S){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.A)(function*(I,m,v,S,Q={}){return Ze(I,Q,(0,o.A)(function*(){let fe={},ze={};S&&("GET"===m?ze=S:fe={body:JSON.stringify(S)});const At=(0,i.Am)(Object.assign({key:I.config.apiKey},ze)).slice(1),$t=yield I._getAdditionalHeaders();$t["Content-Type"]="application/json",I.languageCode&&($t["X-Firebase-Locale"]=I.languageCode);const Pn=Object.assign({method:m,headers:$t},fe);return(0,i.c1)()||(Pn.referrerPolicy="no-referrer"),Xt.fetch()(tn(I,I.config.apiHost,v,At),Pn)}))})).apply(this,arguments)}function Ze(I,m,v){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,o.A)(function*(I,m,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Be),m);try{const Q=new Kt(I),fe=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const ze=yield fe.json();if("needConfirmation"in ze)throw Vn(I,"account-exists-with-different-credential",ze);if(fe.ok&&!("errorMessage"in ze))return ze;{const At=fe.ok?ze.errorMessage:ze.error.message,[$t,Pn]=At.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw Vn(I,"credential-already-in-use",ze);if("EMAIL_EXISTS"===$t)throw Vn(I,"email-already-in-use",ze);if("USER_DISABLED"===$t)throw Vn(I,"user-disabled",ze);const Dn=S[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(Pn)throw Re(I,Dn,Pn);pe(I,Dn)}}catch(Q){if(Q instanceof i.g)throw Q;pe(I,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Tn(I,m,v,S){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,o.A)(function*(I,m,v,S,Q={}){const fe=yield Ve(I,m,v,S,Q);return"mfaPendingCredential"in fe&&pe(I,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function tn(I,m,v,S){const Q=`${m}${v}?${S}`;return I.config.emulator?et(I.config,Q):`${I.config.apiScheme}://${Q}`}function kn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(Ke(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(I,m,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const Q=Ke(I,m,S);return Q.customData._tokenResponse=v,Q}function pn(I){return void 0!==I&&void 0!==I.getResponse}function Bt(I){return void 0!==I&&void 0!==I.enterprise}class Ft{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return kn(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function sn(){return(sn=(0,o.A)(function*(I){return(yield Ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pr(I,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,o.A)(function*(I,m){return Ve(I,"GET","/v2/recaptchaConfig",be(I,m))})).apply(this,arguments)}function bn(){return(bn=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function In(){return(In=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Lr(I,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Xr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Xi(){return(Xi=(0,o.A)(function*(I,m=!1){const v=(0,i.Ku)(I),S=yield v.getIdToken(m),Q=Qr(S);we(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const fe="object"==typeof Q.firebase?Q.firebase:void 0,ze=fe?.sign_in_provider;return{claims:Q,token:S,authTime:Xr(un(Q.auth_time)),issuedAtTime:Xr(un(Q.iat)),expirationTime:Xr(un(Q.exp)),signInProvider:ze||null,signInSecondFactor:fe?.sign_in_second_factor||null}})).apply(this,arguments)}function un(I){return 1e3*Number(I)}function Qr(I){const[m,v,S]=I.split(".");if(void 0===m||void 0===v||void 0===S)return He("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,i.u)(v);return Q?JSON.parse(Q):(He("Failed to decode base64 JWT payload"),null)}catch(Q){return He("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Yn(I){const m=Qr(I);return we(m,"internal-error"),we(typeof m.exp<"u","internal-error"),we(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function br(I,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,o.A)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof i.g&&function Di({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class tt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,o.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,o.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class gt{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function he(I){return Me.apply(this,arguments)}function Me(){return(Me=(0,o.A)(function*(I){var m;const v=I.auth,S=yield I.getIdToken(),Q=yield br(I,Lr(v,{idToken:S}));we(Q?.users.length,v,"internal-error");const fe=Q.users[0];I._notifyReloadListener(fe);const ze=null!==(m=fe.providerUserInfo)&&void 0!==m&&m.length?kr(fe.providerUserInfo):[],At=function Ln(I,m){return[...I.filter(S=>!m.some(Q=>Q.providerId===S.providerId)),...m]}(I.providerData,ze),Dn=!!I.isAnonymous&&!(I.email&&fe.passwordHash||At?.length),zr={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:At,metadata:new gt(fe.createdAt,fe.lastLoginAt),isAnonymous:Dn};Object.assign(I,zr)})).apply(this,arguments)}function Gt(){return(Gt=(0,o.A)(function*(I){const m=(0,i.Ku)(I);yield he(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function kr(I){return I.map(m=>{var{providerId:v}=m,S=(0,me.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function bi(){return(bi=(0,o.A)(function*(I,m){const v=yield Ze(I,{},(0,o.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Q,apiKey:fe}=I.config,ze=tn(I,Q,"/v1/token",`key=${fe}`),At=yield I._getAdditionalHeaders();return At["Content-Type"]="application/x-www-form-urlencoded",Xt.fetch()(ze,{method:"POST",headers:At,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,o.A)(function*(I,m){return Ve(I,"POST","/v2/accounts:revokeToken",be(I,m))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){we(m.idToken,"internal-error"),we(typeof m.idToken<"u","internal-error"),we(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):Yn(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){we(0!==m.length,"internal-error");const v=Yn(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,o.A)(function*(){return v||!S.accessToken||S.isExpired?(we(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,o.A)(function*(){const{accessToken:Q,refreshToken:fe,expiresIn:ze}=yield function Cr(I,m){return bi.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(Q,fe,Number(ze))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:Q,expirationTime:fe}=v,ze=new M;return S&&(we("string"==typeof S,"internal-error",{appName:m}),ze.refreshToken=S),Q&&(we("string"==typeof Q,"internal-error",{appName:m}),ze.accessToken=Q),fe&&(we("number"==typeof fe,"internal-error",{appName:m}),ze.expirationTime=fe),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function k(I,m){we("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class B{constructor(m){var{uid:v,auth:S,stsTokenManager:Q}=m,fe=(0,me.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new gt(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,o.A)(function*(){const S=yield br(v,v.stsTokenManager.getToken(v.auth,m));return we(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function ui(I){return Xi.apply(this,arguments)}(this,m)}reload(){return function Et(I){return Gt.apply(this,arguments)}(this)}_assign(m){this!==m&&(we(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new B(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,o.A)(function*(){let Q=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),Q=!0),v&&(yield he(S)),yield S.auth._persistUserIfCurrent(S),Q&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(m.auth.app))return Promise.reject(Xe(m.auth));const v=yield m.getIdToken();return yield br(m,function Ut(I,m){return bn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,Q,fe,ze,At,$t,Pn,Dn;const zr=null!==(S=v.displayName)&&void 0!==S?S:void 0,wo=null!==(Q=v.email)&&void 0!==Q?Q:void 0,Ao=null!==(fe=v.phoneNumber)&&void 0!==fe?fe:void 0,Bc=null!==(ze=v.photoURL)&&void 0!==ze?ze:void 0,iu=null!==(At=v.tenantId)&&void 0!==At?At:void 0,zd=null!==($t=v._redirectEventId)&&void 0!==$t?$t:void 0,hf=null!==(Pn=v.createdAt)&&void 0!==Pn?Pn:void 0,va=null!==(Dn=v.lastLoginAt)&&void 0!==Dn?Dn:void 0,{uid:gp,emailVerified:Wd,isAnonymous:Rg,providerData:su,stsTokenManager:Kd}=v;we(gp&&Kd,m,"internal-error");const ou=M.fromJSON(this.name,Kd);we("string"==typeof gp,m,"internal-error"),k(zr,m.name),k(wo,m.name),we("boolean"==typeof Wd,m,"internal-error"),we("boolean"==typeof Rg,m,"internal-error"),k(Ao,m.name),k(Bc,m.name),k(iu,m.name),k(zd,m.name),k(hf,m.name),k(va,m.name);const qd=new B({uid:gp,auth:m,email:wo,emailVerified:Wd,displayName:zr,isAnonymous:Rg,photoURL:Bc,phoneNumber:Ao,tenantId:iu,stsTokenManager:ou,createdAt:hf,lastLoginAt:va});return su&&Array.isArray(su)&&(qd.providerData=su.map(Yd=>Object.assign({},Yd))),zd&&(qd._redirectEventId=zd),qd}static _fromIdTokenResponse(m,v,S=!1){return(0,o.A)(function*(){const Q=new M;Q.updateFromServerResponse(v);const fe=new B({uid:v.localId,auth:m,stsTokenManager:Q,isAnonymous:S});return yield he(fe),fe})()}static _fromGetAccountInfoResponse(m,v,S){return(0,o.A)(function*(){const Q=v.users[0];we(void 0!==Q.localId,"internal-error");const fe=void 0!==Q.providerUserInfo?kr(Q.providerUserInfo):[],ze=!(Q.email&&Q.passwordHash||fe?.length),At=new M;At.updateFromIdToken(S);const $t=new B({uid:Q.localId,auth:m,stsTokenManager:At,isAnonymous:ze}),Pn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:fe,metadata:new gt(Q.createdAt,Q.lastLoginAt),isAnonymous:!(Q.email&&Q.passwordHash||fe?.length)};return Object.assign($t,Pn),$t})()}}const ie=new Map;function ee(I){fn(I instanceof Function,"Expected a class definition");let m=ie.get(I);return m?(fn(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,ie.set(I,m),m)}const at=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(v,S){var Q=this;return(0,o.A)(function*(){Q.storage[v]=S})()}_get(v){var S=this;return(0,o.A)(function*(){const Q=S.storage[v];return void 0===Q?null:Q})()}_remove(v){var S=this;return(0,o.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function en(I,m,v){return`firebase:${I}:${m}:${v}`}class _n{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:Q,name:fe}=this.auth;this.fullUserKey=en(this.userKey,Q.apiKey,fe),this.fullPersistenceKey=en("persistence",Q.apiKey,fe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?B._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,o.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,o.A)(function*(){if(!v.length)return new _n(ee(at),m,S);const Q=(yield Promise.all(v.map(function(){var Pn=(0,o.A)(function*(Dn){if(yield Dn._isAvailable())return Dn});return function(Dn){return Pn.apply(this,arguments)}}()))).filter(Pn=>Pn);let fe=Q[0]||ee(at);const ze=en(S,m.config.apiKey,m.name);let At=null;for(const Pn of v)try{const Dn=yield Pn._get(ze);if(Dn){const zr=B._fromJSON(m,Dn);Pn!==fe&&(At=zr),fe=Pn;break}}catch{}const $t=Q.filter(Pn=>Pn._shouldAllowMigration);return fe._shouldAllowMigration&&$t.length?(fe=$t[0],At&&(yield fe._set(ze,At.toJSON())),yield Promise.all(v.map(function(){var Pn=(0,o.A)(function*(Dn){if(Dn!==fe)try{yield Dn._remove(ze)}catch{}});return function(Dn){return Pn.apply(this,arguments)}}())),new _n(fe,m,S)):new _n(fe,m,S)})()}}function Er(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Vs(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(on(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Wi(m))return"Blackberry";if(Fi(m))return"Webos";if($r(m))return"Safari";if((m.includes("chrome/")||fr(m))&&!m.includes("edge/"))return"Chrome";if(Ci(m))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function on(I=(0,i.ZQ)()){return/firefox\//i.test(I)}function $r(I=(0,i.ZQ)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fr(I=(0,i.ZQ)()){return/crios\//i.test(I)}function Vs(I=(0,i.ZQ)()){return/iemobile/i.test(I)}function Ci(I=(0,i.ZQ)()){return/android/i.test(I)}function Wi(I=(0,i.ZQ)()){return/blackberry/i.test(I)}function Fi(I=(0,i.ZQ)()){return/webos/i.test(I)}function Ti(I=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function nr(I=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function rt(I=(0,i.ZQ)()){return Ti(I)||Ci(I)||Fi(I)||Wi(I)||/windows phone/i.test(I)||Vs(I)}function Pt(I,m=[]){let v;switch(I){case"Browser":v=Er((0,i.ZQ)());break;case"Worker":v=`${Er((0,i.ZQ)())}-${I}`;break;default:v=I}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ue.SDK_VERSION}/${S}`}class an{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=fe=>new Promise((ze,At)=>{try{ze(m(fe))}catch($t){At($t)}});S.onAbort=v,this.queue.push(S);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,o.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const Q of v.queue)yield Q(m),Q.onAbort&&S.push(Q.onAbort)}catch(Q){S.reverse();for(const fe of S)try{fe()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function xn(){return(xn=(0,o.A)(function*(I,m={}){return Ve(I,"GET","/v2/passwordPolicy",be(I,m))})).apply(this,arguments)}class Vr{constructor(m){var v,S,Q,fe;const ze=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=ze.minPasswordLength)&&void 0!==v?v:6,ze.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ze.maxPasswordLength),void 0!==ze.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ze.containsLowercaseCharacter),void 0!==ze.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ze.containsUppercaseCharacter),void 0!==ze.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ze.containsNumericCharacter),void 0!==ze.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ze.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(fe=m.forceUpgradeOnSignin)&&void 0!==fe&&fe,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,Q,fe,ze,At;const $t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,$t),this.validatePasswordCharacterOptions(m,$t),$t.isValid&&($t.isValid=null===(v=$t.meetsMinPasswordLength)||void 0===v||v),$t.isValid&&($t.isValid=null===(S=$t.meetsMaxPasswordLength)||void 0===S||S),$t.isValid&&($t.isValid=null===(Q=$t.containsLowercaseLetter)||void 0===Q||Q),$t.isValid&&($t.isValid=null===(fe=$t.containsUppercaseLetter)||void 0===fe||fe),$t.isValid&&($t.isValid=null===(ze=$t.containsNumericCharacter)||void 0===ze||ze),$t.isValid&&($t.isValid=null===(At=$t.containsNonAlphanumericCharacter)||void 0===At||At),$t}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),Q&&(v.meetsMaxPasswordLength=m.length<=Q)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Q=0;Q<m.length;Q++)S=m.charAt(Q),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,Q,fe){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=fe))}}class Wr{constructor(m,v,S,Q){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new an(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=ee(v)),this._initializationPromise=this.queue((0,o.A)(function*(){var Q,fe;if(!S._deleted&&(S.persistenceManager=yield _n.create(S,m),!S._deleted)){if(null!==(Q=S._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(fe=S.currentUser)||void 0===fe?void 0:fe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,o.A)(function*(){try{const S=yield Lr(v,{idToken:m}),Q=yield B._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(Q)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,o.A)(function*(){var S;if((0,ue._isFirebaseServerApp)(v.app)){const At=v.app.settings.authIdToken;return At?new Promise($t=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(At).then($t,$t))}):v.directlySetCurrentUser(null)}const Q=yield v.assertedPersistence.getCurrentUser();let fe=Q,ze=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const At=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,$t=fe?._redirectEventId,Pn=yield v.tryRedirectSignIn(m);(!At||At===$t)&&Pn?.user&&(fe=Pn.user,ze=!0)}if(!fe)return v.directlySetCurrentUser(null);if(!fe._redirectEventId){if(ze)try{yield v.beforeStateQueue.runMiddleware(fe)}catch(At){fe=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(At))}return fe?v.reloadAndSetCurrentUserOrClear(fe):v.directlySetCurrentUser(null)}return we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===fe._redirectEventId?v.directlySetCurrentUser(fe):v.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(m){var v=this;return(0,o.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,o.A)(function*(){try{yield he(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,o.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,o.A)(function*(){if((0,ue._isFirebaseServerApp)(v.app))return Promise.reject(Xe(v));const S=m?(0,i.Ku)(m):null;return S&&we(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return m&&we(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.A)(function*(){return(0,ue._isFirebaseServerApp)(m.app)?Promise.reject(Xe(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(Xe(this)):this.queue((0,o.A)(function*(){yield v.assertedPersistence.setPersistence(ee(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,o.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,o.A)(function*(){const v=yield function Fn(I){return xn.apply(this,arguments)}(m),S=new Vr(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new i.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,o.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),Q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(Q.tenantId=v.tenantId),yield function Ct(I,m){return H.apply(this,arguments)}(v,Q)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,o.A)(function*(){const Q=yield S.getOrInitRedirectPersistenceManager(v);return null===m?Q.removeCurrentUser():Q.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,o.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&ee(m)||v._popupRedirectResolver;we(S,v,"argument-error"),v.redirectPersistenceManager=yield _n.create(v,[ee(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,o.A)(function*(){var S,Q;return v._isInitialized&&(yield v.queue((0,o.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,o.A)(function*(){if(m===v.currentUser)return v.queue((0,o.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,Q){if(this._deleted)return()=>{};const fe="function"==typeof v?v:v.next.bind(v);let ze=!1;const At=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(At,this,"internal-error"),At.then(()=>{ze||fe(this.currentUser)}),"function"==typeof v){const $t=m.addObserver(v,S,Q);return()=>{ze=!0,$t()}}{const $t=m.addObserver(v);return()=>{ze=!0,$t()}}}directlySetCurrentUser(m){var v=this;return(0,o.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const Q=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(S["X-Firebase-Client"]=Q);const fe=yield m._getAppCheckToken();return fe&&(S["X-Firebase-AppCheck"]=fe),S})()}_getAppCheckToken(){var m=this;return(0,o.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function rn(I,...m){St.logLevel<=Ce.$b.WARN&&St.warn(`Auth (${ue.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Tr(I){return(0,i.Ku)(I)}class Ki{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rs={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mo(I){return Rs.loadJS(I)}function si(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Kr{constructor(m){this.type="recaptcha-enterprise",this.auth=Tr(m)}verify(m="verify",v=!1){var S=this;return(0,o.A)(function*(){function fe(){return fe=(0,o.A)(function*(At){if(!v){if(null==At.tenantId&&null!=At._agentRecaptchaConfig)return At._agentRecaptchaConfig.siteKey;if(null!=At.tenantId&&void 0!==At._tenantRecaptchaConfigs[At.tenantId])return At._tenantRecaptchaConfigs[At.tenantId].siteKey}return new Promise(function(){var $t=(0,o.A)(function*(Pn,Dn){Pr(At,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zr=>{if(void 0!==zr.recaptchaKey){const wo=new Ft(zr);return null==At.tenantId?At._agentRecaptchaConfig=wo:At._tenantRecaptchaConfigs[At.tenantId]=wo,Pn(wo.siteKey)}Dn(new Error("recaptcha Enterprise site key undefined"))}).catch(zr=>{Dn(zr)})});return function(Pn,Dn){return $t.apply(this,arguments)}}())}),fe.apply(this,arguments)}function ze(At,$t,Pn){const Dn=window.grecaptcha;Bt(Dn)?Dn.enterprise.ready(()=>{Dn.enterprise.execute(At,{action:m}).then(zr=>{$t(zr)}).catch(()=>{$t("NO_RECAPTCHA")})}):Pn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((At,$t)=>{(function Q(At){return fe.apply(this,arguments)})(S.auth).then(Pn=>{if(!v&&Bt(window.grecaptcha))ze(Pn,At,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));let Dn=function Hi(){return Rs.recaptchaEnterpriseScript}();0!==Dn.length&&(Dn+=Pn),Mo(Dn).then(()=>{ze(Pn,At,$t)}).catch(zr=>{$t(zr)})}}).catch(Pn=>{$t(Pn)})})})()}}function qi(I,m,v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.A)(function*(I,m,v,S=!1){const Q=new Kr(I);let fe;try{fe=yield Q.verify(v)}catch{fe=yield Q.verify(v,!0)}const ze=Object.assign({},m);return Object.assign(ze,S?{captchaResp:fe}:{captchaResponse:fe}),Object.assign(ze,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ze,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ze})).apply(this,arguments)}function Ir(I,m,v,S){return ho.apply(this,arguments)}function ho(){return ho=(0,o.A)(function*(I,m,v,S){var Q;if(null!==(Q=I._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const fe=yield qi(I,m,v,"getOobCode"===v);return S(I,fe)}return S(I,m).catch(function(){var fe=(0,o.A)(function*(ze){if("auth/missing-recaptcha-token"===ze.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const At=yield qi(I,m,v,"getOobCode"===v);return S(I,At)}return Promise.reject(ze)});return function(ze){return fe.apply(this,arguments)}}())}),ho.apply(this,arguments)}function Si(I,m,v){const S=Tr(I);we(S._canInitEmulator,S,"emulator-config-failed"),we(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,fe=Ta(m),{host:ze,port:At}=function Js(I){const m=Ta(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(S);if(Q){const fe=Q[1];return{host:fe,port:Jr(S.substr(fe.length+1))}}{const[fe,ze]=S.split(":");return{host:fe,port:Jr(ze)}}}(m);S.config.emulator={url:`${fe}//${ze}${null===At?"":`:${At}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ze,port:At,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function js(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ta(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function Jr(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Bs{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Zt("not implemented")}_getIdTokenResponse(m){return Zt("not implemented")}_linkToIdToken(m,v){return Zt("not implemented")}_getReauthenticationResolver(m){return Zt("not implemented")}}function vo(I,m){return $s.apply(this,arguments)}function $s(){return($s=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:resetPassword",be(I,m))})).apply(this,arguments)}function hi(){return(hi=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ii(I,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function cs(){return(cs=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",be(I,m))})).apply(this,arguments)}function fo(I,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signInWithPassword",be(I,m))})).apply(this,arguments)}function As(I,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendOobCode",be(I,m))})).apply(this,arguments)}function hn(){return(hn=(0,o.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function tr(I,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,o.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function ns(I,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,o.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function Ri(){return(Ri=(0,o.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function Zr(){return(Zr=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,m))})).apply(this,arguments)}function $n(){return($n=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",be(I,m))})).apply(this,arguments)}class Ui extends Bs{constructor(m,v,S,Q=null){super("password",S),this._email=m,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(m,v){return new Ui(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new Ui(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,o.A)(function*(){switch(v.signInMethod){case"password":return Ir(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fo);case"emailLink":return function mr(I,m){return Zr.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:pe(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return Ir(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ii);case"emailLink":return function us(I,m){return $n.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:pe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function rs(I,m){return te.apply(this,arguments)}function te(){return(te=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signInWithIdp",be(I,m))})).apply(this,arguments)}class Te extends Bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Te(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):pe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:Q}=v,fe=(0,me.Tt)(v,["providerId","signInMethod"]);if(!S||!Q)return null;const ze=new Te(S,Q);return ze.idToken=fe.idToken||void 0,ze.accessToken=fe.accessToken||void 0,ze.secret=fe.secret,ze.nonce=fe.nonce,ze.pendingToken=fe.pendingToken||null,ze}_getIdTokenResponse(m){return rs(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,rs(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,rs(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,i.Am)(v)}return m}}function Qe(){return(Qe=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendVerificationCode",be(I,m))})).apply(this,arguments)}function qt(){return(qt=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,m))})).apply(this,arguments)}function gn(){return(gn=(0,o.A)(function*(I,m){const v=yield Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,m));if(v.temporaryProof)throw Vn(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const zn={USER_NOT_FOUND:"user-not-found"};function Rn(){return(Rn=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),zn)})).apply(this,arguments)}class On extends Bs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new On({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new On({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function mt(I,m){return qt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function An(I,m){return gn.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function wr(I,m){return Rn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:Q}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:Q}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:fe}=m;return S||v||Q||fe?new On({verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:fe}):null}}class qr{constructor(m){var v,S,Q,fe,ze,At;const $t=(0,i.I9)((0,i.hp)(m)),Pn=null!==(v=$t.apiKey)&&void 0!==v?v:null,Dn=null!==(S=$t.oobCode)&&void 0!==S?S:null,zr=function Xn(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=$t.mode)&&void 0!==Q?Q:null);we(Pn&&Dn&&zr,"argument-error"),this.apiKey=Pn,this.operation=zr,this.code=Dn,this.continueUrl=null!==(fe=$t.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(ze=$t.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(At=$t.tenantId)&&void 0!==At?At:null}static parseLink(m){const v=function pi(I){const m=(0,i.I9)((0,i.hp)(I)).link,v=m?(0,i.I9)((0,i.hp)(m)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(I)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||v||m||I}(m);try{return new qr(v)}catch{return null}}}let ei=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return Ui._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const Q=qr.parseLink(S);return we(Q,"argument-error"),Ui._fromEmailAndCode(v,Q.code,Q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ti{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Qn extends ti{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class xi extends Qn{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return we("providerId"in v&&"signInMethod"in v,"argument-error"),Te._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return we(m.idToken||m.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return xi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return xi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:Q,pendingToken:fe,nonce:ze,providerId:At}=m;if(!S&&!Q&&!v&&!fe||!At)return null;try{return new xi(At)._credential({idToken:v,accessToken:S,nonce:ze,pendingToken:fe})}catch{return null}}}let Oi=(()=>{class I extends Qn{constructor(){super("facebook.com")}static credential(v){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Hr=(()=>{class I extends Qn{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:Q}=v;if(!S&&!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Eo=(()=>{class I extends Qn{constructor(){super("github.com")}static credential(v){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ds extends Bs{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return rs(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,rs(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,rs(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:Q,pendingToken:fe}=v;return S&&Q&&fe&&S===Q?new ds(S,fe):null}static _create(m,v){return new ds(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class to extends ti{constructor(m){we(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return to.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return to.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=ds.fromJSON(m);return we(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return ds._create(S,v)}catch{return null}}}let Ia=(()=>{class I extends Qn{constructor(){super("twitter.com")}static credential(v,S){return Te._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:Q}=v;if(!S||!Q)return null;try{return I.credential(S,Q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ua(I,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signUp",be(I,m))})).apply(this,arguments)}class Ds{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,Q=!1){return(0,o.A)(function*(){const fe=yield B._fromIdTokenResponse(m,S,Q),ze=Ss(S);return new Ds({user:fe,providerId:ze,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,o.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const Q=Ss(S);return new Ds({user:m,providerId:Q,_tokenResponse:S,operationType:v})})()}}function Ss(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ms(I){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.A)(function*(I){var m;if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const v=Tr(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Ds({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield ua(v,{returnSecureToken:!0}),Q=yield Ds._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class no extends i.g{constructor(m,v,S,Q){var fe;super(v.code,v.message),this.operationType=S,this.user=Q,Object.setPrototypeOf(this,no.prototype),this.customData={appName:m.name,tenantId:null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,Q){return new no(m,v,S,Q)}}function gi(I,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?no._fromErrorAndOperation(I,fe,m,S):fe})}function da(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Go(I,m){return W.apply(this,arguments)}function W(){return W=(0,o.A)(function*(I,m){const v=(0,i.Ku)(I);yield de(!0,v,m);const{providerUserInfo:S}=yield function Un(I,m){return In.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),Q=da(S||[]);return v.providerData=v.providerData.filter(fe=>Q.has(fe.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function Z(I,m){return U.apply(this,arguments)}function U(){return(U=(0,o.A)(function*(I,m,v=!1){const S=yield br(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return Ds._forOperation(I,"link",S)})).apply(this,arguments)}function de(I,m,v){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,o.A)(function*(I,m,v){yield he(m);const Q=!1===I?"provider-already-linked":"no-such-provider";we(da(m.providerData).has(v)===I,m.auth,Q)})).apply(this,arguments)}function dn(I,m){return er.apply(this,arguments)}function er(){return(er=(0,o.A)(function*(I,m,v=!1){const{auth:S}=I;if((0,ue._isFirebaseServerApp)(S.app))return Promise.reject(Xe(S));const Q="reauthenticate";try{const fe=yield br(I,gi(S,Q,m,I),v);we(fe.idToken,S,"internal-error");const ze=Qr(fe.idToken);we(ze,S,"internal-error");const{sub:At}=ze;return we(I.uid===At,S,"user-mismatch"),Ds._forOperation(I,Q,fe)}catch(fe){throw"auth/user-not-found"===fe?.code&&pe(S,"user-mismatch"),fe}})).apply(this,arguments)}function _s(I,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,o.A)(function*(I,m,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const S="signIn",Q=yield gi(I,S,m),fe=yield Ds._fromIdTokenResponse(I,S,Q);return v||(yield I._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function hs(I,m){return po.apply(this,arguments)}function po(){return(po=(0,o.A)(function*(I,m){return _s(Tr(I),m)})).apply(this,arguments)}function ys(I,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,o.A)(function*(I,m){const v=(0,i.Ku)(I);return yield de(!1,v,m.providerId),Z(v,m)})).apply(this,arguments)}function zo(I,m){return il.apply(this,arguments)}function il(){return(il=(0,o.A)(function*(I,m){return dn((0,i.Ku)(I),m)})).apply(this,arguments)}function Wo(){return(Wo=(0,o.A)(function*(I,m){return Tn(I,"POST","/v1/accounts:signInWithCustomToken",be(I,m))})).apply(this,arguments)}function ji(I,m){return sl.apply(this,arguments)}function sl(){return sl=(0,o.A)(function*(I,m){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const v=Tr(I),S=yield function xs(I,m){return Wo.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),Q=yield Ds._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(Q.user),Q}),sl.apply(this,arguments)}class Qi{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Qa._fromServerResponse(m,v):"totpInfo"in v?zs._fromServerResponse(m,v):pe(m,"internal-error")}}class Qa extends Qi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Qa(v)}}class zs extends Qi{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new zs(v)}}function Aa(I,m,v){var S;we((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),we(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function vs(I){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.A)(function*(I){const m=Tr(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function fa(I,m,v){return ol.apply(this,arguments)}function ol(){return(ol=(0,o.A)(function*(I,m,v){const S=Tr(I),Q={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&Aa(S,Q,v),yield Ir(S,Q,"getOobCode",tr)})).apply(this,arguments)}function Mu(I,m,v){return ar.apply(this,arguments)}function ar(){return ar=(0,o.A)(function*(I,m,v){yield vo((0,i.Ku)(I),{oobCode:m,newPassword:v}).catch(function(){var S=(0,o.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&vs(I),Q});return function(Q){return S.apply(this,arguments)}}())}),ar.apply(this,arguments)}function bc(I,m){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,o.A)(function*(I,m){yield function fi(I,m){return cs.apply(this,arguments)}((0,i.Ku)(I),{oobCode:m})}),Ws.apply(this,arguments)}function bo(I,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,o.A)(function*(I,m){const v=(0,i.Ku)(I),S=yield vo(v,{oobCode:m}),Q=S.requestType;switch(we(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(S.mfaInfo,v,"internal-error");default:we(S.email,v,"internal-error")}let fe=null;return S.mfaInfo&&(fe=Qi._fromServerResponse(Tr(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:fe},operation:Q}})).apply(this,arguments)}function Kl(I,m){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,o.A)(function*(I,m){const{data:v}=yield bo((0,i.Ku)(I),m);return v.email})).apply(this,arguments)}function qh(I,m,v){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const S=Tr(I),ze=yield Ir(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ua).catch($t=>{throw"auth/password-does-not-meet-requirements"===$t.code&&vs(I),$t}),At=yield Ds._fromIdTokenResponse(S,"signIn",ze);return yield S._updateCurrentUser(At.user),At})).apply(this,arguments)}function ja(I,m,v){return(0,ue._isFirebaseServerApp)(I.app)?Promise.reject(Xe(I)):hs((0,i.Ku)(I),ei.credential(m,v)).catch(function(){var S=(0,o.A)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&vs(I),Q});return function(Q){return S.apply(this,arguments)}}())}function Tc(I,m,v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,o.A)(function*(I,m,v){const S=Tr(I),Q={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function fe(ze,At){we(At.handleCodeInApp,S,"argument-error"),At&&Aa(S,ze,At)})(Q,v),yield Ir(S,Q,"getOobCode",ns)})).apply(this,arguments)}function al(I,m){const v=qr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function Da(I,m,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,o.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const S=(0,i.Ku)(I),Q=ei.credentialWithLink(m,v||or());return we(Q._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),hs(S,Q)})).apply(this,arguments)}function Za(){return(Za=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:createAuthUri",be(I,m))})).apply(this,arguments)}function cl(I,m){return P.apply(this,arguments)}function P(){return P=(0,o.A)(function*(I,m){const S={identifier:m,continueUri:xt()?or():"http://localhost"},{signinMethods:Q}=yield function $a(I,m){return Za.apply(this,arguments)}((0,i.Ku)(I),S);return Q||[]}),P.apply(this,arguments)}function re(I,m){return $.apply(this,arguments)}function $(){return $=(0,o.A)(function*(I,m){const v=(0,i.Ku)(I),Q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&Aa(v.auth,Q,m);const{email:fe}=yield function oi(I,m){return hn.apply(this,arguments)}(v.auth,Q);fe!==I.email&&(yield I.reload())}),$.apply(this,arguments)}function X(I,m,v){return xe.apply(this,arguments)}function xe(){return xe=(0,o.A)(function*(I,m,v){const S=(0,i.Ku)(I),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&Aa(S.auth,fe,v);const{email:ze}=yield function Or(I,m){return Ri.apply(this,arguments)}(S.auth,fe);ze!==I.email&&(yield I.reload())}),xe.apply(this,arguments)}function Nt(){return(Nt=(0,o.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Nn(I,m){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,o.A)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,i.Ku)(I),fe={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},ze=yield br(S,function wt(I,m){return Nt.apply(this,arguments)}(S.auth,fe));S.displayName=ze.displayName||null,S.photoURL=ze.photoUrl||null;const At=S.providerData.find(({providerId:$t})=>"password"===$t);At&&(At.displayName=S.displayName,At.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ze)}),Gr.apply(this,arguments)}function mi(I,m){const v=(0,i.Ku)(I);return(0,ue._isFirebaseServerApp)(v.auth.app)?Promise.reject(Xe(v.auth)):pr(v,m,null)}function ni(I,m){return pr((0,i.Ku)(I),null,m)}function pr(I,m,v){return ai.apply(this,arguments)}function ai(){return ai=(0,o.A)(function*(I,m,v){const{auth:S}=I,fe={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(fe.email=m),v&&(fe.password=v);const ze=yield br(I,function Sr(I,m){return hi.apply(this,arguments)}(S,fe));yield I._updateTokensIfNecessary(ze,!0)}),ai.apply(this,arguments)}class Pi{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class go extends Pi{constructor(m,v,S,Q){super(m,v,S),this.username=Q}}class Ps extends Pi{constructor(m,v){super(m,"facebook.com",v)}}class qo extends go{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Es extends Pi{constructor(m,v){super(m,"google.com",v)}}class Yo extends go{constructor(m,v,S){super(m,"twitter.com",v,S)}}function bs(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ai(I){var m,v;if(!I)return null;const{providerId:S}=I,Q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},fe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const ze=null===(v=null===(m=Qr(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(ze)return new Pi(fe,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!S)return null;switch(S){case"facebook.com":return new Ps(fe,Q);case"github.com":return new qo(fe,Q);case"google.com":return new Es(fe,Q);case"twitter.com":return new Yo(fe,Q,I.screenName||null);case"custom":case"anonymous":return new Pi(fe,null);default:return new Pi(fe,S,Q)}}(v)}class Li{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new Li("enroll",m,v)}static _fromMfaPendingCredential(m){return new Li("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Li._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return Li._fromIdtoken(m.multiFactorSession.idToken)}return null}}class io{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Tr(m),Q=v.customData._serverResponse,fe=(Q.mfaInfo||[]).map(At=>Qi._fromServerResponse(S,At));we(Q.mfaPendingCredential,S,"internal-error");const ze=Li._fromMfaPendingCredential(Q.mfaPendingCredential);return new io(ze,fe,function(){var At=(0,o.A)(function*($t){const Pn=yield $t._process(S,ze);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Dn=Object.assign(Object.assign({},Q),{idToken:Pn.idToken,refreshToken:Pn.refreshToken});switch(v.operationType){case"signIn":const zr=yield Ds._fromIdTokenResponse(S,v.operationType,Dn);return yield S._updateCurrentUser(zr.user),zr;case"reauthenticate":return we(v.user,S,"internal-error"),Ds._forOperation(v.user,v.operationType,Dn);default:pe(S,"internal-error")}});return function($t){return At.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,o.A)(function*(){return v.signInResolver(m)})()}}function pa(I,m){var v;const S=(0,i.Ku)(I),Q=m;return we(m.customData.operationType,S,"argument-error"),we(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),io._fromError(S,Q)}class wc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>Qi._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new wc(m)}getSession(){var m=this;return(0,o.A)(function*(){return Li._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,o.A)(function*(){const Q=m,fe=yield S.getSession(),ze=yield br(S.user,Q._process(S.user.auth,fe,v));return yield S.user._updateTokensIfNecessary(ze),S.user.reload()})()}unenroll(m){var v=this;return(0,o.A)(function*(){const S="string"==typeof m?m:m.uid,Q=yield v.user.getIdToken();try{const fe=yield br(v.user,function rr(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",be(I,m))}(v.user.auth,{idToken:Q,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ze})=>ze!==S),yield v.user._updateTokensIfNecessary(fe),yield v.user.reload()}catch(fe){throw fe}})()}}const ku=new WeakMap;function Cs(I){const m=(0,i.Ku)(I);return ku.has(m)||ku.set(m,wc._fromUser(m)),ku.get(m)}const so="__sak";class _o{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fu=(()=>{class I extends _o{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const Q=this.storage.getItem(S),fe=this.localCache[S];Q!==fe&&v(S,fe,Q)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((At,$t,Pn)=>{this.notifyListeners(At,Pn)});const Q=v.key;S?this.detachListener():this.stopPolling();const fe=()=>{const At=this.storage.getItem(Q);!S&&this.localCache[Q]===At||this.notifyListeners(Q,At)},ze=this.storage.getItem(Q);!function Tt(){return(0,i.lT)()&&10===document.documentMode}()||ze===v.newValue||v.newValue===v.oldValue?fe():setTimeout(fe,10)}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const fe of Array.from(Q))fe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var Q=()=>super._set,fe=this;return(0,o.A)(function*(){yield Q().call(fe,v,S),fe.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,Q=this;return(0,o.A)(function*(){const fe=yield S().call(Q,v);return Q.localCache[v]=JSON.stringify(fe),fe})()}_remove(v){var S=()=>super._remove,Q=this;return(0,o.A)(function*(){yield S().call(Q,v),delete Q.localCache[v]})()}}return I.type="LOCAL",I})(),tc=(()=>{class I extends _o{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let Ht=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(fe=>fe.isListeningto(v));if(S)return S;const Q=new I(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,o.A)(function*(){const Q=v,{eventId:fe,eventType:ze,data:At}=Q.data,$t=S.handlersMap[ze];if(!$t?.size)return;Q.ports[0].postMessage({status:"ack",eventId:fe,eventType:ze});const Pn=Array.from($t).map(function(){var zr=(0,o.A)(function*(wo){return wo(Q.origin,At)});return function(wo){return zr.apply(this,arguments)}}()),Dn=yield function Xl(I){return Promise.all(I.map(function(){var m=(0,o.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Pn);Q.ports[0].postMessage({status:"done",eventId:fe,eventType:ze,response:Dn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xr(I="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return I+v}class ko{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var Q=this;return(0,o.A)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let ze,At;return new Promise(($t,Pn)=>{const Dn=xr("",20);fe.port1.start();const zr=setTimeout(()=>{Pn(new Error("unsupported_event"))},S);At={messageChannel:fe,onMessage(wo){const Ao=wo;if(Ao.data.eventId===Dn)switch(Ao.data.status){case"ack":clearTimeout(zr),ze=setTimeout(()=>{Pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),$t(Ao.data.response);break;default:clearTimeout(zr),clearTimeout(ze),Pn(new Error("invalid_response"))}}},Q.handlers.add(At),fe.port1.addEventListener("message",At.onMessage),Q.target.postMessage({eventType:m,eventId:Dn,data:v},[fe.port2])}).finally(()=>{At&&Q.removeMessageHandler(At)})})()}}function ss(){return window}function ul(){return typeof ss().WorkerGlobalScope<"u"&&"function"==typeof ss().importScripts}function Co(){return(Co=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Td="firebaseLocalStorageDb",Wt="firebaseLocalStorage",Ns="fbase_key";class oo{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ga(I,m){return I.transaction([Wt],m?"readwrite":"readonly").objectStore(Wt)}function qs(){const I=indexedDB.open(Td,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Wt,{keyPath:Ns})}catch(Q){v(Q)}}),I.addEventListener("success",(0,o.A)(function*(){const S=I.result;S.objectStoreNames.contains(Wt)?m(S):(S.close(),yield function ao(){const I=indexedDB.deleteDatabase(Td);return new oo(I).toPromise()}(),m(yield qs()))}))})}function Id(I,m,v){return yo.apply(this,arguments)}function yo(){return(yo=(0,o.A)(function*(I,m,v){const S=ga(I,!0).put({[Ns]:m,value:v});return new oo(S).toPromise()})).apply(this,arguments)}function Jn(){return(Jn=(0,o.A)(function*(I,m){const v=ga(I,!1).get(m),S=yield new oo(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Dc(I,m){const v=ga(I,!0).delete(m);return new oo(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,o.A)(function*(){return v.db||(v.db=yield qs()),v.db})()}_withRetries(v){var S=this;return(0,o.A)(function*(){let Q=0;for(;;)try{const fe=yield S._openDb();return yield v(fe)}catch(fe){if(Q++>3)throw fe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,o.A)(function*(){return ul()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,o.A)(function*(){v.receiver=Ht._getInstance(function dl(){return ul()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(Q,fe){return{keyProcessed:(yield v._poll()).includes(fe.key)}});return function(Q,fe){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(Q,fe){return["keyChanged"]});return function(Q,fe){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,o.A)(function*(){var S,Q;if(v.activeServiceWorker=yield function nc(){return Co.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ko(v.activeServiceWorker);const fe=yield v.sender._send("ping",{},800);fe&&null!==(S=fe[0])&&void 0!==S&&S.fulfilled&&null!==(Q=fe[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Ac(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const v=yield qs();return yield Id(v,so,"1"),yield Dc(v,so),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var Q=this;return(0,o.A)(function*(){return Q._withPendingWrite((0,o.A)(function*(){return yield Q._withRetries(fe=>Id(fe,v,S)),Q.localCache[v]=S,Q.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,o.A)(function*(){const Q=yield S._withRetries(fe=>function wd(I,m){return Jn.apply(this,arguments)}(fe,v));return S.localCache[v]=Q,Q})()}_remove(v){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(Q=>Dc(Q,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,o.A)(function*(){const S=yield v._withRetries(ze=>{const At=ga(ze,!1).getAll();return new oo(At).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const Q=[],fe=new Set;if(0!==S.length)for(const{fbase_key:ze,value:At}of S)fe.add(ze),JSON.stringify(v.localCache[ze])!==JSON.stringify(At)&&(v.notifyListeners(ze,At),Q.push(ze));for(const ze of Object.keys(v.localCache))v.localCache[ze]&&!fe.has(ze)&&(v.notifyListeners(ze,null),Q.push(ze));return Q})()}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const fe of Array.from(Q))fe(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),bt=1e12;class pt{constructor(m){this.auth=m,this.counter=bt,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new vn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||bt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||bt))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,o.A)(function*(){var S;return null===(S=v._widgets.get(m||bt))||void 0===S||S.execute(),""})()}}class vn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof m?document.getElementById(m):m;we(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _r=si("rcb"),Nr=new Le(3e4,6e4);class Yr{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ss().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return we(function rc(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&pn(ss().grecaptcha)?Promise.resolve(ss().grecaptcha):new Promise((S,Q)=>{const fe=ss().setTimeout(()=>{Q(Ke(m,"network-request-failed"))},Nr.get());ss()[_r]=()=>{ss().clearTimeout(fe),delete ss()[_r];const At=ss().grecaptcha;if(!At||!pn(At))return void Q(Ke(m,"internal-error"));const $t=At.render;At.render=(Pn,Dn)=>{const zr=$t(Pn,Dn);return this.counter++,zr},this.hostLanguage=v,S(At)},Mo(`${function Ro(){return Rs.recaptchaV2Script}()}?${(0,i.Am)({onload:_r,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(fe),Q(Ke(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=ss().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qo{load(m){return(0,o.A)(function*(){return new pt(m)})()}clearedOneInstance(){}}const pl="recaptcha",Sc={theme:"light",type:"image"};class Lu{constructor(m,v,S=Object.assign({},Sc)){this.parameters=S,this.type=pl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tr(m),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof v?document.getElementById(v):v;we(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qo:new Yr,this.validateStartingState()}verify(){var m=this;return(0,o.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(fe=>{const ze=At=>{At&&(m.tokenChangeListeners.delete(ze),fe(At))};m.tokenChangeListeners.add(ze),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=ss()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.A)(function*(){we(xt()&&!ul(),m.auth,"internal-error"),yield function Qh(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function gr(I){return sn.apply(this,arguments)}(m.auth);we(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ic{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=On._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function ma(I,m,v){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,o.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const S=Tr(I),Q=yield xc(S,m,(0,i.Ku)(v));return new ic(Q,fe=>hs(S,fe))})).apply(this,arguments)}function Ga(I,m,v){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,o.A)(function*(I,m,v){const S=(0,i.Ku)(I);yield de(!1,S,"phone");const Q=yield xc(S.auth,m,(0,i.Ku)(v));return new ic(Q,fe=>ys(S,fe))})).apply(this,arguments)}function Vu(I,m,v){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,o.A)(function*(I,m,v){const S=(0,i.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(Xe(S.auth));const Q=yield xc(S.auth,m,(0,i.Ku)(v));return new ic(Q,fe=>zo(S,fe))})).apply(this,arguments)}function xc(I,m,v){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,o.A)(function*(I,m,v){var S;const Q=yield v.verify();try{let fe;if(we("string"==typeof Q,I,"argument-error"),we(v.type===pl,I,"argument-error"),fe="string"==typeof m?{phoneNumber:m}:m,"session"in fe){const ze=fe.session;if("phoneNumber"in fe)return we("enroll"===ze.type,I,"internal-error"),(yield function Sa(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:start",be(I,m))}(I,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{we("signin"===ze.type,I,"internal-error");const At=(null===(S=fe.multiFactorHint)||void 0===S?void 0:S.uid)||fe.multiFactorUid;return we(At,I,"missing-multi-factor-info"),(yield function w(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:start",be(I,m))}(I,{mfaPendingCredential:ze.credential,mfaEnrollmentId:At,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield function Oe(I,m){return Qe.apply(this,arguments)}(I,{phoneNumber:fe.phoneNumber,recaptchaToken:Q});return ze}}finally{v._reset()}}),Ad.apply(this,arguments)}function Dd(I,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,o.A)(function*(I,m){const v=(0,i.Ku)(I);if((0,ue._isFirebaseServerApp)(v.auth.app))return Promise.reject(Xe(v.auth));yield Z(v,m)})).apply(this,arguments)}let Jo=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Tr(v)}verifyPhoneNumber(v,S){return xc(this.auth,v,(0,i.Ku)(S))}static credential(v,S){return On._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:Q}=v;return S&&Q?On._fromTokenResponse(S,Q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Pc(I,m){return m?ee(m):(we(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Zh extends Bs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return rs(m,this._buildIdpRequest())}_linkToIdToken(m,v){return rs(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return rs(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Sd(I){return _s(I.auth,new Zh(I),I.bypassAuthState)}function xd(I){const{auth:m,user:v}=I;return we(v,m,"internal-error"),dn(v,new Zh(I),I.bypassAuthState)}function Mc(I){return za.apply(this,arguments)}function za(){return(za=(0,o.A)(function*(I){const{auth:m,user:v}=I;return we(v,m,"internal-error"),Z(v,new Zh(I),I.bypassAuthState)})).apply(this,arguments)}class ju{constructor(m,v,S,Q,fe=!1){this.auth=m,this.resolver=S,this.user=Q,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,o.A)(function*(S,Q){m.pendingPromise={resolve:S,reject:Q};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(fe){m.reject(fe)}});return function(S,Q){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:Q,postBody:fe,tenantId:ze,error:At,type:$t}=m;if(At)return void v.reject(At);const Pn={auth:v.auth,requestUri:S,sessionId:Q,tenantId:ze||void 0,postBody:fe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask($t)(Pn))}catch(Dn){v.reject(Dn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Sd;case"linkViaPopup":case"linkViaRedirect":return Mc;case"reauthViaPopup":case"reauthViaRedirect":return xd;default:pe(this.auth,"internal-error")}}resolve(m){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cp=new Le(2e3,1e4);function gl(I,m,v){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,o.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Ke(I,"operation-not-supported-in-this-environment"));const S=Tr(I);yt(I,m,ti);const Q=Pc(S,v);return new lp(S,"signInViaPopup",m,Q).executeNotNull()})).apply(this,arguments)}function Pd(I,m,v){return ml.apply(this,arguments)}function ml(){return(ml=(0,o.A)(function*(I,m,v){const S=(0,i.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(Ke(S.auth,"operation-not-supported-in-this-environment"));yt(S.auth,m,ti);const Q=Pc(S.auth,v);return new lp(S.auth,"reauthViaPopup",m,Q,S).executeNotNull()})).apply(this,arguments)}function Bu(I,m,v){return sc.apply(this,arguments)}function sc(){return(sc=(0,o.A)(function*(I,m,v){const S=(0,i.Ku)(I);yt(S.auth,m,ti);const Q=Pc(S.auth,v);return new lp(S.auth,"linkViaPopup",m,Q,S).executeNotNull()})).apply(this,arguments)}let lp=(()=>{class I extends ju{constructor(v,S,Q,fe,ze){super(v,S,fe,ze),this.provider=Q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,o.A)(function*(){const S=yield v.execute();return we(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,o.A)(function*(){fn(1===v.filter.length,"Popup operations only handle one event");const S=xr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(Ke(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,Q;this.pollId=null!==(Q=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,cp.get())};v()}}return I.currentPopupAction=null,I})();const Md="pendingRedirect",Fo=new Map;class $u extends ju{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,o.A)(function*(){let S=Fo.get(v.auth._key());if(!S){try{const fe=(yield function To(I,m){return Rd.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(fe)}catch(Q){S=()=>Promise.reject(Q)}Fo.set(v.auth._key(),S)}return v.bypassAuthState||Fo.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const Q=yield S.auth._redirectUserForId(m.eventId);if(Q)return S.user=Q,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function Rd(){return(Rd=(0,o.A)(function*(I,m){const v=ef(m),S=yl(I);if(!(yield S._isAvailable()))return!1;const Q="true"===(yield S._get(v));return yield S._remove(v),Q})).apply(this,arguments)}function _l(I,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,o.A)(function*(I,m){return yl(I)._set(ef(m),"true")})).apply(this,arguments)}function Od(){Fo.clear()}function oc(I,m){Fo.set(I._key(),m)}function yl(I){return ee(I._redirectPersistence)}function ef(I){return en(Md,I.config.apiKey,I.name)}function ac(I,m,v){return function vl(I,m,v){return Hu.apply(this,arguments)}(I,m,v)}function Hu(){return(Hu=(0,o.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const S=Tr(I);yt(I,m,ti),yield S._initializationPromise;const Q=Pc(S,v);return yield _l(Q,S),Q._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function Oc(I,m,v){return function Dg(I,m,v){return Pa.apply(this,arguments)}(I,m,v)}function Pa(){return(Pa=(0,o.A)(function*(I,m,v){const S=(0,i.Ku)(I);if(yt(S.auth,m,ti),(0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(Xe(S.auth));yield S.auth._initializationPromise;const Q=Pc(S.auth,v);yield _l(Q,S.auth);const fe=yield up(S);return Q._openRedirect(S.auth,m,"reauthViaRedirect",fe)})).apply(this,arguments)}function _a(I,m,v){return function Nc(I,m,v){return Nd.apply(this,arguments)}(I,m,v)}function Nd(){return(Nd=(0,o.A)(function*(I,m,v){const S=(0,i.Ku)(I);yt(S.auth,m,ti),yield S.auth._initializationPromise;const Q=Pc(S.auth,v);yield de(!1,S,m.providerId),yield _l(Q,S.auth);const fe=yield up(S);return Q._openRedirect(S.auth,m,"linkViaRedirect",fe)})).apply(this,arguments)}function Jl(I,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,o.A)(function*(I,m){return yield Tr(I)._initializationPromise,tf(I,m,!1)})).apply(this,arguments)}function tf(I,m){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.A)(function*(I,m,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(Xe(I));const S=Tr(I),Q=Pc(S,m),ze=yield new $u(S,Q,v).execute();return ze&&!v&&(delete ze.user._redirectEventId,yield S._persistUserIfCurrent(ze.user),yield S._setRedirectUser(null,m)),ze})).apply(this,arguments)}function up(I){return El.apply(this,arguments)}function El(){return(El=(0,o.A)(function*(I){const m=xr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Fd{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Cl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bl(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!bl(m)){const Q=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(Ke(this.auth,Q))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cc(m))}saveEventToCache(m){this.cachedEventUids.add(cc(m)),this.lastProcessedEventTime=Date.now()}}function cc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function bl({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function Zo(I){return ya.apply(this,arguments)}function ya(){return(ya=(0,o.A)(function*(I,m={}){return Ve(I,"GET","/v1/projects",m)})).apply(this,arguments)}const nf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ld=/^https?/;function Gu(){return(Gu=(0,o.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield Zo(I);for(const v of m)try{if(Sg(v))return}catch{}pe(I,"unauthorized-domain")})).apply(this,arguments)}function Sg(I){const m=or(),{protocol:v,hostname:S}=new URL(m);if(I.startsWith("chrome-extension://")){const ze=new URL(I);return""===ze.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&ze.hostname===S}if(!Ld.test(v))return!1;if(nf.test(I))return S===I;const Q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(S)}const Qm=new Le(3e4,6e4);function zu(){const I=ss().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Ys=null;const dp=new Le(5e3,15e3),tu="__/auth/iframe",hp="emulator/auth/iframe",sf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vd(I){const m=I.config;we(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?et(m,hp):`https://${I.config.authDomain}/${tu}`,S={apiKey:m.apiKey,appName:I.name,v:ue.SDK_VERSION},Q=Fs.get(I.config.apiHost);Q&&(S.eid=Q);const fe=I._getFrameworks();return fe.length&&(S.fw=fe.join(",")),`${v}?${(0,i.Am)(S).slice(1)}`}function af(){return af=(0,o.A)(function*(I){const m=yield function eu(I){return Ys=Ys||function rf(I){return new Promise((m,v)=>{var S,Q,fe;function ze(){zu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{zu(),v(Ke(I,"network-request-failed"))},timeout:Qm.get()})}if(null!==(Q=null===(S=ss().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Q&&Q.Iframe)m(gapi.iframes.getContext());else{if(null===(fe=ss().gapi)||void 0===fe||!fe.load){const At=si("iframefcb");return ss()[At]=()=>{gapi.load?ze():v(Ke(I,"network-request-failed"))},Mo(`${function Ho(){return Rs.gapiScript}()}?onload=${At}`).catch($t=>v($t))}ze()}}).catch(m=>{throw Ys=null,m})}(I),Ys}(I),v=ss().gapi;return we(v,I,"internal-error"),m.open({where:document.body,url:Vd(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sf,dontclear:!0},S=>new Promise(function(){var Q=(0,o.A)(function*(fe,ze){yield S.restyle({setHideOnLeave:!1});const At=Ke(I,"network-request-failed"),$t=ss().setTimeout(()=>{ze(At)},dp.get());function Pn(){ss().clearTimeout($t),fe(S)}S.ping(Pn).then(Pn,()=>{ze(At)})});return function(fe,ze){return Q.apply(this,arguments)}}()))}),af.apply(this,arguments)}const ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pg="__/auth/handler",ta="emulator/auth/handler",Ud=encodeURIComponent("fac");function Io(I,m,v,S,Q,fe){return jd.apply(this,arguments)}function jd(){return(jd=(0,o.A)(function*(I,m,v,S,Q,fe){we(I.config.authDomain,I,"auth-domain-config-required"),we(I.config.apiKey,I,"invalid-api-key");const ze={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:ue.SDK_VERSION,eventId:Q};if(m instanceof ti){m.setDefaultLanguage(I.languageCode),ze.providerId=m.providerId||"",(0,i.Im)(m.getCustomParameters())||(ze.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Dn,zr]of Object.entries(fe||{}))ze[Dn]=zr}if(m instanceof Qn){const Dn=m.getScopes().filter(zr=>""!==zr);Dn.length>0&&(ze.scopes=Dn.join(","))}I.tenantId&&(ze.tid=I.tenantId);const At=ze;for(const Dn of Object.keys(At))void 0===At[Dn]&&delete At[Dn];const $t=yield I._getAppCheckToken(),Pn=$t?`#${Ud}=${encodeURIComponent($t)}`:"";return`${function Ku({config:I}){return I.emulator?et(I,ta):`https://${I.authDomain}/${Pg}`}(I)}?${(0,i.Am)(At).slice(1)}${Pn}`})).apply(this,arguments)}const Bd="webStorageSupport",cf=class Mg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tc,this._completeRedirectFn=tf,this._overrideRedirectResult=oc}_openPopup(m,v,S,Q){var fe=this;return(0,o.A)(function*(){var ze;fn(null===(ze=fe.eventManagers[m._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const At=yield Io(m,v,S,or(),Q);return function fp(I,m,v,S=500,Q=600){const fe=Math.max((window.screen.availHeight-Q)/2,0).toString(),ze=Math.max((window.screen.availWidth-S)/2,0).toString();let At="";const $t=Object.assign(Object.assign({},ea),{width:S.toString(),height:Q.toString(),top:fe,left:ze}),Pn=(0,i.ZQ)().toLowerCase();v&&(At=fr(Pn)?"_blank":v),on(Pn)&&(m=m||"http://localhost",$t.scrollbars="yes");const Dn=Object.entries($t).reduce((wo,[Ao,Bc])=>`${wo}${Ao}=${Bc},`,"");if(function Us(I=(0,i.ZQ)()){var m;return Ti(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Pn)&&"_self"!==At)return function xg(I,m){const v=document.createElement("a");v.href=I,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",At),new uc(null);const zr=window.open(m||"",At,Dn);we(zr,I,"popup-blocked");try{zr.focus()}catch{}return new uc(zr)}(m,At,xr())})()}_openRedirect(m,v,S,Q){var fe=this;return(0,o.A)(function*(){return yield fe._originValidation(m),function Ks(I){ss().location.href=I}(yield Io(m,v,S,or(),Q)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:Q,promise:fe}=this.eventManagers[v];return Q?Promise.resolve(Q):(fn(fe,"If manager is not set, promise should be"),fe)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,o.A)(function*(){const S=yield function Fc(I){return af.apply(this,arguments)}(m),Q=new Fd(m);return S.register("authEvent",fe=>(we(fe?.authEvent,m,"invalid-auth-event"),{status:Q.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:Q},v.iframes[m._key()]=S,Q})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Bd,{type:Bd},Q=>{var fe;const ze=null===(fe=Q?.[0])||void 0===fe?void 0:fe[Bd];void 0!==ze&&v(!!ze),pe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Zl(I){return Gu.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return rt()||$r()||Ti()}};class pp{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return Zt("unexpected MultiFactorSessionType")}}}class Uc extends pp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Uc(m)}_finalizeEnroll(m,v,S){return function Nu(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",be(I,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function N(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:finalize",be(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nu=(()=>{class I{constructor(){}static assertion(v){return Uc._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var uf="@firebase/auth";class df{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,o.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function Zi(I){Rs=I}({loadJS:I=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=m,S.onerror=Q=>{const fe=Ke("internal-error");fe.customData=Q,v(fe)},S.type="text/javascript",S.charset="UTF-8",function fc(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ru(I){(0,ue._registerComponent)(new Se.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),Q=m.getProvider("heartbeat"),fe=m.getProvider("app-check-internal"),{apiKey:ze,authDomain:At}=S.options;we(ze&&!ze.includes(":"),"invalid-api-key",{appName:S.name});const $t={apiKey:ze,authDomain:At,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pt(I)},Pn=new Wr(S,Q,fe,$t);return function Ya(I,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(ee);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(S,m?.popupRedirectResolver)}(Pn,v),Pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Se.uA("auth-internal",m=>{const v=Tr(m.getProvider("auth").getImmediate());return new df(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(uf,"1.7.9",function Ma(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ue.registerVersion)(uf,"1.7.9","esm2017")}("Browser")},9583:(nn,Ye,V)=>{V.d(Ye,{fS:()=>Em,Ix:()=>fu,H6:()=>Kp,T1:()=>Ls,Wq:()=>_u,uY:()=>cd,W6:()=>et,Ci:()=>qp,YQ:()=>gc,NJ:()=>Rl,Dc:()=>Bt,GA:()=>sg,cm:()=>hi,K$:()=>Ut,FA:()=>Wn,lo:()=>ci,bI:()=>zt,qG:()=>Ya,qi:()=>fn,c8:()=>tm,gS:()=>v0,C3:()=>Cv,hq:()=>D0,me:()=>D_,rJ:()=>T_,Cs:()=>I_,vN:()=>tv,kd:()=>y0,CL:()=>w0,LA:()=>rv,H9:()=>hu,ol:()=>A_,Q5:()=>ad,Os:()=>S_,FD:()=>N_,rf:()=>LE,Ws:()=>Ts,z6:()=>wh,x7:()=>g0,nY:()=>Nl,_e:()=>fv,GG:()=>m0,kU:()=>UE,Rr:()=>Do,aU:()=>am,GV:()=>BE,AB:()=>u0,$1:()=>av,po:()=>dm,St:()=>a0,aQ:()=>L_,FC:()=>pv,My:()=>l0,P:()=>O_,B:()=>Sf,yx:()=>nv,c4:()=>I0,O5:()=>A0,BN:()=>_0,He:()=>Mt,lN:()=>p0,HM:()=>lv,EO:()=>cv,mZ:()=>F_,iB:()=>um,_M:()=>ov});var Fe,Ne,o=V(467),ue=V(7852),i=V(1362),Ce=V(8041),me=V(1076),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(it,ke,We){We||(We=0);var st=Array(16);if("string"==typeof ke)for(var ht=0;16>ht;++ht)st[ht]=ke.charCodeAt(We++)|ke.charCodeAt(We++)<<8|ke.charCodeAt(We++)<<16|ke.charCodeAt(We++)<<24;else for(ht=0;16>ht;++ht)st[ht]=ke[We++]|ke[We++]<<8|ke[We++]<<16|ke[We++]<<24;var It=it.g[3],Ge=(ke=it.g[0])+(It^(We=it.g[1])&((ht=it.g[2])^It))+st[0]+3614090360&4294967295;Ge=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=(We=(ht=(It=(ke=We+(Ge<<7&4294967295|Ge>>>25))+((Ge=It+(ht^ke&(We^ht))+st[1]+3905402710&4294967295)<<12&4294967295|Ge>>>20))+((Ge=ht+(We^It&(ke^We))+st[2]+606105819&4294967295)<<17&4294967295|Ge>>>15))+((Ge=We+(ke^ht&(It^ke))+st[3]+3250441966&4294967295)<<22&4294967295|Ge>>>10))+((Ge=ke+(It^We&(ht^It))+st[4]+4118548399&4294967295)<<7&4294967295|Ge>>>25))+((Ge=It+(ht^ke&(We^ht))+st[5]+1200080426&4294967295)<<12&4294967295|Ge>>>20))+((Ge=ht+(We^It&(ke^We))+st[6]+2821735955&4294967295)<<17&4294967295|Ge>>>15))+((Ge=We+(ke^ht&(It^ke))+st[7]+4249261313&4294967295)<<22&4294967295|Ge>>>10))+((Ge=ke+(It^We&(ht^It))+st[8]+1770035416&4294967295)<<7&4294967295|Ge>>>25))+((Ge=It+(ht^ke&(We^ht))+st[9]+2336552879&4294967295)<<12&4294967295|Ge>>>20))+((Ge=ht+(We^It&(ke^We))+st[10]+4294925233&4294967295)<<17&4294967295|Ge>>>15))+((Ge=We+(ke^ht&(It^ke))+st[11]+2304563134&4294967295)<<22&4294967295|Ge>>>10))+((Ge=ke+(It^We&(ht^It))+st[12]+1804603682&4294967295)<<7&4294967295|Ge>>>25))+((Ge=It+(ht^ke&(We^ht))+st[13]+4254626195&4294967295)<<12&4294967295|Ge>>>20))+((Ge=ht+(We^It&(ke^We))+st[14]+2792965006&4294967295)<<17&4294967295|Ge>>>15))+((Ge=We+(ke^ht&(It^ke))+st[15]+1236535329&4294967295)<<22&4294967295|Ge>>>10))+((Ge=ke+(ht^It&(We^ht))+st[1]+4129170786&4294967295)<<5&4294967295|Ge>>>27))+((Ge=It+(We^ht&(ke^We))+st[6]+3225465664&4294967295)<<9&4294967295|Ge>>>23))+((Ge=ht+(ke^We&(It^ke))+st[11]+643717713&4294967295)<<14&4294967295|Ge>>>18))+((Ge=We+(It^ke&(ht^It))+st[0]+3921069994&4294967295)<<20&4294967295|Ge>>>12))+((Ge=ke+(ht^It&(We^ht))+st[5]+3593408605&4294967295)<<5&4294967295|Ge>>>27))+((Ge=It+(We^ht&(ke^We))+st[10]+38016083&4294967295)<<9&4294967295|Ge>>>23))+((Ge=ht+(ke^We&(It^ke))+st[15]+3634488961&4294967295)<<14&4294967295|Ge>>>18))+((Ge=We+(It^ke&(ht^It))+st[4]+3889429448&4294967295)<<20&4294967295|Ge>>>12))+((Ge=ke+(ht^It&(We^ht))+st[9]+568446438&4294967295)<<5&4294967295|Ge>>>27))+((Ge=It+(We^ht&(ke^We))+st[14]+3275163606&4294967295)<<9&4294967295|Ge>>>23))+((Ge=ht+(ke^We&(It^ke))+st[3]+4107603335&4294967295)<<14&4294967295|Ge>>>18))+((Ge=We+(It^ke&(ht^It))+st[8]+1163531501&4294967295)<<20&4294967295|Ge>>>12))+((Ge=ke+(ht^It&(We^ht))+st[13]+2850285829&4294967295)<<5&4294967295|Ge>>>27))+((Ge=It+(We^ht&(ke^We))+st[2]+4243563512&4294967295)<<9&4294967295|Ge>>>23))+((Ge=ht+(ke^We&(It^ke))+st[7]+1735328473&4294967295)<<14&4294967295|Ge>>>18))+((Ge=We+(It^ke&(ht^It))+st[12]+2368359562&4294967295)<<20&4294967295|Ge>>>12))+((Ge=ke+(We^ht^It)+st[5]+4294588738&4294967295)<<4&4294967295|Ge>>>28))+((Ge=It+(ke^We^ht)+st[8]+2272392833&4294967295)<<11&4294967295|Ge>>>21))+((Ge=ht+(It^ke^We)+st[11]+1839030562&4294967295)<<16&4294967295|Ge>>>16))+((Ge=We+(ht^It^ke)+st[14]+4259657740&4294967295)<<23&4294967295|Ge>>>9))+((Ge=ke+(We^ht^It)+st[1]+2763975236&4294967295)<<4&4294967295|Ge>>>28))+((Ge=It+(ke^We^ht)+st[4]+1272893353&4294967295)<<11&4294967295|Ge>>>21))+((Ge=ht+(It^ke^We)+st[7]+4139469664&4294967295)<<16&4294967295|Ge>>>16))+((Ge=We+(ht^It^ke)+st[10]+3200236656&4294967295)<<23&4294967295|Ge>>>9))+((Ge=ke+(We^ht^It)+st[13]+681279174&4294967295)<<4&4294967295|Ge>>>28))+((Ge=It+(ke^We^ht)+st[0]+3936430074&4294967295)<<11&4294967295|Ge>>>21))+((Ge=ht+(It^ke^We)+st[3]+3572445317&4294967295)<<16&4294967295|Ge>>>16))+((Ge=We+(ht^It^ke)+st[6]+76029189&4294967295)<<23&4294967295|Ge>>>9))+((Ge=ke+(We^ht^It)+st[9]+3654602809&4294967295)<<4&4294967295|Ge>>>28))+((Ge=It+(ke^We^ht)+st[12]+3873151461&4294967295)<<11&4294967295|Ge>>>21))+((Ge=ht+(It^ke^We)+st[15]+530742520&4294967295)<<16&4294967295|Ge>>>16))+((Ge=We+(ht^It^ke)+st[2]+3299628645&4294967295)<<23&4294967295|Ge>>>9))+((Ge=ke+(ht^(We|~It))+st[0]+4096336452&4294967295)<<6&4294967295|Ge>>>26))+((Ge=It+(We^(ke|~ht))+st[7]+1126891415&4294967295)<<10&4294967295|Ge>>>22))+((Ge=ht+(ke^(It|~We))+st[14]+2878612391&4294967295)<<15&4294967295|Ge>>>17))+((Ge=We+(It^(ht|~ke))+st[5]+4237533241&4294967295)<<21&4294967295|Ge>>>11))+((Ge=ke+(ht^(We|~It))+st[12]+1700485571&4294967295)<<6&4294967295|Ge>>>26))+((Ge=It+(We^(ke|~ht))+st[3]+2399980690&4294967295)<<10&4294967295|Ge>>>22))+((Ge=ht+(ke^(It|~We))+st[10]+4293915773&4294967295)<<15&4294967295|Ge>>>17))+((Ge=We+(It^(ht|~ke))+st[1]+2240044497&4294967295)<<21&4294967295|Ge>>>11))+((Ge=ke+(ht^(We|~It))+st[8]+1873313359&4294967295)<<6&4294967295|Ge>>>26))+((Ge=It+(We^(ke|~ht))+st[15]+4264355552&4294967295)<<10&4294967295|Ge>>>22))+((Ge=ht+(ke^(It|~We))+st[6]+2734768916&4294967295)<<15&4294967295|Ge>>>17))+((Ge=We+(It^(ht|~ke))+st[13]+1309151649&4294967295)<<21&4294967295|Ge>>>11))+((It=(ke=We+((Ge=ke+(ht^(We|~It))+st[4]+4149444226&4294967295)<<6&4294967295|Ge>>>26))+((Ge=It+(We^(ke|~ht))+st[11]+3174756917&4294967295)<<10&4294967295|Ge>>>22))^((ht=It+((Ge=ht+(ke^(It|~We))+st[2]+718787259&4294967295)<<15&4294967295|Ge>>>17))|~ke))+st[9]+3951481745&4294967295,it.g[0]=it.g[0]+ke&4294967295,it.g[1]=it.g[1]+(ht+(Ge<<21&4294967295|Ge>>>11))&4294967295,it.g[2]=it.g[2]+ht&4294967295,it.g[3]=it.g[3]+It&4294967295}function b(it,ke){this.h=ke;for(var We=[],st=!0,ht=it.length-1;0<=ht;ht--){var It=0|it[ht];st&&It==ke||(We[ht]=It,st=!1)}this.g=We}(function e(it,ke){function We(){}We.prototype=ke.prototype,it.D=ke.prototype,it.prototype=new We,it.prototype.constructor=it,it.C=function(st,ht,It){for(var Ge=Array(arguments.length-2),Eu=2;Eu<arguments.length;Eu++)Ge[Eu-2]=arguments[Eu];return ke.prototype[ht].apply(st,Ge)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(it,ke){void 0===ke&&(ke=it.length);for(var We=ke-this.blockSize,st=this.B,ht=this.h,It=0;It<ke;){if(0==ht)for(;It<=We;)h(this,it,It),It+=this.blockSize;if("string"==typeof it){for(;It<ke;)if(st[ht++]=it.charCodeAt(It++),ht==this.blockSize){h(this,st),ht=0;break}}else for(;It<ke;)if(st[ht++]=it[It++],ht==this.blockSize){h(this,st),ht=0;break}}this.h=ht,this.o+=ke},a.prototype.v=function(){var it=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);it[0]=128;for(var ke=1;ke<it.length-8;++ke)it[ke]=0;var We=8*this.o;for(ke=it.length-8;ke<it.length;++ke)it[ke]=255&We,We/=256;for(this.u(it),it=Array(16),ke=We=0;4>ke;++ke)for(var st=0;32>st;st+=8)it[We++]=this.g[ke]>>>st&255;return it};var x={};function F(it){return-128<=it&&128>it?function _(it,ke){var We=x;return Object.prototype.hasOwnProperty.call(We,it)?We[it]:We[it]=ke(it)}(it,function(ke){return new b([0|ke],0>ke?-1:0)}):new b([0|it],0>it?-1:0)}function q(it){if(isNaN(it)||!isFinite(it))return ve;if(0>it)return Jt(q(-it));for(var ke=[],We=1,st=0;it>=We;st++)ke[st]=it/We|0,We*=4294967296;return new b(ke,0)}var ve=F(0),$e=F(1),vt=F(16777216);function jt(it){if(0!=it.h)return!1;for(var ke=0;ke<it.g.length;ke++)if(0!=it.g[ke])return!1;return!0}function cn(it){return-1==it.h}function Jt(it){for(var ke=it.g.length,We=[],st=0;st<ke;st++)We[st]=~it.g[st];return new b(We,~it.h).add($e)}function Hn(it,ke){return it.add(Jt(ke))}function ir(it,ke){for(;(65535&it[ke])!=it[ke];)it[ke+1]+=it[ke]>>>16,it[ke]&=65535,ke++}function Kn(it,ke){this.g=it,this.h=ke}function Rr(it,ke){if(jt(ke))throw Error("division by zero");if(jt(it))return new Kn(ve,ve);if(cn(it))return ke=Rr(Jt(it),ke),new Kn(Jt(ke.g),Jt(ke.h));if(cn(ke))return ke=Rr(it,Jt(ke)),new Kn(Jt(ke.g),ke.h);if(30<it.g.length){if(cn(it)||cn(ke))throw Error("slowDivide_ only works with positive integers.");for(var We=$e,st=ke;0>=st.l(it);)We=Ni(We),st=Ni(st);var ht=ri(We,1),It=ri(st,1);for(st=ri(st,2),We=ri(We,2);!jt(st);){var Ge=It.add(st);0>=Ge.l(it)&&(ht=ht.add(We),It=Ge),st=ri(st,1),We=ri(We,1)}return ke=Hn(it,ht.j(ke)),new Kn(ht,ke)}for(ht=ve;0<=it.l(ke);){for(We=Math.max(1,Math.floor(it.m()/ke.m())),st=48>=(st=Math.ceil(Math.log(We)/Math.LN2))?1:Math.pow(2,st-48),Ge=(It=q(We)).j(ke);cn(Ge)||0<Ge.l(it);)Ge=(It=q(We-=st)).j(ke);jt(It)&&(It=$e),ht=ht.add(It),it=Hn(it,Ge)}return new Kn(ht,it)}function Ni(it){for(var ke=it.g.length+1,We=[],st=0;st<ke;st++)We[st]=it.i(st)<<1|it.i(st-1)>>>31;return new b(We,it.h)}function ri(it,ke){var We=ke>>5;ke%=32;for(var st=it.g.length-We,ht=[],It=0;It<st;It++)ht[It]=0<ke?it.i(It+We)>>>ke|it.i(It+We+1)<<32-ke:it.i(It+We);return new b(ht,it.h)}(d=b.prototype).m=function(){if(cn(this))return-Jt(this).m();for(var it=0,ke=1,We=0;We<this.g.length;We++){var st=this.i(We);it+=(0<=st?st:4294967296+st)*ke,ke*=4294967296}return it},d.toString=function(it){if(2>(it=it||10)||36<it)throw Error("radix out of range: "+it);if(jt(this))return"0";if(cn(this))return"-"+Jt(this).toString(it);for(var ke=q(Math.pow(it,6)),We=this,st="";;){var ht=Rr(We,ke).g,It=((0<(We=Hn(We,ht.j(ke))).g.length?We.g[0]:We.h)>>>0).toString(it);if(jt(We=ht))return It+st;for(;6>It.length;)It="0"+It;st=It+st}},d.i=function(it){return 0>it?0:it<this.g.length?this.g[it]:this.h},d.l=function(it){return cn(it=Hn(this,it))?-1:jt(it)?0:1},d.abs=function(){return cn(this)?Jt(this):this},d.add=function(it){for(var ke=Math.max(this.g.length,it.g.length),We=[],st=0,ht=0;ht<=ke;ht++){var It=st+(65535&this.i(ht))+(65535&it.i(ht)),Ge=(It>>>16)+(this.i(ht)>>>16)+(it.i(ht)>>>16);st=Ge>>>16,We[ht]=(Ge&=65535)<<16|(It&=65535)}return new b(We,-2147483648&We[We.length-1]?-1:0)},d.j=function(it){if(jt(this)||jt(it))return ve;if(cn(this))return cn(it)?Jt(this).j(Jt(it)):Jt(Jt(this).j(it));if(cn(it))return Jt(this.j(Jt(it)));if(0>this.l(vt)&&0>it.l(vt))return q(this.m()*it.m());for(var ke=this.g.length+it.g.length,We=[],st=0;st<2*ke;st++)We[st]=0;for(st=0;st<this.g.length;st++)for(var ht=0;ht<it.g.length;ht++){var It=this.i(st)>>>16,Ge=65535&this.i(st),Eu=it.i(ht)>>>16,ag=65535&it.i(ht);We[2*st+2*ht]+=Ge*ag,ir(We,2*st+2*ht),We[2*st+2*ht+1]+=It*ag,ir(We,2*st+2*ht+1),We[2*st+2*ht+1]+=Ge*Eu,ir(We,2*st+2*ht+1),We[2*st+2*ht+2]+=It*Eu,ir(We,2*st+2*ht+2)}for(st=0;st<ke;st++)We[st]=We[2*st+1]<<16|We[2*st];for(st=ke;st<2*ke;st++)We[st]=0;return new b(We,0)},d.A=function(it){return Rr(this,it).h},d.and=function(it){for(var ke=Math.max(this.g.length,it.g.length),We=[],st=0;st<ke;st++)We[st]=this.i(st)&it.i(st);return new b(We,this.h&it.h)},d.or=function(it){for(var ke=Math.max(this.g.length,it.g.length),We=[],st=0;st<ke;st++)We[st]=this.i(st)|it.i(st);return new b(We,this.h|it.h)},d.xor=function(it){for(var ke=Math.max(this.g.length,it.g.length),We=[],st=0;st<ke;st++)We[st]=this.i(st)^it.i(st);return new b(We,this.h^it.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ne=De.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=q,b.fromString=function oe(it,ke){if(0==it.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==it.charAt(0))return Jt(oe(it.substring(1),ke));if(0<=it.indexOf("-"))throw Error('number format error: interior "-" character');for(var We=q(Math.pow(ke,8)),st=ve,ht=0;ht<it.length;ht+=8){var It=Math.min(8,it.length-ht),Ge=parseInt(it.substring(ht,ht+It),ke);8>It?(It=q(Math.pow(ke,It)),st=st.j(It).add(q(Ge))):st=(st=st.j(We)).add(q(Ge))}return st},Fe=De.Integer=b}).apply(typeof Se<"u"?Se:typeof self<"u"?self:typeof window<"u"?window:{});var _e,je,_t,ot,Rt,St,rn,He,ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,Y){return E==Array.prototype||E==Object.prototype||(E[j]=Y.value),E},a=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ne&&ne];for(var j=0;j<E.length;++j){var Y=E[j];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var Y=a;E=E.split(".");for(var ge=0;ge<E.length-1;ge++){var ut=E[ge];if(!(ut in Y))break e;Y=Y[ut]}(j=j(ge=Y[E=E[E.length-1]]))!=ge&&null!=j&&e(Y,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function _(E,j){E instanceof String&&(E+="");var Y=0,ge=!1,ut={next:function(){if(!ge&&Y<E.length){var Dt=Y++;return{value:j(Dt,E[Dt]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return ut[Symbol.iterator]=function(){return ut},ut}(this,function(j,Y){return Y})}});var b=b||{},x=this||self;function F(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function q(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function oe(E,j,Y){return E.call.apply(E.bind,arguments)}function ve(E,j,Y){if(!E)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ut,ge),E.apply(j,ut)}}return function(){return E.apply(j,arguments)}}function $e(E,j,Y){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:ve).apply(null,arguments)}function vt(E,j){var Y=Array.prototype.slice.call(arguments,1);return function(){var ge=Y.slice();return ge.push.apply(ge,arguments),E.apply(this,ge)}}function jt(E,j){function Y(){}Y.prototype=j.prototype,E.aa=j.prototype,E.prototype=new Y,E.prototype.constructor=E,E.Qb=function(ge,ut,Dt){for(var Cn=Array(arguments.length-2),Bi=2;Bi<arguments.length;Bi++)Cn[Bi-2]=arguments[Bi];return j.prototype[ut].apply(ge,Cn)}}function cn(E){const j=E.length;if(0<j){const Y=Array(j);for(let ge=0;ge<j;ge++)Y[ge]=E[ge];return Y}return[]}function Jt(E,j){for(let Y=1;Y<arguments.length;Y++){const ge=arguments[Y];if(F(ge)){const ut=E.length||0,Dt=ge.length||0;E.length=ut+Dt;for(let Cn=0;Cn<Dt;Cn++)E[ut+Cn]=ge[Cn]}else E.push(ge)}}function ir(E){return/^[\s\xa0]*$/.test(E)}function Kn(){var E=x.navigator;return E&&(E=E.userAgent)?E:""}function Rr(E){return Rr[" "](E),E}Rr[" "]=function(){};var Ni=!(-1==Kn().indexOf("Gecko")||-1!=Kn().toLowerCase().indexOf("webkit")&&-1==Kn().indexOf("Edge")||-1!=Kn().indexOf("Trident")||-1!=Kn().indexOf("MSIE")||-1!=Kn().indexOf("Edge"));function ri(E,j,Y){for(const ge in E)j.call(Y,E[ge],ge,E)}function ke(E){const j={};for(const Y in E)j[Y]=E[Y];return j}const We="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(E,j){let Y,ge;for(let ut=1;ut<arguments.length;ut++){for(Y in ge=arguments[ut],ge)E[Y]=ge[Y];for(let Dt=0;Dt<We.length;Dt++)Y=We[Dt],Object.prototype.hasOwnProperty.call(ge,Y)&&(E[Y]=ge[Y])}}function ht(E){var j=1;E=E.split(":");const Y=[];for(;0<j&&E.length;)Y.push(E.shift()),j--;return E.length&&Y.push(E.join(":")),Y}function It(E){x.setTimeout(()=>{throw E},0)}function Ge(){var E=H_;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var ag=new class Hn{constructor(j,Y){this.i=j,this.j=Y,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new P0,E=>E.reset());class P0{constructor(){this.next=this.g=this.h=null}set(j,Y){this.h=j,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Lf,cg=!1,H_=new class Eu{constructor(){this.h=this.g=null}add(j,Y){const ge=ag.get();ge.set(j,Y),this.h?this.h.next=ge:this.g=ge,this.h=ge}},bm=()=>{const E=x.Promise.resolve(void 0);Lf=()=>{E.then(M0)}};var M0=()=>{for(var E;E=Ge();){try{E.h.call(E.g)}catch(Y){It(Y)}var j=ag;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}cg=!1};function gd(){this.s=this.s,this.C=this.C}function ra(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}gd.prototype.s=!1,gd.prototype.ma=function(){this.s||(this.s=!0,this.N())},gd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ra.prototype.h=function(){this.defaultPrevented=!0};var R0=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Y=()=>{};x.addEventListener("test",Y,j),x.removeEventListener("test",Y,j)}catch{}return E}();function lg(E,j){if(ra.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Y=this.type=E.type,ge=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(Ni){e:{try{Rr(j.nodeName);var ut=!0;break e}catch{}ut=!1}ut||(j=null)}}else"mouseover"==Y?j=E.fromElement:"mouseout"==Y&&(j=E.toElement);this.relatedTarget=j,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:kl[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&lg.aa.h.call(this)}}jt(lg,ra);var kl={2:"touch",3:"pen",4:"mouse"};lg.prototype.h=function(){lg.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Ah="closure_listenable_"+(1e6*Math.random()|0),O0=0;function Av(E,j,Y,ge,ut){this.listener=E,this.proxy=null,this.src=j,this.type=Y,this.capture=!!ge,this.ha=ut,this.key=++O0,this.da=this.fa=!1}function Cm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function ug(E){this.src=E,this.g={},this.h=0}function Tm(E,j){var Y=j.type;if(Y in E.g){var Dt,ge=E.g[Y],ut=Array.prototype.indexOf.call(ge,j,void 0);(Dt=0<=ut)&&Array.prototype.splice.call(ge,ut,1),Dt&&(Cm(j),0==E.g[Y].length&&(delete E.g[Y],E.h--))}}function Vf(E,j,Y,ge){for(var ut=0;ut<E.length;++ut){var Dt=E[ut];if(!Dt.da&&Dt.listener==j&&Dt.capture==!!Y&&Dt.ha==ge)return ut}return-1}ug.prototype.add=function(E,j,Y,ge,ut){var Dt=E.toString();(E=this.g[Dt])||(E=this.g[Dt]=[],this.h++);var Cn=Vf(E,j,ge,ut);return-1<Cn?(j=E[Cn],Y||(j.fa=!1)):((j=new Av(j,this.src,Dt,!!ge,ut)).fa=Y,E.push(j)),j};var dg="closure_lm_"+(1e6*Math.random()|0),G_={};function z_(E,j,Y,ge,ut){if(ge&&ge.once)return K_(E,j,Y,ge,ut);if(Array.isArray(j)){for(var Dt=0;Dt<j.length;Dt++)z_(E,j[Dt],Y,ge,ut);return null}return Y=wm(Y),E&&E[Ah]?E.K(j,Y,q(ge)?!!ge.capture:!!ge,ut):W_(E,j,Y,!1,ge,ut)}function W_(E,j,Y,ge,ut,Dt){if(!j)throw Error("Invalid event type");var Cn=q(ut)?!!ut.capture:!!ut,Bi=hg(E);if(Bi||(E[dg]=Bi=new ug(E)),(Y=Bi.add(j,Y,ge,Cn,Dt)).proxy)return Y;if(ge=function Dv(){const j=N0;return function E(Y){return j.call(E.src,E.listener,Y)}}(),Y.proxy=ge,ge.src=E,ge.listener=Y,E.addEventListener)R0||(ut=Cn),void 0===ut&&(ut=!1),E.addEventListener(j.toString(),ge,ut);else if(E.attachEvent)E.attachEvent(Sv(j.toString()),ge);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ge)}return Y}function K_(E,j,Y,ge,ut){if(Array.isArray(j)){for(var Dt=0;Dt<j.length;Dt++)K_(E,j[Dt],Y,ge,ut);return null}return Y=wm(Y),E&&E[Ah]?E.L(j,Y,q(ge)?!!ge.capture:!!ge,ut):W_(E,j,Y,!0,ge,ut)}function Im(E,j,Y,ge,ut){if(Array.isArray(j))for(var Dt=0;Dt<j.length;Dt++)Im(E,j[Dt],Y,ge,ut);else ge=q(ge)?!!ge.capture:!!ge,Y=wm(Y),E&&E[Ah]?(E=E.i,(j=String(j).toString())in E.g&&-1<(Y=Vf(Dt=E.g[j],Y,ge,ut))&&(Cm(Dt[Y]),Array.prototype.splice.call(Dt,Y,1),0==Dt.length&&(delete E.g[j],E.h--))):E&&(E=hg(E))&&(j=E.g[j.toString()],E=-1,j&&(E=Vf(j,Y,ge,ut)),(Y=-1<E?j[E]:null)&&Yc(Y))}function Yc(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[Ah])Tm(j.i,E);else{var Y=E.type,ge=E.proxy;j.removeEventListener?j.removeEventListener(Y,ge,E.capture):j.detachEvent?j.detachEvent(Sv(Y),ge):j.addListener&&j.removeListener&&j.removeListener(ge),(Y=hg(j))?(Tm(Y,E),0==Y.h&&(Y.src=null,j[dg]=null)):Cm(E)}}}function Sv(E){return E in G_?G_[E]:G_[E]="on"+E}function N0(E,j){if(E.da)E=!0;else{j=new lg(j,this);var Y=E.listener,ge=E.ha||E.src;E.fa&&Yc(E),E=Y.call(ge,j)}return E}function hg(E){return(E=E[dg])instanceof ug?E:null}var q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(E){return"function"==typeof E?E:(E[q_]||(E[q_]=function(j){return E.handleEvent(j)}),E[q_])}function ia(){gd.call(this),this.i=new ug(this),this.M=this,this.F=null}function So(E,j){var Y,ge=E.F;if(ge)for(Y=[];ge;ge=ge.F)Y.push(ge);if(E=E.M,ge=j.type||j,"string"==typeof j)j=new ra(j,E);else if(j instanceof ra)j.target=j.target||E;else{var ut=j;st(j=new ra(ge,E),ut)}if(ut=!0,Y)for(var Dt=Y.length-1;0<=Dt;Dt--){var Cn=j.g=Y[Dt];ut=md(Cn,ge,!0,j)&&ut}if(ut=md(Cn=j.g=E,ge,!0,j)&&ut,ut=md(Cn,ge,!1,j)&&ut,Y)for(Dt=0;Dt<Y.length;Dt++)ut=md(Cn=j.g=Y[Dt],ge,!1,j)&&ut}function md(E,j,Y,ge){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var ut=!0,Dt=0;Dt<j.length;++Dt){var Cn=j[Dt];if(Cn&&!Cn.da&&Cn.capture==Y){var Bi=Cn.listener,xo=Cn.ha||Cn.src;Cn.fa&&Tm(E.i,Cn),ut=!1!==Bi.call(xo,ge)&&ut}}return ut&&!ge.defaultPrevented}function Y_(E,j,Y){if("function"==typeof E)Y&&(E=$e(E,Y));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=$e(E.handleEvent,E)}return 2147483647<Number(j)?-1:x.setTimeout(E,j||0)}function fg(E){E.g=Y_(()=>{E.g=null,E.i&&(E.i=!1,fg(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}jt(ia,gd),ia.prototype[Ah]=!0,ia.prototype.removeEventListener=function(E,j,Y,ge){Im(this,E,j,Y,ge)},ia.prototype.N=function(){if(ia.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var Y=E.g[j],ge=0;ge<Y.length;ge++)Cm(Y[ge]);delete E.g[j],E.h--}}this.F=null},ia.prototype.K=function(E,j,Y,ge){return this.i.add(String(E),j,!1,Y,ge)},ia.prototype.L=function(E,j,Y,ge){return this.i.add(String(E),j,!0,Y,ge)};class HE extends gd{constructor(j,Y){super(),this.m=j,this.l=Y,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:fg(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pg(E){gd.call(this),this.h=E,this.g={}}jt(pg,gd);var X_=[];function Q_(E){ri(E.g,function(j,Y){this.g.hasOwnProperty(Y)&&Yc(j)},E),E.g={}}pg.prototype.N=function(){pg.aa.N.call(this),Q_(this)},pg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var J_=x.JSON.stringify,k0=x.JSON.parse,xv=class{stringify(E){return x.JSON.stringify(E,void 0)}parse(E){return x.JSON.parse(E,void 0)}};function Am(){}function Pv(){}Am.prototype.h=null;var jf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dm(){ra.call(this,"d")}function Z_(){ra.call(this,"c")}jt(Dm,ra),jt(Z_,ra);var Dh={},Bf=null;function Sm(){return Bf=Bf||new ia}function Mv(E){ra.call(this,Dh.La,E)}function gg(E){const j=Sm();So(j,new Mv(j))}function ey(E,j){ra.call(this,Dh.STAT_EVENT,E),this.stat=j}function sa(E){const j=Sm();So(j,new ey(j,E))}function ty(E,j){ra.call(this,Dh.Ma,E),this.size=j}function $f(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){E()},j)}function _d(){this.g=!0}function Hf(E,j,Y,ge){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function Rv(E,j){if(!E.g)return j;if(!j)return null;try{var Y=JSON.parse(j);if(Y)for(E=0;E<Y.length;E++)if(Array.isArray(Y[E])){var ge=Y[E];if(!(2>ge.length)){var ut=ge[1];if(Array.isArray(ut)&&!(1>ut.length)){var Dt=ut[0];if("noop"!=Dt&&"stop"!=Dt&&"close"!=Dt)for(var Cn=1;Cn<ut.length;Cn++)ut[Cn]=""}}}return J_(Y)}catch{return j}}(E,Y)+(ge?" "+ge:"")})}Dh.La="serverreachability",jt(Mv,ra),Dh.STAT_EVENT="statevent",jt(ey,ra),Dh.Ma="timingevent",jt(ty,ra),_d.prototype.xa=function(){this.g=!1},_d.prototype.info=function(){};var Mm,mg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ny={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function _g(){}function bu(E,j,Y,ge){this.j=E,this.i=j,this.l=Y,this.R=ge||1,this.U=new pg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ov}function Ov(){this.i=null,this.g="",this.h=!1}jt(_g,Am),_g.prototype.g=function(){return new XMLHttpRequest},_g.prototype.i=function(){return{}},Mm=new _g;var ry={},Rm={};function iy(E,j,Y){E.L=1,E.v=vg(Ca(j)),E.m=Y,E.P=!0,F0(E,null)}function F0(E,j){E.F=Date.now(),oy(E),E.A=Ca(E.v);var Y=E.A,ge=E.R;Array.isArray(ge)||(ge=[String(ge)]),hy(Y.i,"t",ge),E.C=0,Y=E.j.J,E.h=new Ov,E.g=Ul(E.j,Y?j:null,!E.m),0<E.O&&(E.M=new HE($e(E.Y,E,E.g),E.O)),j=E.U,Y=E.g,ge=E.ca;var ut="readystatechange";Array.isArray(ut)||(ut&&(X_[0]=ut.toString()),ut=X_);for(var Dt=0;Dt<ut.length;Dt++){var Cn=z_(Y,ut[Dt],ge||j.handleEvent,!1,j.h||j);if(!Cn)break;j.g[Cn.key]=Cn}j=E.H?ke(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),gg(),function xm(E,j,Y,ge,ut,Dt){E.info(function(){if(E.g)if(Dt)for(var Cn="",Bi=Dt.split("&"),xo=0;xo<Bi.length;xo++){var ki=Bi[xo].split("=");if(1<ki.length){var Bo=ki[0];ki=ki[1];var Yi=Bo.split("_");Cn=2<=Yi.length&&"type"==Yi[1]?Cn+(Bo+"=")+ki+"&":Cn+(Bo+"=redacted&")}}else Cn=null;else Cn=Dt;return"XMLHTTP REQ ("+ge+") [attempt "+ut+"]: "+j+"\n"+Y+"\n"+Cn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function sy(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Nv(E,j){var Y=E.C,ge=j.indexOf("\n",Y);return-1==ge?Rm:(Y=Number(j.substring(Y,ge)),isNaN(Y)?ry:(ge+=1)+Y>j.length?Rm:(j=j.slice(ge,ge+Y),E.C=ge+Y,j))}function oy(E){E.S=Date.now()+E.I,Gf(E,E.I)}function Gf(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=$f($e(E.ba,E),j)}function ay(E){E.B&&(x.clearTimeout(E.B),E.B=null)}function yg(E){0==E.j.G||E.J||$h(E.j,E)}function Cu(E){ay(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,Q_(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function cy(E,j){try{var Y=E.j;if(0!=Y.G&&(Y.g==E||xh(Y.h,E)))if(!E.K&&xh(Y.h,E)&&3==Y.G){try{var ge=Y.Da.g.parse(j)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var ut=ge;if(0==ut[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<E.F))break e;Du(Y),Lh(Y)}wu(Y),sa(18)}}else Y.za=ut[1],0<Y.za-Y.T&&37500>ut[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=$f($e(Y.Za,Y),6e3));if(1>=yd(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Vl(Y,11)}else if((E.K||Y.g==E)&&Du(Y),!ir(j))for(ut=Y.Da.g.parse(j),j=0;j<ut.length;j++){let ki=ut[j];if(Y.T=ki[0],ki=ki[1],2==Y.G)if("c"==ki[0]){Y.K=ki[1],Y.ia=ki[2];const Bo=ki[3];null!=Bo&&(Y.la=Bo,Y.j.info("VER="+Y.la));const Yi=ki[4];null!=Yi&&(Y.Aa=Yi,Y.j.info("SVER="+Y.Aa));const Bl=ki[5];null!=Bl&&"number"==typeof Bl&&0<Bl&&(Y.L=ge=1.5*Bl,Y.j.info("backChannelRequestTimeoutMs_="+ge)),ge=Y;const Fa=E.g;if(Fa){const Tg=Fa.g?Fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tg){var Dt=ge.h;Dt.g||-1==Tg.indexOf("spdy")&&-1==Tg.indexOf("quic")&&-1==Tg.indexOf("h2")||(Dt.j=Dt.l,Dt.g=new Set,Dt.h&&(ba(Dt,Dt.h),Dt.h=null))}if(ge.D){const Bm=Fa.g?Fa.g.getResponseHeader("X-HTTP-Session-Id"):null;Bm&&(ge.ya=Bm,os(ge.I,ge.D,Bm))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-E.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var Cn=E;if((ge=Y).qa=_y(ge,ge.J?ge.ia:null,ge.W),Cn.K){zi(ge.h,Cn);var Bi=Cn,xo=ge.L;xo&&(Bi.I=xo),Bi.B&&(ay(Bi),oy(Bi)),ge.g=Cn}else jh(ge);0<Y.i.length&&Vh(Y)}else"stop"!=ki[0]&&"close"!=ki[0]||Vl(Y,7);else 3==Y.G&&("stop"==ki[0]||"close"==ki[0]?"stop"==ki[0]?Vl(Y,7):Cg(Y):"noop"!=ki[0]&&Y.l&&Y.l.ta(ki),Y.v=0)}gg()}catch{}}function zf(E){this.l=E||10,E=x.PerformanceNavigationTiming?0<(E=x.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function yd(E){return E.h?1:E.g?E.g.size:0}function xh(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function ba(E,j){E.g?E.g.add(j):E.h=j}function zi(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function Ph(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const Y of E.g.values())j=j.concat(Y.D);return j}return cn(E.i)}function Ed(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var Y=function Mh(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var j=[];E=E.length;for(var Y=0;Y<E;Y++)j.push(Y);return j}j=[],Y=0;for(const ge in E)j[Y++]=ge;return j}}}(E),ge=function vd(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var j=[],Y=E.length,ge=0;ge<Y;ge++)j.push(E[ge]);return j}for(ge in j=[],Y=0,E)j[Y++]=E[ge];return j}(E),ut=ge.length,Dt=0;Dt<ut;Dt++)j.call(void 0,ge[Dt],Y&&Y[Dt],E)}bu.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==oa(E)?j.j():this.Y(E)},bu.prototype.Y=function(E){try{if(E==this.g)e:{const Yi=oa(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>Yi)&&(3!=Yi||this.g&&(this.h.h||this.g.oa()||ep(this.g)))){this.J||4!=Yi||7==j||gg(),ay(this);var Y=this.g.Z();this.X=Y;t:if(sy(this)){var ge=ep(this.g);E="";var ut=ge.length,Dt=4==oa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cu(this),yg(this);var Cn="";break t}this.h.i=new x.TextDecoder}for(j=0;j<ut;j++)this.h.h=!0,E+=this.h.i.decode(ge[j],{stream:!(Dt&&j==ut-1)});ge.length=0,this.h.g+=E,this.C=0,Cn=this.h.g}else Cn=this.g.oa();if(this.o=200==Y,function Pm(E,j,Y,ge,ut,Dt,Cn){E.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+ut+"]: "+j+"\n"+Y+"\n"+Dt+" "+Cn})}(this.i,this.u,this.A,this.l,this.R,Yi,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Bi,xo=this.g;if((Bi=xo.g?xo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(Bi)){var ki=Bi;break t}}ki=null}if(!(Y=ki)){this.o=!1,this.s=3,sa(12),Cu(this),yg(this);break e}Hf(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,Y)}if(this.P){let Fa;for(Y=!0;!this.J&&this.C<Cn.length;){if(Fa=Nv(this,Cn),Fa==Rm){4==Yi&&(this.s=4,sa(14),Y=!1),Hf(this.i,this.l,null,"[Incomplete Response]");break}if(Fa==ry){this.s=4,sa(15),Hf(this.i,this.l,Cn,"[Invalid Chunk]"),Y=!1;break}Hf(this.i,this.l,Fa,null),cy(this,Fa)}if(sy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Yi||0!=Cn.length||this.h.h||(this.s=1,sa(16),Y=!1),this.o=this.o&&Y,Y){if(0<Cn.length&&!this.W){this.W=!0;var Bo=this.j;Bo.g==this&&Bo.ba&&!Bo.M&&(Bo.j.info("Great, no buffering proxy detected. Bytes received: "+Cn.length),Bh(Bo),Bo.M=!0,sa(11))}}else Hf(this.i,this.l,Cn,"[Invalid Chunked Response]"),Cu(this),yg(this)}else Hf(this.i,this.l,Cn,null),cy(this,Cn);4==Yi&&Cu(this),this.o&&!this.J&&(4==Yi?$h(this.j,this):(this.o=!1,oy(this)))}else(function jv(E){const j={};E=(E.g&&2<=oa(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<E.length;ge++){if(ir(E[ge]))continue;var Y=ht(E[ge]);const ut=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const Dt=j[ut]||[];j[ut]=Dt,Dt.push(Y)}!function it(E,j){for(const Y in E)j.call(void 0,E[Y],Y,E)}(j,function(ge){return ge.join(", ")})})(this.g),400==Y&&0<Cn.indexOf("Unknown SID")?(this.s=3,sa(12)):(this.s=0,sa(13)),Cu(this),yg(this)}}}catch{}},bu.prototype.cancel=function(){this.J=!0,Cu(this)},bu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Sh(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(gg(),sa(17)),Cu(this),this.s=2,yg(this)):Gf(this,this.S-E)},zf.prototype.cancel=function(){if(this.i=Ph(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof qa){this.h=E.h,Ll(this,E.j),this.o=E.o,this.g=E.g,Wf(this,E.s),this.l=E.l;var j=E.i,Y=new Eg;Y.i=j.i,j.g&&(Y.g=new Map(j.g),Y.h=j.h),Om(this,Y),this.m=E.m}else E&&(j=String(E).match(bd))?(this.h=!1,Ll(this,j[1]||"",!0),this.o=Oh(j[2]||""),this.g=Oh(j[3]||"",!0),Wf(this,j[4]),this.l=Oh(j[5]||"",!0),Om(this,j[6]||"",!0),this.m=Oh(j[7]||"")):(this.h=!1,this.i=new Eg(null,this.h))}function Ca(E){return new qa(E)}function Ll(E,j,Y){E.j=Y?Oh(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function Wf(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function Om(E,j,Y){j instanceof Eg?(E.i=j,function Lv(E,j){j&&!E.j&&(Tu(E),E.i=null,E.g.forEach(function(Y,ge){var ut=ge.toLowerCase();ge!=ut&&(dy(this,ge),hy(this,ut,Y))},E)),E.j=j}(E.i,E.h)):(Y||(j=Nh(j,kv)),E.i=new Eg(j,E.h))}function os(E,j,Y){E.i.set(j,Y)}function vg(E){return os(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Oh(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Nh(E,j,Y){return"string"==typeof E?(E=encodeURI(E).replace(j,ly),Y&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ly(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}qa.prototype.toString=function(){var E=[],j=this.j;j&&E.push(Nh(j,Nm,!0),":");var Y=this.g;return(Y||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(Nh(j,Nm,!0),"@"),E.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&E.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&E.push("/"),E.push(Nh(Y,"/"==Y.charAt(0)?km:uy,!0))),(Y=this.i.toString())&&E.push("?",Y),(Y=this.m)&&E.push("#",Nh(Y,L0)),E.join("")};var E,Nm=/[#\/\?@]/g,uy=/[#\?:]/g,km=/[#\?]/g,kv=/[#\?@]/g,L0=/#/g;function Eg(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function Tu(E){E.g||(E.g=new Map,E.h=0,E.i&&function Rh(E,j){if(E){E=E.split("&");for(var Y=0;Y<E.length;Y++){var ge=E[Y].indexOf("="),ut=null;if(0<=ge){var Dt=E[Y].substring(0,ge);ut=E[Y].substring(ge+1)}else Dt=E[Y];j(Dt,ut?decodeURIComponent(ut.replace(/\+/g," ")):"")}}}(E.i,function(j,Y){E.add(decodeURIComponent(j.replace(/\+/g," ")),Y)}))}function dy(E,j){Tu(E),j=Kf(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function Fv(E,j){return Tu(E),j=Kf(E,j),E.g.has(j)}function hy(E,j,Y){dy(E,j),0<Y.length&&(E.i=null,E.g.set(Kf(E,j),cn(Y)),E.h+=Y.length)}function Kf(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function Xc(E,j,Y,ge,ut){try{ut&&(ut.onload=null,ut.onerror=null,ut.onabort=null,ut.ontimeout=null),ge(Y)}catch{}}function qf(){this.g=new xv}function Fm(E,j,Y){const ge=Y||"";try{Ed(E,function(ut,Dt){let Cn=ut;q(ut)&&(Cn=J_(ut)),j.push(ge+Dt+"="+encodeURIComponent(Cn))})}catch(ut){throw j.push(ge+"type="+encodeURIComponent("_badmap")),ut}}function Iu(E){this.l=E.Ub||null,this.j=E.eb||!1}function Yf(E,j){ia.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Xf(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function kh(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Qf(E)}function Qf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Na(E){let j="";return ri(E,function(Y,ge){j+=ge,j+=":",j+=Y,j+="\r\n"}),j}function bg(E,j,Y){e:{for(ge in Y){var ge=!1;break e}ge=!0}ge||(Y=Na(Y),"string"==typeof E?null!=Y&&encodeURIComponent(String(Y)):os(E,j,Y))}function ws(E){ia.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=Eg.prototype).add=function(E,j){Tu(this),this.i=null,E=Kf(this,E);var Y=this.g.get(E);return Y||this.g.set(E,Y=[]),Y.push(j),this.h+=1,this},d.forEach=function(E,j){Tu(this),this.g.forEach(function(Y,ge){Y.forEach(function(ut){E.call(j,ut,ge,this)},this)},this)},d.na=function(){Tu(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),Y=[];for(let ge=0;ge<j.length;ge++){const ut=E[ge];for(let Dt=0;Dt<ut.length;Dt++)Y.push(j[ge])}return Y},d.V=function(E){Tu(this);let j=[];if("string"==typeof E)Fv(this,E)&&(j=j.concat(this.g.get(Kf(this,E))));else{E=Array.from(this.g.values());for(let Y=0;Y<E.length;Y++)j=j.concat(E[Y])}return j},d.set=function(E,j){return Tu(this),this.i=null,Fv(this,E=Kf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var Y=0;Y<j.length;Y++){var ge=j[Y];const Dt=encodeURIComponent(String(ge)),Cn=this.V(ge);for(ge=0;ge<Cn.length;ge++){var ut=Dt;""!==Cn[ge]&&(ut+="="+encodeURIComponent(String(Cn[ge]))),E.push(ut)}}return this.i=E.join("&")},jt(Iu,Am),Iu.prototype.g=function(){return new Yf(this.l,this.j)},Iu.prototype.i=(E={},function(){return E}),jt(Yf,ia),(d=Yf.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,Qf(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||x).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kh(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xf(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?kh(this):Qf(this),3==this.readyState&&Xf(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,kh(this))},d.Qa=function(E){this.g&&(this.response=E,kh(this))},d.ga=function(){this.g&&kh(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var Y=j.next();!Y.done;)E.push((Y=Y.value)[0]+": "+Y[1]),Y=j.next();return E.join("\r\n")},Object.defineProperty(Yf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),jt(ws,ia);var Lm=/^https?$/i,Vm=["POST","PUT"];function jo(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,Fh(E),Zf(E)}function Fh(E){E.A||(E.A=!0,So(E,"complete"),So(E,"error"))}function Jf(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=oa(E)||2!=E.Z()))if(E.u&&4==oa(E))Y_(E.Ea,0,E);else if(So(E,"readystatechange"),4==oa(E)){E.h=!1;try{const Cn=E.Z();e:switch(Cn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var Y;if(!(Y=j)){var ge;if(ge=0===Cn){var ut=String(E.D).match(bd)[1]||null;!ut&&x.self&&x.self.location&&(ut=x.self.location.protocol.slice(0,-1)),ge=!Lm.test(ut?ut.toLowerCase():"")}Y=ge}if(Y)So(E,"complete"),So(E,"success");else{E.m=6;try{var Dt=2<oa(E)?E.g.statusText:""}catch{Dt=""}E.l=Dt+" ["+E.Z()+"]",Fh(E)}}finally{Zf(E)}}}function Zf(E,j){if(E.g){fy(E);const Y=E.g,ge=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||So(E,"ready");try{Y.onreadystatechange=ge}catch{}}}function fy(E){E.I&&(x.clearTimeout(E.I),E.I=null)}function oa(E){return E.g?E.g.readyState:0}function ep(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function tp(E,j,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[E]||j}function py(E){this.Aa=0,this.i=[],this.j=new _d,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tp("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tp("baseRetryDelayMs",5e3,E),this.cb=tp("retryDelaySeedMs",1e4,E),this.Wa=tp("forwardChannelMaxRetries",2,E),this.wa=tp("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new zf(E&&E.concurrentRequestLimit),this.Da=new qf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Cg(E){if(gy(E),3==E.G){var j=E.U++,Y=Ca(E.I);if(os(Y,"SID",E.K),os(Y,"RID",j),os(Y,"TYPE","terminate"),Uh(E,Y),(j=new bu(E,E.j,j)).L=2,j.v=vg(Ca(Y)),Y=!1,x.navigator&&x.navigator.sendBeacon)try{Y=x.navigator.sendBeacon(j.v.toString(),"")}catch{}!Y&&x.Image&&((new Image).src=j.v,Y=!0),Y||(j.g=Ul(j.j,null),j.g.ea(j.v)),j.F=Date.now(),oy(j)}np(E)}function Lh(E){E.g&&(Bh(E),E.g.cancel(),E.g=null)}function gy(E){Lh(E),E.u&&(x.clearTimeout(E.u),E.u=null),Du(E),E.h.cancel(),E.s&&("number"==typeof E.s&&x.clearTimeout(E.s),E.s=null)}function Vh(E){if(!Uo(E.h)&&!E.s){E.s=!0;var j=E.Ga;Lf||bm(),cg||(Lf(),cg=!0),H_.add(j,E),E.B=0}}function my(E,j){var Y;Y=j?j.l:E.U++;const ge=Ca(E.I);os(ge,"SID",E.K),os(ge,"RID",Y),os(ge,"AID",E.T),Uh(E,ge),E.m&&E.o&&bg(ge,E.m,E.o),Y=new bu(E,E.j,Y,E.B+1),null===E.m&&(Y.H=E.o),j&&(E.i=j.D.concat(E.i)),j=jm(E,Y,1e3),Y.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),ba(E.h,Y),iy(Y,ge,j)}function Uh(E,j){E.H&&ri(E.H,function(Y,ge){os(j,ge,Y)}),E.l&&Ed({},function(Y,ge){os(j,ge,Y)})}function jm(E,j,Y){Y=Math.min(E.i.length,Y);var ge=E.l?$e(E.l.Na,E.l,E):null;e:{var ut=E.i;let Dt=-1;for(;;){const Cn=["count="+Y];-1==Dt?0<Y?(Dt=ut[0].g,Cn.push("ofs="+Dt)):Dt=0:Cn.push("ofs="+Dt);let Bi=!0;for(let xo=0;xo<Y;xo++){let ki=ut[xo].g;const Bo=ut[xo].map;if(ki-=Dt,0>ki)Dt=Math.max(0,ut[xo].g-100),Bi=!1;else try{Fm(Bo,Cn,"req"+ki+"_")}catch{ge&&ge(Bo)}}if(Bi){ge=Cn.join("&");break e}}}return E=E.i.splice(0,Y),j.D=E,ge}function jh(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;Lf||bm(),cg||(Lf(),cg=!0),H_.add(j,E),E.v=0}}function wu(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=$f($e(E.Fa,E),mc(E,E.v)),E.v++,0))}function Bh(E){null!=E.A&&(x.clearTimeout(E.A),E.A=null)}function Au(E){E.g=new bu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=Ca(E.qa);os(j,"RID","rpc"),os(j,"SID",E.K),os(j,"AID",E.T),os(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&os(j,"TO",E.ja),os(j,"TYPE","xmlhttp"),Uh(E,j),E.m&&E.o&&bg(j,E.m,E.o),E.L&&(E.g.I=E.L);var Y=E.g;E=E.ia,Y.L=1,Y.v=vg(Ca(j)),Y.m=null,Y.P=!0,F0(Y,E)}function Du(E){null!=E.C&&(x.clearTimeout(E.C),E.C=null)}function $h(E,j){var Y=null;if(E.g==j){Du(E),Bh(E),E.g=null;var ge=2}else{if(!xh(E.h,j))return;Y=j.D,zi(E.h,j),ge=1}if(0!=E.G)if(j.o)if(1==ge){Y=j.m?j.m.length:0,j=Date.now()-j.F;var ut=E.B;So(ge=Sm(),new ty(ge,Y)),Vh(E)}else jh(E);else if(3==(ut=j.s)||0==ut&&0<j.X||!(1==ge&&function Um(E,j){return!(yd(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=$f($e(E.Ga,E,j),mc(E,E.B)),E.B++,0)))}(E,j)||2==ge&&wu(E)))switch(Y&&0<Y.length&&(j=E.h,j.i=j.i.concat(Y)),ut){case 1:Vl(E,5);break;case 4:Vl(E,10);break;case 3:Vl(E,6);break;default:Vl(E,2)}}function mc(E,j){let Y=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Y*=2),Y*j}function Vl(E,j){if(E.j.info("Error code "+j),2==j){var Y=$e(E.fb,E),ge=E.Xa;const ut=!ge;ge=new qa(ge||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Ll(ge,"https"),vg(ge),ut?function Vv(E,j){const Y=new _d;if(x.Image){const ge=new Image;ge.onload=vt(Xc,Y,"TestLoadImage: loaded",!0,j,ge),ge.onerror=vt(Xc,Y,"TestLoadImage: error",!1,j,ge),ge.onabort=vt(Xc,Y,"TestLoadImage: abort",!1,j,ge),ge.ontimeout=vt(Xc,Y,"TestLoadImage: timeout",!1,j,ge),x.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=E}else j(!1)}(ge.toString(),Y):function Uv(E,j){new _d;const ge=new AbortController,ut=setTimeout(()=>{ge.abort(),Xc(0,0,!1,j)},1e4);fetch(E,{signal:ge.signal}).then(Dt=>{clearTimeout(ut),Xc(0,0,!!Dt.ok,j)}).catch(()=>{clearTimeout(ut),Xc(0,0,!1,j)})}(ge.toString(),Y)}else sa(2);E.G=0,E.l&&E.l.sa(j),np(E),gy(E)}function np(E){if(E.G=0,E.ka=[],E.l){const j=Ph(E.h);(0!=j.length||0!=E.i.length)&&(Jt(E.ka,j),Jt(E.ka,E.i),E.h.i.length=0,cn(E.i),E.i.length=0),E.l.ra()}}function _y(E,j,Y){var ge=Y instanceof qa?Ca(Y):new qa(Y);if(""!=ge.g)j&&(ge.g=j+"."+ge.g),Wf(ge,ge.s);else{var ut=x.location;ge=ut.protocol,j=j?j+"."+ut.hostname:ut.hostname,ut=+ut.port;var Dt=new qa(null);ge&&Ll(Dt,ge),j&&(Dt.g=j),ut&&Wf(Dt,ut),Y&&(Dt.l=Y),ge=Dt}return j=E.ya,(Y=E.D)&&j&&os(ge,Y,j),os(ge,"VER",E.la),Uh(E,ge),ge}function Ul(E,j,Y){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new ws(E.Ca&&!E.pa?new Iu({eb:Y}):E.pa)).Ha(E.J),j}function Hh(){}function Gh(){}function aa(E,j){ia.call(this),this.g=new py(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!ir(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!ir(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new ka(this)}function jl(E){Dm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const Y in j){E=Y;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function _c(){Z_.call(this),this.status=1}function ka(E){this.g=E}(d=ws.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,Y,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mm.g(),this.v=function Uf(E){return E.h||(E.h=E.i())}(this.o?this.o:Mm),this.g.onreadystatechange=$e(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(Dt){return void jo(this,Dt)}if(E=Y||"",Y=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var ut in ge)Y.set(ut,ge[ut]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const Dt of ge.keys())Y.set(Dt,ge.get(Dt))}ge=Array.from(Y.keys()).find(Dt=>"content-type"==Dt.toLowerCase()),ut=x.FormData&&E instanceof x.FormData,!(0<=Array.prototype.indexOf.call(Vm,j,void 0))||ge||ut||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Dt,Cn]of Y)this.g.setRequestHeader(Dt,Cn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fy(this),this.u=!0,this.g.send(E),this.u=!1}catch(Dt){jo(this,Dt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,So(this,"complete"),So(this,"abort"),Zf(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zf(this,!0)),ws.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Jf(this):this.bb())},d.bb=function(){Jf(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<oa(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),k0(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=py.prototype).la=8,d.G=1,d.connect=function(E,j,Y,ge){sa(0),this.W=E,this.H=j||{},Y&&void 0!==ge&&(this.H.OSID=Y,this.H.OAID=ge),this.F=this.X,this.I=_y(this,null,this.W),Vh(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const ut=new bu(this,this.j,E);let Dt=this.o;if(this.S&&(Dt?(Dt=ke(Dt),st(Dt,this.S)):Dt=this.S),null!==this.m||this.O||(ut.H=Dt,Dt=null),this.P)e:{for(var j=0,Y=0;Y<this.i.length;Y++){var ge=this.i[Y];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(j+=ge)){j=Y;break e}if(4096===j||Y===this.i.length-1){j=Y+1;break e}}j=1e3}else j=1e3;j=jm(this,ut,j),os(Y=Ca(this.I),"RID",E),os(Y,"CVER",22),this.D&&os(Y,"X-HTTP-Session-Id",this.D),Uh(this,Y),Dt&&(this.O?j="headers="+encodeURIComponent(String(Na(Dt)))+"&"+j:this.m&&bg(Y,this.m,Dt)),ba(this.h,ut),this.Ua&&os(Y,"TYPE","init"),this.P?(os(Y,"$req",j),os(Y,"SID","null"),ut.T=!0,iy(ut,Y,null)):iy(ut,Y,j),this.G=2}}else 3==this.G&&(E?my(this,E):0==this.i.length||Uo(this.h)||my(this))},d.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=$f($e(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sa(10),Lh(this),Au(this))},d.Za=function(){null!=this.C&&(this.C=null,Lh(this),wu(this),sa(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),sa(2)):(this.j.info("Failed to ping google.com"),sa(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=Hh.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Gh.prototype.g=function(E,j){return new aa(E,j)},jt(aa,ia),aa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},aa.prototype.close=function(){Cg(this.g)},aa.prototype.o=function(E){var j=this.g;if("string"==typeof E){var Y={};Y.__data__=E,E=Y}else this.u&&((Y={}).__data__=J_(E),E=Y);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&Vh(j)},aa.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,aa.aa.N.call(this)},jt(jl,Dm),jt(_c,Z_),jt(ka,Hh),ka.prototype.ua=function(){So(this.g,"a")},ka.prototype.ta=function(E){So(this.g,new jl(E))},ka.prototype.sa=function(E){So(this.g,new _c)},ka.prototype.ra=function(){So(this.g,"b")},Gh.prototype.createWebChannel=Gh.prototype.g,aa.prototype.send=aa.prototype.o,aa.prototype.open=aa.prototype.m,aa.prototype.close=aa.prototype.close,He=ae.createWebChannelTransport=function(){return new Gh},rn=ae.getStatEventTarget=function(){return Sm()},St=ae.Event=Dh,Rt=ae.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mg.NO_ERROR=0,mg.TIMEOUT=8,mg.HTTP_ERROR=6,ot=ae.ErrorCode=mg,ny.COMPLETE="complete",_t=ae.EventType=ny,Pv.EventType=jf,jf.OPEN="a",jf.CLOSE="b",jf.ERROR="c",jf.MESSAGE="d",ia.prototype.listen=ia.prototype.K,je=ae.WebChannel=Pv,ae.FetchXmlHttpFactory=Iu,ws.prototype.listenOnce=ws.prototype.L,ws.prototype.getLastError=ws.prototype.Ka,ws.prototype.getLastErrorCode=ws.prototype.Ba,ws.prototype.getStatus=ws.prototype.Z,ws.prototype.getResponseJson=ws.prototype.Oa,ws.prototype.getResponseText=ws.prototype.oa,ws.prototype.send=ws.prototype.ea,ws.prototype.setWithCredentials=ws.prototype.Ha,_e=ae.XhrIo=ws}).apply(typeof ne<"u"?ne:typeof self<"u"?self:typeof window<"u"?window:{});const pe="@firebase/firestore";class Ke{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Re="10.14.0";const Xe=new Ce.Vy("@firebase/firestore");function yt(){return Xe.logLevel}function Mt(d){Xe.setLogLevel(d)}function we(d,...e){if(Xe.logLevel<=Ce.$b.DEBUG){const r=e.map(or);Xe.debug(`Firestore (${Re}): ${d}`,...r)}}function Zt(d,...e){if(Xe.logLevel<=Ce.$b.ERROR){const r=e.map(or);Xe.error(`Firestore (${Re}): ${d}`,...r)}}function fn(d,...e){if(Xe.logLevel<=Ce.$b.WARN){const r=e.map(or);Xe.warn(`Firestore (${Re}): ${d}`,...r)}}function or(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function xt(d="Unexpected state"){const e=`FIRESTORE (${Re}) INTERNAL ASSERTION FAILED: `+d;throw Zt(e),new Error(e)}function Vt(d,e){d||xt()}function zt(d,e){d||xt()}function dt(d,e){return d}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends me.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Be{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ke.UNAUTHENTICATED))}shutdown(){}}class be{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ve{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;Vt(void 0===this.o);let h=this.i;const _=q=>this.i!==h?(h=this.i,r(q)):Promise.resolve();let b=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Xt,e.enqueueRetryable(()=>_(this.currentUser))};const x=()=>{const q=b;e.enqueueRetryable((0,o.A)(function*(){yield q.promise,yield _(a.currentUser)}))},F=q=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(q=>F(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?F(q):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Xt)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Vt("string"==typeof a.accessToken),new Be(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new Ke(e)}}class nt{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ze{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new nt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ot{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Vt(void 0===this.o);const a=_=>{null!=_.error&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,we("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const h=_=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Vt("string"==typeof r.token),this.R=r.token,new Ot(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class kn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=tn(40);for(let _=0;_<h.length;++_)a.length<20&&h[_]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return a}}function Kt(d,e){return d<e?-1:d>e?1:0}function Vn(d,e,r){return d.length===e.length&&d.every((a,h)=>r(a,e[h]))}function pn(d){return d+"\0"}class Bt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new et(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new et(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new et(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Bt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Bt(0,0))}static max(){return new Ft(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gr{constructor(e,r,a){void 0===r?r=0:r>e.length&&xt(),void 0===a?a=e.length-r:a>e.length-r&&xt(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===gr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const _=e.get(h),b=r.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class sn extends gr{construct(e,r,a){return new sn(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(Le.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new sn(r)}static emptyPath(){return new sn([])}}const Pr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends gr{construct(e,r,a){return new Wn(e,r,a)}static isValidIdentifier(e){return Pr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const _=()=>{if(0===a.length)throw new et(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const x=e[h];if("\\"===x){if(h+1===e.length)throw new et(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new et(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=F,h+=2}else"`"===x?(b=!b,h++):"."!==x||b?(a+=x,h++):(_(),h++)}if(_(),b)throw new et(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(r)}static emptyPath(){return new Wn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(sn.fromString(e))}static fromName(e){return new Ut(sn.fromString(e).popFirst(5))}static empty(){return new Ut(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return sn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new sn(e.slice()))}}class bn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Un(d){return d.fields.find(e=>2===e.kind)}function In(d){return d.fields.filter(e=>2!==e.kind)}bn.UNKNOWN_ID=-1;class Dr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Bn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Bn(0,un.min())}}function ui(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=Ft.fromTimestamp(1e9===a?new Bt(r+1,0):new Bt(r,a));return new un(h,Ut.empty(),e)}function Xi(d){return new un(d.readTime,d.key,-1)}class un{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new un(Ft.min(),Ut.empty(),-1)}static max(){return new un(Ft.max(),Ut.empty(),-1)}}function Qr(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ut.comparator(d.documentKey,e.documentKey),0!==r?r:Kt(d.largestBatchId,e.largestBatchId))}const Yn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class br{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function jn(d){return Di.apply(this,arguments)}function Di(){return(Di=(0,o.A)(function*(d){if(d.code!==Le.FAILED_PRECONDITION||d.message!==Yn)throw d;we("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new tt((a,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,h)},this.catchCallback=_=>{this.wrapFailure(r,_).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof tt?r:tt.resolve(r)}catch(r){return tt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.reject(r)}static resolve(e){return new tt((r,a)=>{r(e)})}static reject(e){return new tt((r,a)=>{a(e)})}static waitFor(e){return new tt((r,a)=>{let h=0,_=0,b=!1;e.forEach(x=>{++h,x.next(()=>{++_,b&&_===h&&r()},F=>a(F))}),b=!0,_===h&&r()})}static or(e){let r=tt.resolve(!1);for(const a of e)r=r.next(h=>h?tt.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,_)=>{a.push(r.call(this,h,_))}),this.waitFor(a)}static mapArray(e,r){return new tt((a,h)=>{const _=e.length,b=new Array(_);let x=0;for(let F=0;F<_;F++){const q=F;r(e[q]).next(oe=>{b[q]=oe,++x,x===_&&a(b)},oe=>h(oe))}})}static doWhile(e,r){return new tt((a,h)=>{const _=()=>{!0===e()?r().next(()=>{_()},h):a()};_()})}}class gt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Xt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Gt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=Ct(a.target.error);this.V.reject(new Gt(e,h))}}static open(e,r,a,h){try{return new gt(r,e.transaction(h,a))}catch(_){throw new Gt(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new kr(r)}}class he{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===he.S((0,me.ZQ)())&&Zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),Cr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.zW)())return!1;if(he.v())return!0;const e=(0,me.ZQ)(),r=he.S(e),a=0<r&&r<10,h=Me(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(we("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=b=>{a(b.target.result)},_.onblocked=()=>{h(new Gt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const x=b.target.error;h("VersionError"===x.name?new et(Le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new et(Le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Gt(e,x))},_.onupgradeneeded=b=>{we("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,_.transaction,b.oldVersion,r.version).next(()=>{we("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var _=this;return(0,o.A)(function*(){const b="readonly"===r;let x=0;for(;;){++x;try{_.db=yield _.M(e);const F=gt.open(_.db,e,b?"readonly":"readwrite",a),q=h(F).next(oe=>(F.g(),oe)).catch(oe=>(F.abort(oe),tt.reject(oe))).toPromise();return q.catch(()=>{}),yield F.m,q}catch(F){const q=F,oe="FirebaseError"!==q.name&&x<3;if(we("SimpleDb","Transaction failed with error:",q.message,"Retrying:",oe),_.close(),!oe)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Me(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Et{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Cr(this.B.delete())}}class Gt extends et{constructor(e,r){super(Le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ln(d){return"IndexedDbTransactionError"===d.name}class kr{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(we("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Cr(a)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),Cr(this.store.add(e))}get(e){return Cr(this.store.get(e)).next(r=>(void 0===r&&(r=null),we("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),Cr(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),Cr(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(a.range);return new tt((b,x)=>{_.onerror=F=>{x(F.target.error)},_.onsuccess=F=>{b(F.target.result)}})}{const _=this.cursor(a),b=[];return this.W(_,(x,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new tt((h,_)=>{a.onerror=b=>{_(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){we("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(_,b,x)=>x.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new tt((a,h)=>{r.onerror=_=>{const b=Ct(_.target.error);h(b)},r.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():a()}):a()}})}W(e,r){const a=[];return new tt((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void h();const F=new Et(x),q=r(x.primaryKey,x.value,F);if(q instanceof tt){const oe=q.catch(ve=>(F.done(),tt.reject(ve)));a.push(oe)}F.isDone?h():null===F.K?x.continue():x.continue(F.K)}}).next(()=>tt.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Cr(d){return new tt((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=Ct(a.target.error);r(h)}})}let bi=!1;function Ct(d){const e=he.S((0,me.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bi||(bi=!0,setTimeout(()=>{throw a},0)),a}}return d}class H{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{we("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Ln(a)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield jn(a)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,_=!0;return tt.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return we("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(x=>{h-=x,a.add(b)});_=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(x=>(we("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,_)=>{const b=Xi(_);Qr(b,a)>0&&(a=b)}),new un(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function B(d){return null==d}function ie(d){return 0===d&&1/d==-1/0}function ee(d){return"number"==typeof d&&Number.isInteger(d)&&!ie(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function ye(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=en(e)),e=at(d.get(r),e);return en(e)}function at(d,e){let r=e;const a=d.length;for(let h=0;h<a;h++){const _=d.charAt(h);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function en(d){return d+"\x01\x01"}function _n(d){const e=d.length;if(Vt(e>=2),2===e)return Vt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),sn.emptyPath();const r=e-2,a=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>r)&&xt(),d.charAt(b+1)){case"\x01":const x=d.substring(_,b);let F;0===h.length?F=x:(h+=x,F=h,h=""),a.push(F);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:xt()}_=b+2}return new sn(a)}const Er=["userId","batchId"];function on(d,e){return[d,ye(e)]}function $r(d,e,r){return[d,ye(e),r]}const fr={},Vs=["prefixPath","collectionGroup","readTime","documentId"],Ci=["prefixPath","collectionGroup","documentId"],Wi=["collectionGroup","readTime","prefixPath","documentId"],Fi=["canonicalId","targetId"],Ti=["targetId","path"],nr=["path","targetId"],Us=["collectionId","parent"],Tt=["indexId","uid"],rt=["uid","sequenceNumber"],Pt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],an=["indexId","uid","orderedDocumentKey"],Fn=["userId","collectionPath","documentId"],xn=["userId","collectionPath","largestBatchId"],cr=["userId","collectionGroup","largestBatchId"],Vr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wr=[...Vr,"documentOverlays"],Tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ki=Tr,Rs=[...Ki,"indexConfiguration","indexState","indexEntries"],Zi=Rs,Mo=[...Rs,"globals"];class Ro extends br{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Hi(d,e){const r=dt(d);return he.F(r._e,e)}function Ho(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function si(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function gs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Kr{constructor(e,r){this.comparator=e,this.root=r||Mi.EMPTY}insert(e,r){return new Kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qi(this.root,e,this.comparator,!1)}getReverseIterator(){return new qi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qi(this.root,e,this.comparator,!0)}}class qi{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?a(e.key,r):1,r&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,r,a,h,_){this.key=e,this.value=r,this.color=a??Mi.RED,this.left=h??Mi.EMPTY,this.right=_??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,_){return new Mi(e??this.key,r??this.value,a??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const _=a(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===_?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Mi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,r,a,h,_){return this}insert(e,r,a){return new Mi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ho(this.data.getIterator())}getIteratorFrom(e){return new ho(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=a.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ir(this.comparator);return r.data=e,r}}class ho{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oo(d){return d.hasNext()?d.getNext():void 0}class di{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new di([])}unionWith(e){let r=new Ir(Wn.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new di(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vn(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class Va extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ya(){return typeof atob<"u"}class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new Va("Invalid base64 string: "+_):_}}(e);return new Si(r)}static fromUint8Array(e){const r=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new Si(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const Ta=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(d){if(Vt(!!d),"string"==typeof d){let e=0;const r=Ta.exec(d);if(Vt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Jr(d.seconds),nanos:Jr(d.nanos)}}function Jr(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function js(d){return"string"==typeof d?Si.fromBase64String(d):Si.fromUint8Array(d)}function Bs(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function vo(d){const e=d.mapValue.fields.__previous_value__;return Bs(e)?vo(e):e}function $s(d){const e=Js(d.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}class Sr{constructor(e,r,a,h,_,b,x,F,q){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.longPollingOptions=F,this.useFetchStreams=q}}class hi{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new hi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hi&&e.projectId===this.projectId&&e.database===this.database}}const Ii={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Os={nullValue:"NULL_VALUE"};function fi(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Bs(d)?4:$n(d)?9007199254740991:Zr(d)?10:11:xt()}function cs(d,e){if(d===e)return!0;const r=fi(d);if(r!==fi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return $s(d).isEqual($s(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=Js(h.timestampValue),x=Js(_.timestampValue);return b.seconds===x.seconds&&b.nanos===x.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,js(d.bytesValue).isEqual(js(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return Jr(h.geoPointValue.latitude)===Jr(_.geoPointValue.latitude)&&Jr(h.geoPointValue.longitude)===Jr(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return Jr(h.integerValue)===Jr(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=Jr(h.doubleValue),x=Jr(_.doubleValue);return b===x?ie(b)===ie(x):isNaN(b)&&isNaN(x)}return!1}(d,e);case 9:return Vn(d.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},x=_.mapValue.fields||{};if(Ho(b)!==Ho(x))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===x[F]||!cs(b[F],x[F])))return!1;return!0}(d,e);default:return xt()}var _}function fo(d,e){return void 0!==(d.values||[]).find(r=>cs(r,e))}function ts(d,e){if(d===e)return 0;const r=fi(d),a=fi(e);if(r!==a)return Kt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Kt(d.booleanValue,e.booleanValue);case 2:return function(_,b){const x=Jr(_.integerValue||_.doubleValue),F=Jr(b.integerValue||b.doubleValue);return x<F?-1:x>F?1:x===F?0:isNaN(x)?isNaN(F)?0:-1:1}(d,e);case 3:return As(d.timestampValue,e.timestampValue);case 4:return As($s(d),$s(e));case 5:return Kt(d.stringValue,e.stringValue);case 6:return function(_,b){const x=js(_),F=js(b);return x.compareTo(F)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const x=_.split("/"),F=b.split("/");for(let q=0;q<x.length&&q<F.length;q++){const oe=Kt(x[q],F[q]);if(0!==oe)return oe}return Kt(x.length,F.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const x=Kt(Jr(_.latitude),Jr(b.latitude));return 0!==x?x:Kt(Jr(_.longitude),Jr(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Hs(d.arrayValue,e.arrayValue);case 10:return function(_,b){var x,F,q,oe;const vt=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,jt=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,cn=Kt((null===(q=vt?.values)||void 0===q?void 0:q.length)||0,(null===(oe=jt?.values)||void 0===oe?void 0:oe.length)||0);return 0!==cn?cn:Hs(vt,jt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Ii.mapValue&&b===Ii.mapValue)return 0;if(_===Ii.mapValue)return 1;if(b===Ii.mapValue)return-1;const x=_.fields||{},F=Object.keys(x),q=b.fields||{},oe=Object.keys(q);F.sort(),oe.sort();for(let ve=0;ve<F.length&&ve<oe.length;++ve){const $e=Kt(F[ve],oe[ve]);if(0!==$e)return $e;const vt=ts(x[F[ve]],q[oe[ve]]);if(0!==vt)return vt}return Kt(F.length,oe.length)}(d.mapValue,e.mapValue);default:throw xt()}}function As(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Kt(d,e);const r=Js(d),a=Js(e),h=Kt(r.seconds,a.seconds);return 0!==h?h:Kt(r.nanos,a.nanos)}function Hs(d,e){const r=d.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const _=ts(r[h],a[h]);if(_)return _}return Kt(r.length,a.length)}function oi(d){return hn(d)}function hn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=Js(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?js(d.bytesValue).toBase64():"referenceValue"in d?Ut.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",h=!0;for(const _ of r.values||[])h?h=!1:a+=",",a+=hn(_);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",_=!0;for(const b of a)_?_=!1:h+=",",h+=`${b}:${hn(r.fields[b])}`;return h+"}"}(d.mapValue):xt()}function lr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function ns(d){return!!d&&"integerValue"in d}function ls(d){return!!d&&"arrayValue"in d}function Or(d){return!!d&&"nullValue"in d}function Ri(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function mr(d){return!!d&&"mapValue"in d}function Zr(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function us(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return si(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=us(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=us(d.arrayValue.values[r]);return e}return Object.assign({},d)}function $n(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ui={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function rs(d){return"nullValue"in d?Os:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?lr(hi.empty(),Ut.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?Zr(d)?Ui:{mapValue:{}}:xt()}function te(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?lr(hi.empty(),Ut.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?Ui:"mapValue"in d?Zr(d)?{mapValue:{}}:Ii:xt()}function J(d,e){const r=ts(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Te(d,e){const r=ts(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Oe{constructor(e){this.value=e}static empty(){return new Oe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!mr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=us(r)}setAll(e){let r=Wn.emptyPath(),a={},h=[];e.forEach((b,x)=>{if(!r.isImmediateParentOf(x)){const F=this.getFieldsMap(r);this.applyChanges(F,a,h),a={},h=[],r=x.popLast()}b?a[x.lastSegment()]=us(b):h.push(x.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,a,h)}delete(e){const r=this.field(e.popLast());mr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];mr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){si(r,(h,_)=>e[h]=_);for(const h of a)delete e[h]}clone(){return new Oe(us(this.value))}}function Qe(d){const e=[];return si(d.fields,(r,a)=>{const h=new Wn([r]);if(mr(a)){const _=Qe(a.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new di(e)}class mt{constructor(e,r,a,h,_,b,x){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=_,this.data=b,this.documentState=x}static newInvalidDocument(e){return new mt(e,0,Ft.min(),Ft.min(),Ft.min(),Oe.empty(),0)}static newFoundDocument(e,r,a,h){return new mt(e,1,r,Ft.min(),a,h,0)}static newNoDocument(e,r){return new mt(e,2,r,Ft.min(),Ft.min(),Oe.empty(),0)}static newUnknownDocument(e,r){return new mt(e,3,r,Ft.min(),Ft.min(),Oe.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qt{constructor(e,r){this.position=e,this.inclusive=r}}function An(d,e,r){let a=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(a=_.field.isKeyField()?Ut.comparator(Ut.fromName(b.referenceValue),r.key):ts(b,r.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function gn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!cs(d.position[r],e.position[r]))return!1;return!0}class zn{constructor(e,r="asc"){this.field=e,this.dir=r}}function wr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Rn{}class On extends Rn{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new Hr(e,r,a):"array-contains"===r?new Gs(e,a):"in"===r?new to(e,a):"not-in"===r?new Ia(e,a):"array-contains-any"===r?new ua(e,a):new On(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new Eo(e,a):new wi(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ts(r,this.value)):null!==r&&fi(this.value)===fi(r)&&this.matchesComparison(ts(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Rn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Xn(e,r)}matches(e){return pi(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pi(d){return"and"===d.op}function qr(d){return"or"===d.op}function Ur(d){return ei(d)&&pi(d)}function ei(d){for(const e of d.filters)if(e instanceof Xn)return!1;return!0}function ti(d){if(d instanceof On)return d.field.canonicalString()+d.op.toString()+oi(d.value);if(Ur(d))return d.filters.map(e=>ti(e)).join(",");{const e=d.filters.map(r=>ti(r)).join(",");return`${d.op}(${e})`}}function Qn(d,e){return d instanceof On?(a=d,(h=e)instanceof On&&a.op===h.op&&a.field.isEqual(h.field)&&cs(a.value,h.value)):d instanceof Xn?function(a,h){return h instanceof Xn&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((_,b,x)=>_&&Qn(b,h.filters[x]),!0)}(d,e):void xt();var a,h}function xi(d,e){const r=d.filters.concat(e);return Xn.create(r,d.op)}function Oi(d){return d instanceof On?`${(r=d).field.canonicalString()} ${r.op} ${oi(r.value)}`:d instanceof Xn?function(r){return r.op.toString()+" {"+r.getFilters().map(Oi).join(" ,")+"}"}(d):"Filter";var r}class Hr extends On{constructor(e,r,a){super(e,r,a),this.key=Ut.fromName(a.referenceValue)}matches(e){const r=Ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class Eo extends On{constructor(e,r){super(e,"in",r),this.keys=ds(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class wi extends On{constructor(e,r){super(e,"not-in",r),this.keys=ds(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ds(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Ut.fromName(a.referenceValue))}class Gs extends On{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ls(r)&&fo(r.arrayValue,this.value)}}class to extends On{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&fo(this.value.arrayValue,r)}}class Ia extends On{constructor(e,r){super(e,"not-in",r)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!fo(this.value.arrayValue,r)}}class ua extends On{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ls(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>fo(this.value.arrayValue,a))}}class wa{constructor(e,r=null,a=[],h=[],_=null,b=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=_,this.startAt=b,this.endAt=x,this.ue=null}}function Ds(d,e=null,r=[],a=[],h=null,_=null,b=null){return new wa(d,e,r,a,h,_,b)}function Ss(d){const e=dt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>ti(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(_=a).field.canonicalString()+_.dir;var _}).join(","),B(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>oi(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>oi(a)).join(",")),e.ue=r}return e.ue}function ms(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!wr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Qn(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!gn(d.startAt,e.startAt)&&gn(d.endAt,e.endAt)}function Xa(d){return Ut.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function no(d,e){return d.filters.filter(r=>r instanceof On&&r.field.isEqual(e))}function gi(d,e,r){let a=Os,h=!0;for(const _ of no(d,e)){let b=Os,x=!0;switch(_.op){case"<":case"<=":b=rs(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,x=!1;break;case"!=":case"not-in":b=Os}J({value:a,inclusive:h},{value:b,inclusive:x})<0&&(a=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];J({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function da(d,e,r){let a=Ii,h=!0;for(const _ of no(d,e)){let b=Ii,x=!0;switch(_.op){case">=":case">":b=te(_.value),x=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,x=!1;break;case"!=":case"not-in":b=Ii}Te({value:a,inclusive:h},{value:b,inclusive:x})>0&&(a=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Te({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class Go{constructor(e,r=null,a=[],h=[],_=null,b="F",x=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=_,this.limitType=b,this.startAt=x,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,a,h,_,b,x){return new Go(d,e,r,a,h,_,b,x)}function Z(d){return new Go(d)}function U(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function de(d){return null!==d.collectionGroup}function Ue(d){const e=dt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let x=new Ir(Wn.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(q=>{q.isInequality()&&(x=x.add(q.field))})}),x})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new zn(_,a))}),r.has(Wn.keyField().canonicalString())||e.ce.push(new zn(Wn.keyField(),a))}return e.ce}function dn(d){const e=dt(d);return e.le||(e.le=function _s(d,e){if("F"===d.limitType)return Ds(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new zn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new qt(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new qt(d.startAt.position,d.startAt.inclusive):null;return Ds(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,Ue(d))),e.le}function Zs(d,e){const r=d.filters.concat([e]);return new Go(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function hs(d,e,r){return new Go(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function po(d,e){return ms(dn(d),dn(e))&&d.limitType===e.limitType}function ys(d){return`${Ss(dn(d))}|lt:${d.limitType}`}function fs(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>Oi(h)).join(", ")}]`),B(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>oi(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>oi(h)).join(",")),`Target(${a})`}(dn(d))}; limitType=${d.limitType})`}function zo(d,e){return e.isFoundDocument()&&function(a,h){const _=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(_):Ut.isDocumentKey(a.path)?a.path.isEqual(_):a.path.isImmediateParentOf(_)}(d,e)&&function(a,h){for(const _ of Ue(a))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(a,h){for(const _ of a.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,x,F){const q=An(b,x,F);return b.inclusive?q<=0:q<0}(a.startAt,Ue(a),h)||a.endAt&&!function(b,x,F){const q=An(b,x,F);return b.inclusive?q>=0:q>0}(a.endAt,Ue(a),h)));var a,h}function il(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function xs(d){return(e,r)=>{let a=!1;for(const h of Ue(d)){const _=Wo(h,e,r);if(0!==_)return _;a=a||h.field.isKeyField()}return 0}}function Wo(d,e,r){const a=d.field.isKeyField()?Ut.comparator(e.key,r.key):function(_,b,x){const F=b.data.field(_),q=x.data.field(_);return null!==F&&null!==q?ts(F,q):xt()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return xt()}}class ji{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,_]of a)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(r,a)=>{for(const[h,_]of a)e(h,_)})}isEmpty(){return gs(this.inner)}size(){return this.innerSize}}const sl=new Kr(Ut.comparator);function Qi(){return sl}const Qa=new Kr(Ut.comparator);function zs(...d){let e=Qa;for(const r of d)e=e.insert(r.key,r);return e}function Aa(d){let e=Qa;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function vs(){return fa()}function ha(){return fa()}function fa(){return new ji(d=>d.toString(),(d,e)=>d.isEqual(e))}const ol=new Kr(Ut.comparator),Mu=new Ir(Ut.comparator);function ar(...d){let e=Mu;for(const r of d)e=e.add(r);return e}const bc=new Ir(Kt);function Ws(){return bc}function bo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ie(e)?"-0":e}}function Ja(d){return{integerValue:""+d}}function Kl(d,e){return ee(e)?Ja(e):bo(d,e)}class Cc{constructor(){this._=void 0}}function qh(d,e,r){return d instanceof Tc?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&Bs(_)&&(_=vo(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(r,e):d instanceof Ko?al(d,e):d instanceof Da?Ba(d,e):function(h,_){const b=ja(h,_),x=Za(b)+Za(h.Pe);return ns(b)&&ns(h.Pe)?Ja(x):bo(h.serializer,x)}(d,e)}function Ua(d,e,r){return d instanceof Ko?al(d,e):d instanceof Da?Ba(d,e):r}function ja(d,e){return d instanceof $a?ns(a=e)||(_=a)&&"doubleValue"in _?e:{integerValue:0}:null;var a,_}class Tc extends Cc{}class Ko extends Cc{constructor(e){super(),this.elements=e}}function al(d,e){const r=cl(e);for(const a of d.elements)r.some(h=>cs(h,a))||r.push(a);return{arrayValue:{values:r}}}class Da extends Cc{constructor(e){super(),this.elements=e}}function Ba(d,e){let r=cl(e);for(const a of d.elements)r=r.filter(h=>!cs(h,a));return{arrayValue:{values:r}}}class $a extends Cc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Za(d){return Jr(d.integerValue||d.doubleValue)}function cl(d){return ls(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class ${constructor(e,r){this.version=e,this.transformResults=r}}class X{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new X}static exists(e){return new X(void 0,e)}static updateTime(e){return new X(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xe(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class wt{}function Nt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Ps(d.key,X.none()):new pr(d.key,d.data,X.none());{const r=d.data,a=Oe.empty();let h=new Ir(Wn.comparator);for(let _ of e.fields)if(!h.has(_)){let b=r.field(_);null===b&&_.length>1&&(_=_.popLast(),b=r.field(_)),null===b?a.delete(_):a.set(_,b),h=h.add(_)}return new ai(d.key,a,new di(h.toArray()),X.none())}}function Nn(d,e,r){d instanceof pr?function(h,_,b){const x=h.value.clone(),F=Pi(h.fieldTransforms,_,b.transformResults);x.setAll(F),_.convertToFoundDocument(b.version,x).setHasCommittedMutations()}(d,e,r):d instanceof ai?function(h,_,b){if(!xe(h.precondition,_))return void _.convertToUnknownDocument(b.version);const x=Pi(h.fieldTransforms,_,b.transformResults),F=_.data;F.setAll(Ai(h)),F.setAll(x),_.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Gr(d,e,r,a){return d instanceof pr?function(_,b,x,F){if(!xe(_.precondition,b))return x;const q=_.value.clone(),oe=go(_.fieldTransforms,F,b);return q.setAll(oe),b.convertToFoundDocument(b.version,q).setHasLocalMutations(),null}(d,e,r,a):d instanceof ai?function(_,b,x,F){if(!xe(_.precondition,b))return x;const q=go(_.fieldTransforms,F,b),oe=b.data;return oe.setAll(Ai(_)),oe.setAll(q),b.convertToFoundDocument(b.version,oe).setHasLocalMutations(),null===x?null:x.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(ve=>ve.field))}(d,e,r,a):(x=r,xe(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):x);var b,x}function mi(d,e){let r=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),_=ja(a.transform,h||null);null!=_&&(null===r&&(r=Oe.empty()),r.set(a.field,_))}return r||null}function ni(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Vn(a,h,(_,b)=>function re(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof Ko&&h instanceof Ko||a instanceof Da&&h instanceof Da?Vn(a.elements,h.elements,cs):a instanceof $a&&h instanceof $a?cs(a.Pe,h.Pe):a instanceof Tc&&h instanceof Tc);var a,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class pr extends wt{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ai extends wt{constructor(e,r,a,h,_=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function Ai(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function Pi(d,e,r){const a=new Map;Vt(d.length===r.length);for(let h=0;h<r.length;h++){const _=d[h],b=_.transform,x=e.data.field(_.field);a.set(_.field,Ua(b,x,r[h]))}return a}function go(d,e,r){const a=new Map;for(const h of d){const _=h.transform,b=r.data.field(h.field);a.set(h.field,qh(_,b,e))}return a}class Ps extends wt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qo extends wt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Es{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&Nn(_,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Gr(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Gr(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=ha();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let x=this.applyToLocalView(b,_.mutatedFields);x=r.has(h.key)?null:x;const F=Nt(b,x);null!==F&&a.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(Ft.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ar())}isEqual(e){return this.batchId===e.batchId&&Vn(this.mutations,e.mutations,(r,a)=>ni(r,a))&&Vn(this.baseMutations,e.baseMutations,(r,a)=>ni(r,a))}}class Yo{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){Vt(e.mutations.length===a.length);let h=ol;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,a[b].version);return new Yo(e,r,a,h)}}class bs{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yh{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ar,ur;function Ha(d){switch(d){default:return xt();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function ro(d){if(void 0===d)return Zt("GRPC error has no .code"),Le.UNKNOWN;switch(d){case Ar.OK:return Le.OK;case Ar.CANCELLED:return Le.CANCELLED;case Ar.UNKNOWN:return Le.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return Le.INTERNAL;case Ar.UNAVAILABLE:return Le.UNAVAILABLE;case Ar.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Ar.NOT_FOUND:return Le.NOT_FOUND;case Ar.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Ar.ABORTED:return Le.ABORTED;case Ar.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Ar.DATA_LOSS:return Le.DATA_LOSS;default:return xt()}}(ur=Ar||(Ar={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";function ql(){return new TextEncoder}const Ic=new Fe([4294967295,4294967295],0);function Gi(d){const e=ql().encode(d),r=new Ne;return r.update(e),new Uint8Array(r.digest())}function Xh(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Fe([r,a],0),new Fe([h,_],0)]}class Ou{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Xo(`Invalid padding: ${r}`);if(a<0)throw new Xo(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new Xo(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new Xo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fe.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(Fe.fromNumber(a)));return 1===h.compare(Ic)&&(h=new Fe([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Gi(e),[a,h]=Xh(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new Ou(_,h,r);return a.forEach(x=>b.insert(x)),b}insert(e){if(0===this.Ie)return;const r=Gi(e),[a,h]=Xh(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Li{constructor(e,r,a,h,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new Li(Ft.min(),h,new Kr(Kt),Qi(),ar())}}class io{constructor(e,r,a,h,_){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new io(a,r,ar(),ar(),ar())}}class pa{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class Sa{constructor(e,r){this.targetId=e,this.me=r}}class Nu{constructor(e,r,a=Si.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class ll{constructor(){this.fe=0,this.ge=wc(),this.pe=Si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ar(),r=ar(),a=ar();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:xt()}}),new io(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=wc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ec{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qi(),this.qe=rr(),this.Qe=new Kr(Kt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:xt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const _=h.target;if(Xa(_))if(0===a){const b=new Ut(_.path);this.Ue(r,b,mt.newNoDocument(b,Ft.min()))}else Vt(1===a);else{const b=this.Ye(r);if(b!==a){const x=this.Ze(e),F=x?this.Xe(x,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:_=0}=r;let b,x;try{b=js(a).toUint8Array()}catch(F){if(F instanceof Va)return fn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{x=new Ou(b,h,_)}catch(F){return fn(F instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===x.Ie?null:x}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(_=>{const b=this.Le.tt(),x=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(x)||(this.Ue(r,_,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((_,b)=>{const x=this.Je(b);if(x){if(_.current&&Xa(x.target)){const F=new Ut(x.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,mt.newNoDocument(F,e))}_.be&&(r.set(b,_.ve()),_.Ce())}});let a=ar();this.qe.forEach((_,b)=>{let x=!0;b.forEachWhile(F=>{const q=this.Je(F);return!q||"TargetPurposeLimboResolution"===q.purpose||(x=!1,!1)}),x&&(a=a.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new Li(e,r,this.Qe,this.ke,a);return this.ke=Qi(),this.qe=rr(),this.Qe=new Kr(Kt),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new ll,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ir(Kt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||we("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ll),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function rr(){return new Kr(Ut.comparator)}function wc(){return new Kr(Ut.comparator)}const ku={asc:"ASCENDING",desc:"DESCENDING"},Cs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},so={and:"AND",or:"OR"};class _o{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Yl(d,e){return d.useProto3Json||B(e)?e:{value:e}}function No(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cd(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function Fu(d,e){return No(d,e.toTimestamp())}function is(d){return Vt(!!d),Ft.fromTimestamp(function(r){const a=Js(r);return new Bt(a.seconds,a.nanos)}(d))}function tc(d,e){return Xl(d,e).canonicalString()}function Xl(d,e){const r=(h=d,new sn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Ht(d){const e=sn.fromString(d);return Vt(w(e)),e}function xr(d,e){return tc(d.databaseId,e.path)}function ko(d,e){const r=Ht(e);if(r.get(1)!==d.databaseId.projectId)throw new et(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new et(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Ut(nc(r))}function ss(d,e){return tc(d.databaseId,e)}function Ks(d){const e=Ht(d);return 4===e.length?sn.emptyPath():nc(e)}function ul(d){return new sn(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function nc(d){return Vt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Co(d,e,r){return{name:xr(d,e),fields:r.value.mapValue.fields}}function Ac(d,e,r){const a=ko(d,e.name),h=is(e.updateTime),_=e.createTime?is(e.createTime):Ft.min(),b=new Oe({mapValue:{fields:e.fields}}),x=mt.newFoundDocument(a,h,_,b);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function hl(d,e){let r;if(e instanceof pr)r={update:Co(d,e.key,e.value)};else if(e instanceof Ps)r={delete:xr(d,e.key)};else if(e instanceof ai)r={update:Co(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof qo))return xt();r={verify:xr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(_,b){const x=b.transform;if(x instanceof Tc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Ko)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Da)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof $a)return{fieldPath:b.field.canonicalString(),increment:x.Pe};throw xt()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Fu(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:xt()),r;var _}function Wt(d,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?X.updateTime(is(_.updateTime)):void 0!==_.exists?X.exists(_.exists):X.none():X.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,x){let F=null;"setToServerValue"in x?(Vt("REQUEST_TIME"===x.setToServerValue),F=new Tc):"appendMissingElements"in x?F=new Ko(x.appendMissingElements.values||[]):"removeAllFromArray"in x?F=new Da(x.removeAllFromArray.values||[]):"increment"in x?F=new $a(b,x.increment):xt();const q=Wn.fromServerFormat(x.fieldPath);return new P(q,F)}(d,h)):[];var _;if(e.update){const h=ko(d,e.update.name),_=new Oe({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new di((e.updateMask.fieldPaths||[]).map(oe=>Wn.fromServerFormat(oe)));return new ai(h,_,b,r,a)}return new pr(h,_,r,a)}if(e.delete){const h=ko(d,e.delete);return new Ps(h,r)}if(e.verify){const h=ko(d,e.verify);return new qo(h,r)}return xt()}function oo(d,e){return{documents:[ss(d,e.path)]}}function ga(d,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=ss(d,h);const _=function(q){if(0!==q.length)return D(Xn.create(q,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const b=function(q){if(0!==q.length)return q.map(oe=>{return{field:xa(($e=oe).field),direction:wd($e.dir)};var $e})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const x=Yl(d,e.limit);return null!==x&&(r.structuredQuery.limit=x),e.startAt&&(r.structuredQuery.startAt={before:(q=e.startAt).inclusive,values:q.position}),e.endAt&&(r.structuredQuery.endAt=function(q){return{before:!q.inclusive,values:q.position}}(e.endAt)),{_t:r,parent:h};var q}function qs(d){let e=Ks(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){Vt(1===a);const oe=r.from[0];oe.allDescendants?h=oe.collectionId:e=e.child(oe.collectionId)}let _=[];r.where&&(_=function(ve){const $e=yo(ve);return $e instanceof Xn&&Ur($e)?$e.getFilters():[$e]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map($e=>{return new zn(fl((jt=$e).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let x=null;r.limit&&(x=function(ve){let $e;return $e="object"==typeof ve?ve.value:ve,B($e)?null:$e}(r.limit));let F=null;var ve;r.startAt&&(F=new qt((ve=r.startAt).values||[],!!ve.before));let q=null;return r.endAt&&(q=function(ve){return new qt(ve.values||[],!ve.before)}(r.endAt)),W(e,h,b,_,x,"F",F,q)}function yo(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=fl(r.unaryFilter.field);return On.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=fl(r.unaryFilter.field);return On.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=fl(r.unaryFilter.field);return On.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=fl(r.unaryFilter.field);return On.create(b,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(d):void 0!==d.fieldFilter?On.create(fl((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return Xn.create(r.compositeFilter.filters.map(a=>yo(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return xt()}}(r.compositeFilter.op))}(d):xt();var r}function wd(d){return ku[d]}function Jn(d){return Cs[d]}function Dc(d){return so[d]}function xa(d){return{fieldPath:d.canonicalString()}}function fl(d){return Wn.fromServerFormat(d.fieldPath)}function D(d){return d instanceof On?function(r){if("=="===r.op){if(Ri(r.value))return{unaryFilter:{field:xa(r.field),op:"IS_NAN"}};if(Or(r.value))return{unaryFilter:{field:xa(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ri(r.value))return{unaryFilter:{field:xa(r.field),op:"IS_NOT_NAN"}};if(Or(r.value))return{unaryFilter:{field:xa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(r.field),op:Jn(r.op),value:r.value}}}(d):d instanceof Xn?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:Dc(r.op),filters:a}}}(d):xt()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,a,h,_=Ft.min(),b=Ft.min(),x=Si.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G{constructor(e){this.ct=e}}function Pe(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:bt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:xr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:No(_,b.version.toTimestamp()),createTime:No(_,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:pt(e.version)};else{if(!e.isUnknownDocument())return xt();a.unknownDocument={path:r.path.toArray(),version:pt(e.version)}}var _,b;return a}function bt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function pt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vn(d){const e=new Bt(d.seconds,d.nanoseconds);return Ft.fromTimestamp(e)}function dr(d,e){const r=(e.baseMutations||[]).map(_=>Wt(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const a=e.mutations.map(_=>Wt(d.ct,_)),h=Bt.fromMillis(e.localWriteTimeMs);return new Es(e.batchId,h,r,a)}function _r(d){const e=vn(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?vn(d.lastLimboFreeSnapshotVersion):Ft.min();let a;return a=void 0!==d.query.documents?(Vt(1===(_=d.query).documents.length),dn(Z(Ks(_.documents[0])))):function(_){return dn(qs(_))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,Si.fromBase64String(d.resumeToken));var _}function Nr(d,e){const r=pt(e.snapshotVersion),a=pt(e.lastLimboFreeSnapshotVersion);let h;h=Xa(e.target)?oo(d.ct,e.target):ga(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ss(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Yr(d){const e=qs({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?hs(e,e.limit,"L"):e}function rc(d,e){return new bs(e.largestBatchId,Wt(d.ct,e.overlayMutation))}function Qo(d,e){const r=e.path.lastSegment();return[d,ye(e.path.popLast()),r]}function pl(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:pt(a.readTime),documentKey:ye(a.documentKey.path),largestBatchId:a.largestBatchId}}class Sc{getBundleMetadata(e,r){return Lu(e).get(r).next(a=>{if(a)return{id:(_=a).bundleId,createTime:vn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return Lu(e).put({bundleId:(h=r).id,createTime:pt(is(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Qh(e).get(r).next(a=>{if(a)return{name:(_=a).name,query:Yr(_.bundledQuery),readTime:vn(_.readTime)};var _})}saveNamedQuery(e,r){return Qh(e).put({name:(h=r).name,readTime:pt(is(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Lu(d){return Hi(d,"bundles")}function Qh(d){return Hi(d,"namedQueries")}class ic{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new ic(e,r.uid||"")}getOverlay(e,r){return ma(e).get(Qo(this.userId,r)).next(a=>a?rc(this.serializer,a):null)}getOverlays(e,r){const a=vs();return tt.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((_,b)=>{const x=new bs(r,b);h.push(this.ht(e,x))}),tt.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(ye(b.getCollectionPath())));const _=[];return h.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);_.push(ma(e).j("collectionPathOverlayIndex",x))}),tt.waitFor(_)}getOverlaysForCollection(e,r,a){const h=vs(),_=ye(r),b=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return ma(e).U("collectionPathOverlayIndex",b).next(x=>{for(const F of x){const q=rc(this.serializer,F);h.set(q.getKey(),q)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const _=vs();let b;const x=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ma(e).J({index:"collectionGroupOverlayIndex",range:x},(F,q,oe)=>{const ve=rc(this.serializer,q);_.size()<h||ve.largestBatchId===b?(_.set(ve.getKey(),ve),b=ve.largestBatchId):oe.done()}).next(()=>_)}ht(e,r){return ma(e).put(function(h,_,b){const[x,F,q]=Qo(_,b.mutation.key);return{userId:_,collectionPath:F,documentId:q,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:hl(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function ma(d){return Hi(d,"documentOverlays")}class Jh{Pt(e){return Hi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?Si.fromUint8Array(a):Si.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Ga{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Jr(e.integerValue));else if("doubleValue"in e){const a=Jr(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),ie(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=Js(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(js(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?$n(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Zr(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):xt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const _=e.fields||{};this.dt(r,53);const b="value",x=(null===(h=null===(a=_[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(Jr(x)),this.Vt(b,r),this.Tt(_[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),Ut.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Ql(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Vu(d){const e=64-function(a){let h=0;for(let _=0;_<8;++_){const b=Ql(255&a[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Ga.vt=new Ga;class Uu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=Vu(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=Vu(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class xc{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Ad{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Dd{constructor(){this.jt=new Uu,this.Ht=new xc(this.jt),this.Jt=new Ad(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ms{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Ms(this.indexId,this.documentKey,this.arrayValue,a)}}function Jo(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=Pc(d.arrayValue,e.arrayValue),0!==r?r:(r=Pc(d.directionalValue,e.directionalValue),0!==r?r:Ut.comparator(d.documentKey,e.documentKey)))}function Pc(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class Zh{constructor(e){this.Xt=new Ir((r,a)=>Wn.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if(Vt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Un(e);if(void 0!==r&&!this.sn(r))return!1;const a=In(e);let h=new Set,_=0,b=0;for(;_<a.length&&this.sn(a[_]);++_)h=h.add(a[_].fieldPath.canonicalString());if(_===a.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!h.has(x.field.canonicalString())){const F=a[_];if(!this.on(x,F)||!this._n(this.en[b++],F))return!1}++_}for(;_<a.length;++_)if(b>=this.en.length||!this._n(this.en[b++],a[_]))return!1;return!0}an(){if(this.nn)return null;let e=new Ir(Wn.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Dr(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Dr(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Dr(a.field,"asc"===a.dir?0:1)));return new bn(bn.UNKNOWN_ID,this.collectionId,r,Bn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Sd(d){var e,r;if(Vt(d instanceof On||d instanceof Xn),d instanceof On){if(d instanceof to){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>On.create(d.field,"==",_)))||[];return Xn.create(h,"or")}return d}const a=d.filters.map(h=>Sd(h));return Xn.create(a,d.op)}function xd(d){if(0===d.getFilters().length)return[];const e=cp(Sd(d));return Vt(ju(e)),Mc(e)||za(e)?[e]:e.getFilters()}function Mc(d){return d instanceof On}function za(d){return d instanceof Xn&&Ur(d)}function ju(d){return Mc(d)||za(d)||function(r){if(r instanceof Xn&&qr(r)){for(const a of r.getFilters())if(!Mc(a)&&!za(a))return!1;return!0}return!1}(d)}function cp(d){if(Vt(d instanceof On||d instanceof Xn),d instanceof On)return d;if(1===d.filters.length)return cp(d.filters[0]);const e=d.filters.map(a=>cp(a));let r=Xn.create(e,d.op);return r=Pd(r),ju(r)?r:(Vt(r instanceof Xn),Vt(pi(r)),Vt(r.filters.length>1),r.filters.reduce((a,h)=>gl(a,h)))}function gl(d,e){let r;return Vt(d instanceof On||d instanceof Xn),Vt(e instanceof On||e instanceof Xn),r=d instanceof On?e instanceof On?Xn.create([d,e],"and"):Rc(d,e):e instanceof On?Rc(e,d):function(h,_){if(Vt(h.filters.length>0&&_.filters.length>0),pi(h)&&pi(_))return xi(h,_.getFilters());const b=qr(h)?h:_,x=qr(h)?_:h,F=b.filters.map(q=>gl(q,x));return Xn.create(F,"or")}(d,e),Pd(r)}function Rc(d,e){if(pi(e))return xi(e,d.getFilters());{const r=e.filters.map(a=>gl(d,a));return Xn.create(r,"or")}}function Pd(d){if(Vt(d instanceof On||d instanceof Xn),d instanceof On)return d;const e=d.getFilters();if(1===e.length)return Pd(e[0]);if(ei(d))return d;const r=e.map(h=>Pd(h)),a=[];return r.forEach(h=>{h instanceof On?a.push(h):h instanceof Xn&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Xn.create(a,d.op)}class ml{constructor(){this.un=new Bu}addToCollectionParentIndex(e,r){return this.un.add(r),tt.resolve()}getCollectionParents(e,r){return tt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return tt.resolve()}deleteFieldIndex(e,r){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,r){return tt.resolve()}getDocumentsMatchingTarget(e,r){return tt.resolve(null)}getIndexType(e,r){return tt.resolve(0)}getFieldIndexes(e,r){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,r){return tt.resolve(un.min())}getMinOffsetFromCollectionGroup(e,r){return tt.resolve(un.min())}updateCollectionGroup(e,r,a){return tt.resolve()}updateIndexEntries(e,r){return tt.resolve()}}class Bu{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new Ir(sn.comparator),_=!h.has(a);return this.index[r]=h.add(a),_}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new Ir(sn.comparator)).toArray()}}const sc=new Uint8Array(0);class lp{constructor(e,r){this.databaseId=r,this.cn=new Bu,this.ln=new ji(a=>Ss(a),(a,h)=>ms(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const _={collectionId:a,parent:ye(h)};return Md(e).put(_)}return tt.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[pn(r),""],!1,!0);return Md(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==r)break;a.push(_n(b.parent))}return a})}addFieldIndex(e,r){const a=$u(e),h={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var x;delete h.indexId;const _=a.add(h);if(r.indexState){const b=To(e);return _.next(x=>{b.put(pl(x,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const a=$u(e),h=To(e),_=Fo(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=$u(e),a=Fo(e),h=To(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return tt.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const _=new Zh(a).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const a=Fo(e);let h=!0;const _=new Map;return tt.forEach(this.hn(r),b=>this.Pn(e,b).next(x=>{h&&(h=!!x),_.set(b,x)})).next(()=>{if(h){let b=ar();const x=[];return tt.forEach(_,(F,q)=>{var Kn;we("IndexedDbIndexManager",`Using index ${Kn=F,`id=${Kn.indexId}|cg=${Kn.collectionGroup}|f=${Kn.fields.map(Rr=>`${Rr.fieldPath}:${Rr.kind}`).join(",")}`} to execute ${Ss(r)}`);const oe=function(Kn,Rr){const Ni=Un(Rr);if(void 0===Ni)return null;for(const ri of no(Kn,Ni.fieldPath))switch(ri.op){case"array-contains-any":return ri.value.arrayValue.values||[];case"array-contains":return[ri.value]}return null}(q,F),ve=function(Kn,Rr){const Ni=new Map;for(const ri of In(Rr))for(const it of no(Kn,ri.fieldPath))switch(it.op){case"==":case"in":Ni.set(ri.fieldPath.canonicalString(),it.value);break;case"not-in":case"!=":return Ni.set(ri.fieldPath.canonicalString(),it.value),Array.from(Ni.values())}return null}(q,F),$e=function(Kn,Rr){const Ni=[];let ri=!0;for(const it of In(Rr)){const ke=0===it.kind?gi(Kn,it.fieldPath,Kn.startAt):da(Kn,it.fieldPath,Kn.startAt);Ni.push(ke.value),ri&&(ri=ke.inclusive)}return new qt(Ni,ri)}(q,F),vt=function(Kn,Rr){const Ni=[];let ri=!0;for(const it of In(Rr)){const ke=0===it.kind?da(Kn,it.fieldPath,Kn.endAt):gi(Kn,it.fieldPath,Kn.endAt);Ni.push(ke.value),ri&&(ri=ke.inclusive)}return new qt(Ni,ri)}(q,F),jt=this.In(F,q,$e),cn=this.In(F,q,vt),Jt=this.Tn(F,q,ve),Hn=this.En(F.indexId,oe,jt,$e.inclusive,cn,vt.inclusive,Jt);return tt.forEach(Hn,ir=>a.G(ir,r.limit).next(Kn=>{Kn.forEach(Rr=>{const Ni=Ut.fromSegments(Rr.documentKey);b.has(Ni)||(b=b.add(Ni),x.push(Ni))})}))}).next(()=>x)}return tt.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:xd(Xn.create(e.filters,"and")).map(a=>Ds(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,_,b,x){const F=(null!=r?r.length:1)*Math.max(a.length,_.length),q=F/(null!=r?r.length:1),oe=[];for(let ve=0;ve<F;++ve){const $e=r?this.dn(r[ve/q]):sc,vt=this.An(e,$e,a[ve%q],h),jt=this.Rn(e,$e,_[ve%q],b),cn=x.map(Jt=>this.An(e,$e,Jt,!0));oe.push(...this.createRange(vt,jt,cn))}return oe}An(e,r,a,h){const _=new Ms(e,Ut.empty(),r,a);return h?_:_.Zt()}Rn(e,r,a,h){const _=new Ms(e,Ut.empty(),r,a);return h?_.Zt():_}Pn(e,r){const a=new Zh(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const x of _)a.rn(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return tt.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==a&&b.fields.length<function(F){let q=new Ir(Wn.comparator),oe=!1;for(const ve of F.filters)for(const $e of ve.getFlattenedFilters())$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?oe=!0:q=q.add($e.field));for(const ve of F.orderBy)ve.field.isKeyField()||(q=q.add(ve.field));return q.size+(oe?1:0)}(_)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new Dd;for(const h of In(e)){const _=r.data.field(h.fieldPath);if(null==_)return null;const b=a.Yt(h.kind);Ga.vt.It(_,b)}return a.zt()}dn(e){const r=new Dd;return Ga.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new Dd;return Ga.vt.It(lr(this.databaseId,r),a.Yt(function(_){const b=In(_);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new Dd);let _=0;for(const b of In(e)){const x=a[_++];for(const F of h)if(this.fn(r,b.fieldPath)&&ls(x))h=this.gn(h,b,x);else{const q=F.Yt(b.kind);Ga.vt.It(x,q)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],_=[];for(const b of a.arrayValue.values||[])for(const x of h){const F=new Dd;F.seed(x.zt()),Ga.vt.It(b,F.Yt(r.kind)),_.push(F)}return _}fn(e,r){return!!e.filters.find(a=>a instanceof On&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=$u(e),h=To(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(_=>{const b=[];return tt.forEach(_,x=>h.get([x.indexId,this.uid]).next(F=>{b.push(function(oe,ve){const $e=ve?new Bn(ve.sequenceNumber,new un(vn(ve.readTime),new Ut(_n(ve.documentKey)),ve.largestBatchId)):Bn.empty(),vt=oe.fields.map(([jt,cn])=>new Dr(Wn.fromServerFormat(jt),cn));return new bn(oe.indexId,oe.collectionGroup,vt,$e)}(x,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const _=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:Kt(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=$u(e),_=To(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>tt.forEach(x,F=>_.put(pl(F.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return tt.forEach(r,(h,_)=>{const b=a.get(h.collectionGroup);return(b?tt.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(x=>(a.set(h.collectionGroup,x),tt.forEach(x,F=>this.wn(e,h,F).next(q=>{const oe=this.Sn(_,F);return q.isEqual(oe)?tt.resolve():this.bn(e,_,F,q,oe)}))))})}Dn(e,r,a,h){return Fo(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return Fo(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=Fo(e);let _=new Ir(Jo);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,x)=>{_=_.add(new Ms(a.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>_)}Sn(e,r){let a=new Ir(Jo);const h=this.Vn(r,e);if(null==h)return a;const _=Un(r);if(null!=_){const b=e.data.field(_.fieldPath);if(ls(b))for(const x of b.arrayValue.values||[])a=a.add(new Ms(r.indexId,e.key,this.dn(x),h))}else a=a.add(new Ms(r.indexId,e.key,sc,h));return a}bn(e,r,a,h,_){we("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,q,oe,ve,$e){const vt=F.getIterator(),jt=q.getIterator();let cn=Oo(vt),Jt=Oo(jt);for(;cn||Jt;){let Hn=!1,ir=!1;if(cn&&Jt){const Kn=oe(cn,Jt);Kn<0?ir=!0:Kn>0&&(Hn=!0)}else null!=cn?ir=!0:Hn=!0;Hn?(ve(Jt),Jt=Oo(jt)):ir?($e(cn),cn=Oo(vt)):(cn=Oo(vt),Jt=Oo(jt))}}(h,_,Jo,x=>{b.push(this.Dn(e,r,a,x))},x=>{b.push(this.vn(e,r,a,x))}),tt.waitFor(b)}yn(e){let r=1;return To(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,_)=>{_.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,x)=>Jo(b,x)).filter((b,x,F)=>!x||0!==Jo(b,F[x-1]));const h=[];h.push(e);for(const b of a){const x=Jo(b,e),F=Jo(b,r);if(0===x)h[0]=e.Zt();else if(x>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,sc,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,sc,[]]))}return _}Cn(e,r){return Jo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Rd)}getMinOffset(e,r){return tt.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||xt())).next(Rd)}}function Md(d){return Hi(d,"collectionParents")}function Fo(d){return Hi(d,"indexEntries")}function $u(d){return Hi(d,"indexConfiguration")}function To(d){return Hi(d,"indexState")}function Rd(d){Vt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;Qr(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new un(e.readTime,e.documentKey,r)}const _l={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Od(d,e,r){const a=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(r.batchId);let x=0;const F=a.J({range:b},(oe,ve,$e)=>(x++,$e.delete()));_.push(F.next(()=>{Vt(1===x)}));const q=[];for(const oe of r.mutations){const ve=$r(e,oe.key.path,r.batchId);_.push(h.delete(ve)),q.push(oe.key)}return tt.waitFor(_).next(()=>q)}function oc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw xt();e=d.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class yl{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){Vt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new yl(_,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).J({index:"userMutationsIndex",range:a},(h,_,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const _=vl(e),b=ac(e);return b.add({}).next(x=>{Vt("number"==typeof x);const F=new Es(x,r,a,h),q=function(vt,jt,cn){const Jt=cn.baseMutations.map(ir=>hl(vt.ct,ir)),Hn=cn.mutations.map(ir=>hl(vt.ct,ir));return{userId:jt,batchId:cn.batchId,localWriteTimeMs:cn.localWriteTime.toMillis(),baseMutations:Jt,mutations:Hn}}(this.serializer,this.userId,F),oe=[];let ve=new Ir(($e,vt)=>Kt($e.canonicalString(),vt.canonicalString()));for(const $e of h){const vt=$r(this.userId,$e.key.path,x);ve=ve.add($e.key.path.popLast()),oe.push(b.put(q)),oe.push(_.put(vt,fr))}return ve.forEach($e=>{oe.push(this.indexManager.addToCollectionParentIndex(e,$e))}),e.addOnCommittedListener(()=>{this.Fn[x]=F.keys()}),tt.waitFor(oe).next(()=>F)})}lookupMutationBatch(e,r){return ac(e).get(r).next(a=>a?(Vt(a.userId===this.userId),dr(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?tt.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return ac(e).J({index:"userMutationsIndex",range:h},(b,x,F)=>{x.userId===this.userId&&(Vt(x.batchId>=a),_=dr(this.serializer,x)),F.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return ac(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,_,b)=>{a=_.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).U("userMutationsIndex",r).next(a=>a.map(h=>dr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=on(this.userId,r.path),h=IDBKeyRange.lowerBound(a),_=[];return vl(e).J({range:h},(b,x,F)=>{const[q,oe,ve]=b,$e=_n(oe);if(q===this.userId&&r.path.isEqual($e))return ac(e).get(ve).next(vt=>{if(!vt)throw xt();Vt(vt.userId===this.userId),_.push(dr(this.serializer,vt))});F.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ir(Kt);const h=[];return r.forEach(_=>{const b=on(this.userId,_.path),x=IDBKeyRange.lowerBound(b),F=vl(e).J({range:x},(q,oe,ve)=>{const[$e,vt,jt]=q,cn=_n(vt);$e===this.userId&&_.path.isEqual(cn)?a=a.add(jt):ve.done()});h.push(F)}),tt.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,_=on(this.userId,a),b=IDBKeyRange.lowerBound(_);let x=new Ir(Kt);return vl(e).J({range:b},(F,q,oe)=>{const[ve,$e,vt]=F,jt=_n($e);ve===this.userId&&a.isPrefixOf(jt)?jt.length===h&&(x=x.add(vt)):oe.done()}).next(()=>this.xn(e,x))}xn(e,r){const a=[],h=[];return r.forEach(_=>{h.push(ac(e).get(_).next(b=>{if(null===b)throw xt();Vt(b.userId===this.userId),a.push(dr(this.serializer,b))}))}),tt.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Od(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),tt.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return tt.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return vl(e).J({range:a},(_,b,x)=>{if(_[0]===this.userId){const F=_n(_[1]);h.push(F)}else x.done()}).next(()=>{Vt(0===h.length)})})}containsKey(e,r){return ef(e,this.userId,r)}Nn(e){return Hu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ef(d,e,r){const a=on(e,r.path),h=a[1],_=IDBKeyRange.lowerBound(a);let b=!1;return vl(d).J({range:_,H:!0},(x,F,q)=>{const[oe,ve,$e]=x;oe===e&&ve===h&&(b=!0),q.done()}).next(()=>b)}function ac(d){return Hi(d,"mutations")}function vl(d){return Hi(d,"documentMutations")}function Hu(d){return Hi(d,"mutationQueues")}class Oc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Oc(0)}static kn(){return new Oc(-1)}}class Dg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new Oc(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ft.fromTimestamp(new Bt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Pa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>(Vt(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const _=[];return Pa(e).J((b,x)=>{const F=_r(x);F.sequenceNumber<=r&&null===a.get(F.targetId)&&(h++,_.push(this.removeTargetData(e,F)))}).next(()=>tt.waitFor(_)).next(()=>h)}forEachTarget(e,r){return Pa(e).J((a,h)=>{const _=_r(h);r(_)})}qn(e){return _a(e).get("targetGlobalKey").next(r=>(Vt(null!==r),r))}Qn(e,r){return _a(e).put("targetGlobalKey",r)}Kn(e,r){return Pa(e).put(Nr(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=Ss(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return Pa(e).J({range:h,index:"queryTargetsIndex"},(b,x,F)=>{const q=_r(x);ms(r,q.target)&&(_=q,F.done())}).next(()=>_)}addMatchingKeys(e,r,a){const h=[],_=Nc(e);return r.forEach(b=>{const x=ye(b.path);h.push(_.put({targetId:a,path:x})),h.push(this.referenceDelegate.addReference(e,a,b))}),tt.waitFor(h)}removeMatchingKeys(e,r,a){const h=Nc(e);return tt.forEach(r,_=>{const b=ye(_.path);return tt.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,r){const a=Nc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=Nc(e);let _=ar();return h.J({range:a,H:!0},(b,x,F)=>{const q=_n(b[1]),oe=new Ut(q);_=_.add(oe)}).next(()=>_)}containsKey(e,r){const a=ye(r.path),h=IDBKeyRange.bound([a],[pn(a)],!1,!0);let _=0;return Nc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,x],F,q)=>{0!==b&&(_++,q.done())}).next(()=>_>0)}ot(e,r){return Pa(e).get(r).next(a=>a?_r(a):null)}}function Pa(d){return Hi(d,"targets")}function _a(d){return Hi(d,"targetGlobal")}function Nc(d){return Hi(d,"targetDocuments")}function Nd([d,e],[r,a]){const h=Kt(d,r);return 0===h?Kt(e,a):h}class Jl{constructor(e){this.Un=e,this.buffer=new Ir(Nd),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Nd(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class kc{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Ln(a)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield jn(a)}yield r.Hn(3e5)}))}}class tf{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return tt.resolve(k.oe);const a=new Jl(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(_l)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_l):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,_,b,x,F,q;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),h=this.params.maximumSequenceNumbersToCollect):h=ve,b=Date.now(),this.nthSequenceNumber(e,h))).next(ve=>(a=ve,x=Date.now(),this.removeTargets(e,a,r))).next(ve=>(_=ve,F=Date.now(),this.removeOrphanedDocuments(e,a))).next(ve=>(q=Date.now(),yt()<=Ce.$b.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-oe}ms\n\tDetermined least recently used ${h} in `+(x-b)+`ms\n\tRemoved ${_} targets in `+(F-x)+`ms\n\tRemoved ${ve} documents in `+(q-F)+`ms\nTotal Duration: ${q-oe}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:ve})))}}class up{constructor(e,r){this.db=e,this.garbageCollector=function eo(d,e){return new tf(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return El(e,a)}removeReference(e,r,a){return El(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return El(e,r)}nr(e,r){return function(h,_){let b=!1;return Hu(h).Y(x=>ef(h,x,_).next(F=>(F&&(b=!0),tt.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,x)=>{if(x<=r){const F=this.nr(e,b).next(q=>{if(!q)return _++,a.getEntry(e,b).next(()=>(a.removeEntry(b,Ft.min()),Nc(e).delete([0,ye(b.path)])))});h.push(F)}}).next(()=>tt.waitFor(h)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return El(e,r)}tr(e,r){const a=Nc(e);let h,_=k.oe;return a.J({index:"documentTargetsIndex"},([b,x],{path:F,sequenceNumber:q})=>{0===b?(_!==k.oe&&r(new Ut(_n(h)),_),_=q,h=F):_=k.oe}).next(()=>{_!==k.oe&&r(new Ut(_n(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function El(d,e){return Nc(d).put((h=d.currentSequenceNumber,{targetId:0,path:ye(e.path),sequenceNumber:h}));var h}class kd{constructor(){this.changes=new ji(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?tt.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fd{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return Zo(e).put(a)}removeEntry(e,r,a){return Zo(e).delete(function(_,b){const x=_.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],bt(b),x[x.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=mt.newInvalidDocument(r);return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ya(r))},(h,_)=>{a=this.ir(r,_)}).next(()=>a)}sr(e,r){let a={size:0,document:mt.newInvalidDocument(r)};return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ya(r))},(h,_)=>{a={document:this.ir(r,_),size:oc(_)}}).next(()=>a)}getEntries(e,r){let a=Qi();return this._r(e,r,(h,_)=>{const b=this.ir(h,_);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=Qi(),h=new Kr(Ut.comparator);return this._r(e,r,(_,b)=>{const x=this.ir(_,b);a=a.insert(_,x),h=h.insert(_,oc(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return tt.resolve();let h=new Ir(Ld);r.forEach(F=>h=h.add(F));const _=IDBKeyRange.bound(ya(h.first()),ya(h.last())),b=h.getIterator();let x=b.getNext();return Zo(e).J({index:"documentKeyIndex",range:_},(F,q,oe)=>{const ve=Ut.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;x&&Ld(x,ve)<0;)a(x,null),x=b.getNext();x&&x.isEqual(ve)&&(a(x,q),x=b.hasNext()?b.getNext():null),x?oe.$(ya(x)):oe.done()}).next(()=>{for(;x;)a(x,null),x=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,_){const b=r.path,x=[b.popLast().toArray(),b.lastSegment(),bt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zo(e).U(IDBKeyRange.bound(x,F,!0)).next(q=>{_?.incrementDocumentReadCount(q.length);let oe=Qi();for(const ve of q){const $e=this.ir(Ut.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);$e.isFoundDocument()&&(zo(r,$e)||h.has($e.key))&&(oe=oe.insert($e.key,$e))}return oe})}getAllFromCollectionGroup(e,r,a,h){let _=Qi();const b=nf(r,a),x=nf(r,un.max());return Zo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(F,q,oe)=>{const ve=this.ir(Ut.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);_=_.insert(ve.key,ve),_.size===h&&oe.done()}).next(()=>_)}newChangeBuffer(e){return new bl(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Cl(e).get("remoteDocumentGlobalKey").next(r=>(Vt(!!r),r))}rr(e,r){return Cl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function ce(d,e){let r;if(e.document)r=Ac(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Ut.fromSegments(e.noDocument.path),h=vn(e.noDocument.readTime);r=mt.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const a=Ut.fromSegments(e.unknownDocument.path),h=vn(e.unknownDocument.version);r=mt.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const _=new Bt(h[0],h[1]);return Ft.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(Ft.min()))return a}return mt.newInvalidDocument(e)}}function cc(d){return new Fd(d)}class bl extends kd{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new ji(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new Ir((_,b)=>Kt(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const x=this.lr.get(_);if(r.push(this.cr.removeEntry(e,_,x.readTime)),b.isValidDocument()){const F=Pe(this.cr.serializer,b);h=h.add(_.path.popLast());const q=oc(F);a+=q-x.size,r.push(this.cr.addEntry(e,_,F))}else if(a-=x.size,this.trackRemovals){const F=Pe(this.cr.serializer,b.convertToNoDocument(Ft.min()));r.push(this.cr.addEntry(e,_,F))}}),h.forEach(_=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.cr.updateMetadata(e,a)),tt.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:a.get(_).readTime})}),a))}}function Cl(d){return Hi(d,"remoteDocumentGlobal")}function Zo(d){return Hi(d,"remoteDocumentsV14")}function ya(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nf(d,e){const r=e.documentKey.path.toArray();return[d,bt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Ld(d,e){const r=d.path.toArray(),a=e.path.toArray();let h=0;for(let _=0;_<r.length-2&&_<a.length-2;++_)if(h=Kt(r[_],a[_]),h)return h;return h=Kt(r.length,a.length),h||(h=Kt(r[r.length-2],a[a.length-2]),h||Kt(r[r.length-1],a[a.length-1]))}class Zl{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Gu{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&Gr(a.mutation,h,di.empty(),Bt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,ar()).next(()=>a))}getLocalViewOfDocuments(e,r,a=ar()){const h=vs();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(_=>{let b=zs();return _.forEach((x,F)=>{b=b.insert(x,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=vs();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,ar()))}populateOverlays(e,r,a){const h=[];return a.forEach(_=>{r.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,x)=>{r.set(b,x)})})}computeViews(e,r,a,h){let _=Qi();const b=fa(),x=fa();return r.forEach((F,q)=>{const oe=a.get(q.key);h.has(q.key)&&(void 0===oe||oe.mutation instanceof ai)?_=_.insert(q.key,q):void 0!==oe?(b.set(q.key,oe.mutation.getFieldMask()),Gr(oe.mutation,q,oe.mutation.getFieldMask(),Bt.now())):b.set(q.key,di.empty())}),this.recalculateAndSaveOverlays(e,_).next(F=>(F.forEach((q,oe)=>b.set(q,oe)),r.forEach((q,oe)=>{var ve;return x.set(q,new Zl(oe,null!==(ve=b.get(q))&&void 0!==ve?ve:null))}),x))}recalculateAndSaveOverlays(e,r){const a=fa();let h=new Kr((b,x)=>b-x),_=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const x of b)x.keys().forEach(F=>{const q=r.get(F);if(null===q)return;let oe=a.get(F)||di.empty();oe=x.applyToLocalView(q,oe),a.set(F,oe);const ve=(h.get(x.batchId)||ar()).add(F);h=h.insert(x.batchId,ve)})}).next(()=>{const b=[],x=h.getReverseIterator();for(;x.hasNext();){const F=x.getNext(),q=F.key,oe=F.value,ve=ha();oe.forEach($e=>{if(!_.has($e)){const vt=Nt(r.get($e),a.get($e));null!==vt&&ve.set($e,vt),_=_.add($e)}}),b.push(this.documentOverlayCache.saveOverlays(e,q,ve))}return tt.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return Ut.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):de(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-_.size):tt.resolve(vs());let x=-1,F=_;return b.next(q=>tt.forEach(q,(oe,ve)=>(x<ve.largestBatchId&&(x=ve.largestBatchId),_.get(oe)?tt.resolve():this.remoteDocumentCache.getEntry(e,oe).next($e=>{F=F.insert(oe,$e)}))).next(()=>this.populateOverlays(e,q,_)).next(()=>this.computeViews(e,F,q,ar())).next(oe=>({batchId:x,changes:Aa(oe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ut(r)).next(a=>{let h=zs();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const _=r.collectionGroup;let b=zs();return this.indexManager.getCollectionParents(e,_).next(x=>tt.forEach(x,F=>{const q=(ve=r,$e=F.child(_),new Go($e,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,$e;return this.getDocumentsMatchingCollectionQuery(e,q,a,h).next(oe=>{oe.forEach((ve,$e)=>{b=b.insert(ve,$e)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,_,h))).next(b=>{_.forEach((F,q)=>{const oe=q.getKey();null===b.get(oe)&&(b=b.insert(oe,mt.newInvalidDocument(oe)))});let x=zs();return b.forEach((F,q)=>{const oe=_.get(F);void 0!==oe&&Gr(oe.mutation,q,di.empty(),Bt.now()),zo(r,q)&&(x=x.insert(F,q))}),x})}}class Sg{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return tt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:is(h.createTime)}),tt.resolve();var h}getNamedQuery(e,r){return tt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:Yr(h.bundledQuery),readTime:is(h.readTime)}),tt.resolve();var h}}class Qm{constructor(){this.overlays=new Kr(Ut.comparator),this.Ir=new Map}getOverlay(e,r){return tt.resolve(this.overlays.get(r))}getOverlays(e,r){const a=vs();return tt.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,_)=>{this.ht(e,r,_)}),tt.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(a)),tt.resolve()}getOverlaysForCollection(e,r,a){const h=vs(),_=r.length+1,b=new Ut(r.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const F=x.getNext().value,q=F.getKey();if(!r.isPrefixOf(q.path))break;q.path.length===_&&F.largestBatchId>a&&h.set(F.getKey(),F)}return tt.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let _=new Kr((q,oe)=>q-oe);const b=this.overlays.getIterator();for(;b.hasNext();){const q=b.getNext().value;if(q.getKey().getCollectionGroup()===r&&q.largestBatchId>a){let oe=_.get(q.largestBatchId);null===oe&&(oe=vs(),_=_.insert(q.largestBatchId,oe)),oe.set(q.getKey(),q)}}const x=vs(),F=_.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((q,oe)=>x.set(q,oe)),!(x.size()>=h)););return tt.resolve(x)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new bs(r,a));let _=this.Ir.get(r);void 0===_&&(_=ar(),this.Ir.set(r,_)),this.Ir.set(r,_.add(a.key))}}class zu{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,tt.resolve()}}class rf{constructor(){this.Tr=new Ir(Ys.Er),this.dr=new Ir(Ys.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new Ys(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new Ys(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new Ut(new sn([])),a=new Ys(r,e),h=new Ys(r,e+1),_=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ut(new sn([])),a=new Ys(r,e),h=new Ys(r,e+1);let _=ar();return this.dr.forEachInRange([a,h],b=>{_=_.add(b.key)}),_}containsKey(e){const r=new Ys(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Ys{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ut.comparator(e.key,r.key)||Kt(e.wr,r.wr)}static Ar(e,r){return Kt(e.wr,r.wr)||Ut.comparator(e.key,r.key)}}class eu{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ir(Ys.Er)}checkEmpty(e){return tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const _=this.Sr;this.Sr++;const b=new Es(_,r,a,h);this.mutationQueue.push(b);for(const x of h)this.br=this.br.add(new Ys(x.key,_)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return tt.resolve(b)}lookupMutationBatch(e,r){return tt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),_=h<0?0:h;return tt.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Ys(r,0),h=new Ys(r,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([a,h],b=>{const x=this.Dr(b.wr);_.push(x)}),tt.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Ir(Kt);return r.forEach(h=>{const _=new Ys(h,0),b=new Ys(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],x=>{a=a.add(x.wr)})}),tt.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let _=a;Ut.isDocumentKey(_)||(_=_.child(""));const b=new Ys(new Ut(_),0);let x=new Ir(Kt);return this.br.forEachWhile(F=>{const q=F.key.path;return!!a.isPrefixOf(q)&&(q.length===h&&(x=x.add(F.wr)),!0)},b),tt.resolve(this.Cr(x))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){Vt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return tt.forEach(r.mutations,h=>{const _=new Ys(h.key,r.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new Ys(r,0),h=this.br.firstAfterOrEqual(a);return tt.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return tt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class dp{constructor(e){this.Mr=e,this.docs=new Kr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),_=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return tt.resolve(a?a.document.mutableCopy():mt.newInvalidDocument(r))}getEntries(e,r){let a=Qi();return r.forEach(h=>{const _=this.docs.get(h);a=a.insert(h,_?_.document.mutableCopy():mt.newInvalidDocument(h))}),tt.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let _=Qi();const b=r.path,x=new Ut(b.child("")),F=this.docs.getIteratorFrom(x);for(;F.hasNext();){const{key:q,value:{document:oe}}=F.getNext();if(!b.isPrefixOf(q.path))break;q.path.length>b.length+1||Qr(Xi(oe),a)<=0||(h.has(oe.key)||zo(r,oe))&&(_=_.insert(oe.key,oe.mutableCopy()))}return tt.resolve(_)}getAllFromCollectionGroup(e,r,a,h){xt()}Or(e,r){return tt.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new tu(this)}getSize(e){return tt.resolve(this.size)}}class tu extends kd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),tt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class hp{constructor(e){this.persistence=e,this.Nr=new ji(r=>Ss(r),ms),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rf,this.targetCount=0,this.kr=Oc.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),tt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Oc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,tt.resolve()}updateTargetData(e,r){return this.Kn(r),tt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,r,a){let h=0;const _=[];return this.Nr.forEach((b,x)=>{x.sequenceNumber<=r&&null===a.get(x.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,x.targetId)),h++)}),tt.waitFor(_).next(()=>h)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return tt.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),tt.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,_=[];return h&&r.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),tt.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),tt.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return tt.resolve(a)}containsKey(e,r){return tt.resolve(this.Br.containsKey(r))}}class sf{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new zu,this.referenceDelegate=e(this),this.Ur=new hp(this),this.indexManager=new ml,this.remoteDocumentCache=new dp(a=>this.referenceDelegate.Wr(a)),this.serializer=new G(r),this.Gr=new Sg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Qm,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new eu(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){we("MemoryPersistence","Starting transaction:",e);const h=new Fs(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,r){return tt.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class Fs extends br{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Jr=new rf,this.Yr=null}static Zr(e){return new Vd(e)}get Xr(){if(this.Yr)return this.Yr;throw xt()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),tt.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),tt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),tt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Xr,a=>{const h=Ut.fromPath(a);return this.ei(e,h).next(_=>{_||r.removeEntry(h,Ft.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return tt.or([()=>tt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class af{constructor(e){this.serializer=e}O(e,r,a,h){const _=new gt("createOrUpgrade",r);var F;a<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0}),F.createObjectStore("documentMutations"),ea(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=tt.resolve();return a<3&&h>=3&&(0!==a&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),ea(e)),b=b.next(()=>function(F){const q=F.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",oe)}(_))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(F,q){return q.store("mutations").U().next(oe=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Er,{unique:!0});const ve=q.store("mutations"),$e=oe.map(vt=>ve.put(vt));return tt.waitFor($e)})}(e,_))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(_))),a<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),a<7&&h>=7&&(b=b.next(()=>this.ii(_))),a<8&&h>=8&&(b=b.next(()=>this.si(e,_))),a<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(_))),a<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(F){const q=F.createObjectStore("documentOverlays",{keyPath:Fn});q.createIndex("collectionPathOverlayIndex",xn,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",cr,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(F){const q=F.createObjectStore("remoteDocumentsV14",{keyPath:Vs});q.createIndex("documentKeyIndex",Ci),q.createIndex("collectionGroupIndex",Wi)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),a<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Tt}).createIndex("sequenceNumberIndex",rt,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Pt}).createIndex("documentKeyIndex",an,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=oc(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>tt.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(x=>tt.forEach(x,F=>{Vt(F.userId===_.userId);const q=dr(this.serializer,F);return Od(e,_.userId,q).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return a.J((b,x)=>{const F=new sn(b),q=[0,ye(F)];_.push(r.get(q).next(oe=>oe?tt.resolve():r.put({targetId:0,path:ye(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>tt.waitFor(_))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Us});const a=r.store("collectionParents"),h=new Bu,_=b=>{if(h.add(b)){const x=b.lastSegment(),F=b.popLast();return a.put({collectionId:x,parent:ye(F)})}};return r.store("remoteDocuments").J({H:!0},(b,x)=>{const F=new sn(b);return _(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,x,F],q)=>{const oe=_n(x);return _(oe.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const _=_r(h),b=Nr(this.serializer,_);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((_,b)=>{const x=r.store("remoteDocumentsV14"),F=(ve=b,ve.document?new Ut(sn.fromString(ve.document.name).popFirst(5)):ve.noDocument?Ut.fromSegments(ve.noDocument.path):ve.unknownDocument?Ut.fromSegments(ve.unknownDocument.path):xt()).path.toArray(),q={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ve;h.push(x.put(q))}).next(()=>tt.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=cc(this.serializer),_=new sf(Vd.Zr,this.serializer.ct);return a.U().next(b=>{const x=new Map;return b.forEach(F=>{var q;let oe=null!==(q=x.get(F.userId))&&void 0!==q?q:ar();dr(this.serializer,F).keys().forEach(ve=>oe=oe.add(ve)),x.set(F.userId,oe)}),tt.forEach(x,(F,q)=>{const oe=new Ke(q),ve=ic.lt(this.serializer,oe),$e=_.getIndexManager(oe),vt=yl.lt(oe,this.serializer,$e,_.referenceDelegate);return new Gu(h,vt,ve,$e).recalculateAndSaveOverlaysForDocumentKeys(new Ro(r,k.oe),F).next()})})}}function ea(d){d.createObjectStore("targetDocuments",{keyPath:Ti}).createIndex("documentTargetsIndex",nr,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fi,{unique:!0}),d.createObjectStore("targetGlobal")}const Lc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wu{constructor(e,r,a,h,_,b,x,F,q,oe,ve=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=_,this.window=b,this.document=x,this.ci=q,this.li=oe,this.hi=ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=$e=>Promise.resolve(),!Wu.D())throw new et(Le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new up(this,h),this.Ai=r+"main",this.serializer=new G(F),this.Ri=new he(this.Ai,this.hi,new af(this.serializer)),this.$r=new Jh,this.Ur=new Dg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cc(this.serializer),this.Gr=new Sc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===oe&&Zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Le.FAILED_PRECONDITION,Lc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Ln(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return lc(e).get("owner").next(r=>tt.resolve(this.vi(r)))}Ci(e){return Vc(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Hi(a,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),x=_.filter(F=>-1===b.indexOf(F));return tt.forEach(x,F=>h.delete(F.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?tt.resolve(!0):lc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new et(Le.FAILED_PRECONDITION,Lc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vc(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&we("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new Ro(r,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Vc(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return yl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lp(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ic.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){we("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",_=17===(F=this.hi)?Mo:16===F?Zi:15===F?Rs:14===F?Ki:13===F?Tr:12===F?Wr:11===F?Vr:void xt();var F;let b;return this.Ri.runTransaction(e,h,_,x=>(b=new Ro(x,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw Zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new et(Le.FAILED_PRECONDITION,Yn);return a(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>a(b)))).then(x=>(b.raiseOnCommittedEvent(),x))}Ki(e){return lc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new et(Le.FAILED_PRECONDITION,Lc)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lc(e).put("owner",r)}static D(){return he.D()}bi(e){const r=lc(e);return r.get("owner").next(a=>this.vi(a)?(we("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):tt.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(Zt(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,me.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return we("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Zt("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Zt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lc(d){return Hi(d,"owner")}function Vc(d){return Hi(d,"clientMetadata")}function uc(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class fp{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=ar(),h=ar();for(const _ of r.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new fp(e,r.fromCache,a,h)}}class xg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Pg{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,me.nr)()?8:Me((0,me.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const _={result:null};return this.Yi(e,r).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,r,h,a).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new xg;return this.Xi(e,r,b).next(x=>{if(_.result=x,this.zi)return this.es(e,r,b,x.size)})}).next(()=>_.result)}es(e,r,a,h){return a.documentReadCount<this.ji?(yt()<=Ce.$b.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",fs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),tt.resolve()):(yt()<=Ce.$b.DEBUG&&we("QueryEngine","Query:",fs(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(yt()<=Ce.$b.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",fs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(r))):tt.resolve())}Yi(e,r){if(U(r))return tt.resolve(null);let a=dn(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=hs(r,null,"F"),a=dn(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const b=ar(..._);return this.Ji.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,a).next(F=>{const q=this.ts(r,x);return this.ns(r,q,b,F.readTime)?this.Yi(e,hs(r,null,"F")):this.rs(e,q,r,F)}))})))}Zi(e,r,a,h){return U(r)||h.isEqual(Ft.min())?tt.resolve(null):this.Ji.getDocuments(e,a).next(_=>{const b=this.ts(r,_);return this.ns(r,b,a,h)?tt.resolve(null):(yt()<=Ce.$b.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),fs(r)),this.rs(e,b,r,ui(h,-1)).next(x=>x))})}ts(e,r){let a=new Ir(xs(e));return r.forEach((h,_)=>{zo(e,_)&&(a=a.add(_))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,r,a){return yt()<=Ce.$b.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",fs(r)),this.Ji.getDocumentsMatchingQuery(e,r,un.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(_=>(r.forEach(b=>{_=_.insert(b.key,b)}),_))}}class ta{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Kr(Kt),this._s=new ji(_=>Ss(_),ms),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Ud(d,e,r,a){return new ta(d,e,r,a)}function Io(d,e){return jd.apply(this,arguments)}function jd(){return(jd=(0,o.A)(function*(d,e){const r=dt(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(_=>(h=_,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(_=>{const b=[],x=[];let F=ar();for(const q of h){b.push(q.batchId);for(const oe of q.mutations)F=F.add(oe.key)}for(const q of _){x.push(q.batchId);for(const oe of q.mutations)F=F.add(oe.key)}return r.localDocuments.getDocuments(a,F).next(q=>({hs:q,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function Bd(d){const e=dt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function cf(d,e,r){let a=ar(),h=ar();return r.forEach(_=>a=a.add(_)),e.getEntries(d,a).next(_=>{let b=Qi();return r.forEach((x,F)=>{const q=_.get(x);F.isFoundDocument()!==q.isFoundDocument()&&(h=h.add(x)),F.isNoDocument()&&F.version.isEqual(Ft.min())?(e.removeEntry(x,F.readTime),b=b.insert(x,F)):!q.isValidDocument()||F.version.compareTo(q.version)>0||0===F.version.compareTo(q.version)&&q.hasPendingWrites?(e.addEntry(F),b=b.insert(x,F)):we("LocalStore","Ignoring outdated watch update for ",x,". Current version:",q.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function pp(d,e){const r=dt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Uc(d,e){const r=dt(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(_=>_?(h=_,tt.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function nu(d,e,r){return $d.apply(this,arguments)}function $d(){return($d=(0,o.A)(function*(d,e,r){const a=dt(d),h=a.os.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",_,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Ln(b))throw b;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function dc(d,e,r){const a=dt(d);let h=Ft.min(),_=ar();return a.persistence.runTransaction("Execute query","readwrite",b=>function(F,q,oe){const ve=dt(F),$e=ve._s.get(oe);return void 0!==$e?tt.resolve(ve.os.get($e)):ve.Ur.getTargetData(q,oe)}(a,b,dn(e)).next(x=>{if(x)return h=x.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,x.targetId).next(F=>{_=F})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:Ft.min(),r?_:ar())).next(x=>(uf(a,il(e),x),{documents:x,Ts:_})))}function lf(d,e){const r=dt(d),a=dt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",_=>a.ot(_,e).next(b=>b?b.target:null))}function jc(d,e){const r=dt(d),a=r.us.get(e)||Ft.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,ui(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(uf(r,e,h),h))}function uf(d,e,r){let a=d.us.get(e)||Ft.min();r.forEach((h,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),d.us.set(e,a)}function df(){return(df=(0,o.A)(function*(d,e,r,a){const h=dt(d);let _=ar(),b=Qi();for(const q of r){const oe=e.Es(q.metadata.name);q.document&&(_=_.add(oe));const ve=e.ds(q);ve.setReadTime(e.As(q.metadata.readTime)),b=b.insert(oe,ve)}const x=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Uc(h,(oe=a,dn(Z(sn.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",q=>cf(q,x,b).next(oe=>(x.apply(q),oe)).next(oe=>h.Ur.removeMatchingKeysForTargetId(q,F.targetId).next(()=>h.Ur.addMatchingKeys(q,_,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(q,oe.Ps,oe.Is)).next(()=>oe.Ps)))})).apply(this,arguments)}function Ma(d,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,o.A)(function*(d,e,r=ar()){const a=yield Uc(d,dn(Yr(e.bundledQuery))),h=dt(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=is(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const x=a.withResumeToken(Si.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(x.targetId,x),h.Ur.updateTargetData(_,x).next(()=>h.Ur.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>h.Ur.addMatchingKeys(_,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function Yu(d,e){return`firestore_clients_${d}_${e}`}function Hd(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Xu(d,e){return`firestore_targets_${d}_${e}`}class Gd{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new et(h.error.code,h.error.message))),b?new Gd(e,r,h.state,_):(Zt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hc{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(h=new et(a.error.code,a.error.message))),_?new hc(e,a.state,h):(Zt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,_=Ws();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=ee(a.activeTargetIds[b]),_=_.add(a.activeTargetIds[b]);return h?new fc(e,_):(Zt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class I{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new I(r.clientId,r.onlineState):(Zt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=Ws()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,a,h,_){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Kr(Kt),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Yu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const _=e.getItem(Yu(e.persistenceKey,h));if(_){const b=fc.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Xu(this.persistenceKey,e));if(h){const _=hc.Rs(e,h);_&&(a=_.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xu(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return we("SharedClientState","READ",e,r),r}setItem(e,r){we("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){we("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(we("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let x=k.oe;if(null!=b)try{const F=JSON.parse(b);Vt("number"==typeof F),x=F}catch(F){Zt("SharedClientState","Failed to read sequence number from WebStorage",F)}return x}(a.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(_=>r.syncEngine.eo(_)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Gd(this.currentUser,e,r,a),_=Hd(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const r=Hd(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=Xu(this.persistenceKey,e),_=new hc(e,r,a);this.setItem(h,_.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return fc.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Gd.Rs(new Ke(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return hc.Rs(h,r)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);we("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(a),b=[],x=[];return _.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{_.has(F)||x.push(F)}),this.syncEngine.io(b,x).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Ws();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q{_o(e){}shutdown(){}}class fe{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ze=null;function At(){return null===ze?ze=268435456+Math.round(2147483648*Math.random()):ze++,"0x"+ze.toString(16)}const $t={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Dn="WebChannelConnection";class zr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(r,a,h,_,b){const x=At(),F=this.xo(r,a.toUriEncodedString());we("RestConnection",`Sending RPC '${r}' ${x}:`,F,h);const q={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(q,_,b),this.No(r,F,q,h).then(oe=>(we("RestConnection",`Received RPC '${r}' ${x}: `,oe),oe),oe=>{throw fn("RestConnection",`RPC '${r}' ${x} failed with error: `,oe,"url: ",F,"request:",h),oe})}Lo(r,a,h,_,b,x){return this.Mo(r,a,h,_,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Re,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((_,b)=>r[b]=_),h&&h.headers.forEach((_,b)=>r[b]=_)}xo(r,a){return`${this.Do}/v1/${a}:${$t[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const _=At();return new Promise((b,x)=>{const F=new _e;F.setWithCredentials(!0),F.listenOnce(_t.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case ot.NO_ERROR:const oe=F.getResponseJson();we(Dn,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(oe)),b(oe);break;case ot.TIMEOUT:we(Dn,`RPC '${e}' ${_} timed out`),x(new et(Le.DEADLINE_EXCEEDED,"Request time out"));break;case ot.HTTP_ERROR:const ve=F.getStatus();if(we(Dn,`RPC '${e}' ${_} failed with status:`,ve,"response text:",F.getResponseText()),ve>0){let $e=F.getResponseJson();Array.isArray($e)&&($e=$e[0]);const vt=$e?.error;if(vt&&vt.status&&vt.message){const jt=function(Jt){const Hn=Jt.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(Hn)>=0?Hn:Le.UNKNOWN}(vt.status);x(new et(jt,vt.message))}else x(new et(Le.UNKNOWN,"Server responded with status "+F.getStatus()))}else x(new et(Le.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{we(Dn,`RPC '${e}' ${_} completed.`)}});const q=JSON.stringify(h);we(Dn,`RPC '${e}' ${_} sending request:`,h),F.send(r,"POST",q,a,15)})}Bo(e,r,a){const h=At(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=He(),x=rn(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},q=this.longPollingOptions.timeoutSeconds;void 0!==q&&(F.longPollingTimeout=Math.round(1e3*q)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,a),F.encodeInitMessageHeaders=!0;const oe=_.join("");we(Dn,`Creating RPC '${e}' stream ${h}: ${oe}`,F);const ve=b.createWebChannel(oe,F);let $e=!1,vt=!1;const jt=new Pn({Io:Jt=>{vt?we(Dn,`Not sending because RPC '${e}' stream ${h} is closed:`,Jt):($e||(we(Dn,`Opening RPC '${e}' stream ${h} transport.`),ve.open(),$e=!0),we(Dn,`RPC '${e}' stream ${h} sending:`,Jt),ve.send(Jt))},To:()=>ve.close()}),cn=(Jt,Hn,ir)=>{Jt.listen(Hn,Kn=>{try{ir(Kn)}catch(Rr){setTimeout(()=>{throw Rr},0)}})};return cn(ve,je.EventType.OPEN,()=>{vt||(we(Dn,`RPC '${e}' stream ${h} transport opened.`),jt.yo())}),cn(ve,je.EventType.CLOSE,()=>{vt||(vt=!0,we(Dn,`RPC '${e}' stream ${h} transport closed`),jt.So())}),cn(ve,je.EventType.ERROR,Jt=>{vt||(vt=!0,fn(Dn,`RPC '${e}' stream ${h} transport errored:`,Jt),jt.So(new et(Le.UNAVAILABLE,"The operation could not be completed")))}),cn(ve,je.EventType.MESSAGE,Jt=>{var Hn;if(!vt){const ir=Jt.data[0];Vt(!!ir);const Rr=ir.error||(null===(Hn=ir[0])||void 0===Hn?void 0:Hn.error);if(Rr){we(Dn,`RPC '${e}' stream ${h} received error:`,Rr);const Ni=Rr.status;let ri=function(We){const st=Ar[We];if(void 0!==st)return ro(st)}(Ni),it=Rr.message;void 0===ri&&(ri=Le.INTERNAL,it="Unknown error status: "+Ni+" with message "+Rr.message),vt=!0,jt.So(new et(ri,it)),ve.close()}else we(Dn,`RPC '${e}' stream ${h} received:`,ir),jt.bo(ir)}}),cn(x,St.STAT_EVENT,Jt=>{Jt.stat===Rt.PROXY?we(Dn,`RPC '${e}' stream ${h} detected buffering proxy`):Jt.stat===Rt.NOPROXY&&we(Dn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{jt.wo()},0),jt}}function wo(){return typeof window<"u"?window:null}function Ao(){return typeof document<"u"?document:null}function Bc(d){return new _o(d,!0)}class iu{constructor(e,r,a=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&we("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class zd{constructor(e,r,a,h,_,b,x,F){this.ui=e,this.Ho=a,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iu(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===Le.RESOURCE_EXHAUSTED?(Zt(r.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===Le.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new et(Le.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hf extends zd{constructor(e,r,a,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=_}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Td(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:xt(),h=e.targetChange.targetIds||[],_=function(q,oe){return q.useProto3Json?(Vt(void 0===oe||"string"==typeof oe),Si.fromBase64String(oe||"")):(Vt(void 0===oe||oe instanceof Buffer||oe instanceof Uint8Array),Si.fromUint8Array(oe||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(q){const oe=void 0===q.code?Le.UNKNOWN:ro(q.code);return new et(oe,q.message||"")}(b);r=new Nu(a,h,_,x||null)}else if("documentChange"in e){const a=e.documentChange,h=ko(d,a.document.name),_=is(a.document.updateTime),b=a.document.createTime?is(a.document.createTime):Ft.min(),x=new Oe({mapValue:{fields:a.document.fields}}),F=mt.newFoundDocument(h,_,b,x);r=new pa(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,h=ko(d,a.document),_=a.readTime?is(a.readTime):Ft.min(),b=mt.newNoDocument(h,_);r=new pa([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=ko(d,a.document);r=new pa([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return xt();{const a=e.filter,{count:h=0,unchangedNames:_}=a,b=new Yh(h,_);r=new Sa(a.targetId,b)}}var q;return r}(this.serializer,e),a=function(_){if(!("targetChange"in _))return Ft.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?Ft.min():b.readTime?is(b.readTime):Ft.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=ul(this.serializer),r.addTarget=function(_,b){let x;const F=b.target;if(x=Xa(F)?{documents:oo(_,F)}:{query:ga(_,F)._t},x.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){x.resumeToken=Cd(_,b.resumeToken);const q=Yl(_,b.expectedCount);null!==q&&(x.expectedCount=q)}else if(b.snapshotVersion.compareTo(Ft.min())>0){x.readTime=No(_,b.snapshotVersion.toTimestamp());const q=Yl(_,b.expectedCount);null!==q&&(x.expectedCount=q)}return x}(this.serializer,e);const a=function Id(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=ul(this.serializer),r.removeTarget=e,this.a_(r)}}class va extends zd{constructor(e,r,a,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Ns(d,e){return d&&d.length>0?(Vt(void 0!==e),d.map(r=>function(h,_){let b=is(h.updateTime?h.updateTime:_);return b.isEqual(Ft.min())&&(b=is(_)),new $(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=is(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=ul(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>hl(this.serializer,a))};this.a_(r)}}class gp extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new et(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Xl(r,a),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new et(Le.UNKNOWN,_.toString())})}Lo(e,r,a,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,x])=>this.connection.Lo(e,Xl(r,a),h,b,x,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new et(Le.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zt(r),this.D_=!1):we("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Rg{constructor(e,r,a,h,_){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(x=>{a.enqueueAndForget((0,o.A)(function*(){var F;Ra(b)&&(we("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,o.A)(function*(oe){const ve=dt(oe);ve.L_.add(4),yield ou(ve),ve.q_.set("Unknown"),ve.L_.delete(4),yield su(ve)}),function q(oe){return F.apply(this,arguments)})(b))}))}),this.q_=new Wd(a,h)}}function su(d){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.A)(function*(d){if(Ra(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function ou(d){return qd.apply(this,arguments)}function qd(){return(qd=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Yd(d,e){const r=dt(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),ff(r)?mp(r):th(r).r_()&&Xd(r,e))}function Tl(d,e){const r=dt(d),a=th(r);r.N_.delete(e),a.r_()&&Og(r,e),0===r.N_.size&&(a.r_()?a.o_():Ra(r)&&r.q_.set("Unknown"))}function Xd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}th(d).A_(e)}function Og(d,e){d.Q_.xe(e),th(d).R_(e)}function mp(d){d.Q_=new ec({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),th(d).start(),d.q_.v_()}function ff(d){return Ra(d)&&!th(d).n_()&&d.N_.size>0}function Ra(d){return 0===dt(d).L_.size}function _p(d){d.Q_=void 0}function yp(d){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function vp(d){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,o.A)(function*(d){d.N_.forEach((e,r)=>{Xd(d,e)})})).apply(this,arguments)}function Ly(d,e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,o.A)(function*(d,e){_p(d),ff(d)?(d.q_.M_(e),mp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Vy(d,e,r){return $c.apply(this,arguments)}function $c(){return $c=(0,o.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof Nu&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(_,b){const x=b.cause;for(const F of b.targetIds)_.N_.has(F)&&(yield _.remoteSyncer.rejectListen(F,x),_.N_.delete(F),_.Q_.removeTarget(F))}),function h(_,b){return a.apply(this,arguments)})(d,e)}catch(a){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Zd(d,a)}else if(e instanceof pa?d.Q_.Ke(e):e instanceof Sa?d.Q_.He(e):d.Q_.We(e),!r.isEqual(Ft.min()))try{const a=yield Bd(d.localStore);r.compareTo(a)>=0&&(yield function(_,b){const x=_.Q_.rt(b);return x.targetChanges.forEach((F,q)=>{if(F.resumeToken.approximateByteSize()>0){const oe=_.N_.get(q);oe&&_.N_.set(q,oe.withResumeToken(F.resumeToken,b))}}),x.targetMismatches.forEach((F,q)=>{const oe=_.N_.get(F);if(!oe)return;_.N_.set(F,oe.withResumeToken(Si.EMPTY_BYTE_STRING,oe.snapshotVersion)),Og(_,F);const ve=new N(oe.target,F,q,oe.sequenceNumber);Xd(_,ve)}),_.remoteSyncer.applyRemoteEvent(x)}(d,r))}catch(a){we("RemoteStore","Failed to raise snapshot:",a),yield Zd(d,a)}var a}),$c.apply(this,arguments)}function Zd(d,e,r){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,o.A)(function*(d,e,r){if(!Ln(e))throw e;d.L_.add(1),yield ou(d),d.q_.set("Offline"),r||(r=()=>Bd(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){we("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield su(d)}))})).apply(this,arguments)}function Hc(d,e){return e().catch(r=>Zd(d,r,e))}function Qu(d){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,o.A)(function*(d){const e=dt(d),r=na(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Uy(e);)try{const h=yield pp(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,Zm(e,h)}catch(h){yield Zd(e,h)}Lo(e)&&pf(e)})).apply(this,arguments)}function Uy(d){return Ra(d)&&d.O_.length<10}function Zm(d,e){d.O_.push(e);const r=na(d);r.r_()&&r.V_&&r.m_(e.mutations)}function Lo(d){return Ra(d)&&!na(d).n_()&&d.O_.length>0}function pf(d){na(d).start()}function e_(d){return eh.apply(this,arguments)}function eh(){return(eh=(0,o.A)(function*(d){na(d).p_()})).apply(this,arguments)}function Vo(d){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,o.A)(function*(d){const e=na(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function t_(d,e,r){return gf.apply(this,arguments)}function gf(){return(gf=(0,o.A)(function*(d,e,r){const a=d.O_.shift(),h=Yo.from(a,e,r);yield Hc(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Qu(d)})).apply(this,arguments)}function n_(d,e){return bp.apply(this,arguments)}function bp(){return bp=(0,o.A)(function*(d,e){var r;e&&na(d).V_&&(yield(r=(0,o.A)(function*(h,_){if(Ha(x=_.code)&&x!==Le.ABORTED){const b=h.O_.shift();na(h).s_(),yield Hc(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield Qu(h)}var x}),function a(h,_){return r.apply(this,arguments)})(d,e)),Lo(d)&&pf(d)}),bp.apply(this,arguments)}function r_(d,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,o.A)(function*(d,e){const r=dt(d);r.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const a=Ra(r);r.L_.add(3),yield ou(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield su(r)})).apply(this,arguments)}function kg(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,o.A)(function*(d,e){const r=dt(d);e?(r.L_.delete(2),yield su(r)):e||(r.L_.add(2),yield ou(r),r.q_.set("Unknown"))})).apply(this,arguments)}function th(d){return d.K_||(d.K_=function(r,a,h){const _=dt(r);return _.w_(),new hf(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:yp.bind(null,d),Ro:vp.bind(null,d),mo:Ly.bind(null,d),d_:Vy.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.K_.s_(),ff(d)?mp(d):d.q_.set("Unknown")):(yield d.K_.stop(),_p(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function na(d){return d.U_||(d.U_=function(r,a,h){const _=dt(r);return _.w_(),new va(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e_.bind(null,d),mo:n_.bind(null,d),f_:Vo.bind(null,d),g_:t_.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.U_.s_(),yield Qu(d)):(yield d.U_.stop(),d.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class Ip{constructor(e,r,a,h,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=_,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,_){const b=Date.now()+a,x=new Ip(e,r,b,h,_);return x.start(a),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Il(d,e){if(Zt("AsyncQueue",`${e}: ${d}`),Ln(d))return new et(Le.UNAVAILABLE,`${e}: ${d}`);throw d}class nh{constructor(e){this.comparator=e?(r,a)=>e(r,a)||Ut.comparator(r.key,a.key):(r,a)=>Ut.comparator(r.key,a.key),this.keyedMap=zs(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new nh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof nh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=a.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new nh;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class rh{constructor(){this.W_=new Kr(Ut.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):xt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class ih{constructor(e,r,a,h,_,b,x,F,q){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=F,this.hasCachedResults=q}static fromInitialDocuments(e,r,a,h,_){const b=[];return r.forEach(x=>{b.push({type:0,doc:x})}),new ih(e,r,nh.emptySet(r),b,a,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&po(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class jy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class i_{constructor(){this.queries=Fg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=dt(r),_=h.queries;h.queries=Fg(),_.forEach((b,x)=>{for(const F of x.j_)F.onError(a)})}(this,new et(Le.ABORTED,"Firestore shutting down"))}}function Fg(){return new ji(d=>ys(d),po)}function wp(d,e){return au.apply(this,arguments)}function au(){return(au=(0,o.A)(function*(d,e){const r=dt(d);let a=3;const h=e.query;let _=r.queries.get(h);_?!_.H_()&&e.J_()&&(a=2):(_=new jy,a=e.J_()?0:1);try{switch(a){case 0:_.z_=yield r.onListen(h,!0);break;case 1:_.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const x=Il(b,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(x)}r.queries.set(h,_),_.j_.push(e),e.Z_(r.onlineState),_.z_&&e.X_(_.z_)&&Vg(r)})).apply(this,arguments)}function sh(d,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,o.A)(function*(d,e){const r=dt(d),a=e.query;let h=3;const _=r.queries.get(a);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Lg(d,e){const r=dt(d);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const x of b.j_)x.X_(h)&&(a=!0);b.z_=h}}a&&Vg(r)}function oh(d,e,r){const a=dt(d),h=a.queries.get(e);if(h)for(const _ of h.j_)_.onError(r);a.queries.delete(e)}function Vg(d){d.Y_.forEach(e=>{e.next()})}var ah,s_;(s_=ah||(ah={})).ea="default",s_.Cache="cache";class Dp{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new ih(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ah.Cache}}class o_{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class ch{constructor(e){this.serializer=e}Es(e){return ko(this.serializer,e)}ds(e){return e.metadata.exists?Ac(this.serializer,e.document,!1):mt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return is(e)}}class Sp{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=sn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new ch(this.serializer);for(const h of e)if(h.metadata.queries){const _=a.Es(h.metadata.name);for(const b of h.metadata.queries){const x=(r.get(b)||ar()).add(_);r.set(b,x)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function qu(d,e,r,a){return df.apply(this,arguments)}(e.localStore,new ch(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield Ma(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function mf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class xp{constructor(e){this.key=e}}class Pp{constructor(e){this.key=e}}class a_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ar(),this.mutatedKeys=ar(),this.Aa=xs(e),this.Ra=new nh(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new rh,h=r?r.Ra:this.Ra;let _=r?r.mutatedKeys:this.mutatedKeys,b=h,x=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,q="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((oe,ve)=>{const $e=h.get(oe),vt=zo(this.query,ve)?ve:null,jt=!!$e&&this.mutatedKeys.has($e.key),cn=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let Jt=!1;$e&&vt?$e.data.isEqual(vt.data)?jt!==cn&&(a.track({type:3,doc:vt}),Jt=!0):this.ga($e,vt)||(a.track({type:2,doc:vt}),Jt=!0,(F&&this.Aa(vt,F)>0||q&&this.Aa(vt,q)<0)&&(x=!0)):!$e&&vt?(a.track({type:0,doc:vt}),Jt=!0):$e&&!vt&&(a.track({type:1,doc:$e}),Jt=!0,(F||q)&&(x=!0)),Jt&&(vt?(b=b.add(vt),_=cn?_.add(oe):_.delete(oe)):(b=b.delete(oe),_=_.delete(oe)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const oe="F"===this.query.limitType?b.last():b.first();b=b.delete(oe.key),_=_.delete(oe.key),a.track({type:1,doc:oe})}return{Ra:b,fa:a,ns:x,mutatedKeys:_}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((oe,ve)=>function(vt,jt){const cn=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return cn(vt)-cn(jt)}(oe.type,ve.type)||this.Aa(oe.doc,ve.doc)),this.pa(a),h=null!=h&&h;const x=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,q=F!==this.Ea;return this.Ea=F,0!==b.length||q?{snapshot:new ih(this.query,e.Ra,_,b,e.mutatedKeys,0===F,q,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ar(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new Pp(a))}),this.da.forEach(a=>{e.has(a)||r.push(new xp(a))}),r}ba(e){this.Ta=e.Ts,this.da=ar();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ih.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class By{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Ug{constructor(e){this.key=e,this.va=!1}}class c_{constructor(e,r,a,h,_,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new ji(x=>ys(x),po),this.Ma=new Map,this.xa=new Set,this.Oa=new Kr(Ut.comparator),this.Na=new Map,this.La=new rf,this.Ba={},this.ka=new Map,this.qa=Oc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Zu(d,e){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,o.A)(function*(d,e,r=!0){const a=Cf(d);let h;const _=a.Fa.get(e);return _?(a.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield $y(a,e,r,!0),h})).apply(this,arguments)}function l_(d,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,o.A)(function*(d,e){const r=Cf(d);yield $y(r,e,!0,!1)})).apply(this,arguments)}function $y(d,e,r,a){return lh.apply(this,arguments)}function lh(){return(lh=(0,o.A)(function*(d,e,r,a){const h=yield Uc(d.localStore,dn(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,r);let x;return a&&(x=yield Bg(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&Yd(d.remoteStore,h),x})).apply(this,arguments)}function Bg(d,e,r,a,h){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,o.A)(function*(d,e,r,a,h){d.Ka=(ve,$e,vt)=>{return(jt=(0,o.A)(function*(Jt,Hn,ir,Kn){let Rr=Hn.view.ma(ir);Rr.ns&&(Rr=yield dc(Jt.localStore,Hn.query,!1).then(({documents:ke})=>Hn.view.ma(ke,Rr)));const Ni=Kn&&Kn.targetChanges.get(Hn.targetId),ri=Kn&&null!=Kn.targetMismatches.get(Hn.targetId),it=Hn.view.applyChanges(Rr,Jt.isPrimaryClient,Ni,ri);return nd(Jt,Hn.targetId,it.wa),it.snapshot}),function cn(Jt,Hn,ir,Kn){return jt.apply(this,arguments)})(d,ve,$e,vt);var jt};const _=yield dc(d.localStore,e,!0),b=new a_(e,_.Ts),x=b.ma(_.documents),F=io.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,h),q=b.applyChanges(x,d.isPrimaryClient,F);nd(d,r,q.wa);const oe=new By(e,r,b);return d.Fa.set(e,oe),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),q.snapshot}),Rp.apply(this,arguments)}function ed(d,e,r){return Op.apply(this,arguments)}function Op(){return(Op=(0,o.A)(function*(d,e,r){const a=dt(d),h=a.Fa.get(e),_=a.Ma.get(h.targetId);if(_.length>1)return a.Ma.set(h.targetId,_.filter(b=>!po(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield nu(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&Tl(a.remoteStore,h.targetId),Gc(a,h.targetId)}).catch(jn))):(Gc(a,h.targetId),yield nu(a.localStore,h.targetId,!0))})).apply(this,arguments)}function $g(d,e){return Np.apply(this,arguments)}function Np(){return(Np=(0,o.A)(function*(d,e){const r=dt(d),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Tl(r.remoteStore,a.targetId))})).apply(this,arguments)}function td(){return(td=(0,o.A)(function*(d,e,r){const a=Tf(d);try{const h=yield function(b,x){const F=dt(b),q=Bt.now(),oe=x.reduce((vt,jt)=>vt.add(jt.key),ar());let ve,$e;return F.persistence.runTransaction("Locally write mutations","readwrite",vt=>{let jt=Qi(),cn=ar();return F.cs.getEntries(vt,oe).next(Jt=>{jt=Jt,jt.forEach((Hn,ir)=>{ir.isValidDocument()||(cn=cn.add(Hn))})}).next(()=>F.localDocuments.getOverlayedDocuments(vt,jt)).next(Jt=>{ve=Jt;const Hn=[];for(const ir of x){const Kn=mi(ir,ve.get(ir.key).overlayedDocument);null!=Kn&&Hn.push(new ai(ir.key,Kn,Qe(Kn.value.mapValue),X.exists(!0)))}return F.mutationQueue.addMutationBatch(vt,q,Hn,x)}).next(Jt=>{$e=Jt;const Hn=Jt.applyToLocalDocumentSet(ve,cn);return F.documentOverlayCache.saveOverlays(vt,Jt.batchId,Hn)})}).then(()=>({batchId:$e.batchId,changes:Aa(ve)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,x,F){let q=b.Ba[b.currentUser.toKey()];q||(q=new Kr(Kt)),q=q.insert(x,F),b.Ba[b.currentUser.toKey()]=q}(a,h.batchId,r),yield cu(a,h.changes),yield Qu(a.remoteStore)}catch(h){const _=Il(h,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function _f(d,e){return yf.apply(this,arguments)}function yf(){return(yf=(0,o.A)(function*(d,e){const r=dt(d);try{const a=yield function Mg(d,e){const r=dt(d),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const x=[];e.targetChanges.forEach((oe,ve)=>{const $e=h.get(ve);if(!$e)return;x.push(r.Ur.removeMatchingKeys(_,oe.removedDocuments,ve).next(()=>r.Ur.addMatchingKeys(_,oe.addedDocuments,ve)));let vt=$e.withSequenceNumber(_.currentSequenceNumber);var cn,Jt,Hn;null!==e.targetMismatches.get(ve)?vt=vt.withResumeToken(Si.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):oe.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(oe.resumeToken,a)),h=h.insert(ve,vt),Jt=vt,Hn=oe,(0===(cn=$e).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-cn.snapshotVersion.toMicroseconds()>=3e8||Hn.addedDocuments.size+Hn.modifiedDocuments.size+Hn.removedDocuments.size>0)&&x.push(r.Ur.updateTargetData(_,vt))});let F=Qi(),q=ar();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(_,oe))}),x.push(cf(_,b,e.documentUpdates).next(oe=>{F=oe.Ps,q=oe.Is})),!a.isEqual(Ft.min())){const oe=r.Ur.getLastRemoteSnapshotVersion(_).next(ve=>r.Ur.setTargetsMetadata(_,_.currentSequenceNumber,a));x.push(oe)}return tt.waitFor(x).next(()=>b.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,F,q)).next(()=>F)}).then(_=>(r.os=h,_))}(r.localStore,e);e.targetChanges.forEach((h,_)=>{const b=r.Na.get(_);b&&(Vt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?Vt(b.va):h.removedDocuments.size>0&&(Vt(b.va),b.va=!1))}),yield cu(r,a,e)}catch(a){yield jn(a)}})).apply(this,arguments)}function Fp(d,e,r){const a=dt(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((_,b)=>{const x=b.view.Z_(e);x.snapshot&&h.push(x.snapshot)}),function(b,x){const F=dt(b);F.onlineState=x;let q=!1;F.queries.forEach((oe,ve)=>{for(const $e of ve.j_)$e.Z_(x)&&(q=!0)}),q&&Vg(F)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Lp(d,e,r){return vf.apply(this,arguments)}function vf(){return(vf=(0,o.A)(function*(d,e,r){const a=dt(d);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),_=h&&h.key;if(_){let b=new Kr(Ut.comparator);b=b.insert(_,mt.newNoDocument(_,Ft.min()));const x=ar().add(_),F=new Li(Ft.min(),new Map,new Kr(Kt),b,x);yield _f(a,F),a.Oa=a.Oa.remove(_),a.Na.delete(e),Wg(a)}else yield nu(a.localStore,e,!1).then(()=>Gc(a,e,r)).catch(jn)})).apply(this,arguments)}function Ef(d,e){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,o.A)(function*(d,e){const r=dt(d),a=e.batch.batchId;try{const h=yield function Ku(d,e){const r=dt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),_=r.cs.newChangeBuffer({trackRemovals:!0});return function(x,F,q,oe){const ve=q.batch,$e=ve.keys();let vt=tt.resolve();return $e.forEach(jt=>{vt=vt.next(()=>oe.getEntry(F,jt)).next(cn=>{const Jt=q.docVersions.get(jt);Vt(null!==Jt),cn.version.compareTo(Jt)<0&&(ve.applyToRemoteDocument(cn,q),cn.isValidDocument()&&(cn.setReadTime(q.commitVersion),oe.addEntry(cn)))})}),vt.next(()=>x.mutationQueue.removeMutationBatch(F,ve))}(r,a,e,_).next(()=>_.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(x){let F=ar();for(let q=0;q<x.mutationResults.length;++q)x.mutationResults[q].transformResults.length>0&&(F=F.add(x.batch.mutations[q].key));return F}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);Up(r,a,null),dh(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield cu(r,h)}catch(h){yield jn(h)}})).apply(this,arguments)}function u_(d,e,r){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,o.A)(function*(d,e,r){const a=dt(d);try{const h=yield function(b,x){const F=dt(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let oe;return F.mutationQueue.lookupMutationBatch(q,x).next(ve=>(Vt(null!==ve),oe=ve.keys(),F.mutationQueue.removeMutationBatch(q,ve))).next(()=>F.mutationQueue.performConsistencyCheck(q)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(q,oe,x)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,oe)).next(()=>F.localDocuments.getDocuments(q,oe))})}(a.localStore,e);Up(a,e,r),dh(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield cu(a,h)}catch(h){yield jn(h)}})).apply(this,arguments)}function Gg(){return(Gg=(0,o.A)(function*(d,e){const r=dt(d);Ra(r.remoteStore)||we("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const x=dt(b);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>x.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=Il(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function dh(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Up(d,e,r){const a=dt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const _=h.get(e);_&&(r?_.reject(r):_.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function Gc(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),r&&d.Ca.$a(a,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||zg(d,a)})}function zg(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(Tl(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),Wg(d))}function nd(d,e,r){for(const a of r)a instanceof xp?(d.La.addReference(a.key,e),Hy(d,a)):a instanceof Pp?(we("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||zg(d,a.key)):xt()}function Hy(d,e){const r=e.key,a=r.path.canonicalString();d.Oa.get(r)||d.xa.has(a)||(we("SyncEngine","New document in limbo: "+r),d.xa.add(a),Wg(d))}function Wg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new Ut(sn.fromString(e)),a=d.qa.next();d.Na.set(a,new Ug(r)),d.Oa=d.Oa.insert(r,a),Yd(d.remoteStore,new N(dn(Z(r.path)),a,"TargetPurposeLimboResolution",k.oe))}}function cu(d,e,r){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,o.A)(function*(d,e,r){const a=dt(d),h=[],_=[],b=[];var x;a.Fa.isEmpty()||(a.Fa.forEach((x,F)=>{b.push(a.Ka(F,e,r).then(q=>{var oe;if((q||r)&&a.isPrimaryClient){const ve=q?!q.fromCache:null===(oe=r?.targetChanges.get(F.targetId))||void 0===oe?void 0:oe.current;a.sharedClientState.updateQueryState(F.targetId,ve?"current":"not-current")}if(q){h.push(q);const ve=fp.Wi(F.targetId,q);_.push(ve)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(x=(0,o.A)(function*(q,oe){const ve=dt(q);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",$e=>tt.forEach(oe,vt=>tt.forEach(vt.$i,jt=>ve.persistence.referenceDelegate.addReference($e,vt.targetId,jt)).next(()=>tt.forEach(vt.Ui,jt=>ve.persistence.referenceDelegate.removeReference($e,vt.targetId,jt)))))}catch($e){if(!Ln($e))throw $e;we("LocalStore","Failed to update sequence numbers: "+$e)}for(const $e of oe){const vt=$e.targetId;if(!$e.fromCache){const jt=ve.os.get(vt),Jt=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);ve.os=ve.os.insert(vt,Jt)}}}),function F(q,oe){return x.apply(this,arguments)})(a.localStore,_))}),Kg.apply(this,arguments)}function qg(d,e){return hh.apply(this,arguments)}function hh(){return(hh=(0,o.A)(function*(d,e){const r=dt(d);if(!r.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const a=yield Io(r.localStore,e);r.currentUser=e,(_=r).ka.forEach(x=>{x.forEach(F=>{F.reject(new et(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield cu(r,a.hs)}var _})).apply(this,arguments)}function fh(d,e){const r=dt(d),a=r.Na.get(e);if(a&&a.va)return ar().add(a.key);{let h=ar();const _=r.Ma.get(e);if(!_)return h;for(const b of _){const x=r.Fa.get(b);h=h.unionWith(x.view.Va)}return h}}function Yg(d,e){return pc.apply(this,arguments)}function pc(){return(pc=(0,o.A)(function*(d,e){const r=dt(d),a=yield dc(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&nd(r,e.targetId,h.wa),h})).apply(this,arguments)}function d_(d,e){return jp.apply(this,arguments)}function jp(){return(jp=(0,o.A)(function*(d,e){const r=dt(d);return jc(r.localStore,e).then(a=>cu(r,a))})).apply(this,arguments)}function h_(d,e,r,a){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.A)(function*(d,e,r,a){const h=dt(d),_=yield function(x,F){const q=dt(x),oe=dt(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",ve=>oe.Mn(ve,F).next($e=>$e?q.localDocuments.getDocuments(ve,$e):tt.resolve(null)))}(h.localStore,e);var F;null!==_?("pending"===r?yield Qu(h.remoteStore):"acknowledged"===r||"rejected"===r?(Up(h,e,a||null),dh(h,e),F=e,dt(dt(h.localStore).mutationQueue).On(F)):xt(),yield cu(h,_)):we("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Xg(){return(Xg=(0,o.A)(function*(d,e){const r=dt(d);if(Cf(r),Tf(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield f_(r,a.toArray());r.Qa=!0,yield kg(r.remoteStore,!0);for(const _ of h)Yd(r.remoteStore,_)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((_,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(Gc(r,b),nu(r.localStore,b,!0))),Tl(r.remoteStore,b)}),yield h,yield f_(r,a),function(b){const x=dt(b);x.Na.forEach((F,q)=>{Tl(x.remoteStore,q)}),x.La.pr(),x.Na=new Map,x.Oa=new Kr(Ut.comparator)}(r),r.Qa=!1,yield kg(r.remoteStore,!1)}})).apply(this,arguments)}function f_(d,e,r){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,o.A)(function*(d,e,r){const a=dt(d),h=[],_=[];for(const b of e){let x;const F=a.Ma.get(b);if(F&&0!==F.length){x=yield Uc(a.localStore,dn(F[0]));for(const q of F){const oe=a.Fa.get(q),ve=yield Yg(a,oe);ve.snapshot&&_.push(ve.snapshot)}}else{const q=yield lf(a.localStore,b);x=yield Uc(a.localStore,q),yield Bg(a,Jg(q),b,!1,x.resumeToken)}h.push(x)}return a.Ca.d_(_),h})).apply(this,arguments)}function Jg(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Al(d){return r=dt(d).localStore,dt(dt(r).persistence).Qi();var r}function rd(d,e,r,a){return bf.apply(this,arguments)}function bf(){return(bf=(0,o.A)(function*(d,e,r,a){const h=dt(d);if(h.Qa)return void we("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const b=yield jc(h.localStore,il(_[0])),x=Li.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Si.EMPTY_BYTE_STRING);yield cu(h,b,x);break}case"rejected":yield nu(h.localStore,e,!0),Gc(h,e,a);break;default:xt()}})).apply(this,arguments)}function p_(d,e,r){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,o.A)(function*(d,e,r){const a=Cf(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){we("SyncEngine","Adding an already active target "+h);continue}const _=yield lf(a.localStore,h),b=yield Uc(a.localStore,_);yield Bg(a,Jg(_),b.targetId,!1,b.resumeToken),Yd(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield nu(a.localStore,h,!1).then(()=>{Tl(a.remoteStore,h),Gc(a,h)}).catch(jn))}})).apply(this,arguments)}function Cf(d){const e=dt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=_f.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lp.bind(null,e),e.Ca.d_=Lg.bind(null,e.eventManager),e.Ca.$a=oh.bind(null,e.eventManager),e}function Tf(d){const e=dt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ef.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u_.bind(null,e),e}let lu=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=Bc(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Ud(this.persistence,new Pg,r.initialUser,this.serializer)}Ga(r){return new sf(Vd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class If extends lu{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield Tf(a.Ja.syncEngine),yield Qu(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Ud(this.persistence,new Pg,e.initialUser,this.serializer)}ja(e,r){return new kc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new M(r,this.persistence);return new H(e.asyncQueue,a)}Ga(e){const r=uc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new Wu(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,wo(),Ao(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class g_ extends If{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof v&&(a.sharedClientState.syncEngine={no:h_.bind(null,h),ro:rd.bind(null,h),io:p_.bind(null,h),Qi:Al.bind(null,h),eo:d_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var _=(0,o.A)(function*(b){yield function Gy(d,e){return Xg.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const r=wo();if(!v.D(r))throw new et(Le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=uc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let ph=(()=>{class d{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>Fp(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=qg.bind(null,h.syncEngine),yield kg(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new i_}createDatastore(r){const a=Bc(r.databaseInfo.databaseId),h=new zr(r.databaseInfo);return new gp(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,_=this.datastore,b=r.asyncQueue,x=a=>Fp(this.syncEngine,a,0),F=fe.D()?new fe:new Q,new Rg(h,_,b,x,F);var h,_,b,x,F}createSyncEngine(r,a){return function(_,b,x,F,q,oe,ve){const $e=new c_(_,b,x,F,q,oe);return ve&&($e.Qa=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,_;yield(_=(0,o.A)(function*(x){const F=dt(x);we("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield ou(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(x){return _.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function wf(d,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Oa{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class id{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Xt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const _=yield e.iu(h);return new o_(JSON.parse(_),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class m_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new et(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,x){const F=dt(b),q={documents:x.map(vt=>xr(F.serializer,vt))},oe=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,sn.emptyPath(),q,x.length),ve=new Map;oe.forEach(vt=>{const jt=function dl(d,e){return"found"in e?function(a,h){Vt(!!h.found);const _=ko(a,h.found.name),b=is(h.found.updateTime),x=h.found.createTime?is(h.found.createTime):Ft.min(),F=new Oe({mapValue:{fields:h.found.fields}});return mt.newFoundDocument(_,b,x,F)}(d,e):"missing"in e?function(a,h){Vt(!!h.missing),Vt(!!h.readTime);const _=ko(a,h.missing),b=is(h.readTime);return mt.newNoDocument(_,b)}(d,e):xt()}(F.serializer,vt);ve.set(jt.key.toString(),jt)});const $e=[];return x.forEach(vt=>{const jt=ve.get(vt.toString());Vt(!!jt),$e.push(jt)}),$e}),function _(b,x){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ps(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const _=Ut.fromPath(h);e.mutations.push(new qo(_,e.precondition(_)))}),yield(a=(0,o.A)(function*(_,b){const x=dt(_),F={writes:b.map(q=>hl(x.serializer,q))};yield x.Mo("Commit",x.serializer.databaseId,sn.emptyPath(),F)}),function h(_,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw xt();r=Ft.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new et(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ft.min())?X.exists(!1):X.updateTime(r):X.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ft.min()))throw new et(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return X.updateTime(r)}return X.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sd{constructor(e,r,a,h,_){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=_,this._u=a.maxAttempts,this.t_=new iu(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new m_(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!B(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Ha(r)}return!1}}class __{constructor(e,r,a,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=Ke.UNAUTHENTICATED,this.clientId=kn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(a,function(){var x=(0,o.A)(function*(F){we("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(a,x=>(we("FirestoreClient","Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=Il(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function Ky(d,e){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(_){a.isEqual(_)||(yield Io(e.localStore,_),a=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),Sl.apply(this,arguments)}function qy(d,e){return Af.apply(this,arguments)}function Af(){return(Af=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield Df(d);we("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>r_(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>r_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function Df(d){return y_.apply(this,arguments)}function y_(){return(y_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ky(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Le.FAILED_PRECONDITION||h.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;fn("Error using user provided cache. Falling back to memory cache: "+e),yield Ky(d,new lu)}}else we("FirestoreClient","Using default OfflineComponentProvider"),yield Ky(d,new lu);var h;return d._offlineComponents})).apply(this,arguments)}function Zg(d){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),yield qy(d,d._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),yield qy(d,new ph))),d._onlineComponents})).apply(this,arguments)}function v_(d){return Df(d).then(e=>e.persistence)}function gh(d){return Df(d).then(e=>e.localStore)}function E_(d){return Zg(d).then(e=>e.remoteStore)}function $p(d){return Zg(d).then(e=>e.syncEngine)}function Wa(d){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,o.A)(function*(d){const e=yield Zg(d),r=e.eventManager;return r.onListen=Zu.bind(null,e.syncEngine),r.onUnlisten=ed.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=l_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=$g.bind(null,e.syncEngine),r})).apply(this,arguments)}function _i(d,e,r={}){const a=new Xt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,x,F,q){const oe=new Oa({next:$e=>{oe.Za(),b.enqueueAndForget(()=>sh(_,ve));const vt=$e.docs.has(x);!vt&&$e.fromCache?q.reject(new et(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):vt&&$e.fromCache&&F&&"server"===F.source?q.reject(new et(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve($e)},error:$e=>q.reject($e)}),ve=new Dp(Z(x.path),oe,{includeMetadataChanges:!0,_a:!0});return wp(_,ve)}(yield Wa(d),d.asyncQueue,e,r,a)})),a.promise}function zp(d,e,r={}){const a=new Xt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,x,F,q){const oe=new Oa({next:$e=>{oe.Za(),b.enqueueAndForget(()=>sh(_,ve)),$e.fromCache&&"server"===F.source?q.reject(new et(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve($e)},error:$e=>q.reject($e)}),ve=new Dp(x,oe,{includeMetadataChanges:!0,_a:!0});return wp(_,ve)}(yield Wa(d),d.asyncQueue,e,r,a)})),a.promise}function ev(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const _h=new Map;function od(d,e,r){if(!r)throw new et(Le.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function tm(d,e,r,a){if(!0===e&&!0===a)throw new et(Le.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function nm(d){if(!Ut.isDocumentKey(d))throw new et(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Wp(d){if(Ut.isDocumentKey(d))throw new et(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function yh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":xt()}function ci(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new et(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=yh(d);throw new et(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function rm(d,e){if(e<=0)throw new et(Le.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class im{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ev(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new et(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new et(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new et(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class du{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new im({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new im(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Ae;switch(a.type){case"firstParty":return new Ze(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=_h.get(r);a&&(we("ComponentProvider","Removing Datastore"),_h.delete(r),a.terminate())}(this),Promise.resolve()}}function tv(d,e,r,a={}){var h;const _=(d=ci(d,du))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&fn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),a.mockUserToken){let x,F;if("string"==typeof a.mockUserToken)x=a.mockUserToken,F=Ke.MOCK_USER;else{x=(0,me.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const q=a.mockUserToken.sub||a.mockUserToken.user_id;if(!q)throw new et(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Ke(q)}d._authCredentials=new be(new Be(x,F))}}class co{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class Ls{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Ka extends co{constructor(e,r,a){super(e,r,Z(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new Ut(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function T_(d,e,...r){if(d=(0,me.Ku)(d),od("collection","path",e),d instanceof du){const a=sn.fromString(e,...r);return Wp(a),new Ka(d,null,a)}{if(!(d instanceof Ls||d instanceof Ka))throw new et(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(sn.fromString(e,...r));return Wp(a),new Ka(d.firestore,null,a)}}function I_(d,e){if(d=ci(d,du),od("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(Le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new co(d,null,(a=e,new Go(sn.emptyPath(),a)));var a}function hu(d,e,...r){if(d=(0,me.Ku)(d),1===arguments.length&&(e=kn.newId()),od("doc","path",e),d instanceof du){const a=sn.fromString(e,...r);return nm(a),new Ls(d,null,new Ut(a))}{if(!(d instanceof Ls||d instanceof Ka))throw new et(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(sn.fromString(e,...r));return nm(a),new Ls(d.firestore,d instanceof Ka?d.converter:null,new Ut(a))}}function nv(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),(d instanceof Ls||d instanceof Ka)&&(e instanceof Ls||e instanceof Ka)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Sf(d,e){return d=(0,me.Ku)(d),e=(0,me.Ku)(e),d instanceof co&&e instanceof co&&d.firestore===e.firestore&&po(d._query,e._query)&&d.converter===e.converter}class xf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iu(this,"async_queue_retry"),this.Vu=()=>{const a=Ao();a&&we("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=Ao();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ao();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Xt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Ln(r))throw r;we("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,Zt("INTERNAL UNHANDLED ERROR: ",function(b){let x=b.message||"";return b.stack&&(x=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),x}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=Ip.createAndSchedule(this,e,r,a,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&xt()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function sm(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class om{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Kp=-1;class vi extends du{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new xf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new xf(r),e._firestoreClient=void 0,yield r}})()}}function am(d,e){const r="object"==typeof d?d:(0,ue.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,ue._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const _=(0,me.yU)("firestore");_&&tv(h,..._)}return h}function Ts(d){if(d._terminated)throw new et(Le.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||w_(d),d._firestoreClient}function w_(d){var e,r,a;const h=d._freezeSettings(),_=(F=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Sr(d._databaseId,F,d._persistenceKey,(oe=h).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,ev(oe.experimentalLongPollingOptions),oe.useFetchStreams));var F,oe;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new __(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(x){const F=x?._online.build();return{_offline:x?._offline.build(F),_online:F}}(d._componentsProvider))}function A_(d,e){fn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return lm(d,ph.provider,{build:a=>new If(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function ad(d){return cm.apply(this,arguments)}function cm(){return(cm=(0,o.A)(function*(d){fn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();lm(d,ph.provider,{build:r=>new g_(r,e.cacheSizeBytes)})})).apply(this,arguments)}function lm(d,e,r){if((d=ci(d,vi))._firestoreClient||d._terminated)throw new et(Le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new et(Le.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},w_(d)}function D_(d){if(d._initialized&&!d._terminated)throw new et(Le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xt;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!he.D())return Promise.resolve();const _=h+"main";yield he.delete(_)}),function a(h){return r.apply(this,arguments)})(uc(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function um(d){return function(r){const a=new Xt;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function uh(d,e){return Gg.apply(this,arguments)}(yield $p(r),a)})),a.promise}(Ts(d=ci(d,vi)))}function S_(d){return function em(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield v_(d),r=yield E_(d);return e.setNetworkEnabled(!0),function(h){const _=dt(h);return _.L_.delete(0),su(_)}(r)}))}(Ts(d=ci(d,vi)))}function rv(d){return function Gp(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield v_(d),r=yield E_(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(_){const b=dt(_);b.L_.add(0),yield ou(b),b.q_.set("Offline")}),function h(_){return a.apply(this,arguments)})(r);var a}))}(Ts(d=ci(d,vi)))}function dm(d,e){const r=Ts(d=ci(d,vi)),a=new om;return function Qy(d,e,r,a){const h=function(b,x){let F;return F="string"==typeof b?ql().encode(b):b,oe=function(oe,ve){if(oe instanceof Uint8Array)return wf(oe,void 0);if(oe instanceof ArrayBuffer)return wf(new Uint8Array(oe),void 0);if(oe instanceof ReadableStream)return oe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new id(oe,x);var oe}(r,Bc(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function zy(d,e,r){const a=dt(d);var h;(h=(0,o.A)(function*(b,x,F){try{const q=yield x.getMetadata();if(yield function(jt,cn){const Jt=dt(jt),Hn=is(cn.createTime);return Jt.persistence.runTransaction("hasNewerBundle","readonly",ir=>Jt.Gr.getBundleMetadata(ir,cn.id)).then(ir=>!!ir&&ir.createTime.compareTo(Hn)>=0)}(b.localStore,q))return yield x.close(),F._completeWith({taskState:"Success",documentsLoaded:(jt=q).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);F._updateProgress(mf(q));const oe=new Sp(q,b.localStore,x.serializer);let ve=yield x.Ua();for(;ve;){const vt=yield oe.la(ve);vt&&F._updateProgress(vt),ve=yield x.Ua()}const $e=yield oe.complete();return yield cu(b,$e.Ia,void 0),yield function(jt,cn){const Jt=dt(jt);return Jt.persistence.runTransaction("Save bundle","readwrite",Hn=>Jt.Gr.saveBundleMetadata(Hn,cn))}(b.localStore,q),F._completeWith($e.progress),Promise.resolve($e.Pa)}catch(q){return fn("SyncEngine",`Loading bundle failed with ${q}`),F._failWith(q),Promise.resolve(new Set)}var jt}),function _(b,x,F){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield $p(d),h,a)}))}(r,d._databaseId,e,a),a}function a0(d,e){return function Jy(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const _=dt(a);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield gh(d),e)}))}(Ts(d=ci(d,vi)),e).then(r=>r?new co(d,null,r.query):null)}class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Si.fromBase64String(e))}catch(r){throw new et(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new fu(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new et(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zc{constructor(e){this._methodName=e}}class qp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new et(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new et(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}class vh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==h[_])return!1;return!0}(this._values,e._values)}}const fm=/^__.*__$/;class Eh{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new ai(e,this.data,this.fieldMask,r,this.fieldTransforms):new pr(e,this.data,r,this.fieldTransforms)}}class Yp{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new ai(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Xp(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class Wc{constructor(e,r,a,h,_,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Wc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Xp(this.Cu)&&fm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pu{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||Bc(e)}Qu(e,r,a,h=!1){return new Wc({Cu:e,methodName:r,qu:a,path:Wn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ea(d){const e=d._freezeSettings(),r=Bc(d._databaseId);return new pu(d._databaseId,!!e.ignoreUndefinedProperties,r)}function gu(d,e,r,a,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,r,h);_m("Data must be an object, but it was:",b,a);const x=mm(a,b);let F,q;if(_.merge)F=new di(b.fieldMask),q=b.fieldTransforms;else if(_.mergeFields){const oe=[];for(const ve of _.mergeFields){const $e=Jp(e,ve,r);if(!b.contains($e))throw new et(Le.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);R_(oe,$e)||oe.push($e)}F=new di(oe),q=b.fieldTransforms.filter(ve=>F.covers(ve.field))}else F=null,q=b.fieldTransforms;return new Eh(new Oe(x),F,q)}class xl extends zc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xl}}function ld(d,e,r){return new Wc({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class x_ extends zc{_toFieldTransform(e){return new P(e.path,new Tc)}isEqual(e){return e instanceof x_}}class Rf extends zc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=ld(this,e,!0),a=this.Ku.map(_=>Pl(_,r)),h=new Ko(a);return new P(e.path,h)}isEqual(e){return e instanceof Rf&&(0,me.bD)(this.Ku,e.Ku)}}class mu extends zc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=ld(this,e,!0),a=this.Ku.map(_=>Pl(_,r)),h=new Da(a);return new P(e.path,h)}isEqual(e){return e instanceof mu&&(0,me.bD)(this.Ku,e.Ku)}}class pm extends zc{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new $a(e.serializer,Kl(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof pm&&this.$u===e.$u}}function Qp(d,e,r,a){const h=d.Qu(1,e,r);_m("Data must be an object, but it was:",h,a);const _=[],b=Oe.empty();si(a,(F,q)=>{const oe=ud(e,F,r);q=(0,me.Ku)(q);const ve=h.Nu(oe);if(q instanceof xl)_.push(oe);else{const $e=Pl(q,ve);null!=$e&&(_.push(oe),b.set(oe,$e))}});const x=new di(_);return new Yp(b,x,h.fieldTransforms)}function gm(d,e,r,a,h,_){const b=d.Qu(1,e,r),x=[Jp(e,a,r)],F=[h];if(_.length%2!=0)throw new et(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<_.length;$e+=2)x.push(Jp(e,_[$e])),F.push(_[$e+1]);const q=[],oe=Oe.empty();for(let $e=x.length-1;$e>=0;--$e)if(!R_(q,x[$e])){const vt=x[$e];let jt=F[$e];jt=(0,me.Ku)(jt);const cn=b.Nu(vt);if(jt instanceof xl)q.push(vt);else{const Jt=Pl(jt,cn);null!=Jt&&(q.push(vt),oe.set(vt,Jt))}}const ve=new di(q);return new Yp(oe,ve,b.fieldTransforms)}function P_(d,e,r,a=!1){return Pl(r,d.Qu(a?4:3,e))}function Pl(d,e){if(M_(d=(0,me.Ku)(d)))return _m("Unsupported field value:",e,d),mm(d,e);if(d instanceof zc)return function(a,h){if(!Xp(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const _=a._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const _=[];let b=0;for(const x of a){let F=Pl(x,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),b++}return{arrayValue:{values:_}}}(d,e)}return function(a,h){if(null===(a=(0,me.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Kl(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const _=Bt.fromDate(a);return{timestampValue:No(h.serializer,_)}}if(a instanceof Bt){const _=new Bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:No(h.serializer,_)}}if(a instanceof qp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof fu)return{bytesValue:Cd(h.serializer,a._byteString)};if(a instanceof Ls){const _=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:tc(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof vh)return x=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(F=>{if("number"!=typeof F)throw x.Bu("VectorValues must only contain numeric values.");return bo(x.serializer,F)})}}}}};var x;throw h.Bu(`Unsupported field value: ${yh(a)}`)}(d,e)}function mm(d,e){const r={};return gs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(d,(a,h)=>{const _=Pl(h,e.Mu(a));null!=_&&(r[a]=_)}),{mapValue:{fields:r}}}function M_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Bt||d instanceof qp||d instanceof fu||d instanceof Ls||d instanceof zc||d instanceof vh)}function _m(d,e,r){if(!M_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=yh(r);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function Jp(d,e,r){if((e=(0,me.Ku)(e))instanceof cd)return e._internalPath;if("string"==typeof e)return ud(d,e);throw bh("Field path arguments must be of type string or ",d,!1,void 0,r)}const sv=new RegExp("[~\\*/\\[\\]]");function ud(d,e,r){if(e.search(sv)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new cd(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function bh(d,e,r,a,h){const _=a&&!a.isEmpty(),b=void 0!==h;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let F="";return(_||b)&&(F+=" (found",_&&(F+=` in field ${a}`),b&&(F+=` in document ${h}`),F+=")"),new et(Le.INVALID_ARGUMENT,x+d+F)}function R_(d,e){return d.some(r=>r.isEqual(e))}class dd{constructor(e,r,a,h,_){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Is("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Kc extends dd{data(){return super.data()}}function Is(d,e){return"string"==typeof e?ud(d,e):e instanceof cd?e._internalPath:e._delegate._internalPath}function hd(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new et(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ch{}class Zp extends Ch{}function O_(d,e,...r){let a=[];e instanceof Ch&&a.push(e),a=a.concat(r),function(_){const b=_.filter(F=>F instanceof Ml).length,x=_.filter(F=>F instanceof Th).length;if(b>1||b>0&&x>0)throw new et(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class Th extends Zp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Th(e,r,a)}_apply(e){const r=this._parse(e);return kf(e._query,r),new co(e.firestore,e.converter,Zs(e._query,r))}_parse(e){const r=Ea(e.firestore);return function(_,b,x,F,q,oe,ve){let $e;if(q.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new et(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){vm(ve,oe);const vt=[];for(const jt of ve)vt.push(uv(F,_,jt));$e={arrayValue:{values:vt}}}else $e=uv(F,_,ve)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||vm(ve,oe),$e=P_(x,"where",ve,"in"===oe||"not-in"===oe);return On.create(q,oe,$e)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function ov(d,e,r){const a=e,h=Is("where",d);return Th._create(h,a,r)}class Ml extends Ch{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ml(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:Xn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,_){let b=h;const x=_.getFlattenedFilters();for(const F of x)kf(b,F),b=Zs(b,F)}(e._query,r),new co(e.firestore,e.converter,Zs(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fd extends Zp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new fd(e,r)}_apply(e){const r=function(h,_,b){if(null!==h.startAt)throw new et(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new et(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zn(_,b)}(e._query,this._field,this._direction);return new co(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new Go(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function l0(d,e="asc"){const r=e,a=Is("orderBy",d);return fd._create(a,r)}class eg extends Zp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new eg(e,r,a)}_apply(e){return new co(e.firestore,e.converter,hs(e._query,this._limit,this._limitType))}}function u0(d){return rm("limit",d),eg._create("limit",d,"F")}function av(d){return rm("limitToLast",d),eg._create("limitToLast",d,"L")}class ym extends Zp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new ym(e,r,a)}_apply(e){const r=k_(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(_=r,new Go((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function cv(...d){return ym._create("startAt",d,!0)}function lv(...d){return ym._create("startAfter",d,!1)}class Nf extends Zp{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new Nf(e,r,a)}_apply(e){const r=k_(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(_=r,new Go((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function LE(...d){return Nf._create("endBefore",d,!1)}function N_(...d){return Nf._create("endAt",d,!0)}function k_(d,e,r,a){if(r[0]=(0,me.Ku)(r[0]),r[0]instanceof dd)return function(_,b,x,F,q){if(!F)throw new et(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const oe=[];for(const ve of Ue(_))if(ve.field.isKeyField())oe.push(lr(b,F.key));else{const $e=F.data.field(ve.field);if(Bs($e))throw new et(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$e){const vt=ve.field.canonicalString();throw new et(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${vt}' (used as the orderBy) does not exist.`)}oe.push($e)}return new qt(oe,q)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const h=Ea(d.firestore);return function(b,x,F,q,oe,ve){const $e=b.explicitOrderBy;if(oe.length>$e.length)throw new et(Le.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const vt=[];for(let jt=0;jt<oe.length;jt++){const cn=oe[jt];if($e[jt].field.isKeyField()){if("string"!=typeof cn)throw new et(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof cn}`);if(!de(b)&&-1!==cn.indexOf("/"))throw new et(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${cn}' contains a slash.`);const Jt=b.path.child(sn.fromString(cn));if(!Ut.isDocumentKey(Jt))throw new et(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${Jt}' is not because it contains an odd number of segments.`);const Hn=new Ut(Jt);vt.push(lr(x,Hn))}else{const Jt=P_(F,q,cn);vt.push(Jt)}}return new qt(vt,ve)}(d._query,d.firestore._databaseId,h,e,r,a)}}function uv(d,e,r){if("string"==typeof(r=(0,me.Ku)(r))){if(""===r)throw new et(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!de(e)&&-1!==r.indexOf("/"))throw new et(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(sn.fromString(r));if(!Ut.isDocumentKey(a))throw new et(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return lr(d,new Ut(a))}if(r instanceof Ls)return lr(d,r._key);throw new et(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(r)}.`)}function vm(d,e){if(!Array.isArray(d)||0===d.length)throw new et(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kf(d,e){const r=function(h,_){for(const b of h)for(const x of b.getFlattenedFilters())if(_.indexOf(x.op)>=0)return x.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new et(Le.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Em{convertValue(e,r="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return si(e,(h,_)=>{a[h]=this.convertValue(_,r)}),a}convertVectorValue(e){var r,a,h;const _=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>Jr(b.doubleValue));return new vh(_)}convertGeoPoint(e){return new qp(Jr(e.latitude),Jr(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=vo(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp($s(e));default:return null}}convertTimestamp(e){const r=Js(e);return new Bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=sn.fromString(e);Vt(w(a));const h=new hi(a.get(1),a.get(3)),_=new Ut(a.popFirst(5));return h.isEqual(r)||Zt(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function Ih(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class dv extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,r)}}class Ff{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _u extends dd{constructor(e,r,a,h,_,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Is("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class gc extends _u{data(e={}){return super.data(e)}}class Rl{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Ff(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new gc(this._firestore,this._userDataWriter,a.key,a,new Ff(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new et(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(x=>({type:"added",doc:new gc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Ff(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(x=>_||3!==x.type).map(x=>{const F=new gc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Ff(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter);let q=-1,oe=-1;return 0!==x.type&&(q=b.indexOf(x.doc.key),b=b.delete(x.doc.key)),1!==x.type&&(b=b.add(x.doc),oe=b.indexOf(x.doc.key)),{type:f0(x.type),doc:F,oldIndex:q,newIndex:oe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function f0(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function p0(d,e){return d instanceof _u&&e instanceof _u?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Rl&&e instanceof Rl&&d._firestore===e._firestore&&Sf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function g0(d){d=ci(d,Ls);const e=ci(d.firestore,vi);return _i(Ts(e),d._key).then(r=>V_(e,d,r))}class Ol extends Em{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,r)}}function Nl(d){d=ci(d,Ls);const e=ci(d.firestore,vi),r=Ts(e),a=new Ol(e);return function uu(d,e){const r=new Xt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,x){try{const F=yield function(oe,ve){const $e=dt(oe);return $e.persistence.runTransaction("read document","readonly",vt=>$e.localDocuments.getDocument(vt,ve))}(_,b);F.isFoundDocument()?x.resolve(F):F.isNoDocument()?x.resolve(null):x.reject(new et(Le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const q=Il(F,`Failed to get document '${b} from cache`);x.reject(q)}}),function h(_,b,x){return a.apply(this,arguments)})(yield gh(d),e,r);var a})),r.promise}(r,d._key).then(h=>new _u(e,a,d._key,h,new Ff(null!==h&&h.hasLocalMutations,!0),d.converter))}function fv(d){d=ci(d,Ls);const e=ci(d.firestore,vi);return _i(Ts(e),d._key,{source:"server"}).then(r=>V_(e,d,r))}function m0(d){d=ci(d,co);const e=ci(d.firestore,vi),r=Ts(e),a=new Ol(e);return hd(d._query),zp(r,d._query).then(h=>new Rl(e,a,d,h))}function UE(d){d=ci(d,co);const e=ci(d.firestore,vi),r=Ts(e),a=new Ol(e);return function Yy(d,e){const r=new Xt;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,x){try{const F=yield dc(_,b,!0),q=new a_(b,F.Ts),oe=q.ma(F.documents),ve=q.applyChanges(oe,!1);x.resolve(ve.snapshot)}catch(F){const q=Il(F,`Failed to execute query '${b} against cache`);x.reject(q)}}),function h(_,b,x){return a.apply(this,arguments)})(yield gh(d),e,r);var a})),r.promise}(r,d._query).then(h=>new Rl(e,a,d,h))}function Do(d){d=ci(d,co);const e=ci(d.firestore,vi),r=Ts(e),a=new Ol(e);return zp(r,d._query,{source:"server"}).then(h=>new Rl(e,a,d,h))}function _0(d,e,r){d=ci(d,Ls);const a=ci(d.firestore,vi),h=Ih(d.converter,e,r);return wh(a,[gu(Ea(a),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,X.none())])}function F_(d,e,r,...a){d=ci(d,Ls);const h=ci(d.firestore,vi),_=Ea(h);let b;return b="string"==typeof(e=(0,me.Ku)(e))||e instanceof cd?gm(_,"updateDoc",d._key,e,r,a):Qp(_,"updateDoc",d._key,e),wh(h,[b.toMutation(d._key,X.exists(!0))])}function y0(d){return wh(ci(d.firestore,vi),[new Ps(d._key,X.none())])}function v0(d,e){const r=ci(d.firestore,vi),a=hu(d),h=Ih(d.converter,e);return wh(r,[gu(Ea(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,X.exists(!1))]).then(()=>a)}function L_(d,...e){var r,a,h;d=(0,me.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||sm(e[b])||(_=e[b],b++);const x={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(sm(e[b])){const ve=e[b];e[b]=null===(r=ve.next)||void 0===r?void 0:r.bind(ve),e[b+1]=null===(a=ve.error)||void 0===a?void 0:a.bind(ve),e[b+2]=null===(h=ve.complete)||void 0===h?void 0:h.bind(ve)}let F,q,oe;if(d instanceof Ls)q=ci(d.firestore,vi),oe=Z(d._key.path),F={next:ve=>{e[b]&&e[b](V_(q,d,ve))},error:e[b+1],complete:e[b+2]};else{const ve=ci(d,co);q=ci(ve.firestore,vi),oe=ve._query;const $e=new Ol(q);F={next:vt=>{e[b]&&e[b](new Rl(q,$e,ve,vt))},error:e[b+1],complete:e[b+2]},hd(d._query)}return function($e,vt,jt,cn){const Jt=new Oa(cn),Hn=new Dp(vt,Jt,jt);return $e.asyncQueue.enqueueAndForget((0,o.A)(function*(){return wp(yield Wa($e),Hn)})),()=>{Jt.Za(),$e.asyncQueue.enqueueAndForget((0,o.A)(function*(){return sh(yield Wa($e),Hn)}))}}(Ts(q),oe,x,F)}function pv(d,e){return function Xy(d,e){const r=new Oa(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield Wa(d),_=r,dt(h).Y_.add(_),void _.next();var h,_})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield Wa(d),_=r,void dt(h).Y_.delete(_);var h,_}))}}(Ts(d=ci(d,vi)),sm(e)?e:{next:e})}function wh(d,e){return function(a,h){const _=new Xt;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function kp(d,e,r){return td.apply(this,arguments)}(yield $p(a),h,_)})),_.promise}(Ts(d),e)}function V_(d,e,r){const a=r.docs.get(e._key),h=new Ol(d);return new _u(d,h,e._key,a,new Ff(r.hasPendingWrites,r.fromCache),e.converter)}const ig={maxAttempts:5};class sg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ea(e)}set(e,r,a){this._verifyNotCommitted();const h=yu(e,this._firestore),_=Ih(h.converter,r,a),b=gu(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,X.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const _=yu(e,this._firestore);let b;return b="string"==typeof(r=(0,me.Ku)(r))||r instanceof cd?gm(this._dataReader,"WriteBatch.update",_._key,r,a,h):Qp(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(b.toMutation(_._key,X.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=yu(e,this._firestore);return this._mutations=this._mutations.concat(new Ps(r._key,X.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yu(d,e){if((d=(0,me.Ku)(d)).firestore!==e)throw new et(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class bv extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Ea(r)}get(r){const a=yu(r,this._firestore),h=new dv(this._firestore);return this._transaction.lookup([a._key]).then(_=>{if(!_||1!==_.length)return xt();const b=_[0];if(b.isFoundDocument())return new dd(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new dd(this._firestore,h,a._key,null,a.converter);throw xt()})}set(r,a,h){const _=yu(r,this._firestore),b=Ih(_.converter,a,h),x=gu(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,x),this}update(r,a,h,..._){const b=yu(r,this._firestore);let x;return x="string"==typeof(a=(0,me.Ku)(a))||a instanceof cd?gm(this._dataReader,"Transaction.update",b._key,a,h,_):Qp(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,x),this}delete(r){const a=yu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=yu(e,this._firestore),a=new Ol(this._firestore);return super.get(e).then(h=>new _u(this._firestore,a,r._key,h._document,new Ff(!1,!1),r.converter))}}function I0(d,e,r){d=ci(d,vi);const a=Object.assign(Object.assign({},ig),r);return function(_){if(_.maxAttempts<1)throw new et(Le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(_,b,x){const F=new Xt;return _.asyncQueue.enqueueAndForget((0,o.A)(function*(){const q=yield function mh(d){return Zg(d).then(e=>e.datastore)}(_);new sd(_.asyncQueue,q,x,b,F).au()})),F.promise}(Ts(d),h=>e(new bv(d,h)),a)}function w0(){return new xl("deleteField")}function A0(){return new x_("serverTimestamp")}function D0(...d){return new Rf("arrayUnion",d)}function Cv(...d){return new mu("arrayRemove",d)}function BE(d){return new pm("increment",d)}!function(e,r=!0){Re=ue.SDK_VERSION,(0,ue._registerComponent)(new i.uA("firestore",(a,{instanceIdentifier:h,options:_})=>{const b=a.getProvider("app").getImmediate(),x=new vi(new Ve(a.getProvider("auth-internal")),new Tn(a.getProvider("app-check-internal")),function(q,oe){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new et(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hi(q.options.projectId,oe)}(b,h),b);return _=Object.assign({useFetchStreams:r},_),x._setSettings(_),x},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(pe,"4.7.3",e),(0,ue.registerVersion)(pe,"4.7.3","esm2017")}()},4535:(nn,Ye,V)=>{V.d(Ye,{Ad:()=>xn,D5:()=>hn,KR:()=>Or,Mp:()=>Ri,Mx:()=>Qr,TZ:()=>zt,UC:()=>si,UY:()=>or,XR:()=>ls,ZH:()=>In,_w:()=>lr,bp:()=>Hs,c7:()=>mr,nb:()=>Zr,nw:()=>bn,p_:()=>tr,qk:()=>ns,uj:()=>Zt,xc:()=>Fn,yb:()=>oi});var o=V(467),ue=V(7852),i=V(1076),Ce=V(1362);const me="firebasestorage.googleapis.com",Se="storageBucket";class ne extends i.g{constructor(J,Te,Oe=0){super(_e(J),`Firebase Storage: ${Te} (${_e(J)})`),this.status_=Oe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ne.prototype)}get status(){return this.status_}set status(J){this.status_=J}_codeEquals(J){return _e(J)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(J){this.customData.serverResponse=J,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ae=function(te){return te.UNKNOWN="unknown",te.OBJECT_NOT_FOUND="object-not-found",te.BUCKET_NOT_FOUND="bucket-not-found",te.PROJECT_NOT_FOUND="project-not-found",te.QUOTA_EXCEEDED="quota-exceeded",te.UNAUTHENTICATED="unauthenticated",te.UNAUTHORIZED="unauthorized",te.UNAUTHORIZED_APP="unauthorized-app",te.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",te.INVALID_CHECKSUM="invalid-checksum",te.CANCELED="canceled",te.INVALID_EVENT_NAME="invalid-event-name",te.INVALID_URL="invalid-url",te.INVALID_DEFAULT_BUCKET="invalid-default-bucket",te.NO_DEFAULT_BUCKET="no-default-bucket",te.CANNOT_SLICE_BLOB="cannot-slice-blob",te.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",te.NO_DOWNLOAD_URL="no-download-url",te.INVALID_ARGUMENT="invalid-argument",te.INVALID_ARGUMENT_COUNT="invalid-argument-count",te.APP_DELETED="app-deleted",te.INVALID_ROOT_OPERATION="invalid-root-operation",te.INVALID_FORMAT="invalid-format",te.INTERNAL_ERROR="internal-error",te.UNSUPPORTED_ENVIRONMENT="unsupported-environment",te}(ae||{});function _e(te){return"storage/"+te}function ct(){return new ne(ae.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rn(){return new ne(ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function He(){return new ne(ae.CANCELED,"User canceled the upload/download.")}function Xe(){return new ne(ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zt(te){return new ne(ae.INVALID_ARGUMENT,te)}function fn(){return new ne(ae.APP_DELETED,"The Firebase app was deleted.")}function or(te){return new ne(ae.INVALID_ROOT_OPERATION,"The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xt(te,J){return new ne(ae.INVALID_FORMAT,"String does not match format '"+te+"': "+J)}function Vt(te){throw new ne(ae.INTERNAL_ERROR,"Internal error: "+te)}class zt{constructor(J,Te){this.bucket=J,this.path_=Te}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const J=encodeURIComponent;return"/b/"+J(this.bucket)+"/o/"+J(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(J,Te){let Oe;try{Oe=zt.makeFromUrl(J,Te)}catch{return new zt(J,"")}if(""===Oe.path)return Oe;throw function Ke(te){return new ne(ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+te+"'.")}(J)}static makeFromUrl(J,Te){let Oe=null;const Qe="([A-Za-z0-9.\\-_]+)",An=new RegExp("^gs://"+Qe+"(/(.*))?$","i");function zn(xi){xi.path_=decodeURIComponent(xi.path)}const Rn=Te.replace(/[.]/g,"\\."),Qn=[{regex:An,indices:{bucket:1,path:3},postModify:function mt(xi){"/"===xi.path.charAt(xi.path.length-1)&&(xi.path_=xi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Rn}/v[A-Za-z0-9_]+/b/${Qe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:zn},{regex:new RegExp(`^https?://${Te===me?"(?:storage.googleapis.com|storage.cloud.google.com)":Te}/${Qe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:zn}];for(let xi=0;xi<Qn.length;xi++){const Oi=Qn[xi],Hr=Oi.regex.exec(J);if(Hr){let wi=Hr[Oi.indices.path];wi||(wi=""),Oe=new zt(Hr[Oi.indices.bucket],wi),Oi.postModify(Oe);break}}if(null==Oe)throw function pe(te){return new ne(ae.INVALID_URL,"Invalid URL '"+te+"'.")}(J);return Oe}}class dt{constructor(J){this.promise_=Promise.reject(J)}getPromise(){return this.promise_}cancel(J=!1){}}function be(te){return"string"==typeof te||te instanceof String}function Ve(te){return nt()&&te instanceof Blob}function nt(){return typeof Blob<"u"}function Ze(te,J,Te,Oe){if(Oe<J)throw Zt(`Invalid value for '${te}'. Expected ${J} or greater.`);if(Oe>Te)throw Zt(`Invalid value for '${te}'. Expected ${Te} or less.`)}function Ot(te,J,Te){let Oe=J;return null==Te&&(Oe=`https://${J}`),`${Te}://${Oe}/v0${te}`}function Tn(te){const J=encodeURIComponent;let Te="?";for(const Oe in te)te.hasOwnProperty(Oe)&&(Te=Te+(J(Oe)+"=")+J(te[Oe])+"&");return Te=Te.slice(0,-1),Te}var Zn=function(te){return te[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",te}(Zn||{});function tn(te,J){const Te=te>=500&&te<600,Qe=-1!==[408,429].indexOf(te),mt=-1!==J.indexOf(te);return Te||Qe||mt}class kn{constructor(J,Te,Oe,Qe,mt,qt,An,gn,zn,wr,Rn,On=!0){this.url_=J,this.method_=Te,this.headers_=Oe,this.body_=Qe,this.successCodes_=mt,this.additionalRetryCodes_=qt,this.callback_=An,this.errorCallback_=gn,this.timeout_=zn,this.progressCallback_=wr,this.connectionFactory_=Rn,this.retry=On,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Xn,pi)=>{this.resolve_=Xn,this.reject_=pi,this.start_()})}start_(){const Te=(Oe,Qe)=>{const mt=this.resolve_,qt=this.reject_,An=Qe.connection;if(Qe.wasSuccessCode)try{const gn=this.callback_(An,An.getResponse());!function Xt(te){return void 0!==te}(gn)?mt():mt(gn)}catch(gn){qt(gn)}else if(null!==An){const gn=ct();gn.serverResponse=An.getErrorText(),qt(this.errorCallback_?this.errorCallback_(An,gn):gn)}else qt(Qe.canceled?this.appDelete_?fn():He():rn())};this.canceled_?Te(0,new Kt(!1,null,!0)):this.backoffId_=function Le(te,J,Te){let Oe=1,Qe=null,mt=null,qt=!1,An=0;function gn(){return 2===An}let zn=!1;function wr(...Ur){zn||(zn=!0,J.apply(null,Ur))}function Rn(Ur){Qe=setTimeout(()=>{Qe=null,te(Xn,gn())},Ur)}function On(){mt&&clearTimeout(mt)}function Xn(Ur,...ei){if(zn)return void On();if(Ur)return On(),void wr.call(null,Ur,...ei);if(gn()||qt)return On(),void wr.call(null,Ur,...ei);let Qn;Oe<64&&(Oe*=2),1===An?(An=2,Qn=0):Qn=1e3*(Oe+Math.random()),Rn(Qn)}let pi=!1;function qr(Ur){pi||(pi=!0,On(),!zn&&(null!==Qe?(Ur||(An=2),clearTimeout(Qe),Rn(0)):Ur||(An=1)))}return Rn(0),mt=setTimeout(()=>{qt=!0,qr(!0)},Te),qr}((Oe,Qe)=>{if(Qe)return void Oe(!1,new Kt(!1,null,!0));const mt=this.connectionFactory_();this.pendingConnection_=mt;const qt=An=>{null!==this.progressCallback_&&this.progressCallback_(An.loaded,An.lengthComputable?An.total:-1)};null!==this.progressCallback_&&mt.addUploadProgressListener(qt),mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&mt.removeUploadProgressListener(qt),this.pendingConnection_=null;const An=mt.getErrorCode()===Zn.NO_ERROR,gn=mt.getStatus();if(!An||tn(gn,this.additionalRetryCodes_)&&this.retry){const wr=mt.getErrorCode()===Zn.ABORT;return void Oe(!1,new Kt(!1,null,wr))}const zn=-1!==this.successCodes_.indexOf(gn);Oe(!0,new Kt(zn,mt))})},Te,this.timeout_)}getPromise(){return this.promise_}cancel(J){this.canceled_=!0,this.appDelete_=J||!1,null!==this.backoffId_&&function et(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Kt{constructor(J,Te,Oe){this.wasSuccessCode=J,this.connection=Te,this.canceled=!!Oe}}function Pr(...te){const J=function sn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==J){const Te=new J;for(let Oe=0;Oe<te.length;Oe++)Te.append(te[Oe]);return Te.getBlob()}if(nt())return new Blob(te);throw new ne(ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Un{constructor(J,Te){this.data=J,this.contentType=Te||null}}function In(te,J){switch(te){case bn.RAW:return new Un(Lr(J));case bn.BASE64:case bn.BASE64URL:return new Un(Xr(te,J));case bn.DATA_URL:return new Un(function ui(te){const J=new Bn(te);return J.base64?Xr(bn.BASE64,J.rest):function Dr(te){let J;try{J=decodeURIComponent(te)}catch{throw xt(bn.DATA_URL,"Malformed data URL.")}return Lr(J)}(J.rest)}(J),function Xi(te){return new Bn(te).contentType}(J))}throw ct()}function Lr(te){const J=[];for(let Te=0;Te<te.length;Te++){let Oe=te.charCodeAt(Te);Oe<=127?J.push(Oe):Oe<=2047?J.push(192|Oe>>6,128|63&Oe):55296==(64512&Oe)?Te<te.length-1&&56320==(64512&te.charCodeAt(Te+1))?(Oe=65536|(1023&Oe)<<10|1023&te.charCodeAt(++Te),J.push(240|Oe>>18,128|Oe>>12&63,128|Oe>>6&63,128|63&Oe)):J.push(239,191,189):56320==(64512&Oe)?J.push(239,191,189):J.push(224|Oe>>12,128|Oe>>6&63,128|63&Oe)}return new Uint8Array(J)}function Xr(te,J){switch(te){case bn.BASE64:{const Qe=-1!==J.indexOf("-"),mt=-1!==J.indexOf("_");if(Qe||mt)throw xt(te,"Invalid character '"+(Qe?"-":"_")+"' found: is it base64url encoded?");break}case bn.BASE64URL:{const Qe=-1!==J.indexOf("+"),mt=-1!==J.indexOf("/");if(Qe||mt)throw xt(te,"Invalid character '"+(Qe?"+":"/")+"' found: is it base64 encoded?");J=J.replace(/-/g,"+").replace(/_/g,"/");break}}let Te;try{Te=function Ut(te){if(typeof atob>"u")throw function we(te){return new ne(ae.UNSUPPORTED_ENVIRONMENT,`${te} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(te)}(J)}catch(Qe){throw Qe.message.includes("polyfill")?Qe:xt(te,"Invalid character found")}const Oe=new Uint8Array(Te.length);for(let Qe=0;Qe<Te.length;Qe++)Oe[Qe]=Te.charCodeAt(Qe);return Oe}class Bn{constructor(J){this.base64=!1,this.contentType=null;const Te=J.match(/^data:([^,]+)?,/);if(null===Te)throw xt(bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Oe=Te[1]||null;null!=Oe&&(this.base64=function un(te,J){return te.length>=J.length&&te.substring(te.length-J.length)===J}(Oe,";base64"),this.contentType=this.base64?Oe.substring(0,Oe.length-7):Oe),this.rest=J.substring(J.indexOf(",")+1)}}class Qr{constructor(J,Te){let Oe=0,Qe="";Ve(J)?(this.data_=J,Oe=J.size,Qe=J.type):J instanceof ArrayBuffer?(Te?this.data_=new Uint8Array(J):(this.data_=new Uint8Array(J.byteLength),this.data_.set(new Uint8Array(J))),Oe=this.data_.length):J instanceof Uint8Array&&(Te?this.data_=J:(this.data_=new Uint8Array(J.length),this.data_.set(J)),Oe=J.length),this.size_=Oe,this.type_=Qe}size(){return this.size_}type(){return this.type_}slice(J,Te){if(Ve(this.data_)){const Qe=function Wn(te,J,Te){return te.webkitSlice?te.webkitSlice(J,Te):te.mozSlice?te.mozSlice(J,Te):te.slice?te.slice(J,Te):null}(this.data_,J,Te);return null===Qe?null:new Qr(Qe)}{const Oe=new Uint8Array(this.data_.buffer,J,Te-J);return new Qr(Oe,!0)}}static getBlob(...J){if(nt()){const Te=J.map(Oe=>Oe instanceof Qr?Oe.data_:Oe);return new Qr(Pr.apply(null,Te))}{const Te=J.map(qt=>be(qt)?In(bn.RAW,qt).data:qt.data_);let Oe=0;Te.forEach(qt=>{Oe+=qt.byteLength});const Qe=new Uint8Array(Oe);let mt=0;return Te.forEach(qt=>{for(let An=0;An<qt.length;An++)Qe[mt++]=qt[An]}),new Qr(Qe,!0)}}uploadData(){return this.data_}}function Yn(te){let J;try{J=JSON.parse(te)}catch{return null}return function Ae(te){return"object"==typeof te&&!Array.isArray(te)}(J)?J:null}function Di(te){const J=te.lastIndexOf("/",te.length-2);return-1===J?te:te.slice(J+1)}function tt(te,J){return J}class gt{constructor(J,Te,Oe,Qe){this.server=J,this.local=Te||J,this.writable=!!Oe,this.xform=Qe||tt}}let he=null;function Et(){if(he)return he;const te=[];te.push(new gt("bucket")),te.push(new gt("generation")),te.push(new gt("metageneration")),te.push(new gt("name","fullPath",!0));const Te=new gt("name");Te.xform=function J(mt,qt){return function Me(te){return!be(te)||te.length<2?te:Di(te)}(qt)},te.push(Te);const Qe=new gt("size");return Qe.xform=function Oe(mt,qt){return void 0!==qt?Number(qt):qt},te.push(Qe),te.push(new gt("timeCreated")),te.push(new gt("updated")),te.push(new gt("md5Hash",null,!0)),te.push(new gt("cacheControl",null,!0)),te.push(new gt("contentDisposition",null,!0)),te.push(new gt("contentEncoding",null,!0)),te.push(new gt("contentLanguage",null,!0)),te.push(new gt("contentType",null,!0)),te.push(new gt("metadata","customMetadata",!0)),he=te,he}function kr(te,J,Te){const Oe=Yn(J);return null===Oe?null:function Ln(te,J,Te){const Oe={type:"file"},Qe=Te.length;for(let mt=0;mt<Qe;mt++){const qt=Te[mt];Oe[qt.local]=qt.xform(Oe,J[qt.server])}return function Gt(te,J){Object.defineProperty(te,"ref",{get:function Te(){const mt=new zt(te.bucket,te.fullPath);return J._makeStorageReference(mt)}})}(Oe,te),Oe}(te,Oe,Te)}function bi(te,J){const Te={},Oe=J.length;for(let Qe=0;Qe<Oe;Qe++){const mt=J[Qe];mt.writable&&(Te[mt.server]=te[mt.local])}return JSON.stringify(Te)}const Ct="prefixes",H="items";class B{constructor(J,Te,Oe,Qe){this.url=J,this.method=Te,this.handler=Oe,this.timeout=Qe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ie(te){if(!te)throw ct()}function ee(te,J){return function Te(Oe,Qe){const mt=kr(te,Qe,J);return ie(null!==mt),mt}}function en(te){return function J(Te,Oe){let Qe;return Qe=401===Te.getStatus()?Te.getErrorText().includes("Firebase App Check token is invalid")?function Rt(){return new ne(ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new ne(ae.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Te.getStatus()?function _t(te){return new ne(ae.QUOTA_EXCEEDED,"Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===Te.getStatus()?function St(te){return new ne(ae.UNAUTHORIZED,"User does not have permission to access '"+te+"'.")}(te.path):Oe,Qe.status=Te.getStatus(),Qe.serverResponse=Oe.serverResponse,Qe}}function _n(te){const J=en(te);return function Te(Oe,Qe){let mt=J(Oe,Qe);return 404===Oe.getStatus()&&(mt=function je(te){return new ne(ae.OBJECT_NOT_FOUND,"Object '"+te+"' does not exist.")}(te.path)),mt.serverResponse=Qe.serverResponse,mt}}function Er(te,J,Te){const Qe=Ot(J.fullServerUrl(),te.host,te._protocol),qt=te.maxOperationRetryTime,An=new B(Qe,"GET",ee(te,Te),qt);return An.errorHandler=_n(J),An}function on(te,J,Te,Oe,Qe){const mt={};mt.prefix=J.isRoot?"":J.path+"/",Te&&Te.length>0&&(mt.delimiter=Te),Oe&&(mt.pageToken=Oe),Qe&&(mt.maxResults=Qe);const An=Ot(J.bucketOnlyServerUrl(),te.host,te._protocol),zn=te.maxOperationRetryTime,wr=new B(An,"GET",function ye(te,J){return function Te(Oe,Qe){const mt=function k(te,J,Te){const Oe=Yn(Te);return null===Oe?null:function M(te,J,Te){const Oe={prefixes:[],items:[],nextPageToken:Te.nextPageToken};if(Te[Ct])for(const Qe of Te[Ct]){const mt=Qe.replace(/\/$/,""),qt=te._makeStorageReference(new zt(J,mt));Oe.prefixes.push(qt)}if(Te[H])for(const Qe of Te[H]){const mt=te._makeStorageReference(new zt(J,Qe.name));Oe.items.push(mt)}return Oe}(te,J,Oe)}(te,J,Qe);return ie(null!==mt),mt}}(te,J.bucket),zn);return wr.urlParams=mt,wr.errorHandler=en(J),wr}function Fi(te,J,Te){const Oe=Object.assign({},Te);return Oe.fullPath=te.path,Oe.size=J.size(),Oe.contentType||(Oe.contentType=function Wi(te,J){return te&&te.contentType||J&&J.type()||"application/octet-stream"}(null,J)),Oe}class nr{constructor(J,Te,Oe,Qe){this.current=J,this.total=Te,this.finalized=!!Oe,this.metadata=Qe||null}}function Us(te,J){let Te=null;try{Te=te.getResponseHeader("X-Goog-Upload-Status")}catch{ie(!1)}return ie(!!Te&&-1!==(J||["active"]).indexOf(Te)),Te}const Fn={STATE_CHANGED:"state_changed"},xn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cr(te){switch(te){case"running":case"pausing":case"canceling":return xn.RUNNING;case"paused":return xn.PAUSED;case"success":return xn.SUCCESS;case"canceled":return xn.CANCELED;default:return xn.ERROR}}class Vr{constructor(J,Te,Oe){if(function Be(te){return"function"==typeof te}(J)||null!=Te||null!=Oe)this.next=J,this.error=Te??void 0,this.complete=Oe??void 0;else{const mt=J;this.next=mt.next,this.error=mt.error,this.complete=mt.complete}}}function Wr(te){return(...J)=>{Promise.resolve().then(()=>te(...J))}}let Tr=null;class Ki{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zn.NO_ERROR,this.sendPromise_=new Promise(J=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zn.ABORT,J()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zn.NETWORK_ERROR,J()}),this.xhr_.addEventListener("load",()=>{J()})})}send(J,Te,Oe,Qe){if(this.sent_)throw Vt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Te,J,!0),void 0!==Qe)for(const mt in Qe)Qe.hasOwnProperty(mt)&&this.xhr_.setRequestHeader(mt,Qe[mt].toString());return void 0!==Oe?this.xhr_.send(Oe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(J){return this.xhr_.getResponseHeader(J)}addUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",J)}removeUploadProgressListener(J){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",J)}}class Rs extends Ki{initXhr(){this.xhr_.responseType="text"}}function Zi(){return Tr?Tr():new Rs}class si{constructor(J,Te,Oe=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=J,this._blob=Te,this._metadata=Oe,this._mappings=Et(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Qe=>{if(this._request=void 0,this._chunkMultiplier=1,Qe._codeEquals(ae.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const mt=this.isExponentialBackoffExpired();if(tn(Qe.status,[])){if(!mt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Qe=rn()}this._error=Qe,this._transition("error")}},this._metadataErrorHandler=Qe=>{this._request=void 0,Qe._codeEquals(ae.CANCELED)?this.completeTransitions_():(this._error=Qe,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Qe,mt)=>{this._resolve=Qe,this._reject=mt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const J=this._transferred;return Te=>this._updateProgress(J+Te)}_shouldDoResumable(J){return J.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(J){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Te,Oe])=>{switch(this._state){case"running":J(Te,Oe);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((J,Te)=>{const Oe=function Tt(te,J,Te,Oe,Qe){const mt=J.bucketOnlyServerUrl(),qt=Fi(J,Oe,Qe),An={name:qt.fullPath},gn=Ot(mt,te.host,te._protocol),wr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Oe.size()}`,"X-Goog-Upload-Header-Content-Type":qt.contentType,"Content-Type":"application/json; charset=utf-8"},Rn=bi(qt,Te),pi=new B(gn,"POST",function Xn(qr){let Ur;Us(qr);try{Ur=qr.getResponseHeader("X-Goog-Upload-URL")}catch{ie(!1)}return ie(be(Ur)),Ur},te.maxUploadRetryTime);return pi.urlParams=An,pi.headers=wr,pi.body=Rn,pi.errorHandler=en(J),pi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(Oe,Zi,J,Te);this._request=Qe,Qe.getPromise().then(mt=>{this._request=void 0,this._uploadUrl=mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const J=this._uploadUrl;this._resolveToken((Te,Oe)=>{const Qe=function rt(te,J,Te,Oe){const gn=new B(Te,"POST",function mt(zn){const wr=Us(zn,["active","final"]);let Rn=null;try{Rn=zn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ie(!1)}Rn||ie(!1);const On=Number(Rn);return ie(!isNaN(On)),new nr(On,Oe.size(),"final"===wr)},te.maxUploadRetryTime);return gn.headers={"X-Goog-Upload-Command":"query"},gn.errorHandler=en(J),gn}(this._ref.storage,this._ref._location,J,this._blob),mt=this._ref.storage._makeRequest(Qe,Zi,Te,Oe);this._request=mt,mt.getPromise().then(qt=>{this._request=void 0,this._updateProgress(qt.current),this._needToFetchStatus=!1,qt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const J=262144*this._chunkMultiplier,Te=new nr(this._transferred,this._blob.size()),Oe=this._uploadUrl;this._resolveToken((Qe,mt)=>{let qt;try{qt=function an(te,J,Te,Oe,Qe,mt,qt,An){const gn=new nr(0,0);if(qt?(gn.current=qt.current,gn.total=qt.total):(gn.current=0,gn.total=Oe.size()),Oe.size()!==gn.total)throw function yt(){return new ne(ae.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const zn=gn.total-gn.current;let wr=zn;Qe>0&&(wr=Math.min(wr,Qe));const Rn=gn.current;let Xn="";Xn=0===wr?"finalize":zn===wr?"upload, finalize":"upload";const pi={"X-Goog-Upload-Command":Xn,"X-Goog-Upload-Offset":`${gn.current}`},qr=Oe.slice(Rn,Rn+wr);if(null===qr)throw Xe();const Qn=new B(Te,"POST",function Ur(xi,Oi){const Hr=Us(xi,["active","final"]),Eo=gn.current+wr,wi=Oe.size();let ds;return ds="final"===Hr?ee(J,mt)(xi,Oi):null,new nr(Eo,wi,"final"===Hr,ds)},J.maxUploadRetryTime);return Qn.headers=pi,Qn.body=qr.uploadData(),Qn.progressCallback=An||null,Qn.errorHandler=en(te),Qn}(this._ref._location,this._ref.storage,Oe,this._blob,J,this._mappings,Te,this._makeProgressCallback())}catch(gn){return this._error=gn,void this._transition("error")}const An=this._ref.storage._makeRequest(qt,Zi,Qe,mt,!1);this._request=An,An.getPromise().then(gn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(gn.current),gn.finalized?(this._metadata=gn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((J,Te)=>{const Oe=Er(this._ref.storage,this._ref._location,this._mappings),Qe=this._ref.storage._makeRequest(Oe,Zi,J,Te);this._request=Qe,Qe.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((J,Te)=>{const Oe=function Ti(te,J,Te,Oe,Qe){const mt=J.bucketOnlyServerUrl(),qt={"X-Goog-Upload-Protocol":"multipart"},gn=function An(){let Qn="";for(let xi=0;xi<2;xi++)Qn+=Math.random().toString().slice(2);return Qn}();qt["Content-Type"]="multipart/related; boundary="+gn;const zn=Fi(J,Oe,Qe),wr=bi(zn,Te),Xn=Qr.getBlob("--"+gn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wr+"\r\n--"+gn+"\r\nContent-Type: "+zn.contentType+"\r\n\r\n",Oe,"\r\n--"+gn+"--");if(null===Xn)throw Xe();const pi={name:zn.fullPath},qr=Ot(mt,te.host,te._protocol),ei=te.maxUploadRetryTime,ti=new B(qr,"POST",ee(te,Te),ei);return ti.urlParams=pi,ti.headers=qt,ti.body=Xn.uploadData(),ti.errorHandler=en(J),ti}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(Oe,Zi,J,Te);this._request=Qe,Qe.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(J){const Te=this._transferred;this._transferred=J,this._transferred!==Te&&this._notifyObservers()}_transition(J){if(this._state!==J)switch(J){case"canceling":case"pausing":this._state=J,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Te="paused"===this._state;this._state=J,Te&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=J,this._notifyObservers();break;case"canceled":this._error=He(),this._state=J,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const J=cr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:J,metadata:this._metadata,task:this,ref:this._ref}}on(J,Te,Oe,Qe){const mt=new Vr(Te||void 0,Oe||void 0,Qe||void 0);return this._addObserver(mt),()=>{this._removeObserver(mt)}}then(J,Te){return this._promise.then(J,Te)}catch(J){return this.then(null,J)}_addObserver(J){this._observers.push(J),this._notifyObserver(J)}_removeObserver(J){const Te=this._observers.indexOf(J);-1!==Te&&this._observers.splice(Te,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Te=>{this._notifyObserver(Te)})}_finishPromise(){if(void 0!==this._resolve){let J=!0;switch(cr(this._state)){case xn.SUCCESS:Wr(this._resolve.bind(null,this.snapshot))();break;case xn.CANCELED:case xn.ERROR:Wr(this._reject.bind(null,this._error))();break;default:J=!1}J&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(J){switch(cr(this._state)){case xn.RUNNING:case xn.PAUSED:J.next&&Wr(J.next.bind(J,this.snapshot))();break;case xn.SUCCESS:J.complete&&Wr(J.complete.bind(J))();break;default:J.error&&Wr(J.error.bind(J,this._error))()}}resume(){const J="paused"===this._state||"pausing"===this._state;return J&&this._transition("running"),J}pause(){const J="running"===this._state;return J&&this._transition("pausing"),J}cancel(){const J="running"===this._state||"pausing"===this._state;return J&&this._transition("canceling"),J}}class es{constructor(J,Te){this._service=J,this._location=Te instanceof zt?Te:zt.makeFromUrl(Te,J.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(J,Te){return new es(J,Te)}get root(){const J=new zt(this._location.bucket,"");return this._newRef(this._service,J)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Di(this._location.path)}get storage(){return this._service}get parent(){const J=function br(te){if(0===te.length)return null;const J=te.lastIndexOf("/");return-1===J?"":te.slice(0,J)}(this._location.path);if(null===J)return null;const Te=new zt(this._location.bucket,J);return new es(this._service,Te)}_throwIfRoot(J){if(""===this._location.path)throw or(J)}}function Oo(te,J,Te){return di.apply(this,arguments)}function di(){return(di=(0,o.A)(function*(te,J,Te){const Qe=yield Va(te,{pageToken:Te});J.prefixes.push(...Qe.prefixes),J.items.push(...Qe.items),null!=Qe.nextPageToken&&(yield Oo(te,J,Qe.nextPageToken))})).apply(this,arguments)}function Va(te,J){null!=J&&"number"==typeof J.maxResults&&Ze("options.maxResults",1,1e3,J.maxResults);const Te=J||{},Oe=on(te.storage,te._location,"/",Te.pageToken,Te.maxResults);return te.storage.makeRequestWithTokens(Oe,Zi)}function Ta(te){te._throwIfRoot("getDownloadURL");const J=function fr(te,J,Te){const Qe=Ot(J.fullServerUrl(),te.host,te._protocol),qt=te.maxOperationRetryTime,An=new B(Qe,"GET",function at(te,J){return function Te(Oe,Qe){const mt=kr(te,Qe,J);return ie(null!==mt),function Cr(te,J,Te,Oe){const Qe=Yn(J);if(null===Qe||!be(Qe.downloadTokens))return null;const mt=Qe.downloadTokens;if(0===mt.length)return null;const qt=encodeURIComponent;return mt.split(",").map(zn=>{const Rn=te.fullPath;return Ot("/b/"+qt(te.bucket)+"/o/"+qt(Rn),Te,Oe)+Tn({alt:"media",token:zn})})[0]}(mt,Qe,te.host,te._protocol)}}(te,Te),qt);return An.errorHandler=_n(J),An}(te.storage,te._location,Et());return te.storage.makeRequestWithTokens(J,Zi).then(Te=>{if(null===Te)throw function Mt(){return new ne(ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Te})}function Jr(te,J){const Te=function jn(te,J){const Te=J.split("/").filter(Oe=>Oe.length>0).join("/");return 0===te.length?Te:te+"/"+Te}(te._location.path,J),Oe=new zt(te._location.bucket,Te);return new es(te.storage,Oe)}function vo(te,J){if(te instanceof Ii){const Te=te;if(null==Te._bucket)throw function Re(){return new ne(ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Se+"' property when initializing the app?")}();const Oe=new es(Te,Te._bucket);return null!=J?vo(Oe,J):Oe}return void 0!==J?Jr(te,J):te}function $s(te,J){if(J&&function js(te){return/^[A-Za-z]+:\/\//.test(te)}(J)){if(te instanceof Ii)return function Bs(te,J){return new es(te,J)}(te,J);throw Zt("To use ref(service, url), the first argument must be a Storage instance.")}return vo(te,J)}function Sr(te,J){const Te=J?.[Se];return null==Te?null:zt.makeFromBucketSpec(Te,te)}class Ii{constructor(J,Te,Oe,Qe,mt){this.app=J,this._authProvider=Te,this._appCheckProvider=Oe,this._url=Qe,this._firebaseVersion=mt,this._bucket=null,this._host=me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Qe?zt.makeFromBucketSpec(Qe,this._host):Sr(this._host,this.app.options)}get host(){return this._host}set host(J){this._host=J,this._bucket=null!=this._url?zt.makeFromBucketSpec(this._url,J):Sr(J,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(J){Ze("time",0,Number.POSITIVE_INFINITY,J),this._maxUploadRetryTime=J}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(J){Ze("time",0,Number.POSITIVE_INFINITY,J),this._maxOperationRetryTime=J}_getAuthToken(){var J=this;return(0,o.A)(function*(){if(J._overrideAuthToken)return J._overrideAuthToken;const Te=J._authProvider.getImmediate({optional:!0});if(Te){const Oe=yield Te.getToken();if(null!==Oe)return Oe.accessToken}return null})()}_getAppCheckToken(){var J=this;return(0,o.A)(function*(){const Te=J._appCheckProvider.getImmediate({optional:!0});return Te?(yield Te.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(J=>J.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(J){return new es(this,J)}_makeRequest(J,Te,Oe,Qe,mt=!0){if(this._deleted)return new dt(fn());{const qt=function gr(te,J,Te,Oe,Qe,mt,qt=!0){const An=Tn(te.urlParams),gn=te.url+An,zn=Object.assign({},te.headers);return function Bt(te,J){J&&(te["X-Firebase-GMPID"]=J)}(zn,J),function Vn(te,J){null!==J&&J.length>0&&(te.Authorization="Firebase "+J)}(zn,Te),function pn(te,J){te["X-Firebase-Storage-Version"]="webjs/"+(J??"AppManager")}(zn,mt),function Ft(te,J){null!==J&&(te["X-Firebase-AppCheck"]=J)}(zn,Oe),new kn(gn,te.method,zn,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,Qe,qt)}(J,this._appId,Oe,Qe,Te,this._firebaseVersion,mt);return this._requests.add(qt),qt.getPromise().then(()=>this._requests.delete(qt),()=>this._requests.delete(qt)),qt}}makeRequestWithTokens(J,Te){var Oe=this;return(0,o.A)(function*(){const[Qe,mt]=yield Promise.all([Oe._getAuthToken(),Oe._getAppCheckToken()]);return Oe._makeRequest(J,Te,Qe,mt).getPromise()})()}}const Os="@firebase/storage",cs="storage";function Hs(te,J,Te){return function Mi(te,J,Te){return te._throwIfRoot("uploadBytesResumable"),new si(te,new Qr(J),Te)}(te=(0,i.Ku)(te),J,Te)}function oi(te){return function Ya(te){te._throwIfRoot("getMetadata");const J=Er(te.storage,te._location,Et());return te.storage.makeRequestWithTokens(J,Zi)}(te=(0,i.Ku)(te))}function hn(te,J){return function Si(te,J){te._throwIfRoot("updateMetadata");const Te=function Vs(te,J,Te,Oe){const mt=Ot(J.fullServerUrl(),te.host,te._protocol),An=bi(Te,Oe),zn=te.maxOperationRetryTime,wr=new B(mt,"PATCH",ee(te,Oe),zn);return wr.headers={"Content-Type":"application/json; charset=utf-8"},wr.body=An,wr.errorHandler=_n(J),wr}(te.storage,te._location,J,Et());return te.storage.makeRequestWithTokens(Te,Zi)}(te=(0,i.Ku)(te),J)}function tr(te,J){return Va(te=(0,i.Ku)(te),J)}function lr(te){return function ho(te){const J={prefixes:[],items:[]};return Oo(te,J).then(()=>J)}(te=(0,i.Ku)(te))}function ns(te){return Ta(te=(0,i.Ku)(te))}function ls(te){return function Js(te){te._throwIfRoot("deleteObject");const J=function Ci(te,J){const Oe=Ot(J.fullServerUrl(),te.host,te._protocol),An=new B(Oe,"DELETE",function qt(gn,zn){},te.maxOperationRetryTime);return An.successCodes=[200,204],An.errorHandler=_n(J),An}(te.storage,te._location);return te.storage.makeRequestWithTokens(J,Zi)}(te=(0,i.Ku)(te))}function Or(te,J){return $s(te=(0,i.Ku)(te),J)}function Ri(te,J){return Jr(te,J)}function mr(te=(0,ue.getApp)(),J){te=(0,i.Ku)(te);const Oe=(0,ue._getProvider)(te,cs).getImmediate({identifier:J}),Qe=(0,i.yU)("storage");return Qe&&Zr(Oe,...Qe),Oe}function Zr(te,J,Te,Oe={}){!function hi(te,J,Te,Oe={}){te.host=`${J}:${Te}`,te._protocol="http";const{mockUserToken:Qe}=Oe;Qe&&(te._overrideAuthToken="string"==typeof Qe?Qe:(0,i.Fy)(Qe,te.app.options.projectId))}(te,J,Te,Oe)}function Ui(te,{instanceIdentifier:J}){const Te=te.getProvider("app").getImmediate(),Oe=te.getProvider("auth-internal"),Qe=te.getProvider("app-check-internal");return new Ii(Te,Oe,Qe,J,ue.SDK_VERSION)}!function rs(){(0,ue._registerComponent)(new Ce.uA(cs,Ui,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Os,"0.13.2",""),(0,ue.registerVersion)(Os,"0.13.2","esm2017")}()},1076:(nn,Ye,V)=>{V.d(Ye,{Am:()=>Un,Bd:()=>Zt,FA:()=>Ze,Fy:()=>Xe,I9:()=>In,Im:()=>sn,Ku:()=>Ct,Ll:()=>we,T9:()=>pe,Uj:()=>Ne,XA:()=>Ke,ZQ:()=>yt,bD:()=>Wn,c1:()=>or,cY:()=>Re,eX:()=>Ae,g:()=>nt,gR:()=>Ft,hp:()=>Lr,jZ:()=>Mt,lT:()=>dt,lV:()=>Vt,mS:()=>je,nr:()=>Xt,p7:()=>fn,sr:()=>xt,tD:()=>Xr,u:()=>ne,yU:()=>He,zW:()=>Be,zw:()=>_e});const Ce=function(H){const M=[];let k=0;for(let B=0;B<H.length;B++){let ie=H.charCodeAt(B);ie<128?M[k++]=ie:ie<2048?(M[k++]=ie>>6|192,M[k++]=63&ie|128):55296==(64512&ie)&&B+1<H.length&&56320==(64512&H.charCodeAt(B+1))?(ie=65536+((1023&ie)<<10)+(1023&H.charCodeAt(++B)),M[k++]=ie>>18|240,M[k++]=ie>>12&63|128,M[k++]=ie>>6&63|128,M[k++]=63&ie|128):(M[k++]=ie>>12|224,M[k++]=ie>>6&63|128,M[k++]=63&ie|128)}return M},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,M){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let ie=0;ie<H.length;ie+=3){const ee=H[ie],ye=ie+1<H.length,at=ye?H[ie+1]:0,en=ie+2<H.length,_n=en?H[ie+2]:0;let $r=(15&at)<<2|_n>>6,fr=63&_n;en||(fr=64,ye||($r=64)),B.push(k[ee>>2],k[(3&ee)<<4|at>>4],k[$r],k[fr])}return B.join("")},encodeString(H,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(H):this.encodeByteArray(Ce(H),M)},decodeString(H,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(H):function(H){const M=[];let k=0,B=0;for(;k<H.length;){const ie=H[k++];if(ie<128)M[B++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ee=H[k++];M[B++]=String.fromCharCode((31&ie)<<6|63&ee)}else if(ie>239&&ie<365){const en=((7&ie)<<18|(63&H[k++])<<12|(63&H[k++])<<6|63&H[k++])-65536;M[B++]=String.fromCharCode(55296+(en>>10)),M[B++]=String.fromCharCode(56320+(1023&en))}else{const ee=H[k++],ye=H[k++];M[B++]=String.fromCharCode((15&ie)<<12|(63&ee)<<6|63&ye)}}return M.join("")}(this.decodeStringToByteArray(H,M))},decodeStringToByteArray(H,M){this.init_();const k=M?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let ie=0;ie<H.length;){const ee=k[H.charAt(ie++)],at=ie<H.length?k[H.charAt(ie)]:0;++ie;const _n=ie<H.length?k[H.charAt(ie)]:64;++ie;const on=ie<H.length?k[H.charAt(ie)]:64;if(++ie,null==ee||null==at||null==_n||null==on)throw new De;B.push(ee<<2|at>>4),64!==_n&&(B.push(at<<4&240|_n>>2),64!==on&&B.push(_n<<6&192|on))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(H){return function(H){const M=Ce(H);return Se.encodeByteArray(M,!0)}(H).replace(/\./g,"")},ne=function(H){try{return Se.decodeString(H,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function _e(H,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return M}for(const k in M)!M.hasOwnProperty(k)||!ct(k)||(H[k]=_e(H[k],M[k]));return H}function ct(H){return"__proto__"!==H}function je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const St=()=>{try{return je().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=H&&ne(H[1]);return M&&JSON.parse(M)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},He=H=>{const M=(H=>{var M,k;return null===(k=null===(M=St())||void 0===M?void 0:M.emulatorHosts)||void 0===k?void 0:k[H]})(H);if(!M)return;const k=M.lastIndexOf(":");if(k<=0||k+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const B=parseInt(M.substring(k+1),10);return"["===M[0]?[M.substring(1,k-1),B]:[M.substring(0,k),B]},pe=()=>{var H;return null===(H=St())||void 0===H?void 0:H.config},Ke=H=>{var M;return null===(M=St())||void 0===M?void 0:M[`_${H}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}wrapCallback(M){return(k,B)=>{k?this.reject(k):this.resolve(B),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(k):M(k,B))}}}function Xe(H,M){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=M||"demo-project",ie=H.iat||0,ee=H.sub||H.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:ie,exp:ie+3600,auth_time:ie,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},H);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(ye)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function we(){var H;const M=null===(H=St())||void 0===H?void 0:H.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return typeof window<"u"||fn()}function fn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function or(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function xt(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){const H=yt();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Xt(){return!we()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise((H,M)=>{try{let k=!0;const B="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(B);ie.onsuccess=()=>{ie.result.close(),k||self.indexedDB.deleteDatabase(B),H(!0)},ie.onupgradeneeded=()=>{k=!1},ie.onerror=()=>{var ee;M((null===(ee=ie.error)||void 0===ee?void 0:ee.message)||"")}}catch(k){M(k)}})}class nt extends Error{constructor(M,k,B){super(k),this.code=M,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(M,k,B){this.service=M,this.serviceName=k,this.errors=B}create(M,...k){const B=k[0]||{},ie=`${this.service}/${M}`,ee=this.errors[M],ye=ee?function Ot(H,M){return H.replace(Tn,(k,B)=>{const ie=M[B];return null!=ie?String(ie):`<${B}?>`})}(ee,B):"Error";return new nt(ie,`${this.serviceName}: ${ye} (${ie}).`,B)}}const Tn=/\{\$([^}]+)}/g;function Ft(H,M){return Object.prototype.hasOwnProperty.call(H,M)}function sn(H){for(const M in H)if(Object.prototype.hasOwnProperty.call(H,M))return!1;return!0}function Wn(H,M){if(H===M)return!0;const k=Object.keys(H),B=Object.keys(M);for(const ie of k){if(!B.includes(ie))return!1;const ee=H[ie],ye=M[ie];if(Ut(ee)&&Ut(ye)){if(!Wn(ee,ye))return!1}else if(ee!==ye)return!1}for(const ie of B)if(!k.includes(ie))return!1;return!0}function Ut(H){return null!==H&&"object"==typeof H}function Un(H){const M=[];for(const[k,B]of Object.entries(H))Array.isArray(B)?B.forEach(ie=>{M.push(encodeURIComponent(k)+"="+encodeURIComponent(ie))}):M.push(encodeURIComponent(k)+"="+encodeURIComponent(B));return M.length?"&"+M.join("&"):""}function In(H){const M={};return H.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[ie,ee]=B.split("=");M[decodeURIComponent(ie)]=decodeURIComponent(ee)}}),M}function Lr(H){const M=H.indexOf("?");if(!M)return"";const k=H.indexOf("#",M);return H.substring(M,k>0?k:void 0)}function Xr(H,M){const k=new Bn(H,M);return k.subscribe.bind(k)}class Bn{constructor(M,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{M(this)}).catch(B=>{this.error(B)})}next(M){this.forEachObserver(k=>{k.next(M)})}error(M){this.forEachObserver(k=>{k.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,k,B){let ie;if(void 0===M&&void 0===k&&void 0===B)throw new Error("Missing Observer.");ie=function Xi(H,M){if("object"!=typeof H||null===H)return!1;for(const k of M)if(k in H&&"function"==typeof H[k])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:k,complete:B},void 0===ie.next&&(ie.next=un),void 0===ie.error&&(ie.error=un),void 0===ie.complete&&(ie.complete=un);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),ee}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,M)}sendOne(M,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{k(this.observers[M])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function un(){}function Ct(H){return H&&H._delegate?H._delegate:H}},7304:(nn,Ye,V)=>{V.d(Ye,{W:()=>He});var o=V(7705),ue=V(345),i=V(6814),Ce=V(177);let me=(()=>{class pe{transform(Re,Xe){if(!Re||!Xe)return Re;let yt=Re;for(const Mt in Xe)if(Xe.hasOwnProperty(Mt)){const we=new RegExp(`{{${Mt}}}`,"g");yt=yt.replace(we,Xe[Mt])}return yt}static{this.\u0275fac=function(Xe){return new(Xe||pe)}}static{this.\u0275pipe=o.EJ8({name:"replaceKeyword",type:pe,pure:!0})}}return pe})();function Se(pe,Ke){if(1&pe){const Re=o.RV6();o.j41(0,"button",10),o.bIt("click",function(){o.eBV(Re);const yt=o.XpG(2);return o.Njj(yt.navigateToContact())}),o.EFF(1,"Contact Us"),o.k0s()}}const De=function(pe){return{businessName:pe}};function Fe(pe,Ke){if(1&pe&&(o.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3")(4,"span",6),o.EFF(5),o.nI1(6,"replaceKeyword"),o.k0s()(),o.j41(7,"h1"),o.EFF(8),o.k0s(),o.nrm(9,"p",7),o.j41(10,"div",8),o.DNE(11,Se,2,0,"button",9),o.k0s()()()()),2&pe){const Re=o.XpG();o.Y8G("ngClass",Re.themeType),o.R7$(5),o.JRh(o.i5U(6,5,Re.subTitle,o.eq3(8,De,Re._businessName))),o.R7$(3),o.JRh(Re.title),o.R7$(1),o.Y8G("innerHTML",Re.sanitizedContent,o.npT),o.R7$(2),o.Y8G("ngIf",Re.showBtn)}}function Ne(pe,Ke){if(1&pe&&o.nrm(0,"img",16),2&pe){const Re=o.XpG(2);o.Y8G("src",Re.imageURL,o.B4B)}}function ne(pe,Ke){1&pe&&(o.j41(0,"button",17),o.EFF(1,"Schedule A Visit"),o.k0s())}function ae(pe,Ke){if(1&pe&&(o.j41(0,"div",11),o.DNE(1,Ne,1,1,"img",12),o.j41(2,"h3",13),o.EFF(3),o.nI1(4,"replaceKeyword"),o.k0s(),o.j41(5,"h2",13),o.EFF(6),o.k0s(),o.nrm(7,"h4",14),o.DNE(8,ne,2,0,"button",15),o.k0s()),2&pe){const Re=o.XpG();o.Y8G("ngClass",Re.themeType),o.R7$(1),o.Y8G("ngIf",Re.imageURL&&Re.showImage),o.R7$(2),o.JRh(o.i5U(4,6,Re.subTitle,o.eq3(9,De,Re._businessName))),o.R7$(3),o.JRh(Re.title),o.R7$(1),o.Y8G("innerHTML",Re.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Re.showBtn)}}function _e(pe,Ke){if(1&pe&&o.nrm(0,"img",16),2&pe){const Re=o.XpG(2);o.Y8G("src",Re.imageURL,o.B4B)}}function ct(pe,Ke){if(1&pe&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&pe){const Re=o.XpG(2);o.R7$(1),o.SpI(" ",Re.titleParts.part2,"")}}function je(pe,Ke){1&pe&&(o.j41(0,"button",17),o.EFF(1,"Schedule A Visit"),o.k0s())}function _t(pe,Ke){if(1&pe&&(o.j41(0,"div",18),o.DNE(1,_e,1,1,"img",12),o.j41(2,"div",19)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,ct,2,1,"span",20),o.k0s(),o.nrm(7,"div",21)(8,"p",14),o.k0s(),o.DNE(9,je,2,0,"button",15),o.k0s()),2&pe){const Re=o.XpG();o.Y8G("ngClass",Re.themeType),o.R7$(1),o.Y8G("ngIf",Re.imageURL&&Re.showImage),o.R7$(3),o.SpI(" ",Re.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",Re.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Re.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Re.showBtn)}}function ot(pe,Ke){if(1&pe&&o.nrm(0,"img",16),2&pe){const Re=o.XpG(2);o.Y8G("src",Re.imageURL,o.B4B)}}function Rt(pe,Ke){if(1&pe&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&pe){const Re=o.XpG(2);o.R7$(1),o.SpI(" ",Re.titleParts.part2,"")}}function St(pe,Ke){1&pe&&(o.j41(0,"button",17),o.EFF(1,"Schedule A Visit"),o.k0s())}function rn(pe,Ke){if(1&pe&&(o.j41(0,"div",18),o.DNE(1,ot,1,1,"img",12),o.j41(2,"div",19)(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.DNE(6,Rt,2,1,"span",20),o.k0s(),o.nrm(7,"div",21)(8,"p",14),o.k0s(),o.DNE(9,St,2,0,"button",15),o.k0s()),2&pe){const Re=o.XpG();o.Y8G("ngClass",Re.themeType),o.R7$(1),o.Y8G("ngIf",Re.imageURL&&Re.showImage),o.R7$(3),o.SpI(" ",Re.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",Re.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",Re.sanitizedContent,o.npT),o.R7$(1),o.Y8G("ngIf",Re.showBtn)}}let He=(()=>{class pe{constructor(Re,Xe){this.sanitizer=Re,this.router=Xe,this.showBtn=!1,this.showImage=!1,this._businessName=""}set content(Re){this._content=Re,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Re)}get titleParts(){if(this.title.includes("|")){const[Re,Xe]=this.title.split("|").map(yt=>yt.trim());return{part1:Re,part2:Xe}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(){this.router.navigate(["/contact-us"])}static{this.\u0275fac=function(Xe){return new(Xe||pe)(o.rXU(ue.up),o.rXU(i.Ix))}}static{this.\u0275cmp=o.VBU({type:pe,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",content:"content"},decls:4,vars:4,consts:[["class","welcome-info-container",3,"ngClass",4,"ngIf"],["class","center-text-section",3,"ngClass",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass",4,"ngIf"],[1,"welcome-info-container",3,"ngClass"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],["type","button",1,"afhBtn",3,"click"],[1,"center-text-section",3,"ngClass"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass"],[1,"text-container"],[4,"ngIf"],[1,"separator2"]],template:function(Xe,yt){1&Xe&&(o.DNE(0,Fe,12,10,"div",0),o.DNE(1,ae,9,11,"div",1),o.DNE(2,_t,10,6,"div",2),o.DNE(3,rn,10,6,"div",2)),2&Xe&&(o.Y8G("ngIf","hh"==yt.themeType),o.R7$(1),o.Y8G("ngIf","clemo"!=yt.themeType&&"hh"!=yt.themeType&&"sb"!=yt.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==yt.themeType),o.R7$(1),o.Y8G("ngIf","sb"==yt.themeType))},dependencies:[Ce.YU,Ce.bT,me],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-section-clemo[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:var(--site-max-width);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}.clemo-center-title[_ngcontent-%COMP%]{padding-bottom:3rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}"]})}}return pe})()},3711:(nn,Ye,V)=>{V.d(Ye,{a:()=>Se});var o=V(7705),ue=V(4710),i=V(177);function Ce(De,Fe){1&De&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function me(De,Fe){1&De&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let Se=(()=>{class De{constructor(Ne){this.googleMapsLoader=Ne,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Ne=>{console.error("Error loading Google Maps script:",Ne)})}ngOnChanges(Ne){Ne.address&&!Ne.address.firstChange&&this.showAddressOnMap(Ne.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Ne){this.geocoder.geocode({address:Ne},(ne,ae)=>{if("OK"===ae){this.map.setCenter(ne[0].geometry.location);const _e=new google.maps.LatLngBounds;_e.extend(ne[0].geometry.location),this.map.fitBounds(_e),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:ne[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ae)})}getZoomLevel(Ne){document.getElementById("map");const _e=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Ne*_e)))}static{this.\u0275fac=function(ne){return new(ne||De)(o.rXU(ue.L))}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(ne,ae){1&ne&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,Ce,2,0,"ng-container",1),o.DNE(3,me,2,0,"ng-container",2),o.bVm(),o.k0s()),2&ne&&(o.Y8G("ngSwitch",ae.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return De})()},1915:(nn,Ye,V)=>{V.d(Ye,{j:()=>ct});var o=V(7705),ue=V(177),i=V(4591);function Ce(je,_t){if(1&je&&(o.j41(0,"div",13),o.nrm(1,"i",14),o.j41(2,"h3",15),o.EFF(3),o.k0s()()),2&je){const ot=_t.$implicit;o.R7$(1),o.Y8G("ngClass",ot.icon),o.R7$(2),o.JRh(ot.name)}}function me(je,_t){if(1&je&&(o.j41(0,"div")(1,"section",6)(2,"div",7)(3,"span",8),o.EFF(4,"Our "),o.k0s(),o.j41(5,"span",9),o.EFF(6,"Services"),o.k0s()(),o.j41(7,"h3",10),o.EFF(8,"Home Care From Trained Professionals"),o.k0s(),o.j41(9,"div",11),o.DNE(10,Ce,4,2,"div",12),o.k0s()()()),2&je){const ot=o.XpG(2);o.R7$(10),o.Y8G("ngForOf",ot.services)}}function Se(je,_t){if(1&je&&(o.j41(0,"li",18)(1,"h2"),o.EFF(2),o.k0s(),o.j41(3,"div",19)(4,"p"),o.EFF(5),o.k0s()()()),2&je){const ot=_t.$implicit;o.R7$(2),o.JRh(ot.name),o.R7$(3),o.JRh(ot.description)}}function De(je,_t){if(1&je&&(o.j41(0,"div",16)(1,"ul"),o.DNE(2,Se,6,2,"li",17),o.k0s()()),2&je){const ot=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",ot.services)}}function Fe(je,_t){if(1&je&&(o.j41(0,"section",3),o.DNE(1,me,11,1,"div",4),o.DNE(2,De,3,1,"div",5),o.k0s()),2&je){const ot=o.XpG();o.R7$(1),o.Y8G("ngIf",ot.minimal),o.R7$(1),o.Y8G("ngIf",!ot.minimal)}}function Ne(je,_t){if(1&je&&(o.j41(0,"div",24),o.nrm(1,"i",25),o.j41(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&je){const ot=_t.$implicit;o.R7$(1),o.Y8G("ngClass",ot.icon),o.R7$(2),o.JRh(ot.name),o.R7$(2),o.JRh(ot.description)}}function ne(je,_t){if(1&je&&(o.j41(0,"section",20),o.nrm(1,"app-section-tilte",21),o.j41(2,"div",22),o.DNE(3,Ne,6,3,"div",23),o.k0s()()),2&je){const ot=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",ot.services)}}function ae(je,_t){if(1&je&&(o.j41(0,"div",29),o.nrm(1,"i",30),o.j41(2,"h2",31),o.EFF(3),o.k0s(),o.j41(4,"p",32),o.EFF(5),o.k0s()()),2&je){const ot=_t.$implicit;o.R7$(1),o.Y8G("ngClass",ot.icon),o.R7$(2),o.JRh(ot.name),o.R7$(2),o.JRh(ot.description)}}function _e(je,_t){if(1&je&&(o.j41(0,"section",26),o.nrm(1,"app-section-tilte",21),o.j41(2,"div",27),o.DNE(3,ae,6,3,"div",28),o.k0s()()),2&je){const ot=o.XpG();o.R7$(1),o.Y8G("title","Our Services"),o.R7$(2),o.Y8G("ngForOf",ot.services)}}let ct=(()=>{class je{constructor(){this.layoutType="demo",this.minimal=!1}ngOnInit(){console.log("List Items: ",this.services),console.log("List Items layoutType",this.layoutType)}static{this.\u0275fac=function(Rt){return new(Rt||je)}}static{this.\u0275cmp=o.VBU({type:je,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType",minimal:"minimal"},decls:3,vars:3,consts:[["class","services-list-section",4,"ngIf"],["class","services-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section"],[4,"ngIf"],["class","services-list",4,"ngIf"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"services-list"],["class","service-list-item",4,"ngFor","ngForOf"],[1,"service-list-item"],[1,"our-services-item-description"],[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"sb-services-section"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(Rt,St){1&Rt&&(o.DNE(0,Fe,3,2,"section",0),o.DNE(1,ne,4,2,"section",1),o.DNE(2,_e,4,2,"section",2)),2&Rt&&(o.Y8G("ngIf","hh"==St.layoutType),o.R7$(1),o.Y8G("ngIf","hh"!=St.layoutType&&"sb"!=St.layoutType),o.R7$(1),o.Y8G("ngIf","sb"==St.layoutType))},dependencies:[ue.YU,ue.Sq,ue.bT,i.L],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.minimal-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.sb-services-section[_ngcontent-%COMP%]{text-align:center;padding:50px 20px;background-color:#f8f9fa}.sb-services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;max-width:1100px;margin:0 auto}.sb-service-item[_ngcontent-%COMP%]{background:#ffffff;padding:25px;border-radius:10px;box-shadow:0 4px 10px #0000000d;text-align:center;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out}.sb-service-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 15px #0000001a}.sb-services-item-icon[_ngcontent-%COMP%]{font-size:40px;color:#6c757d;margin-bottom:15px;display:block}.sb-service-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#343a40;margin-bottom:10px}.sb-service-description[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;line-height:1.6}@media (max-width: 768px){.sb-services-section[_ngcontent-%COMP%]{padding:30px 15px}.sb-services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.sb-service-item[_ngcontent-%COMP%]{padding:20px}.sb-services-item-icon[_ngcontent-%COMP%]{font-size:35px}.sb-service-title[_ngcontent-%COMP%]{font-size:18px}.sb-service-description[_ngcontent-%COMP%]{font-size:13px}}"]})}}return je})()},491:(nn,Ye,V)=>{V.d(Ye,{G:()=>Se});var o=V(7705),ue=V(177);function i(De,Fe){if(1&De&&(o.j41(0,"section",2)(1,"div",3)(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s()(),o.j41(6,"div",4),o.nrm(7,"img",5),o.k0s()()),2&De){const Ne=o.XpG();o.R7$(3),o.JRh(Ne.title),o.R7$(2),o.JRh(Ne.content),o.R7$(2),o.FS9("src",Ne.imageURL,o.B4B),o.FS9("alt",Ne.title)}}function Ce(De,Fe){if(1&De&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&De){const Ne=o.XpG(2);o.R7$(1),o.SpI(" ",Ne.titleParts.part2,"")}}function me(De,Fe){if(1&De&&(o.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.DNE(7,Ce,2,1,"span",9),o.k0s(),o.nrm(8,"div",10),o.j41(9,"p"),o.EFF(10),o.k0s(),o.j41(11,"a",11),o.EFF(12,"learn more"),o.k0s()(),o.j41(13,"div",12),o.nrm(14,"img",5),o.k0s()()()()),2&De){const Ne=o.XpG();o.R7$(5),o.SpI(" ",Ne.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",Ne.titleParts.part2),o.R7$(3),o.JRh(Ne.content),o.R7$(4),o.FS9("src",Ne.imageURL,o.B4B),o.FS9("alt",Ne.title)}}let Se=(()=>{class De{get titleParts(){if(this.title.includes("|")){const[Ne,ne]=this.title.split("|").map(ae=>ae.trim());return{part1:Ne,part2:ne}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(ne){return new(ne||De)}}static{this.\u0275cmp=o.VBU({type:De,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"],[1,"left-image-container"]],template:function(ne,ae){1&ne&&(o.DNE(0,i,8,4,"section",0),o.DNE(1,me,15,5,"section",1)),2&ne&&(o.Y8G("ngIf","clemo"!=ae.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==ae.themeType))},dependencies:[ue.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return De})()},4593:(nn,Ye,V)=>{V.d(Ye,{F:()=>De});var o=V(7705),ue=V(345),i=V(177);function Ce(Fe,Ne){if(1&Fe&&(o.j41(0,"section",2)(1,"div",3),o.nrm(2,"img",4),o.k0s(),o.j41(3,"div",5)(4,"h2"),o.EFF(5),o.k0s(),o.j41(6,"h4"),o.EFF(7),o.k0s()()()),2&Fe){const ne=o.XpG();o.R7$(2),o.FS9("src",ne.imageURL,o.B4B),o.FS9("alt",ne.title),o.R7$(3),o.JRh(ne.title),o.R7$(2),o.JRh(ne.content)}}function me(Fe,Ne){if(1&Fe&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&Fe){const ne=o.XpG(2);o.R7$(1),o.SpI(" ",ne.titleParts.part2,"")}}function Se(Fe,Ne){if(1&Fe&&(o.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),o.nrm(4,"img",4),o.k0s(),o.j41(5,"div",5)(6,"h3"),o.EFF(7),o.k0s(),o.j41(8,"h2"),o.DNE(9,me,2,1,"span",10),o.k0s(),o.nrm(10,"div",11),o.j41(11,"p",12),o.EFF(12),o.k0s(),o.j41(13,"a",13),o.EFF(14,"learn more"),o.k0s()()()()()),2&Fe){const ne=o.XpG();o.R7$(4),o.FS9("src",ne.imageURL,o.B4B),o.FS9("alt",ne.title),o.R7$(3),o.SpI(" ",ne.titleParts.part1,""),o.R7$(2),o.Y8G("ngIf",ne.titleParts.part2),o.R7$(2),o.Y8G("innerHTML",ne.sanitizedContent,o.npT),o.R7$(1),o.JRh(ne.content)}}let De=(()=>{class Fe{set content(ne){this._content=ne,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ne)}constructor(ne){this.sanitizer=ne}get titleParts(){if(this.title.includes("|")){const[ne,ae]=this.title.split("|").map(_e=>_e.trim());return{part1:ne,part2:ae}}return{part1:this.title,part2:null}}get content(){return this._content}static{this.\u0275fac=function(ae){return new(ae||Fe)(o.rXU(ue.up))}}static{this.\u0275cmp=o.VBU({type:Fe,selectors:[["app-right-text"]],inputs:{title:"title",imageURL:"imageURL",themeType:"themeType",content:"content"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[3,"innerHTML"],["href","#",1,"btn"]],template:function(ae,_e){1&ae&&(o.DNE(0,Ce,8,4,"section",0),o.DNE(1,Se,15,6,"section",1)),2&ae&&(o.Y8G("ngIf","clemo"!=_e.themeType),o.R7$(1),o.Y8G("ngIf","clemo"==_e.themeType))},dependencies:[i.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return Fe})()},4591:(nn,Ye,V)=>{V.d(Ye,{L:()=>ue});var o=V(7705);let ue=(()=>{class i{static{this.\u0275fac=function(Se){return new(Se||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-section-tilte"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(Se,De){1&Se&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&Se&&(o.R7$(2),o.JRh(De.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return i})()},6576:(nn,Ye,V)=>{V.d(Ye,{B:()=>k});var o=V(7705),ue=V(6814),i=V(6861),Ce=V(923),me=V(177);function Se(B,ie){if(1&B&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&B){const ee=ie.$implicit;o.R7$(5),o.SpI('" ',ee.quote,' "'),o.R7$(2),o.JRh(ee.name)}}function De(B,ie){if(1&B&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,Se,8,2,"div",7),o.k0s()(),o.bVm()),2&B){const ee=o.XpG();o.R7$(6),o.Y8G("ngForOf",ee.testimonials)}}function Fe(B,ie){if(1&B&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&B){const ee=ie.$implicit;o.R7$(5),o.JRh(ee.quote),o.R7$(2),o.JRh(ee.name)}}function Ne(B,ie){if(1&B&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,Fe,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&B){const ee=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,ee.testimonials,0,4))}}function ne(B,ie){if(1&B&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&B){const ee=ie.$implicit;o.R7$(5),o.JRh(ee.quote),o.R7$(2),o.JRh(ee.name)}}function ae(B,ie){if(1&B&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,ne,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&B){const ee=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,ee.testimonials,0,4))}}function _e(B,ie){if(1&B&&(o.j41(0,"div",33)(1,"div",34),o.nrm(2,"div",35),o.j41(3,"p",36),o.EFF(4),o.k0s()(),o.j41(5,"div",37)(6,"p",38),o.EFF(7),o.k0s()()()),2&B){const ee=ie.$implicit;o.R7$(4),o.JRh(ee.quote),o.R7$(3),o.JRh(ee.name)}}function ct(B,ie){if(1&B&&(o.qex(0),o.j41(1,"section",26)(2,"div",27)(3,"h2",28),o.EFF(4,"Word of Mouth"),o.k0s(),o.j41(5,"p",29),o.EFF(6,"You should hear what people have to say about us"),o.k0s()(),o.j41(7,"div",30)(8,"div",31),o.DNE(9,_e,8,2,"div",32),o.k0s()()(),o.bVm()),2&B){const ee=o.XpG();o.R7$(9),o.Y8G("ngForOf",ee.testimonials)}}let je=(()=>{class B{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(ee){this.currentIndex=ee,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(ye){return new(ye||B)}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0),o.DNE(1,De,7,1,"ng-container",1),o.DNE(2,Ne,15,5,"ng-container",1),o.DNE(3,ae,15,5,"ng-container",1),o.DNE(4,ct,10,1,"ng-container",2),o.k0s()),2&ye&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[me.Sq,me.ux,me.e1,me.fG,ue.Wk,me.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return B})();function _t(B,ie){if(1&B){const ee=o.RV6();o.qex(0),o.j41(1,"div",2)(2,"div",3)(3,"span",4),o.EFF(4,"Book a "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Consultation"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," We would love to meet you! Contact us to schedule a tour. "),o.k0s(),o.j41(9,"button",7),o.bIt("click",function(){o.eBV(ee);const at=o.XpG();return o.Njj(at.navigateToContact(at.id))}),o.EFF(10,"Book Consultation"),o.k0s()(),o.bVm()}}function ot(B,ie){if(1&B){const ee=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",15),o.bIt("click",function(){o.eBV(ee);const at=o.XpG();return o.Njj(at.navigateToContact(at.id))}),o.EFF(13,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&B){const ee=o.XpG();o.R7$(8),o.SpI("",ee.businessName,"?")}}let Rt=(()=>{class B{constructor(ee){this.router=ee,this.id=null,this.layoutType="demo"}navigateToContact(ee){this.router.navigate(["/contact-us"],{queryParams:{id:ee}})}static{this.\u0275fac=function(ye){return new(ye||B)(o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0),o.DNE(1,_t,11,0,"ng-container",1),o.DNE(2,ot,14,1,"ng-container",1),o.k0s()),2&ye&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[me.ux,me.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return B})();var St=V(8704);function rn(B,ie){if(1&B&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&B){const ee=ie.$implicit;o.R7$(1),o.Y8G("innerHTML",ee.name,o.npT),o.R7$(1),o.Y8G("innerHTML",ee.description,o.npT)}}function He(B,ie){if(1&B&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our Unique "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Features"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,rn,3,2,"div",9),o.k0s()()(),o.bVm()),2&B){const ee=o.XpG();o.R7$(11),o.Y8G("ngForOf",ee.uniqueService)}}function pe(B,ie){1&B&&o.eu8(0)}let Ke=(()=>{class B{constructor(ee,ye){this.webContent=ee,this.route=ye,this.layoutType="demo"}static{this.\u0275fac=function(ye){return new(ye||B)(o.rXU(St.N),o.rXU(ue.nX))}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0),o.DNE(1,He,12,1,"ng-container",1),o.DNE(2,pe,1,0,"ng-container",1),o.k0s()),2&ye&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return B})();function Re(B,ie){if(1&B&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&B){const ee=ie.$implicit;o.R7$(1),o.Y8G("innerHTML",ee.name,o.npT),o.R7$(1),o.Y8G("innerHTML",ee.description,o.npT)}}function Xe(B,ie){if(1&B&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6," US "),o.k0s()(),o.j41(7,"div",7)(8,"div",8),o.DNE(9,Re,3,2,"div",9),o.k0s()()(),o.bVm()),2&B){const ee=o.XpG();o.R7$(9),o.Y8G("ngForOf",ee.whyChooseUs)}}function yt(B,ie){1&B&&o.eu8(0)}function Mt(B,ie){if(1&B&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&B){const ee=ie.$implicit;o.R7$(1),o.Y8G("innerHTML",ee.name,o.npT),o.R7$(1),o.Y8G("innerHTML",ee.description,o.npT)}}function we(B,ie){if(1&B&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.j41(7,"p",13),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,Mt,3,2,"div",9),o.k0s()()(),o.bVm()),2&B){const ee=o.XpG();o.R7$(6),o.SpI(" ",ee.businessName,""),o.R7$(5),o.Y8G("ngForOf",ee.whyChooseUs)}}let Zt=(()=>{class B{constructor(ee,ye){this.webContent=ee,this.route=ye,this.layoutType="demo"}static{this.\u0275fac=function(ye){return new(ye||B)(o.rXU(St.N),o.rXU(ue.nX))}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0),o.DNE(1,Xe,10,1,"ng-container",1),o.DNE(2,yt,1,0,"ng-container",1),o.DNE(3,we,12,2,"ng-container",2),o.k0s()),2&ye&&(o.Y8G("ngSwitch",at.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[me.Sq,me.ux,me.e1,me.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return B})();var fn=V(7304),or=V(4593),xt=V(491),Vt=V(1915);function zt(B,ie){if(1&B&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s()()),2&B){const ee=ie.$implicit;o.R7$(1),o.HbH(ee.icon),o.R7$(2),o.JRh(ee.title)}}let dt=(()=>{class B{constructor(){this.services=[]}static{this.\u0275fac=function(ye){return new(ye||B)}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",4),o.DNE(6,zt,4,3,"div",5),o.k0s(),o.j41(7,"button",6),o.EFF(8,"Learn More"),o.k0s()()()()),2&ye&&(o.R7$(6),o.Y8G("ngForOf",at.services))},dependencies:[me.Sq,ue.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return B})(),Le=(()=>{class B{static{this.\u0275fac=function(ye){return new(ye||B)}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"Our Motto"),o.k0s(),o.j41(4,"h4"),o.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),o.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px;overflow:hidden}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:var(--site-max-width);margin:0 auto}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:300px;background-attachment:scroll;background-size:cover}}@media (max-width: 480px){.parallax-container[_ngcontent-%COMP%]{height:250px}h1[_ngcontent-%COMP%]{font-size:1.5rem}h4[_ngcontent-%COMP%]{font-size:1rem}}']})}}return B})(),et=(()=>{class B{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(ye){return new(ye||B)}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o.EFF(4),o.k0s(),o.j41(5,"span",4),o.EFF(6,"Years of Experience"),o.k0s()(),o.j41(7,"div",2)(8,"span",3),o.EFF(9),o.k0s(),o.j41(10,"span",4),o.EFF(11,"Happy Families"),o.k0s()(),o.j41(12,"div",2)(13,"span",3),o.EFF(14),o.k0s(),o.j41(15,"span",4),o.EFF(16,"Services Offered"),o.k0s()(),o.j41(17,"div",2)(18,"span",3),o.EFF(19),o.k0s(),o.j41(20,"span",4),o.EFF(21,"Trained Staff"),o.k0s()()()()),2&ye&&(o.xc7("background-image","url("+at.backgroundImage+")"),o.R7$(4),o.JRh(at.yearsOfExperience),o.R7$(5),o.JRh(at.happyFamilies),o.R7$(5),o.JRh(at.servicesOffered),o.R7$(5),o.JRh(at.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{width:100vw;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:150px;width:100vw;height:100%;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center;width:100%}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return B})();const Xt=function(B,ie){return{"clemo-btn":B,"clemo-btn-outline":ie}},Be=function(B){return{"border-radius":B}};function Ae(B,ie){if(1&B&&(o.qex(0),o.j41(1,"a",17),o.EFF(2),o.k0s(),o.bVm()),2&B){const ee=ie.$implicit,ye=o.XpG(3);o.R7$(1),o.Y8G("routerLink",ee.link)("ngClass",o.l_i(4,Xt,!ee.outline,ee.outline))("ngStyle",o.eq3(7,Be,ye.buttonBorderRadius)),o.R7$(1),o.SpI(" ",ee.text," ")}}const be=function(B,ie){return{"font-size":B,"font-weight":ie}};function Ve(B,ie){if(1&B&&(o.j41(0,"div",9)(1,"h1"),o.EFF(2),o.k0s(),o.nrm(3,"div",10)(4,"h2",11),o.j41(5,"div",12),o.DNE(6,Ae,3,9,"ng-container",13),o.k0s(),o.j41(7,"div",14)(8,"div",15),o.nrm(9,"div",16),o.k0s(),o.j41(10,"p"),o.EFF(11,"Scroll down"),o.k0s()()()),2&B){const ee=o.XpG().$implicit,ye=o.XpG();o.R7$(2),o.JRh(ee.title),o.R7$(2),o.Y8G("ngStyle",o.l_i(4,be,ye.subtitleSize,ye.subtitleWeight))("innerHTML",ee.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",ee.buttons)}}const nt=function(B){return{background:B,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Ze(B,ie){if(1&B&&(o.j41(0,"div",6),o.nrm(1,"div",7),o.DNE(2,Ve,12,7,"div",8),o.k0s()),2&B){const ee=ie.$implicit,ye=ie.index,at=o.XpG();o.AVh("clemo-active",ye===at.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(4,nt,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+ee.backgroundImage+")")),o.R7$(1),o.Y8G("ngIf",null==ee.title?null:ee.title.trim())}}const Ot=function(B){return{"line-style":B}};function Tn(B,ie){if(1&B){const ee=o.RV6();o.j41(0,"div",18),o.bIt("click",function(){const en=o.eBV(ee).index,_n=o.XpG();return o.Njj(_n.navigateToSlide(en))}),o.k0s()}if(2&B){const ee=ie.index,ye=o.XpG();o.AVh("clemo-active",ee===ye.currentSlide),o.Y8G("ngClass",o.eq3(3,Ot,"bottom"===ye.navigation))}}function Zn(B,ie){if(1&B){const ee=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(ee);const at=o.XpG();return o.Njj(at.prevSlide())}),o.nrm(1,"span",20),o.j41(2,"span",21),o.EFF(3,"Previous"),o.k0s()()}}function tn(B,ie){if(1&B){const ee=o.RV6();o.j41(0,"button",22),o.bIt("click",function(){o.eBV(ee);const at=o.XpG();return o.Njj(at.nextSlide())}),o.nrm(1,"span",23),o.j41(2,"span",21),o.EFF(3,"Next"),o.k0s()()}}const kn=function(B,ie,ee,ye,at){return{"--slider-opacity":B,height:ie,"--button-border-radius":ee,"--subtitle-size":ye,"--subtitle-weiight":at}},Kt=function(B){return{"bottom-nav":B}};let Vn=(()=>{class B{constructor(ee,ye){this.router=ee,this.businessDataService=ye,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(ee=>{ee?(console.log("HeroSliderComponent - Retrieved business data:",ee),this.business=ee,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(ye=>({title:this.replaceKeywords(ye.title),subtitle:this.replaceKeywords(ye.subtitle),backgroundImage:ye.backgroundImage,buttons:ye.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(ee){return ee&&this.business?.businessName?ee.replace(/{{businessName}}/g,this.business.businessName):ee}navigateToSlide(ee){this.currentSlide=ee}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const ee=window.scrollY,ye=window.innerHeight;this.sliderOpacity=Math.max(1-ee/ye,0)}static{this.\u0275fac=function(ye){return new(ye||B)(o.rXU(ue.Ix),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-hero-slider"]],hostBindings:function(ye,at){1&ye&&o.bIt("scroll",function(_n){return at.onScroll(_n)},!1,o.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:6,vars:14,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button","data-bs-target","#heroCarousel","data-bs-slide","next",3,"click",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass","ngStyle"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0),o.DNE(1,Ze,3,6,"div",1),o.j41(2,"div",2),o.DNE(3,Tn,1,5,"div",3),o.k0s(),o.DNE(4,Zn,4,0,"button",4),o.DNE(5,tn,4,0,"button",5),o.k0s()),2&ye&&(o.Y8G("ngStyle",o.s1E(6,kn,at.sliderOpacity,at.sliderHeight,at.buttonBorderRadius,at.subtitleSize,at.subtitleWeight)),o.R7$(1),o.Y8G("ngForOf",at.slides),o.R7$(1),o.Y8G("ngClass",o.eq3(12,Kt,"bottom"===at.navigation)),o.R7$(1),o.Y8G("ngForOf",at.slides),o.R7$(1),o.Y8G("ngIf",at.sideButtons),o.R7$(1),o.Y8G("ngIf",at.sideButtons))},dependencies:[me.YU,me.Sq,me.bT,me.B3,ue.Wk,ue.wQ],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{outline:2px solid blue;position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:var(--button-border-radius, 25px);text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:1px solid #fff;border-radius:var(--button-border-radius, 25px);text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-slider-navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.clemo-nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.clemo-nav-item.line-style[_ngcontent-%COMP%]{width:30px;height:4px;background-color:#fff;clip-path:none;border-radius:2px}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}@media (max-width: 1024px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 768px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1rem}.clemo-home-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px;margin-right:0}.mouse-scroll[_ngcontent-%COMP%]{bottom:-150px}}@media (max-width: 480px){.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.clemo-subtitle[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.4}.clemo-btn[_ngcontent-%COMP%], .clemo-btn-outline[_ngcontent-%COMP%]{font-size:.85rem;padding:6px 12px}.mouse-scroll[_ngcontent-%COMP%]{bottom:-120px}}"]})}}return B})();var pn=V(9969),Bt=V(4710);function Ft(B,ie){1&B&&(o.j41(0,"div",13),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function gr(B,ie){if(1&B){const ee=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV(ee);const at=o.XpG(3);return o.Njj(at.navigateToTestimonials())}),o.EFF(1," Read More "),o.k0s()}}function sn(B,ie){if(1&B&&(o.j41(0,"span"),o.EFF(1,"[...]"),o.DNE(2,gr,2,0,"button",14),o.k0s()),2&B){const ee=o.XpG().$implicit,ye=o.XpG();o.R7$(2),o.Y8G("ngIf",ye.isTruncated(ee.quote))}}function Pr(B,ie){if(1&B&&(o.j41(0,"div",5)(1,"div",6)(2,"h3",7),o.EFF(3),o.k0s(),o.nrm(4,"div",8),o.j41(5,"p",9),o.EFF(6),o.k0s(),o.DNE(7,Ft,2,0,"div",10),o.k0s(),o.j41(8,"div",11)(9,"p"),o.EFF(10),o.DNE(11,sn,3,1,"span",12),o.k0s()()()),2&B){const ee=ie.$implicit,ye=o.XpG();o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(ee.name),o.R7$(3),o.JRh(ee.relationship),o.R7$(1),o.Y8G("ngIf",ee.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",ye.truncateText(ee.quote)," "),o.R7$(1),o.Y8G("ngIf",ye.isTruncated(ee.quote))}}function Wn(B,ie){if(1&B){const ee=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){const en=o.eBV(ee).index,_n=o.XpG();return o.Njj(_n.goToSlide(en))}),o.EFF(1," \u25cf "),o.k0s()}if(2&B){const ee=ie.index,ye=o.XpG();o.AVh("active",ee===ye.currentIndex)}}const Ut=function(B){return[B]};let bn=(()=>{class B{constructor(ee,ye,at){this.businessDataService=ee,this.googleMapsLoader=ye,this.router=at,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(ee=>{if(ee&&ee.testimonials){const ye=ee.testimonials.map(at=>({...at,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...ye]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(ye,at)=>{if(at===google.maps.places.PlacesServiceStatus.OK){const en=ye?.reviews?.map(_n=>({name:_n.author_name,quote:_n.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...en,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",at)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(ee){this.currentIndex=ee}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(ee,ye){return ee}truncateText(ee){return ee.length>this.maxTextLength?ee.slice(0,this.maxTextLength):ee}isTruncated(ee){return ee.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(ye){return new(ye||B)(o.rXU(Ce.A),o.rXU(Bt.L),o.rXU(ue.Ix))}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,Pr,12,8,"div",2),o.j41(4,"div",3),o.DNE(5,Wn,2,2,"button",4),o.k0s()()),2&ye&&(o.R7$(3),o.Y8G("ngForOf",o.eq3(3,Ut,at.currentTestimonial))("ngForTrackBy",at.trackByIndex),o.R7$(2),o.Y8G("ngForOf",at.testimonials))},dependencies:[me.Sq,me.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,pn.hZ)("slideIn",[(0,pn.kY)(":enter",[(0,pn.iF)({opacity:0,transform:"translateX(-100%)"}),(0,pn.i0)("0.5s ease-in",(0,pn.iF)({opacity:1,transform:"translateX(0)"}))]),(0,pn.kY)(":leave",[(0,pn.i0)("0.5s ease-out",(0,pn.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,pn.hZ)("fadeInLeft",[(0,pn.kY)(":enter",[(0,pn.iF)({opacity:0,transform:"translateX(-100%)"}),(0,pn.i0)("0.5s ease-in",(0,pn.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,pn.hZ)("fadeInRight",[(0,pn.kY)(":enter",[(0,pn.iF)({opacity:0,transform:"translateX(100%)"}),(0,pn.i0)("0.5s ease-in",(0,pn.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return B})();var Un=V(3711),In=V(4591);let Lr=(()=>{class B{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(ye){return new(ye||B)}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(ye,at){1&ye&&(o.nrm(0,"app-section-tilte",0),o.j41(1,"div",1),o.nrm(2,"iframe",2),o.k0s()),2&ye&&o.Y8G("title","Video")},dependencies:[In.L],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return B})();function Dr(B,ie){if(1&B&&(o.j41(0,"div",4),o.nrm(1,"img",5),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"span",6),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s(),o.j41(8,"a",7),o.EFF(9,"READ MORE"),o.k0s()()),2&B){const ee=ie.$implicit;o.R7$(1),o.Y8G("src",ee.image,o.B4B)("alt",ee.title),o.R7$(2),o.JRh(ee.title),o.R7$(2),o.JRh(ee.category),o.R7$(2),o.JRh(ee.description)}}let Xr=(()=>{class B{constructor(){this.products=[{title:"Single Page Website",category:"$799",description:"Simple, clean, and effective online presence",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285"},{title:"Essentials Website",category:"$1500",description:"Comprehensive design with key pages for your home",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9"},{title:"Custom Lux Website",category:"Pricing varies",description:"Unique design, professional photos/videos, logo & business card design",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318"}]}static{this.\u0275fac=function(ye){return new(ye||B)}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-latest-products"]],decls:7,vars:1,consts:[[1,"latest-products"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],["href","#",1,"read-more"]],template:function(ye,at){1&ye&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Latest Products"),o.k0s(),o.j41(3,"p",1),o.EFF(4," Lorem ipsum dolor sit amet consectetur adipiscing elit sed tempor incididunt ut laboreet dolore magna aliqua enim minim veniam exercitation "),o.k0s(),o.j41(5,"div",2),o.DNE(6,Dr,10,5,"div",3),o.k0s()()),2&ye&&(o.R7$(6),o.Y8G("ngForOf",at.products))},dependencies:[me.Sq],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto;h2 {font-size: 28px; font-weight: 700; color: #333;} .description {color: #777; max-width: 600px; margin: 0 auto 20px; font-size: 16px;} .product-grid {display: grid; grid-template-columns: repeat(auto-fit,minmax(300px,1fr)); gap: 20px; .product-card {background: #fff; padding: 20px; text-align: left; box-shadow: 0 2px 10px rgba(0,0,0,.1); border-radius: 10px; img {width: 100%; height: 200px; object-fit: cover; border-radius: 10px;} h3 {font-size: 20px; color: #333; margin: 10px 0;} .category {font-size: 14px; color: #999; text-transform: uppercase; font-weight: bold;} p {font-size: 14px; color: #666; margin: 10px 0;} .read-more {font-size: 14px; color: #007bff; font-weight: bold; text-decoration: none; display: inline-block; margin-top: 10px;}}}}"]})}}return B})();var Bn=V(5449);function ui(B,ie){if(1&B&&o.nrm(0,"app-center-text",8),2&B){const ee=ie.ngIf,ye=o.XpG(2);o.Y8G("themeType",(null==ye.business||null==ye.business.theme?null:ye.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("subTitle",(null==ee?null:ee.sectionSubTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")("showBtn",!0)("_businessName",(null==ye.business?null:ye.business.businessName)||"")}}const Xi=function(){return[]};function un(B,ie){if(1&B&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",2),o.DNE(2,ui,1,7,"app-center-text",3),o.nI1(3,"sectionFilter"),o.nrm(4,"app-item-list",4)(5,"app-why-us",5)(6,"app-features",6)(7,"app-testimonials",7),o.k0s()),2&B){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","bottom")("sideButtons",!0),o.R7$(1),o.Y8G("ngIf",o.i5U(3,13,null==ee.business?null:ee.business.sections,"HomeWelcomeText")),o.R7$(2),o.Y8G("layoutType","hh")("services",(null==ee.business?null:ee.business.services)||o.lJ4(16,Xi))("minimal",!0),o.R7$(1),o.Y8G("whyChooseUs",(null==ee.business?null:ee.business.whyChoose)||o.lJ4(17,Xi))("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")("businessName",(null==ee.business?null:ee.business.businessName)||"Demo"),o.R7$(1),o.Y8G("uniqueService",(null==ee.business?null:ee.business.uniqueService)||o.lJ4(18,Xi))("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo"),o.R7$(1),o.Y8G("testimonials",null==ee.business?null:ee.business.testimonials)("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")}}function Qr(B,ie){if(1&B&&o.nrm(0,"app-center-text",13),2&B){const ee=ie.ngIf,ye=o.XpG(2);o.Y8G("themeType",(null==ye.business||null==ye.business.theme?null:ye.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")("showBtn",!1)}}function Yn(B,ie){if(1&B&&o.nrm(0,"app-right-text",14),2&B){const ee=ie.ngIf,ye=o.XpG(2);o.Y8G("themeType",(null==ye.business||null==ye.business.theme?null:ye.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function br(B,ie){if(1&B&&o.nrm(0,"app-left-text",14),2&B){const ee=ie.ngIf,ye=o.XpG(2);o.Y8G("themeType",(null==ye.business||null==ye.business.theme?null:ye.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}const jn=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},Di=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},tt=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},gt=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},he=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},Me=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},Et=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},Gt=function(B,ie,ee,ye,at,en,_n){return[B,ie,ee,ye,at,en,_n]};function Ln(B,ie){if(1&B&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",9),o.DNE(2,Qr,1,5,"app-center-text",10),o.nI1(3,"sectionFilter"),o.DNE(4,Yn,1,4,"app-right-text",11),o.nI1(5,"sectionFilter"),o.DNE(6,br,1,4,"app-left-text",11),o.nI1(7,"sectionFilter"),o.nrm(8,"app-icon-list",12)(9,"app-testimonials",7),o.k0s()),2&B){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","side")("sideButtons",!1),o.R7$(1),o.Y8G("ngIf",o.i5U(3,8,null==ee.business?null:ee.business.sections,"HomeCenterText")),o.R7$(2),o.Y8G("ngIf",o.i5U(5,11,null==ee.business?null:ee.business.sections,"HomeRightText")),o.R7$(2),o.Y8G("ngIf",o.i5U(7,14,null==ee.business?null:ee.business.sections,"HomeLeftText")),o.R7$(2),o.Y8G("services",o.sGs(24,Gt,o.lJ4(17,jn),o.lJ4(18,Di),o.lJ4(19,tt),o.lJ4(20,gt),o.lJ4(21,he),o.lJ4(22,Me),o.lJ4(23,Et))),o.R7$(1),o.Y8G("testimonials",null==ee.business?null:ee.business.testimonials)("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")}}function kr(B,ie){if(1&B&&o.nrm(0,"app-right-text",14),2&B){const ee=ie.ngIf,ye=o.XpG(2);o.Y8G("themeType",(null==ye.business||null==ye.business.theme?null:ye.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")}}function Cr(B,ie){if(1&B&&o.nrm(0,"app-google-maps",20),2&B){const ee=o.XpG(2);o.Y8G("address",(null==ee.business?null:ee.business.address)||"")("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")}}function bi(B,ie){if(1&B&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",15),o.DNE(2,kr,1,4,"app-right-text",11),o.nI1(3,"sectionFilter"),o.nrm(4,"app-video",16)(5,"app-parallax-stats",17)(6,"app-testimonial-carousel",18)(7,"app-parallax-text"),o.DNE(8,Cr,1,2,"app-google-maps",19),o.k0s()),2&B){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","side")("sideButtons",!1),o.R7$(1),o.Y8G("ngIf",o.i5U(3,11,null==ee.business?null:ee.business.sections,"HomeRightText")),o.R7$(2),o.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX"),o.R7$(1),o.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4),o.R7$(1),o.Y8G("placeId",(null==ee.business?null:ee.business.placeId)||""),o.R7$(2),o.Y8G("ngIf","clemo"==(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType))}}function Ct(B,ie){if(1&B&&o.nrm(0,"app-center-text",8),2&B){const ee=ie.ngIf,ye=o.XpG(2);o.Y8G("themeType",(null==ye.business||null==ye.business.theme?null:ye.business.theme.themeType)||"")("imageURL",(null==ee?null:ee.sectionImageUrl)||"")("title",(null==ee?null:ee.sectionTitle)||"")("subTitle",(null==ee?null:ee.sectionSubTitle)||"")("content",(null==ee?null:ee.sectionContent)||"")("showBtn",!1)("_businessName",(null==ye.business?null:ye.business.businessName)||"")}}function H(B,ie){if(1&B&&(o.j41(0,"section"),o.nrm(1,"app-hero-slider",21),o.DNE(2,Ct,1,7,"app-center-text",3),o.nI1(3,"sectionFilter"),o.nrm(4,"app-latest-products")(5,"app-item-list",4),o.k0s()),2&B){const ee=o.XpG();o.R7$(1),o.Y8G("navigation","side")("sideButtons",!1)("buttonBorderRadius","0px")("subtitleSize","50px")("subtitleWeight","100"),o.R7$(1),o.Y8G("ngIf",o.i5U(3,9,null==ee.business?null:ee.business.sections,"HomeCenterText")),o.R7$(3),o.Y8G("layoutType","sb")("services",(null==ee.business?null:ee.business.services)||o.lJ4(12,Xi))("minimal",!0)}}function M(B,ie){if(1&B&&o.nrm(0,"app-consultation",22),2&B){const ee=o.XpG();o.Y8G("id",(null==ee.business?null:ee.business.id)||"")("layoutType",(null==ee.business||null==ee.business.theme?null:ee.business.theme.themeType)||"demo")("businessName",(null==ee.business?null:ee.business.businessName)||"Demo")}}let k=(()=>{class B{constructor(ee,ye,at){this.route=ee,this.metaService=ye,this.businessDataService=at,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(ee=>{ee&&(this.businessId=ee,this.businessDataService.getBusinessData().subscribe(ye=>{this.business=ye}),this.metaService.loadAndApplyMeta(this.businessId))})}getSectionByName(ee){return this.business?.sections?.find(ye=>ye.sectionName===ee)||null}static{this.\u0275fac=function(ye){return new(ye||B)(o.rXU(ue.nX),o.rXU(i.R),o.rXU(Ce.A))}}static{this.\u0275cmp=o.VBU({type:B,selectors:[["app-home"]],decls:5,vars:5,consts:[[4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],["sliderHeight","70vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName",4,"ngIf"],[3,"layoutType","services","minimal"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"themeType","imageURL","title","subTitle","content","showBtn","_businessName"],["sliderHeight","80vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"services"],[3,"themeType","imageURL","title","content","showBtn"],[3,"themeType","imageURL","title","content"],["sliderHeight","100vh",3,"navigation","sideButtons"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"address","layoutType",4,"ngIf"],[3,"address","layoutType"],["sliderHeight","100vh",3,"navigation","sideButtons","buttonBorderRadius","subtitleSize","subtitleWeight"],[3,"id","layoutType","businessName"]],template:function(ye,at){1&ye&&(o.DNE(0,un,8,19,"section",0),o.DNE(1,Ln,10,32,"section",0),o.DNE(2,bi,9,14,"section",0),o.DNE(3,H,6,13,"section",0),o.DNE(4,M,1,3,"app-consultation",1)),2&ye&&(o.Y8G("ngIf","hh"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","sb"===(null==at.business||null==at.business.theme?null:at.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==at.business||null==at.business.theme?null:at.business.theme.themeType)))},dependencies:[me.bT,je,Rt,Ke,Zt,fn.W,or.F,xt.G,Vt.j,dt,Le,et,Vn,bn,Un.a,Lr,Xr,Bn.W]})}}return B})()},214:(nn,Ye,V)=>{V.d(Ye,{W:()=>ue});var o=V(7705);let ue=(()=>{class i{constructor(){this.closeModal=new o.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(Se){return new(Se||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Se,De){1&Se&&(o.j41(0,"div",0),o.bIt("click",function(){return De.close()}),o.j41(1,"div",1),o.bIt("click",function(Ne){return Ne.stopPropagation()}),o.j41(2,"button",2),o.bIt("click",function(){return De.close()}),o.EFF(3,"Close"),o.k0s(),o.nrm(4,"img",3),o.k0s()()),2&Se&&(o.R7$(4),o.Y8G("src",De.imageUrl,o.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return i})()},5449:(nn,Ye,V)=>{V.d(Ye,{W:()=>ue});var o=V(7705);let ue=(()=>{class i{transform(me,Se){return me&&Se&&me.find(De=>De.sectionName===Se)||null}static{this.\u0275fac=function(Se){return new(Se||i)}}static{this.\u0275pipe=o.EJ8({name:"sectionFilter",type:i,pure:!0})}}return i})()},4796:(nn,Ye,V)=>{V.d(Ye,{u:()=>me});var o=V(6354),ue=V(7705),i=V(1977),Ce=V(6814);let me=(()=>{class Se{constructor(Fe,Ne){this.afAuth=Fe,this.router=Ne,this.user$=Fe.authState}login(Fe,Ne){return this.afAuth.signInWithEmailAndPassword(Fe,Ne)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Fe=>!!Fe))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Ne){return new(Ne||Se)(ue.KVO(i.DS),ue.KVO(Ce.Ix))}}static{this.\u0275prov=ue.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},923:(nn,Ye,V)=>{V.d(Ye,{A:()=>Se});var o=V(4412),ue=V(6354),i=V(8141),Ce=V(7705),me=V(3012);let Se=(()=>{class De{constructor(Ne){this.businessService=Ne,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Ne){return console.log("BusinessDataService - loadBusinessData for ID:",Ne),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Ne).pipe((0,ue.T)(ne=>ne??null),(0,i.M)(ne=>{console.log("BusinessDataService - Business fetched:",ne),this.businessDataSubject.next(ne),this.businessIdSubject.next(Ne)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(ne){return new(ne||De)(Ce.KVO(me.u))}}static{this.\u0275prov=Ce.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},3012:(nn,Ye,V)=>{V.d(Ye,{u:()=>De});var o=V(7673),ue=V(6354),i=V(5558),Ce=V(7705),me=V(6340),Se=V(8721);let De=(()=>{class Fe{constructor(ne,ae){this.afs=ne,this.storage=ae,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(ne){console.log("Business Created");const ae=this.afs.createId();return this.afs.doc(`${this.basePath}/${ae}`).set({...ne,id:ae}),this.afs.doc(`${this.basePath}/${ae}`).valueChanges().pipe((0,ue.T)(_e=>{if(!_e)throw new Error("Business not found after creation");return _e}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(ne=>ne.map(ae=>{const _e=ae.payload.doc.data(),ct=ae.payload.doc.id,{id:je,..._t}=_e;return{id:ct,..._t}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,ne=>ne.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(ne){return this.getBusinessData(ne)}getBusinessData(ne){const ae=ne&&ne.trim()?ne:this.defaultBusinessId;return this.afs.collection("businesses").doc(ae).snapshotChanges().pipe((0,i.n)(_e=>{const ct=_e.payload.data(),je=_e.payload.id;if(!ct)return(0,o.of)(void 0);const{id:_t,...ot}=ct,Rt={id:je,...ot},St={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${je}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(He=>{const pe=He.payload.data()||St;return Rt.theme=pe,Rt}))}))}updateBusiness(ne,ae){return this.afs.doc(`${this.basePath}/${ne}`).update(ae)}deleteBusiness(ne){return this.afs.doc(`${this.basePath}/${ne}`).delete()}uploadFile(ne,ae){return this.storage.upload(ne,ae)}getDownloadURL(ne){return this.storage.ref(ne).getDownloadURL()}updateThemeFileName(ne,ae=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ae}`).update({"theme.themeFileName":ne})}getThemeFileName(ne=this.defaultBusinessId){const _e=this.afs.collection(this.basePath).doc(ne).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${ne}`),_e.get().toPromise().then(ct=>{if(ct&&ct.exists){const je=ct.data();console.log("Theme document found:",je);const _t=je?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${_t}`),_t}return console.warn(`No theme document found for business ID: ${ne}. Using default theme.`),"default.css"}).catch(ct=>(console.error(`Error fetching theme file name for business ID: ${ne}`,ct),"default.css"))}static{this.\u0275fac=function(ae){return new(ae||Fe)(Ce.KVO(me.Qe),Ce.KVO(Se.ap))}}static{this.\u0275prov=Ce.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},4710:(nn,Ye,V)=>{V.d(Ye,{L:()=>i});var ue=V(7705);let i=(()=>{class Ce{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Se,De)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Se();const Fe=document.createElement("script");Fe.id="google-maps-script",Fe.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Fe.async=!0,Fe.defer=!0,Fe.onload=()=>{this.scriptLoaded=!0,Se()},Fe.onerror=Ne=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,De(Ne)},document.body.appendChild(Fe)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(De){return new(De||Ce)}}static{this.\u0275prov=ue.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})()},6861:(nn,Ye,V)=>{V.d(Ye,{R:()=>Ce});var o=V(7705),ue=V(345),i=V(923);let Ce=(()=>{class me{constructor(De,Fe,Ne){this.meta=De,this.title=Fe,this.businessDataService=Ne}updateMetaTags(De){this.title.setTitle(De.title),this.meta.updateTag({name:"description",content:De.description}),this.meta.updateTag({name:"keywords",content:De.keywords}),this.meta.updateTag({property:"og:title",content:De.title}),this.meta.updateTag({property:"og:description",content:De.description})}updateFavicon(De){const Fe=document.getElementsByTagName("head")[0];let Ne=document.querySelector("link[rel*='icon']");Ne||(Ne=document.createElement("link"),Ne.rel="icon",Fe.appendChild(Ne)),Ne.href=De}loadAndApplyMeta(De){this.businessDataService.loadBusinessData(De).subscribe(Fe=>{Fe?(this.updateMetaTags({title:Fe.metaTitle||"Default Title",description:Fe.metaDescription||"Default Description",keywords:Fe.metaKeywords||"default, keywords"}),Fe.faviconUrl&&this.updateFavicon(Fe.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Fe){return new(Fe||me)(o.KVO(ue.W8),o.KVO(ue.hE),o.KVO(i.A))}}static{this.\u0275prov=o.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}return me})()},5009:(nn,Ye,V)=>{V.d(Ye,{F:()=>Ne});var o=V(8810),ue=V(8455),i=V(7673),Ce=V(6697),me=V(5558),Se=V(9437),De=V(7705),Fe=V(6340);let Ne=(()=>{class ne{constructor(_e){this.firestore=_e,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(_e){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(_e){console.log("Theme Service: - Fetching theme for business ID:",_e);const ct=this.firestore.collection("businesses").doc(_e),je=ct.collection("theme").doc("themeDoc");return ct.snapshotChanges().pipe((0,Ce.s)(1),(0,me.n)(_t=>_t.payload.exists?je.get().pipe((0,me.n)(ot=>ot.exists?(ot.data(),je.valueChanges()):(0,ue.H)(je.set(this.defaultTheme)).pipe((0,me.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),je.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,Se.W)(_t=>(console.error("Error fetching theme:",_t),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(_e,ct){const je=this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+_e+" theme service updateColors: ",ct),je.set(ct,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),ct.themeFileName&&this.applyThemeFile(ct.themeFileName)}).catch(_t=>{throw console.error("Theme Service: - Error updating colors:",_t),new Error(_t)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(_e){return this.loadCss(`assets/themes/${_e}`)}loadCss(_e){return new Promise((ct,je)=>{console.log("Load css from  file:",_e);const _t=document.createElement("link");_t.rel="stylesheet",_t.href=_e,_t.onload=()=>{console.log(`Loaded theme: ${_e}`),ct()},_t.onerror=ot=>{console.error(`Failed to load theme: ${_e}`,ot),je(ot)},document.head.appendChild(_t)})}static{this.\u0275fac=function(ct){return new(ct||ne)(De.KVO(Fe.Qe))}}static{this.\u0275prov=De.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}return ne})()},8704:(nn,Ye,V)=>{V.d(Ye,{N:()=>De});var o=V(6354),ue=V(9437),i=V(7673),Ce=V(7705),me=V(6340),Se=V(8721);let De=(()=>{class Fe{constructor(ne,ae){this.firestore=ne,this.storage=ae,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(ne){const ae=ne&&ne.trim()?ne:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ae).snapshotChanges().pipe((0,o.T)(_e=>{const ct=_e.payload.data(),je=_e.payload.id;if(ct){const{id:_t,testimonials:ot=[],...Rt}=ct;return{id:je,testimonials:ot.map(rn=>({...rn,photoURL:rn.photoURL&&rn.photoURL.trim()?rn.photoURL:this.defaultImage})),...Rt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ne){return this.storage.ref(ne).getDownloadURL().pipe((0,ue.W)(ae=>(console.error("Error fetching photo URL:",ae),(0,i.of)(""))))}getEmployeesByBusinessId(ne){return(null==ne||""==ne||""===ne)&&(ne=this.defaultBusinessId),this.firestore.collection("businesses").doc(ne).get().pipe((0,o.T)(ae=>{if(ae.exists){const _e=ae.data();return _e&&_e.employees?_e.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(ae=>(console.error("Error fetching employees:",ae),(0,i.of)([]))))}getBusinessGalleryImagesById(ne){return(null==ne||""==ne||""===ne)&&(ne=this.defaultBusinessId),this.firestore.collection("businesses").doc(ne).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(ne){return(null==ne||""==ne||""===ne)&&(ne=this.defaultBusinessId),this.firestore.collection("businesses").doc(ne).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ne,ae){return(null==ne||""==ne||""===ne)&&(ne=this.defaultBusinessId),this.firestore.collection("businesses").doc(ne).collection(ae).valueChanges()}checkImageExists(ne){return this.storage.refFromURL(ne).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ae){return new(ae||Fe)(Ce.KVO(me.Qe),Ce.KVO(Se.ap))}}static{this.\u0275prov=Ce.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},5421:(nn,Ye,V)=>{var o={};V.r(o),V.d(o,{afterMain:()=>Rn,afterRead:()=>gn,afterWrite:()=>pi,applyStyles:()=>Eo,arrow:()=>po,auto:()=>us,basePlacements:()=>$n,beforeMain:()=>zn,beforeRead:()=>qt,beforeWrite:()=>On,bottom:()=>Ri,clippingParents:()=>te,computeStyles:()=>Wo,createPopper:()=>mo,createPopperBase:()=>Yo,createPopperLite:()=>Ar,detectOverflow:()=>ja,end:()=>rs,eventListeners:()=>Qi,flip:()=>Da,hide:()=>cl,left:()=>Zr,main:()=>wr,modifierPhases:()=>qr,offset:()=>$,placements:()=>mt,popper:()=>Te,popperGenerator:()=>Es,popperOffsets:()=>xe,preventOverflow:()=>Nn,read:()=>An,reference:()=>Oe,right:()=>mr,start:()=>Ui,top:()=>Or,variationPlacements:()=>Qe,viewport:()=>J,write:()=>Xn});var ue=V(345),i=V(7705),Ce=V(7673),me=V(8455),Se=V(1985),De=V(274),Fe=V(5964),Ne=V(6354),ne=V(980),ae=V(5558),_e=V(177);class ct{}class je{}class _t{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(c=>{const y=c.indexOf(":");if(y>0){const T=c.slice(0,y),L=T.toLowerCase(),K=c.slice(y+1).trim();this.maybeSetNormalizedName(T,L),this.headers.has(L)?this.headers.get(L).push(K):this.headers.set(L,[K])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((c,y)=>{this.setHeaderEntries(y,c)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([c,y])=>{this.setHeaderEntries(c,y)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const c=this.headers.get(l.toLowerCase());return c&&c.length>0?c[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,c){return this.clone({name:l,value:c,op:"a"})}set(l,c){return this.clone({name:l,value:c,op:"s"})}delete(l,c){return this.clone({name:l,value:c,op:"d"})}maybeSetNormalizedName(l,c){this.normalizedNames.has(c)||this.normalizedNames.set(c,l)}init(){this.lazyInit&&(this.lazyInit instanceof _t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(c=>{this.headers.set(c,l.headers.get(c)),this.normalizedNames.set(c,l.normalizedNames.get(c))})}clone(l){const c=new _t;return c.lazyInit=this.lazyInit&&this.lazyInit instanceof _t?this.lazyInit:this,c.lazyUpdate=(this.lazyUpdate||[]).concat([l]),c}applyUpdate(l){const c=l.name.toLowerCase();switch(l.op){case"a":case"s":let y=l.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(l.name,c);const T=("a"===l.op?this.headers.get(c):void 0)||[];T.push(...y),this.headers.set(c,T);break;case"d":const L=l.value;if(L){let K=this.headers.get(c);if(!K)return;K=K.filter(le=>-1===L.indexOf(le)),0===K.length?(this.headers.delete(c),this.normalizedNames.delete(c)):this.headers.set(c,K)}else this.headers.delete(c),this.normalizedNames.delete(c)}}setHeaderEntries(l,c){const y=(Array.isArray(c)?c:[c]).map(L=>L.toString()),T=l.toLowerCase();this.headers.set(T,y),this.maybeSetNormalizedName(l,T)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(c=>l(this.normalizedNames.get(c),this.headers.get(c)))}}class Rt{encodeKey(l){return pe(l)}encodeValue(l){return pe(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const rn=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pe(p){return encodeURIComponent(p).replace(rn,(l,c)=>He[c]??l)}function Ke(p){return`${p}`}class Re{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new Rt,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function St(p,l){const c=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(T=>{const L=T.indexOf("="),[K,le]=-1==L?[l.decodeKey(T),""]:[l.decodeKey(T.slice(0,L)),l.decodeValue(T.slice(L+1))],Ee=c.get(K)||[];Ee.push(le),c.set(K,Ee)}),c}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(c=>{const y=l.fromObject[c],T=Array.isArray(y)?y.map(Ke):[Ke(y)];this.map.set(c,T)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const c=this.map.get(l);return c?c[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,c){return this.clone({param:l,value:c,op:"a"})}appendAll(l){const c=[];return Object.keys(l).forEach(y=>{const T=l[y];Array.isArray(T)?T.forEach(L=>{c.push({param:y,value:L,op:"a"})}):c.push({param:y,value:T,op:"a"})}),this.clone(c)}set(l,c){return this.clone({param:l,value:c,op:"s"})}delete(l,c){return this.clone({param:l,value:c,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const c=this.encoder.encodeKey(l);return this.map.get(l).map(y=>c+"="+this.encoder.encodeValue(y)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const c=new Re({encoder:this.encoder});return c.cloneFrom=this.cloneFrom||this,c.updates=(this.updates||[]).concat(l),c}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const c=("a"===l.op?this.map.get(l.param):void 0)||[];c.push(Ke(l.value)),this.map.set(l.param,c);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let y=this.map.get(l.param)||[];const T=y.indexOf(Ke(l.value));-1!==T&&y.splice(T,1),y.length>0?this.map.set(l.param,y):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class yt{constructor(){this.map=new Map}set(l,c){return this.map.set(l,c),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function we(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function Zt(p){return typeof Blob<"u"&&p instanceof Blob}function fn(p){return typeof FormData<"u"&&p instanceof FormData}class xt{constructor(l,c,y,T){let L;if(this.url=c,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Mt(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==y?y:null,L=T):L=y,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new _t),this.context||(this.context=new yt),this.params){const K=this.params.toString();if(0===K.length)this.urlWithParams=c;else{const le=c.indexOf("?");this.urlWithParams=c+(-1===le?"?":le<c.length-1?"&":"")+K}}else this.params=new Re,this.urlWithParams=c}serializeBody(){return null===this.body?null:we(this.body)||Zt(this.body)||fn(this.body)||function or(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Re?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fn(this.body)?null:Zt(this.body)?this.body.type||null:we(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Re?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const c=l.method||this.method,y=l.url||this.url,T=l.responseType||this.responseType,L=void 0!==l.body?l.body:this.body,K=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,le=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let Ee=l.headers||this.headers,qe=l.params||this.params;const ft=l.context??this.context;return void 0!==l.setHeaders&&(Ee=Object.keys(l.setHeaders).reduce((Lt,yn)=>Lt.set(yn,l.setHeaders[yn]),Ee)),l.setParams&&(qe=Object.keys(l.setParams).reduce((Lt,yn)=>Lt.set(yn,l.setParams[yn]),qe)),new xt(c,y,L,{params:qe,headers:Ee,context:ft,reportProgress:le,responseType:T,withCredentials:K})}}var Vt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(Vt||{});class zt{constructor(l,c=200,y="OK"){this.headers=l.headers||new _t,this.status=void 0!==l.status?l.status:c,this.statusText=l.statusText||y,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class dt extends zt{constructor(l={}){super(l),this.type=Vt.ResponseHeader}clone(l={}){return new dt({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Le extends zt{constructor(l={}){super(l),this.type=Vt.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new Le({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class et extends zt{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function Xt(p,l){return{body:l,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Be=(()=>{class p{constructor(c){this.handler=c}request(c,y,T={}){let L;if(c instanceof xt)L=c;else{let Ee,qe;Ee=T.headers instanceof _t?T.headers:new _t(T.headers),T.params&&(qe=T.params instanceof Re?T.params:new Re({fromObject:T.params})),L=new xt(c,y,void 0!==T.body?T.body:null,{headers:Ee,context:T.context,params:qe,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const K=(0,Ce.of)(L).pipe((0,De.H)(Ee=>this.handler.handle(Ee)));if(c instanceof xt||"events"===T.observe)return K;const le=K.pipe((0,Fe.p)(Ee=>Ee instanceof Le));switch(T.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return le.pipe((0,Ne.T)(Ee=>{if(null!==Ee.body&&!(Ee.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ee.body}));case"blob":return le.pipe((0,Ne.T)(Ee=>{if(null!==Ee.body&&!(Ee.body instanceof Blob))throw new Error("Response is not a Blob.");return Ee.body}));case"text":return le.pipe((0,Ne.T)(Ee=>{if(null!==Ee.body&&"string"!=typeof Ee.body)throw new Error("Response is not a string.");return Ee.body}));default:return le.pipe((0,Ne.T)(Ee=>Ee.body))}case"response":return le;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(c,y={}){return this.request("DELETE",c,y)}get(c,y={}){return this.request("GET",c,y)}head(c,y={}){return this.request("HEAD",c,y)}jsonp(c,y){return this.request("JSONP",c,{params:(new Re).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(c,y={}){return this.request("OPTIONS",c,y)}patch(c,y,T={}){return this.request("PATCH",c,Xt(T,y))}post(c,y,T={}){return this.request("POST",c,Xt(T,y))}put(c,y,T={}){return this.request("PUT",c,Xt(T,y))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(ct))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function Zn(p,l){return l(p)}function tn(p,l){return(c,y)=>l.intercept(c,{handle:T=>p(T,y)})}const Kt=new i.nKC(""),Vn=new i.nKC(""),pn=new i.nKC("");function Bt(){let p=null;return(l,c)=>{null===p&&(p=((0,i.WQX)(Kt,{optional:!0})??[]).reduceRight(tn,Zn));const y=(0,i.WQX)(i.$K3),T=y.add();return p(l,c).pipe((0,ne.j)(()=>y.remove(T)))}}let Ft=(()=>{class p extends ct{constructor(c,y){super(),this.backend=c,this.injector=y,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(c){if(null===this.chain){const T=Array.from(new Set([...this.injector.get(Vn),...this.injector.get(pn,[])]));this.chain=T.reduceRight((L,K)=>function kn(p,l,c){return(y,T)=>c.runInContext(()=>l(y,L=>p(L,T)))}(L,K,this.injector),Zn)}const y=this.pendingTasks.add();return this.chain(c,T=>this.backend.handle(T)).pipe((0,ne.j)(()=>this.pendingTasks.remove(y)))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(je),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const Bn=/^\)\]\}',?\n/;let Xi=(()=>{class p{constructor(c){this.xhrFactory=c}handle(c){if("JSONP"===c.method)throw new i.wOt(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,me.H)(y.\u0275loadImpl()):(0,Ce.of)(null)).pipe((0,ae.n)(()=>new Se.c(L=>{const K=y.build();if(K.open(c.method,c.urlWithParams),c.withCredentials&&(K.withCredentials=!0),c.headers.forEach((Qt,wn)=>K.setRequestHeader(Qt,wn.join(","))),c.headers.has("Accept")||K.setRequestHeader("Accept","application/json, text/plain, */*"),!c.headers.has("Content-Type")){const Qt=c.detectContentTypeHeader();null!==Qt&&K.setRequestHeader("Content-Type",Qt)}if(c.responseType){const Qt=c.responseType.toLowerCase();K.responseType="json"!==Qt?Qt:"text"}const le=c.serializeBody();let Ee=null;const qe=()=>{if(null!==Ee)return Ee;const Qt=K.statusText||"OK",wn=new _t(K.getAllResponseHeaders()),yr=function ui(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(K)||c.url;return Ee=new dt({headers:wn,status:K.status,statusText:Qt,url:yr}),Ee},ft=()=>{let{headers:Qt,status:wn,statusText:yr,url:jr}=qe(),vr=null;204!==wn&&(vr=typeof K.response>"u"?K.responseText:K.response),0===wn&&(wn=vr?200:0);let qn=wn>=200&&wn<300;if("json"===c.responseType&&"string"==typeof vr){const yi=vr;vr=vr.replace(Bn,"");try{vr=""!==vr?JSON.parse(vr):null}catch(Br){vr=yi,qn&&(qn=!1,vr={error:Br,text:vr})}}qn?(L.next(new Le({body:vr,headers:Qt,status:wn,statusText:yr,url:jr||void 0})),L.complete()):L.error(new et({error:vr,headers:Qt,status:wn,statusText:yr,url:jr||void 0}))},Lt=Qt=>{const{url:wn}=qe(),yr=new et({error:Qt,status:K.status||0,statusText:K.statusText||"Unknown Error",url:wn||void 0});L.error(yr)};let yn=!1;const mn=Qt=>{yn||(L.next(qe()),yn=!0);let wn={type:Vt.DownloadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(wn.total=Qt.total),"text"===c.responseType&&K.responseText&&(wn.partialText=K.responseText),L.next(wn)},En=Qt=>{let wn={type:Vt.UploadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(wn.total=Qt.total),L.next(wn)};return K.addEventListener("load",ft),K.addEventListener("error",Lt),K.addEventListener("timeout",Lt),K.addEventListener("abort",Lt),c.reportProgress&&(K.addEventListener("progress",mn),null!==le&&K.upload&&K.upload.addEventListener("progress",En)),K.send(le),L.next({type:Vt.Sent}),()=>{K.removeEventListener("error",Lt),K.removeEventListener("abort",Lt),K.removeEventListener("load",ft),K.removeEventListener("timeout",Lt),c.reportProgress&&(K.removeEventListener("progress",mn),null!==le&&K.upload&&K.upload.removeEventListener("progress",En)),K.readyState!==K.DONE&&K.abort()}})))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const un=new i.nKC("XSRF_ENABLED"),Yn=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),jn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Di{}let tt=(()=>{class p{constructor(c,y,T){this.doc=c,this.platform=y,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const c=this.doc.cookie||"";return c!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_e._b)(c,this.cookieName),this.lastCookieString=c),this.lastToken}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(i.Agw),i.KVO(Yn))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function gt(p,l){const c=p.url.toLowerCase();if(!(0,i.WQX)(un)||"GET"===p.method||"HEAD"===p.method||c.startsWith("http://")||c.startsWith("https://"))return l(p);const y=(0,i.WQX)(Di).getToken(),T=(0,i.WQX)(jn);return null!=y&&!p.headers.has(T)&&(p=p.clone({headers:p.headers.set(T,y)})),l(p)}var Me=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(Me||{});function Et(p,l){return{\u0275kind:p,\u0275providers:l}}function Gt(...p){const l=[Be,Xi,Ft,{provide:ct,useExisting:Ft},{provide:je,useExisting:Xi},{provide:Vn,useValue:gt,multi:!0},{provide:un,useValue:!0},{provide:Di,useClass:tt}];for(const c of p)l.push(...c.\u0275providers);return(0,i.EmA)(l)}const kr=new i.nKC("LEGACY_INTERCEPTOR_FN");let ie=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[Gt(Et(Me.LegacyInterceptors,[{provide:kr,useFactory:Bt},{provide:Vn,useExisting:kr,multi:!0}]))]})}}return p})();var fr=V(6814),Vs=V(6576),Ci=V(8704),Wi=V(6861),Fi=V(923),Ti=V(9437),nr=V(4591);function Us(p,l){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const c=l.$implicit;i.R7$(1),i.FS9("alt",c.name),i.Y8G("src",c.photoURL,i.B4B),i.R7$(2),i.JRh(c.name),i.R7$(2),i.JRh(c.role),i.R7$(2),i.JRh(c.bio)}}function Tt(p,l){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tilte",2),i.j41(2,"div",3),i.DNE(3,Us,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,2,c.employees$))}}let rt=(()=>{class p{constructor(c,y){this.route=c,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Ne.T)(c=>c.get("id")||""),(0,ae.n)(c=>this.employeeService.getEmployeesByBusinessId(c)),(0,Ti.W)(c=>(console.error("Error fetching employees:",c),(0,Ce.of)([]))))}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(fr.nX),i.rXU(Ci.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,T){1&y&&i.DNE(0,Tt,5,4,"div",0),2&y&&i.Y8G("ngIf",T.employees$)},dependencies:[_e.Sq,_e.bT,nr.L,_e.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return p})();var Pt=V(4593),an=V(491);let Fn=(()=>{class p{constructor(c,y){this.route=c,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(fr.nX),i.rXU(fr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&y&&(i.xc7("background-image",T.backgroundImage),i.R7$(3),i.JRh(T.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return p})(),xn=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&y&&(i.R7$(2),i.FS9("src",T.imageURL,i.B4B),i.R7$(3),i.SpI('" ',T.text,'"'),i.R7$(2),i.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();function cr(p,l){if(1&p&&(i.qex(0),i.j41(1,"button",3),i.EFF(2),i.k0s(),i.bVm()),2&p){const c=i.XpG();i.R7$(2),i.JRh(c.buttonText)}}function Vr(p,l){if(1&p&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.buttonText)}}const Wr=function(p,l){return{"background-color":p,color:l}};let Tr=(()=>{class p{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,T){if(1&y&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2),i.k0s(),i.DNE(3,cr,3,1,"ng-container",1),i.DNE(4,Vr,2,1,"ng-template",null,2,i.C5r),i.k0s()),2&y){const L=i.sdS(5);i.Y8G("ngStyle",i.l_i(4,Wr,T.bgColor,T.textColor)),i.R7$(2),i.JRh(T.text),i.R7$(1),i.Y8G("ngIf",T.isButton)("ngIfElse",L)}},dependencies:[_e.bT,_e.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return p})();var Ki=V(5449);function Rs(p,l){if(1&p&&(i.j41(0,"section",17)(1,"div",18),i.nrm(2,"h2",19),i.k0s(),i.nrm(3,"div",20),i.k0s()),2&p){const c=l.ngIf;i.R7$(2),i.Y8G("innerHTML",c.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",c.sectionContent||"",i.npT)}}function Zi(p,l){if(1&p&&(i.j41(0,"div",21),i.nrm(1,"img",22),i.j41(2,"div",18),i.nrm(3,"h2",19),i.k0s(),i.nrm(4,"div",20),i.k0s()),2&p){const c=l.ngIf;i.R7$(1),i.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",c.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",c.sectionContent||"",i.npT)}}function Mo(p,l){if(1&p&&(i.j41(0,"div",23),i.nrm(1,"img",22),i.j41(2,"div",18),i.nrm(3,"h2",19),i.k0s(),i.nrm(4,"div",20),i.k0s()),2&p){const c=l.ngIf;i.R7$(1),i.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",c.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",c.sectionContent||"",i.npT)}}function Ro(p,l){if(1&p&&(i.j41(0,"section",17)(1,"div",18),i.nrm(2,"h2",19),i.k0s(),i.nrm(3,"div",20),i.k0s()),2&p){const c=l.ngIf;i.R7$(2),i.Y8G("innerHTML",c.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",c.sectionContent||"",i.npT)}}function Hi(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.j41(8,"div",7),i.DNE(9,Rs,4,2,"section",8),i.nI1(10,"sectionFilter"),i.j41(11,"section",9),i.DNE(12,Zi,5,3,"div",10),i.nI1(13,"sectionFilter"),i.DNE(14,Mo,5,3,"div",11),i.nI1(15,"sectionFilter"),i.k0s(),i.DNE(16,Ro,4,2,"section",8),i.nI1(17,"sectionFilter"),i.j41(18,"section",12),i.nrm(19,"app-meet-the-team",13),i.k0s()(),i.j41(20,"div",14)(21,"div",15)(22,"h2"),i.EFF(23,"Come Meet Our Family"),i.k0s(),i.j41(24,"p"),i.EFF(25," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),i.k0s(),i.j41(26,"button",16),i.bIt("click",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.navigateToContact())}),i.EFF(27," Schedule a Visit "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(9),i.Y8G("ngIf",i.i5U(10,5,c.business.sections,"AboutUsCenterText")),i.R7$(3),i.Y8G("ngIf",i.i5U(13,8,c.business.sections,"AboutUsLeftText")),i.R7$(2),i.Y8G("ngIf",i.i5U(15,11,c.business.sections,"AboutUsRightText")),i.R7$(2),i.Y8G("ngIf",i.i5U(17,14,c.business.sections,"AboutUsCenterText2")),i.R7$(3),i.Y8G("businessId",c.business.id)}}function Ho(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function si(p,l){if(1&p&&i.nrm(0,"app-left-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",(null==c?null:c.sectionTitle)||"")("content",c.sectionContent||"")}}function es(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",24)(3,"section",25),i.DNE(4,Ho,1,4,"app-right-text",26),i.nI1(5,"sectionFilter"),i.DNE(6,si,1,4,"app-left-text",26),i.nI1(7,"sectionFilter"),i.k0s(),i.nrm(8,"app-testimonial-image",27)(9,"app-call-to-action",28)(10,"app-meet-the-team"),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(4),i.Y8G("ngIf",i.i5U(5,10,c.business.sections,"AboutUsRightText")),i.R7$(2),i.Y8G("ngIf",i.i5U(7,13,c.business.sections,"AboutUsLeftText")),i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function gs(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function Kr(p,l){if(1&p&&i.nrm(0,"app-left-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function qi(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function Mi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",25),i.DNE(3,gs,1,4,"app-right-text",26),i.nI1(4,"sectionFilter"),i.DNE(5,Kr,1,4,"app-left-text",26),i.nI1(6,"sectionFilter"),i.DNE(7,qi,1,4,"app-right-text",26),i.nI1(8,"sectionFilter"),i.k0s(),i.nrm(9,"app-testimonial-image",27)(10,"app-call-to-action",28)(11,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf",i.i5U(4,11,c.business.sections,"AboutUsRightText")),i.R7$(2),i.Y8G("ngIf",i.i5U(6,14,c.business.sections,"AboutUsLeftText")),i.R7$(2),i.Y8G("ngIf",i.i5U(8,17,c.business.sections,"AboutUsRightText2")),i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[2].name)("text",c.business.testimonials[2].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Ir(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function ho(p,l){if(1&p&&i.nrm(0,"app-left-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function Oo(p,l){if(1&p&&i.nrm(0,"app-right-text",29),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")}}function di(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",25),i.DNE(3,Ir,1,4,"app-right-text",26),i.nI1(4,"sectionFilter"),i.DNE(5,ho,1,4,"app-left-text",26),i.nI1(6,"sectionFilter"),i.DNE(7,Oo,1,4,"app-right-text",26),i.nI1(8,"sectionFilter"),i.k0s(),i.nrm(9,"app-testimonial-image",27)(10,"app-call-to-action",28)(11,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf",i.i5U(4,11,c.business.sections,"AboutUsRightText")),i.R7$(2),i.Y8G("ngIf",i.i5U(6,14,c.business.sections,"AboutUsLeftText")),i.R7$(2),i.Y8G("ngIf",i.i5U(8,17,c.business.sections,"AboutUsRightText2")),i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[2].name)("text",c.business.testimonials[2].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Va(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-testimonial-image",27)(3,"app-call-to-action",28),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[5].name)("text",c.business.testimonials[5].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Ya(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Hi,28,17,"ng-container",2),i.DNE(3,es,11,16,"ng-container",2),i.DNE(4,Mi,12,20,"ng-container",2),i.DNE(5,di,12,20,"ng-container",2),i.DNE(6,Va,4,8,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb")}}let Si=(()=>{class p{constructor(c,y,T,L,K){this.webContent=c,this.route=y,this.router=T,this.metaService=L,this.businessDataService=K,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,console.log("About Us Business.Sections",c?.sections),this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ci.N),i.rXU(fr.nX),i.rXU(fr.Ix),i.rXU(Wi.R),i.rXU(Fi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","business-story",4,"ngIf"],[1,"mission-vision"],["class","mission",4,"ngIf"],["class","vision",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"]],template:function(y,T){1&y&&i.DNE(0,Ya,7,5,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,rt,Pt.F,an.G,Fn,xn,Tr,Ki.W],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return p})();var Ta=V(1915);function Js(p,l){if(1&p&&(i.j41(0,"section",19)(1,"div",9),i.nrm(2,"h2",20),i.k0s(),i.nrm(3,"h3",21),i.k0s()),2&p){const c=l.ngIf;i.R7$(2),i.Y8G("innerHTML",c.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",c.sectionContent||"",i.npT)}}function Jr(p,l){if(1&p&&(i.j41(0,"div",22),i.nrm(1,"img",23),i.j41(2,"div",9),i.nrm(3,"h2",20),i.k0s(),i.nrm(4,"div",21),i.k0s()),2&p){const c=l.ngIf;i.R7$(1),i.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",c.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",c.sectionContent||"",i.npT)}}function js(p,l){if(1&p&&(i.j41(0,"div",24),i.nrm(1,"img",23),i.j41(2,"div",9),i.nrm(3,"h2",20),i.k0s(),i.nrm(4,"div",21),i.k0s()),2&p){const c=l.ngIf;i.R7$(1),i.Y8G("src",c.sectionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(2),i.Y8G("innerHTML",c.sectionTitle||"",i.npT),i.R7$(1),i.Y8G("innerHTML",c.sectionContent||"",i.npT)}}function Bs(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Services"),i.k0s()(),i.nrm(13,"app-item-list",11),i.k0s(),i.j41(14,"section",8)(15,"div",9)(16,"h2",10),i.EFF(17,"Our Benefits"),i.k0s()(),i.nrm(18,"app-item-list",11),i.k0s(),i.DNE(19,Js,4,2,"section",12),i.nI1(20,"sectionFilter"),i.j41(21,"section",13),i.DNE(22,Jr,5,3,"div",14),i.nI1(23,"sectionFilter"),i.DNE(24,js,5,3,"div",15),i.nI1(25,"sectionFilter"),i.k0s()(),i.j41(26,"div",16)(27,"div",17)(28,"h2"),i.EFF(29,"Ready to Experience Exceptional Care?"),i.k0s(),i.j41(30,"p"),i.EFF(31," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),i.k0s(),i.j41(32,"button",18),i.bIt("click",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.navigateToContact())}),i.EFF(33," Book a Consultation "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(13),i.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services)("minimal",!1),i.R7$(5),i.Y8G("layoutType",c.business.theme.themeType)("services",c.business.benefits)("minimal",!1),i.R7$(1),i.Y8G("ngIf",i.i5U(20,9,c.business.sections,"ServicesCenterText")),i.R7$(3),i.Y8G("ngIf",i.i5U(23,12,c.business.sections,"ServicesLeftText")),i.R7$(2),i.Y8G("ngIf",i.i5U(25,15,c.business.sections,"ServicesRightText"))}}function vo(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",25),i.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function $s(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",25),i.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",c.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}const hi=function(){return{icon:"fas fa-person-cane",name:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Os=function(){return{icon:"fas fa-people-group",name:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},cs=function(){return{icon:"fas fa-bowl-food",name:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},ts=function(){return{icon:"fas fa-prescription-bottle",name:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Hs=function(){return{icon:"fas fa-shower",name:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},hn=function(){return{icon:"fas fa-bed-pulse",name:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},tr=function(p,l,c,y,T,L){return[p,l,c,y,T,L]};function lr(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",25),i.nrm(3,"app-item-list",26)(4,"app-testimonial-image",27)(5,"app-call-to-action",28),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.l4e(16,tr,i.lJ4(10,hi),i.lJ4(11,Os),i.lJ4(12,cs),i.lJ4(13,ts),i.lJ4(14,Hs),i.lJ4(15,hn))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[6].name)("text",c.business.testimonials[6].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ns(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Bs,34,18,"ng-container",2),i.DNE(3,vo,6,10,"ng-container",2),i.DNE(4,$s,6,10,"ng-container",2),i.DNE(5,lr,6,23,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let ls=(()=>{class p{constructor(c,y,T){this.router=c,this.businessDataService=y,this.metaService=T,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(fr.Ix),i.rXU(Fi.A),i.rXU(Wi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[3,"layoutType","services","minimal"],["class","special-programs",4,"ngIf"],[1,"tours-consulting"],["class","tours",4,"ngIf"],["class","consulting",4,"ngIf"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"special-programs"],[1,"styled-heading",3,"innerHTML"],[1,"services_txt","garamond",3,"innerHTML"],[1,"tours"],["alt","Contact Image",3,"src"],[1,"consulting"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,T){1&y&&i.DNE(0,ns,6,4,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,Ta.j,Fn,xn,Tr,Ki.W],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return p})();var Or="top",Ri="bottom",mr="right",Zr="left",us="auto",$n=[Or,Ri,mr,Zr],Ui="start",rs="end",te="clippingParents",J="viewport",Te="popper",Oe="reference",Qe=$n.reduce(function(p,l){return p.concat([l+"-"+Ui,l+"-"+rs])},[]),mt=[].concat($n,[us]).reduce(function(p,l){return p.concat([l,l+"-"+Ui,l+"-"+rs])},[]),qt="beforeRead",An="read",gn="afterRead",zn="beforeMain",wr="main",Rn="afterMain",On="beforeWrite",Xn="write",pi="afterWrite",qr=[qt,An,gn,zn,wr,Rn,On,Xn,pi];function Ur(p){return p?(p.nodeName||"").toLowerCase():null}function ei(p){if(null==p)return window;if("[object Window]"!==p.toString()){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function ti(p){return p instanceof ei(p).Element||p instanceof Element}function Qn(p){return p instanceof ei(p).HTMLElement||p instanceof HTMLElement}function xi(p){return!(typeof ShadowRoot>"u")&&(p instanceof ei(p).ShadowRoot||p instanceof ShadowRoot)}const Eo={name:"applyStyles",enabled:!0,phase:"write",fn:function Oi(p){var l=p.state;Object.keys(l.elements).forEach(function(c){var y=l.styles[c]||{},T=l.attributes[c]||{},L=l.elements[c];!Qn(L)||!Ur(L)||(Object.assign(L.style,y),Object.keys(T).forEach(function(K){var le=T[K];!1===le?L.removeAttribute(K):L.setAttribute(K,!0===le?"":le)}))})},effect:function Hr(p){var l=p.state,c={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,c.popper),l.styles=c,l.elements.arrow&&Object.assign(l.elements.arrow.style,c.arrow),function(){Object.keys(l.elements).forEach(function(y){var T=l.elements[y],L=l.attributes[y]||{},le=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:c[y]).reduce(function(Ee,qe){return Ee[qe]="",Ee},{});!Qn(T)||!Ur(T)||(Object.assign(T.style,le),Object.keys(L).forEach(function(Ee){T.removeAttribute(Ee)}))})}},requires:["computeStyles"]};function wi(p){return p.split("-")[0]}var ds=Math.max,Gs=Math.min,to=Math.round;function Ia(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function ua(){return!/^((?!chrome|android).)*safari/i.test(Ia())}function wa(p,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var y=p.getBoundingClientRect(),T=1,L=1;l&&Qn(p)&&(T=p.offsetWidth>0&&to(y.width)/p.offsetWidth||1,L=p.offsetHeight>0&&to(y.height)/p.offsetHeight||1);var le=(ti(p)?ei(p):window).visualViewport,Ee=!ua()&&c,qe=(y.left+(Ee&&le?le.offsetLeft:0))/T,ft=(y.top+(Ee&&le?le.offsetTop:0))/L,Lt=y.width/T,yn=y.height/L;return{width:Lt,height:yn,top:ft,right:qe+Lt,bottom:ft+yn,left:qe,x:qe,y:ft}}function Ds(p){var l=wa(p),c=p.offsetWidth,y=p.offsetHeight;return Math.abs(l.width-c)<=1&&(c=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:p.offsetLeft,y:p.offsetTop,width:c,height:y}}function Ss(p,l){var c=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(c&&xi(c)){var y=l;do{if(y&&p.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function ms(p){return ei(p).getComputedStyle(p)}function Xa(p){return["table","td","th"].indexOf(Ur(p))>=0}function no(p){return((ti(p)?p.ownerDocument:p.document)||window.document).documentElement}function gi(p){return"html"===Ur(p)?p:p.assignedSlot||p.parentNode||(xi(p)?p.host:null)||no(p)}function da(p){return Qn(p)&&"fixed"!==ms(p).position?p.offsetParent:null}function W(p){for(var l=ei(p),c=da(p);c&&Xa(c)&&"static"===ms(c).position;)c=da(c);return c&&("html"===Ur(c)||"body"===Ur(c)&&"static"===ms(c).position)?l:c||function Go(p){var l=/firefox/i.test(Ia());if(/Trident/i.test(Ia())&&Qn(p)&&"fixed"===ms(p).position)return null;var T=gi(p);for(xi(T)&&(T=T.host);Qn(T)&&["html","body"].indexOf(Ur(T))<0;){var L=ms(T);if("none"!==L.transform||"none"!==L.perspective||"paint"===L.contain||-1!==["transform","perspective"].indexOf(L.willChange)||l&&"filter"===L.willChange||l&&L.filter&&"none"!==L.filter)return T;T=T.parentNode}return null}(p)||l}function Z(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function U(p,l,c){return ds(p,Gs(l,c))}function dn(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function er(p,l){return l.reduce(function(c,y){return c[y]=p,c},{})}const po={name:"arrow",enabled:!0,phase:"main",fn:function Zs(p){var l,c=p.state,y=p.name,T=p.options,L=c.elements.arrow,K=c.modifiersData.popperOffsets,le=wi(c.placement),Ee=Z(le),ft=[Zr,mr].indexOf(le)>=0?"height":"width";if(L&&K){var Lt=function(l,c){return dn("number"!=typeof(l="function"==typeof l?l(Object.assign({},c.rects,{placement:c.placement})):l)?l:er(l,$n))}(T.padding,c),yn=Ds(L),mn="y"===Ee?Or:Zr,En="y"===Ee?Ri:mr,Qt=c.rects.reference[ft]+c.rects.reference[Ee]-K[Ee]-c.rects.popper[ft],wn=K[Ee]-c.rects.reference[Ee],yr=W(L),jr=yr?"y"===Ee?yr.clientHeight||0:yr.clientWidth||0:0,Br=jr/2-yn[ft]/2+(Qt/2-wn/2),li=U(Lt[mn],Br,jr-yn[ft]-Lt[En]);c.modifiersData[y]=((l={})[Ee]=li,l.centerOffset=li-Br,l)}},effect:function hs(p){var l=p.state,y=p.options.element,T=void 0===y?"[data-popper-arrow]":y;null!=T&&("string"==typeof T&&!(T=l.elements.popper.querySelector(T))||Ss(l.elements.popper,T)&&(l.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ys(p){return p.split("-")[1]}var fs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function il(p){var l,c=p.popper,y=p.popperRect,T=p.placement,L=p.variation,K=p.offsets,le=p.position,Ee=p.gpuAcceleration,qe=p.adaptive,ft=p.roundOffsets,Lt=p.isFixed,yn=K.x,mn=void 0===yn?0:yn,En=K.y,Qt=void 0===En?0:En,wn="function"==typeof ft?ft({x:mn,y:Qt}):{x:mn,y:Qt};mn=wn.x,Qt=wn.y;var yr=K.hasOwnProperty("x"),jr=K.hasOwnProperty("y"),vr=Zr,qn=Or,yi=window;if(qe){var Br=W(c),li="clientHeight",as="clientWidth";Br===ei(c)&&"static"!==ms(Br=no(c)).position&&"absolute"===le&&(li="scrollHeight",as="scrollWidth"),(T===Or||(T===Zr||T===mr)&&L===rs)&&(qn=Ri,Qt-=(Lt&&Br===yi&&yi.visualViewport?yi.visualViewport.height:Br[li])-y.height,Qt*=Ee?1:-1),T!==Zr&&(T!==Or&&T!==Ri||L!==rs)||(vr=mr,mn-=(Lt&&Br===yi&&yi.visualViewport?yi.visualViewport.width:Br[as])-y.width,mn*=Ee?1:-1)}var Xs,Po=Object.assign({position:le},qe&&fs),ca=!0===ft?function zo(p,l){var y=p.y,T=l.devicePixelRatio||1;return{x:to(p.x*T)/T||0,y:to(y*T)/T||0}}({x:mn,y:Qt},ei(c)):{x:mn,y:Qt};return mn=ca.x,Qt=ca.y,Object.assign({},Po,Ee?((Xs={})[qn]=jr?"0":"",Xs[vr]=yr?"0":"",Xs.transform=(yi.devicePixelRatio||1)<=1?"translate("+mn+"px, "+Qt+"px)":"translate3d("+mn+"px, "+Qt+"px, 0)",Xs):((l={})[qn]=jr?Qt+"px":"",l[vr]=yr?mn+"px":"",l.transform="",l))}const Wo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function xs(p){var l=p.state,c=p.options,y=c.gpuAcceleration,T=void 0===y||y,L=c.adaptive,K=void 0===L||L,le=c.roundOffsets,Ee=void 0===le||le,qe={placement:wi(l.placement),variation:ys(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:T,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,il(Object.assign({},qe,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:K,roundOffsets:Ee})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,il(Object.assign({},qe,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ee})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var ji={passive:!0};const Qi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function sl(p){var l=p.state,c=p.instance,y=p.options,T=y.scroll,L=void 0===T||T,K=y.resize,le=void 0===K||K,Ee=ei(l.elements.popper),qe=[].concat(l.scrollParents.reference,l.scrollParents.popper);return L&&qe.forEach(function(ft){ft.addEventListener("scroll",c.update,ji)}),le&&Ee.addEventListener("resize",c.update,ji),function(){L&&qe.forEach(function(ft){ft.removeEventListener("scroll",c.update,ji)}),le&&Ee.removeEventListener("resize",c.update,ji)}},data:{}};var Qa={left:"right",right:"left",bottom:"top",top:"bottom"};function zs(p){return p.replace(/left|right|bottom|top/g,function(l){return Qa[l]})}var Aa={start:"end",end:"start"};function vs(p){return p.replace(/start|end/g,function(l){return Aa[l]})}function ha(p){var l=ei(p);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function fa(p){return wa(no(p)).left+ha(p).scrollLeft}function ar(p){var l=ms(p);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function bc(p){return["html","body","#document"].indexOf(Ur(p))>=0?p.ownerDocument.body:Qn(p)&&ar(p)?p:bc(gi(p))}function Ws(p,l){var c;void 0===l&&(l=[]);var y=bc(p),T=y===(null==(c=p.ownerDocument)?void 0:c.body),L=ei(y),K=T?[L].concat(L.visualViewport||[],ar(y)?y:[]):y,le=l.concat(K);return T?le:le.concat(Ws(gi(K)))}function bo(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function Kl(p,l,c){return l===J?bo(function ol(p,l){var c=ei(p),y=no(p),T=c.visualViewport,L=y.clientWidth,K=y.clientHeight,le=0,Ee=0;if(T){L=T.width,K=T.height;var qe=ua();(qe||!qe&&"fixed"===l)&&(le=T.offsetLeft,Ee=T.offsetTop)}return{width:L,height:K,x:le+fa(p),y:Ee}}(p,c)):ti(l)?function Ja(p,l){var c=wa(p,!1,"fixed"===l);return c.top=c.top+p.clientTop,c.left=c.left+p.clientLeft,c.bottom=c.top+p.clientHeight,c.right=c.left+p.clientWidth,c.width=p.clientWidth,c.height=p.clientHeight,c.x=c.left,c.y=c.top,c}(l,c):bo(function Mu(p){var l,c=no(p),y=ha(p),T=null==(l=p.ownerDocument)?void 0:l.body,L=ds(c.scrollWidth,c.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),K=ds(c.scrollHeight,c.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),le=-y.scrollLeft+fa(p),Ee=-y.scrollTop;return"rtl"===ms(T||c).direction&&(le+=ds(c.clientWidth,T?T.clientWidth:0)-L),{width:L,height:K,x:le,y:Ee}}(no(p)))}function Ua(p){var Ee,l=p.reference,c=p.element,y=p.placement,T=y?wi(y):null,L=y?ys(y):null,K=l.x+l.width/2-c.width/2,le=l.y+l.height/2-c.height/2;switch(T){case Or:Ee={x:K,y:l.y-c.height};break;case Ri:Ee={x:K,y:l.y+l.height};break;case mr:Ee={x:l.x+l.width,y:le};break;case Zr:Ee={x:l.x-c.width,y:le};break;default:Ee={x:l.x,y:l.y}}var qe=T?Z(T):null;if(null!=qe){var ft="y"===qe?"height":"width";switch(L){case Ui:Ee[qe]=Ee[qe]-(l[ft]/2-c[ft]/2);break;case rs:Ee[qe]=Ee[qe]+(l[ft]/2-c[ft]/2)}}return Ee}function ja(p,l){void 0===l&&(l={});var y=l.placement,T=void 0===y?p.placement:y,L=l.strategy,K=void 0===L?p.strategy:L,le=l.boundary,Ee=void 0===le?te:le,qe=l.rootBoundary,ft=void 0===qe?J:qe,Lt=l.elementContext,yn=void 0===Lt?Te:Lt,mn=l.altBoundary,En=void 0!==mn&&mn,Qt=l.padding,wn=void 0===Qt?0:Qt,yr=dn("number"!=typeof wn?wn:er(wn,$n)),vr=p.rects.popper,qn=p.elements[En?yn===Te?Oe:Te:yn],yi=function qh(p,l,c,y){var T="clippingParents"===l?function Cc(p){var l=Ws(gi(p)),y=["absolute","fixed"].indexOf(ms(p).position)>=0&&Qn(p)?W(p):p;return ti(y)?l.filter(function(T){return ti(T)&&Ss(T,y)&&"body"!==Ur(T)}):[]}(p):[].concat(l),L=[].concat(T,[c]),le=L.reduce(function(Ee,qe){var ft=Kl(p,qe,y);return Ee.top=ds(ft.top,Ee.top),Ee.right=Gs(ft.right,Ee.right),Ee.bottom=Gs(ft.bottom,Ee.bottom),Ee.left=ds(ft.left,Ee.left),Ee},Kl(p,L[0],y));return le.width=le.right-le.left,le.height=le.bottom-le.top,le.x=le.left,le.y=le.top,le}(ti(qn)?qn:qn.contextElement||no(p.elements.popper),Ee,ft,K),Br=wa(p.elements.reference),li=Ua({reference:Br,element:vr,strategy:"absolute",placement:T}),as=bo(Object.assign({},vr,li)),$i=yn===Te?as:Br,Vi={top:yi.top-$i.top+yr.top,bottom:$i.bottom-yi.bottom+yr.bottom,left:yi.left-$i.left+yr.left,right:$i.right-yi.right+yr.right},Po=p.modifiersData.offset;if(yn===Te&&Po){var ca=Po[T];Object.keys(Vi).forEach(function(Xs){var Gl=[mr,Ri].indexOf(Xs)>=0?1:-1,zl=[Or,Ri].indexOf(Xs)>=0?"y":"x";Vi[Xs]+=ca[zl]*Gl})}return Vi}const Da={name:"flip",enabled:!0,phase:"main",fn:function al(p){var l=p.state,c=p.options,y=p.name;if(!l.modifiersData[y]._skip){for(var T=c.mainAxis,L=void 0===T||T,K=c.altAxis,le=void 0===K||K,Ee=c.fallbackPlacements,qe=c.padding,ft=c.boundary,Lt=c.rootBoundary,yn=c.altBoundary,mn=c.flipVariations,En=void 0===mn||mn,Qt=c.allowedAutoPlacements,wn=l.options.placement,yr=wi(wn),vr=Ee||(yr!==wn&&En?function Ko(p){if(wi(p)===us)return[];var l=zs(p);return[vs(p),l,vs(l)]}(wn):[zs(wn)]),qn=[wn].concat(vr).reduce(function(Ji,tl){return Ji.concat(wi(tl)===us?function Tc(p,l){void 0===l&&(l={});var T=l.boundary,L=l.rootBoundary,K=l.padding,le=l.flipVariations,Ee=l.allowedAutoPlacements,qe=void 0===Ee?mt:Ee,ft=ys(l.placement),Lt=ft?le?Qe:Qe.filter(function(En){return ys(En)===ft}):$n,yn=Lt.filter(function(En){return qe.indexOf(En)>=0});0===yn.length&&(yn=Lt);var mn=yn.reduce(function(En,Qt){return En[Qt]=ja(p,{placement:Qt,boundary:T,rootBoundary:L,padding:K})[wi(Qt)],En},{});return Object.keys(mn).sort(function(En,Qt){return mn[En]-mn[Qt]})}(l,{placement:tl,boundary:ft,rootBoundary:Lt,padding:qe,flipVariations:En,allowedAutoPlacements:Qt}):tl)},[]),yi=l.rects.reference,Br=l.rects.popper,li=new Map,as=!0,$i=qn[0],Vi=0;Vi<qn.length;Vi++){var Po=qn[Vi],ca=wi(Po),Xs=ys(Po)===Ui,Gl=[Or,Ri].indexOf(ca)>=0,zl=Gl?"width":"height",Sn=ja(l,{placement:Po,boundary:ft,rootBoundary:Lt,altBoundary:yn,padding:qe}),Gn=Gl?Xs?mr:Zr:Xs?Ri:Or;yi[zl]>Br[zl]&&(Gn=zs(Gn));var hr=zs(Gn),ii=[];if(L&&ii.push(Sn[ca]<=0),le&&ii.push(Sn[Gn]<=0,Sn[hr]<=0),ii.every(function(Ji){return Ji})){$i=Po,as=!1;break}li.set(Po,ii)}if(as)for(var vc=function(tl){var xu=qn.find(function(uo){var La=li.get(uo);if(La)return La.slice(0,tl).every(function(la){return la})});if(xu)return $i=xu,"break"},$o=En?3:1;$o>0&&"break"!==vc($o);$o--);l.placement!==$i&&(l.modifiersData[y]._skip=!0,l.placement=$i,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ba(p,l,c){return void 0===c&&(c={x:0,y:0}),{top:p.top-l.height-c.y,right:p.right-l.width+c.x,bottom:p.bottom-l.height+c.y,left:p.left-l.width-c.x}}function $a(p){return[Or,mr,Ri,Zr].some(function(l){return p[l]>=0})}const cl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Za(p){var l=p.state,c=p.name,y=l.rects.reference,T=l.rects.popper,L=l.modifiersData.preventOverflow,K=ja(l,{elementContext:"reference"}),le=ja(l,{altBoundary:!0}),Ee=Ba(K,y),qe=Ba(le,T,L),ft=$a(Ee),Lt=$a(qe);l.modifiersData[c]={referenceClippingOffsets:Ee,popperEscapeOffsets:qe,isReferenceHidden:ft,hasPopperEscaped:Lt},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":ft,"data-popper-escaped":Lt})}},$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function re(p){var l=p.state,y=p.name,T=p.options.offset,L=void 0===T?[0,0]:T,K=mt.reduce(function(ft,Lt){return ft[Lt]=function P(p,l,c){var y=wi(p),T=[Zr,Or].indexOf(y)>=0?-1:1,L="function"==typeof c?c(Object.assign({},l,{placement:p})):c,K=L[0],le=L[1];return K=K||0,le=(le||0)*T,[Zr,mr].indexOf(y)>=0?{x:le,y:K}:{x:K,y:le}}(Lt,l.rects,L),ft},{}),le=K[l.placement],qe=le.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=le.x,l.modifiersData.popperOffsets.y+=qe),l.modifiersData[y]=K}},xe={name:"popperOffsets",enabled:!0,phase:"read",fn:function X(p){var l=p.state;l.modifiersData[p.name]=Ua({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},Nn={name:"preventOverflow",enabled:!0,phase:"main",fn:function Nt(p){var l=p.state,c=p.options,y=p.name,T=c.mainAxis,L=void 0===T||T,K=c.altAxis,le=void 0!==K&&K,yn=c.tether,mn=void 0===yn||yn,En=c.tetherOffset,Qt=void 0===En?0:En,wn=ja(l,{boundary:c.boundary,rootBoundary:c.rootBoundary,padding:c.padding,altBoundary:c.altBoundary}),yr=wi(l.placement),jr=ys(l.placement),vr=!jr,qn=Z(yr),yi=function wt(p){return"x"===p?"y":"x"}(qn),Br=l.modifiersData.popperOffsets,li=l.rects.reference,as=l.rects.popper,$i="function"==typeof Qt?Qt(Object.assign({},l.rects,{placement:l.placement})):Qt,Vi="number"==typeof $i?{mainAxis:$i,altAxis:$i}:Object.assign({mainAxis:0,altAxis:0},$i),Po=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,ca={x:0,y:0};if(Br){if(L){var Xs,Gl="y"===qn?Or:Zr,zl="y"===qn?Ri:mr,Sn="y"===qn?"height":"width",Gn=Br[qn],hr=Gn+wn[Gl],ii=Gn-wn[zl],Qs=mn?-as[Sn]/2:0,vc=jr===Ui?li[Sn]:as[Sn],$o=jr===Ui?-as[Sn]:-li[Sn],el=l.elements.arrow,Ji=mn&&el?Ds(el):{width:0,height:0},tl=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},xu=tl[Gl],uo=tl[zl],La=U(0,li[Sn],Ji[Sn]),la=vr?li[Sn]/2-Qs-La-xu-Vi.mainAxis:vc-La-xu-Vi.mainAxis,Pu=vr?-li[Sn]/2+Qs+La+uo+Vi.mainAxis:$o+La+uo+Vi.mainAxis,op=l.elements.arrow&&W(l.elements.arrow),bb=op?"y"===qn?op.clientTop||0:op.clientLeft||0:0,bE=null!=(Xs=Po?.[qn])?Xs:0,fC=Gn+Pu-bE,CE=U(mn?Gs(hr,Gn+la-bE-bb):hr,Gn,mn?ds(ii,fC):ii);Br[qn]=CE,ca[qn]=CE-Gn}if(le){var Qv,Wl=Br[yi],Py="y"===yi?"height":"width",Jv=Wl+wn["x"===qn?Or:Zr],TE=Wl-wn["x"===qn?Ri:mr],My=-1!==[Or,Zr].indexOf(yr),IE=null!=(Qv=Po?.[yi])?Qv:0,Zv=My?Jv:Wl-li[Py]-as[Py]-IE+Vi.altAxis,wE=My?Wl+li[Py]+as[Py]-IE-Vi.altAxis:TE,Ry=mn&&My?function de(p,l,c){var y=U(p,l,c);return y>c?c:y}(Zv,Wl,wE):U(mn?Zv:Jv,Wl,mn?wE:TE);Br[yi]=Ry,ca[yi]=Ry-Wl}l.modifiersData[y]=ca}},requiresIfExists:["offset"]};function pr(p,l,c){void 0===c&&(c=!1);var y=Qn(l),T=Qn(l)&&function ni(p){var l=p.getBoundingClientRect(),c=to(l.width)/p.offsetWidth||1,y=to(l.height)/p.offsetHeight||1;return 1!==c||1!==y}(l),L=no(l),K=wa(p,T,c),le={scrollLeft:0,scrollTop:0},Ee={x:0,y:0};return(y||!y&&!c)&&(("body"!==Ur(l)||ar(L))&&(le=function mi(p){return p!==ei(p)&&Qn(p)?function Gr(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):ha(p)}(l)),Qn(l)?((Ee=wa(l,!0)).x+=l.clientLeft,Ee.y+=l.clientTop):L&&(Ee.x=fa(L))),{x:K.left+le.scrollLeft-Ee.x,y:K.top+le.scrollTop-Ee.y,width:K.width,height:K.height}}function ai(p){var l=new Map,c=new Set,y=[];function T(L){c.add(L.name),[].concat(L.requires||[],L.requiresIfExists||[]).forEach(function(le){if(!c.has(le)){var Ee=l.get(le);Ee&&T(Ee)}}),y.push(L)}return p.forEach(function(L){l.set(L.name,L)}),p.forEach(function(L){c.has(L.name)||T(L)}),y}function Pi(p){var l;return function(){return l||(l=new Promise(function(c){Promise.resolve().then(function(){l=void 0,c(p())})})),l}}var Ps={placement:"bottom",modifiers:[],strategy:"absolute"};function qo(){for(var p=arguments.length,l=new Array(p),c=0;c<p;c++)l[c]=arguments[c];return!l.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function Es(p){void 0===p&&(p={});var c=p.defaultModifiers,y=void 0===c?[]:c,T=p.defaultOptions,L=void 0===T?Ps:T;return function(le,Ee,qe){void 0===qe&&(qe=L);var ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ps,L),modifiersData:{},elements:{reference:le,popper:Ee},attributes:{},styles:{}},Lt=[],yn=!1,mn={state:ft,setOptions:function(yr){var jr="function"==typeof yr?yr(ft.options):yr;Qt(),ft.options=Object.assign({},L,ft.options,jr),ft.scrollParents={reference:ti(le)?Ws(le):le.contextElement?Ws(le.contextElement):[],popper:Ws(Ee)};var vr=function Ai(p){var l=ai(p);return qr.reduce(function(c,y){return c.concat(l.filter(function(T){return T.phase===y}))},[])}(function go(p){var l=p.reduce(function(c,y){var T=c[y.name];return c[y.name]=T?Object.assign({},T,y,{options:Object.assign({},T.options,y.options),data:Object.assign({},T.data,y.data)}):y,c},{});return Object.keys(l).map(function(c){return l[c]})}([].concat(y,ft.options.modifiers)));return ft.orderedModifiers=vr.filter(function(qn){return qn.enabled}),function En(){ft.orderedModifiers.forEach(function(wn){var jr=wn.options,qn=wn.effect;if("function"==typeof qn){var yi=qn({state:ft,name:wn.name,instance:mn,options:void 0===jr?{}:jr});Lt.push(yi||function(){})}})}(),mn.update()},forceUpdate:function(){if(!yn){var yr=ft.elements,jr=yr.reference,vr=yr.popper;if(qo(jr,vr)){ft.rects={reference:pr(jr,W(vr),"fixed"===ft.options.strategy),popper:Ds(vr)},ft.reset=!1,ft.placement=ft.options.placement,ft.orderedModifiers.forEach(function(Vi){return ft.modifiersData[Vi.name]=Object.assign({},Vi.data)});for(var qn=0;qn<ft.orderedModifiers.length;qn++)if(!0!==ft.reset){var yi=ft.orderedModifiers[qn],Br=yi.fn,li=yi.options;"function"==typeof Br&&(ft=Br({state:ft,options:void 0===li?{}:li,name:yi.name,instance:mn})||ft)}else ft.reset=!1,qn=-1}}},update:Pi(function(){return new Promise(function(wn){mn.forceUpdate(),wn(ft)})}),destroy:function(){Qt(),yn=!0}};if(!qo(le,Ee))return mn;function Qt(){Lt.forEach(function(wn){return wn()}),Lt=[]}return mn.setOptions(qe).then(function(wn){!yn&&qe.onFirstUpdate&&qe.onFirstUpdate(wn)}),mn}}var Yo=Es(),mo=Es({defaultModifiers:[Qi,xe,Wo,Eo,$,Da,Nn,po,cl]}),Ar=Es({defaultModifiers:[Qi,xe,Wo,Eo]});const ur=new Map,Ha={set(p,l,c){ur.has(p)||ur.set(p,new Map);const y=ur.get(p);y.has(l)||0===y.size?y.set(l,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(p,l)=>ur.has(p)&&ur.get(p).get(l)||null,remove(p,l){if(!ur.has(p))return;const c=ur.get(p);c.delete(l),0===c.size&&ur.delete(p)}},ql="transitionend",Ic=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,c)=>`#${CSS.escape(c)}`)),p),Xo=p=>{p.dispatchEvent(new Event(ql))},Li=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),io=p=>Li(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(Ic(p)):null,pa=p=>{if(!Li(p)||0===p.getClientRects().length)return!1;const l="visible"===getComputedStyle(p).getPropertyValue("visibility"),c=p.closest("details:not([open])");if(!c)return l;if(c!==p){const y=p.closest("summary");if(y&&y.parentNode!==c||null===y)return!1}return l},Sa=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),Nu=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?Nu(p.parentNode):null},ll=()=>{},rr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,wc=[],Cs=()=>"rtl"===document.documentElement.dir,so=p=>{(p=>{"loading"===document.readyState?(wc.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of wc)l()}),wc.push(p)):p()})(()=>{const l=rr();if(l){const c=p.NAME,y=l.fn[c];l.fn[c]=p.jQueryInterface,l.fn[c].Constructor=p,l.fn[c].noConflict=()=>(l.fn[c]=y,p.jQueryInterface)}})},_o=(p,l=[],c=p)=>"function"==typeof p?p(...l):c,Yl=(p,l,c=!0)=>{if(!c)return void _o(p);const T=(p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:c}=window.getComputedStyle(p);const y=Number.parseFloat(l),T=Number.parseFloat(c);return y||T?(l=l.split(",")[0],c=c.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(c))):0})(l)+5;let L=!1;const K=({target:le})=>{le===l&&(L=!0,l.removeEventListener(ql,K),_o(p))};l.addEventListener(ql,K),setTimeout(()=>{L||Xo(l)},T)},No=(p,l,c,y)=>{const T=p.length;let L=p.indexOf(l);return-1===L?!c&&y?p[T-1]:p[0]:(L+=c?1:-1,y&&(L=(L+T)%T),p[Math.max(0,Math.min(L,T-1))])},Cd=/[^.]*(?=\..*)\.|.*/,Fu=/\..*/,is=/::\d+$/,tc={};let Xl=1;const Ht={mouseenter:"mouseover",mouseleave:"mouseout"},xr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ko(p,l){return l&&`${l}::${Xl++}`||p.uidEvent||Xl++}function ss(p){const l=ko(p);return p.uidEvent=l,tc[l]=tc[l]||{},tc[l]}function nc(p,l,c=null){return Object.values(p).find(y=>y.callable===l&&y.delegationSelector===c)}function Co(p,l,c){const y="string"==typeof l,T=y?c:l||c;let L=hl(p);return xr.has(L)||(L=p),[y,T,L]}function Ac(p,l,c,y,T){if("string"!=typeof l||!p)return;let[L,K,le]=Co(l,c,y);var En;l in Ht&&(En=K,K=function(Qt){if(!Qt.relatedTarget||Qt.relatedTarget!==Qt.delegateTarget&&!Qt.delegateTarget.contains(Qt.relatedTarget))return En.call(this,Qt)});const Ee=ss(p),qe=Ee[le]||(Ee[le]={}),ft=nc(qe,K,L?c:null);if(ft)return void(ft.oneOff=ft.oneOff&&T);const Lt=ko(K,l.replace(Cd,"")),yn=L?function ul(p,l,c){return function y(T){const L=p.querySelectorAll(l);for(let{target:K}=T;K&&K!==this;K=K.parentNode)for(const le of L)if(le===K)return Ns(T,{delegateTarget:K}),y.oneOff&&Wt.off(p,T.type,l,c),c.apply(K,[T])}}(p,c,K):function Ks(p,l){return function c(y){return Ns(y,{delegateTarget:p}),c.oneOff&&Wt.off(p,y.type,l),l.apply(p,[y])}}(p,K);yn.delegationSelector=L?c:null,yn.callable=K,yn.oneOff=T,yn.uidEvent=Lt,qe[Lt]=yn,p.addEventListener(le,yn,L)}function dl(p,l,c,y,T){const L=nc(l[c],y,T);L&&(p.removeEventListener(c,L,!!T),delete l[c][L.uidEvent])}function Td(p,l,c,y){const T=l[c]||{};for(const[L,K]of Object.entries(T))L.includes(y)&&dl(p,l,c,K.callable,K.delegationSelector)}function hl(p){return p=p.replace(Fu,""),Ht[p]||p}const Wt={on(p,l,c,y){Ac(p,l,c,y,!1)},one(p,l,c,y){Ac(p,l,c,y,!0)},off(p,l,c,y){if("string"!=typeof l||!p)return;const[T,L,K]=Co(l,c,y),le=K!==l,Ee=ss(p),qe=Ee[K]||{},ft=l.startsWith(".");if(typeof L<"u"){if(!Object.keys(qe).length)return;dl(p,Ee,K,L,T?c:null)}else{if(ft)for(const Lt of Object.keys(Ee))Td(p,Ee,Lt,l.slice(1));for(const[Lt,yn]of Object.entries(qe)){const mn=Lt.replace(is,"");(!le||l.includes(mn))&&dl(p,Ee,K,yn.callable,yn.delegationSelector)}}},trigger(p,l,c){if("string"!=typeof l||!p)return null;const y=rr();let K=null,le=!0,Ee=!0,qe=!1;l!==hl(l)&&y&&(K=y.Event(l,c),y(p).trigger(K),le=!K.isPropagationStopped(),Ee=!K.isImmediatePropagationStopped(),qe=K.isDefaultPrevented());const ft=Ns(new Event(l,{bubbles:le,cancelable:!0}),c);return qe&&ft.preventDefault(),Ee&&p.dispatchEvent(ft),ft.defaultPrevented&&K&&K.preventDefault(),ft}};function Ns(p,l={}){for(const[c,y]of Object.entries(l))try{p[c]=y}catch{Object.defineProperty(p,c,{configurable:!0,get:()=>y})}return p}function oo(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function ga(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const ao={setDataAttribute(p,l,c){p.setAttribute(`data-bs-${ga(l)}`,c)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${ga(l)}`)},getDataAttributes(p){if(!p)return{};const l={},c=Object.keys(p.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of c){let T=y.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),l[T]=oo(p.dataset[y])}return l},getDataAttribute:(p,l)=>oo(p.getAttribute(`data-bs-${ga(l)}`))};class qs{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,c){const y=Li(c)?ao.getDataAttribute(c,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...Li(c)?ao.getDataAttributes(c):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,c=this.constructor.DefaultType){for(const[y,T]of Object.entries(c)){const L=l[y],K=Li(L)?"element":null==(p=L)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(K))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${K}" but expected type "${T}".`)}var p}}class yo extends qs{constructor(l,c){super(),(l=io(l))&&(this._element=l,this._config=this._getConfig(c),Ha.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ha.remove(this._element,this.constructor.DATA_KEY),Wt.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,c,y=!0){Yl(l,c,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return Ha.get(io(l),this.DATA_KEY)}static getOrCreateInstance(l,c={}){return this.getInstance(l)||new this(l,"object"==typeof c?c:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const wd=p=>{let l=p.getAttribute("data-bs-target");if(!l||"#"===l){let c=p.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),l=c&&"#"!==c?c.trim():null}return l?l.split(",").map(c=>Ic(c)).join(","):null},Jn={find:(p,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,p)),findOne:(p,l=document.documentElement)=>Element.prototype.querySelector.call(l,p),children:(p,l)=>[].concat(...p.children).filter(c=>c.matches(l)),parents(p,l){const c=[];let y=p.parentNode.closest(l);for(;y;)c.push(y),y=y.parentNode.closest(l);return c},prev(p,l){let c=p.previousElementSibling;for(;c;){if(c.matches(l))return[c];c=c.previousElementSibling}return[]},next(p,l){let c=p.nextElementSibling;for(;c;){if(c.matches(l))return[c];c=c.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(c=>!Sa(c)&&pa(c))},getSelectorFromElement(p){const l=wd(p);return l&&Jn.findOne(l)?l:null},getElementFromSelector(p){const l=wd(p);return l?Jn.findOne(l):null},getMultipleElementsFromSelector(p){const l=wd(p);return l?Jn.find(l):[]}},Dc=(p,l="hide")=>{const y=p.NAME;Wt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),Sa(this))return;const L=Jn.getElementFromSelector(this)||this.closest(`.${y}`);p.getOrCreateInstance(L)[l]()})},D=".bs.alert",O=`close${D}`,w=`closed${D}`;class ce extends yo{static get NAME(){return"alert"}close(){if(Wt.trigger(this._element,O).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),Wt.trigger(this._element,w),this.dispose()}static jQueryInterface(l){return this.each(function(){const c=ce.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}Dc(ce,"close"),so(ce);const _r='[data-bs-toggle="button"]';class Yr extends yo{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const c=Yr.getOrCreateInstance(this);"toggle"===l&&c[l]()})}}Wt.on(document,"click.bs.button.data-api",_r,p=>{p.preventDefault();const l=p.target.closest(_r);Yr.getOrCreateInstance(l).toggle()}),so(Yr);const Qo=".bs.swipe",pl=`touchstart${Qo}`,Sc=`touchmove${Qo}`,Lu=`touchend${Qo}`,Qh=`pointerdown${Qo}`,ic=`pointerup${Qo}`,Vu={endCallback:null,leftCallback:null,rightCallback:null},Uu={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xc extends qs{constructor(l,c){super(),this._element=l,l&&xc.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Vu}static get DefaultType(){return Uu}static get NAME(){return"swipe"}dispose(){Wt.off(this._element,Qo)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),_o(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const c=l/this._deltaX;this._deltaX=0,c&&_o(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Wt.on(this._element,Qh,l=>this._start(l)),Wt.on(this._element,ic,l=>this._end(l)),this._element.classList.add("pointer-event")):(Wt.on(this._element,pl,l=>this._start(l)),Wt.on(this._element,Sc,l=>this._move(l)),Wt.on(this._element,Lu,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ms=".bs.carousel",Jo=".data-api",xd="next",Mc="prev",za="left",ju="right",cp=`slide${Ms}`,gl=`slid${Ms}`,Rc=`keydown${Ms}`,Pd=`mouseenter${Ms}`,ml=`mouseleave${Ms}`,Bu=`dragstart${Ms}`,sc=`load${Ms}${Jo}`,lp=`click${Ms}${Jo}`,Md="carousel",Fo="active",Od=".active",oc=".carousel-item",yl=Od+oc,Oc={ArrowLeft:ju,ArrowRight:za},Dg={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Pa={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class _a extends yo{constructor(l,c){super(l,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Jn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Md&&this.cycle()}static get Default(){return Dg}static get DefaultType(){return Pa}static get NAME(){return"carousel"}next(){this._slide(xd)}nextWhenVisible(){!document.hidden&&pa(this._element)&&this.next()}prev(){this._slide(Mc)}pause(){this._isSliding&&Xo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Wt.one(this._element,gl,()=>this.cycle());this.cycle()}}to(l){const c=this._getItems();if(l>c.length-1||l<0)return;if(this._isSliding)return void Wt.one(this._element,gl,()=>this.to(l));const y=this._getItemIndex(this._getActive());y!==l&&this._slide(l>y?xd:Mc,c[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&Wt.on(this._element,Rc,l=>this._keydown(l)),"hover"===this._config.pause&&(Wt.on(this._element,Pd,()=>this.pause()),Wt.on(this._element,ml,()=>this._maybeEnableCycle())),this._config.touch&&xc.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Jn.find(".carousel-item img",this._element))Wt.on(y,Bu,T=>T.preventDefault());this._swipeHelper=new xc(this._element,{leftCallback:()=>this._slide(this._directionToOrder(za)),rightCallback:()=>this._slide(this._directionToOrder(ju)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const c=Oc[l.key];c&&(l.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const c=Jn.findOne(Od,this._indicatorsElement);c.classList.remove(Fo),c.removeAttribute("aria-current");const y=Jn.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(Fo),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const c=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(l,c=null){if(this._isSliding)return;const y=this._getActive(),T=l===xd,L=c||No(this._getItems(),y,T,this._config.wrap);if(L===y)return;const K=this._getItemIndex(L),le=mn=>Wt.trigger(this._element,mn,{relatedTarget:L,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:K});if(le(cp).defaultPrevented||!y||!L)return;const qe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(K),this._activeElement=L;const ft=T?"carousel-item-start":"carousel-item-end",Lt=T?"carousel-item-next":"carousel-item-prev";L.classList.add(Lt),y.classList.add(ft),L.classList.add(ft),this._queueCallback(()=>{L.classList.remove(ft,Lt),L.classList.add(Fo),y.classList.remove(Fo,Lt,ft),this._isSliding=!1,le(gl)},y,this._isAnimated()),qe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Jn.findOne(yl,this._element)}_getItems(){return Jn.find(oc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return Cs()?l===za?Mc:xd:l===za?xd:Mc}_orderToDirection(l){return Cs()?l===Mc?za:ju:l===Mc?ju:za}static jQueryInterface(l){return this.each(function(){const c=_a.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}}else c.to(l)})}}Wt.on(document,lp,"[data-bs-slide], [data-bs-slide-to]",function(p){const l=Jn.getElementFromSelector(this);if(!l||!l.classList.contains(Md))return;p.preventDefault();const c=_a.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(c.to(y),void c._maybeEnableCycle()):"next"===ao.getDataAttribute(this,"slide")?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),Wt.on(window,sc,()=>{const p=Jn.find('[data-bs-ride="carousel"]');for(const l of p)_a.getOrCreateInstance(l)}),so(_a);const Jl=".bs.collapse",tf=`show${Jl}`,eo=`shown${Jl}`,up=`hide${Jl}`,El=`hidden${Jl}`,kd=`click${Jl}.data-api`,Fd="show",cc="collapse",bl="collapsing",Zo=`:scope .${cc} .${cc}`,Gu='[data-bs-toggle="collapse"]',Sg={parent:null,toggle:!0},Qm={parent:"(null|element)",toggle:"boolean"};class zu extends yo{constructor(l,c){super(l,c),this._isTransitioning=!1,this._triggerArray=[];const y=Jn.find(Gu);for(const T of y){const L=Jn.getSelectorFromElement(T),K=Jn.find(L).filter(le=>le===this._element);null!==L&&K.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Sg}static get DefaultType(){return Qm}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(le=>le!==this._element).map(le=>zu.getOrCreateInstance(le,{toggle:!1}))),l.length&&l[0]._isTransitioning||Wt.trigger(this._element,tf).defaultPrevented)return;for(const le of l)le.hide();const y=this._getDimension();this._element.classList.remove(cc),this._element.classList.add(bl),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const K=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(bl),this._element.classList.add(cc,Fd),this._element.style[y]="",Wt.trigger(this._element,eo)},this._element,!0),this._element.style[y]=`${this._element[K]}px`}hide(){if(this._isTransitioning||!this._isShown()||Wt.trigger(this._element,up).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,this._element.classList.add(bl),this._element.classList.remove(cc,Fd);for(const T of this._triggerArray){const L=Jn.getElementFromSelector(T);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(bl),this._element.classList.add(cc),Wt.trigger(this._element,El)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Fd)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=io(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Gu);for(const c of l){const y=Jn.getElementFromSelector(c);y&&this._addAriaAndCollapsedClass([c],this._isShown(y))}}_getFirstLevelChildren(l){const c=Jn.find(Zo,this._config.parent);return Jn.find(l,this._config.parent).filter(y=>!c.includes(y))}_addAriaAndCollapsedClass(l,c){if(l.length)for(const y of l)y.classList.toggle("collapsed",!c),y.setAttribute("aria-expanded",c)}static jQueryInterface(l){const c={};return"string"==typeof l&&/show|hide/.test(l)&&(c.toggle=!1),this.each(function(){const y=zu.getOrCreateInstance(this,c);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l]()}})}}Wt.on(document,kd,Gu,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const l of Jn.getMultipleElementsFromSelector(this))zu.getOrCreateInstance(l,{toggle:!1}).toggle()}),so(zu);const rf="dropdown",eu=".bs.dropdown",dp=".data-api",sf="ArrowUp",Fs="ArrowDown",Fc=`hide${eu}`,af=`hidden${eu}`,ea=`show${eu}`,Lc=`shown${eu}`,Wu=`click${eu}${dp}`,lc=`keydown${eu}${dp}`,Vc=`keyup${eu}${dp}`,uc="show",Io='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jd=`${Io}.${uc}`,Ku=".dropdown-menu",pp=Cs()?"top-end":"top-start",Uc=Cs()?"top-start":"top-end",nu=Cs()?"bottom-end":"bottom-start",$d=Cs()?"bottom-start":"bottom-end",dc=Cs()?"left-start":"right-start",lf=Cs()?"right-start":"left-start",qu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},df={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ma extends yo{constructor(l,c){super(l,c),this._popper=null,this._parent=this._element.parentNode,this._menu=Jn.next(this._element,Ku)[0]||Jn.prev(this._element,Ku)[0]||Jn.findOne(Ku,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return qu}static get DefaultType(){return df}static get NAME(){return rf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Sa(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!Wt.trigger(this._element,ea,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))Wt.on(y,"mouseover",ll);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(uc),this._element.classList.add(uc),Wt.trigger(this._element,Lc,l)}}hide(){!Sa(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!Wt.trigger(this._element,Fc,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))Wt.off(y,"mouseover",ll);this._popper&&this._popper.destroy(),this._menu.classList.remove(uc),this._element.classList.remove(uc),this._element.setAttribute("aria-expanded","false"),ao.removeDataAttribute(this._menu,"popper"),Wt.trigger(this._element,af,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!Li(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${rf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:Li(this._config.reference)?l=io(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const c=this._getPopperConfig();this._popper=mo(l,this._menu,c)}_isShown(){return this._menu.classList.contains(uc)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return dc;if(l.classList.contains("dropstart"))return lf;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const c="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?c?Uc:pp:c?$d:nu}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ao.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,..._o(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:c}){const y=Jn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>pa(T));y.length&&No(y,c,l===Fs,!y.includes(c)).focus()}static jQueryInterface(l){return this.each(function(){const c=Ma.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const c=Jn.find(jd);for(const y of c){const T=Ma.getInstance(y);if(!T||!1===T._config.autoClose)continue;const L=l.composedPath(),K=L.includes(T._menu);if(L.includes(T._element)||"inside"===T._config.autoClose&&!K||"outside"===T._config.autoClose&&K||T._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const le={relatedTarget:T._element};"click"===l.type&&(le.clickEvent=l),T._completeHide(le)}}static dataApiKeydownHandler(l){const c=/input|textarea/i.test(l.target.tagName),y="Escape"===l.key,T=[sf,Fs].includes(l.key);if(!T&&!y||c&&!y)return;l.preventDefault();const L=this.matches(Io)?this:Jn.prev(this,Io)[0]||Jn.next(this,Io)[0]||Jn.findOne(Io,l.delegateTarget.parentNode),K=Ma.getOrCreateInstance(L);if(T)return l.stopPropagation(),K.show(),void K._selectMenuItem(l);K._isShown()&&(l.stopPropagation(),K.hide(),L.focus())}}Wt.on(document,lc,Io,Ma.dataApiKeydownHandler),Wt.on(document,lc,Ku,Ma.dataApiKeydownHandler),Wt.on(document,Wu,Ma.clearMenus),Wt.on(document,Vc,Ma.clearMenus),Wt.on(document,Wu,Io,function(p){p.preventDefault(),Ma.getOrCreateInstance(this).toggle()}),so(Ma);const ru="backdrop",Xu=`mousedown.bs.${ru}`,Gd={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class fc extends qs{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Gd}static get DefaultType(){return hc}static get NAME(){return ru}show(l){if(!this._config.isVisible)return void _o(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{_o(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),_o(l)})):_o(l)}dispose(){this._isAppended&&(Wt.off(this._element,Xu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=io(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),Wt.on(l,Xu,()=>{_o(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){Yl(l,this._getElement(),this._config.isAnimated)}}const v=".bs.focustrap",S=`focusin${v}`,Q=`keydown.tab${v}`,At="backward",$t={autofocus:!0,trapElement:null},Pn={autofocus:"boolean",trapElement:"element"};class Dn extends qs{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return $t}static get DefaultType(){return Pn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Wt.off(document,v),Wt.on(document,S,l=>this._handleFocusin(l)),Wt.on(document,Q,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Wt.off(document,v))}_handleFocusin(l){const{trapElement:c}=this._config;if(l.target===document||l.target===c||c.contains(l.target))return;const y=Jn.focusableChildren(c);0===y.length?c.focus():this._lastTabNavDirection===At?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?At:"forward")}}const zr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",wo=".sticky-top",Ao="padding-right",Bc="margin-right";class iu{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ao,c=>c+l),this._setElementAttributes(zr,Ao,c=>c+l),this._setElementAttributes(wo,Bc,c=>c-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ao),this._resetElementAttributes(zr,Ao),this._resetElementAttributes(wo,Bc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,c,y){const T=this.getWidth();this._applyManipulationCallback(l,K=>{if(K!==this._element&&window.innerWidth>K.clientWidth+T)return;this._saveInitialAttribute(K,c);const le=window.getComputedStyle(K).getPropertyValue(c);K.style.setProperty(c,`${y(Number.parseFloat(le))}px`)})}_saveInitialAttribute(l,c){const y=l.style.getPropertyValue(c);y&&ao.setDataAttribute(l,c,y)}_resetElementAttributes(l,c){this._applyManipulationCallback(l,T=>{const L=ao.getDataAttribute(T,c);null!==L?(ao.removeDataAttribute(T,c),T.style.setProperty(c,L)):T.style.removeProperty(c)})}_applyManipulationCallback(l,c){if(Li(l))c(l);else for(const y of Jn.find(l,this._element))c(y)}}const va=".bs.modal",Rg=`hide${va}`,su=`hidePrevented${va}`,Kd=`hidden${va}`,ou=`show${va}`,qd=`shown${va}`,Yd=`resize${va}`,Tl=`click.dismiss${va}`,Xd=`mousedown.dismiss${va}`,Og=`keydown.dismiss${va}`,mp=`click${va}.data-api`,ff="modal-open",yp="modal-static",Ng={backdrop:!0,focus:!0,keyboard:!0},Vy={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $c extends yo{constructor(l,c){super(l,c),this._dialog=Jn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new iu,this._addEventListeners()}static get Default(){return Ng}static get DefaultType(){return Vy}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||Wt.trigger(this._element,ou,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ff),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||Wt.trigger(this._element,Rg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Wt.off(window,va),Wt.off(this._dialog,va),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Dn({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=Jn.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Wt.trigger(this._element,qd,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){Wt.on(this._element,Og,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Wt.on(window,Yd,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Wt.on(this._element,Xd,l=>{Wt.one(this._element,Tl,c=>{if(this._element===l.target&&this._element===c.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ff),this._resetAdjustments(),this._scrollBar.reset(),Wt.trigger(this._element,Kd)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Wt.trigger(this._element,su).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(yp)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(yp),this._queueCallback(()=>{this._element.classList.remove(yp),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),y=c>0;if(y&&!l){const T=Cs()?"paddingLeft":"paddingRight";this._element.style[T]=`${c}px`}if(!y&&l){const T=Cs()?"paddingRight":"paddingLeft";this._element.style[T]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,c){return this.each(function(){const y=$c.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l](c)}})}}Wt.on(document,mp,'[data-bs-toggle="modal"]',function(p){const l=Jn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),Wt.one(l,ou,T=>{T.defaultPrevented||Wt.one(l,Kd,()=>{pa(this)&&this.focus()})});const c=Jn.findOne(".modal.show");c&&$c.getInstance(c).hide(),$c.getOrCreateInstance(l).toggle(this)}),Dc($c),so($c);const Hc=".bs.offcanvas",Qu=".data-api",Ep=`load${Hc}${Qu}`,Lo="showing",eh=".offcanvas.show",Vo=`show${Hc}`,Ju=`shown${Hc}`,t_=`hide${Hc}`,gf=`hidePrevented${Hc}`,n_=`hidden${Hc}`,bp=`resize${Hc}`,r_=`click${Hc}${Qu}`,Cp=`keydown.dismiss${Hc}`,Tp={backdrop:!0,keyboard:!0,scroll:!1},th={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class na extends yo{constructor(l,c){super(l,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Tp}static get DefaultType(){return th}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||Wt.trigger(this._element,Vo,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new iu).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Lo),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Lo),Wt.trigger(this._element,Ju,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!Wt.trigger(this._element,t_).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new iu).reset(),Wt.trigger(this._element,n_)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new fc({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{"static"!==this._config.backdrop?this.hide():Wt.trigger(this._element,gf)}:null})}_initializeFocusTrap(){return new Dn({trapElement:this._element})}_addEventListeners(){Wt.on(this._element,Cp,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();Wt.trigger(this._element,gf)}})}static jQueryInterface(l){return this.each(function(){const c=na.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}Wt.on(document,r_,'[data-bs-toggle="offcanvas"]',function(p){const l=Jn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),Sa(this))return;Wt.one(l,n_,()=>{pa(this)&&this.focus()});const c=Jn.findOne(eh);c&&c!==l&&na.getInstance(c).hide(),na.getOrCreateInstance(l).toggle(this)}),Wt.on(window,Ep,()=>{for(const p of Jn.find(eh))na.getOrCreateInstance(p).show()}),Wt.on(window,bp,()=>{for(const p of Jn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&na.getOrCreateInstance(p).hide()}),Dc(na),so(na);const Il={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ih=(p,l)=>{const c=p.nodeName.toLowerCase();return l.includes(c)?!nh.has(c)||!!rh.test(p.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(c))},Fg={allowList:Il,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wp={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},au={entry:"(string|element|function|null)",selector:"(string|element)"};class sh extends qs{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return Fg}static get DefaultType(){return wp}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[T,L]of Object.entries(this._config.content))this._setContent(l,L,T);const c=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&c.classList.add(...y.split(" ")),c}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[c,y]of Object.entries(l))super._typeCheckConfig({selector:c,entry:y},au)}_setContent(l,c,y){const T=Jn.findOne(y,l);if(T){if(!(c=this._resolvePossibleFunction(c)))return void T.remove();if(Li(c))return void this._putElementInTemplate(io(c),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(c));T.textContent=c}}_maybeSanitize(l){return this._config.sanitize?function jy(p,l,c){if(!p.length)return p;if(c&&"function"==typeof c)return c(p);const T=(new window.DOMParser).parseFromString(p,"text/html"),L=[].concat(...T.body.querySelectorAll("*"));for(const K of L){const le=K.nodeName.toLowerCase();if(!Object.keys(l).includes(le)){K.remove();continue}const Ee=[].concat(...K.attributes),qe=[].concat(l["*"]||[],l[le]||[]);for(const ft of Ee)ih(ft,qe)||K.removeAttribute(ft.nodeName)}return T.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return _o(l,[this])}_putElementInTemplate(l,c){if(this._config.html)return c.innerHTML="",void c.append(l);c.textContent=l.textContent}}const Lg=new Set(["sanitize","allowList","sanitizeFn"]),oh="fade",ah="show",o_="hide.bs.modal",ch="hover",Sp="focus",lh={AUTO:"auto",TOP:"top",RIGHT:Cs()?"left":"right",BOTTOM:"bottom",LEFT:Cs()?"right":"left"},Bg={allowList:Il,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Rp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ed extends yo{constructor(l,c){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Bg}static get DefaultType(){return Rp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Wt.off(this._element.closest(".modal"),o_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=Wt.trigger(this._element,this.constructor.eventName("show")),y=(Nu(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!y)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(T),Wt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(ah),"ontouchstart"in document.documentElement)for(const le of[].concat(...document.body.children))Wt.on(le,"mouseover",ll);this._queueCallback(()=>{Wt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Wt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ah),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))Wt.off(T,"mouseover",ll);this._activeTrigger.click=!1,this._activeTrigger[Sp]=!1,this._activeTrigger[ch]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Wt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const c=this._getTemplateFactory(l).toHtml();if(!c)return null;c.classList.remove(oh,ah),c.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return c.setAttribute("id",y),this._isAnimated()&&c.classList.add(oh),c}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new sh({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oh)}_isShown(){return this.tip&&this.tip.classList.contains(ah)}_createPopper(l){const c=_o(this._config.placement,[this,l,this._element]),y=lh[c.toUpperCase()];return mo(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_resolvePossibleFunction(l){return _o(l,[this._element])}_getPopperConfig(l){const c={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...c,..._o(this._config.popperConfig,[c])}}_setListeners(){const l=this._config.trigger.split(" ");for(const c of l)if("click"===c)Wt.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==c){const y=this.constructor.eventName(c===ch?"mouseenter":"focusin"),T=this.constructor.eventName(c===ch?"mouseleave":"focusout");Wt.on(this._element,y,this._config.selector,L=>{const K=this._initializeOnDelegatedTarget(L);K._activeTrigger["focusin"===L.type?Sp:ch]=!0,K._enter()}),Wt.on(this._element,T,this._config.selector,L=>{const K=this._initializeOnDelegatedTarget(L);K._activeTrigger["focusout"===L.type?Sp:ch]=K._element.contains(L.relatedTarget),K._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Wt.on(this._element.closest(".modal"),o_,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,c){clearTimeout(this._timeout),this._timeout=setTimeout(l,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const c=ao.getDataAttributes(this._element);for(const y of Object.keys(c))Lg.has(y)&&delete c[y];return l={...c,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:io(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[c,y]of Object.entries(this._config))this.constructor.Default[c]!==y&&(l[c]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const c=ed.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}so(ed);const kp={...ed.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},td={...ed.DefaultType,content:"(null|string|element|function)"};class _f extends ed{static get Default(){return kp}static get DefaultType(){return td}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const c=_f.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}so(_f);const Lp=".bs.scrollspy",Ef=`activate${Lp}`,Vp=`click${Lp}`,u_=`load${Lp}.data-api`,uh="active",dh="[href]",Gc=".nav-link",Hy=`${Gc}, .nav-item > ${Gc}, .list-group-item`,Kg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},qg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class hh extends yo{constructor(l,c){super(l,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Kg}static get DefaultType(){return qg}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=io(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(c=>Number.parseFloat(c))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Wt.off(this._config.target,Vp),Wt.on(this._config.target,Vp,dh,l=>{const c=this._observableSections.get(l.target.hash);if(c){l.preventDefault();const y=this._rootElement||window,T=c.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:T,behavior:"smooth"});y.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(c=>this._observerCallback(c),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const c=K=>this._targetLinks.get(`#${K.target.id}`),y=K=>{this._previousScrollData.visibleEntryTop=K.target.offsetTop,this._process(c(K))},T=(this._rootElement||document.documentElement).scrollTop,L=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const K of l){if(!K.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(K));continue}const le=K.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(L&&le){if(y(K),!T)return}else!L&&!le&&y(K)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=Jn.find(dh,this._config.target);for(const c of l){if(!c.hash||Sa(c))continue;const y=Jn.findOne(decodeURI(c.hash),this._element);pa(y)&&(this._targetLinks.set(decodeURI(c.hash),c),this._observableSections.set(c.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(uh),this._activateParents(l),Wt.trigger(this._element,Ef,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))Jn.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(uh);else for(const c of Jn.parents(l,".nav, .list-group"))for(const y of Jn.prev(c,Hy))y.classList.add(uh)}_clearActiveClass(l){l.classList.remove(uh);const c=Jn.find(`${dh}.${uh}`,l);for(const y of c)y.classList.remove(uh)}static jQueryInterface(l){return this.each(function(){const c=hh.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}Wt.on(window,u_,()=>{for(const p of Jn.find('[data-bs-spy="scroll"]'))hh.getOrCreateInstance(p)}),so(hh);const pc=".bs.tab",d_=`hide${pc}`,jp=`hidden${pc}`,h_=`show${pc}`,wl=`shown${pc}`,Gy=`click${pc}`,Xg=`keydown${pc}`,f_=`load${pc}`,Qg="ArrowLeft",Jg="ArrowRight",Al="ArrowUp",rd="ArrowDown",bf="Home",p_="End",Dl="active",Tf="show",lu=".dropdown-toggle",If=`:not(${lu})`,Oa='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',id=`.nav-link${If}, .list-group-item${If}, [role="tab"]${If}, ${Oa}`,m_=`.${Dl}[data-bs-toggle="tab"], .${Dl}[data-bs-toggle="pill"], .${Dl}[data-bs-toggle="list"]`;class sd extends yo{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Wt.on(this._element,Xg,c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const c=this._getActiveElem(),y=c?Wt.trigger(c,d_,{relatedTarget:l}):null;Wt.trigger(l,h_,{relatedTarget:c}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(c,l),this._activate(l,c))}_activate(l,c){l&&(l.classList.add(Dl),this._activate(Jn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),Wt.trigger(l,wl,{relatedTarget:c})):l.classList.add(Tf)},l,l.classList.contains("fade")))}_deactivate(l,c){l&&(l.classList.remove(Dl),l.blur(),this._deactivate(Jn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),Wt.trigger(l,jp,{relatedTarget:c})):l.classList.remove(Tf)},l,l.classList.contains("fade")))}_keydown(l){if(![Qg,Jg,Al,rd,bf,p_].includes(l.key))return;l.stopPropagation(),l.preventDefault();const c=this._getChildren().filter(T=>!Sa(T));let y;if([bf,p_].includes(l.key))y=c[l.key===bf?0:c.length-1];else{const T=[Jg,rd].includes(l.key);y=No(c,l.target,T,!0)}y&&(y.focus({preventScroll:!0}),sd.getOrCreateInstance(y).show())}_getChildren(){return Jn.find(id,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,c){this._setAttributeIfNotExists(l,"role","tablist");for(const y of c)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const c=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",c),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),c||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const c=Jn.getElementFromSelector(l);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,c){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const T=(L,K)=>{const le=Jn.findOne(L,y);le&&le.classList.toggle(K,c)};T(lu,Dl),T(".dropdown-menu",Tf),y.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(l,c,y){l.hasAttribute(c)||l.setAttribute(c,y)}_elemIsActive(l){return l.classList.contains(Dl)}_getInnerElement(l){return l.matches(id)?l:Jn.findOne(id,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const c=sd.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}Wt.on(document,Gy,Oa,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!Sa(this)&&sd.getOrCreateInstance(this).show()}),Wt.on(window,f_,()=>{for(const p of Jn.find(m_))sd.getOrCreateInstance(p)}),so(sd);const Sl=".bs.toast",qy=`mouseover${Sl}`,Af=`mouseout${Sl}`,Df=`focusin${Sl}`,y_=`focusout${Sl}`,Zg=`hide${Sl}`,Bp=`hidden${Sl}`,v_=`show${Sl}`,gh=`shown${Sl}`,mh="show",Wa="showing",Hp={animation:"boolean",autohide:"boolean",delay:"number"},em={animation:!0,autohide:!0,delay:5e3};class Gp extends yo{constructor(l,c){super(l,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return em}static get DefaultType(){return Hp}static get NAME(){return"toast"}show(){Wt.trigger(this._element,v_).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(mh,Wa),this._queueCallback(()=>{this._element.classList.remove(Wa),Wt.trigger(this._element,gh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Wt.trigger(this._element,Zg).defaultPrevented&&(this._element.classList.add(Wa),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Wa,mh),Wt.trigger(this._element,Bp)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(mh),super.dispose()}isShown(){return this._element.classList.contains(mh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,c){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Wt.on(this._element,qy,l=>this._onInteraction(l,!0)),Wt.on(this._element,Af,l=>this._onInteraction(l,!1)),Wt.on(this._element,Df,l=>this._onInteraction(l,!0)),Wt.on(this._element,y_,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const c=Gp.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l](this)}})}}Dc(Gp),so(Gp);let uu=(()=>{class p{constructor(c){this.http=c,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(c){return this.http.post(this.emailEndpoint,c)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Be))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var _i=V(4341);let Yy=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,T){1&y&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&y&&(i.R7$(5),i.JRh(T.phoneNumber),i.R7$(4),i.JRh(T.address),i.R7$(4),i.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var zp=V(3711);function b_(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Xy(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(4),i.JRh(c.business.fax)}}function Qy(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.FS9("href",c.business.socialMedia,i.B4B),i.R7$(1),i.JRh(c.business.socialMedia)}}function Jy(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,b_,6,2,"div",23),i.DNE(26,Xy,5,1,"div",23),i.DNE(27,Qy,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61,"Submit"),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.bVm()}if(2&p){const c=i.sdS(47),y=i.XpG(2);i.R7$(19),i.JRh(y.business.address),i.R7$(5),i.JRh(y.business.phone),i.R7$(1),i.Y8G("ngIf",y.business.email),i.R7$(1),i.Y8G("ngIf",y.business.fax),i.R7$(1),i.Y8G("ngIf",y.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",y.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",y.formData.name),i.R7$(4),i.Y8G("ngModel",y.formData.email),i.R7$(4),i.Y8G("ngModel",y.formData.message),i.R7$(1),i.Y8G("disabled",!c.form.valid),i.R7$(2),i.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),i.R7$(1),i.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function Zy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function C_(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function o0(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Zy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,C_,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function ev(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function _h(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function od(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,ev,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,_h,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function tm(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function nm(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function Wp(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,tm,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,nm,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(c);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),i.EFF(40,"Visitation Hours"),i.k0s(),i.j41(41,"ul")(42,"li")(43,"strong"),i.EFF(44,"Monday:"),i.k0s(),i.EFF(45," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(46,"li")(47,"strong"),i.EFF(48,"Tuesday:"),i.k0s(),i.EFF(49," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(50,"li")(51,"strong"),i.EFF(52,"Wednesday:"),i.k0s(),i.EFF(53," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(54,"li")(55,"strong"),i.EFF(56,"Thursday:"),i.k0s(),i.EFF(57," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(58,"li")(59,"strong"),i.EFF(60,"Friday:"),i.k0s(),i.EFF(61," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(62,"li")(63,"strong"),i.EFF(64,"Saturday:"),i.k0s(),i.EFF(65," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(66,"li")(67,"strong"),i.EFF(68,"Sunday:"),i.k0s(),i.EFF(69," 7:00am \u2013 7:00pm"),i.k0s()()()(),i.j41(70,"div",61),i.nrm(71,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(5),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(38),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function yh(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Jy,64,16,"ng-container",2),i.DNE(3,o0,45,10,"ng-container",2),i.DNE(4,od,45,10,"ng-container",2),i.DNE(5,Wp,72,9,"ng-container",3),i.k0s(),i.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h5",8),i.EFF(11),i.k0s(),i.nrm(12,"button",9),i.k0s(),i.j41(13,"div",10),i.EFF(14),i.k0s(),i.j41(15,"div",11)(16,"button",12),i.EFF(17,"Close"),i.k0s()()()()()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(7),i.JRh(c.modalTitle),i.R7$(3),i.SpI(" ",c.modalMessage," ")}}let ci=(()=>{class p{constructor(c,y,T,L,K,le,Ee){this.sanitizer=c,this.businessDataService=y,this.webContent=T,this.route=L,this.http=K,this.emailService=le,this.metaService=Ee,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const c=document.getElementById("responseModal");c?this.responseModal=new $c(c):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(c=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},c=>{console.error("Error sending email",c),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(c){const y=c.split(".");return y.length>2?y.slice(-2).join("."):c}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ue.up),i.rXU(Fi.A),i.rXU(Ci.N),i.rXU(fr.nX),i.rXU(Be),i.rXU(uu),i.rXU(Wi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,T){1&y&&i.DNE(0,yh,18,6,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,_i.qT,_i.me,_i.BC,_i.cb,_i.YS,_i.vS,_i.cV,Yy,Fn,zp.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return p})();var rm=V(467),im=V(214),du=V(7304);let tv=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(y,T){1&y&&(i.nrm(0,"app-section-tilte",0),i.j41(1,"div",1),i.nrm(2,"iframe",2),i.k0s()),2&y&&i.Y8G("title","Virtual Tour")},dependencies:[nr.L],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return p})();function co(p,l){if(1&p&&(i.j41(0,"section",17),i.nrm(1,"div",18),i.j41(2,"div"),i.nrm(3,"p",19),i.k0s()()),2&p){const c=l.ngIf;i.R7$(1),i.Y8G("innerHTML",c.sectionTitle,i.npT),i.R7$(2),i.Y8G("innerHTML",c.sectionContent,i.npT)}}function Ls(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(c).$implicit,K=i.XpG(3);return i.Njj(K.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function Ka(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",5)(2,"div",6)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",7)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.j41(8,"div",8),i.DNE(9,co,4,2,"section",9),i.nI1(10,"sectionFilter"),i.j41(11,"section",10)(12,"div",11),i.EFF(13,"Explore Our Gallery"),i.k0s(),i.j41(14,"div",12),i.DNE(15,Ls,2,1,"div",13),i.k0s()(),i.j41(16,"div",14)(17,"div",15)(18,"h2"),i.EFF(19,"Come Meet Our Family"),i.k0s(),i.j41(20,"p"),i.EFF(21,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),i.k0s(),i.j41(22,"button",16),i.bIt("click",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.navigateToContact(T.business.id))}),i.EFF(23,"Schedule a Visit"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(9),i.Y8G("ngIf",i.i5U(10,2,null==c.business?null:c.business.sections,"GalleryCenterText")),i.R7$(6),i.Y8G("ngForOf",c.images)}}function T_(p,l){if(1&p&&i.nrm(0,"app-center-text",27),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")("showBtn",!1)}}function I_(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(c).$implicit,K=i.XpG(3);return i.Njj(K.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function hu(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(c).$implicit,K=i.XpG(3);return i.Njj(K.onImageClick(L.url))}),i.nrm(1,"img",28),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function nv(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,T_,1,5,"app-center-text",22),i.nI1(3,"sectionFilter"),i.j41(4,"section",23)(5,"div",11),i.nrm(6,"app-section-tilte",24),i.k0s(),i.j41(7,"div",25),i.DNE(8,I_,2,1,"div",13),i.k0s()(),i.j41(9,"section",23)(10,"div",11),i.nrm(11,"app-section-tilte",24),i.k0s(),i.j41(12,"div",25),i.DNE(13,hu,2,1,"div",13),i.k0s()(),i.nrm(14,"app-testimonial-image",26),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,8,null==c.business?null:c.business.sections,"GalleryCenterText")),i.R7$(4),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[5].quote)}}function Sf(p,l){if(1&p&&i.nrm(0,"app-center-text",27),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")("showBtn",!1)}}function xf(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(c).$implicit,K=i.XpG(3);return i.Njj(K.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function sm(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(c).$implicit,K=i.XpG(3);return i.Njj(K.onImageClick(L.url))}),i.nrm(1,"img",28),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function om(p,l){1&p&&i.nrm(0,"app-tour-3-d")}function Kp(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,Sf,1,5,"app-center-text",22),i.nI1(3,"sectionFilter"),i.j41(4,"section",23)(5,"div",11),i.nrm(6,"app-section-tilte",24),i.k0s(),i.j41(7,"div",25),i.DNE(8,xf,2,1,"div",13),i.k0s()(),i.j41(9,"section",23)(10,"div",11),i.nrm(11,"app-section-tilte",24),i.k0s(),i.j41(12,"div",25),i.DNE(13,sm,2,1,"div",13),i.k0s()(),i.DNE(14,om,1,0,"app-tour-3-d",0),i.nrm(15,"app-testimonial-image",26),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,9,null==c.business?null:c.business.sections,"GalleryCenterText")),i.R7$(4),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("ngIf","clemo"===(null==c.business||null==c.business.theme?null:c.business.theme.themeType)),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote)}}function vi(p,l){if(1&p&&i.nrm(0,"app-center-text",27),2&p){const c=l.ngIf,y=i.XpG(3);i.Y8G("themeType",y.business.theme.themeType||"")("imageURL",c.sectionImageUrl||"")("title",c.sectionTitle||"")("content",c.sectionContent||"")("showBtn",!1)}}function Pf(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",20),i.bIt("click",function(){const L=i.eBV(c).$implicit,K=i.XpG(3);return i.Njj(K.onImageClick(L.url))}),i.nrm(1,"img",21),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function am(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.DNE(2,vi,1,5,"app-center-text",22),i.nI1(3,"sectionFilter"),i.j41(4,"section",10)(5,"div",11)(6,"h2"),i.EFF(7,"Explore Our Gallery"),i.k0s()(),i.j41(8,"div",12),i.DNE(9,Pf,2,1,"div",13),i.k0s()(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("ngIf",i.i5U(3,2,null==c.business?null:c.business.sections,"GalleryCenterText")),i.R7$(7),i.Y8G("ngForOf",c.images)}}function Ts(p,l){if(1&p){const c=i.RV6();i.j41(0,"app-image-viewer-modal",29),i.bIt("closeModal",function(){i.eBV(c);const T=i.XpG(2);return i.Njj(T.onCloseModal())}),i.k0s()}if(2&p){const c=i.XpG(2);i.Y8G("imageUrl",c.selectedImageUrl)}}function w_(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Ka,24,5,"ng-container",2),i.DNE(3,nv,15,11,"ng-container",2),i.DNE(4,Kp,16,12,"ng-container",2),i.DNE(5,am,10,5,"ng-container",3),i.DNE(6,Ts,1,1,"app-image-viewer-modal",4),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",c.selectedImageUrl)}}let A_=(()=>{class p{constructor(c,y,T,L,K){this.businessDataService=c,this.route=y,this.webContent=T,this.metaService=L,this.router=K,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.layoutType=c?.theme.themeType||"",c?.id&&(this.businessId=c.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var c=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:L})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,ae.n)(K=>{const le=K.map(function(){var Ee=(0,rm.A)(function*(qe){return(yield c.webContent.checkImageExists(qe.url))?qe:null});return function(qe){return Ee.apply(this,arguments)}}());return(0,me.H)(Promise.all(le))}),(0,Ne.T)(K=>K.filter(le=>null!==le))).subscribe(K=>{this[L]=K})})}onImageClick(c){this.selectedImageUrl=c}onCloseModal(){this.selectedImageUrl=null}navigateToContact(c){this.router.navigate(["/contact-us"],{queryParams:{id:c}})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Fi.A),i.rXU(fr.nX),i.rXU(Ci.N),i.rXU(Wi.R),i.rXU(fr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],["class","home-description",4,"ngIf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"home-description"],[1,"section-heading",3,"innerHTML"],[3,"innerHTML"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],[3,"themeType","imageURL","title","content","showBtn"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,T){1&y&&i.DNE(0,w_,7,5,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.Sq,_e.bT,_e.ux,_e.e1,_e.fG,im.W,du.W,Fn,xn,nr.L,tv,Ki.W],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var ad=V(4796);function cm(p,l){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.errorMessage)}}let lm=(()=>{class p{constructor(c,y){this.authService=c,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(c=>{this.errorMessage=c.message})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ad.u),i.rXU(fr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return T.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(K){return T.email=K}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(K){return T.password=K}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,cm,2,1,"div",10),i.k0s()()()),2&y&&(i.R7$(8),i.Y8G("ngModel",T.email),i.R7$(4),i.Y8G("ngModel",T.password),i.R7$(3),i.Y8G("ngIf",T.errorMessage))},dependencies:[_e.bT,_i.qT,_i.me,_i.BC,_i.cb,_i.YS,_i.vS,_i.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var D_=V(6340);let um=(()=>{class p{constructor(c){this.afs=c,this.basePath="businesses"}saveIntakeForm(c,y){const T=this.afs.createId(),L=this.afs.collection(`${this.basePath}/${y}/intake`).doc(T);return new Se.c(K=>{L.set(c).then(()=>{K.next(c),K.complete()}).catch(le=>{console.error("Error saving intake form data",le),K.error(le)})})}getIntakeForms(c){return this.afs.collection(`${this.basePath}/${c}/intake`).snapshotChanges().pipe((0,Ne.T)(y=>y.map(T=>{const L=T.payload.doc.data();return{id:T.payload.doc.id,...L}})))}getIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).valueChanges().pipe((0,Ne.T)(T=>T||void 0))}updateIntakeForm(c,y,T){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).update(T)}deleteIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(D_.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function rv(p,l){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const c=l.$implicit;i.R7$(3),i.SpI('"',c.quote,'"'),i.R7$(3),i.JRh(c.name)}}function iv(p,l){if(1&p&&(i.j41(0,"div",2),i.DNE(1,rv,7,2,"div",3),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngForOf",c.testimonials)}}const a0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Vs.B},{path:"about-us",component:Si},{path:"services",component:ls},{path:"contact-us",component:ci},{path:"gallery",component:A_},{path:"login",component:lm},{path:"resident-form",component:(()=>{class p{constructor(c,y,T,L,K){this.fb=c,this.intakeService=y,this.businessDataService=T,this.emailService=L,this.metaService=K,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",_i.k0.required],email:["",[_i.k0.required,_i.k0.email]],phoneNumber:["",_i.k0.required],referralSource:["",_i.k0.required],relationToResident:[""],residentName:["",_i.k0.required],age:["",_i.k0.required],gender:["",_i.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const c=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(c,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const y={name:c.name,email:c.email,message:this.generateEmailMessage(c),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(c){return`\n      Name: ${c.name}\n      Email: ${c.email}\n      Phone Number: ${c.phoneNumber}\n      Referral Source: ${c.referralSource}\n      Relation to Resident: ${c.relationToResident}\n      Resident Name: ${c.residentName}\n      Age: ${c.age}\n      Gender: ${c.gender}\n      Medical History: ${c.medicalHistory}\n      Height: ${c.height}\n      Weight: ${c.weight}\n      Reason for Moving: ${c.reasonForMoving}\n      RN Assessment: ${c.rnAssessment}\n      Eating: ${c.eating}\n      Personal Hygiene: ${c.personalHygiene}\n      Bathing: ${c.bathing}\n      Toileting: ${c.toileting}\n      Mobility: ${c.mobility}\n      Transfers: ${c.transfers}\n      Medication Assistance: ${c.medicationAssistance}\n      Memory Issues: ${c.memoryIssues}\n      Behavior: ${c.behavior}\n      Skin Condition: ${c.skinCondition}\n      Additional Info: ${c.additionalInfo}\n      Current Living Situation: ${c.currentLivingSituation}\n      Target Move-In Date: ${c.targetMoveInDate}\n      Disclosure Summary: ${c.disclosureSummary}\n      Questions: ${c.questions}\n    `}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(_i.ok),i.rXU(um),i.rXU(Fi.A),i.rXU(uu),i.rXU(Wi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,T){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"form",0),i.bIt("ngSubmit",function(){return T.onSubmit()}),i.j41(2,"div",1)(3,"h2"),i.EFF(4,"Personal Information"),i.k0s(),i.j41(5,"label",2),i.EFF(6,"Name *"),i.k0s(),i.nrm(7,"input",3),i.j41(8,"label",4),i.EFF(9,"Email *"),i.k0s(),i.nrm(10,"input",5),i.j41(11,"label",6),i.EFF(12,"Phone number *"),i.k0s(),i.nrm(13,"input",7),i.k0s(),i.j41(14,"div",1)(15,"h2"),i.EFF(16,"Referral Source"),i.k0s(),i.j41(17,"label",8),i.EFF(18,"How did you find out about us? *"),i.k0s(),i.j41(19,"select",9)(20,"option",10),i.EFF(21,"Google"),i.k0s(),i.j41(22,"option",11),i.EFF(23,"Facebook"),i.k0s(),i.j41(24,"option",12),i.EFF(25,"Placement Agency"),i.k0s(),i.j41(26,"option",13),i.EFF(27,"Friends and/or Family"),i.k0s(),i.j41(28,"option",14),i.EFF(29,"Other"),i.k0s()(),i.j41(30,"label",15),i.EFF(31,"What is your relation to the resident? *"),i.k0s(),i.nrm(32,"input",16),i.k0s(),i.j41(33,"div",1)(34,"h2"),i.EFF(35,"Resident Information"),i.k0s(),i.j41(36,"label",17),i.EFF(37,"Resident's name *"),i.k0s(),i.nrm(38,"input",18),i.j41(39,"label",19),i.EFF(40,"Age *"),i.k0s(),i.nrm(41,"input",20),i.j41(42,"label",21),i.EFF(43,"Gender *"),i.k0s(),i.j41(44,"select",22)(45,"option",23),i.EFF(46,"Male"),i.k0s(),i.j41(47,"option",24),i.EFF(48,"Female"),i.k0s(),i.j41(49,"option",25),i.EFF(50,"Prefer not to say"),i.k0s(),i.j41(51,"option",14),i.EFF(52,"Other"),i.k0s()()(),i.j41(53,"div",1)(54,"h2"),i.EFF(55,"Medical History"),i.k0s(),i.j41(56,"label",26),i.EFF(57,"Relevant medical and surgical history *"),i.k0s(),i.nrm(58,"textarea",27),i.j41(59,"label",28),i.EFF(60,"Height *"),i.k0s(),i.nrm(61,"input",29),i.j41(62,"label",30),i.EFF(63,"Weight *"),i.k0s(),i.nrm(64,"input",31),i.j41(65,"label",32),i.EFF(66,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(67,"textarea",33),i.j41(68,"label",34),i.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(70,"select",35)(71,"option",36),i.EFF(72,"Yes"),i.k0s(),i.j41(73,"option",37),i.EFF(74,"No"),i.k0s()()(),i.j41(75,"div",1)(76,"h2"),i.EFF(77,"Care Levels"),i.k0s(),i.j41(78,"label",38),i.EFF(79,"Eating *"),i.k0s(),i.j41(80,"select",39)(81,"option",40),i.EFF(82,"Independent"),i.k0s(),i.j41(83,"option",41),i.EFF(84,"Needing Assistance"),i.k0s(),i.j41(85,"option",42),i.EFF(86,"Dependent"),i.k0s()(),i.j41(87,"label",43),i.EFF(88,"Personal Hygiene *"),i.k0s(),i.j41(89,"select",44)(90,"option",40),i.EFF(91,"Independent"),i.k0s(),i.j41(92,"option",41),i.EFF(93,"Needing Assistance"),i.k0s(),i.j41(94,"option",42),i.EFF(95,"Dependent"),i.k0s()(),i.j41(96,"label",45),i.EFF(97,"Bathing *"),i.k0s(),i.j41(98,"select",46)(99,"option",40),i.EFF(100,"Independent"),i.k0s(),i.j41(101,"option",41),i.EFF(102,"Needing Assistance"),i.k0s(),i.j41(103,"option",42),i.EFF(104,"Dependent"),i.k0s()(),i.j41(105,"label",47),i.EFF(106,"Toileting *"),i.k0s(),i.j41(107,"select",48)(108,"option",40),i.EFF(109,"Independent"),i.k0s(),i.j41(110,"option",41),i.EFF(111,"Needing Assistance"),i.k0s(),i.j41(112,"option",42),i.EFF(113,"Dependent"),i.k0s()(),i.j41(114,"label",49),i.EFF(115,"Mobility *"),i.k0s(),i.j41(116,"select",50)(117,"option",40),i.EFF(118,"Independent"),i.k0s(),i.j41(119,"option",41),i.EFF(120,"Needing Assistance"),i.k0s(),i.j41(121,"option",42),i.EFF(122,"Dependent"),i.k0s()(),i.j41(123,"label",51),i.EFF(124,"Transfers *"),i.k0s(),i.j41(125,"select",52)(126,"option",40),i.EFF(127,"Independent"),i.k0s(),i.j41(128,"option",41),i.EFF(129,"Needing Assistance"),i.k0s(),i.j41(130,"option",42),i.EFF(131,"Dependent"),i.k0s()(),i.j41(132,"label",53),i.EFF(133,"Medication Assistance *"),i.k0s(),i.j41(134,"select",54)(135,"option",36),i.EFF(136,"Yes"),i.k0s(),i.j41(137,"option",37),i.EFF(138,"No"),i.k0s()()(),i.j41(139,"div",1)(140,"h2"),i.EFF(141,"Other Medical Information"),i.k0s(),i.j41(142,"label",55),i.EFF(143,"Memory Issues *"),i.k0s(),i.j41(144,"select",56)(145,"option",36),i.EFF(146,"Yes"),i.k0s(),i.j41(147,"option",37),i.EFF(148,"No"),i.k0s()(),i.j41(149,"label",57),i.EFF(150,"Behavior"),i.k0s(),i.nrm(151,"textarea",58),i.j41(152,"label",59),i.EFF(153,"Skin Condition"),i.k0s(),i.nrm(154,"textarea",60),i.j41(155,"label",61),i.EFF(156,"Other information you want us to know"),i.k0s(),i.nrm(157,"textarea",62),i.k0s(),i.j41(158,"div",1)(159,"h2"),i.EFF(160,"Living Situation"),i.k0s(),i.j41(161,"label",63),i.EFF(162,"Current living situation *"),i.k0s(),i.j41(163,"select",64)(164,"option",65),i.EFF(165,"Own Home"),i.k0s(),i.j41(166,"option",66),i.EFF(167,"Relative's Home"),i.k0s(),i.j41(168,"option",67),i.EFF(169,"Hospital"),i.k0s(),i.j41(170,"option",68),i.EFF(171,"Adult Family Home"),i.k0s(),i.j41(172,"option",69),i.EFF(173,"Senior Living"),i.k0s(),i.j41(174,"option",14),i.EFF(175,"Other"),i.k0s()()(),i.j41(176,"div",1)(177,"label",70),i.EFF(178,"Target move in date *"),i.k0s(),i.nrm(179,"input",71),i.k0s(),i.j41(180,"div",1)(181,"label",72),i.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(183,"select",73)(184,"option",36),i.EFF(185,"Yes"),i.k0s(),i.j41(186,"option",37),i.EFF(187,"No"),i.k0s()()(),i.j41(188,"div",1)(189,"label",74),i.EFF(190,"Do you have any questions for us?"),i.k0s(),i.nrm(191,"textarea",75),i.k0s(),i.j41(192,"button",76),i.EFF(193,"Submit"),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("formGroup",T.intakeForm),i.R7$(191),i.Y8G("disabled",T.intakeForm.invalid))},dependencies:[_i.qT,_i.xH,_i.y7,_i.me,_i.Q0,_i.wz,_i.BC,_i.cb,_i.j4,_i.JD,Fn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(c,y){this.businessDataService=c,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{console.log("Testimonial List - :",c),c&&(this.testimonials=c.testimonials||[],this.themeType=c.theme.themeType,this.metaService.loadAndApplyMeta(c?.id))})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Fi.A),i.rXU(Wi.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,T){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,iv,2,1,"div",1),i.k0s()),2&y&&(i.R7$(2),i.Y8G("ngIf",T.testimonials.length>0))},dependencies:[_e.Sq,_e.bT,Fn],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"login",component:lm},{path:"admin",loadChildren:()=>V.e(655).then(V.bind(V,9655)).then(p=>p.AdminModule)},{path:":id",component:Vs.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Mf=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[fr.iI.forRoot(a0),fr.iI]})}}return p})();var hm=V(5009);function fu(p,l){if(1&p&&i.nrm(0,"img",11),2&p){const c=i.XpG();i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function cd(p,l){if(1&p){const c=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(2,"Our Home"),i.k0s()()}}function FE(p,l){if(1&p){const c=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(2,"Our Work"),i.k0s()()}}function zc(p,l){if(1&p){const c=i.RV6();i.j41(0,"li",8)(1,"span",9),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(2,"Resident Form"),i.k0s()()}}const qp=function(p){return{"clemo-shrink":p}},vh=function(){return["/home"]},fm=function(p){return{id:p}},Eh=function(p){return{"clemo-show":p}};let Yp=(()=>{class p{constructor(c,y,T){this.route=c,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(fr.nX),i.rXU(fr.Ix),i.rXU(Fi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(y,T){1&y&&i.bIt("scroll",function(){return T.onWindowScroll()},!1,i.tSv)},decls:23,vars:15,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-item",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,T){1&y&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,fu,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return T.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return T.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.j41(11,"li",8)(12,"span",9),i.bIt("click",function(){return T.navigateTo("about-us")}),i.EFF(13,"About Us"),i.k0s()(),i.j41(14,"li",8)(15,"span",9),i.bIt("click",function(){return T.navigateTo("services")}),i.EFF(16,"Services"),i.k0s()(),i.DNE(17,cd,3,0,"li",10),i.DNE(18,FE,3,0,"li",10),i.DNE(19,zc,3,0,"li",10),i.j41(20,"li",8)(21,"span",9),i.bIt("click",function(){return T.navigateTo("contact-us")}),i.EFF(22,"Contact"),i.k0s()()()()()()),2&y&&(i.Y8G("ngClass",i.eq3(8,qp,T.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(10,vh))("queryParams",i.eq3(11,fm,T.businessId)),i.R7$(1),i.Y8G("ngIf",null==T.business?null:T.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(13,Eh,T.menuOpen)),i.R7$(11),i.Y8G("ngIf","sb"!=T.layoutType),i.R7$(1),i.Y8G("ngIf","sb"==T.layoutType),i.R7$(1),i.Y8G("ngIf","sb"!=T.layoutType))},dependencies:[_e.YU,_e.bT,fr.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease;cursor:pointer}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:var(--dark-background-color)}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return p})();function Xp(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const Wc=function(){return["/home"]},pu=function(p){return{id:p}},Ea=function(p){return{"open-bar1":p}},gu=function(p){return{"open-bar2":p}},xl=function(p){return{"open-bar3":p}},ld=function(p){return{active:p}};function x_(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,Xp,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,Wc))("queryParams",i.eq3(8,pu,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,Ea,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,gu,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,xl,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,ld,c.menuOpen))}}function Rf(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const mu=function(){return["/contact-us"]};function pm(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Rf,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Wc))("queryParams",i.eq3(10,pu,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Ea,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,gu,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,xl,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,ld,c.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,mu))("queryParams",i.eq3(21,pu,c.businessId))}}function Qp(p,l){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function gm(p,l){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function P_(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function Pl(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,P_,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,Wc))("queryParams",i.eq3(10,pu,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Ea,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,gu,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,xl,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,ld,c.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,mu))("queryParams",i.eq3(21,pu,c.businessId))}}let mm=(()=>{class p{constructor(c,y,T){this.route=c,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(fr.nX),i.rXU(fr.Ix),i.rXU(Fi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,T){1&y&&(i.j41(0,"div",0),i.DNE(1,x_,21,18,"ng-container",1),i.DNE(2,pm,29,23,"ng-container",1),i.DNE(3,Qp,2,0,"ng-container",1),i.DNE(4,gm,2,0,"ng-container",1),i.DNE(5,Pl,27,23,"ng-container",1),i.k0s()),2&y&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","sb"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[_e.YU,_e.bT,_e.ux,_e.e1,fr.Wk,Yp],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function M_(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function _m(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(6),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.JRh(null==c.business?null:c.business.providerName),i.R7$(5),i.JRh(null==c.business?null:c.business.address),i.R7$(5),i.JRh(null==c.business?null:c.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.email),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==c.business?null:c.business.businessName,". All rights reserved.")}}function Jp(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"footer",21)(2,"div",22)(3,"div",23),i.nrm(4,"img",24),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",25),i.EFF(8),i.k0s(),i.j41(9,"p",26),i.EFF(10),i.k0s()(),i.j41(11,"div",27)(12,"a",28),i.nrm(13,"i",29),i.k0s(),i.j41(14,"a",28),i.nrm(15,"i",30),i.k0s()(),i.j41(16,"nav",31)(17,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",32),i.bIt("click",function(){i.eBV(c);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",33)(30,"p"),i.EFF(31,"\xa9 Copyright. All rights reserved."),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.FS9("src",null==c.business?null:c.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==c.business?null:c.business.businessName),i.R7$(2),i.JRh(null==c.business?null:c.business.phone),i.R7$(2),i.JRh(null==c.business?null:c.business.address)}}function sv(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function ud(p,l){if(1&p&&(i.j41(0,"div",34)(1,"h1",35),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",36)(4,"div",37)(5,"span",38),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",39),i.EFF(8),i.k0s()(),i.j41(9,"div",37)(10,"span",38),i.EFF(11,"Business ID:"),i.k0s(),i.j41(12,"span",39),i.EFF(13),i.k0s()(),i.j41(14,"div",37)(15,"span",38),i.EFF(16,"Business Name:"),i.k0s(),i.j41(17,"span",39),i.EFF(18),i.k0s()()()()),2&p){const c=i.XpG();i.R7$(8),i.JRh(c.themeFileName),i.R7$(5),i.JRh(null==c.business?null:c.business.id),i.R7$(5),i.JRh(null==c.business?null:c.business.businessName)}}let bh=(()=>{class p{constructor(c,y,T,L,K,le){this.route=c,this.webContentService=y,this.authService=T,this.themeService=L,this.businessDataService=K,this.router=le,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(c){this.router.navigate([`/${c}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(T=>{T||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(c=>{this.business=c}),this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(fr.nX),i.rXU(Ci.N),i.rXU(ad.u),i.rXU(hm.F),i.rXU(Fi.A),i.rXU(fr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,T){1&y&&(i.j41(0,"div",0),i.DNE(1,M_,34,12,"ng-container",1),i.DNE(2,_m,35,10,"ng-container",1),i.DNE(3,Jp,32,4,"ng-container",1),i.DNE(4,sv,34,12,"ng-container",2),i.k0s(),i.DNE(5,ud,19,3,"div",3),i.nI1(6,"async")),2&y&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",i.bMT(6,5,T.isAuthenticated$)))},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,_e.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:var(--site-max-width);margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.clemo-footer[_ngcontent-%COMP%]{background-color:var(--background-color);text-align:center;padding:40px 20px;font-family:Arial,sans-serif;color:var(--text-color)}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.clemo-footer-logo-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-color);margin-bottom:10px}.clemo-footer-phone[_ngcontent-%COMP%], .clemo-footer-address[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}.clemo-footer-social[_ngcontent-%COMP%]{margin:15px 0}.clemo-social-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:18px;color:var(--text-color);text-decoration:none}.clemo-social-icon[_ngcontent-%COMP%]:hover{color:var(--text-color)}.clemo-footer-nav[_ngcontent-%COMP%]{margin:20px 0}.clemo-footer-link[_ngcontent-%COMP%]{font-size:14px;color:#333;text-decoration:none;margin:0 15px;font-weight:700;cursor:pointer}.clemo-footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.clemo-footer-bottom[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:20px}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}.footer[_ngcontent-%COMP%], .ae-footer[_ngcontent-%COMP%], .clemo-footer[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;max-width:100%;box-sizing:border-box;padding:0 10px}.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:flex-start;width:100%;max-width:var(--site-max-width, 1200px);margin:0 auto;box-sizing:border-box;padding:0 20px}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px;text-align:left}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%], .ae-footer-columns[_ngcontent-%COMP%], .clemo-footer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.footer-column[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]{width:100%}}"]})}}return p})(),R_=(()=>{class p{constructor(c,y,T,L,K){this.route=c,this.webContent=y,this.metaService=T,this.router=L,this.themeService=K,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(c=>{c&&(this.business=c)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(fr.nX),i.rXU(Ci.N),i.rXU(Wi.R),i.rXU(fr.Ix),i.rXU(hm.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(y,T){1&y&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[fr.n3,mm,bh]})}}return p})();const dd_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Kc=V(2214),Is=V(5407);class hd{constructor(l){return l}}class Ch{constructor(){return(0,Kc.Dk)()}}const Th=new i.nKC("angularfire2._apps"),ov={provide:hd,useFactory:function O_(p){return p&&1===p.length?p[0]:new hd((0,Kc.Sx)())},deps:[[new i.Xx1,Th]]},Ml={provide:Ch,deps:[[new i.Xx1,Th]]};function c0(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new hd(y)}}let Of=(()=>{class p{constructor(c){(0,Kc.KO)("angularfire",Is.xv.full,"core"),(0,Kc.KO)("angularfire",Is.xv.full,"app"),(0,Kc.KO)("angular",i.xvI.full,c.toString())}static \u0275fac=function(y){return new(y||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[ov,Ml]})}return p})();function fd(p,...l){return{ngModule:Of,providers:[{provide:Th,useFactory:c0(p),multi:!0,deps:[i.SKi,i.zZn,Is.u0,...l]}]}}const av=(0,Is.S3)(Kc.Wp,!0);V(5504),V(7852),V(1076),V(8041),V(1362);class tg{constructor(){return(0,Is.CA)("auth")}}var wv=V(9583);class Mr{constructor(l){return l}}const $_="firestore",d=new i.nKC("angularfire2.firestore-instances");function r(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new Mr(y)}}const a={provide:class og{constructor(){return(0,Is.CA)($_)}},deps:[[new i.Xx1,d]]},h={provide:Mr,useFactory:function e(p,l){const c=(0,Is.lR)($_,p,l);return c&&new Mr(c)},deps:[[new i.Xx1,d],hd]};let _=(()=>{class p{constructor(){(0,Kc.KO)("angularfire",Is.xv.full,"fst")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[h,a]})}return p})();function b(p,...l){return{ngModule:_,providers:[{provide:d,useFactory:r(p),multi:!0,deps:[i.SKi,i.zZn,Is.u0,Ch,[new i.Xx1,tg],[new i.Xx1,Is.Jv],...l]}]}}const G_=(0,Is.S3)(wv.aU,!0);var ey=V(9253),sa=V(8721),ty=V(1977),$f=V(4535);class _d{constructor(l){return l}}const xm="storage",Sh=new i.nKC("angularfire2.storage-instances");function mg(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new _d(y)}}const ny={provide:class Pm{constructor(){return(0,Is.CA)(xm)}},deps:[[new i.Xx1,Sh]]},Mm={provide:_d,useFactory:function Rv(p,l){const c=(0,Is.lR)(xm,p,l);return c&&new _d(c)},deps:[[new i.Xx1,Sh],hd]};let _g=(()=>{class p{constructor(){(0,Kc.KO)("angularfire",Is.xv.full,"gcs")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[Mm,ny]})}return p})();function bu(p,...l){return{ngModule:_g,providers:[{provide:Sh,useFactory:mg(p),multi:!0,deps:[i.SKi,i.zZn,Is.u0,Ch,[new i.Xx1,tg],[new i.Xx1,Is.Jv],...l]}]}}const Gf=(0,Is.S3)($f.c7,!0);var xh=V(3012);let ba=(()=>{class p{constructor(c,y,T){this.http=c,this.themeService=y,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(c){return new Promise((y,T)=>{this.themeService.getBusinessTheme(c).subscribe({next:L=>{this.themeService.applyThemeFile(L?L.themeFileName:"default.css").then(()=>y()).catch(le=>{console.error("Error applying theme file:",le),y()}),this.themeService.getThemeColors(c).subscribe(le=>{this.applyTheme(le),y()},le=>{console.error("Error loading theme:",le),y()})},error:L=>{console.error("Error loading business theme:",L),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(K=>{console.error("Error applying default theme file:",K),y()})}})})}applyTheme(c){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",c.primaryColor),document.documentElement.style.setProperty("--secondary-color",c.secondaryColor),document.documentElement.style.setProperty("--accent-color",c.accentColor),document.documentElement.style.setProperty("--background-color",c.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",c.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",c.textColor),document.documentElement.style.setProperty("--nav-background-color",c.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",c.navTextColor),document.documentElement.style.setProperty("--nav-active-background",c.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",c.navActiveText),document.documentElement.style.setProperty("--button-color",c.buttonColor),document.documentElement.style.setProperty("--button-hover-color",c.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(c){return c.primaryColor&&c.secondaryColor&&c.accentColor&&c.backgroundColor&&c.darkBackgroundColor&&c.textColor&&c.navBackgroundColor&&c.navTextColor&&c.navActiveBackground&&c.navActiveText&&c.buttonColor&&c.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Be),i.KVO(hm.F),i.KVO(xh.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var zi=V(9969);function vd(p){return new i.wOt(3e3,!1)}function Na(p){switch(p.length){case 0:return new zi.sf;case 1:return p[0];default:return new zi.ui(p)}}function bg(p,l,c=new Map,y=new Map){const T=[],L=[];let K=-1,le=null;if(l.forEach(Ee=>{const qe=Ee.get("offset"),ft=qe==K,Lt=ft&&le||new Map;Ee.forEach((yn,mn)=>{let En=mn,Qt=yn;if("offset"!==mn)switch(En=p.normalizePropertyName(En,T),Qt){case zi.FX:Qt=c.get(mn);break;case zi.kp:Qt=y.get(mn);break;default:Qt=p.normalizeStyleValue(mn,En,Qt,T)}Lt.set(En,Qt)}),ft||L.push(Lt),le=Lt,K=qe}),T.length)throw function hy(p){return new i.wOt(3502,!1)}();return L}function ws(p,l,c,y){switch(l){case"start":p.onStart(()=>y(c&&Lm(c,"start",p)));break;case"done":p.onDone(()=>y(c&&Lm(c,"done",p)));break;case"destroy":p.onDestroy(()=>y(c&&Lm(c,"destroy",p)))}}function Lm(p,l,c){const L=Vm(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,c.totalTime??p.totalTime,!!c.disabled),K=p._data;return null!=K&&(L._data=K),L}function Vm(p,l,c,y,T="",L=0,K){return{element:p,triggerName:l,fromState:c,toState:y,phaseName:T,totalTime:L,disabled:!!K}}function jo(p,l,c){let y=p.get(l);return y||p.set(l,y=c),y}function Fh(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}const Jf=(()=>typeof document>"u"?null:document.documentElement)();function Zf(p){const l=p.parentNode||p.host||null;return l===Jf?null:l}let oa=null,ep=!1;function Cg(p,l){for(;l;){if(l===p)return!0;l=Zf(l)}return!1}function Lh(p,l,c){if(c)return Array.from(p.querySelectorAll(l));const y=p.querySelector(l);return y?[y]:[]}let Vh=(()=>{class p{validateStyleProperty(c){return function jv(p){oa||(oa=function py(){return typeof document<"u"?document.body:null}()||{},ep=!!oa.style&&"WebkitAppearance"in oa.style);let l=!0;return oa.style&&!function fy(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in oa.style,!l&&ep&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in oa.style)),l}(c)}matchesElement(c,y){return!1}containsElement(c,y){return Cg(c,y)}getParentElement(c){return Zf(c)}query(c,y,T){return Lh(c,y,T)}computeStyle(c,y,T){return T||""}animate(c,y,T,L,K,le=[],Ee){return new zi.sf(T,L)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),Um=(()=>{class p{static{this.NOOP=new Vh}}return p})();const my=1e3,jh="ng-enter",wu="ng-leave",Bh="ng-trigger",Au=".ng-trigger",Du="ng-animating",$h=".ng-animating";function mc(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Vl(parseFloat(l[1]),l[2])}function Vl(p,l){return"s"===l?p*my:p}function np(p,l,c){return p.hasOwnProperty("duration")?p:function _y(p,l,c){let T,L=0,K="";if("string"==typeof p){const le=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===le)return l.push(vd()),{duration:0,delay:0,easing:""};T=Vl(parseFloat(le[1]),le[2]);const Ee=le[3];null!=Ee&&(L=Vl(parseFloat(Ee),le[4]));const qe=le[5];qe&&(K=qe)}else T=p;if(!c){let le=!1,Ee=l.length;T<0&&(l.push(function Mh(){return new i.wOt(3100,!1)}()),le=!0),L<0&&(l.push(function Ed(){return new i.wOt(3101,!1)}()),le=!0),le&&l.splice(Ee,0,vd())}return{duration:T,delay:L,easing:K}}(p,l,c)}function Ul(p,l={}){return Object.keys(p).forEach(c=>{l[c]=p[c]}),l}function Hh(p){const l=new Map;return Object.keys(p).forEach(c=>{l.set(c,p[c])}),l}function jl(p,l=new Map,c){if(c)for(let[y,T]of c)l.set(y,T);for(let[y,T]of p)l.set(y,T);return l}function _c(p,l,c){l.forEach((y,T)=>{const L=Bi(T);c&&!c.has(T)&&c.set(T,p.style[L]),p.style[L]=y})}function ka(p,l){l.forEach((c,y)=>{const T=Bi(y);p.style[T]=""})}function E(p){return Array.isArray(p)?1==p.length?p[0]:(0,zi.K2)(p):p}const Y=new RegExp("{{\\s*(.+?)\\s*}}","g");function ge(p){let l=[];if("string"==typeof p){let c;for(;c=Y.exec(p);)l.push(c[1]);Y.lastIndex=0}return l}function ut(p,l,c){const y=p.toString(),T=y.replace(Y,(L,K)=>{let le=l[K];return null==le&&(c.push(function Rh(p){return new i.wOt(3003,!1)}()),le=""),le.toString()});return T==y?p:T}function Dt(p){const l=[];let c=p.next();for(;!c.done;)l.push(c.value),c=p.next();return l}const Cn=/-+([a-z0-9])/g;function Bi(p){return p.replace(Cn,(...l)=>l[1].toUpperCase())}function Yi(p,l,c){switch(l.type){case 7:return p.visitTrigger(l,c);case 0:return p.visitState(l,c);case 1:return p.visitTransition(l,c);case 2:return p.visitSequence(l,c);case 3:return p.visitGroup(l,c);case 4:return p.visitAnimate(l,c);case 5:return p.visitKeyframes(l,c);case 6:return p.visitStyle(l,c);case 8:return p.visitReference(l,c);case 9:return p.visitAnimateChild(l,c);case 10:return p.visitAnimateRef(l,c);case 11:return p.visitQuery(l,c);case 12:return p.visitStagger(l,c);default:throw function qa(p){return new i.wOt(3004,!1)}()}}function Bl(p,l){return window.getComputedStyle(p)[l]}const $m="*";function V0(p,l){const c=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(y=>function U0(p,l,c){if(":"==p[0]){const Ee=function yy(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,y)=>parseFloat(y)>parseFloat(c);case":decrement":return(c,y)=>parseFloat(y)<parseFloat(c);default:return l.push(function Eg(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,c);if("function"==typeof Ee)return void l.push(Ee);p=Ee}const y=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return c.push(function L0(p){return new i.wOt(3015,!1)}()),l;const T=y[1],L=y[2],K=y[3];l.push(j0(T,K));"<"==L[0]&&!(T==$m&&K==$m)&&l.push(j0(K,T))}(y,c,l)):c.push(p),c}const $l=new Set(["true","1"]),vy=new Set(["false","0"]);function j0(p,l){const c=$l.has(p)||vy.has(p),y=$l.has(l)||vy.has(l);return(T,L)=>{let K=p==$m||p==T,le=l==$m||l==L;return!K&&c&&"boolean"==typeof T&&(K=T?$l.has(p):vy.has(p)),!le&&y&&"boolean"==typeof L&&(le=L?$l.has(l):vy.has(l)),K&&le}}const rp=new RegExp("s*:selfs*,?","g");function Hm(p,l,c,y){return new Bv(p).build(l,c,y)}class Bv{constructor(l){this._driver=l}build(l,c,y){const T=new KE(c);return this._resetContextStyleTimingState(T),Yi(this,E(l),T)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,c){let y=c.queryCount=0,T=c.depCount=0;const L=[],K=[];return"@"==l.name.charAt(0)&&c.errors.push(function Ll(){return new i.wOt(3006,!1)}()),l.definitions.forEach(le=>{if(this._resetContextStyleTimingState(c),0==le.type){const Ee=le,qe=Ee.name;qe.toString().split(/\s*,\s*/).forEach(ft=>{Ee.name=ft,L.push(this.visitState(Ee,c))}),Ee.name=qe}else if(1==le.type){const Ee=this.visitTransition(le,c);y+=Ee.queryCount,T+=Ee.depCount,K.push(Ee)}else c.errors.push(function Wf(){return new i.wOt(3007,!1)}())}),{type:7,name:l.name,states:L,transitions:K,queryCount:y,depCount:T,options:null}}visitState(l,c){const y=this.visitStyle(l.styles,c),T=l.options&&l.options.params||null;if(y.containsDynamicStyles){const L=new Set,K=T||{};y.styles.forEach(le=>{le instanceof Map&&le.forEach(Ee=>{ge(Ee).forEach(qe=>{K.hasOwnProperty(qe)||L.add(qe)})})}),L.size&&(Dt(L.values()),c.errors.push(function Om(p,l){return new i.wOt(3008,!1)}()))}return{type:0,name:l.name,style:y,options:T?{params:T}:null}}visitTransition(l,c){c.queryCount=0,c.depCount=0;const y=Yi(this,E(l.animation),c);return{type:1,matchers:V0(l.expr,c.errors),animation:y,queryCount:c.queryCount,depCount:c.depCount,options:ip(l.options)}}visitSequence(l,c){return{type:2,steps:l.steps.map(y=>Yi(this,y,c)),options:ip(l.options)}}visitGroup(l,c){const y=c.currentTime;let T=0;const L=l.steps.map(K=>{c.currentTime=y;const le=Yi(this,K,c);return T=Math.max(T,c.currentTime),le});return c.currentTime=T,{type:3,steps:L,options:ip(l.options)}}visitAnimate(l,c){const y=function $0(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return lo(np(p,l).duration,0,"");const c=p;if(c.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=lo(0,0,"");return L.dynamic=!0,L.strValue=c,L}const T=np(c,l);return lo(T.duration,T.delay,T.easing)}(l.timings,c.errors);c.currentAnimateTimings=y;let T,L=l.styles?l.styles:(0,zi.iF)({});if(5==L.type)T=this.visitKeyframes(L,c);else{let K=l.styles,le=!1;if(!K){le=!0;const qe={};y.easing&&(qe.easing=y.easing),K=(0,zi.iF)(qe)}c.currentTime+=y.duration+y.delay;const Ee=this.visitStyle(K,c);Ee.isEmptyStep=le,T=Ee}return c.currentAnimateTimings=null,{type:4,timings:y,style:T,options:null}}visitStyle(l,c){const y=this._makeStyleAst(l,c);return this._validateStyleAst(y,c),y}_makeStyleAst(l,c){const y=[],T=Array.isArray(l.styles)?l.styles:[l.styles];for(let le of T)"string"==typeof le?le===zi.kp?y.push(le):c.errors.push(new i.wOt(3002,!1)):y.push(Hh(le));let L=!1,K=null;return y.forEach(le=>{if(le instanceof Map&&(le.has("easing")&&(K=le.get("easing"),le.delete("easing")),!L))for(let Ee of le.values())if(Ee.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:y,easing:K,offset:l.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(l,c){const y=c.currentAnimateTimings;let T=c.currentTime,L=c.currentTime;y&&L>0&&(L-=y.duration+y.delay),l.styles.forEach(K=>{"string"!=typeof K&&K.forEach((le,Ee)=>{const qe=c.collectedStyles.get(c.currentQuerySelector),ft=qe.get(Ee);let Lt=!0;ft&&(L!=T&&L>=ft.startTime&&T<=ft.endTime&&(c.errors.push(function Oh(p,l,c,y,T){return new i.wOt(3010,!1)}()),Lt=!1),L=ft.startTime),Lt&&qe.set(Ee,{startTime:L,endTime:T}),c.options&&function j(p,l,c){const y=l.params||{},T=ge(p);T.length&&T.forEach(L=>{y.hasOwnProperty(L)||c.push(function bd(p){return new i.wOt(3001,!1)}())})}(le,c.options,c.errors)})})}visitKeyframes(l,c){const y={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function Nh(){return new i.wOt(3011,!1)}()),y;let L=0;const K=[];let le=!1,Ee=!1,qe=0;const ft=l.steps.map(yr=>{const jr=this._makeStyleAst(yr,c);let vr=null!=jr.offset?jr.offset:function qE(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(c=>{if(c instanceof Map&&c.has("offset")){const y=c;l=parseFloat(y.get("offset")),y.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const c=p;l=parseFloat(c.get("offset")),c.delete("offset")}return l}(jr.styles),qn=0;return null!=vr&&(L++,qn=jr.offset=vr),Ee=Ee||qn<0||qn>1,le=le||qn<qe,qe=qn,K.push(qn),jr});Ee&&c.errors.push(function ly(){return new i.wOt(3012,!1)}()),le&&c.errors.push(function Nm(){return new i.wOt(3200,!1)}());const Lt=l.steps.length;let yn=0;L>0&&L<Lt?c.errors.push(function uy(){return new i.wOt(3202,!1)}()):0==L&&(yn=1/(Lt-1));const mn=Lt-1,En=c.currentTime,Qt=c.currentAnimateTimings,wn=Qt.duration;return ft.forEach((yr,jr)=>{const vr=yn>0?jr==mn?1:yn*jr:K[jr],qn=vr*wn;c.currentTime=En+Qt.delay+qn,Qt.duration=qn,this._validateStyleAst(yr,c),yr.offset=vr,y.styles.push(yr)}),y}visitReference(l,c){return{type:8,animation:Yi(this,E(l.animation),c),options:ip(l.options)}}visitAnimateChild(l,c){return c.depCount++,{type:9,options:ip(l.options)}}visitAnimateRef(l,c){return{type:10,animation:this.visitReference(l.animation,c),options:ip(l.options)}}visitQuery(l,c){const y=c.currentQuerySelector,T=l.options||{};c.queryCount++,c.currentQuery=l;const[L,K]=function lC(p){const l=!!p.split(/\s*,\s*/).find(c=>":self"==c);return l&&(p=p.replace(rp,"")),p=p.replace(/@\*/g,Au).replace(/@\w+/g,c=>Au+"-"+c.slice(1)).replace(/:animating/g,$h),[p,l]}(l.selector);c.currentQuerySelector=y.length?y+" "+L:L,jo(c.collectedStyles,c.currentQuerySelector,new Map);const le=Yi(this,E(l.animation),c);return c.currentQuery=null,c.currentQuerySelector=y,{type:11,selector:L,limit:T.limit||0,optional:!!T.optional,includeSelf:K,animation:le,originalSelector:l.selector,options:ip(l.options)}}visitStagger(l,c){c.currentQuery||c.errors.push(function km(){return new i.wOt(3013,!1)}());const y="full"===l.timings?{duration:0,delay:0,easing:"full"}:np(l.timings,c.errors,!0);return{type:12,animation:Yi(this,E(l.animation),c),timings:y,options:null}}}class KE{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ip(p){return p?(p=Ul(p)).params&&(p.params=function uC(p){return p?Ul(p):null}(p.params)):p={},p}function lo(p,l,c){return{duration:p,delay:l,easing:c}}function by(p,l,c,y,T,L,K=null,le=!1){return{type:1,element:p,keyframes:l,preStyleProps:c,postStyleProps:y,duration:T,delay:L,totalTime:T+L,easing:K,subTimeline:le}}class Cy{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,c){let y=this._map.get(l);y||this._map.set(l,y=[]),y.push(...c)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const XE=new RegExp(":enter","g"),z0=new RegExp(":leave","g");function zh(p,l,c,y,T,L=new Map,K=new Map,le,Ee,qe=[]){return(new QE).buildKeyframes(p,l,c,y,T,L,K,le,Ee,qe)}class QE{buildKeyframes(l,c,y,T,L,K,le,Ee,qe,ft=[]){qe=qe||new Cy;const Lt=new Iy(l,c,qe,T,L,ft,[]);Lt.options=Ee;const yn=Ee.delay?mc(Ee.delay):0;Lt.currentTimeline.delayNextStep(yn),Lt.currentTimeline.setStyles([K],null,Lt.errors,Ee),Yi(this,y,Lt);const mn=Lt.timelines.filter(En=>En.containsAnimation());if(mn.length&&le.size){let En;for(let Qt=mn.length-1;Qt>=0;Qt--){const wn=mn[Qt];if(wn.element===c){En=wn;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([le],null,Lt.errors,Ee)}return mn.length?mn.map(En=>En.buildKeyframes()):[by(c,[],[],[],0,yn,"",!1)]}visitTrigger(l,c){}visitState(l,c){}visitTransition(l,c){}visitAnimateChild(l,c){const y=c.subInstructions.get(c.element);if(y){const T=c.createSubContext(l.options),L=c.currentTimeline.currentTime,K=this._visitSubInstructions(y,T,T.options);L!=K&&c.transformIntoNewTimeline(K)}c.previousNode=l}visitAnimateRef(l,c){const y=c.createSubContext(l.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],c,y),this.visitReference(l.animation,y),c.transformIntoNewTimeline(y.currentTimeline.currentTime),c.previousNode=l}_applyAnimationRefDelays(l,c,y){for(const T of l){const L=T?.delay;if(L){const K="number"==typeof L?L:mc(ut(L,T?.params??{},c.errors));y.delayNextStep(K)}}}_visitSubInstructions(l,c,y){let L=c.currentTimeline.currentTime;const K=null!=y.duration?mc(y.duration):null,le=null!=y.delay?mc(y.delay):null;return 0!==K&&l.forEach(Ee=>{const qe=c.appendInstructionToTimeline(Ee,K,le);L=Math.max(L,qe.duration+qe.delay)}),L}visitReference(l,c){c.updateOptions(l.options,!0),Yi(this,l.animation,c),c.previousNode=l}visitSequence(l,c){const y=c.subContextCount;let T=c;const L=l.options;if(L&&(L.params||L.delay)&&(T=c.createSubContext(L),T.transformIntoNewTimeline(),null!=L.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Ty);const K=mc(L.delay);T.delayNextStep(K)}l.steps.length&&(l.steps.forEach(K=>Yi(this,K,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>y&&T.transformIntoNewTimeline()),c.previousNode=l}visitGroup(l,c){const y=[];let T=c.currentTimeline.currentTime;const L=l.options&&l.options.delay?mc(l.options.delay):0;l.steps.forEach(K=>{const le=c.createSubContext(l.options);L&&le.delayNextStep(L),Yi(this,K,le),T=Math.max(T,le.currentTimeline.currentTime),y.push(le.currentTimeline)}),y.forEach(K=>c.currentTimeline.mergeTimelineCollectedStyles(K)),c.transformIntoNewTimeline(T),c.previousNode=l}_visitTiming(l,c){if(l.dynamic){const y=l.strValue;return np(c.params?ut(y,c.params,c.errors):y,c.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,c){const y=c.currentAnimateTimings=this._visitTiming(l.timings,c),T=c.currentTimeline;y.delay&&(c.incrementTime(y.delay),T.snapshotCurrentStyles());const L=l.style;5==L.type?this.visitKeyframes(L,c):(c.incrementTime(y.duration),this.visitStyle(L,c),T.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=l}visitStyle(l,c){const y=c.currentTimeline,T=c.currentAnimateTimings;!T&&y.hasCurrentStyleProperties()&&y.forwardFrame();const L=T&&T.easing||l.easing;l.isEmptyStep?y.applyEmptyStep(L):y.setStyles(l.styles,L,c.errors,c.options),c.previousNode=l}visitKeyframes(l,c){const y=c.currentAnimateTimings,T=c.currentTimeline.duration,L=y.duration,le=c.createSubContext().currentTimeline;le.easing=y.easing,l.styles.forEach(Ee=>{le.forwardTime((Ee.offset||0)*L),le.setStyles(Ee.styles,Ee.easing,c.errors,c.options),le.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(le),c.transformIntoNewTimeline(T+L),c.previousNode=l}visitQuery(l,c){const y=c.currentTimeline.currentTime,T=l.options||{},L=T.delay?mc(T.delay):0;L&&(6===c.previousNode.type||0==y&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Ty);let K=y;const le=c.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!T.optional,c.errors);c.currentQueryTotal=le.length;let Ee=null;le.forEach((qe,ft)=>{c.currentQueryIndex=ft;const Lt=c.createSubContext(l.options,qe);L&&Lt.delayNextStep(L),qe===c.element&&(Ee=Lt.currentTimeline),Yi(this,l.animation,Lt),Lt.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,Lt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(K),Ee&&(c.currentTimeline.mergeTimelineCollectedStyles(Ee),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=l}visitStagger(l,c){const y=c.parentContext,T=c.currentTimeline,L=l.timings,K=Math.abs(L.duration),le=K*(c.currentQueryTotal-1);let Ee=K*c.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":Ee=le-Ee;break;case"full":Ee=y.currentStaggerTime}const ft=c.currentTimeline;Ee&&ft.delayNextStep(Ee);const Lt=ft.currentTime;Yi(this,l.animation,c),c.previousNode=l,y.currentStaggerTime=T.currentTime-Lt+(T.startTime-y.currentTimeline.startTime)}}const Ty={};class Iy{constructor(l,c,y,T,L,K,le,Ee){this._driver=l,this.element=c,this.subInstructions=y,this._enterClassName=T,this._leaveClassName=L,this.errors=K,this.timelines=le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ty,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ee||new wy(this._driver,c,0),le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,c){if(!l)return;const y=l;let T=this.options;null!=y.duration&&(T.duration=mc(y.duration)),null!=y.delay&&(T.delay=mc(y.delay));const L=y.params;if(L){let K=T.params;K||(K=this.options.params={}),Object.keys(L).forEach(le=>{(!c||!K.hasOwnProperty(le))&&(K[le]=ut(L[le],K,this.errors))})}}_copyOptions(){const l={};if(this.options){const c=this.options.params;if(c){const y=l.params={};Object.keys(c).forEach(T=>{y[T]=c[T]})}}return l}createSubContext(l=null,c,y){const T=c||this.element,L=new Iy(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,y||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(l),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(l){return this.previousNode=Ty,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,c,y){const T={duration:c??l.duration,delay:this.currentTimeline.currentTime+(y??0)+l.delay,easing:""},L=new W0(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,T,l.stretchStartingKeyframe);return this.timelines.push(L),T}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,c,y,T,L,K){let le=[];if(T&&le.push(this.element),l.length>0){l=(l=l.replace(XE,"."+this._enterClassName)).replace(z0,"."+this._leaveClassName);let qe=this._driver.query(this.element,l,1!=y);0!==y&&(qe=y<0?qe.slice(qe.length+y,qe.length):qe.slice(0,y)),le.push(...qe)}return!L&&0==le.length&&K.push(function kv(p){return new i.wOt(3014,!1)}()),le}}class wy{constructor(l,c,y,T){this._driver=l,this.element=c,this.startTime=y,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+l),c&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,c){return this.applyStylesToKeyframe(),new wy(this._driver,l,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,c){this._localTimelineStyles.set(l,c),this._globalTimelineStyles.set(l,c),this._styleSummary.set(l,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[c,y]of this._globalTimelineStyles)this._backFill.set(c,y||zi.kp),this._currentKeyframe.set(c,zi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,c,y,T){c&&this._previousKeyframe.set("easing",c);const L=T&&T.params||{},K=function $v(p,l){const c=new Map;let y;return p.forEach(T=>{if("*"===T){y=y||l.keys();for(let L of y)c.set(L,zi.kp)}else jl(T,c)}),c}(l,this._globalTimelineStyles);for(let[le,Ee]of K){const qe=ut(Ee,L,y);this._pendingStyles.set(le,qe),this._localTimelineStyles.has(le)||this._backFill.set(le,this._globalTimelineStyles.get(le)??zi.kp),this._updateStyle(le,qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,c)=>{this._currentKeyframe.set(c,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,l)}))}snapshotCurrentStyles(){for(let[l,c]of this._localTimelineStyles)this._pendingStyles.set(l,c),this._updateStyle(l,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let c in this._currentKeyframe)l.push(c);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((c,y)=>{const T=this._styleSummary.get(y);(!T||c.time>T.time)&&this._updateStyle(y,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,c=new Set,y=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((le,Ee)=>{const qe=jl(le,new Map,this._backFill);qe.forEach((ft,Lt)=>{ft===zi.FX?l.add(Lt):ft===zi.kp&&c.add(Lt)}),y||qe.set("offset",Ee/this.duration),T.push(qe)});const L=l.size?Dt(l.values()):[],K=c.size?Dt(c.values()):[];if(y){const le=T[0],Ee=new Map(le);le.set("offset",0),Ee.set("offset",1),T=[le,Ee]}return by(this.element,T,L,K,this.duration,this.startTime,this.easing,!1)}}class W0 extends wy{constructor(l,c,y,T,L,K,le=!1){super(l,c,K.delay),this.keyframes=y,this.preStyleProps=T,this.postStyleProps=L,this._stretchStartingKeyframe=le,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:c,duration:y,easing:T}=this.timings;if(this._stretchStartingKeyframe&&c){const L=[],K=y+c,le=c/K,Ee=jl(l[0]);Ee.set("offset",0),L.push(Ee);const qe=jl(l[0]);qe.set("offset",JE(le)),L.push(qe);const ft=l.length-1;for(let Lt=1;Lt<=ft;Lt++){let yn=jl(l[Lt]);const mn=yn.get("offset");yn.set("offset",JE((c+mn*y)/K)),L.push(yn)}y=K,c=0,T="",l=L}return by(this.element,l,this.preStyleProps,this.postStyleProps,y,c,T,!0)}}function JE(p,l=3){const c=Math.pow(10,l-1);return Math.round(p*c)/c}class Qc{}const q0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Su extends Qc{normalizePropertyName(l,c){return Bi(l)}normalizeStyleValue(l,c,y,T){let L="";const K=y.toString().trim();if(q0.has(c)&&0!==y&&"0"!==y)if("number"==typeof y)L="px";else{const le=y.match(/^[+-]?[\d\.]+([a-z]*)$/);le&&0==le[1].length&&T.push(function Ca(p,l){return new i.wOt(3005,!1)}())}return K+L}}function Jc(p,l,c,y,T,L,K,le,Ee,qe,ft,Lt,yn){return{type:0,element:p,triggerName:l,isRemovalTransition:T,fromState:c,fromStyles:L,toState:y,toStyles:K,timelines:le,queriedElements:Ee,preStyleProps:qe,postStyleProps:ft,totalTime:Lt,errors:yn}}const yc={};class Hv{constructor(l,c,y){this._triggerName=l,this.ast=c,this._stateStyles=y}match(l,c,y,T){return function eb(p,l,c,y,T){return p.some(L=>L(l,c,y,T))}(this.ast.matchers,l,c,y,T)}buildStyles(l,c,y){let T=this._stateStyles.get("*");return void 0!==l&&(T=this._stateStyles.get(l?.toString())||T),T?T.buildStyles(c,y):new Map}build(l,c,y,T,L,K,le,Ee,qe,ft){const Lt=[],yn=this.ast.options&&this.ast.options.params||yc,En=this.buildStyles(y,le&&le.params||yc,Lt),Qt=Ee&&Ee.params||yc,wn=this.buildStyles(T,Qt,Lt),yr=new Set,jr=new Map,vr=new Map,qn="void"===T,yi={params:tb(Qt,yn),delay:this.ast.options?.delay},Br=ft?[]:zh(l,c,this.ast.animation,L,K,En,wn,yi,qe,Lt);let li=0;if(Br.forEach($i=>{li=Math.max($i.duration+$i.delay,li)}),Lt.length)return Jc(c,this._triggerName,y,T,qn,En,wn,[],[],jr,vr,li,Lt);Br.forEach($i=>{const Vi=$i.element,Po=jo(jr,Vi,new Set);$i.preStyleProps.forEach(Xs=>Po.add(Xs));const ca=jo(vr,Vi,new Set);$i.postStyleProps.forEach(Xs=>ca.add(Xs)),Vi!==c&&yr.add(Vi)});const as=Dt(yr.values());return Jc(c,this._triggerName,y,T,qn,En,wn,Br,as,jr,vr,li)}}function tb(p,l){const c=Ul(l);for(const y in p)p.hasOwnProperty(y)&&null!=p[y]&&(c[y]=p[y]);return c}class nb{constructor(l,c,y){this.styles=l,this.defaultParams=c,this.normalizer=y}buildStyles(l,c){const y=new Map,T=Ul(this.defaultParams);return Object.keys(l).forEach(L=>{const K=l[L];null!==K&&(T[L]=K)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((K,le)=>{K&&(K=ut(K,T,c));const Ee=this.normalizer.normalizePropertyName(le,c);K=this.normalizer.normalizeStyleValue(le,Ee,K,c),y.set(le,K)})}),y}}class Gv{constructor(l,c,y){this.name=l,this.ast=c,this._normalizer=y,this.transitionFactories=[],this.states=new Map,c.states.forEach(T=>{this.states.set(T.name,new nb(T.style,T.options&&T.options.params||{},y))}),Y0(this.states,"true","1"),Y0(this.states,"false","0"),c.transitions.forEach(T=>{this.transitionFactories.push(new Hv(l,T,this.states))}),this.fallbackTransition=function Gm(p,l,c){return new Hv(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,le)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,c,y,T){return this.transitionFactories.find(K=>K.match(l,c,y,T))||null}matchStyles(l,c,y){return this.fallbackTransition.buildStyles(l,c,y)}}function Y0(p,l,c){p.has(l)?p.has(c)||p.set(c,p.get(l)):p.has(c)&&p.set(l,p.get(c))}const X0=new Cy;class ib{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,c){const y=[],L=Hm(this._driver,c,y,[]);if(y.length)throw function Kf(p){return new i.wOt(3503,!1)}();this._animations.set(l,L)}_buildPlayer(l,c,y){const T=l.element,L=bg(this._normalizer,l.keyframes,c,y);return this._driver.animate(T,L,l.duration,l.delay,l.easing,[],!0)}create(l,c,y={}){const T=[],L=this._animations.get(l);let K;const le=new Map;if(L?(K=zh(this._driver,c,L,jh,wu,new Map,new Map,y,X0,T),K.forEach(ft=>{const Lt=jo(le,ft.element,new Map);ft.postStyleProps.forEach(yn=>Lt.set(yn,null))})):(T.push(function Lv(){return new i.wOt(3300,!1)}()),K=[]),T.length)throw function Vv(p){return new i.wOt(3504,!1)}();le.forEach((ft,Lt)=>{ft.forEach((yn,mn)=>{ft.set(mn,this._driver.computeStyle(Lt,mn,zi.kp))})});const qe=Na(K.map(ft=>{const Lt=le.get(ft.element);return this._buildPlayer(ft,new Map,Lt)}));return this._playersById.set(l,qe),qe.onDestroy(()=>this.destroy(l)),this.players.push(qe),qe}destroy(l){const c=this._getPlayer(l);c.destroy(),this._playersById.delete(l);const y=this.players.indexOf(c);y>=0&&this.players.splice(y,1)}_getPlayer(l){const c=this._playersById.get(l);if(!c)throw function Uv(p){return new i.wOt(3301,!1)}();return c}listen(l,c,y,T){const L=Vm(c,"","","");return ws(this._getPlayer(l),y,L,T),()=>{}}command(l,c,y,T){if("register"==y)return void this.register(l,T[0]);if("create"==y)return void this.create(l,c,T[0]||{});const L=this._getPlayer(l);switch(y){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(l)}}}const Q0="ng-animate-queued",Ay="ng-animate-disabled",eE=[],zv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ob={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class zm{get params(){return this.options.params}constructor(l,c=""){this.namespaceId=c;const y=l&&l.hasOwnProperty("value");if(this.value=function iE(p){return p??null}(y?l.value:l),y){const L=Ul(l);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const c=l.params;if(c){const y=this.options.params;Object.keys(c).forEach(T=>{null==y[T]&&(y[T]=c[T])})}}}const Wh="void",Wm=new zm(Wh);class tE{constructor(l,c,y){this.id=l,this.hostElement=c,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,Zc(c,this._hostClassName)}listen(l,c,y,T){if(!this._triggers.has(c))throw function Xc(p,l){return new i.wOt(3302,!1)}();if(null==y||0==y.length)throw function qf(p){return new i.wOt(3303,!1)}();if(!function sE(p){return"start"==p||"done"==p}(y))throw function Fm(p,l){return new i.wOt(3400,!1)}();const L=jo(this._elementListeners,l,[]),K={name:c,phase:y,callback:T};L.push(K);const le=jo(this._engine.statesByElement,l,new Map);return le.has(c)||(Zc(l,Bh),Zc(l,Bh+"-"+c),le.set(c,Wm)),()=>{this._engine.afterFlush(()=>{const Ee=L.indexOf(K);Ee>=0&&L.splice(Ee,1),this._triggers.has(c)||le.delete(c)})}}register(l,c){return!this._triggers.has(l)&&(this._triggers.set(l,c),!0)}_getTrigger(l){const c=this._triggers.get(l);if(!c)throw function Iu(p){return new i.wOt(3401,!1)}();return c}trigger(l,c,y,T=!0){const L=this._getTrigger(c),K=new Sy(this.id,c,l);let le=this._engine.statesByElement.get(l);le||(Zc(l,Bh),Zc(l,Bh+"-"+c),this._engine.statesByElement.set(l,le=new Map));let Ee=le.get(c);const qe=new zm(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&Ee&&qe.absorbOptions(Ee.options),le.set(c,qe),Ee||(Ee=Wm),qe.value!==Wh&&Ee.value===qe.value){if(!function lb(p,l){const c=Object.keys(p),y=Object.keys(l);if(c.length!=y.length)return!1;for(let T=0;T<c.length;T++){const L=c[T];if(!l.hasOwnProperty(L)||p[L]!==l[L])return!1}return!0}(Ee.params,qe.params)){const Qt=[],wn=L.matchStyles(Ee.value,Ee.params,Qt),yr=L.matchStyles(qe.value,qe.params,Qt);Qt.length?this._engine.reportError(Qt):this._engine.afterFlush(()=>{ka(l,wn),_c(l,yr)})}return}const yn=jo(this._engine.playersByElement,l,[]);yn.forEach(Qt=>{Qt.namespaceId==this.id&&Qt.triggerName==c&&Qt.queued&&Qt.destroy()});let mn=L.matchTransition(Ee.value,qe.value,l,qe.params),En=!1;if(!mn){if(!T)return;mn=L.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:c,transition:mn,fromState:Ee,toState:qe,player:K,isFallbackTransition:En}),En||(Zc(l,Q0),K.onStart(()=>{Ig(l,Q0)})),K.onDone(()=>{let Qt=this.players.indexOf(K);Qt>=0&&this.players.splice(Qt,1);const wn=this._engine.playersByElement.get(l);if(wn){let yr=wn.indexOf(K);yr>=0&&wn.splice(yr,1)}}),this.players.push(K),yn.push(K),K}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(c=>c.delete(l)),this._elementListeners.forEach((c,y)=>{this._elementListeners.set(y,c.filter(T=>T.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const c=this._engine.playersByElement.get(l);c&&(c.forEach(y=>y.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,c){const y=this._engine.driver.query(l,Au,!0);y.forEach(T=>{if(T[Hl])return;const L=this._engine.fetchNamespacesByElement(T);L.size?L.forEach(K=>K.triggerLeaveAnimation(T,c,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(l,c,y,T){const L=this._engine.statesByElement.get(l),K=new Map;if(L){const le=[];if(L.forEach((Ee,qe)=>{if(K.set(qe,Ee.value),this._triggers.has(qe)){const ft=this.trigger(l,qe,Wh,T);ft&&le.push(ft)}}),le.length)return this._engine.markElementAsRemoved(this.id,l,!0,c,K),y&&Na(le).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const c=this._elementListeners.get(l),y=this._engine.statesByElement.get(l);if(c&&y){const T=new Set;c.forEach(L=>{const K=L.name;if(T.has(K))return;T.add(K);const Ee=this._triggers.get(K).fallbackTransition,qe=y.get(K)||Wm,ft=new zm(Wh),Lt=new Sy(this.id,K,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:K,transition:Ee,fromState:qe,toState:ft,player:Lt,isFallbackTransition:!0})})}}removeNode(l,c){const y=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,c),this.triggerLeaveAnimation(l,c,!0))return;let T=!1;if(y.totalAnimations){const L=y.players.length?y.playersByQueriedElement.get(l):[];if(L&&L.length)T=!0;else{let K=l;for(;K=K.parentNode;)if(y.statesByElement.get(K)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(l),T)y.markElementAsRemoved(this.id,l,!1,c);else{const L=l[Hl];(!L||L===zv)&&(y.afterFlush(()=>this.clearElementCache(l)),y.destroyInnerAnimations(l),y._onRemovalComplete(l,c))}}insertNode(l,c){Zc(l,this._hostClassName)}drainQueuedTransitions(l){const c=[];return this._queue.forEach(y=>{const T=y.player;if(T.destroyed)return;const L=y.element,K=this._elementListeners.get(L);K&&K.forEach(le=>{if(le.name==y.triggerName){const Ee=Vm(L,y.triggerName,y.fromState.value,y.toState.value);Ee._data=l,ws(y.player,le.phase,Ee,le.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):c.push(y)}),this._queue=[],c.sort((y,T)=>{const L=y.transition.ast.depCount,K=T.transition.ast.depCount;return 0==L||0==K?L-K:this._engine.driver.containsElement(y.element,T.element)?1:-1})}destroy(l){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class nE{_onRemovalComplete(l,c){this.onRemovalComplete(l,c)}constructor(l,c,y){this.bodyNode=l,this.driver=c,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,L)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(c=>{c.players.forEach(y=>{y.queued&&l.push(y)})}),l}createNamespace(l,c){const y=new tE(l,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(y,c):(this.newHostElements.set(c,y),this.collectEnterElement(c)),this._namespaceLookup[l]=y}_balanceNamespaceList(l,c){const y=this._namespaceList,T=this.namespacesByHostElement;if(y.length-1>=0){let K=!1,le=this.driver.getParentElement(c);for(;le;){const Ee=T.get(le);if(Ee){const qe=y.indexOf(Ee);y.splice(qe+1,0,l),K=!0;break}le=this.driver.getParentElement(le)}K||y.unshift(l)}else y.push(l);return T.set(c,l),l}register(l,c){let y=this._namespaceLookup[l];return y||(y=this.createNamespace(l,c)),y}registerTrigger(l,c,y){let T=this._namespaceLookup[l];T&&T.register(c,y)&&this.totalAnimations++}destroy(l,c){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(l);this.namespacesByHostElement.delete(y.hostElement);const T=this._namespaceList.indexOf(y);T>=0&&this._namespaceList.splice(T,1),y.destroy(c),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const c=new Set,y=this.statesByElement.get(l);if(y)for(let T of y.values())if(T.namespaceId){const L=this._fetchNamespace(T.namespaceId);L&&c.add(L)}return c}trigger(l,c,y,T){if(Km(c)){const L=this._fetchNamespace(l);if(L)return L.trigger(c,y,T),!0}return!1}insertNode(l,c,y,T){if(!Km(c))return;const L=c[Hl];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const K=this.collectedLeaveElements.indexOf(c);K>=0&&this.collectedLeaveElements.splice(K,1)}if(l){const K=this._fetchNamespace(l);K&&K.insertNode(c,y)}T&&this.collectEnterElement(c)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,c){c?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Zc(l,Ay)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Ig(l,Ay))}removeNode(l,c,y){if(Km(c)){const T=l?this._fetchNamespace(l):null;T?T.removeNode(c,y):this.markElementAsRemoved(l,c,!1,y);const L=this.namespacesByHostElement.get(c);L&&L.id!==l&&L.removeNode(c,y)}else this._onRemovalComplete(c,y)}markElementAsRemoved(l,c,y,T,L){this.collectedLeaveElements.push(c),c[Hl]={namespaceId:l,setForRemoval:T,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:L}}listen(l,c,y,T,L){return Km(c)?this._fetchNamespace(l).listen(c,y,T,L):()=>{}}_buildInstruction(l,c,y,T,L){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,y,T,l.fromState.options,l.toState.options,c,L)}destroyInnerAnimations(l){let c=this.driver.query(l,Au,!0);c.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(l,$h,!0),c.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(l){const c=this.playersByElement.get(l);c&&c.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(l){const c=this.playersByQueriedElement.get(l);c&&c.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return Na(this.players).onDone(()=>l());l()})}processLeaveNode(l){const c=l[Hl];if(c&&c.setForRemoval){if(l[Hl]=zv,c.namespaceId){this.destroyInnerAnimations(l);const y=this._fetchNamespace(c.namespaceId);y&&y.clearElementCache(l)}this._onRemovalComplete(l,c.setForRemoval)}l.classList?.contains(Ay)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(l=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,T)=>this._balanceNamespaceList(y,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)Zc(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{c=this._flushAnimations(y,l)}finally{for(let T=0;T<y.length;T++)y[T]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],c.length?Na(c).onDone(()=>{y.forEach(T=>T())}):y.forEach(T=>T())}}reportError(l){throw function Yf(p){return new i.wOt(3402,!1)}()}_flushAnimations(l,c){const y=new Cy,T=[],L=new Map,K=[],le=new Map,Ee=new Map,qe=new Map,ft=new Set;this.disabledNodes.forEach(Sn=>{ft.add(Sn);const Gn=this.driver.query(Sn,".ng-animate-queued",!0);for(let hr=0;hr<Gn.length;hr++)ft.add(Gn[hr])});const Lt=this.bodyNode,yn=Array.from(this.statesByElement.keys()),mn=cE(yn,this.collectedEnterElements),En=new Map;let Qt=0;mn.forEach((Sn,Gn)=>{const hr=jh+Qt++;En.set(Gn,hr),Sn.forEach(ii=>Zc(ii,hr))});const wn=[],yr=new Set,jr=new Set;for(let Sn=0;Sn<this.collectedLeaveElements.length;Sn++){const Gn=this.collectedLeaveElements[Sn],hr=Gn[Hl];hr&&hr.setForRemoval&&(wn.push(Gn),yr.add(Gn),hr.hasAnimation?this.driver.query(Gn,".ng-star-inserted",!0).forEach(ii=>yr.add(ii)):jr.add(Gn))}const vr=new Map,qn=cE(yn,Array.from(yr));qn.forEach((Sn,Gn)=>{const hr=wu+Qt++;vr.set(Gn,hr),Sn.forEach(ii=>Zc(ii,hr))}),l.push(()=>{mn.forEach((Sn,Gn)=>{const hr=En.get(Gn);Sn.forEach(ii=>Ig(ii,hr))}),qn.forEach((Sn,Gn)=>{const hr=vr.get(Gn);Sn.forEach(ii=>Ig(ii,hr))}),wn.forEach(Sn=>{this.processLeaveNode(Sn)})});const yi=[],Br=[];for(let Sn=this._namespaceList.length-1;Sn>=0;Sn--)this._namespaceList[Sn].drainQueuedTransitions(c).forEach(hr=>{const ii=hr.player,Qs=hr.element;if(yi.push(ii),this.collectedEnterElements.length){const uo=Qs[Hl];if(uo&&uo.setForMove){if(uo.previousTriggersValues&&uo.previousTriggersValues.has(hr.triggerName)){const La=uo.previousTriggersValues.get(hr.triggerName),la=this.statesByElement.get(hr.element);if(la&&la.has(hr.triggerName)){const Pu=la.get(hr.triggerName);Pu.value=La,la.set(hr.triggerName,Pu)}}return void ii.destroy()}}const vc=!Lt||!this.driver.containsElement(Lt,Qs),$o=vr.get(Qs),el=En.get(Qs),Ji=this._buildInstruction(hr,y,el,$o,vc);if(Ji.errors&&Ji.errors.length)return void Br.push(Ji);if(vc)return ii.onStart(()=>ka(Qs,Ji.fromStyles)),ii.onDestroy(()=>_c(Qs,Ji.toStyles)),void T.push(ii);if(hr.isFallbackTransition)return ii.onStart(()=>ka(Qs,Ji.fromStyles)),ii.onDestroy(()=>_c(Qs,Ji.toStyles)),void T.push(ii);const tl=[];Ji.timelines.forEach(uo=>{uo.stretchStartingKeyframe=!0,this.disabledNodes.has(uo.element)||tl.push(uo)}),Ji.timelines=tl,y.append(Qs,Ji.timelines),K.push({instruction:Ji,player:ii,element:Qs}),Ji.queriedElements.forEach(uo=>jo(le,uo,[]).push(ii)),Ji.preStyleProps.forEach((uo,La)=>{if(uo.size){let la=Ee.get(La);la||Ee.set(La,la=new Set),uo.forEach((Pu,op)=>la.add(op))}}),Ji.postStyleProps.forEach((uo,La)=>{let la=qe.get(La);la||qe.set(La,la=new Set),uo.forEach((Pu,op)=>la.add(op))})});if(Br.length){const Sn=[];Br.forEach(Gn=>{Sn.push(function kh(p,l){return new i.wOt(3505,!1)}())}),yi.forEach(Gn=>Gn.destroy()),this.reportError(Sn)}const li=new Map,as=new Map;K.forEach(Sn=>{const Gn=Sn.element;y.has(Gn)&&(as.set(Gn,Gn),this._beforeAnimationBuild(Sn.player.namespaceId,Sn.instruction,li))}),T.forEach(Sn=>{const Gn=Sn.element;this._getPreviousPlayers(Gn,!1,Sn.namespaceId,Sn.triggerName,null).forEach(ii=>{jo(li,Gn,[]).push(ii),ii.destroy()})});const $i=wn.filter(Sn=>uE(Sn,Ee,qe)),Vi=new Map;aE(Vi,this.driver,jr,qe,zi.kp).forEach(Sn=>{uE(Sn,Ee,qe)&&$i.push(Sn)});const ca=new Map;mn.forEach((Sn,Gn)=>{aE(ca,this.driver,new Set(Sn),Ee,zi.FX)}),$i.forEach(Sn=>{const Gn=Vi.get(Sn),hr=ca.get(Sn);Vi.set(Sn,new Map([...Gn?.entries()??[],...hr?.entries()??[]]))});const Xs=[],Gl=[],zl={};K.forEach(Sn=>{const{element:Gn,player:hr,instruction:ii}=Sn;if(y.has(Gn)){if(ft.has(Gn))return hr.onDestroy(()=>_c(Gn,ii.toStyles)),hr.disabled=!0,hr.overrideTotalTime(ii.totalTime),void T.push(hr);let Qs=zl;if(as.size>1){let $o=Gn;const el=[];for(;$o=$o.parentNode;){const Ji=as.get($o);if(Ji){Qs=Ji;break}el.push($o)}el.forEach(Ji=>as.set(Ji,Qs))}const vc=this._buildAnimation(hr.namespaceId,ii,li,L,ca,Vi);if(hr.setRealPlayer(vc),Qs===zl)Xs.push(hr);else{const $o=this.playersByElement.get(Qs);$o&&$o.length&&(hr.parentPlayer=Na($o)),T.push(hr)}}else ka(Gn,ii.fromStyles),hr.onDestroy(()=>_c(Gn,ii.toStyles)),Gl.push(hr),ft.has(Gn)&&T.push(hr)}),Gl.forEach(Sn=>{const Gn=L.get(Sn.element);if(Gn&&Gn.length){const hr=Na(Gn);Sn.setRealPlayer(hr)}}),T.forEach(Sn=>{Sn.parentPlayer?Sn.syncPlayerEvents(Sn.parentPlayer):Sn.destroy()});for(let Sn=0;Sn<wn.length;Sn++){const Gn=wn[Sn],hr=Gn[Hl];if(Ig(Gn,wu),hr&&hr.hasAnimation)continue;let ii=[];if(le.size){let vc=le.get(Gn);vc&&vc.length&&ii.push(...vc);let $o=this.driver.query(Gn,$h,!0);for(let el=0;el<$o.length;el++){let Ji=le.get($o[el]);Ji&&Ji.length&&ii.push(...Ji)}}const Qs=ii.filter(vc=>!vc.destroyed);Qs.length?ab(this,Gn,Qs):this.processLeaveNode(Gn)}return wn.length=0,Xs.forEach(Sn=>{this.players.push(Sn),Sn.onDone(()=>{Sn.destroy();const Gn=this.players.indexOf(Sn);this.players.splice(Gn,1)}),Sn.play()}),Xs}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,c,y,T,L){let K=[];if(c){const le=this.playersByQueriedElement.get(l);le&&(K=le)}else{const le=this.playersByElement.get(l);if(le){const Ee=!L||L==Wh;le.forEach(qe=>{qe.queued||!Ee&&qe.triggerName!=T||K.push(qe)})}}return(y||T)&&(K=K.filter(le=>!(y&&y!=le.namespaceId||T&&T!=le.triggerName))),K}_beforeAnimationBuild(l,c,y){const L=c.element,K=c.isRemovalTransition?void 0:l,le=c.isRemovalTransition?void 0:c.triggerName;for(const Ee of c.timelines){const qe=Ee.element,ft=qe!==L,Lt=jo(y,qe,[]);this._getPreviousPlayers(qe,ft,K,le,c.toState).forEach(mn=>{const En=mn.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),mn.destroy(),Lt.push(mn)})}ka(L,c.fromStyles)}_buildAnimation(l,c,y,T,L,K){const le=c.triggerName,Ee=c.element,qe=[],ft=new Set,Lt=new Set,yn=c.timelines.map(En=>{const Qt=En.element;ft.add(Qt);const wn=Qt[Hl];if(wn&&wn.removedBeforeQueried)return new zi.sf(En.duration,En.delay);const yr=Qt!==Ee,jr=function cb(p){const l=[];return lE(p,l),l}((y.get(Qt)||eE).map(li=>li.getRealPlayer())).filter(li=>!!li.element&&li.element===Qt),vr=L.get(Qt),qn=K.get(Qt),yi=bg(this._normalizer,En.keyframes,vr,qn),Br=this._buildPlayer(En,yi,jr);if(En.subTimeline&&T&&Lt.add(Qt),yr){const li=new Sy(l,le,Qt);li.setRealPlayer(Br),qe.push(li)}return Br});qe.forEach(En=>{jo(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function rE(p,l,c){let y=p.get(l);if(y){if(y.length){const T=y.indexOf(c);y.splice(T,1)}0==y.length&&p.delete(l)}return y}(this.playersByQueriedElement,En.element,En))}),ft.forEach(En=>Zc(En,Du));const mn=Na(yn);return mn.onDestroy(()=>{ft.forEach(En=>Ig(En,Du)),_c(Ee,c.toStyles)}),Lt.forEach(En=>{jo(T,En,[]).push(mn)}),mn}_buildPlayer(l,c,y){return c.length>0?this.driver.animate(l.element,c,l.duration,l.delay,l.easing,y):new zi.sf(l.duration,l.delay)}}class Sy{constructor(l,c,y){this.namespaceId=l,this.triggerName=c,this.element=y,this._player=new zi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((c,y)=>{c.forEach(T=>ws(l,y,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const c=this._player;c.triggerCallback&&l.onStart(()=>c.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,c){jo(this._queuedCallbacks,l,[]).push(c)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const c=this._player;c.triggerCallback&&c.triggerCallback(l)}}function Km(p){return p&&1===p.nodeType}function oE(p,l){const c=p.style.display;return p.style.display=l??"none",c}function aE(p,l,c,y,T){const L=[];c.forEach(Ee=>L.push(oE(Ee)));const K=[];y.forEach((Ee,qe)=>{const ft=new Map;Ee.forEach(Lt=>{const yn=l.computeStyle(qe,Lt,T);ft.set(Lt,yn),(!yn||0==yn.length)&&(qe[Hl]=ob,K.push(qe))}),p.set(qe,ft)});let le=0;return c.forEach(Ee=>oE(Ee,L[le++])),K}function cE(p,l){const c=new Map;if(p.forEach(le=>c.set(le,[])),0==l.length)return c;const T=new Set(l),L=new Map;function K(le){if(!le)return 1;let Ee=L.get(le);if(Ee)return Ee;const qe=le.parentNode;return Ee=c.has(qe)?qe:T.has(qe)?1:K(qe),L.set(le,Ee),Ee}return l.forEach(le=>{const Ee=K(le);1!==Ee&&c.get(Ee).push(le)}),c}function Zc(p,l){p.classList?.add(l)}function Ig(p,l){p.classList?.remove(l)}function ab(p,l,c){Na(c).onDone(()=>p.processLeaveNode(l))}function lE(p,l){for(let c=0;c<p.length;c++){const y=p[c];y instanceof zi.ui?lE(y.players,l):l.push(y)}}function uE(p,l,c){const y=c.get(p);if(!y)return!1;let T=l.get(p);return T?y.forEach(L=>T.add(L)):l.set(p,y),c.delete(p),!0}class xy{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(T,L)=>{},this._transitionEngine=new nE(l,c,y),this._timelineEngine=new ib(l,c,y),this._transitionEngine.onRemovalComplete=(T,L)=>this.onRemovalComplete(T,L)}registerTrigger(l,c,y,T,L){const K=l+"-"+T;let le=this._triggerCache[K];if(!le){const Ee=[],ft=Hm(this._driver,L,Ee,[]);if(Ee.length)throw function Fv(p,l){return new i.wOt(3404,!1)}();le=function rb(p,l,c){return new Gv(p,l,c)}(T,ft,this._normalizer),this._triggerCache[K]=le}this._transitionEngine.registerTrigger(c,T,le)}register(l,c){this._transitionEngine.register(l,c)}destroy(l,c){this._transitionEngine.destroy(l,c)}onInsert(l,c,y,T){this._transitionEngine.insertNode(l,c,y,T)}onRemove(l,c,y){this._transitionEngine.removeNode(l,c,y)}disableAnimations(l,c){this._transitionEngine.markElementAsDisabled(l,c)}process(l,c,y,T){if("@"==y.charAt(0)){const[L,K]=Fh(y);this._timelineEngine.command(L,c,K,T)}else this._transitionEngine.trigger(l,c,y,T)}listen(l,c,y,T,L){if("@"==y.charAt(0)){const[K,le]=Fh(y);return this._timelineEngine.listen(K,c,le,L)}return this._transitionEngine.listen(l,c,y,T,L)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let db=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(c,y,T){this._element=c,this._startStyles=y,this._endStyles=T,this._state=0;let L=p.initialStylesByElement.get(c);L||p.initialStylesByElement.set(c,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&_c(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_c(this._element,this._initialStyles),this._endStyles&&(_c(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(ka(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ka(this._element,this._endStyles),this._endStyles=null),_c(this._element,this._initialStyles),this._state=3)}}return p})();function Wv(p){let l=null;return p.forEach((c,y)=>{(function hb(p){return"display"===p||"position"===p})(y)&&(l=l||new Map,l.set(y,c))}),l}class dE{constructor(l,c,y,T){this.element=l,this.keyframes=c,this.options=y,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const c=[];return l.forEach(y=>{c.push(Object.fromEntries(y))}),c}_triggerWebAnimation(l,c,y){return l.animate(this._convertKeyframesToObject(c),y)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,T)=>{"offset"!==T&&l.set(T,this._finished?y:Bl(this.element,T))}),this.currentSnapshot=l}triggerCallback(l){const c="start"===l?this._onStartFns:this._onDoneFns;c.forEach(y=>y()),c.length=0}}class fb{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,c){return!1}containsElement(l,c){return Cg(l,c)}getParentElement(l){return Zf(l)}query(l,c,y){return Lh(l,c,y)}computeStyle(l,c,y){return window.getComputedStyle(l)[c]}animate(l,c,y,T,L,K=[]){const Ee={duration:y,delay:T,fill:0==T?"both":"forwards"};L&&(Ee.easing=L);const qe=new Map,ft=K.filter(mn=>mn instanceof dE);(function ki(p,l){return 0===p||0===l})(y,T)&&ft.forEach(mn=>{mn.currentSnapshot.forEach((En,Qt)=>qe.set(Qt,En))});let Lt=function Gh(p){return p.length?p[0]instanceof Map?p:p.map(l=>Hh(l)):[]}(c).map(mn=>jl(mn));Lt=function Bo(p,l,c){if(c.size&&l.length){let y=l[0],T=[];if(c.forEach((L,K)=>{y.has(K)||T.push(K),y.set(K,L)}),T.length)for(let L=1;L<l.length;L++){let K=l[L];T.forEach(le=>K.set(le,Bl(p,le)))}}return l}(l,Lt,qe);const yn=function ub(p,l){let c=null,y=null;return Array.isArray(l)&&l.length?(c=Wv(l[0]),l.length>1&&(y=Wv(l[l.length-1]))):l instanceof Map&&(c=Wv(l)),c||y?new db(p,c,y):null}(l,Lt);return new dE(l,Lt,Ee,yn)}}let pb=(()=>{class p extends zi.S6{constructor(c,y){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(y.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(c){const y=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(c)?(0,zi.K2)(c):c;return Kv(this._renderer,null,y,"register",[T]),new hE(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(_e.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class hE extends zi.Ro{constructor(l,c){super(),this._id=l,this._renderer=c}create(l,c){return new fE(this._id,l,c||{},this._renderer)}}class fE{constructor(l,c,y,T){this.id=l,this.element=c,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(l,c){return this._renderer.listen(this.element,`@@${this.id}:${l}`,c)}_command(l,...c){return Kv(this._renderer,this.element,this.id,l,c)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Kv(p,l,c,y,T){return p.setProperty(l,`@@${c}:${y}`,T)}const qv="@.disabled";let pE=(()=>{class p{constructor(c,y,T){this.delegate=c,this.engine=y,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(L,K)=>{const le=K?.parentNode(L);le&&K.removeChild(le,L)}}createRenderer(c,y){const L=this.delegate.createRenderer(c,y);if(!(c&&y&&y.data&&y.data.animation)){let ft=this._rendererCache.get(L);return ft||(ft=new Yv("",L,this.engine,()=>this._rendererCache.delete(L)),this._rendererCache.set(L,ft)),ft}const K=y.id,le=y.id+"-"+this._currentId;this._currentId++,this.engine.register(le,c);const Ee=ft=>{Array.isArray(ft)?ft.forEach(Ee):this.engine.registerTrigger(K,le,c,ft.name,ft)};return y.data.animation.forEach(Ee),new gE(this,le,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,y,T){c>=0&&c<this._microtaskId?this._zone.run(()=>y(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[K,le]=L;K(le)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(xy),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class Yv{constructor(l,c,y,T){this.namespaceId=l,this.delegate=c,this.engine=y,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,c){return this.delegate.createElement(l,c)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,c){this.delegate.appendChild(l,c),this.engine.onInsert(this.namespaceId,c,l,!1)}insertBefore(l,c,y,T=!0){this.delegate.insertBefore(l,c,y),this.engine.onInsert(this.namespaceId,c,l,T)}removeChild(l,c,y){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(l,c){return this.delegate.selectRootElement(l,c)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,c,y,T){this.delegate.setAttribute(l,c,y,T)}removeAttribute(l,c,y){this.delegate.removeAttribute(l,c,y)}addClass(l,c){this.delegate.addClass(l,c)}removeClass(l,c){this.delegate.removeClass(l,c)}setStyle(l,c,y,T){this.delegate.setStyle(l,c,y,T)}removeStyle(l,c,y){this.delegate.removeStyle(l,c,y)}setProperty(l,c,y){"@"==c.charAt(0)&&c==qv?this.disableAnimations(l,!!y):this.delegate.setProperty(l,c,y)}setValue(l,c){this.delegate.setValue(l,c)}listen(l,c,y){return this.delegate.listen(l,c,y)}disableAnimations(l,c){this.engine.disableAnimations(l,c)}}class gE extends Yv{constructor(l,c,y,T,L){super(c,y,T,L),this.factory=l,this.namespaceId=c}setProperty(l,c,y){"@"==c.charAt(0)?"."==c.charAt(1)&&c==qv?this.disableAnimations(l,y=void 0===y||!!y):this.engine.process(this.namespaceId,l,c.slice(1),y):this.delegate.setProperty(l,c,y)}listen(l,c,y){if("@"==c.charAt(0)){const T=function mE(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let L=c.slice(1),K="";return"@"!=L.charAt(0)&&([L,K]=function _E(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(L)),this.engine.listen(this.namespaceId,T,L,K,le=>{this.factory.scheduleListenerCallback(le._data||-1,y,le)})}return this.delegate.listen(l,c,y)}}const vE=[{provide:zi.S6,useClass:pb},{provide:Qc,useFactory:function sp(){return new Su}},{provide:xy,useClass:(()=>{class p extends xy{constructor(c,y,T,L){super(c.body,y,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(Um),i.KVO(Qc),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function gb(p,l,c){return new pE(p,l,c)},deps:[ue.B7,xy,i.SKi]}],Kh=[{provide:Um,useFactory:()=>new fb},{provide:i.bc$,useValue:"BrowserAnimations"},...vE],mb=[{provide:Um,useClass:Vh},{provide:i.bc$,useValue:"NoopAnimations"},...vE];let Xv=(()=>{class p{static withConfig(c){return{ngModule:p,providers:c.disableAnimations?mb:Kh}}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:Kh,imports:[ue.Bb]})}}return p})();const EE={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7"};function wg(p,l,c){return()=>{const y=window.location.hostname,T=new URL(window.location.href);let L=EE[y]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("themeInitializerFactory app.module businessId: "+L+" - hostname: "+y),p.loadTheme(L)}}function vb(p,l,c){const y=window.location.hostname,T=new URL(window.location.href);let L=EE[y]||T.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return console.log("initializeBusinessData app.module businessId:: "+L+" - hostname: "+y),()=>{p.loadBusinessData(L).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(K=>{console.error("Error loading business data:",K)})}}let Eb=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[R_]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:wg,deps:[ba,_e.aZ,fr.Ix],multi:!0},{provide:i.hnV,useFactory:vb,deps:[Fi.A,_e.aZ,fr.Ix],multi:!0}],imports:[ue.Bb,fr.iI,Mf,D_.cM,sa.y5,ty.X8,ey.bf.initializeApp(dd_firebase),fd(()=>av(dd_firebase)),b(()=>G_()),bu(()=>Gf()),_i.X1,_i.YN,ie,Xv]})}}return p})();ue.sG().bootstrapModule(Eb).catch(p=>console.error(p))},4412:(nn,Ye,V)=>{V.d(Ye,{t:()=>ue});var o=V(1413);class ue extends o.B{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const me=super._subscribe(Ce);return!me.closed&&Ce.next(this._value),me}getValue(){const{hasError:Ce,thrownError:me,_value:Se}=this;if(Ce)throw me;return this._throwIfClosed(),Se}next(Ce){super.next(this._value=Ce)}}},1985:(nn,Ye,V)=>{V.d(Ye,{c:()=>Fe});var o=V(7707),ue=V(8359),i=V(3494),Ce=V(1203),me=V(1026),Se=V(8071),De=V(9786);let Fe=(()=>{class _e{constructor(je){je&&(this._subscribe=je)}lift(je){const _t=new _e;return _t.source=this,_t.operator=je,_t}subscribe(je,_t,ot){const Rt=function ae(_e){return _e&&_e instanceof o.vU||function ne(_e){return _e&&(0,Se.T)(_e.next)&&(0,Se.T)(_e.error)&&(0,Se.T)(_e.complete)}(_e)&&(0,ue.Uv)(_e)}(je)?je:new o.Ms(je,_t,ot);return(0,De.Y)(()=>{const{operator:St,source:rn}=this;Rt.add(St?St.call(Rt,rn):rn?this._subscribe(Rt):this._trySubscribe(Rt))}),Rt}_trySubscribe(je){try{return this._subscribe(je)}catch(_t){je.error(_t)}}forEach(je,_t){return new(_t=Ne(_t))((ot,Rt)=>{const St=new o.Ms({next:rn=>{try{je(rn)}catch(He){Rt(He),St.unsubscribe()}},error:Rt,complete:ot});this.subscribe(St)})}_subscribe(je){var _t;return null===(_t=this.source)||void 0===_t?void 0:_t.subscribe(je)}[i.s](){return this}pipe(...je){return(0,Ce.m)(je)(this)}toPromise(je){return new(je=Ne(je))((_t,ot)=>{let Rt;this.subscribe(St=>Rt=St,St=>ot(St),()=>_t(Rt))})}}return _e.create=ct=>new _e(ct),_e})();function Ne(_e){var ct;return null!==(ct=_e??me.$.Promise)&&void 0!==ct?ct:Promise}},1413:(nn,Ye,V)=>{V.d(Ye,{B:()=>De});var o=V(1985),ue=V(8359);const Ce=(0,V(1853).L)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=V(7908),Se=V(9786);let De=(()=>{class Ne extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const _e=new Fe(this,this);return _e.operator=ae,_e}_throwIfClosed(){if(this.closed)throw new Ce}next(ae){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ae)}})}error(ae){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ae)}})}complete(){(0,Se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:_e,isStopped:ct,observers:je}=this;return _e||ct?ue.Kn:(this.currentObservers=null,je.push(ae),new ue.yU(()=>{this.currentObservers=null,(0,me.o)(je,ae)}))}_checkFinalizedStatuses(ae){const{hasError:_e,thrownError:ct,isStopped:je}=this;_e?ae.error(ct):je&&ae.complete()}asObservable(){const ae=new o.c;return ae.source=this,ae}}return Ne.create=(ne,ae)=>new Fe(ne,ae),Ne})();class Fe extends De{constructor(ne,ae){super(),this.destination=ne,this.source=ae}next(ne){var ae,_e;null===(_e=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===_e||_e.call(ae,ne)}error(ne){var ae,_e;null===(_e=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===_e||_e.call(ae,ne)}complete(){var ne,ae;null===(ae=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ae||ae.call(ne)}_subscribe(ne){var ae,_e;return null!==(_e=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ne))&&void 0!==_e?_e:ue.Kn}}},7707:(nn,Ye,V)=>{V.d(Ye,{Ms:()=>ot,vU:()=>_e});var o=V(8071),ue=V(8359),i=V(1026),Ce=V(5334),me=V(5343);const Se=Ne("C",void 0,void 0);function Ne(pe,Ke,Re){return{kind:pe,value:Ke,error:Re}}var ne=V(9270),ae=V(9786);class _e extends ue.yU{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,ue.Uv)(Ke)&&Ke.add(this)):this.destination=He}static create(Ke,Re,Xe){return new ot(Ke,Re,Xe)}next(Ke){this.isStopped?rn(function Fe(pe){return Ne("N",pe,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?rn(function De(pe){return Ne("E",void 0,pe)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?rn(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ct=Function.prototype.bind;function je(pe,Ke){return ct.call(pe,Ke)}class _t{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Re}=this;if(Re.next)try{Re.next(Ke)}catch(Xe){Rt(Xe)}}error(Ke){const{partialObserver:Re}=this;if(Re.error)try{Re.error(Ke)}catch(Xe){Rt(Xe)}else Rt(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Re){Rt(Re)}}}class ot extends _e{constructor(Ke,Re,Xe){let yt;if(super(),(0,o.T)(Ke)||!Ke)yt={next:Ke??void 0,error:Re??void 0,complete:Xe??void 0};else{let Mt;this&&i.$.useDeprecatedNextContext?(Mt=Object.create(Ke),Mt.unsubscribe=()=>this.unsubscribe(),yt={next:Ke.next&&je(Ke.next,Mt),error:Ke.error&&je(Ke.error,Mt),complete:Ke.complete&&je(Ke.complete,Mt)}):yt=Ke}this.destination=new _t(yt)}}function Rt(pe){i.$.useDeprecatedSynchronousErrorHandling?(0,ae.l)(pe):(0,Ce.m)(pe)}function rn(pe,Ke){const{onStoppedNotification:Re}=i.$;Re&&ne.f.setTimeout(()=>Re(pe,Ke))}const He={closed:!0,next:me.l,error:function St(pe){throw pe},complete:me.l}},8359:(nn,Ye,V)=>{V.d(Ye,{Kn:()=>Se,yU:()=>me,Uv:()=>De});var o=V(8071);const i=(0,V(1853).L)(Ne=>function(ae){Ne(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((_e,ct)=>`${ct+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var Ce=V(7908);class me{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const je of ae)je.remove(this);else ae.remove(this);const{initialTeardown:_e}=this;if((0,o.T)(_e))try{_e()}catch(je){ne=je instanceof i?je.errors:[je]}const{_finalizers:ct}=this;if(ct){this._finalizers=null;for(const je of ct)try{Fe(je)}catch(_t){ne=ne??[],_t instanceof i?ne=[...ne,..._t.errors]:ne.push(_t)}}if(ne)throw new i(ne)}}add(ne){var ae;if(ne&&ne!==this)if(this.closed)Fe(ne);else{if(ne instanceof me){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ne)}}_hasParent(ne){const{_parentage:ae}=this;return ae===ne||Array.isArray(ae)&&ae.includes(ne)}_addParent(ne){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ne),ae):ae?[ae,ne]:ne}_removeParent(ne){const{_parentage:ae}=this;ae===ne?this._parentage=null:Array.isArray(ae)&&(0,Ce.o)(ae,ne)}remove(ne){const{_finalizers:ae}=this;ae&&(0,Ce.o)(ae,ne),ne instanceof me&&ne._removeParent(this)}}me.EMPTY=(()=>{const Ne=new me;return Ne.closed=!0,Ne})();const Se=me.EMPTY;function De(Ne){return Ne instanceof me||Ne&&"closed"in Ne&&(0,o.T)(Ne.remove)&&(0,o.T)(Ne.add)&&(0,o.T)(Ne.unsubscribe)}function Fe(Ne){(0,o.T)(Ne)?Ne():Ne.unsubscribe()}},1026:(nn,Ye,V)=>{V.d(Ye,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(nn,Ye,V)=>{V.d(Ye,{x:()=>me});var o=V(6365),i=V(3794),Ce=V(8455);function me(...Se){return function ue(){return(0,o.U)(1)}()((0,Ce.H)(Se,(0,i.lI)(Se)))}},983:(nn,Ye,V)=>{V.d(Ye,{w:()=>ue});const ue=new(V(1985).c)(me=>me.complete())},8455:(nn,Ye,V)=>{V.d(Ye,{H:()=>Ke});var o=V(8750),ue=V(941),i=V(6745),Se=V(1985),Fe=V(4761),Ne=V(8071),ne=V(5225);function _e(Re,Xe){if(!Re)throw new Error("Iterable cannot be null");return new Se.c(yt=>{(0,ne.N)(yt,Xe,()=>{const Mt=Re[Symbol.asyncIterator]();(0,ne.N)(yt,Xe,()=>{Mt.next().then(we=>{we.done?yt.complete():yt.next(we.value)})},0,!0)})})}var ct=V(5055),je=V(9858),_t=V(7441),ot=V(5397),Rt=V(7953),St=V(591),rn=V(5196);function Ke(Re,Xe){return Xe?function pe(Re,Xe){if(null!=Re){if((0,ct.l)(Re))return function Ce(Re,Xe){return(0,o.Tg)(Re).pipe((0,i._)(Xe),(0,ue.Q)(Xe))}(Re,Xe);if((0,_t.X)(Re))return function De(Re,Xe){return new Se.c(yt=>{let Mt=0;return Xe.schedule(function(){Mt===Re.length?yt.complete():(yt.next(Re[Mt++]),yt.closed||this.schedule())})})}(Re,Xe);if((0,je.y)(Re))return function me(Re,Xe){return(0,o.Tg)(Re).pipe((0,i._)(Xe),(0,ue.Q)(Xe))}(Re,Xe);if((0,Rt.T)(Re))return _e(Re,Xe);if((0,ot.x)(Re))return function ae(Re,Xe){return new Se.c(yt=>{let Mt;return(0,ne.N)(yt,Xe,()=>{Mt=Re[Fe.l](),(0,ne.N)(yt,Xe,()=>{let we,Zt;try{({value:we,done:Zt}=Mt.next())}catch(fn){return void yt.error(fn)}Zt?yt.complete():yt.next(we)},0,!0)}),()=>(0,Ne.T)(Mt?.return)&&Mt.return()})}(Re,Xe);if((0,rn.U)(Re))return function He(Re,Xe){return _e((0,rn.C)(Re),Xe)}(Re,Xe)}throw(0,St.L)(Re)}(Re,Xe):(0,o.Tg)(Re)}},8750:(nn,Ye,V)=>{V.d(Ye,{Tg:()=>ct});var o=V(1635),ue=V(7441),i=V(9858),Ce=V(1985),me=V(5055),Se=V(7953),De=V(591),Fe=V(5397),Ne=V(5196),ne=V(8071),ae=V(5334),_e=V(3494);function ct(pe){if(pe instanceof Ce.c)return pe;if(null!=pe){if((0,me.l)(pe))return function je(pe){return new Ce.c(Ke=>{const Re=pe[_e.s]();if((0,ne.T)(Re.subscribe))return Re.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,ue.X)(pe))return function _t(pe){return new Ce.c(Ke=>{for(let Re=0;Re<pe.length&&!Ke.closed;Re++)Ke.next(pe[Re]);Ke.complete()})}(pe);if((0,i.y)(pe))return function ot(pe){return new Ce.c(Ke=>{pe.then(Re=>{Ke.closed||(Ke.next(Re),Ke.complete())},Re=>Ke.error(Re)).then(null,ae.m)})}(pe);if((0,Se.T)(pe))return St(pe);if((0,Fe.x)(pe))return function Rt(pe){return new Ce.c(Ke=>{for(const Re of pe)if(Ke.next(Re),Ke.closed)return;Ke.complete()})}(pe);if((0,Ne.U)(pe))return function rn(pe){return St((0,Ne.C)(pe))}(pe)}throw(0,De.L)(pe)}function St(pe){return new Ce.c(Ke=>{(function He(pe,Ke){var Re,Xe,yt,Mt;return(0,o.sH)(this,void 0,void 0,function*(){try{for(Re=(0,o.xN)(pe);!(Xe=yield Re.next()).done;)if(Ke.next(Xe.value),Ke.closed)return}catch(we){yt={error:we}}finally{try{Xe&&!Xe.done&&(Mt=Re.return)&&(yield Mt.call(Re))}finally{if(yt)throw yt.error}}Ke.complete()})})(pe,Ke).catch(Re=>Ke.error(Re))})}},7786:(nn,Ye,V)=>{V.d(Ye,{h:()=>Se});var o=V(6365),ue=V(8750),i=V(983),Ce=V(3794),me=V(8455);function Se(...De){const Fe=(0,Ce.lI)(De),Ne=(0,Ce.R0)(De,1/0),ne=De;return ne.length?1===ne.length?(0,ue.Tg)(ne[0]):(0,o.U)(Ne)((0,me.H)(ne,Fe)):i.w}},7673:(nn,Ye,V)=>{V.d(Ye,{of:()=>i});var o=V(3794),ue=V(8455);function i(...Ce){const me=(0,o.lI)(Ce);return(0,ue.H)(Ce,me)}},8810:(nn,Ye,V)=>{V.d(Ye,{$:()=>i});var o=V(1985),ue=V(8071);function i(Ce,me){const Se=(0,ue.T)(Ce)?Ce:()=>Ce,De=Fe=>Fe.error(Se());return new o.c(me?Fe=>me.schedule(De,0,Fe):De)}},4360:(nn,Ye,V)=>{V.d(Ye,{_:()=>ue});var o=V(7707);function ue(Ce,me,Se,De,Fe){return new i(Ce,me,Se,De,Fe)}class i extends o.vU{constructor(me,Se,De,Fe,Ne,ne){super(me),this.onFinalize=Ne,this.shouldUnsubscribe=ne,this._next=Se?function(ae){try{Se(ae)}catch(_e){me.error(_e)}}:super._next,this._error=Fe?function(ae){try{Fe(ae)}catch(_e){me.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(ae){me.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},9437:(nn,Ye,V)=>{V.d(Ye,{W:()=>Ce});var o=V(8750),ue=V(4360),i=V(9974);function Ce(me){return(0,i.N)((Se,De)=>{let ne,Fe=null,Ne=!1;Fe=Se.subscribe((0,ue._)(De,void 0,void 0,ae=>{ne=(0,o.Tg)(me(ae,Ce(me)(Se))),Fe?(Fe.unsubscribe(),Fe=null,ne.subscribe(De)):Ne=!0})),Ne&&(Fe.unsubscribe(),Fe=null,ne.subscribe(De))})}},274:(nn,Ye,V)=>{V.d(Ye,{H:()=>i});var o=V(1397),ue=V(8071);function i(Ce,me){return(0,ue.T)(me)?(0,o.Z)(Ce,me,1):(0,o.Z)(Ce,1)}},9901:(nn,Ye,V)=>{V.d(Ye,{U:()=>i});var o=V(9974),ue=V(4360);function i(Ce){return(0,o.N)((me,Se)=>{let De=!1;me.subscribe((0,ue._)(Se,Fe=>{De=!0,Se.next(Fe)},()=>{De||Se.next(Ce),Se.complete()}))})}},3294:(nn,Ye,V)=>{V.d(Ye,{F:()=>Ce});var o=V(3669),ue=V(9974),i=V(4360);function Ce(Se,De=o.D){return Se=Se??me,(0,ue.N)((Fe,Ne)=>{let ne,ae=!0;Fe.subscribe((0,i._)(Ne,_e=>{const ct=De(_e);(ae||!Se(ne,ct))&&(ae=!1,ne=ct,Ne.next(_e))}))})}function me(Se,De){return Se===De}},5964:(nn,Ye,V)=>{V.d(Ye,{p:()=>i});var o=V(9974),ue=V(4360);function i(Ce,me){return(0,o.N)((Se,De)=>{let Fe=0;Se.subscribe((0,ue._)(De,Ne=>Ce.call(me,Ne,Fe++)&&De.next(Ne)))})}},980:(nn,Ye,V)=>{V.d(Ye,{j:()=>ue});var o=V(9974);function ue(i){return(0,o.N)((Ce,me)=>{try{Ce.subscribe(me)}finally{me.add(i)}})}},1594:(nn,Ye,V)=>{V.d(Ye,{$:()=>De});var o=V(9350),ue=V(5964),i=V(6697),Ce=V(9901),me=V(3774),Se=V(3669);function De(Fe,Ne){const ne=arguments.length>=2;return ae=>ae.pipe(Fe?(0,ue.p)((_e,ct)=>Fe(_e,ct,ae)):Se.D,(0,i.s)(1),ne?(0,Ce.U)(Ne):(0,me.v)(()=>new o.G))}},6354:(nn,Ye,V)=>{V.d(Ye,{T:()=>i});var o=V(9974),ue=V(4360);function i(Ce,me){return(0,o.N)((Se,De)=>{let Fe=0;Se.subscribe((0,ue._)(De,Ne=>{De.next(Ce.call(me,Ne,Fe++))}))})}},6365:(nn,Ye,V)=>{V.d(Ye,{U:()=>i});var o=V(1397),ue=V(3669);function i(Ce=1/0){return(0,o.Z)(ue.D,Ce)}},1397:(nn,Ye,V)=>{V.d(Ye,{Z:()=>Fe});var o=V(6354),ue=V(8750),i=V(9974),Ce=V(5225),me=V(4360),De=V(8071);function Fe(Ne,ne,ae=1/0){return(0,De.T)(ne)?Fe((_e,ct)=>(0,o.T)((je,_t)=>ne(_e,je,ct,_t))((0,ue.Tg)(Ne(_e,ct))),ae):("number"==typeof ne&&(ae=ne),(0,i.N)((_e,ct)=>function Se(Ne,ne,ae,_e,ct,je,_t,ot){const Rt=[];let St=0,rn=0,He=!1;const pe=()=>{He&&!Rt.length&&!St&&ne.complete()},Ke=Xe=>St<_e?Re(Xe):Rt.push(Xe),Re=Xe=>{je&&ne.next(Xe),St++;let yt=!1;(0,ue.Tg)(ae(Xe,rn++)).subscribe((0,me._)(ne,Mt=>{ct?.(Mt),je?Ke(Mt):ne.next(Mt)},()=>{yt=!0},void 0,()=>{if(yt)try{for(St--;Rt.length&&St<_e;){const Mt=Rt.shift();_t?(0,Ce.N)(ne,_t,()=>Re(Mt)):Re(Mt)}pe()}catch(Mt){ne.error(Mt)}}))};return Ne.subscribe((0,me._)(ne,Ke,()=>{He=!0,pe()})),()=>{ot?.()}}(_e,ct,Ne,ae)))}},941:(nn,Ye,V)=>{V.d(Ye,{Q:()=>Ce});var o=V(5225),ue=V(9974),i=V(4360);function Ce(me,Se=0){return(0,ue.N)((De,Fe)=>{De.subscribe((0,i._)(Fe,Ne=>(0,o.N)(Fe,me,()=>Fe.next(Ne),Se),()=>(0,o.N)(Fe,me,()=>Fe.complete(),Se),Ne=>(0,o.N)(Fe,me,()=>Fe.error(Ne),Se)))})}},2816:(nn,Ye,V)=>{V.d(Ye,{S:()=>Ce});var o=V(9974),ue=V(4360);function Ce(me,Se){return(0,o.N)(function i(me,Se,De,Fe,Ne){return(ne,ae)=>{let _e=De,ct=Se,je=0;ne.subscribe((0,ue._)(ae,_t=>{const ot=je++;ct=_e?me(ct,_t,ot):(_e=!0,_t),Fe&&ae.next(ct)},Ne&&(()=>{_e&&ae.next(ct),ae.complete()})))}}(me,Se,arguments.length>=2,!0))}},7647:(nn,Ye,V)=>{V.d(Ye,{u:()=>me});var o=V(8750),ue=V(1413),i=V(7707),Ce=V(9974);function me(De={}){const{connector:Fe=(()=>new ue.B),resetOnError:Ne=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ae=!0}=De;return _e=>{let ct,je,_t,ot=0,Rt=!1,St=!1;const rn=()=>{je?.unsubscribe(),je=void 0},He=()=>{rn(),ct=_t=void 0,Rt=St=!1},pe=()=>{const Ke=ct;He(),Ke?.unsubscribe()};return(0,Ce.N)((Ke,Re)=>{ot++,!St&&!Rt&&rn();const Xe=_t=_t??Fe();Re.add(()=>{ot--,0===ot&&!St&&!Rt&&(je=Se(pe,ae))}),Xe.subscribe(Re),!ct&&ot>0&&(ct=new i.Ms({next:yt=>Xe.next(yt),error:yt=>{St=!0,rn(),je=Se(He,Ne,yt),Xe.error(yt)},complete:()=>{Rt=!0,rn(),je=Se(He,ne),Xe.complete()}}),(0,o.Tg)(Ke).subscribe(ct))})(_e)}}function Se(De,Fe,...Ne){if(!0===Fe)return void De();if(!1===Fe)return;const ne=new i.Ms({next:()=>{ne.unsubscribe(),De()}});return(0,o.Tg)(Fe(...Ne)).subscribe(ne)}},9172:(nn,Ye,V)=>{V.d(Ye,{Z:()=>Ce});var o=V(8793),ue=V(3794),i=V(9974);function Ce(...me){const Se=(0,ue.lI)(me);return(0,i.N)((De,Fe)=>{(Se?(0,o.x)(me,De,Se):(0,o.x)(me,De)).subscribe(Fe)})}},6745:(nn,Ye,V)=>{V.d(Ye,{_:()=>ue});var o=V(9974);function ue(i,Ce=0){return(0,o.N)((me,Se)=>{Se.add(i.schedule(()=>me.subscribe(Se),Ce))})}},5558:(nn,Ye,V)=>{V.d(Ye,{n:()=>Ce});var o=V(8750),ue=V(9974),i=V(4360);function Ce(me,Se){return(0,ue.N)((De,Fe)=>{let Ne=null,ne=0,ae=!1;const _e=()=>ae&&!Ne&&Fe.complete();De.subscribe((0,i._)(Fe,ct=>{Ne?.unsubscribe();let je=0;const _t=ne++;(0,o.Tg)(me(ct,_t)).subscribe(Ne=(0,i._)(Fe,ot=>Fe.next(Se?Se(ct,ot,_t,je++):ot),()=>{Ne=null,_e()}))},()=>{ae=!0,_e()}))})}},6697:(nn,Ye,V)=>{V.d(Ye,{s:()=>Ce});var o=V(983),ue=V(9974),i=V(4360);function Ce(me){return me<=0?()=>o.w:(0,ue.N)((Se,De)=>{let Fe=0;Se.subscribe((0,i._)(De,Ne=>{++Fe<=me&&(De.next(Ne),me<=Fe&&De.complete())}))})}},8141:(nn,Ye,V)=>{V.d(Ye,{M:()=>me});var o=V(8071),ue=V(9974),i=V(4360),Ce=V(3669);function me(Se,De,Fe){const Ne=(0,o.T)(Se)||De||Fe?{next:Se,error:De,complete:Fe}:Se;return Ne?(0,ue.N)((ne,ae)=>{var _e;null===(_e=Ne.subscribe)||void 0===_e||_e.call(Ne);let ct=!0;ne.subscribe((0,i._)(ae,je=>{var _t;null===(_t=Ne.next)||void 0===_t||_t.call(Ne,je),ae.next(je)},()=>{var je;ct=!1,null===(je=Ne.complete)||void 0===je||je.call(Ne),ae.complete()},je=>{var _t;ct=!1,null===(_t=Ne.error)||void 0===_t||_t.call(Ne,je),ae.error(je)},()=>{var je,_t;ct&&(null===(je=Ne.unsubscribe)||void 0===je||je.call(Ne)),null===(_t=Ne.finalize)||void 0===_t||_t.call(Ne)}))}):Ce.D}},3774:(nn,Ye,V)=>{V.d(Ye,{v:()=>Ce});var o=V(9350),ue=V(9974),i=V(4360);function Ce(Se=me){return(0,ue.N)((De,Fe)=>{let Ne=!1;De.subscribe((0,i._)(Fe,ne=>{Ne=!0,Fe.next(ne)},()=>Ne?Fe.complete():Fe.error(Se())))})}function me(){return new o.G}},6780:(nn,Ye,V)=>{V.d(Ye,{R:()=>me});var o=V(8359);class ue extends o.yU{constructor(De,Fe){super()}schedule(De,Fe=0){return this}}const i={setInterval(Se,De,...Fe){const{delegate:Ne}=i;return Ne?.setInterval?Ne.setInterval(Se,De,...Fe):setInterval(Se,De,...Fe)},clearInterval(Se){const{delegate:De}=i;return(De?.clearInterval||clearInterval)(Se)},delegate:void 0};var Ce=V(7908);class me extends ue{constructor(De,Fe){super(De,Fe),this.scheduler=De,this.work=Fe,this.pending=!1}schedule(De,Fe=0){var Ne;if(this.closed)return this;this.state=De;const ne=this.id,ae=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ae,ne,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(ae,this.id,Fe),this}requestAsyncId(De,Fe,Ne=0){return i.setInterval(De.flush.bind(De,this),Ne)}recycleAsyncId(De,Fe,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return Fe;null!=Fe&&i.clearInterval(Fe)}execute(De,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(De,Fe);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,Fe){let ne,Ne=!1;try{this.work(De)}catch(ae){Ne=!0,ne=ae||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:De,scheduler:Fe}=this,{actions:Ne}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.o)(Ne,this),null!=De&&(this.id=this.recycleAsyncId(Fe,De,null)),this.delay=null,super.unsubscribe()}}}},9687:(nn,Ye,V)=>{V.d(Ye,{q:()=>i});var o=V(6129);class ue{constructor(me,Se=ue.now){this.schedulerActionCtor=me,this.now=Se}schedule(me,Se=0,De){return new this.schedulerActionCtor(this,me).schedule(De,Se)}}ue.now=o.U.now;class i extends ue{constructor(me,Se=ue.now){super(me,Se),this.actions=[],this._active=!1}flush(me){const{actions:Se}=this;if(this._active)return void Se.push(me);let De;this._active=!0;do{if(De=me.execute(me.state,me.delay))break}while(me=Se.shift());if(this._active=!1,De){for(;me=Se.shift();)me.unsubscribe();throw De}}}},3236:(nn,Ye,V)=>{V.d(Ye,{E:()=>i});var o=V(6780);const i=new(V(9687).q)(o.R)},6129:(nn,Ye,V)=>{V.d(Ye,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(nn,Ye,V)=>{V.d(Ye,{f:()=>o});const o={setTimeout(ue,i,...Ce){const{delegate:me}=o;return me?.setTimeout?me.setTimeout(ue,i,...Ce):setTimeout(ue,i,...Ce)},clearTimeout(ue){const{delegate:i}=o;return(i?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(nn,Ye,V)=>{V.d(Ye,{l:()=>ue});const ue=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(nn,Ye,V)=>{V.d(Ye,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(nn,Ye,V)=>{V.d(Ye,{G:()=>ue});const ue=(0,V(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(nn,Ye,V)=>{V.d(Ye,{R0:()=>Se,ms:()=>Ce,lI:()=>me});var o=V(8071);function i(De){return De[De.length-1]}function Ce(De){return(0,o.T)(i(De))?De.pop():void 0}function me(De){return function ue(De){return De&&(0,o.T)(De.schedule)}(i(De))?De.pop():void 0}function Se(De,Fe){return"number"==typeof i(De)?De.pop():Fe}},3073:(nn,Ye,V)=>{V.d(Ye,{D:()=>me});const{isArray:o}=Array,{getPrototypeOf:ue,prototype:i,keys:Ce}=Object;function me(De){if(1===De.length){const Fe=De[0];if(o(Fe))return{args:Fe,keys:null};if(function Se(De){return De&&"object"==typeof De&&ue(De)===i}(Fe)){const Ne=Ce(Fe);return{args:Ne.map(ne=>Fe[ne]),keys:Ne}}}return{args:De,keys:null}}},7908:(nn,Ye,V)=>{function o(ue,i){if(ue){const Ce=ue.indexOf(i);0<=Ce&&ue.splice(Ce,1)}}V.d(Ye,{o:()=>o})},1853:(nn,Ye,V)=>{function o(ue){const Ce=ue(me=>{Error.call(me),me.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}V.d(Ye,{L:()=>o})},8496:(nn,Ye,V)=>{function o(ue,i){return ue.reduce((Ce,me,Se)=>(Ce[me]=i[Se],Ce),{})}V.d(Ye,{e:()=>o})},9786:(nn,Ye,V)=>{V.d(Ye,{Y:()=>i,l:()=>Ce});var o=V(1026);let ue=null;function i(me){if(o.$.useDeprecatedSynchronousErrorHandling){const Se=!ue;if(Se&&(ue={errorThrown:!1,error:null}),me(),Se){const{errorThrown:De,error:Fe}=ue;if(ue=null,De)throw Fe}}else me()}function Ce(me){o.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=me)}},5225:(nn,Ye,V)=>{function o(ue,i,Ce,me=0,Se=!1){const De=i.schedule(function(){Ce(),Se?ue.add(this.schedule(null,me)):this.unsubscribe()},me);if(ue.add(De),!Se)return De}V.d(Ye,{N:()=>o})},3669:(nn,Ye,V)=>{function o(ue){return ue}V.d(Ye,{D:()=>o})},7441:(nn,Ye,V)=>{V.d(Ye,{X:()=>o});const o=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(nn,Ye,V)=>{V.d(Ye,{T:()=>ue});var o=V(8071);function ue(i){return Symbol.asyncIterator&&(0,o.T)(i?.[Symbol.asyncIterator])}},8071:(nn,Ye,V)=>{function o(ue){return"function"==typeof ue}V.d(Ye,{T:()=>o})},5055:(nn,Ye,V)=>{V.d(Ye,{l:()=>i});var o=V(3494),ue=V(8071);function i(Ce){return(0,ue.T)(Ce[o.s])}},5397:(nn,Ye,V)=>{V.d(Ye,{x:()=>i});var o=V(4761),ue=V(8071);function i(Ce){return(0,ue.T)(Ce?.[o.l])}},9858:(nn,Ye,V)=>{V.d(Ye,{y:()=>ue});var o=V(8071);function ue(i){return(0,o.T)(i?.then)}},5196:(nn,Ye,V)=>{V.d(Ye,{C:()=>i,U:()=>Ce});var o=V(1635),ue=V(8071);function i(me){return(0,o.AQ)(this,arguments,function*(){const De=me.getReader();try{for(;;){const{value:Fe,done:Ne}=yield(0,o.N3)(De.read());if(Ne)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Fe)}}finally{De.releaseLock()}})}function Ce(me){return(0,ue.T)(me?.getReader)}},9974:(nn,Ye,V)=>{V.d(Ye,{N:()=>i,S:()=>ue});var o=V(8071);function ue(Ce){return(0,o.T)(Ce?.lift)}function i(Ce){return me=>{if(ue(me))return me.lift(function(Se){try{return Ce(Se,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(nn,Ye,V)=>{V.d(Ye,{I:()=>Ce});var o=V(6354);const{isArray:ue}=Array;function Ce(me){return(0,o.T)(Se=>function i(me,Se){return ue(Se)?me(...Se):me(Se)}(me,Se))}},5343:(nn,Ye,V)=>{function o(){}V.d(Ye,{l:()=>o})},1203:(nn,Ye,V)=>{V.d(Ye,{F:()=>ue,m:()=>i});var o=V(3669);function ue(...Ce){return i(Ce)}function i(Ce){return 0===Ce.length?o.D:1===Ce.length?Ce[0]:function(Se){return Ce.reduce((De,Fe)=>Fe(De),Se)}}},5334:(nn,Ye,V)=>{V.d(Ye,{m:()=>i});var o=V(1026),ue=V(9270);function i(Ce){ue.f.setTimeout(()=>{const{onUnhandledError:me}=o.$;if(!me)throw Ce;me(Ce)})}},591:(nn,Ye,V)=>{function o(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ye,{L:()=>o})},9969:(nn,Ye,V)=>{V.d(Ye,{FX:()=>rn,K2:()=>De,Ro:()=>ue,S6:()=>o,hZ:()=>Ce,i0:()=>me,iF:()=>Fe,kY:()=>ae,kp:()=>i,sf:()=>Rt,ui:()=>St});class o{}class ue{}const i="*";function Ce(He,pe){return{type:7,name:He,definitions:pe,options:{}}}function me(He,pe=null){return{type:4,styles:pe,timings:He}}function De(He,pe=null){return{type:2,steps:He,options:pe}}function Fe(He){return{type:6,styles:He,offset:null}}function ae(He,pe,Ke=null){return{type:1,expr:He,animation:pe,options:Ke}}class Rt{constructor(pe=0,Ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=pe+Ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}onStart(pe){this._originalOnStartFns.push(pe),this._onStartFns.push(pe)}onDone(pe){this._originalOnDoneFns.push(pe),this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(pe=>pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(pe){this._position=this.totalTime?pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(pe){const Ke="start"==pe?this._onStartFns:this._onDoneFns;Ke.forEach(Re=>Re()),Ke.length=0}}class St{constructor(pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=pe;let Ke=0,Re=0,Xe=0;const yt=this.players.length;0==yt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Mt=>{Mt.onDone(()=>{++Ke==yt&&this._onFinish()}),Mt.onDestroy(()=>{++Re==yt&&this._onDestroy()}),Mt.onStart(()=>{++Xe==yt&&this._onStart()})}),this.totalTime=this.players.reduce((Mt,we)=>Math.max(Mt,we.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this.players.forEach(pe=>pe.init())}onStart(pe){this._onStartFns.push(pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(pe=>pe()),this._onStartFns=[])}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(pe=>pe.play())}pause(){this.players.forEach(pe=>pe.pause())}restart(){this.players.forEach(pe=>pe.restart())}finish(){this._onFinish(),this.players.forEach(pe=>pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(pe=>pe.destroy()),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this.players.forEach(pe=>pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(pe){const Ke=pe*this.totalTime;this.players.forEach(Re=>{const Xe=Re.totalTime?Math.min(1,Ke/Re.totalTime):1;Re.setPosition(Xe)})}getPosition(){const pe=this.players.reduce((Ke,Re)=>null===Ke||Re.totalTime>Ke.totalTime?Re:Ke,null);return null!=pe?pe.getPosition():0}beforeDestroy(){this.players.forEach(pe=>{pe.beforeDestroy&&pe.beforeDestroy()})}triggerCallback(pe){const Ke="start"==pe?this._onStartFns:this._onDoneFns;Ke.forEach(Re=>Re()),Ke.length=0}}const rn="!"},177:(nn,Ye,V)=>{V.d(Ye,{AJ:()=>mr,B3:()=>Ir,Jj:()=>Js,MD:()=>Ri,N0:()=>An,P9:()=>ls,QT:()=>i,Sm:()=>_t,Sq:()=>Ki,VF:()=>me,Vy:()=>rs,Xr:()=>Oe,YU:()=>cr,ZD:()=>Ce,_b:()=>an,aZ:()=>Rt,bT:()=>Mo,e1:()=>es,fG:()=>gs,fw:()=>ot,hb:()=>ct,hj:()=>Fe,lG:()=>As,qQ:()=>Se,ux:()=>si});var o=V(7705);let ue=null;function i(){return ue}function Ce(P){ue||(ue=P)}class me{}const Se=new o.nKC("DocumentToken");let De=(()=>{class P{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(Ne)},providedIn:"platform"})}}return P})();const Fe=new o.nKC("Location Initialized");let Ne=(()=>{class P extends De{constructor(){super(),this._doc=(0,o.WQX)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState($){const X=i().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",$,!1),()=>X.removeEventListener("popstate",$)}onHashChange($){const X=i().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",$,!1),()=>X.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,X,xe){this._history.pushState($,X,xe)}replaceState($,X,xe){this._history.replaceState($,X,xe)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function ne(P,re){if(0==P.length)return re;if(0==re.length)return P;let $=0;return P.endsWith("/")&&$++,re.startsWith("/")&&$++,2==$?P+re.substring(1):1==$?P+re:P+"/"+re}function ae(P){const re=P.match(/#|\?|$/),$=re&&re.index||P.length;return P.slice(0,$-("/"===P[$-1]?1:0))+P.slice($)}function _e(P){return P&&"?"!==P[0]?"?"+P:P}let ct=(()=>{class P{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return(0,o.WQX)(_t)},providedIn:"root"})}}return P})();const je=new o.nKC("appBaseHref");let _t=(()=>{class P extends ct{constructor($,X){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ne(this._baseHref,$)}path($=!1){const X=this._platformLocation.pathname+_e(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&$?`${X}${xe}`:X}pushState($,X,xe,wt){const Nt=this.prepareExternalUrl(xe+_e(wt));this._platformLocation.pushState($,X,Nt)}replaceState($,X,xe,wt){const Nt=this.prepareExternalUrl(xe+_e(wt));this._platformLocation.replaceState($,X,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(X){return new(X||P)(o.KVO(De),o.KVO(je,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),ot=(()=>{class P extends ct{constructor($,X){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl($){const X=ne(this._baseHref,$);return X.length>0?"#"+X:X}pushState($,X,xe,wt){let Nt=this.prepareExternalUrl(xe+_e(wt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState($,X,Nt)}replaceState($,X,xe,wt){let Nt=this.prepareExternalUrl(xe+_e(wt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState($,X,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(X){return new(X||P)(o.KVO(De),o.KVO(je,8))}}static{this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}}return P})(),Rt=(()=>{class P{constructor($){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const X=this._locationStrategy.getBaseHref();this._basePath=function pe(P){if(new RegExp("^(https?:)?//").test(P)){const[,$]=P.split(/\/\/[^\/]+/);return $}return P}(ae(He(X))),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,X=""){return this.path()==this.normalize($+_e(X))}normalize($){return P.stripTrailingSlash(function rn(P,re){if(!P||!re.startsWith(P))return re;const $=re.substring(P.length);return""===$||["/",";","?","#"].includes($[0])?$:re}(this._basePath,He($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,X="",xe=null){this._locationStrategy.pushState(xe,"",$,X),this._notifyUrlChangeListeners(this.prepareExternalUrl($+_e(X)),xe)}replaceState($,X="",xe=null){this._locationStrategy.replaceState(xe,"",$,X),this._notifyUrlChangeListeners(this.prepareExternalUrl($+_e(X)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",X){this._urlChangeListeners.forEach(xe=>xe($,X))}subscribe($,X,xe){return this._subject.subscribe({next:$,error:X,complete:xe})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=ne}static{this.stripTrailingSlash=ae}static{this.\u0275fac=function(X){return new(X||P)(o.KVO(ct))}}static{this.\u0275prov=o.jDH({token:P,factory:function(){return function St(){return new Rt((0,o.KVO)(ct))}()},providedIn:"root"})}}return P})();function He(P){return P.replace(/\/index.html$/,"")}function an(P,re){re=encodeURIComponent(re);for(const $ of P.split(";")){const X=$.indexOf("="),[xe,wt]=-1==X?[$,""]:[$.slice(0,X),$.slice(X+1)];if(xe.trim()===re)return decodeURIComponent(wt)}return null}const Fn=/\s+/,xn=[];let cr=(()=>{class P{constructor($,X,xe,wt){this._iterableDiffers=$,this._keyValueDiffers=X,this._ngEl=xe,this._renderer=wt,this.initialClasses=xn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Fn):xn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Fn):$}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const X of $)this._updateState(X,!0);else if(null!=$)for(const X of Object.keys($))this._updateState(X,!!$[X]);this._applyStateDiff()}_updateState($,X){const xe=this.stateMap.get($);void 0!==xe?(xe.enabled!==X&&(xe.changed=!0,xe.enabled=X),xe.touched=!0):this.stateMap.set($,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const X=$[0],xe=$[1];xe.changed?(this._toggleClass(X,xe.enabled),xe.changed=!1):xe.touched||(xe.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),xe.touched=!1}}_toggleClass($,X){($=$.trim()).length>0&&$.split(Fn).forEach(xe=>{X?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class Tr{constructor(re,$,X,xe){this.$implicit=re,this.ngForOf=$,this.index=X,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class P{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,X,xe){this._viewContainer=$,this._template=X,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const X=this._viewContainer;$.forEachOperation((xe,wt,Nt)=>{if(null==xe.previousIndex)X.createEmbeddedView(this._template,new Tr(xe.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)X.remove(null===wt?void 0:wt);else if(null!==wt){const Nn=X.get(wt);X.move(Nn,Nt),Rs(Nn,xe)}});for(let xe=0,wt=X.length;xe<wt;xe++){const Nn=X.get(xe).context;Nn.index=xe,Nn.count=wt,Nn.ngForOf=this._ngForOf}$.forEachIdentityChange(xe=>{Rs(X.get(xe.currentIndex),xe)})}static ngTemplateContextGuard($,X){return!0}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function Rs(P,re){P.context.$implicit=re.item}let Mo=(()=>{class P{constructor($,X){this._viewContainer=$,this._context=new Ro,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Hi("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Hi("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,X){return!0}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class Ro{constructor(){this.$implicit=null,this.ngIf=null}}function Hi(P,re){if(re&&!re.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,o.Tbb)(re)}'.`)}class Ho{constructor(re,$){this._viewContainerRef=re,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let si=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const X=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const X of this._defaultViews)X.enforceState($)}}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),es=(()=>{class P{constructor($,X,xe){this.ngSwitch=xe,xe._addCase(),this._view=new Ho($,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(si,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),gs=(()=>{class P{constructor($,X,xe){xe._addDefault(new Ho($,X))}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(si,9))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),Ir=(()=>{class P{constructor($,X,xe){this._ngEl=$,this._differs=X,this._renderer=xe,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,X){const[xe,wt]=$.split("."),Nt=-1===xe.indexOf("-")?void 0:o.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,xe,wt?`${X}${wt}`:X,Nt):this._renderer.removeStyle(this._ngEl.nativeElement,xe,Nt)}_applyChanges($){$.forEachRemovedItem(X=>this._setStyle(X.key,null)),$.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),$.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function di(P,re){return new o.wOt(2100,!1)}class Va{createSubscription(re,$){return(0,o.O8t)(()=>re.subscribe({next:$,error:X=>{throw X}}))}dispose(re){(0,o.O8t)(()=>re.unsubscribe())}}class Ya{createSubscription(re,$){return re.then($,X=>{throw X})}dispose(re){}}const Si=new Ya,Ta=new Va;let Js=(()=>{class P{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,X=>this._updateLatestValue($,X))}_selectStrategy($){if((0,o.jNT)($))return Si;if((0,o.zjR)($))return Ta;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,X){$===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),As=(()=>{class P{constructor($){this.differs=$,this.keyValues=[],this.compareFn=Hs}transform($,X=Hs){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const xe=this.differ.diff($),wt=X!==this.compareFn;return xe&&(this.keyValues=[],xe.forEachItem(Nt=>{this.keyValues.push(function ts(P,re){return{key:P,value:re}}(Nt.key,Nt.currentValue))})),(xe||wt)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static{this.\u0275fac=function(X){return new(X||P)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Hs(P,re){const $=P.key,X=re.key;if($===X)return 0;if(void 0===$)return 1;if(void 0===X)return-1;if(null===$)return 1;if(null===X)return-1;if("string"==typeof $&&"string"==typeof X)return $<X?-1:1;if("number"==typeof $&&"number"==typeof X)return $-X;if("boolean"==typeof $&&"boolean"==typeof X)return $<X?-1:1;const xe=String($),wt=String(X);return xe==wt?0:xe<wt?-1:1}let ls=(()=>{class P{transform($,X,xe){if(null==$)return null;if(!this.supports($))throw di();return $.slice(X,xe)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),Ri=(()=>{class P{static{this.\u0275fac=function(X){return new(X||P)}}static{this.\u0275mod=o.$C({type:P})}static{this.\u0275inj=o.G2t({})}}return P})();const mr="browser",Zr="server";function rs(P){return P===Zr}let Oe=(()=>{class P{static{this.\u0275prov=(0,o.jDH)({token:P,providedIn:"root",factory:()=>new Qe((0,o.KVO)(Se),window)})}}return P})();class Qe{constructor(re,$){this.document=re,this.window=$,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const $=function mt(P,re){const $=P.getElementById(re)||P.getElementsByName(re)[0];if($)return $;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const X=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let xe=X.currentNode;for(;xe;){const wt=xe.shadowRoot;if(wt){const Nt=wt.getElementById(re)||wt.querySelector(`[name="${re}"]`);if(Nt)return Nt}xe=X.nextNode()}}return null}(this.document,re);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const $=re.getBoundingClientRect(),X=$.left+this.window.pageXOffset,xe=$.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(X-wt[0],xe-wt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class An{}},7705:(nn,Ye,V)=>{V.d(Ye,{$C:()=>Jr,$GK:()=>bn,$K3:()=>PT,$MX:()=>wf,AVh:()=>K0,Agw:()=>dm,B4B:()=>zp,BIS:()=>hm,BMQ:()=>zi,C4Q:()=>n0,C5r:()=>dT,Co$:()=>CC,DNE:()=>Lh,EFF:()=>eE,EJ8:()=>$s,EmA:()=>yh,FS9:()=>Bl,FsC:()=>vo,G2t:()=>Kt,GBs:()=>sT,GFd:()=>Nv,H3F:()=>xT,H5H:()=>Xv,H8p:()=>Sf,HJs:()=>t1,HbH:()=>q0,Hbi:()=>$A,JRh:()=>zm,JZv:()=>Bn,Jv_:()=>bC,KH2:()=>wg,KVO:()=>ye,Kcf:()=>p_,L39:()=>ZA,LfX:()=>pn,Lme:()=>Wm,MKu:()=>rC,Mz_:()=>Fa,NEm:()=>yA,NYb:()=>pA,Njj:()=>ss,O8t:()=>wt,OA$:()=>pr,Ocv:()=>Hw,Ol2:()=>IC,PLl:()=>iv,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>Os,R7$:()=>$_,RV6:()=>ka,Rfq:()=>_t,RxE:()=>cv,SKi:()=>Do,SpI:()=>Wh,TL$:()=>hh,Tbb:()=>_e,UyX:()=>Cf,VBU:()=>Ya,Vns:()=>Ym,Vt3:()=>Pm,WHO:()=>NT,WPN:()=>uu,WQX:()=>en,XpG:()=>xo,Xx1:()=>jc,Y8G:()=>jh,Z63:()=>od,ZF7:()=>rd,_9s:()=>eg,_q3:()=>nC,aKT:()=>fd,aNF:()=>wC,bIt:()=>Y,bMT:()=>GC,bVm:()=>Hh,bc$:()=>Mf,bkB:()=>Nl,brH:()=>WC,c1b:()=>SE,cWb:()=>Dl,czy:()=>Jd,e01:()=>kT,e5t:()=>zy,eBV:()=>ko,eq3:()=>OC,eu8:()=>Gh,fpN:()=>BA,gRc:()=>DA,gXe:()=>Fi,giA:()=>FT,h9k:()=>Hp,hnV:()=>ST,i5U:()=>zC,iLQ:()=>Xb,j41:()=>Au,jDH:()=>tn,jNT:()=>E,k0s:()=>Du,kS0:()=>bl,kdw:()=>qu,l4e:()=>FC,lJ4:()=>RC,lNU:()=>He,l_i:()=>NC,lsd:()=>aT,mGM:()=>iT,mq5:()=>_b,n$t:()=>C_,nI1:()=>HC,nKC:()=>un,naY:()=>AA,npT:()=>_i,nrm:()=>$h,o8S:()=>ky,oH4:()=>jT,osQ:()=>Tf,plB:()=>jb,qex:()=>Ul,rXU:()=>vu,rcV:()=>Al,s1E:()=>kC,sFG:()=>u0,sGs:()=>LC,sZ2:()=>S_,sdS:()=>jm,tSv:()=>mv,uvJ:()=>vi,w6W:()=>FI,wOt:()=>pe,wni:()=>oT,xGo:()=>El,xc7:()=>$v,xe9:()=>PE,xvI:()=>lv,zZn:()=>qc,zcH:()=>gc,zjR:()=>j});var o=V(1413),ue=V(8359),i=V(1985),Ce=V(7786),me=V(4412),Se=V(7673),De=V(7647),Fe=V(5558),Ne=V(3294);function ne(t){for(let n in t)if(t[n]===ne)return n;throw Error("Could not find renamed property on target object.")}function ae(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function _e(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_e).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function ct(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const je=ne({__forward_ref__:ne});function _t(t){return t.__forward_ref__=_t,t.toString=function(){return _e(this())},t}function ot(t){return Rt(t)?t():t}function Rt(t){return"function"==typeof t&&t.hasOwnProperty(je)&&t.__forward_ref__===_t}function St(t){return t&&!!t.\u0275providers}const He="https://g.co/ng/security#xss";class pe extends Error{constructor(n,s){super(function Ke(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function Re(t){return"string"==typeof t?t:null==t?"":String(t)}function Zt(t,n){throw new pe(-201,!1)}function nt(t,n){null==t&&function Ze(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function tn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vn(t){return Bt(t,sn)||Bt(t,Wn)}function pn(t){return null!==Vn(t)}function Bt(t,n){return t.hasOwnProperty(n)?t[n]:null}function gr(t){return t&&(t.hasOwnProperty(Pr)||t.hasOwnProperty(Ut))?t[Pr]:null}const sn=ne({\u0275prov:ne}),Pr=ne({\u0275inj:ne}),Wn=ne({ngInjectableDef:ne}),Ut=ne({ngInjectorDef:ne});var bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bn||{});let Un;function Lr(t){const n=Un;return Un=t,n}function Dr(t,n,s){const u=Vn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&bn.Optional?null:void 0!==n?n:void Zt(_e(t))}const Bn=globalThis;class un{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=tn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ln={},kr="__NG_DI_FLAG__",Cr="ngTempTokenPath",Ct=/\n/gm,M="__source";let k;function ie(t){const n=k;return k=t,n}function ee(t,n=bn.Default){if(void 0===k)throw new pe(-203,!1);return null===k?Dr(t,void 0,n):k.get(t,n&bn.Optional?null:void 0,n)}function ye(t,n=bn.Default){return(function In(){return Un}()||ee)(ot(t),n)}function en(t,n=bn.Default){return ye(t,_n(n))}function _n(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Er(t){const n=[];for(let s=0;s<t.length;s++){const u=ot(t[s]);if(Array.isArray(u)){if(0===u.length)throw new pe(900,!1);let f,g=bn.Default;for(let C=0;C<u.length;C++){const A=u[C],R=$r(A);"number"==typeof R?-1===R?f=A.token:g|=R:f=A}n.push(ye(f,g))}else n.push(ye(u))}return n}function on(t,n){return t[kr]=n,t.prototype[kr]=n,t}function $r(t){return t[kr]}function Ci(t){return{toString:t}.toString()}var Wi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Wi||{}),Fi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Fi||{});const Ti={},nr=[],Us=ne({\u0275cmp:ne}),Tt=ne({\u0275dir:ne}),rt=ne({\u0275pipe:ne}),Pt=ne({\u0275mod:ne}),an=ne({\u0275fac:ne}),Fn=ne({__NG_ELEMENT_ID__:ne}),xn=ne({__NG_ENV_ID__:ne});function cr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}s=f+1}}function Vr(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const g=s[u++],C=s[u++],A=s[u++];t.setAttribute(n,C,A,g)}else{const g=f,C=s[++u];Tr(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),u++}}return u}function Wr(t){return 3===t||4===t||6===t}function Tr(t){return 64===t.charCodeAt(0)}function Ki(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||Rs(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function Rs(t,n,s,u,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===s){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}const Zi="ng-template";function Mo(t,n,s){let u=0,f=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&f){const C=t[u++];if(s&&"class"===g&&-1!==cr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Ro(t){return 4===t.type&&t.value!==Zi}function Hi(t,n,s){return n===(4!==t.type||s?t.value:Zi)}function Ho(t,n,s){let u=4;const f=t.attrs||[],g=function qi(t){for(let n=0;n<t.length;n++)if(Wr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&u){if(u=2|1&u,""!==R&&!Hi(t,R,s)||""===R&&1===n.length){if(si(u))return!1;C=!0}}else{const z=8&u?R:n[++A];if(8&u&&null!==t.attrs){if(!Mo(t.attrs,z,s)){if(si(u))return!1;C=!0}continue}const Ie=es(8&u?"class":R,f,Ro(t),s);if(-1===Ie){if(si(u))return!1;C=!0;continue}if(""!==z){let Je;Je=Ie>g?"":f[Ie+1].toLowerCase();const lt=8&u?Je:null;if(lt&&-1!==cr(lt,z,0)||2&u&&z!==Je){if(si(u))return!1;C=!0}}}}else{if(!C&&!si(u)&&!si(R))return!1;if(C&&si(R))continue;C=!1,u=R|1&u}}return si(u)||C}function si(t){return 0==(1&t)}function es(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Mi(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function gs(t,n,s=!1){for(let u=0;u<n.length;u++)if(Ho(t,n[u],s))return!0;return!1}function ho(t,n){return t?":not("+n.trim()+")":n}function Oo(t){let n=t[0],s=1,u=2,f="",g=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&u){const A=t[++s];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!si(C)&&(n+=ho(g,f),f=""),u=C,g=g||!si(u);s++}return""!==f&&(n+=ho(g,f)),n}function Ya(t){return Ci(()=>{const n=cs(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Fi.Emulated,styles:t.styles||nr,_:null,schemas:t.schemas||null,tView:null,id:""};fo(s);const u=t.dependencies;return s.directiveDefs=ts(u,!1),s.pipeDefs=ts(u,!0),s.id=function Hs(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function Ta(t){return Sr(t)||hi(t)}function Js(t){return null!==t}function Jr(t){return Ci(()=>({type:t.type,bootstrap:t.bootstrap||nr,declarations:t.declarations||nr,imports:t.imports||nr,exports:t.exports||nr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bs(t,n){if(null==t)return Ti;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=u,n&&(n[f]=g)}return s}function vo(t){return Ci(()=>{const n=cs(t);return fo(n),n})}function $s(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sr(t){return t[Us]||null}function hi(t){return t[Tt]||null}function Ii(t){return t[rt]||null}function Os(t){const n=Sr(t)||hi(t)||Ii(t);return null!==n&&n.standalone}function fi(t,n){const s=t[Pt]||null;if(!s&&!0===n)throw new Error(`Type ${_e(t)} does not have '\u0275mod' property.`);return s}function cs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ti,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||nr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bs(t.inputs,n),outputs:Bs(t.outputs)}}function fo(t){t.features?.forEach(n=>n(t))}function ts(t,n){if(!t)return null;const s=n?Ii:Ta;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(Js)}const oi=0,hn=1,tr=2,lr=3,ns=4,ls=5,Or=6,Ri=7,mr=8,Zr=9,us=10,$n=11,Ui=12,rs=13,te=14,J=15,Te=16,Oe=17,Qe=18,mt=19,qt=20,An=21,gn=22,zn=23,wr=24,Rn=25,Xn=1,pi=2,qr=7,ei=9,Qn=11;function Oi(t){return Array.isArray(t)&&"object"==typeof t[Xn]}function Hr(t){return Array.isArray(t)&&!0===t[Xn]}function Eo(t){return 0!=(4&t.flags)}function wi(t){return t.componentOffset>-1}function ds(t){return 1==(1&t.flags)}function Gs(t){return!!t.template}function to(t){return 0!=(512&t[tr])}function ys(t,n){return t.hasOwnProperty(an)?t[an]:null}let xs=null,Wo=!1;function ji(t){const n=xs;return xs=t,n}const sl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qa(t){if(!Ws(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ol(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function vs(t){t.dirty=!0,function zs(t){if(void 0===t.liveConsumerNode)return;const n=Wo;Wo=!0;try{for(const s of t.liveConsumerNode)s.dirty||vs(s)}finally{Wo=n}}(t),t.consumerMarkedDirty?.(t)}function ha(t){return t&&(t.nextProducerIndex=0),ji(t)}function fa(t,n){if(ji(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ws(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)bc(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ol(t){bo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||(Qa(s),u!==s.version))return!0}return!1}function Mu(t){if(bo(t),Ws(t))for(let n=0;n<t.producerNode.length;n++)bc(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bc(t,n){if(function Ja(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),bo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)bc(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];bo(f),f.producerIndexOfThis[u]=n}}function Ws(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ko=null;function wt(t){const n=ji(null);try{return t()}finally{ji(n)}}const Nn=()=>{},Gr=(()=>({...sl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Nn}))();class ni{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function pr(){return ai}function ai(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pi),Ai}function Ai(){const t=Ps(this),n=t?.current;if(n){const s=t.previous;if(s===Ti)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Pi(t,n,s,u){const f=this.declaredInputs[s],g=Ps(t)||function qo(t,n){return t[go]=n}(t,{previous:Ti,current:null}),C=g.current||(g.current={}),A=g.previous,R=A[f];C[f]=new ni(R&&R.currentValue,n,A===Ti),t[u]=n}pr.ngInherit=!0;const go="__ngSimpleChanges__";function Ps(t){return t[go]||null}const bs=function(t,n,s){};function Ar(t){for(;Array.isArray(t);)t=t[oi];return t}function Ha(t,n){return Ar(n[t])}function ro(t,n){return Ar(n[t.index])}function ql(t,n){return t.data[n]}function Ic(t,n){return t[n]}function Gi(t,n){const s=n[t];return Oi(s)?s:s[oi]}function Li(t,n){return null==n?null:t[n]}function io(t){t[Oe]=0}function pa(t){1024&t[tr]||(t[tr]|=1024,Nu(t,1))}function Sa(t){1024&t[tr]&&(t[tr]&=-1025,Nu(t,-1))}function Nu(t,n){let s=t[lr];if(null===s)return;s[ls]+=n;let u=s;for(s=s[lr];null!==s&&(1===n&&1===u[ls]||-1===n&&0===u[ls]);)s[ls]+=n,u=s,s=s[lr]}const rr={lFrame:ce(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yl(){return rr.bindingsEnabled}function Ht(){return rr.lFrame.lView}function xr(){return rr.lFrame.tView}function ko(t){return rr.lFrame.contextLView=t,t[mr]}function ss(t){return rr.lFrame.contextLView=null,t}function Ks(){let t=ul();for(;null!==t&&64===t.type;)t=t.parent;return t}function ul(){return rr.lFrame.currentTNode}function Co(t,n){const s=rr.lFrame;s.currentTNode=t,s.isParent=n}function Ac(){return rr.lFrame.isParent}function dl(){rr.lFrame.isParent=!1}function Ns(){const t=rr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ao(){return rr.lFrame.bindingIndex++}function qs(t){const n=rr.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function wd(t,n){const s=rr.lFrame;s.bindingIndex=s.bindingRootIndex=t,Dc(n)}function Dc(t){rr.lFrame.currentDirectiveIndex=t}function fl(){return rr.lFrame.currentQueryIndex}function D(t){rr.lFrame.currentQueryIndex=t}function O(t){const n=t[hn];return 2===n.type?n.declTNode:1===n.type?t[Or]:null}function w(t,n,s){if(s&bn.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&bn.Host||(f=O(g),null===f||(g=g[te],10&f.type))););if(null===f)return!1;n=f,t=g}const u=rr.lFrame=G();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=G(),s=t[hn];rr.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function G(){const t=rr.lFrame,n=null===t?null:t.child;return null===n?ce(t):n}function ce(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pe(){const t=rr.lFrame;return rr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bt=Pe;function pt(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _r(){return rr.lFrame.selectedIndex}function Nr(t){rr.lFrame.selectedIndex=t}function Yr(){const t=rr.lFrame;return ql(t.tView,t.selectedIndex)}let Qh=!0;function ic(){return Qh}function ma(t){Qh=t}function Ga(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:z,ngOnDestroy:se}=g;C&&(t.contentHooks??=[]).push(-s,C),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),R&&(t.viewHooks??=[]).push(-s,R),z&&((t.viewHooks??=[]).push(s,z),(t.viewCheckHooks??=[]).push(s,z)),null!=se&&(t.destroyHooks??=[]).push(s,se)}}function Ql(t,n,s){xc(t,n,3,s)}function Vu(t,n,s,u){(3&t[tr])===s&&xc(t,n,s,u)}function Uu(t,n){let s=t[tr];(3&s)===n&&(s&=8191,s+=1,t[tr]=s)}function xc(t,n,s,u){const g=u??-1,C=n.length-1;let A=0;for(let R=void 0!==u?65535&t[Oe]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=u&&A>=u)break}else n[R]<0&&(t[Oe]+=65536),(A<g||-1==g)&&(Dd(t,s,n,R),t[Oe]=(4294901760&t[Oe])+R+2),R++}function Ad(t,n){bs(4,t,n);const s=ji(null);try{n.call(t)}finally{ji(s),bs(5,t,n)}}function Dd(t,n,s,u){const f=s[u]<0,g=s[u+1],A=t[f?-s[u]:s[u]];f?t[tr]>>13<t[Oe]>>16&&(3&t[tr])===n&&(t[tr]+=8192,Ad(A,g)):Ad(A,g)}const Ms=-1;class Jo{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function gl(t){return t!==Ms}function Rc(t){return 32767&t}function ml(t,n){let s=function Pd(t){return t>>16}(t),u=n;for(;s>0;)u=u[te],s--;return u}let Bu=!0;function sc(t){const n=Bu;return Bu=t,n}const Md=255,Fo=5;let $u=0;const To={};function _l(t,n){const s=Od(t,n);if(-1!==s)return s;const u=n[hn];u.firstCreatePass&&(t.injectorIndex=n.length,ks(u.data,t),ks(n,null),ks(u.blueprint,null));const f=oc(t,n),g=t.injectorIndex;if(gl(f)){const C=Rc(f),A=ml(f,n),R=A[hn].data;for(let z=0;z<8;z++)n[g+z]=A[C+z]|R[C+z]}return n[g+8]=f,g}function ks(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Od(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function oc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=cc(f),null===u)return Ms;if(s++,f=f[te],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Ms}function yl(t,n,s){!function Rd(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Fn)&&(u=s[Fn]),null==u&&(u=s[Fn]=$u++);const f=u&Md;n.data[t+(f>>Fo)]|=1<<f}(t,n,s)}function ac(t,n,s){if(s&bn.Optional||void 0!==t)return t;Zt()}function vl(t,n,s,u){if(s&bn.Optional&&void 0===u&&(u=null),!(s&(bn.Self|bn.Host))){const f=t[Zr],g=Lr(void 0);try{return f?f.get(n,u,s&bn.Optional):Dr(n,u,s&bn.Optional)}finally{Lr(g)}}return ac(u,0,s)}function Hu(t,n,s,u=bn.Default,f){if(null!==t){if(2048&n[tr]&&!(u&bn.Self)){const C=function Fd(t,n,s,u,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[tr]&&!(512&C[tr]);){const A=Oc(g,C,s,u|bn.Self,To);if(A!==To)return A;let R=g.parent;if(!R){const z=C[qt];if(z){const se=z.get(s,To,u);if(se!==To)return se}R=cc(C),C=C[te]}g=R}return f}(t,n,s,u,To);if(C!==To)return C}const g=Oc(t,n,s,u,To);if(g!==To)return g}return vl(n,s,u,f)}function Oc(t,n,s,u,f){const g=function Nc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Fn)?t[Fn]:void 0;return"number"==typeof n?n>=0?n&Md:up:n}(s);if("function"==typeof g){if(!w(n,t,u))return u&bn.Host?ac(f,0,u):vl(n,s,u,f);try{let C;if(C=g(u),null!=C||u&bn.Optional)return C;Zt()}finally{bt()}}else if("number"==typeof g){let C=null,A=Od(t,n),R=Ms,z=u&bn.Host?n[J][Or]:null;for((-1===A||u&bn.SkipSelf)&&(R=-1===A?oc(t,n):n[A+8],R!==Ms&&Jl(u,!1)?(C=n[hn],A=Rc(R),n=ml(R,n)):A=-1);-1!==A;){const se=n[hn];if(Nd(g,A,se.data)){const Ie=Dg(A,n,s,C,u,z);if(Ie!==To)return Ie}R=n[A+8],R!==Ms&&Jl(u,n[hn].data[A+8]===z)&&Nd(g,A,n)?(C=se,A=Rc(R),n=ml(R,n)):A=-1}}return f}function Dg(t,n,s,u,f,g){const C=n[hn],A=C.data[t+8],se=Pa(A,C,s,null==u?wi(A)&&Bu:u!=C&&0!=(3&A.type),f&bn.Host&&g===A);return null!==se?_a(n,C,se,A):To}function Pa(t,n,s,u,f){const g=t.providerIndexes,C=n.data,A=1048575&g,R=t.directiveStart,se=g>>20,Je=f?A+se:t.directiveEnd;for(let lt=u?A:A+se;lt<Je;lt++){const kt=C[lt];if(lt<R&&s===kt||lt>=R&&kt.type===s)return lt}if(f){const lt=C[R];if(lt&&Gs(lt)&&lt.type===s)return R}return null}function _a(t,n,s,u){let f=t[s];const g=n.data;if(function Pc(t){return t instanceof Jo}(f)){const C=f;C.resolving&&function yt(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new pe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Re(t)}(g[s]));const A=sc(C.canSeeViewProviders);C.resolving=!0;const z=C.injectImpl?Lr(C.injectImpl):null;w(t,u,bn.Default);try{f=t[s]=C.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function Jh(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const C=ai(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],n)}finally{null!==z&&Lr(z),sc(A),C.resolving=!1,bt()}}return f}function Nd(t,n,s){return!!(s[n+(t>>Fo)]&1<<t)}function Jl(t,n){return!(t&bn.Self||t&bn.Host&&n)}class eo{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Hu(this._tNode,this._lView,n,_n(u),s)}}function up(){return new eo(Ks(),Ht())}function El(t){return Ci(()=>{const n=t.prototype.constructor,s=n[an]||kd(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const g=f[an]||kd(f);if(g&&g!==s)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function kd(t){return Rt(t)?()=>{const n=kd(ot(t));return n&&n()}:ys(t)}function cc(t){const n=t[hn],s=n.type;return 2===s?n.declTNode:1===s?t[Or]:null}function bl(t){return function ef(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const g=s[f];if(Wr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(Ks(),t)}const Zo="__parameters__";function Zl(t,n,s){return Ci(()=>{const u=function Ld(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(R,z,se){const Ie=R.hasOwnProperty(Zo)?R[Zo]:Object.defineProperty(R,Zo,{value:[]})[Zo];for(;Ie.length<=se;)Ie.push(null);return(Ie[se]=Ie[se]||[]).push(C),R}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Lc(t,n){t.forEach(s=>Array.isArray(s)?Lc(s,n):n(s))}function Wu(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function lc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ta(t,n,s){let u=Io(t,n);return u>=0?t[1|u]=s:(u=~u,function xg(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Ud(t,n){const s=Io(t,n);if(s>=0)return t[1|s]}function Io(t,n){return function Ku(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const g=u+(f-u>>1),C=t[g<<s];if(n===C)return g<<s;C>n?f=g:u=g+1}return~(f<<s)}(t,n,1)}const jc=on(Zl("Optional"),8),qu=on(Zl("SkipSelf"),4);function Qd(t){return 128==(128&t.flags)}var Jd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jd||{});const Ly=/^>|^->|<!--|-->|--!>|<!-$/g,Ng=/(<|>)/g,Vy="\u200b$1\u200b";const Zd=new Map;let Jm=0;const eh="__ngContext__";function Vo(t,n){Oi(n)?(t[eh]=n[mt],function Qu(t){Zd.set(t[mt],t)}(n)):t[eh]=n}let Ip;function Il(t,n){return Ip(t,n)}function rh(t){const n=t[lr];return Hr(n)?n[lr]:n}function i_(t){return wp(t[Ui])}function Fg(t){return wp(t[ns])}function wp(t){for(;null!==t&&!Hr(t);)t=t[ns];return t}function au(t,n,s,u,f){if(null!=u){let g,C=!1;Hr(u)?g=u:Oi(u)&&(C=!0,u=u[oi]);const A=Ar(u);0===t&&null!==s?null==f?Mp(n,s,A):Zu(n,s,A,f||null,!0):1===t&&null!==s?Zu(n,s,A,f||null,!0):2===t?function Fp(t,n,s){const u=lh(t,n);u&&function jg(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,A,C):3===t&&n.destroyNode(A),null!=g&&function Hg(t,n,s,u,f){const g=s[qr];g!==Ar(s)&&au(n,t,u,g,f);for(let A=Qn;A<s.length;A++){const R=s[A];Ef(R[hn],R,t,n,u,g)}}(n,t,g,s,f)}}function Lg(t,n){return t.createComment(function $c(t){return t.replace(Ly,n=>n.replace(Ng,Vy))}(n))}function oh(t,n,s){return t.createElement(n,s)}function Sp(t,n){const s=t[ei],u=s.indexOf(n);Sa(n),s.splice(u,1)}function mf(t,n){if(t.length<=Qn)return;const s=Qn+n,u=t[s];if(u){const f=u[Te];null!==f&&f!==t&&Sp(f,u),n>0&&(t[s-1][ns]=u[ns]);const g=lc(t,Qn+n);!function Vg(t,n){Ef(t,n,n[$n],2,null,null),n[oi]=null,n[Or]=null}(u[hn],u);const C=g[Qe];null!==C&&C.detachView(g[hn]),u[lr]=null,u[ns]=null,u[tr]&=-129}return u}function xp(t,n){if(!(256&n[tr])){const s=n[$n];n[zn]&&Mu(n[zn]),n[wr]&&Mu(n[wr]),s.destroyNode&&Ef(t,n,s,3,null,null),function Dp(t){let n=t[Ui];if(!n)return Pp(t[hn],t);for(;n;){let s=null;if(Oi(n))s=n[Ui];else{const u=n[Qn];u&&(s=u)}if(!s){for(;n&&!n[ns]&&n!==t;)Oi(n)&&Pp(n[hn],n),n=n[lr];null===n&&(n=t),Oi(n)&&Pp(n[hn],n),s=n&&n[ns]}n=s}}(n)}}function Pp(t,n){if(!(256&n[tr])){n[tr]&=-129,n[tr]|=256,function By(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof Jo)){const g=s[u+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],R=g[C+1];bs(4,A,R);try{R.call(A)}finally{bs(5,A,R)}}else{bs(4,f,g);try{g.call(f)}finally{bs(5,f,g)}}}}}(t,n),function a_(t,n){const s=t.cleanup,u=n[Ri];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const C=s[g+3];C>=0?u[C]():u[-C].unsubscribe(),g+=2}else s[g].call(u[s[g+1]]);null!==u&&(n[Ri]=null);const f=n[An];if(null!==f){n[An]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[hn].type&&n[$n].destroy();const s=n[Te];if(null!==s&&Hr(n[lr])){s!==n[lr]&&Sp(s,n);const u=n[Qe];null!==u&&u.detachView(t)}!function Uy(t){Zd.delete(t[mt])}(n)}}function Ug(t,n,s){return function c_(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[oi];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=t.data[u.directiveStart+f];if(g===Fi.None||g===Fi.Emulated)return null}return ro(u,s)}}(t,n.parent,s)}function Zu(t,n,s,u,f){t.insertBefore(n,s,u,f)}function Mp(t,n,s){t.appendChild(n,s)}function l_(t,n,s,u,f){null!==u?Zu(t,n,s,u,f):Mp(t,n,s)}function lh(t,n){return t.parentNode(n)}let $g,Gc,qg,Yg,Op=function ed(t,n,s){return 40&t.type?ro(t,s):null};function kp(t,n,s,u){const f=Ug(t,u,n),g=n[$n],A=function Rp(t,n,s){return Op(t,n,s)}(u.parent||n[Or],u,n);if(null!=f)if(Array.isArray(s))for(let R=0;R<s.length;R++)l_(g,f,s[R],A,!1);else l_(g,f,s,A,!1);void 0!==$g&&$g(g,u,n,s,f)}function td(t,n){if(null!==n){const s=n.type;if(3&s)return ro(n,t);if(4&s)return yf(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return td(t,u);{const f=t[n.index];return Hr(f)?yf(-1,f):Ar(f)}}if(32&s)return Il(n,t)()||Ar(t[n.index]);{const u=_f(t,n);return null!==u?Array.isArray(u)?u[0]:td(rh(t[J]),u):td(t,n.next)}}return null}function _f(t,n){return null!==n?t[J][Or].projection[n.projection]:null}function yf(t,n){const s=Qn+t+1;if(s<n.length){const u=n[s],f=u[hn].firstChild;if(null!==f)return td(u,f)}return n[qr]}function vf(t,n,s,u,f,g,C){for(;null!=s;){const A=u[s.index],R=s.type;if(C&&0===n&&(A&&Vo(Ar(A),u),s.flags|=2),32!=(32&s.flags))if(8&R)vf(t,n,s.child,u,f,g,!1),au(n,t,f,A,g);else if(32&R){const z=Il(s,u);let se;for(;se=z();)au(n,t,f,se,g);au(n,t,f,A,g)}else 16&R?u_(t,n,u,s,f,g):au(n,t,f,A,g);s=C?s.projectionNext:s.next}}function Ef(t,n,s,u,f,g){vf(s,u,t.firstChild,n,f,g,!1)}function u_(t,n,s,u,f,g){const C=s[J],R=C[Or].projection[u.projection];if(Array.isArray(R))for(let z=0;z<R.length;z++)au(n,t,f,R[z],g);else{let z=R;const se=C[lr];Qd(u)&&(z.flags|=128),vf(t,n,z,se,f,g,!0)}}function dh(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Up(t,n,s){const{mergedAttrs:u,classes:f,styles:g}=s;null!==u&&Vr(t,n,u),null!==f&&dh(t,n,f),null!==g&&function Gg(t,n,s){t.setAttribute(n,"style",s)}(t,n,g)}function nd(t){return function zg(){if(void 0===Gc&&(Gc=null,Bn.trustedTypes))try{Gc=Bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gc}()?.createHTML(t)||t}function hh(t){qg=t}function fh(){if(void 0!==qg)return qg;if(typeof document<"u")return document;throw new pe(210,!1)}function pc(){if(void 0===Yg&&(Yg=null,Bn.trustedTypes))try{Yg=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yg}function d_(t){return pc()?.createHTML(t)||t}function h_(t){return pc()?.createScriptURL(t)||t}class wl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}class Gy extends wl{getTypeName(){return"HTML"}}class Xg extends wl{getTypeName(){return"Style"}}class f_ extends wl{getTypeName(){return"Script"}}class Qg extends wl{getTypeName(){return"URL"}}class Jg extends wl{getTypeName(){return"ResourceURL"}}function Al(t){return t instanceof wl?t.changingThisBreaksApplicationSecurity:t}function rd(t,n){const s=function bf(t){return t instanceof wl&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${He})`)}return s===n}function p_(t){return new Gy(t)}function Dl(t){return new Xg(t)}function Cf(t){return new f_(t)}function Tf(t){return new Qg(t)}function zy(t){return new Jg(t)}class Wy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(nd(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class If{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=nd(n),s}}const ph=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wf(t){return(t=String(t)).match(ph)?t:"unsafe:"+t}function Oa(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function id(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const m_=Oa("area,br,col,hr,img,wbr"),sd=Oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),__=Oa("rp,rt"),Af=id(m_,id(sd,Oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),id(__,Oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),id(__,sd)),Df=Oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bp=id(Df,Oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),v_=Oa("script,style,template");class gh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Af.hasOwnProperty(s))return this.sanitizedSomething=!0,!v_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),C=g.name,A=C.toLowerCase();if(!Bp.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=g.value;Df[A]&&(R=wf(R)),this.buf.push(" ",C,'="',mh(R),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Af.hasOwnProperty(s)&&!m_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(mh(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const E_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$p=/([^\#-~ |!])/g;function mh(t){return t.replace(/&/g,"&amp;").replace(E_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace($p,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wa;function Hp(t,n){let s=null;try{Wa=Wa||function lu(t){const n=new If(t);return function g_(){try{return!!(new window.DOMParser).parseFromString(nd(""),"text/html")}catch{return!1}}()?new Wy(n):n}(t);let u=n?String(n):"";s=Wa.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=s.innerHTML,s=Wa.getInertBodyElement(u)}while(u!==g);return nd((new gh).sanitizeChildren(em(s)||s))}finally{if(s){const u=em(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function em(t){return"content"in t&&function Gp(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var uu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(uu||{});function _i(t){const n=_h();return n?d_(n.sanitize(uu.HTML,t)||""):rd(t,"HTML")?d_(Al(t)):Hp(fh(),Re(t))}function zp(t){const n=_h();return n?n.sanitize(uu.URL,t)||"":rd(t,"URL")?Al(t):wf(Re(t))}function b_(t){const n=_h();if(n)return h_(n.sanitize(uu.RESOURCE_URL,t)||"");if(rd(t,"ResourceURL"))return h_(Al(t));throw new pe(904,!1)}function C_(t,n,s){return function Zy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?b_:zp}(n,s)(t)}function _h(){const t=Ht();return t&&t[us].sanitizer}const od=new un("ENVIRONMENT_INITIALIZER"),tm=new un("INJECTOR",-1),nm=new un("INJECTOR_DEF_TYPES");class Wp{get(n,s=Ln){if(s===Ln){const u=new Error(`NullInjectorError: No provider for ${_e(n)}!`);throw u.name="NullInjectorError",u}return s}}function yh(t){return{\u0275providers:t}}function ci(...t){return{\u0275providers:rm(0,t),\u0275fromNgModule:!0}}function rm(t,...n){const s=[],u=new Set;let f;const g=C=>{s.push(C)};return Lc(n,C=>{const A=C;du(A,g,[],u)&&(f||=[],f.push(A))}),void 0!==f&&im(f,g),s}function im(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];co(f,g=>{n(g,u)})}}function du(t,n,s,u){if(!(t=ot(t)))return!1;let f=null,g=gr(t);const C=!g&&Sr(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(g=gr(R),!g)return!1;f=R}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const z of R)du(z,n,s,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let z;u.add(f);try{Lc(g.imports,se=>{du(se,n,s,u)&&(z||=[],z.push(se))})}finally{}void 0!==z&&im(z,n)}if(!A){const z=ys(f)||(()=>new f);n({provide:f,useFactory:z,deps:nr},f),n({provide:nm,useValue:f,multi:!0},f),n({provide:od,useValue:()=>ye(f),multi:!0},f)}const R=g.providers;if(null!=R&&!A){const z=t;co(R,se=>{n(se,z)})}}}return f!==t&&void 0!==t.providers}function co(t,n){for(let s of t)St(s)&&(s=s.\u0275providers),Array.isArray(s)?co(s,n):n(s)}const Ls=ne({provide:String,useValue:ne});function Ka(t){return null!==t&&"object"==typeof t&&Ls in t}function hu(t){return"function"==typeof t}const Sf=new un("Set Injector scope."),xf={},sm={};let om;function Kp(){return void 0===om&&(om=new Wp),om}class vi{}class Pf extends vi{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,um(n,C=>this.processProvider(C)),this.records.set(tm,ad(void 0,this)),f.has("environment")&&this.records.set(vi,ad(void 0,this));const g=this.records.get(Sf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(nm.multi,nr,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=ie(this),u=Lr(void 0);try{return n()}finally{ie(s),Lr(u)}}get(n,s=Ln,u=bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(xn))return n[xn](this);u=_n(u);const g=ie(this),C=Lr(void 0);try{if(!(u&bn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const z=function D_(t){return"function"==typeof t||"object"==typeof t&&t instanceof un}(n)&&Vn(n);R=z&&this.injectableDefInScope(z)?ad(am(n),xf):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(u&bn.Self?Kp():this.parent).get(n,s=u&bn.Optional&&s===Ln?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[Cr]=A[Cr]||[]).unshift(_e(n)),g)throw A;return function fr(t,n,s,u){const f=t[Cr];throw n[M]&&f.unshift(n[M]),t.message=function Vs(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=_e(n);if(Array.isArray(n))f=n.map(_e).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):_e(A)))}f=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(Ct,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[Cr]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Lr(C),ie(g)}}resolveInjectorInitializers(){const n=ie(this),s=Lr(void 0);try{const f=this.get(od.multi,nr,bn.Self);for(const g of f)g()}finally{ie(n),Lr(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(_e(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(n){let s=hu(n=ot(n))?n:ot(n&&n.provide);const u=function w_(t){return Ka(t)?ad(void 0,t.useValue):ad(A_(t),xf)}(n);if(hu(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=ad(void 0,xf,!0),f.factory=()=>Er(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===xf&&(s.value=sm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function lm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=ot(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function am(t){const n=Vn(t),s=null!==n?n.factory:ys(t);if(null!==s)return s;if(t instanceof un)throw new pe(204,!1);if(t instanceof Function)return function Ts(t){const n=t.length;if(n>0)throw function Vc(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new pe(204,!1);const s=function Ft(t){return t&&(t[sn]||t[Wn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new pe(204,!1)}function A_(t,n,s){let u;if(hu(t)){const f=ot(t);return ys(f)||am(f)}if(Ka(t))u=()=>ot(t.useValue);else if(function I_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Er(t.deps||[]));else if(function T_(t){return!(!t||!t.useExisting)}(t))u=()=>ye(ot(t.useExisting));else{const f=ot(t&&(t.useClass||t.provide));if(!function cm(t){return!!t.deps}(t))return ys(f)||am(f);u=()=>new f(...Er(t.deps))}return u}function ad(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function um(t,n){for(const s of t)Array.isArray(s)?um(s,n):s&&St(s)?um(s.\u0275providers,n):n(s)}const S_=new un("AppId",{providedIn:"root",factory:()=>rv}),rv="ng",iv=new un("Platform Initializer"),dm=new un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mf=new un("AnimationModuleType"),hm=new un("CSP nonce",{providedIn:"root",factory:()=>fh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Qp=(t,n,s)=>null;function Pl(t,n,s=!1){return Qp(t,n,s)}class hd{}class Ch{}class ov{resolveComponentFactory(n){throw function Zp(t){const n=Error(`No component factory found for ${_e(t)}.`);return n.ngComponent=t,n}(n)}}let Ml=(()=>{class t{static{this.NULL=new ov}}return t})();function c0(){return Of(Ks(),Ht())}function Of(t,n){return new fd(ro(t,n))}let fd=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=c0}}return t})();function l0(t){return t instanceof fd?t.nativeElement:t}class eg{}let u0=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function av(){const t=Ht(),s=Gi(Ks().index,t);return(Oi(s)?s:t)[$n]}()}}return t})(),ym=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>null})}}return t})();class cv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const lv=new cv("16.2.12"),Nf={};function d0(t,n=null,s=null,u){const f=hv(t,n,s,u);return f.resolveInjectorInitializers(),f}function hv(t,n=null,s=null,u,f=new Set){const g=[s||nr,ci(t)];return u=u||("object"==typeof t?void 0:_e(t)),new Pf(g,n||Kp(),u||null,f)}let qc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ln}static{this.NULL=new Wp}static create(s,u){if(Array.isArray(s))return d0({name:""},u,s,"");{const f=s.name??"";return d0({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=tn({token:t,providedIn:"any",factory:()=>ye(tm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function _u(t){return t.ngOriginalError}class gc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&_u(n);for(;s&&_u(s);)s=_u(s);return s||null}}function Ol(t){return n=>{setTimeout(t,void 0,n)}}const Nl=class g0 extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,g=s||(()=>null),C=u;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),g=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(g=Ol(g),f&&(f=Ol(f)),C&&(C=Ol(C)));const A=super.subscribe({next:f,error:g,complete:C});return n instanceof ue.yU&&n.add(A),A}};function fv(...t){}class Do{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nl(!1),this.onMicrotaskEmpty=new Nl(!1),this.onStable=new Nl(!1),this.onError=new Nl(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function m0(){const t="function"==typeof Bn.requestAnimationFrame;let n=Bn[t?"requestAnimationFrame":"setTimeout"],s=Bn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function v0(t){const n=()=>{!function y0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,L_(t),t.isCheckStableRunning=!0,F_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),L_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,g,C,A)=>{if(function b0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,g,C,A);try{return pv(t),s.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),wh(t)}},onInvoke:(s,u,f,g,C,A,R)=>{try{return pv(t),s.invoke(f,g,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),wh(t)}},onHasTask:(s,u,f,g)=>{s.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,L_(t),F_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Do.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Do.isInAngularZone())throw new pe(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,_0,fv,fv);try{return g.runTask(C,s,u)}finally{g.cancelTask(C)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const _0={};function F_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function L_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wh(t){t._nesting--,F_(t)}class V_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nl,this.onMicrotaskEmpty=new Nl,this.onStable=new Nl,this.onError=new Nl}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const E0=new un("",{providedIn:"root",factory:gv});function gv(){const t=en(Do);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Do.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Do.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Ce.h)(s,u.pipe((0,De.u)()))}function mv(t){return t.ownerDocument.defaultView}function pd(t){return t instanceof Function?t():t}let Ev=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ig(t){for(;t;){t[tr]|=64;const n=rh(t);if(to(t)&&!n)return t;t=n}return null}const bv=new un("",{providedIn:"root",factory:()=>!1});let j_=null;function S0(t,n){return t[n]??wv()}function x0(t,n){const s=wv();s.producerNode?.length&&(t[n]=j_,s.lView=t,j_=B_())}const Iv={...sl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ig(t.lView)},lView:null};function B_(){return Object.create(Iv)}function wv(){return j_??=B_(),j_}const Mr={};function $_(t){og(xr(),Ht(),_r()+t,!1)}function og(t,n,s,u){if(!u)if(3==(3&n[tr])){const g=t.preOrderCheckHooks;null!==g&&Ql(n,g,s)}else{const g=t.preOrderHooks;null!==g&&Vu(n,g,0,s)}Nr(s)}function vu(t,n=bn.Default){const s=Ht();return null===s?ye(t,n):Hu(Ks(),s,ot(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,g,C,A,R,z,se){const Ie=n.blueprint.slice();return Ie[oi]=f,Ie[tr]=140|u,(null!==z||t&&2048&t[tr])&&(Ie[tr]|=2048),io(Ie),Ie[lr]=Ie[te]=t,Ie[mr]=s,Ie[us]=C||t&&t[us],Ie[$n]=A||t&&t[$n],Ie[Zr]=R||t&&t[Zr]||null,Ie[Or]=g,Ie[mt]=function Hc(){return Jm++}(),Ie[gn]=se,Ie[qt]=z,Ie[J]=2==n.type?t[J]:Ie,Ie}function a(t,n,s,u,f){let g=t.data[n];if(null===g)g=function h(t,n,s,u,f){const g=ul(),C=Ac(),R=t.data[n]=function Kn(t,n,s,u,f,g){let C=n?n.injectorIndex:-1,A=0;return function No(){return null!==rr.skipHydrationRootTNode}()&&(A|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=R),null!==g&&(C?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(t,n,s,u,f),function Id(){return rr.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=u,g.attrs=f;const C=function nc(){const t=rr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return Co(g,!0),g}function _(t,n,s,u){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const g=S0(n,zn),C=_r(),A=2&u;try{Nr(-1),A&&n.length>Rn&&og(t,n,Rn,!1),bs(A?2:0,f);const z=A?g:null,se=ha(z);try{null!==z&&(z.dirty=!1),s(u,f)}finally{fa(z,se)}}finally{A&&null===n[zn]&&x0(n,zn),Nr(C),bs(A?3:1,f)}}function x(t,n,s){if(Eo(n)){const u=ji(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,s[C],C)}}finally{ji(u)}}}function F(t,n,s){Yl()&&(function P0(t,n,s,u){const f=s.directiveStart,g=s.directiveEnd;wi(s)&&function lg(t,n,s){const u=ro(n,t),f=oe(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const A=Vf(t,r(t,f,null,C,u,n,null,t[us].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||_l(s,n),Vo(u,n);const C=s.initialInputs;for(let A=f;A<g;A++){const R=t.data[A],z=_a(n,t,A,s);Vo(z,n),null!==C&&O0(0,A-f,z,R,0,C),Gs(R)&&(Gi(s.index,n)[mr]=_a(n,t,A,s))}}(t,n,s,ro(s,n)),64==(64&s.flags)&&Lf(t,n,s))}function q(t,n,s=ro){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const C=u[g+1],A=-1===C?s(n,t):t[C];t[f++]=A}}}function oe(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ve(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ve(t,n,s,u,f,g,C,A,R,z,se){const Ie=Rn+u,Je=Ie+f,lt=function $e(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:Mr);return s}(Ie,Je),kt="function"==typeof z?z():z;return lt[hn]={type:t,blueprint:lt,template:s,queries:null,viewQuery:A,declTNode:n,data:lt.slice().fill(null,Ie),bindingStartIndex:Ie,expandoStartIndex:Je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:kt,incompleteFirstPass:!1,ssrId:se}}let cn=t=>null;function Rr(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const g=t[f];null===u?Ni(s,n,f,g):u.hasOwnProperty(f)&&Ni(s,n,u[f],g)}return s}function Ni(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function ke(t,n,s,u,f,g,C,A){const R=ro(n,s);let se,z=n.inputs;!A&&null!=z&&(se=z[u])?(Im(t,s,se,u,f),wi(n)&&function We(t,n){const s=Gi(n,t);16&s[tr]||(s[tr]|=64)}(s,n.index)):3&n.type&&(u=function it(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,g.setProperty(R,u,f))}function It(t,n,s,u){if(Yl()){const f=null===u?null:{"":-1},g=function H_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let g=0;g<s.length;g++){const C=s[g];if(gs(n,C.selectors,!1))if(u||(u=[]),Gs(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),bm(t,n,A.length)}else u.unshift(C),bm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,s);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&Ge(t,n,s,C,f,A),f&&function M0(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new pe(-301,!1);u.push(n[f],g)}}}(s,u,f)}s.mergedAttrs=Ki(s.mergedAttrs,s.attrs)}function Ge(t,n,s,u,f,g){for(let z=0;z<u.length;z++)yl(_l(s,n),t,u[z].type);!function ra(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let z=0;z<u.length;z++){const se=u[z];se.providersResolver&&se.providersResolver(se)}let C=!1,A=!1,R=_(t,n,u.length,null);for(let z=0;z<u.length;z++){const se=u[z];s.mergedAttrs=Ki(s.mergedAttrs,se.hostAttrs),R0(t,s,n,R,se),gd(R,se,f),null!==se.contentQueries&&(s.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=64);const Ie=se.type.prototype;!C&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!A&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),R++}!function ri(t,n,s){const f=n.directiveEnd,g=t.data,C=n.attrs,A=[];let R=null,z=null;for(let se=n.directiveStart;se<f;se++){const Ie=g[se],Je=s?s.get(Ie):null,kt=Je?Je.outputs:null;R=Rr(Ie.inputs,se,R,Je?Je.inputs:null),z=Rr(Ie.outputs,se,z,kt);const ln=null===R||null===C||Ro(n)?null:Cm(R,se,C);A.push(ln)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=z}(t,s,g)}function Lf(t,n,s){const u=s.directiveStart,f=s.directiveEnd,g=s.index,C=function Jn(){return rr.lFrame.currentDirectiveIndex}();try{Nr(g);for(let A=u;A<f;A++){const R=t.data[A],z=n[A];Dc(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&cg(R,z)}}finally{Nr(-1),Dc(C)}}function cg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function bm(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function gd(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;Gs(n)&&(s[""]=t)}}function R0(t,n,s,u,f){t.data[u]=f;const g=f.factory||(f.factory=ys(f.type)),C=new Jo(g,Gs(f),vu);t.blueprint[u]=C,s[u]=C,function Eu(t,n,s,u,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function ag(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(s,u,g)}}(t,n,u,_(t,s,f.hostVars,Mr),f)}function kl(t,n,s,u,f,g){const C=ro(t,n);!function Ah(t,n,s,u,f,g,C){if(null==g)t.removeAttribute(n,f,s);else{const A=null==C?Re(g):C(g,u||"",f);t.setAttribute(n,f,A,s)}}(n[$n],C,g,t.value,s,u,f)}function O0(t,n,s,u,f,g){const C=g[n];if(null!==C)for(let A=0;A<C.length;)Av(u,s,C[A++],C[A++],C[A++])}function Av(t,n,s,u,f){const g=ji(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{ji(g)}}function Cm(t,n,s){let u=null,f=0;for(;f<s.length;){const g=s[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(g,C[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function ug(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function Tm(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const g=s[u+1];if(-1!==g){const C=t.data[g];D(s[u]),C.contentQueries(2,n[g],g)}}}function Vf(t,n){return t[Ui]?t[rs][ns]=n:t[Ui]=n,t[rs]=n,n}function dg(t,n,s){D(0);const u=ji(null);try{n(t,s)}finally{ji(u)}}function z_(t){return t[Ri]||(t[Ri]=[])}function W_(t){return t.cleanup||(t.cleanup=[])}function K_(t,n){const s=t[Zr],u=s?s.get(gc,null):null;u&&u.handleError(n)}function Im(t,n,s,u,f){for(let g=0;g<s.length;){const C=s[g++],A=s[g++];Av(t.data[C],n[C],u,A,f)}}function Yc(t,n,s){const u=Ha(n,t);!function Ap(t,n,s){t.setValue(n,s)}(t[$n],u,s)}function Sv(t,n){const s=Gi(n,t),u=s[hn];!function N0(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[oi];null!==f&&null===s[gn]&&(s[gn]=Pl(f,s[Zr])),hg(u,s,s[mr])}function hg(t,n,s){N(n);try{const u=t.viewQuery;null!==u&&dg(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Tm(t,n),t.staticViewQueries&&dg(2,t.viewQuery,s);const g=t.components;null!==g&&function q_(t,n){for(let s=0;s<n.length;s++)Sv(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[tr]&=-5,pt()}}let wm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const g=typeof Zone>"u"?null:Zone.current,C=function Nt(t,n,s){const u=Object.create(Gr);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>vs(u),run:()=>{if(u.dirty=!1,u.hasRun&&!ol(u))return;u.hasRun=!0;const C=ha(u);try{u.cleanupFn(),u.cleanupFn=Nn,u.fn(f)}finally{fa(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(s,z=>{this.all.has(z)&&this.queue.set(z,g)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=tn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function So(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?g=A:1==g?f=ct(f,A):2==g&&(u=ct(u,A+": "+n[++C]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function md(t,n,s,u,f=!1){for(;null!==s;){const g=n[s.index];null!==g&&u.push(Ar(g)),Hr(g)&&Y_(g,u);const C=s.type;if(8&C)md(t,n,s.child,u);else if(32&C){const A=Il(s,n);let R;for(;R=A();)u.push(R)}else if(16&C){const A=_f(n,s);if(Array.isArray(A))u.push(...A);else{const R=rh(n[J]);md(R[hn],R,A,u,!0)}}s=f?s.projectionNext:s.next}return u}function Y_(t,n){for(let s=Qn;s<t.length;s++){const u=t[s],f=u[hn].firstChild;null!==f&&md(u[hn],u,f,n)}t[qr]!==t[oi]&&n.push(t[qr])}function fg(t,n,s,u=!0){const f=n[us],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{X_(t,n,t.template,s)}catch(R){throw u&&K_(n,R),R}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function X_(t,n,s,u){const f=n[tr];if(256!=(256&f)){n[us].effectManager?.flush(),N(n);try{io(n),function ga(t){return rr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const C=3==(3&f);if(C){const z=t.preOrderCheckHooks;null!==z&&Ql(n,z,null)}else{const z=t.preOrderHooks;null!==z&&Vu(n,z,0,null),Uu(n,0)}if(function J_(t){for(let n=i_(t);null!==n;n=Fg(n)){if(!n[pi])continue;const s=n[ei];for(let u=0;u<s.length;u++){pa(s[u])}}}(n),Q_(n,2),null!==t.contentQueries&&Tm(t,n),C){const z=t.contentCheckHooks;null!==z&&Ql(n,z)}else{const z=t.contentHooks;null!==z&&Vu(n,z,1),Uu(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=S0(n,wr);try{for(let f=0;f<s.length;f++){const g=s[f];if(g<0)Nr(~g);else{const C=g,A=s[++f],R=s[++f];wd(A,C),u.dirty=!1;const z=ha(u);try{R(2,n[C])}finally{fa(u,z)}}}}finally{null===n[wr]&&x0(n,wr),Nr(-1)}}(t,n);const A=t.components;null!==A&&Am(n,A,0);const R=t.viewQuery;if(null!==R&&dg(2,R,u),C){const z=t.viewCheckHooks;null!==z&&Ql(n,z)}else{const z=t.viewHooks;null!==z&&Vu(n,z,2),Uu(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[tr]&=-73,Sa(n)}finally{pt()}}}function Q_(t,n){for(let s=i_(t);null!==s;s=Fg(s))for(let u=Qn;u<s.length;u++)xv(s[u],n)}function k0(t,n,s){xv(Gi(n,t),s)}function xv(t,n){if(!function Ou(t){return 128==(128&t[tr])}(t))return;const s=t[hn],u=t[tr];if(80&u&&0===n||1024&u||2===n)X_(s,t,s.template,t[mr]);else if(t[ls]>0){Q_(t,1);const f=s.components;null!==f&&Am(t,f,1)}}function Am(t,n,s){for(let u=0;u<n.length;u++)k0(t,n[u],s)}class Uf{get rootNodes(){const n=this._lView,s=n[hn];return md(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(n){this._lView[mr]=n}get destroyed(){return 256==(256&this._lView[tr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[lr];if(Hr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(mf(n,u),lc(s,u))}this._attachedToViewContainer=!1}xp(this._lView[hn],this._lView)}onDestroy(n){!function ll(t,n){if(256==(256&t[tr]))throw new pe(911,!1);null===t[An]&&(t[An]=[]),t[An].push(n)}(this._lView,n)}markForCheck(){ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[tr]&=-129}reattach(){this._lView[tr]|=128}detectChanges(){fg(this._lView[hn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s_(t,n){Ef(t,n,n[$n],2,null,null)}(this._lView[hn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=n}}class Pv extends Uf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;fg(n[hn],n,n[mr],!1)}checkNoChanges(){}get context(){return null}}class jf extends Ml{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Sr(n);return new Bf(s,this.ngModule)}}function Dm(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class Dh{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=_n(u);const f=this.injector.get(n,Nf,u);return f!==Nf||s===Nf?f:this.parentInjector.get(n,s,u)}}class Bf extends Ch{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Dm(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return Dm(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function di(t){return t.map(Oo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let g=(f=f||this.ngModule)instanceof vi?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new Dh(n,g):n,A=C.get(eg,null);if(null===A)throw new pe(407,!1);const Ie={rendererFactory:A,sanitizer:C.get(ym,null),effectManager:C.get(wm,null),afterRenderEventManager:C.get(Ev,null)},Je=A.createRenderer(null,this.componentDef),lt=this.componentDef.selectors[0][0]||"div",kt=u?function vt(t,n,s,u){const g=u.get(bv,!1)||s===Fi.ShadowDom,C=t.selectRootElement(n,g);return function jt(t){cn(t)}(C),C}(Je,u,this.componentDef.encapsulation,C):oh(Je,lt,function Z_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(lt)),sr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Yt=null;null!==kt&&(Yt=Pl(kt,C,!0));const Fr=ve(0,null,null,1,0,null,null,null,null,null,null),Ei=r(null,Fr,null,sr,null,null,Ie,Je,C,null,Yt);let ps,rl;N(Ei);try{const ap=this.componentDef;let Fy,sC=null;ap.findHostDirectiveDefs?(Fy=[],sC=new Map,ap.findHostDirectiveDefs(ap,Fy,sC),Fy.push(ap)):Fy=[ap];const n1=function Mv(t,n){const s=t[hn],u=Rn;return t[u]=n,a(s,u,2,"#host",null)}(Ei,kt),r1=function gg(t,n,s,u,f,g,C){const A=f[hn];!function ey(t,n,s,u){for(const f of t)n.mergedAttrs=Ki(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(So(n,n.mergedAttrs,!0),null!==s&&Up(u,s,n))}(u,t,n,C);let R=null;null!==n&&(R=Pl(n,f[Zr]));const z=g.rendererFactory.createRenderer(n,s);let se=16;s.signals?se=4096:s.onPush&&(se=64);const Ie=r(f,oe(s),null,se,f[t.index],t,g,z,null,null,R);return A.firstCreatePass&&bm(A,t,u.length-1),Vf(f,Ie),f[t.index]=Ie}(n1,kt,ap,Fy,Ei,Ie,Je);rl=ql(Fr,Rn),kt&&function ty(t,n,s,u){if(u)Vr(t,s,["ng-version",lv.full]);else{const{attrs:f,classes:g}=function Va(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&s.push(g);else{if(!si(f))break;f=g}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&Vr(t,s,f),g&&g.length>0&&dh(t,s,g.join(" "))}}(Je,ap,kt,u),void 0!==s&&function $f(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const g=s[f];u.push(null!=g?Array.from(g):null)}}(rl,this.ngContentSelectors,s),ps=function sa(t,n,s,u,f,g){const C=Ks(),A=f[hn],R=ro(C,f);Ge(A,f,C,s,null,u);for(let se=0;se<s.length;se++)Vo(_a(f,A,C.directiveStart+se,C),f);Lf(A,f,C),R&&Vo(R,f);const z=_a(f,A,C.directiveStart+C.componentOffset,C);if(t[mr]=f[mr]=z,null!==g)for(const se of g)se(z,n);return x(A,C,t),z}(r1,ap,Fy,sC,Ei,[_d]),hg(Fr,Ei,null)}finally{pt()}return new Sm(this.componentType,ps,Of(rl,Ei),Ei,rl)}}class Sm extends hd{constructor(n,s,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Pv(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const g=this._rootLView;Im(g[hn],g,f,n,s),this.previousInputValues.set(n,s),ig(Gi(this._tNode.index,g))}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _d(){const t=Ks();Ga(Ht()[hn],t)}function Pm(t){let n=function xm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(Gs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new pe(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const C=t;C.inputs=Sh(t.inputs),C.inputTransforms=Sh(t.inputTransforms),C.declaredInputs=Sh(t.declaredInputs),C.outputs=Sh(t.outputs);const A=f.hostBindings;A&&ny(t,A);const R=f.viewQuery,z=f.contentQueries;if(R&&Rv(t,R),z&&mg(t,z),ae(t.inputs,f.inputs),ae(t.declaredInputs,f.declaredInputs),ae(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ae(C.inputTransforms,f.inputTransforms)),Gs(f)&&f.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===Pm&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Hf(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Ki(f.hostAttrs,s=Ki(s,f.hostAttrs))}}(u)}function Sh(t){return t===Ti?{}:t===nr?[]:t}function Rv(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function mg(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,g)=>{n(u,f,g),s(u,f,g)}:n}function ny(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function Nv(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function Gf(t){return!!Cu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Cu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fl(t,n,s){return t[n]=s}function zf(t,n){return t[n]}function Uo(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function yd(t,n,s,u){const f=Uo(t,n,s);return Uo(t,n+1,u)||f}function xh(t,n,s,u,f){const g=yd(t,n,s,u);return Uo(t,n+2,f)||g}function ba(t,n,s,u,f,g){const C=yd(t,n,s,u);return yd(t,n+2,f,g)||C}function zi(t,n,s,u){const f=Ht();return Uo(f,ao(),n)&&(xr(),kl(Yr(),f,t,n,s,u)),zi}function vd(t,n,s,u){return Uo(t,ao(),s)?n+Re(s)+u:Mr}function Mh(t,n,s,u,f,g){const A=yd(t,function oo(){return rr.lFrame.bindingIndex}(),s,f);return qs(2),A?n+Re(s)+u+Re(f)+g:Mr}function Lh(t,n,s,u,f,g,C,A){const R=Ht(),z=xr(),se=t+Rn,Ie=z.firstCreatePass?function Cg(t,n,s,u,f,g,C,A,R){const z=n.consts,se=a(n,t,4,C||null,Li(z,A));It(n,s,se,Li(z,R)),Ga(n,se);const Ie=se.tView=ve(2,se,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,z,null);return null!==n.queries&&(n.queries.template(n,se),Ie.queries=n.queries.embeddedTView(se)),se}(se,z,R,n,s,u,f,g,C):z.data[se];Co(Ie,!1);const Je=gy(z,R,Ie,t);ic()&&kp(z,R,Je,Ie),Vo(Je,R),Vf(R,R[se]=ug(Je,R,Je,Ie)),ds(Ie)&&F(z,R,Ie),null!=C&&q(R,Ie,A)}let gy=function Vh(t,n,s,u){return ma(!0),n[$n].createComment("")};function jm(t){return Ic(function Td(){return rr.lFrame.contextLView}(),Rn+t)}function jh(t,n,s){const u=Ht();return Uo(u,ao(),n)&&ke(xr(),Yr(),u,t,n,u[$n],s,!1),jh}function wu(t,n,s,u,f){const C=f?"class":"style";Im(t,s,n.inputs[C],C,u)}function Au(t,n,s,u){const f=Ht(),g=xr(),C=Rn+t,A=f[$n],R=g.firstCreatePass?function Bh(t,n,s,u,f,g){const C=n.consts,R=a(n,t,2,u,Li(C,f));return It(n,s,R,Li(C,g)),null!==R.attrs&&So(R,R.attrs,!1),null!==R.mergedAttrs&&So(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,g,f,n,s,u):g.data[C],z=mc(g,f,R,A,n,t);f[C]=z;const se=ds(R);return Co(R,!0),Up(A,z,R),32!=(32&R.flags)&&ic()&&kp(g,f,z,R),0===function Cs(){return rr.lFrame.elementDepthCount}()&&Vo(z,f),function so(){rr.lFrame.elementDepthCount++}(),se&&(F(g,f,R),x(g,R,f)),null!==u&&q(f,R),Au}function Du(){let t=Ks();Ac()?dl():(t=t.parent,Co(t,!1));const n=t;(function Cd(t){return rr.skipHydrationRootTNode===t})(n)&&function Xl(){rr.skipHydrationRootTNode=null}(),function _o(){rr.lFrame.elementDepthCount--}();const s=xr();return s.firstCreatePass&&(Ga(s,t),Eo(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Mc(t){return 0!=(8&t.flags)}(n)&&wu(s,n,Ht(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function za(t){return 0!=(16&t.flags)}(n)&&wu(s,n,Ht(),n.stylesWithoutHost,!1),Du}function $h(t,n,s,u){return Au(t,n,s,u),Du(),$h}let mc=(t,n,s,u,f,g)=>(ma(!0),oh(u,f,function Lu(){return rr.lFrame.currentNamespace}()));function Ul(t,n,s){const u=Ht(),f=xr(),g=t+Rn,C=f.firstCreatePass?function _y(t,n,s,u,f){const g=n.consts,C=Li(g,u),A=a(n,t,8,"ng-container",C);return null!==C&&So(A,C,!0),It(n,s,A,Li(g,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(g,f,u,n,s):f.data[g];Co(C,!0);const A=aa(f,u,C,t);return u[g]=A,ic()&&kp(f,u,A,C),Vo(A,u),ds(C)&&(F(f,u,C),x(f,C,u)),null!=s&&q(u,C),Ul}function Hh(){let t=Ks();const n=xr();return Ac()?dl():(t=t.parent,Co(t,!1)),n.firstCreatePass&&(Ga(n,t),Eo(t)&&n.queries.elementEnd(t)),Hh}function Gh(t,n,s){return Ul(t,n,s),Hh(),Gh}let aa=(t,n,s,u)=>(ma(!0),Lg(n[$n],""));function ka(){return Ht()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function Y(t,n,s,u){const f=Ht(),g=xr(),C=Ks();return function Dt(t,n,s,u,f,g,C){const A=ds(u),z=t.firstCreatePass&&W_(t),se=n[mr],Ie=z_(n);let Je=!0;if(3&u.type||C){const ln=ro(u,n),Mn=C?C(ln):ln,sr=Ie.length,Yt=C?Ei=>C(Ar(Ei[u.index])):u.index;let Fr=null;if(!C&&A&&(Fr=function ut(t,n,s,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===s&&f[g+1]===u){const A=n[Ri],R=f[g+2];return A.length>R?A[R]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,u.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=g,Fr.__ngLastListenerFn__=g,Je=!1;else{g=Bi(u,n,se,g,!1);const Ei=s.listen(Mn,f,g);Ie.push(g,Ei),z&&z.push(f,Yt,sr,sr+1)}}else g=Bi(u,n,se,g,!1);const lt=u.outputs;let kt;if(Je&&null!==lt&&(kt=lt[f])){const ln=kt.length;if(ln)for(let Mn=0;Mn<ln;Mn+=2){const ps=n[kt[Mn]][kt[Mn+1]].subscribe(g),rl=Ie.length;Ie.push(g,ps),z&&z.push(f,u.index,rl,-(rl+1))}}}(g,f,f[$n],C,t,n,u),Y}function Cn(t,n,s,u){try{return bs(6,n,s),!1!==s(u)}catch(f){return K_(t,f),!1}finally{bs(7,n,s)}}function Bi(t,n,s,u,f){return function g(C){if(C===Function)return u;ig(t.componentOffset>-1?Gi(t.index,n):n);let R=Cn(n,s,u,C),z=g.__ngNextListenerFn__;for(;z;)R=Cn(n,s,z,C)&&R,z=z.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function xo(t=1){return function vn(t){return(rr.lFrame.contextLView=function dr(t,n){for(;t>0;)n=n[te],t--;return n}(t,rr.lFrame.contextLView))[mr]}(t)}function Bl(t,n,s){return Fa(t,"",n,"",s),Bl}function Fa(t,n,s,u,f){const g=Ht(),C=vd(g,n,s,u);return C!==Mr&&ke(xr(),Yr(),g,t,C,g[$n],f,!1),Fa}function yy(t,n){return t<<17|n<<2}function $l(t){return t>>17&32767}function Ey(t){return 2|t}function rp(t){return(131068&t)>>2}function Hm(t,n){return-131069&t|n<<2}function Bv(t){return 1|t}function $0(t,n,s,u,f){const g=t[s+1],C=null===n;let A=u?$l(g):rp(g),R=!1;for(;0!==A&&(!1===R||C);){const se=t[A+1];ip(t[A],n)&&(R=!0,t[A+1]=u?Bv(se):Ey(se)),A=u?$l(se):rp(se)}R&&(t[s+1]=u?Ey(g):Bv(g))}function ip(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Io(t,n)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function by(t){return t.substring(lo.key,lo.keyEnd)}function H0(t,n){const s=lo.textEnd;return s===n?-1:(n=lo.keyEnd=function QE(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,lo.key=n,s),zh(t,n,s))}function zh(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function $v(t,n,s){return Jc(t,n,s,!1),$v}function K0(t,n){return Jc(t,n,null,!0),K0}function q0(t){!function yc(t,n,s,u){const f=xr(),g=qs(2);f.firstUpdatePass&&ZE(f,null,g,u);const C=Ht();if(s!==Mr&&Uo(C,g,s)){const A=f.data[_r()];if(Z0(A,u)&&!Hv(f,g)){let R=u?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(s=ct(R,s||"")),wu(f,A,C,s,u)}else!function Q0(t,n,s,u,f,g,C,A){f===Mr&&(f=nr);let R=0,z=0,se=0<f.length?f[0]:null,Ie=0<g.length?g[0]:null;for(;null!==se||null!==Ie;){const Je=R<f.length?f[R+1]:void 0,lt=z<g.length?g[z+1]:void 0;let ln,kt=null;se===Ie?(R+=2,z+=2,Je!==lt&&(kt=Ie,ln=lt)):null===Ie||null!==se&&se<Ie?(R+=2,kt=se):(z+=2,kt=Ie,ln=lt),null!==kt&&J0(t,n,s,u,kt,ln,C,A),se=R<f.length?f[R]:null,Ie=z<g.length?g[z]:null}}(f,A,C,C[$n],C[g+1],C[g+1]=function Y0(t,n,s){if(null==s||""===s)return nr;const u=[],f=Al(s);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(u,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(u,g,f[g]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,g)}}(ib,Su,t,!0)}function Su(t,n){for(let s=function YE(t){return function z0(t){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=t.length}(t),H0(t,zh(t,0,lo.textEnd))}(n);s>=0;s=H0(n,s))ta(t,by(n),!0)}function Jc(t,n,s,u){const f=Ht(),g=xr(),C=qs(2);g.firstUpdatePass&&ZE(g,t,C,u),n!==Mr&&Uo(f,C,n)&&J0(g,g.data[_r()],f,f[$n],t,f[C+1]=function sb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=_e(Al(t)))),t}(n,s),u,C)}function Hv(t,n){return n>=t.expandoStartIndex}function ZE(t,n,s,u){const f=t.data;if(null===f[s+1]){const g=f[_r()],C=Hv(t,s);Z0(g,u)&&null===n&&!C&&(n=!1),n=function eb(t,n,s,u){const f=function xa(t){const n=rr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=Gm(s=Gv(null,t,n,s,u),n.attrs,u),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=Gv(f,t,n,s,u),null===g){let R=function tb(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==rp(u))return t[$l(u)]}(t,n,u);void 0!==R&&Array.isArray(R)&&(R=Gv(null,t,n,R[1],u),R=Gm(R,n.attrs,u),function nb(t,n,s,u){t[$l(s?n.classBindings:n.styleBindings)]=u}(t,n,u,R))}else g=function rb(t,n,s){let u;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)u=Gm(u,t[g].hostAttrs,s);return Gm(u,n.attrs,s)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),s}(f,g,n,u),function KE(t,n,s,u,f,g){let C=g?n.classBindings:n.styleBindings,A=$l(C),R=rp(C);t[u]=s;let se,z=!1;if(Array.isArray(s)?(se=s[1],(null===se||Io(s,se)>0)&&(z=!0)):se=s,f)if(0!==R){const Je=$l(t[A+1]);t[u+1]=yy(Je,A),0!==Je&&(t[Je+1]=Hm(t[Je+1],u)),t[A+1]=function j0(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=yy(A,0),0!==A&&(t[A+1]=Hm(t[A+1],u)),A=u;else t[u+1]=yy(R,0),0===A?A=u:t[R+1]=Hm(t[R+1],u),R=u;z&&(t[u+1]=Ey(t[u+1])),$0(t,se,u,!0),$0(t,se,u,!1),function qE(t,n,s,u,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&Io(g,n)>=0&&(s[u+1]=Bv(s[u+1]))}(n,se,t,u,g),C=yy(A,R),g?n.classBindings=C:n.styleBindings=C}(f,g,n,s,C,u)}}function Gv(t,n,s,u,f){let g=null;const C=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<C&&(g=n[A],u=Gm(u,g.hostAttrs,f),g!==t);)A++;return null!==t&&(s.directiveStylingLast=A),u}function Gm(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ta(t,C,!!s||n[++g]))}return void 0===t?null:t}function ib(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&ta(t,u,s)}function J0(t,n,s,u,f,g,C,A){if(!(3&n.type))return;const R=t.data,z=R[A+1],se=function B0(t){return 1==(1&t)}(z)?Ay(R,n,s,f,rp(z),C):void 0;Dy(se)||(Dy(g)||function vy(t){return 2==(2&t)}(z)&&(g=Ay(R,null,s,f,A,C)),function uh(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let g=-1===u.indexOf("-")?void 0:Jd.DashCase;null==f?t.removeStyle(s,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Jd.Important),t.setStyle(s,u,f,g))}}(u,C,Ha(_r(),s),f,g))}function Ay(t,n,s,u,f,g){const C=null===n;let A;for(;f>0;){const R=t[f],z=Array.isArray(R),se=z?R[1]:R,Ie=null===se;let Je=s[f+1];Je===Mr&&(Je=Ie?nr:void 0);let lt=Ie?Ud(Je,u):se===u?Je:void 0;if(z&&!Dy(lt)&&(lt=Ud(R,u)),Dy(lt)&&(A=lt,C))return A;const kt=t[f+1];f=C?$l(kt):rp(kt)}if(null!==n){let R=g?n.residualClasses:n.residualStyles;null!=R&&(A=Ud(R,u))}return A}function Dy(t){return void 0!==t}function Z0(t,n){return 0!=(t.flags&(n?8:16))}function eE(t,n=""){const s=Ht(),u=xr(),f=t+Rn,g=u.firstCreatePass?a(u,f,1,n,null):u.data[f],C=zv(u,s,g,n,t);s[f]=C,ic()&&kp(u,s,C,g),Co(g,!1)}let zv=(t,n,s,u,f)=>(ma(!0),function sh(t,n){return t.createText(n)}(n[$n],u));function zm(t){return Wh("",t,""),zm}function Wh(t,n,s){const u=Ht(),f=vd(u,t,n,s);return f!==Mr&&Yc(u,_r(),f),Wh}function Wm(t,n,s,u,f){const g=Ht(),C=Mh(g,t,n,s,u,f);return C!==Mr&&Yc(g,_r(),C),Wm}const sp=void 0;var vE=["en",[["a","p"],["AM","PM"],sp],[["AM","PM"],sp,sp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sp,"{1} 'at' {0}",sp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gb(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Kh={};function Xv(t){const n=function vb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=yb(n);if(s)return s;const u=n.split("-")[0];if(s=yb(u),s)return s;if("en"===u)return vE;throw new pe(701,!1)}function _b(t){return Xv(t)[wg.PluralCase]}function yb(t){return t in Kh||(Kh[t]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[t]),Kh[t]}var wg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(wg||{});const p="en-US";let K=p;function Ab(t,n,s,u,f){if(t=ot(t),Array.isArray(t))for(let g=0;g<t.length;g++)Ab(t[g],n,s,u,f);else{const g=xr(),C=Ht(),A=Ks();let R=hu(t)?t:ot(t.provide);const z=A_(t),se=1048575&A.providerIndexes,Ie=A.directiveStart,Je=A.providerIndexes>>20;if(hu(t)||!t.multi){const lt=new Jo(z,f,vu),kt=Sb(R,n,f?se:se+Je,Ie);-1===kt?(yl(_l(A,C),g,R),Db(g,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(lt),C.push(lt)):(s[kt]=lt,C[kt]=lt)}else{const lt=Sb(R,n,se+Je,Ie),kt=Sb(R,n,se,se+Je),Mn=kt>=0&&s[kt];if(f&&!Mn||!f&&!(lt>=0&&s[lt])){yl(_l(A,C),g,R);const sr=function kI(t,n,s,u,f){const g=new Jo(t,s,vu);return g.multi=[],g.index=n,g.componentProviders=0,EC(g,f,u&&!s),g}(f?NI:OI,s.length,f,u,z);!f&&Mn&&(s[kt].providerFactory=sr),Db(g,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(sr),C.push(sr)}else Db(g,t,lt>-1?lt:kt,EC(s[f?kt:lt],z,!f&&u));!f&&u&&Mn&&s[kt].componentProviders++}}}function Db(t,n,s,u){const f=hu(n),g=function nv(t){return!!t.useClass}(n);if(f||g){const R=(g?ot(n.useClass):n).prototype.ngOnDestroy;if(R){const z=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const se=z.indexOf(s);-1===se?z.push(s,[u,R]):z[se+1].push(u,R)}else z.push(s,R)}}}function EC(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function Sb(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function OI(t,n,s,u){return xb(this.multi,[])}function NI(t,n,s,u){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=_a(s,s[hn],this.providerFactory.index,u);g=A.slice(0,C),xb(f,g);for(let R=C;R<A.length;R++)g.push(A[R])}else g=[],xb(f,g);return g}function xb(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function bC(t,n=[]){return s=>{s.providersResolver=(u,f)=>function RI(t,n,s){const u=xr();if(u.firstCreatePass){const f=Gs(t);Ab(s,u.data,u.blueprint,f,!0),Ab(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Ym{}class CC{}function FI(t,n){return new Pb(t,n??null,[])}class Pb extends Ym{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jf(this);const f=fi(n);this._bootstrapComponents=pd(f.bootstrap),this._r3Injector=hv(n,s,[{provide:Ym,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver},...u],_e(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Mb extends CC{constructor(n){super(),this.moduleType=n}create(n){return new Pb(this.moduleType,n,[])}}class TC extends Ym{constructor(n){super(),this.componentFactoryResolver=new jf(this),this.instance=null;const s=new Pf([...n.providers,{provide:Ym,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver}],n.parent||Kp(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function IC(t,n,s=null){return new TC({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let VI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=rm(0,s.type),f=u.length>0?IC([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=tn({token:t,providedIn:"environment",factory:()=>new t(ye(vi))})}}return t})();function wC(t){t.getStandaloneInjector=n=>n.get(VI).getOrCreateStandaloneInjector(t)}function RC(t,n,s){const u=Ns()+t,f=Ht();return f[u]===Mr?Fl(f,u,s?n.call(s):n()):zf(f,u)}function OC(t,n,s,u){return VC(Ht(),Ns(),t,n,s,u)}function NC(t,n,s,u,f){return UC(Ht(),Ns(),t,n,s,u,f)}function kC(t,n,s,u,f,g,C,A){const R=Ns()+t,z=Ht(),se=ba(z,R,s,u,f,g);return Uo(z,R+4,C)||se?Fl(z,R+5,A?n.call(A,s,u,f,g,C):n(s,u,f,g,C)):zf(z,R+5)}function FC(t,n,s,u,f,g,C,A,R){const z=Ns()+t,se=Ht(),Ie=ba(se,z,s,u,f,g);return yd(se,z+4,C,A)||Ie?Fl(se,z+6,R?n.call(R,s,u,f,g,C,A):n(s,u,f,g,C,A)):zf(se,z+6)}function LC(t,n,s,u,f,g,C,A,R,z){const se=Ns()+t,Ie=Ht();let Je=ba(Ie,se,s,u,f,g);return xh(Ie,se+4,C,A,R)||Je?Fl(Ie,se+7,z?n.call(z,s,u,f,g,C,A,R):n(s,u,f,g,C,A,R)):zf(Ie,se+7)}function e0(t,n){const s=t[n];return s===Mr?void 0:s}function VC(t,n,s,u,f,g){const C=n+s;return Uo(t,C,f)?Fl(t,C+1,g?u.call(g,f):u(f)):e0(t,C+1)}function UC(t,n,s,u,f,g,C){const A=n+s;return yd(t,A,f,g)?Fl(t,A+2,C?u.call(C,f,g):u(f,g)):e0(t,A+2)}function HC(t,n){const s=xr();let u;const f=t+Rn;s.firstCreatePass?(u=function QI(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const g=u.factory||(u.factory=ys(u.type)),A=Lr(vu);try{const R=sc(!1),z=g();return sc(R),function Uh(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,Ht(),f,z),z}finally{Lr(A)}}function GC(t,n,s){const u=t+Rn,f=Ht(),g=Ic(f,u);return t0(f,u)?VC(f,Ns(),n,g.transform,s,g):g.transform(s)}function zC(t,n,s,u){const f=t+Rn,g=Ht(),C=Ic(g,f);return t0(g,f)?UC(g,Ns(),n,C.transform,s,u,C):C.transform(s,u)}function WC(t,n,s,u,f){const g=t+Rn,C=Ht(),A=Ic(C,g);return t0(C,g)?function jC(t,n,s,u,f,g,C,A){const R=n+s;return xh(t,R,f,g,C)?Fl(t,R+3,A?u.call(A,f,g,C):u(f,g,C)):e0(t,R+3)}(C,Ns(),n,A.transform,s,u,f,A):A.transform(s,u,f)}function t0(t,n){return t[hn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Ob{get changes(){return this._changes||(this._changes=new Nl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ob.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function ea(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function af(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,s,u=!0){const f=n[hn];if(function o_(t,n,s,u){const f=Qn+u,g=s.length;u>0&&(s[f-1][ns]=n),u<g-Qn?(n[ns]=s[f],Wu(s,Qn+u,n)):(s.push(n),n[ns]=null),n[lr]=s;const C=n[Te];null!==C&&s!==C&&function ch(t,n){const s=t[ei];n[J]!==n[lr][lr][J]&&(t[pi]=!0),null===s?t[ei]=[n]:s.push(n)}(C,n);const A=n[Qe];null!==A&&A.insertView(t),n[tr]|=128}(f,n,t,s),u){const g=yf(s,t),C=n[$n],A=lh(C,t[qr]);null!==A&&function ah(t,n,s,u,f,g){u[oi]=f,u[Or]=n,Ef(t,u,s,1,f,g)}(f,t[Or],C,n,A,g)}}let n0=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=n0,iw=class extends rw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function tw(t,n,s,u){const f=n.tView,A=r(t,f,s,4096&t[tr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[Te]=t[n.index];const z=t[Qe];return null!==z&&(A[Qe]=z.createEmbeddedView(f)),hg(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new Uf(f)}};function sw(){return AE(Ks(),Ht())}function AE(t,n){return 4&t.type?new iw(n,t,Of(t,n)):null}let SE=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return ZC(Ks(),Ht())}const hw=SE,QC=class extends hw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const n=oc(this._hostTNode,this._hostLView);if(gl(n)){const s=ml(n,this._hostLView),u=Rc(n);return new eo(s[hn].data[u+8],s)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=JC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Qn}createEmbeddedView(n,s,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const A=n.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(A,f,false),A}createComponent(n,s,u,f,g){const C=n&&!function Fc(t){return"function"==typeof t}(n);let A;if(C)A=s;else{const ln=s||{};A=ln.index,u=ln.injector,f=ln.projectableNodes,g=ln.environmentInjector||ln.ngModuleRef}const R=C?n:new Bf(Sr(n)),z=u||this.parentInjector;if(!g&&null==R.ngModule){const Mn=(C?z:this.parentInjector).get(vi,null);Mn&&(g=Mn)}Sr(R.componentType??{});const lt=R.create(z,f,null,g);return this.insertImpl(lt.hostView,A,false),lt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function Xo(t){return Hr(t[lr])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const z=f[lr],se=new QC(z,z[Or],z[lr]);se.detach(se.indexOf(n))}}const C=this._adjustIndex(s),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),Wu(Nb(A),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=JC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=mf(this._lContainer,s);u&&(lc(Nb(this._lContainer),s),xp(u[hn],u))}detach(n){const s=this._adjustIndex(n,-1),u=mf(this._lContainer,s);return u&&null!=lc(Nb(this._lContainer),s)?new Uf(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function JC(t){return t[8]}function Nb(t){return t[8]||(t[8]=[])}function ZC(t,n){let s;const u=n[t.index];return Hr(u)?s=u:(s=ug(u,n,null,t),n[t.index]=s,Vf(n,s)),eT(s,n,t,u),new QC(s,t,n)}let eT=function tT(t,n,s,u){if(t[qr])return;let f;f=8&s.type?Ar(u):function fw(t,n){const s=t[$n],u=s.createComment(""),f=ro(n,t);return Zu(s,lh(s,f),u,function Bg(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[qr]=f};class kb{constructor(n){this.queryList=n,this.matches=null}clone(){return new kb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<u;g++){const C=s.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new Fb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==uT(n,s).matches&&this.queries[s].setDirty()}}class nT{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Lb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new Lb(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Vb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Vb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,s,mw(s,g)),this.matchTNodeWithReadOption(n,s,Pa(s,n,g,!1,!1))}else u===n0?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Pa(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===fd||f===SE||f===n0&&4&s.type)this.addMatch(s.index,-2);else{const g=Pa(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function mw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yw(t,n,s,u){return-1===s?function _w(t,n){return 11&t.type?Of(t,n):4&t.type?AE(t,n):null}(n,t):-2===s?function vw(t,n,s){return s===fd?Of(n,t):s===n0?AE(n,t):s===SE?ZC(n,t):void 0}(t,n,u):_a(t,t[hn],s,n)}function rT(t,n,s,u){const f=n[Qe].queries[u];if(null===f.matches){const g=t.data,C=s.matches,A=[];for(let R=0;R<C.length;R+=2){const z=C[R];A.push(z<0?null:yw(n,g[z],C[R+1],s.metadata.read))}f.matches=A}return f.matches}function Ub(t,n,s,u){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const C=rT(t,n,f,s);for(let A=0;A<g.length;A+=2){const R=g[A];if(R>0)u.push(C[A/2]);else{const z=g[A+1],se=n[-R];for(let Ie=Qn;Ie<se.length;Ie++){const Je=se[Ie];Je[Te]===Je[lr]&&Ub(Je[hn],Je,z,u)}if(null!==se[ei]){const Ie=se[ei];for(let Je=0;Je<Ie.length;Je++){const lt=Ie[Je];Ub(lt[hn],lt,z,u)}}}}}return u}function iT(t){const n=Ht(),s=xr(),u=fl();D(u+1);const f=uT(s,u);if(t.dirty&&function Xh(t){return 4==(4&t[tr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?Ub(s,n,u,[]):rT(s,n,f,u);t.reset(g,l0),t.notifyOnChanges()}return!0}return!1}function sT(t,n,s){const u=xr();u.firstCreatePass&&(lT(u,new nT(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),cT(u,Ht(),n)}function oT(t,n,s,u){const f=xr();if(f.firstCreatePass){const g=Ks();lT(f,new nT(n,s,u),g.index),function bw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}cT(f,Ht(),s)}function aT(){return function Ew(t,n){return t[Qe].queries[n].queryList}(Ht(),fl())}function cT(t,n,s){const u=new Ob(4==(4&s));(function ir(t,n,s,u){const f=z_(n);f.push(s),t.firstCreatePass&&W_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[Qe]&&(n[Qe]=new Fb),n[Qe].queries.push(new kb(u))}function lT(t,n,s){null===t.queries&&(t.queries=new Lb),t.queries.track(new Vb(n,s))}function uT(t,n){return t.queries.getByIndex(n)}function dT(t,n){return AE(t,n)}function jb(t){return!!fi(t)}const ST=new un("Application Initializer");let zb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=en(ST,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const g=f();if(E(g))s.push(g);else if(j(g)){const C=new Promise((A,R)=>{g.subscribe({complete:A,error:R})});s.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const PE=new un("LocaleId",{providedIn:"root",factory:()=>en(PE,bn.Optional|bn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||p}()}),Hw=new un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let PT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ww=(()=>{class t{compileModuleSync(s){return new Mb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=pd(fi(s).declarations).reduce((C,A)=>{const R=Sr(A);return R&&C.push(new Bf(R)),C},[]);return new zw(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const NT=new un(""),kT=new un("");let qb,pA=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qb||(function gA(t){qb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Do.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(ye(Do),ye(FT),ye(kT))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac})}}return t})(),FT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return qb?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Ag=null;const LT=new un("AllowMultipleToken"),Yb=new un("PlatformDestroyListeners"),Xb=new un("appBootstrapListener");class yA{constructor(n,s){this.name=n,this.token=s}}function jT(t,n,s=[]){const u=`Platform: ${n}`,f=new un(u);return(g=[])=>{let C=Qb();if(!C||C.injector.get(LT,!1)){const A=[...s,...g,{provide:f,useValue:!0}];t?t(A):function vA(t){if(Ag&&!Ag.get(LT,!1))throw new pe(400,!1);(function VT(){!function Da(t){Ko=t}(()=>{throw new pe(600,!1)})})(),Ag=t;const n=t.get($T);(function UT(t){t.get(iv,null)?.forEach(s=>s())})(t)}(function BT(t=[],n){return qc.create({name:n,providers:[{provide:Sf,useValue:"platform"},{provide:Yb,useValue:new Set([()=>Ag=null])},...t]})}(A,u))}return function bA(t){const n=Qb();if(!n)throw new pe(401,!1);return n}()}}function Qb(){return Ag?.get($T)??null}let $T=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function CA(t="zone.js",n){return"noop"===t?new V_:"zone.js"===t?new Do(n):t}(u?.ngZone,function HT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function LI(t,n,s){return new Pb(t,n,s)}(s.moduleType,this.injector,function qT(t){return[{provide:Do,useFactory:t},{provide:od,multi:!0,useFactory:()=>{const n=en(IA,{optional:!0});return()=>n.initialize()}},{provide:KT,useFactory:TA},{provide:E0,useFactory:gv}]}(()=>f)),C=g.injector.get(gc,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});g.onDestroy(()=>{RE(this._modules,g),A.unsubscribe()})}),function GT(t,n,s){try{const u=s();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=g.injector.get(zb);return A.runInitializers(),A.donePromise.then(()=>(function le(t){nt(t,"Expected localeId to be defined"),"string"==typeof t&&(K=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(PE,p)||p),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,u=[]){const f=zT({},u);return function mA(t,n,s){const u=new Mb(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const u=s.injector.get(ky);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new pe(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(Yb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(ye(qc))}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function zT(t,n){return Array.isArray(n)?n.reduce(zT,t):{...t,...n}}let ky=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=en(KT),this.zoneIsStable=en(E0),this.componentTypes=[],this.components=[],this.isStable=en(PT).hasPendingTasks.pipe((0,Fe.n)(s=>s?(0,Se.of)(!1):this.zoneIsStable),(0,Ne.F)(),(0,De.u)()),this._injector=en(vi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof Ch;if(!this._injector.get(zb).done)throw!f&&Os(s),new pe(405,!1);let C;C=f?s:this._injector.get(Ml).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const A=function _A(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Ym),z=C.create(qc.NULL,[],u||C.selector,A),se=z.location.nativeElement,Ie=z.injector.get(NT,null);return Ie?.registerApplication(se),z.onDestroy(()=>{this.detachView(z.hostView),RE(this.components,z),Ie?.unregisterApplication(se)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;RE(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(Xb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>RE(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new pe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function RE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const KT=new un("",{providedIn:"root",factory:()=>en(gc).handleError.bind(void 0)});function TA(){const t=en(Do),n=en(gc);return s=>t.runOutsideAngular(()=>n.handleError(s))}let IA=(()=>{class t{constructor(){this.zone=en(Do),this.applicationRef=en(ky)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=tn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AA(){return!1}let DA=(()=>{class t{static{this.__NG_ELEMENT_ID__=SA}}return t})();function SA(t){return function xA(t,n,s){if(wi(t)&&!s){const u=Gi(t.index,n);return new Uf(u,u)}return 47&t.type?new Uf(n[J],n):null}(Ks(),Ht(),16==(16&t))}class ZT{constructor(){}supports(n){return Gf(n)}create(n){return new NA(n)}}const OA=(t,n)=>n;class NA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OA}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,g=null;for(;s||u;){const C=!u||s&&s.currentIndex<tI(u,f,g)?s:u,A=tI(C,f,g),R=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{g||(g=[]);const z=A-f,se=R-f;if(z!=se){for(let Je=0;Je<z;Je++){const lt=Je<g.length?g[Je]:g[Je]=0,kt=lt+Je;se<=kt&&kt<z&&(g[Je]=lt+1)}g[C.previousIndex]=se-z}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Gf(n))throw new pe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)g=n[A],C=this._trackByFn(A,g),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,g,C,A)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,C,A),u=!0),s=s._next}else f=0,function yg(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,A,C,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,C,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new kA(s,u),g,f),n}_verifyReinsertion(n,s,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new eI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kA{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class eI{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new FA,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tI(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class nI{constructor(){}supports(n){return n instanceof Map||Cu(n)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Cu(n)))throw new pe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const u=new VA(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class VA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rI(){return new nC([new ZT])}let nC=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:rI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||rI()),deps:[[t,new qu,new jc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new pe(901,!1)}}return t})();function iI(){return new rC([new nI])}let rC=(()=>{class t{static{this.\u0275prov=tn({token:t,providedIn:"root",factory:iI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||iI()),deps:[[t,new qu,new jc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new pe(901,!1)}}return t})();const BA=jT(null,"core",[]);let $A=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(ye(ky))}}static{this.\u0275mod=Jr({type:t})}static{this.\u0275inj=Kt({})}}return t})();function ZA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function t1(t){const n=Sr(t);if(!n)return null;const s=new Bf(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(nn,Ye,V)=>{V.d(Ye,{DS:()=>Vt,X8:()=>zt,$z:()=>Zt,UB:()=>or,yy:()=>Mt,ZP:()=>we,AU:()=>fn,CP:()=>yt,gF:()=>xt}),V(2438);var ue=V(177),i=V(7705),Ce=V(5407),me=V(9253),Se=V(1413),De=V(7673),Fe=V(1985),Ne=V(8455),ne=V(7786),ae=V(941),_e=V(5558),ct=V(6354),je=V(6129);class _t extends Se.B{constructor(Le=1/0,et=1/0,Xt=je.U){super(),this._bufferSize=Le,this._windowTime=et,this._timestampProvider=Xt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=et===1/0,this._bufferSize=Math.max(1,Le),this._windowTime=Math.max(1,et)}next(Le){const{isStopped:et,_buffer:Xt,_infiniteTimeWindow:Be,_timestampProvider:Ae,_windowTime:be}=this;et||(Xt.push(Le),!Be&&Xt.push(Ae.now()+be)),this._trimBuffer(),super.next(Le)}_subscribe(Le){this._throwIfClosed(),this._trimBuffer();const et=this._innerSubscribe(Le),{_infiniteTimeWindow:Xt,_buffer:Be}=this,Ae=Be.slice();for(let be=0;be<Ae.length&&!Le.closed;be+=Xt?1:2)Le.next(Ae[be]);return this._checkFinalizedStatuses(Le),et}_trimBuffer(){const{_bufferSize:Le,_timestampProvider:et,_buffer:Xt,_infiniteTimeWindow:Be}=this,Ae=(Be?1:2)*Le;if(Le<1/0&&Ae<Xt.length&&Xt.splice(0,Xt.length-Ae),!Be){const be=et.now();let Ve=0;for(let nt=1;nt<Xt.length&&Xt[nt]<=be;nt+=2)Ve=nt;Ve&&Xt.splice(0,Ve+1)}}}var ot=V(7647);function Rt(dt,Le,et){let Xt,Be=!1;return dt&&"object"==typeof dt?({bufferSize:Xt=1/0,windowTime:Le=1/0,refCount:Be=!1,scheduler:et}=dt):Xt=dt??1/0,(0,ot.u)({connector:()=>new _t(Xt,Le,et),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}var St=V(1594),rn=V(8071);function He(dt,Le){return(0,rn.T)(Le)?(0,_e.n)(()=>dt,Le):(0,_e.n)(()=>dt)}var pe=V(6745),Ke=V(5964),Re=V(7935);const yt=new i.nKC("angularfire2.auth.use-emulator"),Mt=new i.nKC("angularfire2.auth.settings"),we=new i.nKC("angularfire2.auth.tenant-id"),Zt=new i.nKC("angularfire2.auth.langugage-code"),fn=new i.nKC("angularfire2.auth.use-device-language"),or=new i.nKC("angularfire.auth.persistence"),xt=(dt,Le,et,Xt,Be,Ae,be,Ve)=>(0,me.BM)(`${dt.name}.auth`,"AngularFireAuth",dt.name,()=>{const nt=Le.runOutsideAngular(()=>dt.auth());if(et&&nt.useEmulator(...et),Xt&&(nt.tenantId=Xt),nt.languageCode=Be,Ae&&nt.useDeviceLanguage(),be)for(const[Ze,Ot]of Object.entries(be))nt.settings[Ze]=Ot;return Ve&&nt.setPersistence(Ve),nt},[et,Xt,Be,Ae,be,Ve]);let Vt=(()=>{class dt{authState;idToken;user;idTokenResult;credential;constructor(et,Xt,Be,Ae,be,Ve,nt,Ze,Ot,Tn,Zn,tn){const kn=new Se.B,Kt=(0,De.of)(void 0).pipe((0,ae.Q)(be.outsideAngular),(0,_e.n)(()=>Ae.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2438)))),(0,ct.T)(()=>(0,me.iB)(et,Ae,Xt)),(0,ct.T)(Vn=>xt(Vn,Ae,Ve,Ze,Ot,Tn,nt,Zn)),Rt({bufferSize:1,refCount:!1}));if((0,ue.Vy)(Be))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,De.of)(null);else{Kt.pipe((0,St.$)()).subscribe();const Vn=Kt.pipe((0,_e.n)(Ft=>Ft.getRedirectResult().then(gr=>gr,()=>null)),Ce.U0,Rt({bufferSize:1,refCount:!1})),pn=Kt.pipe((0,_e.n)(Ft=>new Fe.c(gr=>({unsubscribe:Ae.runOutsideAngular(()=>Ft.onAuthStateChanged(sn=>gr.next(sn),sn=>gr.error(sn),()=>gr.complete()))})))),Bt=Kt.pipe((0,_e.n)(Ft=>new Fe.c(gr=>({unsubscribe:Ae.runOutsideAngular(()=>Ft.onIdTokenChanged(sn=>gr.next(sn),sn=>gr.error(sn),()=>gr.complete()))}))));this.authState=Vn.pipe(He(pn),(0,pe._)(be.outsideAngular),(0,ae.Q)(be.insideAngular)),this.user=Vn.pipe(He(Bt),(0,pe._)(be.outsideAngular),(0,ae.Q)(be.insideAngular)),this.idToken=this.user.pipe((0,_e.n)(Ft=>Ft?(0,Ne.H)(Ft.getIdToken()):(0,De.of)(null))),this.idTokenResult=this.user.pipe((0,_e.n)(Ft=>Ft?(0,Ne.H)(Ft.getIdTokenResult()):(0,De.of)(null))),this.credential=(0,ne.h)(Vn,kn,this.authState.pipe((0,Ke.p)(Ft=>!Ft))).pipe((0,ct.T)(Ft=>Ft?.user?Ft:null),(0,pe._)(be.outsideAngular),(0,ae.Q)(be.insideAngular))}return(0,me.Gt)(this,Kt,Ae,{spy:{apply:(Vn,pn,Bt)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&Bt.then(Ft=>kn.next(Ft))}}})}static \u0275fac=function(Xt){return new(Xt||dt)(i.KVO(me.rx),i.KVO(me.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(Ce.u0),i.KVO(yt,8),i.KVO(Mt,8),i.KVO(we,8),i.KVO(Zt,8),i.KVO(fn,8),i.KVO(or,8),i.KVO(Ce.Jv,8))};static \u0275prov=i.jDH({token:dt,factory:dt.\u0275fac,providedIn:"any"})}return dt})(),zt=(()=>{class dt{constructor(){Re.A.registerVersion("angularfire",Ce.xv.full,"auth-compat")}static \u0275fac=function(Xt){return new(Xt||dt)};static \u0275mod=i.$C({type:dt});static \u0275inj=i.G2t({providers:[Vt]})}return dt})()},6340:(nn,Ye,V)=>{V.d(Ye,{Qe:()=>Di,cM:()=>tt});var o=V(177),ue=V(7705),i=V(5407),Ce=V(9253),me=V(1977),Se=V(3236),De=V(1985),Fe=V(8455),Ne=V(7673),ne=V(9172),ae=V(9974),_e=V(4360);function ct(){return(0,ae.N)((gt,he)=>{let Me,Et=!1;gt.subscribe((0,_e._)(he,Gt=>{const Ln=Me;Me=Gt,Et&&he.next([Ln,Gt]),Et=!0}))})}var je=V(6354),_t=V(2816),ot=V(3294),Rt=V(5964),rn=(V(2438),V(3345)),He=V(9583),pe=V(1076),Ke=V(1362);function yt(gt,he){if(void 0===he)return{merge:!1};if(void 0!==he.mergeFields&&void 0!==he.merge)throw new He.W6("invalid-argument",`Invalid options passed to function ${gt}(): You cannot specify both "merge" and "mergeFields".`);return he}function Mt(){if(typeof Uint8Array>"u")throw new He.W6("unimplemented","Uint8Arrays are not available in this environment.")}function we(){if(!(0,He.qG)())throw new He.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Zt{constructor(he){this._delegate=he}static fromBase64String(he){return we(),new Zt(He.Ix.fromBase64String(he))}static fromUint8Array(he){return Mt(),new Zt(He.Ix.fromUint8Array(he))}toBase64(){return we(),this._delegate.toBase64()}toUint8Array(){return Mt(),this._delegate.toUint8Array()}isEqual(he){return this._delegate.isEqual(he._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fn(gt){return function or(gt,he){if("object"!=typeof gt||null===gt)return!1;const Me=gt;for(const Et of he)if(Et in Me&&"function"==typeof Me[Et])return!0;return!1}(gt,["next","error","complete"])}class xt{enableIndexedDbPersistence(he,Me){return(0,He.ol)(he._delegate,{forceOwnership:Me})}enableMultiTabIndexedDbPersistence(he){return(0,He.Q5)(he._delegate)}clearIndexedDbPersistence(he){return(0,He.me)(he._delegate)}}class Vt{constructor(he,Me,Et){this._delegate=Me,this._persistenceProvider=Et,this.INTERNAL={delete:()=>this.terminate()},he instanceof He.cm||(this._appCompat=he)}get _databaseId(){return this._delegate._databaseId}settings(he){const Me=this._delegate._getSettings();!he.merge&&Me.host!==he.host&&(0,He.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),he.merge&&delete(he=Object.assign(Object.assign({},Me),he)).merge,this._delegate._setSettings(he)}useEmulator(he,Me,Et={}){(0,He.vN)(this._delegate,he,Me,Et)}enableNetwork(){return(0,He.Os)(this._delegate)}disableNetwork(){return(0,He.LA)(this._delegate)}enablePersistence(he){let Me=!1,Et=!1;return he&&(Me=!!he.synchronizeTabs,Et=!!he.experimentalForceOwningTab,(0,He.c8)("synchronizeTabs",Me,"experimentalForceOwningTab",Et)),Me?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Et)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.iB)(this._delegate)}onSnapshotsInSync(he){return(0,He.FC)(this._delegate,he)}get app(){if(!this._appCompat)throw new He.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(he){try{return new tn(this,(0,He.rJ)(this._delegate,he))}catch(Me){throw Ae(Me,"collection()","Firestore.collection()")}}doc(he){try{return new Be(this,(0,He.H9)(this._delegate,he))}catch(Me){throw Ae(Me,"doc()","Firestore.doc()")}}collectionGroup(he){try{return new Ot(this,(0,He.Cs)(this._delegate,he))}catch(Me){throw Ae(Me,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(he){return(0,He.c4)(this._delegate,Me=>he(new Le(this,Me)))}batch(){return(0,He.Ws)(this._delegate),new et(new He.GA(this._delegate,he=>(0,He.z6)(this._delegate,he)))}loadBundle(he){return(0,He.po)(this._delegate,he)}namedQuery(he){return(0,He.St)(this._delegate,he).then(Me=>Me?new Ot(this,Me):null)}}class zt extends He.fS{constructor(he){super(),this.firestore=he}convertBytes(he){return new Zt(new He.Ix(he))}convertReference(he){const Me=this.convertDocumentKey(he,this.firestore._databaseId);return Be.forKey(Me,this.firestore,null)}}class Le{constructor(he,Me){this._firestore=he,this._delegate=Me,this._userDataWriter=new zt(he)}get(he){const Me=kn(he);return this._delegate.get(Me).then(Et=>new nt(this._firestore,new He.Wq(this._firestore._delegate,this._userDataWriter,Et._key,Et._document,Et.metadata,Me.converter)))}set(he,Me,Et){const Gt=kn(he);return Et?(yt("Transaction.set",Et),this._delegate.set(Gt,Me,Et)):this._delegate.set(Gt,Me),this}update(he,Me,Et,...Gt){const Ln=kn(he);return 2===arguments.length?this._delegate.update(Ln,Me):this._delegate.update(Ln,Me,Et,...Gt),this}delete(he){const Me=kn(he);return this._delegate.delete(Me),this}}class et{constructor(he){this._delegate=he}set(he,Me,Et){const Gt=kn(he);return Et?(yt("WriteBatch.set",Et),this._delegate.set(Gt,Me,Et)):this._delegate.set(Gt,Me),this}update(he,Me,Et,...Gt){const Ln=kn(he);return 2===arguments.length?this._delegate.update(Ln,Me):this._delegate.update(Ln,Me,Et,...Gt),this}delete(he){const Me=kn(he);return this._delegate.delete(Me),this}commit(){return this._delegate.commit()}}class Xt{constructor(he,Me,Et){this._firestore=he,this._userDataWriter=Me,this._delegate=Et}fromFirestore(he,Me){const Et=new He.YQ(this._firestore._delegate,this._userDataWriter,he._key,he._document,he.metadata,null);return this._delegate.fromFirestore(new Ze(this._firestore,Et),Me??{})}toFirestore(he,Me){return Me?this._delegate.toFirestore(he,Me):this._delegate.toFirestore(he)}static getInstance(he,Me){const Et=Xt.INSTANCES;let Gt=Et.get(he);Gt||(Gt=new WeakMap,Et.set(he,Gt));let Ln=Gt.get(Me);return Ln||(Ln=new Xt(he,new zt(he),Me),Gt.set(Me,Ln)),Ln}}Xt.INSTANCES=new WeakMap;class Be{constructor(he,Me){this.firestore=he,this._delegate=Me,this._userDataWriter=new zt(he)}static forPath(he,Me,Et){if(he.length%2!=0)throw new He.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${he.canonicalString()} has ${he.length}`);return new Be(Me,new He.T1(Me._delegate,Et,new He.K$(he)))}static forKey(he,Me,Et){return new Be(Me,new He.T1(Me._delegate,Et,he))}get id(){return this._delegate.id}get parent(){return new tn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(he){try{return new tn(this.firestore,(0,He.rJ)(this._delegate,he))}catch(Me){throw Ae(Me,"collection()","DocumentReference.collection()")}}isEqual(he){return(he=(0,pe.Ku)(he))instanceof He.T1&&(0,He.yx)(this._delegate,he)}set(he,Me){Me=yt("DocumentReference.set",Me);try{return Me?(0,He.BN)(this._delegate,he,Me):(0,He.BN)(this._delegate,he)}catch(Et){throw Ae(Et,"setDoc()","DocumentReference.set()")}}update(he,Me,...Et){try{return 1===arguments.length?(0,He.mZ)(this._delegate,he):(0,He.mZ)(this._delegate,he,Me,...Et)}catch(Gt){throw Ae(Gt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.kd)(this._delegate)}onSnapshot(...he){const Me=be(he),Et=Ve(he,Gt=>new nt(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,Gt._key,Gt._document,Gt.metadata,this._delegate.converter)));return(0,He.aQ)(this._delegate,Me,Et)}get(he){let Me;return Me="cache"===he?.source?(0,He.nY)(this._delegate):"server"===he?.source?(0,He._e)(this._delegate):(0,He.x7)(this._delegate),Me.then(Et=>new nt(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,Et._key,Et._document,Et.metadata,this._delegate.converter)))}withConverter(he){return new Be(this.firestore,this._delegate.withConverter(he?Xt.getInstance(this.firestore,he):null))}}function Ae(gt,he,Me){return gt.message=gt.message.replace(he,Me),gt}function be(gt){for(const he of gt)if("object"==typeof he&&!fn(he))return he;return{}}function Ve(gt,he){var Me,Et;let Gt;return Gt=fn(gt[0])?gt[0]:fn(gt[1])?gt[1]:"function"==typeof gt[0]?{next:gt[0],error:gt[1],complete:gt[2]}:{next:gt[1],error:gt[2],complete:gt[3]},{next:Ln=>{Gt.next&&Gt.next(he(Ln))},error:null===(Me=Gt.error)||void 0===Me?void 0:Me.bind(Gt),complete:null===(Et=Gt.complete)||void 0===Et?void 0:Et.bind(Gt)}}class nt{constructor(he,Me){this._firestore=he,this._delegate=Me}get ref(){return new Be(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(he){return this._delegate.data(he)}get(he,Me){return this._delegate.get(he,Me)}isEqual(he){return(0,He.lN)(this._delegate,he._delegate)}}class Ze extends nt{data(he){const Me=this._delegate.data(he);return this._delegate._converter||(0,He.bI)(void 0!==Me,"Document in a QueryDocumentSnapshot should exist"),Me}}class Ot{constructor(he,Me){this.firestore=he,this._delegate=Me,this._userDataWriter=new zt(he)}where(he,Me,Et){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He._M)(he,Me,Et)))}catch(Gt){throw Ae(Gt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(he,Me){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He.My)(he,Me)))}catch(Et){throw Ae(Et,/(orderBy|where)\(\)/,"Query.$1()")}}limit(he){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He.AB)(he)))}catch(Me){throw Ae(Me,"limit()","Query.limit()")}}limitToLast(he){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He.$1)(he)))}catch(Me){throw Ae(Me,"limitToLast()","Query.limitToLast()")}}startAt(...he){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He.EO)(...he)))}catch(Me){throw Ae(Me,"startAt()","Query.startAt()")}}startAfter(...he){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He.HM)(...he)))}catch(Me){throw Ae(Me,"startAfter()","Query.startAfter()")}}endBefore(...he){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He.rf)(...he)))}catch(Me){throw Ae(Me,"endBefore()","Query.endBefore()")}}endAt(...he){try{return new Ot(this.firestore,(0,He.P)(this._delegate,(0,He.FD)(...he)))}catch(Me){throw Ae(Me,"endAt()","Query.endAt()")}}isEqual(he){return(0,He.B)(this._delegate,he._delegate)}get(he){let Me;return Me="cache"===he?.source?(0,He.kU)(this._delegate):"server"===he?.source?(0,He.Rr)(this._delegate):(0,He.GG)(this._delegate),Me.then(Et=>new Zn(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Et._snapshot)))}onSnapshot(...he){const Me=be(he),Et=Ve(he,Gt=>new Zn(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Gt._snapshot)));return(0,He.aQ)(this._delegate,Me,Et)}withConverter(he){return new Ot(this.firestore,this._delegate.withConverter(he?Xt.getInstance(this.firestore,he):null))}}class Tn{constructor(he,Me){this._firestore=he,this._delegate=Me}get type(){return this._delegate.type}get doc(){return new Ze(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zn{constructor(he,Me){this._firestore=he,this._delegate=Me}get query(){return new Ot(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(he=>new Ze(this._firestore,he))}docChanges(he){return this._delegate.docChanges(he).map(Me=>new Tn(this._firestore,Me))}forEach(he,Me){this._delegate.forEach(Et=>{he.call(Me,new Ze(this._firestore,Et))})}isEqual(he){return(0,He.lN)(this._delegate,he._delegate)}}class tn extends Ot{constructor(he,Me){super(he,Me),this.firestore=he,this._delegate=Me}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const he=this._delegate.parent;return he?new Be(this.firestore,he):null}doc(he){try{return new Be(this.firestore,void 0===he?(0,He.H9)(this._delegate):(0,He.H9)(this._delegate,he))}catch(Me){throw Ae(Me,"doc()","CollectionReference.doc()")}}add(he){return(0,He.gS)(this._delegate,he).then(Me=>new Be(this.firestore,Me))}isEqual(he){return(0,He.yx)(this._delegate,he._delegate)}withConverter(he){return new tn(this.firestore,this._delegate.withConverter(he?Xt.getInstance(this.firestore,he):null))}}function kn(gt){return(0,He.lo)(gt,He.T1)}class Kt{constructor(...he){this._delegate=new He.uY(...he)}static documentId(){return new Kt(He.FA.keyField().canonicalString())}isEqual(he){return(he=(0,pe.Ku)(he))instanceof He.uY&&this._delegate._internalPath.isEqual(he._internalPath)}}class Vn{constructor(he){this._delegate=he}static serverTimestamp(){const he=(0,He.O5)();return he._methodName="FieldValue.serverTimestamp",new Vn(he)}static delete(){const he=(0,He.CL)();return he._methodName="FieldValue.delete",new Vn(he)}static arrayUnion(...he){const Me=(0,He.hq)(...he);return Me._methodName="FieldValue.arrayUnion",new Vn(Me)}static arrayRemove(...he){const Me=(0,He.C3)(...he);return Me._methodName="FieldValue.arrayRemove",new Vn(Me)}static increment(he){const Me=(0,He.GV)(he);return Me._methodName="FieldValue.increment",new Vn(Me)}isEqual(he){return this._delegate.isEqual(he._delegate)}}const pn={Firestore:Vt,GeoPoint:He.Ci,Timestamp:He.Dc,Blob:Zt,Transaction:Le,WriteBatch:et,DocumentReference:Be,DocumentSnapshot:nt,Query:Ot,QueryDocumentSnapshot:Ze,QuerySnapshot:Zn,CollectionReference:tn,FieldPath:Kt,FieldValue:Vn,setLogLevel:function dt(gt){(0,He.He)(gt)},CACHE_SIZE_UNLIMITED:He.H6};!function Ft(gt){(function Bt(gt,he){gt.INTERNAL.registerComponent(new Ke.uA("firestore-compat",Me=>{const Et=Me.getProvider("app-compat").getImmediate(),Gt=Me.getProvider("firestore").getImmediate();return he(Et,Gt)},"PUBLIC").setServiceProps(Object.assign({},pn)))})(gt,(he,Me)=>new Vt(he,Me,new xt)),gt.registerVersion("@firebase/firestore-compat","0.3.38")}(rn.A);var gr=V(7935);function Pr(gt,he){return function sn(gt,he=Se.E){return new De.c(Me=>{let Et;return null!=he?he.schedule(()=>{Et=gt.onSnapshot({includeMetadataChanges:!0},Me)}):Et=gt.onSnapshot({includeMetadataChanges:!0},Me),()=>{Et?.()}})}(gt,he)}function Ut(gt,he){return Pr(gt,he).pipe((0,je.T)(Me=>({payload:Me,type:"query"})))}class bn{ref;afs;constructor(he,Me){this.ref=he,this.afs=Me}set(he,Me){return this.ref.set(he,Me)}update(he){return this.ref.update(he)}delete(){return this.ref.delete()}collection(he,Me){const Et=this.ref.collection(he),{ref:Gt,query:Ln}=jn(Et,Me);return new ui(Gt,Ln,this.afs)}snapshotChanges(){return function Wn(gt,he){return Pr(gt,he).pipe((0,ne.Z)(void 0),ct(),(0,je.T)(Me=>{const[Et,Gt]=Me;return Gt.exists?Et?.exists?{payload:Gt,type:"modified"}:{payload:Gt,type:"added"}:{payload:Gt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(he={}){return this.snapshotChanges().pipe((0,je.T)(({payload:Me})=>he.idField?{...Me.data(),[he.idField]:Me.id}:Me.data()))}get(he){return(0,Fe.H)(this.ref.get(he)).pipe(i.U0)}}function Un(gt,he){return Ut(gt,he).pipe((0,ne.Z)(void 0),ct(),(0,je.T)(Me=>{const[Et,Gt]=Me,Ln=Gt.payload.docChanges(),kr=Ln.map(Cr=>({type:Cr.type,payload:Cr}));return Et&&JSON.stringify(Et.payload.metadata)!==JSON.stringify(Gt.payload.metadata)&&Gt.payload.docs.forEach((Cr,bi)=>{const Ct=Ln.find(M=>M.doc.ref.isEqual(Cr.ref)),H=Et?.payload.docs.find(M=>M.ref.isEqual(Cr.ref));Ct&&JSON.stringify(Ct.doc.metadata)===JSON.stringify(Cr.metadata)||!Ct&&H&&JSON.stringify(H.metadata)===JSON.stringify(Cr.metadata)||kr.push({type:"modified",payload:{oldIndex:bi,newIndex:bi,type:"modified",doc:Cr}})}),kr}))}function In(gt,he,Me){return Un(gt,Me).pipe((0,_t.S)((Et,Gt)=>function Lr(gt,he,Me){return he.forEach(Et=>{Me.indexOf(Et.type)>-1&&(gt=function Xr(gt,he){switch(he.type){case"added":if(!gt[he.newIndex]||!gt[he.newIndex].doc.ref.isEqual(he.doc.ref))return Dr(gt,he.newIndex,0,he);break;case"modified":if(null==gt[he.oldIndex]||gt[he.oldIndex].doc.ref.isEqual(he.doc.ref)){if(he.oldIndex!==he.newIndex){const Me=gt.slice();return Me.splice(he.oldIndex,1),Me.splice(he.newIndex,0,he),Me}return Dr(gt,he.newIndex,1,he)}break;case"removed":if(gt[he.oldIndex]&&gt[he.oldIndex].doc.ref.isEqual(he.doc.ref))return Dr(gt,he.oldIndex,1)}return gt}(gt,Et))}),gt}(Et,Gt.map(Ln=>Ln.payload),he),[]),(0,ot.F)(),(0,je.T)(Et=>Et.map(Gt=>({type:Gt.type,payload:Gt}))))}function Dr(gt,he,Me,...Et){const Gt=gt.slice();return Gt.splice(he,Me,...Et),Gt}function Bn(gt){return(!gt||0===gt.length)&&(gt=["added","removed","modified"]),gt}class ui{ref;query;afs;constructor(he,Me,Et){this.ref=he,this.query=Me,this.afs=Et}stateChanges(he){let Me=Un(this.query,this.afs.schedulers.outsideAngular);return he&&he.length>0&&(Me=Me.pipe((0,je.T)(Et=>Et.filter(Gt=>he.indexOf(Gt.type)>-1)))),Me.pipe((0,ne.Z)(void 0),ct(),(0,Rt.p)(([Et,Gt])=>Gt.length>0||!Et),(0,je.T)(([,Et])=>Et),i.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,_t.S)((Me,Et)=>[...Me,...Et],[]))}snapshotChanges(he){const Me=Bn(he);return In(this.query,Me,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(he={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Me=>Me.payload.docs.map(Et=>he.idField?{...Et.data(),[he.idField]:Et.id}:Et.data())),i.U0)}get(he){return(0,Fe.H)(this.query.get(he)).pipe(i.U0)}add(he){return this.ref.add(he)}doc(he){return new bn(this.ref.doc(he),this.afs)}}class Xi{query;afs;constructor(he,Me){this.query=he,this.afs=Me}stateChanges(he){return he&&0!==he.length?Un(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Me=>Me.filter(Et=>he.indexOf(Et.type)>-1)),(0,Rt.p)(Me=>Me.length>0),i.U0):Un(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,_t.S)((Me,Et)=>[...Me,...Et],[]))}snapshotChanges(he){const Me=Bn(he);return In(this.query,Me,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(he={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,je.T)(Et=>Et.payload.docs.map(Gt=>he.idField?{[he.idField]:Gt.id,...Gt.data()}:Gt.data())),i.U0)}get(he){return(0,Fe.H)(this.query.get(he)).pipe(i.U0)}}const un=new ue.nKC("angularfire2.enableFirestorePersistence"),Qr=new ue.nKC("angularfire2.firestore.persistenceSettings"),Yn=new ue.nKC("angularfire2.firestore.settings"),br=new ue.nKC("angularfire2.firestore.use-emulator");function jn(gt,he=(Me=>Me)){return{query:he(gt),ref:gt}}let Di=(()=>{class gt{schedulers;firestore;persistenceEnabled$;constructor(Me,Et,Gt,Ln,kr,Cr,bi,Ct,H,M,k,B,ie,ee,ye,at,en){this.schedulers=bi;const _n=(0,Ce.iB)(Me,Cr,Et),Er=H;M&&(0,me.gF)(_n,Cr,k,ie,ee,ye,B,at),[this.firestore,this.persistenceEnabled$]=(0,Ce.BM)(`${_n.name}.firestore`,"AngularFirestore",_n.name,()=>{const on=Cr.runOutsideAngular(()=>_n.firestore());if(Ln&&on.settings(Ln),Er&&on.useEmulator(...Er),Gt&&!(0,o.Vy)(kr)){const $r=()=>{try{return(0,Fe.H)(on.enablePersistence(Ct||void 0).then(()=>!0,()=>!1))}catch(fr){return typeof console<"u"&&console.warn(fr),(0,Ne.of)(!1)}};return[on,Cr.runOutsideAngular($r)]}return[on,(0,Ne.of)(!1)]},[Ln,Er,Gt])}collection(Me,Et){let Gt;Gt="string"==typeof Me?this.firestore.collection(Me):Me;const{ref:Ln,query:kr}=jn(Gt,Et),Cr=this.schedulers.ngZone.run(()=>Ln);return new ui(Cr,kr,this)}collectionGroup(Me,Et){const Gt=Et||(kr=>kr),Ln=this.firestore.collectionGroup(Me);return new Xi(Gt(Ln),this)}doc(Me){let Et;Et="string"==typeof Me?this.firestore.doc(Me):Me;const Gt=this.schedulers.ngZone.run(()=>Et);return new bn(Gt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Et){return new(Et||gt)(ue.KVO(Ce.rx),ue.KVO(Ce.uP,8),ue.KVO(un,8),ue.KVO(Yn,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(i.u0),ue.KVO(Qr,8),ue.KVO(br,8),ue.KVO(me.DS,8),ue.KVO(me.CP,8),ue.KVO(me.yy,8),ue.KVO(me.ZP,8),ue.KVO(me.$z,8),ue.KVO(me.AU,8),ue.KVO(me.UB,8),ue.KVO(i.Jv,8))};static \u0275prov=ue.jDH({token:gt,factory:gt.\u0275fac,providedIn:"any"})}return gt})(),tt=(()=>{class gt{constructor(){gr.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(Me){return{ngModule:gt,providers:[{provide:un,useValue:!0},{provide:Qr,useValue:Me}]}}static \u0275fac=function(Et){return new(Et||gt)};static \u0275mod=ue.$C({type:gt});static \u0275inj=ue.G2t({providers:[Di]})}return gt})()},8721:(nn,Ye,V)=>{V.d(Ye,{ap:()=>Le,y5:()=>Be});var o=V(5407),ue=V(1985),i=V(7673),Ce=V(8455),me=V(3236),Se=V(9974),De=V(4360),Ne=V(6354),ne=V(5558),ae=V(7705),_e=V(9253),ct=V(3345),je=V(4535),_t=V(1362);class ot{constructor(be,Ve,nt){this._delegate=be,this.task=Ve,this.ref=nt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Rt{constructor(be,Ve){this._delegate=be,this._ref=Ve,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ot(this._delegate.snapshot,this,this._ref)}then(be,Ve){return this._delegate.then(nt=>{if(be)return be(new ot(nt,this,this._ref))},Ve)}on(be,Ve,nt,Ze){let Ot;return Ve&&(Ot="function"==typeof Ve?Tn=>Ve(new ot(Tn,this,this._ref)):{next:Ve.next?Tn=>Ve.next(new ot(Tn,this,this._ref)):void 0,complete:Ve.complete||void 0,error:Ve.error||void 0}),this._delegate.on(be,Ot,nt||void 0,Ze||void 0)}}class St{constructor(be,Ve){this._delegate=be,this._service=Ve}get prefixes(){return this._delegate.prefixes.map(be=>new rn(be,this._service))}get items(){return this._delegate.items.map(be=>new rn(be,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rn{constructor(be,Ve){this._delegate=be,this.storage=Ve}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(be){const Ve=(0,je.Mp)(this._delegate,be);return new rn(Ve,this.storage)}get root(){return new rn(this._delegate.root,this.storage)}get parent(){const be=this._delegate.parent;return null==be?null:new rn(be,this.storage)}put(be,Ve){return this._throwIfRoot("put"),new Rt((0,je.bp)(this._delegate,be,Ve),this)}putString(be,Ve=je.nw.RAW,nt){this._throwIfRoot("putString");const Ze=(0,je.ZH)(Ve,be),Ot=Object.assign({},nt);return null==Ot.contentType&&null!=Ze.contentType&&(Ot.contentType=Ze.contentType),new Rt(new je.UC(this._delegate,new je.Mx(Ze.data,!0),Ot),this)}listAll(){return(0,je._w)(this._delegate).then(be=>new St(be,this.storage))}list(be){return(0,je.p_)(this._delegate,be||void 0).then(Ve=>new St(Ve,this.storage))}getMetadata(){return(0,je.yb)(this._delegate)}updateMetadata(be){return(0,je.D5)(this._delegate,be)}getDownloadURL(){return(0,je.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,je.XR)(this._delegate)}_throwIfRoot(be){if(""===this._delegate._location.path)throw(0,je.UY)(be)}}class He{constructor(be,Ve){this.app=be,this._delegate=Ve}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(be){if(pe(be))throw(0,je.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new rn((0,je.KR)(this._delegate,be),this)}refFromURL(be){if(!pe(be))throw(0,je.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{je.TZ.makeFromUrl(be,this._delegate.host)}catch{throw(0,je.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new rn((0,je.KR)(this._delegate,be),this)}setMaxUploadRetryTime(be){this._delegate.maxUploadRetryTime=be}setMaxOperationRetryTime(be){this._delegate.maxOperationRetryTime=be}useEmulator(be,Ve,nt={}){(0,je.nb)(this._delegate,be,Ve,nt)}}function pe(Ae){return/^[A-Za-z]+:\/\//.test(Ae)}function yt(Ae,{instanceIdentifier:be}){const Ve=Ae.getProvider("app-compat").getImmediate(),nt=Ae.getProvider("storage").getImmediate({identifier:be});return new He(Ve,nt)}!function Mt(Ae){const be={TaskState:je.Ad,TaskEvent:je.xc,StringFormat:je.nw,Storage:He,Reference:rn};Ae.INTERNAL.registerComponent(new _t.uA("storage-compat",yt,"PUBLIC").setServiceProps(be).setMultipleInstances(!0)),Ae.registerVersion("@firebase/storage-compat","0.3.12")}(ct.A);var we=V(7935);function fn(Ae){const be=function Zt(Ae){return new ue.c(be=>{const Ve=Tn=>be.next(Tn);Ve(Ae.snapshot);const Ot=Ae.on("state_changed",Ve);return Ae.then(Tn=>{Ve(Tn),be.complete()},Tn=>{Ve(Ae.snapshot),(Tn=>{be.error(Tn)})(Tn)}),function(){Ot()}}).pipe(function Fe(Ae,be=me.E){return(0,Se.N)((Ve,nt)=>{let Ze=null,Ot=null,Tn=null;const Zn=()=>{if(Ze){Ze.unsubscribe(),Ze=null;const kn=Ot;Ot=null,nt.next(kn)}};function tn(){const kn=Tn+Ae,Kt=be.now();if(Kt<kn)return Ze=this.schedule(void 0,kn-Kt),void nt.add(Ze);Zn()}Ve.subscribe((0,De._)(nt,kn=>{Ot=kn,Tn=be.now(),Ze||(Ze=be.schedule(tn,Ae),nt.add(Ze))},()=>{Zn(),nt.complete()},void 0,()=>{Ot=Ze=null}))})}(0))}(Ae);return{task:Ae,then:Ae.then.bind(Ae),catch:Ae.catch.bind(Ae),pause:Ae.pause.bind(Ae),cancel:Ae.cancel.bind(Ae),resume:Ae.resume.bind(Ae),snapshotChanges:()=>be,percentageChanges:()=>be.pipe((0,Ne.T)(Ve=>Ve.bytesTransferred/Ve.totalBytes*100))}}function or(Ae){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(o.Oe,(0,ne.n)(()=>Ae.getDownloadURL()),o.U0),getMetadata:()=>(0,i.of)(void 0).pipe(o.Oe,(0,ne.n)(()=>Ae.getMetadata()),o.U0),delete:()=>(0,Ce.H)(Ae.delete()),child:be=>or(Ae.child(be)),updateMetadata:be=>(0,Ce.H)(Ae.updateMetadata(be)),put:(be,Ve)=>fn(Ae.put(be,Ve)),putString:(be,Ve,nt)=>fn(Ae.putString(be,Ve,nt)),list:be=>(0,Ce.H)(Ae.list(be)),listAll:()=>(0,Ce.H)(Ae.listAll())}}const xt=new ae.nKC("angularfire2.storageBucket"),Vt=new ae.nKC("angularfire2.storage.maxUploadRetryTime"),zt=new ae.nKC("angularfire2.storage.maxOperationRetryTime"),dt=new ae.nKC("angularfire2.storage.use-emulator");let Le=(()=>{class Ae{storage;constructor(Ve,nt,Ze,Ot,Tn,Zn,tn,kn,Kt,Vn){const pn=(0,_e.iB)(Ve,Tn,nt);this.storage=(0,_e.BM)(`${pn.name}.storage.${Ze}`,"AngularFireStorage",pn.name,()=>{const Bt=Tn.runOutsideAngular(()=>pn.storage(Ze||void 0)),Ft=Kt;return Ft&&Bt.useEmulator(...Ft),tn&&Bt.setMaxUploadRetryTime(tn),kn&&Bt.setMaxOperationRetryTime(kn),Bt},[tn,kn])}ref(Ve){return or(this.storage.ref(Ve))}refFromURL(Ve){return or(this.storage.refFromURL(Ve))}upload(Ve,nt,Ze){return or(this.storage.ref(Ve)).put(nt,Ze)}static \u0275fac=function(nt){return new(nt||Ae)(ae.KVO(_e.rx),ae.KVO(_e.uP,8),ae.KVO(xt,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(o.u0),ae.KVO(Vt,8),ae.KVO(zt,8),ae.KVO(dt,8),ae.KVO(o.Jv,8))};static \u0275prov=ae.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"any"})}return Ae})(),Xt=(()=>{class Ae{static \u0275fac=function(nt){return new(nt||Ae)};static \u0275mod=ae.$C({type:Ae});static \u0275inj=ae.G2t({})}return Ae})(),Be=(()=>{class Ae{constructor(){we.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(nt){return new(nt||Ae)};static \u0275mod=ae.$C({type:Ae});static \u0275inj=ae.G2t({providers:[Le],imports:[Xt]})}return Ae})()},9253:(nn,Ye,V)=>{V.d(Ye,{BM:()=>je,Gt:()=>me,bf:()=>ct,e7:()=>Se,iB:()=>ne,rx:()=>Fe,uP:()=>Ne});var o=V(7705),ue=V(5407),i=V(7935);const Ce=["ngOnDestroy"],me=(St,rn,He,pe={})=>new Proxy(St,{get:(Ke,Re)=>He.runOutsideAngular(()=>{if(St[Re])return pe?.spy?.get&&pe.spy.get(Re,St[Re]),St[Re];if(Ce.indexOf(Re)>-1)return()=>{};const Xe=rn.toPromise().then(yt=>{const Mt=yt?.[Re];return"function"==typeof Mt?Mt.bind(yt):Mt?.then?Mt.then(we=>He.run(()=>we)):He.run(()=>Mt)});return new Proxy(()=>{},{get:(yt,Mt)=>Xe[Mt],apply:(yt,Mt,we)=>Xe.then(Zt=>{const fn=Zt?.(...we);return pe?.spy?.apply&&pe.spy.apply(Re,we,fn),fn})})})}),Se=(St,rn)=>{rn.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(pe=>{Object.defineProperty(St.prototype,pe,Object.getOwnPropertyDescriptor(He.prototype||He,pe))})})};class De{constructor(rn){return rn}}const Fe=new o.nKC("angularfire2.app.options"),Ne=new o.nKC("angularfire2.app.name");function ne(St,rn,He){const Ke="object"==typeof He&&He||{};Ke.name=Ke.name||"string"==typeof He&&He||"[DEFAULT]";const Xe=i.A.apps.filter(yt=>yt&&yt.name===Ke.name)[0]||rn.runOutsideAngular(()=>i.A.initializeApp(St,Ke));try{if(JSON.stringify(St)!==JSON.stringify(Xe.options)){const yt=!!module.hot;ae("error",`${Xe.name} Firebase App already initialized with different options${yt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new De(Xe)}const ae=(St,...rn)=>{(0,o.naY)()&&typeof console<"u"&&console[St](...rn)},_e={provide:De,useFactory:ne,deps:[Fe,o.SKi,[new o.Xx1,Ne]]};let ct=(()=>{class St{static initializeApp(He,pe){return{ngModule:St,providers:[{provide:Fe,useValue:He},{provide:Ne,useValue:pe}]}}constructor(He){i.A.registerVersion("angularfire",ue.xv.full,"core"),i.A.registerVersion("angularfire",ue.xv.full,"app-compat"),i.A.registerVersion("angular",o.xvI.full,He.toString())}static \u0275fac=function(pe){return new(pe||St)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:St});static \u0275inj=o.G2t({providers:[_e]})}return St})();function je(St,rn,He,pe,Ke){const[,Re,Xe]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===St)||[];if(Re)return function _t(St,rn){try{return St.toString()===rn.toString()}catch{return St===rn}}(Ke,Xe)||(Rt("error",`${rn} was already initialized on the ${He} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),Rt("warn",{is:Ke,was:Xe})),Re;{const yt=pe();return globalThis.\u0275AngularfireInstanceCache.push([St,yt,Ke]),yt}}const ot=typeof module<"u"&&!!module.hot,Rt=(St,...rn)=>{(0,o.naY)()&&typeof console<"u"&&console[St](...rn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(nn,Ye,V)=>{V.d(Ye,{xv:()=>je,U0:()=>fn,Oe:()=>we,u0:()=>Re,Jv:()=>St,CA:()=>Rt,lR:()=>ot,S3:()=>Vt});var o=V(7705),ue=V(2214),i=V(6780),me=V(9687);const De=new class Se extends me.q{}(class Ce extends i.R{constructor(dt,Le){super(dt,Le),this.scheduler=dt,this.work=Le}schedule(dt,Le=0){return Le>0?super.schedule(dt,Le):(this.delay=Le,this.state=dt,this.scheduler.flush(this),this)}execute(dt,Le){return Le>0||this.closed?super.execute(dt,Le):this._execute(dt,Le)}requestAsyncId(dt,Le,et=0){return null!=et&&et>0||null==et&&this.delay>0?super.requestAsyncId(dt,Le,et):(dt.flush(this),0)}});var Ne=V(3236),ne=V(1985),ae=V(8141),_e=V(941),ct=V(6745);const je=new o.RxE("ANGULARFIRE2_VERSION");function ot(zt,dt,Le){if(dt){if(1===dt.length)return dt[0];const Be=dt.filter(Ae=>Ae.app===Le);if(1===Be.length)return Be[0]}return Le.container.getProvider(zt).getImmediate({optional:!0})}const Rt=(zt,dt)=>{const Le=dt?[dt]:(0,ue.Dk)(),et=[];return Le.forEach(Xt=>{Xt.container.getProvider(zt).instances.forEach(Ae=>{et.includes(Ae)||et.push(Ae)})}),et};class St{constructor(){return Rt(rn)}}const rn="app-check";function He(){}class pe{zone;delegate;constructor(dt,Le=De){this.zone=dt,this.delegate=Le}now(){return this.delegate.now()}schedule(dt,Le,et){const Xt=this.zone;return this.delegate.schedule(function(Ae){Xt.runGuarded(()=>{dt.apply(this,[Ae])})},Le,et)}}class Ke{zone;task=null;constructor(dt){this.zone=dt}call(dt,Le){const et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),Le.pipe((0,ae.M)({next:et,complete:et,error:et})).subscribe(dt).add(et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Re=(()=>{class zt{ngZone;outsideAngular;insideAngular;constructor(Le){this.ngZone=Le,this.outsideAngular=Le.runOutsideAngular(()=>new pe(Zone.current)),this.insideAngular=Le.run(()=>new pe(Zone.current,Ne.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(et){return new(et||zt)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})();function Xe(){const zt=globalThis.\u0275AngularFireScheduler;if(!zt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return zt}function Mt(zt){return Xe().ngZone.run(()=>zt())}function we(zt){return zt.pipe((0,_e.Q)(Xe().outsideAngular))}function fn(zt){return function or(zt){return function(Le){return(Le=Le.lift(new Ke(zt.ngZone))).pipe((0,ct._)(zt.outsideAngular),(0,_e.Q)(zt.insideAngular))}}(Xe())(zt)}const xt=(zt,dt)=>function(){const et=arguments;return dt&&setTimeout(()=>{"scheduled"===dt.state&&dt.invoke()},10),Mt(()=>zt.apply(void 0,et))},Vt=(zt,dt)=>function(){let Le;const et=arguments;for(let Be=0;Be<arguments.length;Be++)"function"==typeof et[Be]&&(dt&&(Le||=Mt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),et[Be]=xt(et[Be],Le));const Xt=function yt(zt){return Xe().ngZone.runOutsideAngular(()=>zt())}(()=>zt.apply(this,et));if(!dt){if(Xt instanceof ne.c){const Be=Xe();return Xt.pipe((0,ct._)(Be.outsideAngular),(0,_e.Q)(Be.insideAngular))}return Mt(()=>Xt)}return Xt instanceof ne.c?Xt.pipe(fn):Xt instanceof Promise?Mt(()=>new Promise((Be,Ae)=>Xt.then(be=>Mt(()=>Be(be)),be=>Mt(()=>Ae(be))))):"function"==typeof Xt&&Le?function(){return setTimeout(()=>{Le&&"scheduled"===Le.state&&Le.invoke()},10),Xt.apply(this,arguments)}:Mt(()=>Xt)}},4341:(nn,Ye,V)=>{V.d(Ye,{Zm:()=>Rt,me:()=>pe,v8:()=>ls,ok:()=>ms,JD:()=>mr,j4:()=>hn,$R:()=>lr,YN:()=>da,BC:()=>Un,cb:()=>In,cV:()=>es,vS:()=>js,xH:()=>rs,Q0:()=>$s,Fm:()=>fi,X1:()=>Go,YS:()=>qr,wz:()=>Ui,k0:()=>we,qT:()=>Bs,y7:()=>mt});var o=V(7705),ue=V(177),i=V(8455),Ce=V(1985),me=V(3073),Se=V(8750),De=V(3794),Fe=V(4360),Ne=V(6450),ne=V(8496),_e=V(6354);let ct=(()=>{class W{constructor(U,de){this._renderer=U,this._elementRef=de,this.onChange=Ue=>{},this.onTouched=()=>{}}setProperty(U,de){this._renderer.setProperty(this._elementRef.nativeElement,U,de)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:W})}}return W})(),je=(()=>{class W extends ct{static{this.\u0275fac=function(){let U;return function(Ue){return(U||(U=o.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const _t=new o.nKC("NgValueAccessor"),ot={provide:_t,useExisting:(0,o.Rfq)(()=>Rt),multi:!0};let Rt=(()=>{class W extends je{writeValue(U){this.setProperty("checked",U)}static{this.\u0275fac=function(){let U;return function(Ue){return(U||(U=o.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(de,Ue){1&de&&o.bIt("change",function(er){return Ue.onChange(er.target.checked)})("blur",function(){return Ue.onTouched()})},features:[o.Jv_([ot]),o.Vt3]})}}return W})();const St={provide:_t,useExisting:(0,o.Rfq)(()=>pe),multi:!0},He=new o.nKC("CompositionEventMode");let pe=(()=>{class W extends ct{constructor(U,de,Ue){super(U,de),this._compositionMode=Ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rn(){const W=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(He,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(de,Ue){1&de&&o.bIt("input",function(er){return Ue._handleInput(er.target.value)})("blur",function(){return Ue.onTouched()})("compositionstart",function(){return Ue._compositionStart()})("compositionend",function(er){return Ue._compositionEnd(er.target.value)})},features:[o.Jv_([St]),o.Vt3]})}}return W})();function Ke(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function Re(W){return null!=W&&"number"==typeof W.length}const Xe=new o.nKC("NgValidators"),yt=new o.nKC("NgAsyncValidators"),Mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class we{static min(Z){return function Zt(W){return Z=>{if(Ke(Z.value)||Ke(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U<W?{min:{min:W,actual:Z.value}}:null}}(Z)}static max(Z){return function fn(W){return Z=>{if(Ke(Z.value)||Ke(W))return null;const U=parseFloat(Z.value);return!isNaN(U)&&U>W?{max:{max:W,actual:Z.value}}:null}}(Z)}static required(Z){return or(Z)}static requiredTrue(Z){return function xt(W){return!0===W.value?null:{required:!0}}(Z)}static email(Z){return function Vt(W){return Ke(W.value)||Mt.test(W.value)?null:{email:!0}}(Z)}static minLength(Z){return function zt(W){return Z=>Ke(Z.value)||!Re(Z.value)?null:Z.value.length<W?{minlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function dt(W){return Z=>Re(Z.value)&&Z.value.length>W?{maxlength:{requiredLength:W,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function Le(W){if(!W)return et;let Z,U;return"string"==typeof W?(U="","^"!==W.charAt(0)&&(U+="^"),U+=W,"$"!==W.charAt(W.length-1)&&(U+="$"),Z=new RegExp(U)):(U=W.toString(),Z=W),de=>{if(Ke(de.value))return null;const Ue=de.value;return Z.test(Ue)?null:{pattern:{requiredPattern:U,actualValue:Ue}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return Ze(Z)}static composeAsync(Z){return Tn(Z)}}function or(W){return Ke(W.value)?{required:!0}:null}function et(W){return null}function Xt(W){return null!=W}function Be(W){return(0,o.jNT)(W)?(0,i.H)(W):W}function Ae(W){let Z={};return W.forEach(U=>{Z=null!=U?{...Z,...U}:Z}),0===Object.keys(Z).length?null:Z}function be(W,Z){return Z.map(U=>U(W))}function nt(W){return W.map(Z=>function Ve(W){return!W.validate}(Z)?Z:U=>Z.validate(U))}function Ze(W){if(!W)return null;const Z=W.filter(Xt);return 0==Z.length?null:function(U){return Ae(be(U,Z))}}function Ot(W){return null!=W?Ze(nt(W)):null}function Tn(W){if(!W)return null;const Z=W.filter(Xt);return 0==Z.length?null:function(U){return function ae(...W){const Z=(0,De.ms)(W),{args:U,keys:de}=(0,me.D)(W),Ue=new Ce.c(dn=>{const{length:er}=U;if(!er)return void dn.complete();const _s=new Array(er);let Zs=er,hs=er;for(let po=0;po<er;po++){let ys=!1;(0,Se.Tg)(U[po]).subscribe((0,Fe._)(dn,fs=>{ys||(ys=!0,hs--),_s[po]=fs},()=>Zs--,void 0,()=>{(!Zs||!ys)&&(hs||dn.next(de?(0,ne.e)(de,_s):_s),dn.complete())}))}});return Z?Ue.pipe((0,Ne.I)(Z)):Ue}(be(U,Z).map(Be)).pipe((0,_e.T)(Ae))}}function Zn(W){return null!=W?Tn(nt(W)):null}function tn(W,Z){return null===W?[Z]:Array.isArray(W)?[...W,Z]:[W,Z]}function kn(W){return W._rawValidators}function Kt(W){return W._rawAsyncValidators}function Vn(W){return W?Array.isArray(W)?W:[W]:[]}function pn(W,Z){return Array.isArray(W)?W.includes(Z):W===Z}function Bt(W,Z){const U=Vn(Z);return Vn(W).forEach(Ue=>{pn(U,Ue)||U.push(Ue)}),U}function Ft(W,Z){return Vn(Z).filter(U=>!pn(W,U))}class gr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Ot(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=Zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,U){return!!this.control&&this.control.hasError(Z,U)}getError(Z,U){return this.control?this.control.getError(Z,U):null}}class sn extends gr{get formDirective(){return null}get path(){return null}}class Pr extends gr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wn{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Un=(()=>{class W extends Wn{constructor(U){super(U)}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(Pr,2))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(de,Ue){2&de&&o.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)},features:[o.Vt3]})}}return W})(),In=(()=>{class W extends Wn{constructor(U){super(U)}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(sn,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(de,Ue){2&de&&o.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)("ng-submitted",Ue.isSubmitted)},features:[o.Vt3]})}}return W})();const Gt="VALID",Ln="INVALID",kr="PENDING",Cr="DISABLED";function bi(W){return(k(W)?W.validators:W)||null}function H(W,Z){return(k(Z)?Z.asyncValidators:W)||null}function k(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function B(W,Z,U){const de=W.controls;if(!(Z?Object.keys(de):de).length)throw new o.wOt(1e3,"");if(!de[U])throw new o.wOt(1001,"")}function ie(W,Z,U){W._forEachChild((de,Ue)=>{if(void 0===U[Ue])throw new o.wOt(1002,"")})}class ee{constructor(Z,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Gt}get invalid(){return this.status===Ln}get pending(){return this.status==kr}get disabled(){return this.status===Cr}get enabled(){return this.status!==Cr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Bt(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Bt(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Ft(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Ft(Z,this._rawAsyncValidators))}hasValidator(Z){return pn(this._rawValidators,Z)}hasAsyncValidator(Z){return pn(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=kr,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Cr,this.errors=null,this._forEachChild(de=>{de.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(de=>de(!0))}enable(Z={}){const U=this._parentMarkedDirty(Z.onlySelf);this.status=Gt,this._forEachChild(de=>{de.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:U}),this._onDisabledChange.forEach(de=>de(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===kr)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cr:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=kr,this._hasOwnPendingAsyncValidator=!0;const U=Be(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(de=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(de,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,U={}){this.errors=Z,this._updateControlsErrors(!1!==U.emitEvent)}get(Z){let U=Z;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((de,Ue)=>de&&de._find(Ue),this)}getError(Z,U){const de=U?this.get(U):this;return de&&de.errors?de.errors[Z]:null}hasError(Z,U){return!!this.getError(Z,U)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?Cr:this.errors?Ln:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kr)?kr:this._anyControlsHaveStatus(Ln)?Ln:Gt}_anyControlsHaveStatus(Z){return this._anyControls(U=>U.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){k(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function Ct(W){return Array.isArray(W)?Ot(W):W||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?Zn(W):W||null}(this._rawAsyncValidators)}}class ye extends ee{constructor(Z,U,de){super(bi(U),H(de,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,U){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(Z,U,de={}){this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}removeControl(Z,U={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(Z,U,de={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],U&&this.registerControl(Z,U),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,U={}){ie(this,0,Z),Object.keys(Z).forEach(de=>{B(this,!0,de),this.controls[de].setValue(Z[de],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Object.keys(Z).forEach(de=>{const Ue=this.controls[de];Ue&&Ue.patchValue(Z[de],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z={},U={}){this._forEachChild((de,Ue)=>{de.reset(Z?Z[Ue]:null,{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(Z,U,de)=>(Z[de]=U.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(U,de)=>!!de._syncPendingControls()||U);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(U=>{const de=this.controls[U];de&&Z(de,U)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[U,de]of Object.entries(this.controls))if(this.contains(U)&&Z(de))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,de,Ue)=>((de.enabled||this.disabled)&&(U[Ue]=de.value),U))}_reduceChildren(Z,U){let de=Z;return this._forEachChild((Ue,dn)=>{de=U(de,Ue,dn)}),de}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class _n extends ye{}const on=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$r}),$r="always";function fr(W,Z){return[...Z.path,W]}function Vs(W,Z,U=$r){Ti(W,Z),Z.valueAccessor.writeValue(W.value),(W.disabled||"always"===U)&&Z.valueAccessor.setDisabledState?.(W.disabled),function Us(W,Z){Z.valueAccessor.registerOnChange(U=>{W._pendingValue=U,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&rt(W,Z)})}(W,Z),function Pt(W,Z){const U=(de,Ue)=>{Z.valueAccessor.writeValue(de),Ue&&Z.viewToModelUpdate(de)};W.registerOnChange(U),Z._registerOnDestroy(()=>{W._unregisterOnChange(U)})}(W,Z),function Tt(W,Z){Z.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&rt(W,Z),"submit"!==W.updateOn&&W.markAsTouched()})}(W,Z),function Fi(W,Z){if(Z.valueAccessor.setDisabledState){const U=de=>{Z.valueAccessor.setDisabledState(de)};W.registerOnDisabledChange(U),Z._registerOnDestroy(()=>{W._unregisterOnDisabledChange(U)})}}(W,Z)}function Ci(W,Z,U=!0){const de=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(de),Z.valueAccessor.registerOnTouched(de)),nr(W,Z),W&&(Z._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Wi(W,Z){W.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(Z)})}function Ti(W,Z){const U=kn(W);null!==Z.validator?W.setValidators(tn(U,Z.validator)):"function"==typeof U&&W.setValidators([U]);const de=Kt(W);null!==Z.asyncValidator?W.setAsyncValidators(tn(de,Z.asyncValidator)):"function"==typeof de&&W.setAsyncValidators([de]);const Ue=()=>W.updateValueAndValidity();Wi(Z._rawValidators,Ue),Wi(Z._rawAsyncValidators,Ue)}function nr(W,Z){let U=!1;if(null!==W){if(null!==Z.validator){const Ue=kn(W);if(Array.isArray(Ue)&&Ue.length>0){const dn=Ue.filter(er=>er!==Z.validator);dn.length!==Ue.length&&(U=!0,W.setValidators(dn))}}if(null!==Z.asyncValidator){const Ue=Kt(W);if(Array.isArray(Ue)&&Ue.length>0){const dn=Ue.filter(er=>er!==Z.asyncValidator);dn.length!==Ue.length&&(U=!0,W.setAsyncValidators(dn))}}}const de=()=>{};return Wi(Z._rawValidators,de),Wi(Z._rawAsyncValidators,de),U}function rt(W,Z){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function an(W,Z){Ti(W,Z)}function Ki(W,Z){if(!W.hasOwnProperty("model"))return!1;const U=W.model;return!!U.isFirstChange()||!Object.is(Z,U.currentValue)}function Zi(W,Z){W._syncPendingControls(),Z.forEach(U=>{const de=U.control;"submit"===de.updateOn&&de._pendingChange&&(U.viewToModelUpdate(de._pendingValue),de._pendingChange=!1)})}function Mo(W,Z){if(!Z)return null;let U,de,Ue;return Array.isArray(Z),Z.forEach(dn=>{dn.constructor===pe?U=dn:function Rs(W){return Object.getPrototypeOf(W.constructor)===je}(dn)?de=dn:Ue=dn}),Ue||de||U||null}const Ho={provide:sn,useExisting:(0,o.Rfq)(()=>es)},si=(()=>Promise.resolve())();let es=(()=>{class W extends sn{constructor(U,de,Ue){super(),this.callSetDisabledState=Ue,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new ye({},Ot(U),Zn(de))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){si.then(()=>{const de=this._findContainer(U.path);U.control=de.registerControl(U.name,U.control),Vs(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){si.then(()=>{const de=this._findContainer(U.path);de&&de.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){si.then(()=>{const de=this._findContainer(U.path),Ue=new ye({});an(Ue,U),de.registerControl(U.name,Ue),Ue.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){si.then(()=>{const de=this._findContainer(U.path);de&&de.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,de){si.then(()=>{this.form.get(U.path).setValue(de)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,Zi(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(Xe,10),o.rXU(yt,10),o.rXU(on,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(de,Ue){1&de&&o.bIt("submit",function(er){return Ue.onSubmit(er)})("reset",function(){return Ue.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Ho]),o.Vt3]})}}return W})();function gs(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}function Kr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const qi=class extends ee{constructor(Z=null,U,de){super(bi(U),H(de,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=Kr(Z)?Z.value:Z)}setValue(Z,U={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(de=>de(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(Z,U={}){this.setValue(Z,U)}reset(Z=this.defaultValue,U={}){this._applyFormState(Z),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){gs(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){gs(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Kr(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}};let ho=(()=>{class W extends sn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let U;return function(Ue){return(U||(U=o.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const Js={provide:Pr,useExisting:(0,o.Rfq)(()=>js)},Jr=(()=>Promise.resolve())();let js=(()=>{class W extends Pr{constructor(U,de,Ue,dn,er,_s){super(),this._changeDetectorRef=er,this.callSetDisabledState=_s,this.control=new qi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=U,this._setValidators(de),this._setAsyncValidators(Ue),this.valueAccessor=Mo(0,dn)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const de=U.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Ki(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Jr.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const de=U.isDisabled.currentValue,Ue=0!==de&&(0,o.L39)(de);Jr.then(()=>{Ue&&!this.control.disabled?this.control.disable():!Ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?fr(U,this._parent):[U]}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(sn,9),o.rXU(Xe,10),o.rXU(yt,10),o.rXU(_t,10),o.rXU(o.gRc,8),o.rXU(on,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([Js]),o.Vt3,o.OA$]})}}return W})(),Bs=(()=>{class W{static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const vo={provide:_t,useExisting:(0,o.Rfq)(()=>$s),multi:!0};let $s=(()=>{class W extends je{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=de=>{U(""==de?null:parseFloat(de))}}static{this.\u0275fac=function(){let U;return function(Ue){return(U||(U=o.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(de,Ue){1&de&&o.bIt("input",function(er){return Ue.onChange(er.target.value)})("blur",function(){return Ue.onTouched()})},features:[o.Jv_([vo]),o.Vt3]})}}return W})();const Sr={provide:_t,useExisting:(0,o.Rfq)(()=>fi),multi:!0};let Ii=(()=>{class W{static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({})}}return W})(),Os=(()=>{class W{constructor(){this._accessors=[]}add(U,de){this._accessors.push([U,de])}remove(U){for(let de=this._accessors.length-1;de>=0;--de)if(this._accessors[de][1]===U)return void this._accessors.splice(de,1)}select(U){this._accessors.forEach(de=>{this._isSameGroup(de,U)&&de[1]!==U&&de[1].fireUncheck(U.value)})}_isSameGroup(U,de){return!!U[0].control&&U[0]._parent===de._control._parent&&U[1].name===de.name}static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:Ii})}}return W})(),fi=(()=>{class W extends je{constructor(U,de,Ue,dn){super(U,de),this._registry=Ue,this._injector=dn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(on,{optional:!0})??$r}ngOnInit(){this._control=this._injector.get(Pr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Os),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(de,Ue){1&de&&o.bIt("change",function(){return Ue.onChange()})("blur",function(){return Ue.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([Sr]),o.Vt3]})}}return W})();const ts=new o.nKC("NgModelWithFormControlWarning"),oi={provide:sn,useExisting:(0,o.Rfq)(()=>hn)};let hn=(()=>{class W extends sn{constructor(U,de,Ue){super(),this.callSetDisabledState=Ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(U),this._setAsyncValidators(de)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const de=this.form.get(U.path);return Vs(de,U,this.callSetDisabledState),de.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),de}getControl(U){return this.form.get(U.path)}removeControl(U){Ci(U.control||null,U,!1),function Ro(W,Z){const U=W.indexOf(Z);U>-1&&W.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,de){this.form.get(U.path).setValue(de)}onSubmit(U){return this.submitted=!0,Zi(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const de=U.control,Ue=this.form.get(U.path);de!==Ue&&(Ci(de||null,U),(W=>W instanceof qi)(Ue)&&(Vs(Ue,U,this.callSetDisabledState),U.control=Ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const de=this.form.get(U.path);an(de,U),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const de=this.form.get(U.path);de&&function Fn(W,Z){return nr(W,Z)}(de,U)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ti(this.form,this),this._oldForm&&nr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(Xe,10),o.rXU(yt,10),o.rXU(on,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(de,Ue){1&de&&o.bIt("submit",function(er){return Ue.onSubmit(er)})("reset",function(){return Ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([oi]),o.Vt3,o.OA$]})}}return W})();const tr={provide:sn,useExisting:(0,o.Rfq)(()=>lr)};let lr=(()=>{class W extends ho{constructor(U,de,Ue){super(),this.name=null,this._parent=U,this._setValidators(de),this._setAsyncValidators(Ue)}_checkParentType(){Or(this._parent)}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(sn,13),o.rXU(Xe,10),o.rXU(yt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([tr]),o.Vt3]})}}return W})();const ns={provide:sn,useExisting:(0,o.Rfq)(()=>ls)};let ls=(()=>{class W extends sn{constructor(U,de,Ue){super(),this.name=null,this._parent=U,this._setValidators(de),this._setAsyncValidators(Ue)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Or(this._parent)}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(sn,13),o.rXU(Xe,10),o.rXU(yt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([ns]),o.Vt3]})}}return W})();function Or(W){return!(W instanceof lr||W instanceof hn||W instanceof ls)}const Ri={provide:Pr,useExisting:(0,o.Rfq)(()=>mr)};let mr=(()=>{class W extends Pr{set isDisabled(U){}static{this._ngModelWarningSentOnce=!1}constructor(U,de,Ue,dn,er){super(),this._ngModelWarningConfig=er,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(de),this._setAsyncValidators(Ue),this.valueAccessor=Mo(0,dn)}ngOnChanges(U){this._added||this._setUpControl(),Ki(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return fr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(sn,13),o.rXU(Xe,10),o.rXU(yt,10),o.rXU(_t,10),o.rXU(ts,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Ri]),o.Vt3,o.OA$]})}}return W})();const Zr={provide:_t,useExisting:(0,o.Rfq)(()=>Ui),multi:!0};function us(W,Z){return null==W?`${Z}`:(Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let Ui=(()=>{class W extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const Ue=us(this._getOptionId(U),U);this.setProperty("value",Ue)}registerOnChange(U){this.onChange=de=>{this.value=this._getOptionValue(de),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de),U))return de;return null}_getOptionValue(U){const de=function $n(W){return W.split(":")[0]}(U);return this._optionMap.has(de)?this._optionMap.get(de):U}static{this.\u0275fac=function(){let U;return function(Ue){return(U||(U=o.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(de,Ue){1&de&&o.bIt("change",function(er){return Ue.onChange(er.target.value)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Zr]),o.Vt3]})}}return W})(),rs=(()=>{class W{constructor(U,de,Ue){this._element=U,this._renderer=de,this._select=Ue,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(us(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Ui,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const te={provide:_t,useExisting:(0,o.Rfq)(()=>Qe),multi:!0};function J(W,Z){return null==W?`${Z}`:("string"==typeof Z&&(Z=`'${Z}'`),Z&&"object"==typeof Z&&(Z="Object"),`${W}: ${Z}`.slice(0,50))}let Qe=(()=>{class W extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let de;if(this.value=U,Array.isArray(U)){const Ue=U.map(dn=>this._getOptionId(dn));de=(dn,er)=>{dn._setSelected(Ue.indexOf(er.toString())>-1)}}else de=(Ue,dn)=>{Ue._setSelected(!1)};this._optionMap.forEach(de)}registerOnChange(U){this.onChange=de=>{const Ue=[],dn=de.selectedOptions;if(void 0!==dn){const er=dn;for(let _s=0;_s<er.length;_s++){const hs=this._getOptionValue(er[_s].value);Ue.push(hs)}}else{const er=de.options;for(let _s=0;_s<er.length;_s++){const Zs=er[_s];if(Zs.selected){const hs=this._getOptionValue(Zs.value);Ue.push(hs)}}}this.value=Ue,U(Ue)}}_registerOption(U){const de=(this._idCounter++).toString();return this._optionMap.set(de,U),de}_getOptionId(U){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de)._value,U))return de;return null}_getOptionValue(U){const de=function Te(W){return W.split(":")[0]}(U);return this._optionMap.has(de)?this._optionMap.get(de)._value:U}static{this.\u0275fac=function(){let U;return function(Ue){return(U||(U=o.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(de,Ue){1&de&&o.bIt("change",function(er){return Ue.onChange(er.target)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([te]),o.Vt3]})}}return W})(),mt=(()=>{class W{constructor(U,de,Ue){this._element=U,this._renderer=de,this._select=Ue,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(J(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(de){return new(de||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Qe,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),gn=(()=>{class W{constructor(){this._validator=et}ngOnChanges(U){if(this.inputName in U){const de=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):et,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275dir=o.FsC({type:W,features:[o.OA$]})}}return W})();const Xn={provide:Xe,useExisting:(0,o.Rfq)(()=>qr),multi:!0};let qr=(()=>{class W extends gn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=U=>or}enabled(U){return U}static{this.\u0275fac=function(){let U;return function(Ue){return(U||(U=o.xGo(W)))(Ue||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(de,Ue){2&de&&o.BMQ("required",Ue._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([Xn]),o.Vt3]})}}return W})(),Ia=(()=>{class W{static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Ii]})}}return W})();class ua extends ee{constructor(Z,U,de){super(bi(U),H(de,U)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,U={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(Z,U,de={}){this.controls.splice(Z,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:de.emitEvent})}removeAt(Z,U={}){let de=this._adjustIndex(Z);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(Z,U,de={}){let Ue=this._adjustIndex(Z);Ue<0&&(Ue=0),this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),this.controls.splice(Ue,1),U&&(this.controls.splice(Ue,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,U={}){ie(this,0,Z),Z.forEach((de,Ue)=>{B(this,!1,Ue),this.at(Ue).setValue(de,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(Z,U={}){null!=Z&&(Z.forEach((de,Ue)=>{this.at(Ue)&&this.at(Ue).patchValue(de,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(Z=[],U={}){this._forEachChild((de,Ue)=>{de.reset(Z[Ue],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((U,de)=>!!de._syncPendingControls()||U,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((U,de)=>{Z(U,de)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(U=>U.enabled&&Z(U))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function Ss(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let ms=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const U=new W;return U.useNonNullable=!0,U}group(U,de=null){const Ue=this._reduceControls(U);let dn={};return Ss(de)?dn=de:null!==de&&(dn.validators=de.validator,dn.asyncValidators=de.asyncValidator),new ye(Ue,dn)}record(U,de=null){const Ue=this._reduceControls(U);return new _n(Ue,de)}control(U,de,Ue){let dn={};return this.useNonNullable?(Ss(de)?dn=de:(dn.validators=de,dn.asyncValidators=Ue),new qi(U,{...dn,nonNullable:!0})):new qi(U,de,Ue)}array(U,de,Ue){const dn=U.map(er=>this._createControl(er));return new ua(dn,de,Ue)}_reduceControls(U){const de={};return Object.keys(U).forEach(Ue=>{de[Ue]=this._createControl(U[Ue])}),de}_createControl(U){return U instanceof qi||U instanceof ee?U:Array.isArray(U)?this.control(U[0],U.length>1?U[1]:null,U.length>2?U[2]:null):this.control(U)}static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),da=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:on,useValue:U.callSetDisabledState??$r}]}}static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Ia]})}}return W})(),Go=(()=>{class W{static withConfig(U){return{ngModule:W,providers:[{provide:ts,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:on,useValue:U.callSetDisabledState??$r}]}}static{this.\u0275fac=function(de){return new(de||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Ia]})}}return W})()},345:(nn,Ye,V)=>{V.d(Ye,{B7:()=>Mt,Bb:()=>pn,W8:()=>Ft,hE:()=>Pr,sG:()=>tn,up:()=>Di});var o=V(7705),ue=V(177);class i extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends i{static makeCurrent(){(0,ue.ZD)(new Ce)}onAndCancel(H,M,k){return H.addEventListener(M,k),()=>{H.removeEventListener(M,k)}}dispatchEvent(H,M){H.dispatchEvent(M)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,M){return(M=M||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,M){return"window"===M?window:"document"===M?H:"body"===M?H.body:null}getBaseHref(H){const M=function Se(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==M?null:function Fe(Ct){De=De||document.createElement("a"),De.setAttribute("href",Ct);const H=De.pathname;return"/"===H.charAt(0)?H:`/${H}`}(M)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,ue._b)(document.cookie,H)}}let De,me=null,ne=(()=>{class Ct{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||Ct)}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const ae=new o.nKC("EventManagerPlugins");let _e=(()=>{class Ct{constructor(M,k){this._zone=k,this._eventNameToPlugin=new Map,M.forEach(B=>{B.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,k,B){return this._findPluginFor(k).addEventListener(M,k,B)}getZone(){return this._zone}_findPluginFor(M){let k=this._eventNameToPlugin.get(M);if(k)return k;if(k=this._plugins.find(ie=>ie.supports(M)),!k)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,k),k}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ae),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();class ct{constructor(H){this._doc=H}}const je="ng-app-id";let _t=(()=>{class Ct{constructor(M,k,B,ie={}){this.doc=M,this.appId=k,this.nonce=B,this.platformId=ie,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(ie),this.resetHostNodes()}addStyles(M){for(const k of M)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(M){for(const k of M)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(k=>k.remove()),M.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const k of this.getAllStyles())this.addStyleToHost(M,k)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const k of this.hostNodes)this.addStyleToHost(k,M)}onStyleRemoved(M){const k=this.styleRef;k.get(M)?.elements?.forEach(B=>B.remove()),k.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${je}="${this.appId}"]`);if(M?.length){const k=new Map;return M.forEach(B=>{null!=B.textContent&&k.set(B.textContent,B)}),k}return null}changeUsageCount(M,k){const B=this.styleRef;if(B.has(M)){const ie=B.get(M);return ie.usage+=k,ie.usage}return B.set(M,{usage:k,elements:[]}),k}getStyleElement(M,k){const B=this.styleNodesInDOM,ie=B?.get(k);if(ie?.parentNode===M)return B.delete(k),ie.removeAttribute(je),ie;{const ee=this.doc.createElement("style");return this.nonce&&ee.setAttribute("nonce",this.nonce),ee.textContent=k,this.platformIsServer&&ee.setAttribute(je,this.appId),ee}}addStyleToHost(M,k){const B=this.getStyleElement(M,k);M.appendChild(B);const ie=this.styleRef,ee=ie.get(k)?.elements;ee?ee.push(B):ie.set(k,{elements:[B],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rt=/%COMP%/g,Ke=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yt(Ct,H){return H.map(M=>M.replace(Rt,Ct))}let Mt=(()=>{class Ct{constructor(M,k,B,ie,ee,ye,at,en=null){this.eventManager=M,this.sharedStylesHost=k,this.appId=B,this.removeStylesOnCompDestroy=ie,this.doc=ee,this.platformId=ye,this.ngZone=at,this.nonce=en,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(ye),this.defaultRenderer=new we(M,ee,at,this.platformIsServer)}createRenderer(M,k){if(!M||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===o.gXe.ShadowDom&&(k={...k,encapsulation:o.gXe.Emulated});const B=this.getOrCreateRenderer(M,k);return B instanceof zt?B.applyToHost(M):B instanceof Vt&&B.applyStyles(),B}getOrCreateRenderer(M,k){const B=this.rendererByCompId;let ie=B.get(k.id);if(!ie){const ee=this.doc,ye=this.ngZone,at=this.eventManager,en=this.sharedStylesHost,_n=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(k.encapsulation){case o.gXe.Emulated:ie=new zt(at,en,k,this.appId,_n,ee,ye,Er);break;case o.gXe.ShadowDom:return new xt(at,en,M,k,ee,ye,this.nonce,Er);default:ie=new Vt(at,en,k,_n,ee,ye,Er)}B.set(k.id,ie)}return ie}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(_e),o.KVO(_t),o.KVO(o.sZ2),o.KVO(Ke),o.KVO(ue.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();class we{constructor(H,M,k,B){this.eventManager=H,this.doc=M,this.ngZone=k,this.platformIsServer=B,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,M){return M?this.doc.createElementNS(ot[M]||M,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,M){(or(H)?H.content:H).appendChild(M)}insertBefore(H,M,k){H&&(or(H)?H.content:H).insertBefore(M,k)}removeChild(H,M){H&&H.removeChild(M)}selectRootElement(H,M){let k="string"==typeof H?this.doc.querySelector(H):H;if(!k)throw new o.wOt(-5104,!1);return M||(k.textContent=""),k}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,M,k,B){if(B){M=B+":"+M;const ie=ot[B];ie?H.setAttributeNS(ie,M,k):H.setAttribute(M,k)}else H.setAttribute(M,k)}removeAttribute(H,M,k){if(k){const B=ot[k];B?H.removeAttributeNS(B,M):H.removeAttribute(`${k}:${M}`)}else H.removeAttribute(M)}addClass(H,M){H.classList.add(M)}removeClass(H,M){H.classList.remove(M)}setStyle(H,M,k,B){B&(o.czy.DashCase|o.czy.Important)?H.style.setProperty(M,k,B&o.czy.Important?"important":""):H.style[M]=k}removeStyle(H,M,k){k&o.czy.DashCase?H.style.removeProperty(M):H.style[M]=""}setProperty(H,M,k){H[M]=k}setValue(H,M){H.nodeValue=M}listen(H,M,k){if("string"==typeof H&&!(H=(0,ue.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${M}`);return this.eventManager.addEventListener(H,M,this.decoratePreventDefault(k))}decoratePreventDefault(H){return M=>{if("__ngUnwrap__"===M)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(M)):H(M))&&M.preventDefault()}}}function or(Ct){return"TEMPLATE"===Ct.tagName&&void 0!==Ct.content}class xt extends we{constructor(H,M,k,B,ie,ee,ye,at){super(H,ie,ee,at),this.sharedStylesHost=M,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=yt(B.id,B.styles);for(const _n of en){const Er=document.createElement("style");ye&&Er.setAttribute("nonce",ye),Er.textContent=_n,this.shadowRoot.appendChild(Er)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,M){return super.appendChild(this.nodeOrShadowRoot(H),M)}insertBefore(H,M,k){return super.insertBefore(this.nodeOrShadowRoot(H),M,k)}removeChild(H,M){return super.removeChild(this.nodeOrShadowRoot(H),M)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vt extends we{constructor(H,M,k,B,ie,ee,ye,at){super(H,ie,ee,ye),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=B,this.styles=at?yt(at,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zt extends Vt{constructor(H,M,k,B,ie,ee,ye,at){const en=B+"-"+k.id;super(H,M,k,ie,ee,ye,at,en),this.contentAttr=function Re(Ct){return"_ngcontent-%COMP%".replace(Rt,Ct)}(en),this.hostAttr=function Xe(Ct){return"_nghost-%COMP%".replace(Rt,Ct)}(en)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,M){const k=super.createElement(H,M);return super.setAttribute(k,this.contentAttr,""),k}}let dt=(()=>{class Ct extends ct{constructor(M){super(M)}supports(M){return!0}addEventListener(M,k,B){return M.addEventListener(k,B,!1),()=>this.removeEventListener(M,k,B)}removeEventListener(M,k,B){return M.removeEventListener(k,B)}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const Le=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xt={alt:Ct=>Ct.altKey,control:Ct=>Ct.ctrlKey,meta:Ct=>Ct.metaKey,shift:Ct=>Ct.shiftKey};let Be=(()=>{class Ct extends ct{constructor(M){super(M)}supports(M){return null!=Ct.parseEventName(M)}addEventListener(M,k,B){const ie=Ct.parseEventName(k),ee=Ct.eventCallback(ie.fullKey,B,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(M,ie.domEventName,ee))}static parseEventName(M){const k=M.toLowerCase().split("."),B=k.shift();if(0===k.length||"keydown"!==B&&"keyup"!==B)return null;const ie=Ct._normalizeKey(k.pop());let ee="",ye=k.indexOf("code");if(ye>-1&&(k.splice(ye,1),ee="code."),Le.forEach(en=>{const _n=k.indexOf(en);_n>-1&&(k.splice(_n,1),ee+=en+".")}),ee+=ie,0!=k.length||0===ie.length)return null;const at={};return at.domEventName=B,at.fullKey=ee,at}static matchEventFullKeyCode(M,k){let B=et[M.key]||M.key,ie="";return k.indexOf("code.")>-1&&(B=M.code,ie="code."),!(null==B||!B)&&(B=B.toLowerCase()," "===B?B="space":"."===B&&(B="dot"),Le.forEach(ee=>{ee!==B&&(0,Xt[ee])(M)&&(ie+=ee+".")}),ie+=B,ie===k)}static eventCallback(M,k,B){return ie=>{Ct.matchEventFullKeyCode(ie,M)&&B.runGuarded(()=>k(ie))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:Ct.\u0275fac})}}return Ct})();const tn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:ue.AJ},{provide:o.PLl,useValue:function Ze(){Ce.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function Tn(){return(0,o.TL$)(document),document},deps:[]}]),kn=new o.nKC(""),Kt=[{provide:o.e01,useClass:class Ne{addToWindow(H){o.JZv.getAngularTestability=(k,B=!0)=>{const ie=H.findTestabilityInTree(k,B);if(null==ie)throw new o.wOt(5103,!1);return ie},o.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(k=>{const B=o.JZv.getAllAngularTestabilities();let ie=B.length,ee=!1;const ye=function(at){ee=ee||at,ie--,0==ie&&k(ee)};B.forEach(at=>{at.whenStable(ye)})})}findTestabilityInTree(H,M,k){return null==M?null:H.getTestability(M)??(k?(0,ue.QT)().isShadowRoot(M)?this.findTestabilityInTree(H,M.host,!0):this.findTestabilityInTree(H,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],Vn=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function Ot(){return new o.zcH},deps:[]},{provide:ae,useClass:dt,multi:!0,deps:[ue.qQ,o.SKi,o.Agw]},{provide:ae,useClass:Be,multi:!0,deps:[ue.qQ]},Mt,_t,_e,{provide:o._9s,useExisting:Mt},{provide:ue.N0,useClass:ne,deps:[]},[]];let pn=(()=>{class Ct{constructor(M){}static withServerTransition(M){return{ngModule:Ct,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(kn,12))}}static{this.\u0275mod=o.$C({type:Ct})}static{this.\u0275inj=o.G2t({providers:[...Vn,...Kt],imports:[ue.MD,o.Hbi]})}}return Ct})(),Ft=(()=>{class Ct{constructor(M){this._doc=M,this._dom=(0,ue.QT)()}addTag(M,k=!1){return M?this._getOrCreateElement(M,k):null}addTags(M,k=!1){return M?M.reduce((B,ie)=>(ie&&B.push(this._getOrCreateElement(ie,k)),B),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const k=this._doc.querySelectorAll(`meta[${M}]`);return k?[].slice.call(k):[]}updateTag(M,k){if(!M)return null;k=k||this._parseSelector(M);const B=this.getTag(k);return B?this._setMetaElementAttributes(M,B):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,k=!1){if(!k){const ee=this._parseSelector(M),ye=this.getTags(ee).filter(at=>this._containsAttributes(M,at))[0];if(void 0!==ye)return ye}const B=this._dom.createElement("meta");return this._setMetaElementAttributes(M,B),this._doc.getElementsByTagName("head")[0].appendChild(B),B}_setMetaElementAttributes(M,k){return Object.keys(M).forEach(B=>k.setAttribute(this._getMetaKeyMap(B),M[B])),k}_parseSelector(M){const k=M.name?"name":"property";return`${k}="${M[k]}"`}_containsAttributes(M,k){return Object.keys(M).every(B=>k.getAttribute(this._getMetaKeyMap(B))===M[B])}_getMetaKeyMap(M){return gr[M]||M}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let B=null;return B=k?new k:function Bt(){return new Ft((0,o.KVO)(ue.qQ))}(),B},providedIn:"root"})}}return Ct})();const gr={httpEquiv:"http-equiv"};let Pr=(()=>{class Ct{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let B=null;return B=k?new k:function sn(){return new Pr((0,o.KVO)(ue.qQ))}(),B},providedIn:"root"})}}return Ct})();typeof window<"u"&&window;let Di=(()=>{class Ct{static{this.\u0275fac=function(k){return new(k||Ct)}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let B=null;return B=k?new(k||Ct):o.KVO(gt),B},providedIn:"root"})}}return Ct})(),gt=(()=>{class Ct extends Di{constructor(M){super(),this._doc=M}sanitize(M,k){if(null==k)return null;switch(M){case o.WPN.NONE:return k;case o.WPN.HTML:return(0,o.ZF7)(k,"HTML")?(0,o.rcV)(k):(0,o.h9k)(this._doc,String(k)).toString();case o.WPN.STYLE:return(0,o.ZF7)(k,"Style")?(0,o.rcV)(k):k;case o.WPN.SCRIPT:if((0,o.ZF7)(k,"Script"))return(0,o.rcV)(k);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(k,"URL")?(0,o.rcV)(k):(0,o.$MX)(String(k));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(k,"ResourceURL"))return(0,o.rcV)(k);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(k){return new(k||Ct)(o.KVO(ue.qQ))}}static{this.\u0275prov=o.jDH({token:Ct,factory:function(k){let B=null;return B=k?new k:function tt(Ct){return new gt(Ct.get(ue.qQ))}(o.KVO(o.zZn)),B},providedIn:"root"})}}return Ct})()},6814:(nn,Ye,V)=>{V.d(Ye,{nX:()=>lr,Ix:()=>Gi,Wk:()=>Xo,wQ:()=>Li,iI:()=>hl,n3:()=>Ui});var o=V(7705),ue=V(1985),i=V(8071),me=V(8455),Se=V(7673),De=V(4412),Fe=V(3073),Ne=V(3669),ne=V(6450),ae=V(3794),_e=V(8496),ct=V(4360),je=V(5225);function _t(...D){const O=(0,ae.lI)(D),w=(0,ae.ms)(D),{args:N,keys:G}=(0,Fe.D)(D);if(0===N.length)return(0,me.H)([],O);const ce=new ue.c(function ot(D,O,w=Ne.D){return N=>{Rt(O,()=>{const{length:G}=D,ce=new Array(G);let Pe=G,bt=G;for(let pt=0;pt<G;pt++)Rt(O,()=>{const vn=(0,me.H)(D[pt],O);let dr=!1;vn.subscribe((0,ct._)(N,_r=>{ce[pt]=_r,dr||(dr=!0,bt--),bt||N.next(w(ce.slice()))},()=>{--Pe||N.complete()}))},N)},N)}}(N,O,G?Pe=>(0,_e.e)(G,Pe):Ne.D));return w?ce.pipe((0,ne.I)(w)):ce}function Rt(D,O,w){D?(0,je.N)(w,D,O):O()}var St=V(9350),rn=V(8793),He=V(8750);function pe(D){return new ue.c(O=>{(0,He.Tg)(D()).subscribe(O)})}var Ke=V(1203),Re=V(8810),Xe=V(983),yt=V(8359),Mt=V(9974);function we(){return(0,Mt.N)((D,O)=>{let w=null;D._refCount++;const N=(0,ct._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const G=D._connection,ce=w;w=null,G&&(!ce||G===ce)&&G.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class Zt extends ue.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Mt.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new yt.yU;const w=this.getSubject();O.add(this.source.subscribe((0,ct._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=yt.yU.EMPTY)}return O}refCount(){return we()(this)}}var fn=V(1413),or=V(177),xt=V(6354),Vt=V(5558),zt=V(6697),dt=V(9172),Le=V(5964),et=V(1397),Xt=V(1594),Be=V(274),Ae=V(8141),be=V(9437),Ve=V(2816),nt=V(9901);function Ze(D){return D<=0?()=>Xe.w:(0,Mt.N)((O,w)=>{let N=[];O.subscribe((0,ct._)(w,G=>{N.push(G),D<N.length&&N.shift()},()=>{for(const G of N)w.next(G);w.complete()},void 0,()=>{N=null}))})}var Ot=V(3774),tn=V(980),kn=V(5343),Vn=V(6365),pn=V(345);const Bt="primary",Ft=Symbol("RouteTitle");class gr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function sn(D){return new gr(D)}function Pr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const G={};for(let ce=0;ce<N.length;ce++){const Pe=N[ce],bt=D[ce];if(Pe.startsWith(":"))G[Pe.substring(1)]=bt;else if(Pe!==bt.path)return null}return{consumed:D.slice(0,N.length),posParams:G}}function Ut(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let G;for(let ce=0;ce<w.length;ce++)if(G=w[ce],!bn(D[G],O[G]))return!1;return!0}function bn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((G,ce)=>N[ce]===G)}return D===O}function Un(D){return D.length>0?D[D.length-1]:null}function In(D){return function Ce(D){return!!D&&(D instanceof ue.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,me.H)(Promise.resolve(D)):(0,Se.of)(D)}const Lr={exact:function ui(D,O,w){if(!gt(D.segments,O.segments)||!Yn(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!ui(D.children[N],O.children[N],w))return!1;return!0},subset:un},Dr={exact:function Bn(D,O){return Ut(D,O)},subset:function Xi(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>bn(D[w],O[w]))},ignored:()=>!0};function Xr(D,O,w){return Lr[w.paths](D.root,O.root,w.matrixParams)&&Dr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function un(D,O,w){return Qr(D,O,O.segments,w)}function Qr(D,O,w,N){if(D.segments.length>w.length){const G=D.segments.slice(0,w.length);return!(!gt(G,w)||O.hasChildren()||!Yn(G,w,N))}if(D.segments.length===w.length){if(!gt(D.segments,w)||!Yn(D.segments,w,N))return!1;for(const G in O.children)if(!D.children[G]||!un(D.children[G],O.children[G],N))return!1;return!0}{const G=w.slice(0,D.segments.length),ce=w.slice(D.segments.length);return!!(gt(D.segments,G)&&Yn(D.segments,G,N)&&D.children[Bt])&&Qr(D.children[Bt],O,ce,N)}}function Yn(D,O,w){return O.every((N,G)=>Dr[w](D[G].parameters,N.parameters))}class br{constructor(O=new jn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return Gt.serialize(this)}}class jn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ln(this)}}class Di{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return B(this)}}function gt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Me=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new Et},providedIn:"root"})}}return D})();class Et{parse(O){const w=new Vs(O);return new br(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${kr(O.root,!0)}`,N=function ee(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(G=>`${bi(w)}=${bi(G)}`).join("&"):`${bi(w)}=${bi(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function Ct(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Gt=new Et;function Ln(D){return D.segments.map(O=>B(O)).join("/")}function kr(D,O){if(!D.hasChildren())return Ln(D);if(O){const w=D.children[Bt]?kr(D.children[Bt],!1):"",N=[];return Object.entries(D.children).forEach(([G,ce])=>{G!==Bt&&N.push(`${G}:${kr(ce,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function he(D,O){let w=[];return Object.entries(D.children).forEach(([N,G])=>{N===Bt&&(w=w.concat(O(G,N)))}),Object.entries(D.children).forEach(([N,G])=>{N!==Bt&&(w=w.concat(O(G,N)))}),w}(D,(N,G)=>G===Bt?[kr(D.children[Bt],!1)]:[`${G}:${kr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Bt]?`${Ln(D)}/${w[0]}`:`${Ln(D)}/(${w.join("//")})`}}function Cr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bi(D){return Cr(D).replace(/%3B/gi,";")}function H(D){return Cr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function k(D){return M(D.replace(/\+/g,"%20"))}function B(D){return`${H(D.path)}${function ie(D){return Object.keys(D).map(O=>`;${H(O)}=${H(D[O])}`).join("")}(D.parameters)}`}const ye=/^[^\/()?;#]+/;function at(D){const O=D.match(ye);return O?O[0]:""}const en=/^[^\/()?;=#]+/,Er=/^[^=?&#]+/,$r=/^[^&#]+/;class Vs{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Bt]=new jn(O,w)),N}parseSegment(){const O=at(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Di(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function _n(D){const O=D.match(en);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const G=at(this.remaining);G&&(N=G,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function on(D){const O=D.match(Er);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Pe=function fr(D){const O=D.match($r);return O?O[0]:""}(this.remaining);Pe&&(N=Pe,this.capture(N))}const G=k(w),ce=k(N);if(O.hasOwnProperty(G)){let Pe=O[G];Array.isArray(Pe)||(Pe=[Pe],O[G]=Pe),Pe.push(ce)}else O[G]=ce}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=at(this.remaining),G=this.remaining[N.length];if("/"!==G&&")"!==G&&";"!==G)throw new o.wOt(4010,!1);let ce;N.indexOf(":")>-1?(ce=N.slice(0,N.indexOf(":")),this.capture(ce),this.capture(":")):O&&(ce=Bt);const Pe=this.parseChildren();w[ce]=1===Object.keys(Pe).length?Pe[Bt]:new jn([],Pe),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function Ci(D){return D.segments.length>0?new jn([],{[Bt]:D}):D}function Wi(D){const O={};for(const N of Object.keys(D.children)){const ce=Wi(D.children[N]);if(N===Bt&&0===ce.segments.length&&ce.hasChildren())for(const[Pe,bt]of Object.entries(ce.children))O[Pe]=bt;else(ce.segments.length>0||ce.hasChildren())&&(O[N]=ce)}return function Fi(D){if(1===D.numberOfChildren&&D.children[Bt]){const O=D.children[Bt];return new jn(D.segments.concat(O.segments),O.children)}return D}(new jn(D.segments,O))}function Ti(D){return D instanceof br}function Us(D){let O;const G=Ci(function w(ce){const Pe={};for(const pt of ce.children){const vn=w(pt);Pe[pt.outlet]=vn}const bt=new jn(ce.url,Pe);return ce===D&&(O=bt),bt}(D.root));return O??G}function Tt(D,O,w,N){let G=D;for(;G.parent;)G=G.parent;if(0===O.length)return an(G,G,G,w,N);const ce=function cr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new xn(!0,0,D);let O=0,w=!1;const N=D.reduce((G,ce,Pe)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const bt={};return Object.entries(ce.outlets).forEach(([pt,vn])=>{bt[pt]="string"==typeof vn?vn.split("/"):vn}),[...G,{outlets:bt}]}if(ce.segmentPath)return[...G,ce.segmentPath]}return"string"!=typeof ce?[...G,ce]:0===Pe?(ce.split("/").forEach((bt,pt)=>{0==pt&&"."===bt||(0==pt&&""===bt?w=!0:".."===bt?O++:""!=bt&&G.push(bt))}),G):[...G,ce]},[]);return new xn(w,O,N)}(O);if(ce.toRoot())return an(G,G,new jn([],{}),w,N);const Pe=function Wr(D,O,w){if(D.isAbsolute)return new Vr(O,!0,0);if(!w)return new Vr(O,!1,NaN);if(null===w.parent)return new Vr(w,!0,0);const N=rt(D.commands[0])?0:1;return function Tr(D,O,w){let N=D,G=O,ce=w;for(;ce>G;){if(ce-=G,N=N.parent,!N)throw new o.wOt(4005,!1);G=N.segments.length}return new Vr(N,!1,G-ce)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ce,G,D),bt=Pe.processChildren?Zi(Pe.segmentGroup,Pe.index,ce.commands):Rs(Pe.segmentGroup,Pe.index,ce.commands);return an(G,Pe.segmentGroup,bt,w,N)}function rt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Pt(D){return"object"==typeof D&&null!=D&&D.outlets}function an(D,O,w,N,G){let Pe,ce={};N&&Object.entries(N).forEach(([pt,vn])=>{ce[pt]=Array.isArray(vn)?vn.map(dr=>`${dr}`):`${vn}`}),Pe=D===O?w:Fn(D,O,w);const bt=Ci(Wi(Pe));return new br(bt,ce,G)}function Fn(D,O,w){const N={};return Object.entries(D.children).forEach(([G,ce])=>{N[G]=ce===O?w:Fn(ce,O,w)}),new jn(D.segments,N)}class xn{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&rt(N[0]))throw new o.wOt(4003,!1);const G=N.find(Pt);if(G&&G!==Un(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vr{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Rs(D,O,w){if(D||(D=new jn([],{})),0===D.segments.length&&D.hasChildren())return Zi(D,O,w);const N=function Mo(D,O,w){let N=0,G=O;const ce={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(N>=w.length)return ce;const Pe=D.segments[G],bt=w[N];if(Pt(bt))break;const pt=`${bt}`,vn=N<w.length-1?w[N+1]:null;if(G>0&&void 0===pt)break;if(pt&&vn&&"object"==typeof vn&&void 0===vn.outlets){if(!si(pt,vn,Pe))return ce;N+=2}else{if(!si(pt,{},Pe))return ce;N++}G++}return{match:!0,pathIndex:G,commandIndex:N}}(D,O,w),G=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ce=new jn(D.segments.slice(0,N.pathIndex),{});return ce.children[Bt]=new jn(D.segments.slice(N.pathIndex),D.children),Zi(ce,0,G)}return N.match&&0===G.length?new jn(D.segments,{}):N.match&&!D.hasChildren()?Ro(D,O,w):N.match?Zi(D,0,G):Ro(D,O,w)}function Zi(D,O,w){if(0===w.length)return new jn(D.segments,{});{const N=function Ki(D){return Pt(D[0])?D[0].outlets:{[Bt]:D}}(w),G={};if(Object.keys(N).some(ce=>ce!==Bt)&&D.children[Bt]&&1===D.numberOfChildren&&0===D.children[Bt].segments.length){const ce=Zi(D.children[Bt],O,w);return new jn(D.segments,ce.children)}return Object.entries(N).forEach(([ce,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(G[ce]=Rs(D.children[ce],O,Pe))}),Object.entries(D.children).forEach(([ce,Pe])=>{void 0===N[ce]&&(G[ce]=Pe)}),new jn(D.segments,G)}}function Ro(D,O,w){const N=D.segments.slice(0,O);let G=0;for(;G<w.length;){const ce=w[G];if(Pt(ce)){const pt=Hi(ce.outlets);return new jn(N,pt)}if(0===G&&rt(w[0])){N.push(new Di(D.segments[O].path,Ho(w[0]))),G++;continue}const Pe=Pt(ce)?ce.outlets[Bt]:`${ce}`,bt=G<w.length-1?w[G+1]:null;Pe&&bt&&rt(bt)?(N.push(new Di(Pe,Ho(bt))),G+=2):(N.push(new Di(Pe,{})),G++)}return new jn(N,{})}function Hi(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Ro(new jn([],{}),0,N))}),O}function Ho(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function si(D,O,w){return D==w.path&&Ut(O,w.parameters)}const es="imperative";class gs{constructor(O,w){this.id=O,this.url=w}}class Kr extends gs{constructor(O,w,N="imperative",G=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends gs{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends gs{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ir extends gs{constructor(O,w,N,G){super(O,w),this.reason=N,this.code=G,this.type=16}}class ho extends gs{constructor(O,w,N,G){super(O,w),this.error=N,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oo extends gs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends gs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Va extends gs{constructor(O,w,N,G,ce){super(O,w),this.urlAfterRedirects=N,this.state=G,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ya extends gs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si extends gs{constructor(O,w,N,G){super(O,w),this.urlAfterRedirects=N,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ta{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Js{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jr{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Sr{}class hi{constructor(O){this.url=O}}class Os{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fi,this.attachRef=null}}let fi=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const G=this.getOrCreateContext(w);G.outlet=N,this.contexts.set(w,G)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Os,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class cs{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=fo(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=fo(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=ts(O,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==O)}pathFromRoot(O){return ts(O,this._root).map(w=>w.value)}}function fo(D,O){if(D===O.value)return O;for(const w of O.children){const N=fo(D,w);if(N)return N}return null}function ts(D,O){if(D===O.value)return[O];for(const w of O.children){const N=ts(D,w);if(N.length)return N.unshift(O),N}return[]}class As{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Hs(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class oi extends cs{constructor(O,w){super(O),this.snapshot=w,mr(this,O)}toString(){return this.snapshot.toString()}}function hn(D,O){const w=function tr(D,O){const Pe=new Or([],{},{},"",{},Bt,O,null,{});return new Ri("",new As(Pe,[]))}(0,O),N=new De.t([new Di("",{})]),G=new De.t({}),ce=new De.t({}),Pe=new De.t({}),bt=new De.t(""),pt=new lr(N,G,Pe,bt,ce,Bt,O,w.root);return pt.snapshot=w.root,new oi(new As(pt,[]),w)}class lr{constructor(O,w,N,G,ce,Pe,bt,pt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=G,this.dataSubject=ce,this.outlet=Pe,this.component=bt,this._futureSnapshot=pt,this.title=this.dataSubject?.pipe((0,xt.T)(vn=>vn[Ft]))??(0,Se.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.T)(O=>sn(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.T)(O=>sn(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ns(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const G=w[N],ce=w[N-1];if(G.routeConfig&&""===G.routeConfig.path)N--;else{if(ce.component)break;N--}}return function ls(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Or{get title(){return this.data?.[Ft]}constructor(O,w,N,G,ce,Pe,bt,pt,vn){this.url=O,this.params=w,this.queryParams=N,this.fragment=G,this.data=ce,this.outlet=Pe,this.component=bt,this.routeConfig=pt,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ri extends cs{constructor(O,w){super(w),this.url=O,mr(this,w)}toString(){return Zr(this._root)}}function mr(D,O){O.value._routerState=D,O.children.forEach(w=>mr(D,w))}function Zr(D){const O=D.children.length>0?` { ${D.children.map(Zr).join(", ")} } `:"";return`${D.value}${O}`}function us(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Ut(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Ut(O.params,w.params)||D.paramsSubject.next(w.params),function Wn(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Ut(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Ut(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function $n(D,O){const w=Ut(D.params,O.params)&&function tt(D,O){return gt(D,O)&&D.every((w,N)=>Ut(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||$n(D.parent,O.parent))}let Ui=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(fi),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(te,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:G}=w.name;if(N)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const G=this.location,Pe=w.snapshot.component,bt=this.parentContexts.getOrCreateContext(this.name).children,pt=new rs(w,bt,G.injector);this.activated=G.createComponent(Pe,{index:G.length,injector:pt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class rs{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===lr?this.route:O===fi?this.childContexts:this.parent.get(O,w)}}const te=new o.nKC("");let J=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,G=_t([N.queryParams,N.params,N.data]).pipe((0,Vt.n)(([ce,Pe,bt],pt)=>(bt={...ce,...Pe,...bt},0===pt?(0,Se.of)(bt):Promise.resolve(bt)))).subscribe(ce=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Pe=(0,o.HJs)(N.component);if(Pe)for(const{templateName:bt}of Pe.inputs)w.activatedComponentRef.setInput(bt,ce[bt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,G)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Oe(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const G=function Qe(D,O,w){return O.children.map(N=>{for(const G of w.children)if(D.shouldReuseRoute(N.value,G.value.snapshot))return Oe(D,N,G);return Oe(D,N)})}(D,O,w);return new As(N,G)}{if(D.shouldAttach(O.value)){const ce=D.retrieve(O.value);if(null!==ce){const Pe=ce.route;return Pe.value._futureSnapshot=O.value,Pe.children=O.children.map(bt=>Oe(D,bt)),Pe}}const N=function mt(D){return new lr(new De.t(D.url),new De.t(D.params),new De.t(D.queryParams),new De.t(D.fragment),new De.t(D.data),D.outlet,D.component,D)}(O.value),G=O.children.map(ce=>Oe(D,ce));return new As(N,G)}}const qt="ngNavigationCancelingError";function An(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=Ti(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,G=gn(!1,0,O);return G.url=w,G.navigationBehaviorOptions=N,G}function gn(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[qt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function wr(D){return D&&D[qt]}let Rn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,G){1&N&&o.nrm(0,"router-outlet")},dependencies:[Ui],encapsulation:2})}}return D})();function Oi(D){const O=D.children&&D.children.map(Oi),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Bt&&(w.component=Rn),w}function Hr(D){return D.outlet||Bt}function wi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class to{constructor(O,w,N,G,ce){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=G,this.inputBindingEnabled=ce}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),us(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const G=Hs(w);O.children.forEach(ce=>{const Pe=ce.value.outlet;this.deactivateRoutes(ce,G[Pe],N),delete G[Pe]}),Object.values(G).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,N)})}deactivateRoutes(O,w,N){const G=O.value,ce=w?w.value:null;if(G===ce)if(G.component){const Pe=N.getContext(G.outlet);Pe&&this.deactivateChildRoutes(O,w,Pe.children)}else this.deactivateChildRoutes(O,w,N);else ce&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ce=Hs(O);for(const Pe of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Pe],G);if(N&&N.outlet){const Pe=N.outlet.detach(),bt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Pe,route:O,contexts:bt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),G=N&&O.value.component?N.children:w,ce=Hs(O);for(const Pe of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Pe],G);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const G=Hs(w);O.children.forEach(ce=>{this.activateRoutes(ce,G[ce.value.outlet],N),this.forwardEvent(new vo(ce.value.snapshot))}),O.children.length&&this.forwardEvent(new js(O.value.snapshot))}activateRoutes(O,w,N){const G=O.value,ce=w?w.value:null;if(us(G),G===ce)if(G.component){const Pe=N.getOrCreateContext(G.outlet);this.activateChildRoutes(O,w,Pe.children)}else this.activateChildRoutes(O,w,N);else if(G.component){const Pe=N.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const bt=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Pe.children.onOutletReAttached(bt.contexts),Pe.attachRef=bt.componentRef,Pe.route=bt.route.value,Pe.outlet&&Pe.outlet.attach(bt.componentRef,bt.route.value),us(bt.route.value),this.activateChildRoutes(O,null,Pe.children)}else{const bt=wi(G.snapshot);Pe.attachRef=null,Pe.route=G,Pe.injector=bt,Pe.outlet&&Pe.outlet.activateWith(G,Pe.injector),this.activateChildRoutes(O,null,Pe.children)}}else this.activateChildRoutes(O,null,N)}}class Ia{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ua{constructor(O,w){this.component=O,this.route=w}}function wa(D,O,w){const N=D._root;return ms(N,O?O._root:null,w,[N.value])}function Ss(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function ms(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Hs(O);return D.children.forEach(Pe=>{(function Xa(D,O,w,N,G={canDeactivateChecks:[],canActivateChecks:[]}){const ce=D.value,Pe=O?O.value:null,bt=w?w.getContext(D.value.outlet):null;if(Pe&&ce.routeConfig===Pe.routeConfig){const pt=function no(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!gt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!gt(D.url,O.url)||!Ut(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(D,O)||!Ut(D.queryParams,O.queryParams);default:return!$n(D,O)}}(Pe,ce,ce.routeConfig.runGuardsAndResolvers);pt?G.canActivateChecks.push(new Ia(N)):(ce.data=Pe.data,ce._resolvedData=Pe._resolvedData),ms(D,O,ce.component?bt?bt.children:null:w,N,G),pt&&bt&&bt.outlet&&bt.outlet.isActivated&&G.canDeactivateChecks.push(new ua(bt.outlet.component,Pe))}else Pe&&gi(O,bt,G),G.canActivateChecks.push(new Ia(N)),ms(D,null,ce.component?bt?bt.children:null:w,N,G)})(Pe,ce[Pe.value.outlet],w,N.concat([Pe.value]),G),delete ce[Pe.value.outlet]}),Object.entries(ce).forEach(([Pe,bt])=>gi(bt,w.getContext(Pe),G)),G}function gi(D,O,w){const N=Hs(D),G=D.value;Object.entries(N).forEach(([ce,Pe])=>{gi(Pe,G.component?O?O.children.getContext(ce):null:O,w)}),w.canDeactivateChecks.push(new ua(G.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,G))}function da(D){return"function"==typeof D}function _s(D){return D instanceof St.G||"EmptyError"===D?.name}const Zs=Symbol("INITIAL_VALUE");function hs(){return(0,Vt.n)(D=>_t(D.map(O=>O.pipe((0,zt.s)(1),(0,dt.Z)(Zs)))).pipe((0,xt.T)(O=>{for(const w of O)if(!0!==w){if(w===Zs)return Zs;if(!1===w||w instanceof br)return w}return!0}),(0,Le.p)(O=>O!==Zs),(0,zt.s)(1)))}function Qi(D){return(0,Ke.F)((0,Ae.M)(O=>{if(Ti(O))throw An(0,O)}),(0,xt.T)(O=>!0===O))}class zs{constructor(O){this.segmentGroup=O||null}}class Aa{constructor(O){this.urlTree=O}}function vs(D){return(0,Re.$)(new zs(D))}function ha(D){return(0,Re.$)(new Aa(D))}class Mu{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],G=w.root;for(;;){if(N=N.concat(G.segments),0===G.numberOfChildren)return(0,Se.of)(N);if(G.numberOfChildren>1||!G.children[Bt])return(0,Re.$)(new o.wOt(4e3,!1));G=G.children[Bt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,G){const ce=this.createSegmentGroup(O,w.root,N,G);return new br(ce,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([G,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const bt=ce.substring(1);N[G]=w[bt]}else N[G]=ce}),N}createSegmentGroup(O,w,N,G){const ce=this.createSegments(O,w.segments,N,G);let Pe={};return Object.entries(w.children).forEach(([bt,pt])=>{Pe[bt]=this.createSegmentGroup(O,pt,N,G)}),new jn(ce,Pe)}createSegments(O,w,N,G){return w.map(ce=>ce.path.startsWith(":")?this.findPosParam(O,ce,G):this.findOrReturn(ce,N))}findPosParam(O,w,N){const G=N[w.path.substring(1)];if(!G)throw new o.wOt(4001,!1);return G}findOrReturn(O,w){let N=0;for(const G of w){if(G.path===O.path)return w.splice(N),G;N++}return O}}const ar={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bc(D,O,w,N,G){const ce=Ws(D,O,w);return ce.matched?(N=function On(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Qa(D,O,w,N){const G=O.canMatch;if(!G||0===G.length)return(0,Se.of)(!0);const ce=G.map(Pe=>{const bt=Ss(Pe,D);return In(function Ue(D){return D&&da(D.canMatch)}(bt)?bt.canMatch(O,w):D.runInContext(()=>bt(O,w)))});return(0,Se.of)(ce).pipe(hs(),Qi())}(N,O,w).pipe((0,xt.T)(Pe=>!0===Pe?ce:{...ar}))):(0,Se.of)(ce)}function Ws(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...ar}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(O.matcher||Pr)(w,D,O);if(!G)return{...ar};const ce={};Object.entries(G.posParams??{}).forEach(([bt,pt])=>{ce[bt]=pt.path});const Pe=G.consumed.length>0?{...ce,...G.consumed[G.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:Pe,positionalParamSegments:G.posParams??{}}}function bo(D,O,w,N){return w.length>0&&function Cc(D,O,w){return w.some(N=>Ua(D,O,N)&&Hr(N)!==Bt)}(D,w,N)?{segmentGroup:new jn(O,Kl(N,new jn(w,D.children))),slicedSegments:[]}:0===w.length&&function qh(D,O,w){return w.some(N=>Ua(D,O,N))}(D,w,N)?{segmentGroup:new jn(D.segments,Ja(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new jn(D.segments,D.children),slicedSegments:w}}function Ja(D,O,w,N,G){const ce={};for(const Pe of N)if(Ua(D,w,Pe)&&!G[Hr(Pe)]){const bt=new jn([],{});ce[Hr(Pe)]=bt}return{...G,...ce}}function Kl(D,O){const w={};w[Bt]=O;for(const N of D)if(""===N.path&&Hr(N)!==Bt){const G=new jn([],{});w[Hr(N)]=G}return w}function Ua(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class al{constructor(O,w,N,G,ce,Pe,bt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=G,this.urlTree=ce,this.paramsInheritanceStrategy=Pe,this.urlSerializer=bt,this.allowRedirects=!0,this.applyRedirects=new Mu(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=bo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Bt).pipe((0,be.W)(w=>{if(w instanceof Aa)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof zs?this.noMatchError(w):w}),(0,xt.T)(w=>{const N=new Or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),G=new As(N,w),ce=new Ri("",G),Pe=function nr(D,O,w=null,N=null){return Tt(Us(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Pe.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(Pe),this.inheritParamsAndData(ce._root),{state:ce,tree:Pe}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Bt).pipe((0,be.W)(N=>{throw N instanceof zs?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=ns(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(O,w,N,G){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,G,!0)}processChildren(O,w,N){const G=[];for(const ce of Object.keys(N.children))"primary"===ce?G.unshift(ce):G.push(ce);return(0,me.H)(G).pipe((0,Be.H)(ce=>{const Pe=N.children[ce],bt=function Eo(D,O){const w=D.filter(N=>Hr(N)===O);return w.push(...D.filter(N=>Hr(N)!==O)),w}(w,ce);return this.processSegmentGroup(O,bt,Pe,ce)}),(0,Ve.S)((ce,Pe)=>(ce.push(...Pe),ce)),(0,nt.U)(null),function Tn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Le.p)((G,ce)=>D(G,ce,N)):Ne.D,Ze(1),w?(0,nt.U)(O):(0,Ot.v)(()=>new St.G))}(),(0,et.Z)(ce=>{if(null===ce)return vs(N);const Pe=$a(ce);return function Da(D){D.sort((O,w)=>O.value.outlet===Bt?-1:w.value.outlet===Bt?1:O.value.outlet.localeCompare(w.value.outlet))}(Pe),(0,Se.of)(Pe)}))}processSegment(O,w,N,G,ce,Pe){return(0,me.H)(w).pipe((0,Be.H)(bt=>this.processSegmentAgainstRoute(bt._injector??O,w,bt,N,G,ce,Pe).pipe((0,be.W)(pt=>{if(pt instanceof zs)return(0,Se.of)(null);throw pt}))),(0,Xt.$)(bt=>!!bt),(0,be.W)(bt=>{if(_s(bt))return function Tc(D,O,w){return 0===O.length&&!D.children[w]}(N,G,ce)?(0,Se.of)([]):vs(N);throw bt}))}processSegmentAgainstRoute(O,w,N,G,ce,Pe,bt){return function ja(D,O,w,N){return!!(Hr(D)===N||N!==Bt&&Ua(O,w,D))&&("**"===D.path||Ws(O,D,w).matched)}(N,G,ce,Pe)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,G,N,ce,Pe,bt):bt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,G,w,N,ce,Pe):vs(G):vs(G)}expandSegmentAgainstRouteUsingRedirect(O,w,N,G,ce,Pe){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,G,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ce,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,G){const ce=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?ha(ce):this.applyRedirects.lineralizeSegments(N,ce).pipe((0,et.Z)(Pe=>{const bt=new jn(Pe,{});return this.processSegment(O,w,bt,Pe,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,G,ce,Pe){const{matched:bt,consumedSegments:pt,remainingSegments:vn,positionalParamSegments:dr}=Ws(w,G,ce);if(!bt)return vs(w);const _r=this.applyRedirects.applyRedirectCommands(pt,G.redirectTo,dr);return G.redirectTo.startsWith("/")?ha(_r):this.applyRedirects.lineralizeSegments(G,_r).pipe((0,et.Z)(Nr=>this.processSegment(O,N,w,Nr.concat(vn),Pe,!1)))}matchSegmentAgainstRoute(O,w,N,G,ce,Pe){let bt;if("**"===N.path){const pt=G.length>0?Un(G).parameters:{},vn=new Or(G,pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cl(N),Hr(N),N.component??N._loadedComponent??null,N,P(N));bt=(0,Se.of)({snapshot:vn,consumedSegments:[],remainingSegments:[]}),w.children={}}else bt=bc(w,N,G,O).pipe((0,xt.T)(({matched:pt,consumedSegments:vn,remainingSegments:dr,parameters:_r})=>pt?{snapshot:new Or(vn,_r,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cl(N),Hr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:vn,remainingSegments:dr}:null));return bt.pipe((0,Vt.n)(pt=>null===pt?vs(w):this.getChildConfig(O=N._injector??O,N,G).pipe((0,Vt.n)(({routes:vn})=>{const dr=N._loadedInjector??O,{snapshot:_r,consumedSegments:Nr,remainingSegments:Yr}=pt,{segmentGroup:rc,slicedSegments:Qo}=bo(w,Nr,Yr,vn);if(0===Qo.length&&rc.hasChildren())return this.processChildren(dr,vn,rc).pipe((0,xt.T)(Sc=>null===Sc?null:[new As(_r,Sc)]));if(0===vn.length&&0===Qo.length)return(0,Se.of)([new As(_r,[])]);const pl=Hr(N)===ce;return this.processSegment(dr,vn,rc,Qo,pl?Bt:ce,!0).pipe((0,xt.T)(Sc=>[new As(_r,Sc)]))}))))}getChildConfig(O,w,N){return w.children?(0,Se.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Se.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function sl(D,O,w,N){const G=O.canLoad;if(void 0===G||0===G.length)return(0,Se.of)(!0);const ce=G.map(Pe=>{const bt=Ss(Pe,D);return In(function W(D){return D&&da(D.canLoad)}(bt)?bt.canLoad(O,w):D.runInContext(()=>bt(O,w)))});return(0,Se.of)(ce).pipe(hs(),Qi())}(O,w,N).pipe((0,et.Z)(G=>G?this.configLoader.loadChildren(O,w).pipe((0,Ae.M)(ce=>{w._loadedRoutes=ce.routes,w._loadedInjector=ce.injector})):function ol(D){return(0,Re.$)(gn(!1,3))}())):(0,Se.of)({routes:[],injector:O})}}function Ba(D){const O=D.value.routeConfig;return O&&""===O.path}function $a(D){const O=[],w=new Set;for(const N of D){if(!Ba(N)){O.push(N);continue}const G=O.find(ce=>N.value.routeConfig===ce.value.routeConfig);void 0!==G?(G.children.push(...N.children),w.add(G)):O.push(N)}for(const N of w){const G=$a(N.children);O.push(new As(N.value,G))}return O.filter(N=>!w.has(N))}function cl(D){return D.data||{}}function P(D){return D.resolve||{}}function Nn(D){return"string"==typeof D.title||null===D.title}function Gr(D){return(0,Vt.n)(O=>{const w=D(O);return w?(0,me.H)(w).pipe((0,xt.T)(()=>O)):(0,Se.of)(O)})}const mi=new o.nKC("ROUTES");let ni=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Se.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=In(w.loadComponent()).pipe((0,xt.T)(Ai),(0,Ae.M)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ce}),(0,tn.j)(()=>{this.componentLoaders.delete(w)})),G=new Zt(N,()=>new fn.B).pipe(we());return this.componentLoaders.set(w,G),G}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Se.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ce=function pr(D,O,w,N){return In(D.loadChildren()).pipe((0,xt.T)(Ai),(0,et.Z)(G=>G instanceof o.Co$||Array.isArray(G)?(0,Se.of)(G):(0,me.H)(O.compileModuleAsync(G))),(0,xt.T)(G=>{N&&N(D);let ce,Pe,bt=!1;return Array.isArray(G)?(Pe=G,!0):(ce=G.create(w).injector,Pe=ce.get(mi,[],{optional:!0,self:!0}).flat()),{routes:Pe.map(Oi),injector:ce}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,tn.j)(()=>{this.childrenLoaders.delete(N)})),Pe=new Zt(ce,()=>new fn.B).pipe(we());return this.childrenLoaders.set(N,Pe),Pe}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ai(D){return function ai(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Pi=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fn.B,this.transitionAbortSubject=new fn.B,this.configLoader=(0,o.WQX)(ni),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Me),this.rootContexts=(0,o.WQX)(fi),this.inputBindingEnabled=null!==(0,o.WQX)(te,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new Js(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new Ta(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,G){return this.transitions=new De.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:es,restoredState:null,currentSnapshot:G.snapshot,targetSnapshot:null,currentRouterState:G,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Le.p)(ce=>0!==ce.id),(0,xt.T)(ce=>({...ce,extractedUrl:w.urlHandlingStrategy.extract(ce.rawUrl)})),(0,Vt.n)(ce=>{this.currentTransition=ce;let Pe=!1,bt=!1;return(0,Se.of)(ce).pipe((0,Ae.M)(pt=>{this.currentNavigation={id:pt.id,initialUrl:pt.rawUrl,extractedUrl:pt.extractedUrl,trigger:pt.source,extras:pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Vt.n)(pt=>{const vn=pt.currentBrowserUrl.toString(),dr=!w.navigated||pt.extractedUrl.toString()!==vn||vn!==pt.currentUrlTree.toString();if(!dr&&"reload"!==(pt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Nr="";return this.events.next(new Ir(pt.id,this.urlSerializer.serialize(pt.rawUrl),Nr,0)),pt.resolve(null),Xe.w}if(w.urlHandlingStrategy.shouldProcessUrl(pt.rawUrl))return(0,Se.of)(pt).pipe((0,Vt.n)(Nr=>{const Yr=this.transitions?.getValue();return this.events.next(new Kr(Nr.id,this.urlSerializer.serialize(Nr.extractedUrl),Nr.source,Nr.restoredState)),Yr!==this.transitions?.getValue()?Xe.w:Promise.resolve(Nr)}),function re(D,O,w,N,G,ce){return(0,et.Z)(Pe=>function Ko(D,O,w,N,G,ce,Pe="emptyOnly"){return new al(D,O,w,N,G,Pe,ce).recognize()}(D,O,w,N,Pe.extractedUrl,G,ce).pipe((0,xt.T)(({state:bt,tree:pt})=>({...Pe,targetSnapshot:bt,urlAfterRedirects:pt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,Ae.M)(Nr=>{ce.targetSnapshot=Nr.targetSnapshot,ce.urlAfterRedirects=Nr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Nr.urlAfterRedirects};const Yr=new Oo(Nr.id,this.urlSerializer.serialize(Nr.extractedUrl),this.urlSerializer.serialize(Nr.urlAfterRedirects),Nr.targetSnapshot);this.events.next(Yr)}));if(dr&&w.urlHandlingStrategy.shouldProcessUrl(pt.currentRawUrl)){const{id:Nr,extractedUrl:Yr,source:rc,restoredState:Qo,extras:pl}=pt,Sc=new Kr(Nr,this.urlSerializer.serialize(Yr),rc,Qo);this.events.next(Sc);const Lu=hn(0,this.rootComponentType).snapshot;return this.currentTransition=ce={...pt,targetSnapshot:Lu,urlAfterRedirects:Yr,extras:{...pl,skipLocationChange:!1,replaceUrl:!1}},(0,Se.of)(ce)}{const Nr="";return this.events.next(new Ir(pt.id,this.urlSerializer.serialize(pt.extractedUrl),Nr,1)),pt.resolve(null),Xe.w}}),(0,Ae.M)(pt=>{const vn=new di(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot);this.events.next(vn)}),(0,xt.T)(pt=>(this.currentTransition=ce={...pt,guards:wa(pt.targetSnapshot,pt.currentSnapshot,this.rootContexts)},ce)),function po(D,O){return(0,et.Z)(w=>{const{targetSnapshot:N,currentSnapshot:G,guards:{canActivateChecks:ce,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===ce.length?(0,Se.of)({...w,guardsResult:!0}):function ys(D,O,w,N){return(0,me.H)(D).pipe((0,et.Z)(G=>function ji(D,O,w,N,G){const ce=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Se.of)(!0);const Pe=ce.map(bt=>{const pt=wi(O)??G,vn=Ss(bt,pt);return In(function de(D){return D&&da(D.canDeactivate)}(vn)?vn.canDeactivate(D,O,w,N):pt.runInContext(()=>vn(D,O,w,N))).pipe((0,Xt.$)())});return(0,Se.of)(Pe).pipe(hs())}(G.component,G.route,w,O,N)),(0,Xt.$)(G=>!0!==G,!0))}(Pe,N,G,D).pipe((0,et.Z)(bt=>bt&&function Go(D){return"boolean"==typeof D}(bt)?function fs(D,O,w,N){return(0,me.H)(O).pipe((0,Be.H)(G=>(0,rn.x)(function il(D,O){return null!==D&&O&&O(new Jr(D)),(0,Se.of)(!0)}(G.route.parent,N),function zo(D,O){return null!==D&&O&&O(new Bs(D)),(0,Se.of)(!0)}(G.route,N),function Wo(D,O,w){const N=O[O.length-1],ce=O.slice(0,O.length-1).reverse().map(Pe=>function Ds(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>pe(()=>{const bt=Pe.guards.map(pt=>{const vn=wi(Pe.node)??w,dr=Ss(pt,vn);return In(function U(D){return D&&da(D.canActivateChild)}(dr)?dr.canActivateChild(N,D):vn.runInContext(()=>dr(N,D))).pipe((0,Xt.$)())});return(0,Se.of)(bt).pipe(hs())}));return(0,Se.of)(ce).pipe(hs())}(D,G.path,w),function xs(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Se.of)(!0);const G=N.map(ce=>pe(()=>{const Pe=wi(O)??w,bt=Ss(ce,Pe);return In(function Z(D){return D&&da(D.canActivate)}(bt)?bt.canActivate(O,D):Pe.runInContext(()=>bt(O,D))).pipe((0,Xt.$)())}));return(0,Se.of)(G).pipe(hs())}(D,G.route,w))),(0,Xt.$)(G=>!0!==G,!0))}(N,ce,D,O):(0,Se.of)(bt)),(0,xt.T)(bt=>({...w,guardsResult:bt})))})}(this.environmentInjector,pt=>this.events.next(pt)),(0,Ae.M)(pt=>{if(ce.guardsResult=pt.guardsResult,Ti(pt.guardsResult))throw An(0,pt.guardsResult);const vn=new Va(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects),pt.targetSnapshot,!!pt.guardsResult);this.events.next(vn)}),(0,Le.p)(pt=>!!pt.guardsResult||(this.cancelNavigationTransition(pt,"",3),!1)),Gr(pt=>{if(pt.guards.canActivateChecks.length)return(0,Se.of)(pt).pipe((0,Ae.M)(vn=>{const dr=new Ya(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(dr)}),(0,Vt.n)(vn=>{let dr=!1;return(0,Se.of)(vn).pipe(function $(D,O){return(0,et.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,Se.of)(w);let ce=0;return(0,me.H)(G).pipe((0,Be.H)(Pe=>function X(D,O,w,N){const G=D.routeConfig,ce=D._resolve;return void 0!==G?.title&&!Nn(G)&&(ce[Ft]=G.title),function xe(D,O,w,N){const G=function wt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,Se.of)({});const ce={};return(0,me.H)(G).pipe((0,et.Z)(Pe=>function Nt(D,O,w,N){const G=wi(O)??N,ce=Ss(D,G);return In(ce.resolve?ce.resolve(O,w):G.runInContext(()=>ce(O,w)))}(D[Pe],O,w,N).pipe((0,Xt.$)(),(0,Ae.M)(bt=>{ce[Pe]=bt}))),Ze(1),function Zn(D){return(0,xt.T)(()=>D)}(ce),(0,be.W)(Pe=>_s(Pe)?Xe.w:(0,Re.$)(Pe)))}(ce,D,O,N).pipe((0,xt.T)(Pe=>(D._resolvedData=Pe,D.data=ns(D,w).resolve,G&&Nn(G)&&(D.data[Ft]=G.title),null)))}(Pe.route,N,D,O)),(0,Ae.M)(()=>ce++),Ze(1),(0,et.Z)(Pe=>ce===G.length?(0,Se.of)(w):Xe.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,Ae.M)({next:()=>dr=!0,complete:()=>{dr||this.cancelNavigationTransition(vn,"",2)}}))}),(0,Ae.M)(vn=>{const dr=new Si(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(dr)}))}),Gr(pt=>{const vn=dr=>{const _r=[];dr.routeConfig?.loadComponent&&!dr.routeConfig._loadedComponent&&_r.push(this.configLoader.loadComponent(dr.routeConfig).pipe((0,Ae.M)(Nr=>{dr.component=Nr}),(0,xt.T)(()=>{})));for(const Nr of dr.children)_r.push(...vn(Nr));return _r};return _t(vn(pt.targetSnapshot.root)).pipe((0,nt.U)(),(0,zt.s)(1))}),Gr(()=>this.afterPreactivation()),(0,xt.T)(pt=>{const vn=function Te(D,O,w){const N=Oe(D,O._root,w?w._root:void 0);return new oi(N,O)}(w.routeReuseStrategy,pt.targetSnapshot,pt.currentRouterState);return this.currentTransition=ce={...pt,targetRouterState:vn},ce}),(0,Ae.M)(()=>{this.events.next(new Sr)}),((D,O,w,N)=>(0,xt.T)(G=>(new to(O,G.targetRouterState,G.currentRouterState,w,N).activate(D),G)))(this.rootContexts,w.routeReuseStrategy,pt=>this.events.next(pt),this.inputBindingEnabled),(0,zt.s)(1),(0,Ae.M)({next:pt=>{Pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi(pt.id,this.urlSerializer.serialize(pt.extractedUrl),this.urlSerializer.serialize(pt.urlAfterRedirects))),w.titleStrategy?.updateTitle(pt.targetRouterState.snapshot),pt.resolve(!0)},complete:()=>{Pe=!0}}),function Kt(D){return(0,Mt.N)((O,w)=>{(0,He.Tg)(D).subscribe((0,ct._)(w,()=>w.complete(),kn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,Ae.M)(pt=>{throw pt}))),(0,tn.j)(()=>{Pe||bt||this.cancelNavigationTransition(ce,"",1),this.currentNavigation?.id===ce.id&&(this.currentNavigation=null)}),(0,be.W)(pt=>{if(bt=!0,wr(pt))this.events.next(new Mi(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt.message,pt.cancellationCode)),function zn(D){return wr(D)&&Ti(D.url)}(pt)?this.events.next(new hi(pt.url)):ce.resolve(!1);else{this.events.next(new ho(ce.id,this.urlSerializer.serialize(ce.extractedUrl),pt,ce.targetSnapshot??void 0));try{ce.resolve(w.errorHandler(pt))}catch(vn){ce.reject(vn)}}return Xe.w}))}))}cancelNavigationTransition(w,N,G){const ce=new Mi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,G);this.events.next(ce),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function go(D){return D!==es}let Ps=(()=>{class D{buildTitle(w){let N,G=w.root;for(;void 0!==G;)N=this.getResolvedTitleForRoute(G)??N,G=G.children.find(ce=>ce.outlet===Bt);return N}getResolvedTitleForRoute(w){return w.data[Ft]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(qo)},providedIn:"root"})}}return D})(),qo=(()=>{class D extends Ps{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(pn.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Es=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(bs)},providedIn:"root"})}}return D})();class Yo{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let bs=(()=>{class D extends Yo{static{this.\u0275fac=function(){let w;return function(G){return(w||(w=o.xGo(D)))(G||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const mo=new o.nKC("",{providedIn:"root",factory:()=>({})});let Yh=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Ar)},providedIn:"root"})}}return D})(),Ar=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var ur=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(ur||{});function Ha(D,O){D.events.pipe((0,Le.p)(w=>w instanceof qi||w instanceof Mi||w instanceof ho||w instanceof Ir),(0,xt.T)(w=>w instanceof qi||w instanceof Ir?ur.COMPLETE:w instanceof Mi&&(0===w.code||1===w.code)?ur.REDIRECTING:ur.FAILED),(0,Le.p)(w=>w!==ur.REDIRECTING),(0,zt.s)(1)).subscribe(()=>{O()})}function ro(D){throw D}function Ru(D,O,w){return O.parse("/")}const ql={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ic={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new fn.B,this.options=(0,o.WQX)(mo,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||ro,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ru,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(Yh),this.routeReuseStrategy=(0,o.WQX)(Es),this.titleStrategy=(0,o.WQX)(Ps),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(mi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Pi),this.urlSerializer=(0,o.WQX)(Me),this.location=(0,o.WQX)(or.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(te,{optional:!0}),this.eventsSubscription=new yt.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:G}=this.navigationTransitions;if(null===G)return void(Ou(N)&&this._events.next(N));if(N instanceof Kr)go(G.source)&&(this.browserUrlTree=G.extractedUrl);else if(N instanceof Ir)this.rawUrlTree=G.rawUrl;else if(N instanceof Oo){if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ce=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ce,G)}this.browserUrlTree=G.urlAfterRedirects}}else if(N instanceof Sr)this.currentUrlTree=G.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),this.routerState=G.targetRouterState,"deferred"===this.urlUpdateStrategy&&(G.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,G),this.browserUrlTree=G.urlAfterRedirects);else if(N instanceof Mi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(G);else if(N instanceof hi){const ce=this.urlHandlingStrategy.merge(N.url,G.currentRawUrl),Pe={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||go(G.source)};this.scheduleNavigation(ce,es,null,Pe,{resolve:G.resolve,reject:G.reject,promise:G.promise})}N instanceof ho&&this.restoreHistory(G,!0),N instanceof qi&&(this.navigated=!0),Ou(N)&&this._events.next(N)}catch(G){this.navigationTransitions.transitionAbortSubject.next(G)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),es,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,G){const ce={replaceUrl:!0},Pe=G?.navigationId?G:null;if(G){const pt={...G};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(ce.state=pt)}const bt=this.parseUrl(w);this.scheduleNavigation(bt,N,Pe,ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Oi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:G,queryParams:ce,fragment:Pe,queryParamsHandling:bt,preserveFragment:pt}=N,vn=pt?this.currentUrlTree.fragment:Pe;let _r,dr=null;switch(bt){case"merge":dr={...this.currentUrlTree.queryParams,...ce};break;case"preserve":dr=this.currentUrlTree.queryParams;break;default:dr=ce||null}null!==dr&&(dr=this.removeEmptyProps(dr));try{_r=Us(G?G.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),_r=this.currentUrlTree.root}return Tt(_r,w,dr,vn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const G=Ti(w)?w:this.parseUrl(w),ce=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ce,es,null,N)}navigate(w,N={skipLocationChange:!1}){return function Xh(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(G){N=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return N}isActive(w,N){let G;if(G=!0===N?{...ql}:!1===N?{...Ic}:N,Ti(w))return Xr(this.currentUrlTree,w,G);const ce=this.parseUrl(w);return Xr(this.currentUrlTree,ce,G)}removeEmptyProps(w){return Object.keys(w).reduce((N,G)=>{const ce=w[G];return null!=ce&&(N[G]=ce),N},{})}scheduleNavigation(w,N,G,ce,Pe){if(this.disposed)return Promise.resolve(!1);let bt,pt,vn;Pe?(bt=Pe.resolve,pt=Pe.reject,vn=Pe.promise):vn=new Promise((_r,Nr)=>{bt=_r,pt=Nr});const dr=this.pendingTasks.add();return Ha(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ce,resolve:bt,reject:pt,promise:vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vn.catch(_r=>Promise.reject(_r))}setBrowserUrl(w,N){const G=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(G)||N.extras.replaceUrl){const Pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(G,"",Pe)}else{const ce={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(G,"",ce)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-this.browserPageId;0!==ce?this.location.historyGo(ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Ou(D){return!(D instanceof Sr||D instanceof hi)}let Xo=(()=>{class D{constructor(w,N,G,ce,Pe,bt){this.router=w,this.route=N,this.tabIndexAttribute=G,this.renderer=ce,this.el=Pe,this.locationStrategy=bt,this.href=null,this.commands=null,this.onChanges=new fn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pt=Pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===pt||"area"===pt,this.isAnchorElement?this.subscription=w.events.subscribe(vn=>{vn instanceof qi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,G,ce,Pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||G||ce||Pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const G=this.renderer,ce=this.el.nativeElement;null!==N?G.setAttribute(ce,w,N):G.removeAttribute(ce,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Gi),o.rXU(lr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(or.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,G){1&N&&o.bIt("click",function(Pe){return G.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&N&&o.BMQ("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})(),Li=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,G,ce,Pe){this.router=w,this.element=N,this.renderer=G,this.cdr=ce,this.link=Pe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.bkB,this.routerEventsSubscription=w.events.subscribe(bt=>{bt instanceof qi&&this.update()})}ngAfterContentInit(){(0,Se.of)(this.links.changes,(0,Se.of)(null)).pipe((0,Vn.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,me.H)(w).pipe((0,Vn.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(G=>!!G)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function io(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&w.isActive(G.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Gi),o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(o.gRc),o.rXU(Xo,8))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,G,ce){if(1&N&&o.wni(ce,Xo,5),2&N){let Pe;o.mGM(Pe=o.lsd())&&(G.links=Pe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.OA$]})}}return D})();class pa{}let ll=(()=>{class D{constructor(w,N,G,ce,Pe){this.router=w,this.injector=G,this.preloadingStrategy=ce,this.loader=Pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.p)(w=>w instanceof qi),(0,Be.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const G=[];for(const ce of N){ce.providers&&!ce._injector&&(ce._injector=(0,o.Ol2)(ce.providers,w,`Route: ${ce.path}`));const Pe=ce._injector??w,bt=ce._loadedInjector??Pe;(ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent)&&G.push(this.preloadConfig(Pe,ce)),(ce.children||ce._loadedRoutes)&&G.push(this.processRoutes(bt,ce.children??ce._loadedRoutes))}return(0,me.H)(G).pipe((0,Vn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let G;G=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Se.of)(null);const ce=G.pipe((0,et.Z)(Pe=>null===Pe?(0,Se.of)(void 0):(N._loadedRoutes=Pe.routes,N._loadedInjector=Pe.injector,this.processRoutes(Pe.injector??w,Pe.routes))));if(N.loadComponent&&!N._loadedComponent){const Pe=this.loader.loadComponent(N);return(0,me.H)([ce,Pe]).pipe((0,Vn.U)())}return ce})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Gi),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(pa),o.KVO(ni))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const ec=new o.nKC("");let rr=(()=>{class D{constructor(w,N,G,ce,Pe={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=G,this.zone=ce,this.options=Pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pe.scrollPositionRestoration=Pe.scrollPositionRestoration||"disabled",Pe.anchorScrolling=Pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof qi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof Ir&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof $s&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $s(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Cs(D,O){return{\u0275kind:D,\u0275providers:O}}function Cd(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get(Gi),G=D.get(Fu);1===D.get(is)&&N.initialNavigation(),D.get(xr,null,o.$GK.Optional)?.setUpPreloading(),D.get(ec,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Fu=new o.nKC("",{factory:()=>new fn.B}),is=new o.nKC("",{providedIn:"root",factory:()=>1}),xr=new o.nKC("");function ko(D){return Cs(0,[{provide:xr,useExisting:ll},{provide:pa,useExisting:D}])}const Ac=new o.nKC("ROUTER_FORROOT_GUARD"),dl=[or.aZ,{provide:Me,useClass:Et},Gi,fi,{provide:lr,useFactory:function ku(D){return D.routerState.root},deps:[Gi]},ni,[]];function Td(){return new o.NEm("Router",Gi)}let hl=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[dl,[],{provide:mi,multi:!0,useValue:w},{provide:Ac,useFactory:ga,deps:[[Gi,new o.Xx1,new o.kdw]]},{provide:mo,useValue:N||{}},N?.useHash?{provide:or.hb,useClass:or.fw}:{provide:or.hb,useClass:or.Sm},{provide:ec,useFactory:()=>{const D=(0,o.WQX)(or.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(mo),N=(0,o.WQX)(Pi),G=(0,o.WQX)(Me);return w.scrollOffset&&D.setOffset(w.scrollOffset),new rr(G,N,D,O,w)}},N?.preloadingStrategy?ko(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:Td},N?.initialNavigation?ao(N):[],N?.bindToComponentInputs?Cs(8,[J,{provide:te,useExisting:J}]).\u0275providers:[],[{provide:qs,useFactory:Cd},{provide:o.iLQ,multi:!0,useExisting:qs}]]}}static forChild(w){return{ngModule:D,providers:[{provide:mi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Ac,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function ga(D){return"guarded"}function ao(D){return["disabled"===D.initialNavigation?Cs(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Gi);return()=>{O.setUpLocationChangeListener()}}},{provide:is,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Cs(2,[{provide:is,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(or.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const G=O.get(Gi),ce=O.get(Fu);Ha(G,()=>{N(!0)}),O.get(Pi).afterPreactivation=()=>(N(!0),ce.closed?(0,Se.of)(void 0):ce),G.initialNavigation()}))}}]).\u0275providers:[]]}const qs=new o.nKC("")},3345:(nn,Ye,V)=>{V.d(Ye,{A:()=>_t});var o=V(1076),ue=V(1362),i=V(7852),Ce=V(8041);class me{constructor(Rt,St){this._delegate=Rt,this.firebase=St,(0,i._addComponent)(Rt,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=Rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Rt){this._delegate.automaticDataCollectionEnabled=Rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Rt=>{this._delegate.checkDestroyed(),Rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(Rt,St=i._DEFAULT_ENTRY_NAME){var rn;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(Rt);return!He.isInitialized()&&"EXPLICIT"===(null===(rn=He.getComponent())||void 0===rn?void 0:rn.instantiationMode)&&He.initialize(),He.getImmediate({identifier:St})}_removeServiceInstance(Rt,St=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Rt).clearInstance(St)}_addComponent(Rt){(0,i._addComponent)(this._delegate,Rt)}_addOrOverwriteComponent(Rt){(0,i._addOrOverwriteComponent)(this._delegate,Rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Ne(){const ot=function Fe(ot){const Rt={},St={__esModule:!0,initializeApp:function pe(yt,Mt={}){const we=i.initializeApp(yt,Mt);if((0,o.gR)(Rt,we.name))return Rt[we.name];const Zt=new ot(we,St);return Rt[we.name]=Zt,Zt},app:He,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function Re(yt){const Mt=yt.name,we=Mt.replace("-compat","");if(i._registerComponent(yt)&&"PUBLIC"===yt.type){const Zt=(fn=He())=>{if("function"!=typeof fn[we])throw De.create("invalid-app-argument",{appName:Mt});return fn[we]()};void 0!==yt.serviceProps&&(0,o.zw)(Zt,yt.serviceProps),St[we]=Zt,ot.prototype[we]=function(...fn){return this._getService.bind(this,Mt).apply(this,yt.multipleInstances?fn:[])}}return"PUBLIC"===yt.type?St[we]:null},removeApp:function rn(yt){delete Rt[yt]},useAsService:function Xe(yt,Mt){return"serverAuth"===Mt?null:Mt},modularAPIs:i}};function He(yt){if(!(0,o.gR)(Rt,yt=yt||i._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:yt});return Rt[yt]}return St.default=St,Object.defineProperty(St,"apps",{get:function Ke(){return Object.keys(Rt).map(yt=>Rt[yt])}}),He.App=ot,St}(me);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function Rt(St){(0,o.zw)(ot,St)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),ot}(),ae=new Ce.Vy("@firebase/app-compat");try{const ot=(0,o.mS)();if(void 0!==ot.firebase){ae.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Rt=ot.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&ae.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const _t=ne;!function je(ot){(0,i.registerVersion)("@firebase/app-compat","0.2.43",ot)}()},7852:(nn,Ye,V)=>{V.r(Ye),V.d(Ye,{FirebaseError:()=>Ce.g,SDK_VERSION:()=>Et,_DEFAULT_ENTRY_NAME:()=>In,_addComponent:()=>ui,_addOrOverwriteComponent:()=>Xi,_apps:()=>Dr,_clearComponents:()=>Di,_components:()=>Bn,_getProvider:()=>Qr,_isFirebaseApp:()=>br,_isFirebaseServerApp:()=>jn,_registerComponent:()=>un,_removeServiceInstance:()=>Yn,_serverApps:()=>Xr,deleteApp:()=>bi,getApp:()=>kr,getApps:()=>Cr,initializeApp:()=>Gt,initializeServerApp:()=>Ln,onLog:()=>M,registerVersion:()=>H,setLogLevel:()=>k});var o=V(467),ue=V(1362),i=V(8041),Ce=V(1076);const me=(Tt,rt)=>rt.some(Pt=>Tt instanceof Pt);let Se,De;const ne=new WeakMap,ae=new WeakMap,_e=new WeakMap,ct=new WeakMap,je=new WeakMap;let Rt={get(Tt,rt,Pt){if(Tt instanceof IDBTransaction){if("done"===rt)return ae.get(Tt);if("objectStoreNames"===rt)return Tt.objectStoreNames||_e.get(Tt);if("store"===rt)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return pe(Tt[rt])},set:(Tt,rt,Pt)=>(Tt[rt]=Pt,!0),has:(Tt,rt)=>Tt instanceof IDBTransaction&&("done"===rt||"store"===rt)||rt in Tt};function He(Tt){return"function"==typeof Tt?function rn(Tt){return Tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Tt)?function(...rt){return Tt.apply(Ke(this),rt),pe(ne.get(this))}:function(...rt){return pe(Tt.apply(Ke(this),rt))}:function(rt,...Pt){const an=Tt.call(Ke(this),rt,...Pt);return _e.set(an,rt.sort?rt.sort():[rt]),pe(an)}}(Tt):(Tt instanceof IDBTransaction&&function ot(Tt){if(ae.has(Tt))return;const rt=new Promise((Pt,an)=>{const Fn=()=>{Tt.removeEventListener("complete",xn),Tt.removeEventListener("error",cr),Tt.removeEventListener("abort",cr)},xn=()=>{Pt(),Fn()},cr=()=>{an(Tt.error||new DOMException("AbortError","AbortError")),Fn()};Tt.addEventListener("complete",xn),Tt.addEventListener("error",cr),Tt.addEventListener("abort",cr)});ae.set(Tt,rt)}(Tt),me(Tt,function Fe(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Tt,Rt):Tt)}function pe(Tt){if(Tt instanceof IDBRequest)return function _t(Tt){const rt=new Promise((Pt,an)=>{const Fn=()=>{Tt.removeEventListener("success",xn),Tt.removeEventListener("error",cr)},xn=()=>{Pt(pe(Tt.result)),Fn()},cr=()=>{an(Tt.error),Fn()};Tt.addEventListener("success",xn),Tt.addEventListener("error",cr)});return rt.then(Pt=>{Pt instanceof IDBCursor&&ne.set(Pt,Tt)}).catch(()=>{}),je.set(rt,Tt),rt}(Tt);if(ct.has(Tt))return ct.get(Tt);const rt=He(Tt);return rt!==Tt&&(ct.set(Tt,rt),je.set(rt,Tt)),rt}const Ke=Tt=>je.get(Tt),yt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],we=new Map;function Zt(Tt,rt){if(!(Tt instanceof IDBDatabase)||rt in Tt||"string"!=typeof rt)return;if(we.get(rt))return we.get(rt);const Pt=rt.replace(/FromIndex$/,""),an=rt!==Pt,Fn=Mt.includes(Pt);if(!(Pt in(an?IDBIndex:IDBObjectStore).prototype)||!Fn&&!yt.includes(Pt))return;const xn=function(){var cr=(0,o.A)(function*(Vr,...Wr){const Tr=this.transaction(Vr,Fn?"readwrite":"readonly");let Ki=Tr.store;return an&&(Ki=Ki.index(Wr.shift())),(yield Promise.all([Ki[Pt](...Wr),Fn&&Tr.done]))[0]});return function(Wr){return cr.apply(this,arguments)}}();return we.set(rt,xn),xn}!function St(Tt){Rt=Tt(Rt)}(Tt=>({...Tt,get:(rt,Pt,an)=>Zt(rt,Pt)||Tt.get(rt,Pt,an),has:(rt,Pt)=>!!Zt(rt,Pt)||Tt.has(rt,Pt)}));class fn{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function or(Tt){const rt=Tt.getComponent();return"VERSION"===rt?.type}(Pt)){const an=Pt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Pt=>Pt).join(" ")}}const xt="@firebase/app",Vt="0.10.13",zt=new i.Vy("@firebase/app"),In="[DEFAULT]",Lr={[xt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Dr=new Map,Xr=new Map,Bn=new Map;function ui(Tt,rt){try{Tt.container.addComponent(rt)}catch(Pt){zt.debug(`Component ${rt.name} failed to register with FirebaseApp ${Tt.name}`,Pt)}}function Xi(Tt,rt){Tt.container.addOrOverwriteComponent(rt)}function un(Tt){const rt=Tt.name;if(Bn.has(rt))return zt.debug(`There were multiple attempts to register component ${rt}.`),!1;Bn.set(rt,Tt);for(const Pt of Dr.values())ui(Pt,Tt);for(const Pt of Xr.values())ui(Pt,Tt);return!0}function Qr(Tt,rt){const Pt=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),Tt.container.getProvider(rt)}function Yn(Tt,rt,Pt=In){Qr(Tt,rt).clearInstance(Pt)}function br(Tt){return void 0!==Tt.options}function jn(Tt){return void 0!==Tt.settings}function Di(){Bn.clear()}const gt=new Ce.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class he{constructor(rt,Pt,an){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}class Me extends he{constructor(rt,Pt,an,Fn){const xn=void 0!==Pt.automaticDataCollectionEnabled&&Pt.automaticDataCollectionEnabled,cr={name:an,automaticDataCollectionEnabled:xn};super(void 0!==rt.apiKey?rt:rt.options,cr,Fn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:xn},Pt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Pt.releaseOnDeref=void 0,H(xt,Vt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(rt){this.isDeleted||(this._refCount++,void 0!==rt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(rt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gt.create("server-app-deleted")}}const Et="10.14.1";function Gt(Tt,rt={}){let Pt=Tt;"object"!=typeof rt&&(rt={name:rt});const an=Object.assign({name:In,automaticDataCollectionEnabled:!1},rt),Fn=an.name;if("string"!=typeof Fn||!Fn)throw gt.create("bad-app-name",{appName:String(Fn)});if(Pt||(Pt=(0,Ce.T9)()),!Pt)throw gt.create("no-options");const xn=Dr.get(Fn);if(xn){if((0,Ce.bD)(Pt,xn.options)&&(0,Ce.bD)(an,xn.config))return xn;throw gt.create("duplicate-app",{appName:Fn})}const cr=new ue.h1(Fn);for(const Wr of Bn.values())cr.addComponent(Wr);const Vr=new he(Pt,an,cr);return Dr.set(Fn,Vr),Vr}function Ln(Tt,rt){if((0,Ce.Bd)()&&!(0,Ce.p7)())throw gt.create("invalid-server-app-environment");let Pt;void 0===rt.automaticDataCollectionEnabled&&(rt.automaticDataCollectionEnabled=!1),Pt=br(Tt)?Tt.options:Tt;const an=Object.assign(Object.assign({},rt),Pt);if(void 0!==an.releaseOnDeref&&delete an.releaseOnDeref,void 0!==rt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw gt.create("finalization-registry-not-supported",{});const xn=""+(Tr=JSON.stringify(an),[...Tr].reduce((Ki,Rs)=>Math.imul(31,Ki)+Rs.charCodeAt(0)|0,0)),cr=Xr.get(xn);var Tr;if(cr)return cr.incRefCount(rt.releaseOnDeref),cr;const Vr=new ue.h1(xn);for(const Tr of Bn.values())Vr.addComponent(Tr);const Wr=new Me(Pt,rt,xn,Vr);return Xr.set(xn,Wr),Wr}function kr(Tt=In){const rt=Dr.get(Tt);if(!rt&&Tt===In&&(0,Ce.T9)())return Gt();if(!rt)throw gt.create("no-app",{appName:Tt});return rt}function Cr(){return Array.from(Dr.values())}function bi(Tt){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.A)(function*(Tt){let rt=!1;const Pt=Tt.name;Dr.has(Pt)?(rt=!0,Dr.delete(Pt)):Xr.has(Pt)&&Tt.decRefCount()<=0&&(Xr.delete(Pt),rt=!0),rt&&(yield Promise.all(Tt.container.getProviders().map(an=>an.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function H(Tt,rt,Pt){var an;let Fn=null!==(an=Lr[Tt])&&void 0!==an?an:Tt;Pt&&(Fn+=`-${Pt}`);const xn=Fn.match(/\s|\//),cr=rt.match(/\s|\//);if(xn||cr){const Vr=[`Unable to register library "${Fn}" with version "${rt}":`];return xn&&Vr.push(`library name "${Fn}" contains illegal characters (whitespace or "/")`),xn&&cr&&Vr.push("and"),cr&&Vr.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void zt.warn(Vr.join(" "))}un(new ue.uA(`${Fn}-version`,()=>({library:Fn,version:rt}),"VERSION"))}function M(Tt,rt){if(null!==Tt&&"function"!=typeof Tt)throw gt.create("invalid-log-argument");(0,i.Ey)(Tt,rt)}function k(Tt){(0,i.He)(Tt)}const B="firebase-heartbeat-database",ie=1,ee="firebase-heartbeat-store";let ye=null;function at(){return ye||(ye=function Re(Tt,rt,{blocked:Pt,upgrade:an,blocking:Fn,terminated:xn}={}){const cr=indexedDB.open(Tt,rt),Vr=pe(cr);return an&&cr.addEventListener("upgradeneeded",Wr=>{an(pe(cr.result),Wr.oldVersion,Wr.newVersion,pe(cr.transaction),Wr)}),Pt&&cr.addEventListener("blocked",Wr=>Pt(Wr.oldVersion,Wr.newVersion,Wr)),Vr.then(Wr=>{xn&&Wr.addEventListener("close",()=>xn()),Fn&&Wr.addEventListener("versionchange",Tr=>Fn(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),Vr}(B,ie,{upgrade:(Tt,rt)=>{if(0===rt)try{Tt.createObjectStore(ee)}catch(Pt){console.warn(Pt)}}}).catch(Tt=>{throw gt.create("idb-open",{originalErrorMessage:Tt.message})})),ye}function _n(){return(_n=(0,o.A)(function*(Tt){try{const Pt=(yield at()).transaction(ee),an=yield Pt.objectStore(ee).get($r(Tt));return yield Pt.done,an}catch(rt){if(rt instanceof Ce.g)zt.warn(rt.message);else{const Pt=gt.create("idb-get",{originalErrorMessage:rt?.message});zt.warn(Pt.message)}}})).apply(this,arguments)}function Er(Tt,rt){return on.apply(this,arguments)}function on(){return(on=(0,o.A)(function*(Tt,rt){try{const an=(yield at()).transaction(ee,"readwrite");yield an.objectStore(ee).put(rt,$r(Tt)),yield an.done}catch(Pt){if(Pt instanceof Ce.g)zt.warn(Pt.message);else{const an=gt.create("idb-set",{originalErrorMessage:Pt?.message});zt.warn(an.message)}}})).apply(this,arguments)}function $r(Tt){return`${Tt.name}!${Tt.options.appId}`}class Ci{constructor(rt){this.container=rt,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new Ti(Pt),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var rt=this;return(0,o.A)(function*(){var Pt,an;try{const xn=rt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cr=Wi();return null==(null===(Pt=rt._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)&&(rt._heartbeatsCache=yield rt._heartbeatsCachePromise,null==(null===(an=rt._heartbeatsCache)||void 0===an?void 0:an.heartbeats))||rt._heartbeatsCache.lastSentHeartbeatDate===cr||rt._heartbeatsCache.heartbeats.some(Vr=>Vr.date===cr)?void 0:(rt._heartbeatsCache.heartbeats.push({date:cr,agent:xn}),rt._heartbeatsCache.heartbeats=rt._heartbeatsCache.heartbeats.filter(Vr=>{const Wr=new Date(Vr.date).valueOf();return Date.now()-Wr<=2592e6}),rt._storage.overwrite(rt._heartbeatsCache))}catch(Fn){zt.warn(Fn)}})()}getHeartbeatsHeader(){var rt=this;return(0,o.A)(function*(){var Pt;try{if(null===rt._heartbeatsCache&&(yield rt._heartbeatsCachePromise),null==(null===(Pt=rt._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats)||0===rt._heartbeatsCache.heartbeats.length)return"";const an=Wi(),{heartbeatsToSend:Fn,unsentEntries:xn}=function Fi(Tt,rt=1024){const Pt=[];let an=Tt.slice();for(const Fn of Tt){const xn=Pt.find(cr=>cr.agent===Fn.agent);if(xn){if(xn.dates.push(Fn.date),nr(Pt)>rt){xn.dates.pop();break}}else if(Pt.push({agent:Fn.agent,dates:[Fn.date]}),nr(Pt)>rt){Pt.pop();break}an=an.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:an}}(rt._heartbeatsCache.heartbeats),cr=(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Fn}));return rt._heartbeatsCache.lastSentHeartbeatDate=an,xn.length>0?(rt._heartbeatsCache.heartbeats=xn,yield rt._storage.overwrite(rt._heartbeatsCache)):(rt._heartbeatsCache.heartbeats=[],rt._storage.overwrite(rt._heartbeatsCache)),cr}catch(an){return zt.warn(an),""}})()}}function Wi(){return(new Date).toISOString().substring(0,10)}class Ti{constructor(rt){this.app=rt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,Ce.zW)()&&(0,Ce.eX)().then(()=>!0).catch(()=>!1)})()}read(){var rt=this;return(0,o.A)(function*(){if(yield rt._canUseIndexedDBPromise){const an=yield function en(Tt){return _n.apply(this,arguments)}(rt.app);return an?.heartbeats?an:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(rt){var Pt=this;return(0,o.A)(function*(){var an;if(yield Pt._canUseIndexedDBPromise){const xn=yield Pt.read();return Er(Pt.app,{lastSentHeartbeatDate:null!==(an=rt.lastSentHeartbeatDate)&&void 0!==an?an:xn.lastSentHeartbeatDate,heartbeats:rt.heartbeats})}})()}add(rt){var Pt=this;return(0,o.A)(function*(){var an;if(yield Pt._canUseIndexedDBPromise){const xn=yield Pt.read();return Er(Pt.app,{lastSentHeartbeatDate:null!==(an=rt.lastSentHeartbeatDate)&&void 0!==an?an:xn.lastSentHeartbeatDate,heartbeats:[...xn.heartbeats,...rt.heartbeats]})}})()}}function nr(Tt){return(0,Ce.Uj)(JSON.stringify({version:2,heartbeats:Tt})).length}!function Us(Tt){un(new ue.uA("platform-logger",rt=>new fn(rt),"PRIVATE")),un(new ue.uA("heartbeat",rt=>new Ci(rt),"PRIVATE")),H(xt,Vt,Tt),H(xt,Vt,"esm2017"),H("fire-js","")}("")},1362:(nn,Ye,V)=>{V.d(Ye,{h1:()=>Fe,uA:()=>i});var o=V(467),ue=V(1076);class i{constructor(ne,ae,_e){this.name=ne,this.instanceFactory=ae,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const Ce="[DEFAULT]";class me{constructor(ne,ae){this.name=ne,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ae=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ae)){const _e=new ue.cY;if(this.instancesDeferred.set(ae,_e),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:ae});ct&&_e.resolve(ct)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ne){var ae;const _e=this.normalizeInstanceIdentifier(ne?.identifier),ct=null!==(ae=ne?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(je){if(ct)return null;throw je}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function De(Ne){return"EAGER"===Ne.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ae,_e]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(ae);try{const je=this.getOrInitializeService({instanceIdentifier:ct});_e.resolve(je)}catch{}}}}clearInstance(ne=Ce){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,o.A)(function*(){const ae=Array.from(ne.instances.values());yield Promise.all([...ae.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...ae.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=Ce){return this.instances.has(ne)}getOptions(ne=Ce){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ae={}}=ne,_e=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:_e,options:ae});for(const[je,_t]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(je)&&_t.resolve(ct);return ct}onInit(ne,ae){var _e;const ct=this.normalizeInstanceIdentifier(ae),je=null!==(_e=this.onInitCallbacks.get(ct))&&void 0!==_e?_e:new Set;je.add(ne),this.onInitCallbacks.set(ct,je);const _t=this.instances.get(ct);return _t&&ne(_t,ct),()=>{je.delete(ne)}}invokeOnInitCallbacks(ne,ae){const _e=this.onInitCallbacks.get(ae);if(_e)for(const ct of _e)try{ct(ne,ae)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ae={}}){let _e=this.instances.get(ne);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=ne,Ne===Ce?void 0:Ne),options:ae}),this.instances.set(ne,_e),this.instancesOptions.set(ne,ae),this.invokeOnInitCallbacks(_e,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,_e)}catch{}var Ne;return _e||null}normalizeInstanceIdentifier(ne=Ce){return this.component?this.component.multipleInstances?ne:Ce:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ae=this.getProvider(ne.name);if(ae.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ae.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ae=new me(ne,this);return this.providers.set(ne,ae),ae}getProviders(){return Array.from(this.providers.values())}}},8041:(nn,Ye,V)=>{V.d(Ye,{$b:()=>ue,Ey:()=>Ne,He:()=>Fe,Vy:()=>De});const o=[];var ue=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(ue||{});const i={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Ce=ue.INFO,me={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Se=(ne,ae,..._e)=>{if(ae<ne.logLevel)return;const ct=(new Date).toISOString(),je=me[ae];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[je](`[${ct}]  ${ne.name}:`,..._e)};class De{constructor(ae){this.name=ae,this._logLevel=Ce,this._logHandler=Se,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in ue))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?i[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...ae),this._logHandler(this,ue.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...ae),this._logHandler(this,ue.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...ae),this._logHandler(this,ue.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...ae),this._logHandler(this,ue.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...ae),this._logHandler(this,ue.ERROR,...ae)}}function Fe(ne){o.forEach(ae=>{ae.setLogLevel(ne)})}function Ne(ne,ae){for(const _e of o){let ct=null;ae&&ae.level&&(ct=i[ae.level]),_e.userLogHandler=null===ne?null:(je,_t,...ot)=>{const Rt=ot.map(St=>{if(null==St)return null;if("string"==typeof St)return St;if("number"==typeof St||"boolean"==typeof St)return St.toString();if(St instanceof Error)return St.message;try{return JSON.stringify(St)}catch{return null}}).filter(St=>St).join(" ");_t>=(ct??je.logLevel)&&ne({level:ue[_t].toLowerCase(),message:Rt,args:ot,type:je.name})}}}},2214:(nn,Ye,V)=>{V.d(Ye,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=V(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(nn,Ye,V)=>{V.d(Ye,{A:()=>o.A});var o=V(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(nn,Ye,V)=>{var o=V(467),ue=V(3345),i=V(5504),Ce=V(1076),De=(V(7852),V(8041),V(1362));function Fe(){return window}function ae(){return ae=(0,o.A)(function*(H,M,k){var B;const{BuildInfo:ie}=Fe();(0,i.au)(M.sessionId,"AuthEvent did not contain a session ID");const ee=yield function St(H){return rn.apply(this,arguments)}(M.sessionId),ye={};return(0,i.av)()?ye.ibi=ie.packageName:(0,i.aw)()?ye.apn=ie.packageName:(0,i.ax)(H,"operation-not-supported-in-this-environment"),ie.displayName&&(ye.appDisplayName=ie.displayName),ye.sessionId=ee,(0,i.ay)(H,k,M.type,void 0,null!==(B=M.eventId)&&void 0!==B?B:void 0,ye)}),ae.apply(this,arguments)}function ct(){return(ct=(0,o.A)(function*(H){const{BuildInfo:M}=Fe(),k={};(0,i.av)()?k.iosBundleId=M.packageName:(0,i.aw)()?k.androidPackageName=M.packageName:(0,i.ax)(H,"operation-not-supported-in-this-environment"),yield(0,i.az)(H,k)})).apply(this,arguments)}function ot(){return(ot=(0,o.A)(function*(H,M,k){const{cordova:B}=Fe();let ie=()=>{};try{yield new Promise((ee,ye)=>{let at=null;function en(){var on;ee();const $r=null===(on=B.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof $r&&$r(),"function"==typeof k?.close&&k.close()}function _n(){at||(at=window.setTimeout(()=>{ye((0,i.aB)(H,"redirect-cancelled-by-user"))},2e3))}function Er(){"visible"===document?.visibilityState&&_n()}M.addPassiveListener(en),document.addEventListener("resume",_n,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",Er,!1),ie=()=>{M.removePassiveListener(en),document.removeEventListener("resume",_n,!1),document.removeEventListener("visibilitychange",Er,!1),at&&window.clearTimeout(at)}})}finally{ie()}})).apply(this,arguments)}function rn(){return(rn=(0,o.A)(function*(H){const M=function He(H){if((0,i.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const M=new ArrayBuffer(H.length),k=new Uint8Array(M);for(let B=0;B<H.length;B++)k[B]=H.charCodeAt(B);return k}(H),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(ie=>ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ke extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function yt(H){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,o.A)(function*(H){const M=yield fn()._get(or(H));return M&&(yield fn()._remove(or(H))),M})).apply(this,arguments)}function Zt(){const H=[];for(let k=0;k<20;k++){const B=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(B))}return H.join("")}function fn(){return(0,i.aE)(i.b)}function or(H){return(0,i.aF)("authEvent",H.config.apiKey,H.name)}function zt(H){if(!H?.includes("?"))return{};const[M,...k]=H.split("?");return(0,Ce.I9)(k.join("?"))}const et=class Le{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,o.A)(function*(){const B=M._key();let ie=k.eventManagers.get(B);return ie||(ie=new Ke(M),k.eventManagers.set(B,ie),k.attachCallbackListeners(M,ie)),ie})()}_openPopup(M){(0,i.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,B,ie){var ee=this;return(0,o.A)(function*(){!function Rt(H){var M,k,B,ie,ee,ye,at,en,_n,Er;const on=Fe();(0,i.aC)("function"==typeof(null===(M=on?.universalLinks)||void 0===M?void 0:M.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(k=on?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(ee=null===(ie=null===(B=on?.cordova)||void 0===B?void 0:B.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===ee?void 0:ee.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(en=null===(at=null===(ye=on?.cordova)||void 0===ye?void 0:ye.plugins)||void 0===at?void 0:at.browsertab)||void 0===en?void 0:en.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(Er=null===(_n=on?.cordova)||void 0===_n?void 0:_n.InAppBrowser)||void 0===Er?void 0:Er.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const ye=yield ee._initialize(M);yield ye.initialized(),ye.resetRedirect(),(0,i.aI)(),yield ee._originValidation(M);const at=function Re(H,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:Zt(),postBody:null,tenantId:H.tenantId,error:(0,i.aB)(H,"no-auth-event")}}(M,B,ie);yield function Xe(H,M){return fn()._set(or(H),M)}(M,at);const en=yield function ne(H,M,k){return ae.apply(this,arguments)}(M,at,k),_n=yield function je(H){const{cordova:M}=Fe();return new Promise(k=>{M.plugins.browsertab.isAvailable(B=>{let ie=null;B?M.plugins.browsertab.openUrl(H):ie=M.InAppBrowser.open(H,(0,i.aA)()?"_blank":"_system","location=yes"),k(ie)})})}(en);return function _t(H,M,k){return ot.apply(this,arguments)}(M,ye,_n)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function _e(H){return ct.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:B,handleOpenURL:ie,BuildInfo:ee}=Fe(),ye=setTimeout((0,o.A)(function*(){yield yt(M),k.onEvent(Xt())}),500),at=function(){var Er=(0,o.A)(function*(on){clearTimeout(ye);const $r=yield yt(M);let fr=null;$r&&on?.url&&(fr=function we(H,M){var k,B;const ie=function Vt(H){const M=zt(H),k=M.link?decodeURIComponent(M.link):void 0,B=zt(k).link,ie=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return zt(ie).link||ie||B||k||H}(M);if(ie.includes("/__/auth/callback")){const ee=zt(ie),ye=ee.firebaseError?function xt(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(ee.firebaseError)):null,at=null===(B=null===(k=ye?.code)||void 0===k?void 0:k.split("auth/"))||void 0===B?void 0:B[1],en=at?(0,i.aB)(at):null;return en?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:en,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:ie,postBody:null}}return null}($r,on.url)),k.onEvent(fr||Xt())});return function($r){return Er.apply(this,arguments)}}();typeof B<"u"&&"function"==typeof B.subscribe&&B.subscribe(null,at);const en=ie,_n=`${ee.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var Er=(0,o.A)(function*(on){if(on.toLowerCase().startsWith(_n)&&at({url:on}),"function"==typeof en)try{en(on)}catch($r){console.error($r)}});return function(on){return Er.apply(this,arguments)}}()}};function Xt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function nt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function Ot(H=(0,Ce.ZQ)()){return!("file:"!==nt()&&"ionic:"!==nt()&&"capacitor:"!==nt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kt(){try{const H=self.localStorage,M=i.aN();if(H)return H.setItem(M,"1"),H.removeItem(M),!function kn(H=(0,Ce.ZQ)()){return function Zn(){return(0,Ce.lT)()&&11===document?.documentMode}()||function tn(H=(0,Ce.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,Ce.zW)()}catch{return Vn()&&(0,Ce.zW)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pn(){return(function Ze(){return"http:"===nt()||"https:"===nt()}()||(0,Ce.sr)()||Ot())&&!function Tn(){return(0,Ce.lV)()||(0,Ce.Ll)()}()&&Kt()&&!Vn()}function Bt(){return Ot()&&typeof document<"u"}function gr(){return(gr=(0,o.A)(function*(){return!!Bt()&&new Promise(H=>{const M=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),H(!0)})})})).apply(this,arguments)}const Pr={LOCAL:"local",NONE:"none",SESSION:"session"},Wn=i.aC,Ut="persistence";function Un(H){return In.apply(this,arguments)}function In(){return(In=(0,o.A)(function*(H){yield H._initializationPromise;const M=Dr(),k=i.aF(Ut,H.config.apiKey,H.name);M&&M.setItem(k,H._getPersistence())})).apply(this,arguments)}function Dr(){var H;try{return(null===(H=function sn(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const Xr=i.aC;class Bn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(et),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,o.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,B,ie){var ee=this;return(0,o.A)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(M,k,B,ie)})()}_openRedirect(M,k,B,ie){var ee=this;return(0,o.A)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(M,k,B,ie)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Bt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const k=yield function Ft(){return gr.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function ui(H){return H.unwrap()}function un(H){return Yn(H)}function Yn(H){const{_tokenResponse:M}=H instanceof Ce.g?H.customData:H;if(!M)return null;if(!(H instanceof Ce.g)&&"temporaryProof"in M&&"phoneNumber"in M)return i.P.credentialFromResult(H);const k=M.providerId;if(!k||k===i.p.PASSWORD)return null;let B;switch(k){case i.p.GOOGLE:B=i.X;break;case i.p.FACEBOOK:B=i.W;break;case i.p.GITHUB:B=i.Y;break;case i.p.TWITTER:B=i.$;break;default:const{oauthIdToken:ie,oauthAccessToken:ee,oauthTokenSecret:ye,pendingToken:at,nonce:en}=M;return ee||ye||ie||at?at?k.startsWith("saml.")?i.aQ._create(k,at):i.N._fromParams({providerId:k,signInMethod:k,pendingToken:at,idToken:ie,accessToken:ee}):new i.Z(k).credential({idToken:ie,accessToken:ee,rawNonce:en}):null}return H instanceof Ce.g?B.credentialFromError(H):B.credentialFromResult(H)}function br(H,M){return M.catch(k=>{throw k instanceof Ce.g&&function Qr(H,M){var k;const B=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new tt(H,i.as(H,M));else if(B){const ie=Yn(M),ee=M;ie&&(ee.credential=ie,ee.tenantId=B.tenantId||void 0,ee.email=B.email||void 0,ee.phoneNumber=B.phoneNumber||void 0)}}(H,k),k}).then(k=>{const ie=k.user;return{operationType:k.operationType,credential:un(k),additionalUserInfo:i.aq(k),user:gt.getOrCreate(ie)}})}function jn(H,M){return Di.apply(this,arguments)}function Di(){return(Di=(0,o.A)(function*(H,M){const k=yield M;return{verificationId:k.verificationId,confirm:B=>br(H,k.confirm(B))}})).apply(this,arguments)}class tt{constructor(M,k){this.resolver=k,this.auth=function Xi(H){return H.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return br(ui(this.auth),this.resolver.resolveSignIn(M))}}class gt{constructor(M){this._delegate=M,this.multiFactor=i.at(M)}static getOrCreate(M){return gt.USER_MAP.has(M)||gt.USER_MAP.set(M,new gt(M)),gt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,o.A)(function*(){return br(k.auth,i.a2(k._delegate,M))})()}linkWithPhoneNumber(M,k){var B=this;return(0,o.A)(function*(){return jn(B.auth,i.l(B._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,o.A)(function*(){return br(k.auth,i.d(k._delegate,M,Bn))})()}linkWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Un(i.aJ(k.auth)),i.g(k._delegate,M,Bn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,o.A)(function*(){return br(k.auth,i.a3(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return jn(this.auth,i.r(this._delegate,M,k))}reauthenticateWithPopup(M){return br(this.auth,i.e(this._delegate,M,Bn))}reauthenticateWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Un(i.aJ(k.auth)),i.h(k._delegate,M,Bn)})()}sendEmailVerification(M){return i.ag(this._delegate,M)}unlink(M){var k=this;return(0,o.A)(function*(){return yield i.ap(k._delegate,M),k})()}updateEmail(M){return i.al(this._delegate,M)}updatePassword(M){return i.am(this._delegate,M)}updatePhoneNumber(M){return i.u(this._delegate,M)}updateProfile(M){return i.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return i.ah(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gt.USER_MAP=new WeakMap;const he=i.aC;let Me=(()=>{class H{constructor(k,B){if(this.app=k,B.isInitialized())return this._delegate=B.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ie}=k.options;he(ie,"invalid-api-key",{appName:k.name}),he(ie,"invalid-api-key",{appName:k.name});const ee=typeof window<"u"?Bn:void 0;this._delegate=B.initialize({options:{persistence:Gt(ie,k.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,B){i.K(this._delegate,k,B)}applyActionCode(k){return i.a7(this._delegate,k)}checkActionCode(k){return i.a8(this._delegate,k)}confirmPasswordReset(k,B){return i.a6(this._delegate,k,B)}createUserWithEmailAndPassword(k,B){var ie=this;return(0,o.A)(function*(){return br(ie._delegate,i.aa(ie._delegate,k,B))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return i.af(this._delegate,k)}isSignInWithEmailLink(k){return i.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,o.A)(function*(){he(pn(),k._delegate,"operation-not-supported-in-this-environment");const B=yield i.j(k._delegate,Bn);return B?br(k._delegate,Promise.resolve(B)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Be(H,M){(0,i.aJ)(H)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,B,ie){const{next:ee,error:ye,complete:at}=Et(k,B,ie);return this._delegate.onAuthStateChanged(ee,ye,at)}onIdTokenChanged(k,B,ie){const{next:ee,error:ye,complete:at}=Et(k,B,ie);return this._delegate.onIdTokenChanged(ee,ye,at)}sendSignInLinkToEmail(k,B){return i.ac(this._delegate,k,B)}sendPasswordResetEmail(k,B){return i.a5(this._delegate,k,B||void 0)}setPersistence(k){var B=this;return(0,o.A)(function*(){let ie;switch(function bn(H,M){Wn(Object.values(Pr).includes(M),H,"invalid-persistence-type"),(0,Ce.lV)()?Wn(M!==Pr.SESSION,H,"unsupported-persistence-type"):(0,Ce.Ll)()?Wn(M===Pr.NONE,H,"unsupported-persistence-type"):Vn()?Wn(M===Pr.NONE||M===Pr.LOCAL&&(0,Ce.zW)(),H,"unsupported-persistence-type"):Wn(M===Pr.NONE||Kt(),H,"unsupported-persistence-type")}(B._delegate,k),k){case Pr.SESSION:ie=i.a;break;case Pr.LOCAL:ie=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case Pr.NONE:ie=i.U;break;default:return i.ax("argument-error",{appName:B._delegate.name})}return B._delegate.setPersistence(ie)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return br(this._delegate,i.a0(this._delegate))}signInWithCredential(k){return br(this._delegate,i.a1(this._delegate,k))}signInWithCustomToken(k){return br(this._delegate,i.a4(this._delegate,k))}signInWithEmailAndPassword(k,B){return br(this._delegate,i.ab(this._delegate,k,B))}signInWithEmailLink(k,B){return br(this._delegate,i.ae(this._delegate,k,B))}signInWithPhoneNumber(k,B){return jn(this._delegate,i.s(this._delegate,k,B))}signInWithPopup(k){var B=this;return(0,o.A)(function*(){return he(pn(),B._delegate,"operation-not-supported-in-this-environment"),br(B._delegate,i.c(B._delegate,k,Bn))})()}signInWithRedirect(k){var B=this;return(0,o.A)(function*(){return he(pn(),B._delegate,"operation-not-supported-in-this-environment"),yield Un(B._delegate),i.f(B._delegate,k,Bn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return i.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=Pr,H})();function Et(H,M,k){let B=H;"function"!=typeof H&&({next:B,error:M,complete:k}=H);const ie=B;return{next:ye=>ie(ye&&gt.getOrCreate(ye)),error:M,complete:k}}function Gt(H,M){const k=function Lr(H,M){const k=Dr();if(!k)return[];const B=i.aF(Ut,H,M);switch(k.getItem(B)){case Pr.NONE:return[i.U];case Pr.LOCAL:return[i.i,i.a];case Pr.SESSION:return[i.a];default:return[]}}(H,M);if(typeof self<"u"&&!k.includes(i.i)&&k.push(i.i),typeof window<"u")for(const B of[i.b,i.a])k.includes(B)||k.push(B);return k.includes(i.U)||k.push(i.U),k}class Ln{constructor(){this.providerId="phone",this._delegate=new i.P(ui(ue.A.auth()))}static credential(M,k){return i.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}Ln.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,Ln.PROVIDER_ID=i.P.PROVIDER_ID;const kr=i.aC;class Cr{constructor(M,k,B=ue.A.app()){var ie;kr(null===(ie=B.options)||void 0===ie?void 0:ie.apiKey,"invalid-api-key",{appName:B.name}),this._delegate=new i.R(B.auth(),M,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ct(H){H.INTERNAL.registerComponent(new De.uA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),B=M.getProvider("auth");return new Me(k,B)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:Ln,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:Cr,TwitterAuthProvider:i.$,Auth:Me,AuthCredential:i.L,Error:Ce.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.14")}(ue.A)},467:(nn,Ye,V)=>{function o(i,Ce,me,Se,De,Fe,Ne){try{var ne=i[Fe](Ne),ae=ne.value}catch(_e){return void me(_e)}ne.done?Ce(ae):Promise.resolve(ae).then(Se,De)}function ue(i){return function(){var Ce=this,me=arguments;return new Promise(function(Se,De){var Fe=i.apply(Ce,me);function Ne(ae){o(Fe,Se,De,Ne,ne,"next",ae)}function ne(ae){o(Fe,Se,De,Ne,ne,"throw",ae)}Ne(void 0)})}}V.d(Ye,{A:()=>ue})},1635:(nn,Ye,V)=>{function Ce(Be,Ae){var be={};for(var Ve in Be)Object.prototype.hasOwnProperty.call(Be,Ve)&&Ae.indexOf(Ve)<0&&(be[Ve]=Be[Ve]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(Ve=Object.getOwnPropertySymbols(Be);nt<Ve.length;nt++)Ae.indexOf(Ve[nt])<0&&Object.prototype.propertyIsEnumerable.call(Be,Ve[nt])&&(be[Ve[nt]]=Be[Ve[nt]])}return be}function _e(Be,Ae,be,Ve){return new(be||(be=Promise))(function(Ze,Ot){function Tn(kn){try{tn(Ve.next(kn))}catch(Kt){Ot(Kt)}}function Zn(kn){try{tn(Ve.throw(kn))}catch(Kt){Ot(Kt)}}function tn(kn){kn.done?Ze(kn.value):function nt(Ze){return Ze instanceof be?Ze:new be(function(Ot){Ot(Ze)})}(kn.value).then(Tn,Zn)}tn((Ve=Ve.apply(Be,Ae||[])).next())})}function pe(Be){return this instanceof pe?(this.v=Be,this):new pe(Be)}function Ke(Be,Ae,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,Ve=be.apply(Be,Ae||[]),Ze=[];return nt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Tn("next"),Tn("throw"),Tn("return",function Ot(pn){return function(Bt){return Promise.resolve(Bt).then(pn,Kt)}}),nt[Symbol.asyncIterator]=function(){return this},nt;function Tn(pn,Bt){Ve[pn]&&(nt[pn]=function(Ft){return new Promise(function(gr,sn){Ze.push([pn,Ft,gr,sn])>1||Zn(pn,Ft)})},Bt&&(nt[pn]=Bt(nt[pn])))}function Zn(pn,Bt){try{!function tn(pn){pn.value instanceof pe?Promise.resolve(pn.value.v).then(kn,Kt):Vn(Ze[0][2],pn)}(Ve[pn](Bt))}catch(Ft){Vn(Ze[0][3],Ft)}}function kn(pn){Zn("next",pn)}function Kt(pn){Zn("throw",pn)}function Vn(pn,Bt){pn(Bt),Ze.shift(),Ze.length&&Zn(Ze[0][0],Ze[0][1])}}function Xe(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Ae=Be[Symbol.asyncIterator];return Ae?Ae.call(Be):(Be=function ot(Be){var Ae="function"==typeof Symbol&&Symbol.iterator,be=Ae&&Be[Ae],Ve=0;if(be)return be.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&Ve>=Be.length&&(Be=void 0),{value:Be&&Be[Ve++],done:!Be}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Be),be={},Ve("next"),Ve("throw"),Ve("return"),be[Symbol.asyncIterator]=function(){return this},be);function Ve(Ze){be[Ze]=Be[Ze]&&function(Ot){return new Promise(function(Tn,Zn){!function nt(Ze,Ot,Tn,Zn){Promise.resolve(Zn).then(function(tn){Ze({value:tn,done:Tn})},Ot)}(Tn,Zn,(Ot=Be[Ze](Ot)).done,Ot.value)})}}}V.d(Ye,{AQ:()=>Ke,N3:()=>pe,Tt:()=>Ce,sH:()=>_e,xN:()=>Xe}),"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=5421)}]);