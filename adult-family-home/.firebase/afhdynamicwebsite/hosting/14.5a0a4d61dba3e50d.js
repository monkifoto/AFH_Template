"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[14],{9014:(pe,Z,c)=>{c.r(Z),c.d(Z,{AdminModule:()=>ue});var p=c(6814),l=c(95),d=c(518),e=c(5879),U=c(7213),m=c(7398),b=c(7104),f=c(778);let y=(()=>{class i{constructor(o,t){this.afs=o,this.storage=t,this.basePath="businesses"}createBusiness(o){console.log("Business Created");const t=this.afs.createId();return this.afs.doc(`${this.basePath}/${t}`).set({...o,id:t}),this.afs.doc(`${this.basePath}/${t}`).valueChanges()}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,m.U)(o=>o.map(t=>{const n=t.payload.doc.data(),r=t.payload.doc.id,{id:s,...u}=n;return{id:r,...u}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,o=>o.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).valueChanges()}updateBusiness(o,t){return this.afs.doc(`${this.basePath}/${o}`).update(t)}deleteBusiness(o){return this.afs.doc(`${this.basePath}/${o}`).delete()}uploadFile(o,t){return this.storage.upload(o,t)}getDownloadURL(o){return this.storage.ref(o).getDownloadURL()}static#e=this.\u0275fac=function(t){return new(t||i)(e.LFG(b.ST),e.LFG(f.Q1))};static#o=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const q=function(){return["/home/"]},P=function(i){return{id:i}};function M(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",6),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"button",7),e.NdJ("click",function(){const r=e.CHM(o).$implicit,s=e.oxw();return e.KtG(s.editBusiness(r.id))}),e._uU(10,"Edit"),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){const r=e.CHM(o).$implicit,s=e.oxw();return e.KtG(s.deleteBusiness(r.id))}),e._uU(12,"Delete"),e.qZA()()()}if(2&i){const o=a.$implicit;e.xp6(2),e.Q6J("routerLink",e.DdM(5,q))("queryParams",e.VKq(6,P,o.id)),e.xp6(1),e.hij(" ",o.id," "),e.xp6(2),e.Oqu(o.businessName),e.xp6(2),e.Oqu(o.isActive)}}let O=(()=>{class i{constructor(o,t){this.businessService=o,this.router=t,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(o=>{this.businesses=o,console.log(o)}):this.businessService.getAllBusinesses().subscribe(o=>{this.businesses=o,console.log(o)})}editBusiness(o){this.router.navigate(["/admin/edit-business",o])}deleteBusiness(o){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(o,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(t=>console.error("Error deleting business",t))}addNewBusiness(){this.router.navigate(["/admin/new"])}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(y),e.Y36(d.F0))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-business-list"]],decls:21,vars:2,consts:[[1,"business-list-container"],[1,"add-business-button",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModel","ngModelChange","change"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Business List"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return n.addNewBusiness()}),e._uU(4,"Add New Business"),e.qZA(),e.TgZ(5,"label",2),e._uU(6,"Show Active Only"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(s){return n.showActiveOnly=s})("change",function(){return n.loadBusinesses()}),e.qZA(),e.TgZ(8,"table",4)(9,"thead")(10,"tr")(11,"th"),e._uU(12,"ID"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Active"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Actions"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,M,13,8,"tr",5),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",n.showActiveOnly),e.xp6(13),e.Q6J("ngForOf",n.businesses))},dependencies:[p.sg,d.rH,l.Wl,l.JJ,l.On],styles:[".business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:var(--button-color);color:var(--primary-color);border:none;border-radius:5px;cursor:pointer}.add-business-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--background-color)}.business-id-link[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.edit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:var(--primary-color)}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return i})();var k=c(2333);let w=(()=>{class i{constructor(o,t){this.router=o,this.authService=t}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(k.e))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Admin Dashboard"),e.qZA(),e.TgZ(3,"div",1)(4,"button",2),e.NdJ("click",function(){return n.loadBusinessList()}),e._uU(5,"View Business List"),e.qZA(),e.TgZ(6,"button",2),e.NdJ("click",function(){return n.logout()}),e._uU(7,"Logout"),e.qZA()()(),e._UZ(8,"router-outlet"))},dependencies:[d.lC],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:40px;background-color:var(--background-color);border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:30px}button[_ngcontent-%COMP%]{padding:15px 30px;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--button-color-hover)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px var(--button-color)}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}return i})();var g=c(4716),N=c(5592);let C=(()=>{class i{constructor(o,t){this.storage=o,this.firestore=t}uploadFile(o,t,n){let r;switch(n){case"testimonail":r=`businesses/${t}/testimonail/${o.name}`;break;case"employee":r=`businesses/${t}/employee/${o.name}`;break;case"business":r=`businesses/${t}/business/${o.name}`;break;case"heroImages":r=`businesses/${t}/heroImages/${o.name}`;break;default:r=`businesses/${t}/gallery/${o.name}`}const s=this.storage.ref(r),u=this.storage.upload(r,o);return{uploadProgress:u.percentageChanges().pipe((0,m.U)(h=>h??0)),downloadUrl:new N.y(h=>{u.snapshotChanges().pipe((0,g.x)(()=>{s.getDownloadURL().subscribe(A=>{this.firestore.collection("businesses").doc(t).collection(n).add({url:A}),h.next(A),h.complete()})})).subscribe()})}}static#e=this.\u0275fac=function(t){return new(t||i)(e.LFG(f.Q1),e.LFG(b.ST))};static#o=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function F(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"li")(1,"button",45),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeUniqueService(r))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e._uU(7),e.qZA()}if(2&i){const o=a.$implicit;let t,n;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value),e.xp6(2),e.hij("",null==(n=o.get("description"))?null:n.value," ")}}function B(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"li")(1,"button",45),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeWhyChoose(r))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e._UZ(6,"br"),e._uU(7),e.qZA()}if(2&i){const o=a.$implicit;let t,n;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value),e.xp6(2),e.hij("",null==(n=o.get("description"))?null:n.value," ")}}function I(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&i){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function S(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&i){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function E(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&i){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function G(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&i){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function J(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"div",105)(1,"div",15)(2,"label",106),e._uU(3," Name"),e.qZA(),e._UZ(4,"input",107),e.qZA(),e.TgZ(5,"div",15)(6,"label",108),e._uU(7,"Quote"),e.qZA(),e._UZ(8,"textarea",109),e.qZA(),e.TgZ(9,"div",15)(10,"label",110),e._uU(11,"Photo"),e.qZA(),e.TgZ(12,"input",111),e.NdJ("change",function(n){const s=e.CHM(o).index,u=e.oxw();return e.KtG(u.onTestimonialFileChange(n,s))}),e.qZA(),e.YNc(13,G,4,3,"ng-container",56),e.ALo(14,"async"),e.qZA(),e.TgZ(15,"button",45),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeTestimonial(r))}),e._uU(16,"Remove Testimonial"),e.qZA()()}if(2&i){const o=a.index,t=e.oxw();e.Q6J("formGroupName",o),e.xp6(13),e.Q6J("ngIf",e.lcZ(14,2,t.uploadProgress["testimonial"+o]))}}function L(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"li")(1,"button",45),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeService(r))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA()()}if(2&i){const o=a.$implicit;let t;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value)}}function Q(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"li")(1,"button",45),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeBenefit(r))}),e._uU(2,"X"),e.qZA(),e._uU(3," \xa0 "),e.TgZ(4,"strong"),e._uU(5),e.qZA()()}if(2&i){const o=a.$implicit;let t;e.xp6(5),e.Oqu(null==(t=o.get("name"))?null:t.value)}}function D(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",103)(2,"div",104),e._uU(3),e.qZA()(),e.BQk()),2&i){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function Y(i,a){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",119),e.qZA()),2&i){const o=e.oxw().$implicit;let t;e.xp6(1),e.Q6J("src",null==(t=o.get("photoURL"))?null:t.value,e.LSH)}}function H(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"div",112)(1,"div",15)(2,"label",113),e._uU(3,"Employee Name"),e.qZA(),e._UZ(4,"input",114),e.qZA(),e.TgZ(5,"div",15)(6,"label",113),e._uU(7,"Role"),e.qZA(),e._UZ(8,"input",115),e.qZA(),e.TgZ(9,"div",15)(10,"label",113),e._uU(11,"Bio"),e.qZA(),e._UZ(12,"textarea",116),e.qZA(),e.TgZ(13,"div",15)(14,"label",113),e._uU(15,"Photo"),e.qZA(),e.TgZ(16,"input",117),e.NdJ("change",function(n){const s=e.CHM(o).index,u=e.oxw();return e.KtG(u.onEmployeeFileChange(n,s))}),e.qZA(),e.YNc(17,D,4,3,"ng-container",56),e.ALo(18,"async"),e.qZA(),e.YNc(19,Y,2,1,"div",56),e.TgZ(20,"button",118),e.NdJ("click",function(){const r=e.CHM(o).index,s=e.oxw();return e.KtG(s.removeEmployee(r))}),e._uU(21,"Remove Employee"),e.qZA()()}if(2&i){const o=a.$implicit,t=a.index,n=e.oxw();let r;e.Q6J("formGroupName",t),e.xp6(2),e.MGl("for","employeeName-",t,""),e.xp6(2),e.MGl("id","employeeName-",t,""),e.xp6(2),e.MGl("for","employeeRole-",t,""),e.xp6(2),e.MGl("id","employeeRole-",t,""),e.xp6(2),e.MGl("for","employeeBio-",t,""),e.xp6(2),e.MGl("id","employeeBio-",t,""),e.xp6(2),e.MGl("for","employeePhoto-",t,""),e.xp6(2),e.MGl("id","employeePhoto-",t,""),e.xp6(1),e.Q6J("ngIf",e.lcZ(18,11,n.uploadProgress["employee_"+t])),e.xp6(2),e.Q6J("ngIf",null==(r=o.get("photoURL"))?null:r.value)}}const R=function(){return["/admin/gallery-upload"]},$=function(i){return{id:i}};let _=(()=>{class i{constructor(o,t,n,r,s){this.fb=o,this.businessService=t,this.uploadService=n,this.route=r,this.router=s,this.uploadProgress={},this.confirmationMessage="",this.showConfirmation=!1,this.uploads=[]}ngOnInit(){this.initializeForm(),this.route.paramMap.subscribe(o=>{this.businessId=o.get("id"),console.log("Business ID:",this.businessId),this.businessId&&this.loadBusinessData()})}initializeForm(){this.businessForm=this.fb.group({tagline:[""],businessURL:[""],providerName:[""],keyWords:[""],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:[""],motivation:[""],mission:[""],vision:[""],certifications:[""],targetAudience:[""],services:this.fb.array([]),benefits:this.fb.array([]),specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[""],mediaFeatures:[""],ratings:[""],testimonials:this.fb.array([]),businessName:["",l.kI.required],address:[""],phone:[""],fax:[""],email:["",l.kI.required],businessHours:[""],socialMedia:[""],welcomeMessage:[""],keyServicesHighlights:[""],teamValues:[""],contactFormDetails:[""],mapIframeUrl:[""],photoGallery:[""],isActive:!0,employees:this.fb.array([])}),this.serviceForm=this.fb.group({name:[""]}),this.benefitsForm=this.fb.group({name:[""]}),this.uniqueServiceForm=this.fb.group({name:[""],description:[""]}),this.whyChooseForm=this.fb.group({name:[""],description:[""]})}employees(){return this.businessForm.get("employees")}testimonials(){return this.businessForm.get("testimonials")}services(){return this.businessForm.get("services")}benefits(){return this.businessForm.get("benefits")}uniqueService(){return this.businessForm.get("uniqueService")}whyChoose(){return this.businessForm.get("whyChoose")}addEmployee(){const o=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees().push(o)}removeEmployee(o){this.employees().removeAt(o)}addTestimonial(){const o=this.fb.group({id:[""],name:[""],quote:[""],photoURL:[""]});this.testimonials().push(o)}removeTestimonial(o){this.testimonials().removeAt(o)}addService(){this.serviceForm.valid&&(this.services().push(this.fb.group(this.serviceForm.value)),this.serviceForm.reset())}removeService(o){this.services().removeAt(o)}addBenefit(){this.benefitsForm.valid&&(this.benefits().push(this.fb.group(this.benefitsForm.value)),this.benefitsForm.reset())}removeBenefit(o){this.benefits().removeAt(o)}addUniqueService(){this.uniqueServiceForm.valid&&(this.uniqueService().push(this.fb.group(this.uniqueServiceForm.value)),this.uniqueServiceForm.reset())}removeUniqueService(o){this.uniqueService().removeAt(o)}addWhyChoose(){this.whyChooseForm.valid&&(this.whyChoose().push(this.fb.group(this.whyChooseForm.value)),this.whyChooseForm.reset())}removeWhyChoose(o){this.whyChoose().removeAt(o)}onEmployeeFileChange(o,t){const n=o.target.files[0];if(n){const{uploadProgress:r,downloadUrl:s}=this.uploadService.uploadFile(n,this.businessId,"employee");this.uploadProgress[`employee_${t}`]=r,s.pipe((0,g.x)(()=>{s.subscribe(u=>{this.employees().at(t).patchValue({photoURL:u})})})).subscribe()}}onTestimonialFileChange(o,t){const n=o.target.files[0];if(n){const{uploadProgress:r,downloadUrl:s}=this.uploadService.uploadFile(n,this.businessId,"testimonail");this.uploadProgress[`testimonails_${t}`]=r,s.pipe((0,g.x)(()=>{s.subscribe(u=>{this.testimonials().at(t).patchValue({photoURL:u})})})).subscribe()}}onFileChange(o,t){const n=o.target.files[0];if(n){let r;r="photoGallery"===t?"gallery":"testimonial"===t||"logoImage"===t||"facilityImages"===t||"lifestyleImages"===t?"business":"heroImages"===t?"heroImages":"employee";const{uploadProgress:s,downloadUrl:u}=this.uploadService.uploadFile(n,this.businessId,r);this.uploadProgress[t]=s,u.pipe((0,g.x)(()=>{u.subscribe(v=>{this.businessForm.patchValue({[t]:v})})})).subscribe()}}loadDefaultData(){this.businessForm=this.fb.group({businessName:["Careful Living AFH",l.kI.required],keyWords:[""],businessURL:[""],providerName:["Provider Name"],tagline:["Caring with compassion"],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),businessStory:["Careful Living AFH was founded in 2005 by a group of healthcare professionals who wanted to provide a loving and caring environment for seniors."],motivation:["The motivation behind starting this business was to create a home where seniors can live comfortably and with dignity."],mission:["Our mission is to work hard each day to meet and exceed the expectations of our residents and their families. We provide personalized extensive care plans based on the residents needs, preferences and interests while giving their families peace of mind knowing that all their needs are being met."],vision:["Elderly Home Care is a perfect alternative for seniors who can no longer live on their own, but want to maintain their independence in a warm, friendly home-like atmosphere with 24-hour tender compassionate care. We are conveniently located 10 minutes away from Evergreen Hospital in Bellevue, bordering Kirkland"],certifications:["Licensed by the state, Certified Nursing Assistants (CNA) on staff."],targetAudience:["Seniors in need of assisted living services, families looking for quality care for their loved ones."],services:this.fb.array([]),specialPrograms:["Holiday Celebrations \xb7 Birthday Parties \xb7 Outdoor activities \xb7 Exercise Program \xb7 Musical Program \xb7 Arts and Crafts \xb7 Games \xb7 Movie and Popcorn Nights \xb7 Newspaper \xb7 Gardening"],tours:["Yes, we provide tours of our facility."],freeConsulting:["Yes, we offer free consulting services."],websiteGoals:["To provide information, encourage visits, and offer consultation requests."],logoImage:[""],ownerImagesBios:["John Doe, RN, Founder."],staffImagesBios:["Jane Smith, CNA, Head Nurse; Bob Johnson, Physical Therapist."],facilityImages:[""],lifestyleImages:[""],mediaFeatures:["Featured in Local News, Healthcare Magazine."],ratings:["Google: 4.8 stars, Yelp: 5 stars"],testimonials:this.fb.array([]),address:["1234 Care St, Compassion City, ST 12345"],phone:["(123) 456-7890"],fax:["(123) 456-7891"],email:["info@carefullivingafh.com",l.kI.email],businessHours:["Mon-Fri: 9am-5pm, Sat-Sun: 10am-4pm"],socialMedia:["Facebook: facebook.com/carefullivingafh"],welcomeMessage:["Welcome to Careful Living AFH, where we care with compassion."],keyServicesHighlights:["24/7 care, nutritious meals, engaging activities."],teamValues:["Our team is trained and specialized in providing care for seniors in need of, or who are diagnosed with a wide range of illnesses such as: Dementia, Alzheimer\u2019s, Strokes, Diabetic Management, Cardiac Problems, Multiple Sclerosis, Rehabilitation and Hospice/Palliative Care",l.kI.required],serviceBenefits:this.fb.array([]),contactFormDetails:["Name, Email, Phone, Message"],mapIframeUrl:[""],photoGallery:["Gallery of our facility and events."],employees:this.fb.array([]),isActive:!0})}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(o=>{o?(console.log("Business data:",o),this.populateForm(o)):console.error("Business not found")},o=>{console.error("Error loading business data:",o)})}populateForm(o){this.businessForm.patchValue(o),this.employees().clear(),(o.employees??[]).forEach(t=>{const n=this.fb.group({id:[t.id],name:[t.name],role:[t.role],bio:[t.bio],photoURL:[t.photoURL]});this.employees().push(n)}),this.testimonials().clear(),(o.testimonials??[]).forEach(t=>{const n=this.fb.group({id:[t.id],name:[t.name],quote:[t.quote],photoURL:[t.photoURL]});this.testimonials().push(n)}),this.services().clear(),(o.services??[]).forEach(t=>{const n=this.fb.group({name:[t.name]});this.services().push(n)}),this.benefits().clear(),(o.benefits??[]).forEach(t=>{const n=this.fb.group({name:[t.name]});this.benefits().push(n)}),this.uniqueService().clear(),(o.uniqueService??[]).forEach(t=>{const n=this.fb.group({name:[t.name],description:[t.description]});this.uniqueService().push(n)}),this.whyChoose().clear(),(o.whyChoose??[]).forEach(t=>{const n=this.fb.group({name:[t.name],description:[t.description]});this.whyChoose().push(n)})}onSubmit(){if(console.log("submit click"),this.businessForm.valid){const o=this.businessForm.value;console.log("form valid"),this.businessId?this.businessService.updateBusiness(this.businessId,o).then(()=>console.error("Business details updated successfully!")).catch(t=>console.error("Error updating business details",t)):(console.log("Submit else"),this.businessService.createBusiness(o).subscribe(t=>{this.business=t,this.confirmationMessage="Business has been successfully created!",this.showConfirmation=!0,console.log("Business Created with ID: ",this.business?.id),this.business&&this.business.id?this.businessService.updateBusiness(this.business.id,o).then(()=>console.error("Business details updated successfully!")).catch(n=>console.error("Error updating business details",n)):console.error("Business ID is undefined.")}))}else console.log("Business Form  is not valid!")}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/admin/businessList"])}preventDefault(o){o.preventDefault()}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(y),e.Y36(C),e.Y36(d.gz),e.Y36(d.F0))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-business"]],decls:264,vars:25,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["id","businessTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["id","story-mission-tab","data-bs-toggle","tab","data-bs-target","#story-mission","type","button","role","tab","aria-controls","story-mission","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","home-page-tab","data-bs-toggle","tab","data-bs-target","#home-page","type","button","role","tab","aria-controls","home-page","aria-selected","false",1,"nav-link"],["id","services-page-tab","data-bs-toggle","tab","data-bs-target","#services-page","type","button","role","tab","aria-controls","services-page","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","providerName"],["id","providerName","formControlName","providerName",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","address"],["id","address","formControlName","address",1,"form-control"],["for","phone"],["id","phone","formControlName","phone",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessURL"],["id","businessURL","formControlName","businessURL",1,"form-control"],["for","businessHours"],["id","businessHours","formControlName","businessHours",1,"form-control"],["for","keyWords"],["id","keyWords","formControlName","keyWords",1,"form-control"],["id","story-mission","role","tabpanel","aria-labelledby","story-mission-tab",1,"tab-pane","fade"],["for","certifications"],["id","certifications","formControlName","certifications",1,"form-control"],["for","targetAudience"],["id","targetAudience","formControlName","targetAudience",1,"form-control"],[3,"formGroup"],["for","benefitName"],["formControlName","name","id","uniqueSericeName","placeholder","Unique Serice Name ",1,"form-control"],["formControlName","description","id","uniqueSericeDescription","placeholder","Unique Service Description ",1,"form-control"],["type","button",3,"click"],[4,"ngFor","ngForOf"],["formControlName","name","id","whyChooseName","placeholder","Enter Reason ",1,"form-control"],["formControlName","description","id","whyChooseDescription","placeholder","Reason Description ",1,"form-control"],["for","businessStory"],["id","businessStory","formControlName","businessStory",1,"form-control"],["for","motivation"],["id","motivation","formControlName","motivation",1,"form-control"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["for","logoImage"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["for","facilityImages"],["type","file","id","facilityImages",1,"form-control",3,"change"],["for","lifestyleImages"],["type","file","id","lifestyleImages",1,"form-control",3,"change"],["for","photoGallery"],["id","photoGallery","formControlName","photoGallery",1,"form-control"],[1,"btn","btn-primary",3,"routerLink","queryParams"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["for","mediaFeatures"],["id","mediaFeatures","formControlName","mediaFeatures",1,"form-control"],["for","ratings"],["id","ratings","formControlName","ratings",1,"form-control"],["for","testimonials"],["formArrayName","testimonials"],[3,"formGroupName",4,"ngFor","ngForOf"],["id","home-page","role","tabpanel","aria-labelledby","home-page-tab",1,"tab-pane","fade"],["for","welcomeMessage"],["id","welcomeMessage","formControlName","welcomeMessage",1,"form-control"],["for","keyServicesHighlights"],["id","keyServicesHighlights","formControlName","keyServicesHighlights",1,"form-control"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],["for","mission"],["id","mission","formControlName","mission",1,"form-control"],["for","vision"],["id","vision","formControlName","vision",1,"form-control"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["for","serviceName"],["formControlName","name","id","serviceName","placeholder","Enter service name",1,"form-control"],["formControlName","name","id","benefitName","placeholder","Enter Benefit name",1,"form-control"],["for","specialPrograms"],["id","specialPrograms","formControlName","specialPrograms",1,"form-control"],["for","tours"],["id","tours","formControlName","tours",1,"form-control"],["for","freeConsulting"],["id","freeConsulting","formControlName","freeConsulting",1,"form-control"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["for","contactFormDetails"],["id","contactFormDetails","formControlName","contactFormDetails",1,"form-control"],["for","mapIframeUrl"],["id","mapIframeUrl","formControlName","mapIframeUrl",1,"form-control"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit"],[1,"progress"],[1,"progress-bar"],[3,"formGroupName"],["for","testimonialName"],["id","testimonialName","formControlName","name",1,"form-control"],["for","testimonialQuote"],["id","testimonialQuote","formControlName","quote",1,"form-control"],["for","testimonialPhoto"],["type","file","id","testimonialPhoto",1,"form-control",3,"change"],[1,"employee-card",3,"formGroupName"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],["type","button",1,"remove-button",3,"click"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Business Information"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(4,"ul",2)(5,"li",3)(6,"button",4),e._uU(7,"Basic Information"),e.qZA()(),e.TgZ(8,"li",3)(9,"button",5),e._uU(10,"Our Excellence"),e.qZA()(),e.TgZ(11,"li",3)(12,"button",6),e._uU(13,"Employee Profiles"),e.qZA()(),e.TgZ(14,"li",3)(15,"button",7),e._uU(16,"Photos"),e.qZA()(),e.TgZ(17,"li",3)(18,"button",8),e._uU(19,"Media & Reviews"),e.qZA()(),e.TgZ(20,"li",3)(21,"button",9),e._uU(22,"Home Page"),e.qZA()(),e.TgZ(23,"li",3)(24,"button",10),e._uU(25,"Services Page"),e.qZA()(),e.TgZ(26,"li",3)(27,"button",11),e._uU(28,"About Us"),e.qZA()(),e.TgZ(29,"li",3)(30,"button",12),e._uU(31,"Contact Us Page"),e.qZA()()(),e.TgZ(32,"div",13)(33,"div",14)(34,"h2"),e._uU(35,"Business Information"),e.qZA(),e.TgZ(36,"div",15)(37,"label",16),e._uU(38,"Business Name"),e.qZA(),e._UZ(39,"input",17),e.qZA(),e.TgZ(40,"div",15)(41,"label",18),e._uU(42,"Provider Name"),e.qZA(),e._UZ(43,"input",19),e.qZA(),e.TgZ(44,"div",15)(45,"label",20),e._uU(46,"Tagline"),e.qZA(),e._UZ(47,"input",21),e.qZA(),e.TgZ(48,"div",15)(49,"label",22),e._uU(50,"Address"),e.qZA(),e._UZ(51,"textarea",23),e.qZA(),e.TgZ(52,"div",15)(53,"label",24),e._uU(54,"Phone"),e.qZA(),e._UZ(55,"input",25),e.qZA(),e.TgZ(56,"div",15)(57,"label",26),e._uU(58,"Fax"),e.qZA(),e._UZ(59,"input",27),e.qZA(),e.TgZ(60,"div",15)(61,"label",28),e._uU(62,"Email"),e.qZA(),e._UZ(63,"input",29),e.qZA(),e.TgZ(64,"div",15)(65,"label",30),e._uU(66,"Web Address"),e.qZA(),e._UZ(67,"input",31),e.qZA(),e.TgZ(68,"div",15)(69,"label",32),e._uU(70,"Business Hours"),e.qZA(),e._UZ(71,"textarea",33),e.qZA(),e.TgZ(72,"div",15)(73,"label",34),e._uU(74,"Key Words"),e.qZA(),e._UZ(75,"textarea",35),e.qZA()(),e.TgZ(76,"div",36)(77,"h2"),e._uU(78,"Certifications"),e.qZA(),e.TgZ(79,"div",15)(80,"label",37),e._uU(81,"Certifications"),e.qZA(),e._UZ(82,"textarea",38),e.qZA(),e.TgZ(83,"h2"),e._uU(84,"Target Audience"),e.qZA(),e.TgZ(85,"div",15)(86,"label",39),e._uU(87,"Target Audience"),e.qZA(),e._UZ(88,"textarea",40),e.qZA(),e.TgZ(89,"h2"),e._uU(90,"Unique Features"),e.qZA(),e.TgZ(91,"div",41)(92,"div",15)(93,"label",42),e._uU(94,"Unique Serivces"),e.qZA(),e._UZ(95,"input",43)(96,"input",44),e.qZA(),e.TgZ(97,"button",45),e.NdJ("click",function(){return n.addUniqueService()}),e._uU(98,"Add Unique Service"),e.qZA()(),e.TgZ(99,"ul"),e.YNc(100,F,8,2,"li",46),e.qZA(),e.TgZ(101,"h2"),e._uU(102,"Why Us Reasons"),e.qZA(),e.TgZ(103,"div",41)(104,"div",15)(105,"label",42),e._uU(106,"Why Choose Us Reasons"),e.qZA(),e._UZ(107,"input",47)(108,"input",48),e.qZA(),e.TgZ(109,"button",45),e.NdJ("click",function(){return n.addWhyChoose()}),e._uU(110,"Add Reason"),e.qZA()(),e.TgZ(111,"ul"),e.YNc(112,B,8,2,"li",46),e.qZA(),e.TgZ(113,"h2"),e._uU(114,"Business Story and Motivation"),e.qZA(),e.TgZ(115,"div",15)(116,"label",49),e._uU(117,"Business Story"),e.qZA(),e._UZ(118,"textarea",50),e.qZA(),e.TgZ(119,"div",15)(120,"label",51),e._uU(121,"Motivation"),e.qZA(),e._UZ(122,"textarea",52),e.qZA()(),e.TgZ(123,"div",53)(124,"h2"),e._uU(125,"Content and Photos"),e.qZA(),e.TgZ(126,"div",15)(127,"label",54),e._uU(128,"Logo Image"),e.qZA(),e.TgZ(129,"input",55),e.NdJ("change",function(s){return n.onFileChange(s,"logoImage")}),e.qZA(),e.YNc(130,I,4,3,"ng-container",56),e.ALo(131,"async"),e.qZA(),e.TgZ(132,"h2"),e._uU(133,"Facility and Lifestyle Images"),e.qZA(),e.TgZ(134,"div",15)(135,"label",57),e._uU(136,"Facility Images"),e.qZA(),e.TgZ(137,"input",58),e.NdJ("change",function(s){return n.onFileChange(s,"facilityImages")}),e.qZA(),e.YNc(138,S,4,3,"ng-container",56),e.ALo(139,"async"),e.qZA(),e.TgZ(140,"div",15)(141,"label",59),e._uU(142,"Lifestyle Images"),e.qZA(),e.TgZ(143,"input",60),e.NdJ("change",function(s){return n.onFileChange(s,"lifestyleImages")}),e.qZA(),e.YNc(144,E,4,3,"ng-container",56),e.ALo(145,"async"),e.qZA(),e.TgZ(146,"h2"),e._uU(147,"Gallery Description"),e.qZA(),e.TgZ(148,"div",15)(149,"label",61),e._uU(150,"Photo Gallery:"),e.qZA(),e._UZ(151,"textarea",62),e.qZA(),e.TgZ(152,"h2"),e._uU(153,"Gallery Photos"),e.qZA(),e.TgZ(154,"div",15)(155,"label",61),e._uU(156,"Photo Gallery:"),e.qZA(),e.TgZ(157,"a",63),e._uU(158," Upload Photos to Gallery "),e.qZA()()(),e.TgZ(159,"div",64)(160,"h2"),e._uU(161,"Social Media, Reviews "),e.qZA(),e.TgZ(162,"div",15)(163,"label",65),e._uU(164,"Social Media"),e.qZA(),e._UZ(165,"textarea",66),e.qZA(),e.TgZ(166,"div",15)(167,"label",67),e._uU(168,"Media Features"),e.qZA(),e._UZ(169,"textarea",68),e.qZA(),e.TgZ(170,"div",15)(171,"label",69),e._uU(172,"Ratings"),e.qZA(),e._UZ(173,"textarea",70),e.qZA(),e.TgZ(174,"h2"),e._uU(175,"Testimonials"),e.qZA(),e.TgZ(176,"div",15)(177,"label",71),e._uU(178,"Testimonials"),e.qZA(),e.TgZ(179,"div",72),e.YNc(180,J,17,4,"div",73),e.qZA(),e.TgZ(181,"button",45),e.NdJ("click",function(){return n.addTestimonial()}),e._uU(182,"Add Testimonial"),e.qZA()()(),e.TgZ(183,"div",74)(184,"h2"),e._uU(185,"Home Page"),e.qZA(),e.TgZ(186,"div",15)(187,"label",75),e._uU(188,"Welcome Message"),e.qZA(),e._UZ(189,"textarea",76),e.qZA(),e.TgZ(190,"div",15)(191,"label",77),e._uU(192,"Key Services and Highlights"),e.qZA(),e._UZ(193,"textarea",78),e.qZA()(),e.TgZ(194,"div",79)(195,"h2"),e._uU(196,"About Us Page"),e.qZA(),e.TgZ(197,"div",15)(198,"label",49),e._uU(199,"Our Story"),e.qZA(),e._UZ(200,"textarea",50),e.qZA(),e.TgZ(201,"div",15)(202,"label",80),e._uU(203,"Our Mission"),e.qZA(),e._UZ(204,"textarea",81),e.qZA(),e.TgZ(205,"div",15)(206,"label",82),e._uU(207,"Our Vision"),e.qZA(),e._UZ(208,"textarea",83),e.qZA()(),e.TgZ(209,"div",84)(210,"h2"),e._uU(211,"Services Page"),e.qZA(),e.TgZ(212,"h2"),e._uU(213,"Services and Offerings"),e.qZA(),e.TgZ(214,"div",41)(215,"div",15)(216,"label",85),e._uU(217,"Service Name"),e.qZA(),e._UZ(218,"input",86),e.qZA(),e.TgZ(219,"button",45),e.NdJ("click",function(){return n.addService()}),e._uU(220,"Add Service"),e.qZA()(),e.TgZ(221,"ul"),e.YNc(222,L,6,1,"li",46),e.qZA(),e.TgZ(223,"div",41)(224,"div",15)(225,"label",42),e._uU(226,"Benefit Name"),e.qZA(),e._UZ(227,"input",87),e.qZA(),e.TgZ(228,"button",45),e.NdJ("click",function(){return n.addBenefit()}),e._uU(229,"Add Benefit"),e.qZA()(),e.TgZ(230,"ul"),e.YNc(231,Q,6,1,"li",46),e.qZA(),e.TgZ(232,"div",15)(233,"label",88),e._uU(234,"Special Programs"),e.qZA(),e._UZ(235,"textarea",89),e.qZA(),e.TgZ(236,"div",15)(237,"label",90),e._uU(238,"Tours"),e.qZA(),e._UZ(239,"textarea",91),e.qZA(),e.TgZ(240,"div",15)(241,"label",92),e._uU(242,"Free Consulting"),e.qZA(),e._UZ(243,"textarea",93),e.qZA()(),e.TgZ(244,"div",94)(245,"h2"),e._uU(246,"Contact Us Page"),e.qZA(),e.TgZ(247,"div",15)(248,"label",95),e._uU(249,"Contact Form Details"),e.qZA(),e._UZ(250,"textarea",96),e.qZA(),e.TgZ(251,"div",15)(252,"label",97),e._uU(253,"Google Map"),e.qZA(),e._UZ(254,"textarea",98),e.qZA()(),e.TgZ(255,"div",99)(256,"h2"),e._uU(257,"Employee Profiles"),e.qZA(),e.TgZ(258,"div",100),e.YNc(259,H,22,13,"div",101),e.qZA(),e.TgZ(260,"button",45),e.NdJ("click",function(){return n.addEmployee()}),e._uU(261,"Add Employee"),e.qZA()()(),e.TgZ(262,"button",102),e._uU(263,"Submit"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.businessForm),e.xp6(88),e.Q6J("formGroup",n.uniqueServiceForm),e.xp6(9),e.Q6J("ngForOf",n.uniqueService().controls),e.xp6(3),e.Q6J("formGroup",n.whyChooseForm),e.xp6(9),e.Q6J("ngForOf",n.whyChoose().controls),e.xp6(18),e.Q6J("ngIf",e.lcZ(131,16,n.uploadProgress.logoImage)),e.xp6(8),e.Q6J("ngIf",e.lcZ(139,18,n.uploadProgress.facilityImages)),e.xp6(6),e.Q6J("ngIf",e.lcZ(145,20,n.uploadProgress.lifestyleImages)),e.xp6(13),e.Q6J("routerLink",e.DdM(22,R))("queryParams",e.VKq(23,$,n.businessId)),e.xp6(23),e.Q6J("ngForOf",n.testimonials().controls),e.xp6(34),e.Q6J("formGroup",n.serviceForm),e.xp6(8),e.Q6J("ngForOf",n.services().controls),e.xp6(1),e.Q6J("formGroup",n.benefitsForm),e.xp6(8),e.Q6J("ngForOf",n.benefits().controls),e.xp6(28),e.Q6J("ngForOf",n.employees().controls))},dependencies:[p.sg,p.O5,d.rH,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.x0,l.CE,p.Ov],styles:['.container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:20px;background:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.employee-card[_ngcontent-%COMP%]{padding:15px;margin-bottom:15px;background-color:var(--background-color);border:1px solid #ddd;border-radius:4px;box-shadow:0 0 5px #0000001a}.employee-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:10px}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:var(--accent-color);color:var(--primary-color);border:none;padding:8px 12px;border-radius:4px;cursor:pointer}.employee-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:var(--button-color)}.add-employee-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--buttong-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer;margin-bottom:20px}.add-employee-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.submit-button[_ngcontent-%COMP%]{display:block;width:100%;background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px;border-radius:4px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{margin-top:5px;height:10px;background-color:#dddada;border-radius:4px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:var(--accent-color);text-align:center;line-height:10px;color:var(--primary-color)}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:100px;border-radius:4px}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:2px solid var(--border-color);padding-bottom:10px;margin-top:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.required[_ngcontent-%COMP%]:after{content:"*";color:red;margin-left:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;overflow:hidden;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745;height:100%;color:var(--primary-color);text-align:center;line-height:20px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:-2px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:var(--button-color);color:#495057;border:1px solid transparent;border-radius:.25rem .25rem 0 0;padding:10px 15px;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:var(--button-hover-color);color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--primary-color);border-color:#dee2e6 #dee2e6 #fff;color:#343a40}.tab-content[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-top:none;padding:15px;background-color:var(--primary-color)}.tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:2px solid #343a40;color:#343a40;margin-bottom:20px;padding-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057}.form-control[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #ced4da;padding:10px}label.required[_ngcontent-%COMP%]:after{content:" *";color:#d9534f}button[type=submit][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:10px 20px;border-radius:.25rem;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}button[type=button][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.progress-bar[_ngcontent-%COMP%]{background-color:#28a745}']})}return i})();var z=c(5861),K=c(2459),W=c(4664),j=c(3768),V=c(6394);function X(i,a){1&i&&(e.TgZ(0,"p"),e._uU(1,"Drag and drop images here, or click to select files"),e.qZA())}function ee(i,a){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const o=a.$implicit;e.xp6(1),e.Oqu(o.name)}}function oe(i,a){if(1&i&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Files to be uploaded:"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,ee,2,1,"li",10),e.qZA()()),2&i){const o=e.oxw();e.xp6(4),e.Q6J("ngForOf",o.filesToUpload)}}function te(i,a){if(1&i&&(e.TgZ(0,"div")(1,"div",17)(2,"div",18),e._uU(3),e.qZA()()()),2&i){const o=a.ngIf;e.xp6(2),e.Udp("width",o+"%"),e.xp6(1),e.hij("",o,"%")}}function ne(i,a){if(1&i&&(e.TgZ(0,"div",19),e._UZ(1,"img",20),e.qZA()),2&i){const o=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.s9C("alt",o.key),e.Q6J("src",t.uploadedImages[o.key],e.LSH)}}function ie(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,te,4,3,"div",8),e.ALo(2,"async"),e.YNc(3,ne,2,2,"div",16),e.qZA()),2&i){const o=a.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.uploadProgress[o.key])),e.xp6(2),e.Q6J("ngIf",t.uploadedImages[o.key])}}function re(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const r=e.CHM(o).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r.url))}),e._UZ(1,"img",22),e.qZA()}if(2&i){const o=a.$implicit;e.xp6(1),e.Q6J("src",o.url,e.LSH)}}function se(i,a){if(1&i){const o=e.EpF();e.TgZ(0,"app-image-viewer-modal",23),e.NdJ("closeModal",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onCloseModal())}),e.qZA()}if(2&i){const o=e.oxw();e.Q6J("imageUrl",o.selectedImageUrl)}}let x=(()=>{class i{constructor(o,t,n,r,s){this.storage=o,this.firestore=t,this.uploadService=n,this.route=r,this.webContent=s,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[],this.uploadLocation="gallery",this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(o=>{this.businessId=o.id,this.loadImages()})}uploadFiles(o){const t=o.target.files;for(let n of t){const{uploadProgress:r,downloadUrl:s}=this.uploadService.uploadFile(n,this.businessId,this.uploadLocation);this.uploadProgress[n.name]=r,s.subscribe(u=>{this.uploadedImages[n.name]=u})}}onDragOver(o){o.preventDefault(),o.stopPropagation(),o.dataTransfer.dropEffect="copy"}onDragLeave(o){o.preventDefault(),o.stopPropagation()}onDrop(o){o.preventDefault(),o.stopPropagation();const t=Array.from(o.dataTransfer.files);this.filesToUpload=t,this.uploadFiles({target:{files:t}})}loadImages(){var o=this;this.webContent.getBusinessUploadedImagesById(this.businessId,this.uploadLocation).pipe((0,W.w)(t=>{const n=t.map(function(){var r=(0,z.Z)(function*(s){return(yield o.webContent.checkImageExists(s.url))?s:null});return function(s){return r.apply(this,arguments)}}());return(0,K.D)(Promise.all(n))}),(0,m.U)(t=>t.filter(n=>null!==n))).subscribe(t=>{this.images=t})}onImageClick(o){this.selectedImageUrl=o}onCloseModal(){this.selectedImageUrl=null}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(f.Q1),e.Y36(b.ST),e.Y36(C),e.Y36(d.gz),e.Y36(j._))};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:23,vars:8,consts:[[1,"upload-container"],[1,"upload-location"],["for","uploadLocation"],["id","uploadLocation",3,"ngModel","ngModelChange","change"],["value","gallery"],["value","heroImages"],["value","lifestyle"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Select Upload Location:"),e.qZA(),e.TgZ(4,"select",3),e.NdJ("ngModelChange",function(s){return n.uploadLocation=s})("change",function(){return n.loadImages()}),e.TgZ(5,"option",4),e._uU(6,"Gallery"),e.qZA(),e.TgZ(7,"option",5),e._uU(8,"Hero Images"),e.qZA(),e.TgZ(9,"option",6),e._uU(10,"Lifestyle"),e.qZA()()(),e.TgZ(11,"div",7),e.NdJ("dragover",function(s){return n.onDragOver(s)})("dragleave",function(s){return n.onDragLeave(s)})("drop",function(s){return n.onDrop(s)}),e.YNc(12,X,2,0,"p",8),e.TgZ(13,"input",9),e.NdJ("change",function(s){return n.uploadFiles(s)}),e.qZA()(),e.YNc(14,oe,5,1,"div",8),e.YNc(15,ie,4,4,"div",10),e.ALo(16,"keyvalue"),e.qZA(),e.TgZ(17,"section",11)(18,"div",12),e._uU(19,"Explore Our Gallery"),e.qZA(),e.TgZ(20,"div",13),e.YNc(21,re,2,1,"div",14),e.qZA()(),e.YNc(22,se,1,1,"app-image-viewer-modal",15)),2&t&&(e.xp6(4),e.Q6J("ngModel",n.uploadLocation),e.xp6(8),e.Q6J("ngIf",!n.filesToUpload.length),e.xp6(2),e.Q6J("ngIf",n.filesToUpload.length>0),e.xp6(1),e.Q6J("ngForOf",e.lcZ(16,6,n.uploadedImages)),e.xp6(6),e.Q6J("ngForOf",n.images),e.xp6(1),e.Q6J("ngIf",n.selectedImageUrl))},dependencies:[p.sg,p.O5,l.YN,l.Kr,l.EJ,l.JJ,l.On,V.g,p.Ov,p.Nd],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}"]})}return i})();const le=[{path:"",component:w,canActivate:[(i,a)=>{const o=(0,e.f3M)(U.zQ),t=(0,e.f3M)(d.F0);return o.authState.pipe((0,m.U)(n=>(console.log("User:",n),console.log("Router State:",a),!!n||(t.navigate(["/login"],{queryParams:{returnUrl:a.url}}),!1))))}],children:[{path:"businessList",component:O},{path:"new",component:_},{path:"edit-business/:id",component:_},{path:"gallery-upload",component:x},{path:"edit-business/:id",component:_},{path:"gallery-upload",component:x},{path:":id",component:c(2104).O}]}];let ce=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#o=this.\u0275mod=e.oAB({type:i});static#t=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(le),d.Bz]})}return i})(),ue=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#o=this.\u0275mod=e.oAB({type:i});static#t=this.\u0275inj=e.cJS({imports:[p.ez,ce,l.u5]})}return i})()}}]);