"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(on,Xe,j)=>{j.d(Xe,{$:()=>Sa,A:()=>ue,G:()=>Qe,K:()=>Di,L:()=>de,N:()=>Ie,P:()=>ma,R:()=>Uu,U:()=>an,V:()=>Wi,W:()=>ti,X:()=>kr,Y:()=>vo,Z:()=>Fi,_:()=>oo,a:()=>pl,a0:()=>ao,a1:()=>vs,a2:()=>Zs,a3:()=>To,a4:()=>ns,a5:()=>la,a6:()=>cc,a7:()=>dl,a8:()=>Yo,a9:()=>ql,aA:()=>ar,aB:()=>Je,aC:()=>De,aD:()=>lp,aE:()=>st,aF:()=>dn,aG:()=>qh,aH:()=>Gc,aI:()=>Wh,aJ:()=>Tr,aN:()=>Fr,aQ:()=>Hs,aa:()=>Lh,ab:()=>Ou,ac:()=>dc,ad:()=>Oc,ae:()=>Ga,af:()=>hl,ag:()=>te,ah:()=>Y,ak:()=>$n,al:()=>Ei,am:()=>li,ap:()=>co,aq:()=>As,as:()=>Ka,at:()=>ha,au:()=>vn,av:()=>Ai,aw:()=>wi,ax:()=>be,ay:()=>bc,az:()=>Zo,b:()=>Ql,c:()=>Hu,d:()=>tu,e:()=>Pd,f:()=>vc,g:()=>Ea,h:()=>va,i:()=>O,j:()=>cp,k:()=>Xh,l:()=>Xa,m:()=>ru,p:()=>Fe,r:()=>ju,s:()=>pa,u:()=>$u});var o=j(467),le=j(7852),i=j(1076),Te=j(8041),pe=j(1635),Ae=j(1362);const Fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},St=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dt=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nt=new Te.Vy("@firebase/auth");function Be(T,...m){Nt.logLevel<=Te.$b.ERROR&&Nt.error(`Auth (${le.SDK_VERSION}): ${T}`,...m)}function be(T,...m){throw kt(T,...m)}function Je(T,...m){return kt(T,...m)}function We(T,m,E){const S=Object.assign(Object.assign({},St()),{[m]:E});return new i.FA("auth","Firebase",S).create(m,{appName:T.name})}function it(T){return We(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pt(T,m,E){if(!(m instanceof E))throw E.name!==m.constructor.name&&be(T,"argument-error"),We(T,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kt(T,...m){if("string"!=typeof T){const E=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=T.name),T._errorFactory.create(E,...S)}return Dt.create(T,...m)}function De(T,m,...E){if(!T)throw kt(m,...E)}function rn(T){const m="INTERNAL ASSERTION FAILED: "+T;throw Be(m),new Error(m)}function vn(T,m){T||rn(m)}function gr(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Ot(){return"http:"===$t()||"https:"===$t()}function $t(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Ne{constructor(m,E){this.shortDelay=m,this.longDelay=E,vn(E>m,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function Xt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ze(T,m){vn(T.emulator,"Emulator should always be set here");const{url:E}=T.emulator;return m?`${E}${m.startsWith("/")?m.slice(1):m}`:E}class en{static initialize(m,E,S){this.fetchImpl=m,E&&(this.headersImpl=E),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new Ne(3e4,6e4);function Ee(T,m){return T.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:T.tenantId}):m}function ke(T,m,E,S){return tt.apply(this,arguments)}function tt(){return(tt=(0,o.A)(function*(T,m,E,S,X={}){return qe(T,X,(0,o.A)(function*(){let he={},He={};S&&("GET"===m?He=S:he={body:JSON.stringify(S)});const wt=(0,i.Am)(Object.assign({key:T.config.apiKey},He)).slice(1),Wt=yield T._getAdditionalHeaders();Wt["Content-Type"]="application/json",T.languageCode&&(Wt["X-Firebase-Locale"]=T.languageCode);const On=Object.assign({method:m,headers:Wt},he);return(0,i.c1)()||(On.referrerPolicy="no-referrer"),en.fetch()(sn(T,T.config.apiHost,E,wt),On)}))})).apply(this,arguments)}function qe(T,m,E){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,o.A)(function*(T,m,E){T._canInitEmulator=!1;const S=Object.assign(Object.assign({},Ue),m);try{const X=new Qt(T),he=yield Promise.race([E(),X.promise]);X.clearNetworkTimeout();const He=yield he.json();if("needConfirmation"in He)throw Gn(T,"account-exists-with-different-credential",He);if(he.ok&&!("errorMessage"in He))return He;{const wt=he.ok?He.errorMessage:He.error.message,[Wt,On]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wt)throw Gn(T,"credential-already-in-use",He);if("EMAIL_EXISTS"===Wt)throw Gn(T,"email-already-in-use",He);if("USER_DISABLED"===Wt)throw Gn(T,"user-disabled",He);const xn=S[Wt]||Wt.toLowerCase().replace(/[_\s]+/g,"-");if(On)throw We(T,xn,On);be(T,xn)}}catch(X){if(X instanceof i.g)throw X;be(T,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function wn(T,m,E,S){return or.apply(this,arguments)}function or(){return(or=(0,o.A)(function*(T,m,E,S,X={}){const he=yield ke(T,m,E,S,X);return"mfaPendingCredential"in he&&be(T,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function sn(T,m,E,S){const X=`${m}${E}?${S}`;return T.config.emulator?Ze(T.config,X):`${T.config.apiScheme}://${X}`}function Bn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((E,S)=>{this.timer=setTimeout(()=>S(Je(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(T,m,E){const S={appName:T.name};E.email&&(S.email=E.email),E.phoneNumber&&(S.phoneNumber=E.phoneNumber);const X=Je(T,m,S);return X.customData._tokenResponse=E,X}function Fn(T){return void 0!==T&&void 0!==T.getResponse}function Kt(T){return void 0!==T&&void 0!==T.enterprise}class jt{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const E of this.recaptchaEnforcementState)if(E.provider&&E.provider===m)return Bn(E.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function un(){return(un=(0,o.A)(function*(T){return(yield ke(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lr(T,m){return er.apply(this,arguments)}function er(){return(er=(0,o.A)(function*(T,m){return ke(T,"GET","/v2/recaptchaConfig",Ee(T,m))})).apply(this,arguments)}function Tn(){return(Tn=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function An(){return(An=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Yr(T,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function si(T){if(T)try{const m=new Date(Number(T));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Ts(){return(Ts=(0,o.A)(function*(T,m=!1){const E=(0,i.Ku)(T),S=yield E.getIdToken(m),X=oi(S);De(X&&X.exp&&X.auth_time&&X.iat,E.auth,"internal-error");const he="object"==typeof X.firebase?X.firebase:void 0,He=he?.sign_in_provider;return{claims:X,token:S,authTime:si(gn(X.auth_time)),issuedAtTime:si(gn(X.iat)),expirationTime:si(gn(X.exp)),signInProvider:He||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(T){return 1e3*Number(T)}function oi(T){const[m,E,S]=T.split(".");if(void 0===m||void 0===E||void 0===S)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,i.u)(E);return X?JSON.parse(X):(Be("Failed to decode base64 JWT payload"),null)}catch(X){return Be("Caught error parsing JWT payload as JSON",X?.toString()),null}}function rr(T){const m=oi(T);return De(m,"internal-error"),De(typeof m.exp<"u","internal-error"),De(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function Dr(T,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,o.A)(function*(T,m,E=!1){if(E)return m;try{return yield m}catch(S){throw S instanceof i.g&&function Oi({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(S)&&T.auth.currentUser===T&&(yield T.auth.signOut()),S}})).apply(this,arguments)}class et{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var E;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var E=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,o.A)(function*(){yield E.iteration()}),S)}iteration(){var m=this;return(0,o.A)(function*(){try{yield m.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E?.code&&m.schedule(!0))}m.schedule()})()}}class mt{constructor(m,E){this.createdAt=m,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=si(this.lastLoginAt),this.creationTime=si(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ce(T){return xe.apply(this,arguments)}function xe(){return(xe=(0,o.A)(function*(T){var m;const E=T.auth,S=yield T.getIdToken(),X=yield Dr(T,Yr(E,{idToken:S}));De(X?.users.length,E,"internal-error");const he=X.users[0];T._notifyReloadListener(he);const He=null!==(m=he.providerUserInfo)&&void 0!==m&&m.length?Wr(he.providerUserInfo):[],wt=function Hn(T,m){return[...T.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(T.providerData,He),xn=!!T.isAnonymous&&!(T.email&&he.passwordHash||wt?.length),ri={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:wt,metadata:new mt(he.createdAt,he.lastLoginAt),isAnonymous:xn};Object.assign(T,ri)})).apply(this,arguments)}function Yt(){return(Yt=(0,o.A)(function*(T){const m=(0,i.Ku)(T);yield ce(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wr(T){return T.map(m=>{var{providerId:E}=m,S=(0,pe.Tt)(m,["providerId"]);return{providerId:E,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Pi(){return(Pi=(0,o.A)(function*(T,m){const E=yield qe(T,{},(0,o.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:he}=T.config,He=sn(T,X,"/v1/token",`key=${he}`),wt=yield T._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(He,{method:"POST",headers:wt,body:S})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}function $(){return($=(0,o.A)(function*(T,m){return ke(T,"POST","/v2/accounts:revokeToken",Ee(T,m))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){De(m.idToken,"internal-error"),De(typeof m.idToken<"u","internal-error"),De(typeof m.refreshToken<"u","internal-error");const E="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):rr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,E)}updateFromIdToken(m){De(0!==m.length,"internal-error");const E=rr(m);this.updateTokensAndExpiration(m,null,E)}getToken(m,E=!1){var S=this;return(0,o.A)(function*(){return E||!S.accessToken||S.isExpired?(De(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,E){var S=this;return(0,o.A)(function*(){const{accessToken:X,refreshToken:he,expiresIn:He}=yield function Sr(T,m){return Pi.apply(this,arguments)}(m,E);S.updateTokensAndExpiration(X,he,Number(He))})()}updateTokensAndExpiration(m,E,S){this.refreshToken=E||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,E){const{refreshToken:S,accessToken:X,expirationTime:he}=E,He=new M;return S&&(De("string"==typeof S,"internal-error",{appName:m}),He.refreshToken=S),X&&(De("string"==typeof X,"internal-error",{appName:m}),He.accessToken=X),he&&(De("number"==typeof he,"internal-error",{appName:m}),He.expirationTime=he),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return rn("not implemented")}}function k(T,m){De("string"==typeof T||typeof T>"u","internal-error",{appName:m})}class ne{constructor(m){var{uid:E,auth:S,stsTokenManager:X}=m,he=(0,pe.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new mt(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(m){var E=this;return(0,o.A)(function*(){const S=yield Dr(E,E.stsTokenManager.getToken(E.auth,m));return De(S,E.auth,"internal-error"),E.accessToken!==S&&(E.accessToken=S,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),S})()}getIdTokenResult(m){return function yi(T){return Ts.apply(this,arguments)}(this,m)}reload(){return function Et(T){return Yt.apply(this,arguments)}(this)}_assign(m){this!==m&&(De(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(E=>Object.assign({},E)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const E=new ne(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return E.metadata._copy(this.metadata),E}_onReload(m){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,E=!1){var S=this;return(0,o.A)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),E&&(yield ce(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,o.A)(function*(){if((0,le._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));const E=yield m.getIdToken();return yield Dr(m,function Ht(T,m){return Tn.apply(this,arguments)}(m.auth,{idToken:E})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,E){var S,X,he,He,wt,Wt,On,xn;const ri=null!==(S=E.displayName)&&void 0!==S?S:void 0,bo=null!==(X=E.email)&&void 0!==X?X:void 0,Ta=null!==(he=E.phoneNumber)&&void 0!==he?he:void 0,ou=null!==(He=E.photoURL)&&void 0!==He?He:void 0,Ao=null!==(wt=E.tenantId)&&void 0!==wt?wt:void 0,$d=null!==(Wt=E._redirectEventId)&&void 0!==Wt?Wt:void 0,Hd=null!==(On=E.createdAt)&&void 0!==On?On:void 0,Rg=null!==(xn=E.lastLoginAt)&&void 0!==xn?xn:void 0,{uid:pp,emailVerified:Qu,isAnonymous:gp,providerData:au,stsTokenManager:tf}=E;De(pp&&tf,m,"internal-error");const Ju=M.fromJSON(this.name,tf);De("string"==typeof pp,m,"internal-error"),k(ri,m.name),k(bo,m.name),De("boolean"==typeof Qu,m,"internal-error"),De("boolean"==typeof gp,m,"internal-error"),k(Ta,m.name),k(ou,m.name),k(Ao,m.name),k($d,m.name),k(Hd,m.name),k(Rg,m.name);const Gd=new ne({uid:pp,auth:m,email:bo,emailVerified:Qu,displayName:ri,isAnonymous:gp,photoURL:ou,phoneNumber:Ta,tenantId:Ao,stsTokenManager:Ju,createdAt:Hd,lastLoginAt:Rg});return au&&Array.isArray(au)&&(Gd.providerData=au.map(zd=>Object.assign({},zd))),$d&&(Gd._redirectEventId=$d),Gd}static _fromIdTokenResponse(m,E,S=!1){return(0,o.A)(function*(){const X=new M;X.updateFromServerResponse(E);const he=new ne({uid:E.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield ce(he),he})()}static _fromGetAccountInfoResponse(m,E,S){return(0,o.A)(function*(){const X=E.users[0];De(void 0!==X.localId,"internal-error");const he=void 0!==X.providerUserInfo?Wr(X.providerUserInfo):[],He=!(X.email&&X.passwordHash||he?.length),wt=new M;wt.updateFromIdToken(S);const Wt=new ne({uid:X.localId,auth:m,stsTokenManager:wt,isAnonymous:He}),On={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:he,metadata:new mt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||he?.length)};return Object.assign(Wt,On),Wt})()}}const me=new Map;function st(T){vn(T instanceof Function,"Expected a class definition");let m=me.get(T);return m?(vn(m instanceof T,"Instance stored in cache mismatched with class"),m):(m=new T,me.set(T,m),m)}const an=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.A)(function*(){return!0})()}_set(E,S){var X=this;return(0,o.A)(function*(){X.storage[E]=S})()}_get(E){var S=this;return(0,o.A)(function*(){const X=S.storage[E];return void 0===X?null:X})()}_remove(E){var S=this;return(0,o.A)(function*(){delete S.storage[E]})()}_addListener(E,S){}_removeListener(E,S){}}return T.type="NONE",T})();function dn(T,m,E){return`firebase:${T}:${m}:${E}`}class Sn{constructor(m,E,S){this.persistence=m,this.auth=E,this.userKey=S;const{config:X,name:he}=this.auth;this.fullUserKey=dn(this.userKey,X.apiKey,he),this.fullPersistenceKey=dn("persistence",X.apiKey,he),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.A)(function*(){const E=yield m.persistence._get(m.fullUserKey);return E?ne._fromJSON(m.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var E=this;return(0,o.A)(function*(){if(E.persistence===m)return;const S=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=m,S?E.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,E,S="authUser"){return(0,o.A)(function*(){if(!E.length)return new Sn(st(an),m,S);const X=(yield Promise.all(E.map(function(){var On=(0,o.A)(function*(xn){if(yield xn._isAvailable())return xn});return function(xn){return On.apply(this,arguments)}}()))).filter(On=>On);let he=X[0]||st(an);const He=dn(S,m.config.apiKey,m.name);let wt=null;for(const On of E)try{const xn=yield On._get(He);if(xn){const ri=ne._fromJSON(m,xn);On!==he&&(wt=ri),he=On;break}}catch{}const Wt=X.filter(On=>On._shouldAllowMigration);return he._shouldAllowMigration&&Wt.length?(he=Wt[0],wt&&(yield he._set(He,wt.toJSON())),yield Promise.all(E.map(function(){var On=(0,o.A)(function*(xn){if(xn!==he)try{yield xn._remove(He)}catch{}});return function(xn){return On.apply(this,arguments)}}())),new Sn(he,m,S)):new Sn(he,m,S)})()}}function vr(T){const m=T.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ss(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(cn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if($i(m))return"Blackberry";if(Ni(m))return"Webos";if(Br(m))return"Safari";if((m.includes("chrome/")||mr(m))&&!m.includes("edge/"))return"Chrome";if(wi(m))return"Android";{const S=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function cn(T=(0,i.ZQ)()){return/firefox\//i.test(T)}function Br(T=(0,i.ZQ)()){const m=T.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function mr(T=(0,i.ZQ)()){return/crios\//i.test(T)}function Ss(T=(0,i.ZQ)()){return/iemobile/i.test(T)}function wi(T=(0,i.ZQ)()){return/android/i.test(T)}function $i(T=(0,i.ZQ)()){return/blackberry/i.test(T)}function Ni(T=(0,i.ZQ)()){return/webos/i.test(T)}function Ai(T=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function ar(T=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function nt(T=(0,i.ZQ)()){return Ai(T)||wi(T)||Ni(T)||$i(T)||/windows phone/i.test(T)||Ss(T)}function Mt(T,m=[]){let E;switch(T){case"Browser":E=vr((0,i.ZQ)());break;case"Worker":E=`${vr((0,i.ZQ)())}-${T}`;break;default:E=T}const S=m.length?m.join(","):"FirebaseCore-web";return`${E}/JsCore/${le.SDK_VERSION}/${S}`}class ln{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,E){const S=he=>new Promise((He,wt)=>{try{He(m(he))}catch(Wt){wt(Wt)}});S.onAbort=E,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var E=this;return(0,o.A)(function*(){if(E.auth.currentUser===m)return;const S=[];try{for(const X of E.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const he of S)try{he()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function Mn(){return(Mn=(0,o.A)(function*(T,m={}){return ke(T,"GET","/v2/passwordPolicy",Ee(T,m))})).apply(this,arguments)}class $r{constructor(m){var E,S,X,he;const He=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(E=He.minPasswordLength)&&void 0!==E?E:6,He.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=He.maxPasswordLength),void 0!==He.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=He.containsLowercaseCharacter),void 0!==He.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=He.containsUppercaseCharacter),void 0!==He.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=He.containsNumericCharacter),void 0!==He.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=He.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(he=m.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=m.schemaVersion}validatePassword(m){var E,S,X,he,He,wt;const Wt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Wt),this.validatePasswordCharacterOptions(m,Wt),Wt.isValid&&(Wt.isValid=null===(E=Wt.meetsMinPasswordLength)||void 0===E||E),Wt.isValid&&(Wt.isValid=null===(S=Wt.meetsMaxPasswordLength)||void 0===S||S),Wt.isValid&&(Wt.isValid=null===(X=Wt.containsLowercaseLetter)||void 0===X||X),Wt.isValid&&(Wt.isValid=null===(he=Wt.containsUppercaseLetter)||void 0===he||he),Wt.isValid&&(Wt.isValid=null===(He=Wt.containsNumericCharacter)||void 0===He||He),Wt.isValid&&(Wt.isValid=null===(wt=Wt.containsNonAlphanumericCharacter)||void 0===wt||wt),Wt}validatePasswordLengthOptions(m,E){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(E.meetsMinPasswordLength=m.length>=S),X&&(E.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,E){let S;this.updatePasswordCharacterOptionsStatuses(E,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(E,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,E,S,X,he){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=E)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=he))}}class Xr{constructor(m,E,S,X){this.app=m,this.heartbeatServiceProvider=E,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new ln(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,E){var S=this;return E&&(this._popupRedirectResolver=st(E)),this._initializationPromise=this.queue((0,o.A)(function*(){var X,he;if(!S._deleted&&(S.persistenceManager=yield Sn.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(E),S.lastNotifiedUid=(null===(he=S.currentUser)||void 0===he?void 0:he.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.A)(function*(){if(m._deleted)return;const E=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||E){if(m.currentUser&&E&&m.currentUser.uid===E.uid)return m._currentUser._assign(E),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(E,!0)}})()}initializeCurrentUserFromIdToken(m){var E=this;return(0,o.A)(function*(){try{const S=yield Yr(E,{idToken:m}),X=yield ne._fromGetAccountInfoResponse(E,S,m);yield E.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield E.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var E=this;return(0,o.A)(function*(){var S;if((0,le._isFirebaseServerApp)(E.app)){const wt=E.app.settings.authIdToken;return wt?new Promise(Wt=>{setTimeout(()=>E.initializeCurrentUserFromIdToken(wt).then(Wt,Wt))}):E.directlySetCurrentUser(null)}const X=yield E.assertedPersistence.getCurrentUser();let he=X,He=!1;if(m&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const wt=null===(S=E.redirectUser)||void 0===S?void 0:S._redirectEventId,Wt=he?._redirectEventId,On=yield E.tryRedirectSignIn(m);(!wt||wt===Wt)&&On?.user&&(he=On.user,He=!0)}if(!he)return E.directlySetCurrentUser(null);if(!he._redirectEventId){if(He)try{yield E.beforeStateQueue.runMiddleware(he)}catch(wt){he=X,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(wt))}return he?E.reloadAndSetCurrentUserOrClear(he):E.directlySetCurrentUser(null)}return De(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===he._redirectEventId?E.directlySetCurrentUser(he):E.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(m){var E=this;return(0,o.A)(function*(){let S=null;try{S=yield E._popupRedirectResolver._completeRedirectFn(E,m,!0)}catch{yield E._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var E=this;return(0,o.A)(function*(){try{yield ce(m)}catch(S){if("auth/network-request-failed"!==S?.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var m=this;return(0,o.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var E=this;return(0,o.A)(function*(){if((0,le._isFirebaseServerApp)(E.app))return Promise.reject(it(E));const S=m?(0,i.Ku)(m):null;return S&&De(S.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(S&&S._clone(E))})()}_updateCurrentUser(m,E=!1){var S=this;return(0,o.A)(function*(){if(!S._deleted)return m&&De(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),E||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,o.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.A)(function*(){return(0,le._isFirebaseServerApp)(m.app)?Promise.reject(it(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var E=this;return(0,le._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,o.A)(function*(){yield E.assertedPersistence.setPersistence(st(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var E=this;return(0,o.A)(function*(){E._getPasswordPolicyInternal()||(yield E._updatePasswordPolicy());const S=E._getPasswordPolicyInternal();return S.schemaVersion!==E.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(E._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,o.A)(function*(){const E=yield function Ln(T){return Mn.apply(this,arguments)}(m),S=new $r(E);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new i.FA("auth","Firebase",m())}onAuthStateChanged(m,E,S){return this.registerStateListener(this.authStateSubscription,m,E,S)}beforeAuthStateChanged(m,E){return this.beforeStateQueue.pushCallback(m,E)}onIdTokenChanged(m,E,S){return this.registerStateListener(this.idTokenSubscription,m,E,S)}authStateReady(){return new Promise((m,E)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},E)}})}revokeAccessToken(m){var E=this;return(0,o.A)(function*(){if(E.currentUser){const S=yield E.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=E.tenantId&&(X.tenantId=E.tenantId),yield function bt(T,m){return $.apply(this,arguments)}(E,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,E){var S=this;return(0,o.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(E);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var E=this;return(0,o.A)(function*(){if(!E.redirectPersistenceManager){const S=m&&st(m)||E._popupRedirectResolver;De(S,E,"argument-error"),E.redirectPersistenceManager=yield Sn.create(E,[st(S._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(m){var E=this;return(0,o.A)(function*(){var S,X;return E._isInitialized&&(yield E.queue((0,o.A)(function*(){}))),(null===(S=E._currentUser)||void 0===S?void 0:S._redirectEventId)===m?E._currentUser:(null===(X=E.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?E.redirectUser:null})()}_persistUserIfCurrent(m){var E=this;return(0,o.A)(function*(){if(m===E.currentUser)return E.queue((0,o.A)(function*(){return E.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(E=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,E,S,X){if(this._deleted)return()=>{};const he="function"==typeof E?E:E.next.bind(E);let He=!1;const wt=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(wt,this,"internal-error"),wt.then(()=>{He||he(this.currentUser)}),"function"==typeof E){const Wt=m.addObserver(E,S,X);return()=>{He=!0,Wt()}}{const Wt=m.addObserver(E);return()=>{He=!0,Wt()}}}directlySetCurrentUser(m){var E=this;return(0,o.A)(function*(){E.currentUser&&E.currentUser!==m&&E._currentUser._stopProactiveRefresh(),m&&E.isProactiveRefreshEnabled&&m._startProactiveRefresh(),E.currentUser=m,m?yield E.assertedPersistence.setCurrentUser(m):yield E.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Mt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.A)(function*(){var E;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(E=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const he=yield m._getAppCheckToken();return he&&(S["X-Firebase-AppCheck"]=he),S})()}_getAppCheckToken(){var m=this;return(0,o.A)(function*(){var E;const S=yield null===(E=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getToken();return S?.error&&function pn(T,...m){Nt.logLevel<=Te.$b.WARN&&Nt.warn(`Auth (${le.SDK_VERSION}): ${T}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Tr(T){return(0,i.Ku)(T)}class Yi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,i.tD)(E=>this.observer=E)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ws={loadJS:()=>(0,o.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function go(T){return ws.loadJS(T)}function ii(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Qr{constructor(m){this.type="recaptcha-enterprise",this.auth=Tr(m)}verify(m="verify",E=!1){var S=this;return(0,o.A)(function*(){function he(){return he=(0,o.A)(function*(wt){if(!E){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var Wt=(0,o.A)(function*(On,xn){Lr(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ri=>{if(void 0!==ri.recaptchaKey){const bo=new jt(ri);return null==wt.tenantId?wt._agentRecaptchaConfig=bo:wt._tenantRecaptchaConfigs[wt.tenantId]=bo,On(bo.siteKey)}xn(new Error("recaptcha Enterprise site key undefined"))}).catch(ri=>{xn(ri)})});return function(On,xn){return Wt.apply(this,arguments)}}())}),he.apply(this,arguments)}function He(wt,Wt,On){const xn=window.grecaptcha;Kt(xn)?xn.enterprise.ready(()=>{xn.enterprise.execute(wt,{action:m}).then(ri=>{Wt(ri)}).catch(()=>{Wt("NO_RECAPTCHA")})}):On(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((wt,Wt)=>{(function X(wt){return he.apply(this,arguments)})(S.auth).then(On=>{if(!E&&Kt(window.grecaptcha))He(On,wt,Wt);else{if(typeof window>"u")return void Wt(new Error("RecaptchaVerifier is only supported in browser"));let xn=function Ui(){return ws.recaptchaEnterpriseScript}();0!==xn.length&&(xn+=On),go(xn).then(()=>{He(On,wt,Wt)}).catch(ri=>{Wt(ri)})}}).catch(On=>{Wt(On)})})})()}}function ji(T,m,E){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.A)(function*(T,m,E,S=!1){const X=new Qr(T);let he;try{he=yield X.verify(E)}catch{he=yield X.verify(E,!0)}const He=Object.assign({},m);return Object.assign(He,S?{captchaResp:he}:{captchaResponse:he}),Object.assign(He,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(He,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),He})).apply(this,arguments)}function wr(T,m,E,S){return Js.apply(this,arguments)}function Js(){return Js=(0,o.A)(function*(T,m,E,S){var X;if(null!==(X=T._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const he=yield ji(T,m,E,"getOobCode"===E);return S(T,he)}return S(T,m).catch(function(){var he=(0,o.A)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log(`${E} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const wt=yield ji(T,m,E,"getOobCode"===E);return S(T,wt)}return Promise.reject(He)});return function(He){return he.apply(this,arguments)}}())}),Js.apply(this,arguments)}function Di(T,m,E){const S=Tr(T);De(S._canInitEmulator,S,"emulator-config-failed"),De(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!!E?.disableWarnings,he=zo(m),{host:He,port:wt}=function ms(T){const m=zo(T),E=/(\/\/)?([^?#/]+)/.exec(T.substr(m.length));if(!E)return{host:"",port:null};const S=E[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const he=X[1];return{host:he,port:fe(S.substr(he.length+1))}}{const[he,He]=S.split(":");return{host:he,port:fe(He)}}}(m);S.config.emulator={url:`${he}//${He}${null===wt?"":`:${wt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:He,port:wt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Rt(){function T(){const m=document.createElement("p"),E=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function zo(T){const m=T.indexOf(":");return m<0?"":T.substr(0,m+1)}function fe(T){if(!T)return null;const m=Number(T);return isNaN(m)?null:m}class de{constructor(m,E){this.providerId=m,this.signInMethod=E}toJSON(){return rn("not implemented")}_getIdTokenResponse(m){return rn("not implemented")}_linkToIdToken(m,E){return rn("not implemented")}_getReauthenticationResolver(m){return rn("not implemented")}}function ot(T,m){return rt.apply(this,arguments)}function rt(){return(rt=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:resetPassword",Ee(T,m))})).apply(this,arguments)}function cr(){return(cr=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ci(T,m){return as.apply(this,arguments)}function as(){return(as=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function cs(){return(cs=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:update",Ee(T,m))})).apply(this,arguments)}function yo(T,m){return es.apply(this,arguments)}function es(){return(es=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithPassword",Ee(T,m))})).apply(this,arguments)}function xs(T,m){return $s.apply(this,arguments)}function $s(){return($s=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:sendOobCode",Ee(T,m))})).apply(this,arguments)}function _n(){return(_n=(0,o.A)(function*(T,m){return xs(T,m)})).apply(this,arguments)}function lr(T,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.A)(function*(T,m){return xs(T,m)})).apply(this,arguments)}function fi(T,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,o.A)(function*(T,m){return xs(T,m)})).apply(this,arguments)}function Ms(){return(Ms=(0,o.A)(function*(T,m){return xs(T,m)})).apply(this,arguments)}function Bi(){return(Bi=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithEmailLink",Ee(T,m))})).apply(this,arguments)}function tr(){return(tr=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithEmailLink",Ee(T,m))})).apply(this,arguments)}class ls extends de{constructor(m,E,S,X=null){super("password",S),this._email=m,this._password=E,this._tenantId=X}static _fromEmailAndPassword(m,E){return new ls(m,E,"password")}static _fromEmailAndCode(m,E,S=null){return new ls(m,E,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(m){var E=this;return(0,o.A)(function*(){switch(E.signInMethod){case"password":return wr(m,{returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yo);case"emailLink":return function Gr(T,m){return Bi.apply(this,arguments)}(m,{email:E._email,oobCode:E._password});default:be(m,"internal-error")}})()}_linkToIdToken(m,E){var S=this;return(0,o.A)(function*(){switch(S.signInMethod){case"password":return wr(m,{idToken:E,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ci);case"emailLink":return function ts(T,m){return tr.apply(this,arguments)}(m,{idToken:E,email:S._email,oobCode:S._password});default:be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function us(T,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithIdp",Ee(T,m))})).apply(this,arguments)}class Ie extends de{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const E=new Ie(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(E.idToken=m.idToken),m.accessToken&&(E.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(E.nonce=m.nonce),m.pendingToken&&(E.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(E.accessToken=m.oauthToken,E.secret=m.oauthTokenSecret):be("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=E,he=(0,pe.Tt)(E,["providerId","signInMethod"]);if(!S||!X)return null;const He=new Ie(S,X);return He.idToken=he.idToken||void 0,He.accessToken=he.accessToken||void 0,He.secret=he.secret,He.nonce=he.nonce,He.pendingToken=he.pendingToken||null,He}_getIdTokenResponse(m){return us(m,this.buildRequest())}_linkToIdToken(m,E){const S=this.buildRequest();return S.idToken=E,us(m,S)}_getReauthenticationResolver(m){const E=this.buildRequest();return E.autoCreate=!1,us(m,E)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),m.postBody=(0,i.Am)(E)}return m}}function Ye(){return(Ye=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:sendVerificationCode",Ee(T,m))})).apply(this,arguments)}function Jt(){return(Jt=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,m))})).apply(this,arguments)}function En(){return(En=(0,o.A)(function*(T,m){const E=yield wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,m));if(E.temporaryProof)throw Gn(T,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Zn={USER_NOT_FOUND:"user-not-found"};function Un(){return(Un=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ee(T,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Zn)})).apply(this,arguments)}class jn extends de{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,E){return new jn({verificationId:m,verificationCode:E})}static _fromTokenResponse(m,E){return new jn({phoneNumber:m,temporaryProof:E})}_getIdTokenResponse(m){return function _t(T,m){return Jt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,E){return function Pn(T,m){return En.apply(this,arguments)}(m,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function xr(T,m){return Un.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:E,verificationId:S,verificationCode:X}=this.params;return m&&E?{temporaryProof:m,phoneNumber:E}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:E,verificationCode:S,phoneNumber:X,temporaryProof:he}=m;return S||E||X||he?new jn({verificationId:E,verificationCode:S,phoneNumber:X,temporaryProof:he}):null}}class Ur{constructor(m){var E,S,X,he,He,wt;const Wt=(0,i.I9)((0,i.hp)(m)),On=null!==(E=Wt.apiKey)&&void 0!==E?E:null,xn=null!==(S=Wt.oobCode)&&void 0!==S?S:null,ri=function qn(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Wt.mode)&&void 0!==X?X:null);De(On&&xn&&ri,"argument-error"),this.apiKey=On,this.operation=ri,this.code=xn,this.continueUrl=null!==(he=Wt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(He=Wt.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(wt=Wt.tenantId)&&void 0!==wt?wt:null}static parseLink(m){const E=function Mr(T){const m=(0,i.I9)((0,i.hp)(T)).link,E=m?(0,i.I9)((0,i.hp)(m)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(T)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||E||m||T}(m);try{return new Ur(E)}catch{return null}}}let Wi=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(E,S){return ls._fromEmailAndPassword(E,S)}static credentialWithLink(E,S){const X=Ur.parseLink(S);return De(X,"argument-error"),ls._fromEmailAndCode(E,X.code,X.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class ki{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Nr extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Fi extends Nr{static credentialFromJSON(m){const E="string"==typeof m?JSON.parse(m):m;return De("providerId"in E&&"signInMethod"in E,"argument-error"),Ie._fromParams(E)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return De(m.idToken||m.accessToken,"argument-error"),Ie._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Fi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Fi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:he,nonce:He,providerId:wt}=m;if(!S&&!X&&!E&&!he||!wt)return null;try{return new Fi(wt)._credential({idToken:E,accessToken:S,nonce:He,pendingToken:he})}catch{return null}}}let ti=(()=>{class T extends Nr{constructor(){super("facebook.com")}static credential(E){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return T.credential(E.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),kr=(()=>{class T extends Nr{constructor(){super("google.com"),this.addScope("profile")}static credential(E,S){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:S})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:S,oauthAccessToken:X}=E;if(!S&&!X)return null;try{return T.credential(S,X)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),vo=(()=>{class T extends Nr{constructor(){super("github.com")}static credential(E){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return T.credential(E.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Hs extends de{constructor(m,E){super(m,m),this.pendingToken=E}_getIdTokenResponse(m){return us(m,this.buildRequest())}_linkToIdToken(m,E){const S=this.buildRequest();return S.idToken=E,us(m,S)}_getReauthenticationResolver(m){const E=this.buildRequest();return E.autoCreate=!1,us(m,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const E="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:he}=E;return S&&X&&he&&S===X?new Hs(S,he):null}static _create(m,E){return new Hs(m,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oo extends ki{constructor(m){De(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return oo.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return oo.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const E=Hs.fromJSON(m);return De(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:E,providerId:S}=m;if(!E||!S)return null;try{return Hs._create(S,E)}catch{return null}}}let Sa=(()=>{class T extends Nr{constructor(){super("twitter.com")}static credential(E,S){return Ie._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:S})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=E;if(!S||!X)return null;try{return T.credential(S,X)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function ca(T,m){return No.apply(this,arguments)}function No(){return(No=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signUp",Ee(T,m))})).apply(this,arguments)}class Gs{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,E,S,X=!1){return(0,o.A)(function*(){const he=yield ne._fromIdTokenResponse(m,S,X),He=Ki(S);return new Gs({user:he,providerId:He,_tokenResponse:S,operationType:E})})()}static _forOperation(m,E,S){return(0,o.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=Ki(S);return new Gs({user:m,providerId:X,_tokenResponse:S,operationType:E})})()}}function Ki(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function ao(T){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.A)(function*(T){var m;if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const E=Tr(T);if(yield E._initializationPromise,null!==(m=E.currentUser)&&void 0!==m&&m.isAnonymous)return new Gs({user:E.currentUser,providerId:null,operationType:"signIn"});const S=yield ca(E,{returnSecureToken:!0}),X=yield Gs._fromIdTokenResponse(E,"signIn",S,!0);return yield E._updateCurrentUser(X.user),X})).apply(this,arguments)}class ja extends i.g{constructor(m,E,S,X){var he;super(E.code,E.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,ja.prototype),this.customData={appName:m.name,tenantId:null!==(he=m.tenantId)&&void 0!==he?he:void 0,_serverResponse:E.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,E,S,X){return new ja(m,E,S,X)}}function pi(T,m,E,S){return("reauthenticate"===m?E._getReauthenticationResolver(T):E._getIdTokenResponse(T)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?ja._fromErrorAndOperation(T,he,m,S):he})}function Wo(T){return new Set(T.map(({providerId:m})=>m).filter(m=>!!m))}function co(T,m){return W.apply(this,arguments)}function W(){return W=(0,o.A)(function*(T,m){const E=(0,i.Ku)(T);yield ae(!0,E,m);const{providerUserInfo:S}=yield function Wn(T,m){return An.apply(this,arguments)}(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[m]}),X=Wo(S||[]);return E.providerData=E.providerData.filter(he=>X.has(he.providerId)),X.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E}),W.apply(this,arguments)}function J(T,m){return L.apply(this,arguments)}function L(){return(L=(0,o.A)(function*(T,m,E=!1){const S=yield Dr(T,m._linkToIdToken(T.auth,yield T.getIdToken()),E);return Gs._forOperation(T,"link",S)})).apply(this,arguments)}function ae(T,m,E){return Le.apply(this,arguments)}function Le(){return(Le=(0,o.A)(function*(T,m,E){yield ce(m);const X=!1===T?"provider-already-linked":"no-such-provider";De(Wo(m.providerData).has(E)===T,m.auth,X)})).apply(this,arguments)}function yn(T,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,o.A)(function*(T,m,E=!1){const{auth:S}=T;if((0,le._isFirebaseServerApp)(S.app))return Promise.reject(it(S));const X="reauthenticate";try{const he=yield Dr(T,pi(S,X,m,T),E);De(he.idToken,S,"internal-error");const He=oi(he.idToken);De(He,S,"internal-error");const{sub:wt}=He;return De(T.uid===wt,S,"user-mismatch"),Gs._forOperation(T,X,he)}catch(he){throw"auth/user-not-found"===he?.code&&be(S,"user-mismatch"),he}})).apply(this,arguments)}function _s(T,m){return ys.apply(this,arguments)}function ys(){return(ys=(0,o.A)(function*(T,m,E=!1){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S="signIn",X=yield pi(T,S,m),he=yield Gs._fromIdTokenResponse(T,S,X);return E||(yield T._updateCurrentUser(he.user)),he})).apply(this,arguments)}function vs(T,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,o.A)(function*(T,m){return _s(Tr(T),m)})).apply(this,arguments)}function Zs(T,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,o.A)(function*(T,m){const E=(0,i.Ku)(T);return yield ae(!1,E,m.providerId),J(E,m)})).apply(this,arguments)}function To(T,m){return ac.apply(this,arguments)}function ac(){return(ac=(0,o.A)(function*(T,m){return yn((0,i.Ku)(T),m)})).apply(this,arguments)}function Ko(){return(Ko=(0,o.A)(function*(T,m){return wn(T,"POST","/v1/accounts:signInWithCustomToken",Ee(T,m))})).apply(this,arguments)}function ns(T,m){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,o.A)(function*(T,m){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const E=Tr(T),S=yield function Rs(T,m){return Ko.apply(this,arguments)}(E,{token:m,returnSecureToken:!0}),X=yield Gs._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(X.user),X}),Ba.apply(this,arguments)}class bs{constructor(m,E){this.factorId=m,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(m,E){return"phoneInfo"in E?$a._fromServerResponse(m,E):"totpInfo"in E?eo._fromServerResponse(m,E):be(m,"internal-error")}}class $a extends bs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,E){return new $a(E)}}class eo extends bs{constructor(m){super("totp",m)}static _fromServerResponse(m,E){return new eo(E)}}function qo(T,m,E){var S;De((null===(S=E.url)||void 0===S?void 0:S.length)>0,T,"invalid-continue-uri"),De(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),m.continueUrl=E.url,m.dynamicLinkDomain=E.dynamicLinkDomain,m.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(De(E.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),m.iOSBundleId=E.iOS.bundleId),E.android&&(De(E.android.packageName.length>0,T,"missing-android-pkg-name"),m.androidInstallApp=E.android.installApp,m.androidMinimumVersionCode=E.android.minimumVersion,m.androidPackageName=E.android.packageName)}function Os(T){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,o.A)(function*(T){const m=Tr(T);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function la(T,m,E){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,o.A)(function*(T,m,E){const S=Tr(T),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};E&&qo(S,X,E),yield wr(S,X,"getOobCode",lr)})).apply(this,arguments)}function cc(T,m,E){return _r.apply(this,arguments)}function _r(){return _r=(0,o.A)(function*(T,m,E){yield ot((0,i.Ku)(T),{oobCode:m,newPassword:E}).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Os(T),X});return function(X){return S.apply(this,arguments)}}())}),_r.apply(this,arguments)}function dl(T,m){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,o.A)(function*(T,m){yield function ei(T,m){return cs.apply(this,arguments)}((0,i.Ku)(T),{oobCode:m})}),Eo.apply(this,arguments)}function Yo(T,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,o.A)(function*(T,m){const E=(0,i.Ku)(T),S=yield ot(E,{oobCode:m}),X=S.requestType;switch(De(X,E,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(S.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(S.mfaInfo,E,"internal-error");default:De(S.email,E,"internal-error")}let he=null;return S.mfaInfo&&(he=bs._fromServerResponse(Tr(E),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:he},operation:X}})).apply(this,arguments)}function ql(T,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,o.A)(function*(T,m){const{data:E}=yield Yo((0,i.Ku)(T),m);return E.email})).apply(this,arguments)}function Lh(T,m,E){return uc.apply(this,arguments)}function uc(){return(uc=(0,o.A)(function*(T,m,E){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T),He=yield wr(S,{returnSecureToken:!0,email:m,password:E,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ca).catch(Wt=>{throw"auth/password-does-not-meet-requirements"===Wt.code&&Os(T),Wt}),wt=yield Gs._fromIdTokenResponse(S,"signIn",He);return yield S._updateCurrentUser(wt.user),wt})).apply(this,arguments)}function Ou(T,m,E){return(0,le._isFirebaseServerApp)(T.app)?Promise.reject(it(T)):vs((0,i.Ku)(T),Wi.credential(m,E)).catch(function(){var S=(0,o.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Os(T),X});return function(X){return S.apply(this,arguments)}}())}function dc(T,m,E){return ko.apply(this,arguments)}function ko(){return(ko=(0,o.A)(function*(T,m,E){const S=Tr(T),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function he(He,wt){De(wt.handleCodeInApp,S,"argument-error"),wt&&qo(S,He,wt)})(X,E),yield wr(S,X,"getOobCode",fi)})).apply(this,arguments)}function Oc(T,m){const E=Ur.parseLink(m);return"EMAIL_SIGNIN"===E?.operation}function Ga(T,m,E){return za.apply(this,arguments)}function za(){return(za=(0,o.A)(function*(T,m,E){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=(0,i.Ku)(T),X=Wi.credentialWithLink(m,E||gr());return De(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),vs(S,X)})).apply(this,arguments)}function fc(){return(fc=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:createAuthUri",Ee(T,m))})).apply(this,arguments)}function hl(T,m){return x.apply(this,arguments)}function x(){return x=(0,o.A)(function*(T,m){const S={identifier:m,continueUri:Ot()?gr():"http://localhost"},{signinMethods:X}=yield function hc(T,m){return fc.apply(this,arguments)}((0,i.Ku)(T),S);return X||[]}),x.apply(this,arguments)}function te(T,m){return B.apply(this,arguments)}function B(){return B=(0,o.A)(function*(T,m){const E=(0,i.Ku)(T),X={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};m&&qo(E.auth,X,m);const{email:he}=yield function hi(T,m){return _n.apply(this,arguments)}(E.auth,X);he!==T.email&&(yield T.reload())}),B.apply(this,arguments)}function Y(T,m,E){return Se.apply(this,arguments)}function Se(){return Se=(0,o.A)(function*(T,m,E){const S=(0,i.Ku)(T),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:m};E&&qo(S.auth,he,E);const{email:He}=yield function Hr(T,m){return Ms.apply(this,arguments)}(S.auth,he);He!==T.email&&(yield T.reload())}),Se.apply(this,arguments)}function Lt(){return(Lt=(0,o.A)(function*(T,m){return ke(T,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function $n(T,m){return ni.apply(this,arguments)}function ni(){return ni=(0,o.A)(function*(T,{displayName:m,photoURL:E}){if(void 0===m&&void 0===E)return;const S=(0,i.Ku)(T),he={idToken:yield S.getIdToken(),displayName:m,photoUrl:E,returnSecureToken:!0},He=yield Dr(S,function Tt(T,m){return Lt.apply(this,arguments)}(S.auth,he));S.displayName=He.displayName||null,S.photoURL=He.photoUrl||null;const wt=S.providerData.find(({providerId:Wt})=>"password"===Wt);wt&&(wt.displayName=S.displayName,wt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(He)}),ni.apply(this,arguments)}function Ei(T,m){const E=(0,i.Ku)(T);return(0,le._isFirebaseServerApp)(E.auth.app)?Promise.reject(it(E.auth)):Er(E,m,null)}function li(T,m){return Er((0,i.Ku)(T),null,m)}function Er(T,m,E){return gi.apply(this,arguments)}function gi(){return gi=(0,o.A)(function*(T,m,E){const{auth:S}=T,he={idToken:yield T.getIdToken(),returnSecureToken:!0};m&&(he.email=m),E&&(he.password=E);const He=yield Dr(T,function kn(T,m){return cr.apply(this,arguments)}(S,he));yield T._updateTokensIfNecessary(He,!0)}),gi.apply(this,arguments)}class Ri{constructor(m,E,S={}){this.isNewUser=m,this.providerId=E,this.profile=S}}class zs extends Ri{constructor(m,E,S,X){super(m,E,S),this.username=X}}class Fs extends Ri{constructor(m,E){super(m,"facebook.com",E)}}class ua extends zs{constructor(m,E){super(m,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class Ns extends Ri{constructor(m,E){super(m,"google.com",E)}}class Qo extends zs{constructor(m,E,S){super(m,"twitter.com",E,S)}}function As(T){const{user:m,_tokenResponse:E}=T;return m.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function xi(T){var m,E;if(!T)return null;const{providerId:S}=T,X=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},he=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!S&&T?.idToken){const He=null===(E=null===(m=oi(T.idToken))||void 0===m?void 0:m.firebase)||void 0===E?void 0:E.sign_in_provider;if(He)return new Ri(he,"anonymous"!==He&&"custom"!==He?He:null)}if(!S)return null;switch(S){case"facebook.com":return new Fs(he,X);case"github.com":return new ua(he,X);case"google.com":return new Ns(he,X);case"twitter.com":return new Qo(he,X,T.screenName||null);case"custom":case"anonymous":return new Ri(he,null);default:return new Ri(he,S,X)}}(E)}class qi{constructor(m,E,S){this.type=m,this.credential=E,this.user=S}static _fromIdtoken(m,E){return new qi("enroll",m,E)}static _fromMfaPendingCredential(m){return new qi("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var E,S;if(m?.multiFactorSession){if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.pendingCredential)return qi._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return qi._fromIdtoken(m.multiFactorSession.idToken)}return null}}class xa{constructor(m,E,S){this.session=m,this.hints=E,this.signInResolver=S}static _fromError(m,E){const S=Tr(m),X=E.customData._serverResponse,he=(X.mfaInfo||[]).map(wt=>bs._fromServerResponse(S,wt));De(X.mfaPendingCredential,S,"internal-error");const He=qi._fromMfaPendingCredential(X.mfaPendingCredential);return new xa(He,he,function(){var wt=(0,o.A)(function*(Wt){const On=yield Wt._process(S,He);delete X.mfaInfo,delete X.mfaPendingCredential;const xn=Object.assign(Object.assign({},X),{idToken:On.idToken,refreshToken:On.refreshToken});switch(E.operationType){case"signIn":const ri=yield Gs._fromIdTokenResponse(S,E.operationType,xn);return yield S._updateCurrentUser(ri.user),ri;case"reauthenticate":return De(E.user,S,"internal-error"),Gs._forOperation(E.user,E.operationType,xn);default:be(S,"internal-error")}});return function(Wt){return wt.apply(this,arguments)}}())}resolveSignIn(m){var E=this;return(0,o.A)(function*(){return E.signInResolver(m)})()}}function Ka(T,m){var E;const S=(0,i.Ku)(T),X=m;return De(m.customData.operationType,S,"argument-error"),De(null===(E=X.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,S,"argument-error"),xa._fromError(S,X)}class uo{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(S=>bs._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new uo(m)}getSession(){var m=this;return(0,o.A)(function*(){return qi._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,E){var S=this;return(0,o.A)(function*(){const X=m,he=yield S.getSession(),He=yield Dr(S.user,X._process(S.user.auth,he,E));return yield S.user._updateTokensIfNecessary(He),S.user.reload()})()}unenroll(m){var E=this;return(0,o.A)(function*(){const S="string"==typeof m?m:m.uid,X=yield E.user.getIdToken();try{const he=yield Dr(E.user,function Yn(T,m){return ke(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(T,m))}(E.user.auth,{idToken:X,mfaEnrollmentId:S}));E.enrolledFactors=E.enrolledFactors.filter(({uid:He})=>He!==S),yield E.user._updateTokensIfNecessary(he),yield E.user.reload()}catch(he){throw he}})()}}const no=new WeakMap;function ha(T){const m=(0,i.Ku)(T);return no.has(m)||no.set(m,uo._fromUser(m)),no.get(m)}const kc="__sak";class Uh{constructor(m,E){this.storageRetriever=m,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,E){return this.storage.setItem(m,JSON.stringify(E)),Promise.resolve()}_get(m){const E=this.storage.getItem(m);return Promise.resolve(E?JSON.parse(E):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ql=(()=>{class T extends Uh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,S)=>this.onStorageEvent(E,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nt(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),he=this.localCache[S];X!==he&&E(S,he,X)}}onStorageEvent(E,S=!1){if(!E.key)return void this.forAllChangedKeys((wt,Wt,On)=>{this.notifyListeners(wt,On)});const X=E.key;S?this.detachListener():this.stopPolling();const he=()=>{const wt=this.storage.getItem(X);!S&&this.localCache[X]===wt||this.notifyListeners(X,wt)},He=this.storage.getItem(X);!function Ct(){return(0,i.lT)()&&10===document.documentMode}()||He===E.newValue||E.newValue===E.oldValue?he():setTimeout(he,10)}notifyListeners(E,S){this.localCache[E]=S;const X=this.listeners[E];if(X)for(const he of Array.from(X))he(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(S)}_removeListener(E,S){this.listeners[E]&&(this.listeners[E].delete(S),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,S){var X=()=>super._set,he=this;return(0,o.A)(function*(){yield X().call(he,E,S),he.localCache[E]=JSON.stringify(S)})()}_get(E){var S=()=>super._get,X=this;return(0,o.A)(function*(){const he=yield S().call(X,E);return X.localCache[E]=JSON.stringify(he),he})()}_remove(E){var S=()=>super._remove,X=this;return(0,o.A)(function*(){yield S().call(X,E),delete X.localCache[E]})()}}return T.type="LOCAL",T})(),pl=(()=>{class T extends Uh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,S){}_removeListener(E,S){}}return T.type="SESSION",T})();let qt=(()=>{class T{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const S=this.receivers.find(he=>he.isListeningto(E));if(S)return S;const X=new T(E);return this.receivers.push(X),X}isListeningto(E){return this.eventTarget===E}handleEvent(E){var S=this;return(0,o.A)(function*(){const X=E,{eventId:he,eventType:He,data:wt}=X.data,Wt=S.handlersMap[He];if(!Wt?.size)return;X.ports[0].postMessage({status:"ack",eventId:he,eventType:He});const On=Array.from(Wt).map(function(){var ri=(0,o.A)(function*(bo){return bo(X.origin,wt)});return function(bo){return ri.apply(this,arguments)}}()),xn=yield function Jl(T){return Promise.all(T.map(function(){var m=(0,o.A)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(S){return{fulfilled:!1,reason:S}}});return function(E){return m.apply(this,arguments)}}()))}(On);X.ports[0].postMessage({status:"done",eventId:he,eventType:He,response:xn})})()}_subscribe(E,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(S)}_unsubscribe(E,S){this.handlersMap[E]&&S&&this.handlersMap[E].delete(S),(!S||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Fr(T="",m=10){let E="";for(let S=0;S<m;S++)E+=Math.floor(10*Math.random());return T+E}class Jo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,E,S=50){var X=this;return(0,o.A)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let He,wt;return new Promise((Wt,On)=>{const xn=Fr("",20);he.port1.start();const ri=setTimeout(()=>{On(new Error("unsupported_event"))},S);wt={messageChannel:he,onMessage(bo){const Ta=bo;if(Ta.data.eventId===xn)switch(Ta.data.status){case"ack":clearTimeout(ri),He=setTimeout(()=>{On(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),Wt(Ta.data.response);break;default:clearTimeout(ri),clearTimeout(He),On(new Error("invalid_response"))}}},X.handlers.add(wt),he.port1.addEventListener("message",wt.onMessage),X.target.postMessage({eventType:m,eventId:xn,data:E},[he.port2])}).finally(()=>{wt&&X.removeMessageHandler(wt)})})()}}function ds(){return window}function Fc(){return typeof ds().WorkerGlobalScope<"u"&&"function"==typeof ds().importScripts}function Fo(){return(Fo=(0,o.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zl="firebaseLocalStorageDb",Ma="firebaseLocalStorage",Ji="fbase_key";class Ls{constructor(m){this.request=m}toPromise(){return new Promise((m,E)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Ya(T,m){return T.transaction([Ma],m?"readwrite":"readonly").objectStore(Ma)}function ho(){const T=indexedDB.open(Zl,1);return new Promise((m,E)=>{T.addEventListener("error",()=>{E(T.error)}),T.addEventListener("upgradeneeded",()=>{const S=T.result;try{S.createObjectStore(Ma,{keyPath:Ji})}catch(X){E(X)}}),T.addEventListener("success",(0,o.A)(function*(){const S=T.result;S.objectStoreNames.contains(Ma)?m(S):(S.close(),yield function Ws(){const T=indexedDB.deleteDatabase(Zl);return new Ls(T).toPromise()}(),m(yield ho()))}))})}function ir(T,m,E){return pc.apply(this,arguments)}function pc(){return(pc=(0,o.A)(function*(T,m,E){const S=Ya(T,!0).put({[Ji]:m,value:E});return new Ls(S).toPromise()})).apply(this,arguments)}function jh(){return(jh=(0,o.A)(function*(T,m){const E=Ya(T,!1).get(m),S=yield new Ls(E).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function eu(T,m){const E=Ya(T,!0).delete(m);return new Ls(E).toPromise()}const O=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,o.A)(function*(){return E.db||(E.db=yield ho()),E.db})()}_withRetries(E){var S=this;return(0,o.A)(function*(){let X=0;for(;;)try{const he=yield S._openDb();return yield E(he)}catch(he){if(X++>3)throw he;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,o.A)(function*(){return Fc()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,o.A)(function*(){E.receiver=qt._getInstance(function tn(){return Fc()?self:null}()),E.receiver._subscribe("keyChanged",function(){var S=(0,o.A)(function*(X,he){return{keyProcessed:(yield E._poll()).includes(he.key)}});return function(X,he){return S.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var S=(0,o.A)(function*(X,he){return["keyChanged"]});return function(X,he){return S.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,o.A)(function*(){var S,X;if(E.activeServiceWorker=yield function qa(){return Fo.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Jo(E.activeServiceWorker);const he=yield E.sender._send("ping",{},800);he&&null!==(S=he[0])&&void 0!==S&&S.fulfilled&&null!==(X=he[0])&&void 0!==X&&X.value.includes("keyChanged")&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var S=this;return(0,o.A)(function*(){if(S.sender&&S.activeServiceWorker&&function Vc(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:E},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.A)(function*(){try{if(!indexedDB)return!1;const E=yield ho();return yield ir(E,kc,"1"),yield eu(E,kc),!0}catch{}return!1})()}_withPendingWrite(E){var S=this;return(0,o.A)(function*(){S.pendingWrites++;try{yield E()}finally{S.pendingWrites--}})()}_set(E,S){var X=this;return(0,o.A)(function*(){return X._withPendingWrite((0,o.A)(function*(){return yield X._withRetries(he=>ir(he,E,S)),X.localCache[E]=S,X.notifyServiceWorker(E)}))})()}_get(E){var S=this;return(0,o.A)(function*(){const X=yield S._withRetries(he=>function ip(T,m){return jh.apply(this,arguments)}(he,E));return S.localCache[E]=X,X})()}_remove(E){var S=this;return(0,o.A)(function*(){return S._withPendingWrite((0,o.A)(function*(){return yield S._withRetries(X=>eu(X,E)),delete S.localCache[E],S.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,o.A)(function*(){const S=yield E._withRetries(He=>{const wt=Ya(He,!1).getAll();return new Ls(wt).toPromise()});if(!S)return[];if(0!==E.pendingWrites)return[];const X=[],he=new Set;if(0!==S.length)for(const{fbase_key:He,value:wt}of S)he.add(He),JSON.stringify(E.localCache[He])!==JSON.stringify(wt)&&(E.notifyListeners(He,wt),X.push(He));for(const He of Object.keys(E.localCache))E.localCache[He]&&!he.has(He)&&(E.notifyListeners(He,null),X.push(He));return X})()}notifyListeners(E,S){this.localCache[E]=S;const X=this.listeners[E];if(X)for(const he of Array.from(X))he(S)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,o.A)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(S)}_removeListener(E,S){this.listeners[E]&&(this.listeners[E].delete(S),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),vt=1e12;class ft{constructor(m){this.auth=m,this.counter=vt,this._widgets=new Map}render(m,E){const S=this.counter;return this._widgets.set(S,new In(m,this.auth.name,E||{})),this.counter++,S}reset(m){var E;const S=m||vt;null===(E=this._widgets.get(S))||void 0===E||E.delete(),this._widgets.delete(S)}getResponse(m){var E;return(null===(E=this._widgets.get(m||vt))||void 0===E?void 0:E.getResponse())||""}execute(m){var E=this;return(0,o.A)(function*(){var S;return null===(S=E._widgets.get(m||vt))||void 0===S||S.execute(),""})()}}class In{constructor(m,E,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;De(X,"argument-error",{appName:E}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(T){const m=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<T;S++)m.push(E.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":E}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ar=ii("rcb"),Pr=new Ne(3e4,6e4);class bi{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=ds().grecaptcha)||void 0===m||!m.render)}load(m,E=""){return De(function gc(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(E),m,"argument-error"),this.shouldResolveImmediately(E)&&Fn(ds().grecaptcha)?Promise.resolve(ds().grecaptcha):new Promise((S,X)=>{const he=ds().setTimeout(()=>{X(Je(m,"network-request-failed"))},Pr.get());ds()[Ar]=()=>{ds().clearTimeout(he),delete ds()[Ar];const wt=ds().grecaptcha;if(!wt||!Fn(wt))return void X(Je(m,"internal-error"));const Wt=wt.render;wt.render=(On,xn)=>{const ri=Wt(On,xn);return this.counter++,ri},this.hostLanguage=E,S(wt)},go(`${function mo(){return ws.recaptchaV2Script}()}?${(0,i.Am)({onload:Ar,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(he),X(Je(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var E;return!(null===(E=ds().grecaptcha)||void 0===E||!E.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uc{load(m){return(0,o.A)(function*(){return new ft(m)})()}clearedOneInstance(){}}const ml="recaptcha",jc={theme:"light",type:"image"};class Uu{constructor(m,E,S=Object.assign({},jc)){this.parameters=S,this.type=ml,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tr(m),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof E?document.getElementById(E):E;De(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uc:new bi,this.validateStartingState()}verify(){var m=this;return(0,o.A)(function*(){m.assertNotDestroyed();const E=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(E)||new Promise(he=>{const He=wt=>{wt&&(m.tokenChangeListeners.delete(He),he(wt))};m.tokenChangeListeners.add(He),m.isInvisible&&S.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return E=>{if(this.tokenChangeListeners.forEach(S=>S(E)),"function"==typeof m)m(E);else if("string"==typeof m){const S=ds()[m];"function"==typeof S&&S(E)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.A)(function*(){if(yield m.init(),!m.widgetId){let E=m.container;if(!m.isInvisible){const S=document.createElement("div");E.appendChild(S),E=S}m.widgetId=m.getAssertedRecaptcha().render(E,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.A)(function*(){De(Ot()&&!Fc(),m.auth,"internal-error"),yield function Bh(){let T=null;return new Promise(m=>{"complete"!==document.readyState?(T=()=>m(),window.addEventListener("load",T)):m()}).catch(m=>{throw T&&window.removeEventListener("load",T),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const E=yield function Cr(T){return un.apply(this,arguments)}(m.auth);De(E,m.auth,"internal-error"),m.parameters.sitekey=E})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mc{constructor(m,E){this.verificationId=m,this.onConfirmation=E}confirm(m){const E=jn._fromVerification(this.verificationId,m);return this.onConfirmation(E)}}function pa(T,m,E){return $h.apply(this,arguments)}function $h(){return($h=(0,o.A)(function*(T,m,E){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T),X=yield ga(S,m,(0,i.Ku)(E));return new mc(X,he=>vs(S,he))})).apply(this,arguments)}function Xa(T,m,E){return _c.apply(this,arguments)}function _c(){return(_c=(0,o.A)(function*(T,m,E){const S=(0,i.Ku)(T);yield ae(!1,S,"phone");const X=yield ga(S.auth,m,(0,i.Ku)(E));return new mc(X,he=>Zs(S,he))})).apply(this,arguments)}function ju(T,m,E){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,o.A)(function*(T,m,E){const S=(0,i.Ku)(T);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));const X=yield ga(S.auth,m,(0,i.Ku)(E));return new mc(X,he=>To(S,he))})).apply(this,arguments)}function ga(T,m,E){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,o.A)(function*(T,m,E){var S;const X=yield E.verify();try{let he;if(De("string"==typeof X,T,"argument-error"),De(E.type===ml,T,"argument-error"),he="string"==typeof m?{phoneNumber:m}:m,"session"in he){const He=he.session;if("phoneNumber"in he)return De("enroll"===He.type,T,"internal-error"),(yield function Nc(T,m){return ke(T,"POST","/v2/accounts/mfaEnrollment:start",Ee(T,m))}(T,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{De("signin"===He.type,T,"internal-error");const wt=(null===(S=he.multiFactorHint)||void 0===S?void 0:S.uid)||he.multiFactorUid;return De(wt,T,"missing-multi-factor-info"),(yield function w(T,m){return ke(T,"POST","/v2/accounts/mfaSignIn:start",Ee(T,m))}(T,{mfaPendingCredential:He.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield function Re(T,m){return Ye.apply(this,arguments)}(T,{phoneNumber:he.phoneNumber,recaptchaToken:X});return He}}finally{E._reset()}}),Bu.apply(this,arguments)}function $u(T,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,o.A)(function*(T,m){const E=(0,i.Ku)(T);if((0,le._isFirebaseServerApp)(E.auth.app))return Promise.reject(it(E.auth));yield J(E,m)})).apply(this,arguments)}let ma=(()=>{class T{constructor(E){this.providerId=T.PROVIDER_ID,this.auth=Tr(E)}verifyPhoneNumber(E,S){return ga(this.auth,E,(0,i.Ku)(S))}static credential(E,S){return jn._fromVerification(E,S)}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:S,temporaryProof:X}=E;return S&&X?jn._fromTokenResponse(S,X):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function _a(T,m){return m?st(m):(De(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Bc extends de{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return us(m,this._buildIdpRequest())}_linkToIdToken(m,E){return us(m,this._buildIdpRequest(E))}_getReauthenticationResolver(m){return us(m,this._buildIdpRequest())}_buildIdpRequest(m){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(E.idToken=m),E}}function yc(T){return _s(T.auth,new Bc(T),T.bypassAuthState)}function Hh(T){const{auth:m,user:E}=T;return De(E,m,"internal-error"),yn(E,new Bc(T),T.bypassAuthState)}function Gh(T){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.A)(function*(T){const{auth:m,user:E}=T;return De(E,m,"internal-error"),J(E,new Bc(T),T.bypassAuthState)})).apply(this,arguments)}class sp{constructor(m,E,S,X,he=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var m=this;return new Promise(function(){var E=(0,o.A)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(he){m.reject(he)}});return function(S,X){return E.apply(this,arguments)}}())}onAuthEvent(m){var E=this;return(0,o.A)(function*(){const{urlResponse:S,sessionId:X,postBody:he,tenantId:He,error:wt,type:Wt}=m;if(wt)return void E.reject(wt);const On={auth:E.auth,requestUri:S,sessionId:X,tenantId:He||void 0,postBody:he||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Wt)(On))}catch(xn){E.reject(xn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return yc;case"linkViaPopup":case"linkViaRedirect":return Gh;case"reauthViaPopup":case"reauthViaRedirect":return Hh;default:be(this.auth,"internal-error")}}resolve(m){vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const op=new Ne(2e3,1e4);function Hu(T,m,E){return $c.apply(this,arguments)}function $c(){return($c=(0,o.A)(function*(T,m,E){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(Je(T,"operation-not-supported-in-this-environment"));const S=Tr(T);Pt(T,m,ki);const X=_a(S,E);return new ap(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function Pd(T,m,E){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.A)(function*(T,m,E){const S=(0,i.Ku)(T);if((0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(Je(S.auth,"operation-not-supported-in-this-environment"));Pt(S.auth,m,ki);const X=_a(S.auth,E);return new ap(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function tu(T,m,E){return ya.apply(this,arguments)}function ya(){return(ya=(0,o.A)(function*(T,m,E){const S=(0,i.Ku)(T);Pt(S.auth,m,ki);const X=_a(S.auth,E);return new ap(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let ap=(()=>{class T extends sp{constructor(E,S,X,he,He){super(E,S,he,He),this.provider=X,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var E=this;return(0,o.A)(function*(){const S=yield E.execute();return De(S,E.auth,"internal-error"),S})()}onExecution(){var E=this;return(0,o.A)(function*(){vn(1===E.filter.length,"Popup operations only handle one event");const S=Fr();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],S),E.authWindow.associatedEvent=S,E.resolver._originValidation(E.auth).catch(X=>{E.reject(X)}),E.resolver._isIframeWebStorageSupported(E.auth,X=>{X||E.reject(Je(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const E=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(E,op.get())};E()}}return T.currentPopupAction=null,T})();const zh="pendingRedirect",Oa=new Map;class Gu extends sp{constructor(m,E,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,E=this;return(0,o.A)(function*(){let S=Oa.get(E.auth._key());if(!S){try{const he=(yield function wo(T,m){return zu.apply(this,arguments)}(E.resolver,E.auth))?yield m().call(E):null;S=()=>Promise.resolve(he)}catch(X){S=()=>Promise.reject(X)}Oa.set(E.auth._key(),S)}return E.bypassAuthState||Oa.set(E.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var E=()=>super.onAuthEvent,S=this;return(0,o.A)(function*(){if("signInViaRedirect"===m.type)return E().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,E().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.A)(function*(){})()}cleanUp(){}}function zu(){return(zu=(0,o.A)(function*(T,m){const E=Kh(m),S=vl(T);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(E));return yield S._remove(E),X})).apply(this,arguments)}function Hc(T,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,o.A)(function*(T,m){return vl(T)._set(Kh(m),"true")})).apply(this,arguments)}function Wh(){Oa.clear()}function Gc(T,m){Oa.set(T._key(),m)}function vl(T){return st(T._redirectPersistence)}function Kh(T){return dn(zh,T.config.apiKey,T.name)}function vc(T,m,E){return function El(T,m,E){return Wu.apply(this,arguments)}(T,m,E)}function Wu(){return(Wu=(0,o.A)(function*(T,m,E){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T);Pt(T,m,ki),yield S._initializationPromise;const X=_a(S,E);return yield Hc(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function va(T,m,E){return function Dg(T,m,E){return Qa.apply(this,arguments)}(T,m,E)}function Qa(){return(Qa=(0,o.A)(function*(T,m,E){const S=(0,i.Ku)(T);if(Pt(S.auth,m,ki),(0,le._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));yield S.auth._initializationPromise;const X=_a(S.auth,E);yield Hc(X,S.auth);const he=yield xd(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",he)})).apply(this,arguments)}function Ea(T,m,E){return function zc(T,m,E){return Ku.apply(this,arguments)}(T,m,E)}function Ku(){return(Ku=(0,o.A)(function*(T,m,E){const S=(0,i.Ku)(T);Pt(S.auth,m,ki),yield S.auth._initializationPromise;const X=_a(S.auth,E);yield ae(!1,S,m.providerId),yield Hc(X,S.auth);const he=yield xd(S);return X._openRedirect(S.auth,m,"linkViaRedirect",he)})).apply(this,arguments)}function cp(T,m){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,o.A)(function*(T,m){return yield Tr(T)._initializationPromise,qh(T,m,!1)})).apply(this,arguments)}function qh(T,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,o.A)(function*(T,m,E=!1){if((0,le._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const S=Tr(T),X=_a(S,m),He=yield new Gu(S,X,E).execute();return He&&!E&&(delete He.user._redirectEventId,yield S._persistUserIfCurrent(He.user),yield S._setRedirectUser(null,m)),He})).apply(this,arguments)}function xd(T){return ba.apply(this,arguments)}function ba(){return(ba=(0,o.A)(function*(T){const m=Fr(`${T.uid}:::`);return T._redirectEventId=m,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),m})).apply(this,arguments)}class lp{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let E=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(E=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Cl(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rd(T);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=m,E=!0)),E}sendToConsumer(m,E){var S;if(m.error&&!Rd(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";E.onError(Je(this.auth,X))}else E.onAuthEvent(m)}isEventForConsumer(m,E){const S=null===E.eventId||!!m.eventId&&m.eventId===E.eventId;return E.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Md(m))}saveEventToCache(m){this.cachedEventUids.add(Md(m)),this.lastProcessedEventTime=Date.now()}}function Md(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(m=>m).join("-")}function Rd({type:T,error:m}){return"unknown"===T&&"auth/no-auth-event"===m?.code}function Zo(T){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,o.A)(function*(T,m={}){return ke(T,"GET","/v1/projects",m)})).apply(this,arguments)}const qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Od=/^https?/;function Il(){return(Il=(0,o.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:m}=yield Zo(T);for(const E of m)try{if(up(E))return}catch{}be(T,"unauthorized-domain")})).apply(this,arguments)}function up(T){const m=gr(),{protocol:E,hostname:S}=new URL(m);if(T.startsWith("chrome-extension://")){const He=new URL(T);return""===He.hostname&&""===S?"chrome-extension:"===E&&T.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===E&&He.hostname===S}if(!Od.test(E))return!1;if(qu.test(T))return S===T;const X=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const Oy=new Ne(3e4,6e4);function Tl(){const T=ds().___jsl;if(T?.H)for(const m of Object.keys(T.H))if(T.H[m].r=T.H[m].r||[],T.H[m].L=T.H[m].L||[],T.H[m].r=[...T.H[m].L],T.CP)for(let E=0;E<T.CP.length;E++)T.CP[E]=null}let js=null;const i_=new Ne(5e3,15e3),wl="__/auth/iframe",Pg="emulator/auth/iframe",Yh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kd(T){const m=T.config;De(m.authDomain,T,"auth-domain-config-required");const E=m.emulator?Ze(m,Pg):`https://${T.config.authDomain}/${wl}`,S={apiKey:m.apiKey,appName:T.name,v:le.SDK_VERSION},X=Ks.get(T.config.apiHost);X&&(S.eid=X);const he=T._getFrameworks();return he.length&&(S.fw=he.join(",")),`${E}?${(0,i.Am)(S).slice(1)}`}function Fd(){return Fd=(0,o.A)(function*(T){const m=yield function Sg(T){return js=js||function Nd(T){return new Promise((m,E)=>{var S,X,he;function He(){Tl(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Tl(),E(Je(T,"network-request-failed"))},timeout:Oy.get()})}if(null!==(X=null===(S=ds().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(he=ds().gapi)||void 0===he||!he.load){const wt=ii("iframefcb");return ds()[wt]=()=>{gapi.load?He():E(Je(T,"network-request-failed"))},go(`${function Co(){return ws.gapiScript}()}?onload=${wt}`).catch(Wt=>E(Wt))}He()}}).catch(m=>{throw js=null,m})}(T),js}(T),E=ds().gapi;return De(E,T,"internal-error"),m.open({where:document.body,url:kd(T),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yh,dontclear:!0},S=>new Promise(function(){var X=(0,o.A)(function*(he,He){yield S.restyle({setHideOnLeave:!1});const wt=Je(T,"network-request-failed"),Wt=ds().setTimeout(()=>{He(wt)},i_.get());function On(){ds().clearTimeout(Wt),he(S)}S.ping(On).then(On,()=>{He(wt)})});return function(he,He){return X.apply(this,arguments)}}()))}),Fd.apply(this,arguments)}const Lo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Al="__/auth/handler",ea="emulator/auth/handler",Dl=encodeURIComponent("fac");function bc(T,m,E,S,X,he){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,o.A)(function*(T,m,E,S,X,he){De(T.config.authDomain,T,"auth-domain-config-required"),De(T.config.apiKey,T,"invalid-api-key");const He={apiKey:T.config.apiKey,appName:T.name,authType:E,redirectUrl:S,v:le.SDK_VERSION,eventId:X};if(m instanceof ki){m.setDefaultLanguage(T.languageCode),He.providerId=m.providerId||"",(0,i.Im)(m.getCustomParameters())||(He.customParameters=JSON.stringify(m.getCustomParameters()));for(const[xn,ri]of Object.entries(he||{}))He[xn]=ri}if(m instanceof Nr){const xn=m.getScopes().filter(ri=>""!==ri);xn.length>0&&(He.scopes=xn.join(","))}T.tenantId&&(He.tid=T.tenantId);const wt=He;for(const xn of Object.keys(wt))void 0===wt[xn]&&delete wt[xn];const Wt=yield T._getAppCheckToken(),On=Wt?`#${Dl}=${encodeURIComponent(Wt)}`:"";return`${function hp({config:T}){return T.emulator?Ze(T,ea):`https://${T.authDomain}/${Al}`}(T)}?${(0,i.Am)(wt).slice(1)}${On}`})).apply(this,arguments)}const Ud="webStorageSupport",Xh=class Mg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pl,this._completeRedirectFn=qh,this._overrideRedirectResult=Gc}_openPopup(m,E,S,X){var he=this;return(0,o.A)(function*(){var He;vn(null===(He=he.eventManagers[m._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const wt=yield bc(m,E,S,gr(),X);return function dp(T,m,E,S=500,X=600){const he=Math.max((window.screen.availHeight-X)/2,0).toString(),He=Math.max((window.screen.availWidth-S)/2,0).toString();let wt="";const Wt=Object.assign(Object.assign({},Lo),{width:S.toString(),height:X.toString(),top:he,left:He}),On=(0,i.ZQ)().toLowerCase();E&&(wt=mr(On)?"_blank":E),cn(On)&&(m=m||"http://localhost",Wt.scrollbars="yes");const xn=Object.entries(Wt).reduce((bo,[Ta,ou])=>`${bo}${Ta}=${ou},`,"");if(function Ps(T=(0,i.ZQ)()){var m;return Ai(T)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(On)&&"_self"!==wt)return function xg(T,m){const E=document.createElement("a");E.href=T,E.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(S)}(m||"",wt),new Vd(null);const ri=window.open(m||"",wt,xn);De(ri,T,"popup-blocked");try{ri.focus()}catch{}return new Vd(ri)}(m,wt,Fr())})()}_openRedirect(m,E,S,X){var he=this;return(0,o.A)(function*(){return yield he._originValidation(m),function Vs(T){ds().location.href=T}(yield bc(m,E,S,gr(),X)),new Promise(()=>{})})()}_initialize(m){const E=m._key();if(this.eventManagers[E]){const{manager:X,promise:he}=this.eventManagers[E];return X?Promise.resolve(X):(vn(he,"If manager is not set, promise should be"),he)}const S=this.initAndGetManager(m);return this.eventManagers[E]={promise:S},S.catch(()=>{delete this.eventManagers[E]}),S}initAndGetManager(m){var E=this;return(0,o.A)(function*(){const S=yield function Kc(T){return Fd.apply(this,arguments)}(m),X=new lp(m);return S.register("authEvent",he=>(De(he?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[m._key()]={manager:X},E.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,E){this.iframes[m._key()].send(Ud,{type:Ud},X=>{var he;const He=null===(he=X?.[0])||void 0===he?void 0:he[Ud];void 0!==He&&E(!!He),be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const E=m._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function nu(T){return Il.apply(this,arguments)}(m)),this.originValidationPromises[E]}get _shouldInitProactively(){return nt()||Br()||Ai()}};class fp{constructor(m){this.factorId=m}_process(m,E,S){switch(E.type){case"enroll":return this._finalizeEnroll(m,E.credential,S);case"signin":return this._finalizeSignIn(m,E.credential);default:return rn("unexpected MultiFactorSessionType")}}}class Qc extends fp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Qc(m)}_finalizeEnroll(m,E,S){return function Fu(T,m){return ke(T,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(T,m))}(m,{idToken:E,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,E){return function N(T,m){return ke(T,"POST","/v2/accounts/mfaSignIn:finalize",Ee(T,m))}(m,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ru=(()=>{class T{constructor(){}static assertion(E){return Qc._fromCredential(E)}}return T.FACTOR_ID="phone",T})();var Ia="@firebase/auth";class Jh{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var E=this;return(0,o.A)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const E=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,E),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const E=this.internalListeners.get(m);E&&(this.internalListeners.delete(m),E(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function Xi(T){ws=T}({loadJS:T=>new Promise((m,E)=>{const S=document.createElement("script");S.setAttribute("src",T),S.onload=m,S.onerror=X=>{const he=Je("internal-error");he.customData=X,E(he)},S.type="text/javascript",S.charset="UTF-8",function Na(){var T,m;return null!==(m=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function su(T){(0,le._registerComponent)(new Ae.uA("auth",(m,{options:E})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),he=m.getProvider("app-check-internal"),{apiKey:He,authDomain:wt}=S.options;De(He&&!He.includes(":"),"invalid-api-key",{appName:S.name});const Wt={apiKey:He,authDomain:wt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mt(T)},On=new Xr(S,X,he,Wt);return function Da(T,m){const E=m?.persistence||[],S=(Array.isArray(E)?E:[E]).map(st);m?.errorMap&&T._updateErrorMap(m.errorMap),T._initializeWithPersistence(S,m?.popupRedirectResolver)}(On,E),On},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,E,S)=>{m.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new Ae.uA("auth-internal",m=>{const E=Tr(m.getProvider("auth").getImmediate());return new Jh(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Ia,"1.7.9",function Zh(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,le.registerVersion)(Ia,"1.7.9","esm2017")}("Browser")},9583:(on,Xe,j)=>{j.d(Xe,{fS:()=>Im,Ix:()=>wc,H6:()=>Af,T1:()=>Bs,Wq:()=>Cu,uY:()=>nl,W6:()=>Ze,Ci:()=>zp,YQ:()=>Ac,NJ:()=>Fl,Dc:()=>Kt,GA:()=>ig,cm:()=>cr,K$:()=>Ht,FA:()=>er,lo:()=>mi,bI:()=>Xt,qG:()=>Da,qi:()=>vn,c8:()=>sm,gS:()=>I0,C3:()=>vv,hq:()=>M0,me:()=>tv,rJ:()=>P_,Cs:()=>x_,vN:()=>Zy,kd:()=>C0,CL:()=>P0,LA:()=>nv,H9:()=>_u,ol:()=>R_,Q5:()=>sh,Os:()=>O_,FD:()=>U_,rf:()=>ME,Ws:()=>Ds,z6:()=>gh,x7:()=>v0,nY:()=>Ll,_e:()=>uv,GG:()=>E0,kU:()=>RE,Rr:()=>Po,aU:()=>um,GV:()=>NE,AB:()=>vm,$1:()=>Em,po:()=>fm,St:()=>d0,aQ:()=>$_,FC:()=>dv,My:()=>f0,P:()=>sv,B:()=>Tf,yx:()=>ev,c4:()=>S0,O5:()=>x0,BN:()=>b0,He:()=>kt,lN:()=>y0,HM:()=>L_,EO:()=>eg,mZ:()=>B_,iB:()=>hm,_M:()=>h0});var Fe,Ve,o=j(467),le=j(7852),i=j(1362),Te=j(8041),pe=j(1076),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={};(function(){var d;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(at,Oe,Ge){Ge||(Ge=0);var ct=Array(16);if("string"==typeof Oe)for(var ht=0;16>ht;++ht)ct[ht]=Oe.charCodeAt(Ge++)|Oe.charCodeAt(Ge++)<<8|Oe.charCodeAt(Ge++)<<16|Oe.charCodeAt(Ge++)<<24;else for(ht=0;16>ht;++ht)ct[ht]=Oe[Ge++]|Oe[Ge++]<<8|Oe[Ge++]<<16|Oe[Ge++]<<24;var It=at.g[3],$e=(Oe=at.g[0])+(It^(Ge=at.g[1])&((ht=at.g[2])^It))+ct[0]+3614090360&4294967295;$e=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=(Ge=(ht=(It=(Oe=Ge+($e<<7&4294967295|$e>>>25))+(($e=It+(ht^Oe&(Ge^ht))+ct[1]+3905402710&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^It&(Oe^Ge))+ct[2]+606105819&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ht&(It^Oe))+ct[3]+3250441966&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(It^Ge&(ht^It))+ct[4]+4118548399&4294967295)<<7&4294967295|$e>>>25))+(($e=It+(ht^Oe&(Ge^ht))+ct[5]+1200080426&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^It&(Oe^Ge))+ct[6]+2821735955&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ht&(It^Oe))+ct[7]+4249261313&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(It^Ge&(ht^It))+ct[8]+1770035416&4294967295)<<7&4294967295|$e>>>25))+(($e=It+(ht^Oe&(Ge^ht))+ct[9]+2336552879&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^It&(Oe^Ge))+ct[10]+4294925233&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ht&(It^Oe))+ct[11]+2304563134&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(It^Ge&(ht^It))+ct[12]+1804603682&4294967295)<<7&4294967295|$e>>>25))+(($e=It+(ht^Oe&(Ge^ht))+ct[13]+4254626195&4294967295)<<12&4294967295|$e>>>20))+(($e=ht+(Ge^It&(Oe^Ge))+ct[14]+2792965006&4294967295)<<17&4294967295|$e>>>15))+(($e=Ge+(Oe^ht&(It^Oe))+ct[15]+1236535329&4294967295)<<22&4294967295|$e>>>10))+(($e=Oe+(ht^It&(Ge^ht))+ct[1]+4129170786&4294967295)<<5&4294967295|$e>>>27))+(($e=It+(Ge^ht&(Oe^Ge))+ct[6]+3225465664&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Oe^Ge&(It^Oe))+ct[11]+643717713&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(It^Oe&(ht^It))+ct[0]+3921069994&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(ht^It&(Ge^ht))+ct[5]+3593408605&4294967295)<<5&4294967295|$e>>>27))+(($e=It+(Ge^ht&(Oe^Ge))+ct[10]+38016083&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Oe^Ge&(It^Oe))+ct[15]+3634488961&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(It^Oe&(ht^It))+ct[4]+3889429448&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(ht^It&(Ge^ht))+ct[9]+568446438&4294967295)<<5&4294967295|$e>>>27))+(($e=It+(Ge^ht&(Oe^Ge))+ct[14]+3275163606&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Oe^Ge&(It^Oe))+ct[3]+4107603335&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(It^Oe&(ht^It))+ct[8]+1163531501&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(ht^It&(Ge^ht))+ct[13]+2850285829&4294967295)<<5&4294967295|$e>>>27))+(($e=It+(Ge^ht&(Oe^Ge))+ct[2]+4243563512&4294967295)<<9&4294967295|$e>>>23))+(($e=ht+(Oe^Ge&(It^Oe))+ct[7]+1735328473&4294967295)<<14&4294967295|$e>>>18))+(($e=Ge+(It^Oe&(ht^It))+ct[12]+2368359562&4294967295)<<20&4294967295|$e>>>12))+(($e=Oe+(Ge^ht^It)+ct[5]+4294588738&4294967295)<<4&4294967295|$e>>>28))+(($e=It+(Oe^Ge^ht)+ct[8]+2272392833&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(It^Oe^Ge)+ct[11]+1839030562&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^It^Oe)+ct[14]+4259657740&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(Ge^ht^It)+ct[1]+2763975236&4294967295)<<4&4294967295|$e>>>28))+(($e=It+(Oe^Ge^ht)+ct[4]+1272893353&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(It^Oe^Ge)+ct[7]+4139469664&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^It^Oe)+ct[10]+3200236656&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(Ge^ht^It)+ct[13]+681279174&4294967295)<<4&4294967295|$e>>>28))+(($e=It+(Oe^Ge^ht)+ct[0]+3936430074&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(It^Oe^Ge)+ct[3]+3572445317&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^It^Oe)+ct[6]+76029189&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(Ge^ht^It)+ct[9]+3654602809&4294967295)<<4&4294967295|$e>>>28))+(($e=It+(Oe^Ge^ht)+ct[12]+3873151461&4294967295)<<11&4294967295|$e>>>21))+(($e=ht+(It^Oe^Ge)+ct[15]+530742520&4294967295)<<16&4294967295|$e>>>16))+(($e=Ge+(ht^It^Oe)+ct[2]+3299628645&4294967295)<<23&4294967295|$e>>>9))+(($e=Oe+(ht^(Ge|~It))+ct[0]+4096336452&4294967295)<<6&4294967295|$e>>>26))+(($e=It+(Ge^(Oe|~ht))+ct[7]+1126891415&4294967295)<<10&4294967295|$e>>>22))+(($e=ht+(Oe^(It|~Ge))+ct[14]+2878612391&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(It^(ht|~Oe))+ct[5]+4237533241&4294967295)<<21&4294967295|$e>>>11))+(($e=Oe+(ht^(Ge|~It))+ct[12]+1700485571&4294967295)<<6&4294967295|$e>>>26))+(($e=It+(Ge^(Oe|~ht))+ct[3]+2399980690&4294967295)<<10&4294967295|$e>>>22))+(($e=ht+(Oe^(It|~Ge))+ct[10]+4293915773&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(It^(ht|~Oe))+ct[1]+2240044497&4294967295)<<21&4294967295|$e>>>11))+(($e=Oe+(ht^(Ge|~It))+ct[8]+1873313359&4294967295)<<6&4294967295|$e>>>26))+(($e=It+(Ge^(Oe|~ht))+ct[15]+4264355552&4294967295)<<10&4294967295|$e>>>22))+(($e=ht+(Oe^(It|~Ge))+ct[6]+2734768916&4294967295)<<15&4294967295|$e>>>17))+(($e=Ge+(It^(ht|~Oe))+ct[13]+1309151649&4294967295)<<21&4294967295|$e>>>11))+((It=(Oe=Ge+(($e=Oe+(ht^(Ge|~It))+ct[4]+4149444226&4294967295)<<6&4294967295|$e>>>26))+(($e=It+(Ge^(Oe|~ht))+ct[11]+3174756917&4294967295)<<10&4294967295|$e>>>22))^((ht=It+(($e=ht+(Oe^(It|~Ge))+ct[2]+718787259&4294967295)<<15&4294967295|$e>>>17))|~Oe))+ct[9]+3951481745&4294967295,at.g[0]=at.g[0]+Oe&4294967295,at.g[1]=at.g[1]+(ht+($e<<21&4294967295|$e>>>11))&4294967295,at.g[2]=at.g[2]+ht&4294967295,at.g[3]=at.g[3]+It&4294967295}function b(at,Oe){this.h=Oe;for(var Ge=[],ct=!0,ht=at.length-1;0<=ht;ht--){var It=0|at[ht];ct&&It==Oe||(Ge[ht]=It,ct=!1)}this.g=Ge}(function e(at,Oe){function Ge(){}Ge.prototype=Oe.prototype,at.D=Oe.prototype,at.prototype=new Ge,at.prototype.constructor=at,at.C=function(ct,ht,It){for(var $e=Array(arguments.length-2),wu=2;wu<arguments.length;wu++)$e[wu-2]=arguments[wu];return Oe.prototype[ht].apply(ct,$e)}})(a,function r(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(at,Oe){void 0===Oe&&(Oe=at.length);for(var Ge=Oe-this.blockSize,ct=this.B,ht=this.h,It=0;It<Oe;){if(0==ht)for(;It<=Ge;)h(this,at,It),It+=this.blockSize;if("string"==typeof at){for(;It<Oe;)if(ct[ht++]=at.charCodeAt(It++),ht==this.blockSize){h(this,ct),ht=0;break}}else for(;It<Oe;)if(ct[ht++]=at[It++],ht==this.blockSize){h(this,ct),ht=0;break}}this.h=ht,this.o+=Oe},a.prototype.v=function(){var at=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);at[0]=128;for(var Oe=1;Oe<at.length-8;++Oe)at[Oe]=0;var Ge=8*this.o;for(Oe=at.length-8;Oe<at.length;++Oe)at[Oe]=255&Ge,Ge/=256;for(this.u(at),at=Array(16),Oe=Ge=0;4>Oe;++Oe)for(var ct=0;32>ct;ct+=8)at[Ge++]=this.g[Oe]>>>ct&255;return at};var P={};function F(at){return-128<=at&&128>at?function _(at,Oe){var Ge=P;return Object.prototype.hasOwnProperty.call(Ge,at)?Ge[at]:Ge[at]=Oe(at)}(at,function(Oe){return new b([0|Oe],0>Oe?-1:0)}):new b([0|at],0>at?-1:0)}function K(at){if(isNaN(at)||!isFinite(at))return ye;if(0>at)return nn(K(-at));for(var Oe=[],Ge=1,ct=0;at>=Ge;ct++)Oe[ct]=at/Ge|0,Ge*=4294967296;return new b(Oe,0)}var ye=F(0),je=F(1),yt=F(16777216);function Gt(at){if(0!=at.h)return!1;for(var Oe=0;Oe<at.g.length;Oe++)if(0!=at.g[Oe])return!1;return!0}function hn(at){return-1==at.h}function nn(at){for(var Oe=at.g.length,Ge=[],ct=0;ct<Oe;ct++)Ge[ct]=~at.g[ct];return new b(Ge,~at.h).add(je)}function Jn(at,Oe){return at.add(nn(Oe))}function fr(at,Oe){for(;(65535&at[Oe])!=at[Oe];)at[Oe+1]+=at[Oe]>>>16,at[Oe]&=65535,Oe++}function nr(at,Oe){this.g=at,this.h=Oe}function jr(at,Oe){if(Gt(Oe))throw Error("division by zero");if(Gt(at))return new nr(ye,ye);if(hn(at))return Oe=jr(nn(at),Oe),new nr(nn(Oe.g),nn(Oe.h));if(hn(Oe))return Oe=jr(at,nn(Oe)),new nr(nn(Oe.g),Oe.h);if(30<at.g.length){if(hn(at)||hn(Oe))throw Error("slowDivide_ only works with positive integers.");for(var Ge=je,ct=Oe;0>=ct.l(at);)Ge=Vi(Ge),ct=Vi(ct);var ht=ui(Ge,1),It=ui(ct,1);for(ct=ui(ct,2),Ge=ui(Ge,2);!Gt(ct);){var $e=It.add(ct);0>=$e.l(at)&&(ht=ht.add(Ge),It=$e),ct=ui(ct,1),Ge=ui(Ge,1)}return Oe=Jn(at,ht.j(Oe)),new nr(ht,Oe)}for(ht=ye;0<=at.l(Oe);){for(Ge=Math.max(1,Math.floor(at.m()/Oe.m())),ct=48>=(ct=Math.ceil(Math.log(Ge)/Math.LN2))?1:Math.pow(2,ct-48),$e=(It=K(Ge)).j(Oe);hn($e)||0<$e.l(at);)$e=(It=K(Ge-=ct)).j(Oe);Gt(It)&&(It=je),ht=ht.add(It),at=Jn(at,$e)}return new nr(ht,at)}function Vi(at){for(var Oe=at.g.length+1,Ge=[],ct=0;ct<Oe;ct++)Ge[ct]=at.i(ct)<<1|at.i(ct-1)>>>31;return new b(Ge,at.h)}function ui(at,Oe){var Ge=Oe>>5;Oe%=32;for(var ct=at.g.length-Ge,ht=[],It=0;It<ct;It++)ht[It]=0<Oe?at.i(It+Ge)>>>Oe|at.i(It+Ge+1)<<32-Oe:at.i(It+Ge);return new b(ht,at.h)}(d=b.prototype).m=function(){if(hn(this))return-nn(this).m();for(var at=0,Oe=1,Ge=0;Ge<this.g.length;Ge++){var ct=this.i(Ge);at+=(0<=ct?ct:4294967296+ct)*Oe,Oe*=4294967296}return at},d.toString=function(at){if(2>(at=at||10)||36<at)throw Error("radix out of range: "+at);if(Gt(this))return"0";if(hn(this))return"-"+nn(this).toString(at);for(var Oe=K(Math.pow(at,6)),Ge=this,ct="";;){var ht=jr(Ge,Oe).g,It=((0<(Ge=Jn(Ge,ht.j(Oe))).g.length?Ge.g[0]:Ge.h)>>>0).toString(at);if(Gt(Ge=ht))return It+ct;for(;6>It.length;)It="0"+It;ct=It+ct}},d.i=function(at){return 0>at?0:at<this.g.length?this.g[at]:this.h},d.l=function(at){return hn(at=Jn(this,at))?-1:Gt(at)?0:1},d.abs=function(){return hn(this)?nn(this):this},d.add=function(at){for(var Oe=Math.max(this.g.length,at.g.length),Ge=[],ct=0,ht=0;ht<=Oe;ht++){var It=ct+(65535&this.i(ht))+(65535&at.i(ht)),$e=(It>>>16)+(this.i(ht)>>>16)+(at.i(ht)>>>16);ct=$e>>>16,Ge[ht]=($e&=65535)<<16|(It&=65535)}return new b(Ge,-2147483648&Ge[Ge.length-1]?-1:0)},d.j=function(at){if(Gt(this)||Gt(at))return ye;if(hn(this))return hn(at)?nn(this).j(nn(at)):nn(nn(this).j(at));if(hn(at))return nn(this.j(nn(at)));if(0>this.l(yt)&&0>at.l(yt))return K(this.m()*at.m());for(var Oe=this.g.length+at.g.length,Ge=[],ct=0;ct<2*Oe;ct++)Ge[ct]=0;for(ct=0;ct<this.g.length;ct++)for(var ht=0;ht<at.g.length;ht++){var It=this.i(ct)>>>16,$e=65535&this.i(ct),wu=at.i(ht)>>>16,sg=65535&at.i(ht);Ge[2*ct+2*ht]+=$e*sg,fr(Ge,2*ct+2*ht),Ge[2*ct+2*ht+1]+=It*sg,fr(Ge,2*ct+2*ht+1),Ge[2*ct+2*ht+1]+=$e*wu,fr(Ge,2*ct+2*ht+1),Ge[2*ct+2*ht+2]+=It*wu,fr(Ge,2*ct+2*ht+2)}for(ct=0;ct<Oe;ct++)Ge[ct]=Ge[2*ct+1]<<16|Ge[2*ct];for(ct=Oe;ct<2*Oe;ct++)Ge[ct]=0;return new b(Ge,0)},d.A=function(at){return jr(this,at).h},d.and=function(at){for(var Oe=Math.max(this.g.length,at.g.length),Ge=[],ct=0;ct<Oe;ct++)Ge[ct]=this.i(ct)&at.i(ct);return new b(Ge,this.h&at.h)},d.or=function(at){for(var Oe=Math.max(this.g.length,at.g.length),Ge=[],ct=0;ct<Oe;ct++)Ge[ct]=this.i(ct)|at.i(ct);return new b(Ge,this.h|at.h)},d.xor=function(at){for(var Oe=Math.max(this.g.length,at.g.length),Ge=[],ct=0;ct<Oe;ct++)Ge[ct]=this.i(ct)^at.i(ct);return new b(Ge,this.h^at.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ve=Me.Md5=a,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function ie(at,Oe){if(0==at.length)throw Error("number format error: empty string");if(2>(Oe=Oe||10)||36<Oe)throw Error("radix out of range: "+Oe);if("-"==at.charAt(0))return nn(ie(at.substring(1),Oe));if(0<=at.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ge=K(Math.pow(Oe,8)),ct=ye,ht=0;ht<at.length;ht+=8){var It=Math.min(8,at.length-ht),$e=parseInt(at.substring(ht,ht+It),Oe);8>It?(It=K(Math.pow(Oe,It)),ct=ct.j(It).add(K($e))):ct=(ct=ct.j(Ge)).add(K($e))}return ct},Fe=Me.Integer=b}).apply(typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{});var _e,Qe,St,Dt,Bt,Nt,pn,Be,ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,U,q){return v==Array.prototype||v==Object.prototype||(v[U]=q.value),v},a=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ee&&ee];for(var U=0;U<v.length;++U){var q=v[U];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(v,U){if(U)e:{var q=a;v=v.split(".");for(var ge=0;ge<v.length-1;ge++){var gt=v[ge];if(!(gt in q))break e;q=q[gt]}(U=U(ge=q[v=v[v.length-1]]))!=ge&&null!=U&&e(q,v,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(v){return v||function(){return function _(v,U){v instanceof String&&(v+="");var q=0,ge=!1,gt={next:function(){if(!ge&&q<v.length){var xt=q++;return{value:U(xt,v[xt]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return gt[Symbol.iterator]=function(){return gt},gt}(this,function(U,q){return q})}});var b=b||{},P=this||self;function F(v){var U=typeof v;return"array"==(U="object"!=U?U:v?Array.isArray(v)?"array":U:"null")||"object"==U&&"number"==typeof v.length}function K(v){var U=typeof v;return"object"==U&&null!=v||"function"==U}function ie(v,U,q){return v.call.apply(v.bind,arguments)}function ye(v,U,q){if(!v)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var gt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(gt,ge),v.apply(U,gt)}}return function(){return v.apply(U,arguments)}}function je(v,U,q){return(je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ye).apply(null,arguments)}function yt(v,U){var q=Array.prototype.slice.call(arguments,1);return function(){var ge=q.slice();return ge.push.apply(ge,arguments),v.apply(this,ge)}}function Gt(v,U){function q(){}q.prototype=U.prototype,v.aa=U.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(ge,gt,xt){for(var Dn=Array(arguments.length-2),is=2;is<arguments.length;is++)Dn[is-2]=arguments[is];return U.prototype[gt].apply(ge,Dn)}}function hn(v){const U=v.length;if(0<U){const q=Array(U);for(let ge=0;ge<U;ge++)q[ge]=v[ge];return q}return[]}function nn(v,U){for(let q=1;q<arguments.length;q++){const ge=arguments[q];if(F(ge)){const gt=v.length||0,xt=ge.length||0;v.length=gt+xt;for(let Dn=0;Dn<xt;Dn++)v[gt+Dn]=ge[Dn]}else v.push(ge)}}function fr(v){return/^[\s\xa0]*$/.test(v)}function nr(){var v=P.navigator;return v&&(v=v.userAgent)?v:""}function jr(v){return jr[" "](v),v}jr[" "]=function(){};var Vi=!(-1==nr().indexOf("Gecko")||-1!=nr().toLowerCase().indexOf("webkit")&&-1==nr().indexOf("Edge")||-1!=nr().indexOf("Trident")||-1!=nr().indexOf("MSIE")||-1!=nr().indexOf("Edge"));function ui(v,U,q){for(const ge in v)U.call(q,v[ge],ge,v)}function Oe(v){const U={};for(const q in v)U[q]=v[q];return U}const Ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(v,U){let q,ge;for(let gt=1;gt<arguments.length;gt++){for(q in ge=arguments[gt],ge)v[q]=ge[q];for(let xt=0;xt<Ge.length;xt++)q=Ge[xt],Object.prototype.hasOwnProperty.call(ge,q)&&(v[q]=ge[q])}}function ht(v){var U=1;v=v.split(":");const q=[];for(;0<U&&v.length;)q.push(v.shift()),U--;return v.length&&q.push(v.join(":")),q}function It(v){P.setTimeout(()=>{throw v},0)}function $e(){var v=z_;let U=null;return v.g&&(U=v.g,v.g=v.g.next,v.g||(v.h=null),U.next=null),U}var sg=new class Jn{constructor(U,q){this.i=U,this.j=q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new k0,v=>v.reset());class k0{constructor(){this.next=this.g=this.h=null}set(U,q){this.h=U,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Of,og=!1,z_=new class wu{constructor(){this.h=this.g=null}add(U,q){const ge=sg.get();ge.set(U,q),this.h?this.h.next=ge:this.g=ge,this.h=ge}},Pm=()=>{const v=P.Promise.resolve(void 0);Of=()=>{v.then(F0)}};var F0=()=>{for(var v;v=$e();){try{v.h.call(v.g)}catch(q){It(q)}var U=sg;U.j(v),100>U.h&&(U.h++,v.next=U.g,U.g=v)}og=!1};function fd(){this.s=this.s,this.C=this.C}function ta(v,U){this.type=v,this.g=this.target=U,this.defaultPrevented=!1}fd.prototype.s=!1,fd.prototype.ma=function(){this.s||(this.s=!0,this.N())},fd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ta.prototype.h=function(){this.defaultPrevented=!0};var Av=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var v=!1,U=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};P.addEventListener("test",q,U),P.removeEventListener("test",q,U)}catch{}return v}();function ag(v,U){if(ta.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,ge=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=U,U=v.relatedTarget){if(Vi){e:{try{jr(U.nodeName);var gt=!0;break e}catch{}gt=!1}gt||(U=null)}}else"mouseover"==q?U=v.fromElement:"mouseout"==q&&(U=v.toElement);this.relatedTarget=U,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Ul[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ag.aa.h.call(this)}}Gt(ag,ta);var Ul={2:"touch",3:"pen",4:"mouse"};ag.prototype.h=function(){ag.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var mh="closure_listenable_"+(1e6*Math.random()|0),V0=0;function Dv(v,U,q,ge,gt){this.listener=v,this.proxy=null,this.src=U,this.type=q,this.capture=!!ge,this.ha=gt,this.key=++V0,this.da=this.fa=!1}function xm(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function cg(v){this.src=v,this.g={},this.h=0}function Mm(v,U){var q=U.type;if(q in v.g){var xt,ge=v.g[q],gt=Array.prototype.indexOf.call(ge,U,void 0);(xt=0<=gt)&&Array.prototype.splice.call(ge,gt,1),xt&&(xm(U),0==v.g[q].length&&(delete v.g[q],v.h--))}}function Nf(v,U,q,ge){for(var gt=0;gt<v.length;++gt){var xt=v[gt];if(!xt.da&&xt.listener==U&&xt.capture==!!q&&xt.ha==ge)return gt}return-1}cg.prototype.add=function(v,U,q,ge,gt){var xt=v.toString();(v=this.g[xt])||(v=this.g[xt]=[],this.h++);var Dn=Nf(v,U,ge,gt);return-1<Dn?(U=v[Dn],q||(U.fa=!1)):((U=new Dv(U,this.src,xt,!!ge,gt)).fa=q,v.push(U)),U};var lg="closure_lm_"+(1e6*Math.random()|0),Sv={};function W_(v,U,q,ge,gt){if(ge&&ge.once)return q_(v,U,q,ge,gt);if(Array.isArray(U)){for(var xt=0;xt<U.length;xt++)W_(v,U[xt],q,ge,gt);return null}return q=Om(q),v&&v[mh]?v.K(U,q,K(ge)?!!ge.capture:!!ge,gt):K_(v,U,q,!1,ge,gt)}function K_(v,U,q,ge,gt,xt){if(!U)throw Error("Invalid event type");var Dn=K(gt)?!!gt.capture:!!gt,is=ug(v);if(is||(v[lg]=is=new cg(v)),(q=is.add(U,q,ge,Dn,xt)).proxy)return q;if(ge=function Pv(){const U=L0;return function v(q){return U.call(v.src,v.listener,q)}}(),q.proxy=ge,ge.src=v,ge.listener=q,v.addEventListener)Av||(gt=Dn),void 0===gt&&(gt=!1),v.addEventListener(U.toString(),ge,gt);else if(v.attachEvent)v.attachEvent(xv(U.toString()),ge);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(ge)}return q}function q_(v,U,q,ge,gt){if(Array.isArray(U)){for(var xt=0;xt<U.length;xt++)q_(v,U[xt],q,ge,gt);return null}return q=Om(q),v&&v[mh]?v.L(U,q,K(ge)?!!ge.capture:!!ge,gt):K_(v,U,q,!0,ge,gt)}function Rm(v,U,q,ge,gt){if(Array.isArray(U))for(var xt=0;xt<U.length;xt++)Rm(v,U[xt],q,ge,gt);else ge=K(ge)?!!ge.capture:!!ge,q=Om(q),v&&v[mh]?(v=v.i,(U=String(U).toString())in v.g&&-1<(q=Nf(xt=v.g[U],q,ge,gt))&&(xm(xt[q]),Array.prototype.splice.call(xt,q,1),0==xt.length&&(delete v.g[U],v.h--))):v&&(v=ug(v))&&(U=v.g[U.toString()],v=-1,U&&(v=Nf(U,q,ge,gt)),(q=-1<v?U[v]:null)&&rl(q))}function rl(v){if("number"!=typeof v&&v&&!v.da){var U=v.src;if(U&&U[mh])Mm(U.i,v);else{var q=v.type,ge=v.proxy;U.removeEventListener?U.removeEventListener(q,ge,v.capture):U.detachEvent?U.detachEvent(xv(q),ge):U.addListener&&U.removeListener&&U.removeListener(ge),(q=ug(U))?(Mm(q,v),0==q.h&&(q.src=null,U[lg]=null)):xm(v)}}}function xv(v){return v in Sv?Sv[v]:Sv[v]="on"+v}function L0(v,U){if(v.da)v=!0;else{U=new ag(U,this);var q=v.listener,ge=v.ha||v.src;v.fa&&rl(v),v=q.call(ge,U)}return v}function ug(v){return(v=v[lg])instanceof cg?v:null}var Y_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Om(v){return"function"==typeof v?v:(v[Y_]||(v[Y_]=function(U){return v.handleEvent(U)}),v[Y_])}function na(){fd.call(this),this.i=new cg(this),this.M=this,this.F=null}function xo(v,U){var q,ge=v.F;if(ge)for(q=[];ge;ge=ge.F)q.push(ge);if(v=v.M,ge=U.type||U,"string"==typeof U)U=new ta(U,v);else if(U instanceof ta)U.target=U.target||v;else{var gt=U;ct(U=new ta(ge,v),gt)}if(gt=!0,q)for(var xt=q.length-1;0<=xt;xt--){var Dn=U.g=q[xt];gt=pd(Dn,ge,!0,U)&&gt}if(gt=pd(Dn=U.g=v,ge,!0,U)&&gt,gt=pd(Dn,ge,!1,U)&&gt,q)for(xt=0;xt<q.length;xt++)gt=pd(Dn=U.g=q[xt],ge,!1,U)&&gt}function pd(v,U,q,ge){if(!(U=v.i.g[String(U)]))return!0;U=U.concat();for(var gt=!0,xt=0;xt<U.length;++xt){var Dn=U[xt];if(Dn&&!Dn.da&&Dn.capture==q){var is=Dn.listener,Ys=Dn.ha||Dn.src;Dn.fa&&Mm(v.i,Dn),gt=!1!==is.call(Ys,ge)&&gt}}return gt&&!ge.defaultPrevented}function X_(v,U,q){if("function"==typeof v)q&&(v=je(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=je(v.handleEvent,v)}return 2147483647<Number(U)?-1:P.setTimeout(v,U||0)}function dg(v){v.g=X_(()=>{v.g=null,v.i&&(v.i=!1,dg(v))},v.l);const U=v.h;v.h=null,v.m.apply(null,U)}Gt(na,fd),na.prototype[mh]=!0,na.prototype.removeEventListener=function(v,U,q,ge){Rm(this,v,U,q,ge)},na.prototype.N=function(){if(na.aa.N.call(this),this.i){var U,v=this.i;for(U in v.g){for(var q=v.g[U],ge=0;ge<q.length;ge++)xm(q[ge]);delete v.g[U],v.h--}}this.F=null},na.prototype.K=function(v,U,q,ge){return this.i.add(String(v),U,!1,q,ge)},na.prototype.L=function(v,U,q,ge){return this.i.add(String(v),U,!0,q,ge)};class kE extends fd{constructor(U,q){super(),this.m=U,this.l=q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:dg(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hg(v){fd.call(this),this.h=v,this.g={}}Gt(hg,fd);var Q_=[];function J_(v){ui(v.g,function(U,q){this.g.hasOwnProperty(q)&&rl(U)},v),v.g={}}hg.prototype.N=function(){hg.aa.N.call(this),J_(this)},hg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Z_=P.JSON.stringify,U0=P.JSON.parse,Mv=class{stringify(v){return P.JSON.stringify(v,void 0)}parse(v){return P.JSON.parse(v,void 0)}};function fg(){}function ey(){}fg.prototype.h=null;var yh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vh(){ta.call(this,"d")}function pg(){ta.call(this,"c")}Gt(vh,ta),Gt(pg,ta);var gd={},kf=null;function Eh(){return kf=kf||new na}function ty(v){ta.call(this,gd.La,v)}function Ff(v){const U=Eh();xo(U,new ty(U))}function ny(v,U){ta.call(this,gd.STAT_EVENT,v),this.stat=U}function ra(v){const U=Eh();xo(U,new ny(U,v))}function ry(v,U){ta.call(this,gd.Ma,v),this.size=U}function Vf(v,U){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){v()},U)}function gg(){this.g=!0}function Lf(v,U,q,ge){v.info(function(){return"XMLHTTP TEXT ("+U+"): "+function j0(v,U){if(!v.g)return U;if(!U)return null;try{var q=JSON.parse(U);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var ge=q[v];if(!(2>ge.length)){var gt=ge[1];if(Array.isArray(gt)&&!(1>gt.length)){var xt=gt[0];if("noop"!=xt&&"stop"!=xt&&"close"!=xt)for(var Dn=1;Dn<gt.length;Dn++)gt[Dn]=""}}}return Z_(q)}catch{return U}}(v,q)+(ge?" "+ge:"")})}gd.La="serverreachability",Gt(ty,ta),gd.STAT_EVENT="statevent",Gt(ny,ta),gd.Ma="timingevent",Gt(ry,ta),gg.prototype.xa=function(){this.g=!1},gg.prototype.info=function(){};var Fm,km={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ov={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Vm(){}function md(v,U,q,ge){this.j=v,this.i=U,this.l=q,this.R=ge||1,this.U=new hg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nv}function Nv(){this.i=null,this.g="",this.h=!1}Gt(Vm,fg),Vm.prototype.g=function(){return new XMLHttpRequest},Vm.prototype.i=function(){return{}},Fm=new Vm;var sy={},Lm={};function oy(v,U,q){v.L=1,v.v=Bf(Aa(U)),v.m=q,v.P=!0,B0(v,null)}function B0(v,U){v.F=Date.now(),Um(v),v.A=Aa(v.v);var q=v.A,ge=v.R;Array.isArray(ge)||(ge=[String(ge)]),fy(q.i,"t",ge),v.C=0,q=v.j.J,v.h=new Nv,v.g=Gl(v.j,q?U:null,!v.m),0<v.O&&(v.M=new kE(je(v.Y,v,v.g),v.O)),U=v.U,q=v.g,ge=v.ca;var gt="readystatechange";Array.isArray(gt)||(gt&&(Q_[0]=gt.toString()),gt=Q_);for(var xt=0;xt<gt.length;xt++){var Dn=W_(q,gt[xt],ge||U.handleEvent,!1,U.h||U);if(!Dn)break;U.g[Dn.key]=Dn}U=v.H?Oe(v.H):{},v.m?(v.u||(v.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,U)):(v.u="GET",v.g.ea(v.A,v.u,null,U)),Ff(),function Rv(v,U,q,ge,gt,xt){v.info(function(){if(v.g)if(xt)for(var Dn="",is=xt.split("&"),Ys=0;Ys<is.length;Ys++){var Li=is[Ys].split("=");if(1<Li.length){var $o=Li[0];Li=Li[1];var Ho=$o.split("_");Dn=2<=Ho.length&&"type"==Ho[1]?Dn+($o+"=")+Li+"&":Dn+($o+"=redacted&")}}else Dn=null;else Dn=xt;return"XMLHTTP REQ ("+ge+") [attempt "+gt+"]: "+U+"\n"+q+"\n"+Dn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function ay(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function cy(v,U){var q=v.C,ge=U.indexOf("\n",q);return-1==ge?Lm:(q=Number(U.substring(q,ge)),isNaN(q)?sy:(ge+=1)+q>U.length?Lm:(U=U.slice(ge,ge+q),v.C=ge+q,U))}function Um(v){v.S=Date.now()+v.I,zi(v,v.I)}function zi(v,U){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Vf(je(v.ba,v),U)}function ly(v){v.B&&(P.clearTimeout(v.B),v.B=null)}function bh(v){0==v.j.G||v.J||ol(v.j,v)}function jl(v){ly(v);var U=v.M;U&&"function"==typeof U.ma&&U.ma(),v.M=null,J_(v.U),v.g&&(U=v.g,v.g=null,U.abort(),U.ma())}function jm(v,U){try{var q=v.j;if(0!=q.G&&(q.g==v||Ih(q.h,v)))if(!v.K&&Ih(q.h,v)&&3==q.G){try{var ge=q.Da.g.parse(U)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var gt=ge;if(0==gt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;jo(q),Mh(q)}Qf(q),ra(18)}}else q.za=gt[1],0<q.za-q.T&&37500>gt[2]&&q.F&&0==q.v&&!q.C&&(q.C=Vf(je(q.Za,q),6e3));if(1>=Au(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Td(q,11)}else if((v.K||q.g==v)&&jo(q),!fr(U))for(gt=q.Da.g.parse(U),U=0;U<gt.length;U++){let Li=gt[U];if(q.T=Li[0],Li=Li[1],2==q.G)if("c"==Li[0]){q.K=Li[1],q.ia=Li[2];const $o=Li[3];null!=$o&&(q.la=$o,q.j.info("VER="+q.la));const Ho=Li[4];null!=Ho&&(q.Aa=Ho,q.j.info("SVER="+q.Aa));const Sc=Li[5];null!=Sc&&"number"==typeof Sc&&0<Sc&&(q.L=ge=1.5*Sc,q.j.info("backChannelRequestTimeoutMs_="+ge)),ge=q;const Ro=v.g;if(Ro){const Oh=Ro.g?Ro.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oh){var xt=ge.h;xt.g||-1==Oh.indexOf("spdy")&&-1==Oh.indexOf("quic")&&-1==Oh.indexOf("h2")||(xt.j=xt.l,xt.g=new Set,xt.h&&(wa(xt,xt.h),xt.h=null))}if(ge.D){const Jf=Ro.g?Ro.g.getResponseHeader("X-HTTP-Session-Id"):null;Jf&&(ge.ya=Jf,fs(ge.I,ge.D,Jf))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Dn=v;if((ge=q).qa=qm(ge,ge.J?ge.ia:null,ge.W),Dn.K){mg(ge.h,Dn);var is=Dn,Ys=ge.L;Ys&&(is.I=Ys),is.B&&(ly(is),Um(is)),ge.g=Dn}else Xf(ge);0<q.i.length&&Va(q)}else"stop"!=Li[0]&&"close"!=Li[0]||Td(q,7);else 3==q.G&&("stop"==Li[0]||"close"==Li[0]?"stop"==Li[0]?Td(q,7):xh(q):"noop"!=Li[0]&&q.l&&q.l.ta(Li),q.v=0)}Ff()}catch{}}function Ch(v){this.l=v||10,v=P.PerformanceNavigationTiming?0<(v=P.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mo(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Au(v){return v.h?1:v.g?v.g.size:0}function Ih(v,U){return v.h?v.h==U:!!v.g&&v.g.has(U)}function wa(v,U){v.g?v.g.add(U):v.h=U}function mg(v,U){v.h&&v.h==U?v.h=null:v.g&&v.g.has(U)&&v.g.delete(U)}function _d(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let U=v.i;for(const q of v.g.values())U=U.concat(q.D);return U}return hn(v.i)}function yd(v,U){if(v.forEach&&"function"==typeof v.forEach)v.forEach(U,void 0);else if(F(v)||"string"==typeof v)Array.prototype.forEach.call(v,U,void 0);else for(var q=function Th(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(F(v)||"string"==typeof v){var U=[];v=v.length;for(var q=0;q<v;q++)U.push(q);return U}U=[],q=0;for(const ge in v)U[q++]=ge;return U}}}(v),ge=function Uf(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(F(v)){for(var U=[],q=v.length,ge=0;ge<q;ge++)U.push(v[ge]);return U}for(ge in U=[],q=0,v)U[q++]=v[ge];return U}(v),gt=ge.length,xt=0;xt<gt;xt++)U.call(void 0,ge[xt],q&&q[xt],v)}md.prototype.ca=function(v){v=v.target;const U=this.M;U&&3==sl(v)?U.j():this.Y(v)},md.prototype.Y=function(v){try{if(v==this.g)e:{const Ho=sl(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>Ho)&&(3!=Ho||this.g&&(this.h.h||this.g.oa()||vg(this.g)))){this.J||4!=Ho||7==U||Ff(),ly(this);var q=this.g.Z();this.X=q;t:if(ay(this)){var ge=vg(this.g);v="";var gt=ge.length,xt=4==sl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jl(this),bh(this);var Dn="";break t}this.h.i=new P.TextDecoder}for(U=0;U<gt;U++)this.h.h=!0,v+=this.h.i.decode(ge[U],{stream:!(xt&&U==gt-1)});ge.length=0,this.h.g+=v,this.C=0,Dn=this.h.g}else Dn=this.g.oa();if(this.o=200==q,function iy(v,U,q,ge,gt,xt,Dn){v.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+gt+"]: "+U+"\n"+q+"\n"+xt+" "+Dn})}(this.i,this.u,this.A,this.l,this.R,Ho,q),this.o){if(this.T&&!this.K){t:{if(this.g){var is,Ys=this.g;if((is=Ys.g?Ys.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(is)){var Li=is;break t}}Li=null}if(!(q=Li)){this.o=!1,this.s=3,ra(12),jl(this),bh(this);break e}Lf(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jm(this,q)}if(this.P){let Ro;for(q=!0;!this.J&&this.C<Dn.length;){if(Ro=cy(this,Dn),Ro==Lm){4==Ho&&(this.s=4,ra(14),q=!1),Lf(this.i,this.l,null,"[Incomplete Response]");break}if(Ro==sy){this.s=4,ra(15),Lf(this.i,this.l,Dn,"[Invalid Chunk]"),q=!1;break}Lf(this.i,this.l,Ro,null),jm(this,Ro)}if(ay(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ho||0!=Dn.length||this.h.h||(this.s=1,ra(16),q=!1),this.o=this.o&&q,q){if(0<Dn.length&&!this.W){this.W=!0;var $o=this.j;$o.g==this&&$o.ba&&!$o.M&&($o.j.info("Great, no buffering proxy detected. Bytes received: "+Dn.length),Eg($o),$o.M=!0,ra(11))}}else Lf(this.i,this.l,Dn,"[Invalid Chunked Response]"),jl(this),bh(this)}else Lf(this.i,this.l,Dn,null),jm(this,Dn);4==Ho&&jl(this),this.o&&!this.J&&(4==Ho?ol(this.j,this):(this.o=!1,Um(this)))}else(function Wm(v){const U={};v=(v.g&&2<=sl(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<v.length;ge++){if(fr(v[ge]))continue;var q=ht(v[ge]);const gt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const xt=U[gt]||[];U[gt]=xt,xt.push(q)}!function at(v,U){for(const q in v)U.call(void 0,v[q],q,v)}(U,function(ge){return ge.join(", ")})})(this.g),400==q&&0<Dn.indexOf("Unknown SID")?(this.s=3,ra(12)):(this.s=0,ra(13)),jl(this),bh(this)}}}catch{}},md.prototype.cancel=function(){this.J=!0,jl(this)},md.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function Nm(v,U){v.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(Ff(),ra(17)),jl(this),this.s=2,bh(this)):zi(this,this.S-v)},Ch.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var vd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof rc){this.h=v.h,Bl(this,v.j),this.o=v.o,this.g=v.g,jf(this,v.s),this.l=v.l;var U=v.i,q=new _g;q.i=U.i,U.g&&(q.g=new Map(U.g),q.h=U.h),Bm(this,q),this.m=v.m}else v&&(U=String(v).match(vd))?(this.h=!1,Bl(this,U[1]||"",!0),this.o=Ah(U[2]||""),this.g=Ah(U[3]||"",!0),jf(this,U[4]),this.l=Ah(U[5]||"",!0),Bm(this,U[6]||"",!0),this.m=Ah(U[7]||"")):(this.h=!1,this.i=new _g(null,this.h))}function Aa(v){return new rc(v)}function Bl(v,U,q){v.j=q?Ah(U,!0):U,v.j&&(v.j=v.j.replace(/:$/,""))}function jf(v,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);v.s=U}else v.s=null}function Bm(v,U,q){U instanceof _g?(v.i=U,function Su(v,U){U&&!v.j&&(Du(v),v.i=null,v.g.forEach(function(q,ge){var gt=ge.toLowerCase();ge!=gt&&(hy(this,ge),fy(this,gt,q))},v)),v.j=U}(v.i,v.h)):(q||(U=Dh(U,kv)),v.i=new _g(U,v.h))}function fs(v,U,q){v.i.set(U,q)}function Bf(v){return fs(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Ah(v,U){return v?U?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Dh(v,U,q){return"string"==typeof v?(v=encodeURI(v).replace(U,uy),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function uy(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}rc.prototype.toString=function(){var v=[],U=this.j;U&&v.push(Dh(U,$m,!0),":");var q=this.g;return(q||"file"==U)&&(v.push("//"),(U=this.o)&&v.push(Dh(U,$m,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(Dh(q,"/"==q.charAt(0)?Hm:dy,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",Dh(q,$0)),v.join("")};var v,$m=/[#\/\?@]/g,dy=/[#\?:]/g,Hm=/[#\?]/g,kv=/[#\?@]/g,$0=/#/g;function _g(v,U){this.h=this.g=null,this.i=v||null,this.j=!!U}function Du(v){v.g||(v.g=new Map,v.h=0,v.i&&function wh(v,U){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var ge=v[q].indexOf("="),gt=null;if(0<=ge){var xt=v[q].substring(0,ge);gt=v[q].substring(ge+1)}else xt=v[q];U(xt,gt?decodeURIComponent(gt.replace(/\+/g," ")):"")}}}(v.i,function(U,q){v.add(decodeURIComponent(U.replace(/\+/g," ")),q)}))}function hy(v,U){Du(v),U=$f(v,U),v.g.has(U)&&(v.i=null,v.h-=v.g.get(U).length,v.g.delete(U))}function H0(v,U){return Du(v),U=$f(v,U),v.g.has(U)}function fy(v,U,q){hy(v,U),0<q.length&&(v.i=null,v.g.set($f(v,U),hn(q)),v.h+=q.length)}function $f(v,U){return U=String(U),v.j&&(U=U.toLowerCase()),U}function ic(v,U,q,ge,gt){try{gt&&(gt.onload=null,gt.onerror=null,gt.onabort=null,gt.ontimeout=null),ge(q)}catch{}}function Ed(){this.g=new Mv}function ia(v,U,q){const ge=q||"";try{yd(v,function(gt,xt){let Dn=gt;K(gt)&&(Dn=Z_(gt)),U.push(ge+xt+"="+encodeURIComponent(Dn))})}catch(gt){throw U.push(ge+"type="+encodeURIComponent("_badmap")),gt}}function $l(v){this.l=v.Ub||null,this.j=v.eb||!1}function Hf(v,U){na.call(this),this.D=v,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pu(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Sh(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Dc(v)}function Dc(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function bd(v){let U="";return ui(v,function(q,ge){U+=ge,U+=":",U+=q,U+="\r\n"}),U}function zm(v,U,q){e:{for(ge in q){var ge=!1;break e}ge=!0}ge||(q=bd(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):fs(v,U,q))}function qs(v){na.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=_g.prototype).add=function(v,U){Du(this),this.i=null,v=$f(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(U),this.h+=1,this},d.forEach=function(v,U){Du(this),this.g.forEach(function(q,ge){q.forEach(function(gt){v.call(U,gt,ge,this)},this)},this)},d.na=function(){Du(this);const v=Array.from(this.g.values()),U=Array.from(this.g.keys()),q=[];for(let ge=0;ge<U.length;ge++){const gt=v[ge];for(let xt=0;xt<gt.length;xt++)q.push(U[ge])}return q},d.V=function(v){Du(this);let U=[];if("string"==typeof v)H0(this,v)&&(U=U.concat(this.g.get($f(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)U=U.concat(v[q])}return U},d.set=function(v,U){return Du(this),this.i=null,H0(this,v=$f(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[U]),this.h+=1,this},d.get=function(v,U){return v&&0<(v=this.V(v)).length?String(v[0]):U},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],U=Array.from(this.g.keys());for(var q=0;q<U.length;q++){var ge=U[q];const xt=encodeURIComponent(String(ge)),Dn=this.V(ge);for(ge=0;ge<Dn.length;ge++){var gt=xt;""!==Dn[ge]&&(gt+="="+encodeURIComponent(String(Dn[ge]))),v.push(gt)}}return this.i=v.join("&")},Gt($l,fg),$l.prototype.g=function(){return new Hf(this.l,this.j)},$l.prototype.i=(v={},function(){return v}),Gt(Hf,na),(d=Hf.prototype).open=function(v,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=U,this.readyState=1,Dc(this)},d.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(U.body=v),(this.D||P).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sh(this)),this.readyState=0},d.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var U=v.value?v.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!v.done}))&&(this.response=this.responseText+=U)}v.done?Sh(this):Dc(this),3==this.readyState&&Pu(this)}},d.Ra=function(v){this.g&&(this.response=this.responseText=v,Sh(this))},d.Qa=function(v){this.g&&(this.response=v,Sh(this))},d.ga=function(){this.g&&Sh(this)},d.setRequestHeader=function(v,U){this.u.append(v,U)},d.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],U=this.h.entries();for(var q=U.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=U.next();return v.join("\r\n")},Object.defineProperty(Hf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Gt(qs,na);var Fv=/^https?$/i,gy=["POST","PUT"];function Gf(v,U){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=U,v.m=5,yg(v),zf(v)}function yg(v){v.A||(v.A=!0,xo(v,"complete"),xo(v,"error"))}function Ph(v){if(v.h&&typeof b<"u"&&(!v.v[1]||4!=sl(v)||2!=v.Z()))if(v.u&&4==sl(v))X_(v.Ea,0,v);else if(xo(v,"readystatechange"),4==sl(v)){v.h=!1;try{const Dn=v.Z();e:switch(Dn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var q;if(!(q=U)){var ge;if(ge=0===Dn){var gt=String(v.D).match(vd)[1]||null;!gt&&P.self&&P.self.location&&(gt=P.self.location.protocol.slice(0,-1)),ge=!Fv.test(gt?gt.toLowerCase():"")}q=ge}if(q)xo(v,"complete"),xo(v,"success");else{v.m=6;try{var xt=2<sl(v)?v.g.statusText:""}catch{xt=""}v.l=xt+" ["+v.Z()+"]",yg(v)}}finally{zf(v)}}}function zf(v,U){if(v.g){my(v);const q=v.g,ge=v.v[0]?()=>{}:null;v.g=null,v.v=null,U||xo(v,"ready");try{q.onreadystatechange=ge}catch{}}}function my(v){v.I&&(P.clearTimeout(v.I),v.I=null)}function sl(v){return v.g?v.g.readyState:0}function vg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Hl(v,U,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||U}function Wf(v){this.Aa=0,this.i=[],this.j=new gg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hl("baseRetryDelayMs",5e3,v),this.cb=Hl("retryDelaySeedMs",1e4,v),this.Wa=Hl("forwardChannelMaxRetries",2,v),this.wa=Hl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Ch(v&&v.concurrentRequestLimit),this.Da=new Ed,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function xh(v){if(Kf(v),3==v.G){var U=v.U++,q=Aa(v.I);if(fs(q,"SID",v.K),fs(q,"RID",U),fs(q,"TYPE","terminate"),Yf(v,q),(U=new md(v,v.j,U)).L=2,U.v=Bf(Aa(q)),q=!1,P.navigator&&P.navigator.sendBeacon)try{q=P.navigator.sendBeacon(U.v.toString(),"")}catch{}!q&&P.Image&&((new Image).src=U.v,q=!0),q||(U.g=Gl(U.j,null),U.g.ea(U.v)),U.F=Date.now(),Um(U)}bg(v)}function Mh(v){v.g&&(Eg(v),v.g.cancel(),v.g=null)}function Kf(v){Mh(v),v.u&&(P.clearTimeout(v.u),v.u=null),jo(v),v.h.cancel(),v.s&&("number"==typeof v.s&&P.clearTimeout(v.s),v.s=null)}function Va(v){if(!Mo(v.h)&&!v.s){v.s=!0;var U=v.Ga;Of||Pm(),og||(Of(),og=!0),z_.add(U,v),v.B=0}}function qf(v,U){var q;q=U?U.l:v.U++;const ge=Aa(v.I);fs(ge,"SID",v.K),fs(ge,"RID",q),fs(ge,"AID",v.T),Yf(v,ge),v.m&&v.o&&zm(ge,v.m,v.o),q=new md(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),U&&(v.i=U.D.concat(v.i)),U=Cd(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),wa(v.h,q),oy(q,ge,U)}function Yf(v,U){v.H&&ui(v.H,function(q,ge){fs(U,ge,q)}),v.l&&yd({},function(q,ge){fs(U,ge,q)})}function Cd(v,U,q){q=Math.min(v.i.length,q);var ge=v.l?je(v.l.Na,v.l,v):null;e:{var gt=v.i;let xt=-1;for(;;){const Dn=["count="+q];-1==xt?0<q?(xt=gt[0].g,Dn.push("ofs="+xt)):xt=0:Dn.push("ofs="+xt);let is=!0;for(let Ys=0;Ys<q;Ys++){let Li=gt[Ys].g;const $o=gt[Ys].map;if(Li-=xt,0>Li)xt=Math.max(0,gt[Ys].g-100),is=!1;else try{ia($o,Dn,"req"+Li+"_")}catch{ge&&ge($o)}}if(is){ge=Dn.join("&");break e}}}return v=v.i.splice(0,q),U.D=v,ge}function Xf(v){if(!v.g&&!v.u){v.Y=1;var U=v.Fa;Of||Pm(),og||(Of(),og=!0),z_.add(U,v),v.v=0}}function Qf(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Vf(je(v.Fa,v),Id(v,v.v)),v.v++,0))}function Eg(v){null!=v.A&&(P.clearTimeout(v.A),v.A=null)}function sc(v){v.g=new md(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var U=Aa(v.qa);fs(U,"RID","rpc"),fs(U,"SID",v.K),fs(U,"AID",v.T),fs(U,"CI",v.F?"0":"1"),!v.F&&v.ja&&fs(U,"TO",v.ja),fs(U,"TYPE","xmlhttp"),Yf(v,U),v.m&&v.o&&zm(U,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=Bf(Aa(U)),q.m=null,q.P=!0,B0(q,v)}function jo(v){null!=v.C&&(P.clearTimeout(v.C),v.C=null)}function ol(v,U){var q=null;if(v.g==U){jo(v),Eg(v),v.g=null;var ge=2}else{if(!Ih(v.h,U))return;q=U.D,mg(v.h,U),ge=1}if(0!=v.G)if(U.o)if(1==ge){q=U.m?U.m.length:0,U=Date.now()-U.F;var gt=v.B;xo(ge=Eh(),new ry(ge,q)),Va(v)}else Xf(v);else if(3==(gt=U.s)||0==gt&&0<U.X||!(1==ge&&function Km(v,U){return!(Au(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=U.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Vf(je(v.Ga,v,U),Id(v,v.B)),v.B++,0)))}(v,U)||2==ge&&Qf(v)))switch(q&&0<q.length&&(U=v.h,U.i=U.i.concat(q)),gt){case 1:Td(v,5);break;case 4:Td(v,10);break;case 3:Td(v,6);break;default:Td(v,2)}}function Id(v,U){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*U}function Td(v,U){if(v.j.info("Error code "+U),2==U){var q=je(v.fb,v),ge=v.Xa;const gt=!ge;ge=new rc(ge||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Bl(ge,"https"),Bf(ge),gt?function py(v,U){const q=new gg;if(P.Image){const ge=new Image;ge.onload=yt(ic,q,"TestLoadImage: loaded",!0,U,ge),ge.onerror=yt(ic,q,"TestLoadImage: error",!1,U,ge),ge.onabort=yt(ic,q,"TestLoadImage: abort",!1,U,ge),ge.ontimeout=yt(ic,q,"TestLoadImage: timeout",!1,U,ge),P.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=v}else U(!1)}(ge.toString(),q):function Gm(v,U){new gg;const ge=new AbortController,gt=setTimeout(()=>{ge.abort(),ic(0,0,!1,U)},1e4);fetch(v,{signal:ge.signal}).then(xt=>{clearTimeout(gt),ic(0,0,!!xt.ok,U)}).catch(()=>{clearTimeout(gt),ic(0,0,!1,U)})}(ge.toString(),q)}else ra(2);v.G=0,v.l&&v.l.sa(U),bg(v),Kf(v)}function bg(v){if(v.G=0,v.ka=[],v.l){const U=_d(v.h);(0!=U.length||0!=v.i.length)&&(nn(v.ka,U),nn(v.ka,v.i),v.h.i.length=0,hn(v.i),v.i.length=0),v.l.ra()}}function qm(v,U,q){var ge=q instanceof rc?Aa(q):new rc(q);if(""!=ge.g)U&&(ge.g=U+"."+ge.g),jf(ge,ge.s);else{var gt=P.location;ge=gt.protocol,U=U?U+"."+gt.hostname:gt.hostname,gt=+gt.port;var xt=new rc(null);ge&&Bl(xt,ge),U&&(xt.g=U),gt&&jf(xt,gt),q&&(xt.l=q),ge=xt}return U=v.ya,(q=v.D)&&U&&fs(ge,q,U),fs(ge,"VER",v.la),Yf(v,ge),ge}function Gl(v,U,q){if(U&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new qs(v.Ca&&!v.pa?new $l({eb:q}):v.pa)).Ha(v.J),U}function xu(){}function Rh(){}function Bo(v,U){na.call(this),this.g=new Wf(U),this.l=v,this.h=U&&U.messageUrlParams||null,v=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(v?v["X-WebChannel-Content-Type"]=U.messageContentType:v={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(v?v["X-WebChannel-Client-Profile"]=U.va:v={"X-WebChannel-Client-Profile":U.va}),this.g.S=v,(v=U&&U.Sb)&&!fr(v)&&(this.g.m=v),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!fr(U)&&(this.g.D=U,null!==(v=this.h)&&U in v&&U in(v=this.h)&&delete v[U]),this.j=new wd(this)}function Vv(v){vh.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var U=v.__sm__;if(U){e:{for(const q in U){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,U=null!==U&&v in U?U[v]:void 0),this.data=U}else this.data=v}function _y(){pg.call(this),this.status=1}function wd(v){this.g=v}(d=qs.prototype).Ha=function(v){this.J=v},d.ea=function(v,U,q,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);U=U?U.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fm.g(),this.v=function _h(v){return v.h||(v.h=v.i())}(this.o?this.o:Fm),this.g.onreadystatechange=je(this.Ea,this);try{this.B=!0,this.g.open(U,String(v),!0),this.B=!1}catch(xt){return void Gf(this,xt)}if(v=q||"",q=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var gt in ge)q.set(gt,ge[gt]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const xt of ge.keys())q.set(xt,ge.get(xt))}ge=Array.from(q.keys()).find(xt=>"content-type"==xt.toLowerCase()),gt=P.FormData&&v instanceof P.FormData,!(0<=Array.prototype.indexOf.call(gy,U,void 0))||ge||gt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xt,Dn]of q)this.g.setRequestHeader(xt,Dn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{my(this),this.u=!0,this.g.send(v),this.u=!1}catch(xt){Gf(this,xt)}},d.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,xo(this,"complete"),xo(this,"abort"),zf(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zf(this,!0)),qs.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?Ph(this):this.bb())},d.bb=function(){Ph(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<sl(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(v){if(this.g){var U=this.g.responseText;return v&&0==U.indexOf(v)&&(U=U.substring(v.length)),U0(U)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=Wf.prototype).la=8,d.G=1,d.connect=function(v,U,q,ge){ra(0),this.W=v,this.H=U||{},q&&void 0!==ge&&(this.H.OSID=q,this.H.OAID=ge),this.F=this.X,this.I=qm(this,null,this.W),Va(this)},d.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const gt=new md(this,this.j,v);let xt=this.o;if(this.S&&(xt?(xt=Oe(xt),ct(xt,this.S)):xt=this.S),null!==this.m||this.O||(gt.H=xt,xt=null),this.P)e:{for(var U=0,q=0;q<this.i.length;q++){var ge=this.i[q];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(U+=ge)){U=q;break e}if(4096===U||q===this.i.length-1){U=q+1;break e}}U=1e3}else U=1e3;U=Cd(this,gt,U),fs(q=Aa(this.I),"RID",v),fs(q,"CVER",22),this.D&&fs(q,"X-HTTP-Session-Id",this.D),Yf(this,q),xt&&(this.O?U="headers="+encodeURIComponent(String(bd(xt)))+"&"+U:this.m&&zm(q,this.m,xt)),wa(this.h,gt),this.Ua&&fs(q,"TYPE","init"),this.P?(fs(q,"$req",U),fs(q,"SID","null"),gt.T=!0,oy(gt,q,null)):oy(gt,q,U),this.G=2}}else 3==this.G&&(v?qf(this,v):0==this.i.length||Mo(this.h)||qf(this))},d.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Vf(je(this.ab,this),v)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ra(10),Mh(this),sc(this))},d.Za=function(){null!=this.C&&(this.C=null,Mh(this),Qf(this),ra(19))},d.fb=function(v){v?(this.j.info("Successfully pinged google.com"),ra(2)):(this.j.info("Failed to ping google.com"),ra(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=xu.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Rh.prototype.g=function(v,U){return new Bo(v,U)},Gt(Bo,na),Bo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bo.prototype.close=function(){xh(this.g)},Bo.prototype.o=function(v){var U=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=Z_(v),v=q);U.i.push(new class{constructor(v,U){this.g=v,this.map=U}}(U.Ya++,v)),3==U.G&&Va(U)},Bo.prototype.N=function(){this.g.l=null,delete this.j,xh(this.g),delete this.g,Bo.aa.N.call(this)},Gt(Vv,vh),Gt(_y,pg),Gt(wd,xu),wd.prototype.ua=function(){xo(this.g,"a")},wd.prototype.ta=function(v){xo(this.g,new Vv(v))},wd.prototype.sa=function(v){xo(this.g,new _y)},wd.prototype.ra=function(){xo(this.g,"b")},Rh.prototype.createWebChannel=Rh.prototype.g,Bo.prototype.send=Bo.prototype.o,Bo.prototype.open=Bo.prototype.m,Bo.prototype.close=Bo.prototype.close,Be=ue.createWebChannelTransport=function(){return new Rh},pn=ue.getStatEventTarget=function(){return Eh()},Nt=ue.Event=gd,Bt=ue.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},km.NO_ERROR=0,km.TIMEOUT=8,km.HTTP_ERROR=6,Dt=ue.ErrorCode=km,Ov.COMPLETE="complete",St=ue.EventType=Ov,ey.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",na.prototype.listen=na.prototype.K,Qe=ue.WebChannel=ey,ue.FetchXmlHttpFactory=$l,qs.prototype.listenOnce=qs.prototype.L,qs.prototype.getLastError=qs.prototype.Ka,qs.prototype.getLastErrorCode=qs.prototype.Ba,qs.prototype.getStatus=qs.prototype.Z,qs.prototype.getResponseJson=qs.prototype.Oa,qs.prototype.getResponseText=qs.prototype.oa,qs.prototype.send=qs.prototype.ea,qs.prototype.setWithCredentials=qs.prototype.Ha,_e=ue.XhrIo=qs}).apply(typeof ee<"u"?ee:typeof self<"u"?self:typeof window<"u"?window:{});const be="@firebase/firestore";class Je{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let We="10.14.0";const it=new Te.Vy("@firebase/firestore");function Pt(){return it.logLevel}function kt(d){it.setLogLevel(d)}function De(d,...e){if(it.logLevel<=Te.$b.DEBUG){const r=e.map(gr);it.debug(`Firestore (${We}): ${d}`,...r)}}function rn(d,...e){if(it.logLevel<=Te.$b.ERROR){const r=e.map(gr);it.error(`Firestore (${We}): ${d}`,...r)}}function vn(d,...e){if(it.logLevel<=Te.$b.WARN){const r=e.map(gr);it.warn(`Firestore (${We}): ${d}`,...r)}}function gr(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Ot(d="Unexpected state"){const e=`FIRESTORE (${We}) INTERNAL ASSERTION FAILED: `+d;throw rn(e),new Error(e)}function $t(d,e){d||Ot()}function Xt(d,e){d||Ot()}function dt(d,e){return d}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends pe.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class en{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Ue{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class we{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Je.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ke{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;$t(void 0===this.o);let h=this.i;const _=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new en;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new en,e.enqueueRetryable(()=>_(this.currentUser))};const P=()=>{const K=b;e.enqueueRetryable((0,o.A)(function*(){yield K.promise,yield _(a.currentUser)}))},F=K=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(K=>F(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?F(K):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new en)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t("string"==typeof a.accessToken),new Ue(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new Je(e)}}class tt{constructor(e,r,a){this.l=e,this.h=r,this.P=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qe{constructor(e,r,a){this.l=e,this.h=r,this.P=a}getToken(){return Promise.resolve(new tt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){$t(void 0===this.o);const a=_=>{null!=_.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,De("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};const h=_=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?($t("string"==typeof r.token),this.R=r.token,new Vt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<d;a++)r[a]=Math.floor(256*Math.random());return r}class Bn{static newId(){const r=62*Math.floor(256/62);let a="";for(;a.length<20;){const h=sn(40);for(let _=0;_<h.length;++_)a.length<20&&h[_]<r&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return a}}function Qt(d,e){return d<e?-1:d>e?1:0}function Gn(d,e,r){return d.length===e.length&&d.every((a,h)=>r(a,e[h]))}function Fn(d){return d+"\0"}class Kt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Kt(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Kt(0,0))}static max(){return new jt(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cr{constructor(e,r,a){void 0===r?r=0:r>e.length&&Ot(),void 0===a?a=e.length-r:a>e.length-r&&Ot(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===Cr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let h=0;h<a;h++){const _=e.get(h),b=r.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class un extends Cr{construct(e,r,a){return new un(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(h=>h.length>0))}return new un(r)}static emptyPath(){return new un([])}}const Lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Cr{construct(e,r,a){return new er(e,r,a)}static isValidIdentifier(e){return Lr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const r=[];let a="",h=0;const _=()=>{if(0===a.length)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let b=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new Ze(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Ze(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=F,h+=2}else"`"===P?(b=!b,h++):"."!==P||b?(a+=P,h++):(_(),h++)}if(_(),b)throw new Ze(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(r)}static emptyPath(){return new er([])}}class Ht{constructor(e){this.path=e}static fromPath(e){return new Ht(un.fromString(e))}static fromName(e){return new Ht(un.fromString(e).popFirst(5))}static empty(){return new Ht(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return un.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ht(new un(e.slice()))}}class Tn{constructor(e,r,a,h){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=h}}function Wn(d){return d.fields.find(e=>2===e.kind)}function An(d){return d.fields.filter(e=>2!==e.kind)}Tn.UNKNOWN_ID=-1;class Or{constructor(e,r){this.fieldPath=e,this.kind=r}}class Xn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Xn(0,gn.min())}}function yi(d,e){const r=d.toTimestamp().seconds,a=d.toTimestamp().nanoseconds+1,h=jt.fromTimestamp(1e9===a?new Kt(r+1,0):new Kt(r,a));return new gn(h,Ht.empty(),e)}function Ts(d){return new gn(d.readTime,d.key,-1)}class gn{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new gn(jt.min(),Ht.empty(),-1)}static max(){return new gn(jt.max(),Ht.empty(),-1)}}function oi(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ht.comparator(d.documentKey,e.documentKey),0!==r?r:Qt(d.largestBatchId,e.largestBatchId))}const rr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Kn(d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,o.A)(function*(d){if(d.code!==Ne.FAILED_PRECONDITION||d.message!==rr)throw d;De("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((a,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(a,h)},this.catchCallback=_=>{this.wrapFailure(r,_).next(a,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,a)=>{r(e)})}static reject(e){return new et((r,a)=>{a(e)})}static waitFor(e){return new et((r,a)=>{let h=0,_=0,b=!1;e.forEach(P=>{++h,P.next(()=>{++_,b&&_===h&&r()},F=>a(F))}),b=!0,_===h&&r()})}static or(e){let r=et.resolve(!1);for(const a of e)r=r.next(h=>h?et.resolve(h):a());return r}static forEach(e,r){const a=[];return e.forEach((h,_)=>{a.push(r.call(this,h,_))}),this.waitFor(a)}static mapArray(e,r){return new et((a,h)=>{const _=e.length,b=new Array(_);let P=0;for(let F=0;F<_;F++){const K=F;r(e[K]).next(ie=>{b[K]=ie,++P,P===_&&a(b)},ie=>h(ie))}})}static doWhile(e,r){return new et((a,h)=>{const _=()=>{!0===e()?r().next(()=>{_()},h):a()};_()})}}class mt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new en,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Yt(e,r.error)):this.V.resolve()},this.transaction.onerror=a=>{const h=bt(a.target.error);this.V.reject(new Yt(e,h))}}static open(e,r,a,h){try{return new mt(r,e.transaction(h,a))}catch(_){throw new Yt(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(De("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Wr(r)}}class ce{constructor(e,r,a){this.name=e,this.version=r,this.p=a,12.2===ce.S((0,pe.ZQ)())&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return De("SimpleDb","Removing database:",e),Sr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,pe.zW)())return!1;if(ce.v())return!0;const e=(0,pe.ZQ)(),r=ce.S(e),a=0<r&&r<10,h=xe(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(e){var r=this;return(0,o.A)(function*(){return r.db||(De("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,h)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=b=>{a(b.target.result)},_.onblocked=()=>{h(new Yt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const P=b.target.error;h("VersionError"===P.name?new Ze(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Ze(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Yt(e,P))},_.onupgradeneeded=b=>{De("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,_.transaction,b.oldVersion,r.version).next(()=>{De("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=a=>r.N(a)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,h){var _=this;return(0,o.A)(function*(){const b="readonly"===r;let P=0;for(;;){++P;try{_.db=yield _.M(e);const F=mt.open(_.db,e,b?"readonly":"readwrite",a),K=h(F).next(ie=>(F.g(),ie)).catch(ie=>(F.abort(ie),et.reject(ie))).toPromise();return K.catch(()=>{}),yield F.m,K}catch(F){const K=F,ie="FirebaseError"!==K.name&&P<3;if(De("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ie),_.close(),!ie)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xe(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Et{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Sr(this.B.delete())}}class Yt extends Ze{constructor(e,r){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Hn(d){return"IndexedDbTransactionError"===d.name}class Wr{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(De("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Sr(a)}add(e){return De("SimpleDb","ADD",this.store.name,e,e),Sr(this.store.add(e))}get(e){return Sr(this.store.get(e)).next(r=>(void 0===r&&(r=null),De("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return De("SimpleDb","DELETE",this.store.name,e),Sr(this.store.delete(e))}count(){return De("SimpleDb","COUNT",this.store.name),Sr(this.store.count())}U(e,r){const a=this.options(e,r),h=a.index?this.store.index(a.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(a.range);return new et((b,P)=>{_.onerror=F=>{P(F.target.error)},_.onsuccess=F=>{b(F.target.result)}})}{const _=this.cursor(a),b=[];return this.W(_,(P,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new et((h,_)=>{a.onerror=b=>{_(b.target.error)},a.onsuccess=b=>{h(b.target.result)}})}j(e,r){De("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.H=!1;const h=this.cursor(a);return this.W(h,(_,b,P)=>P.delete())}J(e,r){let a;r?a=e:(a={},r=e);const h=this.cursor(a);return this.W(h,r)}Y(e){const r=this.cursor({});return new et((a,h)=>{r.onerror=_=>{const b=bt(_.target.error);h(b)},r.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(P=>{P?b.continue():a()}):a()}})}W(e,r){const a=[];return new et((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const P=b.target.result;if(!P)return void h();const F=new Et(P),K=r(P.primaryKey,P.value,F);if(K instanceof et){const ie=K.catch(ye=>(F.done(),et.reject(ye)));a.push(ie)}F.isDone?h():null===F.K?P.continue():P.continue(F.K)}}).next(()=>et.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.H?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Sr(d){return new et((e,r)=>{d.onsuccess=a=>{e(a.target.result)},d.onerror=a=>{const h=bt(a.target.error);r(h)}})}let Pi=!1;function bt(d){const e=ce.S((0,pe.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const a=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Pi||(Pi=!0,setTimeout(()=>{throw a},0)),a}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;De("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,o.A)(function*(){r.task=null;try{De("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(a){Hn(a)?De("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Kn(a)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,o.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.te(a,e))})()}te(e,r){const a=new Set;let h=r,_=!0;return et.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!a.has(b))return De("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(P=>{h-=P,a.add(b)});_=!1})).next(()=>r-h)}ne(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,a).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(P=>(De("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>b.size)}))}re(e,r){let a=e;return r.changes.forEach((h,_)=>{const b=Ts(_);oi(b,a)>0&&(a=b)}),new gn(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=h=>this.ie(h),this.se=h=>a.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ne(d){return null==d}function me(d){return 0===d&&1/d==-1/0}function st(d){return"number"==typeof d&&Number.isInteger(d)&&!me(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function At(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=dn(e)),e=an(d.get(r),e);return dn(e)}function an(d,e){let r=e;const a=d.length;for(let h=0;h<a;h++){const _=d.charAt(h);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function dn(d){return d+"\x01\x01"}function Sn(d){const e=d.length;if($t(e>=2),2===e)return $t("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),un.emptyPath();const r=e-2,a=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>r)&&Ot(),d.charAt(b+1)){case"\x01":const P=d.substring(_,b);let F;0===h.length?F=P:(h+=P,F=h,h=""),a.push(F);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Ot()}_=b+2}return new un(a)}const vr=["userId","batchId"];function cn(d,e){return[d,At(e)]}function Br(d,e,r){return[d,At(e),r]}const mr={},Ss=["prefixPath","collectionGroup","readTime","documentId"],wi=["prefixPath","collectionGroup","documentId"],$i=["collectionGroup","readTime","prefixPath","documentId"],Ni=["canonicalId","targetId"],Ai=["targetId","path"],ar=["path","targetId"],Ps=["collectionId","parent"],Ct=["indexId","uid"],nt=["uid","sequenceNumber"],Mt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ln=["indexId","uid","orderedDocumentKey"],Ln=["userId","collectionPath","documentId"],Mn=["userId","collectionPath","largestBatchId"],hr=["userId","collectionGroup","largestBatchId"],$r=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xr=[...$r,"documentOverlays"],Tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yi=Tr,ws=[...Yi,"indexConfiguration","indexState","indexEntries"],Xi=ws,go=[...ws,"globals"];class mo extends Dr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ui(d,e){const r=dt(d);return ce.F(r._e,e)}function Co(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function ii(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function os(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Qr{constructor(e,r){this.comparator=e,this.root=r||Mi.EMPTY}insert(e,r){return new Qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return r+a.left.size;h<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ji(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ji(this.root,e,this.comparator,!1)}getReverseIterator(){return new ji(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ji(this.root,e,this.comparator,!0)}}class ji{constructor(e,r,a,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?a(e.key,r):1,r&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,r,a,h,_){this.key=e,this.value=r,this.color=a??Mi.RED,this.left=h??Mi.EMPTY,this.right=_??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,h,_){return new Mi(e??this.key,r??this.value,a??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let h=this;const _=a(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,r,a),null):0===_?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Mi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,r,a,h,_){return this}insert(e,r,a){return new Mi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Js(this.data.getIterator())}getIteratorFrom(e){return new Js(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=a.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wr(this.comparator);return r.data=e,r}}class Js{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _o(d){return d.hasNext()?d.getNext():void 0}class ai{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new ai([])}unionWith(e){let r=new wr(er.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new ai(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Gn(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class aa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Da(){return typeof atob<"u"}class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new aa("Invalid base64 string: "+_):_}}(e);return new Di(r)}static fromUint8Array(e){const r=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new Di(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let h=0;h<r.length;h++)a[h]=r.charCodeAt(h);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const zo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(d){if($t(!!d),"string"==typeof d){let e=0;const r=zo.exec(d);if($t(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(d);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fe(d.seconds),nanos:fe(d.nanos)}}function fe(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Rt(d){return"string"==typeof d?Di.fromBase64String(d):Di.fromUint8Array(d)}function de(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ot(d){const e=d.mapValue.fields.__previous_value__;return de(e)?ot(e):e}function rt(d){const e=ms(d.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}class kn{constructor(e,r,a,h,_,b,P,F,K){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=P,this.longPollingOptions=F,this.useFetchStreams=K}}class cr{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new cr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cr&&e.projectId===this.projectId&&e.database===this.database}}const ci={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},as={nullValue:"NULL_VALUE"};function ei(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?de(d)?4:tr(d)?9007199254740991:Bi(d)?10:11:Ot()}function cs(d,e){if(d===e)return!0;const r=ei(d);if(r!==ei(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return rt(d).isEqual(rt(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=ms(h.timestampValue),P=ms(_.timestampValue);return b.seconds===P.seconds&&b.nanos===P.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,Rt(d.bytesValue).isEqual(Rt(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return fe(h.geoPointValue.latitude)===fe(_.geoPointValue.latitude)&&fe(h.geoPointValue.longitude)===fe(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return fe(h.integerValue)===fe(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=fe(h.doubleValue),P=fe(_.doubleValue);return b===P?me(b)===me(P):isNaN(b)&&isNaN(P)}return!1}(d,e);case 9:return Gn(d.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},P=_.mapValue.fields||{};if(Co(b)!==Co(P))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===P[F]||!cs(b[F],P[F])))return!1;return!0}(d,e);default:return Ot()}var _}function yo(d,e){return void 0!==(d.values||[]).find(r=>cs(r,e))}function es(d,e){if(d===e)return 0;const r=ei(d),a=ei(e);if(r!==a)return Qt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qt(d.booleanValue,e.booleanValue);case 2:return function(_,b){const P=fe(_.integerValue||_.doubleValue),F=fe(b.integerValue||b.doubleValue);return P<F?-1:P>F?1:P===F?0:isNaN(P)?isNaN(F)?0:-1:1}(d,e);case 3:return xs(d.timestampValue,e.timestampValue);case 4:return xs(rt(d),rt(e));case 5:return Qt(d.stringValue,e.stringValue);case 6:return function(_,b){const P=Rt(_),F=Rt(b);return P.compareTo(F)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const P=_.split("/"),F=b.split("/");for(let K=0;K<P.length&&K<F.length;K++){const ie=Qt(P[K],F[K]);if(0!==ie)return ie}return Qt(P.length,F.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const P=Qt(fe(_.latitude),fe(b.latitude));return 0!==P?P:Qt(fe(_.longitude),fe(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return $s(d.arrayValue,e.arrayValue);case 10:return function(_,b){var P,F,K,ie;const yt=null===(P=(_.fields||{}).value)||void 0===P?void 0:P.arrayValue,Gt=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,hn=Qt((null===(K=yt?.values)||void 0===K?void 0:K.length)||0,(null===(ie=Gt?.values)||void 0===ie?void 0:ie.length)||0);return 0!==hn?hn:$s(yt,Gt)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===ci.mapValue&&b===ci.mapValue)return 0;if(_===ci.mapValue)return 1;if(b===ci.mapValue)return-1;const P=_.fields||{},F=Object.keys(P),K=b.fields||{},ie=Object.keys(K);F.sort(),ie.sort();for(let ye=0;ye<F.length&&ye<ie.length;++ye){const je=Qt(F[ye],ie[ye]);if(0!==je)return je;const yt=es(P[F[ye]],K[ie[ye]]);if(0!==yt)return yt}return Qt(F.length,ie.length)}(d.mapValue,e.mapValue);default:throw Ot()}}function xs(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Qt(d,e);const r=ms(d),a=ms(e),h=Qt(r.seconds,a.seconds);return 0!==h?h:Qt(r.nanos,a.nanos)}function $s(d,e){const r=d.values||[],a=e.values||[];for(let h=0;h<r.length&&h<a.length;++h){const _=es(r[h],a[h]);if(_)return _}return Qt(r.length,a.length)}function hi(d){return _n(d)}function _n(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const a=ms(r);return`time(${a.seconds},${a.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Rt(d.bytesValue).toBase64():"referenceValue"in d?Ht.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let a="[",h=!0;for(const _ of r.values||[])h?h=!1:a+=",",a+=_n(_);return a+"]"}(d.arrayValue):"mapValue"in d?function(r){const a=Object.keys(r.fields||{}).sort();let h="{",_=!0;for(const b of a)_?_=!1:h+=",",h+=`${b}:${_n(r.fields[b])}`;return h+"}"}(d.mapValue):Ot()}function zn(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function fi(d){return!!d&&"integerValue"in d}function vi(d){return!!d&&"arrayValue"in d}function Hr(d){return!!d&&"nullValue"in d}function Ms(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function Gr(d){return!!d&&"mapValue"in d}function Bi(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ts(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return ii(d.mapValue.fields,(r,a)=>e.mapValue.fields[r]=ts(a)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ts(d.arrayValue.values[r]);return e}return Object.assign({},d)}function tr(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const ls={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function us(d){return"nullValue"in d?as:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?zn(cr.empty(),Ht.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?Bi(d)?ls:{mapValue:{}}:Ot()}function Z(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?zn(cr.empty(),Ht.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?ls:"mapValue"in d?Bi(d)?{mapValue:{}}:ci:Ot()}function Q(d,e){const r=es(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Ie(d,e){const r=es(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Re{constructor(e){this.value=e}static empty(){return new Re({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Gr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ts(r)}setAll(e){let r=er.emptyPath(),a={},h=[];e.forEach((b,P)=>{if(!r.isImmediateParentOf(P)){const F=this.getFieldsMap(r);this.applyChanges(F,a,h),a={},h=[],r=P.popLast()}b?a[P.lastSegment()]=ts(b):h.push(P.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,a,h)}delete(e){const r=this.field(e.popLast());Gr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=r.mapValue.fields[e.get(a)];Gr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,a){ii(r,(h,_)=>e[h]=_);for(const h of a)delete e[h]}clone(){return new Re(ts(this.value))}}function Ye(d){const e=[];return ii(d.fields,(r,a)=>{const h=new er([r]);if(Gr(a)){const _=Ye(a.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new ai(e)}class _t{constructor(e,r,a,h,_,b,P){this.key=e,this.documentType=r,this.version=a,this.readTime=h,this.createTime=_,this.data=b,this.documentState=P}static newInvalidDocument(e){return new _t(e,0,jt.min(),jt.min(),jt.min(),Re.empty(),0)}static newFoundDocument(e,r,a,h){return new _t(e,1,r,jt.min(),a,h,0)}static newNoDocument(e,r){return new _t(e,2,r,jt.min(),jt.min(),Re.empty(),0)}static newUnknownDocument(e,r){return new _t(e,3,r,jt.min(),jt.min(),Re.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jt{constructor(e,r){this.position=e,this.inclusive=r}}function Pn(d,e,r){let a=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(a=_.field.isKeyField()?Ht.comparator(Ht.fromName(b.referenceValue),r.key):es(b,r.data.field(_.field)),"desc"===_.dir&&(a*=-1),0!==a)break}return a}function En(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!cs(d.position[r],e.position[r]))return!1;return!0}class Zn{constructor(e,r="asc"){this.field=e,this.dir=r}}function xr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class Un{}class jn extends Un{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,a):new kr(e,r,a):"array-contains"===r?new so(e,a):"in"===r?new oo(e,a):"not-in"===r?new Sa(e,a):"array-contains-any"===r?new ca(e,a):new jn(e,r,a)}static createKeyFieldInFilter(e,r,a){return"in"===r?new vo(e,a):new Hi(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(es(r,this.value)):null!==r&&ei(this.value)===ei(r)&&this.matchesComparison(es(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends Un{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new qn(e,r)}matches(e){return Mr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mr(d){return"and"===d.op}function Ur(d){return"or"===d.op}function zr(d){return Wi(d)&&Mr(d)}function Wi(d){for(const e of d.filters)if(e instanceof qn)return!1;return!0}function ki(d){if(d instanceof jn)return d.field.canonicalString()+d.op.toString()+hi(d.value);if(zr(d))return d.filters.map(e=>ki(e)).join(",");{const e=d.filters.map(r=>ki(r)).join(",");return`${d.op}(${e})`}}function Nr(d,e){return d instanceof jn?(a=d,(h=e)instanceof jn&&a.op===h.op&&a.field.isEqual(h.field)&&cs(a.value,h.value)):d instanceof qn?function(a,h){return h instanceof qn&&a.op===h.op&&a.filters.length===h.filters.length&&a.filters.reduce((_,b,P)=>_&&Nr(b,h.filters[P]),!0)}(d,e):void Ot();var a,h}function Fi(d,e){const r=d.filters.concat(e);return qn.create(r,d.op)}function ti(d){return d instanceof jn?`${(r=d).field.canonicalString()} ${r.op} ${hi(r.value)}`:d instanceof qn?function(r){return r.op.toString()+" {"+r.getFilters().map(ti).join(" ,")+"}"}(d):"Filter";var r}class kr extends jn{constructor(e,r,a){super(e,r,a),this.key=Ht.fromName(a.referenceValue)}matches(e){const r=Ht.comparator(e.key,this.key);return this.matchesComparison(r)}}class vo extends jn{constructor(e,r){super(e,"in",r),this.keys=Hs(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Hi extends jn{constructor(e,r){super(e,"not-in",r),this.keys=Hs(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Hs(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Ht.fromName(a.referenceValue))}class so extends jn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return vi(r)&&yo(r.arrayValue,this.value)}}class oo extends jn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&yo(this.value.arrayValue,r)}}class Sa extends jn{constructor(e,r){super(e,"not-in",r)}matches(e){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!yo(this.value.arrayValue,r)}}class ca extends jn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!vi(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>yo(this.value.arrayValue,a))}}class No{constructor(e,r=null,a=[],h=[],_=null,b=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=h,this.limit=_,this.startAt=b,this.endAt=P,this.ue=null}}function Gs(d,e=null,r=[],a=[],h=null,_=null,b=null){return new No(d,e,r,a,h,_,b)}function Ki(d){const e=dt(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>ki(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(_=a).field.canonicalString()+_.dir;var _}).join(","),ne(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>hi(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>hi(a)).join(",")),e.ue=r}return e.ue}function ao(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!xr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!Nr(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!En(d.startAt,e.startAt)&&En(d.endAt,e.endAt)}function Ua(d){return Ht.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function ja(d,e){return d.filters.filter(r=>r instanceof jn&&r.field.isEqual(e))}function pi(d,e,r){let a=as,h=!0;for(const _ of ja(d,e)){let b=as,P=!0;switch(_.op){case"<":case"<=":b=us(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,P=!1;break;case"!=":case"not-in":b=as}Q({value:a,inclusive:h},{value:b,inclusive:P})<0&&(a=b,h=P)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Q({value:a,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}function Wo(d,e,r){let a=ci,h=!0;for(const _ of ja(d,e)){let b=ci,P=!0;switch(_.op){case">=":case">":b=Z(_.value),P=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,P=!1;break;case"!=":case"not-in":b=ci}Ie({value:a,inclusive:h},{value:b,inclusive:P})>0&&(a=b,h=P)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Ie({value:a,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(a=b,h=r.inclusive);break}return{value:a,inclusive:h}}class co{constructor(e,r=null,a=[],h=[],_=null,b="F",P=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=h,this.limit=_,this.limitType=b,this.startAt=P,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,a,h,_,b,P){return new co(d,e,r,a,h,_,b,P)}function J(d){return new co(d)}function L(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ae(d){return null!==d.collectionGroup}function Le(d){const e=dt(d);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let P=new wr(er.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(K=>{K.isInequality()&&(P=P.add(K.field))})}),P})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new Zn(_,a))}),r.has(er.keyField().canonicalString())||e.ce.push(new Zn(er.keyField(),a))}return e.ce}function yn(d){const e=dt(d);return e.le||(e.le=function _s(d,e){if("F"===d.limitType)return Gs(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Zn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Jt(d.endAt.position,d.endAt.inclusive):null,a=d.startAt?new Jt(d.startAt.position,d.startAt.inclusive):null;return Gs(d.path,d.collectionGroup,e,d.filters,d.limit,r,a)}}(e,Le(d))),e.le}function ys(d,e){const r=d.filters.concat([e]);return new co(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function vs(d,e,r){return new co(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function Io(d,e){return ao(yn(d),yn(e))&&d.limitType===e.limitType}function Zs(d){return`${Ki(yn(d))}|lt:${d.limitType}`}function Es(d){return`Query(target=${function(r){let a=r.path.canonicalString();return null!==r.collectionGroup&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(h=>ti(h)).join(", ")}]`),ne(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(h=>hi(h)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(h=>hi(h)).join(",")),`Target(${a})`}(yn(d))}; limitType=${d.limitType})`}function To(d,e){return e.isFoundDocument()&&function(a,h){const _=h.key.path;return null!==a.collectionGroup?h.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(_):Ht.isDocumentKey(a.path)?a.path.isEqual(_):a.path.isImmediateParentOf(_)}(d,e)&&function(a,h){for(const _ of Le(a))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(a,h){for(const _ of a.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((a=d).startAt&&!function(b,P,F){const K=Pn(b,P,F);return b.inclusive?K<=0:K<0}(a.startAt,Le(a),h)||a.endAt&&!function(b,P,F){const K=Pn(b,P,F);return b.inclusive?K>=0:K>0}(a.endAt,Le(a),h)));var a,h}function ac(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Rs(d){return(e,r)=>{let a=!1;for(const h of Le(d)){const _=Ko(h,e,r);if(0!==_)return _;a=a||h.field.isKeyField()}return 0}}function Ko(d,e,r){const a=d.field.isKeyField()?Ht.comparator(e.key,r.key):function(_,b,P){const F=b.data.field(_),K=P.data.field(_);return null!==F&&null!==K?es(F,K):Ot()}(d.field,e,r);switch(d.dir){case"asc":return a;case"desc":return-1*a;default:return Ot()}}class ns{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[h,_]of a)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,r]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[r]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(r,a)=>{for(const[h,_]of a)e(h,_)})}isEmpty(){return os(this.inner)}size(){return this.innerSize}}const Ba=new Qr(Ht.comparator);function bs(){return Ba}const $a=new Qr(Ht.comparator);function eo(...d){let e=$a;for(const r of d)e=e.insert(r.key,r);return e}function qo(d){let e=$a;return d.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function Os(){return la()}function Ha(){return la()}function la(){return new ns(d=>d.toString(),(d,e)=>d.isEqual(e))}const Rc=new Qr(Ht.comparator),cc=new wr(Ht.comparator);function _r(...d){let e=cc;for(const r of d)e=e.add(r);return e}const dl=new wr(Qt);function Eo(){return dl}function Yo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(e)?"-0":e}}function lc(d){return{integerValue:""+d}}function ql(d,e){return st(e)?lc(e):Yo(d,e)}class Xo{constructor(){this._=void 0}}function Lh(d,e,r){return d instanceof dc?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&de(_)&&(_=ot(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(r,e):d instanceof ko?Oc(d,e):d instanceof Ga?za(d,e):function(h,_){const b=Ou(h,_),P=fc(b)+fc(h.Pe);return fi(b)&&fi(h.Pe)?lc(P):Yo(h.serializer,P)}(d,e)}function uc(d,e,r){return d instanceof ko?Oc(d,e):d instanceof Ga?za(d,e):r}function Ou(d,e){return d instanceof hc?fi(a=e)||(_=a)&&"doubleValue"in _?e:{integerValue:0}:null;var a,_}class dc extends Xo{}class ko extends Xo{constructor(e){super(),this.elements=e}}function Oc(d,e){const r=hl(e);for(const a of d.elements)r.some(h=>cs(h,a))||r.push(a);return{arrayValue:{values:r}}}class Ga extends Xo{constructor(e){super(),this.elements=e}}function za(d,e){let r=hl(e);for(const a of d.elements)r=r.filter(h=>!cs(h,a));return{arrayValue:{values:r}}}class hc extends Xo{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function fc(d){return fe(d.integerValue||d.doubleValue)}function hl(d){return vi(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class x{constructor(e,r){this.field=e,this.transform=r}}class B{constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Se(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Tt{}function Lt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Fs(d.key,Y.none()):new Er(d.key,d.data,Y.none());{const r=d.data,a=Re.empty();let h=new wr(er.comparator);for(let _ of e.fields)if(!h.has(_)){let b=r.field(_);null===b&&_.length>1&&(_=_.popLast(),b=r.field(_)),null===b?a.delete(_):a.set(_,b),h=h.add(_)}return new gi(d.key,a,new ai(h.toArray()),Y.none())}}function $n(d,e,r){d instanceof Er?function(h,_,b){const P=h.value.clone(),F=Ri(h.fieldTransforms,_,b.transformResults);P.setAll(F),_.convertToFoundDocument(b.version,P).setHasCommittedMutations()}(d,e,r):d instanceof gi?function(h,_,b){if(!Se(h.precondition,_))return void _.convertToUnknownDocument(b.version);const P=Ri(h.fieldTransforms,_,b.transformResults),F=_.data;F.setAll(xi(h)),F.setAll(P),_.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ni(d,e,r,a){return d instanceof Er?function(_,b,P,F){if(!Se(_.precondition,b))return P;const K=_.value.clone(),ie=zs(_.fieldTransforms,F,b);return K.setAll(ie),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,a):d instanceof gi?function(_,b,P,F){if(!Se(_.precondition,b))return P;const K=zs(_.fieldTransforms,F,b),ie=b.data;return ie.setAll(xi(_)),ie.setAll(K),b.convertToFoundDocument(b.version,ie).setHasLocalMutations(),null===P?null:P.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(ye=>ye.field))}(d,e,r,a):(P=r,Se(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):P);var b,P}function Ei(d,e){let r=null;for(const a of d.fieldTransforms){const h=e.data.field(a.field),_=Ou(a.transform,h||null);null!=_&&(null===r&&(r=Re.empty()),r.set(a.field,_))}return r||null}function li(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(a=d.fieldTransforms)&&void 0===h||a&&h&&Gn(a,h,(_,b)=>function te(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(a=d.transform)instanceof ko&&h instanceof ko||a instanceof Ga&&h instanceof Ga?Gn(a.elements,h.elements,cs):a instanceof hc&&h instanceof hc?cs(a.Pe,h.Pe):a instanceof dc&&h instanceof dc);var a,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var a,h}class Er extends Tt{constructor(e,r,a,h=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class gi extends Tt{constructor(e,r,a,h,_=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function xi(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=d.data.field(r);e.set(r,a)}}),e}function Ri(d,e,r){const a=new Map;$t(d.length===r.length);for(let h=0;h<r.length;h++){const _=d[h],b=_.transform,P=e.data.field(_.field);a.set(_.field,uc(b,P,r[h]))}return a}function zs(d,e,r){const a=new Map;for(const h of d){const _=h.transform,b=r.data.field(h.field);a.set(h.field,Lh(_,b,e))}return a}class Fs extends Tt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ua extends Tt{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ns{constructor(e,r,a,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&$n(_,e,a[h])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=ni(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=ni(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=Ha();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let P=this.applyToLocalView(b,_.mutatedFields);P=r.has(h.key)?null:P;const F=Lt(b,P);null!==F&&a.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(jt.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),_r())}isEqual(e){return this.batchId===e.batchId&&Gn(this.mutations,e.mutations,(r,a)=>li(r,a))&&Gn(this.baseMutations,e.baseMutations,(r,a)=>li(r,a))}}class Qo{constructor(e,r,a,h){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=h}static from(e,r,a){$t(e.mutations.length===a.length);let h=Rc;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,a[b].version);return new Qo(e,r,a,h)}}class As{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nu{constructor(e,r){this.count=e,this.unchangedNames=r}}var Rr,Vr;function Wa(d){switch(d){default:return Ot();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function to(d){if(void 0===d)return rn("GRPC error has no .code"),Ne.UNKNOWN;switch(d){case Rr.OK:return Ne.OK;case Rr.CANCELLED:return Ne.CANCELLED;case Rr.UNKNOWN:return Ne.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return Ne.INTERNAL;case Rr.UNAVAILABLE:return Ne.UNAVAILABLE;case Rr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Rr.NOT_FOUND:return Ne.NOT_FOUND;case Rr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Rr.ABORTED:return Ne.ABORTED;case Rr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Rr.DATA_LOSS:return Ne.DATA_LOSS;default:return Ot()}}(Vr=Rr||(Rr={}))[Vr.OK=0]="OK",Vr[Vr.CANCELLED=1]="CANCELLED",Vr[Vr.UNKNOWN=2]="UNKNOWN",Vr[Vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vr[Vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vr[Vr.NOT_FOUND=5]="NOT_FOUND",Vr[Vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vr[Vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vr[Vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vr[Vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vr[Vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vr[Vr.ABORTED=10]="ABORTED",Vr[Vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vr[Vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vr[Vr.INTERNAL=13]="INTERNAL",Vr[Vr.UNAVAILABLE=14]="UNAVAILABLE",Vr[Vr.DATA_LOSS=15]="DATA_LOSS";function Dd(){return new TextEncoder}const fl=new Fe([4294967295,4294967295],0);function Gi(d){const e=Dd().encode(d),r=new Ve;return r.update(e),new Uint8Array(r.digest())}function Pa(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Fe([r,a],0),new Fe([h,_],0)]}class da{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new lo(`Invalid padding: ${r}`);if(a<0)throw new lo(`Invalid hash count: ${a}`);if(e.length>0&&0===this.hashCount)throw new lo(`Invalid hash count: ${a}`);if(0===e.length&&0!==r)throw new lo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fe.fromNumber(this.Ie)}Ee(e,r,a){let h=e.add(r.multiply(Fe.fromNumber(a)));return 1===h.compare(fl)&&(h=new Fe([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Gi(e),[a,h]=Pa(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);if(!this.de(b))return!1}return!0}static create(e,r,a){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new da(_,h,r);return a.forEach(P=>b.insert(P)),b}insert(e){if(0===this.Ie)return;const r=Gi(e),[a,h]=Pa(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(a,h,_);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qi{constructor(e,r,a,h,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const h=new Map;return h.set(e,xa.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new qi(jt.min(),h,new Qr(Qt),bs(),_r())}}class xa{constructor(e,r,a,h,_){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new xa(a,r,_r(),_r(),_r())}}class Ka{constructor(e,r,a,h){this.Re=e,this.removedTargetIds=r,this.key=a,this.Ve=h}}class Nc{constructor(e,r){this.targetId=e,this.me=r}}class Fu{constructor(e,r,a=Di.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=h}}class Yl{constructor(){this.fe=0,this.ge=uo(),this.pe=Di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_r(),r=_r(),a=_r();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:a=a.add(h);break;default:Ot()}}),new xa(this.pe,this.ye,e,r,a)}Ce(){this.we=!1,this.ge=uo()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Vu{constructor(e){this.Le=e,this.Be=new Map,this.ke=bs(),this.qe=Yn(),this.Qe=new Qr(Qt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const a=this.Ge(r);switch(e.state){case 0:this.ze(r)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),a.De(e.resumeToken));break;default:Ot()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((a,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,a=e.me.count,h=this.Je(r);if(h){const _=h.target;if(Ua(_))if(0===a){const b=new Ht(_.path);this.Ue(r,b,_t.newNoDocument(b,jt.min()))}else $t(1===a);else{const b=this.Ye(r);if(b!==a){const P=this.Ze(e),F=P?this.Xe(P,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:h=0},hashCount:_=0}=r;let b,P;try{b=Rt(a).toUint8Array()}catch(F){if(F instanceof aa)return vn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{P=new da(b,h,_)}catch(F){return vn(F instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===P.Ie?null:P}Xe(e,r,a){return r.me.count===a-this.nt(e,r.targetId)?0:2}nt(e,r){const a=this.Le.getRemoteKeysForTarget(r);let h=0;return a.forEach(_=>{const b=this.Le.tt(),P=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(P)||(this.Ue(r,_,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((_,b)=>{const P=this.Je(b);if(P){if(_.current&&Ua(P.target)){const F=new Ht(P.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,_t.newNoDocument(F,e))}_.be&&(r.set(b,_.ve()),_.Ce())}});let a=_r();this.qe.forEach((_,b)=>{let P=!0;b.forEachWhile(F=>{const K=this.Je(F);return!K||"TargetPurposeLimboResolution"===K.purpose||(P=!1,!1)}),P&&(a=a.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new qi(e,r,this.Qe,this.ke,a);return this.ke=bs(),this.qe=Yn(),this.Qe=new Qr(Qt),h}$e(e,r){if(!this.ze(e))return;const a=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,a),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,a){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),a&&(this.ke=this.ke.insert(r,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Yl,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new wr(Qt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||De("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yl),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Yn(){return new Qr(Ht.comparator)}function uo(){return new Qr(Ht.comparator)}const no={asc:"ASCENDING",desc:"DESCENDING"},ha={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kc={and:"AND",or:"OR"};class Uh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Lu(d,e){return d.useProto3Json||ne(e)?e:{value:e}}function fa(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xl(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function Ql(d,e){return fa(d,e.toTimestamp())}function rs(d){return $t(!!d),jt.fromTimestamp(function(r){const a=ms(r);return new Kt(a.seconds,a.nanos)}(d))}function pl(d,e){return Jl(d,e).canonicalString()}function Jl(d,e){const r=(h=d,new un(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function qt(d){const e=un.fromString(d);return $t(w(e)),e}function Fr(d,e){return pl(d.databaseId,e.path)}function Jo(d,e){const r=qt(e);if(r.get(1)!==d.databaseId.projectId)throw new Ze(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new Ze(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Ht(qa(r))}function ds(d,e){return pl(d.databaseId,e)}function Vs(d){const e=qt(d);return 4===e.length?un.emptyPath():qa(e)}function Fc(d){return new un(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function qa(d){return $t(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Fo(d,e,r){return{name:Fr(d,e),fields:r.value.mapValue.fields}}function Vc(d,e,r){const a=Jo(d,e.name),h=rs(e.updateTime),_=e.createTime?rs(e.createTime):jt.min(),b=new Re({mapValue:{fields:e.fields}}),P=_t.newFoundDocument(a,h,_,b);return r&&P.setHasCommittedMutations(),r?P.setHasCommittedMutations():P}function gl(d,e){let r;if(e instanceof Er)r={update:Fo(d,e.key,e.value)};else if(e instanceof Fs)r={delete:Fr(d,e.key)};else if(e instanceof gi)r={update:Fo(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof ua))return Ot();r={verify:Fr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(_,b){const P=b.transform;if(P instanceof dc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof ko)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Ga)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof hc)return{fieldPath:b.field.canonicalString(),increment:P.Pe};throw Ot()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Ql(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Ot()),r;var _}function Ma(d,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Y.updateTime(rs(_.updateTime)):void 0!==_.exists?Y.exists(_.exists):Y.none():Y.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(b,P){let F=null;"setToServerValue"in P?($t("REQUEST_TIME"===P.setToServerValue),F=new dc):"appendMissingElements"in P?F=new ko(P.appendMissingElements.values||[]):"removeAllFromArray"in P?F=new Ga(P.removeAllFromArray.values||[]):"increment"in P?F=new hc(b,P.increment):Ot();const K=er.fromServerFormat(P.fieldPath);return new x(K,F)}(d,h)):[];var _;if(e.update){const h=Jo(d,e.update.name),_=new Re({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new ai((e.updateMask.fieldPaths||[]).map(ie=>er.fromServerFormat(ie)));return new gi(h,_,b,r,a)}return new Er(h,_,r,a)}if(e.delete){const h=Jo(d,e.delete);return new Fs(h,r)}if(e.verify){const h=Jo(d,e.verify);return new ua(h,r)}return Ot()}function Ls(d,e){return{documents:[ds(d,e.path)]}}function Ya(d,e){const r={structuredQuery:{}},a=e.path;let h;null!==e.collectionGroup?(h=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=ds(d,h);const _=function(K){if(0!==K.length)return D(qn.create(K,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const b=function(K){if(0!==K.length)return K.map(ie=>{return{field:Ra((je=ie).field),direction:ip(je.dir)};var je})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const P=Lu(d,e.limit);return null!==P&&(r.structuredQuery.limit=P),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function ho(d){let e=Vs(d.parent);const r=d.structuredQuery,a=r.from?r.from.length:0;let h=null;if(a>0){$t(1===a);const ie=r.from[0];ie.allDescendants?h=ie.collectionId:e=e.child(ie.collectionId)}let _=[];r.where&&(_=function(ye){const je=pc(ye);return je instanceof qn&&zr(je)?je.getFilters():[je]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(je=>{return new Zn(Lc((Gt=je).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Gt.direction));var Gt}));let P=null;r.limit&&(P=function(ye){let je;return je="object"==typeof ye?ye.value:ye,ne(je)?null:je}(r.limit));let F=null;var ye;r.startAt&&(F=new Jt((ye=r.startAt).values||[],!!ye.before));let K=null;return r.endAt&&(K=function(ye){return new Jt(ye.values||[],!ye.before)}(r.endAt)),W(e,h,b,_,P,"F",F,K)}function pc(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Lc(r.unaryFilter.field);return jn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const h=Lc(r.unaryFilter.field);return jn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=Lc(r.unaryFilter.field);return jn.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Lc(r.unaryFilter.field);return jn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(d):void 0!==d.fieldFilter?jn.create(Lc((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return qn.create(r.compositeFilter.filters.map(a=>pc(a)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ot()}}(r.compositeFilter.op))}(d):Ot();var r}function ip(d){return no[d]}function jh(d){return ha[d]}function eu(d){return kc[d]}function Ra(d){return{fieldPath:d.canonicalString()}}function Lc(d){return er.fromServerFormat(d.fieldPath)}function D(d){return d instanceof jn?function(r){if("=="===r.op){if(Ms(r.value))return{unaryFilter:{field:Ra(r.field),op:"IS_NAN"}};if(Hr(r.value))return{unaryFilter:{field:Ra(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ms(r.value))return{unaryFilter:{field:Ra(r.field),op:"IS_NOT_NAN"}};if(Hr(r.value))return{unaryFilter:{field:Ra(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(r.field),op:jh(r.op),value:r.value}}}(d):d instanceof qn?function(r){const a=r.getFilters().map(h=>D(h));return 1===a.length?a[0]:{compositeFilter:{op:eu(r.op),filters:a}}}(d):Ot()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,a,h,_=jt.min(),b=jt.min(),P=Di.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=P,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Pe(d,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:vt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Fr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:fa(_,b.version.toTimestamp()),createTime:fa(_,b.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:ft(e.version)};else{if(!e.isUnknownDocument())return Ot();a.unknownDocument={path:r.path.toArray(),version:ft(e.version)}}var _,b;return a}function vt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function ft(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function In(d){const e=new Kt(d.seconds,d.nanoseconds);return jt.fromTimestamp(e)}function dr(d,e){const r=(e.baseMutations||[]).map(_=>Ma(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const a=e.mutations.map(_=>Ma(d.ct,_)),h=Kt.fromMillis(e.localWriteTimeMs);return new Ns(e.batchId,h,r,a)}function Ar(d){const e=In(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?In(d.lastLimboFreeSnapshotVersion):jt.min();let a;return a=void 0!==d.query.documents?($t(1===(_=d.query).documents.length),yn(J(Vs(_.documents[0])))):function(_){return yn(ho(_))}(d.query),new N(a,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,Di.fromBase64String(d.resumeToken));var _}function Pr(d,e){const r=ft(e.snapshotVersion),a=ft(e.lastLimboFreeSnapshotVersion);let h;h=Ua(e.target)?Ls(d.ct,e.target):Ya(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ki(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function bi(d){const e=ho({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?vs(e,e.limit,"L"):e}function gc(d,e){return new As(e.largestBatchId,Ma(d.ct,e.overlayMutation))}function Uc(d,e){const r=e.path.lastSegment();return[d,At(e.path.popLast()),r]}function ml(d,e,r,a){return{indexId:d,uid:e,sequenceNumber:r,readTime:ft(a.readTime),documentKey:At(a.documentKey.path),largestBatchId:a.largestBatchId}}class jc{getBundleMetadata(e,r){return Uu(e).get(r).next(a=>{if(a)return{id:(_=a).bundleId,createTime:In(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return Uu(e).put({bundleId:(h=r).id,createTime:ft(rs(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Bh(e).get(r).next(a=>{if(a)return{name:(_=a).name,query:bi(_.bundledQuery),readTime:In(_.readTime)};var _})}saveNamedQuery(e,r){return Bh(e).put({name:(h=r).name,readTime:ft(rs(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Uu(d){return Ui(d,"bundles")}function Bh(d){return Ui(d,"namedQueries")}class mc{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new mc(e,r.uid||"")}getOverlay(e,r){return pa(e).get(Uc(this.userId,r)).next(a=>a?gc(this.serializer,a):null)}getOverlays(e,r){const a=Os();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,r,a){const h=[];return a.forEach((_,b)=>{const P=new As(r,b);h.push(this.ht(e,P))}),et.waitFor(h)}removeOverlaysForBatchId(e,r,a){const h=new Set;r.forEach(b=>h.add(At(b.getCollectionPath())));const _=[];return h.forEach(b=>{const P=IDBKeyRange.bound([this.userId,b,a],[this.userId,b,a+1],!1,!0);_.push(pa(e).j("collectionPathOverlayIndex",P))}),et.waitFor(_)}getOverlaysForCollection(e,r,a){const h=Os(),_=At(r),b=IDBKeyRange.bound([this.userId,_,a],[this.userId,_,Number.POSITIVE_INFINITY],!0);return pa(e).U("collectionPathOverlayIndex",b).next(P=>{for(const F of P){const K=gc(this.serializer,F);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,a,h){const _=Os();let b;const P=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return pa(e).J({index:"collectionGroupOverlayIndex",range:P},(F,K,ie)=>{const ye=gc(this.serializer,K);_.size()<h||ye.largestBatchId===b?(_.set(ye.getKey(),ye),b=ye.largestBatchId):ie.done()}).next(()=>_)}ht(e,r){return pa(e).put(function(h,_,b){const[P,F,K]=Uc(_,b.mutation.key);return{userId:_,collectionPath:F,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:gl(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function pa(d){return Ui(d,"documentOverlays")}class $h{Pt(e){return Ui(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const a=r?.value;return a?Di.fromUint8Array(a):Di.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Xa{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(fe(e.integerValue));else if("doubleValue"in e){const a=fe(e.doubleValue);isNaN(a)?this.dt(r,13):(this.dt(r,15),me(a)?r.At(0):r.At(a))}else if("timestampValue"in e){let a=e.timestampValue;this.dt(r,20),"string"==typeof a&&(a=ms(a)),r.Rt(`${a.seconds||""}`),r.At(a.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Rt(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.dt(r,45),r.At(a.latitude||0),r.At(a.longitude||0)}else"mapValue"in e?tr(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Bi(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Ot()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const a=e.fields||{};this.dt(r,55);for(const h of Object.keys(a))this.Vt(h,r),this.Tt(a[h],r)}wt(e,r){var a,h;const _=e.fields||{};this.dt(r,53);const b="value",P=(null===(h=null===(a=_[b].arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(fe(P)),this.Vt(b,r),this.Tt(_[b],r)}bt(e,r){const a=e.values||[];this.dt(r,50);for(const h of a)this.Tt(h,r)}yt(e,r){this.dt(r,37),Ht.fromName(e).path.forEach(a=>{this.dt(r,60),this.Dt(a,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function _c(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function ju(d){const e=64-function(a){let h=0;for(let _=0;_<8;++_){const b=_c(255&a[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}Xa.vt=new Xa;class Sd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ft(a.value),a=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ot(a.value),a=r.next();this.Nt()}Lt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),a=ju(r);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),a=ju(r);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let h=r.length-a;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let h=1;h<r.length;++h)r[h]^=a?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class ga{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Bu{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class $u{constructor(){this.jt=new Sd,this.Ht=new ga(this.jt),this.Jt=new Bu(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Vo{constructor(e,r,a,h){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Vo(this.indexId,this.documentKey,this.arrayValue,a)}}function ma(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=_a(d.arrayValue,e.arrayValue),0!==r?r:(r=_a(d.directionalValue,e.directionalValue),0!==r?r:Ht.comparator(d.documentKey,e.documentKey)))}function _a(d,e){for(let r=0;r<d.length&&r<e.length;++r){const a=d[r]-e[r];if(0!==a)return a}return d.length-e.length}class Bc{constructor(e){this.Xt=new wr((r,a)=>er.comparator(r.field,a.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const a=r;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(e){if($t(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Wn(e);if(void 0!==r&&!this.sn(r))return!1;const a=An(e);let h=new Set,_=0,b=0;for(;_<a.length&&this.sn(a[_]);++_)h=h.add(a[_].fieldPath.canonicalString());if(_===a.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const F=a[_];if(!this.on(P,F)||!this._n(this.en[b++],F))return!1}++_}for(;_<a.length;++_)if(b>=this.en.length||!this._n(this.en[b++],a[_]))return!1;return!0}an(){if(this.nn)return null;let e=new wr(er.comparator);const r=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)r.push(new Or(a.field,2));else{if(e.has(a.field))continue;e=e.add(a.field),r.push(new Or(a.field,0))}for(const a of this.en)a.field.isKeyField()||e.has(a.field)||(e=e.add(a.field),r.push(new Or(a.field,"asc"===a.dir?0:1)));return new Tn(Tn.UNKNOWN_ID,this.collectionId,r,Xn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function yc(d){var e,r;if($t(d instanceof jn||d instanceof qn),d instanceof jn){if(d instanceof oo){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>jn.create(d.field,"==",_)))||[];return qn.create(h,"or")}return d}const a=d.filters.map(h=>yc(h));return qn.create(a,d.op)}function Hh(d){if(0===d.getFilters().length)return[];const e=op(yc(d));return $t(sp(e)),Gh(e)||_l(e)?[e]:e.getFilters()}function Gh(d){return d instanceof jn}function _l(d){return d instanceof qn&&zr(d)}function sp(d){return Gh(d)||_l(d)||function(r){if(r instanceof qn&&Ur(r)){for(const a of r.getFilters())if(!Gh(a)&&!_l(a))return!1;return!0}return!1}(d)}function op(d){if($t(d instanceof jn||d instanceof qn),d instanceof jn)return d;if(1===d.filters.length)return op(d.filters[0]);const e=d.filters.map(a=>op(a));let r=qn.create(e,d.op);return r=Pd(r),sp(r)?r:($t(r instanceof qn),$t(Mr(r)),$t(r.filters.length>1),r.filters.reduce((a,h)=>Hu(a,h)))}function Hu(d,e){let r;return $t(d instanceof jn||d instanceof qn),$t(e instanceof jn||e instanceof qn),r=d instanceof jn?e instanceof jn?qn.create([d,e],"and"):$c(d,e):e instanceof jn?$c(e,d):function(h,_){if($t(h.filters.length>0&&_.filters.length>0),Mr(h)&&Mr(_))return Fi(h,_.getFilters());const b=Ur(h)?h:_,P=Ur(h)?_:h,F=b.filters.map(K=>Hu(K,P));return qn.create(F,"or")}(d,e),Pd(r)}function $c(d,e){if(Mr(e))return Fi(e,d.getFilters());{const r=e.filters.map(a=>Hu(d,a));return qn.create(r,"or")}}function Pd(d){if($t(d instanceof jn||d instanceof qn),d instanceof jn)return d;const e=d.getFilters();if(1===e.length)return Pd(e[0]);if(Wi(d))return d;const r=e.map(h=>Pd(h)),a=[];return r.forEach(h=>{h instanceof jn?a.push(h):h instanceof qn&&(h.op===d.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:qn.create(a,d.op)}class yl{constructor(){this.un=new tu}addToCollectionParentIndex(e,r){return this.un.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(gn.min())}updateCollectionGroup(e,r,a){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class tu{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r]||new wr(un.comparator),_=!h.has(a);return this.index[r]=h.add(a),_}has(e){const r=e.lastSegment(),a=e.popLast(),h=this.index[r];return h&&h.has(a)}getEntries(e){return(this.index[e]||new wr(un.comparator)).toArray()}}const ya=new Uint8Array(0);class ap{constructor(e,r){this.databaseId=r,this.cn=new tu,this.ln=new ns(a=>Ki(a),(a,h)=>ao(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const a=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const _={collectionId:a,parent:At(h)};return zh(e).put(_)}return et.resolve()}getCollectionParents(e,r){const a=[],h=IDBKeyRange.bound([r,""],[Fn(r),""],!1,!0);return zh(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==r)break;a.push(Sn(b.parent))}return a})}addFieldIndex(e,r){const a=Gu(e),h={indexId:(P=r).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var P;delete h.indexId;const _=a.add(h);if(r.indexState){const b=wo(e);return _.next(P=>{b.put(ml(P,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const a=Gu(e),h=wo(e),_=Oa(e);return a.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Gu(e),a=Oa(e),h=wo(e);return r.j().next(()=>a.j()).next(()=>h.j())}createTargetIndexes(e,r){return et.forEach(this.hn(r),a=>this.getIndexType(e,a).next(h=>{if(0===h||1===h){const _=new Bc(a).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const a=Oa(e);let h=!0;const _=new Map;return et.forEach(this.hn(r),b=>this.Pn(e,b).next(P=>{h&&(h=!!P),_.set(b,P)})).next(()=>{if(h){let b=_r();const P=[];return et.forEach(_,(F,K)=>{var nr;De("IndexedDbIndexManager",`Using index ${nr=F,`id=${nr.indexId}|cg=${nr.collectionGroup}|f=${nr.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${Ki(r)}`);const ie=function(nr,jr){const Vi=Wn(jr);if(void 0===Vi)return null;for(const ui of ja(nr,Vi.fieldPath))switch(ui.op){case"array-contains-any":return ui.value.arrayValue.values||[];case"array-contains":return[ui.value]}return null}(K,F),ye=function(nr,jr){const Vi=new Map;for(const ui of An(jr))for(const at of ja(nr,ui.fieldPath))switch(at.op){case"==":case"in":Vi.set(ui.fieldPath.canonicalString(),at.value);break;case"not-in":case"!=":return Vi.set(ui.fieldPath.canonicalString(),at.value),Array.from(Vi.values())}return null}(K,F),je=function(nr,jr){const Vi=[];let ui=!0;for(const at of An(jr)){const Oe=0===at.kind?pi(nr,at.fieldPath,nr.startAt):Wo(nr,at.fieldPath,nr.startAt);Vi.push(Oe.value),ui&&(ui=Oe.inclusive)}return new Jt(Vi,ui)}(K,F),yt=function(nr,jr){const Vi=[];let ui=!0;for(const at of An(jr)){const Oe=0===at.kind?Wo(nr,at.fieldPath,nr.endAt):pi(nr,at.fieldPath,nr.endAt);Vi.push(Oe.value),ui&&(ui=Oe.inclusive)}return new Jt(Vi,ui)}(K,F),Gt=this.In(F,K,je),hn=this.In(F,K,yt),nn=this.Tn(F,K,ye),Jn=this.En(F.indexId,ie,Gt,je.inclusive,hn,yt.inclusive,nn);return et.forEach(Jn,fr=>a.G(fr,r.limit).next(nr=>{nr.forEach(jr=>{const Vi=Ht.fromSegments(jr.documentKey);b.has(Vi)||(b=b.add(Vi),P.push(Vi))})}))}).next(()=>P)}return et.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:Hh(qn.create(e.filters,"and")).map(a=>Gs(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,a,h,_,b,P){const F=(null!=r?r.length:1)*Math.max(a.length,_.length),K=F/(null!=r?r.length:1),ie=[];for(let ye=0;ye<F;++ye){const je=r?this.dn(r[ye/K]):ya,yt=this.An(e,je,a[ye%K],h),Gt=this.Rn(e,je,_[ye%K],b),hn=P.map(nn=>this.An(e,je,nn,!0));ie.push(...this.createRange(yt,Gt,hn))}return ie}An(e,r,a,h){const _=new Vo(e,Ht.empty(),r,a);return h?_:_.Zt()}Rn(e,r,a,h){const _=new Vo(e,Ht.empty(),r,a);return h?_.Zt():_}Pn(e,r){const a=new Bc(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const P of _)a.rn(P)&&(!b||P.fields.length>b.fields.length)&&(b=P);return b})}getIndexType(e,r){let a=2;const h=this.hn(r);return et.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==a&&b.fields.length<function(F){let K=new wr(er.comparator),ie=!1;for(const ye of F.filters)for(const je of ye.getFlattenedFilters())je.field.isKeyField()||("array-contains"===je.op||"array-contains-any"===je.op?ie=!0:K=K.add(je.field));for(const ye of F.orderBy)ye.field.isKeyField()||(K=K.add(ye.field));return K.size+(ie?1:0)}(_)&&(a=1):a=0})).next(()=>null!==r.limit&&h.length>1&&2===a?1:a)}Vn(e,r){const a=new $u;for(const h of An(e)){const _=r.data.field(h.fieldPath);if(null==_)return null;const b=a.Yt(h.kind);Xa.vt.It(_,b)}return a.zt()}dn(e){const r=new $u;return Xa.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const a=new $u;return Xa.vt.It(zn(this.databaseId,r),a.Yt(function(_){const b=An(_);return 0===b.length?0:b[b.length-1].kind}(e))),a.zt()}Tn(e,r,a){if(null===a)return[];let h=[];h.push(new $u);let _=0;for(const b of An(e)){const P=a[_++];for(const F of h)if(this.fn(r,b.fieldPath)&&vi(P))h=this.gn(h,b,P);else{const K=F.Yt(b.kind);Xa.vt.It(P,K)}}return this.pn(h)}In(e,r,a){return this.Tn(e,r,a.position)}pn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].zt();return r}gn(e,r,a){const h=[...e],_=[];for(const b of a.arrayValue.values||[])for(const P of h){const F=new $u;F.seed(P.zt()),Xa.vt.It(b,F.Yt(r.kind)),_.push(F)}return _}fn(e,r){return!!e.filters.find(a=>a instanceof jn&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=Gu(e),h=wo(e);return(r?a.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.U()).next(_=>{const b=[];return et.forEach(_,P=>h.get([P.indexId,this.uid]).next(F=>{b.push(function(ie,ye){const je=ye?new Xn(ye.sequenceNumber,new gn(In(ye.readTime),new Ht(Sn(ye.documentKey)),ye.largestBatchId)):Xn.empty(),yt=ie.fields.map(([Gt,hn])=>new Or(er.fromServerFormat(Gt),hn));return new Tn(ie.indexId,ie.collectionGroup,yt,je)}(P,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,h)=>{const _=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:Qt(a.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const h=Gu(e),_=wo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>et.forEach(P,F=>_.put(ml(F.indexId,this.uid,b,a)))))}updateIndexEntries(e,r){const a=new Map;return et.forEach(r,(h,_)=>{const b=a.get(h.collectionGroup);return(b?et.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(a.set(h.collectionGroup,P),et.forEach(P,F=>this.wn(e,h,F).next(K=>{const ie=this.Sn(_,F);return K.isEqual(ie)?et.resolve():this.bn(e,_,F,K,ie)}))))})}Dn(e,r,a,h){return Oa(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(a,r.key),documentKey:r.key.path.toArray()})}vn(e,r,a,h){return Oa(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const h=Oa(e);let _=new wr(ma);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,r)])},(b,P)=>{_=_.add(new Vo(a.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>_)}Sn(e,r){let a=new wr(ma);const h=this.Vn(r,e);if(null==h)return a;const _=Wn(r);if(null!=_){const b=e.data.field(_.fieldPath);if(vi(b))for(const P of b.arrayValue.values||[])a=a.add(new Vo(r.indexId,e.key,this.dn(P),h))}else a=a.add(new Vo(r.indexId,e.key,ya,h));return a}bn(e,r,a,h,_){De("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,K,ie,ye,je){const yt=F.getIterator(),Gt=K.getIterator();let hn=_o(yt),nn=_o(Gt);for(;hn||nn;){let Jn=!1,fr=!1;if(hn&&nn){const nr=ie(hn,nn);nr<0?fr=!0:nr>0&&(Jn=!0)}else null!=hn?fr=!0:Jn=!0;Jn?(ye(nn),nn=_o(Gt)):fr?(je(hn),hn=_o(yt)):(hn=_o(yt),nn=_o(Gt))}}(h,_,ma,P=>{b.push(this.Dn(e,r,a,P))},P=>{b.push(this.vn(e,r,a,P))}),et.waitFor(b)}yn(e){let r=1;return wo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,_)=>{_.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((b,P)=>ma(b,P)).filter((b,P,F)=>!P||0!==ma(b,F[P-1]));const h=[];h.push(e);for(const b of a){const P=ma(b,e),F=ma(b,r);if(0===P)h[0]=e.Zt();else if(P>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,ya,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,ya,[]]))}return _}Cn(e,r){return ma(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(zu)}getMinOffset(e,r){return et.mapArray(this.hn(r),a=>this.Pn(e,a).next(h=>h||Ot())).next(zu)}}function zh(d){return Ui(d,"collectionParents")}function Oa(d){return Ui(d,"indexEntries")}function Gu(d){return Ui(d,"indexConfiguration")}function wo(d){return Ui(d,"indexState")}function zu(d){$t(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<d.length;a++){const h=d[a].indexState.offset;oi(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new gn(e.readTime,e.documentKey,r)}const Hc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wh(d,e,r){const a=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(r.batchId);let P=0;const F=a.J({range:b},(ie,ye,je)=>(P++,je.delete()));_.push(F.next(()=>{$t(1===P)}));const K=[];for(const ie of r.mutations){const ye=Br(e,ie.key.path,r.batchId);_.push(h.delete(ye)),K.push(ie.key)}return et.waitFor(_).next(()=>K)}function Gc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Ot();e=d.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class vl{constructor(e,r,a,h){this.userId=e,this.serializer=r,this.indexManager=a,this.referenceDelegate=h,this.Fn={}}static lt(e,r,a,h){$t(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new vl(_,r,a,h)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).J({index:"userMutationsIndex",range:a},(h,_,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,a,h){const _=El(e),b=vc(e);return b.add({}).next(P=>{$t("number"==typeof P);const F=new Ns(P,r,a,h),K=function(yt,Gt,hn){const nn=hn.baseMutations.map(fr=>gl(yt.ct,fr)),Jn=hn.mutations.map(fr=>gl(yt.ct,fr));return{userId:Gt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:nn,mutations:Jn}}(this.serializer,this.userId,F),ie=[];let ye=new wr((je,yt)=>Qt(je.canonicalString(),yt.canonicalString()));for(const je of h){const yt=Br(this.userId,je.key.path,P);ye=ye.add(je.key.path.popLast()),ie.push(b.put(K)),ie.push(_.put(yt,mr))}return ye.forEach(je=>{ie.push(this.indexManager.addToCollectionParentIndex(e,je))}),e.addOnCommittedListener(()=>{this.Fn[P]=F.keys()}),et.waitFor(ie).next(()=>F)})}lookupMutationBatch(e,r){return vc(e).get(r).next(a=>a?($t(a.userId===this.userId),dr(this.serializer,a)):null)}Mn(e,r){return this.Fn[r]?et.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const h=a.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,h=IDBKeyRange.lowerBound([this.userId,a]);let _=null;return vc(e).J({index:"userMutationsIndex",range:h},(b,P,F)=>{P.userId===this.userId&&($t(P.batchId>=a),_=dr(this.serializer,P)),F.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return vc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,_,b)=>{a=_.batchId,b.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).U("userMutationsIndex",r).next(a=>a.map(h=>dr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=cn(this.userId,r.path),h=IDBKeyRange.lowerBound(a),_=[];return El(e).J({range:h},(b,P,F)=>{const[K,ie,ye]=b,je=Sn(ie);if(K===this.userId&&r.path.isEqual(je))return vc(e).get(ye).next(yt=>{if(!yt)throw Ot();$t(yt.userId===this.userId),_.push(dr(this.serializer,yt))});F.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new wr(Qt);const h=[];return r.forEach(_=>{const b=cn(this.userId,_.path),P=IDBKeyRange.lowerBound(b),F=El(e).J({range:P},(K,ie,ye)=>{const[je,yt,Gt]=K,hn=Sn(yt);je===this.userId&&_.path.isEqual(hn)?a=a.add(Gt):ye.done()});h.push(F)}),et.waitFor(h).next(()=>this.xn(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1,_=cn(this.userId,a),b=IDBKeyRange.lowerBound(_);let P=new wr(Qt);return El(e).J({range:b},(F,K,ie)=>{const[ye,je,yt]=F,Gt=Sn(je);ye===this.userId&&a.isPrefixOf(Gt)?Gt.length===h&&(P=P.add(yt)):ie.done()}).next(()=>this.xn(e,P))}xn(e,r){const a=[],h=[];return r.forEach(_=>{h.push(vc(e).get(_).next(b=>{if(null===b)throw Ot();$t(b.userId===this.userId),a.push(dr(this.serializer,b))}))}),et.waitFor(h).next(()=>a)}removeMutationBatch(e,r){return Wh(e._e,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),et.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return et.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return El(e).J({range:a},(_,b,P)=>{if(_[0]===this.userId){const F=Sn(_[1]);h.push(F)}else P.done()}).next(()=>{$t(0===h.length)})})}containsKey(e,r){return Kh(e,this.userId,r)}Nn(e){return Wu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kh(d,e,r){const a=cn(e,r.path),h=a[1],_=IDBKeyRange.lowerBound(a);let b=!1;return El(d).J({range:_,H:!0},(P,F,K)=>{const[ie,ye,je]=P;ie===e&&ye===h&&(b=!0),K.done()}).next(()=>b)}function vc(d){return Ui(d,"mutations")}function El(d){return Ui(d,"documentMutations")}function Wu(d){return Ui(d,"mutationQueues")}class va{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new va(0)}static kn(){return new va(-1)}}class Dg{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const a=new va(r.highestTargetId);return r.highestTargetId=a.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>jt.fromTimestamp(new Kt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(a=>(a.targetCount+=1,this.$n(r,a),this.Qn(e,a))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Qa(e).delete(r.targetId)).next(()=>this.qn(e)).next(a=>($t(a.targetCount>0),a.targetCount-=1,this.Qn(e,a)))}removeTargets(e,r,a){let h=0;const _=[];return Qa(e).J((b,P)=>{const F=Ar(P);F.sequenceNumber<=r&&null===a.get(F.targetId)&&(h++,_.push(this.removeTargetData(e,F)))}).next(()=>et.waitFor(_)).next(()=>h)}forEachTarget(e,r){return Qa(e).J((a,h)=>{const _=Ar(h);r(_)})}qn(e){return Ea(e).get("targetGlobalKey").next(r=>($t(null!==r),r))}Qn(e,r){return Ea(e).put("targetGlobalKey",r)}Kn(e,r){return Qa(e).put(Pr(this.serializer,r))}$n(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=Ki(r),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let _=null;return Qa(e).J({range:h,index:"queryTargetsIndex"},(b,P,F)=>{const K=Ar(P);ao(r,K.target)&&(_=K,F.done())}).next(()=>_)}addMatchingKeys(e,r,a){const h=[],_=zc(e);return r.forEach(b=>{const P=At(b.path);h.push(_.put({targetId:a,path:P})),h.push(this.referenceDelegate.addReference(e,a,b))}),et.waitFor(h)}removeMatchingKeys(e,r,a){const h=zc(e);return et.forEach(r,_=>{const b=At(_.path);return et.waitFor([h.delete([a,b]),this.referenceDelegate.removeReference(e,a,_)])})}removeMatchingKeysForTargetId(e,r){const a=zc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),h=zc(e);let _=_r();return h.J({range:a,H:!0},(b,P,F)=>{const K=Sn(b[1]),ie=new Ht(K);_=_.add(ie)}).next(()=>_)}containsKey(e,r){const a=At(r.path),h=IDBKeyRange.bound([a],[Fn(a)],!1,!0);let _=0;return zc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,P],F,K)=>{0!==b&&(_++,K.done())}).next(()=>_>0)}ot(e,r){return Qa(e).get(r).next(a=>a?Ar(a):null)}}function Qa(d){return Ui(d,"targets")}function Ea(d){return Ui(d,"targetGlobal")}function zc(d){return Ui(d,"targetDocuments")}function Ku([d,e],[r,a]){const h=Qt(d,r);return 0===h?Qt(e,a):h}class cp{constructor(e){this.Un=e,this.buffer=new wr(Ku),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Ku(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Wc{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;De("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,o.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){Hn(a)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Kn(a)}yield r.Hn(3e5)}))}}class qh{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return et.resolve(k.oe);const a=new cp(r);return this.Jn.forEachTarget(e,h=>a.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>a.zn(h))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.Jn.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Hc)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hc):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let a,h,_,b,P,F,K;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ye=>(ye>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ye}`),h=this.params.maximumSequenceNumbersToCollect):h=ye,b=Date.now(),this.nthSequenceNumber(e,h))).next(ye=>(a=ye,P=Date.now(),this.removeTargets(e,a,r))).next(ye=>(_=ye,F=Date.now(),this.removeOrphanedDocuments(e,a))).next(ye=>(K=Date.now(),Pt()<=Te.$b.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ie}ms\n\tDetermined least recently used ${h} in `+(P-b)+`ms\n\tRemoved ${_} targets in `+(F-P)+`ms\n\tRemoved ${ye} documents in `+(K-F)+`ms\nTotal Duration: ${K-ie}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:ye})))}}class xd{constructor(e,r){this.db=e,this.garbageCollector=function ro(d,e){return new qh(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(h=>a+h))}er(e){let r=0;return this.Zn(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(a,h)=>r(h))}addReference(e,r,a){return ba(e,a)}removeReference(e,r,a){return ba(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return ba(e,r)}nr(e,r){return function(h,_){let b=!1;return Wu(h).Y(P=>Kh(h,P,_).next(F=>(F&&(b=!0),et.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,P)=>{if(P<=r){const F=this.nr(e,b).next(K=>{if(!K)return _++,a.getEntry(e,b).next(()=>(a.removeEntry(b,jt.min()),zc(e).delete([0,At(b.path)])))});h.push(F)}}).next(()=>et.waitFor(h)).next(()=>a.apply(e)).next(()=>_)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return ba(e,r)}tr(e,r){const a=zc(e);let h,_=k.oe;return a.J({index:"documentTargetsIndex"},([b,P],{path:F,sequenceNumber:K})=>{0===b?(_!==k.oe&&r(new Ht(Sn(h)),_),_=K,h=F):_=k.oe}).next(()=>{_!==k.oe&&r(new Ht(Sn(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ba(d,e){return zc(d).put((h=d.currentSequenceNumber,{targetId:0,path:At(e.path),sequenceNumber:h}));var h}class bl{constructor(){this.changes=new ns(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?et.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return Zo(e).put(a)}removeEntry(e,r,a){return Zo(e).delete(function(_,b){const P=_.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],vt(b),P[P.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.rr(e,a)))}getEntry(e,r){let a=_t.newInvalidDocument(r);return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ca(r))},(h,_)=>{a=this.ir(r,_)}).next(()=>a)}sr(e,r){let a={size:0,document:_t.newInvalidDocument(r)};return Zo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ca(r))},(h,_)=>{a={document:this.ir(r,_),size:Gc(_)}}).next(()=>a)}getEntries(e,r){let a=bs();return this._r(e,r,(h,_)=>{const b=this.ir(h,_);a=a.insert(h,b)}).next(()=>a)}ar(e,r){let a=bs(),h=new Qr(Ht.comparator);return this._r(e,r,(_,b)=>{const P=this.ir(_,b);a=a.insert(_,P),h=h.insert(_,Gc(b))}).next(()=>({documents:a,ur:h}))}_r(e,r,a){if(r.isEmpty())return et.resolve();let h=new wr(Od);r.forEach(F=>h=h.add(F));const _=IDBKeyRange.bound(Ca(h.first()),Ca(h.last())),b=h.getIterator();let P=b.getNext();return Zo(e).J({index:"documentKeyIndex",range:_},(F,K,ie)=>{const ye=Ht.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;P&&Od(P,ye)<0;)a(P,null),P=b.getNext();P&&P.isEqual(ye)&&(a(P,K),P=b.hasNext()?b.getNext():null),P?ie.$(Ca(P)):ie.done()}).next(()=>{for(;P;)a(P,null),P=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,a,h,_){const b=r.path,P=[b.popLast().toArray(),b.lastSegment(),vt(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zo(e).U(IDBKeyRange.bound(P,F,!0)).next(K=>{_?.incrementDocumentReadCount(K.length);let ie=bs();for(const ye of K){const je=this.ir(Ht.fromSegments(ye.prefixPath.concat(ye.collectionGroup,ye.documentId)),ye);je.isFoundDocument()&&(To(r,je)||h.has(je.key))&&(ie=ie.insert(je.key,je))}return ie})}getAllFromCollectionGroup(e,r,a,h){let _=bs();const b=qu(r,a),P=qu(r,gn.max());return Zo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,P,!0)},(F,K,ie)=>{const ye=this.ir(Ht.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(ye.key,ye),_.size===h&&ie.done()}).next(()=>_)}newChangeBuffer(e){return new Rd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Cl(e).get("remoteDocumentGlobalKey").next(r=>($t(!!r),r))}rr(e,r){return Cl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const a=function oe(d,e){let r;if(e.document)r=Vc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=Ht.fromSegments(e.noDocument.path),h=In(e.noDocument.readTime);r=_t.newNoDocument(a,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ot();{const a=Ht.fromSegments(e.unknownDocument.path),h=In(e.unknownDocument.version);r=_t.newUnknownDocument(a,h)}}return e.readTime&&r.setReadTime(function(h){const _=new Kt(h[0],h[1]);return jt.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!a.isNoDocument()||!a.version.isEqual(jt.min()))return a}return _t.newInvalidDocument(e)}}function Md(d){return new lp(d)}class Rd extends bl{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new ns(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const r=[];let a=0,h=new wr((_,b)=>Qt(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const P=this.lr.get(_);if(r.push(this.cr.removeEntry(e,_,P.readTime)),b.isValidDocument()){const F=Pe(this.cr.serializer,b);h=h.add(_.path.popLast());const K=Gc(F);a+=K-P.size,r.push(this.cr.addEntry(e,_,F))}else if(a-=P.size,this.trackRemovals){const F=Pe(this.cr.serializer,b.convertToNoDocument(jt.min()));r.push(this.cr.addEntry(e,_,F))}}),h.forEach(_=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.cr.updateMetadata(e,a)),et.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(a=>(this.lr.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:a,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:a.get(_).readTime})}),a))}}function Cl(d){return Ui(d,"remoteDocumentGlobal")}function Zo(d){return Ui(d,"remoteDocumentsV14")}function Ca(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qu(d,e){const r=e.documentKey.path.toArray();return[d,vt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Od(d,e){const r=d.path.toArray(),a=e.path.toArray();let h=0;for(let _=0;_<r.length-2&&_<a.length-2;++_)if(h=Qt(r[_],a[_]),h)return h;return h=Qt(r.length,a.length),h||(h=Qt(r[r.length-2],a[a.length-2]),h||Qt(r[r.length-1],a[a.length-1]))}class nu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Il{constructor(e,r,a,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==a&&ni(a.mutation,h,ai.empty(),Kt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,_r()).next(()=>a))}getLocalViewOfDocuments(e,r,a=_r()){const h=Os();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,a).next(_=>{let b=eo();return _.forEach((P,F)=>{b=b.insert(P,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const a=Os();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,_r()))}populateOverlays(e,r,a){const h=[];return a.forEach(_=>{r.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,P)=>{r.set(b,P)})})}computeViews(e,r,a,h){let _=bs();const b=la(),P=la();return r.forEach((F,K)=>{const ie=a.get(K.key);h.has(K.key)&&(void 0===ie||ie.mutation instanceof gi)?_=_.insert(K.key,K):void 0!==ie?(b.set(K.key,ie.mutation.getFieldMask()),ni(ie.mutation,K,ie.mutation.getFieldMask(),Kt.now())):b.set(K.key,ai.empty())}),this.recalculateAndSaveOverlays(e,_).next(F=>(F.forEach((K,ie)=>b.set(K,ie)),r.forEach((K,ie)=>{var ye;return P.set(K,new nu(ie,null!==(ye=b.get(K))&&void 0!==ye?ye:null))}),P))}recalculateAndSaveOverlays(e,r){const a=la();let h=new Qr((b,P)=>b-P),_=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const P of b)P.keys().forEach(F=>{const K=r.get(F);if(null===K)return;let ie=a.get(F)||ai.empty();ie=P.applyToLocalView(K,ie),a.set(F,ie);const ye=(h.get(P.batchId)||_r()).add(F);h=h.insert(P.batchId,ye)})}).next(()=>{const b=[],P=h.getReverseIterator();for(;P.hasNext();){const F=P.getNext(),K=F.key,ie=F.value,ye=Ha();ie.forEach(je=>{if(!_.has(je)){const yt=Lt(r.get(je),a.get(je));null!==yt&&ye.set(je,yt),_=_.add(je)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,ye))}return et.waitFor(b)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a,h){return Ht.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ae(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,h):this.getDocumentsMatchingCollectionQuery(e,r,a,h);var b}getNextDocuments(e,r,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,h-_.size):et.resolve(Os());let P=-1,F=_;return b.next(K=>et.forEach(K,(ie,ye)=>(P<ye.largestBatchId&&(P=ye.largestBatchId),_.get(ie)?et.resolve():this.remoteDocumentCache.getEntry(e,ie).next(je=>{F=F.insert(ie,je)}))).next(()=>this.populateOverlays(e,K,_)).next(()=>this.computeViews(e,F,K,_r())).next(ie=>({batchId:P,changes:qo(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ht(r)).next(a=>{let h=eo();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,a,h){const _=r.collectionGroup;let b=eo();return this.indexManager.getCollectionParents(e,_).next(P=>et.forEach(P,F=>{const K=(ye=r,je=F.child(_),new co(je,null,ye.explicitOrderBy.slice(),ye.filters.slice(),ye.limit,ye.limitType,ye.startAt,ye.endAt));var ye,je;return this.getDocumentsMatchingCollectionQuery(e,K,a,h).next(ie=>{ie.forEach((ye,je)=>{b=b.insert(ye,je)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,a,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,_,h))).next(b=>{_.forEach((F,K)=>{const ie=K.getKey();null===b.get(ie)&&(b=b.insert(ie,_t.newInvalidDocument(ie)))});let P=eo();return b.forEach((F,K)=>{const ie=_.get(F);void 0!==ie&&ni(ie.mutation,K,ai.empty(),Kt.now()),To(r,K)&&(P=P.insert(F,K))}),P})}}class up{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:rs(h.createTime)}),et.resolve();var h}getNamedQuery(e,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:bi(h.bundledQuery),readTime:rs(h.readTime)}),et.resolve();var h}}class Oy{constructor(){this.overlays=new Qr(Ht.comparator),this.Ir=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const a=Os();return et.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&a.set(h,_)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((h,_)=>{this.ht(e,r,_)}),et.resolve()}removeOverlaysForBatchId(e,r,a){const h=this.Ir.get(a);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(a)),et.resolve()}getOverlaysForCollection(e,r,a){const h=Os(),_=r.length+1,b=new Ht(r.child("")),P=this.overlays.getIteratorFrom(b);for(;P.hasNext();){const F=P.getNext().value,K=F.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===_&&F.largestBatchId>a&&h.set(F.getKey(),F)}return et.resolve(h)}getOverlaysForCollectionGroup(e,r,a,h){let _=new Qr((K,ie)=>K-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>a){let ie=_.get(K.largestBatchId);null===ie&&(ie=Os(),_=_.insert(K.largestBatchId,ie)),ie.set(K.getKey(),K)}}const P=Os(),F=_.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((K,ie)=>P.set(K,ie)),!(P.size()>=h)););return et.resolve(P)}ht(e,r,a){const h=this.overlays.get(a.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(a.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(a.key,new As(r,a));let _=this.Ir.get(r);void 0===_&&(_=_r(),this.Ir.set(r,_)),this.Ir.set(r,_.add(a.key))}}class Tl{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}class Nd{constructor(){this.Tr=new wr(js.Er),this.dr=new wr(js.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const a=new js(e,r);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.Vr(new js(e,r))}mr(e,r){e.forEach(a=>this.removeReference(a,r))}gr(e){const r=new Ht(new un([])),a=new js(r,e),h=new js(r,e+1),_=[];return this.dr.forEachInRange([a,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ht(new un([])),a=new js(r,e),h=new js(r,e+1);let _=_r();return this.dr.forEachInRange([a,h],b=>{_=_.add(b.key)}),_}containsKey(e){const r=new js(e,0),a=this.Tr.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class js{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ht.comparator(e.key,r.key)||Qt(e.wr,r.wr)}static Ar(e,r){return Qt(e.wr,r.wr)||Ht.comparator(e.key,r.key)}}class Sg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new wr(js.Er)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,h){const _=this.Sr;this.Sr++;const b=new Ns(_,r,a,h);this.mutationQueue.push(b);for(const P of h)this.br=this.br.add(new js(P.key,_)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return et.resolve(b)}lookupMutationBatch(e,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),_=h<0?0:h;return et.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new js(r,0),h=new js(r,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([a,h],b=>{const P=this.Dr(b.wr);_.push(P)}),et.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new wr(Qt);return r.forEach(h=>{const _=new js(h,0),b=new js(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],P=>{a=a.add(P.wr)})}),et.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,h=a.length+1;let _=a;Ht.isDocumentKey(_)||(_=_.child(""));const b=new js(new Ht(_),0);let P=new wr(Qt);return this.br.forEachWhile(F=>{const K=F.key.path;return!!a.isPrefixOf(K)&&(K.length===h&&(P=P.add(F.wr)),!0)},b),et.resolve(this.Cr(P))}Cr(e){const r=[];return e.forEach(a=>{const h=this.Dr(a);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){$t(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return et.forEach(r.mutations,h=>{const _=new js(h.key,r.batchId);return a=a.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=a})}On(e){}containsKey(e,r){const a=new js(r,0),h=this.br.firstAfterOrEqual(a);return et.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return et.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class i_{constructor(e){this.Mr=e,this.docs=new Qr(Ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,h=this.docs.get(a),_=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return et.resolve(a?a.document.mutableCopy():_t.newInvalidDocument(r))}getEntries(e,r){let a=bs();return r.forEach(h=>{const _=this.docs.get(h);a=a.insert(h,_?_.document.mutableCopy():_t.newInvalidDocument(h))}),et.resolve(a)}getDocumentsMatchingQuery(e,r,a,h){let _=bs();const b=r.path,P=new Ht(b.child("")),F=this.docs.getIteratorFrom(P);for(;F.hasNext();){const{key:K,value:{document:ie}}=F.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||oi(Ts(ie),a)<=0||(h.has(ie.key)||To(r,ie))&&(_=_.insert(ie.key,ie.mutableCopy()))}return et.resolve(_)}getAllFromCollectionGroup(e,r,a,h){Ot()}Or(e,r){return et.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new wl(this)}getSize(e){return et.resolve(this.size)}}class wl extends bl{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(a)}),et.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Pg{constructor(e){this.persistence=e,this.Nr=new ns(r=>Ki(r),ao),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Nd,this.targetCount=0,this.kr=va.Bn()}forEachTarget(e,r){return this.Nr.forEach((a,h)=>r(h)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new va(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.Kn(r),et.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,a){let h=0;const _=[];return this.Nr.forEach((b,P)=>{P.sequenceNumber<=r&&null===a.get(P.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),et.waitFor(_).next(()=>h)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const a=this.Nr.get(r)||null;return et.resolve(a)}addMatchingKeys(e,r,a){return this.Br.Rr(r,a),et.resolve()}removeMatchingKeys(e,r,a){this.Br.mr(r,a);const h=this.persistence.referenceDelegate,_=[];return h&&r.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),et.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Br.yr(r);return et.resolve(a)}containsKey(e,r){return et.resolve(this.Br.containsKey(r))}}class Yh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new Tl,this.referenceDelegate=e(this),this.Ur=new Pg(this),this.indexManager=new yl,this.remoteDocumentCache=new i_(a=>this.referenceDelegate.Wr(a)),this.serializer=new H(r),this.Gr=new up(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Oy,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.qr[e.toKey()];return a||(a=new Sg(r,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,a){De("MemoryPersistence","Starting transaction:",e);const h=new Ks(this.Qr.next());return this.referenceDelegate.zr(),a(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,r){return et.or(Object.values(this.qr).map(a=>()=>a.containsKey(e,r)))}}class Ks extends Dr{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Jr=new Nd,this.Yr=null}static Zr(e){return new kd(e)}get Xr(){if(this.Yr)return this.Yr;throw Ot()}addReference(e,r,a){return this.Jr.addReference(a,r),this.Xr.delete(a.toString()),et.resolve()}removeReference(e,r,a){return this.Jr.removeReference(a,r),this.Xr.add(a.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>a.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,a=>{const h=Ht.fromPath(a);return this.ei(e,h).next(_=>{_||r.removeEntry(h,jt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(a=>{a?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Fd{constructor(e){this.serializer=e}O(e,r,a,h){const _=new mt("createOrUpgrade",r);var F;a<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vr,{unique:!0}),F.createObjectStore("documentMutations"),Lo(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=et.resolve();return a<3&&h>=3&&(0!==a&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),Lo(e)),b=b.next(()=>function(F){const K=F.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ie)}(_))),a<4&&h>=4&&(0!==a&&(b=b.next(()=>function(F,K){return K.store("mutations").U().next(ie=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vr,{unique:!0});const ye=K.store("mutations"),je=ie.map(yt=>ye.put(yt));return et.waitFor(je)})}(e,_))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(b=b.next(()=>this.ni(_))),a<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),a<7&&h>=7&&(b=b.next(()=>this.ii(_))),a<8&&h>=8&&(b=b.next(()=>this.si(e,_))),a<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(b=b.next(()=>this.oi(_))),a<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(b=b.next(()=>{!function(F){const K=F.createObjectStore("documentOverlays",{keyPath:Ln});K.createIndex("collectionPathOverlayIndex",Mn,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",hr,{unique:!1})}(e)})),a<13&&h>=13&&(b=b.next(()=>function(F){const K=F.createObjectStore("remoteDocumentsV14",{keyPath:Ss});K.createIndex("documentKeyIndex",wi),K.createIndex("collectionGroupIndex",$i)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),a<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Ct}).createIndex("sequenceNumberIndex",nt,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Mt}).createIndex("documentKeyIndex",ln,{unique:!1})}(e))),a<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),a<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((a,h)=>{r+=Gc(h)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.U().next(h=>et.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",b).next(P=>et.forEach(P,F=>{$t(F.userId===_.userId);const K=dr(this.serializer,F);return Wh(e,_.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return a.J((b,P)=>{const F=new un(b),K=[0,At(F)];_.push(r.get(K).next(ie=>ie?et.resolve():r.put({targetId:0,path:At(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>et.waitFor(_))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Ps});const a=r.store("collectionParents"),h=new tu,_=b=>{if(h.add(b)){const P=b.lastSegment(),F=b.popLast();return a.put({collectionId:P,parent:At(F)})}};return r.store("remoteDocuments").J({H:!0},(b,P)=>{const F=new un(b);return _(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,P,F],K)=>{const ie=Sn(P);return _(ie.popLast())}))}oi(e){const r=e.store("targets");return r.J((a,h)=>{const _=Ar(h),b=Pr(this.serializer,_);return r.put(b)})}_i(e,r){const a=r.store("remoteDocuments"),h=[];return a.J((_,b)=>{const P=r.store("remoteDocumentsV14"),F=(ye=b,ye.document?new Ht(un.fromString(ye.document.name).popFirst(5)):ye.noDocument?Ht.fromSegments(ye.noDocument.path):ye.unknownDocument?Ht.fromSegments(ye.unknownDocument.path):Ot()).path.toArray(),K={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ye;h.push(P.put(K))}).next(()=>et.waitFor(h))}ai(e,r){const a=r.store("mutations"),h=Md(this.serializer),_=new Yh(kd.Zr,this.serializer.ct);return a.U().next(b=>{const P=new Map;return b.forEach(F=>{var K;let ie=null!==(K=P.get(F.userId))&&void 0!==K?K:_r();dr(this.serializer,F).keys().forEach(ye=>ie=ie.add(ye)),P.set(F.userId,ie)}),et.forEach(P,(F,K)=>{const ie=new Je(K),ye=mc.lt(this.serializer,ie),je=_.getIndexManager(ie),yt=vl.lt(ie,this.serializer,je,_.referenceDelegate);return new Il(h,yt,ye,je).recalculateAndSaveOverlaysForDocumentKeys(new mo(r,k.oe),F).next()})})}}function Lo(d){d.createObjectStore("targetDocuments",{keyPath:Ai}).createIndex("documentTargetsIndex",ar,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ni,{unique:!0}),d.createObjectStore("targetGlobal")}const qc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ec{constructor(e,r,a,h,_,b,P,F,K,ie,ye=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.ui=_,this.window=b,this.document=P,this.ci=K,this.li=ie,this.hi=ye,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=je=>Promise.resolve(),!Ec.D())throw new Ze(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xd(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new ce(this.Ai,this.hi,new Fd(this.serializer)),this.$r=new $h,this.Ur=new Dg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Md(this.serializer),this.Gr=new jc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ie&&rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(Ne.FAILED_PRECONDITION,qc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var a=(0,o.A)(function*(h){if(r.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,o.A)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,o.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(Hn(e))return De("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Yc(e).get("owner").next(r=>et.resolve(this.vi(r)))}Ci(e){return Xc(e).delete(this.clientId)}Fi(){var e=this;return(0,o.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=Ui(a,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),P=_.filter(F=>-1===b.indexOf(F));return et.forEach(P,F=>h.delete(F.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const a of r)e.Vi.removeItem(e.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?et.resolve(!0):Yc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ze(Ne.FAILED_PRECONDITION,qc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xc(e).U().next(a=>void 0===this.xi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&De("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,o.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new mo(r,k.oe);return e.bi(a).next(()=>e.Ci(a))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(a=>this.Mi(a.updateTimeMs,r)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Xc(e).U().next(r=>this.xi(r,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return vl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ap(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return mc.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,a){De("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",_=17===(F=this.hi)?go:16===F?Xi:15===F?ws:14===F?Yi:13===F?Tr:12===F?Xr:11===F?$r:void Ot();var F;let b;return this.Ri.runTransaction(e,h,_,P=>(b=new mo(P,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ze(Ne.FAILED_PRECONDITION,rr);return a(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>a(b)))).then(P=>(b.raiseOnCommittedEvent(),P))}Ki(e){return Yc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ze(Ne.FAILED_PRECONDITION,qc)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yc(e).put("owner",r)}static D(){return ce.D()}bi(e){const r=Yc(e);return r.get("owner").next(a=>this.vi(a)?(De("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):et.resolve())}Mi(e,r){const a=Date.now();return!(e<a-r||e>a&&(rn(`Detected an update time that is in the future: ${e} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,pe.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const a=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return De("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return rn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){rn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yc(d){return Ui(d,"owner")}function Xc(d){return Ui(d,"clientMetadata")}function Vd(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class dp{constructor(e,r,a,h){this.targetId=e,this.fromCache=r,this.$i=a,this.Ui=h}static Wi(e,r){let a=_r(),h=_r();for(const _ of r.docChanges)switch(_.type){case 0:a=a.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new dp(e,r.fromCache,a,h)}}class xg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Al{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,pe.nr)()?8:xe((0,pe.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,a,h){const _={result:null};return this.Yi(e,r).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,r,h,a).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new xg;return this.Xi(e,r,b).next(P=>{if(_.result=P,this.zi)return this.es(e,r,b,P.size)})}).next(()=>_.result)}es(e,r,a,h){return a.documentReadCount<this.ji?(Pt()<=Te.$b.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Es(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(Pt()<=Te.$b.DEBUG&&De("QueryEngine","Query:",Es(r),"scans",a.documentReadCount,"local documents and returns",h,"documents as results."),a.documentReadCount>this.Hi*h?(Pt()<=Te.$b.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Es(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(r))):et.resolve())}Yi(e,r){if(L(r))return et.resolve(null);let a=yn(r);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=vs(r,null,"F"),a=yn(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(_=>{const b=_r(..._);return this.Ji.getDocuments(e,b).next(P=>this.indexManager.getMinOffset(e,a).next(F=>{const K=this.ts(r,P);return this.ns(r,K,b,F.readTime)?this.Yi(e,vs(r,null,"F")):this.rs(e,K,r,F)}))})))}Zi(e,r,a,h){return L(r)||h.isEqual(jt.min())?et.resolve(null):this.Ji.getDocuments(e,a).next(_=>{const b=this.ts(r,_);return this.ns(r,b,a,h)?et.resolve(null):(Pt()<=Te.$b.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Es(r)),this.rs(e,b,r,yi(h,-1)).next(P=>P))})}ts(e,r){let a=new wr(Rs(e));return r.forEach((h,_)=>{To(e,_)&&(a=a.add(_))}),a}ns(e,r,a,h){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,r,a){return Pt()<=Te.$b.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Es(r)),this.Ji.getDocumentsMatchingQuery(e,r,gn.min(),a)}rs(e,r,a,h){return this.Ji.getDocumentsMatchingQuery(e,a,h).next(_=>(r.forEach(b=>{_=_.insert(b.key,b)}),_))}}class ea{constructor(e,r,a,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Qr(Qt),this._s=new ns(_=>Ki(_),ao),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Il(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Dl(d,e,r,a){return new ea(d,e,r,a)}function bc(d,e){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,o.A)(function*(d,e){const r=dt(d);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let h;return r.mutationQueue.getAllMutationBatches(a).next(_=>(h=_,r.ls(e),r.mutationQueue.getAllMutationBatches(a))).next(_=>{const b=[],P=[];let F=_r();for(const K of h){b.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}for(const K of _){P.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}return r.localDocuments.getDocuments(a,F).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:P}))})})})).apply(this,arguments)}function Ud(d){const e=dt(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Xh(d,e,r){let a=_r(),h=_r();return r.forEach(_=>a=a.add(_)),e.getEntries(d,a).next(_=>{let b=bs();return r.forEach((P,F)=>{const K=_.get(P);F.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(P)),F.isNoDocument()&&F.version.isEqual(jt.min())?(e.removeEntry(P,F.readTime),b=b.insert(P,F)):!K.isValidDocument()||F.version.compareTo(K.version)>0||0===F.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(F),b=b.insert(P,F)):De("LocalStore","Ignoring outdated watch update for ",P,". Current version:",K.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function fp(d,e){const r=dt(d);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Qc(d,e){const r=dt(d);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return r.Ur.getTargetData(a,e).next(_=>_?(h=_,et.resolve(h)):r.Ur.allocateTargetId(a).next(b=>(h=new N(e,b,"TargetPurposeListen",a.currentSequenceNumber),r.Ur.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=r.os.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(a.targetId,a),r._s.set(e,a.targetId)),a})}function ru(d,e,r){return jd.apply(this,arguments)}function jd(){return(jd=(0,o.A)(function*(d,e,r){const a=dt(d),h=a.os.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",_,b=>a.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!Hn(b))throw b;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}a.os=a.os.remove(e),a._s.delete(h.target)})).apply(this,arguments)}function Cc(d,e,r){const a=dt(d);let h=jt.min(),_=_r();return a.persistence.runTransaction("Execute query","readwrite",b=>function(F,K,ie){const ye=dt(F),je=ye._s.get(ie);return void 0!==je?et.resolve(ye.os.get(je)):ye.Ur.getTargetData(K,ie)}(a,b,yn(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(b,P.targetId).next(F=>{_=F})}).next(()=>a.ss.getDocumentsMatchingQuery(b,e,r?h:jt.min(),r?_:_r())).next(P=>(Ia(a,ac(e),P),{documents:P,Ts:_})))}function Qh(d,e){const r=dt(d),a=dt(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",_=>a.ot(_,e).next(b=>b?b.target:null))}function Jc(d,e){const r=dt(d),a=r.us.get(e)||jt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,yi(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Ia(r,e,h),h))}function Ia(d,e,r){let a=d.us.get(e)||jt.min();r.forEach((h,_)=>{_.readTime.compareTo(a)>0&&(a=_.readTime)}),d.us.set(e,a)}function Jh(){return(Jh=(0,o.A)(function*(d,e,r,a){const h=dt(d);let _=_r(),b=bs();for(const K of r){const ie=e.Es(K.metadata.name);K.document&&(_=_.add(ie));const ye=e.ds(K);ye.setReadTime(e.As(K.metadata.readTime)),b=b.insert(ie,ye)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Qc(h,(ie=a,yn(J(un.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>Xh(K,P,b).next(ie=>(P.apply(K),ie)).next(ie=>h.Ur.removeMatchingKeysForTargetId(K,F.targetId).next(()=>h.Ur.addMatchingKeys(K,_,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,ie.Ps,ie.Is)).next(()=>ie.Ps)))})).apply(this,arguments)}function Zh(d,e){return su.apply(this,arguments)}function su(){return(su=(0,o.A)(function*(d,e,r=_r()){const a=yield Qc(d,yn(bi(e.bundledQuery))),h=dt(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=rs(e.readTime);if(a.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const P=a.withResumeToken(Di.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(_,P).next(()=>h.Ur.removeMatchingKeysForTargetId(_,a.targetId)).next(()=>h.Ur.addMatchingKeys(_,r,a.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function Yu(d,e){return`firestore_clients_${d}_${e}`}function ef(d,e,r){let a=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Xu(d,e){return`firestore_targets_${d}_${e}`}class Bd{constructor(e,r,a,h){this.user=e,this.batchId=r,this.state=a,this.error=h}static Rs(e,r,a){const h=JSON.parse(a);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new Ze(h.error.code,h.error.message))),b?new Bd(e,r,h.state,_):(rn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zc{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static Rs(e,r){const a=JSON.parse(r);let h,_="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(h=new Ze(a.error.code,a.error.message))),_?new Zc(e,a.state,h):(rn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Na{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const a=JSON.parse(r);let h="object"==typeof a&&a.activeTargetIds instanceof Array,_=Eo();for(let b=0;h&&b<a.activeTargetIds.length;++b)h=st(a.activeTargetIds[b]),_=_.add(a.activeTargetIds[b]);return h?new Na(e,_):(rn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class T{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new T(r.clientId,r.onlineState):(rn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=Eo()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E{constructor(e,r,a,h,_){this.window=e,this.ui=r,this.persistenceKey=a,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Qr(Qt),this.started=!1,this.bs=[];const b=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Yu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,o.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const _=e.getItem(Yu(e.persistenceKey,h));if(_){const b=Na.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const a=e.storage.getItem(e.xs);if(a){const h=e.Ls(a);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((a,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,a){this.qs(e,r,a),this.Qs(e)}addLocalQueryTarget(e,r=!0){let a="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Xu(this.persistenceKey,e));if(h){const _=Zc.Rs(e,h);_&&(a=_.state)}}return r&&this.Ks.fs(e),this.Ns(),a}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xu(this.persistenceKey,e))}updateQueryState(e,r,a){this.$s(e,r,a)}handleUserChange(e,r,a){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return De("SharedClientState","READ",e,r),r}setItem(e,r){De("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){De("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const a=e;if(a.storageArea===this.storage){if(De("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,o.A)(function*(){if(r.started){if(null!==a.key)if(r.Cs.test(a.key)){if(null==a.newValue){const h=r.Gs(a.key);return r.zs(h,null)}{const h=r.js(a.key,a.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(a.key)){if(null!==a.newValue){const h=r.Hs(a.key,a.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(a.key)){if(null!==a.newValue){const h=r.Ys(a.key,a.newValue);if(h)return r.Zs(h)}}else if(a.key===r.xs){if(null!==a.newValue){const h=r.Ls(a.newValue);if(h)return r.Bs(h)}}else if(a.key===r.vs){const h=function(b){let P=k.oe;if(null!=b)try{const F=JSON.parse(b);$t("number"==typeof F),P=F}catch(F){rn("SharedClientState","Failed to read sequence number from WebStorage",F)}return P}(a.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(a.key===r.Os){const h=r.Xs(a.newValue);yield Promise.all(h.map(_=>r.syncEngine.eo(_)))}}else r.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,a){const h=new Bd(this.currentUser,e,r,a),_=ef(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const r=ef(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,a){const h=Xu(this.persistenceKey,e),_=new Zc(e,r,a);this.setItem(h,_.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const a=this.Gs(e);return Na.Rs(a,r)}Hs(e,r){const a=this.Fs.exec(e),h=Number(a[1]);return Bd.Rs(new Je(void 0!==a[2]?a[2]:null),h,r)}Ys(e,r){const a=this.Ms.exec(e),h=Number(a[1]);return Zc.Rs(h,r)}Ls(e){return T.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,o.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);De("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const a=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(a),b=[],P=[];return _.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{_.has(F)||P.push(F)}),this.syncEngine.io(b,P).then(()=>{this.Ss=a})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Eo();return e.forEach((a,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,a){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class he{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let He=null;function wt(){return null===He?He=268435456+Math.round(2147483648*Math.random()):He++,"0x"+He.toString(16)}const Wt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class On{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const xn="WebChannelConnection";class ri extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const a=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+r.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(r,a,h,_,b){const P=wt(),F=this.xo(r,a.toUriEncodedString());De("RestConnection",`Sending RPC '${r}' ${P}:`,F,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,_,b),this.No(r,F,K,h).then(ie=>(De("RestConnection",`Received RPC '${r}' ${P}: `,ie),ie),ie=>{throw vn("RestConnection",`RPC '${r}' ${P} failed with error: `,ie,"url: ",F,"request:",h),ie})}Lo(r,a,h,_,b,P){return this.Mo(r,a,h,_,b)}Oo(r,a,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+We,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((_,b)=>r[b]=_),h&&h.headers.forEach((_,b)=>r[b]=_)}xo(r,a){return`${this.Do}/v1/${a}:${Wt[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,a,h){const _=wt();return new Promise((b,P)=>{const F=new _e;F.setWithCredentials(!0),F.listenOnce(St.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Dt.NO_ERROR:const ie=F.getResponseJson();De(xn,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(ie)),b(ie);break;case Dt.TIMEOUT:De(xn,`RPC '${e}' ${_} timed out`),P(new Ze(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case Dt.HTTP_ERROR:const ye=F.getStatus();if(De(xn,`RPC '${e}' ${_} failed with status:`,ye,"response text:",F.getResponseText()),ye>0){let je=F.getResponseJson();Array.isArray(je)&&(je=je[0]);const yt=je?.error;if(yt&&yt.status&&yt.message){const Gt=function(nn){const Jn=nn.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(Jn)>=0?Jn:Ne.UNKNOWN}(yt.status);P(new Ze(Gt,yt.message))}else P(new Ze(Ne.UNKNOWN,"Server responded with status "+F.getStatus()))}else P(new Ze(Ne.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{De(xn,`RPC '${e}' ${_} completed.`)}});const K=JSON.stringify(h);De(xn,`RPC '${e}' ${_} sending request:`,h),F.send(r,"POST",K,a,15)})}Bo(e,r,a){const h=wt(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Be(),P=pn(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(F.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,a),F.encodeInitMessageHeaders=!0;const ie=_.join("");De(xn,`Creating RPC '${e}' stream ${h}: ${ie}`,F);const ye=b.createWebChannel(ie,F);let je=!1,yt=!1;const Gt=new On({Io:nn=>{yt?De(xn,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):(je||(De(xn,`Opening RPC '${e}' stream ${h} transport.`),ye.open(),je=!0),De(xn,`RPC '${e}' stream ${h} sending:`,nn),ye.send(nn))},To:()=>ye.close()}),hn=(nn,Jn,fr)=>{nn.listen(Jn,nr=>{try{fr(nr)}catch(jr){setTimeout(()=>{throw jr},0)}})};return hn(ye,Qe.EventType.OPEN,()=>{yt||(De(xn,`RPC '${e}' stream ${h} transport opened.`),Gt.yo())}),hn(ye,Qe.EventType.CLOSE,()=>{yt||(yt=!0,De(xn,`RPC '${e}' stream ${h} transport closed`),Gt.So())}),hn(ye,Qe.EventType.ERROR,nn=>{yt||(yt=!0,vn(xn,`RPC '${e}' stream ${h} transport errored:`,nn),Gt.So(new Ze(Ne.UNAVAILABLE,"The operation could not be completed")))}),hn(ye,Qe.EventType.MESSAGE,nn=>{var Jn;if(!yt){const fr=nn.data[0];$t(!!fr);const jr=fr.error||(null===(Jn=fr[0])||void 0===Jn?void 0:Jn.error);if(jr){De(xn,`RPC '${e}' stream ${h} received error:`,jr);const Vi=jr.status;let ui=function(Ge){const ct=Rr[Ge];if(void 0!==ct)return to(ct)}(Vi),at=jr.message;void 0===ui&&(ui=Ne.INTERNAL,at="Unknown error status: "+Vi+" with message "+jr.message),yt=!0,Gt.So(new Ze(ui,at)),ye.close()}else De(xn,`RPC '${e}' stream ${h} received:`,fr),Gt.bo(fr)}}),hn(P,Nt.STAT_EVENT,nn=>{nn.stat===Bt.PROXY?De(xn,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===Bt.NOPROXY&&De(xn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Gt.wo()},0),Gt}}function bo(){return typeof window<"u"?window:null}function Ta(){return typeof document<"u"?document:null}function ou(d){return new Uh(d,!0)}class Ao{constructor(e,r,a=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=r,this.ko=a,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-a);h>0&&De("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class $d{constructor(e,r,a,h,_,b,P,F){this.ui=e,this.Ho=a,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=P,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ao(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,o.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,o.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var a=this;return(0,o.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==e?a.t_.reset():r&&r.code===Ne.RESOURCE_EXHAUSTED?(rn(r.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):r&&r.code===Ne.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Yo===r&&this.P_(a,h)},a=>{e(()=>{const h=new Ze(Ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(h)})})}P_(e,r){const a=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{a(()=>this.I_(h))}),this.stream.onMessage(h=>{a(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,o.A)(function*(){e.state=0,e.start()}))}I_(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hd extends $d{constructor(e,r,a,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,h,b),this.serializer=_}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function Zl(d,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Ot(),h=e.targetChange.targetIds||[],_=function(K,ie){return K.useProto3Json?($t(void 0===ie||"string"==typeof ie),Di.fromBase64String(ie||"")):($t(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),Di.fromUint8Array(ie||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,P=b&&function(K){const ie=void 0===K.code?Ne.UNKNOWN:to(K.code);return new Ze(ie,K.message||"")}(b);r=new Fu(a,h,_,P||null)}else if("documentChange"in e){const a=e.documentChange,h=Jo(d,a.document.name),_=rs(a.document.updateTime),b=a.document.createTime?rs(a.document.createTime):jt.min(),P=new Re({mapValue:{fields:a.document.fields}}),F=_t.newFoundDocument(h,_,b,P);r=new Ka(a.targetIds||[],a.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const a=e.documentDelete,h=Jo(d,a.document),_=a.readTime?rs(a.readTime):jt.min(),b=_t.newNoDocument(h,_);r=new Ka([],a.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const a=e.documentRemove,h=Jo(d,a.document);r=new Ka([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ot();{const a=e.filter,{count:h=0,unchangedNames:_}=a,b=new Nu(h,_);r=new Nc(a.targetId,b)}}var K;return r}(this.serializer,e),a=function(_){if(!("targetChange"in _))return jt.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?jt.min():b.readTime?rs(b.readTime):jt.min()}(e);return this.listener.d_(r,a)}A_(e){const r={};r.database=Fc(this.serializer),r.addTarget=function(_,b){let P;const F=b.target;if(P=Ua(F)?{documents:Ls(_,F)}:{query:Ya(_,F)._t},P.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){P.resumeToken=Xl(_,b.resumeToken);const K=Lu(_,b.expectedCount);null!==K&&(P.expectedCount=K)}else if(b.snapshotVersion.compareTo(jt.min())>0){P.readTime=fa(_,b.snapshotVersion.toTimestamp());const K=Lu(_,b.expectedCount);null!==K&&(P.expectedCount=K)}return P}(this.serializer,e);const a=function ir(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.a_(r)}R_(e){const r={};r.database=Fc(this.serializer),r.removeTarget=e,this.a_(r)}}class Rg extends $d{constructor(e,r,a,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return $t(!!e.streamToken),this.lastStreamToken=e.streamToken,$t(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){$t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Ji(d,e){return d&&d.length>0?($t(void 0!==e),d.map(r=>function(h,_){let b=rs(h.updateTime?h.updateTime:_);return b.isEqual(jt.min())&&(b=rs(_)),new B(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=rs(e.commitTime);return this.listener.g_(a,r)}p_(){const e={};e.database=Fc(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>gl(this.serializer,a))};this.a_(r)}}class pp extends class{}{constructor(e,r,a,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new Ze(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,a,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Jl(r,a),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Ze(Ne.UNKNOWN,_.toString())})}Lo(e,r,a,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,P])=>this.connection.Lo(e,Jl(r,a),h,b,P,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new Ze(Ne.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Qu{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rn(r),this.D_=!1):De("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class gp{constructor(e,r,a,h,_){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(P=>{a.enqueueAndForget((0,o.A)(function*(){var F;ka(b)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,o.A)(function*(ie){const ye=dt(ie);ye.L_.add(4),yield Ju(ye),ye.q_.set("Unknown"),ye.L_.delete(4),yield au(ye)}),function K(ie){return F.apply(this,arguments)})(b))}))}),this.q_=new Qu(a,h)}}function au(d){return tf.apply(this,arguments)}function tf(){return(tf=(0,o.A)(function*(d){if(ka(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Ju(d){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,o.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function zd(d,e){const r=dt(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Wd(r)?nf(r):rd(r).r_()&&Zu(r,e))}function Sl(d,e){const r=dt(d),a=rd(r);r.N_.delete(e),a.r_()&&Og(r,e),0===r.N_.size&&(a.r_()?a.o_():ka(r)&&r.q_.set("Unknown"))}function Zu(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}rd(d).A_(e)}function Og(d,e){d.Q_.xe(e),rd(d).R_(e)}function nf(d){d.Q_=new Vu({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),rd(d).start(),d.q_.v_()}function Wd(d){return ka(d)&&!rd(d).n_()&&d.N_.size>0}function ka(d){return 0===dt(d).L_.size}function Ng(d){d.Q_=void 0}function s_(d){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function mp(d){return qd.apply(this,arguments)}function qd(){return(qd=(0,o.A)(function*(d){d.N_.forEach((e,r)=>{Zu(d,e)})})).apply(this,arguments)}function ed(d,e){return kg.apply(this,arguments)}function kg(){return(kg=(0,o.A)(function*(d,e){Ng(d),Wd(d)?(d.q_.M_(e),nf(d)):d.q_.set("Unknown")})).apply(this,arguments)}function l0(d,e,r){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,o.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof Fu&&2===e.state&&e.cause)try{yield(a=(0,o.A)(function*(_,b){const P=b.cause;for(const F of b.targetIds)_.N_.has(F)&&(yield _.remoteSyncer.rejectListen(F,P),_.N_.delete(F),_.Q_.removeTarget(F))}),function h(_,b){return a.apply(this,arguments)})(d,e)}catch(a){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield td(d,a)}else if(e instanceof Ka?d.Q_.Ke(e):e instanceof Nc?d.Q_.He(e):d.Q_.We(e),!r.isEqual(jt.min()))try{const a=yield Ud(d.localStore);r.compareTo(a)>=0&&(yield function(_,b){const P=_.Q_.rt(b);return P.targetChanges.forEach((F,K)=>{if(F.resumeToken.approximateByteSize()>0){const ie=_.N_.get(K);ie&&_.N_.set(K,ie.withResumeToken(F.resumeToken,b))}}),P.targetMismatches.forEach((F,K)=>{const ie=_.N_.get(F);if(!ie)return;_.N_.set(F,ie.withResumeToken(Di.EMPTY_BYTE_STRING,ie.snapshotVersion)),Og(_,F);const ye=new N(ie.target,F,K,ie.sequenceNumber);Zu(_,ye)}),_.remoteSyncer.applyRemoteEvent(P)}(d,r))}catch(a){De("RemoteStore","Failed to raise snapshot:",a),yield td(d,a)}var a}),Ja.apply(this,arguments)}function td(d,e,r){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,o.A)(function*(d,e,r){if(!Hn(e))throw e;d.L_.add(1),yield Ju(d),d.q_.set("Offline"),r||(r=()=>Ud(d.localStore)),d.asyncQueue.enqueueRetryable((0,o.A)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield au(d)}))})).apply(this,arguments)}function o_(d,e){return e().catch(r=>td(d,r,e))}function nd(d){return rf.apply(this,arguments)}function rf(){return(rf=(0,o.A)(function*(d){const e=dt(d),r=lu(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;a_(e);)try{const h=yield fp(e.localStore,a);if(null===h){0===e.O_.length&&r.o_();break}a=h.batchId,Ny(e,h)}catch(h){yield td(e,h)}Uo(e)&&_p(e)})).apply(this,arguments)}function a_(d){return ka(d)&&d.O_.length<10}function Ny(d,e){d.O_.push(e);const r=lu(d);r.r_()&&r.V_&&r.m_(e.mutations)}function Uo(d){return ka(d)&&!lu(d).n_()&&d.O_.length>0}function _p(d){lu(d).start()}function c_(d){return sf.apply(this,arguments)}function sf(){return(sf=(0,o.A)(function*(d){lu(d).p_()})).apply(this,arguments)}function Do(d){return cu.apply(this,arguments)}function cu(){return(cu=(0,o.A)(function*(d){const e=lu(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function l_(d,e,r){return yp.apply(this,arguments)}function yp(){return(yp=(0,o.A)(function*(d,e,r){const a=d.O_.shift(),h=Qo.from(a,e,r);yield o_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield nd(d)})).apply(this,arguments)}function ky(d,e){return vp.apply(this,arguments)}function vp(){return vp=(0,o.A)(function*(d,e){var r;e&&lu(d).V_&&(yield(r=(0,o.A)(function*(h,_){if(Wa(P=_.code)&&P!==Ne.ABORTED){const b=h.O_.shift();lu(h).s_(),yield o_(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield nd(h)}var P}),function a(h,_){return r.apply(this,arguments)})(d,e)),Uo(d)&&_p(d)}),vp.apply(this,arguments)}function u_(d,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,o.A)(function*(d,e){const r=dt(d);r.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const a=ka(r);r.L_.add(3),yield Ju(r),a&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield au(r)})).apply(this,arguments)}function el(d,e){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,o.A)(function*(d,e){const r=dt(d);e?(r.L_.delete(2),yield au(r)):e||(r.L_.add(2),yield Ju(r),r.q_.set("Unknown"))})).apply(this,arguments)}function rd(d){return d.K_||(d.K_=function(r,a,h){const _=dt(r);return _.w_(),new Hd(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:s_.bind(null,d),Ro:mp.bind(null,d),mo:ed.bind(null,d),d_:l0.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.K_.s_(),Wd(d)?nf(d):d.q_.set("Unknown")):(yield d.K_.stop(),Ng(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function lu(d){return d.U_||(d.U_=function(r,a,h){const _=dt(r);return _.w_(),new Rg(a,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c_.bind(null,d),mo:ky.bind(null,d),f_:Do.bind(null,d),g_:l_.bind(null,d)}),d.B_.push(function(){var e=(0,o.A)(function*(r){r?(d.U_.s_(),yield nd(d)):(yield d.U_.stop(),d.O_.length>0&&(De("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class af{constructor(e,r,a,h,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=h,this.removalCallback=_,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,h,_){const b=Date.now()+a,P=new af(e,r,b,h,_);return P.start(a),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uu(d,e){if(rn("AsyncQueue",`${e}: ${d}`),Hn(d))return new Ze(Ne.UNAVAILABLE,`${e}: ${d}`);throw d}class Yd{constructor(e){this.comparator=e?(r,a)=>e(r,a)||Ht.comparator(r.key,a.key):(r,a)=>Ht.comparator(r.key,a.key),this.keyedMap=eo(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new Yd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Yd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=a.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Yd;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Xd{constructor(){this.W_=new Qr(Ht.comparator)}track(e){const r=e.doc.key,a=this.W_.get(r);a?0!==e.type&&3===a.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==a.type?this.W_=this.W_.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.W_=this.W_.remove(r):1===e.type&&2===a.type?this.W_=this.W_.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ot():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,a)=>{e.push(a)}),e}}class Qd{constructor(e,r,a,h,_,b,P,F,K){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=P,this.excludesMetadataChanges=F,this.hasCachedResults=K}static fromInitialDocuments(e,r,a,h,_){const b=[];return r.forEach(P=>{b.push({type:0,doc:P})}),new Qd(e,r,Yd.emptySet(r),b,a,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Io(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==a[h].type||!r[h].doc.isEqual(a[h].doc))return!1;return!0}}class Fy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class d_{constructor(){this.queries=Lg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,a){const h=dt(r),_=h.queries;h.queries=Lg(),_.forEach((b,P)=>{for(const F of P.j_)F.onError(a)})}(this,new Ze(Ne.ABORTED,"Firestore shutting down"))}}function Lg(){return new ns(d=>Zs(d),Io)}function bp(d,e){return du.apply(this,arguments)}function du(){return(du=(0,o.A)(function*(d,e){const r=dt(d);let a=3;const h=e.query;let _=r.queries.get(h);_?!_.H_()&&e.J_()&&(a=2):(_=new Fy,a=e.J_()?0:1);try{switch(a){case 0:_.z_=yield r.onListen(h,!0);break;case 1:_.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const P=uu(b,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(P)}r.queries.set(h,_),_.j_.push(e),e.Z_(r.onlineState),_.z_&&e.X_(_.z_)&&Tp(r)})).apply(this,arguments)}function hu(d,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,o.A)(function*(d,e){const r=dt(d),a=e.query;let h=3;const _=r.queries.get(a);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function Jd(d,e){const r=dt(d);let a=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const P of b.j_)P.X_(h)&&(a=!0);b.z_=h}}a&&Tp(r)}function Ip(d,e,r){const a=dt(d),h=a.queries.get(e);if(h)for(const _ of h.j_)_.onError(r);a.queries.delete(e)}function Tp(d){d.Y_.forEach(e=>{e.next()})}var wp,Zd;(Zd=wp||(wp={})).ea="default",Zd.Cache="cache";class cf{constructor(e,r,a){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Qd(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Qd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wp.Cache}}class Vy{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class h_{constructor(e){this.serializer=e}Es(e){return Jo(this.serializer,e)}ds(e){return e.metadata.exists?Vc(this.serializer,e.document,!1):_t.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return rs(e)}}class f_{constructor(e,r,a){this.ca=e,this.localStore=r,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const a=un.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,a=new h_(this.serializer);for(const h of e)if(h.metadata.queries){const _=a.Es(h.metadata.name);for(const b of h.metadata.queries){const P=(r.get(b)||_r()).add(_);r.set(b,P)}}return r}complete(){var e=this;return(0,o.A)(function*(){const r=yield function iu(d,e,r,a){return Jh.apply(this,arguments)}(e.localStore,new h_(e.serializer),e.documents,e.ca.id),a=e.ha(e.documents);for(const h of e.queries)yield Zh(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function lf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class Ap{constructor(e){this.key=e}}class Dp{constructor(e){this.key=e}}class p_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_r(),this.mutatedKeys=_r(),this.Aa=Rs(e),this.Ra=new Yd(this.Aa)}get Va(){return this.Ta}ma(e,r){const a=r?r.fa:new Xd,h=r?r.Ra:this.Ra;let _=r?r.mutatedKeys:this.mutatedKeys,b=h,P=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ie,ye)=>{const je=h.get(ie),yt=To(this.query,ye)?ye:null,Gt=!!je&&this.mutatedKeys.has(je.key),hn=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let nn=!1;je&&yt?je.data.isEqual(yt.data)?Gt!==hn&&(a.track({type:3,doc:yt}),nn=!0):this.ga(je,yt)||(a.track({type:2,doc:yt}),nn=!0,(F&&this.Aa(yt,F)>0||K&&this.Aa(yt,K)<0)&&(P=!0)):!je&&yt?(a.track({type:0,doc:yt}),nn=!0):je&&!yt&&(a.track({type:1,doc:je}),nn=!0,(F||K)&&(P=!0)),nn&&(yt?(b=b.add(yt),_=hn?_.add(ie):_.delete(ie)):(b=b.delete(ie),_=_.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),_=_.delete(ie.key),a.track({type:1,doc:ie})}return{Ra:b,fa:a,ns:P,mutatedKeys:_}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ie,ye)=>function(yt,Gt){const hn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return hn(yt)-hn(Gt)}(ie.type,ye.type)||this.Aa(ie.doc,ye.doc)),this.pa(a),h=null!=h&&h;const P=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,K=F!==this.Ea;return this.Ea=F,0!==b.length||K?{snapshot:new Qd(this.query,e.Ra,_,b,e.mutatedKeys,0===F,K,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_r(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const r=[];return e.forEach(a=>{this.da.has(a)||r.push(new Dp(a))}),this.da.forEach(a=>{e.has(a)||r.push(new Ap(a))}),r}ba(e){this.Ta=e.Ts,this.da=_r();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Qd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ly{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Ug{constructor(e){this.key=e,this.va=!1}}class g_{constructor(e,r,a,h,_,b){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new ns(P=>Zs(P),Io),this.Ma=new Map,this.xa=new Set,this.Oa=new Qr(Ht.comparator),this.Na=new Map,this.La=new Nd,this.Ba={},this.ka=new Map,this.qa=va.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function id(d,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,o.A)(function*(d,e,r=!0){const a=_f(d);let h;const _=a.Fa.get(e);return _?(a.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield Uy(a,e,r,!0),h})).apply(this,arguments)}function m_(d,e){return jg.apply(this,arguments)}function jg(){return(jg=(0,o.A)(function*(d,e){const r=_f(d);yield Uy(r,e,!0,!1)})).apply(this,arguments)}function Uy(d,e,r,a){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,o.A)(function*(d,e,r,a){const h=yield Qc(d.localStore,yn(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,r);let P;return a&&(P=yield Bg(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&zd(d.remoteStore,h),P})).apply(this,arguments)}function Bg(d,e,r,a,h){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,o.A)(function*(d,e,r,a,h){d.Ka=(ye,je,yt)=>{return(Gt=(0,o.A)(function*(nn,Jn,fr,nr){let jr=Jn.view.ma(fr);jr.ns&&(jr=yield Cc(nn.localStore,Jn.query,!1).then(({documents:Oe})=>Jn.view.ma(Oe,jr)));const Vi=nr&&nr.targetChanges.get(Jn.targetId),ui=nr&&null!=nr.targetMismatches.get(Jn.targetId),at=Jn.view.applyChanges(jr,nn.isPrimaryClient,Vi,ui);return pu(nn,Jn.targetId,at.wa),at.snapshot}),function hn(nn,Jn,fr,nr){return Gt.apply(this,arguments)})(d,ye,je,yt);var Gt};const _=yield Cc(d.localStore,e,!0),b=new p_(e,_.Ts),P=b.ma(_.documents),F=xa.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==d.onlineState,h),K=b.applyChanges(P,d.isPrimaryClient,F);pu(d,r,K.wa);const ie=new Ly(e,r,b);return d.Fa.set(e,ie),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),Pp.apply(this,arguments)}function __(d,e,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,o.A)(function*(d,e,r){const a=dt(d),h=a.Fa.get(e),_=a.Ma.get(h.targetId);if(_.length>1)return a.Ma.set(h.targetId,_.filter(b=>!Io(b,e))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(h.targetId),a.sharedClientState.isActiveQueryTarget(h.targetId)||(yield ru(a.localStore,h.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(h.targetId),r&&Sl(a.remoteStore,h.targetId),Pl(a,h.targetId)}).catch(Kn))):(Pl(a,h.targetId),yield ru(a.localStore,h.targetId,!0))})).apply(this,arguments)}function $g(d,e){return eh.apply(this,arguments)}function eh(){return(eh=(0,o.A)(function*(d,e){const r=dt(d),a=r.Fa.get(e),h=r.Ma.get(a.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Sl(r.remoteStore,a.targetId))})).apply(this,arguments)}function th(){return(th=(0,o.A)(function*(d,e,r){const a=Xg(d);try{const h=yield function(b,P){const F=dt(b),K=Kt.now(),ie=P.reduce((yt,Gt)=>yt.add(Gt.key),_r());let ye,je;return F.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let Gt=bs(),hn=_r();return F.cs.getEntries(yt,ie).next(nn=>{Gt=nn,Gt.forEach((Jn,fr)=>{fr.isValidDocument()||(hn=hn.add(Jn))})}).next(()=>F.localDocuments.getOverlayedDocuments(yt,Gt)).next(nn=>{ye=nn;const Jn=[];for(const fr of P){const nr=Ei(fr,ye.get(fr.key).overlayedDocument);null!=nr&&Jn.push(new gi(fr.key,nr,Ye(nr.value.mapValue),Y.exists(!0)))}return F.mutationQueue.addMutationBatch(yt,K,Jn,P)}).next(nn=>{je=nn;const Jn=nn.applyToLocalDocumentSet(ye,hn);return F.documentOverlayCache.saveOverlays(yt,nn.batchId,Jn)})}).then(()=>({batchId:je.batchId,changes:qo(ye)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(b,P,F){let K=b.Ba[b.currentUser.toKey()];K||(K=new Qr(Qt)),K=K.insert(P,F),b.Ba[b.currentUser.toKey()]=K}(a,h.batchId,r),yield Tc(a,h.changes),yield nd(a.remoteStore)}catch(h){const _=uu(h,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function uf(d,e){return df.apply(this,arguments)}function df(){return(df=(0,o.A)(function*(d,e){const r=dt(d);try{const a=yield function Mg(d,e){const r=dt(d),a=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const P=[];e.targetChanges.forEach((ie,ye)=>{const je=h.get(ye);if(!je)return;P.push(r.Ur.removeMatchingKeys(_,ie.removedDocuments,ye).next(()=>r.Ur.addMatchingKeys(_,ie.addedDocuments,ye)));let yt=je.withSequenceNumber(_.currentSequenceNumber);var hn,nn,Jn;null!==e.targetMismatches.get(ye)?yt=yt.withResumeToken(Di.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):ie.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(ie.resumeToken,a)),h=h.insert(ye,yt),nn=yt,Jn=ie,(0===(hn=je).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Jn.addedDocuments.size+Jn.modifiedDocuments.size+Jn.removedDocuments.size>0)&&P.push(r.Ur.updateTargetData(_,yt))});let F=bs(),K=_r();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(_,ie))}),P.push(Xh(_,b,e.documentUpdates).next(ie=>{F=ie.Ps,K=ie.Is})),!a.isEqual(jt.min())){const ie=r.Ur.getLastRemoteSnapshotVersion(_).next(ye=>r.Ur.setTargetsMetadata(_,_.currentSequenceNumber,a));P.push(ie)}return et.waitFor(P).next(()=>b.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,F,K)).next(()=>F)}).then(_=>(r.os=h,_))}(r.localStore,e);e.targetChanges.forEach((h,_)=>{const b=r.Na.get(_);b&&($t(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?$t(b.va):h.removedDocuments.size>0&&($t(b.va),b.va=!1))}),yield Tc(r,a,e)}catch(a){yield Kn(a)}})).apply(this,arguments)}function hf(d,e,r){const a=dt(d);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const h=[];a.Fa.forEach((_,b)=>{const P=b.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(b,P){const F=dt(b);F.onlineState=P;let K=!1;F.queries.forEach((ie,ye)=>{for(const je of ye.j_)je.Z_(P)&&(K=!0)}),K&&Tp(F)}(a.eventManager,e),h.length&&a.Ca.d_(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function Hg(d,e,r){return ff.apply(this,arguments)}function ff(){return(ff=(0,o.A)(function*(d,e,r){const a=dt(d);a.sharedClientState.updateQueryState(e,"rejected",r);const h=a.Na.get(e),_=h&&h.key;if(_){let b=new Qr(Ht.comparator);b=b.insert(_,_t.newNoDocument(_,jt.min()));const P=_r().add(_),F=new qi(jt.min(),new Map,new Qr(Qt),b,P);yield uf(a,F),a.Oa=a.Oa.remove(_),a.Na.delete(e),Wg(a)}else yield ru(a.localStore,e,!1).then(()=>Pl(a,e,r)).catch(Kn)})).apply(this,arguments)}function pf(d,e){return fu.apply(this,arguments)}function fu(){return(fu=(0,o.A)(function*(d,e){const r=dt(d),a=e.batch.batchId;try{const h=yield function hp(d,e){const r=dt(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),_=r.cs.newChangeBuffer({trackRemovals:!0});return function(P,F,K,ie){const ye=K.batch,je=ye.keys();let yt=et.resolve();return je.forEach(Gt=>{yt=yt.next(()=>ie.getEntry(F,Gt)).next(hn=>{const nn=K.docVersions.get(Gt);$t(null!==nn),hn.version.compareTo(nn)<0&&(ye.applyToRemoteDocument(hn,K),hn.isValidDocument()&&(hn.setReadTime(K.commitVersion),ie.addEntry(hn)))})}),yt.next(()=>P.mutationQueue.removeMutationBatch(F,ye))}(r,a,e,_).next(()=>_.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(P){let F=_r();for(let K=0;K<P.mutationResults.length;++K)P.mutationResults[K].transformResults.length>0&&(F=F.add(P.batch.mutations[K].key));return F}(e))).next(()=>r.localDocuments.getDocuments(a,h))})}(r.localStore,e);zg(r,a,null),Gg(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield Tc(r,h)}catch(h){yield Kn(h)}})).apply(this,arguments)}function y_(d,e,r){return gf.apply(this,arguments)}function gf(){return(gf=(0,o.A)(function*(d,e,r){const a=dt(d);try{const h=yield function(b,P){const F=dt(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ie;return F.mutationQueue.lookupMutationBatch(K,P).next(ye=>($t(null!==ye),ie=ye.keys(),F.mutationQueue.removeMutationBatch(K,ye))).next(()=>F.mutationQueue.performConsistencyCheck(K)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(K,ie,P)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ie)).next(()=>F.localDocuments.getDocuments(K,ie))})}(a.localStore,e);zg(a,e,r),Gg(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield Tc(a,h)}catch(h){yield Kn(h)}})).apply(this,arguments)}function Rp(){return(Rp=(0,o.A)(function*(d,e){const r=dt(d);ka(r.remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(b){const P=dt(b);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>P.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===a)return void e.resolve();const h=r.ka.get(a)||[];h.push(e),r.ka.set(a,h)}catch(a){const h=uu(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Gg(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function zg(d,e,r){const a=dt(d);let h=a.Ba[a.currentUser.toKey()];if(h){const _=h.get(e);_&&(r?_.reject(r):_.resolve(),h=h.remove(e)),a.Ba[a.currentUser.toKey()]=h}}function Pl(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const a of d.Ma.get(e))d.Fa.delete(a),r&&d.Ca.$a(a,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(a=>{d.La.containsKey(a)||Op(d,a)})}function Op(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(Sl(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),Wg(d))}function pu(d,e,r){for(const a of r)a instanceof Ap?(d.La.addReference(a.key,e),By(d,a)):a instanceof Dp?(De("SyncEngine","Document no longer in limbo: "+a.key),d.La.removeReference(a.key,e),d.La.containsKey(a.key)||Op(d,a.key)):Ot()}function By(d,e){const r=e.key,a=r.path.canonicalString();d.Oa.get(r)||d.xa.has(a)||(De("SyncEngine","New document in limbo: "+r),d.xa.add(a),Wg(d))}function Wg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new Ht(un.fromString(e)),a=d.qa.next();d.Na.set(a,new Ug(r)),d.Oa=d.Oa.insert(r,a),zd(d.remoteStore,new N(yn(J(r.path)),a,"TargetPurposeLimboResolution",k.oe))}}function Tc(d,e,r){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,o.A)(function*(d,e,r){const a=dt(d),h=[],_=[],b=[];var P;a.Fa.isEmpty()||(a.Fa.forEach((P,F)=>{b.push(a.Ka(F,e,r).then(K=>{var ie;if((K||r)&&a.isPrimaryClient){const ye=K?!K.fromCache:null===(ie=r?.targetChanges.get(F.targetId))||void 0===ie?void 0:ie.current;a.sharedClientState.updateQueryState(F.targetId,ye?"current":"not-current")}if(K){h.push(K);const ye=dp.Wi(F.targetId,K);_.push(ye)}}))}),yield Promise.all(b),a.Ca.d_(h),yield(P=(0,o.A)(function*(K,ie){const ye=dt(K);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>et.forEach(ie,yt=>et.forEach(yt.$i,Gt=>ye.persistence.referenceDelegate.addReference(je,yt.targetId,Gt)).next(()=>et.forEach(yt.Ui,Gt=>ye.persistence.referenceDelegate.removeReference(je,yt.targetId,Gt)))))}catch(je){if(!Hn(je))throw je;De("LocalStore","Failed to update sequence numbers: "+je)}for(const je of ie){const yt=je.targetId;if(!je.fromCache){const Gt=ye.os.get(yt),nn=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);ye.os=ye.os.insert(yt,nn)}}}),function F(K,ie){return P.apply(this,arguments)})(a.localStore,_))}),Kg.apply(this,arguments)}function v_(d,e){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.A)(function*(d,e){const r=dt(d);if(!r.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const a=yield bc(r.localStore,e);r.currentUser=e,(_=r).ka.forEach(P=>{P.forEach(F=>{F.reject(new Ze(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Tc(r,a.hs)}var _})).apply(this,arguments)}function nh(d,e){const r=dt(d),a=r.Na.get(e);if(a&&a.va)return _r().add(a.key);{let h=_r();const _=r.Ma.get(e);if(!_)return h;for(const b of _){const P=r.Fa.get(b);h=h.unionWith(P.view.Va)}return h}}function Np(d,e){return mf.apply(this,arguments)}function mf(){return(mf=(0,o.A)(function*(d,e){const r=dt(d),a=yield Cc(r.localStore,e.query,!0),h=e.view.ba(a);return r.isPrimaryClient&&pu(r,e.targetId,h.wa),h})).apply(this,arguments)}function E_(d,e){return kp.apply(this,arguments)}function kp(){return(kp=(0,o.A)(function*(d,e){const r=dt(d);return Jc(r.localStore,e).then(a=>Tc(r,a))})).apply(this,arguments)}function b_(d,e,r,a){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,o.A)(function*(d,e,r,a){const h=dt(d),_=yield function(P,F){const K=dt(P),ie=dt(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ye=>ie.Mn(ye,F).next(je=>je?K.localDocuments.getDocuments(ye,je):et.resolve(null)))}(h.localStore,e);var F;null!==_?("pending"===r?yield nd(h.remoteStore):"acknowledged"===r||"rejected"===r?(zg(h,e,a||null),Gg(h,e),F=e,dt(dt(h.localStore).mutationQueue).On(F)):Ot(),yield Tc(h,_)):De("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Fp(){return(Fp=(0,o.A)(function*(d,e){const r=dt(d);if(_f(r),Xg(r),!0===e&&!0!==r.Qa){const a=r.sharedClientState.getAllActiveQueryTargets(),h=yield C_(r,a.toArray());r.Qa=!0,yield el(r.remoteStore,!0);for(const _ of h)zd(r.remoteStore,_)}else if(!1===e&&!1!==r.Qa){const a=[];let h=Promise.resolve();r.Ma.forEach((_,b)=>{r.sharedClientState.isLocalQueryTarget(b)?a.push(b):h=h.then(()=>(Pl(r,b),ru(r.localStore,b,!0))),Sl(r.remoteStore,b)}),yield h,yield C_(r,a),function(b){const P=dt(b);P.Na.forEach((F,K)=>{Sl(P.remoteStore,K)}),P.La.pr(),P.Na=new Map,P.Oa=new Qr(Ht.comparator)}(r),r.Qa=!1,yield el(r.remoteStore,!1)}})).apply(this,arguments)}function C_(d,e,r){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,o.A)(function*(d,e,r){const a=dt(d),h=[],_=[];for(const b of e){let P;const F=a.Ma.get(b);if(F&&0!==F.length){P=yield Qc(a.localStore,yn(F[0]));for(const K of F){const ie=a.Fa.get(K),ye=yield Np(a,ie);ye.snapshot&&_.push(ye.snapshot)}}else{const K=yield Qh(a.localStore,b);P=yield Qc(a.localStore,K),yield Bg(a,Lp(K),b,!1,P.resumeToken)}h.push(P)}return a.Ca.d_(_),h})).apply(this,arguments)}function Lp(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function tl(d){return r=dt(d).localStore,dt(dt(r).persistence).Qi();var r}function Za(d,e,r,a){return Up.apply(this,arguments)}function Up(){return(Up=(0,o.A)(function*(d,e,r,a){const h=dt(d);if(h.Qa)return void De("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const b=yield Jc(h.localStore,ac(_[0])),P=qi.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Di.EMPTY_BYTE_STRING);yield Tc(h,b,P);break}case"rejected":yield ru(h.localStore,e,!0),Pl(h,e,a);break;default:Ot()}})).apply(this,arguments)}function qg(d,e,r){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,o.A)(function*(d,e,r){const a=_f(d);if(a.Qa){for(const h of e){if(a.Ma.has(h)&&a.sharedClientState.isActiveQueryTarget(h)){De("SyncEngine","Adding an already active target "+h);continue}const _=yield Qh(a.localStore,h),b=yield Qc(a.localStore,_);yield Bg(a,Lp(_),b.targetId,!1,b.resumeToken),zd(a.remoteStore,b)}for(const h of r)a.Ma.has(h)&&(yield ru(a.localStore,h,!1).then(()=>{Sl(a.remoteStore,h),Pl(a,h)}).catch(Kn))}})).apply(this,arguments)}function _f(d){const e=dt(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=uf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hg.bind(null,e),e.Ca.d_=Jd.bind(null,e.eventManager),e.Ca.$a=Ip.bind(null,e.eventManager),e}function Xg(d){const e=dt(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y_.bind(null,e),e}let sd=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var a=this;return(0,o.A)(function*(){a.serializer=ou(r.databaseInfo.databaseId),a.sharedClientState=a.Wa(r),a.persistence=a.Ga(r),yield a.persistence.start(),a.localStore=a.za(r),a.gcScheduler=a.ja(r,a.localStore),a.indexBackfillerScheduler=a.Ha(r,a.localStore)})()}ja(r,a){return null}Ha(r,a){return null}za(r){return Dl(this.persistence,new Al,r.initialUser,this.serializer)}Ga(r){return new Yh(kd.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,o.A)(function*(){var a,h;null===(a=r.gcScheduler)||void 0===a||a.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class Jg extends sd{constructor(e,r,a){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e),yield a.Ja.initialize(a,e),yield Xg(a.Ja.syncEngine),yield nd(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Dl(this.persistence,new Al,e.initialUser,this.serializer)}ja(e,r){return new Wc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const a=new M(r,this.persistence);return new $(e.asyncQueue,a)}Ga(e){const r=Vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new Ec(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,bo(),Ta(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class Zg extends Jg{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,o.A)(function*(){yield r().call(a,e);const h=a.Ja.syncEngine;a.sharedClientState instanceof E&&(a.sharedClientState.syncEngine={no:b_.bind(null,h),ro:Za.bind(null,h),io:qg.bind(null,h),Qi:tl.bind(null,h),eo:E_.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var _=(0,o.A)(function*(b){yield function $y(d,e){return Fp.apply(this,arguments)}(a.Ja.syncEngine,b),a.gcScheduler&&(b&&!a.gcScheduler.started?a.gcScheduler.start():b||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(b&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():b||a.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const r=bo();if(!E.D(r))throw new Ze(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new E(r,e.asyncQueue,a,e.clientId,e.initialUser)}}let gu=(()=>{class d{initialize(r,a){var h=this;return(0,o.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(a),h.remoteStore=h.createRemoteStore(a),h.eventManager=h.createEventManager(a),h.syncEngine=h.createSyncEngine(a,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>hf(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=v_.bind(null,h.syncEngine),yield el(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new d_}createDatastore(r){const a=ou(r.databaseInfo.databaseId),h=new ri(r.databaseInfo);return new pp(r.authCredentials,r.appCheckCredentials,h,a)}createRemoteStore(r){return h=this.localStore,_=this.datastore,b=r.asyncQueue,P=a=>hf(this.syncEngine,a,0),F=he.D()?new he:new X,new gp(h,_,b,P,F);var h,_,b,P,F}createSyncEngine(r,a){return function(_,b,P,F,K,ie,ye){const je=new g_(_,b,P,F,K,ie);return ye&&(je.Qa=!0),je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){var r=this;return(0,o.A)(function*(){var a,h,_;yield(_=(0,o.A)(function*(P){const F=dt(P);De("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield Ju(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(P){return _.apply(this,arguments)})(r.remoteStore),null===(a=r.datastore)||void 0===a||a.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function yf(d,e=10240){let r=0;return{read:()=>(0,o.A)(function*(){if(r<d.byteLength){const a={value:d.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,o.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class So{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class vf{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new en,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,o.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,o.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,o.A)(function*(){const r=yield e.nu();if(null===r)return null;const a=e.eu.decode(r),h=Number(a);isNaN(h)&&e.ru(`length string (${a}) is not valid number`);const _=yield e.iu(h);return new Vy(JSON.parse(_),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,o.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}iu(e){var r=this;return(0,o.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const a=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,o.A)(function*(){const r=yield e.Xa.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class Gy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,o.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ze(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const a=yield(h=(0,o.A)(function*(b,P){const F=dt(b),K={documents:P.map(yt=>Fr(F.serializer,yt))},ie=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,un.emptyPath(),K,P.length),ye=new Map;ie.forEach(yt=>{const Gt=function tn(d,e){return"found"in e?function(a,h){$t(!!h.found);const _=Jo(a,h.found.name),b=rs(h.found.updateTime),P=h.found.createTime?rs(h.found.createTime):jt.min(),F=new Re({mapValue:{fields:h.found.fields}});return _t.newFoundDocument(_,b,P,F)}(d,e):"missing"in e?function(a,h){$t(!!h.missing),$t(!!h.readTime);const _=Jo(a,h.missing),b=rs(h.readTime);return _t.newNoDocument(_,b)}(d,e):Ot()}(F.serializer,yt);ye.set(Gt.key.toString(),Gt)});const je=[];return P.forEach(yt=>{const Gt=ye.get(yt.toString());$t(!!Gt),je.push(Gt)}),je}),function _(b,P){return h.apply(this,arguments)})(r.datastore,e);var h;return a.forEach(h=>r.recordVersion(h)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,o.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,h)=>{const _=Ht.fromPath(h);e.mutations.push(new ua(_,e.precondition(_)))}),yield(a=(0,o.A)(function*(_,b){const P=dt(_),F={writes:b.map(K=>gl(P.serializer,K))};yield P.Mo("Commit",P.serializer.databaseId,un.emptyPath(),F)}),function h(_,b){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Ot();r=jt.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new Ze(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(jt.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(jt.min()))throw new Ze(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Rl{constructor(e,r,a,h,_){this.asyncQueue=e,this.datastore=r,this.options=a,this.updateFunction=h,this.deferred=_,this._u=a.maxAttempts,this.t_=new Ao(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,o.A)(function*(){const r=new Gy(e.datastore),a=e.cu(r);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ne(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Wa(r)}return!1}}class I_{constructor(e,r,a,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=h,this.user=Je.UNAUTHENTICATED,this.clientId=Bn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(a,function(){var P=(0,o.A)(function*(F){De("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(a,P=>(De("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const h=uu(a,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function T_(d,e){return w_.apply(this,arguments)}function w_(){return w_=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let a=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,o.A)(function*(_){a.isEqual(_)||(yield bc(e.localStore,_),a=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),w_.apply(this,arguments)}function zy(d,e){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,o.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield bf(d);De("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(a=>u_(e.remoteStore,a)),d.setAppCheckTokenChangeListener((a,h)=>u_(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function bf(d){return A_.apply(this,arguments)}function A_(){return(A_=(0,o.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){De("FirestoreClient","Using user provided OfflineComponentProvider");try{yield T_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Ne.FAILED_PRECONDITION||h.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;vn("Error using user provided cache. Falling back to memory cache: "+e),yield T_(d,new sd)}}else De("FirestoreClient","Using default OfflineComponentProvider"),yield T_(d,new sd);var h;return d._offlineComponents})).apply(this,arguments)}function em(d){return jp.apply(this,arguments)}function jp(){return(jp=(0,o.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(De("FirestoreClient","Using user provided OnlineComponentProvider"),yield zy(d,d._uninitializedComponentsProvider._online)):(De("FirestoreClient","Using default OnlineComponentProvider"),yield zy(d,new gu))),d._onlineComponents})).apply(this,arguments)}function tm(d){return bf(d).then(e=>e.persistence)}function Ol(d){return bf(d).then(e=>e.localStore)}function Cf(d){return em(d).then(e=>e.remoteStore)}function nm(d){return em(d).then(e=>e.syncEngine)}function ec(d){return If.apply(this,arguments)}function If(){return(If=(0,o.A)(function*(d){const e=yield em(d),r=e.eventManager;return r.onListen=id.bind(null,e.syncEngine),r.onUnlisten=__.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=m_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=$g.bind(null,e.syncEngine),r})).apply(this,arguments)}function im(d,e,r={}){const a=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,P,F,K){const ie=new So({next:je=>{ie.Za(),b.enqueueAndForget(()=>hu(_,ye));const yt=je.docs.has(P);!yt&&je.fromCache?K.reject(new Ze(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&je.fromCache&&F&&"server"===F.source?K.reject(new Ze(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(je)},error:je=>K.reject(je)}),ye=new cf(J(P.path),ie,{includeMetadataChanges:!0,_a:!0});return bp(_,ye)}(yield ec(d),d.asyncQueue,e,r,a)})),a.promise}function Bp(d,e,r={}){const a=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function(_,b,P,F,K){const ie=new So({next:je=>{ie.Za(),b.enqueueAndForget(()=>hu(_,ye)),je.fromCache&&"server"===F.source?K.reject(new Ze(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(je)},error:je=>K.reject(je)}),ye=new cf(P,ie,{includeMetadataChanges:!0,_a:!0});return bp(_,ye)}(yield ec(d),d.asyncQueue,e,r,a)})),a.promise}function Jy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const rh=new Map;function ad(d,e,r){if(!r)throw new Ze(Ne.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function sm(d,e,r,a){if(!0===e&&!0===a)throw new Ze(Ne.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function om(d){if(!Ht.isDocumentKey(d))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function $p(d){if(Ht.isDocumentKey(d))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function ih(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(a=d).constructor?a.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var a;return"function"==typeof d?"a function":Ot()}function mi(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new Ze(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ih(d);throw new Ze(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function am(d,e){if(e<=0)throw new Ze(Ne.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class cm{constructor(e){var r,a;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jy(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new Ze(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new Ze(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new Ze(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mu{constructor(e,r,a,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cm(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new we;switch(a.type){case"firstParty":return new qe(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ze(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,o.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=rh.get(r);a&&(De("ComponentProvider","Removing Datastore"),rh.delete(r),a.terminate())}(this),Promise.resolve()}}function Zy(d,e,r,a={}){var h;const _=(d=mi(d,mu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&vn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),a.mockUserToken){let P,F;if("string"==typeof a.mockUserToken)P=a.mockUserToken,F=Je.MOCK_USER;else{P=(0,pe.Fy)(a.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=a.mockUserToken.sub||a.mockUserToken.user_id;if(!K)throw new Ze(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Je(K)}d._authCredentials=new Ee(new Ue(P,F))}}class fo{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Bs{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bs(this.firestore,e,this._key)}}class tc extends fo{constructor(e,r,a){super(e,r,J(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bs(this.firestore,null,new Ht(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function P_(d,e,...r){if(d=(0,pe.Ku)(d),ad("collection","path",e),d instanceof mu){const a=un.fromString(e,...r);return $p(a),new tc(d,null,a)}{if(!(d instanceof Bs||d instanceof tc))throw new Ze(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(un.fromString(e,...r));return $p(a),new tc(d.firestore,null,a)}}function x_(d,e){if(d=mi(d,mu),ad("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fo(d,null,(a=e,new co(un.emptyPath(),a)));var a}function _u(d,e,...r){if(d=(0,pe.Ku)(d),1===arguments.length&&(e=Bn.newId()),ad("doc","path",e),d instanceof mu){const a=un.fromString(e,...r);return om(a),new Bs(d,null,new Ht(a))}{if(!(d instanceof Bs||d instanceof tc))throw new Ze(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=d._path.child(un.fromString(e,...r));return om(a),new Bs(d.firestore,d instanceof tc?d.converter:null,new Ht(a))}}function ev(d,e){return d=(0,pe.Ku)(d),e=(0,pe.Ku)(e),(d instanceof Bs||d instanceof tc)&&(e instanceof Bs||e instanceof tc)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Tf(d,e){return d=(0,pe.Ku)(d),e=(0,pe.Ku)(e),d instanceof fo&&e instanceof fo&&d.firestore===e.firestore&&Io(d._query,e._query)&&d.converter===e.converter}class wf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ao(this,"async_queue_retry"),this.Vu=()=>{const a=Ta();a&&De("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const r=Ta();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ta();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new en;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,o.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!Hn(r))throw r;De("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(a=>{throw this.Eu=a,this.du=!1,rn("INTERNAL UNHANDLED ERROR: ",function(b){let P=b.message||"";return b.stack&&(P=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),P}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=r,r}enqueueAfterDelay(e,r,a){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=af.createAndSchedule(this,e,r,a,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Ot()}verifyOperationInProgress(){}wu(){var e=this;return(0,o.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Hp(d){return function(r,a){if("object"!=typeof r||null===r)return!1;const h=r;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class lm{constructor(){this._progressObserver={},this._taskCompletionResolver=new en,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Af=-1;class Ii extends mu{constructor(e,r,a,h){super(e,r,a,h),this.type="firestore",this._queue=new wf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,o.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new wf(r),e._firestoreClient=void 0,yield r}})()}}function um(d,e){const r="object"==typeof d?d:(0,le.getApp)(),a="string"==typeof d?d:e||"(default)",h=(0,le._getProvider)(r,"firestore").getImmediate({identifier:a});if(!h._initialized){const _=(0,pe.yU)("firestore");_&&Zy(h,..._)}return h}function Ds(d){if(d._terminated)throw new Ze(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||M_(d),d._firestoreClient}function M_(d){var e,r,a;const h=d._freezeSettings(),_=(F=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new kn(d._databaseId,F,d._persistenceKey,(ie=h).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,Jy(ie.experimentalLongPollingOptions),ie.useFetchStreams));var F,ie;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(a=h.localCache)||void 0===a)&&a._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new I_(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(P){const F=P?._online.build();return{_offline:P?._offline.build(F),_online:F}}(d._componentsProvider))}function R_(d,e){vn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return Gp(d,gu.provider,{build:a=>new Jg(a,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function sh(d){return dm.apply(this,arguments)}function dm(){return(dm=(0,o.A)(function*(d){vn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();Gp(d,gu.provider,{build:r=>new Zg(r,e.cacheSizeBytes)})})).apply(this,arguments)}function Gp(d,e,r){if((d=mi(d,Ii))._firestoreClient||d._terminated)throw new Ze(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new Ze(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},M_(d)}function tv(d){if(d._initialized&&!d._terminated)throw new Ze(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new en;return d._queue.enqueueAndForgetEvenWhileRestricted((0,o.A)(function*(){try{yield(r=(0,o.A)(function*(h){if(!ce.D())return Promise.resolve();const _=h+"main";yield ce.delete(_)}),function a(h){return r.apply(this,arguments)})(Vd(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function hm(d){return function(r){const a=new en;return r.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function jy(d,e){return Rp.apply(this,arguments)}(yield nm(r),a)})),a.promise}(Ds(d=mi(d,Ii)))}function O_(d){return function Ci(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield tm(d),r=yield Cf(d);return e.setNetworkEnabled(!0),function(h){const _=dt(h);return _.L_.delete(0),au(_)}(r)}))}(Ds(d=mi(d,Ii)))}function nv(d){return function Wy(d){return d.asyncQueue.enqueue((0,o.A)(function*(){const e=yield tm(d),r=yield Cf(d);return e.setNetworkEnabled(!1),(a=(0,o.A)(function*(_){const b=dt(_);b.L_.add(0),yield Ju(b),b.q_.set("Offline")}),function h(_){return a.apply(this,arguments)})(r);var a}))}(Ds(d=mi(d,Ii)))}function fm(d,e){const r=Ds(d=mi(d,Ii)),a=new lm;return function Yy(d,e,r,a){const h=function(b,P){let F;return F="string"==typeof b?Dd().encode(b):b,ie=function(ie,ye){if(ie instanceof Uint8Array)return yf(ie,void 0);if(ie instanceof ArrayBuffer)return yf(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new vf(ie,P);var ie}(r,ou(e));d.asyncQueue.enqueueAndForget((0,o.A)(function*(){!function Qg(d,e,r){const a=dt(d);var h;(h=(0,o.A)(function*(b,P,F){try{const K=yield P.getMetadata();if(yield function(Gt,hn){const nn=dt(Gt),Jn=rs(hn.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",fr=>nn.Gr.getBundleMetadata(fr,hn.id)).then(fr=>!!fr&&fr.createTime.compareTo(Jn)>=0)}(b.localStore,K))return yield P.close(),F._completeWith({taskState:"Success",documentsLoaded:(Gt=K).totalDocuments,bytesLoaded:Gt.totalBytes,totalDocuments:Gt.totalDocuments,totalBytes:Gt.totalBytes}),Promise.resolve(new Set);F._updateProgress(lf(K));const ie=new f_(K,b.localStore,P.serializer);let ye=yield P.Ua();for(;ye;){const yt=yield ie.la(ye);yt&&F._updateProgress(yt),ye=yield P.Ua()}const je=yield ie.complete();return yield Tc(b,je.Ia,void 0),yield function(Gt,hn){const nn=dt(Gt);return nn.persistence.runTransaction("Save bundle","readwrite",Jn=>nn.Gr.saveBundleMetadata(Jn,hn))}(b.localStore,K),F._completeWith(je.progress),Promise.resolve(je.Pa)}catch(K){return vn("SyncEngine",`Loading bundle failed with ${K}`),F._failWith(K),Promise.resolve(new Set)}var Gt}),function _(b,P,F){return h.apply(this,arguments)})(a,e,r).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield nm(d),h,a)}))}(r,d._databaseId,e,a),a}function d0(d,e){return function Xy(d,e){return d.asyncQueue.enqueue((0,o.A)(function*(){return function(a,h){const _=dt(a);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield Ol(d),e)}))}(Ds(d=mi(d,Ii)),e).then(r=>r?new fo(d,null,r.query):null)}class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(Di.fromBase64String(e))}catch(r){throw new Ze(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wc(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ze(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fa{constructor(e){this._methodName=e}}class zp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ze(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}class oh{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,h){if(a.length!==h.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==h[_])return!1;return!0}(this._values,e._values)}}const Sf=/^__.*__$/;class ah{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new gi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Er(e,this.data,r,this.fieldTransforms)}}class Wp{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new gi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Kp(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class vu{constructor(e,r,a,h,_,b){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.Ou(e),h}Nu(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:a,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Kp(this.Cu)&&Sf.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class qp{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||ou(e)}Qu(e,r,a,h=!1){return new vu({Cu:e,methodName:r,qu:a,path:er.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nc(d){const e=d._freezeSettings(),r=ou(d._databaseId);return new qp(d._databaseId,!!e.ignoreUndefinedProperties,r)}function ch(d,e,r,a,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,r,h);F_("Data must be an object, but it was:",b,a);const P=Eu(a,b);let F,K;if(_.merge)F=new ai(b.fieldMask),K=b.fieldTransforms;else if(_.mergeFields){const ie=[];for(const ye of _.mergeFields){const je=Jp(e,ye,r);if(!b.contains(je))throw new Ze(Ne.INVALID_ARGUMENT,`Field '${je}' is specified in your field mask but missing from your input data.`);V_(ie,je)||ie.push(je)}F=new ai(ie),K=b.fieldTransforms.filter(ye=>F.covers(ye.field))}else F=null,K=b.fieldTransforms;return new ah(new Re(P),F,K)}class ld extends Fa{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function Pf(d,e,r){return new vu({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class k_ extends Fa{_toFieldTransform(e){return new x(e.path,new dc)}isEqual(e){return e instanceof k_}}class xf extends Fa{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Pf(this,e,!0),a=this.Ku.map(_=>hs(_,r)),h=new ko(a);return new x(e.path,h)}isEqual(e){return e instanceof xf&&(0,pe.bD)(this.Ku,e.Ku)}}class ud extends Fa{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Pf(this,e,!0),a=this.Ku.map(_=>hs(_,r)),h=new Ga(a);return new x(e.path,h)}isEqual(e){return e instanceof ud&&(0,pe.bD)(this.Ku,e.Ku)}}class pm extends Fa{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new hc(e.serializer,ql(e.serializer,this.$u));return new x(e.path,r)}isEqual(e){return e instanceof pm&&this.$u===e.$u}}function Yp(d,e,r,a){const h=d.Qu(1,e,r);F_("Data must be an object, but it was:",h,a);const _=[],b=Re.empty();ii(a,(F,K)=>{const ie=dd(e,F,r);K=(0,pe.Ku)(K);const ye=h.Nu(ie);if(K instanceof ld)_.push(ie);else{const je=hs(K,ye);null!=je&&(_.push(ie),b.set(ie,je))}});const P=new ai(_);return new Wp(b,P,h.fieldTransforms)}function Xp(d,e,r,a,h,_){const b=d.Qu(1,e,r),P=[Jp(e,a,r)],F=[h];if(_.length%2!=0)throw new Ze(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let je=0;je<_.length;je+=2)P.push(Jp(e,_[je])),F.push(_[je+1]);const K=[],ie=Re.empty();for(let je=P.length-1;je>=0;--je)if(!V_(K,P[je])){const yt=P[je];let Gt=F[je];Gt=(0,pe.Ku)(Gt);const hn=b.Nu(yt);if(Gt instanceof ld)K.push(yt);else{const nn=hs(Gt,hn);null!=nn&&(K.push(yt),ie.set(yt,nn))}}const ye=new ai(K);return new Wp(ie,ye,b.fieldTransforms)}function Nl(d,e,r,a=!1){return hs(r,d.Qu(a?4:3,e))}function hs(d,e){if(Qp(d=(0,pe.Ku)(d)))return F_("Unsupported field value:",e,d),Eu(d,e);if(d instanceof Fa)return function(a,h){if(!Kp(h.Cu))throw h.Bu(`${a._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${a._methodName}() is not currently supported inside arrays`);const _=a._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(a,h){const _=[];let b=0;for(const P of a){let F=hs(P,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),b++}return{arrayValue:{values:_}}}(d,e)}return function(a,h){if(null===(a=(0,pe.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return ql(h.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const _=Kt.fromDate(a);return{timestampValue:fa(h.serializer,_)}}if(a instanceof Kt){const _=new Kt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fa(h.serializer,_)}}if(a instanceof zp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wc)return{bytesValue:Xl(h.serializer,a._byteString)};if(a instanceof Bs){const _=h.databaseId,b=a.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:pl(a.firestore._databaseId||h.databaseId,a._key.path)}}if(a instanceof oh)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(F=>{if("number"!=typeof F)throw P.Bu("VectorValues must only contain numeric values.");return Yo(P.serializer,F)})}}}}};var P;throw h.Bu(`Unsupported field value: ${ih(a)}`)}(d,e)}function Eu(d,e){const r={};return os(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(d,(a,h)=>{const _=hs(h,e.Mu(a));null!=_&&(r[a]=_)}),{mapValue:{fields:r}}}function Qp(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Kt||d instanceof zp||d instanceof wc||d instanceof Bs||d instanceof Fa||d instanceof oh)}function F_(d,e,r){if(!Qp(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const a=ih(r);throw e.Bu("an object"===a?d+" a custom object":d+" "+a)}var h}function Jp(d,e,r){if((e=(0,pe.Ku)(e))instanceof nl)return e._internalPath;if("string"==typeof e)return dd(d,e);throw lh("Field path arguments must be of type string or ",d,!1,void 0,r)}const gm=new RegExp("[~\\*/\\[\\]]");function dd(d,e,r){if(e.search(gm)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new nl(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function lh(d,e,r,a,h){const _=a&&!a.isEmpty(),b=void 0!==h;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let F="";return(_||b)&&(F+=" (found",_&&(F+=` in field ${a}`),b&&(F+=` in document ${h}`),F+=")"),new Ze(Ne.INVALID_ARGUMENT,P+d+F)}function V_(d,e){return d.some(r=>r.isEqual(e))}class uh{constructor(e,r,a,h,_){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(dh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class mm extends uh{data(){return super.data()}}function dh(d,e){return"string"==typeof e?dd(d,e):e instanceof nl?e._internalPath:e._delegate._internalPath}function iv(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new Ze(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _m{}class Mf extends _m{}function sv(d,e,...r){let a=[];e instanceof _m&&a.push(e),a=a.concat(r),function(_){const b=_.filter(F=>F instanceof bu).length,P=_.filter(F=>F instanceof ym).length;if(b>1||b>0&&P>0)throw new Ze(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)d=h._apply(d);return d}class ym extends Mf{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new ym(e,r,a)}_apply(e){const r=this._parse(e);return j_(e._query,r),new fo(e.firestore,e.converter,ys(e._query,r))}_parse(e){const r=nc(e.firestore);return function(_,b,P,F,K,ie,ye){let je;if(K.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){av(ye,ie);const yt=[];for(const Gt of ye)yt.push(ov(F,_,Gt));je={arrayValue:{values:yt}}}else je=ov(F,_,ye)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||av(ye,ie),je=Nl(P,"where",ye,"in"===ie||"not-in"===ie);return jn.create(K,ie,je)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function h0(d,e,r){const a=e,h=dh("where",d);return ym._create(h,a,r)}class bu extends _m{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new bu(e,r)}_parse(e){const r=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===r.length?r[0]:qn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,_){let b=h;const P=_.getFlattenedFilters();for(const F of P)j_(b,F),b=ys(b,F)}(e._query,r),new fo(e.firestore,e.converter,ys(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hh extends Mf{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new hh(e,r)}_apply(e){const r=function(h,_,b){if(null!==h.startAt)throw new Ze(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new Ze(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zn(_,b)}(e._query,this._field,this._direction);return new fo(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new co(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function f0(d,e="asc"){const r=e,a=dh("orderBy",d);return hh._create(a,r)}class fh extends Mf{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new fh(e,r,a)}_apply(e){return new fo(e.firestore,e.converter,vs(e._query,this._limit,this._limitType))}}function vm(d){return am("limit",d),fh._create("limit",d,"F")}function Em(d){return am("limitToLast",d),fh._create("limitToLast",d,"L")}class bm extends Mf{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new bm(e,r,a)}_apply(e){const r=Cm(e,this.type,this._docOrFields,this._inclusive);return new fo(e.firestore,e.converter,(_=r,new co((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function eg(...d){return bm._create("startAt",d,!0)}function L_(...d){return bm._create("startAfter",d,!1)}class ph extends Mf{constructor(e,r,a){super(),this.type=e,this._docOrFields=r,this._inclusive=a}static _create(e,r,a){return new ph(e,r,a)}_apply(e){const r=Cm(e,this.type,this._docOrFields,this._inclusive);return new fo(e.firestore,e.converter,(_=r,new co((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function ME(...d){return ph._create("endBefore",d,!1)}function U_(...d){return ph._create("endAt",d,!0)}function Cm(d,e,r,a){if(r[0]=(0,pe.Ku)(r[0]),r[0]instanceof uh)return function(_,b,P,F,K){if(!F)throw new Ze(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ie=[];for(const ye of Le(_))if(ye.field.isKeyField())ie.push(zn(b,F.key));else{const je=F.data.field(ye.field);if(de(je))throw new Ze(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const yt=ye.field.canonicalString();throw new Ze(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}ie.push(je)}return new Jt(ie,K)}(d._query,d.firestore._databaseId,e,r[0]._document,a);{const h=nc(d.firestore);return function(b,P,F,K,ie,ye){const je=b.explicitOrderBy;if(ie.length>je.length)throw new Ze(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let Gt=0;Gt<ie.length;Gt++){const hn=ie[Gt];if(je[Gt].field.isKeyField()){if("string"!=typeof hn)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof hn}`);if(!ae(b)&&-1!==hn.indexOf("/"))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${hn}' contains a slash.`);const nn=b.path.child(un.fromString(hn));if(!Ht.isDocumentKey(nn))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Jn=new Ht(nn);yt.push(zn(P,Jn))}else{const nn=Nl(F,K,hn);yt.push(nn)}}return new Jt(yt,ye)}(d._query,d.firestore._databaseId,h,e,r,a)}}function ov(d,e,r){if("string"==typeof(r=(0,pe.Ku)(r))){if(""===r)throw new Ze(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ae(e)&&-1!==r.indexOf("/"))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(un.fromString(r));if(!Ht.isDocumentKey(a))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return zn(d,new Ht(a))}if(r instanceof Bs)return zn(d,r._key);throw new Ze(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(r)}.`)}function av(d,e){if(!Array.isArray(d)||0===d.length)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j_(d,e){const r=function(h,_){for(const b of h)for(const P of b.getFlattenedFilters())if(_.indexOf(P.op)>=0)return P.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ze(Ne.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Im{convertValue(e,r="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Rt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return ii(e,(h,_)=>{a[h]=this.convertValue(_,r)}),a}convertVectorValue(e){var r,a,h;const _=null===(h=null===(a=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===a?void 0:a.values)||void 0===h?void 0:h.map(b=>fe(b.doubleValue));return new oh(_)}convertGeoPoint(e){return new zp(fe(e.latitude),fe(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=ot(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(rt(e));default:return null}}convertTimestamp(e){const r=ms(e);return new Kt(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=un.fromString(e);$t(w(a));const h=new cr(a.get(1),a.get(3)),_=new Ht(a.popFirst(5));return h.isEqual(r)||rn(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function Tm(d,e,r){let a;return a=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,a}class p0 extends Im{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,r)}}class Rf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cu extends uh{constructor(e,r,a,h,_,b){super(e,r,a,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(dh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Ac extends Cu{data(e={}){return super.data(e)}}class Fl{constructor(e,r,a,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Rf(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new Ac(this._firestore,this._userDataWriter,a.key,a,new Rf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ze(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new Ac(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Rf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>_||3!==P.type).map(P=>{const F=new Ac(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Rf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,ie=-1;return 0!==P.type&&(K=b.indexOf(P.doc.key),b=b.delete(P.doc.key)),1!==P.type&&(b=b.add(P.doc),ie=b.indexOf(P.doc.key)),{type:_0(P.type),doc:F,oldIndex:K,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function _0(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function y0(d,e){return d instanceof Cu&&e instanceof Cu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Fl&&e instanceof Fl&&d._firestore===e._firestore&&Tf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function v0(d){d=mi(d,Bs);const e=mi(d.firestore,Ii);return im(Ds(e),d._key).then(r=>H_(e,d,r))}class Vl extends Im{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,r)}}function Ll(d){d=mi(d,Bs);const e=mi(d.firestore,Ii),r=Ds(e),a=new Vl(e);return function od(d,e){const r=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,P){try{const F=yield function(ie,ye){const je=dt(ie);return je.persistence.runTransaction("read document","readonly",yt=>je.localDocuments.getDocument(yt,ye))}(_,b);F.isFoundDocument()?P.resolve(F):F.isNoDocument()?P.resolve(null):P.reject(new Ze(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const K=uu(F,`Failed to get document '${b} from cache`);P.reject(K)}}),function h(_,b,P){return a.apply(this,arguments)})(yield Ol(d),e,r);var a})),r.promise}(r,d._key).then(h=>new Cu(e,a,d._key,h,new Rf(null!==h&&h.hasLocalMutations,!0),d.converter))}function uv(d){d=mi(d,Bs);const e=mi(d.firestore,Ii);return im(Ds(e),d._key,{source:"server"}).then(r=>H_(e,d,r))}function E0(d){d=mi(d,fo);const e=mi(d.firestore,Ii),r=Ds(e),a=new Vl(e);return iv(d._query),Bp(r,d._query).then(h=>new Fl(e,a,d,h))}function RE(d){d=mi(d,fo);const e=mi(d.firestore,Ii),r=Ds(e),a=new Vl(e);return function Ky(d,e){const r=new en;return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return(a=(0,o.A)(function*(_,b,P){try{const F=yield Cc(_,b,!0),K=new p_(b,F.Ts),ie=K.ma(F.documents),ye=K.applyChanges(ie,!1);P.resolve(ye.snapshot)}catch(F){const K=uu(F,`Failed to execute query '${b} against cache`);P.reject(K)}}),function h(_,b,P){return a.apply(this,arguments)})(yield Ol(d),e,r);var a})),r.promise}(r,d._query).then(h=>new Fl(e,a,d,h))}function Po(d){d=mi(d,fo);const e=mi(d.firestore,Ii),r=Ds(e),a=new Vl(e);return Bp(r,d._query,{source:"server"}).then(h=>new Fl(e,a,d,h))}function b0(d,e,r){d=mi(d,Bs);const a=mi(d.firestore,Ii),h=Tm(d.converter,e,r);return gh(a,[ch(nc(a),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function B_(d,e,r,...a){d=mi(d,Bs);const h=mi(d.firestore,Ii),_=nc(h);let b;return b="string"==typeof(e=(0,pe.Ku)(e))||e instanceof nl?Xp(_,"updateDoc",d._key,e,r,a):Yp(_,"updateDoc",d._key,e),gh(h,[b.toMutation(d._key,Y.exists(!0))])}function C0(d){return gh(mi(d.firestore,Ii),[new Fs(d._key,Y.none())])}function I0(d,e){const r=mi(d.firestore,Ii),a=_u(d),h=Tm(d.converter,e);return gh(r,[ch(nc(d.firestore),"addDoc",a._key,h,null!==d.converter,{}).toMutation(a._key,Y.exists(!1))]).then(()=>a)}function $_(d,...e){var r,a,h;d=(0,pe.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||Hp(e[b])||(_=e[b],b++);const P={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(Hp(e[b])){const ye=e[b];e[b]=null===(r=ye.next)||void 0===r?void 0:r.bind(ye),e[b+1]=null===(a=ye.error)||void 0===a?void 0:a.bind(ye),e[b+2]=null===(h=ye.complete)||void 0===h?void 0:h.bind(ye)}let F,K,ie;if(d instanceof Bs)K=mi(d.firestore,Ii),ie=J(d._key.path),F={next:ye=>{e[b]&&e[b](H_(K,d,ye))},error:e[b+1],complete:e[b+2]};else{const ye=mi(d,fo);K=mi(ye.firestore,Ii),ie=ye._query;const je=new Vl(K);F={next:yt=>{e[b]&&e[b](new Fl(K,je,ye,yt))},error:e[b+1],complete:e[b+2]},iv(d._query)}return function(je,yt,Gt,hn){const nn=new So(hn),Jn=new cf(yt,nn,Gt);return je.asyncQueue.enqueueAndForget((0,o.A)(function*(){return bp(yield ec(je),Jn)})),()=>{nn.Za(),je.asyncQueue.enqueueAndForget((0,o.A)(function*(){return hu(yield ec(je),Jn)}))}}(Ds(K),ie,P,F)}function dv(d,e){return function qy(d,e){const r=new So(e);return d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield ec(d),_=r,dt(h).Y_.add(_),void _.next();var h,_})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,o.A)(function*(){return h=yield ec(d),_=r,void dt(h).Y_.delete(_);var h,_}))}}(Ds(d=mi(d,Ii)),Hp(e)?e:{next:e})}function gh(d,e){return function(a,h){const _=new en;return a.asyncQueue.enqueueAndForget((0,o.A)(function*(){return function Mp(d,e,r){return th.apply(this,arguments)}(yield nm(a),h,_)})),_.promise}(Ds(d),e)}function H_(d,e,r){const a=r.docs.get(e._key),h=new Vl(d);return new Cu(d,h,e._key,a,new Rf(r.hasPendingWrites,r.fromCache),e.converter)}const rg={maxAttempts:5};class ig{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,r,a){this._verifyNotCommitted();const h=Iu(e,this._firestore),_=Tm(h.converter,r,a),b=ch(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,a);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,a,...h){this._verifyNotCommitted();const _=Iu(e,this._firestore);let b;return b="string"==typeof(r=(0,pe.Ku)(r))||r instanceof nl?Xp(this._dataReader,"WriteBatch.update",_._key,r,a,h):Yp(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(b.toMutation(_._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Iu(e,this._firestore);return this._mutations=this._mutations.concat(new Fs(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iu(d,e){if((d=(0,pe.Ku)(d)).firestore!==e)throw new Ze(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class yv extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=nc(r)}get(r){const a=Iu(r,this._firestore),h=new p0(this._firestore);return this._transaction.lookup([a._key]).then(_=>{if(!_||1!==_.length)return Ot();const b=_[0];if(b.isFoundDocument())return new uh(this._firestore,h,b.key,b,a.converter);if(b.isNoDocument())return new uh(this._firestore,h,a._key,null,a.converter);throw Ot()})}set(r,a,h){const _=Iu(r,this._firestore),b=Tm(_.converter,a,h),P=ch(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,P),this}update(r,a,h,..._){const b=Iu(r,this._firestore);let P;return P="string"==typeof(a=(0,pe.Ku)(a))||a instanceof nl?Xp(this._dataReader,"Transaction.update",b._key,a,h,_):Yp(this._dataReader,"Transaction.update",b._key,a),this._transaction.update(b._key,P),this}delete(r){const a=Iu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Iu(e,this._firestore),a=new Vl(this._firestore);return super.get(e).then(h=>new Cu(this._firestore,a,r._key,h._document,new Rf(!1,!1),r.converter))}}function S0(d,e,r){d=mi(d,Ii);const a=Object.assign(Object.assign({},rg),r);return function(_){if(_.maxAttempts<1)throw new Ze(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(_,b,P){const F=new en;return _.asyncQueue.enqueueAndForget((0,o.A)(function*(){const K=yield function rm(d){return em(d).then(e=>e.datastore)}(_);new Rl(_.asyncQueue,K,P,b,F).au()})),F.promise}(Ds(d),h=>e(new yv(d,h)),a)}function P0(){return new ld("deleteField")}function x0(){return new k_("serverTimestamp")}function M0(...d){return new xf("arrayUnion",d)}function vv(...d){return new ud("arrayRemove",d)}function NE(d){return new pm("increment",d)}!function(e,r=!0){We=le.SDK_VERSION,(0,le._registerComponent)(new i.uA("firestore",(a,{instanceIdentifier:h,options:_})=>{const b=a.getProvider("app").getImmediate(),P=new Ii(new ke(a.getProvider("auth-internal")),new wn(a.getProvider("app-check-internal")),function(K,ie){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Ze(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cr(K.options.projectId,ie)}(b,h),b);return _=Object.assign({useFetchStreams:r},_),P._setSettings(_),P},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(be,"4.7.3",e),(0,le.registerVersion)(be,"4.7.3","esm2017")}()},4535:(on,Xe,j)=>{j.d(Xe,{Ad:()=>Mn,D5:()=>_n,KR:()=>Hr,Mp:()=>Ms,Mx:()=>oi,TZ:()=>Xt,UC:()=>ii,UY:()=>gr,XR:()=>vi,ZH:()=>An,_w:()=>zn,bp:()=>$s,c7:()=>Gr,nb:()=>Bi,nw:()=>Tn,p_:()=>lr,qk:()=>fi,uj:()=>rn,xc:()=>Ln,yb:()=>hi});var o=j(467),le=j(7852),i=j(1076),Te=j(1362);const pe="firebasestorage.googleapis.com",Ae="storageBucket";class ee extends i.g{constructor(Q,Ie,Re=0){super(_e(Q),`Firebase Storage: ${Ie} (${_e(Q)})`),this.status_=Re,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ee.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return _e(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ue=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(ue||{});function _e(Z){return"storage/"+Z}function ut(){return new ee(ue.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pn(){return new ee(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Be(){return new ee(ue.CANCELED,"User canceled the upload/download.")}function it(){return new ee(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rn(Z){return new ee(ue.INVALID_ARGUMENT,Z)}function vn(){return new ee(ue.APP_DELETED,"The Firebase app was deleted.")}function gr(Z){return new ee(ue.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ot(Z,Q){return new ee(ue.INVALID_FORMAT,"String does not match format '"+Z+"': "+Q)}function $t(Z){throw new ee(ue.INTERNAL_ERROR,"Internal error: "+Z)}class Xt{constructor(Q,Ie){this.bucket=Q,this.path_=Ie}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,Ie){let Re;try{Re=Xt.makeFromUrl(Q,Ie)}catch{return new Xt(Q,"")}if(""===Re.path)return Re;throw function Je(Z){return new ee(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(Q)}static makeFromUrl(Q,Ie){let Re=null;const Ye="([A-Za-z0-9.\\-_]+)",Pn=new RegExp("^gs://"+Ye+"(/(.*))?$","i");function Zn(Fi){Fi.path_=decodeURIComponent(Fi.path)}const Un=Ie.replace(/[.]/g,"\\."),Nr=[{regex:Pn,indices:{bucket:1,path:3},postModify:function _t(Fi){"/"===Fi.path.charAt(Fi.path.length-1)&&(Fi.path_=Fi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Un}/v[A-Za-z0-9_]+/b/${Ye}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Zn},{regex:new RegExp(`^https?://${Ie===pe?"(?:storage.googleapis.com|storage.cloud.google.com)":Ie}/${Ye}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Zn}];for(let Fi=0;Fi<Nr.length;Fi++){const ti=Nr[Fi],kr=ti.regex.exec(Q);if(kr){let Hi=kr[ti.indices.path];Hi||(Hi=""),Re=new Xt(kr[ti.indices.bucket],Hi),ti.postModify(Re);break}}if(null==Re)throw function be(Z){return new ee(ue.INVALID_URL,"Invalid URL '"+Z+"'.")}(Q);return Re}}class dt{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function Ee(Z){return"string"==typeof Z||Z instanceof String}function ke(Z){return tt()&&Z instanceof Blob}function tt(){return typeof Blob<"u"}function qe(Z,Q,Ie,Re){if(Re<Q)throw rn(`Invalid value for '${Z}'. Expected ${Q} or greater.`);if(Re>Ie)throw rn(`Invalid value for '${Z}'. Expected ${Ie} or less.`)}function Vt(Z,Q,Ie){let Re=Q;return null==Ie&&(Re=`https://${Q}`),`${Ie}://${Re}/v0${Z}`}function wn(Z){const Q=encodeURIComponent;let Ie="?";for(const Re in Z)Z.hasOwnProperty(Re)&&(Ie=Ie+(Q(Re)+"=")+Q(Z[Re])+"&");return Ie=Ie.slice(0,-1),Ie}var or=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(or||{});function sn(Z,Q){const Ie=Z>=500&&Z<600,Ye=-1!==[408,429].indexOf(Z),_t=-1!==Q.indexOf(Z);return Ie||Ye||_t}class Bn{constructor(Q,Ie,Re,Ye,_t,Jt,Pn,En,Zn,xr,Un,jn=!0){this.url_=Q,this.method_=Ie,this.headers_=Re,this.body_=Ye,this.successCodes_=_t,this.additionalRetryCodes_=Jt,this.callback_=Pn,this.errorCallback_=En,this.timeout_=Zn,this.progressCallback_=xr,this.connectionFactory_=Un,this.retry=jn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((qn,Mr)=>{this.resolve_=qn,this.reject_=Mr,this.start_()})}start_(){const Ie=(Re,Ye)=>{const _t=this.resolve_,Jt=this.reject_,Pn=Ye.connection;if(Ye.wasSuccessCode)try{const En=this.callback_(Pn,Pn.getResponse());!function en(Z){return void 0!==Z}(En)?_t():_t(En)}catch(En){Jt(En)}else if(null!==Pn){const En=ut();En.serverResponse=Pn.getErrorText(),Jt(this.errorCallback_?this.errorCallback_(Pn,En):En)}else Jt(Ye.canceled?this.appDelete_?vn():Be():pn())};this.canceled_?Ie(0,new Qt(!1,null,!0)):this.backoffId_=function Ne(Z,Q,Ie){let Re=1,Ye=null,_t=null,Jt=!1,Pn=0;function En(){return 2===Pn}let Zn=!1;function xr(...zr){Zn||(Zn=!0,Q.apply(null,zr))}function Un(zr){Ye=setTimeout(()=>{Ye=null,Z(qn,En())},zr)}function jn(){_t&&clearTimeout(_t)}function qn(zr,...Wi){if(Zn)return void jn();if(zr)return jn(),void xr.call(null,zr,...Wi);if(En()||Jt)return jn(),void xr.call(null,zr,...Wi);let Nr;Re<64&&(Re*=2),1===Pn?(Pn=2,Nr=0):Nr=1e3*(Re+Math.random()),Un(Nr)}let Mr=!1;function Ur(zr){Mr||(Mr=!0,jn(),!Zn&&(null!==Ye?(zr||(Pn=2),clearTimeout(Ye),Un(0)):zr||(Pn=1)))}return Un(0),_t=setTimeout(()=>{Jt=!0,Ur(!0)},Ie),Ur}((Re,Ye)=>{if(Ye)return void Re(!1,new Qt(!1,null,!0));const _t=this.connectionFactory_();this.pendingConnection_=_t;const Jt=Pn=>{null!==this.progressCallback_&&this.progressCallback_(Pn.loaded,Pn.lengthComputable?Pn.total:-1)};null!==this.progressCallback_&&_t.addUploadProgressListener(Jt),_t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&_t.removeUploadProgressListener(Jt),this.pendingConnection_=null;const Pn=_t.getErrorCode()===or.NO_ERROR,En=_t.getStatus();if(!Pn||sn(En,this.additionalRetryCodes_)&&this.retry){const xr=_t.getErrorCode()===or.ABORT;return void Re(!1,new Qt(!1,null,xr))}const Zn=-1!==this.successCodes_.indexOf(En);Re(!0,new Qt(Zn,_t))})},Ie,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function Ze(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Qt{constructor(Q,Ie,Re){this.wasSuccessCode=Q,this.connection=Ie,this.canceled=!!Re}}function Lr(...Z){const Q=function un(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const Ie=new Q;for(let Re=0;Re<Z.length;Re++)Ie.append(Z[Re]);return Ie.getBlob()}if(tt())return new Blob(Z);throw new ee(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wn{constructor(Q,Ie){this.data=Q,this.contentType=Ie||null}}function An(Z,Q){switch(Z){case Tn.RAW:return new Wn(Yr(Q));case Tn.BASE64:case Tn.BASE64URL:return new Wn(si(Z,Q));case Tn.DATA_URL:return new Wn(function yi(Z){const Q=new Xn(Z);return Q.base64?si(Tn.BASE64,Q.rest):function Or(Z){let Q;try{Q=decodeURIComponent(Z)}catch{throw Ot(Tn.DATA_URL,"Malformed data URL.")}return Yr(Q)}(Q.rest)}(Q),function Ts(Z){return new Xn(Z).contentType}(Q))}throw ut()}function Yr(Z){const Q=[];for(let Ie=0;Ie<Z.length;Ie++){let Re=Z.charCodeAt(Ie);Re<=127?Q.push(Re):Re<=2047?Q.push(192|Re>>6,128|63&Re):55296==(64512&Re)?Ie<Z.length-1&&56320==(64512&Z.charCodeAt(Ie+1))?(Re=65536|(1023&Re)<<10|1023&Z.charCodeAt(++Ie),Q.push(240|Re>>18,128|Re>>12&63,128|Re>>6&63,128|63&Re)):Q.push(239,191,189):56320==(64512&Re)?Q.push(239,191,189):Q.push(224|Re>>12,128|Re>>6&63,128|63&Re)}return new Uint8Array(Q)}function si(Z,Q){switch(Z){case Tn.BASE64:{const Ye=-1!==Q.indexOf("-"),_t=-1!==Q.indexOf("_");if(Ye||_t)throw Ot(Z,"Invalid character '"+(Ye?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const Ye=-1!==Q.indexOf("+"),_t=-1!==Q.indexOf("/");if(Ye||_t)throw Ot(Z,"Invalid character '"+(Ye?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let Ie;try{Ie=function Ht(Z){if(typeof atob>"u")throw function De(Z){return new ee(ue.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(Q)}catch(Ye){throw Ye.message.includes("polyfill")?Ye:Ot(Z,"Invalid character found")}const Re=new Uint8Array(Ie.length);for(let Ye=0;Ye<Ie.length;Ye++)Re[Ye]=Ie.charCodeAt(Ye);return Re}class Xn{constructor(Q){this.base64=!1,this.contentType=null;const Ie=Q.match(/^data:([^,]+)?,/);if(null===Ie)throw Ot(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Re=Ie[1]||null;null!=Re&&(this.base64=function gn(Z,Q){return Z.length>=Q.length&&Z.substring(Z.length-Q.length)===Q}(Re,";base64"),this.contentType=this.base64?Re.substring(0,Re.length-7):Re),this.rest=Q.substring(Q.indexOf(",")+1)}}class oi{constructor(Q,Ie){let Re=0,Ye="";ke(Q)?(this.data_=Q,Re=Q.size,Ye=Q.type):Q instanceof ArrayBuffer?(Ie?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),Re=this.data_.length):Q instanceof Uint8Array&&(Ie?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),Re=Q.length),this.size_=Re,this.type_=Ye}size(){return this.size_}type(){return this.type_}slice(Q,Ie){if(ke(this.data_)){const Ye=function er(Z,Q,Ie){return Z.webkitSlice?Z.webkitSlice(Q,Ie):Z.mozSlice?Z.mozSlice(Q,Ie):Z.slice?Z.slice(Q,Ie):null}(this.data_,Q,Ie);return null===Ye?null:new oi(Ye)}{const Re=new Uint8Array(this.data_.buffer,Q,Ie-Q);return new oi(Re,!0)}}static getBlob(...Q){if(tt()){const Ie=Q.map(Re=>Re instanceof oi?Re.data_:Re);return new oi(Lr.apply(null,Ie))}{const Ie=Q.map(Jt=>Ee(Jt)?An(Tn.RAW,Jt).data:Jt.data_);let Re=0;Ie.forEach(Jt=>{Re+=Jt.byteLength});const Ye=new Uint8Array(Re);let _t=0;return Ie.forEach(Jt=>{for(let Pn=0;Pn<Jt.length;Pn++)Ye[_t++]=Jt[Pn]}),new oi(Ye,!0)}}uploadData(){return this.data_}}function rr(Z){let Q;try{Q=JSON.parse(Z)}catch{return null}return function we(Z){return"object"==typeof Z&&!Array.isArray(Z)}(Q)?Q:null}function Oi(Z){const Q=Z.lastIndexOf("/",Z.length-2);return-1===Q?Z:Z.slice(Q+1)}function et(Z,Q){return Q}class mt{constructor(Q,Ie,Re,Ye){this.server=Q,this.local=Ie||Q,this.writable=!!Re,this.xform=Ye||et}}let ce=null;function Et(){if(ce)return ce;const Z=[];Z.push(new mt("bucket")),Z.push(new mt("generation")),Z.push(new mt("metageneration")),Z.push(new mt("name","fullPath",!0));const Ie=new mt("name");Ie.xform=function Q(_t,Jt){return function xe(Z){return!Ee(Z)||Z.length<2?Z:Oi(Z)}(Jt)},Z.push(Ie);const Ye=new mt("size");return Ye.xform=function Re(_t,Jt){return void 0!==Jt?Number(Jt):Jt},Z.push(Ye),Z.push(new mt("timeCreated")),Z.push(new mt("updated")),Z.push(new mt("md5Hash",null,!0)),Z.push(new mt("cacheControl",null,!0)),Z.push(new mt("contentDisposition",null,!0)),Z.push(new mt("contentEncoding",null,!0)),Z.push(new mt("contentLanguage",null,!0)),Z.push(new mt("contentType",null,!0)),Z.push(new mt("metadata","customMetadata",!0)),ce=Z,ce}function Wr(Z,Q,Ie){const Re=rr(Q);return null===Re?null:function Hn(Z,Q,Ie){const Re={type:"file"},Ye=Ie.length;for(let _t=0;_t<Ye;_t++){const Jt=Ie[_t];Re[Jt.local]=Jt.xform(Re,Q[Jt.server])}return function Yt(Z,Q){Object.defineProperty(Z,"ref",{get:function Ie(){const _t=new Xt(Z.bucket,Z.fullPath);return Q._makeStorageReference(_t)}})}(Re,Z),Re}(Z,Re,Ie)}function Pi(Z,Q){const Ie={},Re=Q.length;for(let Ye=0;Ye<Re;Ye++){const _t=Q[Ye];_t.writable&&(Ie[_t.server]=Z[_t.local])}return JSON.stringify(Ie)}const bt="prefixes",$="items";class ne{constructor(Q,Ie,Re,Ye){this.url=Q,this.method=Ie,this.handler=Re,this.timeout=Ye,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function me(Z){if(!Z)throw ut()}function st(Z,Q){return function Ie(Re,Ye){const _t=Wr(Z,Ye,Q);return me(null!==_t),_t}}function dn(Z){return function Q(Ie,Re){let Ye;return Ye=401===Ie.getStatus()?Ie.getErrorText().includes("Firebase App Check token is invalid")?function Bt(){return new ee(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Dt(){return new ee(ue.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ie.getStatus()?function St(Z){return new ee(ue.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Ie.getStatus()?function Nt(Z){return new ee(ue.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Re,Ye.status=Ie.getStatus(),Ye.serverResponse=Re.serverResponse,Ye}}function Sn(Z){const Q=dn(Z);return function Ie(Re,Ye){let _t=Q(Re,Ye);return 404===Re.getStatus()&&(_t=function Qe(Z){return new ee(ue.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),_t.serverResponse=Ye.serverResponse,_t}}function vr(Z,Q,Ie){const Ye=Vt(Q.fullServerUrl(),Z.host,Z._protocol),Jt=Z.maxOperationRetryTime,Pn=new ne(Ye,"GET",st(Z,Ie),Jt);return Pn.errorHandler=Sn(Q),Pn}function cn(Z,Q,Ie,Re,Ye){const _t={};_t.prefix=Q.isRoot?"":Q.path+"/",Ie&&Ie.length>0&&(_t.delimiter=Ie),Re&&(_t.pageToken=Re),Ye&&(_t.maxResults=Ye);const Pn=Vt(Q.bucketOnlyServerUrl(),Z.host,Z._protocol),Zn=Z.maxOperationRetryTime,xr=new ne(Pn,"GET",function At(Z,Q){return function Ie(Re,Ye){const _t=function k(Z,Q,Ie){const Re=rr(Ie);return null===Re?null:function M(Z,Q,Ie){const Re={prefixes:[],items:[],nextPageToken:Ie.nextPageToken};if(Ie[bt])for(const Ye of Ie[bt]){const _t=Ye.replace(/\/$/,""),Jt=Z._makeStorageReference(new Xt(Q,_t));Re.prefixes.push(Jt)}if(Ie[$])for(const Ye of Ie[$]){const _t=Z._makeStorageReference(new Xt(Q,Ye.name));Re.items.push(_t)}return Re}(Z,Q,Re)}(Z,Q,Ye);return me(null!==_t),_t}}(Z,Q.bucket),Zn);return xr.urlParams=_t,xr.errorHandler=dn(Q),xr}function Ni(Z,Q,Ie){const Re=Object.assign({},Ie);return Re.fullPath=Z.path,Re.size=Q.size(),Re.contentType||(Re.contentType=function $i(Z,Q){return Z&&Z.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),Re}class ar{constructor(Q,Ie,Re,Ye){this.current=Q,this.total=Ie,this.finalized=!!Re,this.metadata=Ye||null}}function Ps(Z,Q){let Ie=null;try{Ie=Z.getResponseHeader("X-Goog-Upload-Status")}catch{me(!1)}return me(!!Ie&&-1!==(Q||["active"]).indexOf(Ie)),Ie}const Ln={STATE_CHANGED:"state_changed"},Mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hr(Z){switch(Z){case"running":case"pausing":case"canceling":return Mn.RUNNING;case"paused":return Mn.PAUSED;case"success":return Mn.SUCCESS;case"canceled":return Mn.CANCELED;default:return Mn.ERROR}}class $r{constructor(Q,Ie,Re){if(function Ue(Z){return"function"==typeof Z}(Q)||null!=Ie||null!=Re)this.next=Q,this.error=Ie??void 0,this.complete=Re??void 0;else{const _t=Q;this.next=_t.next,this.error=_t.error,this.complete=_t.complete}}}function Xr(Z){return(...Q)=>{Promise.resolve().then(()=>Z(...Q))}}let Tr=null;class Yi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,Ie,Re,Ye){if(this.sent_)throw $t("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ie,Q,!0),void 0!==Ye)for(const _t in Ye)Ye.hasOwnProperty(_t)&&this.xhr_.setRequestHeader(_t,Ye[_t].toString());return void 0!==Re?this.xhr_.send(Re):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $t("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $t("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $t("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $t("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class ws extends Yi{initXhr(){this.xhr_.responseType="text"}}function Xi(){return Tr?Tr():new ws}class ii{constructor(Q,Ie,Re=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=Ie,this._metadata=Re,this._mappings=Et(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ye=>{if(this._request=void 0,this._chunkMultiplier=1,Ye._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const _t=this.isExponentialBackoffExpired();if(sn(Ye.status,[])){if(!_t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ye=pn()}this._error=Ye,this._transition("error")}},this._metadataErrorHandler=Ye=>{this._request=void 0,Ye._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=Ye,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ye,_t)=>{this._resolve=Ye,this._reject=_t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return Ie=>this._updateProgress(Q+Ie)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Ie,Re])=>{switch(this._state){case"running":Q(Ie,Re);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,Ie)=>{const Re=function Ct(Z,Q,Ie,Re,Ye){const _t=Q.bucketOnlyServerUrl(),Jt=Ni(Q,Re,Ye),Pn={name:Jt.fullPath},En=Vt(_t,Z.host,Z._protocol),xr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Re.size()}`,"X-Goog-Upload-Header-Content-Type":Jt.contentType,"Content-Type":"application/json; charset=utf-8"},Un=Pi(Jt,Ie),Mr=new ne(En,"POST",function qn(Ur){let zr;Ps(Ur);try{zr=Ur.getResponseHeader("X-Goog-Upload-URL")}catch{me(!1)}return me(Ee(zr)),zr},Z.maxUploadRetryTime);return Mr.urlParams=Pn,Mr.headers=xr,Mr.body=Un,Mr.errorHandler=dn(Q),Mr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Re,Xi,Q,Ie);this._request=Ye,Ye.getPromise().then(_t=>{this._request=void 0,this._uploadUrl=_t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((Ie,Re)=>{const Ye=function nt(Z,Q,Ie,Re){const En=new ne(Ie,"POST",function _t(Zn){const xr=Ps(Zn,["active","final"]);let Un=null;try{Un=Zn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{me(!1)}Un||me(!1);const jn=Number(Un);return me(!isNaN(jn)),new ar(jn,Re.size(),"final"===xr)},Z.maxUploadRetryTime);return En.headers={"X-Goog-Upload-Command":"query"},En.errorHandler=dn(Q),En}(this._ref.storage,this._ref._location,Q,this._blob),_t=this._ref.storage._makeRequest(Ye,Xi,Ie,Re);this._request=_t,_t.getPromise().then(Jt=>{this._request=void 0,this._updateProgress(Jt.current),this._needToFetchStatus=!1,Jt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,Ie=new ar(this._transferred,this._blob.size()),Re=this._uploadUrl;this._resolveToken((Ye,_t)=>{let Jt;try{Jt=function ln(Z,Q,Ie,Re,Ye,_t,Jt,Pn){const En=new ar(0,0);if(Jt?(En.current=Jt.current,En.total=Jt.total):(En.current=0,En.total=Re.size()),Re.size()!==En.total)throw function Pt(){return new ee(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Zn=En.total-En.current;let xr=Zn;Ye>0&&(xr=Math.min(xr,Ye));const Un=En.current;let qn="";qn=0===xr?"finalize":Zn===xr?"upload, finalize":"upload";const Mr={"X-Goog-Upload-Command":qn,"X-Goog-Upload-Offset":`${En.current}`},Ur=Re.slice(Un,Un+xr);if(null===Ur)throw it();const Nr=new ne(Ie,"POST",function zr(Fi,ti){const kr=Ps(Fi,["active","final"]),vo=En.current+xr,Hi=Re.size();let Hs;return Hs="final"===kr?st(Q,_t)(Fi,ti):null,new ar(vo,Hi,"final"===kr,Hs)},Q.maxUploadRetryTime);return Nr.headers=Mr,Nr.body=Ur.uploadData(),Nr.progressCallback=Pn||null,Nr.errorHandler=dn(Z),Nr}(this._ref._location,this._ref.storage,Re,this._blob,Q,this._mappings,Ie,this._makeProgressCallback())}catch(En){return this._error=En,void this._transition("error")}const Pn=this._ref.storage._makeRequest(Jt,Xi,Ye,_t,!1);this._request=Pn,Pn.getPromise().then(En=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(En.current),En.finalized?(this._metadata=En.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,Ie)=>{const Re=vr(this._ref.storage,this._ref._location,this._mappings),Ye=this._ref.storage._makeRequest(Re,Xi,Q,Ie);this._request=Ye,Ye.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,Ie)=>{const Re=function Ai(Z,Q,Ie,Re,Ye){const _t=Q.bucketOnlyServerUrl(),Jt={"X-Goog-Upload-Protocol":"multipart"},En=function Pn(){let Nr="";for(let Fi=0;Fi<2;Fi++)Nr+=Math.random().toString().slice(2);return Nr}();Jt["Content-Type"]="multipart/related; boundary="+En;const Zn=Ni(Q,Re,Ye),xr=Pi(Zn,Ie),qn=oi.getBlob("--"+En+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xr+"\r\n--"+En+"\r\nContent-Type: "+Zn.contentType+"\r\n\r\n",Re,"\r\n--"+En+"--");if(null===qn)throw it();const Mr={name:Zn.fullPath},Ur=Vt(_t,Z.host,Z._protocol),Wi=Z.maxUploadRetryTime,ki=new ne(Ur,"POST",st(Z,Ie),Wi);return ki.urlParams=Mr,ki.headers=Jt,ki.body=qn.uploadData(),ki.errorHandler=dn(Q),ki}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Re,Xi,Q,Ie);this._request=Ye,Ye.getPromise().then(_t=>{this._request=void 0,this._metadata=_t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const Ie=this._transferred;this._transferred=Q,this._transferred!==Ie&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Ie="paused"===this._state;this._state=Q,Ie&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=Be(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=hr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,Ie,Re,Ye){const _t=new $r(Ie||void 0,Re||void 0,Ye||void 0);return this._addObserver(_t),()=>{this._removeObserver(_t)}}then(Q,Ie){return this._promise.then(Q,Ie)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const Ie=this._observers.indexOf(Q);-1!==Ie&&this._observers.splice(Ie,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Ie=>{this._notifyObserver(Ie)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(hr(this._state)){case Mn.SUCCESS:Xr(this._resolve.bind(null,this.snapshot))();break;case Mn.CANCELED:case Mn.ERROR:Xr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(hr(this._state)){case Mn.RUNNING:case Mn.PAUSED:Q.next&&Xr(Q.next.bind(Q,this.snapshot))();break;case Mn.SUCCESS:Q.complete&&Xr(Q.complete.bind(Q))();break;default:Q.error&&Xr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class Qi{constructor(Q,Ie){this._service=Q,this._location=Ie instanceof Xt?Ie:Xt.makeFromUrl(Ie,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,Ie){return new Qi(Q,Ie)}get root(){const Q=new Xt(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Oi(this._location.path)}get storage(){return this._service}get parent(){const Q=function Dr(Z){if(0===Z.length)return null;const Q=Z.lastIndexOf("/");return-1===Q?"":Z.slice(0,Q)}(this._location.path);if(null===Q)return null;const Ie=new Xt(this._location.bucket,Q);return new Qi(this._service,Ie)}_throwIfRoot(Q){if(""===this._location.path)throw gr(Q)}}function _o(Z,Q,Ie){return ai.apply(this,arguments)}function ai(){return(ai=(0,o.A)(function*(Z,Q,Ie){const Ye=yield aa(Z,{pageToken:Ie});Q.prefixes.push(...Ye.prefixes),Q.items.push(...Ye.items),null!=Ye.nextPageToken&&(yield _o(Z,Q,Ye.nextPageToken))})).apply(this,arguments)}function aa(Z,Q){null!=Q&&"number"==typeof Q.maxResults&&qe("options.maxResults",1,1e3,Q.maxResults);const Ie=Q||{},Re=cn(Z.storage,Z._location,"/",Ie.pageToken,Ie.maxResults);return Z.storage.makeRequestWithTokens(Re,Xi)}function zo(Z){Z._throwIfRoot("getDownloadURL");const Q=function mr(Z,Q,Ie){const Ye=Vt(Q.fullServerUrl(),Z.host,Z._protocol),Jt=Z.maxOperationRetryTime,Pn=new ne(Ye,"GET",function an(Z,Q){return function Ie(Re,Ye){const _t=Wr(Z,Ye,Q);return me(null!==_t),function Sr(Z,Q,Ie,Re){const Ye=rr(Q);if(null===Ye||!Ee(Ye.downloadTokens))return null;const _t=Ye.downloadTokens;if(0===_t.length)return null;const Jt=encodeURIComponent;return _t.split(",").map(Zn=>{const Un=Z.fullPath;return Vt("/b/"+Jt(Z.bucket)+"/o/"+Jt(Un),Ie,Re)+wn({alt:"media",token:Zn})})[0]}(_t,Ye,Z.host,Z._protocol)}}(Z,Ie),Jt);return Pn.errorHandler=Sn(Q),Pn}(Z.storage,Z._location,Et());return Z.storage.makeRequestWithTokens(Q,Xi).then(Ie=>{if(null===Ie)throw function kt(){return new ee(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Ie})}function fe(Z,Q){const Ie=function Kn(Z,Q){const Ie=Q.split("/").filter(Re=>Re.length>0).join("/");return 0===Z.length?Ie:Z+"/"+Ie}(Z._location.path,Q),Re=new Xt(Z._location.bucket,Ie);return new Qi(Z.storage,Re)}function ot(Z,Q){if(Z instanceof ci){const Ie=Z;if(null==Ie._bucket)throw function We(){return new ee(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const Re=new Qi(Ie,Ie._bucket);return null!=Q?ot(Re,Q):Re}return void 0!==Q?fe(Z,Q):Z}function rt(Z,Q){if(Q&&function Rt(Z){return/^[A-Za-z]+:\/\//.test(Z)}(Q)){if(Z instanceof ci)return function de(Z,Q){return new Qi(Z,Q)}(Z,Q);throw rn("To use ref(service, url), the first argument must be a Storage instance.")}return ot(Z,Q)}function kn(Z,Q){const Ie=Q?.[Ae];return null==Ie?null:Xt.makeFromBucketSpec(Ie,Z)}class ci{constructor(Q,Ie,Re,Ye,_t){this.app=Q,this._authProvider=Ie,this._appCheckProvider=Re,this._url=Ye,this._firebaseVersion=_t,this._bucket=null,this._host=pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ye?Xt.makeFromBucketSpec(Ye,this._host):kn(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Xt.makeFromBucketSpec(this._url,Q):kn(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){qe("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){qe("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,o.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const Ie=Q._authProvider.getImmediate({optional:!0});if(Ie){const Re=yield Ie.getToken();if(null!==Re)return Re.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,o.A)(function*(){const Ie=Q._appCheckProvider.getImmediate({optional:!0});return Ie?(yield Ie.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new Qi(this,Q)}_makeRequest(Q,Ie,Re,Ye,_t=!0){if(this._deleted)return new dt(vn());{const Jt=function Cr(Z,Q,Ie,Re,Ye,_t,Jt=!0){const Pn=wn(Z.urlParams),En=Z.url+Pn,Zn=Object.assign({},Z.headers);return function Kt(Z,Q){Q&&(Z["X-Firebase-GMPID"]=Q)}(Zn,Q),function Gn(Z,Q){null!==Q&&Q.length>0&&(Z.Authorization="Firebase "+Q)}(Zn,Ie),function Fn(Z,Q){Z["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(Zn,_t),function jt(Z,Q){null!==Q&&(Z["X-Firebase-AppCheck"]=Q)}(Zn,Re),new Bn(En,Z.method,Zn,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Ye,Jt)}(Q,this._appId,Re,Ye,Ie,this._firebaseVersion,_t);return this._requests.add(Jt),Jt.getPromise().then(()=>this._requests.delete(Jt),()=>this._requests.delete(Jt)),Jt}}makeRequestWithTokens(Q,Ie){var Re=this;return(0,o.A)(function*(){const[Ye,_t]=yield Promise.all([Re._getAuthToken(),Re._getAppCheckToken()]);return Re._makeRequest(Q,Ie,Ye,_t).getPromise()})()}}const as="@firebase/storage",cs="storage";function $s(Z,Q,Ie){return function Mi(Z,Q,Ie){return Z._throwIfRoot("uploadBytesResumable"),new ii(Z,new oi(Q),Ie)}(Z=(0,i.Ku)(Z),Q,Ie)}function hi(Z){return function Da(Z){Z._throwIfRoot("getMetadata");const Q=vr(Z.storage,Z._location,Et());return Z.storage.makeRequestWithTokens(Q,Xi)}(Z=(0,i.Ku)(Z))}function _n(Z,Q){return function Di(Z,Q){Z._throwIfRoot("updateMetadata");const Ie=function Ss(Z,Q,Ie,Re){const _t=Vt(Q.fullServerUrl(),Z.host,Z._protocol),Pn=Pi(Ie,Re),Zn=Z.maxOperationRetryTime,xr=new ne(_t,"PATCH",st(Z,Re),Zn);return xr.headers={"Content-Type":"application/json; charset=utf-8"},xr.body=Pn,xr.errorHandler=Sn(Q),xr}(Z.storage,Z._location,Q,Et());return Z.storage.makeRequestWithTokens(Ie,Xi)}(Z=(0,i.Ku)(Z),Q)}function lr(Z,Q){return aa(Z=(0,i.Ku)(Z),Q)}function zn(Z){return function Js(Z){const Q={prefixes:[],items:[]};return _o(Z,Q).then(()=>Q)}(Z=(0,i.Ku)(Z))}function fi(Z){return zo(Z=(0,i.Ku)(Z))}function vi(Z){return function ms(Z){Z._throwIfRoot("deleteObject");const Q=function wi(Z,Q){const Re=Vt(Q.fullServerUrl(),Z.host,Z._protocol),Pn=new ne(Re,"DELETE",function Jt(En,Zn){},Z.maxOperationRetryTime);return Pn.successCodes=[200,204],Pn.errorHandler=Sn(Q),Pn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(Q,Xi)}(Z=(0,i.Ku)(Z))}function Hr(Z,Q){return rt(Z=(0,i.Ku)(Z),Q)}function Ms(Z,Q){return fe(Z,Q)}function Gr(Z=(0,le.getApp)(),Q){Z=(0,i.Ku)(Z);const Re=(0,le._getProvider)(Z,cs).getImmediate({identifier:Q}),Ye=(0,i.yU)("storage");return Ye&&Bi(Re,...Ye),Re}function Bi(Z,Q,Ie,Re={}){!function cr(Z,Q,Ie,Re={}){Z.host=`${Q}:${Ie}`,Z._protocol="http";const{mockUserToken:Ye}=Re;Ye&&(Z._overrideAuthToken="string"==typeof Ye?Ye:(0,i.Fy)(Ye,Z.app.options.projectId))}(Z,Q,Ie,Re)}function ls(Z,{instanceIdentifier:Q}){const Ie=Z.getProvider("app").getImmediate(),Re=Z.getProvider("auth-internal"),Ye=Z.getProvider("app-check-internal");return new ci(Ie,Re,Ye,Q,le.SDK_VERSION)}!function us(){(0,le._registerComponent)(new Te.uA(cs,ls,"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(as,"0.13.2",""),(0,le.registerVersion)(as,"0.13.2","esm2017")}()},1076:(on,Xe,j)=>{j.d(Xe,{Am:()=>Wn,Bd:()=>rn,FA:()=>qe,Fy:()=>it,I9:()=>An,Im:()=>un,Ku:()=>bt,Ll:()=>De,T9:()=>be,Uj:()=>Ve,XA:()=>Je,ZQ:()=>Pt,bD:()=>er,c1:()=>gr,cY:()=>We,eX:()=>we,g:()=>tt,gR:()=>jt,hp:()=>Yr,jZ:()=>kt,lT:()=>dt,lV:()=>$t,mS:()=>Qe,nr:()=>en,p7:()=>vn,sr:()=>Ot,tD:()=>si,u:()=>ee,yU:()=>Be,zW:()=>Ue,zw:()=>_e});const Te=function($){const M=[];let k=0;for(let ne=0;ne<$.length;ne++){let me=$.charCodeAt(ne);me<128?M[k++]=me:me<2048?(M[k++]=me>>6|192,M[k++]=63&me|128):55296==(64512&me)&&ne+1<$.length&&56320==(64512&$.charCodeAt(ne+1))?(me=65536+((1023&me)<<10)+(1023&$.charCodeAt(++ne)),M[k++]=me>>18|240,M[k++]=me>>12&63|128,M[k++]=me>>6&63|128,M[k++]=63&me|128):(M[k++]=me>>12|224,M[k++]=me>>6&63|128,M[k++]=63&me|128)}return M},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let me=0;me<$.length;me+=3){const st=$[me],At=me+1<$.length,an=At?$[me+1]:0,dn=me+2<$.length,Sn=dn?$[me+2]:0;let Br=(15&an)<<2|Sn>>6,mr=63&Sn;dn||(mr=64,At||(Br=64)),ne.push(k[st>>2],k[(3&st)<<4|an>>4],k[Br],k[mr])}return ne.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(Te($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let k=0,ne=0;for(;k<$.length;){const me=$[k++];if(me<128)M[ne++]=String.fromCharCode(me);else if(me>191&&me<224){const st=$[k++];M[ne++]=String.fromCharCode((31&me)<<6|63&st)}else if(me>239&&me<365){const dn=((7&me)<<18|(63&$[k++])<<12|(63&$[k++])<<6|63&$[k++])-65536;M[ne++]=String.fromCharCode(55296+(dn>>10)),M[ne++]=String.fromCharCode(56320+(1023&dn))}else{const st=$[k++],At=$[k++];M[ne++]=String.fromCharCode((15&me)<<12|(63&st)<<6|63&At)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const k=M?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let me=0;me<$.length;){const st=k[$.charAt(me++)],an=me<$.length?k[$.charAt(me)]:0;++me;const Sn=me<$.length?k[$.charAt(me)]:64;++me;const cn=me<$.length?k[$.charAt(me)]:64;if(++me,null==st||null==an||null==Sn||null==cn)throw new Me;ne.push(st<<2|an>>4),64!==Sn&&(ne.push(an<<4&240|Sn>>2),64!==cn&&ne.push(Sn<<6&192|cn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function($){return function($){const M=Te($);return Ae.encodeByteArray(M,!0)}($).replace(/\./g,"")},ee=function($){try{return Ae.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function _e($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const k in M)!M.hasOwnProperty(k)||!ut(k)||($[k]=_e($[k],M[k]));return $}function ut($){return"__proto__"!==$}function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nt=()=>{try{return Qe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&ee($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Be=$=>{const M=($=>{var M,k;return null===(k=null===(M=Nt())||void 0===M?void 0:M.emulatorHosts)||void 0===k?void 0:k[$]})($);if(!M)return;const k=M.lastIndexOf(":");if(k<=0||k+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ne=parseInt(M.substring(k+1),10);return"["===M[0]?[M.substring(1,k-1),ne]:[M.substring(0,k),ne]},be=()=>{var $;return null===($=Nt())||void 0===$?void 0:$.config},Je=$=>{var M;return null===(M=Nt())||void 0===M?void 0:M[`_${$}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}wrapCallback(M){return(k,ne)=>{k?this.reject(k):this.resolve(ne),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(k):M(k,ne))}}}function it($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=M||"demo-project",me=$.iat||0,st=$.sub||$.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:me,exp:me+3600,auth_time:me,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(At)),""].join(".")}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function De(){var $;const M=null===($=Nt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rn(){return typeof window<"u"||vn()}function vn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function gr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ot(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){const $=Pt();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function en(){return!De()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise(($,M)=>{try{let k=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(ne);me.onsuccess=()=>{me.result.close(),k||self.indexedDB.deleteDatabase(ne),$(!0)},me.onupgradeneeded=()=>{k=!1},me.onerror=()=>{var st;M((null===(st=me.error)||void 0===st?void 0:st.message)||"")}}catch(k){M(k)}})}class tt extends Error{constructor(M,k,ne){super(k),this.code=M,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(M,k,ne){this.service=M,this.serviceName=k,this.errors=ne}create(M,...k){const ne=k[0]||{},me=`${this.service}/${M}`,st=this.errors[M],At=st?function Vt($,M){return $.replace(wn,(k,ne)=>{const me=M[ne];return null!=me?String(me):`<${ne}?>`})}(st,ne):"Error";return new tt(me,`${this.serviceName}: ${At} (${me}).`,ne)}}const wn=/\{\$([^}]+)}/g;function jt($,M){return Object.prototype.hasOwnProperty.call($,M)}function un($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function er($,M){if($===M)return!0;const k=Object.keys($),ne=Object.keys(M);for(const me of k){if(!ne.includes(me))return!1;const st=$[me],At=M[me];if(Ht(st)&&Ht(At)){if(!er(st,At))return!1}else if(st!==At)return!1}for(const me of ne)if(!k.includes(me))return!1;return!0}function Ht($){return null!==$&&"object"==typeof $}function Wn($){const M=[];for(const[k,ne]of Object.entries($))Array.isArray(ne)?ne.forEach(me=>{M.push(encodeURIComponent(k)+"="+encodeURIComponent(me))}):M.push(encodeURIComponent(k)+"="+encodeURIComponent(ne));return M.length?"&"+M.join("&"):""}function An($){const M={};return $.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[me,st]=ne.split("=");M[decodeURIComponent(me)]=decodeURIComponent(st)}}),M}function Yr($){const M=$.indexOf("?");if(!M)return"";const k=$.indexOf("#",M);return $.substring(M,k>0?k:void 0)}function si($,M){const k=new Xn($,M);return k.subscribe.bind(k)}class Xn{constructor(M,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{M(this)}).catch(ne=>{this.error(ne)})}next(M){this.forEachObserver(k=>{k.next(M)})}error(M){this.forEachObserver(k=>{k.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,k,ne){let me;if(void 0===M&&void 0===k&&void 0===ne)throw new Error("Missing Observer.");me=function Ts($,M){if("object"!=typeof $||null===$)return!1;for(const k of M)if(k in $&&"function"==typeof $[k])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:k,complete:ne},void 0===me.next&&(me.next=gn),void 0===me.error&&(me.error=gn),void 0===me.complete&&(me.complete=gn);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),st}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,M)}sendOne(M,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{k(this.observers[M])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}function bt($){return $&&$._delegate?$._delegate:$}},3739:(on,Xe,j)=>{j.d(Xe,{W:()=>pe});var o=j(7705),le=j(345),i=j(177);function Te(Ae,Me){1&Ae&&(o.j41(0,"button",4),o.EFF(1,"Schedule A Visit"),o.k0s())}let pe=(()=>{class Ae{constructor(Fe){this.sanitizer=Fe}set content(Fe){this._content=Fe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Fe)}get content(){return this._content}static{this.\u0275fac=function(Ve){return new(Ve||Ae)(o.rXU(le.up))}}static{this.\u0275cmp=o.VBU({type:Ae,selectors:[["app-center-text"]],inputs:{title:"title",showBtn:"showBtn",content:"content"},decls:5,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Ve,ee){1&Ve&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s(),o.nrm(3,"h4",2),o.DNE(4,Te,2,0,"button",3),o.k0s()),2&Ve&&(o.R7$(2),o.JRh(ee.title),o.R7$(1),o.Y8G("innerHTML",ee.content,o.npT),o.R7$(1),o.Y8G("ngIf",ee.showBtn))},dependencies:[i.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}}return Ae})()},3711:(on,Xe,j)=>{j.d(Xe,{a:()=>Ae});var o=j(7705),le=j(4710),i=j(177);function Te(Me,Fe){1&Me&&(o.qex(0),o.nrm(1,"div",3),o.bVm())}function pe(Me,Fe){1&Me&&(o.qex(0),o.nrm(1,"div",4),o.bVm())}let Ae=(()=>{class Me{constructor(Ve){this.googleMapsLoader=Ve,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Ve=>{console.error("Error loading Google Maps script:",Ve)})}ngOnChanges(Ve){Ve.address&&!Ve.address.firstChange&&this.showAddressOnMap(Ve.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Ve){this.geocoder.geocode({address:Ve},(ee,ue)=>{if("OK"===ue){this.map.setCenter(ee[0].geometry.location);const _e=new google.maps.LatLngBounds;_e.extend(ee[0].geometry.location),this.map.fitBounds(_e),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:ee[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ue)})}getZoomLevel(Ve){document.getElementById("map");const _e=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Ve*_e)))}static{this.\u0275fac=function(ee){return new(ee||Me)(o.rXU(le.L))}}static{this.\u0275cmp=o.VBU({type:Me,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[o.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(ee,ue){1&ee&&(o.j41(0,"div",0),o.qex(1),o.DNE(2,Te,2,0,"ng-container",1),o.DNE(3,pe,2,0,"ng-container",2),o.bVm(),o.k0s()),2&ee&&(o.Y8G("ngSwitch",ue.layoutType),o.R7$(2),o.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG]})}}return Me})()},491:(on,Xe,j)=>{j.d(Xe,{G:()=>le});var o=j(7705);let le=(()=>{class i{static{this.\u0275fac=function(Ae){return new(Ae||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(Ae,Me){1&Ae&&(o.j41(0,"section",0)(1,"div",1)(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"img",3),o.k0s()()),2&Ae&&(o.R7$(3),o.JRh(Me.title),o.R7$(2),o.JRh(Me.content),o.R7$(2),o.FS9("src",Me.imageURL,o.B4B),o.FS9("alt",Me.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}}return i})()},4593:(on,Xe,j)=>{j.d(Xe,{F:()=>le});var o=j(7705);let le=(()=>{class i{static{this.\u0275fac=function(Ae){return new(Ae||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(Ae,Me){1&Ae&&(o.j41(0,"section",0)(1,"div",1),o.nrm(2,"img",2),o.k0s(),o.j41(3,"div",3)(4,"h2"),o.EFF(5),o.k0s(),o.j41(6,"h4"),o.EFF(7),o.k0s()()()),2&Ae&&(o.R7$(2),o.FS9("src",Me.imageURL,o.B4B),o.FS9("alt",Me.title),o.R7$(3),o.JRh(Me.title),o.R7$(2),o.JRh(Me.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}}return i})()},3349:(on,Xe,j)=>{j.d(Xe,{N:()=>le});var o=j(7705);let le=(()=>{class i{static{this.\u0275fac=function(Ae){return new(Ae||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-section-tile"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(Ae,Me){1&Ae&&(o.j41(0,"div",0)(1,"h2",1),o.EFF(2),o.k0s()()),2&Ae&&(o.R7$(2),o.JRh(Me.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return i})()},682:(on,Xe,j)=>{j.d(Xe,{B:()=>ms});var o=j(7705),le=j(6814),i=j(6861),Te=j(923),pe=j(177),Ae=j(467),Me=j(8359),Fe=j(4412),Ve=j(5558),ee=j(8455),ue=j(6354),_e=j(8704);function ut(fe,Rt){if(1&fe&&o.nrm(0,"button",15),2&fe){const de=Rt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function Qe(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",18)(3,"h1",19),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.EFF(6),o.k0s(),o.j41(7,"div",20),o.nrm(8,"br"),o.j41(9,"p"),o.EFF(10),o.k0s()(),o.j41(11,"button",21),o.bIt("click",function(){o.eBV(de);const rt=o.XpG(3);return o.Njj(rt.navigateToContact(rt.businessId))}),o.EFF(12," Book Consultation "),o.k0s()()()}if(2&fe){const de=Rt.$implicit,ot=Rt.index,rt=o.XpG(3);o.AVh("active",0===ot),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(5),o.SpI(" ",rt.business.businessName,""),o.R7$(4),o.JRh(rt.business.tagline)}}function St(fe,Rt){if(1&fe&&(o.j41(0,"div",5)(1,"div",6),o.DNE(2,ut,1,5,"button",7),o.k0s(),o.j41(3,"div",8),o.DNE(4,Qe,13,5,"div",9),o.k0s(),o.j41(5,"button",10),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",13),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}const Dt=function(fe){return{opacity:fe}};function Bt(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",3),o.DNE(2,St,13,2,"div",4),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.AVh("scrolled",de.isScrolled),o.Y8G("ngStyle",o.eq3(4,Dt,de.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",de.business)}}function Nt(fe,Rt){if(1&fe&&o.nrm(0,"button",30),2&fe){const de=Rt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function pn(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",31)(3,"div",32)(4,"h1",33),o.EFF(5,"Welcome to "),o.nrm(6,"br"),o.j41(7,"span",34),o.EFF(8),o.k0s()(),o.j41(9,"div",35)(10,"h3"),o.EFF(11),o.k0s()(),o.j41(12,"button",36),o.bIt("click",function(){o.eBV(de);const rt=o.XpG(3);return o.Njj(rt.navigateToContact(rt.businessId))}),o.EFF(13," Schedule a Visit "),o.k0s()()()()}if(2&fe){const de=Rt.$implicit,ot=Rt.index,rt=o.XpG(3);o.AVh("active",0===ot),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(3),o.AVh("slide-up-fade-in",rt.animateText),o.R7$(4),o.JRh(rt.business.businessName),o.R7$(1),o.AVh("slide-down-fade-in",rt.animateText),o.R7$(2),o.JRh(rt.business.tagline)}}function Be(fe,Rt){if(1&fe&&(o.j41(0,"div",24)(1,"div",25),o.DNE(2,Nt,1,5,"button",26),o.k0s(),o.j41(3,"div",27),o.DNE(4,pn,14,9,"div",9),o.k0s(),o.j41(5,"button",28),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",29),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}function be(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",22),o.DNE(2,Be,13,2,"div",23),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.AVh("scrolled",de.isScrolled),o.Y8G("ngStyle",o.eq3(4,Dt,de.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",de.business)}}function Je(fe,Rt){if(1&fe&&o.nrm(0,"button",45),2&fe){const de=Rt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function We(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Compassion in our hearts"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Excellent care in our hands"),o.k0s(),o.nrm(5,"div",52),o.bVm()),2&fe){const de=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",de.animateText),o.R7$(2),o.AVh("slide-down-fade-in",de.animateText)}}function it(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Personalized care"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"With passion"),o.k0s(),o.j41(5,"div",52)(6,"button",53),o.nrm(7,"i",54),o.EFF(8," Who we are"),o.k0s(),o.j41(9,"button",55),o.nrm(10,"i",54),o.EFF(11," Contact Us"),o.k0s()(),o.bVm()),2&fe){const de=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",de.animateText),o.R7$(2),o.AVh("slide-down-fade-in",de.animateText)}}function Pt(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"p",50),o.EFF(2,"Family owned"),o.k0s(),o.j41(3,"h1",51),o.EFF(4,"Friendly atmosphere"),o.k0s(),o.bVm()),2&fe){const de=o.XpG(4);o.R7$(1),o.AVh("slide-up-fade-in",de.animateText),o.R7$(2),o.AVh("slide-down-fade-in",de.animateText)}}function kt(fe,Rt){}function De(fe,Rt){if(1&fe&&(o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",46)(3,"div",47),o.DNE(4,We,6,4,"ng-container",48),o.DNE(5,it,12,4,"ng-container",48),o.DNE(6,Pt,5,4,"ng-container",48),o.DNE(7,kt,0,0,"ng-template",null,49,o.C5r),o.k0s()()()),2&fe){const de=Rt.$implicit,ot=Rt.index,rt=o.sdS(8);o.AVh("active",0===ot),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(3),o.Y8G("ngIf",0==ot)("ngIfElse",rt),o.R7$(1),o.Y8G("ngIf",1==ot)("ngIfElse",rt),o.R7$(1),o.Y8G("ngIf",2==ot)("ngIfElse",rt)}}function rn(fe,Rt){if(1&fe&&(o.j41(0,"div",39)(1,"div",40),o.DNE(2,Je,1,5,"button",41),o.k0s(),o.j41(3,"div",42),o.DNE(4,De,9,9,"div",9),o.k0s(),o.j41(5,"button",43),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",44),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}function vn(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",37),o.DNE(2,rn,13,2,"div",38),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("ngStyle",o.eq3(2,Dt,de.scrollOpacity)),o.R7$(1),o.Y8G("ngIf",de.business)}}function gr(fe,Rt){1&fe&&o.eu8(0)}function Ot(fe,Rt){if(1&fe&&o.nrm(0,"button",64),2&fe){const de=Rt.index;o.AVh("active",0===de),o.BMQ("data-bs-slide-to",de)("aria-current",0===de?"true":null)("aria-label","Slide "+(de+1))}}function $t(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"div",16),o.nrm(1,"img",17),o.j41(2,"div",65)(3,"h1",66),o.EFF(4,"Welcome to "),o.nrm(5,"br"),o.j41(6,"span",67),o.EFF(7),o.k0s()(),o.j41(8,"div",68)(9,"h3"),o.EFF(10),o.k0s()(),o.j41(11,"button",69),o.bIt("click",function(){o.eBV(de);const rt=o.XpG(3);return o.Njj(rt.navigateToContact(rt.businessId))}),o.EFF(12," Get Started "),o.k0s()()()}if(2&fe){const de=Rt.$implicit,ot=Rt.index,rt=o.XpG(3);o.AVh("active",0===ot),o.R7$(1),o.Y8G("src",de.url,o.B4B),o.R7$(6),o.JRh(rt.business.businessName),o.R7$(3),o.JRh(rt.business.tagline)}}function Xt(fe,Rt){if(1&fe&&(o.j41(0,"div",58)(1,"div",59),o.DNE(2,Ot,1,5,"button",60),o.k0s(),o.j41(3,"div",61),o.DNE(4,$t,13,5,"div",9),o.k0s(),o.j41(5,"button",62),o.nrm(6,"span",11),o.j41(7,"span",12),o.EFF(8,"Previous"),o.k0s()(),o.j41(9,"button",63),o.nrm(10,"span",14),o.j41(11,"span",12),o.EFF(12,"Next"),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(2),o.Y8G("ngForOf",de.heroImages),o.R7$(2),o.Y8G("ngForOf",de.heroImages)}}function dt(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",56),o.DNE(2,Xt,13,2,"div",57),o.k0s(),o.bVm()),2&fe){const de=o.XpG();o.R7$(2),o.Y8G("ngIf",de.business)}}let Ne=(()=>{class fe{constructor(de,ot,rt,kn){this.router=de,this.route=ot,this.webContentService=rt,this.businessDataService=kn,this.business=null,this.heroImages=[],this.layoutType="demo",this.subscriptions=new Me.yU,this.imagesLoaded$=new Fe.t(!1),this.carouselInitialized=!1,this.animateText=!1,this.isScrolled=!1,this.scrollOpacity=1}onScroll(){const de=window.scrollY||document.documentElement.scrollTop;this.scrollOpacity=Math.max(1-de/1200,0)}ngOnInit(){const de=this.businessDataService.businessData$.subscribe(rt=>{rt&&(this.business=rt,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.loadHeroImages())});this.subscriptions.add(de);const ot=this.imagesLoaded$.subscribe(rt=>{rt&&!this.carouselInitialized&&(this.initializeCarousel(),this.animateText=!0)});this.subscriptions.add(ot)}loadHeroImages(){var de=this;if(!this.businessId)return;const rt=this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Ve.n)(kn=>{const cr=kn.map(function(){var ci=(0,Ae.A)(function*(as){return(yield de.webContentService.checkImageExists(as.url))?as:null});return function(as){return ci.apply(this,arguments)}}());return(0,ee.H)(Promise.all(cr))}),(0,ue.T)(kn=>kn.filter(cr=>null!==cr))).subscribe(kn=>{this.heroImages=kn,console.log("Loaded hero images:",this.heroImages),this.heroImages.length>0&&this.imagesLoaded$.next(!0)});this.subscriptions.add(rt)}initializeCarousel(){const de=document.querySelector("#heroCarousel");de&&(new bootstrap.Carousel(de,{interval:2e4,ride:"carousel"}),this.carouselInitialized=!0,console.log("Carousel initialized"))}navigateToContact(de){this.router.navigate(["/contact-us"],{queryParams:{id:de}})}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(le.Ix),o.rXU(le.nX),o.rXU(_e.N),o.rXU(Te.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-hero-carousel"]],hostBindings:function(ot,rt){1&ot&&o.bIt("scroll",function(){return rt.onScroll()},!1,o.tSv)},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hh-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide hh-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","hh-carousel"],[1,"carousel-indicators","hh-indicators"],["type","button","class","hh-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","hh-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"hh-btn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hh-overlay"],[1,"hh-h1"],[1,"business-subtitle","garamond"],["type","button",1,"hh-btn",3,"click"],[1,"ae-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ae-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ae-carousel"],[1,"carousel-indicators","ae-indicators"],["type","button","class","ae-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ae-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ae-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ae-next"],["type","button","data-bs-target","#heroCarousel",1,"ae-btn"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-carousel-caption-content"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],[1,"ehc-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ehc-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ehc-carousel"],[1,"carousel-indicators","ehc-indicators"],["type","button","class","ehc-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ehc-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ehc-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ehc-next"],["type","button","data-bs-target","#heroCarousel",1,"ehc-btn"],[1,"carousel-caption","d-none","d-md-block","ehc-hero-overlay"],[1,"ehc-carousel-caption-content"],[4,"ngIf","ngIfElse"],["defaultOverlay",""],[1,"ehc-special-text"],[1,"ehc-h1"],[1,"ehc-overlay-buttons"],[1,"ehcBtn","ehcBtn-outline"],[1,"bi","bi-arrow-down"],[1,"ehcBtn","ehcBtn-solid"],[1,"default-hero-section"],["id","heroCarousel","class","carousel slide default-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","default-carousel"],[1,"carousel-indicators","default-indicators"],["type","button","class","default-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","default-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","default-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","default-next"],["type","button","data-bs-target","#heroCarousel",1,"default-btn"],[1,"carousel-caption","d-none","d-md-block","default-overlay"],[1,"default-h1"],[1,"default-brand-name"],[1,"default-business-subtitle"],["type","button",1,"default-btn",3,"click"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,Bt,3,6,"ng-container",1),o.DNE(2,be,3,6,"ng-container",1),o.DNE(3,vn,3,4,"ng-container",1),o.DNE(4,gr,1,0,"ng-container",1),o.DNE(5,dt,3,1,"ng-container",2),o.k0s()),2&ot&&(o.Y8G("ngSwitch",rt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[pe.Sq,pe.bT,pe.B3,pe.ux,pe.e1,pe.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;max-height:1024px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hh-h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hh-hero-section[_ngcontent-%COMP%]{height:80vh}.hh-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.hh-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.hh-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.hh-h1[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.2rem;text-transform:uppercase;font-weight:500;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.business-subtitle[_ngcontent-%COMP%]{padding:10px;font-size:1.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hh-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.hh-hero-overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption-content[_ngcontent-%COMP%]{position:absolute;top:35%;left:15%}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;font-size:5rem;font-weight:700;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:absolute;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:120%;left:0}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);padding:20px;text-align:center;align-items:center;position:absolute;display:block!important}.ae-carousel-caption-content[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.ae-h1[_ngcontent-%COMP%]{font-size:1.8rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:80vh}.ae-carousel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.ae-carousel[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%], .ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:100%}.ae-carousel[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}}.ehc-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff}.ehc-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif}.ehc-h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:700;font-size:5rem;text-transform:uppercase}.ehc-hero-section[_ngcontent-%COMP%]{transition:opacity .1s linear}.ehc-carousel-caption-content[_ngcontent-%COMP%]{position:relative;top:35%;margin:0 auto}.ehc-overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto 0;gap:30px}.ehcBtn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-transform:uppercase;text-align:center;text-decoration:none;cursor:pointer;transition:all .3s ease}.ehcBtn-outline[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff;background-color:transparent;border-radius:5px}.ehcBtn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.ehcBtn-solid[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid transparent;border-radius:5px}.ehcBtn-solid[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.slide-down-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDownFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideDownFadeIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.slide-up-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUpFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideUpFadeIn{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}"]})}}return fe})();function Ze(fe,Rt){if(1&fe&&(o.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"strong"),o.EFF(7),o.k0s()()()()()),2&fe){const de=Rt.$implicit;o.R7$(5),o.SpI('" ',de.quote,' "'),o.R7$(2),o.JRh(de.name)}}function en(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Testimonials"),o.k0s()(),o.j41(5,"div",6),o.DNE(6,Ze,8,2,"div",7),o.k0s()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(6),o.Y8G("ngForOf",de.testimonials)}}function Ue(fe,Rt){if(1&fe&&(o.j41(0,"div",21)(1,"div",22)(2,"div",23),o.EFF(3,"\u275d"),o.k0s(),o.j41(4,"p",24),o.EFF(5),o.k0s(),o.j41(6,"h4",25),o.EFF(7),o.k0s()()()),2&fe){const de=Rt.$implicit;o.R7$(5),o.JRh(de.quote),o.R7$(2),o.JRh(de.name)}}function we(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),o.EFF(5,"Word of mouth"),o.k0s(),o.j41(6,"p",15),o.EFF(7,"You should hear what people have to say about us"),o.k0s()(),o.j41(8,"div",16)(9,"div",17),o.DNE(10,Ue,8,2,"div",18),o.nI1(11,"slice"),o.k0s(),o.j41(12,"div",19)(13,"button",20),o.EFF(14," View All Testimonials "),o.k0s()()()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(10),o.Y8G("ngForOf",o.brH(11,1,de.testimonials,0,4))}}function Ee(fe,Rt){if(1&fe&&(o.j41(0,"div",36)(1,"p",37),o.EFF(2),o.k0s(),o.j41(3,"div",38)(4,"span"),o.EFF(5),o.k0s()()()),2&fe){const de=Rt.$implicit,ot=Rt.index,rt=o.XpG(3);o.AVh("active",rt.currentIndex===ot)("inactive",rt.currentIndex!==ot),o.R7$(2),o.SpI("\u201c",de.quote,"\u201d"),o.R7$(3),o.JRh(de.name)}}function ke(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"button",39),o.bIt("click",function(){const kn=o.eBV(de).index,cr=o.XpG(3);return o.Njj(cr.setSlide(kn))}),o.k0s()}if(2&fe){const de=Rt.index,ot=o.XpG(3);o.AVh("active",ot.currentIndex===de)}}function tt(fe,Rt){if(1&fe&&(o.j41(0,"div",30)(1,"div",31),o.DNE(2,Ee,6,6,"div",32),o.k0s(),o.j41(3,"div",33),o.DNE(4,ke,1,2,"button",34),o.k0s(),o.j41(5,"div",35)(6,"button",20),o.EFF(7," View All Testimonials "),o.k0s()()()),2&fe){const de=o.XpG(2);o.R7$(1),o.xc7("transform","translateX(-"+100*de.currentIndex+"%)"),o.R7$(1),o.Y8G("ngForOf",de.testimonials),o.R7$(2),o.Y8G("ngForOf",de.testimonials)}}function qe(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),o.EFF(5,"Testimonials"),o.k0s()(),o.DNE(6,tt,8,4,"div",29),o.k0s()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(6),o.Y8G("ngIf",de.testimonials&&de.testimonials.length>0)}}function Vt(fe,Rt){if(1&fe&&(o.j41(0,"div",47)(1,"div",48),o.nrm(2,"div",49),o.j41(3,"p",50),o.EFF(4),o.k0s()(),o.j41(5,"div",51)(6,"p",52),o.EFF(7),o.k0s()()()),2&fe){const de=Rt.$implicit;o.R7$(4),o.JRh(de.quote),o.R7$(3),o.JRh(de.name)}}function wn(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",40)(2,"div",41)(3,"h2",42),o.EFF(4,"Word of Mouth"),o.k0s(),o.j41(5,"p",43),o.EFF(6,"You should hear what people have to say about us"),o.k0s()(),o.j41(7,"div",44)(8,"div",45),o.DNE(9,Vt,8,2,"div",46),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(9),o.Y8G("ngForOf",de.testimonials)}}let or=(()=>{class fe{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(de){this.currentIndex=de,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(ot){return new(ot||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,en,7,1,"ng-container",1),o.DNE(2,we,15,5,"ng-container",1),o.DNE(3,qe,7,1,"ng-container",1),o.DNE(4,wn,10,1,"ng-container",2),o.k0s()),2&ot&&(o.Y8G("ngSwitch",rt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"))},dependencies:[pe.Sq,pe.bT,pe.ux,pe.e1,pe.fG,le.Wk,pe.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return fe})();function sn(fe,Rt){if(1&fe&&(o.j41(0,"div",9),o.nrm(1,"i",10),o.j41(2,"h3",11),o.EFF(3),o.k0s(),o.j41(4,"div",12)(5,"p"),o.EFF(6),o.k0s()()()),2&fe){const de=Rt.$implicit;o.R7$(1),o.Y8G("ngClass",de.icon),o.R7$(2),o.JRh(de.title),o.R7$(3),o.JRh(de.description)}}function Bn(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our "),o.k0s(),o.j41(5,"span",5),o.EFF(6,"Services"),o.k0s()(),o.j41(7,"h3",6),o.EFF(8,"Home Care From Trained Professionals"),o.k0s(),o.j41(9,"div",7),o.DNE(10,sn,7,3,"div",8),o.k0s()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(10),o.Y8G("ngForOf",de.services)}}function Qt(fe,Rt){if(1&fe&&(o.j41(0,"div",31)(1,"p"),o.EFF(2),o.k0s()()),2&fe){const de=o.XpG().$implicit;o.R7$(2),o.JRh(de.description)}}function Gn(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"div",26),o.bIt("click",function(){const kn=o.eBV(de).index,cr=o.XpG(2);return o.Njj(cr.toggleService(kn))}),o.j41(1,"div",27)(2,"span",28),o.EFF(3),o.k0s(),o.j41(4,"span",29),o.EFF(5),o.k0s()(),o.DNE(6,Qt,3,1,"div",30),o.k0s()}if(2&fe){const de=Rt.$implicit,ot=Rt.index,rt=o.XpG(2);o.R7$(3),o.JRh(de.title),o.R7$(2),o.JRh(rt.expandedServiceIndex===ot?"-":"+"),o.R7$(1),o.Y8G("ngIf",rt.expandedServiceIndex===ot)}}function Fn(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),o.EFF(6,"Our "),o.k0s(),o.j41(7,"span",18),o.EFF(8,"Services"),o.k0s()(),o.j41(9,"div",19),o.DNE(10,Gn,7,3,"div",20),o.k0s()(),o.j41(11,"div",21)(12,"div",22),o.nrm(13,"img",23),o.k0s(),o.j41(14,"div",24),o.nrm(15,"img",25),o.k0s()()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(10),o.Y8G("ngForOf",de.services)}}let Kt=(()=>{class fe{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(de){this.expandedServiceIndex=this.expandedServiceIndex===de?null:de}static{this.\u0275fac=function(ot){return new(ot||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,Bn,11,1,"ng-container",1),o.DNE(2,Fn,16,1,"ng-container",1),o.k0s()),2&ot&&(o.Y8G("ngSwitch",rt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[pe.YU,pe.Sq,pe.bT,pe.ux,pe.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}}return fe})();var jt=j(3739);function Cr(fe,Rt){if(1&fe){const de=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),o.EFF(5,"We Are "),o.j41(6,"span",6),o.EFF(7),o.k0s()(),o.j41(8,"h1"),o.EFF(9),o.k0s(),o.j41(10,"p"),o.EFF(11),o.k0s(),o.j41(12,"div",7)(13,"button",8),o.bIt("click",function(){o.eBV(de);const rt=o.XpG();return o.Njj(rt.navigateToContact())}),o.EFF(14,"Contact Us"),o.k0s()()()()(),o.bVm()}if(2&fe){const de=o.XpG();o.R7$(7),o.JRh(null==de.business?null:de.business.businessName),o.R7$(2),o.JRh(null==de.business?null:de.business.welcomeMessage),o.R7$(2),o.JRh(null==de.business?null:de.business.keyServicesHighlights)}}function un(fe,Rt){if(1&fe&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==de.business?null:de.business.businessStory)||"")}}function Lr(fe,Rt){if(1&fe&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("title","Discover Us")("content",(null==de.business?null:de.business.businessStory)||"")}}function er(fe,Rt){1&fe&&o.eu8(0)}function Ht(fe,Rt){if(1&fe&&(o.qex(0),o.nrm(1,"app-center-text",9),o.bVm()),2&fe){const de=o.XpG();o.R7$(1),o.Y8G("title","Who We Are")("content",(null==de.business?null:de.business.businessStory)||"")}}let Tn=(()=>{class fe{constructor(de,ot){this.router=de,this.businessDataService=ot,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(de=>{de&&(console.log("HomeComponent - Using cached business data:",de),this.business=de)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(le.Ix),o.rXU(Te.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,Cr,15,3,"ng-container",1),o.DNE(2,un,2,2,"ng-container",1),o.DNE(3,Lr,2,2,"ng-container",1),o.DNE(4,er,1,0,"ng-container",1),o.DNE(5,Ht,2,2,"ng-container",2),o.k0s()),2&ot&&(o.Y8G("ngSwitch",rt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","clemo"))},dependencies:[pe.ux,pe.e1,pe.fG,jt.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}}return fe})();function Wn(fe,Rt){if(1&fe){const de=o.RV6();o.qex(0),o.j41(1,"div",2)(2,"div",3)(3,"span",4),o.EFF(4,"Book a "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Consultation"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," We would love to meet you! Contact us to schedule a tour. "),o.k0s(),o.j41(9,"button",7),o.bIt("click",function(){o.eBV(de);const rt=o.XpG();return o.Njj(rt.navigateToContact(rt.id))}),o.EFF(10,"Book Consultation"),o.k0s()(),o.bVm()}}function An(fe,Rt){if(1&fe){const de=o.RV6();o.qex(0),o.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),o.EFF(6,"Ready to experience "),o.k0s(),o.j41(7,"span",13),o.EFF(8),o.k0s()(),o.j41(9,"p"),o.EFF(10,"Discover what makes our services unique and tailored to your needs."),o.k0s(),o.j41(11,"div",14)(12,"button",15),o.bIt("click",function(){o.eBV(de);const rt=o.XpG();return o.Njj(rt.navigateToContact(rt.id))}),o.EFF(13,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&fe){const de=o.XpG();o.R7$(8),o.SpI("",de.businessName,"?")}}let Yr=(()=>{class fe{constructor(de){this.router=de,this.id=null,this.layoutType="demo"}navigateToContact(de){this.router.navigate(["/contact-us"],{queryParams:{id:de}})}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(le.Ix))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,Wn,11,0,"ng-container",1),o.DNE(2,An,14,1,"ng-container",1),o.k0s()),2&ot&&(o.Y8G("ngSwitch",rt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[pe.ux,pe.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return fe})();function Or(fe,Rt){if(1&fe&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&fe){const de=Rt.$implicit;o.R7$(1),o.Y8G("innerHTML",de.name,o.npT),o.R7$(1),o.Y8G("innerHTML",de.description,o.npT)}}function si(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",2)(2,"div",3)(3,"span",4),o.EFF(4,"Our Unique "),o.k0s(),o.j41(5,"span",5),o.EFF(6," Features"),o.k0s()(),o.j41(7,"p",6),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,Or,3,2,"div",9),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(11),o.Y8G("ngForOf",de.uniqueService)}}function Xn(fe,Rt){1&fe&&o.eu8(0)}let yi=(()=>{class fe{constructor(de,ot){this.webContent=de,this.route=ot,this.layoutType="demo"}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(_e.N),o.rXU(le.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,si,12,1,"ng-container",1),o.DNE(2,Xn,1,0,"ng-container",1),o.k0s()),2&ot&&(o.Y8G("ngSwitch",rt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[pe.Sq,pe.ux,pe.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return fe})();function Ts(fe,Rt){if(1&fe&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&fe){const de=Rt.$implicit;o.R7$(1),o.Y8G("innerHTML",de.name,o.npT),o.R7$(1),o.Y8G("innerHTML",de.description,o.npT)}}function gn(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6," US "),o.k0s()(),o.j41(7,"div",7)(8,"div",8),o.DNE(9,Ts,3,2,"div",9),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(9),o.Y8G("ngForOf",de.whyChooseUs)}}function oi(fe,Rt){1&fe&&o.eu8(0)}function rr(fe,Rt){if(1&fe&&(o.j41(0,"div",10),o.nrm(1,"div",11)(2,"div",12),o.k0s()),2&fe){const de=Rt.$implicit;o.R7$(1),o.Y8G("innerHTML",de.name,o.npT),o.R7$(1),o.Y8G("innerHTML",de.description,o.npT)}}function Dr(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"section",3)(2,"div",4)(3,"span",5),o.EFF(4,"Why Choose "),o.k0s(),o.j41(5,"span",6),o.EFF(6),o.k0s()(),o.j41(7,"p",13),o.EFF(8," What sets us appart. "),o.k0s(),o.j41(9,"div",7)(10,"div",8),o.DNE(11,rr,3,2,"div",9),o.k0s()()(),o.bVm()),2&fe){const de=o.XpG();o.R7$(6),o.SpI(" ",de.businessName,""),o.R7$(5),o.Y8G("ngForOf",de.whyChooseUs)}}let Kn=(()=>{class fe{constructor(de,ot){this.webContent=de,this.route=ot,this.layoutType="demo"}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(_e.N),o.rXU(le.nX))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,gn,10,1,"ng-container",1),o.DNE(2,oi,1,0,"ng-container",1),o.DNE(3,Dr,12,2,"ng-container",2),o.k0s()),2&ot&&(o.Y8G("ngSwitch",rt.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"))},dependencies:[pe.Sq,pe.ux,pe.e1,pe.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return fe})();var Oi=j(4593),et=j(491);function mt(fe,Rt){if(1&fe&&(o.j41(0,"div",7),o.nrm(1,"i",8),o.j41(2,"h3",9),o.EFF(3),o.k0s()()),2&fe){const de=Rt.$implicit;o.R7$(1),o.HbH(de.icon),o.R7$(2),o.JRh(de.title)}}let ce=(()=>{class fe{constructor(){this.services=[]}static{this.\u0275fac=function(ot){return new(ot||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",4),o.DNE(6,mt,4,3,"div",5),o.k0s(),o.j41(7,"button",6),o.EFF(8,"Learn More"),o.k0s()()()()),2&ot&&(o.R7$(6),o.Y8G("ngForOf",rt.services))},dependencies:[pe.Sq,le.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return fe})(),xe=(()=>{class fe{static{this.\u0275fac=function(ot){return new(ot||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"Our Motto"),o.k0s(),o.j41(4,"h4"),o.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),o.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return fe})(),Et=(()=>{class fe{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(ot){return new(ot||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o.EFF(4),o.k0s(),o.j41(5,"span",4),o.EFF(6,"Years of Experience"),o.k0s()(),o.j41(7,"div",2)(8,"span",3),o.EFF(9),o.k0s(),o.j41(10,"span",4),o.EFF(11,"Happy Families"),o.k0s()(),o.j41(12,"div",2)(13,"span",3),o.EFF(14),o.k0s(),o.j41(15,"span",4),o.EFF(16,"Services Offered"),o.k0s()(),o.j41(17,"div",2)(18,"span",3),o.EFF(19),o.k0s(),o.j41(20,"span",4),o.EFF(21,"Trained Staff"),o.k0s()()()()),2&ot&&(o.xc7("background-image","url("+rt.backgroundImage+")"),o.R7$(4),o.JRh(rt.yearsOfExperience),o.R7$(5),o.JRh(rt.happyFamilies),o.R7$(5),o.JRh(rt.servicesOffered),o.R7$(5),o.JRh(rt.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{height:300px;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:20px;border-radius:10px;width:100%;height:100%;justify-content:center}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px;font-weight:700;text-transform:uppercase}"]})}}return fe})(),Yt=(()=>{class fe{constructor(de,ot){this.router=de,this.businessDataService=ot,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(de=>{de&&(console.log("HomeComponent - Using cached business data:",de),this.business=de)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(le.Ix),o.rXU(Te.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-three-section"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:50,vars:3,consts:[["id","service",1,"clemo-service","clemo-sections","clemo-lightbg"],[1,"clemo-container"],[1,""],[1,"clemo-col-sm-12"],[1,"clemo-head-title","clemo-text-center"],[1,"clemo-main-service-area"],[1,"clemo-single-service-area"],[1,"clemo-row"],[1,"clemo-single-service-left"],["src","../../../assets/sharedAssets/image_fx_(3).jpg","alt",""],[1,"clemo-single-service"],[1,"separator2"],["href","#",1,"btn"],["src","../../../assets/sharedAssets/image_fx_(1).jpg","alt",""],["src","../../../assets/sharedAssets/image_fx_(2).jpg","alt",""]],template:function(ot,rt){1&ot&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),o.EFF(6,"what we do?"),o.k0s()(),o.j41(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),o.nrm(11,"img",9),o.k0s(),o.j41(12,"div",10)(13,"h3"),o.EFF(14,"our"),o.k0s(),o.j41(15,"h2"),o.EFF(16,"story"),o.k0s(),o.nrm(17,"div",11),o.j41(18,"p"),o.EFF(19),o.k0s(),o.j41(20,"a",12),o.EFF(21,"learn more"),o.k0s()()()(),o.j41(22,"div",6)(23,"div",7)(24,"div",10)(25,"h3"),o.EFF(26,"our"),o.k0s(),o.j41(27,"h2"),o.EFF(28,"vision"),o.k0s(),o.nrm(29,"div",11),o.j41(30,"p"),o.EFF(31),o.k0s(),o.j41(32,"a",12),o.EFF(33,"learn more"),o.k0s()(),o.j41(34,"div",8),o.nrm(35,"img",13),o.k0s()()(),o.j41(36,"div",6)(37,"div",7)(38,"div",8),o.nrm(39,"img",14),o.k0s(),o.j41(40,"div",10)(41,"h3"),o.EFF(42,"our"),o.k0s(),o.j41(43,"h2"),o.EFF(44,"mission"),o.k0s(),o.nrm(45,"div",11),o.j41(46,"p"),o.EFF(47),o.k0s(),o.j41(48,"a",12),o.EFF(49,"learn more"),o.k0s()()()()()()()()()),2&ot&&(o.R7$(19),o.JRh(null==rt.business?null:rt.business.businessStory),o.R7$(12),o.JRh(null==rt.business?null:rt.business.vision),o.R7$(16),o.JRh(null==rt.business?null:rt.business.mission))},styles:[".clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.clemo-head-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:60px;font-size:3.75rem;font-family:montserrathairline}.clemo-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.clemo-single-service-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.clemo-single-service-area[_ngcontent-%COMP%]:nth-child(2n){flex-direction:row-reverse}.clemo-single-service-left[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;padding:80px}.clemo-single-service-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;height:auto;max-height:600px;object-fit:cover}.clemo-single-service[_ngcontent-%COMP%]{flex:1;max-width:600px}.clemo-single-service[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.clemo-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.clemo-single-service-left[_ngcontent-%COMP%], .clemo-single-service[_ngcontent-%COMP%]{max-width:100%}.clemo-single-service[_ngcontent-%COMP%]{text-align:center}}"]})}}return fe})();const Hn=function(fe,Rt){return{"clemo-btn":fe,"clemo-btn-outline":Rt}};function Wr(fe,Rt){if(1&fe&&(o.qex(0),o.j41(1,"a",14),o.EFF(2),o.k0s(),o.bVm()),2&fe){const de=Rt.$implicit;o.R7$(1),o.Y8G("routerLink",de.link)("ngClass",o.l_i(3,Hn,!de.outline,de.outline)),o.R7$(1),o.SpI(" ",de.text," ")}}const Sr=function(fe){return{background:fe}};function Pi(fe,Rt){if(1&fe&&(o.j41(0,"div",4),o.nrm(1,"div",5),o.j41(2,"div",6)(3,"h2"),o.EFF(4),o.k0s(),o.nrm(5,"div",7)(6,"p",8),o.j41(7,"div",9),o.DNE(8,Wr,3,6,"ng-container",10),o.k0s(),o.j41(9,"div",11)(10,"div",12),o.nrm(11,"div",13),o.k0s(),o.j41(12,"p"),o.EFF(13,"Scroll down"),o.k0s()()()()),2&fe){const de=Rt.$implicit,ot=Rt.index,rt=o.XpG();o.AVh("clemo-active",ot===rt.currentSlide),o.R7$(1),o.Y8G("ngStyle",o.eq3(6,Sr,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+de.backgroundImage+")")),o.R7$(3),o.JRh(de.title),o.R7$(2),o.Y8G("innerHTML",de.subtitle,o.npT),o.R7$(2),o.Y8G("ngForOf",de.buttons)}}function bt(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"div",15),o.bIt("click",function(){const kn=o.eBV(de).index,cr=o.XpG();return o.Njj(cr.navigateToSlide(kn))}),o.k0s()}if(2&fe){const de=Rt.index,ot=o.XpG();o.AVh("clemo-active",de===ot.currentSlide)}}const $=function(fe){return{"--slider-opacity":fe}};let M=(()=>{class fe{constructor(de,ot){this.router=de,this.businessDataService=ot,this.business=null,this.slides=[],this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(de=>{de?(console.log("HeroSliderComponent - Retrieved business data:",de),this.business=de,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(ot=>({title:this.replaceKeywords(ot.title),subtitle:this.replaceKeywords(ot.subtitle),backgroundImage:ot.backgroundImage,buttons:ot.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(de){return de&&this.business?.businessName?de.replace(/{{businessName}}/g,this.business.businessName):de}navigateToSlide(de){this.currentSlide=de}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}onScroll(){const de=window.scrollY,ot=window.innerHeight;this.sliderOpacity=Math.max(1-de/ot,0)}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(le.Ix),o.rXU(Te.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-hero-slider"]],hostBindings:function(ot,rt){1&ot&&o.bIt("scroll",function(cr){return rt.onScroll(cr)},!1,o.tSv)},decls:4,vars:5,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation"],["class","clemo-nav-item",3,"clemo-active","click",4,"ngFor","ngForOf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],[3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"click"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0),o.DNE(1,Pi,14,8,"div",1),o.j41(2,"div",2),o.DNE(3,bt,1,2,"div",3),o.k0s()()),2&ot&&(o.Y8G("ngStyle",o.eq3(3,$,rt.sliderOpacity)),o.R7$(1),o.Y8G("ngForOf",rt.slides),o.R7$(2),o.Y8G("ngForOf",rt.slides))},dependencies:[pe.YU,pe.Sq,pe.B3,le.Wk],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:2px solid #fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-nav-item[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#fff;clip-path:polygon(50% 0%,100% 50%,50% 100%,0% 50%);cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}"]})}}return fe})();var k=j(9969),ne=j(4710);function me(fe,Rt){1&fe&&(o.j41(0,"div",13),o.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),o.k0s())}function st(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"button",15),o.bIt("click",function(){o.eBV(de);const rt=o.XpG(3);return o.Njj(rt.navigateToTestimonials())}),o.EFF(1," Read More "),o.k0s()}}function At(fe,Rt){if(1&fe&&(o.j41(0,"span"),o.EFF(1,"[...]"),o.DNE(2,st,2,0,"button",14),o.k0s()),2&fe){const de=o.XpG().$implicit,ot=o.XpG();o.R7$(2),o.Y8G("ngIf",ot.isTruncated(de.quote))}}function an(fe,Rt){if(1&fe&&(o.j41(0,"div",5)(1,"div",6)(2,"h3",7),o.EFF(3),o.k0s(),o.nrm(4,"div",8),o.j41(5,"p",9),o.EFF(6),o.k0s(),o.DNE(7,me,2,0,"div",10),o.k0s(),o.j41(8,"div",11)(9,"p"),o.EFF(10),o.DNE(11,At,3,1,"span",12),o.k0s()()()),2&fe){const de=Rt.$implicit,ot=o.XpG();o.Y8G("@slideIn",void 0),o.R7$(1),o.Y8G("@fadeInRight",void 0),o.R7$(2),o.JRh(de.name),o.R7$(3),o.JRh(de.relationship),o.R7$(1),o.Y8G("ngIf",de.isGoogle),o.R7$(1),o.Y8G("@fadeInLeft",void 0),o.R7$(2),o.SpI(" ",ot.truncateText(de.quote)," "),o.R7$(1),o.Y8G("ngIf",ot.isTruncated(de.quote))}}function dn(fe,Rt){if(1&fe){const de=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){const kn=o.eBV(de).index,cr=o.XpG();return o.Njj(cr.goToSlide(kn))}),o.EFF(1," \u25cf "),o.k0s()}if(2&fe){const de=Rt.index,ot=o.XpG();o.AVh("active",de===ot.currentIndex)}}const Sn=function(fe){return[fe]};let vr=(()=>{class fe{constructor(de,ot,rt){this.businessDataService=de,this.googleMapsLoader=ot,this.router=rt,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(de=>{if(de&&de.testimonials){const ot=de.testimonials.map(rt=>({...rt,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...ot]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(ot,rt)=>{if(rt===google.maps.places.PlacesServiceStatus.OK){const kn=ot?.reviews?.map(cr=>({name:cr.author_name,quote:cr.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...kn,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",rt)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(de){this.currentIndex=de}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(de,ot){return de}truncateText(de){return de.length>this.maxTextLength?de.slice(0,this.maxTextLength):de}isTruncated(de){return de.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(Te.A),o.rXU(ne.L),o.rXU(le.Ix))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(ot,rt){1&ot&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"clients say\u2019s"),o.k0s(),o.DNE(3,an,12,8,"div",2),o.j41(4,"div",3),o.DNE(5,dn,2,2,"button",4),o.k0s()()),2&ot&&(o.R7$(3),o.Y8G("ngForOf",o.eq3(3,Sn,rt.currentTestimonial))("ngForTrackBy",rt.trackByIndex),o.R7$(2),o.Y8G("ngForOf",rt.testimonials))},dependencies:[pe.Sq,pe.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}"],data:{animation:[(0,k.hZ)("slideIn",[(0,k.kY)(":enter",[(0,k.iF)({opacity:0,transform:"translateX(-100%)"}),(0,k.i0)("0.5s ease-in",(0,k.iF)({opacity:1,transform:"translateX(0)"}))]),(0,k.kY)(":leave",[(0,k.i0)("0.5s ease-out",(0,k.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,k.hZ)("fadeInLeft",[(0,k.kY)(":enter",[(0,k.iF)({opacity:0,transform:"translateX(-100%)"}),(0,k.i0)("0.5s ease-in",(0,k.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,k.hZ)("fadeInRight",[(0,k.kY)(":enter",[(0,k.iF)({opacity:0,transform:"translateX(100%)"}),(0,k.i0)("0.5s ease-in",(0,k.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return fe})();var cn=j(3711),Br=j(3349);let mr=(()=>{class fe{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(ot){return new(ot||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(ot,rt){1&ot&&(o.nrm(0,"app-section-tile",0),o.j41(1,"div",1),o.nrm(2,"iframe",2),o.k0s()),2&ot&&o.Y8G("title","Video")},dependencies:[Br.N],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}video[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px}"]})}}return fe})(),Ss=(()=>{class fe{static{this.\u0275fac=function(ot){return new(ot||fe)}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(ot,rt){1&ot&&(o.nrm(0,"app-section-tile",0),o.j41(1,"div",1),o.nrm(2,"iframe",2),o.k0s()),2&ot&&o.Y8G("title","Virtual Tour")},dependencies:[Br.N],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return fe})();function wi(fe,Rt){1&fe&&o.nrm(0,"app-hero-slider")}function $i(fe,Rt){1&fe&&o.nrm(0,"app-three-section")}function Ni(fe,Rt){1&fe&&o.nrm(0,"app-hero-carousel")}function Ai(fe,Rt){1&fe&&o.nrm(0,"app-parallax-text")}function ar(fe,Rt){1&fe&&o.nrm(0,"app-right-text",13),2&fe&&o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}function Ps(fe,Rt){1&fe&&o.nrm(0,"app-left-text",13),2&fe&&o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const Ct=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},nt=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},Mt=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},ln=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Ln=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},Mn=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},hr=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},$r=function(fe,Rt,de,ot,rt,kn,cr){return[fe,Rt,de,ot,rt,kn,cr]};function Xr(fe,Rt){1&fe&&o.nrm(0,"app-icon-list",14),2&fe&&o.Y8G("services",o.sGs(8,$r,o.lJ4(1,Ct),o.lJ4(2,nt),o.lJ4(3,Mt),o.lJ4(4,ln),o.lJ4(5,Ln),o.lJ4(6,Mn),o.lJ4(7,hr)))}const Tr=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},Yi=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Xi=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},mo=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},Co=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Qi=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},os=function(fe,Rt,de,ot,rt,kn){return[fe,Rt,de,ot,rt,kn]};function Qr(fe,Rt){if(1&fe&&o.nrm(0,"app-our-services-home",15),2&fe){const de=o.XpG();o.Y8G("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")("services",o.l4e(8,os,o.lJ4(2,Tr),o.lJ4(3,Yi),o.lJ4(4,Xi),o.lJ4(5,mo),o.lJ4(6,Co),o.lJ4(7,Qi)))}}const ji=function(){return[]};function Mi(fe,Rt){if(1&fe&&o.nrm(0,"app-why-us",16),2&fe){const de=o.XpG();o.Y8G("whyChooseUs",(null==de.business?null:de.business.whyChoose)||o.lJ4(3,ji))("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")("businessName",(null==de.business?null:de.business.businessName)||"Demo")}}function wr(fe,Rt){if(1&fe&&o.nrm(0,"app-features",17),2&fe){const de=o.XpG();o.Y8G("uniqueService",(null==de.business?null:de.business.uniqueService)||o.lJ4(2,ji))("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")}}function Js(fe,Rt){if(1&fe&&o.nrm(0,"app-testimonials",18),2&fe){const de=o.XpG();o.Y8G("testimonials",null==de.business?null:de.business.testimonials)("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")}}function _o(fe,Rt){1&fe&&o.nrm(0,"app-video",19),2&fe&&o.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX")}function ai(fe,Rt){1&fe&&o.nrm(0,"app-tour-3-d")}function aa(fe,Rt){1&fe&&o.nrm(0,"app-parallax-stats",20),2&fe&&o.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4)}function Da(fe,Rt){if(1&fe&&o.nrm(0,"app-testimonial-carousel",21),2&fe){const de=o.XpG();o.Y8G("placeId",(null==de.business?null:de.business.placeId)||"")}}function Di(fe,Rt){if(1&fe&&o.nrm(0,"app-consultation",22),2&fe){const de=o.XpG();o.Y8G("id",(null==de.business?null:de.business.id)||"")("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")("businessName",(null==de.business?null:de.business.businessName)||"Demo")}}function zo(fe,Rt){if(1&fe&&o.nrm(0,"app-google-maps",23),2&fe){const de=o.XpG();o.Y8G("address",(null==de.business?null:de.business.address)||"")("layoutType",(null==de.business||null==de.business.theme?null:de.business.theme.themeType)||"demo")}}let ms=(()=>{class fe{constructor(de,ot,rt){this.route=de,this.metaService=ot,this.businessDataService=rt,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(de=>{de&&(this.businessId=de,this.businessDataService.getBusinessData().subscribe(ot=>{this.business=ot}),this.metaService.loadAndApplyMeta(this.businessId))})}static{this.\u0275fac=function(ot){return new(ot||fe)(o.rXU(le.nX),o.rXU(i.R),o.rXU(Te.A))}}static{this.\u0275cmp=o.VBU({type:fe,selectors:[["app-home"]],decls:18,vars:19,consts:[[4,"ngIf"],[3,"layoutType","businessId"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName",4,"ngIf"],[3,"uniqueService","layoutType",4,"ngIf"],[3,"testimonials","layoutType",4,"ngIf"],[3,"videoSource",4,"ngIf"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff",4,"ngIf"],[3,"placeId",4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],[3,"address","layoutType",4,"ngIf"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"id","layoutType","businessName"],[3,"address","layoutType"]],template:function(ot,rt){1&ot&&(o.DNE(0,wi,1,0,"app-hero-slider",0),o.DNE(1,$i,1,0,"app-three-section",0),o.DNE(2,Ni,1,0,"app-hero-carousel",0),o.nrm(3,"app-welcome",1),o.DNE(4,Ai,1,0,"app-parallax-text",0),o.DNE(5,ar,1,3,"app-right-text",2),o.DNE(6,Ps,1,3,"app-left-text",2),o.DNE(7,Xr,1,16,"app-icon-list",3),o.DNE(8,Qr,1,15,"app-our-services-home",4),o.DNE(9,Mi,1,4,"app-why-us",5),o.DNE(10,wr,1,3,"app-features",6),o.DNE(11,Js,1,2,"app-testimonials",7),o.DNE(12,_o,1,1,"app-video",8),o.DNE(13,ai,1,0,"app-tour-3-d",0),o.DNE(14,aa,1,5,"app-parallax-stats",9),o.DNE(15,Da,1,1,"app-testimonial-carousel",10),o.DNE(16,Di,1,3,"app-consultation",11),o.DNE(17,zo,1,2,"app-google-maps",12)),2&ot&&(o.Y8G("ngIf","clemo"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("layoutType",(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)||"demo")("businessId",(null==rt.business?null:rt.business.id)||""),o.R7$(1),o.Y8G("ngIf","ehc"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","ae"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","hh"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"===(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"!=(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)),o.R7$(1),o.Y8G("ngIf","clemo"==(null==rt.business||null==rt.business.theme?null:rt.business.theme.themeType)))},dependencies:[pe.bT,Ne,or,Kt,Tn,Yr,yi,Kn,Oi.F,et.G,ce,xe,Et,Yt,M,vr,cn.a,mr,Ss]})}}return fe})()},214:(on,Xe,j)=>{j.d(Xe,{W:()=>le});var o=j(7705);let le=(()=>{class i{constructor(){this.closeModal=new o.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(Ae){return new(Ae||i)}}static{this.\u0275cmp=o.VBU({type:i,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Ae,Me){1&Ae&&(o.j41(0,"div",0),o.bIt("click",function(){return Me.close()}),o.j41(1,"div",1),o.bIt("click",function(Ve){return Ve.stopPropagation()}),o.j41(2,"button",2),o.bIt("click",function(){return Me.close()}),o.EFF(3,"Close"),o.k0s(),o.nrm(4,"img",3),o.k0s()()),2&Ae&&(o.R7$(4),o.Y8G("src",Me.imageUrl,o.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return i})()},4796:(on,Xe,j)=>{j.d(Xe,{u:()=>pe});var o=j(6354),le=j(7705),i=j(1977),Te=j(6814);let pe=(()=>{class Ae{constructor(Fe,Ve){this.afAuth=Fe,this.router=Ve,this.user$=Fe.authState}login(Fe,Ve){return this.afAuth.signInWithEmailAndPassword(Fe,Ve)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,o.T)(Fe=>!!Fe))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Ve){return new(Ve||Ae)(le.KVO(i.DS),le.KVO(Te.Ix))}}static{this.\u0275prov=le.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}}return Ae})()},923:(on,Xe,j)=>{j.d(Xe,{A:()=>Ae});var o=j(4412),le=j(6354),i=j(8141),Te=j(7705),pe=j(3012);let Ae=(()=>{class Me{constructor(Ve){this.businessService=Ve,this.businessDataSubject=new o.t(null),this.businessIdSubject=new o.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Ve){return console.log("BusinessDataService - loadBusinessData for ID:",Ve),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Ve).pipe((0,le.T)(ee=>ee??null),(0,i.M)(ee=>{console.log("BusinessDataService - Business fetched:",ee),this.businessDataSubject.next(ee),this.businessIdSubject.next(Ve)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(ee){return new(ee||Me)(Te.KVO(pe.u))}}static{this.\u0275prov=Te.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})()},3012:(on,Xe,j)=>{j.d(Xe,{u:()=>Me});var o=j(7673),le=j(6354),i=j(5558),Te=j(7705),pe=j(6340),Ae=j(8721);let Me=(()=>{class Fe{constructor(ee,ue){this.afs=ee,this.storage=ue,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(ee){console.log("Business Created");const ue=this.afs.createId();return this.afs.doc(`${this.basePath}/${ue}`).set({...ee,id:ue}),this.afs.doc(`${this.basePath}/${ue}`).valueChanges().pipe((0,le.T)(_e=>{if(!_e)throw new Error("Business not found after creation");return _e}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,le.T)(ee=>ee.map(ue=>{const _e=ue.payload.doc.data(),ut=ue.payload.doc.id,{id:Qe,...St}=_e;return{id:ut,...St}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,ee=>ee.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(ee){return this.getBusinessData(ee)}getBusinessData(ee){const ue=ee&&ee.trim()?ee:this.defaultBusinessId;return this.afs.collection("businesses").doc(ue).snapshotChanges().pipe((0,i.n)(_e=>{const ut=_e.payload.data(),Qe=_e.payload.id;if(!ut)return(0,o.of)(void 0);const{id:St,...Dt}=ut,Bt={id:Qe,...Dt},Nt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Qe}/theme`).doc("themeDoc").snapshotChanges().pipe((0,le.T)(Be=>{const be=Be.payload.data()||Nt;return Bt.theme=be,Bt}))}))}updateBusiness(ee,ue){return this.afs.doc(`${this.basePath}/${ee}`).update(ue)}deleteBusiness(ee){return this.afs.doc(`${this.basePath}/${ee}`).delete()}uploadFile(ee,ue){return this.storage.upload(ee,ue)}getDownloadURL(ee){return this.storage.ref(ee).getDownloadURL()}updateThemeFileName(ee,ue=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ue}`).update({"theme.themeFileName":ee})}getThemeFileName(ee=this.defaultBusinessId){const _e=this.afs.collection(this.basePath).doc(ee).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${ee}`),_e.get().toPromise().then(ut=>{if(ut&&ut.exists){const Qe=ut.data();console.log("Theme document found:",Qe);const St=Qe?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${St}`),St}return console.warn(`No theme document found for business ID: ${ee}. Using default theme.`),"default.css"}).catch(ut=>(console.error(`Error fetching theme file name for business ID: ${ee}`,ut),"default.css"))}static{this.\u0275fac=function(ue){return new(ue||Fe)(Te.KVO(pe.Qe),Te.KVO(Ae.ap))}}static{this.\u0275prov=Te.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},4710:(on,Xe,j)=>{j.d(Xe,{L:()=>i});var le=j(7705);let i=(()=>{class Te{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Ae,Me)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Ae();const Fe=document.createElement("script");Fe.id="google-maps-script",Fe.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Fe.async=!0,Fe.defer=!0,Fe.onload=()=>{this.scriptLoaded=!0,Ae()},Fe.onerror=Ve=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Me(Ve)},document.body.appendChild(Fe)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Me){return new(Me||Te)}}static{this.\u0275prov=le.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},6861:(on,Xe,j)=>{j.d(Xe,{R:()=>Te});var o=j(7705),le=j(345),i=j(923);let Te=(()=>{class pe{constructor(Me,Fe,Ve){this.meta=Me,this.title=Fe,this.businessDataService=Ve}updateMetaTags(Me){this.title.setTitle(Me.title),this.meta.updateTag({name:"description",content:Me.description}),this.meta.updateTag({name:"keywords",content:Me.keywords}),this.meta.updateTag({property:"og:title",content:Me.title}),this.meta.updateTag({property:"og:description",content:Me.description})}updateFavicon(Me){const Fe=document.getElementsByTagName("head")[0];let Ve=document.querySelector("link[rel*='icon']");Ve||(Ve=document.createElement("link"),Ve.rel="icon",Fe.appendChild(Ve)),Ve.href=Me}loadAndApplyMeta(Me){this.businessDataService.loadBusinessData(Me).subscribe(Fe=>{Fe?(this.updateMetaTags({title:Fe.metaTitle||"Default Title",description:Fe.metaDescription||"Default Description",keywords:Fe.metaKeywords||"default, keywords"}),Fe.faviconUrl&&this.updateFavicon(Fe.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Fe){return new(Fe||pe)(o.KVO(le.W8),o.KVO(le.hE),o.KVO(i.A))}}static{this.\u0275prov=o.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}}return pe})()},5009:(on,Xe,j)=>{j.d(Xe,{F:()=>Ve});var o=j(8810),le=j(8455),i=j(7673),Te=j(6697),pe=j(5558),Ae=j(9437),Me=j(7705),Fe=j(6340);let Ve=(()=>{class ee{constructor(_e){this.firestore=_e,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(_e){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(_e){console.log("Theme Service: - Fetching theme for business ID:",_e);const ut=this.firestore.collection("businesses").doc(_e),Qe=ut.collection("theme").doc("themeDoc");return ut.snapshotChanges().pipe((0,Te.s)(1),(0,pe.n)(St=>St.payload.exists?Qe.get().pipe((0,pe.n)(Dt=>Dt.exists?(Dt.data(),Qe.valueChanges()):(0,le.H)(Qe.set(this.defaultTheme)).pipe((0,pe.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Qe.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,o.$)("Theme Service: - Business document does not exist"))),(0,Ae.W)(St=>(console.error("Error fetching theme:",St),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(_e,ut){const Qe=this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+_e+" theme service updateColors: ",ut),Qe.set(ut,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),ut.themeFileName&&this.applyThemeFile(ut.themeFileName)}).catch(St=>{throw console.error("Theme Service: - Error updating colors:",St),new Error(St)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(_e){return this.loadCss(`assets/themes/${_e}`)}loadCss(_e){return new Promise((ut,Qe)=>{console.log("Load css from  file:",_e);const St=document.createElement("link");St.rel="stylesheet",St.href=_e,St.onload=()=>{console.log(`Loaded theme: ${_e}`),ut()},St.onerror=Dt=>{console.error(`Failed to load theme: ${_e}`,Dt),Qe(Dt)},document.head.appendChild(St)})}static{this.\u0275fac=function(ut){return new(ut||ee)(Me.KVO(Fe.Qe))}}static{this.\u0275prov=Me.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},8704:(on,Xe,j)=>{j.d(Xe,{N:()=>Me});var o=j(6354),le=j(9437),i=j(7673),Te=j(7705),pe=j(6340),Ae=j(8721);let Me=(()=>{class Fe{constructor(ee,ue){this.firestore=ee,this.storage=ue,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(ee){const ue=ee&&ee.trim()?ee:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ue).snapshotChanges().pipe((0,o.T)(_e=>{const ut=_e.payload.data(),Qe=_e.payload.id;if(ut){const{id:St,testimonials:Dt=[],...Bt}=ut;return{id:Qe,testimonials:Dt.map(pn=>({...pn,photoURL:pn.photoURL&&pn.photoURL.trim()?pn.photoURL:this.defaultImage})),...Bt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ee){return this.storage.ref(ee).getDownloadURL().pipe((0,le.W)(ue=>(console.error("Error fetching photo URL:",ue),(0,i.of)(""))))}getEmployeesByBusinessId(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).get().pipe((0,o.T)(ue=>{if(ue.exists){const _e=ue.data();return _e&&_e.employees?_e.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,le.W)(ue=>(console.error("Error fetching employees:",ue),(0,i.of)([]))))}getBusinessGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ee,ue){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection(ue).valueChanges()}checkImageExists(ee){return this.storage.refFromURL(ee).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ue){return new(ue||Fe)(Te.KVO(pe.Qe),Te.KVO(Ae.ap))}}static{this.\u0275prov=Te.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})()},7901:(on,Xe,j)=>{var o={};j.r(o),j.d(o,{afterMain:()=>En,afterRead:()=>_t,afterWrite:()=>Un,applyStyles:()=>Fi,arrow:()=>_s,auto:()=>Ms,basePlacements:()=>Gr,beforeMain:()=>Jt,beforeRead:()=>Re,beforeWrite:()=>Zn,bottom:()=>fi,clippingParents:()=>tr,computeStyles:()=>To,createPopper:()=>Ns,createPopperBase:()=>Fs,createPopperLite:()=>As,detectOverflow:()=>Xo,end:()=>ts,eventListeners:()=>Ko,flip:()=>dc,hide:()=>za,left:()=>Hr,main:()=>Pn,modifierPhases:()=>jn,offset:()=>hl,placements:()=>Ie,popper:()=>us,popperGenerator:()=>zs,popperOffsets:()=>te,preventOverflow:()=>Se,read:()=>Ye,reference:()=>Z,right:()=>vi,start:()=>Bi,top:()=>zn,variationPlacements:()=>Q,viewport:()=>ls,write:()=>xr});var le=j(345),i=j(7705),Te=j(7673),pe=j(8455),Ae=j(1985),Me=j(274),Fe=j(5964),Ve=j(6354),ee=j(980),ue=j(5558),_e=j(177);class ut{}class Qe{}class St{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(c=>{const y=c.indexOf(":");if(y>0){const I=c.slice(0,y),V=I.toLowerCase(),z=c.slice(y+1).trim();this.maybeSetNormalizedName(I,V),this.headers.has(V)?this.headers.get(V).push(z):this.headers.set(V,[z])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((c,y)=>{this.setHeaderEntries(y,c)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([c,y])=>{this.setHeaderEntries(c,y)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const c=this.headers.get(l.toLowerCase());return c&&c.length>0?c[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,c){return this.clone({name:l,value:c,op:"a"})}set(l,c){return this.clone({name:l,value:c,op:"s"})}delete(l,c){return this.clone({name:l,value:c,op:"d"})}maybeSetNormalizedName(l,c){this.normalizedNames.has(c)||this.normalizedNames.set(c,l)}init(){this.lazyInit&&(this.lazyInit instanceof St?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(c=>{this.headers.set(c,l.headers.get(c)),this.normalizedNames.set(c,l.normalizedNames.get(c))})}clone(l){const c=new St;return c.lazyInit=this.lazyInit&&this.lazyInit instanceof St?this.lazyInit:this,c.lazyUpdate=(this.lazyUpdate||[]).concat([l]),c}applyUpdate(l){const c=l.name.toLowerCase();switch(l.op){case"a":case"s":let y=l.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(l.name,c);const I=("a"===l.op?this.headers.get(c):void 0)||[];I.push(...y),this.headers.set(c,I);break;case"d":const V=l.value;if(V){let z=this.headers.get(c);if(!z)return;z=z.filter(se=>-1===V.indexOf(se)),0===z.length?(this.headers.delete(c),this.normalizedNames.delete(c)):this.headers.set(c,z)}else this.headers.delete(c),this.normalizedNames.delete(c)}}setHeaderEntries(l,c){const y=(Array.isArray(c)?c:[c]).map(V=>V.toString()),I=l.toLowerCase();this.headers.set(I,y),this.maybeSetNormalizedName(l,I)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(c=>l(this.normalizedNames.get(c),this.headers.get(c)))}}class Bt{encodeKey(l){return be(l)}encodeValue(l){return be(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const pn=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function be(p){return encodeURIComponent(p).replace(pn,(l,c)=>Be[c]??l)}function Je(p){return`${p}`}class We{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new Bt,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nt(p,l){const c=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(I=>{const V=I.indexOf("="),[z,se]=-1==V?[l.decodeKey(I),""]:[l.decodeKey(I.slice(0,V)),l.decodeValue(I.slice(V+1))],ve=c.get(z)||[];ve.push(se),c.set(z,ve)}),c}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(c=>{const y=l.fromObject[c],I=Array.isArray(y)?y.map(Je):[Je(y)];this.map.set(c,I)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const c=this.map.get(l);return c?c[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,c){return this.clone({param:l,value:c,op:"a"})}appendAll(l){const c=[];return Object.keys(l).forEach(y=>{const I=l[y];Array.isArray(I)?I.forEach(V=>{c.push({param:y,value:V,op:"a"})}):c.push({param:y,value:I,op:"a"})}),this.clone(c)}set(l,c){return this.clone({param:l,value:c,op:"s"})}delete(l,c){return this.clone({param:l,value:c,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const c=this.encoder.encodeKey(l);return this.map.get(l).map(y=>c+"="+this.encoder.encodeValue(y)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const c=new We({encoder:this.encoder});return c.cloneFrom=this.cloneFrom||this,c.updates=(this.updates||[]).concat(l),c}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const c=("a"===l.op?this.map.get(l.param):void 0)||[];c.push(Je(l.value)),this.map.set(l.param,c);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let y=this.map.get(l.param)||[];const I=y.indexOf(Je(l.value));-1!==I&&y.splice(I,1),y.length>0?this.map.set(l.param,y):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class Pt{constructor(){this.map=new Map}set(l,c){return this.map.set(l,c),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function De(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function rn(p){return typeof Blob<"u"&&p instanceof Blob}function vn(p){return typeof FormData<"u"&&p instanceof FormData}class Ot{constructor(l,c,y,I){let V;if(this.url=c,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function kt(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||I?(this.body=void 0!==y?y:null,V=I):V=y,V&&(this.reportProgress=!!V.reportProgress,this.withCredentials=!!V.withCredentials,V.responseType&&(this.responseType=V.responseType),V.headers&&(this.headers=V.headers),V.context&&(this.context=V.context),V.params&&(this.params=V.params)),this.headers||(this.headers=new St),this.context||(this.context=new Pt),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=c;else{const se=c.indexOf("?");this.urlWithParams=c+(-1===se?"?":se<c.length-1?"&":"")+z}}else this.params=new We,this.urlWithParams=c}serializeBody(){return null===this.body?null:De(this.body)||rn(this.body)||vn(this.body)||function gr(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vn(this.body)?null:rn(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const c=l.method||this.method,y=l.url||this.url,I=l.responseType||this.responseType,V=void 0!==l.body?l.body:this.body,z=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,se=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let ve=l.headers||this.headers,ze=l.params||this.params;const pt=l.context??this.context;return void 0!==l.setHeaders&&(ve=Object.keys(l.setHeaders).reduce((Ft,Cn)=>Ft.set(Cn,l.setHeaders[Cn]),ve)),l.setParams&&(ze=Object.keys(l.setParams).reduce((Ft,Cn)=>Ft.set(Cn,l.setParams[Cn]),ze)),new Ot(c,y,V,{params:ze,headers:ve,context:pt,reportProgress:se,responseType:I,withCredentials:z})}}var $t=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}($t||{});class Xt{constructor(l,c=200,y="OK"){this.headers=l.headers||new St,this.status=void 0!==l.status?l.status:c,this.statusText=l.statusText||y,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class dt extends Xt{constructor(l={}){super(l),this.type=$t.ResponseHeader}clone(l={}){return new dt({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Ne extends Xt{constructor(l={}){super(l),this.type=$t.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new Ne({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Ze extends Xt{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function en(p,l){return{body:l,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Ue=(()=>{class p{constructor(c){this.handler=c}request(c,y,I={}){let V;if(c instanceof Ot)V=c;else{let ve,ze;ve=I.headers instanceof St?I.headers:new St(I.headers),I.params&&(ze=I.params instanceof We?I.params:new We({fromObject:I.params})),V=new Ot(c,y,void 0!==I.body?I.body:null,{headers:ve,context:I.context,params:ze,reportProgress:I.reportProgress,responseType:I.responseType||"json",withCredentials:I.withCredentials})}const z=(0,Te.of)(V).pipe((0,Me.H)(ve=>this.handler.handle(ve)));if(c instanceof Ot||"events"===I.observe)return z;const se=z.pipe((0,Fe.p)(ve=>ve instanceof Ne));switch(I.observe||"body"){case"body":switch(V.responseType){case"arraybuffer":return se.pipe((0,Ve.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ve.body}));case"blob":return se.pipe((0,Ve.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof Blob))throw new Error("Response is not a Blob.");return ve.body}));case"text":return se.pipe((0,Ve.T)(ve=>{if(null!==ve.body&&"string"!=typeof ve.body)throw new Error("Response is not a string.");return ve.body}));default:return se.pipe((0,Ve.T)(ve=>ve.body))}case"response":return se;default:throw new Error(`Unreachable: unhandled observe type ${I.observe}}`)}}delete(c,y={}){return this.request("DELETE",c,y)}get(c,y={}){return this.request("GET",c,y)}head(c,y={}){return this.request("HEAD",c,y)}jsonp(c,y){return this.request("JSONP",c,{params:(new We).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(c,y={}){return this.request("OPTIONS",c,y)}patch(c,y,I={}){return this.request("PATCH",c,en(I,y))}post(c,y,I={}){return this.request("POST",c,en(I,y))}put(c,y,I={}){return this.request("PUT",c,en(I,y))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(ut))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function or(p,l){return l(p)}function sn(p,l){return(c,y)=>l.intercept(c,{handle:I=>p(I,y)})}const Qt=new i.nKC(""),Gn=new i.nKC(""),Fn=new i.nKC("");function Kt(){let p=null;return(l,c)=>{null===p&&(p=((0,i.WQX)(Qt,{optional:!0})??[]).reduceRight(sn,or));const y=(0,i.WQX)(i.$K3),I=y.add();return p(l,c).pipe((0,ee.j)(()=>y.remove(I)))}}let jt=(()=>{class p extends ut{constructor(c,y){super(),this.backend=c,this.injector=y,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(c){if(null===this.chain){const I=Array.from(new Set([...this.injector.get(Gn),...this.injector.get(Fn,[])]));this.chain=I.reduceRight((V,z)=>function Bn(p,l,c){return(y,I)=>c.runInContext(()=>l(y,V=>p(V,I)))}(V,z,this.injector),or)}const y=this.pendingTasks.add();return this.chain(c,I=>this.backend.handle(I)).pipe((0,ee.j)(()=>this.pendingTasks.remove(y)))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Qe),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const Xn=/^\)\]\}',?\n/;let Ts=(()=>{class p{constructor(c){this.xhrFactory=c}handle(c){if("JSONP"===c.method)throw new i.wOt(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,pe.H)(y.\u0275loadImpl()):(0,Te.of)(null)).pipe((0,ue.n)(()=>new Ae.c(V=>{const z=y.build();if(z.open(c.method,c.urlWithParams),c.withCredentials&&(z.withCredentials=!0),c.headers.forEach((zt,Rn)=>z.setRequestHeader(zt,Rn.join(","))),c.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!c.headers.has("Content-Type")){const zt=c.detectContentTypeHeader();null!==zt&&z.setRequestHeader("Content-Type",zt)}if(c.responseType){const zt=c.responseType.toLowerCase();z.responseType="json"!==zt?zt:"text"}const se=c.serializeBody();let ve=null;const ze=()=>{if(null!==ve)return ve;const zt=z.statusText||"OK",Rn=new St(z.getAllResponseHeaders()),br=function yi(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||c.url;return ve=new dt({headers:Rn,status:z.status,statusText:zt,url:br}),ve},pt=()=>{let{headers:zt,status:Rn,statusText:br,url:Kr}=ze(),Ir=null;204!==Rn&&(Ir=typeof z.response>"u"?z.responseText:z.response),0===Rn&&(Rn=Ir?200:0);let sr=Rn>=200&&Rn<300;if("json"===c.responseType&&"string"==typeof Ir){const Ti=Ir;Ir=Ir.replace(Xn,"");try{Ir=""!==Ir?JSON.parse(Ir):null}catch(Zr){Ir=Ti,sr&&(sr=!1,Ir={error:Zr,text:Ir})}}sr?(V.next(new Ne({body:Ir,headers:zt,status:Rn,statusText:br,url:Kr||void 0})),V.complete()):V.error(new Ze({error:Ir,headers:zt,status:Rn,statusText:br,url:Kr||void 0}))},Ft=zt=>{const{url:Rn}=ze(),br=new Ze({error:zt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Rn||void 0});V.error(br)};let Cn=!1;const mn=zt=>{Cn||(V.next(ze()),Cn=!0);let Rn={type:$t.DownloadProgress,loaded:zt.loaded};zt.lengthComputable&&(Rn.total=zt.total),"text"===c.responseType&&z.responseText&&(Rn.partialText=z.responseText),V.next(Rn)},bn=zt=>{let Rn={type:$t.UploadProgress,loaded:zt.loaded};zt.lengthComputable&&(Rn.total=zt.total),V.next(Rn)};return z.addEventListener("load",pt),z.addEventListener("error",Ft),z.addEventListener("timeout",Ft),z.addEventListener("abort",Ft),c.reportProgress&&(z.addEventListener("progress",mn),null!==se&&z.upload&&z.upload.addEventListener("progress",bn)),z.send(se),V.next({type:$t.Sent}),()=>{z.removeEventListener("error",Ft),z.removeEventListener("abort",Ft),z.removeEventListener("load",pt),z.removeEventListener("timeout",Ft),c.reportProgress&&(z.removeEventListener("progress",mn),null!==se&&z.upload&&z.upload.removeEventListener("progress",bn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const gn=new i.nKC("XSRF_ENABLED"),rr=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Oi{}let et=(()=>{class p{constructor(c,y,I){this.doc=c,this.platform=y,this.cookieName=I,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const c=this.doc.cookie||"";return c!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_e._b)(c,this.cookieName),this.lastCookieString=c),this.lastToken}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(i.Agw),i.KVO(rr))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function mt(p,l){const c=p.url.toLowerCase();if(!(0,i.WQX)(gn)||"GET"===p.method||"HEAD"===p.method||c.startsWith("http://")||c.startsWith("https://"))return l(p);const y=(0,i.WQX)(Oi).getToken(),I=(0,i.WQX)(Kn);return null!=y&&!p.headers.has(I)&&(p=p.clone({headers:p.headers.set(I,y)})),l(p)}var xe=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(xe||{});function Et(p,l){return{\u0275kind:p,\u0275providers:l}}function Yt(...p){const l=[Ue,Ts,jt,{provide:ut,useExisting:jt},{provide:Qe,useExisting:Ts},{provide:Gn,useValue:mt,multi:!0},{provide:gn,useValue:!0},{provide:Oi,useClass:et}];for(const c of p)l.push(...c.\u0275providers);return(0,i.EmA)(l)}const Wr=new i.nKC("LEGACY_INTERCEPTOR_FN");let me=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[Yt(Et(xe.LegacyInterceptors,[{provide:Wr,useFactory:Kt},{provide:Gn,useExisting:Wr,multi:!0}]))]})}}return p})();var mr=j(6814),Ss=j(682),wi=j(8704),$i=j(6861),Ni=j(923),Ai=j(9437),ar=j(3349);function Ps(p,l){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const c=l.$implicit;i.R7$(1),i.FS9("alt",c.name),i.Y8G("src",c.photoURL,i.B4B),i.R7$(2),i.JRh(c.name),i.R7$(2),i.JRh(c.role),i.R7$(2),i.JRh(c.bio)}}function Ct(p,l){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tile",2),i.j41(2,"div",3),i.DNE(3,Ps,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,2,c.employees$))}}let nt=(()=>{class p{constructor(c,y){this.route=c,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Ve.T)(c=>c.get("id")||""),(0,ue.n)(c=>this.employeeService.getEmployeesByBusinessId(c)),(0,Ai.W)(c=>(console.error("Error fetching employees:",c),(0,Te.of)([]))))}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(mr.nX),i.rXU(wi.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,I){1&y&&i.DNE(0,Ct,5,4,"div",0),2&y&&i.Y8G("ngIf",I.employees$)},dependencies:[_e.Sq,_e.bT,ar.N,_e.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return p})();var Mt=j(4593),ln=j(491);let Ln=(()=>{class p{constructor(c,y){this.route=c,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(mr.nX),i.rXU(mr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&y&&(i.xc7("background-image",I.backgroundImage),i.R7$(3),i.JRh(I.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return p})(),Mn=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&y&&(i.R7$(2),i.FS9("src",I.imageURL,i.B4B),i.R7$(3),i.SpI('" ',I.text,'"'),i.R7$(2),i.SpI("\u2013 ",I.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();function hr(p,l){if(1&p&&(i.qex(0),i.j41(1,"button",3),i.EFF(2),i.k0s(),i.bVm()),2&p){const c=i.XpG();i.R7$(2),i.JRh(c.buttonText)}}function $r(p,l){if(1&p&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.buttonText)}}const Xr=function(p,l){return{"background-color":p,color:l}};let Tr=(()=>{class p{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,I){if(1&y&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2),i.k0s(),i.DNE(3,hr,3,1,"ng-container",1),i.DNE(4,$r,2,1,"ng-template",null,2,i.C5r),i.k0s()),2&y){const V=i.sdS(5);i.Y8G("ngStyle",i.l_i(4,Xr,I.bgColor,I.textColor)),i.R7$(2),i.JRh(I.text),i.R7$(1),i.Y8G("ngIf",I.isButton)("ngIfElse",V)}},dependencies:[_e.bT,_e.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return p})();function Yi(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Story"),i.k0s()(),i.nrm(13,"div",11),i.k0s(),i.j41(14,"section",12)(15,"div",13),i.nrm(16,"img",14),i.j41(17,"div",9)(18,"h2",10),i.EFF(19,"Our Mission"),i.k0s()(),i.nrm(20,"div",11),i.k0s(),i.j41(21,"div",15),i.nrm(22,"img",14),i.j41(23,"div",9)(24,"h2",10),i.EFF(25,"Our Vision"),i.k0s()(),i.nrm(26,"div",11),i.k0s()(),i.j41(27,"section",16),i.nrm(28,"app-meet-the-team",17),i.k0s()(),i.j41(29,"div",18)(30,"div",19)(31,"h2"),i.EFF(32,"Come Meet Our Family"),i.k0s(),i.j41(33,"p"),i.EFF(34," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),i.k0s(),i.j41(35,"button",20),i.bIt("click",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.navigateToContact())}),i.EFF(36," Schedule a Visit "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(13),i.Y8G("innerHTML",c.business.businessStory,i.npT),i.R7$(3),i.Y8G("src",c.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",c.business.mission,i.npT),i.R7$(2),i.Y8G("src",c.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",c.business.vision,i.npT),i.R7$(2),i.Y8G("businessId",c.business.id)}}function ws(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission)}}function Xi(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=i.XpG(3);i.Y8G("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision)}}function go(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",21)(3,"section",22),i.DNE(4,ws,1,3,"app-right-text",23),i.DNE(5,Xi,1,3,"app-left-text",23),i.k0s(),i.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(4),i.Y8G("ngIf","ae"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ae"===c.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function mo(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission)}}function Ui(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=i.XpG(3);i.Y8G("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision)}}function Co(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,mo,1,3,"app-right-text",23),i.DNE(4,Ui,1,3,"app-left-text",23),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf","ehc"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ehc"===c.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ii(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const c=i.XpG(3);i.Y8G("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission)}}function Qi(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const c=i.XpG(3);i.Y8G("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision)}}function os(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,ii,1,3,"app-right-text",23),i.DNE(4,Qi,1,3,"app-left-text",23),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("ngIf","clemo"===c.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===c.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[0].name)("text",c.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function Qr(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.nrm(3,"app-right-text",26)(4,"app-left-text",26),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("imageURL",c.business.missionImageUrl)("title",c.business.missionTitle)("content",c.business.mission),i.R7$(1),i.Y8G("imageURL",c.business.visionImageUrl)("title",c.business.visionTitle)("content",c.business.vision),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",c.business.testimonials[5].name)("text",c.business.testimonials[5].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function ji(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Yi,37,6,"ng-container",2),i.DNE(3,go,9,10,"ng-container",2),i.DNE(4,Co,8,10,"ng-container",2),i.DNE(5,os,8,10,"ng-container",2),i.DNE(6,Qr,7,14,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let Mi=(()=>{class p{constructor(c,y,I,V,z){this.webContent=c,this.route=y,this.router=I,this.metaService=V,this.businessDataService=z,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(wi.N),i.rXU(mr.nX),i.rXU(mr.Ix),i.rXU($i.R),i.rXU(Ni.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(y,I){1&y&&i.DNE(0,ji,7,5,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,nt,Mt.F,ln.G,Ln,Mn,Tr],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return p})();function wr(p,l){if(1&p&&(i.j41(0,"div",4),i.nrm(1,"i",5),i.j41(2,"h2"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&p){const c=l.$implicit;i.R7$(1),i.Y8G("ngClass",c.icon),i.R7$(2),i.JRh(c.title),i.R7$(2),i.JRh(c.description)}}let Js=(()=>{class p{constructor(){this.layoutType="demo"}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:4,vars:2,consts:[[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(y,I){1&y&&(i.j41(0,"section",0),i.nrm(1,"app-section-tile",1),i.j41(2,"div",2),i.DNE(3,wr,6,3,"div",3),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",I.services))},dependencies:[_e.YU,_e.Sq,ar.N],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();function _o(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const c=l.$implicit;i.R7$(2),i.JRh(c.name)}}function ai(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const c=l.$implicit;i.R7$(2),i.JRh(c.name)}}function aa(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Services"),i.k0s()(),i.j41(13,"ul"),i.DNE(14,_o,3,1,"li",11),i.k0s()(),i.j41(15,"section",8)(16,"div",9)(17,"h2",10),i.EFF(18,"Our Benefits"),i.k0s()(),i.j41(19,"ul"),i.DNE(20,ai,3,1,"li",11),i.k0s()(),i.j41(21,"section",12)(22,"div",9)(23,"h2",10),i.EFF(24,"Special Programs"),i.k0s()(),i.j41(25,"h3"),i.EFF(26),i.k0s()(),i.j41(27,"section",13)(28,"div",14),i.nrm(29,"img",15),i.j41(30,"div",9)(31,"h2",10),i.EFF(32,"Tours"),i.k0s()(),i.nrm(33,"div",16),i.k0s(),i.j41(34,"div",17),i.nrm(35,"img",18),i.j41(36,"div",9)(37,"h2",10),i.EFF(38,"Free Consulting"),i.k0s()(),i.nrm(39,"div",16),i.k0s()()(),i.j41(40,"div",19)(41,"div",20)(42,"h2"),i.EFF(43,"Ready to Experience Exceptional Care?"),i.k0s(),i.j41(44,"p"),i.EFF(45," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),i.k0s(),i.j41(46,"button",21),i.bIt("click",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.navigateToContact())}),i.EFF(47," Book a Consultation "),i.k0s()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(14),i.Y8G("ngForOf",c.business.services),i.R7$(6),i.Y8G("ngForOf",c.business.benefits),i.R7$(6),i.JRh(c.business.specialPrograms),i.R7$(7),i.Y8G("innerHTML",c.business.tours,i.npT),i.R7$(6),i.Y8G("innerHTML",c.business.freeConsulting,i.npT)}}const Di=function(){return{icon:"fas fa-dove",title:"Hospice care",description:"Compassionate, personalized end-of-life support, focusing on comfort, pain management, and emotional well-being for both the patient and their family in a peaceful, home-like environment"}},ms=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Rt=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},ot=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},kn=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},ci=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},ei=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},cs=function(p,l,c,y,I,V,z){return[p,l,c,y,I,V,z]};function yo(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.sGs(17,cs,i.lJ4(10,Di),i.lJ4(11,ms),i.lJ4(12,Rt),i.lJ4(13,ot),i.lJ4(14,kn),i.lJ4(15,ci),i.lJ4(16,ei))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}const es=function(p,l,c,y,I,V){return[p,l,c,y,I,V]};function xs(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.l4e(16,es,i.lJ4(10,ms),i.lJ4(11,Rt),i.lJ4(12,ot),i.lJ4(13,kn),i.lJ4(14,ci),i.lJ4(15,ei))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function $s(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.sGs(17,cs,i.lJ4(10,Di),i.lJ4(11,ms),i.lJ4(12,Rt),i.lJ4(13,ot),i.lJ4(14,kn),i.lJ4(15,ci),i.lJ4(16,ei))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[1].name)("text",c.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function hi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(3),i.Y8G("layoutType",c.business.theme.themeType)("services",i.l4e(16,es,i.lJ4(10,ms),i.lJ4(11,Rt),i.lJ4(12,ot),i.lJ4(13,kn),i.lJ4(14,ci),i.lJ4(15,ei))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[6].name)("text",c.business.testimonials[6].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",c.business.theme.backgroundColor)("textColor",c.business.theme.textColor)}}function _n(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,aa,48,5,"ng-container",2),i.DNE(3,yo,6,25,"ng-container",2),i.DNE(4,xs,6,23,"ng-container",2),i.DNE(5,$s,6,25,"ng-container",2),i.DNE(6,hi,6,23,"ng-container",3),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let lr=(()=>{class p{constructor(c,y,I){this.router=c,this.businessDataService=y,this.metaService=I,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.businessId=c?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(mr.Ix),i.rXU(Ni.A),i.rXU($i.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,I){1&y&&i.DNE(0,_n,7,5,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.Sq,_e.bT,_e.ux,_e.e1,_e.fG,Js,Ln,Mn,Tr],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return p})();var zn="top",fi="bottom",vi="right",Hr="left",Ms="auto",Gr=[zn,fi,vi,Hr],Bi="start",ts="end",tr="clippingParents",ls="viewport",us="popper",Z="reference",Q=Gr.reduce(function(p,l){return p.concat([l+"-"+Bi,l+"-"+ts])},[]),Ie=[].concat(Gr,[Ms]).reduce(function(p,l){return p.concat([l,l+"-"+Bi,l+"-"+ts])},[]),Re="beforeRead",Ye="read",_t="afterRead",Jt="beforeMain",Pn="main",En="afterMain",Zn="beforeWrite",xr="write",Un="afterWrite",jn=[Re,Ye,_t,Jt,Pn,En,Zn,xr,Un];function qn(p){return p?(p.nodeName||"").toLowerCase():null}function Mr(p){if(null==p)return window;if("[object Window]"!==p.toString()){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function Ur(p){return p instanceof Mr(p).Element||p instanceof Element}function zr(p){return p instanceof Mr(p).HTMLElement||p instanceof HTMLElement}function Wi(p){return!(typeof ShadowRoot>"u")&&(p instanceof Mr(p).ShadowRoot||p instanceof ShadowRoot)}const Fi={name:"applyStyles",enabled:!0,phase:"write",fn:function ki(p){var l=p.state;Object.keys(l.elements).forEach(function(c){var y=l.styles[c]||{},I=l.attributes[c]||{},V=l.elements[c];!zr(V)||!qn(V)||(Object.assign(V.style,y),Object.keys(I).forEach(function(z){var se=I[z];!1===se?V.removeAttribute(z):V.setAttribute(z,!0===se?"":se)}))})},effect:function Nr(p){var l=p.state,c={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,c.popper),l.styles=c,l.elements.arrow&&Object.assign(l.elements.arrow.style,c.arrow),function(){Object.keys(l.elements).forEach(function(y){var I=l.elements[y],V=l.attributes[y]||{},se=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:c[y]).reduce(function(ve,ze){return ve[ze]="",ve},{});!zr(I)||!qn(I)||(Object.assign(I.style,se),Object.keys(V).forEach(function(ve){I.removeAttribute(ve)}))})}},requires:["computeStyles"]};function ti(p){return p.split("-")[0]}var kr=Math.max,vo=Math.min,Hi=Math.round;function Hs(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function so(){return!/^((?!chrome|android).)*safari/i.test(Hs())}function oo(p,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var y=p.getBoundingClientRect(),I=1,V=1;l&&zr(p)&&(I=p.offsetWidth>0&&Hi(y.width)/p.offsetWidth||1,V=p.offsetHeight>0&&Hi(y.height)/p.offsetHeight||1);var se=(Ur(p)?Mr(p):window).visualViewport,ve=!so()&&c,ze=(y.left+(ve&&se?se.offsetLeft:0))/I,pt=(y.top+(ve&&se?se.offsetTop:0))/V,Ft=y.width/I,Cn=y.height/V;return{width:Ft,height:Cn,top:pt,right:ze+Ft,bottom:pt+Cn,left:ze,x:ze,y:pt}}function Sa(p){var l=oo(p),c=p.offsetWidth,y=p.offsetHeight;return Math.abs(l.width-c)<=1&&(c=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:p.offsetLeft,y:p.offsetTop,width:c,height:y}}function ca(p,l){var c=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(c&&Wi(c)){var y=l;do{if(y&&p.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function No(p){return Mr(p).getComputedStyle(p)}function Gs(p){return["table","td","th"].indexOf(qn(p))>=0}function Ki(p){return((Ur(p)?p.ownerDocument:p.document)||window.document).documentElement}function ao(p){return"html"===qn(p)?p:p.assignedSlot||p.parentNode||(Wi(p)?p.host:null)||Ki(p)}function Ua(p){return zr(p)&&"fixed"!==No(p).position?p.offsetParent:null}function pi(p){for(var l=Mr(p),c=Ua(p);c&&Gs(c)&&"static"===No(c).position;)c=Ua(c);return c&&("html"===qn(c)||"body"===qn(c)&&"static"===No(c).position)?l:c||function ja(p){var l=/firefox/i.test(Hs());if(/Trident/i.test(Hs())&&zr(p)&&"fixed"===No(p).position)return null;var I=ao(p);for(Wi(I)&&(I=I.host);zr(I)&&["html","body"].indexOf(qn(I))<0;){var V=No(I);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||l&&"filter"===V.willChange||l&&V.filter&&"none"!==V.filter)return I;I=I.parentNode}return null}(p)||l}function Wo(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function co(p,l,c){return kr(p,vo(l,c))}function L(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function ae(p,l){return l.reduce(function(c,y){return c[y]=p,c},{})}const _s={name:"arrow",enabled:!0,phase:"main",fn:function yn(p){var l,c=p.state,y=p.name,I=p.options,V=c.elements.arrow,z=c.modifiersData.popperOffsets,se=ti(c.placement),ve=Wo(se),pt=[Hr,vi].indexOf(se)>=0?"height":"width";if(V&&z){var Ft=function(l,c){return L("number"!=typeof(l="function"==typeof l?l(Object.assign({},c.rects,{placement:c.placement})):l)?l:ae(l,Gr))}(I.padding,c),Cn=Sa(V),mn="y"===ve?zn:Hr,bn="y"===ve?fi:vi,zt=c.rects.reference[pt]+c.rects.reference[ve]-z[ve]-c.rects.popper[pt],Rn=z[ve]-c.rects.reference[ve],br=pi(V),Kr=br?"y"===ve?br.clientHeight||0:br.clientWidth||0:0,Zr=Kr/2-Cn[pt]/2+(zt/2-Rn/2),_i=co(Ft[mn],Zr,Kr-Cn[pt]-Ft[bn]);c.modifiersData[y]=((l={})[ve]=_i,l.centerOffset=_i-Zr,l)}},effect:function ur(p){var l=p.state,y=p.options.element,I=void 0===y?"[data-popper-arrow]":y;null!=I&&("string"==typeof I&&!(I=l.elements.popper.querySelector(I))||ca(l.elements.popper,I)&&(l.elements.arrow=I))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ys(p){return p.split("-")[1]}var vs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zs(p){var l,c=p.popper,y=p.popperRect,I=p.placement,V=p.variation,z=p.offsets,se=p.position,ve=p.gpuAcceleration,ze=p.adaptive,pt=p.roundOffsets,Ft=p.isFixed,Cn=z.x,mn=void 0===Cn?0:Cn,bn=z.y,zt=void 0===bn?0:bn,Rn="function"==typeof pt?pt({x:mn,y:zt}):{x:mn,y:zt};mn=Rn.x,zt=Rn.y;var br=z.hasOwnProperty("x"),Kr=z.hasOwnProperty("y"),Ir=Hr,sr=zn,Ti=window;if(ze){var Zr=pi(c),_i="clientHeight",ps="clientWidth";Zr===Mr(c)&&"static"!==No(Zr=Ki(c)).position&&"absolute"===se&&(_i="scrollHeight",ps="scrollWidth"),(I===zn||(I===Hr||I===vi)&&V===ts)&&(sr=fi,zt-=(Ft&&Zr===Ti&&Ti.visualViewport?Ti.visualViewport.height:Zr[_i])-y.height,zt*=ve?1:-1),I!==Hr&&(I!==zn&&I!==fi||V!==ts)||(Ir=vi,mn-=(Ft&&Zr===Ti&&Ti.visualViewport?Ti.visualViewport.width:Zr[ps])-y.width,mn*=ve?1:-1)}var Qs,Xs=Object.assign({position:se},ze&&vs),sa=!0===pt?function Io(p,l){var y=p.y,I=l.devicePixelRatio||1;return{x:Hi(p.x*I)/I||0,y:Hi(y*I)/I||0}}({x:mn,y:zt},Mr(c)):{x:mn,y:zt};return mn=sa.x,zt=sa.y,Object.assign({},Xs,ve?((Qs={})[sr]=Kr?"0":"",Qs[Ir]=br?"0":"",Qs.transform=(Ti.devicePixelRatio||1)<=1?"translate("+mn+"px, "+zt+"px)":"translate3d("+mn+"px, "+zt+"px, 0)",Qs):((l={})[sr]=Kr?zt+"px":"",l[Ir]=br?mn+"px":"",l.transform="",l))}const To={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Es(p){var l=p.state,c=p.options,y=c.gpuAcceleration,I=void 0===y||y,V=c.adaptive,z=void 0===V||V,se=c.roundOffsets,ve=void 0===se||se,ze={placement:ti(l.placement),variation:ys(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:I,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,Zs(Object.assign({},ze,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:z,roundOffsets:ve})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,Zs(Object.assign({},ze,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ve})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var ac={passive:!0};const Ko={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Rs(p){var l=p.state,c=p.instance,y=p.options,I=y.scroll,V=void 0===I||I,z=y.resize,se=void 0===z||z,ve=Mr(l.elements.popper),ze=[].concat(l.scrollParents.reference,l.scrollParents.popper);return V&&ze.forEach(function(pt){pt.addEventListener("scroll",c.update,ac)}),se&&ve.addEventListener("resize",c.update,ac),function(){V&&ze.forEach(function(pt){pt.removeEventListener("scroll",c.update,ac)}),se&&ve.removeEventListener("resize",c.update,ac)}},data:{}};var ns={left:"right",right:"left",bottom:"top",top:"bottom"};function Ba(p){return p.replace(/left|right|bottom|top/g,function(l){return ns[l]})}var bs={start:"end",end:"start"};function $a(p){return p.replace(/start|end/g,function(l){return bs[l]})}function eo(p){var l=Mr(p);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function qo(p){return oo(Ki(p)).left+eo(p).scrollLeft}function la(p){var l=No(p);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Rc(p){return["html","body","#document"].indexOf(qn(p))>=0?p.ownerDocument.body:zr(p)&&la(p)?p:Rc(ao(p))}function cc(p,l){var c;void 0===l&&(l=[]);var y=Rc(p),I=y===(null==(c=p.ownerDocument)?void 0:c.body),V=Mr(y),z=I?[V].concat(V.visualViewport||[],la(y)?y:[]):y,se=l.concat(z);return I?se:se.concat(cc(ao(z)))}function _r(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function Eo(p,l,c){return l===ls?_r(function Os(p,l){var c=Mr(p),y=Ki(p),I=c.visualViewport,V=y.clientWidth,z=y.clientHeight,se=0,ve=0;if(I){V=I.width,z=I.height;var ze=so();(ze||!ze&&"fixed"===l)&&(se=I.offsetLeft,ve=I.offsetTop)}return{width:V,height:z,x:se+qo(p),y:ve}}(p,c)):Ur(l)?function dl(p,l){var c=oo(p,!1,"fixed"===l);return c.top=c.top+p.clientTop,c.left=c.left+p.clientLeft,c.bottom=c.top+p.clientHeight,c.right=c.left+p.clientWidth,c.width=p.clientWidth,c.height=p.clientHeight,c.x=c.left,c.y=c.top,c}(l,c):_r(function Ha(p){var l,c=Ki(p),y=eo(p),I=null==(l=p.ownerDocument)?void 0:l.body,V=kr(c.scrollWidth,c.clientWidth,I?I.scrollWidth:0,I?I.clientWidth:0),z=kr(c.scrollHeight,c.clientHeight,I?I.scrollHeight:0,I?I.clientHeight:0),se=-y.scrollLeft+qo(p),ve=-y.scrollTop;return"rtl"===No(I||c).direction&&(se+=kr(c.clientWidth,I?I.clientWidth:0)-V),{width:V,height:z,x:se,y:ve}}(Ki(p)))}function ql(p){var ve,l=p.reference,c=p.element,y=p.placement,I=y?ti(y):null,V=y?ys(y):null,z=l.x+l.width/2-c.width/2,se=l.y+l.height/2-c.height/2;switch(I){case zn:ve={x:z,y:l.y-c.height};break;case fi:ve={x:z,y:l.y+l.height};break;case vi:ve={x:l.x+l.width,y:se};break;case Hr:ve={x:l.x-c.width,y:se};break;default:ve={x:l.x,y:l.y}}var ze=I?Wo(I):null;if(null!=ze){var pt="y"===ze?"height":"width";switch(V){case Bi:ve[ze]=ve[ze]-(l[pt]/2-c[pt]/2);break;case ts:ve[ze]=ve[ze]+(l[pt]/2-c[pt]/2)}}return ve}function Xo(p,l){void 0===l&&(l={});var y=l.placement,I=void 0===y?p.placement:y,V=l.strategy,z=void 0===V?p.strategy:V,se=l.boundary,ve=void 0===se?tr:se,ze=l.rootBoundary,pt=void 0===ze?ls:ze,Ft=l.elementContext,Cn=void 0===Ft?us:Ft,mn=l.altBoundary,bn=void 0!==mn&&mn,zt=l.padding,Rn=void 0===zt?0:zt,br=L("number"!=typeof Rn?Rn:ae(Rn,Gr)),Ir=p.rects.popper,sr=p.elements[bn?Cn===us?Z:us:Cn],Ti=function lc(p,l,c,y){var I="clippingParents"===l?function Yo(p){var l=cc(ao(p)),y=["absolute","fixed"].indexOf(No(p).position)>=0&&zr(p)?pi(p):p;return Ur(y)?l.filter(function(I){return Ur(I)&&ca(I,y)&&"body"!==qn(I)}):[]}(p):[].concat(l),V=[].concat(I,[c]),se=V.reduce(function(ve,ze){var pt=Eo(p,ze,y);return ve.top=kr(pt.top,ve.top),ve.right=vo(pt.right,ve.right),ve.bottom=vo(pt.bottom,ve.bottom),ve.left=kr(pt.left,ve.left),ve},Eo(p,V[0],y));return se.width=se.right-se.left,se.height=se.bottom-se.top,se.x=se.left,se.y=se.top,se}(Ur(sr)?sr:sr.contextElement||Ki(p.elements.popper),ve,pt,z),Zr=oo(p.elements.reference),_i=ql({reference:Zr,element:Ir,strategy:"absolute",placement:I}),ps=_r(Object.assign({},Ir,_i)),gs=Cn===us?ps:Zr,ss={top:Ti.top-gs.top+br.top,bottom:gs.bottom-Ti.bottom+br.bottom,left:Ti.left-gs.left+br.left,right:gs.right-Ti.right+br.right},Xs=p.modifiersData.offset;if(Cn===us&&Xs){var sa=Xs[I];Object.keys(ss).forEach(function(Qs){var Ru=[vi,fi].indexOf(Qs)>=0?1:-1,Pc=[zn,fi].indexOf(Qs)>=0?"y":"x";ss[Qs]+=sa[Pc]*Ru})}return ss}const dc={name:"flip",enabled:!0,phase:"main",fn:function Ou(p){var l=p.state,c=p.options,y=p.name;if(!l.modifiersData[y]._skip){for(var I=c.mainAxis,V=void 0===I||I,z=c.altAxis,se=void 0===z||z,ve=c.fallbackPlacements,ze=c.padding,pt=c.boundary,Ft=c.rootBoundary,Cn=c.altBoundary,mn=c.flipVariations,bn=void 0===mn||mn,zt=c.allowedAutoPlacements,Rn=l.options.placement,br=ti(Rn),Ir=ve||(br!==Rn&&bn?function uc(p){if(ti(p)===Ms)return[];var l=Ba(p);return[$a(p),l,$a(l)]}(Rn):[Ba(Rn)]),sr=[Rn].concat(Ir).reduce(function(Zi,cl){return Zi.concat(ti(cl)===Ms?function Lh(p,l){void 0===l&&(l={});var I=l.boundary,V=l.rootBoundary,z=l.padding,se=l.flipVariations,ve=l.allowedAutoPlacements,ze=void 0===ve?Ie:ve,pt=ys(l.placement),Ft=pt?se?Q:Q.filter(function(bn){return ys(bn)===pt}):Gr,Cn=Ft.filter(function(bn){return ze.indexOf(bn)>=0});0===Cn.length&&(Cn=Ft);var mn=Cn.reduce(function(bn,zt){return bn[zt]=Xo(p,{placement:zt,boundary:I,rootBoundary:V,padding:z})[ti(zt)],bn},{});return Object.keys(mn).sort(function(bn,zt){return mn[bn]-mn[zt]})}(l,{placement:cl,boundary:pt,rootBoundary:Ft,padding:ze,flipVariations:bn,allowedAutoPlacements:zt}):cl)},[]),Ti=l.rects.reference,Zr=l.rects.popper,_i=new Map,ps=!0,gs=sr[0],ss=0;ss<sr.length;ss++){var Xs=sr[ss],sa=ti(Xs),Qs=ys(Xs)===Bi,Ru=[zn,fi].indexOf(sa)>=0,Pc=Ru?"width":"height",Nn=Xo(l,{placement:Xs,boundary:pt,rootBoundary:Ft,altBoundary:Cn,padding:ze}),Qn=Ru?Qs?vi:Hr:Qs?fi:zn;Ti[Pc]>Zr[Pc]&&(Qn=Ba(Qn));var yr=Ba(Qn),di=[];if(V&&di.push(Nn[sa]<=0),se&&di.push(Nn[Qn]<=0,Nn[yr]<=0),di.every(function(Zi){return Zi})){gs=Xs,ps=!1;break}_i.set(Xs,di)}if(ps)for(var Go=function(cl){var kh=sr.find(function(io){var La=_i.get(io);if(La)return La.slice(0,cl).every(function(oa){return oa})});if(kh)return gs=kh,"break"},Oo=bn?3:1;Oo>0&&"break"!==Go(Oo);Oo--);l.placement!==gs&&(l.modifiersData[y]._skip=!0,l.placement=gs,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ko(p,l,c){return void 0===c&&(c={x:0,y:0}),{top:p.top-l.height-c.y,right:p.right-l.width+c.x,bottom:p.bottom-l.height+c.y,left:p.left-l.width-c.x}}function Oc(p){return[zn,vi,fi,Hr].some(function(l){return p[l]>=0})}const za={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ga(p){var l=p.state,c=p.name,y=l.rects.reference,I=l.rects.popper,V=l.modifiersData.preventOverflow,z=Xo(l,{elementContext:"reference"}),se=Xo(l,{altBoundary:!0}),ve=ko(z,y),ze=ko(se,I,V),pt=Oc(ve),Ft=Oc(ze);l.modifiersData[c]={referenceClippingOffsets:ve,popperEscapeOffsets:ze,isReferenceHidden:pt,hasPopperEscaped:Ft},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":pt,"data-popper-escaped":Ft})}},hl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function fc(p){var l=p.state,y=p.name,I=p.options.offset,V=void 0===I?[0,0]:I,z=Ie.reduce(function(pt,Ft){return pt[Ft]=function hc(p,l,c){var y=ti(p),I=[Hr,zn].indexOf(y)>=0?-1:1,V="function"==typeof c?c(Object.assign({},l,{placement:p})):c,z=V[0],se=V[1];return z=z||0,se=(se||0)*I,[Hr,vi].indexOf(y)>=0?{x:se,y:z}:{x:z,y:se}}(Ft,l.rects,V),pt},{}),se=z[l.placement],ze=se.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=se.x,l.modifiersData.popperOffsets.y+=ze),l.modifiersData[y]=z}},te={name:"popperOffsets",enabled:!0,phase:"read",fn:function x(p){var l=p.state;l.modifiersData[p.name]=ql({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},Se={name:"preventOverflow",enabled:!0,phase:"main",fn:function Y(p){var l=p.state,c=p.options,y=p.name,I=c.mainAxis,V=void 0===I||I,z=c.altAxis,se=void 0!==z&&z,Cn=c.tether,mn=void 0===Cn||Cn,bn=c.tetherOffset,zt=void 0===bn?0:bn,Rn=Xo(l,{boundary:c.boundary,rootBoundary:c.rootBoundary,padding:c.padding,altBoundary:c.altBoundary}),br=ti(l.placement),Kr=ys(l.placement),Ir=!Kr,sr=Wo(br),Ti=function B(p){return"x"===p?"y":"x"}(sr),Zr=l.modifiersData.popperOffsets,_i=l.rects.reference,ps=l.rects.popper,gs="function"==typeof zt?zt(Object.assign({},l.rects,{placement:l.placement})):zt,ss="number"==typeof gs?{mainAxis:gs,altAxis:gs}:Object.assign({mainAxis:0,altAxis:0},gs),Xs=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,sa={x:0,y:0};if(Zr){if(V){var Qs,Ru="y"===sr?zn:Hr,Pc="y"===sr?fi:vi,Nn="y"===sr?"height":"width",Qn=Zr[sr],yr=Qn+Rn[Ru],di=Qn-Rn[Pc],Cs=mn?-ps[Nn]/2:0,Go=Kr===Bi?_i[Nn]:ps[Nn],Oo=Kr===Bi?-ps[Nn]:-_i[Nn],xc=l.elements.arrow,Zi=mn&&xc?Sa(xc):{width:0,height:0},cl=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},kh=cl[Ru],io=cl[Pc],La=co(0,_i[Nn],Zi[Nn]),oa=Ir?_i[Nn]/2-Cs-La-kh-ss.mainAxis:Go-La-kh-ss.mainAxis,wg=Ir?-_i[Nn]/2+Cs+La+io+ss.mainAxis:Oo+La+io+ss.mainAxis,np=l.elements.arrow&&pi(l.elements.arrow),rC=np?"y"===sr?np.clientTop||0:np.clientLeft||0:0,db=null!=(Qs=Xs?.[sr])?Qs:0,sC=Qn+wg-db,Zv=co(mn?vo(yr,Qn+oa-db-rC):yr,Qn,mn?kr(di,sC):di);Zr[sr]=Zv,sa[sr]=Zv-Qn}if(se){var t_,Fh=Zr[Ti],Vh="y"===Ti?"height":"width",mE=Fh+Rn["x"===sr?zn:Hr],_E=Fh-Rn["x"===sr?fi:vi],e0=-1!==[zn,Hr].indexOf(br),yE=null!=(t_=Xs?.[Ti])?t_:0,pb=e0?mE:Fh-_i[Vh]-ps[Vh]-yE+ss.altAxis,vE=e0?Fh+_i[Vh]+ps[Vh]-yE-ss.altAxis:_E,t0=mn&&e0?function W(p,l,c){var y=co(p,l,c);return y>c?c:y}(pb,Fh,vE):co(mn?pb:mE,Fh,mn?vE:_E);Zr[Ti]=t0,sa[Ti]=t0-Fh}l.modifiersData[y]=sa}},requiresIfExists:["offset"]};function ni(p,l,c){void 0===c&&(c=!1);var y=zr(l),I=zr(l)&&function $n(p){var l=p.getBoundingClientRect(),c=Hi(l.width)/p.offsetWidth||1,y=Hi(l.height)/p.offsetHeight||1;return 1!==c||1!==y}(l),V=Ki(l),z=oo(p,I,c),se={scrollLeft:0,scrollTop:0},ve={x:0,y:0};return(y||!y&&!c)&&(("body"!==qn(l)||la(V))&&(se=function Lt(p){return p!==Mr(p)&&zr(p)?function Tt(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):eo(p)}(l)),zr(l)?((ve=oo(l,!0)).x+=l.clientLeft,ve.y+=l.clientTop):V&&(ve.x=qo(V))),{x:z.left+se.scrollLeft-ve.x,y:z.top+se.scrollTop-ve.y,width:z.width,height:z.height}}function Ei(p){var l=new Map,c=new Set,y=[];function I(V){c.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(se){if(!c.has(se)){var ve=l.get(se);ve&&I(ve)}}),y.push(V)}return p.forEach(function(V){l.set(V.name,V)}),p.forEach(function(V){c.has(V.name)||I(V)}),y}function Er(p){var l;return function(){return l||(l=new Promise(function(c){Promise.resolve().then(function(){l=void 0,c(p())})})),l}}var xi={placement:"bottom",modifiers:[],strategy:"absolute"};function Ri(){for(var p=arguments.length,l=new Array(p),c=0;c<p;c++)l[c]=arguments[c];return!l.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function zs(p){void 0===p&&(p={});var c=p.defaultModifiers,y=void 0===c?[]:c,I=p.defaultOptions,V=void 0===I?xi:I;return function(se,ve,ze){void 0===ze&&(ze=V);var pt={placement:"bottom",orderedModifiers:[],options:Object.assign({},xi,V),modifiersData:{},elements:{reference:se,popper:ve},attributes:{},styles:{}},Ft=[],Cn=!1,mn={state:pt,setOptions:function(br){var Kr="function"==typeof br?br(pt.options):br;zt(),pt.options=Object.assign({},V,pt.options,Kr),pt.scrollParents={reference:Ur(se)?cc(se):se.contextElement?cc(se.contextElement):[],popper:cc(ve)};var Ir=function li(p){var l=Ei(p);return jn.reduce(function(c,y){return c.concat(l.filter(function(I){return I.phase===y}))},[])}(function gi(p){var l=p.reduce(function(c,y){var I=c[y.name];return c[y.name]=I?Object.assign({},I,y,{options:Object.assign({},I.options,y.options),data:Object.assign({},I.data,y.data)}):y,c},{});return Object.keys(l).map(function(c){return l[c]})}([].concat(y,pt.options.modifiers)));return pt.orderedModifiers=Ir.filter(function(sr){return sr.enabled}),function bn(){pt.orderedModifiers.forEach(function(Rn){var Kr=Rn.options,sr=Rn.effect;if("function"==typeof sr){var Ti=sr({state:pt,name:Rn.name,instance:mn,options:void 0===Kr?{}:Kr});Ft.push(Ti||function(){})}})}(),mn.update()},forceUpdate:function(){if(!Cn){var br=pt.elements,Kr=br.reference,Ir=br.popper;if(Ri(Kr,Ir)){pt.rects={reference:ni(Kr,pi(Ir),"fixed"===pt.options.strategy),popper:Sa(Ir)},pt.reset=!1,pt.placement=pt.options.placement,pt.orderedModifiers.forEach(function(ss){return pt.modifiersData[ss.name]=Object.assign({},ss.data)});for(var sr=0;sr<pt.orderedModifiers.length;sr++)if(!0!==pt.reset){var Ti=pt.orderedModifiers[sr],Zr=Ti.fn,_i=Ti.options;"function"==typeof Zr&&(pt=Zr({state:pt,options:void 0===_i?{}:_i,name:Ti.name,instance:mn})||pt)}else pt.reset=!1,sr=-1}}},update:Er(function(){return new Promise(function(Rn){mn.forceUpdate(),Rn(pt)})}),destroy:function(){zt(),Cn=!0}};if(!Ri(se,ve))return mn;function zt(){Ft.forEach(function(Rn){return Rn()}),Ft=[]}return mn.setOptions(ze).then(function(Rn){!Cn&&ze.onFirstUpdate&&ze.onFirstUpdate(Rn)}),mn}}var Fs=zs(),Ns=zs({defaultModifiers:[Ko,te,To,Fi,hl,dc,Se,_s,za]}),As=zs({defaultModifiers:[Ko,te,To,Fi]});const ks=new Map,Nu={set(p,l,c){ks.has(p)||ks.set(p,new Map);const y=ks.get(p);y.has(l)||0===y.size?y.set(l,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(p,l)=>ks.has(p)&&ks.get(p).get(l)||null,remove(p,l){if(!ks.has(p))return;const c=ks.get(p);c.delete(l),0===c.size&&ks.delete(p)}},Wa="transitionend",to=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,c)=>`#${CSS.escape(c)}`)),p),Gi=p=>{p.dispatchEvent(new Event(Wa))},Pa=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),da=p=>Pa(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(to(p)):null,lo=p=>{if(!Pa(p)||0===p.getClientRects().length)return!1;const l="visible"===getComputedStyle(p).getPropertyValue("visibility"),c=p.closest("details:not([open])");if(!c)return l;if(c!==p){const y=p.closest("summary");if(y&&y.parentNode!==c||null===y)return!1}return l},qi=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),xa=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?xa(p.parentNode):null},Ka=()=>{},Fu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Yl=[],Yn=()=>"rtl"===document.documentElement.dir,uo=p=>{(p=>{"loading"===document.readyState?(Yl.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of Yl)l()}),Yl.push(p)):p()})(()=>{const l=Fu();if(l){const c=p.NAME,y=l.fn[c];l.fn[c]=p.jQueryInterface,l.fn[c].Constructor=p,l.fn[c].noConflict=()=>(l.fn[c]=y,p.jQueryInterface)}})},no=(p,l=[],c=p)=>"function"==typeof p?p(...l):c,ha=(p,l,c=!0)=>{if(!c)return void no(p);const I=(p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:c}=window.getComputedStyle(p);const y=Number.parseFloat(l),I=Number.parseFloat(c);return y||I?(l=l.split(",")[0],c=c.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(c))):0})(l)+5;let V=!1;const z=({target:se})=>{se===l&&(V=!0,l.removeEventListener(Wa,z),no(p))};l.addEventListener(Wa,z),setTimeout(()=>{V||Gi(l)},I)},kc=(p,l,c,y)=>{const I=p.length;let V=p.indexOf(l);return-1===V?!c&&y?p[I-1]:p[0]:(V+=c?1:-1,y&&(V=(V+I)%I),p[Math.max(0,Math.min(V,I-1))])},Uh=/[^.]*(?=\..*)\.|.*/,Lu=/\..*/,fa=/::\d+$/,Xl={};let Ql=1;const rs={mouseenter:"mouseover",mouseleave:"mouseout"},pl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Jl(p,l){return l&&`${l}::${Ql++}`||p.uidEvent||Ql++}function qt(p){const l=Jl(p);return p.uidEvent=l,Xl[l]=Xl[l]||{},Xl[l]}function ds(p,l,c=null){return Object.values(p).find(y=>y.callable===l&&y.delegationSelector===c)}function Vs(p,l,c){const y="string"==typeof l,I=y?c:l||c;let V=Vc(p);return pl.has(V)||(V=p),[y,I,V]}function Fc(p,l,c,y,I){if("string"!=typeof l||!p)return;let[V,z,se]=Vs(l,c,y);var bn;l in rs&&(bn=z,z=function(zt){if(!zt.relatedTarget||zt.relatedTarget!==zt.delegateTarget&&!zt.delegateTarget.contains(zt.relatedTarget))return bn.call(this,zt)});const ve=qt(p),ze=ve[se]||(ve[se]={}),pt=ds(ze,z,V?c:null);if(pt)return void(pt.oneOff=pt.oneOff&&I);const Ft=Jl(z,l.replace(Uh,"")),Cn=V?function Jo(p,l,c){return function y(I){const V=p.querySelectorAll(l);for(let{target:z}=I;z&&z!==this;z=z.parentNode)for(const se of V)if(se===z)return Zl(I,{delegateTarget:z}),y.oneOff&&tn.off(p,I.type,l,c),c.apply(z,[I])}}(p,c,z):function Fr(p,l){return function c(y){return Zl(y,{delegateTarget:p}),c.oneOff&&tn.off(p,y.type,l),l.apply(p,[y])}}(p,z);Cn.delegationSelector=V?c:null,Cn.callable=z,Cn.oneOff=I,Cn.uidEvent=Ft,ze[Ft]=Cn,p.addEventListener(se,Cn,V)}function qa(p,l,c,y,I){const V=ds(l[c],y,I);V&&(p.removeEventListener(c,V,!!I),delete l[c][V.uidEvent])}function Fo(p,l,c,y){const I=l[c]||{};for(const[V,z]of Object.entries(I))V.includes(y)&&qa(p,l,c,z.callable,z.delegationSelector)}function Vc(p){return p=p.replace(Lu,""),rs[p]||p}const tn={on(p,l,c,y){Fc(p,l,c,y,!1)},one(p,l,c,y){Fc(p,l,c,y,!0)},off(p,l,c,y){if("string"!=typeof l||!p)return;const[I,V,z]=Vs(l,c,y),se=z!==l,ve=qt(p),ze=ve[z]||{},pt=l.startsWith(".");if(typeof V<"u"){if(!Object.keys(ze).length)return;qa(p,ve,z,V,I?c:null)}else{if(pt)for(const Ft of Object.keys(ve))Fo(p,ve,Ft,l.slice(1));for(const[Ft,Cn]of Object.entries(ze)){const mn=Ft.replace(fa,"");(!se||l.includes(mn))&&qa(p,ve,z,Cn.callable,Cn.delegationSelector)}}},trigger(p,l,c){if("string"!=typeof l||!p)return null;const y=Fu();let z=null,se=!0,ve=!0,ze=!1;l!==Vc(l)&&y&&(z=y.Event(l,c),y(p).trigger(z),se=!z.isPropagationStopped(),ve=!z.isImmediatePropagationStopped(),ze=z.isDefaultPrevented());const pt=Zl(new Event(l,{bubbles:se,cancelable:!0}),c);return ze&&pt.preventDefault(),ve&&p.dispatchEvent(pt),pt.defaultPrevented&&z&&z.preventDefault(),pt}};function Zl(p,l={}){for(const[c,y]of Object.entries(l))try{p[c]=y}catch{Object.defineProperty(p,c,{configurable:!0,get:()=>y})}return p}function gl(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function Ma(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const Ji={setDataAttribute(p,l,c){p.setAttribute(`data-bs-${Ma(l)}`,c)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${Ma(l)}`)},getDataAttributes(p){if(!p)return{};const l={},c=Object.keys(p.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of c){let I=y.replace(/^bs/,"");I=I.charAt(0).toLowerCase()+I.slice(1,I.length),l[I]=gl(p.dataset[y])}return l},getDataAttribute:(p,l)=>gl(p.getAttribute(`data-bs-${Ma(l)}`))};class Ls{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,c){const y=Pa(c)?Ji.getDataAttribute(c,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...Pa(c)?Ji.getDataAttributes(c):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,c=this.constructor.DefaultType){for(const[y,I]of Object.entries(c)){const V=l[y],z=Pa(V)?"element":null==(p=V)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(I).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${z}" but expected type "${I}".`)}var p}}class Ws extends Ls{constructor(l,c){super(),(l=da(l))&&(this._element=l,this._config=this._getConfig(c),Nu.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Nu.remove(this._element,this.constructor.DATA_KEY),tn.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,c,y=!0){ha(l,c,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return Nu.get(da(l),this.DATA_KEY)}static getOrCreateInstance(l,c={}){return this.getInstance(l)||new this(l,"object"==typeof c?c:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const ho=p=>{let l=p.getAttribute("data-bs-target");if(!l||"#"===l){let c=p.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),l=c&&"#"!==c?c.trim():null}return l?l.split(",").map(c=>to(c)).join(","):null},ir={find:(p,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,p)),findOne:(p,l=document.documentElement)=>Element.prototype.querySelector.call(l,p),children:(p,l)=>[].concat(...p.children).filter(c=>c.matches(l)),parents(p,l){const c=[];let y=p.parentNode.closest(l);for(;y;)c.push(y),y=y.parentNode.closest(l);return c},prev(p,l){let c=p.previousElementSibling;for(;c;){if(c.matches(l))return[c];c=c.previousElementSibling}return[]},next(p,l){let c=p.nextElementSibling;for(;c;){if(c.matches(l))return[c];c=c.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(c=>!qi(c)&&lo(c))},getSelectorFromElement(p){const l=ho(p);return l&&ir.findOne(l)?l:null},getElementFromSelector(p){const l=ho(p);return l?ir.findOne(l):null},getMultipleElementsFromSelector(p){const l=ho(p);return l?ir.find(l):[]}},pc=(p,l="hide")=>{const y=p.NAME;tn.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(I){if(["A","AREA"].includes(this.tagName)&&I.preventDefault(),qi(this))return;const V=ir.getElementFromSelector(this)||this.closest(`.${y}`);p.getOrCreateInstance(V)[l]()})},eu=".bs.alert",Ra=`close${eu}`,Lc=`closed${eu}`;class w extends Ws{static get NAME(){return"alert"}close(){if(tn.trigger(this._element,Ra).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),tn.trigger(this._element,Lc),this.dispose()}static jQueryInterface(l){return this.each(function(){const c=w.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}pc(w,"close"),uo(w);const ft='[data-bs-toggle="button"]';class dr extends Ws{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const c=dr.getOrCreateInstance(this);"toggle"===l&&c[l]()})}}tn.on(document,"click.bs.button.data-api",ft,p=>{p.preventDefault();const l=p.target.closest(ft);dr.getOrCreateInstance(l).toggle()}),uo(dr);const Pr=".bs.swipe",bi=`touchstart${Pr}`,gc=`touchmove${Pr}`,Uc=`touchend${Pr}`,ml=`pointerdown${Pr}`,jc=`pointerup${Pr}`,$h={endCallback:null,leftCallback:null,rightCallback:null},Xa={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class _c extends Ls{constructor(l,c){super(),this._element=l,l&&_c.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return $h}static get DefaultType(){return Xa}static get NAME(){return"swipe"}dispose(){tn.off(this._element,Pr)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),no(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const c=l/this._deltaX;this._deltaX=0,c&&no(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(tn.on(this._element,ml,l=>this._start(l)),tn.on(this._element,jc,l=>this._end(l)),this._element.classList.add("pointer-event")):(tn.on(this._element,bi,l=>this._start(l)),tn.on(this._element,gc,l=>this._move(l)),tn.on(this._element,Uc,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ga=".bs.carousel",Bu=".data-api",_a="next",Bc="prev",yc="left",Hh="right",Gh=`slide${ga}`,_l=`slid${ga}`,sp=`keydown${ga}`,op=`mouseenter${ga}`,Hu=`mouseleave${ga}`,$c=`dragstart${ga}`,Pd=`load${ga}${Bu}`,yl=`click${ga}${Bu}`,tu="carousel",ya="active",zu=".active",Hc=".carousel-item",Us=zu+Hc,vc={ArrowLeft:Hh,ArrowRight:yc},El={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Wu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class va extends Ws{constructor(l,c){super(l,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ir.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tu&&this.cycle()}static get Default(){return El}static get DefaultType(){return Wu}static get NAME(){return"carousel"}next(){this._slide(_a)}nextWhenVisible(){!document.hidden&&lo(this._element)&&this.next()}prev(){this._slide(Bc)}pause(){this._isSliding&&Gi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void tn.one(this._element,_l,()=>this.cycle());this.cycle()}}to(l){const c=this._getItems();if(l>c.length-1||l<0)return;if(this._isSliding)return void tn.one(this._element,_l,()=>this.to(l));const y=this._getItemIndex(this._getActive());y!==l&&this._slide(l>y?_a:Bc,c[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&tn.on(this._element,sp,l=>this._keydown(l)),"hover"===this._config.pause&&(tn.on(this._element,op,()=>this.pause()),tn.on(this._element,Hu,()=>this._maybeEnableCycle())),this._config.touch&&_c.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of ir.find(".carousel-item img",this._element))tn.on(y,$c,I=>I.preventDefault());this._swipeHelper=new _c(this._element,{leftCallback:()=>this._slide(this._directionToOrder(yc)),rightCallback:()=>this._slide(this._directionToOrder(Hh)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const c=vc[l.key];c&&(l.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const c=ir.findOne(zu,this._indicatorsElement);c.classList.remove(ya),c.removeAttribute("aria-current");const y=ir.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(ya),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const c=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(l,c=null){if(this._isSliding)return;const y=this._getActive(),I=l===_a,V=c||kc(this._getItems(),y,I,this._config.wrap);if(V===y)return;const z=this._getItemIndex(V),se=mn=>tn.trigger(this._element,mn,{relatedTarget:V,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:z});if(se(Gh).defaultPrevented||!y||!V)return;const ze=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=V;const pt=I?"carousel-item-start":"carousel-item-end",Ft=I?"carousel-item-next":"carousel-item-prev";V.classList.add(Ft),y.classList.add(pt),V.classList.add(pt),this._queueCallback(()=>{V.classList.remove(pt,Ft),V.classList.add(ya),y.classList.remove(ya,Ft,pt),this._isSliding=!1,se(_l)},y,this._isAnimated()),ze&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ir.findOne(Us,this._element)}_getItems(){return ir.find(Hc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return Yn()?l===yc?Bc:_a:l===yc?_a:Bc}_orderToDirection(l){return Yn()?l===Bc?yc:Hh:l===Bc?Hh:yc}static jQueryInterface(l){return this.each(function(){const c=va.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}}else c.to(l)})}}tn.on(document,yl,"[data-bs-slide], [data-bs-slide-to]",function(p){const l=ir.getElementFromSelector(this);if(!l||!l.classList.contains(tu))return;p.preventDefault();const c=va.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(c.to(y),void c._maybeEnableCycle()):"next"===Ji.getDataAttribute(this,"slide")?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),tn.on(window,Pd,()=>{const p=ir.find('[data-bs-ride="carousel"]');for(const l of p)va.getOrCreateInstance(l)}),uo(va);const Ea=".bs.collapse",Ku=`show${Ea}`,cp=`shown${Ea}`,Wc=`hide${Ea}`,qh=`hidden${Ea}`,ro=`click${Ea}.data-api`,xd="show",ba="collapse",bl="collapsing",Md=`:scope .${ba} .${ba}`,qu='[data-bs-toggle="collapse"]',Od={parent:null,toggle:!0},nu={parent:"(null|element)",toggle:"boolean"};class Il extends Ws{constructor(l,c){super(l,c),this._isTransitioning=!1,this._triggerArray=[];const y=ir.find(qu);for(const I of y){const V=ir.getSelectorFromElement(I),z=ir.find(V).filter(se=>se===this._element);null!==V&&z.length&&this._triggerArray.push(I)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Od}static get DefaultType(){return nu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(se=>se!==this._element).map(se=>Il.getOrCreateInstance(se,{toggle:!1}))),l.length&&l[0]._isTransitioning||tn.trigger(this._element,Ku).defaultPrevented)return;for(const se of l)se.hide();const y=this._getDimension();this._element.classList.remove(ba),this._element.classList.add(bl),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(bl),this._element.classList.add(ba,xd),this._element.style[y]="",tn.trigger(this._element,cp)},this._element,!0),this._element.style[y]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||tn.trigger(this._element,Wc).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,this._element.classList.add(bl),this._element.classList.remove(ba,xd);for(const I of this._triggerArray){const V=ir.getElementFromSelector(I);V&&!this._isShown(V)&&this._addAriaAndCollapsedClass([I],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(bl),this._element.classList.add(ba),tn.trigger(this._element,qh)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(xd)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=da(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(qu);for(const c of l){const y=ir.getElementFromSelector(c);y&&this._addAriaAndCollapsedClass([c],this._isShown(y))}}_getFirstLevelChildren(l){const c=ir.find(Md,this._config.parent);return ir.find(l,this._config.parent).filter(y=>!c.includes(y))}_addAriaAndCollapsedClass(l,c){if(l.length)for(const y of l)y.classList.toggle("collapsed",!c),y.setAttribute("aria-expanded",c)}static jQueryInterface(l){const c={};return"string"==typeof l&&/show|hide/.test(l)&&(c.toggle=!1),this.each(function(){const y=Il.getOrCreateInstance(this,c);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l]()}})}}tn.on(document,ro,qu,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const l of ir.getMultipleElementsFromSelector(this))Il.getOrCreateInstance(l,{toggle:!1}).toggle()}),uo(Il);const up="dropdown",Tl=".bs.dropdown",Nd=".data-api",i_="ArrowUp",wl="ArrowDown",Yh=`hide${Tl}`,Ks=`hidden${Tl}`,kd=`show${Tl}`,Kc=`shown${Tl}`,Fd=`click${Tl}${Nd}`,Lo=`keydown${Tl}${Nd}`,qc=`keyup${Tl}${Nd}`,Ec="show",Al='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ea=`${Al}.${Ec}`,Dl=".dropdown-menu",Ud=Yn()?"top-end":"top-start",Mg=Yn()?"top-start":"top-end",Xh=Yn()?"bottom-end":"bottom-start",fp=Yn()?"bottom-start":"bottom-end",Qc=Yn()?"left-start":"right-start",ru=Yn()?"right-start":"left-start",Qh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ia extends Ws{constructor(l,c){super(l,c),this._popper=null,this._parent=this._element.parentNode,this._menu=ir.next(this._element,Dl)[0]||ir.prev(this._element,Dl)[0]||ir.findOne(Dl,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Qh}static get DefaultType(){return Jc}static get NAME(){return up}toggle(){return this._isShown()?this.hide():this.show()}show(){if(qi(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!tn.trigger(this._element,kd,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))tn.on(y,"mouseover",Ka);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ec),this._element.classList.add(Ec),tn.trigger(this._element,Kc,l)}}hide(){!qi(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!tn.trigger(this._element,Yh,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))tn.off(y,"mouseover",Ka);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ec),this._element.classList.remove(Ec),this._element.setAttribute("aria-expanded","false"),Ji.removeDataAttribute(this._menu,"popper"),tn.trigger(this._element,Ks,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!Pa(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${up.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:Pa(this._config.reference)?l=da(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const c=this._getPopperConfig();this._popper=Ns(l,this._menu,c)}_isShown(){return this._menu.classList.contains(Ec)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return Qc;if(l.classList.contains("dropstart"))return ru;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const c="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?c?Mg:Ud:c?fp:Xh}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Ji.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...no(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:c}){const y=ir.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I=>lo(I));y.length&&kc(y,c,l===wl,!y.includes(c)).focus()}static jQueryInterface(l){return this.each(function(){const c=Ia.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const c=ir.find(ea);for(const y of c){const I=Ia.getInstance(y);if(!I||!1===I._config.autoClose)continue;const V=l.composedPath(),z=V.includes(I._menu);if(V.includes(I._element)||"inside"===I._config.autoClose&&!z||"outside"===I._config.autoClose&&z||I._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const se={relatedTarget:I._element};"click"===l.type&&(se.clickEvent=l),I._completeHide(se)}}static dataApiKeydownHandler(l){const c=/input|textarea/i.test(l.target.tagName),y="Escape"===l.key,I=[i_,wl].includes(l.key);if(!I&&!y||c&&!y)return;l.preventDefault();const V=this.matches(Al)?this:ir.prev(this,Al)[0]||ir.next(this,Al)[0]||ir.findOne(Al,l.delegateTarget.parentNode),z=Ia.getOrCreateInstance(V);if(I)return l.stopPropagation(),z.show(),void z._selectMenuItem(l);z._isShown()&&(l.stopPropagation(),z.hide(),V.focus())}}tn.on(document,Lo,Al,Ia.dataApiKeydownHandler),tn.on(document,Lo,Dl,Ia.dataApiKeydownHandler),tn.on(document,Fd,Ia.clearMenus),tn.on(document,qc,Ia.clearMenus),tn.on(document,Fd,Al,function(p){p.preventDefault(),Ia.getOrCreateInstance(this).toggle()}),uo(Ia);const iu="backdrop",su=`mousedown.bs.${iu}`,Yu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ef={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Xu extends Ls{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Yu}static get DefaultType(){return ef}static get NAME(){return iu}show(l){if(!this._config.isVisible)return void no(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{no(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),no(l)})):no(l)}dispose(){this._isAppended&&(tn.off(this._element,su),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=da(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),tn.on(l,su,()=>{no(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){ha(l,this._getElement(),this._config.isAnimated)}}const Na=".bs.focustrap",T=`focusin${Na}`,m=`keydown.tab${Na}`,X="backward",he={autofocus:!0,trapElement:null},He={autofocus:"boolean",trapElement:"element"};class wt extends Ls{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return he}static get DefaultType(){return He}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),tn.off(document,Na),tn.on(document,T,l=>this._handleFocusin(l)),tn.on(document,m,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tn.off(document,Na))}_handleFocusin(l){const{trapElement:c}=this._config;if(l.target===document||l.target===c||c.contains(l.target))return;const y=ir.focusableChildren(c);0===y.length?c.focus():this._lastTabNavDirection===X?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?X:"forward")}}const Wt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",On=".sticky-top",xn="padding-right",ri="margin-right";class bo{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xn,c=>c+l),this._setElementAttributes(Wt,xn,c=>c+l),this._setElementAttributes(On,ri,c=>c-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xn),this._resetElementAttributes(Wt,xn),this._resetElementAttributes(On,ri)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,c,y){const I=this.getWidth();this._applyManipulationCallback(l,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+I)return;this._saveInitialAttribute(z,c);const se=window.getComputedStyle(z).getPropertyValue(c);z.style.setProperty(c,`${y(Number.parseFloat(se))}px`)})}_saveInitialAttribute(l,c){const y=l.style.getPropertyValue(c);y&&Ji.setDataAttribute(l,c,y)}_resetElementAttributes(l,c){this._applyManipulationCallback(l,I=>{const V=Ji.getDataAttribute(I,c);null!==V?(Ji.removeDataAttribute(I,c),I.style.setProperty(c,V)):I.style.removeProperty(c)})}_applyManipulationCallback(l,c){if(Pa(l))c(l);else for(const y of ir.find(l,this._element))c(y)}}const Ao=".bs.modal",Rg=`hide${Ao}`,pp=`hidePrevented${Ao}`,Qu=`hidden${Ao}`,gp=`show${Ao}`,au=`shown${Ao}`,tf=`resize${Ao}`,Ju=`click.dismiss${Ao}`,Gd=`mousedown.dismiss${Ao}`,zd=`keydown.dismiss${Ao}`,Sl=`click${Ao}.data-api`,Zu="modal-open",Wd="modal-static",mp={backdrop:!0,focus:!0,keyboard:!0},qd={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ed extends Ws{constructor(l,c){super(l,c),this._dialog=ir.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new bo,this._addEventListeners()}static get Default(){return mp}static get DefaultType(){return qd}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||tn.trigger(this._element,gp,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Zu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||tn.trigger(this._element,Rg).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){tn.off(window,Ao),tn.off(this._dialog,Ao),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Xu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new wt({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=ir.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tn.trigger(this._element,au,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){tn.on(this._element,zd,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),tn.on(window,tf,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),tn.on(this._element,Gd,l=>{tn.one(this._element,Ju,c=>{if(this._element===l.target&&this._element===c.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Zu),this._resetAdjustments(),this._scrollBar.reset(),tn.trigger(this._element,Qu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(tn.trigger(this._element,pp).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(Wd)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(Wd),this._queueCallback(()=>{this._element.classList.remove(Wd),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),y=c>0;if(y&&!l){const I=Yn()?"paddingLeft":"paddingRight";this._element.style[I]=`${c}px`}if(!y&&l){const I=Yn()?"paddingRight":"paddingLeft";this._element.style[I]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,c){return this.each(function(){const y=ed.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l](c)}})}}tn.on(document,Sl,'[data-bs-toggle="modal"]',function(p){const l=ir.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),tn.one(l,gp,I=>{I.defaultPrevented||tn.one(l,Qu,()=>{lo(this)&&this.focus()})});const c=ir.findOne(".modal.show");c&&ed.getInstance(c).hide(),ed.getOrCreateInstance(l).toggle(this)}),pc(ed),uo(ed);const Ja=".bs.offcanvas",td=".data-api",Fg=`load${Ja}${td}`,rf="showing",Uo=".offcanvas.show",_p=`show${Ja}`,c_=`shown${Ja}`,sf=`hide${Ja}`,Do=`hidePrevented${Ja}`,cu=`hidden${Ja}`,l_=`resize${Ja}`,yp=`click${Ja}${td}`,ky=`keydown.dismiss${Ja}`,u_={backdrop:!0,keyboard:!0,scroll:!1},Ep={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class el extends Ws{constructor(l,c){super(l,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return u_}static get DefaultType(){return Ep}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||tn.trigger(this._element,_p,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new bo).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(rf),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(rf),tn.trigger(this._element,c_,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!tn.trigger(this._element,sf).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new bo).reset(),tn.trigger(this._element,cu)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new Xu({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{"static"!==this._config.backdrop?this.hide():tn.trigger(this._element,Do)}:null})}_initializeFocusTrap(){return new wt({trapElement:this._element})}_addEventListeners(){tn.on(this._element,ky,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();tn.trigger(this._element,Do)}})}static jQueryInterface(l){return this.each(function(){const c=el.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l](this)}})}}tn.on(document,yp,'[data-bs-toggle="offcanvas"]',function(p){const l=ir.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),qi(this))return;tn.one(l,cu,()=>{lo(this)&&this.focus()});const c=ir.findOne(Uo);c&&c!==l&&el.getInstance(c).hide(),el.getOrCreateInstance(l).toggle(this)}),tn.on(window,Fg,()=>{for(const p of ir.find(Uo))el.getOrCreateInstance(p).show()}),tn.on(window,l_,()=>{for(const p of ir.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&el.getOrCreateInstance(p).hide()}),pc(el),uo(el);const rd={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},lu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),af=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,uu=(p,l)=>{const c=p.nodeName.toLowerCase();return l.includes(c)?!lu.has(c)||!!af.test(p.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(c))},Qd={allowList:rd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Fy={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},d_={entry:"(string|element|function|null)",selector:"(string|element)"};class Lg extends Ls{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return Qd}static get DefaultType(){return Fy}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[I,V]of Object.entries(this._config.content))this._setContent(l,V,I);const c=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&c.classList.add(...y.split(" ")),c}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[c,y]of Object.entries(l))super._typeCheckConfig({selector:c,entry:y},d_)}_setContent(l,c,y){const I=ir.findOne(y,l);if(I){if(!(c=this._resolvePossibleFunction(c)))return void I.remove();if(Pa(c))return void this._putElementInTemplate(da(c),I);if(this._config.html)return void(I.innerHTML=this._maybeSanitize(c));I.textContent=c}}_maybeSanitize(l){return this._config.sanitize?function Yd(p,l,c){if(!p.length)return p;if(c&&"function"==typeof c)return c(p);const I=(new window.DOMParser).parseFromString(p,"text/html"),V=[].concat(...I.body.querySelectorAll("*"));for(const z of V){const se=z.nodeName.toLowerCase();if(!Object.keys(l).includes(se)){z.remove();continue}const ve=[].concat(...z.attributes),ze=[].concat(l["*"]||[],l[se]||[]);for(const pt of ve)uu(pt,ze)||z.removeAttribute(pt.nodeName)}return I.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return no(l,[this])}_putElementInTemplate(l,c){if(this._config.html)return c.innerHTML="",void c.append(l);c.textContent=l.textContent}}const du=new Set(["sanitize","allowList","sanitizeFn"]),hu="fade",Jd="show",wp="hide.bs.modal",Zd="hover",cf="focus",m_={AUTO:"auto",TOP:"top",RIGHT:Yn()?"left":"right",BOTTOM:"bottom",LEFT:Yn()?"right":"left"},jg={allowList:rd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Uy={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ic extends Ws{constructor(l,c){if(typeof o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return jg}static get DefaultType(){return Uy}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),tn.off(this._element.closest(".modal"),wp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=tn.trigger(this._element,this.constructor.eventName("show")),y=(xa(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!y)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(I),tn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(Jd),"ontouchstart"in document.documentElement)for(const se of[].concat(...document.body.children))tn.on(se,"mouseover",Ka);this._queueCallback(()=>{tn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!tn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Jd),"ontouchstart"in document.documentElement)for(const I of[].concat(...document.body.children))tn.off(I,"mouseover",Ka);this._activeTrigger.click=!1,this._activeTrigger[cf]=!1,this._activeTrigger[Zd]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),tn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const c=this._getTemplateFactory(l).toHtml();if(!c)return null;c.classList.remove(hu,Jd),c.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return c.setAttribute("id",y),this._isAnimated()&&c.classList.add(hu),c}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new Lg({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hu)}_isShown(){return this.tip&&this.tip.classList.contains(Jd)}_createPopper(l){const c=no(this._config.placement,[this,l,this._element]),y=m_[c.toUpperCase()];return Ns(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(c=>Number.parseInt(c,10)):"function"==typeof l?c=>l(c,this._element):l}_resolvePossibleFunction(l){return no(l,[this._element])}_getPopperConfig(l){const c={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...c,...no(this._config.popperConfig,[c])}}_setListeners(){const l=this._config.trigger.split(" ");for(const c of l)if("click"===c)tn.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==c){const y=this.constructor.eventName(c===Zd?"mouseenter":"focusin"),I=this.constructor.eventName(c===Zd?"mouseleave":"focusout");tn.on(this._element,y,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger["focusin"===V.type?cf:Zd]=!0,z._enter()}),tn.on(this._element,I,this._config.selector,V=>{const z=this._initializeOnDelegatedTarget(V);z._activeTrigger["focusout"===V.type?cf:Zd]=z._element.contains(V.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},tn.on(this._element.closest(".modal"),wp,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,c){clearTimeout(this._timeout),this._timeout=setTimeout(l,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const c=Ji.getDataAttributes(this._element);for(const y of Object.keys(c))du.has(y)&&delete c[y];return l={...c,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:da(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[c,y]of Object.entries(this._config))this.constructor.Default[c]!==y&&(l[c]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const c=Ic.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}uo(Ic);const xp={...Ic.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$g={...Ic.DefaultType,content:"(null|string|element|function)"};class eh extends Ic{static get Default(){return xp}static get DefaultType(){return $g}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const c=eh.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l]()}})}}uo(eh);const uf=".bs.scrollspy",hf=`activate${uf}`,Hg=`click${uf}`,ff=`load${uf}.data-api`,fu="active",gf="[href]",Rp=".nav-link",Pl=`${Rp}, .nav-item > ${Rp}, .list-group-item`,By={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wg={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Tc extends Ws{constructor(l,c){super(l,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return By}static get DefaultType(){return Wg}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=da(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(c=>Number.parseFloat(c))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(tn.off(this._config.target,Hg),tn.on(this._config.target,Hg,gf,l=>{const c=this._observableSections.get(l.target.hash);if(c){l.preventDefault();const y=this._rootElement||window,I=c.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:I,behavior:"smooth"});y.scrollTop=I}}))}_getNewObserver(){return new IntersectionObserver(c=>this._observerCallback(c),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const c=z=>this._targetLinks.get(`#${z.target.id}`),y=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(c(z))},I=(this._rootElement||document.documentElement).scrollTop,V=I>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=I;for(const z of l){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(z));continue}const se=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&se){if(y(z),!I)return}else!V&&!se&&y(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=ir.find(gf,this._config.target);for(const c of l){if(!c.hash||qi(c))continue;const y=ir.findOne(decodeURI(c.hash),this._element);lo(y)&&(this._targetLinks.set(decodeURI(c.hash),c),this._observableSections.set(c.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(fu),this._activateParents(l),tn.trigger(this._element,hf,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))ir.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(fu);else for(const c of ir.parents(l,".nav, .list-group"))for(const y of ir.prev(c,Pl))y.classList.add(fu)}_clearActiveClass(l){l.classList.remove(fu);const c=ir.find(`${gf}.${fu}`,l);for(const y of c)y.classList.remove(fu)}static jQueryInterface(l){return this.each(function(){const c=Tc.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}tn.on(window,ff,()=>{for(const p of ir.find('[data-bs-spy="scroll"]'))Tc.getOrCreateInstance(p)}),uo(Tc);const xl=".bs.tab",nh=`hide${xl}`,Np=`hidden${xl}`,mf=`show${xl}`,E_=`shown${xl}`,kp=`click${xl}`,b_=`keydown${xl}`,Ml=`load${xl}`,$y="ArrowLeft",Fp="ArrowRight",C_="ArrowUp",Vp="ArrowDown",Lp="Home",tl="End",Za="active",qg="show",_f=".dropdown-toggle",Qg=`:not(${_f})`,Zg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gu=`.nav-link${Qg}, .list-group-item${Qg}, [role="tab"]${Qg}, ${Zg}`,yf=`.${Za}[data-bs-toggle="tab"], .${Za}[data-bs-toggle="pill"], .${Za}[data-bs-toggle="list"]`;class So extends Ws{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),tn.on(this._element,b_,c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const c=this._getActiveElem(),y=c?tn.trigger(c,nh,{relatedTarget:l}):null;tn.trigger(l,mf,{relatedTarget:c}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(c,l),this._activate(l,c))}_activate(l,c){l&&(l.classList.add(Za),this._activate(ir.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),tn.trigger(l,E_,{relatedTarget:c})):l.classList.add(qg)},l,l.classList.contains("fade")))}_deactivate(l,c){l&&(l.classList.remove(Za),l.blur(),this._deactivate(ir.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),tn.trigger(l,Np,{relatedTarget:c})):l.classList.remove(qg)},l,l.classList.contains("fade")))}_keydown(l){if(![$y,Fp,C_,Vp,Lp,tl].includes(l.key))return;l.stopPropagation(),l.preventDefault();const c=this._getChildren().filter(I=>!qi(I));let y;if([Lp,tl].includes(l.key))y=c[l.key===Lp?0:c.length-1];else{const I=[Fp,Vp].includes(l.key);y=kc(c,l.target,I,!0)}y&&(y.focus({preventScroll:!0}),So.getOrCreateInstance(y).show())}_getChildren(){return ir.find(gu,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,c){this._setAttributeIfNotExists(l,"role","tablist");for(const y of c)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const c=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",c),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),c||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const c=ir.getElementFromSelector(l);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,c){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const I=(V,z)=>{const se=ir.findOne(V,y);se&&se.classList.toggle(z,c)};I(_f,Za),I(".dropdown-menu",qg),y.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(l,c,y){l.hasAttribute(c)||l.setAttribute(c,y)}_elemIsActive(l){return l.classList.contains(Za)}_getInnerElement(l){return l.matches(gu)?l:ir.findOne(gu,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const c=So.getOrCreateInstance(this);if("string"==typeof l){if(void 0===c[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);c[l]()}})}}tn.on(document,kp,Zg,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!qi(this)&&So.getOrCreateInstance(this).show()}),tn.on(window,Ml,()=>{for(const p of ir.find(yf))So.getOrCreateInstance(p)}),uo(So);const Rl=".bs.toast",I_=`mouseover${Rl}`,T_=`mouseout${Rl}`,w_=`focusin${Rl}`,zy=`focusout${Rl}`,Ef=`hide${Rl}`,bf=`hidden${Rl}`,A_=`show${Rl}`,em=`shown${Rl}`,Ol="show",Cf="showing",nm={animation:"boolean",autohide:"boolean",delay:"number"},rm={animation:!0,autohide:!0,delay:5e3};class ec extends Ws{constructor(l,c){super(l,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return rm}static get DefaultType(){return nm}static get NAME(){return"toast"}show(){tn.trigger(this._element,A_).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ol,Cf),this._queueCallback(()=>{this._element.classList.remove(Cf),tn.trigger(this._element,em),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!tn.trigger(this._element,Ef).defaultPrevented&&(this._element.classList.add(Cf),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Cf,Ol),tn.trigger(this._element,bf)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ol),super.dispose()}isShown(){return this._element.classList.contains(Ol)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,c){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){tn.on(this._element,I_,l=>this._onInteraction(l,!0)),tn.on(this._element,T_,l=>this._onInteraction(l,!1)),tn.on(this._element,w_,l=>this._onInteraction(l,!0)),tn.on(this._element,zy,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const c=ec.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof c[l]>"u")throw new TypeError(`No method named "${l}"`);c[l](this)}})}}pc(ec),uo(ec);let If=(()=>{class p{constructor(c){this.http=c,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(c){return this.http.post(this.emailEndpoint,c)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ue))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Ci=j(4341);let Wy=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,I){1&y&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&y&&(i.R7$(5),i.JRh(I.phoneNumber),i.R7$(4),i.JRh(I.address),i.R7$(4),i.JRh(I.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var od=j(3711);function im(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Ky(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(4),i.JRh(c.business.fax)}}function Bp(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(4),i.FS9("href",c.business.socialMedia,i.B4B),i.R7$(1),i.JRh(c.business.socialMedia)}}function D_(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,im,6,2,"div",23),i.DNE(26,Ky,5,1,"div",23),i.DNE(27,Bp,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61,"Submit"),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.bVm()}if(2&p){const c=i.sdS(47),y=i.XpG(2);i.R7$(19),i.JRh(y.business.address),i.R7$(5),i.JRh(y.business.phone),i.R7$(1),i.Y8G("ngIf",y.business.email),i.R7$(1),i.Y8G("ngIf",y.business.fax),i.R7$(1),i.Y8G("ngIf",y.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",y.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",y.formData.name),i.R7$(4),i.Y8G("ngModel",y.formData.email),i.R7$(4),i.Y8G("ngModel",y.formData.message),i.R7$(1),i.Y8G("disabled",!c.form.valid),i.R7$(2),i.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),i.R7$(1),i.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function qy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function Yy(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function Xy(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,qy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Yy,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function Qy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function S_(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function u0(p,l){if(1&p){const c=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Qy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,S_,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(6),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(8),i.Y8G("innerHTML",c.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function Jy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const c=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",c.business.email,"",i.B4B),i.R7$(1),i.JRh(c.business.email)}}function rh(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const c=i.XpG(3);i.R7$(1),i.FS9("href",c.business.socialMedia,i.B4B)}}function ad(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,Jy,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,rh,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.name=I)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.email=I)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(I){i.eBV(c);const V=i.XpG(2);return i.Njj(V.formData.message=I)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),i.EFF(40,"Visitation Hours"),i.k0s(),i.j41(41,"ul")(42,"li")(43,"strong"),i.EFF(44,"Monday:"),i.k0s(),i.EFF(45," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(46,"li")(47,"strong"),i.EFF(48,"Tuesday:"),i.k0s(),i.EFF(49," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(50,"li")(51,"strong"),i.EFF(52,"Wednesday:"),i.k0s(),i.EFF(53," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(54,"li")(55,"strong"),i.EFF(56,"Thursday:"),i.k0s(),i.EFF(57," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(58,"li")(59,"strong"),i.EFF(60,"Friday:"),i.k0s(),i.EFF(61," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(62,"li")(63,"strong"),i.EFF(64,"Saturday:"),i.k0s(),i.EFF(65," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(66,"li")(67,"strong"),i.EFF(68,"Sunday:"),i.k0s(),i.EFF(69," 7:00am \u2013 7:00pm"),i.k0s()()()(),i.j41(70,"div",61),i.nrm(71,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(5),i.Y8G("ngIf",c.business.email),i.R7$(3),i.JRh(c.business.phone),i.R7$(3),i.JRh(c.business.address),i.R7$(1),i.Y8G("ngIf",c.business.socialMedia),i.R7$(9),i.Y8G("ngModel",c.formData.name),i.R7$(6),i.Y8G("ngModel",c.formData.email),i.R7$(6),i.Y8G("ngModel",c.formData.message),i.R7$(38),i.Y8G("address",c.business.address||"")("layoutType",c.business.theme.themeType||"demo")}}function sm(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,D_,64,16,"ng-container",2),i.DNE(3,Xy,45,10,"ng-container",2),i.DNE(4,u0,45,10,"ng-container",2),i.DNE(5,ad,72,9,"ng-container",3),i.k0s(),i.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h5",8),i.EFF(11),i.k0s(),i.nrm(12,"button",9),i.k0s(),i.j41(13,"div",10),i.EFF(14),i.k0s(),i.j41(15,"div",11)(16,"button",12),i.EFF(17,"Close"),i.k0s()()()()()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(7),i.JRh(c.modalTitle),i.R7$(3),i.SpI(" ",c.modalMessage," ")}}let om=(()=>{class p{constructor(c,y,I,V,z,se,ve){this.sanitizer=c,this.businessDataService=y,this.webContent=I,this.route=V,this.http=z,this.emailService=se,this.metaService=ve,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const c=document.getElementById("responseModal");c?this.responseModal=new ed(c):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(c=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},c=>{console.error("Error sending email",c),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(c){const y=c.split(".");return y.length>2?y.slice(-2).join("."):c}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(le.up),i.rXU(Ni.A),i.rXU(wi.N),i.rXU(mr.nX),i.rXU(Ue),i.rXU(If),i.rXU($i.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,I){1&y&&i.DNE(0,sm,18,6,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,Ci.qT,Ci.me,Ci.BC,Ci.cb,Ci.YS,Ci.vS,Ci.cV,Wy,Ln,od.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return p})();var $p=j(467),ih=j(214),mi=j(3739);function am(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function cm(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"div",5)(2,"div",6)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",7)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.j41(8,"div",8)(9,"section",9)(10,"div",10),i.EFF(11,"Welcome to Our Home"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"section",11)(15,"div",10),i.EFF(16,"Explore Our Gallery"),i.k0s(),i.j41(17,"div",12),i.DNE(18,am,2,1,"div",13),i.k0s()(),i.j41(19,"div",14)(20,"div",15)(21,"h2"),i.EFF(22,"Come Meet Our Family"),i.k0s(),i.j41(23,"p"),i.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),i.k0s(),i.j41(25,"button",16),i.bIt("click",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.navigateToContact(I.business.id))}),i.EFF(26,"Schedule a Visit"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG(2);i.R7$(13),i.SpI(" ",c.business.photoGalleryText," "),i.R7$(5),i.Y8G("ngForOf",c.images)}}function mu(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function Zy(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function fo(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",20)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",22),i.DNE(7,mu,2,1,"div",13),i.k0s()(),i.j41(8,"section",20)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",22),i.DNE(12,Zy,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("content",c.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[5].quote)}}function Bs(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function tc(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function P_(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",11)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",12),i.DNE(7,Bs,2,1,"div",13),i.k0s()(),i.j41(8,"section",11)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",12),i.DNE(12,tc,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const c=i.XpG(2);i.R7$(2),i.Y8G("content",c.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",c.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",c.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",c.business.testimonials[4].name)("text",c.business.testimonials[4].quote)}}function x_(p,l){if(1&p){const c=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const V=i.eBV(c).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(V.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const c=l.$implicit;i.R7$(1),i.Y8G("src",c.url,i.B4B)}}function _u(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text"),i.j41(3,"section",11)(4,"div",10)(5,"h2"),i.EFF(6,"Explore Our Gallery"),i.k0s()(),i.j41(7,"div",12),i.DNE(8,x_,2,1,"div",13),i.k0s()(),i.bVm()),2&p){const c=i.XpG(2);i.R7$(8),i.Y8G("ngForOf",c.images)}}function ev(p,l){if(1&p){const c=i.RV6();i.j41(0,"app-image-viewer-modal",25),i.bIt("closeModal",function(){i.eBV(c);const I=i.XpG(2);return i.Njj(I.onCloseModal())}),i.k0s()}if(2&p){const c=i.XpG(2);i.Y8G("imageUrl",c.selectedImageUrl)}}function Tf(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,cm,27,2,"ng-container",2),i.DNE(3,fo,14,10,"ng-container",2),i.DNE(4,P_,14,10,"ng-container",2),i.DNE(5,_u,9,1,"ng-container",3),i.DNE(6,ev,1,1,"app-image-viewer-modal",4),i.k0s()()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngSwitch",c.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(2),i.Y8G("ngIf",c.selectedImageUrl)}}let wf=(()=>{class p{constructor(c,y,I,V,z){this.businessDataService=c,this.route=y,this.webContent=I,this.metaService=V,this.router=z,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,this.layoutType=c?.theme.themeType||"",c?.id&&(this.businessId=c.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var c=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:I,target:V})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,I).pipe((0,ue.n)(z=>{const se=z.map(function(){var ve=(0,$p.A)(function*(ze){return(yield c.webContent.checkImageExists(ze.url))?ze:null});return function(ze){return ve.apply(this,arguments)}}());return(0,pe.H)(Promise.all(se))}),(0,Ve.T)(z=>z.filter(se=>null!==se))).subscribe(z=>{this[V]=z})})}onImageClick(c){this.selectedImageUrl=c}onCloseModal(){this.selectedImageUrl=null}navigateToContact(c){this.router.navigate(["/contact-us"],{queryParams:{id:c}})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ni.A),i.rXU(mr.nX),i.rXU(wi.N),i.rXU($i.R),i.rXU(mr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,I){1&y&&i.DNE(0,Tf,7,5,"div",0),2&y&&i.Y8G("ngIf",I.business)},dependencies:[_e.Sq,_e.bT,_e.ux,_e.e1,_e.fG,ih.W,mi.W,Ln,Mn,ar.N],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var Hp=j(4796);function lm(p,l){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.JRh(c.errorMessage)}}let Af=(()=>{class p{constructor(c,y){this.authService=c,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(c=>{this.errorMessage=c.message})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Hp.u),i.rXU(mr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,I){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return I.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(z){return I.email=z}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(z){return I.password=z}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,lm,2,1,"div",10),i.k0s()()()),2&y&&(i.R7$(8),i.Y8G("ngModel",I.email),i.R7$(4),i.Y8G("ngModel",I.password),i.R7$(3),i.Y8G("ngIf",I.errorMessage))},dependencies:[_e.bT,Ci.qT,Ci.me,Ci.BC,Ci.cb,Ci.YS,Ci.vS,Ci.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var Ii=j(6340);let Df=(()=>{class p{constructor(c){this.afs=c,this.basePath="businesses"}saveIntakeForm(c,y){const I=this.afs.createId(),V=this.afs.collection(`${this.basePath}/${y}/intake`).doc(I);return new Ae.c(z=>{V.set(c).then(()=>{z.next(c),z.complete()}).catch(se=>{console.error("Error saving intake form data",se),z.error(se)})})}getIntakeForms(c){return this.afs.collection(`${this.basePath}/${c}/intake`).snapshotChanges().pipe((0,Ve.T)(y=>y.map(I=>{const V=I.payload.doc.data();return{id:I.payload.doc.id,...V}})))}getIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).valueChanges().pipe((0,Ve.T)(I=>I||void 0))}updateIntakeForm(c,y,I){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).update(I)}deleteIntakeForm(c,y){return this.afs.collection(`${this.basePath}/${c}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ii.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function Ds(p,l){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const c=l.$implicit;i.R7$(3),i.SpI('"',c.quote,'"'),i.R7$(3),i.JRh(c.name)}}function M_(p,l){if(1&p&&(i.j41(0,"div",2),i.DNE(1,Ds,7,2,"div",3),i.k0s()),2&p){const c=i.XpG();i.R7$(1),i.Y8G("ngForOf",c.testimonials)}}const sh=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Ss.B},{path:"about-us",component:Mi},{path:"services",component:lr},{path:"contact-us",component:om},{path:"gallery",component:wf},{path:"login",component:Af},{path:"resident-form",component:(()=>{class p{constructor(c,y,I,V,z){this.fb=c,this.intakeService=y,this.businessDataService=I,this.emailService=V,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",Ci.k0.required],email:["",[Ci.k0.required,Ci.k0.email]],phoneNumber:["",Ci.k0.required],referralSource:["",Ci.k0.required],relationToResident:[""],residentName:["",Ci.k0.required],age:["",Ci.k0.required],gender:["",Ci.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{this.business=c,c?.id&&(this.metaService.loadAndApplyMeta(c?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const c=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(c,this.businessId).subscribe(I=>{console.log("Intake form saved successfully!",I)},I=>{console.error("Error saving intake form:",I)});const y={name:c.name,email:c.email,message:this.generateEmailMessage(c),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(I=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},I=>{console.error("Error sending email",I),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(c){return`\n      Name: ${c.name}\n      Email: ${c.email}\n      Phone Number: ${c.phoneNumber}\n      Referral Source: ${c.referralSource}\n      Relation to Resident: ${c.relationToResident}\n      Resident Name: ${c.residentName}\n      Age: ${c.age}\n      Gender: ${c.gender}\n      Medical History: ${c.medicalHistory}\n      Height: ${c.height}\n      Weight: ${c.weight}\n      Reason for Moving: ${c.reasonForMoving}\n      RN Assessment: ${c.rnAssessment}\n      Eating: ${c.eating}\n      Personal Hygiene: ${c.personalHygiene}\n      Bathing: ${c.bathing}\n      Toileting: ${c.toileting}\n      Mobility: ${c.mobility}\n      Transfers: ${c.transfers}\n      Medication Assistance: ${c.medicationAssistance}\n      Memory Issues: ${c.memoryIssues}\n      Behavior: ${c.behavior}\n      Skin Condition: ${c.skinCondition}\n      Additional Info: ${c.additionalInfo}\n      Current Living Situation: ${c.currentLivingSituation}\n      Target Move-In Date: ${c.targetMoveInDate}\n      Disclosure Summary: ${c.disclosureSummary}\n      Questions: ${c.questions}\n    `}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ci.ok),i.rXU(Df),i.rXU(Ni.A),i.rXU(If),i.rXU($i.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,I){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"form",0),i.bIt("ngSubmit",function(){return I.onSubmit()}),i.j41(2,"div",1)(3,"h2"),i.EFF(4,"Personal Information"),i.k0s(),i.j41(5,"label",2),i.EFF(6,"Name *"),i.k0s(),i.nrm(7,"input",3),i.j41(8,"label",4),i.EFF(9,"Email *"),i.k0s(),i.nrm(10,"input",5),i.j41(11,"label",6),i.EFF(12,"Phone number *"),i.k0s(),i.nrm(13,"input",7),i.k0s(),i.j41(14,"div",1)(15,"h2"),i.EFF(16,"Referral Source"),i.k0s(),i.j41(17,"label",8),i.EFF(18,"How did you find out about us? *"),i.k0s(),i.j41(19,"select",9)(20,"option",10),i.EFF(21,"Google"),i.k0s(),i.j41(22,"option",11),i.EFF(23,"Facebook"),i.k0s(),i.j41(24,"option",12),i.EFF(25,"Placement Agency"),i.k0s(),i.j41(26,"option",13),i.EFF(27,"Friends and/or Family"),i.k0s(),i.j41(28,"option",14),i.EFF(29,"Other"),i.k0s()(),i.j41(30,"label",15),i.EFF(31,"What is your relation to the resident? *"),i.k0s(),i.nrm(32,"input",16),i.k0s(),i.j41(33,"div",1)(34,"h2"),i.EFF(35,"Resident Information"),i.k0s(),i.j41(36,"label",17),i.EFF(37,"Resident's name *"),i.k0s(),i.nrm(38,"input",18),i.j41(39,"label",19),i.EFF(40,"Age *"),i.k0s(),i.nrm(41,"input",20),i.j41(42,"label",21),i.EFF(43,"Gender *"),i.k0s(),i.j41(44,"select",22)(45,"option",23),i.EFF(46,"Male"),i.k0s(),i.j41(47,"option",24),i.EFF(48,"Female"),i.k0s(),i.j41(49,"option",25),i.EFF(50,"Prefer not to say"),i.k0s(),i.j41(51,"option",14),i.EFF(52,"Other"),i.k0s()()(),i.j41(53,"div",1)(54,"h2"),i.EFF(55,"Medical History"),i.k0s(),i.j41(56,"label",26),i.EFF(57,"Relevant medical and surgical history *"),i.k0s(),i.nrm(58,"textarea",27),i.j41(59,"label",28),i.EFF(60,"Height *"),i.k0s(),i.nrm(61,"input",29),i.j41(62,"label",30),i.EFF(63,"Weight *"),i.k0s(),i.nrm(64,"input",31),i.j41(65,"label",32),i.EFF(66,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(67,"textarea",33),i.j41(68,"label",34),i.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(70,"select",35)(71,"option",36),i.EFF(72,"Yes"),i.k0s(),i.j41(73,"option",37),i.EFF(74,"No"),i.k0s()()(),i.j41(75,"div",1)(76,"h2"),i.EFF(77,"Care Levels"),i.k0s(),i.j41(78,"label",38),i.EFF(79,"Eating *"),i.k0s(),i.j41(80,"select",39)(81,"option",40),i.EFF(82,"Independent"),i.k0s(),i.j41(83,"option",41),i.EFF(84,"Needing Assistance"),i.k0s(),i.j41(85,"option",42),i.EFF(86,"Dependent"),i.k0s()(),i.j41(87,"label",43),i.EFF(88,"Personal Hygiene *"),i.k0s(),i.j41(89,"select",44)(90,"option",40),i.EFF(91,"Independent"),i.k0s(),i.j41(92,"option",41),i.EFF(93,"Needing Assistance"),i.k0s(),i.j41(94,"option",42),i.EFF(95,"Dependent"),i.k0s()(),i.j41(96,"label",45),i.EFF(97,"Bathing *"),i.k0s(),i.j41(98,"select",46)(99,"option",40),i.EFF(100,"Independent"),i.k0s(),i.j41(101,"option",41),i.EFF(102,"Needing Assistance"),i.k0s(),i.j41(103,"option",42),i.EFF(104,"Dependent"),i.k0s()(),i.j41(105,"label",47),i.EFF(106,"Toileting *"),i.k0s(),i.j41(107,"select",48)(108,"option",40),i.EFF(109,"Independent"),i.k0s(),i.j41(110,"option",41),i.EFF(111,"Needing Assistance"),i.k0s(),i.j41(112,"option",42),i.EFF(113,"Dependent"),i.k0s()(),i.j41(114,"label",49),i.EFF(115,"Mobility *"),i.k0s(),i.j41(116,"select",50)(117,"option",40),i.EFF(118,"Independent"),i.k0s(),i.j41(119,"option",41),i.EFF(120,"Needing Assistance"),i.k0s(),i.j41(121,"option",42),i.EFF(122,"Dependent"),i.k0s()(),i.j41(123,"label",51),i.EFF(124,"Transfers *"),i.k0s(),i.j41(125,"select",52)(126,"option",40),i.EFF(127,"Independent"),i.k0s(),i.j41(128,"option",41),i.EFF(129,"Needing Assistance"),i.k0s(),i.j41(130,"option",42),i.EFF(131,"Dependent"),i.k0s()(),i.j41(132,"label",53),i.EFF(133,"Medication Assistance *"),i.k0s(),i.j41(134,"select",54)(135,"option",36),i.EFF(136,"Yes"),i.k0s(),i.j41(137,"option",37),i.EFF(138,"No"),i.k0s()()(),i.j41(139,"div",1)(140,"h2"),i.EFF(141,"Other Medical Information"),i.k0s(),i.j41(142,"label",55),i.EFF(143,"Memory Issues *"),i.k0s(),i.j41(144,"select",56)(145,"option",36),i.EFF(146,"Yes"),i.k0s(),i.j41(147,"option",37),i.EFF(148,"No"),i.k0s()(),i.j41(149,"label",57),i.EFF(150,"Behavior"),i.k0s(),i.nrm(151,"textarea",58),i.j41(152,"label",59),i.EFF(153,"Skin Condition"),i.k0s(),i.nrm(154,"textarea",60),i.j41(155,"label",61),i.EFF(156,"Other information you want us to know"),i.k0s(),i.nrm(157,"textarea",62),i.k0s(),i.j41(158,"div",1)(159,"h2"),i.EFF(160,"Living Situation"),i.k0s(),i.j41(161,"label",63),i.EFF(162,"Current living situation *"),i.k0s(),i.j41(163,"select",64)(164,"option",65),i.EFF(165,"Own Home"),i.k0s(),i.j41(166,"option",66),i.EFF(167,"Relative's Home"),i.k0s(),i.j41(168,"option",67),i.EFF(169,"Hospital"),i.k0s(),i.j41(170,"option",68),i.EFF(171,"Adult Family Home"),i.k0s(),i.j41(172,"option",69),i.EFF(173,"Senior Living"),i.k0s(),i.j41(174,"option",14),i.EFF(175,"Other"),i.k0s()()(),i.j41(176,"div",1)(177,"label",70),i.EFF(178,"Target move in date *"),i.k0s(),i.nrm(179,"input",71),i.k0s(),i.j41(180,"div",1)(181,"label",72),i.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(183,"select",73)(184,"option",36),i.EFF(185,"Yes"),i.k0s(),i.j41(186,"option",37),i.EFF(187,"No"),i.k0s()()(),i.j41(188,"div",1)(189,"label",74),i.EFF(190,"Do you have any questions for us?"),i.k0s(),i.nrm(191,"textarea",75),i.k0s(),i.j41(192,"button",76),i.EFF(193,"Submit"),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("formGroup",I.intakeForm),i.R7$(191),i.Y8G("disabled",I.intakeForm.invalid))},dependencies:[Ci.qT,Ci.xH,Ci.y7,Ci.me,Ci.Q0,Ci.wz,Ci.BC,Ci.cb,Ci.j4,Ci.JD,Ln],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(c,y){this.businessDataService=c,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(c=>{console.log("Testimonial List - :",c),c&&(this.testimonials=c.testimonials||[],this.themeType=c.theme.themeType,this.metaService.loadAndApplyMeta(c?.id))})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ni.A),i.rXU($i.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,I){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,M_,2,1,"div",1),i.k0s()),2&y&&(i.R7$(2),i.Y8G("ngIf",I.testimonials.length>0))},dependencies:[_e.Sq,_e.bT,Ln],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"login",component:Af},{path:"admin",loadChildren:()=>j.e(655).then(j.bind(j,9655)).then(p=>p.AdminModule)},{path:":id",component:Ss.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let dm=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[mr.iI.forRoot(sh),mr.iI]})}}return p})();var Gp=j(5009);function tv(p,l){if(1&p&&i.nrm(0,"img",10),2&p){const c=i.XpG();i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const hm=function(p){return{"clemo-shrink":p}},O_=function(){return["/home"]},nv=function(p){return{id:p}},rv=function(p){return{"clemo-show":p}};let fm=(()=>{class p{constructor(c,y,I){this.route=c,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(mr.nX),i.rXU(mr.Ix),i.rXU(Ni.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(y,I){1&y&&i.bIt("scroll",function(){return I.onWindowScroll()},!1,i.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,I){1&y&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,tv,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return I.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return I.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.j41(11,"li",8)(12,"span",9),i.bIt("click",function(){return I.navigateTo("about-us")}),i.EFF(13,"About Us"),i.k0s()(),i.j41(14,"li",8)(15,"span",9),i.bIt("click",function(){return I.navigateTo("services")}),i.EFF(16,"Services"),i.k0s()(),i.j41(17,"li",8)(18,"span",9),i.bIt("click",function(){return I.navigateTo("gallery")}),i.EFF(19,"Our Home"),i.k0s()(),i.j41(20,"li",8)(21,"span",9),i.bIt("click",function(){return I.navigateTo("resident-form")}),i.EFF(22,"Resident Form"),i.k0s()(),i.j41(23,"li",8)(24,"span",9),i.bIt("click",function(){return I.navigateTo("contact-us")}),i.EFF(25,"Contact"),i.k0s()()()()()()),2&y&&(i.Y8G("ngClass",i.eq3(5,hm,I.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(7,O_))("queryParams",i.eq3(8,nv,I.businessId)),i.R7$(1),i.Y8G("ngIf",null==I.business?null:I.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(10,rv,I.menuOpen)))},dependencies:[_e.YU,_e.bT,mr.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:#007bff}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:#fff;position:absolute;top:70px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}}']})}}return p})();function d0(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const yu=function(){return["/home"]},cd=function(p){return{id:p}},wc=function(p){return{"open-bar1":p}},nl=function(p){return{"open-bar2":p}},N_=function(p){return{"open-bar3":p}},Fa=function(p){return{active:p}};function zp(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,d0,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,yu))("queryParams",i.eq3(8,cd,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,wc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,nl,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,N_,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,Fa,c.menuOpen))}}function oh(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}const Sf=function(){return["/contact-us"]};function ah(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,oh,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,yu))("queryParams",i.eq3(10,cd,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,wc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,nl,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,N_,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,Fa,c.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,Sf))("queryParams",i.eq3(21,cd,c.businessId))}}function Wp(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function Kp(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Wp,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,yu))("queryParams",i.eq3(10,cd,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,wc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,nl,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,N_,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,Fa,c.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,Sf))("queryParams",i.eq3(21,cd,c.businessId))}}function vu(p,l){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function qp(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const c=i.XpG(2);i.Y8G("src",null==c.business?null:c.business.logoImage,i.B4B)}}function nc(p,l){if(1&p){const c=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,qp,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(c);const I=i.XpG();return i.Njj(I.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const c=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,yu))("queryParams",i.eq3(10,cd,c.businessId)),i.R7$(1),i.Y8G("ngIf",null==c.business?null:c.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,wc,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,nl,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,N_,c.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,Fa,c.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,Sf))("queryParams",i.eq3(21,cd,c.businessId))}}let ch=(()=>{class p{constructor(c,y,I){this.route=c,this.router=y,this.businessDataService=I,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(c){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${c}`],{queryParams:y}).then(I=>{I||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(mr.nX),i.rXU(mr.Ix),i.rXU(Ni.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,I){1&y&&(i.j41(0,"div",0),i.DNE(1,zp,21,18,"ng-container",1),i.DNE(2,ah,29,23,"ng-container",1),i.DNE(3,Kp,29,23,"ng-container",1),i.DNE(4,vu,2,0,"ng-container",1),i.DNE(5,nc,27,23,"ng-container",1),i.k0s()),2&y&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[_e.YU,_e.bT,_e.ux,_e.e1,mr.Wk,fm],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function ld(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function Pf(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(6),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.JRh(null==c.business?null:c.business.providerName),i.R7$(5),i.JRh(null==c.business?null:c.business.address),i.R7$(5),i.JRh(null==c.business?null:c.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.email),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==c.business?null:c.business.businessName,". All rights reserved.")}}function k_(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(6),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.JRh(null==c.business?null:c.business.providerName),i.R7$(5),i.JRh(null==c.business?null:c.business.address),i.R7$(5),i.JRh(null==c.business?null:c.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.email),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==c.business?null:c.business.businessName,". All rights reserved.")}}function xf(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const c=i.XpG();i.R7$(4),i.JRh(null==c.business?null:c.business.businessName),i.R7$(7),i.SpI(" ",null==c.business?null:c.business.address," "),i.R7$(3),i.SpI("Provider:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==c.business?null:c.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==c.business?null:c.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==c.business?null:c.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==c.business?null:c.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==c.business?null:c.business.phone)}}function ud(p,l){if(1&p&&(i.j41(0,"div",21)(1,"h1",22),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",23)(4,"div",24)(5,"span",25),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",26),i.EFF(8),i.k0s()(),i.j41(9,"div",24)(10,"span",25),i.EFF(11,"Business ID:"),i.k0s(),i.j41(12,"span",26),i.EFF(13),i.k0s()(),i.j41(14,"div",24)(15,"span",25),i.EFF(16,"Business Name:"),i.k0s(),i.j41(17,"span",26),i.EFF(18),i.k0s()()()()),2&p){const c=i.XpG();i.R7$(8),i.JRh(c.themeFileName),i.R7$(5),i.JRh(null==c.business?null:c.business.id),i.R7$(5),i.JRh(null==c.business?null:c.business.businessName)}}let pm=(()=>{class p{constructor(c,y,I,V,z,se){this.route=c,this.webContentService=y,this.authService=I,this.themeService=V,this.businessDataService=z,this.router=se,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(c=>{this.business=c}),this.businessDataService.getBusinessId().subscribe(c=>{c&&(this.businessId=c,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(mr.nX),i.rXU(wi.N),i.rXU(Hp.u),i.rXU(Gp.F),i.rXU(Ni.A),i.rXU(mr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,I){1&y&&(i.j41(0,"div",0),i.DNE(1,ld,34,12,"ng-container",1),i.DNE(2,Pf,35,10,"ng-container",1),i.DNE(3,k_,35,10,"ng-container",1),i.DNE(4,xf,34,12,"ng-container",2),i.k0s(),i.DNE(5,ud,19,3,"div",3),i.nI1(6,"async")),2&y&&(i.Y8G("ngSwitch",I.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",i.bMT(6,5,I.isAuthenticated$)))},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,_e.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}}return p})(),Yp=(()=>{class p{constructor(c,y,I,V,z){this.route=c,this.webContent=y,this.metaService=I,this.router=V,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(c=>{c&&(this.business=c)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(mr.nX),i.rXU(wi.N),i.rXU($i.R),i.rXU(mr.Ix),i.rXU(Gp.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(y,I){1&y&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[mr.n3,ch,pm]})}}return p})();const Xp_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Nl=j(2214),hs=j(5407);class Eu{constructor(l){return l}}class Qp{constructor(){return(0,Nl.Dk)()}}const gm=new i.nKC("angularfire2._apps"),dd={provide:Eu,useFactory:function Jp(p){return p&&1===p.length?p[0]:new Eu((0,Nl.Sx)())},deps:[[new i.Xx1,gm]]},lh={provide:Qp,deps:[[new i.Xx1,gm]]};function V_(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new Eu(y)}}let uh=(()=>{class p{constructor(c){(0,Nl.KO)("angularfire",hs.xv.full,"core"),(0,Nl.KO)("angularfire",hs.xv.full,"app"),(0,Nl.KO)("angular",i.xvI.full,c.toString())}static \u0275fac=function(y){return new(y||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[dd,lh]})}return p})();function mm(p,...l){return{ngModule:uh,providers:[{provide:gm,useFactory:V_(p),multi:!0,deps:[i.SKi,i.zZn,hs.u0,...l]}]}}const Mf=(0,hs.S3)(Nl.Wp,!0);j(5504),j(7852),j(1076),j(8041),j(1362);class Em{constructor(){return(0,hs.CA)("auth")}}var R0=j(9583);class Ev{constructor(l){return l}}const O0="firestore",Cv=new i.nKC("angularfire2.firestore-instances");function Iv(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new Ev(y)}}const Tv={provide:class wm{constructor(){return(0,hs.CA)(O0)}},deps:[[new i.Xx1,Cv]]},G_={provide:Ev,useFactory:function Am(p,l){const c=(0,hs.lR)(O0,p,l);return c&&new Ev(c)},deps:[[new i.Xx1,Cv],Eu]};let Dm=(()=>{class p{constructor(){(0,Nl.KO)("angularfire",hs.xv.full,"fst")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[G_,Tv]})}return p})();function wv(p,...l){return{ngModule:Dm,providers:[{provide:Cv,useFactory:Iv(p),multi:!0,deps:[i.SKi,i.zZn,hs.u0,Qp,[new i.Xx1,Em],[new i.Xx1,hs.Jv],...l]}]}}const Av=(0,hs.S3)(R0.aU,!0);var fg=j(9253),_h=j(8721),ey=j(1977),yh=j(4535);class vh{constructor(l){return l}}const pg="storage",Eh=new i.nKC("angularfire2.storage-instances");function Ff(p){return(l,c)=>{const y=l.runOutsideAngular(()=>p(c));return new vh(y)}}const ny={provide:class gd{constructor(){return(0,hs.CA)(pg)}},deps:[[new i.Xx1,Eh]]},ra={provide:vh,useFactory:function ty(p,l){const c=(0,hs.lR)(pg,p,l);return c&&new vh(c)},deps:[[new i.Xx1,Eh],Eu]};let ry=(()=>{class p{constructor(){(0,Nl.KO)("angularfire",hs.xv.full,"gcs")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[ra,ny]})}return p})();function Vf(p,...l){return{ngModule:ry,providers:[{provide:Eh,useFactory:Ff(p),multi:!0,deps:[i.SKi,i.zZn,hs.u0,Qp,[new i.Xx1,Em],[new i.Xx1,hs.Jv],...l]}]}}const Fm=(0,hs.S3)(yh.c7,!0);var cy=j(3012);let Um=(()=>{class p{constructor(c,y,I){this.http=c,this.themeService=y,this.businessService=I,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(c){return new Promise((y,I)=>{this.themeService.getBusinessTheme(c).subscribe({next:V=>{this.themeService.applyThemeFile(V?V.themeFileName:"default.css").then(()=>y()).catch(se=>{console.error("Error applying theme file:",se),y()}),this.themeService.getThemeColors(c).subscribe(se=>{this.applyTheme(se),y()},se=>{console.error("Error loading theme:",se),y()})},error:V=>{console.error("Error loading business theme:",V),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(z=>{console.error("Error applying default theme file:",z),y()})}})})}applyTheme(c){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",c.primaryColor),document.documentElement.style.setProperty("--secondary-color",c.secondaryColor),document.documentElement.style.setProperty("--accent-color",c.accentColor),document.documentElement.style.setProperty("--background-color",c.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",c.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",c.textColor),document.documentElement.style.setProperty("--nav-background-color",c.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",c.navTextColor),document.documentElement.style.setProperty("--nav-active-background",c.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",c.navActiveText),document.documentElement.style.setProperty("--button-color",c.buttonColor),document.documentElement.style.setProperty("--button-hover-color",c.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(c){return c.primaryColor&&c.secondaryColor&&c.accentColor&&c.backgroundColor&&c.darkBackgroundColor&&c.textColor&&c.navBackgroundColor&&c.navTextColor&&c.navActiveBackground&&c.navActiveText&&c.buttonColor&&c.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ue),i.KVO(Gp.F),i.KVO(cy.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var zi=j(9969);function bh(p){return new i.wOt(3e3,!1)}function Su(p){switch(p.length){case 0:return new zi.sf;case 1:return p[0];default:return new zi.ui(p)}}function py(p,l,c=new Map,y=new Map){const I=[],V=[];let z=-1,se=null;if(l.forEach(ve=>{const ze=ve.get("offset"),pt=ze==z,Ft=pt&&se||new Map;ve.forEach((Cn,mn)=>{let bn=mn,zt=Cn;if("offset"!==mn)switch(bn=p.normalizePropertyName(bn,I),zt){case zi.FX:zt=c.get(mn);break;case zi.kp:zt=y.get(mn);break;default:zt=p.normalizeStyleValue(mn,bn,zt,I)}Ft.set(bn,zt)}),pt||V.push(Ft),se=Ft,z=ze}),I.length)throw function Dh(p){return new i.wOt(3502,!1)}();return V}function Gm(p,l,c,y){switch(l){case"start":p.onStart(()=>y(c&&ic(c,"start",p)));break;case"done":p.onDone(()=>y(c&&ic(c,"done",p)));break;case"destroy":p.onDestroy(()=>y(c&&ic(c,"destroy",p)))}}function ic(p,l,c){const V=Ed(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,c.totalTime??p.totalTime,!!c.disabled),z=p._data;return null!=z&&(V._data=z),V}function Ed(p,l,c,y,I="",V=0,z){return{element:p,triggerName:l,fromState:c,toState:y,phaseName:I,totalTime:V,disabled:!!z}}function ia(p,l,c){let y=p.get(l);return y||p.set(l,y=c),y}function $l(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}const Hf=(()=>typeof document>"u"?null:document.documentElement)();function Pu(p){const l=p.parentNode||p.host||null;return l===Hf?null:l}let Dc=null,bd=!1;function gy(p,l){for(;l;){if(l===p)return!0;l=Pu(l)}return!1}function Gf(p,l,c){if(c)return Array.from(p.querySelectorAll(l));const y=p.querySelector(l);return y?[y]:[]}let Ph=(()=>{class p{validateStyleProperty(c){return function zm(p){Dc||(Dc=function Fv(){return typeof document<"u"?document.body:null}()||{},bd=!!Dc.style&&"WebkitAppearance"in Dc.style);let l=!0;return Dc.style&&!function Sh(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in Dc.style,!l&&bd&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Dc.style)),l}(c)}matchesElement(c,y){return!1}containsElement(c,y){return gy(c,y)}getParentElement(c){return Pu(c)}query(c,y,I){return Gf(c,y,I)}computeStyle(c,y,I){return I||""}animate(c,y,I,V,z,se=[],ve){return new zi.sf(I,V)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),zf=(()=>{class p{static{this.NOOP=new Ph}}return p})();const my=1e3,Wm="ng-enter",Hl="ng-leave",Wf="ng-trigger",xh=".ng-trigger",Mh="ng-animating",Kf=".ng-animating";function Va(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Km(parseFloat(l[1]),l[2])}function Km(p,l){return"s"===l?p*my:p}function qf(p,l,c){return p.hasOwnProperty("duration")?p:function Yf(p,l,c){let I,V=0,z="";if("string"==typeof p){const se=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return l.push(bh()),{duration:0,delay:0,easing:""};I=Km(parseFloat(se[1]),se[2]);const ve=se[3];null!=ve&&(V=Km(parseFloat(ve),se[4]));const ze=se[5];ze&&(z=ze)}else I=p;if(!c){let se=!1,ve=l.length;I<0&&(l.push(function jl(){return new i.wOt(3100,!1)}()),se=!0),V<0&&(l.push(function jm(){return new i.wOt(3101,!1)}()),se=!0),se&&l.splice(ve,0,bh())}return{duration:I,delay:V,easing:z}}(p,l,c)}function Cd(p,l={}){return Object.keys(p).forEach(c=>{l[c]=p[c]}),l}function Xf(p){const l=new Map;return Object.keys(p).forEach(c=>{l.set(c,p[c])}),l}function sc(p,l=new Map,c){if(c)for(let[y,I]of c)l.set(y,I);for(let[y,I]of p)l.set(y,I);return l}function jo(p,l,c){l.forEach((y,I)=>{const V=Bo(I);c&&!c.has(I)&&c.set(I,p.style[V]),p.style[V]=y})}function ol(p,l){l.forEach((c,y)=>{const I=Bo(y);p.style[I]=""})}function Id(p){return Array.isArray(p)?1==p.length?p[0]:(0,zi.K2)(p):p}const bg=new RegExp("{{\\s*(.+?)\\s*}}","g");function qm(p){let l=[];if("string"==typeof p){let c;for(;c=bg.exec(p);)l.push(c[1]);bg.lastIndex=0}return l}function Gl(p,l,c){const y=p.toString(),I=y.replace(bg,(V,z)=>{let se=l[z];return null==se&&(c.push(function Ch(p){return new i.wOt(3003,!1)}()),se=""),se.toString()});return I==y?p:I}function xu(p){const l=[];let c=p.next();for(;!c.done;)l.push(c.value),c=p.next();return l}const Rh=/-+([a-z0-9])/g;function Bo(p){return p.replace(Rh,(...l)=>l[1].toUpperCase())}function v(p,l,c){switch(l.type){case 7:return p.visitTrigger(l,c);case 0:return p.visitState(l,c);case 1:return p.visitTransition(l,c);case 2:return p.visitSequence(l,c);case 3:return p.visitGroup(l,c);case 4:return p.visitAnimate(l,c);case 5:return p.visitKeyframes(l,c);case 6:return p.visitStyle(l,c);case 8:return p.visitReference(l,c);case 9:return p.visitAnimateChild(l,c);case 10:return p.visitAnimateRef(l,c);case 11:return p.visitQuery(l,c);case 12:return p.visitStagger(l,c);default:throw function Mo(p){return new i.wOt(3004,!1)}()}}function U(p,l){return window.getComputedStyle(p)[l]}const Ys="*";function Li(p,l){const c=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(y=>function $o(p,l,c){if(":"==p[0]){const ve=function Ho(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,y)=>parseFloat(y)>parseFloat(c);case":decrement":return(c,y)=>parseFloat(y)<parseFloat(c);default:return l.push(function Bm(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,c);if("function"==typeof ve)return void l.push(ve);p=ve}const y=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return c.push(function jf(p){return new i.wOt(3015,!1)}()),l;const I=y[1],V=y[2],z=y[3];l.push(Oh(I,z));"<"==V[0]&&!(I==Ys&&z==Ys)&&l.push(Oh(z,I))}(y,c,l)):c.push(p),c}const Sc=new Set(["true","1"]),Ro=new Set(["false","0"]);function Oh(p,l){const c=Sc.has(p)||Ro.has(p),y=Sc.has(l)||Ro.has(l);return(I,V)=>{let z=p==Ys||p==I,se=l==Ys||l==V;return!z&&c&&"boolean"==typeof I&&(z=I?Sc.has(p):Ro.has(p)),!se&&y&&"boolean"==typeof V&&(se=V?Sc.has(l):Ro.has(l)),z&&se}}const G0=new RegExp("s*:selfs*,?","g");function yy(p,l,c,y){return new z0(p).build(l,c,y)}class z0{constructor(l){this._driver=l}build(l,c,y){const I=new vy(c);return this._resetContextStyleTimingState(I),v(this,Id(l),I)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,c){let y=c.queryCount=0,I=c.depCount=0;const V=[],z=[];return"@"==l.name.charAt(0)&&c.errors.push(function Ih(){return new i.wOt(3006,!1)}()),l.definitions.forEach(se=>{if(this._resetContextStyleTimingState(c),0==se.type){const ve=se,ze=ve.name;ze.toString().split(/\s*,\s*/).forEach(pt=>{ve.name=pt,V.push(this.visitState(ve,c))}),ve.name=ze}else if(1==se.type){const ve=this.visitTransition(se,c);y+=ve.queryCount,I+=ve.depCount,z.push(ve)}else c.errors.push(function wa(){return new i.wOt(3007,!1)}())}),{type:7,name:l.name,states:V,transitions:z,queryCount:y,depCount:I,options:null}}visitState(l,c){const y=this.visitStyle(l.styles,c),I=l.options&&l.options.params||null;if(y.containsDynamicStyles){const V=new Set,z=I||{};y.styles.forEach(se=>{se instanceof Map&&se.forEach(ve=>{qm(ve).forEach(ze=>{z.hasOwnProperty(ze)||V.add(ze)})})}),V.size&&(xu(V.values()),c.errors.push(function mg(p,l){return new i.wOt(3008,!1)}()))}return{type:0,name:l.name,style:y,options:I?{params:I}:null}}visitTransition(l,c){c.queryCount=0,c.depCount=0;const y=v(this,Id(l.animation),c);return{type:1,matchers:Li(l.expr,c.errors),animation:y,queryCount:c.queryCount,depCount:c.depCount,options:Zf(l.options)}}visitSequence(l,c){return{type:2,steps:l.steps.map(y=>v(this,y,c)),options:Zf(l.options)}}visitGroup(l,c){const y=c.currentTime;let I=0;const V=l.steps.map(z=>{c.currentTime=y;const se=v(this,z,c);return I=Math.max(I,c.currentTime),se});return c.currentTime=I,{type:3,steps:V,options:Zf(l.options)}}visitAnimate(l,c){const y=function FE(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return Ym(qf(p,l).duration,0,"");const c=p;if(c.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Ym(0,0,"");return V.dynamic=!0,V.strValue=c,V}const I=qf(c,l);return Ym(I.duration,I.delay,I.easing)}(l.timings,c.errors);c.currentAnimateTimings=y;let I,V=l.styles?l.styles:(0,zi.iF)({});if(5==V.type)I=this.visitKeyframes(V,c);else{let z=l.styles,se=!1;if(!z){se=!0;const ze={};y.easing&&(ze.easing=y.easing),z=(0,zi.iF)(ze)}c.currentTime+=y.duration+y.delay;const ve=this.visitStyle(z,c);ve.isEmptyStep=se,I=ve}return c.currentAnimateTimings=null,{type:4,timings:y,style:I,options:null}}visitStyle(l,c){const y=this._makeStyleAst(l,c);return this._validateStyleAst(y,c),y}_makeStyleAst(l,c){const y=[],I=Array.isArray(l.styles)?l.styles:[l.styles];for(let se of I)"string"==typeof se?se===zi.kp?y.push(se):c.errors.push(new i.wOt(3002,!1)):y.push(Xf(se));let V=!1,z=null;return y.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(z=se.get("easing"),se.delete("easing")),!V))for(let ve of se.values())if(ve.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:y,easing:z,offset:l.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(l,c){const y=c.currentAnimateTimings;let I=c.currentTime,V=c.currentTime;y&&V>0&&(V-=y.duration+y.delay),l.styles.forEach(z=>{"string"!=typeof z&&z.forEach((se,ve)=>{const ze=c.collectedStyles.get(c.currentQuerySelector),pt=ze.get(ve);let Ft=!0;pt&&(V!=I&&V>=pt.startTime&&I<=pt.endTime&&(c.errors.push(function Th(p,l,c,y,I){return new i.wOt(3010,!1)}()),Ft=!1),V=pt.startTime),Ft&&ze.set(ve,{startTime:V,endTime:I}),c.options&&function Td(p,l,c){const y=l.params||{},I=qm(p);I.length&&I.forEach(V=>{y.hasOwnProperty(V)||c.push(function il(p){return new i.wOt(3001,!1)}())})}(se,c.options,c.errors)})})}visitKeyframes(l,c){const y={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function yd(){return new i.wOt(3011,!1)}()),y;let V=0;const z=[];let se=!1,ve=!1,ze=0;const pt=l.steps.map(br=>{const Kr=this._makeStyleAst(br,c);let Ir=null!=Kr.offset?Kr.offset:function Nh(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(c=>{if(c instanceof Map&&c.has("offset")){const y=c;l=parseFloat(y.get("offset")),y.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const c=p;l=parseFloat(c.get("offset")),c.delete("offset")}return l}(Kr.styles),sr=0;return null!=Ir&&(V++,sr=Kr.offset=Ir),ve=ve||sr<0||sr>1,se=se||sr<ze,ze=sr,z.push(sr),Kr});ve&&c.errors.push(function vd(){return new i.wOt(3012,!1)}()),se&&c.errors.push(function wh(){return new i.wOt(3200,!1)}());const Ft=l.steps.length;let Cn=0;V>0&&V<Ft?c.errors.push(function rc(){return new i.wOt(3202,!1)}()):0==V&&(Cn=1/(Ft-1));const mn=Ft-1,bn=c.currentTime,zt=c.currentAnimateTimings,Rn=zt.duration;return pt.forEach((br,Kr)=>{const Ir=Cn>0?Kr==mn?1:Cn*Kr:z[Kr],sr=Ir*Rn;c.currentTime=bn+zt.delay+sr,zt.duration=sr,this._validateStyleAst(br,c),br.offset=Ir,y.styles.push(br)}),y}visitReference(l,c){return{type:8,animation:v(this,Id(l.animation),c),options:Zf(l.options)}}visitAnimateChild(l,c){return c.depCount++,{type:9,options:Zf(l.options)}}visitAnimateRef(l,c){return{type:10,animation:this.visitReference(l.animation,c),options:Zf(l.options)}}visitQuery(l,c){const y=c.currentQuerySelector,I=l.options||{};c.queryCount++,c.currentQuery=l;const[V,z]=function W0(p){const l=!!p.split(/\s*,\s*/).find(c=>":self"==c);return l&&(p=p.replace(G0,"")),p=p.replace(/@\*/g,xh).replace(/@\w+/g,c=>xh+"-"+c.slice(1)).replace(/:animating/g,Kf),[p,l]}(l.selector);c.currentQuerySelector=y.length?y+" "+V:V,ia(c.collectedStyles,c.currentQuerySelector,new Map);const se=v(this,Id(l.animation),c);return c.currentQuery=null,c.currentQuerySelector=y,{type:11,selector:V,limit:I.limit||0,optional:!!I.optional,includeSelf:z,animation:se,originalSelector:l.selector,options:Zf(l.options)}}visitStagger(l,c){c.currentQuery||c.errors.push(function Aa(){return new i.wOt(3013,!1)}());const y="full"===l.timings?{duration:0,delay:0,easing:"full"}:qf(l.timings,c.errors,!0);return{type:12,animation:v(this,Id(l.animation),c),timings:y,options:null}}}class vy{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zf(p){return p?(p=Cd(p)).params&&(p.params=function K0(p){return p?Cd(p):null}(p.params)):p={},p}function Ym(p,l,c){return{duration:p,delay:l,easing:c}}function Ad(p,l,c,y,I,V,z=null,se=!1){return{type:1,element:p,keyframes:l,preStyleProps:c,postStyleProps:y,duration:I,delay:V,totalTime:I+V,easing:z,subTimeline:se}}class Cg{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,c){let y=this._map.get(l);y||this._map.set(l,y=[]),y.push(...c)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Jb=new RegExp(":enter","g"),LE=new RegExp(":leave","g");function jv(p,l,c,y,I,V=new Map,z=new Map,se,ve,ze=[]){return(new q0).buildKeyframes(p,l,c,y,I,V,z,se,ve,ze)}class q0{buildKeyframes(l,c,y,I,V,z,se,ve,ze,pt=[]){ze=ze||new Cg;const Ft=new po(l,c,ze,I,V,pt,[]);Ft.options=ve;const Cn=ve.delay?Va(ve.delay):0;Ft.currentTimeline.delayNextStep(Cn),Ft.currentTimeline.setStyles([z],null,Ft.errors,ve),v(this,y,Ft);const mn=Ft.timelines.filter(bn=>bn.containsAnimation());if(mn.length&&se.size){let bn;for(let zt=mn.length-1;zt>=0;zt--){const Rn=mn[zt];if(Rn.element===c){bn=Rn;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([se],null,Ft.errors,ve)}return mn.length?mn.map(bn=>bn.buildKeyframes()):[Ad(c,[],[],[],0,Cn,"",!1)]}visitTrigger(l,c){}visitState(l,c){}visitTransition(l,c){}visitAnimateChild(l,c){const y=c.subInstructions.get(c.element);if(y){const I=c.createSubContext(l.options),V=c.currentTimeline.currentTime,z=this._visitSubInstructions(y,I,I.options);V!=z&&c.transformIntoNewTimeline(z)}c.previousNode=l}visitAnimateRef(l,c){const y=c.createSubContext(l.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],c,y),this.visitReference(l.animation,y),c.transformIntoNewTimeline(y.currentTimeline.currentTime),c.previousNode=l}_applyAnimationRefDelays(l,c,y){for(const I of l){const V=I?.delay;if(V){const z="number"==typeof V?V:Va(Gl(V,I?.params??{},c.errors));y.delayNextStep(z)}}}_visitSubInstructions(l,c,y){let V=c.currentTimeline.currentTime;const z=null!=y.duration?Va(y.duration):null,se=null!=y.delay?Va(y.delay):null;return 0!==z&&l.forEach(ve=>{const ze=c.appendInstructionToTimeline(ve,z,se);V=Math.max(V,ze.duration+ze.delay)}),V}visitReference(l,c){c.updateOptions(l.options,!0),v(this,l.animation,c),c.previousNode=l}visitSequence(l,c){const y=c.subContextCount;let I=c;const V=l.options;if(V&&(V.params||V.delay)&&(I=c.createSubContext(V),I.transformIntoNewTimeline(),null!=V.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=Ey);const z=Va(V.delay);I.delayNextStep(z)}l.steps.length&&(l.steps.forEach(z=>v(this,z,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>y&&I.transformIntoNewTimeline()),c.previousNode=l}visitGroup(l,c){const y=[];let I=c.currentTimeline.currentTime;const V=l.options&&l.options.delay?Va(l.options.delay):0;l.steps.forEach(z=>{const se=c.createSubContext(l.options);V&&se.delayNextStep(V),v(this,z,se),I=Math.max(I,se.currentTimeline.currentTime),y.push(se.currentTimeline)}),y.forEach(z=>c.currentTimeline.mergeTimelineCollectedStyles(z)),c.transformIntoNewTimeline(I),c.previousNode=l}_visitTiming(l,c){if(l.dynamic){const y=l.strValue;return qf(c.params?Gl(y,c.params,c.errors):y,c.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,c){const y=c.currentAnimateTimings=this._visitTiming(l.timings,c),I=c.currentTimeline;y.delay&&(c.incrementTime(y.delay),I.snapshotCurrentStyles());const V=l.style;5==V.type?this.visitKeyframes(V,c):(c.incrementTime(y.duration),this.visitStyle(V,c),I.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=l}visitStyle(l,c){const y=c.currentTimeline,I=c.currentAnimateTimings;!I&&y.hasCurrentStyleProperties()&&y.forwardFrame();const V=I&&I.easing||l.easing;l.isEmptyStep?y.applyEmptyStep(V):y.setStyles(l.styles,V,c.errors,c.options),c.previousNode=l}visitKeyframes(l,c){const y=c.currentAnimateTimings,I=c.currentTimeline.duration,V=y.duration,se=c.createSubContext().currentTimeline;se.easing=y.easing,l.styles.forEach(ve=>{se.forwardTime((ve.offset||0)*V),se.setStyles(ve.styles,ve.easing,c.errors,c.options),se.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(se),c.transformIntoNewTimeline(I+V),c.previousNode=l}visitQuery(l,c){const y=c.currentTimeline.currentTime,I=l.options||{},V=I.delay?Va(I.delay):0;V&&(6===c.previousNode.type||0==y&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Ey);let z=y;const se=c.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!I.optional,c.errors);c.currentQueryTotal=se.length;let ve=null;se.forEach((ze,pt)=>{c.currentQueryIndex=pt;const Ft=c.createSubContext(l.options,ze);V&&Ft.delayNextStep(V),ze===c.element&&(ve=Ft.currentTimeline),v(this,l.animation,Ft),Ft.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Ft.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(z),ve&&(c.currentTimeline.mergeTimelineCollectedStyles(ve),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=l}visitStagger(l,c){const y=c.parentContext,I=c.currentTimeline,V=l.timings,z=Math.abs(V.duration),se=z*(c.currentQueryTotal-1);let ve=z*c.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":ve=se-ve;break;case"full":ve=y.currentStaggerTime}const pt=c.currentTimeline;ve&&pt.delayNextStep(ve);const Ft=pt.currentTime;v(this,l.animation,c),c.previousNode=l,y.currentStaggerTime=I.currentTime-Ft+(I.startTime-y.currentTimeline.startTime)}}const Ey={};class po{constructor(l,c,y,I,V,z,se,ve){this._driver=l,this.element=c,this.subInstructions=y,this._enterClassName=I,this._leaveClassName=V,this.errors=z,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ey,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ve||new Xm(this._driver,c,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,c){if(!l)return;const y=l;let I=this.options;null!=y.duration&&(I.duration=Va(y.duration)),null!=y.delay&&(I.delay=Va(y.delay));const V=y.params;if(V){let z=I.params;z||(z=this.options.params={}),Object.keys(V).forEach(se=>{(!c||!z.hasOwnProperty(se))&&(z[se]=Gl(V[se],z,this.errors))})}}_copyOptions(){const l={};if(this.options){const c=this.options.params;if(c){const y=l.params={};Object.keys(c).forEach(I=>{y[I]=c[I]})}}return l}createSubContext(l=null,c,y){const I=c||this.element,V=new po(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,y||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(l),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(l){return this.previousNode=Ey,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,c,y){const I={duration:c??l.duration,delay:this.currentTimeline.currentTime+(y??0)+l.delay,easing:""},V=new UE(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,I,l.stretchStartingKeyframe);return this.timelines.push(V),I}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,c,y,I,V,z){let se=[];if(I&&se.push(this.element),l.length>0){l=(l=l.replace(Jb,"."+this._enterClassName)).replace(LE,"."+this._leaveClassName);let ze=this._driver.query(this.element,l,1!=y);0!==y&&(ze=y<0?ze.slice(ze.length+y,ze.length):ze.slice(0,y)),se.push(...ze)}return!V&&0==se.length&&z.push(function Bl(p){return new i.wOt(3014,!1)}()),se}}class Xm{constructor(l,c,y,I){this._driver=l,this.element=c,this.startTime=y,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+l),c&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,c){return this.applyStylesToKeyframe(),new Xm(this._driver,l,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,c){this._localTimelineStyles.set(l,c),this._globalTimelineStyles.set(l,c),this._styleSummary.set(l,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[c,y]of this._globalTimelineStyles)this._backFill.set(c,y||zi.kp),this._currentKeyframe.set(c,zi.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,c,y,I){c&&this._previousKeyframe.set("easing",c);const V=I&&I.params||{},z=function X0(p,l){const c=new Map;let y;return p.forEach(I=>{if("*"===I){y=y||l.keys();for(let V of y)c.set(V,zi.kp)}else sc(I,c)}),c}(l,this._globalTimelineStyles);for(let[se,ve]of z){const ze=Gl(ve,V,y);this._pendingStyles.set(se,ze),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??zi.kp),this._updateStyle(se,ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,c)=>{this._currentKeyframe.set(c,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,l)}))}snapshotCurrentStyles(){for(let[l,c]of this._localTimelineStyles)this._pendingStyles.set(l,c),this._updateStyle(l,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let c in this._currentKeyframe)l.push(c);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((c,y)=>{const I=this._styleSummary.get(y);(!I||c.time>I.time)&&this._updateStyle(y,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,c=new Set,y=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((se,ve)=>{const ze=sc(se,new Map,this._backFill);ze.forEach((pt,Ft)=>{pt===zi.FX?l.add(Ft):pt===zi.kp&&c.add(Ft)}),y||ze.set("offset",ve/this.duration),I.push(ze)});const V=l.size?xu(l.values()):[],z=c.size?xu(c.values()):[];if(y){const se=I[0],ve=new Map(se);se.set("offset",0),ve.set("offset",1),I=[se,ve]}return Ad(this.element,I,V,z,this.duration,this.startTime,this.easing,!1)}}class UE extends Xm{constructor(l,c,y,I,V,z,se=!1){super(l,c,z.delay),this.keyframes=y,this.preStyleProps=I,this.postStyleProps=V,this._stretchStartingKeyframe=se,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:c,duration:y,easing:I}=this.timings;if(this._stretchStartingKeyframe&&c){const V=[],z=y+c,se=c/z,ve=sc(l[0]);ve.set("offset",0),V.push(ve);const ze=sc(l[0]);ze.set("offset",Y0(se)),V.push(ze);const pt=l.length-1;for(let Ft=1;Ft<=pt;Ft++){let Cn=sc(l[Ft]);const mn=Cn.get("offset");Cn.set("offset",Y0((c+mn*y)/z)),V.push(Cn)}y=z,c=0,I="",l=V}return Ad(this.element,l,this.preStyleProps,this.postStyleProps,y,c,I,!0)}}function Y0(p,l=3){const c=Math.pow(10,l-1);return Math.round(p*c)/c}class by{}const Ig=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class BE extends by{normalizePropertyName(l,c){return Bo(l)}normalizeStyleValue(l,c,y,I){let V="";const z=y.toString().trim();if(Ig.has(c)&&0!==y&&"0"!==y)if("number"==typeof y)V="px";else{const se=y.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&I.push(function Au(p,l){return new i.wOt(3005,!1)}())}return z+V}}function Q0(p,l,c,y,I,V,z,se,ve,ze,pt,Ft,Cn){return{type:0,element:p,triggerName:l,isRemovalTransition:I,fromState:c,fromStyles:V,toState:y,toStyles:z,timelines:se,queriedElements:ve,preStyleProps:ze,postStyleProps:pt,totalTime:Ft,errors:Cn}}const Cy={};class J0{constructor(l,c,y){this._triggerName=l,this.ast=c,this._stateStyles=y}match(l,c,y,I){return function tC(p,l,c,y,I){return p.some(V=>V(l,c,y,I))}(this.ast.matchers,l,c,y,I)}buildStyles(l,c,y){let I=this._stateStyles.get("*");return void 0!==l&&(I=this._stateStyles.get(l?.toString())||I),I?I.buildStyles(c,y):new Map}build(l,c,y,I,V,z,se,ve,ze,pt){const Ft=[],Cn=this.ast.options&&this.ast.options.params||Cy,bn=this.buildStyles(y,se&&se.params||Cy,Ft),zt=ve&&ve.params||Cy,Rn=this.buildStyles(I,zt,Ft),br=new Set,Kr=new Map,Ir=new Map,sr="void"===I,Ti={params:Bv(zt,Cn),delay:this.ast.options?.delay},Zr=pt?[]:jv(l,c,this.ast.animation,V,z,bn,Rn,Ti,ze,Ft);let _i=0;if(Zr.forEach(gs=>{_i=Math.max(gs.duration+gs.delay,_i)}),Ft.length)return Q0(c,this._triggerName,y,I,sr,bn,Rn,[],[],Kr,Ir,_i,Ft);Zr.forEach(gs=>{const ss=gs.element,Xs=ia(Kr,ss,new Set);gs.preStyleProps.forEach(Qs=>Xs.add(Qs));const sa=ia(Ir,ss,new Set);gs.postStyleProps.forEach(Qs=>sa.add(Qs)),ss!==c&&br.add(ss)});const ps=xu(br.values());return Q0(c,this._triggerName,y,I,sr,bn,Rn,Zr,ps,Kr,Ir,_i)}}function Bv(p,l){const c=Cd(l);for(const y in p)p.hasOwnProperty(y)&&null!=p[y]&&(c[y]=p[y]);return c}class $v{constructor(l,c,y){this.styles=l,this.defaultParams=c,this.normalizer=y}buildStyles(l,c){const y=new Map,I=Cd(this.defaultParams);return Object.keys(l).forEach(V=>{const z=l[V];null!==z&&(I[V]=z)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((z,se)=>{z&&(z=Gl(z,I,c));const ve=this.normalizer.normalizePropertyName(se,c);z=this.normalizer.normalizeStyleValue(se,ve,z,c),y.set(se,z)})}),y}}class HE{constructor(l,c,y){this.name=l,this.ast=c,this._normalizer=y,this.transitionFactories=[],this.states=new Map,c.states.forEach(I=>{this.states.set(I.name,new $v(I.style,I.options&&I.options.params||{},y))}),zl(this.states,"true","1"),zl(this.states,"false","0"),c.transitions.forEach(I=>{this.transitionFactories.push(new J0(l,I,this.states))}),this.fallbackTransition=function Z0(p,l,c){return new J0(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,se)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,c,y,I){return this.transitionFactories.find(z=>z.match(l,c,y,I))||null}matchStyles(l,c,y){return this.fallbackTransition.buildStyles(l,c,y)}}function zl(p,l,c){p.has(l)?p.has(c)||p.set(c,p.get(l)):p.has(c)&&p.set(l,p.get(c))}const Wl=new Cg;class Kl{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,c){const y=[],V=yy(this._driver,c,y,[]);if(y.length)throw function uy(p){return new i.wOt(3503,!1)}();this._animations.set(l,V)}_buildPlayer(l,c,y){const I=l.element,V=py(this._normalizer,l.keyframes,c,y);return this._driver.animate(I,V,l.duration,l.delay,l.easing,[],!0)}create(l,c,y={}){const I=[],V=this._animations.get(l);let z;const se=new Map;if(V?(z=jv(this._driver,c,V,Wm,Hl,new Map,new Map,y,Wl,I),z.forEach(pt=>{const Ft=ia(se,pt.element,new Map);pt.postStyleProps.forEach(Cn=>Ft.set(Cn,null))})):(I.push(function $m(){return new i.wOt(3300,!1)}()),z=[]),I.length)throw function dy(p){return new i.wOt(3504,!1)}();se.forEach((pt,Ft)=>{pt.forEach((Cn,mn)=>{pt.set(mn,this._driver.computeStyle(Ft,mn,zi.kp))})});const ze=Su(z.map(pt=>{const Ft=se.get(pt.element);return this._buildPlayer(pt,new Map,Ft)}));return this._playersById.set(l,ze),ze.onDestroy(()=>this.destroy(l)),this.players.push(ze),ze}destroy(l){const c=this._getPlayer(l);c.destroy(),this._playersById.delete(l);const y=this.players.indexOf(c);y>=0&&this.players.splice(y,1)}_getPlayer(l){const c=this._playersById.get(l);if(!c)throw function Hm(p){return new i.wOt(3301,!1)}();return c}listen(l,c,y,I){const V=Ed(c,"","","");return Gm(this._getPlayer(l),y,V,I),()=>{}}command(l,c,y,I){if("register"==y)return void this.register(l,I[0]);if("create"==y)return void this.create(l,c,I[0]||{});const V=this._getPlayer(l);switch(y){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(l)}}}const Hv="ng-animate-queued",Gv="ng-animate-disabled",zv=[],Tg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},al="__ng_removed";class Wv{get params(){return this.options.params}constructor(l,c=""){this.namespaceId=c;const y=l&&l.hasOwnProperty("value");if(this.value=function rE(p){return p??null}(y?l.value:l),y){const V=Cd(l);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const c=l.params;if(c){const y=this.options.params;Object.keys(c).forEach(I=>{null==y[I]&&(y[I]=c[I])})}}}const Qm="void",Iy=new Wv(Qm);class tE{constructor(l,c,y){this.id=l,this.hostElement=c,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,oc(c,this._hostClassName)}listen(l,c,y,I){if(!this._triggers.has(c))throw function kv(p,l){return new i.wOt(3302,!1)}();if(null==y||0==y.length)throw function $0(p){return new i.wOt(3303,!1)}();if(!function qE(p){return"start"==p||"done"==p}(y))throw function _g(p,l){return new i.wOt(3400,!1)}();const V=ia(this._elementListeners,l,[]),z={name:c,phase:y,callback:I};V.push(z);const se=ia(this._engine.statesByElement,l,new Map);return se.has(c)||(oc(l,Wf),oc(l,Wf+"-"+c),se.set(c,Iy)),()=>{this._engine.afterFlush(()=>{const ve=V.indexOf(z);ve>=0&&V.splice(ve,1),this._triggers.has(c)||se.delete(c)})}}register(l,c){return!this._triggers.has(l)&&(this._triggers.set(l,c),!0)}_getTrigger(l){const c=this._triggers.get(l);if(!c)throw function Du(p){return new i.wOt(3401,!1)}();return c}trigger(l,c,y,I=!0){const V=this._getTrigger(c),z=new Kv(this.id,c,l);let se=this._engine.statesByElement.get(l);se||(oc(l,Wf),oc(l,Wf+"-"+c),this._engine.statesByElement.set(l,se=new Map));let ve=se.get(c);const ze=new Wv(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&ve&&ze.absorbOptions(ve.options),se.set(c,ze),ve||(ve=Iy),ze.value!==Qm&&ve.value===ze.value){if(!function aE(p,l){const c=Object.keys(p),y=Object.keys(l);if(c.length!=y.length)return!1;for(let I=0;I<c.length;I++){const V=c[I];if(!l.hasOwnProperty(V)||p[V]!==l[V])return!1}return!0}(ve.params,ze.params)){const zt=[],Rn=V.matchStyles(ve.value,ve.params,zt),br=V.matchStyles(ze.value,ze.params,zt);zt.length?this._engine.reportError(zt):this._engine.afterFlush(()=>{ol(l,Rn),jo(l,br)})}return}const Cn=ia(this._engine.playersByElement,l,[]);Cn.forEach(zt=>{zt.namespaceId==this.id&&zt.triggerName==c&&zt.queued&&zt.destroy()});let mn=V.matchTransition(ve.value,ze.value,l,ze.params),bn=!1;if(!mn){if(!I)return;mn=V.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:c,transition:mn,fromState:ve,toState:ze,player:z,isFallbackTransition:bn}),bn||(oc(l,Hv),z.onStart(()=>{ep(l,Hv)})),z.onDone(()=>{let zt=this.players.indexOf(z);zt>=0&&this.players.splice(zt,1);const Rn=this._engine.playersByElement.get(l);if(Rn){let br=Rn.indexOf(z);br>=0&&Rn.splice(br,1)}}),this.players.push(z),Cn.push(z),z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(c=>c.delete(l)),this._elementListeners.forEach((c,y)=>{this._elementListeners.set(y,c.filter(I=>I.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const c=this._engine.playersByElement.get(l);c&&(c.forEach(y=>y.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,c){const y=this._engine.driver.query(l,xh,!0);y.forEach(I=>{if(I[al])return;const V=this._engine.fetchNamespacesByElement(I);V.size?V.forEach(z=>z.triggerLeaveAnimation(I,c,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(l,c,y,I){const V=this._engine.statesByElement.get(l),z=new Map;if(V){const se=[];if(V.forEach((ve,ze)=>{if(z.set(ze,ve.value),this._triggers.has(ze)){const pt=this.trigger(l,ze,Qm,I);pt&&se.push(pt)}}),se.length)return this._engine.markElementAsRemoved(this.id,l,!0,c,z),y&&Su(se).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const c=this._elementListeners.get(l),y=this._engine.statesByElement.get(l);if(c&&y){const I=new Set;c.forEach(V=>{const z=V.name;if(I.has(z))return;I.add(z);const ve=this._triggers.get(z).fallbackTransition,ze=y.get(z)||Iy,pt=new Wv(Qm),Ft=new Kv(this.id,z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:z,transition:ve,fromState:ze,toState:pt,player:Ft,isFallbackTransition:!0})})}}removeNode(l,c){const y=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,c),this.triggerLeaveAnimation(l,c,!0))return;let I=!1;if(y.totalAnimations){const V=y.players.length?y.playersByQueriedElement.get(l):[];if(V&&V.length)I=!0;else{let z=l;for(;z=z.parentNode;)if(y.statesByElement.get(z)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(l),I)y.markElementAsRemoved(this.id,l,!1,c);else{const V=l[al];(!V||V===Tg)&&(y.afterFlush(()=>this.clearElementCache(l)),y.destroyInnerAnimations(l),y._onRemovalComplete(l,c))}}insertNode(l,c){oc(l,this._hostClassName)}drainQueuedTransitions(l){const c=[];return this._queue.forEach(y=>{const I=y.player;if(I.destroyed)return;const V=y.element,z=this._elementListeners.get(V);z&&z.forEach(se=>{if(se.name==y.triggerName){const ve=Ed(V,y.triggerName,y.fromState.value,y.toState.value);ve._data=l,Gm(y.player,se.phase,ve,se.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):c.push(y)}),this._queue=[],c.sort((y,I)=>{const V=y.transition.ast.depCount,z=I.transition.ast.depCount;return 0==V||0==z?V-z:this._engine.driver.containsElement(y.element,I.element)?1:-1})}destroy(l){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class Ty{_onRemovalComplete(l,c){this.onRemovalComplete(l,c)}constructor(l,c,y){this.bodyNode=l,this.driver=c,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,V)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(c=>{c.players.forEach(y=>{y.queued&&l.push(y)})}),l}createNamespace(l,c){const y=new tE(l,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(y,c):(this.newHostElements.set(c,y),this.collectEnterElement(c)),this._namespaceLookup[l]=y}_balanceNamespaceList(l,c){const y=this._namespaceList,I=this.namespacesByHostElement;if(y.length-1>=0){let z=!1,se=this.driver.getParentElement(c);for(;se;){const ve=I.get(se);if(ve){const ze=y.indexOf(ve);y.splice(ze+1,0,l),z=!0;break}se=this.driver.getParentElement(se)}z||y.unshift(l)}else y.push(l);return I.set(c,l),l}register(l,c){let y=this._namespaceLookup[l];return y||(y=this.createNamespace(l,c)),y}registerTrigger(l,c,y){let I=this._namespaceLookup[l];I&&I.register(c,y)&&this.totalAnimations++}destroy(l,c){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(l);this.namespacesByHostElement.delete(y.hostElement);const I=this._namespaceList.indexOf(y);I>=0&&this._namespaceList.splice(I,1),y.destroy(c),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const c=new Set,y=this.statesByElement.get(l);if(y)for(let I of y.values())if(I.namespaceId){const V=this._fetchNamespace(I.namespaceId);V&&c.add(V)}return c}trigger(l,c,y,I){if(Jm(c)){const V=this._fetchNamespace(l);if(V)return V.trigger(c,y,I),!0}return!1}insertNode(l,c,y,I){if(!Jm(c))return;const V=c[al];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const z=this.collectedLeaveElements.indexOf(c);z>=0&&this.collectedLeaveElements.splice(z,1)}if(l){const z=this._fetchNamespace(l);z&&z.insertNode(c,y)}I&&this.collectEnterElement(c)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,c){c?this.disabledNodes.has(l)||(this.disabledNodes.add(l),oc(l,Gv)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),ep(l,Gv))}removeNode(l,c,y){if(Jm(c)){const I=l?this._fetchNamespace(l):null;I?I.removeNode(c,y):this.markElementAsRemoved(l,c,!1,y);const V=this.namespacesByHostElement.get(c);V&&V.id!==l&&V.removeNode(c,y)}else this._onRemovalComplete(c,y)}markElementAsRemoved(l,c,y,I,V){this.collectedLeaveElements.push(c),c[al]={namespaceId:l,setForRemoval:I,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:V}}listen(l,c,y,I,V){return Jm(c)?this._fetchNamespace(l).listen(c,y,I,V):()=>{}}_buildInstruction(l,c,y,I,V){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,y,I,l.fromState.options,l.toState.options,c,V)}destroyInnerAnimations(l){let c=this.driver.query(l,xh,!0);c.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(l,Kf,!0),c.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(l){const c=this.playersByElement.get(l);c&&c.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(l){const c=this.playersByQueriedElement.get(l);c&&c.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return Su(this.players).onDone(()=>l());l()})}processLeaveNode(l){const c=l[al];if(c&&c.setForRemoval){if(l[al]=Tg,c.namespaceId){this.destroyInnerAnimations(l);const y=this._fetchNamespace(c.namespaceId);y&&y.clearElementCache(l)}this._onRemovalComplete(l,c.setForRemoval)}l.classList?.contains(Gv)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(l=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,I)=>this._balanceNamespaceList(y,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)oc(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{c=this._flushAnimations(y,l)}finally{for(let I=0;I<y.length;I++)y[I]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],c.length?Su(c).onDone(()=>{y.forEach(I=>I())}):y.forEach(I=>I())}}reportError(l){throw function hy(p){return new i.wOt(3402,!1)}()}_flushAnimations(l,c){const y=new Cg,I=[],V=new Map,z=[],se=new Map,ve=new Map,ze=new Map,pt=new Set;this.disabledNodes.forEach(Nn=>{pt.add(Nn);const Qn=this.driver.query(Nn,".ng-animate-queued",!0);for(let yr=0;yr<Qn.length;yr++)pt.add(Qn[yr])});const Ft=this.bodyNode,Cn=Array.from(this.statesByElement.keys()),mn=Zm(Cn,this.collectedEnterElements),bn=new Map;let zt=0;mn.forEach((Nn,Qn)=>{const yr=Wm+zt++;bn.set(Qn,yr),Nn.forEach(di=>oc(di,yr))});const Rn=[],br=new Set,Kr=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const Qn=this.collectedLeaveElements[Nn],yr=Qn[al];yr&&yr.setForRemoval&&(Rn.push(Qn),br.add(Qn),yr.hasAnimation?this.driver.query(Qn,".ng-star-inserted",!0).forEach(di=>br.add(di)):Kr.add(Qn))}const Ir=new Map,sr=Zm(Cn,Array.from(br));sr.forEach((Nn,Qn)=>{const yr=Hl+zt++;Ir.set(Qn,yr),Nn.forEach(di=>oc(di,yr))}),l.push(()=>{mn.forEach((Nn,Qn)=>{const yr=bn.get(Qn);Nn.forEach(di=>ep(di,yr))}),sr.forEach((Nn,Qn)=>{const yr=Ir.get(Qn);Nn.forEach(di=>ep(di,yr))}),Rn.forEach(Nn=>{this.processLeaveNode(Nn)})});const Ti=[],Zr=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(c).forEach(yr=>{const di=yr.player,Cs=yr.element;if(Ti.push(di),this.collectedEnterElements.length){const io=Cs[al];if(io&&io.setForMove){if(io.previousTriggersValues&&io.previousTriggersValues.has(yr.triggerName)){const La=io.previousTriggersValues.get(yr.triggerName),oa=this.statesByElement.get(yr.element);if(oa&&oa.has(yr.triggerName)){const wg=oa.get(yr.triggerName);wg.value=La,oa.set(yr.triggerName,wg)}}return void di.destroy()}}const Go=!Ft||!this.driver.containsElement(Ft,Cs),Oo=Ir.get(Cs),xc=bn.get(Cs),Zi=this._buildInstruction(yr,y,xc,Oo,Go);if(Zi.errors&&Zi.errors.length)return void Zr.push(Zi);if(Go)return di.onStart(()=>ol(Cs,Zi.fromStyles)),di.onDestroy(()=>jo(Cs,Zi.toStyles)),void I.push(di);if(yr.isFallbackTransition)return di.onStart(()=>ol(Cs,Zi.fromStyles)),di.onDestroy(()=>jo(Cs,Zi.toStyles)),void I.push(di);const cl=[];Zi.timelines.forEach(io=>{io.stretchStartingKeyframe=!0,this.disabledNodes.has(io.element)||cl.push(io)}),Zi.timelines=cl,y.append(Cs,Zi.timelines),z.push({instruction:Zi,player:di,element:Cs}),Zi.queriedElements.forEach(io=>ia(se,io,[]).push(di)),Zi.preStyleProps.forEach((io,La)=>{if(io.size){let oa=ve.get(La);oa||ve.set(La,oa=new Set),io.forEach((wg,np)=>oa.add(np))}}),Zi.postStyleProps.forEach((io,La)=>{let oa=ze.get(La);oa||ze.set(La,oa=new Set),io.forEach((wg,np)=>oa.add(np))})});if(Zr.length){const Nn=[];Zr.forEach(Qn=>{Nn.push(function fy(p,l){return new i.wOt(3505,!1)}())}),Ti.forEach(Qn=>Qn.destroy()),this.reportError(Nn)}const _i=new Map,ps=new Map;z.forEach(Nn=>{const Qn=Nn.element;y.has(Qn)&&(ps.set(Qn,Qn),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,_i))}),I.forEach(Nn=>{const Qn=Nn.element;this._getPreviousPlayers(Qn,!1,Nn.namespaceId,Nn.triggerName,null).forEach(di=>{ia(_i,Qn,[]).push(di),di.destroy()})});const gs=Rn.filter(Nn=>Yv(Nn,ve,ze)),ss=new Map;wy(ss,this.driver,Kr,ze,zi.kp).forEach(Nn=>{Yv(Nn,ve,ze)&&gs.push(Nn)});const sa=new Map;mn.forEach((Nn,Qn)=>{wy(sa,this.driver,new Set(Nn),ve,zi.FX)}),gs.forEach(Nn=>{const Qn=ss.get(Nn),yr=sa.get(Nn);ss.set(Nn,new Map([...Qn?.entries()??[],...yr?.entries()??[]]))});const Qs=[],Ru=[],Pc={};z.forEach(Nn=>{const{element:Qn,player:yr,instruction:di}=Nn;if(y.has(Qn)){if(pt.has(Qn))return yr.onDestroy(()=>jo(Qn,di.toStyles)),yr.disabled=!0,yr.overrideTotalTime(di.totalTime),void I.push(yr);let Cs=Pc;if(ps.size>1){let Oo=Qn;const xc=[];for(;Oo=Oo.parentNode;){const Zi=ps.get(Oo);if(Zi){Cs=Zi;break}xc.push(Oo)}xc.forEach(Zi=>ps.set(Zi,Cs))}const Go=this._buildAnimation(yr.namespaceId,di,_i,V,sa,ss);if(yr.setRealPlayer(Go),Cs===Pc)Qs.push(yr);else{const Oo=this.playersByElement.get(Cs);Oo&&Oo.length&&(yr.parentPlayer=Su(Oo)),I.push(yr)}}else ol(Qn,di.fromStyles),yr.onDestroy(()=>jo(Qn,di.toStyles)),Ru.push(yr),pt.has(Qn)&&I.push(yr)}),Ru.forEach(Nn=>{const Qn=V.get(Nn.element);if(Qn&&Qn.length){const yr=Su(Qn);Nn.setRealPlayer(yr)}}),I.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Rn.length;Nn++){const Qn=Rn[Nn],yr=Qn[al];if(ep(Qn,Hl),yr&&yr.hasAnimation)continue;let di=[];if(se.size){let Go=se.get(Qn);Go&&Go.length&&di.push(...Go);let Oo=this.driver.query(Qn,Kf,!0);for(let xc=0;xc<Oo.length;xc++){let Zi=se.get(Oo[xc]);Zi&&Zi.length&&di.push(...Zi)}}const Cs=di.filter(Go=>!Go.destroyed);Cs.length?sE(this,Qn,Cs):this.processLeaveNode(Qn)}return Rn.length=0,Qs.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const Qn=this.players.indexOf(Nn);this.players.splice(Qn,1)}),Nn.play()}),Qs}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,c,y,I,V){let z=[];if(c){const se=this.playersByQueriedElement.get(l);se&&(z=se)}else{const se=this.playersByElement.get(l);if(se){const ve=!V||V==Qm;se.forEach(ze=>{ze.queued||!ve&&ze.triggerName!=I||z.push(ze)})}}return(y||I)&&(z=z.filter(se=>!(y&&y!=se.namespaceId||I&&I!=se.triggerName))),z}_beforeAnimationBuild(l,c,y){const V=c.element,z=c.isRemovalTransition?void 0:l,se=c.isRemovalTransition?void 0:c.triggerName;for(const ve of c.timelines){const ze=ve.element,pt=ze!==V,Ft=ia(y,ze,[]);this._getPreviousPlayers(ze,pt,z,se,c.toState).forEach(mn=>{const bn=mn.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),mn.destroy(),Ft.push(mn)})}ol(V,c.fromStyles)}_buildAnimation(l,c,y,I,V,z){const se=c.triggerName,ve=c.element,ze=[],pt=new Set,Ft=new Set,Cn=c.timelines.map(bn=>{const zt=bn.element;pt.add(zt);const Rn=zt[al];if(Rn&&Rn.removedBeforeQueried)return new zi.sf(bn.duration,bn.delay);const br=zt!==ve,Kr=function oE(p){const l=[];return qv(p,l),l}((y.get(zt)||zv).map(_i=>_i.getRealPlayer())).filter(_i=>!!_i.element&&_i.element===zt),Ir=V.get(zt),sr=z.get(zt),Ti=py(this._normalizer,bn.keyframes,Ir,sr),Zr=this._buildPlayer(bn,Ti,Kr);if(bn.subTimeline&&I&&Ft.add(zt),br){const _i=new Kv(l,se,zt);_i.setRealPlayer(Zr),ze.push(_i)}return Zr});ze.forEach(bn=>{ia(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function nE(p,l,c){let y=p.get(l);if(y){if(y.length){const I=y.indexOf(c);y.splice(I,1)}0==y.length&&p.delete(l)}return y}(this.playersByQueriedElement,bn.element,bn))}),pt.forEach(bn=>oc(bn,Mh));const mn=Su(Cn);return mn.onDestroy(()=>{pt.forEach(bn=>ep(bn,Mh)),jo(ve,c.toStyles)}),Ft.forEach(bn=>{ia(I,bn,[]).push(mn)}),mn}_buildPlayer(l,c,y){return c.length>0?this.driver.animate(l.element,c,l.duration,l.delay,l.easing,y):new zi.sf(l.duration,l.delay)}}class Kv{constructor(l,c,y){this.namespaceId=l,this.triggerName=c,this.element=y,this._player=new zi.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((c,y)=>{c.forEach(I=>Gm(l,y,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const c=this._player;c.triggerCallback&&l.onStart(()=>c.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,c){ia(this._queuedCallbacks,l,[]).push(c)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const c=this._player;c.triggerCallback&&c.triggerCallback(l)}}function Jm(p){return p&&1===p.nodeType}function iE(p,l){const c=p.style.display;return p.style.display=l??"none",c}function wy(p,l,c,y,I){const V=[];c.forEach(ve=>V.push(iE(ve)));const z=[];y.forEach((ve,ze)=>{const pt=new Map;ve.forEach(Ft=>{const Cn=l.computeStyle(ze,Ft,I);pt.set(Ft,Cn),(!Cn||0==Cn.length)&&(ze[al]=KE,z.push(ze))}),p.set(ze,pt)});let se=0;return c.forEach(ve=>iE(ve,V[se++])),z}function Zm(p,l){const c=new Map;if(p.forEach(se=>c.set(se,[])),0==l.length)return c;const I=new Set(l),V=new Map;function z(se){if(!se)return 1;let ve=V.get(se);if(ve)return ve;const ze=se.parentNode;return ve=c.has(ze)?ze:I.has(ze)?1:z(ze),V.set(se,ve),ve}return l.forEach(se=>{const ve=z(se);1!==ve&&c.get(ve).push(se)}),c}function oc(p,l){p.classList?.add(l)}function ep(p,l){p.classList?.remove(l)}function sE(p,l,c){Su(c).onDone(()=>p.processLeaveNode(l))}function qv(p,l){for(let c=0;c<p.length;c++){const y=p[c];y instanceof zi.ui?qv(y.players,l):l.push(y)}}function Yv(p,l,c){const y=c.get(p);if(!y)return!1;let I=l.get(p);return I?y.forEach(V=>I.add(V)):l.set(p,y),c.delete(p),!0}class e_{constructor(l,c,y){this.bodyNode=l,this._driver=c,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(I,V)=>{},this._transitionEngine=new Ty(l,c,y),this._timelineEngine=new Kl(l,c,y),this._transitionEngine.onRemovalComplete=(I,V)=>this.onRemovalComplete(I,V)}registerTrigger(l,c,y,I,V){const z=l+"-"+I;let se=this._triggerCache[z];if(!se){const ve=[],pt=yy(this._driver,V,ve,[]);if(ve.length)throw function Ah(p,l){return new i.wOt(3404,!1)}();se=function Mu(p,l,c){return new HE(p,l,c)}(I,pt,this._normalizer),this._triggerCache[z]=se}this._transitionEngine.registerTrigger(c,I,se)}register(l,c){this._transitionEngine.register(l,c)}destroy(l,c){this._transitionEngine.destroy(l,c)}onInsert(l,c,y,I){this._transitionEngine.insertNode(l,c,y,I)}onRemove(l,c,y){this._transitionEngine.removeNode(l,c,y)}disableAnimations(l,c){this._transitionEngine.markElementAsDisabled(l,c)}process(l,c,y,I){if("@"==y.charAt(0)){const[V,z]=$l(y);this._timelineEngine.command(V,c,z,I)}else this._transitionEngine.trigger(l,c,y,I)}listen(l,c,y,I,V){if("@"==y.charAt(0)){const[z,se]=$l(y);return this._timelineEngine.listen(z,c,se,V)}return this._transitionEngine.listen(l,c,y,I,V)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let XE=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(c,y,I){this._element=c,this._startStyles=y,this._endStyles=I,this._state=0;let V=p.initialStylesByElement.get(c);V||p.initialStylesByElement.set(c,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&jo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jo(this._element,this._initialStyles),this._endStyles&&(jo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(ol(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ol(this._element,this._endStyles),this._endStyles=null),jo(this._element,this._initialStyles),this._state=3)}}return p})();function Xv(p){let l=null;return p.forEach((c,y)=>{(function QE(p){return"display"===p||"position"===p})(y)&&(l=l||new Map,l.set(y,c))}),l}class cE{constructor(l,c,y,I){this.element=l,this.keyframes=c,this.options=y,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const c=[];return l.forEach(y=>{c.push(Object.fromEntries(y))}),c}_triggerWebAnimation(l,c,y){return l.animate(this._convertKeyframesToObject(c),y)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,I)=>{"offset"!==I&&l.set(I,this._finished?y:U(this.element,I))}),this.currentSnapshot=l}triggerCallback(l){const c="start"===l?this._onStartFns:this._onDoneFns;c.forEach(y=>y()),c.length=0}}class JE{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,c){return!1}containsElement(l,c){return gy(l,c)}getParentElement(l){return Pu(l)}query(l,c,y){return Gf(l,c,y)}computeStyle(l,c,y){return window.getComputedStyle(l)[c]}animate(l,c,y,I,V,z=[]){const ve={duration:y,delay:I,fill:0==I?"both":"forwards"};V&&(ve.easing=V);const ze=new Map,pt=z.filter(mn=>mn instanceof cE);(function _y(p,l){return 0===p||0===l})(y,I)&&pt.forEach(mn=>{mn.currentSnapshot.forEach((bn,zt)=>ze.set(zt,bn))});let Ft=function Qf(p){return p.length?p[0]instanceof Map?p:p.map(l=>Xf(l)):[]}(c).map(mn=>sc(mn));Ft=function wd(p,l,c){if(c.size&&l.length){let y=l[0],I=[];if(c.forEach((V,z)=>{y.has(z)||I.push(z),y.set(z,V)}),I.length)for(let V=1;V<l.length;V++){let z=l[V];I.forEach(se=>z.set(se,U(p,se)))}}return l}(l,Ft,ze);const Cn=function YE(p,l){let c=null,y=null;return Array.isArray(l)&&l.length?(c=Xv(l[0]),l.length>1&&(y=Xv(l[l.length-1]))):l instanceof Map&&(c=Xv(l)),c||y?new XE(p,c,y):null}(l,Ft);return new cE(l,Ft,ve,Cn)}}let ZE=(()=>{class p extends zi.S6{constructor(c,y){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(y.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(c){const y=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(c)?(0,zi.K2)(c):c;return lE(this._renderer,null,y,"register",[I]),new eb(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(_e.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class eb extends zi.Ro{constructor(l,c){super(),this._id=l,this._renderer=c}create(l,c){return new tb(this._id,l,c||{},this._renderer)}}class tb{constructor(l,c,y,I){this.id=l,this.element=c,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(l,c){return this._renderer.listen(this.element,`@@${this.id}:${l}`,c)}_command(l,...c){return lE(this._renderer,this.element,this.id,l,c)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lE(p,l,c,y,I){return p.setProperty(l,`@@${c}:${y}`,I)}const uE="@.disabled";let nb=(()=>{class p{constructor(c,y,I){this.delegate=c,this.engine=y,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(V,z)=>{const se=z?.parentNode(V);se&&z.removeChild(se,V)}}createRenderer(c,y){const V=this.delegate.createRenderer(c,y);if(!(c&&y&&y.data&&y.data.animation)){let pt=this._rendererCache.get(V);return pt||(pt=new dE("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,pt)),pt}const z=y.id,se=y.id+"-"+this._currentId;this._currentId++,this.engine.register(se,c);const ve=pt=>{Array.isArray(pt)?pt.forEach(ve):this.engine.registerTrigger(z,se,c,pt.name,pt)};return y.data.animation.forEach(ve),new rb(this,se,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,y,I){c>=0&&c<this._microtaskId?this._zone.run(()=>y(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[z,se]=V;z(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(e_),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class dE{constructor(l,c,y,I){this.namespaceId=l,this.delegate=c,this.engine=y,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,c){return this.delegate.createElement(l,c)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,c){this.delegate.appendChild(l,c),this.engine.onInsert(this.namespaceId,c,l,!1)}insertBefore(l,c,y,I=!0){this.delegate.insertBefore(l,c,y),this.engine.onInsert(this.namespaceId,c,l,I)}removeChild(l,c,y){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(l,c){return this.delegate.selectRootElement(l,c)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,c,y,I){this.delegate.setAttribute(l,c,y,I)}removeAttribute(l,c,y){this.delegate.removeAttribute(l,c,y)}addClass(l,c){this.delegate.addClass(l,c)}removeClass(l,c){this.delegate.removeClass(l,c)}setStyle(l,c,y,I){this.delegate.setStyle(l,c,y,I)}removeStyle(l,c,y){this.delegate.removeStyle(l,c,y)}setProperty(l,c,y){"@"==c.charAt(0)&&c==uE?this.disableAnimations(l,!!y):this.delegate.setProperty(l,c,y)}setValue(l,c){this.delegate.setValue(l,c)}listen(l,c,y){return this.delegate.listen(l,c,y)}disableAnimations(l,c){this.engine.disableAnimations(l,c)}}class rb extends dE{constructor(l,c,y,I,V){super(c,y,I,V),this.factory=l,this.namespaceId=c}setProperty(l,c,y){"@"==c.charAt(0)?"."==c.charAt(1)&&c==uE?this.disableAnimations(l,y=void 0===y||!!y):this.engine.process(this.namespaceId,l,c.slice(1),y):this.delegate.setProperty(l,c,y)}listen(l,c,y){if("@"==c.charAt(0)){const I=function ib(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let V=c.slice(1),z="";return"@"!=V.charAt(0)&&([V,z]=function sb(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(V)),this.engine.listen(this.namespaceId,I,V,z,se=>{this.factory.scheduleListenerCallback(se._data||-1,y,se)})}return this.delegate.listen(l,c,y)}}const Qv=[{provide:zi.S6,useClass:ZE},{provide:by,useFactory:function hE(){return new BE}},{provide:e_,useClass:(()=>{class p extends e_{constructor(c,y,I,V){super(c.body,y,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(zf),i.KVO(by),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function fE(p,l,c){return new nb(p,l,c)},deps:[le.B7,e_,i.SKi]}],Dy=[{provide:zf,useFactory:()=>new JE},{provide:i.bc$,useValue:"BrowserAnimations"},...Qv],Jv=[{provide:zf,useClass:Ph},{provide:i.bc$,useValue:"NoopAnimations"},...Qv];let pE=(()=>{class p{static withConfig(c){return{ngModule:p,providers:c.disableAnimations?Jv:Dy}}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:Dy,imports:[le.Bb]})}}return p})();const Sy={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function gE(p,l,c){return()=>{const y=window.location.hostname,I=new URL(window.location.href);let V=Sy[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+V+" - hostname: "+y),p.loadTheme(V)}}function tp(p,l,c){const y=window.location.hostname,I=new URL(window.location.href);let V=Sy[y]||I.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+V+" - hostname: "+y),()=>{p.loadBusinessData(V).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let ub=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[Yp]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:gE,deps:[Um,_e.aZ,mr.Ix],multi:!0},{provide:i.hnV,useFactory:tp,deps:[Ni.A,_e.aZ,mr.Ix],multi:!0}],imports:[le.Bb,mr.iI,dm,Ii.cM,_h.y5,ey.X8,fg.bf.initializeApp(Xp_firebase),mm(()=>Mf(Xp_firebase)),wv(()=>Av()),Vf(()=>Fm()),Ci.X1,Ci.YN,me,pE]})}}return p})();le.sG().bootstrapModule(ub).catch(p=>console.error(p))},4412:(on,Xe,j)=>{j.d(Xe,{t:()=>le});var o=j(1413);class le extends o.B{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const pe=super._subscribe(Te);return!pe.closed&&Te.next(this._value),pe}getValue(){const{hasError:Te,thrownError:pe,_value:Ae}=this;if(Te)throw pe;return this._throwIfClosed(),Ae}next(Te){super.next(this._value=Te)}}},1985:(on,Xe,j)=>{j.d(Xe,{c:()=>Fe});var o=j(7707),le=j(8359),i=j(3494),Te=j(1203),pe=j(1026),Ae=j(8071),Me=j(9786);let Fe=(()=>{class _e{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const St=new _e;return St.source=this,St.operator=Qe,St}subscribe(Qe,St,Dt){const Bt=function ue(_e){return _e&&_e instanceof o.vU||function ee(_e){return _e&&(0,Ae.T)(_e.next)&&(0,Ae.T)(_e.error)&&(0,Ae.T)(_e.complete)}(_e)&&(0,le.Uv)(_e)}(Qe)?Qe:new o.Ms(Qe,St,Dt);return(0,Me.Y)(()=>{const{operator:Nt,source:pn}=this;Bt.add(Nt?Nt.call(Bt,pn):pn?this._subscribe(Bt):this._trySubscribe(Bt))}),Bt}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(St){Qe.error(St)}}forEach(Qe,St){return new(St=Ve(St))((Dt,Bt)=>{const Nt=new o.Ms({next:pn=>{try{Qe(pn)}catch(Be){Bt(Be),Nt.unsubscribe()}},error:Bt,complete:Dt});this.subscribe(Nt)})}_subscribe(Qe){var St;return null===(St=this.source)||void 0===St?void 0:St.subscribe(Qe)}[i.s](){return this}pipe(...Qe){return(0,Te.m)(Qe)(this)}toPromise(Qe){return new(Qe=Ve(Qe))((St,Dt)=>{let Bt;this.subscribe(Nt=>Bt=Nt,Nt=>Dt(Nt),()=>St(Bt))})}}return _e.create=ut=>new _e(ut),_e})();function Ve(_e){var ut;return null!==(ut=_e??pe.$.Promise)&&void 0!==ut?ut:Promise}},1413:(on,Xe,j)=>{j.d(Xe,{B:()=>Me});var o=j(1985),le=j(8359);const Te=(0,j(1853).L)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=j(7908),Ae=j(9786);let Me=(()=>{class Ve extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const _e=new Fe(this,this);return _e.operator=ue,_e}_throwIfClosed(){if(this.closed)throw new Te}next(ue){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ue)}})}error(ue){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ue)}})}complete(){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:_e,isStopped:ut,observers:Qe}=this;return _e||ut?le.Kn:(this.currentObservers=null,Qe.push(ue),new le.yU(()=>{this.currentObservers=null,(0,pe.o)(Qe,ue)}))}_checkFinalizedStatuses(ue){const{hasError:_e,thrownError:ut,isStopped:Qe}=this;_e?ue.error(ut):Qe&&ue.complete()}asObservable(){const ue=new o.c;return ue.source=this,ue}}return Ve.create=(ee,ue)=>new Fe(ee,ue),Ve})();class Fe extends Me{constructor(ee,ue){super(),this.destination=ee,this.source=ue}next(ee){var ue,_e;null===(_e=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===_e||_e.call(ue,ee)}error(ee){var ue,_e;null===(_e=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===_e||_e.call(ue,ee)}complete(){var ee,ue;null===(ue=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ue||ue.call(ee)}_subscribe(ee){var ue,_e;return null!==(_e=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ee))&&void 0!==_e?_e:le.Kn}}},7707:(on,Xe,j)=>{j.d(Xe,{Ms:()=>Dt,vU:()=>_e});var o=j(8071),le=j(8359),i=j(1026),Te=j(5334),pe=j(5343);const Ae=Ve("C",void 0,void 0);function Ve(be,Je,We){return{kind:be,value:Je,error:We}}var ee=j(9270),ue=j(9786);class _e extends le.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,le.Uv)(Je)&&Je.add(this)):this.destination=Be}static create(Je,We,it){return new Dt(Je,We,it)}next(Je){this.isStopped?pn(function Fe(be){return Ve("N",be,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?pn(function Me(be){return Ve("E",void 0,be)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?pn(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function Qe(be,Je){return ut.call(be,Je)}class St{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:We}=this;if(We.next)try{We.next(Je)}catch(it){Bt(it)}}error(Je){const{partialObserver:We}=this;if(We.error)try{We.error(Je)}catch(it){Bt(it)}else Bt(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(We){Bt(We)}}}class Dt extends _e{constructor(Je,We,it){let Pt;if(super(),(0,o.T)(Je)||!Je)Pt={next:Je??void 0,error:We??void 0,complete:it??void 0};else{let kt;this&&i.$.useDeprecatedNextContext?(kt=Object.create(Je),kt.unsubscribe=()=>this.unsubscribe(),Pt={next:Je.next&&Qe(Je.next,kt),error:Je.error&&Qe(Je.error,kt),complete:Je.complete&&Qe(Je.complete,kt)}):Pt=Je}this.destination=new St(Pt)}}function Bt(be){i.$.useDeprecatedSynchronousErrorHandling?(0,ue.l)(be):(0,Te.m)(be)}function pn(be,Je){const{onStoppedNotification:We}=i.$;We&&ee.f.setTimeout(()=>We(be,Je))}const Be={closed:!0,next:pe.l,error:function Nt(be){throw be},complete:pe.l}},8359:(on,Xe,j)=>{j.d(Xe,{Kn:()=>Ae,yU:()=>pe,Uv:()=>Me});var o=j(8071);const i=(0,j(1853).L)(Ve=>function(ue){Ve(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((_e,ut)=>`${ut+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var Te=j(7908);class pe{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Qe of ue)Qe.remove(this);else ue.remove(this);const{initialTeardown:_e}=this;if((0,o.T)(_e))try{_e()}catch(Qe){ee=Qe instanceof i?Qe.errors:[Qe]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const Qe of ut)try{Fe(Qe)}catch(St){ee=ee??[],St instanceof i?ee=[...ee,...St.errors]:ee.push(St)}}if(ee)throw new i(ee)}}add(ee){var ue;if(ee&&ee!==this)if(this.closed)Fe(ee);else{if(ee instanceof pe){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ee)}}_hasParent(ee){const{_parentage:ue}=this;return ue===ee||Array.isArray(ue)&&ue.includes(ee)}_addParent(ee){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ee),ue):ue?[ue,ee]:ee}_removeParent(ee){const{_parentage:ue}=this;ue===ee?this._parentage=null:Array.isArray(ue)&&(0,Te.o)(ue,ee)}remove(ee){const{_finalizers:ue}=this;ue&&(0,Te.o)(ue,ee),ee instanceof pe&&ee._removeParent(this)}}pe.EMPTY=(()=>{const Ve=new pe;return Ve.closed=!0,Ve})();const Ae=pe.EMPTY;function Me(Ve){return Ve instanceof pe||Ve&&"closed"in Ve&&(0,o.T)(Ve.remove)&&(0,o.T)(Ve.add)&&(0,o.T)(Ve.unsubscribe)}function Fe(Ve){(0,o.T)(Ve)?Ve():Ve.unsubscribe()}},1026:(on,Xe,j)=>{j.d(Xe,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(on,Xe,j)=>{j.d(Xe,{x:()=>pe});var o=j(6365),i=j(3794),Te=j(8455);function pe(...Ae){return function le(){return(0,o.U)(1)}()((0,Te.H)(Ae,(0,i.lI)(Ae)))}},983:(on,Xe,j)=>{j.d(Xe,{w:()=>le});const le=new(j(1985).c)(pe=>pe.complete())},8455:(on,Xe,j)=>{j.d(Xe,{H:()=>Je});var o=j(8750),le=j(941),i=j(6745),Ae=j(1985),Fe=j(4761),Ve=j(8071),ee=j(5225);function _e(We,it){if(!We)throw new Error("Iterable cannot be null");return new Ae.c(Pt=>{(0,ee.N)(Pt,it,()=>{const kt=We[Symbol.asyncIterator]();(0,ee.N)(Pt,it,()=>{kt.next().then(De=>{De.done?Pt.complete():Pt.next(De.value)})},0,!0)})})}var ut=j(5055),Qe=j(9858),St=j(7441),Dt=j(5397),Bt=j(7953),Nt=j(591),pn=j(5196);function Je(We,it){return it?function be(We,it){if(null!=We){if((0,ut.l)(We))return function Te(We,it){return(0,o.Tg)(We).pipe((0,i._)(it),(0,le.Q)(it))}(We,it);if((0,St.X)(We))return function Me(We,it){return new Ae.c(Pt=>{let kt=0;return it.schedule(function(){kt===We.length?Pt.complete():(Pt.next(We[kt++]),Pt.closed||this.schedule())})})}(We,it);if((0,Qe.y)(We))return function pe(We,it){return(0,o.Tg)(We).pipe((0,i._)(it),(0,le.Q)(it))}(We,it);if((0,Bt.T)(We))return _e(We,it);if((0,Dt.x)(We))return function ue(We,it){return new Ae.c(Pt=>{let kt;return(0,ee.N)(Pt,it,()=>{kt=We[Fe.l](),(0,ee.N)(Pt,it,()=>{let De,rn;try{({value:De,done:rn}=kt.next())}catch(vn){return void Pt.error(vn)}rn?Pt.complete():Pt.next(De)},0,!0)}),()=>(0,Ve.T)(kt?.return)&&kt.return()})}(We,it);if((0,pn.U)(We))return function Be(We,it){return _e((0,pn.C)(We),it)}(We,it)}throw(0,Nt.L)(We)}(We,it):(0,o.Tg)(We)}},8750:(on,Xe,j)=>{j.d(Xe,{Tg:()=>ut});var o=j(1635),le=j(7441),i=j(9858),Te=j(1985),pe=j(5055),Ae=j(7953),Me=j(591),Fe=j(5397),Ve=j(5196),ee=j(8071),ue=j(5334),_e=j(3494);function ut(be){if(be instanceof Te.c)return be;if(null!=be){if((0,pe.l)(be))return function Qe(be){return new Te.c(Je=>{const We=be[_e.s]();if((0,ee.T)(We.subscribe))return We.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,le.X)(be))return function St(be){return new Te.c(Je=>{for(let We=0;We<be.length&&!Je.closed;We++)Je.next(be[We]);Je.complete()})}(be);if((0,i.y)(be))return function Dt(be){return new Te.c(Je=>{be.then(We=>{Je.closed||(Je.next(We),Je.complete())},We=>Je.error(We)).then(null,ue.m)})}(be);if((0,Ae.T)(be))return Nt(be);if((0,Fe.x)(be))return function Bt(be){return new Te.c(Je=>{for(const We of be)if(Je.next(We),Je.closed)return;Je.complete()})}(be);if((0,Ve.U)(be))return function pn(be){return Nt((0,Ve.C)(be))}(be)}throw(0,Me.L)(be)}function Nt(be){return new Te.c(Je=>{(function Be(be,Je){var We,it,Pt,kt;return(0,o.sH)(this,void 0,void 0,function*(){try{for(We=(0,o.xN)(be);!(it=yield We.next()).done;)if(Je.next(it.value),Je.closed)return}catch(De){Pt={error:De}}finally{try{it&&!it.done&&(kt=We.return)&&(yield kt.call(We))}finally{if(Pt)throw Pt.error}}Je.complete()})})(be,Je).catch(We=>Je.error(We))})}},7786:(on,Xe,j)=>{j.d(Xe,{h:()=>Ae});var o=j(6365),le=j(8750),i=j(983),Te=j(3794),pe=j(8455);function Ae(...Me){const Fe=(0,Te.lI)(Me),Ve=(0,Te.R0)(Me,1/0),ee=Me;return ee.length?1===ee.length?(0,le.Tg)(ee[0]):(0,o.U)(Ve)((0,pe.H)(ee,Fe)):i.w}},7673:(on,Xe,j)=>{j.d(Xe,{of:()=>i});var o=j(3794),le=j(8455);function i(...Te){const pe=(0,o.lI)(Te);return(0,le.H)(Te,pe)}},8810:(on,Xe,j)=>{j.d(Xe,{$:()=>i});var o=j(1985),le=j(8071);function i(Te,pe){const Ae=(0,le.T)(Te)?Te:()=>Te,Me=Fe=>Fe.error(Ae());return new o.c(pe?Fe=>pe.schedule(Me,0,Fe):Me)}},4360:(on,Xe,j)=>{j.d(Xe,{_:()=>le});var o=j(7707);function le(Te,pe,Ae,Me,Fe){return new i(Te,pe,Ae,Me,Fe)}class i extends o.vU{constructor(pe,Ae,Me,Fe,Ve,ee){super(pe),this.onFinalize=Ve,this.shouldUnsubscribe=ee,this._next=Ae?function(ue){try{Ae(ue)}catch(_e){pe.error(_e)}}:super._next,this._error=Fe?function(ue){try{Fe(ue)}catch(_e){pe.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(ue){pe.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},9437:(on,Xe,j)=>{j.d(Xe,{W:()=>Te});var o=j(8750),le=j(4360),i=j(9974);function Te(pe){return(0,i.N)((Ae,Me)=>{let ee,Fe=null,Ve=!1;Fe=Ae.subscribe((0,le._)(Me,void 0,void 0,ue=>{ee=(0,o.Tg)(pe(ue,Te(pe)(Ae))),Fe?(Fe.unsubscribe(),Fe=null,ee.subscribe(Me)):Ve=!0})),Ve&&(Fe.unsubscribe(),Fe=null,ee.subscribe(Me))})}},274:(on,Xe,j)=>{j.d(Xe,{H:()=>i});var o=j(1397),le=j(8071);function i(Te,pe){return(0,le.T)(pe)?(0,o.Z)(Te,pe,1):(0,o.Z)(Te,1)}},9901:(on,Xe,j)=>{j.d(Xe,{U:()=>i});var o=j(9974),le=j(4360);function i(Te){return(0,o.N)((pe,Ae)=>{let Me=!1;pe.subscribe((0,le._)(Ae,Fe=>{Me=!0,Ae.next(Fe)},()=>{Me||Ae.next(Te),Ae.complete()}))})}},3294:(on,Xe,j)=>{j.d(Xe,{F:()=>Te});var o=j(3669),le=j(9974),i=j(4360);function Te(Ae,Me=o.D){return Ae=Ae??pe,(0,le.N)((Fe,Ve)=>{let ee,ue=!0;Fe.subscribe((0,i._)(Ve,_e=>{const ut=Me(_e);(ue||!Ae(ee,ut))&&(ue=!1,ee=ut,Ve.next(_e))}))})}function pe(Ae,Me){return Ae===Me}},5964:(on,Xe,j)=>{j.d(Xe,{p:()=>i});var o=j(9974),le=j(4360);function i(Te,pe){return(0,o.N)((Ae,Me)=>{let Fe=0;Ae.subscribe((0,le._)(Me,Ve=>Te.call(pe,Ve,Fe++)&&Me.next(Ve)))})}},980:(on,Xe,j)=>{j.d(Xe,{j:()=>le});var o=j(9974);function le(i){return(0,o.N)((Te,pe)=>{try{Te.subscribe(pe)}finally{pe.add(i)}})}},1594:(on,Xe,j)=>{j.d(Xe,{$:()=>Me});var o=j(9350),le=j(5964),i=j(6697),Te=j(9901),pe=j(3774),Ae=j(3669);function Me(Fe,Ve){const ee=arguments.length>=2;return ue=>ue.pipe(Fe?(0,le.p)((_e,ut)=>Fe(_e,ut,ue)):Ae.D,(0,i.s)(1),ee?(0,Te.U)(Ve):(0,pe.v)(()=>new o.G))}},6354:(on,Xe,j)=>{j.d(Xe,{T:()=>i});var o=j(9974),le=j(4360);function i(Te,pe){return(0,o.N)((Ae,Me)=>{let Fe=0;Ae.subscribe((0,le._)(Me,Ve=>{Me.next(Te.call(pe,Ve,Fe++))}))})}},6365:(on,Xe,j)=>{j.d(Xe,{U:()=>i});var o=j(1397),le=j(3669);function i(Te=1/0){return(0,o.Z)(le.D,Te)}},1397:(on,Xe,j)=>{j.d(Xe,{Z:()=>Fe});var o=j(6354),le=j(8750),i=j(9974),Te=j(5225),pe=j(4360),Me=j(8071);function Fe(Ve,ee,ue=1/0){return(0,Me.T)(ee)?Fe((_e,ut)=>(0,o.T)((Qe,St)=>ee(_e,Qe,ut,St))((0,le.Tg)(Ve(_e,ut))),ue):("number"==typeof ee&&(ue=ee),(0,i.N)((_e,ut)=>function Ae(Ve,ee,ue,_e,ut,Qe,St,Dt){const Bt=[];let Nt=0,pn=0,Be=!1;const be=()=>{Be&&!Bt.length&&!Nt&&ee.complete()},Je=it=>Nt<_e?We(it):Bt.push(it),We=it=>{Qe&&ee.next(it),Nt++;let Pt=!1;(0,le.Tg)(ue(it,pn++)).subscribe((0,pe._)(ee,kt=>{ut?.(kt),Qe?Je(kt):ee.next(kt)},()=>{Pt=!0},void 0,()=>{if(Pt)try{for(Nt--;Bt.length&&Nt<_e;){const kt=Bt.shift();St?(0,Te.N)(ee,St,()=>We(kt)):We(kt)}be()}catch(kt){ee.error(kt)}}))};return Ve.subscribe((0,pe._)(ee,Je,()=>{Be=!0,be()})),()=>{Dt?.()}}(_e,ut,Ve,ue)))}},941:(on,Xe,j)=>{j.d(Xe,{Q:()=>Te});var o=j(5225),le=j(9974),i=j(4360);function Te(pe,Ae=0){return(0,le.N)((Me,Fe)=>{Me.subscribe((0,i._)(Fe,Ve=>(0,o.N)(Fe,pe,()=>Fe.next(Ve),Ae),()=>(0,o.N)(Fe,pe,()=>Fe.complete(),Ae),Ve=>(0,o.N)(Fe,pe,()=>Fe.error(Ve),Ae)))})}},2816:(on,Xe,j)=>{j.d(Xe,{S:()=>Te});var o=j(9974),le=j(4360);function Te(pe,Ae){return(0,o.N)(function i(pe,Ae,Me,Fe,Ve){return(ee,ue)=>{let _e=Me,ut=Ae,Qe=0;ee.subscribe((0,le._)(ue,St=>{const Dt=Qe++;ut=_e?pe(ut,St,Dt):(_e=!0,St),Fe&&ue.next(ut)},Ve&&(()=>{_e&&ue.next(ut),ue.complete()})))}}(pe,Ae,arguments.length>=2,!0))}},7647:(on,Xe,j)=>{j.d(Xe,{u:()=>pe});var o=j(8750),le=j(1413),i=j(7707),Te=j(9974);function pe(Me={}){const{connector:Fe=(()=>new le.B),resetOnError:Ve=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ue=!0}=Me;return _e=>{let ut,Qe,St,Dt=0,Bt=!1,Nt=!1;const pn=()=>{Qe?.unsubscribe(),Qe=void 0},Be=()=>{pn(),ut=St=void 0,Bt=Nt=!1},be=()=>{const Je=ut;Be(),Je?.unsubscribe()};return(0,Te.N)((Je,We)=>{Dt++,!Nt&&!Bt&&pn();const it=St=St??Fe();We.add(()=>{Dt--,0===Dt&&!Nt&&!Bt&&(Qe=Ae(be,ue))}),it.subscribe(We),!ut&&Dt>0&&(ut=new i.Ms({next:Pt=>it.next(Pt),error:Pt=>{Nt=!0,pn(),Qe=Ae(Be,Ve,Pt),it.error(Pt)},complete:()=>{Bt=!0,pn(),Qe=Ae(Be,ee),it.complete()}}),(0,o.Tg)(Je).subscribe(ut))})(_e)}}function Ae(Me,Fe,...Ve){if(!0===Fe)return void Me();if(!1===Fe)return;const ee=new i.Ms({next:()=>{ee.unsubscribe(),Me()}});return(0,o.Tg)(Fe(...Ve)).subscribe(ee)}},9172:(on,Xe,j)=>{j.d(Xe,{Z:()=>Te});var o=j(8793),le=j(3794),i=j(9974);function Te(...pe){const Ae=(0,le.lI)(pe);return(0,i.N)((Me,Fe)=>{(Ae?(0,o.x)(pe,Me,Ae):(0,o.x)(pe,Me)).subscribe(Fe)})}},6745:(on,Xe,j)=>{j.d(Xe,{_:()=>le});var o=j(9974);function le(i,Te=0){return(0,o.N)((pe,Ae)=>{Ae.add(i.schedule(()=>pe.subscribe(Ae),Te))})}},5558:(on,Xe,j)=>{j.d(Xe,{n:()=>Te});var o=j(8750),le=j(9974),i=j(4360);function Te(pe,Ae){return(0,le.N)((Me,Fe)=>{let Ve=null,ee=0,ue=!1;const _e=()=>ue&&!Ve&&Fe.complete();Me.subscribe((0,i._)(Fe,ut=>{Ve?.unsubscribe();let Qe=0;const St=ee++;(0,o.Tg)(pe(ut,St)).subscribe(Ve=(0,i._)(Fe,Dt=>Fe.next(Ae?Ae(ut,Dt,St,Qe++):Dt),()=>{Ve=null,_e()}))},()=>{ue=!0,_e()}))})}},6697:(on,Xe,j)=>{j.d(Xe,{s:()=>Te});var o=j(983),le=j(9974),i=j(4360);function Te(pe){return pe<=0?()=>o.w:(0,le.N)((Ae,Me)=>{let Fe=0;Ae.subscribe((0,i._)(Me,Ve=>{++Fe<=pe&&(Me.next(Ve),pe<=Fe&&Me.complete())}))})}},8141:(on,Xe,j)=>{j.d(Xe,{M:()=>pe});var o=j(8071),le=j(9974),i=j(4360),Te=j(3669);function pe(Ae,Me,Fe){const Ve=(0,o.T)(Ae)||Me||Fe?{next:Ae,error:Me,complete:Fe}:Ae;return Ve?(0,le.N)((ee,ue)=>{var _e;null===(_e=Ve.subscribe)||void 0===_e||_e.call(Ve);let ut=!0;ee.subscribe((0,i._)(ue,Qe=>{var St;null===(St=Ve.next)||void 0===St||St.call(Ve,Qe),ue.next(Qe)},()=>{var Qe;ut=!1,null===(Qe=Ve.complete)||void 0===Qe||Qe.call(Ve),ue.complete()},Qe=>{var St;ut=!1,null===(St=Ve.error)||void 0===St||St.call(Ve,Qe),ue.error(Qe)},()=>{var Qe,St;ut&&(null===(Qe=Ve.unsubscribe)||void 0===Qe||Qe.call(Ve)),null===(St=Ve.finalize)||void 0===St||St.call(Ve)}))}):Te.D}},3774:(on,Xe,j)=>{j.d(Xe,{v:()=>Te});var o=j(9350),le=j(9974),i=j(4360);function Te(Ae=pe){return(0,le.N)((Me,Fe)=>{let Ve=!1;Me.subscribe((0,i._)(Fe,ee=>{Ve=!0,Fe.next(ee)},()=>Ve?Fe.complete():Fe.error(Ae())))})}function pe(){return new o.G}},6780:(on,Xe,j)=>{j.d(Xe,{R:()=>pe});var o=j(8359);class le extends o.yU{constructor(Me,Fe){super()}schedule(Me,Fe=0){return this}}const i={setInterval(Ae,Me,...Fe){const{delegate:Ve}=i;return Ve?.setInterval?Ve.setInterval(Ae,Me,...Fe):setInterval(Ae,Me,...Fe)},clearInterval(Ae){const{delegate:Me}=i;return(Me?.clearInterval||clearInterval)(Ae)},delegate:void 0};var Te=j(7908);class pe extends le{constructor(Me,Fe){super(Me,Fe),this.scheduler=Me,this.work=Fe,this.pending=!1}schedule(Me,Fe=0){var Ve;if(this.closed)return this;this.state=Me;const ee=this.id,ue=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ue,ee,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(ue,this.id,Fe),this}requestAsyncId(Me,Fe,Ve=0){return i.setInterval(Me.flush.bind(Me,this),Ve)}recycleAsyncId(Me,Fe,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Fe;null!=Fe&&i.clearInterval(Fe)}execute(Me,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Me,Fe);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,Fe){let ee,Ve=!1;try{this.work(Me)}catch(ue){Ve=!0,ee=ue||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Me,scheduler:Fe}=this,{actions:Ve}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.o)(Ve,this),null!=Me&&(this.id=this.recycleAsyncId(Fe,Me,null)),this.delay=null,super.unsubscribe()}}}},9687:(on,Xe,j)=>{j.d(Xe,{q:()=>i});var o=j(6129);class le{constructor(pe,Ae=le.now){this.schedulerActionCtor=pe,this.now=Ae}schedule(pe,Ae=0,Me){return new this.schedulerActionCtor(this,pe).schedule(Me,Ae)}}le.now=o.U.now;class i extends le{constructor(pe,Ae=le.now){super(pe,Ae),this.actions=[],this._active=!1}flush(pe){const{actions:Ae}=this;if(this._active)return void Ae.push(pe);let Me;this._active=!0;do{if(Me=pe.execute(pe.state,pe.delay))break}while(pe=Ae.shift());if(this._active=!1,Me){for(;pe=Ae.shift();)pe.unsubscribe();throw Me}}}},3236:(on,Xe,j)=>{j.d(Xe,{E:()=>i});var o=j(6780);const i=new(j(9687).q)(o.R)},6129:(on,Xe,j)=>{j.d(Xe,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9270:(on,Xe,j)=>{j.d(Xe,{f:()=>o});const o={setTimeout(le,i,...Te){const{delegate:pe}=o;return pe?.setTimeout?pe.setTimeout(le,i,...Te):setTimeout(le,i,...Te)},clearTimeout(le){const{delegate:i}=o;return(i?.clearTimeout||clearTimeout)(le)},delegate:void 0}},4761:(on,Xe,j)=>{j.d(Xe,{l:()=>le});const le=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,Xe,j)=>{j.d(Xe,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(on,Xe,j)=>{j.d(Xe,{G:()=>le});const le=(0,j(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(on,Xe,j)=>{j.d(Xe,{R0:()=>Ae,ms:()=>Te,lI:()=>pe});var o=j(8071);function i(Me){return Me[Me.length-1]}function Te(Me){return(0,o.T)(i(Me))?Me.pop():void 0}function pe(Me){return function le(Me){return Me&&(0,o.T)(Me.schedule)}(i(Me))?Me.pop():void 0}function Ae(Me,Fe){return"number"==typeof i(Me)?Me.pop():Fe}},3073:(on,Xe,j)=>{j.d(Xe,{D:()=>pe});const{isArray:o}=Array,{getPrototypeOf:le,prototype:i,keys:Te}=Object;function pe(Me){if(1===Me.length){const Fe=Me[0];if(o(Fe))return{args:Fe,keys:null};if(function Ae(Me){return Me&&"object"==typeof Me&&le(Me)===i}(Fe)){const Ve=Te(Fe);return{args:Ve.map(ee=>Fe[ee]),keys:Ve}}}return{args:Me,keys:null}}},7908:(on,Xe,j)=>{function o(le,i){if(le){const Te=le.indexOf(i);0<=Te&&le.splice(Te,1)}}j.d(Xe,{o:()=>o})},1853:(on,Xe,j)=>{function o(le){const Te=le(pe=>{Error.call(pe),pe.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}j.d(Xe,{L:()=>o})},8496:(on,Xe,j)=>{function o(le,i){return le.reduce((Te,pe,Ae)=>(Te[pe]=i[Ae],Te),{})}j.d(Xe,{e:()=>o})},9786:(on,Xe,j)=>{j.d(Xe,{Y:()=>i,l:()=>Te});var o=j(1026);let le=null;function i(pe){if(o.$.useDeprecatedSynchronousErrorHandling){const Ae=!le;if(Ae&&(le={errorThrown:!1,error:null}),pe(),Ae){const{errorThrown:Me,error:Fe}=le;if(le=null,Me)throw Fe}}else pe()}function Te(pe){o.$.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=pe)}},5225:(on,Xe,j)=>{function o(le,i,Te,pe=0,Ae=!1){const Me=i.schedule(function(){Te(),Ae?le.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(le.add(Me),!Ae)return Me}j.d(Xe,{N:()=>o})},3669:(on,Xe,j)=>{function o(le){return le}j.d(Xe,{D:()=>o})},7441:(on,Xe,j)=>{j.d(Xe,{X:()=>o});const o=le=>le&&"number"==typeof le.length&&"function"!=typeof le},7953:(on,Xe,j)=>{j.d(Xe,{T:()=>le});var o=j(8071);function le(i){return Symbol.asyncIterator&&(0,o.T)(i?.[Symbol.asyncIterator])}},8071:(on,Xe,j)=>{function o(le){return"function"==typeof le}j.d(Xe,{T:()=>o})},5055:(on,Xe,j)=>{j.d(Xe,{l:()=>i});var o=j(3494),le=j(8071);function i(Te){return(0,le.T)(Te[o.s])}},5397:(on,Xe,j)=>{j.d(Xe,{x:()=>i});var o=j(4761),le=j(8071);function i(Te){return(0,le.T)(Te?.[o.l])}},9858:(on,Xe,j)=>{j.d(Xe,{y:()=>le});var o=j(8071);function le(i){return(0,o.T)(i?.then)}},5196:(on,Xe,j)=>{j.d(Xe,{C:()=>i,U:()=>Te});var o=j(1635),le=j(8071);function i(pe){return(0,o.AQ)(this,arguments,function*(){const Me=pe.getReader();try{for(;;){const{value:Fe,done:Ve}=yield(0,o.N3)(Me.read());if(Ve)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(Fe)}}finally{Me.releaseLock()}})}function Te(pe){return(0,le.T)(pe?.getReader)}},9974:(on,Xe,j)=>{j.d(Xe,{N:()=>i,S:()=>le});var o=j(8071);function le(Te){return(0,o.T)(Te?.lift)}function i(Te){return pe=>{if(le(pe))return pe.lift(function(Ae){try{return Te(Ae,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,Xe,j)=>{j.d(Xe,{I:()=>Te});var o=j(6354);const{isArray:le}=Array;function Te(pe){return(0,o.T)(Ae=>function i(pe,Ae){return le(Ae)?pe(...Ae):pe(Ae)}(pe,Ae))}},5343:(on,Xe,j)=>{function o(){}j.d(Xe,{l:()=>o})},1203:(on,Xe,j)=>{j.d(Xe,{F:()=>le,m:()=>i});var o=j(3669);function le(...Te){return i(Te)}function i(Te){return 0===Te.length?o.D:1===Te.length?Te[0]:function(Ae){return Te.reduce((Me,Fe)=>Fe(Me),Ae)}}},5334:(on,Xe,j)=>{j.d(Xe,{m:()=>i});var o=j(1026),le=j(9270);function i(Te){le.f.setTimeout(()=>{const{onUnhandledError:pe}=o.$;if(!pe)throw Te;pe(Te)})}},591:(on,Xe,j)=>{function o(le){return new TypeError(`You provided ${null!==le&&"object"==typeof le?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Xe,{L:()=>o})},9969:(on,Xe,j)=>{j.d(Xe,{FX:()=>pn,K2:()=>Me,Ro:()=>le,S6:()=>o,hZ:()=>Te,i0:()=>pe,iF:()=>Fe,kY:()=>ue,kp:()=>i,sf:()=>Bt,ui:()=>Nt});class o{}class le{}const i="*";function Te(Be,be){return{type:7,name:Be,definitions:be,options:{}}}function pe(Be,be=null){return{type:4,styles:be,timings:Be}}function Me(Be,be=null){return{type:2,steps:Be,options:be}}function Fe(Be){return{type:6,styles:Be,offset:null}}function ue(Be,be,Je=null){return{type:1,expr:Be,animation:be,options:Je}}class Bt{constructor(be=0,Je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+Je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const Je="start"==be?this._onStartFns:this._onDoneFns;Je.forEach(We=>We()),Je.length=0}}class Nt{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let Je=0,We=0,it=0;const Pt=this.players.length;0==Pt?queueMicrotask(()=>this._onFinish()):this.players.forEach(kt=>{kt.onDone(()=>{++Je==Pt&&this._onFinish()}),kt.onDestroy(()=>{++We==Pt&&this._onDestroy()}),kt.onStart(()=>{++it==Pt&&this._onStart()})}),this.totalTime=this.players.reduce((kt,De)=>Math.max(kt,De.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const Je=be*this.totalTime;this.players.forEach(We=>{const it=We.totalTime?Math.min(1,Je/We.totalTime):1;We.setPosition(it)})}getPosition(){const be=this.players.reduce((Je,We)=>null===Je||We.totalTime>Je.totalTime?We:Je,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const Je="start"==be?this._onStartFns:this._onDoneFns;Je.forEach(We=>We()),Je.length=0}}const pn="!"},177:(on,Xe,j)=>{j.d(Xe,{AJ:()=>Gr,B3:()=>wr,Jj:()=>ms,MD:()=>Ms,N0:()=>Pn,P9:()=>vi,QT:()=>i,Sm:()=>St,Sq:()=>Yi,VF:()=>pe,Vy:()=>us,Xr:()=>Re,YU:()=>hr,ZD:()=>Te,_b:()=>ln,aZ:()=>Bt,bT:()=>go,e1:()=>Qi,fG:()=>os,fw:()=>Dt,hb:()=>ut,hj:()=>Fe,lG:()=>xs,qQ:()=>Ae,ux:()=>ii});var o=j(7705);let le=null;function i(){return le}function Te(x){le||(le=x)}class pe{}const Ae=new o.nKC("DocumentToken");let Me=(()=>{class x{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return(0,o.WQX)(Ve)},providedIn:"platform"})}}return x})();const Fe=new o.nKC("Location Initialized");let Ve=(()=>{class x extends Me{constructor(){super(),this._doc=(0,o.WQX)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",B,!1),()=>Y.removeEventListener("popstate",B)}onHashChange(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",B,!1),()=>Y.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,Y,Se){this._history.pushState(B,Y,Se)}replaceState(B,Y,Se){this._history.replaceState(B,Y,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}}return x})();function ee(x,te){if(0==x.length)return te;if(0==te.length)return x;let B=0;return x.endsWith("/")&&B++,te.startsWith("/")&&B++,2==B?x+te.substring(1):1==B?x+te:x+"/"+te}function ue(x){const te=x.match(/#|\?|$/),B=te&&te.index||x.length;return x.slice(0,B-("/"===x[B-1]?1:0))+x.slice(B)}function _e(x){return x&&"?"!==x[0]?"?"+x:x}let ut=(()=>{class x{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return(0,o.WQX)(St)},providedIn:"root"})}}return x})();const Qe=new o.nKC("appBaseHref");let St=(()=>{class x extends ut{constructor(B,Y){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ee(this._baseHref,B)}path(B=!1){const Y=this._platformLocation.pathname+_e(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&B?`${Y}${Se}`:Y}pushState(B,Y,Se,Tt){const Lt=this.prepareExternalUrl(Se+_e(Tt));this._platformLocation.pushState(B,Y,Lt)}replaceState(B,Y,Se,Tt){const Lt=this.prepareExternalUrl(Se+_e(Tt));this._platformLocation.replaceState(B,Y,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||x)(o.KVO(Me),o.KVO(Qe,8))}}static{this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),Dt=(()=>{class x extends ut{constructor(B,Y){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(B){const Y=ee(this._baseHref,B);return Y.length>0?"#"+Y:Y}pushState(B,Y,Se,Tt){let Lt=this.prepareExternalUrl(Se+_e(Tt));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.pushState(B,Y,Lt)}replaceState(B,Y,Se,Tt){let Lt=this.prepareExternalUrl(Se+_e(Tt));0==Lt.length&&(Lt=this._platformLocation.pathname),this._platformLocation.replaceState(B,Y,Lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||x)(o.KVO(Me),o.KVO(Qe,8))}}static{this.\u0275prov=o.jDH({token:x,factory:x.\u0275fac})}}return x})(),Bt=(()=>{class x{constructor(B){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const Y=this._locationStrategy.getBaseHref();this._basePath=function be(x){if(new RegExp("^(https?:)?//").test(x)){const[,B]=x.split(/\/\/[^\/]+/);return B}return x}(ue(Be(Y))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,Y=""){return this.path()==this.normalize(B+_e(Y))}normalize(B){return x.stripTrailingSlash(function pn(x,te){if(!x||!te.startsWith(x))return te;const B=te.substring(x.length);return""===B||["/",";","?","#"].includes(B[0])?B:te}(this._basePath,Be(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,Y="",Se=null){this._locationStrategy.pushState(Se,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(Y)),Se)}replaceState(B,Y="",Se=null){this._locationStrategy.replaceState(Se,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(Y)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",Y){this._urlChangeListeners.forEach(Se=>Se(B,Y))}subscribe(B,Y,Se){return this._subject.subscribe({next:B,error:Y,complete:Se})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=ee}static{this.stripTrailingSlash=ue}static{this.\u0275fac=function(Y){return new(Y||x)(o.KVO(ut))}}static{this.\u0275prov=o.jDH({token:x,factory:function(){return function Nt(){return new Bt((0,o.KVO)(ut))}()},providedIn:"root"})}}return x})();function Be(x){return x.replace(/\/index.html$/,"")}function ln(x,te){te=encodeURIComponent(te);for(const B of x.split(";")){const Y=B.indexOf("="),[Se,Tt]=-1==Y?[B,""]:[B.slice(0,Y),B.slice(Y+1)];if(Se.trim()===te)return decodeURIComponent(Tt)}return null}const Ln=/\s+/,Mn=[];let hr=(()=>{class x{constructor(B,Y,Se,Tt){this._iterableDiffers=B,this._keyValueDiffers=Y,this._ngEl=Se,this._renderer=Tt,this.initialClasses=Mn,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Ln):Mn}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Ln):B}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const Y of B)this._updateState(Y,!0);else if(null!=B)for(const Y of Object.keys(B))this._updateState(Y,!!B[Y]);this._applyStateDiff()}_updateState(B,Y){const Se=this.stateMap.get(B);void 0!==Se?(Se.enabled!==Y&&(Se.changed=!0,Se.enabled=Y),Se.touched=!0):this.stateMap.set(B,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const Y=B[0],Se=B[1];Se.changed?(this._toggleClass(Y,Se.enabled),Se.changed=!1):Se.touched||(Se.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Se.touched=!1}}_toggleClass(B,Y){(B=B.trim()).length>0&&B.split(Ln).forEach(Se=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o._q3),o.rXU(o.MKu),o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return x})();class Tr{constructor(te,B,Y,Se){this.$implicit=te,this.ngForOf=B,this.index=Y,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yi=(()=>{class x{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,Y,Se){this._viewContainer=B,this._template=Y,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const Y=this._viewContainer;B.forEachOperation((Se,Tt,Lt)=>{if(null==Se.previousIndex)Y.createEmbeddedView(this._template,new Tr(Se.item,this._ngForOf,-1,-1),null===Lt?void 0:Lt);else if(null==Lt)Y.remove(null===Tt?void 0:Tt);else if(null!==Tt){const $n=Y.get(Tt);Y.move($n,Lt),ws($n,Se)}});for(let Se=0,Tt=Y.length;Se<Tt;Se++){const $n=Y.get(Se).context;$n.index=Se,$n.count=Tt,$n.ngForOf=this._ngForOf}B.forEachIdentityChange(Se=>{ws(Y.get(Se.currentIndex),Se)})}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return x})();function ws(x,te){x.context.$implicit=te.item}let go=(()=>{class x{constructor(B,Y){this._viewContainer=B,this._context=new mo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Ui("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Ui("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return x})();class mo{constructor(){this.$implicit=null,this.ngIf=null}}function Ui(x,te){if(te&&!te.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,o.Tbb)(te)}'.`)}class Co{constructor(te,B){this._viewContainerRef=te,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let ii=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const Y=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const Y of this._defaultViews)Y.enforceState(B)}}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return x})(),Qi=(()=>{class x{constructor(B,Y,Se){this.ngSwitch=Se,Se._addCase(),this._view=new Co(B,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ii,9))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return x})(),os=(()=>{class x{constructor(B,Y,Se){Se._addDefault(new Co(B,Y))}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ii,9))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return x})(),wr=(()=>{class x{constructor(B,Y,Se){this._ngEl=B,this._differs=Y,this._renderer=Se,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,Y){const[Se,Tt]=B.split("."),Lt=-1===Se.indexOf("-")?void 0:o.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Se,Tt?`${Y}${Tt}`:Y,Lt):this._renderer.removeStyle(this._ngEl.nativeElement,Se,Lt)}_applyChanges(B){B.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),B.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),B.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return x})();function ai(x,te){return new o.wOt(2100,!1)}class aa{createSubscription(te,B){return(0,o.O8t)(()=>te.subscribe({next:B,error:Y=>{throw Y}}))}dispose(te){(0,o.O8t)(()=>te.unsubscribe())}}class Da{createSubscription(te,B){return te.then(B,Y=>{throw Y})}dispose(te){}}const Di=new Da,zo=new aa;let ms=(()=>{class x{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,Y=>this._updateLatestValue(B,Y))}_selectStrategy(B){if((0,o.jNT)(B))return Di;if((0,o.zjR)(B))return zo;throw ai()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,Y){B===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o.gRc,16))}}static{this.\u0275pipe=o.EJ8({name:"async",type:x,pure:!1,standalone:!0})}}return x})(),xs=(()=>{class x{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=$s}transform(B,Y=$s){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Se=this.differ.diff(B),Tt=Y!==this.compareFn;return Se&&(this.keyValues=[],Se.forEachItem(Lt=>{this.keyValues.push(function es(x,te){return{key:x,value:te}}(Lt.key,Lt.currentValue))})),(Se||Tt)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||x)(o.rXU(o.MKu,16))}}static{this.\u0275pipe=o.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}}return x})();function $s(x,te){const B=x.key,Y=te.key;if(B===Y)return 0;if(void 0===B)return 1;if(void 0===Y)return-1;if(null===B)return 1;if(null===Y)return-1;if("string"==typeof B&&"string"==typeof Y)return B<Y?-1:1;if("number"==typeof B&&"number"==typeof Y)return B-Y;if("boolean"==typeof B&&"boolean"==typeof Y)return B<Y?-1:1;const Se=String(B),Tt=String(Y);return Se==Tt?0:Se<Tt?-1:1}let vi=(()=>{class x{transform(B,Y,Se){if(null==B)return null;if(!this.supports(B))throw ai();return B.slice(Y,Se)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275pipe=o.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}}return x})(),Ms=(()=>{class x{static{this.\u0275fac=function(Y){return new(Y||x)}}static{this.\u0275mod=o.$C({type:x})}static{this.\u0275inj=o.G2t({})}}return x})();const Gr="browser",Bi="server";function us(x){return x===Bi}let Re=(()=>{class x{static{this.\u0275prov=(0,o.jDH)({token:x,providedIn:"root",factory:()=>new Ye((0,o.KVO)(Ae),window)})}}return x})();class Ye{constructor(te,B){this.document=te,this.window=B,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const B=function _t(x,te){const B=x.getElementById(te)||x.getElementsByName(te)[0];if(B)return B;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const Y=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Se=Y.currentNode;for(;Se;){const Tt=Se.shadowRoot;if(Tt){const Lt=Tt.getElementById(te)||Tt.querySelector(`[name="${te}"]`);if(Lt)return Lt}Se=Y.nextNode()}}return null}(this.document,te);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const B=te.getBoundingClientRect(),Y=B.left+this.window.pageXOffset,Se=B.top+this.window.pageYOffset,Tt=this.offset();this.window.scrollTo(Y-Tt[0],Se-Tt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Pn{}},7705:(on,Xe,j)=>{j.d(Xe,{$C:()=>fe,$GK:()=>Tn,$K3:()=>II,$MX:()=>yf,AVh:()=>$v,Agw:()=>fm,B4B:()=>Bp,BIS:()=>cd,BMQ:()=>mg,C4Q:()=>o0,C5r:()=>iI,Co$:()=>_C,DNE:()=>Mh,EFF:()=>rE,EJ8:()=>rt,EmA:()=>ih,FS9:()=>Sc,FsC:()=>ot,G2t:()=>Qt,GBs:()=>JC,GFd:()=>cy,H3F:()=>CI,H5H:()=>c,H8p:()=>Tf,HJs:()=>tA,HbH:()=>Z0,Hbi:()=>$1,JRh:()=>wy,JZv:()=>Xn,Jv_:()=>mC,KH2:()=>se,KVO:()=>At,Kcf:()=>qg,L39:()=>Z1,LfX:()=>Fn,Lme:()=>oc,MKu:()=>qb,Mz_:()=>Ro,NEm:()=>y1,NYb:()=>p1,Njj:()=>ds,O8t:()=>Tt,OA$:()=>Er,Ocv:()=>Hw,Ol2:()=>vC,PLl:()=>rv,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>as,R7$:()=>N0,RV6:()=>wd,Rfq:()=>St,RxE:()=>eg,SKi:()=>Po,SpI:()=>Zm,TL$:()=>xl,Tbb:()=>_e,UyX:()=>_f,VBU:()=>Da,Vns:()=>n_,Vt3:()=>iy,WHO:()=>DI,WPN:()=>od,WQX:()=>dn,XpG:()=>Ys,Xx1:()=>Jc,Y8G:()=>Xf,Z63:()=>ad,ZF7:()=>Za,_9s:()=>fh,_q3:()=>Kb,aKT:()=>hh,aNF:()=>EC,bIt:()=>q,bMT:()=>LC,bVm:()=>xu,bc$:()=>yu,bkB:()=>Ll,brH:()=>UC,c1b:()=>CE,cWb:()=>Yg,czy:()=>qd,e01:()=>SI,e5t:()=>Qg,eBV:()=>Jo,eq3:()=>SC,eu8:()=>Rh,fpN:()=>B1,gRc:()=>D1,gXe:()=>Ni,giA:()=>PI,h9k:()=>If,hnV:()=>bI,iLQ:()=>Bb,j41:()=>sc,jDH:()=>sn,jNT:()=>v,k0s:()=>jo,kS0:()=>Rd,kdw:()=>iu,l4e:()=>xC,lJ4:()=>DC,lNU:()=>Be,l_i:()=>PC,lsd:()=>eI,mGM:()=>QC,mq5:()=>I,n$t:()=>S_,nI1:()=>VC,nKC:()=>gn,naY:()=>A1,npT:()=>im,nrm:()=>ol,o8S:()=>My,oH4:()=>OI,osQ:()=>Xg,plB:()=>Mb,qex:()=>Gl,rXU:()=>Tu,rcV:()=>tl,sFG:()=>vm,sGs:()=>MC,sZ2:()=>O_,sdS:()=>Cd,tSv:()=>fv,uvJ:()=>Ii,w6W:()=>NT,wOt:()=>be,wni:()=>ZC,xGo:()=>ba,xc7:()=>Bv,xe9:()=>TE,xvI:()=>L_,zZn:()=>kl,zcH:()=>Ac,zjR:()=>U});var o=j(1413),le=j(8359),i=j(1985),Te=j(7786),pe=j(4412),Ae=j(7673),Me=j(7647),Fe=j(5558),Ve=j(3294);function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function ue(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function _e(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_e).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function ut(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Qe=ee({__forward_ref__:ee});function St(t){return t.__forward_ref__=St,t.toString=function(){return _e(this())},t}function Dt(t){return Bt(t)?t():t}function Bt(t){return"function"==typeof t&&t.hasOwnProperty(Qe)&&t.__forward_ref__===St}function Nt(t){return t&&!!t.\u0275providers}const Be="https://g.co/ng/security#xss";class be extends Error{constructor(n,s){super(function Je(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function We(t){return"string"==typeof t?t:null==t?"":String(t)}function rn(t,n){throw new be(-201,!1)}function tt(t,n){null==t&&function qe(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gn(t){return Kt(t,un)||Kt(t,er)}function Fn(t){return null!==Gn(t)}function Kt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Cr(t){return t&&(t.hasOwnProperty(Lr)||t.hasOwnProperty(Ht))?t[Lr]:null}const un=ee({\u0275prov:ee}),Lr=ee({\u0275inj:ee}),er=ee({ngInjectableDef:ee}),Ht=ee({ngInjectorDef:ee});var Tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tn||{});let Wn;function Yr(t){const n=Wn;return Wn=t,n}function Or(t,n,s){const u=Gn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Tn.Optional?null:void 0!==n?n:void rn(_e(t))}const Xn=globalThis;class gn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=sn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hn={},Wr="__NG_DI_FLAG__",Sr="ngTempTokenPath",bt=/\n/gm,M="__source";let k;function me(t){const n=k;return k=t,n}function st(t,n=Tn.Default){if(void 0===k)throw new be(-203,!1);return null===k?Or(t,void 0,n):k.get(t,n&Tn.Optional?null:void 0,n)}function At(t,n=Tn.Default){return(function An(){return Wn}()||st)(Dt(t),n)}function dn(t,n=Tn.Default){return At(t,Sn(n))}function Sn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vr(t){const n=[];for(let s=0;s<t.length;s++){const u=Dt(t[s]);if(Array.isArray(u)){if(0===u.length)throw new be(900,!1);let f,g=Tn.Default;for(let C=0;C<u.length;C++){const A=u[C],R=Br(A);"number"==typeof R?-1===R?f=A.token:g|=R:f=A}n.push(At(f,g))}else n.push(At(u))}return n}function cn(t,n){return t[Wr]=n,t.prototype[Wr]=n,t}function Br(t){return t[Wr]}function wi(t){return{toString:t}.toString()}var $i=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($i||{}),Ni=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ni||{});const Ai={},ar=[],Ps=ee({\u0275cmp:ee}),Ct=ee({\u0275dir:ee}),nt=ee({\u0275pipe:ee}),Mt=ee({\u0275mod:ee}),ln=ee({\u0275fac:ee}),Ln=ee({__NG_ELEMENT_ID__:ee}),Mn=ee({__NG_ENV_ID__:ee});function hr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}s=f+1}}function $r(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const g=s[u++],C=s[u++],A=s[u++];t.setAttribute(n,C,A,g)}else{const g=f,C=s[++u];Tr(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),u++}}return u}function Xr(t){return 3===t||4===t||6===t}function Tr(t){return 64===t.charCodeAt(0)}function Yi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||ws(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function ws(t,n,s,u,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===s){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}const Xi="ng-template";function go(t,n,s){let u=0,f=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&f){const C=t[u++];if(s&&"class"===g&&-1!==hr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function mo(t){return 4===t.type&&t.value!==Xi}function Ui(t,n,s){return n===(4!==t.type||s?t.value:Xi)}function Co(t,n,s){let u=4;const f=t.attrs||[],g=function ji(t){for(let n=0;n<t.length;n++)if(Xr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&u){if(u=2|1&u,""!==R&&!Ui(t,R,s)||""===R&&1===n.length){if(ii(u))return!1;C=!0}}else{const G=8&u?R:n[++A];if(8&u&&null!==t.attrs){if(!go(t.attrs,G,s)){if(ii(u))return!1;C=!0}continue}const Ce=Qi(8&u?"class":R,f,mo(t),s);if(-1===Ce){if(ii(u))return!1;C=!0;continue}if(""!==G){let Ke;Ke=Ce>g?"":f[Ce+1].toLowerCase();const lt=8&u?Ke:null;if(lt&&-1!==hr(lt,G,0)||2&u&&G!==Ke){if(ii(u))return!1;C=!0}}}}else{if(!C&&!ii(u)&&!ii(R))return!1;if(C&&ii(R))continue;C=!1,u=R|1&u}}return ii(u)||C}function ii(t){return 0==(1&t)}function Qi(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Mi(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function os(t,n,s=!1){for(let u=0;u<n.length;u++)if(Co(t,n[u],s))return!0;return!1}function Js(t,n){return t?":not("+n.trim()+")":n}function _o(t){let n=t[0],s=1,u=2,f="",g=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&u){const A=t[++s];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!ii(C)&&(n+=Js(g,f),f=""),u=C,g=g||!ii(u);s++}return""!==f&&(n+=Js(g,f)),n}function Da(t){return wi(()=>{const n=cs(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$i.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ni.Emulated,styles:t.styles||ar,_:null,schemas:t.schemas||null,tView:null,id:""};yo(s);const u=t.dependencies;return s.directiveDefs=es(u,!1),s.pipeDefs=es(u,!0),s.id=function $s(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function zo(t){return kn(t)||cr(t)}function ms(t){return null!==t}function fe(t){return wi(()=>({type:t.type,bootstrap:t.bootstrap||ar,declarations:t.declarations||ar,imports:t.imports||ar,exports:t.exports||ar,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function de(t,n){if(null==t)return Ai;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=u,n&&(n[f]=g)}return s}function ot(t){return wi(()=>{const n=cs(t);return yo(n),n})}function rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function kn(t){return t[Ps]||null}function cr(t){return t[Ct]||null}function ci(t){return t[nt]||null}function as(t){const n=kn(t)||cr(t)||ci(t);return null!==n&&n.standalone}function ei(t,n){const s=t[Mt]||null;if(!s&&!0===n)throw new Error(`Type ${_e(t)} does not have '\u0275mod' property.`);return s}function cs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ai,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ar,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:de(t.inputs,n),outputs:de(t.outputs)}}function yo(t){t.features?.forEach(n=>n(t))}function es(t,n){if(!t)return null;const s=n?ci:zo;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(ms)}const hi=0,_n=1,lr=2,zn=3,fi=4,vi=5,Hr=6,Ms=7,Gr=8,Bi=9,ts=10,tr=11,ls=12,us=13,Z=14,Q=15,Ie=16,Re=17,Ye=18,_t=19,Jt=20,Pn=21,En=22,Zn=23,xr=24,Un=25,qn=1,Mr=2,Ur=7,Wi=9,Nr=11;function ti(t){return Array.isArray(t)&&"object"==typeof t[qn]}function kr(t){return Array.isArray(t)&&!0===t[qn]}function vo(t){return 0!=(4&t.flags)}function Hi(t){return t.componentOffset>-1}function Hs(t){return 1==(1&t.flags)}function so(t){return!!t.template}function oo(t){return 0!=(512&t[lr])}function Zs(t,n){return t.hasOwnProperty(ln)?t[ln]:null}let Rs=null,Ko=!1;function ns(t){const n=Rs;return Rs=t,n}const Ba={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $a(t){if(!Eo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Rc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Os(t){t.dirty=!0,function eo(t){if(void 0===t.liveConsumerNode)return;const n=Ko;Ko=!0;try{for(const s of t.liveConsumerNode)s.dirty||Os(s)}finally{Ko=n}}(t),t.consumerMarkedDirty?.(t)}function Ha(t){return t&&(t.nextProducerIndex=0),ns(t)}function la(t,n){if(ns(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Eo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)dl(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Rc(t){Yo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||($a(s),u!==s.version))return!0}return!1}function cc(t){if(Yo(t),Eo(t))for(let n=0;n<t.producerNode.length;n++)dl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function dl(t,n){if(function lc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Yo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)dl(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Yo(f),f.producerIndexOfThis[u]=n}}function Eo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ko=null;function Tt(t){const n=ns(null);try{return t()}finally{ns(n)}}const $n=()=>{},ni=(()=>({...Ba,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:$n}))();class li{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Er(){return gi}function gi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ri),xi}function xi(){const t=Fs(this),n=t?.current;if(n){const s=t.previous;if(s===Ai)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ri(t,n,s,u){const f=this.declaredInputs[s],g=Fs(t)||function ua(t,n){return t[zs]=n}(t,{previous:Ai,current:null}),C=g.current||(g.current={}),A=g.previous,R=A[f];C[f]=new li(R&&R.currentValue,n,A===Ai),t[u]=n}Er.ngInherit=!0;const zs="__ngSimpleChanges__";function Fs(t){return t[zs]||null}const As=function(t,n,s){};function Rr(t){for(;Array.isArray(t);)t=t[hi];return t}function Wa(t,n){return Rr(n[t])}function to(t,n){return Rr(n[t.index])}function Dd(t,n){return t.data[n]}function fl(t,n){return t[n]}function Gi(t,n){const s=n[t];return ti(s)?s:s[hi]}function qi(t,n){return null==n?null:t[n]}function xa(t){t[Re]=0}function Ka(t){1024&t[lr]||(t[lr]|=1024,Fu(t,1))}function Nc(t){1024&t[lr]&&(t[lr]&=-1025,Fu(t,-1))}function Fu(t,n){let s=t[zn];if(null===s)return;s[vi]+=n;let u=s;for(s=s[zn];null!==s&&(1===n&&1===u[vi]||-1===n&&0===u[vi]);)s[vi]+=n,u=s,s=s[zn]}const Yn={lFrame:oe(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Lu(){return Yn.bindingsEnabled}function qt(){return Yn.lFrame.lView}function Fr(){return Yn.lFrame.tView}function Jo(t){return Yn.lFrame.contextLView=t,t[Gr]}function ds(t){return Yn.lFrame.contextLView=null,t}function Vs(){let t=Fc();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fc(){return Yn.lFrame.currentTNode}function Fo(t,n){const s=Yn.lFrame;s.currentTNode=t,s.isParent=n}function Vc(){return Yn.lFrame.isParent}function tn(){Yn.lFrame.isParent=!1}function Ji(){const t=Yn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ws(){return Yn.lFrame.bindingIndex++}function ho(t){const n=Yn.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function ip(t,n){const s=Yn.lFrame;s.bindingIndex=s.bindingRootIndex=t,eu(n)}function eu(t){Yn.lFrame.currentDirectiveIndex=t}function Lc(){return Yn.lFrame.currentQueryIndex}function D(t){Yn.lFrame.currentQueryIndex=t}function O(t){const n=t[_n];return 2===n.type?n.declTNode:1===n.type?t[Hr]:null}function w(t,n,s){if(s&Tn.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&Tn.Host||(f=O(g),null===f||(g=g[Z],10&f.type))););if(null===f)return!1;n=f,t=g}const u=Yn.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=H(),s=t[_n];Yn.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function H(){const t=Yn.lFrame,n=null===t?null:t.child;return null===n?oe(t):n}function oe(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pe(){const t=Yn.lFrame;return Yn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vt=Pe;function ft(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ar(){return Yn.lFrame.selectedIndex}function Pr(t){Yn.lFrame.selectedIndex=t}function bi(){const t=Yn.lFrame;return Dd(t.tView,t.selectedIndex)}let Bh=!0;function mc(){return Bh}function pa(t){Bh=t}function Xa(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:re}=g;C&&(t.contentHooks??=[]).push(-s,C),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),R&&(t.viewHooks??=[]).push(-s,R),G&&((t.viewHooks??=[]).push(s,G),(t.viewCheckHooks??=[]).push(s,G)),null!=re&&(t.destroyHooks??=[]).push(s,re)}}function _c(t,n,s){ga(t,n,3,s)}function ju(t,n,s,u){(3&t[lr])===s&&ga(t,n,s,u)}function Sd(t,n){let s=t[lr];(3&s)===n&&(s&=8191,s+=1,t[lr]=s)}function ga(t,n,s,u){const g=u??-1,C=n.length-1;let A=0;for(let R=void 0!==u?65535&t[Re]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=u&&A>=u)break}else n[R]<0&&(t[Re]+=65536),(A<g||-1==g)&&($u(t,s,n,R),t[Re]=(4294901760&t[Re])+R+2),R++}function Bu(t,n){As(4,t,n);const s=ns(null);try{n.call(t)}finally{ns(s),As(5,t,n)}}function $u(t,n,s,u){const f=s[u]<0,g=s[u+1],A=t[f?-s[u]:s[u]];f?t[lr]>>13<t[Re]>>16&&(3&t[lr])===n&&(t[lr]+=8192,Bu(A,g)):Bu(A,g)}const Vo=-1;class ma{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Hu(t){return t!==Vo}function $c(t){return 32767&t}function yl(t,n){let s=function Pd(t){return t>>16}(t),u=n;for(;s>0;)u=u[Z],s--;return u}let tu=!0;function ya(t){const n=tu;return tu=t,n}const zh=255,Oa=5;let Gu=0;const wo={};function Hc(t,n){const s=Wh(t,n);if(-1!==s)return s;const u=n[_n];u.firstCreatePass&&(t.injectorIndex=n.length,Us(u.data,t),Us(n,null),Us(u.blueprint,null));const f=Gc(t,n),g=t.injectorIndex;if(Hu(f)){const C=$c(f),A=yl(f,n),R=A[_n].data;for(let G=0;G<8;G++)n[g+G]=A[C+G]|R[C+G]}return n[g+8]=f,g}function Us(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Wh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Gc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=Md(f),null===u)return Vo;if(s++,f=f[Z],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Vo}function vl(t,n,s){!function zu(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Ln)&&(u=s[Ln]),null==u&&(u=s[Ln]=Gu++);const f=u&zh;n.data[t+(f>>Oa)]|=1<<f}(t,n,s)}function vc(t,n,s){if(s&Tn.Optional||void 0!==t)return t;rn()}function El(t,n,s,u){if(s&Tn.Optional&&void 0===u&&(u=null),!(s&(Tn.Self|Tn.Host))){const f=t[Bi],g=Yr(void 0);try{return f?f.get(n,u,s&Tn.Optional):Or(n,u,s&Tn.Optional)}finally{Yr(g)}}return vc(u,0,s)}function Wu(t,n,s,u=Tn.Default,f){if(null!==t){if(2048&n[lr]&&!(u&Tn.Self)){const C=function lp(t,n,s,u,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[lr]&&!(512&C[lr]);){const A=va(g,C,s,u|Tn.Self,wo);if(A!==wo)return A;let R=g.parent;if(!R){const G=C[Jt];if(G){const re=G.get(s,wo,u);if(re!==wo)return re}R=Md(C),C=C[Z]}g=R}return f}(t,n,s,u,wo);if(C!==wo)return C}const g=va(t,n,s,u,wo);if(g!==wo)return g}return El(n,s,u,f)}function va(t,n,s,u,f){const g=function zc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ln)?t[Ln]:void 0;return"number"==typeof n?n>=0?n&zh:xd:n}(s);if("function"==typeof g){if(!w(n,t,u))return u&Tn.Host?vc(f,0,u):El(n,s,u,f);try{let C;if(C=g(u),null!=C||u&Tn.Optional)return C;rn()}finally{vt()}}else if("number"==typeof g){let C=null,A=Wh(t,n),R=Vo,G=u&Tn.Host?n[Q][Hr]:null;for((-1===A||u&Tn.SkipSelf)&&(R=-1===A?Gc(t,n):n[A+8],R!==Vo&&cp(u,!1)?(C=n[_n],A=$c(R),n=yl(R,n)):A=-1);-1!==A;){const re=n[_n];if(Ku(g,A,re.data)){const Ce=Dg(A,n,s,C,u,G);if(Ce!==wo)return Ce}R=n[A+8],R!==Vo&&cp(u,n[_n].data[A+8]===G)&&Ku(g,A,n)?(C=re,A=$c(R),n=yl(R,n)):A=-1}}return f}function Dg(t,n,s,u,f,g){const C=n[_n],A=C.data[t+8],re=Qa(A,C,s,null==u?Hi(A)&&tu:u!=C&&0!=(3&A.type),f&Tn.Host&&g===A);return null!==re?Ea(n,C,re,A):wo}function Qa(t,n,s,u,f){const g=t.providerIndexes,C=n.data,A=1048575&g,R=t.directiveStart,re=g>>20,Ke=f?A+re:t.directiveEnd;for(let lt=u?A:A+re;lt<Ke;lt++){const Ut=C[lt];if(lt<R&&s===Ut||lt>=R&&Ut.type===s)return lt}if(f){const lt=C[R];if(lt&&so(lt)&&lt.type===s)return R}return null}function Ea(t,n,s,u){let f=t[s];const g=n.data;if(function _a(t){return t instanceof ma}(f)){const C=f;C.resolving&&function Pt(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${s}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():We(t)}(g[s]));const A=ya(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?Yr(C.injectImpl):null;w(t,u,Tn.Default);try{f=t[s]=C.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function $h(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const C=gi(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],n)}finally{null!==G&&Yr(G),ya(A),C.resolving=!1,vt()}}return f}function Ku(t,n,s){return!!(s[n+(t>>Oa)]&1<<t)}function cp(t,n){return!(t&Tn.Self||t&Tn.Host&&n)}class ro{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Wu(this._tNode,this._lView,n,Sn(u),s)}}function xd(){return new ro(Vs(),qt())}function ba(t){return wi(()=>{const n=t.prototype.constructor,s=n[ln]||bl(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const g=f[ln]||bl(f);if(g&&g!==s)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function bl(t){return Bt(t)?()=>{const n=bl(Dt(t));return n&&n()}:Zs(t)}function Md(t){const n=t[_n],s=n.type;return 2===s?n.declTNode:1===s?t[Hr]:null}function Rd(t){return function Kh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const g=s[f];if(Xr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(Vs(),t)}const Zo="__parameters__";function nu(t,n,s){return wi(()=>{const u=function Od(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(R,G,re){const Ce=R.hasOwnProperty(Zo)?R[Zo]:Object.defineProperty(R,Zo,{value:[]})[Zo];for(;Ce.length<=re;)Ce.push(null);return(Ce[re]=Ce[re]||[]).push(C),R}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function qc(t,n){t.forEach(s=>Array.isArray(s)?qc(s,n):n(s))}function Ec(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Yc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ea(t,n,s){let u=bc(t,n);return u>=0?t[1|u]=s:(u=~u,function xg(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Dl(t,n){const s=bc(t,n);if(s>=0)return t[1|s]}function bc(t,n){return function hp(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const g=u+(f-u>>1),C=t[g<<s];if(n===C)return g<<s;C>n?f=g:u=g+1}return~(f<<s)}(t,n,1)}const Jc=cn(nu("Optional"),8),iu=cn(nu("SkipSelf"),4);function Kd(t){return 128==(128&t.flags)}var qd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qd||{});const ed=/^>|^->|<!--|-->|--!>|<!-$/g,kg=/(<|>)/g,l0="\u200b$1\u200b";const td=new Map;let Fg=0;const sf="__ngContext__";function Do(t,n){ti(n)?(t[sf]=n[_t],function nd(t){td.set(t[_t],t)}(n)):t[sf]=n}let af;function uu(t,n){return af(t,n)}function Xd(t){const n=t[zn];return kr(n)?n[zn]:n}function d_(t){return bp(t[ls])}function Lg(t){return bp(t[fi])}function bp(t){for(;null!==t&&!kr(t);)t=t[fi];return t}function du(t,n,s,u,f){if(null!=u){let g,C=!1;kr(u)?g=u:ti(u)&&(C=!0,u=u[hi]);const A=Rr(u);0===t&&null!==s?null==f?Sp(n,s,A):id(n,s,A,f||null,!0):1===t&&null!==s?id(n,s,A,f||null,!0):2===t?function hf(t,n,s){const u=Ic(t,n);u&&function jg(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,A,C):3===t&&n.destroyNode(A),null!=g&&function gf(t,n,s,u,f){const g=s[Ur];g!==Rr(s)&&du(n,t,u,g,f);for(let A=Nr;A<s.length;A++){const R=s[A];pf(R[_n],R,t,n,u,g)}}(n,t,g,s,f)}}function Jd(t,n){return t.createComment(function Ja(t){return t.replace(ed,n=>n.replace(kg,l0))}(n))}function Ip(t,n,s){return t.createElement(n,s)}function f_(t,n){const s=t[Wi],u=s.indexOf(n);Nc(n),s.splice(u,1)}function lf(t,n){if(t.length<=Nr)return;const s=Nr+n,u=t[s];if(u){const f=u[Ie];null!==f&&f!==t&&f_(f,u),n>0&&(t[s-1][fi]=u[fi]);const g=Yc(t,Nr+n);!function Tp(t,n){pf(t,n,n[tr],2,null,null),n[hi]=null,n[Hr]=null}(u[_n],u);const C=g[Ye];null!==C&&C.detachView(g[_n]),u[zn]=null,u[fi]=null,u[lr]&=-129}return u}function Ap(t,n){if(!(256&n[lr])){const s=n[tr];n[Zn]&&cc(n[Zn]),n[xr]&&cc(n[xr]),s.destroyNode&&pf(t,n,s,3,null,null),function cf(t){let n=t[ls];if(!n)return Dp(t[_n],t);for(;n;){let s=null;if(ti(n))s=n[ls];else{const u=n[Nr];u&&(s=u)}if(!s){for(;n&&!n[fi]&&n!==t;)ti(n)&&Dp(n[_n],n),n=n[zn];null===n&&(n=t),ti(n)&&Dp(n[_n],n),s=n&&n[fi]}n=s}}(n)}}function Dp(t,n){if(!(256&n[lr])){n[lr]&=-129,n[lr]|=256,function Ly(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof ma)){const g=s[u+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],R=g[C+1];As(4,A,R);try{R.call(A)}finally{As(5,A,R)}}else{As(4,f,g);try{g.call(f)}finally{As(5,f,g)}}}}}(t,n),function p_(t,n){const s=t.cleanup,u=n[Ms];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const C=s[g+3];C>=0?u[C]():u[-C].unsubscribe(),g+=2}else s[g].call(u[s[g+1]]);null!==u&&(n[Ms]=null);const f=n[Pn];if(null!==f){n[Pn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[_n].type&&n[tr].destroy();const s=n[Ie];if(null!==s&&kr(n[zn])){s!==n[zn]&&f_(s,n);const u=n[Ye];null!==u&&u.detachView(t)}!function a_(t){td.delete(t[_t])}(n)}}function Ug(t,n,s){return function g_(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[hi];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=t.data[u.directiveStart+f];if(g===Ni.None||g===Ni.Emulated)return null}return to(u,s)}}(t,n.parent,s)}function id(t,n,s,u,f){t.insertBefore(n,s,u,f)}function Sp(t,n,s){t.appendChild(n,s)}function m_(t,n,s,u,f){null!==u?id(t,n,s,u,f):Sp(t,n,s)}function Ic(t,n){return t.parentNode(n)}let $g,Pl,v_,Np,xp=function __(t,n,s){return 40&t.type?to(t,s):null};function Mp(t,n,s,u){const f=Ug(t,u,n),g=n[tr],A=function Pp(t,n,s){return xp(t,n,s)}(u.parent||n[Hr],u,n);if(null!=f)if(Array.isArray(s))for(let R=0;R<s.length;R++)m_(g,f,s[R],A,!1);else m_(g,f,s,A,!1);void 0!==$g&&$g(g,u,n,s,f)}function th(t,n){if(null!==n){const s=n.type;if(3&s)return to(n,t);if(4&s)return df(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return th(t,u);{const f=t[n.index];return kr(f)?df(-1,f):Rr(f)}}if(32&s)return uu(n,t)()||Rr(t[n.index]);{const u=uf(t,n);return null!==u?Array.isArray(u)?u[0]:th(Xd(t[Q]),u):th(t,n.next)}}return null}function uf(t,n){return null!==n?t[Q][Hr].projection[n.projection]:null}function df(t,n){const s=Nr+t+1;if(s<n.length){const u=n[s],f=u[_n].firstChild;if(null!==f)return th(u,f)}return n[Ur]}function ff(t,n,s,u,f,g,C){for(;null!=s;){const A=u[s.index],R=s.type;if(C&&0===n&&(A&&Do(Rr(A),u),s.flags|=2),32!=(32&s.flags))if(8&R)ff(t,n,s.child,u,f,g,!1),du(n,t,f,A,g);else if(32&R){const G=uu(s,u);let re;for(;re=G();)du(n,t,f,re,g);du(n,t,f,A,g)}else 16&R?y_(t,n,u,s,f,g):du(n,t,f,A,g);s=C?s.projectionNext:s.next}}function pf(t,n,s,u,f,g){ff(s,u,t.firstChild,n,f,g,!1)}function y_(t,n,s,u,f,g){const C=s[Q],R=C[Hr].projection[u.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)du(n,t,f,R[G],g);else{let G=R;const re=C[zn];Kd(u)&&(G.flags|=128),ff(t,n,G,re,f,g,!0)}}function Gg(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function zg(t,n,s){const{mergedAttrs:u,classes:f,styles:g}=s;null!==u&&$r(t,n,u),null!==f&&Gg(t,n,f),null!==g&&function Rp(t,n,s){t.setAttribute(n,"style",s)}(t,n,g)}function pu(t){return function Op(){if(void 0===Pl&&(Pl=null,Xn.trustedTypes))try{Pl=Xn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pl}()?.createHTML(t)||t}function xl(t){v_=t}function nh(){if(void 0!==v_)return v_;if(typeof document<"u")return document;throw new be(210,!1)}function mf(){if(void 0===Np&&(Np=null,Xn.trustedTypes))try{Np=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Np}function E_(t){return mf()?.createHTML(t)||t}function b_(t){return mf()?.createScriptURL(t)||t}class Ml{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Be})`}}class $y extends Ml{getTypeName(){return"HTML"}}class Fp extends Ml{getTypeName(){return"Style"}}class C_ extends Ml{getTypeName(){return"Script"}}class Vp extends Ml{getTypeName(){return"URL"}}class Lp extends Ml{getTypeName(){return"ResourceURL"}}function tl(t){return t instanceof Ml?t.changingThisBreaksApplicationSecurity:t}function Za(t,n){const s=function Up(t){return t instanceof Ml&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Be})`)}return s===n}function qg(t){return new $y(t)}function Yg(t){return new Fp(t)}function _f(t){return new C_(t)}function Xg(t){return new Vp(t)}function Qg(t){return new Lp(t)}class Hy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(pu(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Jg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=pu(n),s}}const gu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yf(t){return(t=String(t)).match(gu)?t:"unsafe:"+t}function So(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function vf(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const Gy=So("area,br,col,hr,img,wbr"),Rl=So("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),I_=So("rp,rt"),Ef=vf(Gy,vf(Rl,So("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vf(I_,So("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vf(I_,Rl)),bf=So("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jp=vf(bf,So("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),So("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tm=So("script,style,template");class Ol{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!Ef.hasOwnProperty(s))return this.sanitizedSomething=!0,!tm.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),C=g.name,A=C.toLowerCase();if(!jp.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=g.value;bf[A]&&(R=yf(R)),this.buf.push(" ",C,'="',rm(R),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();Ef.hasOwnProperty(s)&&!Gy.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(rm(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Cf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nm=/([^\#-~ |!])/g;function rm(t){return t.replace(/&/g,"&amp;").replace(Cf,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(nm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ec;function If(t,n){let s=null;try{ec=ec||function sd(t){const n=new Jg(t);return function Zg(){try{return!!(new window.DOMParser).parseFromString(pu(""),"text/html")}catch{return!1}}()?new Hy(n):n}(t);let u=n?String(n):"";s=ec.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=s.innerHTML,s=ec.getInertBodyElement(u)}while(u!==g);return pu((new Ol).sanitizeChildren(Ci(s)||s))}finally{if(s){const u=Ci(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ci(t){return"content"in t&&function Wy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var od=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(od||{});function im(t){const n=rh();return n?E_(n.sanitize(od.HTML,t)||""):Za(t,"HTML")?E_(tl(t)):If(nh(),We(t))}function Bp(t){const n=rh();return n?n.sanitize(od.URL,t)||"":Za(t,"URL")?tl(t):yf(We(t))}function D_(t){const n=rh();if(n)return b_(n.sanitize(od.RESOURCE_URL,t)||"");if(Za(t,"ResourceURL"))return b_(tl(t));throw new be(904,!1)}function S_(t,n,s){return function Qy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?D_:Bp}(n,s)(t)}function rh(){const t=qt();return t&&t[ts].sanitizer}const ad=new gn("ENVIRONMENT_INITIALIZER"),sm=new gn("INJECTOR",-1),om=new gn("INJECTOR_DEF_TYPES");class $p{get(n,s=Hn){if(s===Hn){const u=new Error(`NullInjectorError: No provider for ${_e(n)}!`);throw u.name="NullInjectorError",u}return s}}function ih(t){return{\u0275providers:t}}function mi(...t){return{\u0275providers:am(0,t),\u0275fromNgModule:!0}}function am(t,...n){const s=[],u=new Set;let f;const g=C=>{s.push(C)};return qc(n,C=>{const A=C;mu(A,g,[],u)&&(f||=[],f.push(A))}),void 0!==f&&cm(f,g),s}function cm(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];fo(f,g=>{n(g,u)})}}function mu(t,n,s,u){if(!(t=Dt(t)))return!1;let f=null,g=Cr(t);const C=!g&&kn(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(g=Cr(R),!g)return!1;f=R}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of R)mu(G,n,s,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let G;u.add(f);try{qc(g.imports,re=>{mu(re,n,s,u)&&(G||=[],G.push(re))})}finally{}void 0!==G&&cm(G,n)}if(!A){const G=Zs(f)||(()=>new f);n({provide:f,useFactory:G,deps:ar},f),n({provide:om,useValue:f,multi:!0},f),n({provide:ad,useValue:()=>At(f),multi:!0},f)}const R=g.providers;if(null!=R&&!A){const G=t;fo(R,re=>{n(re,G)})}}}return f!==t&&void 0!==t.providers}function fo(t,n){for(let s of t)Nt(s)&&(s=s.\u0275providers),Array.isArray(s)?fo(s,n):n(s)}const Bs=ee({provide:String,useValue:ee});function tc(t){return null!==t&&"object"==typeof t&&Bs in t}function _u(t){return"function"==typeof t}const Tf=new gn("Set Injector scope."),wf={},Hp={};let lm;function Af(){return void 0===lm&&(lm=new $p),lm}class Ii{}class Df extends Ii{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hm(n,C=>this.processProvider(C)),this.records.set(sm,sh(void 0,this)),f.has("environment")&&this.records.set(Ii,sh(void 0,this));const g=this.records.get(Tf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(om.multi,ar,Tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=me(this),u=Yr(void 0);try{return n()}finally{me(s),Yr(u)}}get(n,s=Hn,u=Tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Mn))return n[Mn](this);u=Sn(u);const g=me(this),C=Yr(void 0);try{if(!(u&Tn.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function tv(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(n)&&Gn(n);R=G&&this.injectableDefInScope(G)?sh(um(n),wf):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(u&Tn.Self?Af():this.parent).get(n,s=u&Tn.Optional&&s===Hn?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[Sr]=A[Sr]||[]).unshift(_e(n)),g)throw A;return function mr(t,n,s,u){const f=t[Sr];throw n[M]&&f.unshift(n[M]),t.message=function Ss(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=_e(n);if(Array.isArray(n))f=n.map(_e).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):_e(A)))}f=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(bt,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[Sr]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{Yr(C),me(g)}}resolveInjectorInitializers(){const n=me(this),s=Yr(void 0);try{const f=this.get(ad.multi,ar,Tn.Self);for(const g of f)g()}finally{me(n),Yr(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(_e(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(n){let s=_u(n=Dt(n))?n:Dt(n&&n.provide);const u=function M_(t){return tc(t)?sh(void 0,t.useValue):sh(R_(t),wf)}(n);if(_u(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=sh(void 0,wf,!0),f.factory=()=>vr(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===wf&&(s.value=Hp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Gp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Dt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function um(t){const n=Gn(t),s=null!==n?n.factory:Zs(t);if(null!==s)return s;if(t instanceof gn)throw new be(204,!1);if(t instanceof Function)return function Ds(t){const n=t.length;if(n>0)throw function Xc(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new be(204,!1);const s=function jt(t){return t&&(t[un]||t[er])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new be(204,!1)}function R_(t,n,s){let u;if(_u(t)){const f=Dt(t);return Zs(f)||um(f)}if(tc(t))u=()=>Dt(t.useValue);else if(function x_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...vr(t.deps||[]));else if(function P_(t){return!(!t||!t.useExisting)}(t))u=()=>At(Dt(t.useExisting));else{const f=Dt(t&&(t.useClass||t.provide));if(!function dm(t){return!!t.deps}(t))return Zs(f)||um(f);u=()=>new f(...vr(t.deps))}return u}function sh(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function hm(t,n){for(const s of t)Array.isArray(s)?hm(s,n):s&&Nt(s)?hm(s.\u0275providers,n):n(s)}const O_=new gn("AppId",{providedIn:"root",factory:()=>nv}),nv="ng",rv=new gn("Platform Initializer"),fm=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yu=new gn("AnimationModuleType"),cd=new gn("CSP nonce",{providedIn:"root",factory:()=>nh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yp=(t,n,s)=>null;function hs(t,n,s=!1){return Yp(t,n,s)}class iv{}class _m{}class h0{resolveComponentFactory(n){throw function Mf(t){const n=Error(`No component factory found for ${_e(t)}.`);return n.ngComponent=t,n}(n)}}let bu=(()=>{class t{static{this.NULL=new h0}}return t})();function xE(){return Zp(Vs(),qt())}function Zp(t,n){return new hh(to(t,n))}let hh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=xE}}return t})();function f0(t){return t instanceof hh?t.nativeElement:t}class fh{}let vm=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Em(){const t=qt(),s=Gi(Vs().index,t);return(ti(s)?s:t)[tr]}()}}return t})(),bm=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>null})}}return t})();class eg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const L_=new eg("16.2.12"),ph={};function g0(t,n=null,s=null,u){const f=lv(t,n,s,u);return f.resolveInjectorInitializers(),f}function lv(t,n=null,s=null,u,f=new Set){const g=[s||ar,mi(t)];return u=u||("object"==typeof t?void 0:_e(t)),new Df(g,n||Af(),u||null,f)}let kl=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Hn}static{this.NULL=new $p}static create(s,u){if(Array.isArray(s))return g0({name:""},u,s,"");{const f=s.name??"";return g0({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=sn({token:t,providedIn:"any",factory:()=>At(sm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Cu(t){return t.ngOriginalError}class Ac{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Cu(n);for(;s&&Cu(s);)s=Cu(s);return s||null}}function Vl(t){return n=>{setTimeout(t,void 0,n)}}const Ll=class v0 extends o.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,g=s||(()=>null),C=u;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),g=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(g=Vl(g),f&&(f=Vl(f)),C&&(C=Vl(C)));const A=super.subscribe({next:f,error:g,complete:C});return n instanceof le.yU&&n.add(A),A}};function uv(...t){}class Po{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ll(!1),this.onMicrotaskEmpty=new Ll(!1),this.onStable=new Ll(!1),this.onError=new Ll(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function E0(){const t="function"==typeof Xn.requestAnimationFrame;let n=Xn[t?"requestAnimationFrame":"setTimeout"],s=Xn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function I0(t){const n=()=>{!function C0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$_(t),t.isCheckStableRunning=!0,B_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,g,C,A)=>{if(function w0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,g,C,A);try{return dv(t),s.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),gh(t)}},onInvoke:(s,u,f,g,C,A,R)=>{try{return dv(t),s.invoke(f,g,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),gh(t)}},onHasTask:(s,u,f,g)=>{s.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,$_(t),B_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new be(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,b0,uv,uv);try{return g.runTask(C,s,u)}finally{g.cancelTask(C)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const b0={};function B_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gh(t){t._nesting--,B_(t)}class H_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ll,this.onMicrotaskEmpty=new Ll,this.onStable=new Ll,this.onError=new Ll}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const T0=new gn("",{providedIn:"root",factory:hv});function hv(){const t=dn(Po);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Po.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Te.h)(s,u.pipe((0,Me.u)()))}function fv(t){return t.ownerDocument.defaultView}function hd(t){return t instanceof Function?t():t}let _v=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function rg(t){for(;t;){t[lr]|=64;const n=Xd(t);if(oo(t)&&!n)return t;t=n}return null}const yv=new gn("",{providedIn:"root",factory:()=>!1});let Am=null;function Iv(t,n){return t[n]??wv()}function Tv(t,n){const s=wv();s.producerNode?.length&&(t[n]=Am,s.lView=t,Am=Dm())}const G_={...Ba,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{rg(t.lView)},lView:null};function Dm(){return Object.create(G_)}function wv(){return Am??=Dm(),Am}const Jr={};function N0(t){Sm(Fr(),qt(),Ar()+t,!1)}function Sm(t,n,s,u){if(!u)if(3==(3&n[lr])){const g=t.preOrderCheckHooks;null!==g&&_c(n,g,s)}else{const g=t.preOrderHooks;null!==g&&ju(n,g,0,s)}Pr(s)}function Tu(t,n=Tn.Default){const s=qt();return null===s?At(t,n):Wu(Vs(),s,Dt(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,g,C,A,R,G,re){const Ce=n.blueprint.slice();return Ce[hi]=f,Ce[lr]=140|u,(null!==G||t&&2048&t[lr])&&(Ce[lr]|=2048),xa(Ce),Ce[zn]=Ce[Z]=t,Ce[Gr]=s,Ce[ts]=C||t&&t[ts],Ce[tr]=A||t&&t[tr],Ce[Bi]=R||t&&t[Bi]||null,Ce[Hr]=g,Ce[_t]=function o_(){return Fg++}(),Ce[En]=re,Ce[Jt]=G,Ce[Q]=2==n.type?t[Q]:Ce,Ce}function a(t,n,s,u,f){let g=t.data[n];if(null===g)g=function h(t,n,s,u,f){const g=Fc(),C=Vc(),R=t.data[n]=function nr(t,n,s,u,f,g){let C=n?n.injectorIndex:-1,A=0;return function fa(){return null!==Yn.skipHydrationRootTNode}()&&(A|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=R),null!==g&&(C?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(t,n,s,u,f),function ir(){return Yn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=u,g.attrs=f;const C=function qa(){const t=Yn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return Fo(g,!0),g}function _(t,n,s,u){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const g=Iv(n,Zn),C=Ar(),A=2&u;try{Pr(-1),A&&n.length>Un&&Sm(t,n,Un,!1),As(A?2:0,f);const G=A?g:null,re=Ha(G);try{null!==G&&(G.dirty=!1),s(u,f)}finally{la(G,re)}}finally{A&&null===n[Zn]&&Tv(n,Zn),Pr(C),As(A?3:1,f)}}function P(t,n,s){if(vo(n)){const u=ns(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,s[C],C)}}finally{ns(u)}}}function F(t,n,s){Lu()&&(function k0(t,n,s,u){const f=s.directiveStart,g=s.directiveEnd;Hi(s)&&function ag(t,n,s){const u=to(n,t),f=ie(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const A=Nf(t,r(t,f,null,C,u,n,null,t[ts].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||Hc(s,n),Do(u,n);const C=s.initialInputs;for(let A=f;A<g;A++){const R=t.data[A],G=Ea(n,t,A,s);Do(G,n),null!==C&&V0(0,A-f,G,R,0,C),so(R)&&(Gi(s.index,n)[Gr]=Ea(n,t,A,s))}}(t,n,s,to(s,n)),64==(64&s.flags)&&Of(t,n,s))}function K(t,n,s=to){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const C=u[g+1],A=-1===C?s(n,t):t[C];t[f++]=A}}}function ie(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ye(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ye(t,n,s,u,f,g,C,A,R,G,re){const Ce=Un+u,Ke=Ce+f,lt=function je(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:Jr);return s}(Ce,Ke),Ut="function"==typeof G?G():G;return lt[_n]={type:t,blueprint:lt,template:s,queries:null,viewQuery:A,declTNode:n,data:lt.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Ut,incompleteFirstPass:!1,ssrId:re}}let hn=t=>null;function jr(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const g=t[f];null===u?Vi(s,n,f,g):u.hasOwnProperty(f)&&Vi(s,n,u[f],g)}return s}function Vi(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function Oe(t,n,s,u,f,g,C,A){const R=to(n,s);let re,G=n.inputs;!A&&null!=G&&(re=G[u])?(Rm(t,s,re,u,f),Hi(n)&&function Ge(t,n){const s=Gi(n,t);16&s[lr]||(s[lr]|=64)}(s,n.index)):3&n.type&&(u=function at(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,g.setProperty(R,u,f))}function It(t,n,s,u){if(Lu()){const f=null===u?null:{"":-1},g=function z_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let g=0;g<s.length;g++){const C=s[g];if(os(n,C.selectors,!1))if(u||(u=[]),so(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),Pm(t,n,A.length)}else u.unshift(C),Pm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,s);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&$e(t,n,s,C,f,A),f&&function F0(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new be(-301,!1);u.push(n[f],g)}}}(s,u,f)}s.mergedAttrs=Yi(s.mergedAttrs,s.attrs)}function $e(t,n,s,u,f,g){for(let G=0;G<u.length;G++)vl(Hc(s,n),t,u[G].type);!function ta(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let G=0;G<u.length;G++){const re=u[G];re.providersResolver&&re.providersResolver(re)}let C=!1,A=!1,R=_(t,n,u.length,null);for(let G=0;G<u.length;G++){const re=u[G];s.mergedAttrs=Yi(s.mergedAttrs,re.hostAttrs),Av(t,s,n,R,re),fd(R,re,f),null!==re.contentQueries&&(s.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=64);const Ce=re.type.prototype;!C&&(Ce.ngOnChanges||Ce.ngOnInit||Ce.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!A&&(Ce.ngOnChanges||Ce.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),R++}!function ui(t,n,s){const f=n.directiveEnd,g=t.data,C=n.attrs,A=[];let R=null,G=null;for(let re=n.directiveStart;re<f;re++){const Ce=g[re],Ke=s?s.get(Ce):null,Ut=Ke?Ke.outputs:null;R=jr(Ce.inputs,re,R,Ke?Ke.inputs:null),G=jr(Ce.outputs,re,G,Ut);const fn=null===R||null===C||mo(n)?null:xm(R,re,C);A.push(fn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=G}(t,s,g)}function Of(t,n,s){const u=s.directiveStart,f=s.directiveEnd,g=s.index,C=function jh(){return Yn.lFrame.currentDirectiveIndex}();try{Pr(g);for(let A=u;A<f;A++){const R=t.data[A],G=n[A];eu(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&og(R,G)}}finally{Pr(-1),eu(C)}}function og(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Pm(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function fd(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;so(n)&&(s[""]=t)}}function Av(t,n,s,u,f){t.data[u]=f;const g=f.factory||(f.factory=Zs(f.type)),C=new ma(g,so(f),Tu);t.blueprint[u]=C,s[u]=C,function wu(t,n,s,u,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function sg(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(s,u,g)}}(t,n,u,_(t,s,f.hostVars,Jr),f)}function Ul(t,n,s,u,f,g){const C=to(t,n);!function mh(t,n,s,u,f,g,C){if(null==g)t.removeAttribute(n,f,s);else{const A=null==C?We(g):C(g,u||"",f);t.setAttribute(n,f,A,s)}}(n[tr],C,g,t.value,s,u,f)}function V0(t,n,s,u,f,g){const C=g[n];if(null!==C)for(let A=0;A<C.length;)Dv(u,s,C[A++],C[A++],C[A++])}function Dv(t,n,s,u,f){const g=ns(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{ns(g)}}function xm(t,n,s){let u=null,f=0;for(;f<s.length;){const g=s[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(g,C[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function cg(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function Mm(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const g=s[u+1];if(-1!==g){const C=t.data[g];D(s[u]),C.contentQueries(2,n[g],g)}}}function Nf(t,n){return t[ls]?t[us][fi]=n:t[ls]=n,t[us]=n,n}function lg(t,n,s){D(0);const u=ns(null);try{n(t,s)}finally{ns(u)}}function W_(t){return t[Ms]||(t[Ms]=[])}function K_(t){return t.cleanup||(t.cleanup=[])}function q_(t,n){const s=t[Bi],u=s?s.get(Ac,null):null;u&&u.handleError(n)}function Rm(t,n,s,u,f){for(let g=0;g<s.length;){const C=s[g++],A=s[g++];Dv(t.data[C],n[C],u,A,f)}}function rl(t,n,s){const u=Wa(n,t);!function Cp(t,n,s){t.setValue(n,s)}(t[tr],u,s)}function xv(t,n){const s=Gi(n,t),u=s[_n];!function L0(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[hi];null!==f&&null===s[En]&&(s[En]=hs(f,s[Bi])),ug(u,s,s[Gr])}function ug(t,n,s){N(n);try{const u=t.viewQuery;null!==u&&lg(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mm(t,n),t.staticViewQueries&&lg(2,t.viewQuery,s);const g=t.components;null!==g&&function Y_(t,n){for(let s=0;s<n.length;s++)xv(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[lr]&=-5,ft()}}let Om=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const g=typeof Zone>"u"?null:Zone.current,C=function Lt(t,n,s){const u=Object.create(ni);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>Os(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Rc(u))return;u.hasRun=!0;const C=Ha(u);try{u.cleanupFn(),u.cleanupFn=$n,u.fn(f)}finally{la(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(s,G=>{this.all.has(G)&&this.queue.set(G,g)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function xo(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?g=A:1==g?f=ut(f,A):2==g&&(u=ut(u,A+": "+n[++C]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function pd(t,n,s,u,f=!1){for(;null!==s;){const g=n[s.index];null!==g&&u.push(Rr(g)),kr(g)&&X_(g,u);const C=s.type;if(8&C)pd(t,n,s.child,u);else if(32&C){const A=uu(s,n);let R;for(;R=A();)u.push(R)}else if(16&C){const A=uf(n,s);if(Array.isArray(A))u.push(...A);else{const R=Xd(n[Q]);pd(R[_n],R,A,u,!0)}}s=f?s.projectionNext:s.next}return u}function X_(t,n){for(let s=Nr;s<t.length;s++){const u=t[s],f=u[_n].firstChild;null!==f&&pd(u[_n],u,f,n)}t[Ur]!==t[hi]&&n.push(t[Ur])}function dg(t,n,s,u=!0){const f=n[ts],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{Q_(t,n,t.template,s)}catch(R){throw u&&q_(n,R),R}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function Q_(t,n,s,u){const f=n[lr];if(256!=(256&f)){n[ts].effectManager?.flush(),N(n);try{xa(n),function Ya(t){return Yn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&_c(n,G,null)}else{const G=t.preOrderHooks;null!==G&&ju(n,G,0,null),Sd(n,0)}if(function Z_(t){for(let n=d_(t);null!==n;n=Lg(n)){if(!n[Mr])continue;const s=n[Wi];for(let u=0;u<s.length;u++){Ka(s[u])}}}(n),J_(n,2),null!==t.contentQueries&&Mm(t,n),C){const G=t.contentCheckHooks;null!==G&&_c(n,G)}else{const G=t.contentHooks;null!==G&&ju(n,G,1),Sd(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=Iv(n,xr);try{for(let f=0;f<s.length;f++){const g=s[f];if(g<0)Pr(~g);else{const C=g,A=s[++f],R=s[++f];ip(A,C),u.dirty=!1;const G=Ha(u);try{R(2,n[C])}finally{la(u,G)}}}}finally{null===n[xr]&&Tv(n,xr),Pr(-1)}}(t,n);const A=t.components;null!==A&&fg(n,A,0);const R=t.viewQuery;if(null!==R&&lg(2,R,u),C){const G=t.viewCheckHooks;null!==G&&_c(n,G)}else{const G=t.viewHooks;null!==G&&ju(n,G,2),Sd(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[lr]&=-73,Nc(n)}finally{ft()}}}function J_(t,n){for(let s=d_(t);null!==s;s=Lg(s))for(let u=Nr;u<s.length;u++)Mv(s[u],n)}function U0(t,n,s){Mv(Gi(n,t),s)}function Mv(t,n){if(!function da(t){return 128==(128&t[lr])}(t))return;const s=t[_n],u=t[lr];if(80&u&&0===n||1024&u||2===n)Q_(s,t,s.template,t[Gr]);else if(t[vi]>0){J_(t,1);const f=s.components;null!==f&&fg(t,f,1)}}function fg(t,n,s){for(let u=0;u<n.length;u++)U0(t,n[u],s)}class _h{get rootNodes(){const n=this._lView,s=n[_n];return pd(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gr]}set context(n){this._lView[Gr]=n}get destroyed(){return 256==(256&this._lView[lr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[zn];if(kr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(lf(n,u),Yc(s,u))}this._attachedToViewContainer=!1}Ap(this._lView[_n],this._lView)}onDestroy(n){!function Yl(t,n){if(256==(256&t[lr]))throw new be(911,!1);null===t[Pn]&&(t[Pn]=[]),t[Pn].push(n)}(this._lView,n)}markForCheck(){rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[lr]&=-129}reattach(){this._lView[lr]|=128}detectChanges(){dg(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zd(t,n){pf(t,n,n[tr],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=n}}class ey extends _h{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;dg(n[_n],n,n[Gr],!1)}checkNoChanges(){}get context(){return null}}class yh extends bu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=kn(n);return new kf(s,this.ngModule)}}function vh(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class gd{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Sn(u);const f=this.injector.get(n,ph,u);return f!==ph||s===ph?f:this.parentInjector.get(n,s,u)}}class kf extends _m{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=vh(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return vh(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function ai(t){return t.map(_o).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let g=(f=f||this.ngModule)instanceof Ii?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new gd(n,g):n,A=C.get(fh,null);if(null===A)throw new be(407,!1);const Ce={rendererFactory:A,sanitizer:C.get(bm,null),effectManager:C.get(Om,null),afterRenderEventManager:C.get(_v,null)},Ke=A.createRenderer(null,this.componentDef),lt=this.componentDef.selectors[0][0]||"div",Ut=u?function yt(t,n,s,u){const g=u.get(yv,!1)||s===Ni.ShadowDom,C=t.selectRootElement(n,g);return function Gt(t){hn(t)}(C),C}(Ke,u,this.componentDef.encapsulation,C):Ip(Ke,lt,function pg(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(lt)),pr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Zt=null;null!==Ut&&(Zt=hs(Ut,C,!0));const qr=ye(0,null,null,1,0,null,null,null,null,null,null),Si=r(null,qr,null,pr,null,null,Ce,Ke,C,null,Zt);let Is,ul;N(Si);try{const rp=this.componentDef;let Ry,Xb=null;rp.findHostDirectiveDefs?(Ry=[],Xb=new Map,rp.findHostDirectiveDefs(rp,Ry,Xb),Ry.push(rp)):Ry=[rp];const nA=function ty(t,n){const s=t[_n],u=Un;return t[u]=n,a(s,u,2,"#host",null)}(Si,Ut),rA=function Ff(t,n,s,u,f,g,C){const A=f[_n];!function ny(t,n,s,u){for(const f of t)n.mergedAttrs=Yi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(xo(n,n.mergedAttrs,!0),null!==s&&zg(u,s,n))}(u,t,n,C);let R=null;null!==n&&(R=hs(n,f[Bi]));const G=g.rendererFactory.createRenderer(n,s);let re=16;s.signals?re=4096:s.onPush&&(re=64);const Ce=r(f,ie(s),null,re,f[t.index],t,g,G,null,null,R);return A.firstCreatePass&&Pm(A,t,u.length-1),Nf(f,Ce),f[t.index]=Ce}(nA,Ut,rp,Ry,Si,Ce,Ke);ul=Dd(qr,Un),Ut&&function ry(t,n,s,u){if(u)$r(t,s,["ng-version",L_.full]);else{const{attrs:f,classes:g}=function aa(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&s.push(g);else{if(!ii(f))break;f=g}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&$r(t,s,f),g&&g.length>0&&Gg(t,s,g.join(" "))}}(Ke,rp,Ut,u),void 0!==s&&function Vf(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const g=s[f];u.push(null!=g?Array.from(g):null)}}(ul,this.ngContentSelectors,s),Is=function ra(t,n,s,u,f,g){const C=Vs(),A=f[_n],R=to(C,f);$e(A,f,C,s,null,u);for(let re=0;re<s.length;re++)Do(Ea(f,A,C.directiveStart+re,C),f);Of(A,f,C),R&&Do(R,f);const G=Ea(f,A,C.directiveStart+C.componentOffset,C);if(t[Gr]=f[Gr]=G,null!==g)for(const re of g)re(G,n);return P(A,C,t),G}(rA,rp,Ry,Xb,Si,[gg]),ug(qr,Si,null)}finally{ft()}return new Eh(this.componentType,Is,Zp(ul,Si),Si,ul)}}class Eh extends iv{constructor(n,s,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ey(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const g=this._rootLView;Rm(g[_n],g,f,n,s),this.previousInputValues.set(n,s),rg(Gi(this._tNode.index,g))}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function gg(){const t=Vs();Xa(qt()[_n],t)}function iy(t){let n=function Rv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(so(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new be(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const C=t;C.inputs=Nm(t.inputs),C.inputTransforms=Nm(t.inputTransforms),C.declaredInputs=Nm(t.declaredInputs),C.outputs=Nm(t.outputs);const A=f.hostBindings;A&&Ov(t,A);const R=f.viewQuery,G=f.contentQueries;if(R&&j0(t,R),G&&km(t,G),ue(t.inputs,f.inputs),ue(t.declaredInputs,f.declaredInputs),ue(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ue(C.inputTransforms,f.inputTransforms)),so(f)&&f.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===iy&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Lf(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Yi(f.hostAttrs,s=Yi(s,f.hostAttrs))}}(u)}function Nm(t){return t===Ai?{}:t===ar?[]:t}function j0(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function km(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,g)=>{n(u,f,g),s(u,f,g)}:n}function Ov(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function cy(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function zi(t){return!!jl(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function jl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function il(t,n,s){return t[n]=s}function Ch(t,n){return t[n]}function Mo(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Au(t,n,s,u){const f=Mo(t,n,s);return Mo(t,n+1,u)||f}function Ih(t,n,s,u,f){const g=Au(t,n,s,u);return Mo(t,n+2,f)||g}function wa(t,n,s,u,f,g){const C=Au(t,n,s,u);return Au(t,n+2,f,g)||C}function mg(t,n,s,u){const f=qt();return Mo(f,Ws(),n)&&(Fr(),Ul(bi(),f,t,n,s,u)),mg}function Uf(t,n,s,u){return Mo(t,Ws(),s)?n+We(s)+u:Jr}function Th(t,n,s,u,f,g){const A=Au(t,function Ls(){return Yn.lFrame.bindingIndex}(),s,f);return ho(2),A?n+We(s)+u+We(f)+g:Jr}function Mh(t,n,s,u,f,g,C,A){const R=qt(),G=Fr(),re=t+Un,Ce=G.firstCreatePass?function xh(t,n,s,u,f,g,C,A,R){const G=n.consts,re=a(n,t,4,C||null,qi(G,A));It(n,s,re,qi(G,R)),Xa(n,re);const Ce=re.tView=ye(2,re,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,re),Ce.queries=n.queries.embeddedTView(re)),re}(re,G,R,n,s,u,f,g,C):G.data[re];Fo(Ce,!1);const Ke=Kf(G,R,Ce,t);mc()&&Mp(G,R,Ke,Ce),Do(Ke,R),Nf(R,R[re]=cg(Ke,R,Ke,Ce)),Hs(Ce)&&F(G,R,Ce),null!=C&&K(R,Ce,A)}let Kf=function Va(t,n,s,u){return pa(!0),n[tr].createComment("")};function Cd(t){return fl(function Zl(){return Yn.lFrame.contextLView}(),Un+t)}function Xf(t,n,s){const u=qt();return Mo(u,Ws(),n)&&Oe(Fr(),bi(),u,t,n,u[tr],s,!1),Xf}function Qf(t,n,s,u,f){const C=f?"class":"style";Rm(t,s,n.inputs[C],C,u)}function sc(t,n,s,u){const f=qt(),g=Fr(),C=Un+t,A=f[tr],R=g.firstCreatePass?function Eg(t,n,s,u,f,g){const C=n.consts,R=a(n,t,2,u,qi(C,f));return It(n,s,R,qi(C,g)),null!==R.attrs&&xo(R,R.attrs,!1),null!==R.mergedAttrs&&xo(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,g,f,n,s,u):g.data[C],G=Id(g,f,R,A,n,t);f[C]=G;const re=Hs(R);return Fo(R,!0),zg(A,G,R),32!=(32&R.flags)&&mc()&&Mp(g,f,G,R),0===function ha(){return Yn.lFrame.elementDepthCount}()&&Do(G,f),function kc(){Yn.lFrame.elementDepthCount++}(),re&&(F(g,f,R),P(g,R,f)),null!==u&&K(f,R),sc}function jo(){let t=Vs();Vc()?tn():(t=t.parent,Fo(t,!1));const n=t;(function Xl(t){return Yn.skipHydrationRootTNode===t})(n)&&function Jl(){Yn.skipHydrationRootTNode=null}(),function Uh(){Yn.lFrame.elementDepthCount--}();const s=Fr();return s.firstCreatePass&&(Xa(s,t),vo(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Gh(t){return 0!=(8&t.flags)}(n)&&Qf(s,n,qt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function _l(t){return 0!=(16&t.flags)}(n)&&Qf(s,n,qt(),n.stylesWithoutHost,!1),jo}function ol(t,n,s,u){return sc(t,n,s,u),jo(),ol}let Id=(t,n,s,u,f,g)=>(pa(!0),Ip(u,f,function Uu(){return Yn.lFrame.currentNamespace}()));function Gl(t,n,s){const u=qt(),f=Fr(),g=t+Un,C=f.firstCreatePass?function qm(t,n,s,u,f){const g=n.consts,C=qi(g,u),A=a(n,t,8,"ng-container",C);return null!==C&&xo(A,C,!0),It(n,s,A,qi(g,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(g,f,u,n,s):f.data[g];Fo(C,!0);const A=Bo(f,u,C,t);return u[g]=A,mc()&&Mp(f,u,A,C),Do(A,u),Hs(C)&&(F(f,u,C),P(f,C,u)),null!=s&&K(u,C),Gl}function xu(){let t=Vs();const n=Fr();return Vc()?tn():(t=t.parent,Fo(t,!1)),n.firstCreatePass&&(Xa(n,t),vo(t)&&n.queries.elementEnd(t)),xu}function Rh(t,n,s){return Gl(t,n,s),xu(),Rh}let Bo=(t,n,s,u)=>(pa(!0),Jd(n[tr],""));function wd(){return qt()}function v(t){return!!t&&"function"==typeof t.then}function U(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,u){const f=qt(),g=Fr(),C=Vs();return function xt(t,n,s,u,f,g,C){const A=Hs(u),G=t.firstCreatePass&&K_(t),re=n[Gr],Ce=W_(n);let Ke=!0;if(3&u.type||C){const fn=to(u,n),Vn=C?C(fn):fn,pr=Ce.length,Zt=C?Si=>C(Rr(Si[u.index])):u.index;let qr=null;if(!C&&A&&(qr=function gt(t,n,s,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===s&&f[g+1]===u){const A=n[Ms],R=f[g+2];return A.length>R?A[R]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,u.index)),null!==qr)(qr.__ngLastListenerFn__||qr).__ngNextListenerFn__=g,qr.__ngLastListenerFn__=g,Ke=!1;else{g=is(u,n,re,g,!1);const Si=s.listen(Vn,f,g);Ce.push(g,Si),G&&G.push(f,Zt,pr,pr+1)}}else g=is(u,n,re,g,!1);const lt=u.outputs;let Ut;if(Ke&&null!==lt&&(Ut=lt[f])){const fn=Ut.length;if(fn)for(let Vn=0;Vn<fn;Vn+=2){const Is=n[Ut[Vn]][Ut[Vn+1]].subscribe(g),ul=Ce.length;Ce.push(g,Is),G&&G.push(f,u.index,ul,-(ul+1))}}}(g,f,f[tr],C,t,n,u),q}function Dn(t,n,s,u){try{return As(6,n,s),!1!==s(u)}catch(f){return q_(t,f),!1}finally{As(7,n,s)}}function is(t,n,s,u,f){return function g(C){if(C===Function)return u;rg(t.componentOffset>-1?Gi(t.index,n):n);let R=Dn(n,s,u,C),G=g.__ngNextListenerFn__;for(;G;)R=Dn(n,s,G,C)&&R,G=G.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function Ys(t=1){return function In(t){return(Yn.lFrame.contextLView=function dr(t,n){for(;t>0;)n=n[Z],t--;return n}(t,Yn.lFrame.contextLView))[Gr]}(t)}function Sc(t,n,s){return Ro(t,"",n,"",s),Sc}function Ro(t,n,s,u,f){const g=qt(),C=Uf(g,n,s,u);return C!==Jr&&Oe(Fr(),bi(),g,t,C,g[tr],f,!1),Ro}function vy(t,n){return t<<17|n<<2}function Nh(t){return t>>17&32767}function Ym(t){return 2|t}function Ad(t){return(131068&t)>>2}function Cg(t,n){return-131069&t|n<<2}function Uv(t){return 1|t}function q0(t,n,s,u,f){const g=t[s+1],C=null===n;let A=u?Nh(g):Ad(g),R=!1;for(;0!==A&&(!1===R||C);){const re=t[A+1];Ey(t[A],n)&&(R=!0,t[A+1]=u?Uv(re):Ym(re)),A=u?Nh(re):Ad(re)}R&&(t[s+1]=u?Ym(g):Uv(g))}function Ey(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&bc(t,n)>=0}const po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xm(t){return t.substring(po.key,po.keyEnd)}function X0(t,n){const s=po.textEnd;return s===n?-1:(n=po.keyEnd=function BE(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,po.key=n,s),Ig(t,n,s))}function Ig(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function Bv(t,n,s){return Wl(t,n,s,!1),Bv}function $v(t,n){return Wl(t,n,null,!0),$v}function Z0(t){!function Kl(t,n,s,u){const f=Fr(),g=ho(2);f.firstUpdatePass&&eE(f,null,g,u);const C=qt();if(s!==Jr&&Mo(C,g,s)){const A=f.data[Ar()];if(nE(A,u)&&!Hv(f,g)){let R=u?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(s=ut(R,s||"")),Qf(f,A,C,s,u)}else!function Qm(t,n,s,u,f,g,C,A){f===Jr&&(f=ar);let R=0,G=0,re=0<f.length?f[0]:null,Ce=0<g.length?g[0]:null;for(;null!==re||null!==Ce;){const Ke=R<f.length?f[R+1]:void 0,lt=G<g.length?g[G+1]:void 0;let fn,Ut=null;re===Ce?(R+=2,G+=2,Ke!==lt&&(Ut=Ce,fn=lt)):null===Ce||null!==re&&re<Ce?(R+=2,Ut=re):(G+=2,Ut=Ce,fn=lt),null!==Ut&&Iy(t,n,s,u,Ut,fn,C,A),re=R<f.length?f[R]:null,Ce=G<g.length?g[G]:null}}(f,A,C,C[tr],C[g+1],C[g+1]=function KE(t,n,s){if(null==s||""===s)return ar;const u=[],f=tl(s);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(u,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(u,g,f[g]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,g)}}(Wv,zl,t,!0)}function zl(t,n){for(let s=function Y0(t){return function jE(t){po.key=0,po.keyEnd=0,po.value=0,po.valueEnd=0,po.textEnd=t.length}(t),X0(t,Ig(t,0,po.textEnd))}(n);s>=0;s=X0(n,s))ea(t,Xm(n),!0)}function Wl(t,n,s,u){const f=qt(),g=Fr(),C=ho(2);g.firstUpdatePass&&eE(g,t,C,u),n!==Jr&&Mo(f,C,n)&&Iy(g,g.data[Ar()],f,f[tr],t,f[C+1]=function Kv(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=_e(tl(t)))),t}(n,s),u,C)}function Hv(t,n){return n>=t.expandoStartIndex}function eE(t,n,s,u){const f=t.data;if(null===f[s+1]){const g=f[Ar()],C=Hv(t,s);nE(g,u)&&null===n&&!C&&(n=!1),n=function Gv(t,n,s,u){const f=function Ra(t){const n=Yn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=Tg(s=zv(null,t,n,s,u),n.attrs,u),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=zv(f,t,n,s,u),null===g){let R=function GE(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==Ad(u))return t[Nh(u)]}(t,n,u);void 0!==R&&Array.isArray(R)&&(R=zv(null,t,n,R[1],u),R=Tg(R,n.attrs,u),function zE(t,n,s,u){t[Nh(s?n.classBindings:n.styleBindings)]=u}(t,n,u,R))}else g=function WE(t,n,s){let u;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)u=Tg(u,t[g].hostAttrs,s);return Tg(u,n.attrs,s)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),s}(f,g,n,u),function LE(t,n,s,u,f,g){let C=g?n.classBindings:n.styleBindings,A=Nh(C),R=Ad(C);t[u]=s;let re,G=!1;if(Array.isArray(s)?(re=s[1],(null===re||bc(s,re)>0)&&(G=!0)):re=s,f)if(0!==R){const Ke=Nh(t[A+1]);t[u+1]=vy(Ke,A),0!==Ke&&(t[Ke+1]=Cg(t[Ke+1],u)),t[A+1]=function Zf(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=vy(A,0),0!==A&&(t[A+1]=Cg(t[A+1],u)),A=u;else t[u+1]=vy(R,0),0===A?A=u:t[R+1]=Cg(t[R+1],u),R=u;G&&(t[u+1]=Ym(t[u+1])),q0(t,re,u,!0),q0(t,re,u,!1),function jv(t,n,s,u,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&bc(g,n)>=0&&(s[u+1]=Uv(s[u+1]))}(n,re,t,u,g),C=vy(A,R),g?n.classBindings=C:n.styleBindings=C}(f,g,n,s,C,u)}}function zv(t,n,s,u,f){let g=null;const C=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<C&&(g=n[A],u=Tg(u,g.hostAttrs,f),g!==t);)A++;return null!==t&&(s.directiveStylingLast=A),u}function Tg(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ea(t,C,!!s||n[++g]))}return void 0===t?null:t}function Wv(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&ea(t,u,s)}function Iy(t,n,s,u,f,g,C,A){if(!(3&n.type))return;const R=t.data,G=R[A+1],re=function VE(t){return 1==(1&t)}(G)?tE(R,n,s,f,Ad(G),C):void 0;Ty(re)||(Ty(g)||function FE(t){return 2==(2&t)}(G)&&(g=tE(R,null,s,f,A,C)),function jy(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let g=-1===u.indexOf("-")?void 0:qd.DashCase;null==f?t.removeStyle(s,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=qd.Important),t.setStyle(s,u,f,g))}}(u,C,Wa(Ar(),s),f,g))}function tE(t,n,s,u,f,g){const C=null===n;let A;for(;f>0;){const R=t[f],G=Array.isArray(R),re=G?R[1]:R,Ce=null===re;let Ke=s[f+1];Ke===Jr&&(Ke=Ce?ar:void 0);let lt=Ce?Dl(Ke,u):re===u?Ke:void 0;if(G&&!Ty(lt)&&(lt=Dl(R,u)),Ty(lt)&&(A=lt,C))return A;const Ut=t[f+1];f=C?Nh(Ut):Ad(Ut)}if(null!==n){let R=g?n.residualClasses:n.residualStyles;null!=R&&(A=Dl(R,u))}return A}function Ty(t){return void 0!==t}function nE(t,n){return 0!=(t.flags&(n?8:16))}function rE(t,n=""){const s=qt(),u=Fr(),f=t+Un,g=u.firstCreatePass?a(u,f,1,n,null):u.data[f],C=Jm(u,s,g,n,t);s[f]=C,mc()&&Mp(u,s,C,g),Fo(g,!1)}let Jm=(t,n,s,u,f)=>(pa(!0),function hu(t,n){return t.createText(n)}(n[tr],u));function wy(t){return Zm("",t,""),wy}function Zm(t,n,s){const u=qt(),f=Uf(u,t,n,s);return f!==Jr&&rl(u,Ar(),f),Zm}function oc(t,n,s,u,f){const g=qt(),C=Th(g,t,n,s,u,f);return C!==Jr&&rl(g,Ar(),C),oc}const tp=void 0;var ub=["en",[["a","p"],["AM","PM"],tp],[["AM","PM"],tp,tp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tp,"{1} 'at' {0}",tp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nC(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let p={};function c(t){const n=function ve(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=V(n);if(s)return s;const u=n.split("-")[0];if(s=V(u),s)return s;if("en"===u)return ub;throw new be(701,!1)}function I(t){return c(t)[se.PluralCase]}function V(t){return t in p||(p[t]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[t]),p[t]}var se=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(se||{});const Ft="en-US";let br=Ft;function _b(t,n,s,u,f){if(t=Dt(t),Array.isArray(t))for(let g=0;g<t.length;g++)_b(t[g],n,s,u,f);else{const g=Fr(),C=qt(),A=Vs();let R=_u(t)?t:Dt(t.provide);const G=R_(t),re=1048575&A.providerIndexes,Ce=A.directiveStart,Ke=A.providerIndexes>>20;if(_u(t)||!t.multi){const lt=new ma(G,f,Tu),Ut=vb(R,n,f?re:re+Ke,Ce);-1===Ut?(vl(Hc(A,C),g,R),yb(g,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(lt),C.push(lt)):(s[Ut]=lt,C[Ut]=lt)}else{const lt=vb(R,n,re+Ke,Ce),Ut=vb(R,n,re,re+Ke),Vn=Ut>=0&&s[Ut];if(f&&!Vn||!f&&!(lt>=0&&s[lt])){vl(Hc(A,C),g,R);const pr=function OT(t,n,s,u,f){const g=new ma(t,s,Tu);return g.multi=[],g.index=n,g.componentProviders=0,gC(g,f,u&&!s),g}(f?RT:MT,s.length,f,u,G);!f&&Vn&&(s[Ut].providerFactory=pr),yb(g,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(pr),C.push(pr)}else yb(g,t,lt>-1?lt:Ut,gC(s[f?Ut:lt],G,!f&&u));!f&&u&&Vn&&s[Ut].componentProviders++}}}function yb(t,n,s,u){const f=_u(n),g=function ev(t){return!!t.useClass}(n);if(f||g){const R=(g?Dt(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const re=G.indexOf(s);-1===re?G.push(s,[u,R]):G[re+1].push(u,R)}else G.push(s,R)}}}function gC(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function vb(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function MT(t,n,s,u){return Eb(this.multi,[])}function RT(t,n,s,u){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=Ea(s,s[_n],this.providerFactory.index,u);g=A.slice(0,C),Eb(f,g);for(let R=C;R<A.length;R++)g.push(A[R])}else g=[],Eb(f,g);return g}function Eb(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function mC(t,n=[]){return s=>{s.providersResolver=(u,f)=>function xT(t,n,s){const u=Fr();if(u.firstCreatePass){const f=so(t);_b(s,u.data,u.blueprint,f,!0),_b(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class n_{}class _C{}function NT(t,n){return new bb(t,n??null,[])}class bb extends n_{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yh(this);const f=ei(n);this._bootstrapComponents=hd(f.bootstrap),this._r3Injector=lv(n,s,[{provide:n_,useValue:this},{provide:bu,useValue:this.componentFactoryResolver},...u],_e(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Cb extends _C{constructor(n){super(),this.moduleType=n}create(n){return new bb(this.moduleType,n,[])}}class yC extends n_{constructor(n){super(),this.componentFactoryResolver=new yh(this),this.instance=null;const s=new Df([...n.providers,{provide:n_,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],n.parent||Af(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function vC(t,n,s=null){return new yC({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let FT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=am(0,s.type),f=u.length>0?vC([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sn({token:t,providedIn:"environment",factory:()=>new t(At(Ii))})}}return t})();function EC(t){t.getStandaloneInjector=n=>n.get(FT).getOrCreateStandaloneInjector(t)}function DC(t,n,s){const u=Ji()+t,f=qt();return f[u]===Jr?il(f,u,s?n.call(s):n()):Ch(f,u)}function SC(t,n,s,u){return RC(qt(),Ji(),t,n,s,u)}function PC(t,n,s,u,f){return function OC(t,n,s,u,f,g,C){const A=n+s;return Au(t,A,f,g)?il(t,A+2,C?u.call(C,f,g):u(f,g)):r0(t,A+2)}(qt(),Ji(),t,n,s,u,f)}function xC(t,n,s,u,f,g,C,A,R){const G=Ji()+t,re=qt(),Ce=wa(re,G,s,u,f,g);return Au(re,G+4,C,A)||Ce?il(re,G+6,R?n.call(R,s,u,f,g,C,A):n(s,u,f,g,C,A)):Ch(re,G+6)}function MC(t,n,s,u,f,g,C,A,R,G){const re=Ji()+t,Ce=qt();let Ke=wa(Ce,re,s,u,f,g);return Ih(Ce,re+4,C,A,R)||Ke?il(Ce,re+7,G?n.call(G,s,u,f,g,C,A,R):n(s,u,f,g,C,A,R)):Ch(Ce,re+7)}function r0(t,n){const s=t[n];return s===Jr?void 0:s}function RC(t,n,s,u,f,g){const C=n+s;return Mo(t,C,f)?il(t,C+1,g?u.call(g,f):u(f)):r0(t,C+1)}function VC(t,n){const s=Fr();let u;const f=t+Un;s.firstCreatePass?(u=function XT(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const g=u.factory||(u.factory=Zs(u.type)),A=Yr(Tu);try{const R=ya(!1),G=g();return ya(R),function Yf(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,qt(),f,G),G}finally{Yr(A)}}function LC(t,n,s){const u=t+Un,f=qt(),g=fl(f,u);return s0(f,u)?RC(f,Ji(),n,g.transform,s,g):g.transform(s)}function UC(t,n,s,u,f){const g=t+Un,C=qt(),A=fl(C,g);return s0(C,g)?function NC(t,n,s,u,f,g,C,A){const R=n+s;return Ih(t,R,f,g,C)?il(t,R+3,A?u.call(A,f,g,C):u(f,g,C)):r0(t,R+3)}(C,Ji(),n,A.transform,s,u,f,A):A.transform(s,u,f)}function s0(t,n){return t[_n].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Tb{get changes(){return this._changes||(this._changes=new Ll)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Tb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function Lo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Fd(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,s,u=!0){const f=n[_n];if(function Vy(t,n,s,u){const f=Nr+u,g=s.length;u>0&&(s[f-1][fi]=n),u<g-Nr?(n[fi]=s[f],Ec(s,Nr+u,n)):(s.push(n),n[fi]=null),n[zn]=s;const C=n[Ie];null!==C&&s!==C&&function h_(t,n){const s=t[Wi];n[Q]!==n[zn][zn][Q]&&(t[Mr]=!0),null===s?t[Wi]=[n]:s.push(n)}(C,n);const A=n[Ye];null!==A&&A.insertView(t),n[lr]|=128}(f,n,t,s),u){const g=df(s,t),C=n[tr],A=Ic(C,t[Ur]);null!==A&&function wp(t,n,s,u,f,g){u[hi]=f,u[Hr]=n,pf(t,u,s,1,f,g)}(f,t[Hr],C,n,A,g)}}let o0=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=o0,iw=class extends rw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function tw(t,n,s,u){const f=n.tView,A=r(t,f,s,4096&t[lr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[Ie]=t[n.index];const G=t[Ye];return null!==G&&(A[Ye]=G.createEmbeddedView(f)),ug(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new _h(f)}};function sw(){return EE(Vs(),qt())}function EE(t,n){return 4&t.type?new iw(n,t,Zp(t,n)):null}let CE=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return WC(Vs(),qt())}const hw=CE,GC=class extends hw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return Zp(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const n=Gc(this._hostTNode,this._hostLView);if(Hu(n)){const s=yl(n,this._hostLView),u=$c(n);return new ro(s[_n].data[u+8],s)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=zC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(n,s,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const A=n.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(A,f,false),A}createComponent(n,s,u,f,g){const C=n&&!function Kc(t){return"function"==typeof t}(n);let A;if(C)A=s;else{const fn=s||{};A=fn.index,u=fn.injector,f=fn.projectableNodes,g=fn.environmentInjector||fn.ngModuleRef}const R=C?n:new kf(kn(n)),G=u||this.parentInjector;if(!g&&null==R.ngModule){const Vn=(C?G:this.parentInjector).get(Ii,null);Vn&&(g=Vn)}kn(R.componentType??{});const lt=R.create(G,f,null,g);return this.insertImpl(lt.hostView,A,false),lt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function lo(t){return kr(t[zn])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=f[zn],re=new GC(G,G[Hr],G[zn]);re.detach(re.indexOf(n))}}const C=this._adjustIndex(s),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),Ec(wb(A),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=zC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=lf(this._lContainer,s);u&&(Yc(wb(this._lContainer),s),Ap(u[_n],u))}detach(n){const s=this._adjustIndex(n,-1),u=lf(this._lContainer,s);return u&&null!=Yc(wb(this._lContainer),s)?new _h(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function zC(t){return t[8]}function wb(t){return t[8]||(t[8]=[])}function WC(t,n){let s;const u=n[t.index];return kr(u)?s=u:(s=cg(u,n,null,t),n[t.index]=s,Nf(n,s)),KC(s,n,t,u),new GC(s,t,n)}let KC=function qC(t,n,s,u){if(t[Ur])return;let f;f=8&s.type?Rr(u):function fw(t,n){const s=t[tr],u=s.createComment(""),f=to(n,t);return id(s,Ic(s,f),u,function Bg(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[Ur]=f};class Ab{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ab(this.queryList)}setDirty(){this.queryList.setDirty()}}class Db{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<u;g++){const C=s.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new Db(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==rI(n,s).matches&&this.queries[s].setDirty()}}class YC{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Sb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new Sb(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Pb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Pb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,s,mw(s,g)),this.matchTNodeWithReadOption(n,s,Qa(s,n,g,!1,!1))}else u===o0?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Qa(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===hh||f===CE||f===o0&&4&s.type)this.addMatch(s.index,-2);else{const g=Qa(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function mw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yw(t,n,s,u){return-1===s?function _w(t,n){return 11&t.type?Zp(t,n):4&t.type?EE(t,n):null}(n,t):-2===s?function vw(t,n,s){return s===hh?Zp(n,t):s===o0?EE(n,t):s===CE?WC(n,t):void 0}(t,n,u):Ea(t,t[_n],s,n)}function XC(t,n,s,u){const f=n[Ye].queries[u];if(null===f.matches){const g=t.data,C=s.matches,A=[];for(let R=0;R<C.length;R+=2){const G=C[R];A.push(G<0?null:yw(n,g[G],C[R+1],s.metadata.read))}f.matches=A}return f.matches}function xb(t,n,s,u){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const C=XC(t,n,f,s);for(let A=0;A<g.length;A+=2){const R=g[A];if(R>0)u.push(C[A/2]);else{const G=g[A+1],re=n[-R];for(let Ce=Nr;Ce<re.length;Ce++){const Ke=re[Ce];Ke[Ie]===Ke[zn]&&xb(Ke[_n],Ke,G,u)}if(null!==re[Wi]){const Ce=re[Wi];for(let Ke=0;Ke<Ce.length;Ke++){const lt=Ce[Ke];xb(lt[_n],lt,G,u)}}}}}return u}function QC(t){const n=qt(),s=Fr(),u=Lc();D(u+1);const f=rI(s,u);if(t.dirty&&function Pa(t){return 4==(4&t[lr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?xb(s,n,u,[]):XC(s,n,f,u);t.reset(g,f0),t.notifyOnChanges()}return!0}return!1}function JC(t,n,s){const u=Fr();u.firstCreatePass&&(nI(u,new YC(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),tI(u,qt(),n)}function ZC(t,n,s,u){const f=Fr();if(f.firstCreatePass){const g=Vs();nI(f,new YC(n,s,u),g.index),function bw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}tI(f,qt(),s)}function eI(){return function Ew(t,n){return t[Ye].queries[n].queryList}(qt(),Lc())}function tI(t,n,s){const u=new Tb(4==(4&s));(function fr(t,n,s,u){const f=W_(n);f.push(s),t.firstCreatePass&&K_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[Ye]&&(n[Ye]=new Db),n[Ye].queries.push(new Ab(u))}function nI(t,n,s){null===t.queries&&(t.queries=new Sb),t.queries.track(new Pb(n,s))}function rI(t,n){return t.queries.getByIndex(n)}function iI(t,n){return EE(t,n)}function Mb(t){return!!ei(t)}const bI=new gn("Application Initializer");let Fb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=dn(bI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const g=f();if(v(g))s.push(g);else if(U(g)){const C=new Promise((A,R)=>{g.subscribe({complete:A,error:R})});s.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const TE=new gn("LocaleId",{providedIn:"root",factory:()=>dn(TE,Tn.Optional|Tn.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||Ft}()}),Hw=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let II=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ww=(()=>{class t{compileModuleSync(s){return new Cb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=hd(ei(s).declarations).reduce((C,A)=>{const R=kn(A);return R&&C.push(new kf(R)),C},[]);return new zw(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const DI=new gn(""),SI=new gn("");let Ub,p1=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ub||(function g1(t){Ub=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(At(Po),At(PI),At(SI))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac})}}return t})(),PI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Ub?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Ag=null;const xI=new gn("AllowMultipleToken"),jb=new gn("PlatformDestroyListeners"),Bb=new gn("appBootstrapListener");class y1{constructor(n,s){this.name=n,this.token=s}}function OI(t,n,s=[]){const u=`Platform: ${n}`,f=new gn(u);return(g=[])=>{let C=$b();if(!C||C.injector.get(xI,!1)){const A=[...s,...g,{provide:f,useValue:!0}];t?t(A):function v1(t){if(Ag&&!Ag.get(xI,!1))throw new be(400,!1);(function MI(){!function Ga(t){ko=t}(()=>{throw new be(600,!1)})})(),Ag=t;const n=t.get(kI);(function RI(t){t.get(rv,null)?.forEach(s=>s())})(t)}(function NI(t=[],n){return kl.create({name:n,providers:[{provide:Tf,useValue:"platform"},{provide:jb,useValue:new Set([()=>Ag=null])},...t]})}(A,u))}return function b1(t){const n=$b();if(!n)throw new be(401,!1);return n}()}}function $b(){return Ag?.get(kI)??null}let kI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function C1(t="zone.js",n){return"noop"===t?new H_:"zone.js"===t?new Po(n):t}(u?.ngZone,function FI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function kT(t,n,s){return new bb(t,n,s)}(s.moduleType,this.injector,function BI(t){return[{provide:Po,useFactory:t},{provide:ad,multi:!0,useFactory:()=>{const n=dn(T1,{optional:!0});return()=>n.initialize()}},{provide:jI,useFactory:I1},{provide:T0,useFactory:hv}]}(()=>f)),C=g.injector.get(Ac,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});g.onDestroy(()=>{AE(this._modules,g),A.unsubscribe()})}),function VI(t,n,s){try{const u=s();return v(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=g.injector.get(Fb);return A.runInitializers(),A.donePromise.then(()=>(function Kr(t){tt(t,"Expected localeId to be defined"),"string"==typeof t&&(br=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(TE,Ft)||Ft),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,u=[]){const f=LI({},u);return function m1(t,n,s){const u=new Cb(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const u=s.injector.get(My);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new be(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(jb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(At(kl))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function LI(t,n){return Array.isArray(n)?n.reduce(LI,t):{...t,...n}}let My=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dn(jI),this.zoneIsStable=dn(T0),this.componentTypes=[],this.components=[],this.isStable=dn(II).hasPendingTasks.pipe((0,Fe.n)(s=>s?(0,Ae.of)(!1):this.zoneIsStable),(0,Ve.F)(),(0,Me.u)()),this._injector=dn(Ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof _m;if(!this._injector.get(Fb).done)throw!f&&as(s),new be(405,!1);let C;C=f?s:this._injector.get(bu).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const A=function _1(t){return t.isBoundToModule}(C)?void 0:this._injector.get(n_),G=C.create(kl.NULL,[],u||C.selector,A),re=G.location.nativeElement,Ce=G.injector.get(DI,null);return Ce?.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),AE(this.components,G),Ce?.unregisterApplication(re)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;AE(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(Bb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>AE(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const jI=new gn("",{providedIn:"root",factory:()=>dn(Ac).handleError.bind(void 0)});function I1(){const t=dn(Po),n=dn(Ac);return s=>t.runOutsideAngular(()=>n.handleError(s))}let T1=(()=>{class t{constructor(){this.zone=dn(Po),this.applicationRef=dn(My)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function A1(){return!1}let D1=(()=>{class t{static{this.__NG_ELEMENT_ID__=S1}}return t})();function S1(t){return function P1(t,n,s){if(Hi(t)&&!s){const u=Gi(t.index,n);return new _h(u,u)}return 47&t.type?new _h(n[Q],n):null}(Vs(),qt(),16==(16&t))}class WI{constructor(){}supports(n){return zi(n)}create(n){return new N1(n)}}const O1=(t,n)=>n;class N1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||O1}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,g=null;for(;s||u;){const C=!u||s&&s.currentIndex<qI(u,f,g)?s:u,A=qI(C,f,g),R=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{g||(g=[]);const G=A-f,re=R-f;if(G!=re){for(let Ke=0;Ke<G;Ke++){const lt=Ke<g.length?g[Ke]:g[Ke]=0,Ut=lt+Ke;re<=Ut&&Ut<G&&(g[Ke]=lt+1)}g[C.previousIndex]=re-G}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!zi(n))throw new be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)g=n[A],C=this._trackByFn(A,g),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,g,C,A)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,C,A),u=!0),s=s._next}else f=0,function bh(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,A,C,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,C,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new k1(s,u),g,f),n}_verifyReinsertion(n,s,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new KI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class k1{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class KI{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new F1,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qI(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class YI{constructor(){}supports(n){return n instanceof Map||jl(n)}create(){return new V1}}class V1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||jl(n)))throw new be(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const u=new L1(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class L1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XI(){return new Kb([new WI])}let Kb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:XI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||XI()),deps:[[t,new iu,new Jc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new be(901,!1)}}return t})();function QI(){return new qb([new YI])}let qb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:QI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||QI()),deps:[[t,new iu,new Jc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new be(901,!1)}}return t})();const B1=OI(null,"core",[]);let $1=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(At(My))}}static{this.\u0275mod=fe({type:t})}static{this.\u0275inj=Qt({})}}return t})();function Z1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tA(t){const n=kn(t);if(!n)return null;const s=new kf(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(on,Xe,j)=>{j.d(Xe,{DS:()=>$t,X8:()=>Xt,$z:()=>rn,UB:()=>gr,yy:()=>kt,ZP:()=>De,AU:()=>vn,CP:()=>Pt,gF:()=>Ot}),j(2438);var le=j(177),i=j(7705),Te=j(5407),pe=j(9253),Ae=j(1413),Me=j(7673),Fe=j(1985),Ve=j(8455),ee=j(7786),ue=j(941),_e=j(5558),ut=j(6354),Qe=j(6129);class St extends Ae.B{constructor(Ne=1/0,Ze=1/0,en=Qe.U){super(),this._bufferSize=Ne,this._windowTime=Ze,this._timestampProvider=en,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ze===1/0,this._bufferSize=Math.max(1,Ne),this._windowTime=Math.max(1,Ze)}next(Ne){const{isStopped:Ze,_buffer:en,_infiniteTimeWindow:Ue,_timestampProvider:we,_windowTime:Ee}=this;Ze||(en.push(Ne),!Ue&&en.push(we.now()+Ee)),this._trimBuffer(),super.next(Ne)}_subscribe(Ne){this._throwIfClosed(),this._trimBuffer();const Ze=this._innerSubscribe(Ne),{_infiniteTimeWindow:en,_buffer:Ue}=this,we=Ue.slice();for(let Ee=0;Ee<we.length&&!Ne.closed;Ee+=en?1:2)Ne.next(we[Ee]);return this._checkFinalizedStatuses(Ne),Ze}_trimBuffer(){const{_bufferSize:Ne,_timestampProvider:Ze,_buffer:en,_infiniteTimeWindow:Ue}=this,we=(Ue?1:2)*Ne;if(Ne<1/0&&we<en.length&&en.splice(0,en.length-we),!Ue){const Ee=Ze.now();let ke=0;for(let tt=1;tt<en.length&&en[tt]<=Ee;tt+=2)ke=tt;ke&&en.splice(0,ke+1)}}}var Dt=j(7647);function Bt(dt,Ne,Ze){let en,Ue=!1;return dt&&"object"==typeof dt?({bufferSize:en=1/0,windowTime:Ne=1/0,refCount:Ue=!1,scheduler:Ze}=dt):en=dt??1/0,(0,Dt.u)({connector:()=>new St(en,Ne,Ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}var Nt=j(1594),pn=j(8071);function Be(dt,Ne){return(0,pn.T)(Ne)?(0,_e.n)(()=>dt,Ne):(0,_e.n)(()=>dt)}var be=j(6745),Je=j(5964),We=j(7935);const Pt=new i.nKC("angularfire2.auth.use-emulator"),kt=new i.nKC("angularfire2.auth.settings"),De=new i.nKC("angularfire2.auth.tenant-id"),rn=new i.nKC("angularfire2.auth.langugage-code"),vn=new i.nKC("angularfire2.auth.use-device-language"),gr=new i.nKC("angularfire.auth.persistence"),Ot=(dt,Ne,Ze,en,Ue,we,Ee,ke)=>(0,pe.BM)(`${dt.name}.auth`,"AngularFireAuth",dt.name,()=>{const tt=Ne.runOutsideAngular(()=>dt.auth());if(Ze&&tt.useEmulator(...Ze),en&&(tt.tenantId=en),tt.languageCode=Ue,we&&tt.useDeviceLanguage(),Ee)for(const[qe,Vt]of Object.entries(Ee))tt.settings[qe]=Vt;return ke&&tt.setPersistence(ke),tt},[Ze,en,Ue,we,Ee,ke]);let $t=(()=>{class dt{authState;idToken;user;idTokenResult;credential;constructor(Ze,en,Ue,we,Ee,ke,tt,qe,Vt,wn,or,sn){const Bn=new Ae.B,Qt=(0,Me.of)(void 0).pipe((0,ue.Q)(Ee.outsideAngular),(0,_e.n)(()=>we.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,2438)))),(0,ut.T)(()=>(0,pe.iB)(Ze,we,en)),(0,ut.T)(Gn=>Ot(Gn,we,ke,qe,Vt,wn,tt,or)),Bt({bufferSize:1,refCount:!1}));if((0,le.Vy)(Ue))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Me.of)(null);else{Qt.pipe((0,Nt.$)()).subscribe();const Gn=Qt.pipe((0,_e.n)(jt=>jt.getRedirectResult().then(Cr=>Cr,()=>null)),Te.U0,Bt({bufferSize:1,refCount:!1})),Fn=Qt.pipe((0,_e.n)(jt=>new Fe.c(Cr=>({unsubscribe:we.runOutsideAngular(()=>jt.onAuthStateChanged(un=>Cr.next(un),un=>Cr.error(un),()=>Cr.complete()))})))),Kt=Qt.pipe((0,_e.n)(jt=>new Fe.c(Cr=>({unsubscribe:we.runOutsideAngular(()=>jt.onIdTokenChanged(un=>Cr.next(un),un=>Cr.error(un),()=>Cr.complete()))}))));this.authState=Gn.pipe(Be(Fn),(0,be._)(Ee.outsideAngular),(0,ue.Q)(Ee.insideAngular)),this.user=Gn.pipe(Be(Kt),(0,be._)(Ee.outsideAngular),(0,ue.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,_e.n)(jt=>jt?(0,Ve.H)(jt.getIdToken()):(0,Me.of)(null))),this.idTokenResult=this.user.pipe((0,_e.n)(jt=>jt?(0,Ve.H)(jt.getIdTokenResult()):(0,Me.of)(null))),this.credential=(0,ee.h)(Gn,Bn,this.authState.pipe((0,Je.p)(jt=>!jt))).pipe((0,ut.T)(jt=>jt?.user?jt:null),(0,be._)(Ee.outsideAngular),(0,ue.Q)(Ee.insideAngular))}return(0,pe.Gt)(this,Qt,we,{spy:{apply:(Gn,Fn,Kt)=>{(Gn.startsWith("signIn")||Gn.startsWith("createUser"))&&Kt.then(jt=>Bn.next(jt))}}})}static \u0275fac=function(en){return new(en||dt)(i.KVO(pe.rx),i.KVO(pe.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(Te.u0),i.KVO(Pt,8),i.KVO(kt,8),i.KVO(De,8),i.KVO(rn,8),i.KVO(vn,8),i.KVO(gr,8),i.KVO(Te.Jv,8))};static \u0275prov=i.jDH({token:dt,factory:dt.\u0275fac,providedIn:"any"})}return dt})(),Xt=(()=>{class dt{constructor(){We.A.registerVersion("angularfire",Te.xv.full,"auth-compat")}static \u0275fac=function(en){return new(en||dt)};static \u0275mod=i.$C({type:dt});static \u0275inj=i.G2t({providers:[$t]})}return dt})()},6340:(on,Xe,j)=>{j.d(Xe,{Qe:()=>Oi,cM:()=>et});var o=j(177),le=j(7705),i=j(5407),Te=j(9253),pe=j(1977),Ae=j(3236),Me=j(1985),Fe=j(8455),Ve=j(7673),ee=j(9172),ue=j(9974),_e=j(4360);function ut(){return(0,ue.N)((mt,ce)=>{let xe,Et=!1;mt.subscribe((0,_e._)(ce,Yt=>{const Hn=xe;xe=Yt,Et&&ce.next([Hn,Yt]),Et=!0}))})}var Qe=j(6354),St=j(2816),Dt=j(3294),Bt=j(5964),pn=(j(2438),j(3345)),Be=j(9583),be=j(1076),Je=j(1362);function Pt(mt,ce){if(void 0===ce)return{merge:!1};if(void 0!==ce.mergeFields&&void 0!==ce.merge)throw new Be.W6("invalid-argument",`Invalid options passed to function ${mt}(): You cannot specify both "merge" and "mergeFields".`);return ce}function kt(){if(typeof Uint8Array>"u")throw new Be.W6("unimplemented","Uint8Arrays are not available in this environment.")}function De(){if(!(0,Be.qG)())throw new Be.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class rn{constructor(ce){this._delegate=ce}static fromBase64String(ce){return De(),new rn(Be.Ix.fromBase64String(ce))}static fromUint8Array(ce){return kt(),new rn(Be.Ix.fromUint8Array(ce))}toBase64(){return De(),this._delegate.toBase64()}toUint8Array(){return kt(),this._delegate.toUint8Array()}isEqual(ce){return this._delegate.isEqual(ce._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vn(mt){return function gr(mt,ce){if("object"!=typeof mt||null===mt)return!1;const xe=mt;for(const Et of ce)if(Et in xe&&"function"==typeof xe[Et])return!0;return!1}(mt,["next","error","complete"])}class Ot{enableIndexedDbPersistence(ce,xe){return(0,Be.ol)(ce._delegate,{forceOwnership:xe})}enableMultiTabIndexedDbPersistence(ce){return(0,Be.Q5)(ce._delegate)}clearIndexedDbPersistence(ce){return(0,Be.me)(ce._delegate)}}class $t{constructor(ce,xe,Et){this._delegate=xe,this._persistenceProvider=Et,this.INTERNAL={delete:()=>this.terminate()},ce instanceof Be.cm||(this._appCompat=ce)}get _databaseId(){return this._delegate._databaseId}settings(ce){const xe=this._delegate._getSettings();!ce.merge&&xe.host!==ce.host&&(0,Be.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ce.merge&&delete(ce=Object.assign(Object.assign({},xe),ce)).merge,this._delegate._setSettings(ce)}useEmulator(ce,xe,Et={}){(0,Be.vN)(this._delegate,ce,xe,Et)}enableNetwork(){return(0,Be.Os)(this._delegate)}disableNetwork(){return(0,Be.LA)(this._delegate)}enablePersistence(ce){let xe=!1,Et=!1;return ce&&(xe=!!ce.synchronizeTabs,Et=!!ce.experimentalForceOwningTab,(0,Be.c8)("synchronizeTabs",xe,"experimentalForceOwningTab",Et)),xe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Et)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Be.iB)(this._delegate)}onSnapshotsInSync(ce){return(0,Be.FC)(this._delegate,ce)}get app(){if(!this._appCompat)throw new Be.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ce){try{return new sn(this,(0,Be.rJ)(this._delegate,ce))}catch(xe){throw we(xe,"collection()","Firestore.collection()")}}doc(ce){try{return new Ue(this,(0,Be.H9)(this._delegate,ce))}catch(xe){throw we(xe,"doc()","Firestore.doc()")}}collectionGroup(ce){try{return new Vt(this,(0,Be.Cs)(this._delegate,ce))}catch(xe){throw we(xe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ce){return(0,Be.c4)(this._delegate,xe=>ce(new Ne(this,xe)))}batch(){return(0,Be.Ws)(this._delegate),new Ze(new Be.GA(this._delegate,ce=>(0,Be.z6)(this._delegate,ce)))}loadBundle(ce){return(0,Be.po)(this._delegate,ce)}namedQuery(ce){return(0,Be.St)(this._delegate,ce).then(xe=>xe?new Vt(this,xe):null)}}class Xt extends Be.fS{constructor(ce){super(),this.firestore=ce}convertBytes(ce){return new rn(new Be.Ix(ce))}convertReference(ce){const xe=this.convertDocumentKey(ce,this.firestore._databaseId);return Ue.forKey(xe,this.firestore,null)}}class Ne{constructor(ce,xe){this._firestore=ce,this._delegate=xe,this._userDataWriter=new Xt(ce)}get(ce){const xe=Bn(ce);return this._delegate.get(xe).then(Et=>new tt(this._firestore,new Be.Wq(this._firestore._delegate,this._userDataWriter,Et._key,Et._document,Et.metadata,xe.converter)))}set(ce,xe,Et){const Yt=Bn(ce);return Et?(Pt("Transaction.set",Et),this._delegate.set(Yt,xe,Et)):this._delegate.set(Yt,xe),this}update(ce,xe,Et,...Yt){const Hn=Bn(ce);return 2===arguments.length?this._delegate.update(Hn,xe):this._delegate.update(Hn,xe,Et,...Yt),this}delete(ce){const xe=Bn(ce);return this._delegate.delete(xe),this}}class Ze{constructor(ce){this._delegate=ce}set(ce,xe,Et){const Yt=Bn(ce);return Et?(Pt("WriteBatch.set",Et),this._delegate.set(Yt,xe,Et)):this._delegate.set(Yt,xe),this}update(ce,xe,Et,...Yt){const Hn=Bn(ce);return 2===arguments.length?this._delegate.update(Hn,xe):this._delegate.update(Hn,xe,Et,...Yt),this}delete(ce){const xe=Bn(ce);return this._delegate.delete(xe),this}commit(){return this._delegate.commit()}}class en{constructor(ce,xe,Et){this._firestore=ce,this._userDataWriter=xe,this._delegate=Et}fromFirestore(ce,xe){const Et=new Be.YQ(this._firestore._delegate,this._userDataWriter,ce._key,ce._document,ce.metadata,null);return this._delegate.fromFirestore(new qe(this._firestore,Et),xe??{})}toFirestore(ce,xe){return xe?this._delegate.toFirestore(ce,xe):this._delegate.toFirestore(ce)}static getInstance(ce,xe){const Et=en.INSTANCES;let Yt=Et.get(ce);Yt||(Yt=new WeakMap,Et.set(ce,Yt));let Hn=Yt.get(xe);return Hn||(Hn=new en(ce,new Xt(ce),xe),Yt.set(xe,Hn)),Hn}}en.INSTANCES=new WeakMap;class Ue{constructor(ce,xe){this.firestore=ce,this._delegate=xe,this._userDataWriter=new Xt(ce)}static forPath(ce,xe,Et){if(ce.length%2!=0)throw new Be.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ce.canonicalString()} has ${ce.length}`);return new Ue(xe,new Be.T1(xe._delegate,Et,new Be.K$(ce)))}static forKey(ce,xe,Et){return new Ue(xe,new Be.T1(xe._delegate,Et,ce))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ce){try{return new sn(this.firestore,(0,Be.rJ)(this._delegate,ce))}catch(xe){throw we(xe,"collection()","DocumentReference.collection()")}}isEqual(ce){return(ce=(0,be.Ku)(ce))instanceof Be.T1&&(0,Be.yx)(this._delegate,ce)}set(ce,xe){xe=Pt("DocumentReference.set",xe);try{return xe?(0,Be.BN)(this._delegate,ce,xe):(0,Be.BN)(this._delegate,ce)}catch(Et){throw we(Et,"setDoc()","DocumentReference.set()")}}update(ce,xe,...Et){try{return 1===arguments.length?(0,Be.mZ)(this._delegate,ce):(0,Be.mZ)(this._delegate,ce,xe,...Et)}catch(Yt){throw we(Yt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Be.kd)(this._delegate)}onSnapshot(...ce){const xe=Ee(ce),Et=ke(ce,Yt=>new tt(this.firestore,new Be.Wq(this.firestore._delegate,this._userDataWriter,Yt._key,Yt._document,Yt.metadata,this._delegate.converter)));return(0,Be.aQ)(this._delegate,xe,Et)}get(ce){let xe;return xe="cache"===ce?.source?(0,Be.nY)(this._delegate):"server"===ce?.source?(0,Be._e)(this._delegate):(0,Be.x7)(this._delegate),xe.then(Et=>new tt(this.firestore,new Be.Wq(this.firestore._delegate,this._userDataWriter,Et._key,Et._document,Et.metadata,this._delegate.converter)))}withConverter(ce){return new Ue(this.firestore,this._delegate.withConverter(ce?en.getInstance(this.firestore,ce):null))}}function we(mt,ce,xe){return mt.message=mt.message.replace(ce,xe),mt}function Ee(mt){for(const ce of mt)if("object"==typeof ce&&!vn(ce))return ce;return{}}function ke(mt,ce){var xe,Et;let Yt;return Yt=vn(mt[0])?mt[0]:vn(mt[1])?mt[1]:"function"==typeof mt[0]?{next:mt[0],error:mt[1],complete:mt[2]}:{next:mt[1],error:mt[2],complete:mt[3]},{next:Hn=>{Yt.next&&Yt.next(ce(Hn))},error:null===(xe=Yt.error)||void 0===xe?void 0:xe.bind(Yt),complete:null===(Et=Yt.complete)||void 0===Et?void 0:Et.bind(Yt)}}class tt{constructor(ce,xe){this._firestore=ce,this._delegate=xe}get ref(){return new Ue(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ce){return this._delegate.data(ce)}get(ce,xe){return this._delegate.get(ce,xe)}isEqual(ce){return(0,Be.lN)(this._delegate,ce._delegate)}}class qe extends tt{data(ce){const xe=this._delegate.data(ce);return this._delegate._converter||(0,Be.bI)(void 0!==xe,"Document in a QueryDocumentSnapshot should exist"),xe}}class Vt{constructor(ce,xe){this.firestore=ce,this._delegate=xe,this._userDataWriter=new Xt(ce)}where(ce,xe,Et){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be._M)(ce,xe,Et)))}catch(Yt){throw we(Yt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ce,xe){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be.My)(ce,xe)))}catch(Et){throw we(Et,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ce){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be.AB)(ce)))}catch(xe){throw we(xe,"limit()","Query.limit()")}}limitToLast(ce){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be.$1)(ce)))}catch(xe){throw we(xe,"limitToLast()","Query.limitToLast()")}}startAt(...ce){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be.EO)(...ce)))}catch(xe){throw we(xe,"startAt()","Query.startAt()")}}startAfter(...ce){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be.HM)(...ce)))}catch(xe){throw we(xe,"startAfter()","Query.startAfter()")}}endBefore(...ce){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be.rf)(...ce)))}catch(xe){throw we(xe,"endBefore()","Query.endBefore()")}}endAt(...ce){try{return new Vt(this.firestore,(0,Be.P)(this._delegate,(0,Be.FD)(...ce)))}catch(xe){throw we(xe,"endAt()","Query.endAt()")}}isEqual(ce){return(0,Be.B)(this._delegate,ce._delegate)}get(ce){let xe;return xe="cache"===ce?.source?(0,Be.kU)(this._delegate):"server"===ce?.source?(0,Be.Rr)(this._delegate):(0,Be.GG)(this._delegate),xe.then(Et=>new or(this.firestore,new Be.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Et._snapshot)))}onSnapshot(...ce){const xe=Ee(ce),Et=ke(ce,Yt=>new or(this.firestore,new Be.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Yt._snapshot)));return(0,Be.aQ)(this._delegate,xe,Et)}withConverter(ce){return new Vt(this.firestore,this._delegate.withConverter(ce?en.getInstance(this.firestore,ce):null))}}class wn{constructor(ce,xe){this._firestore=ce,this._delegate=xe}get type(){return this._delegate.type}get doc(){return new qe(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class or{constructor(ce,xe){this._firestore=ce,this._delegate=xe}get query(){return new Vt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ce=>new qe(this._firestore,ce))}docChanges(ce){return this._delegate.docChanges(ce).map(xe=>new wn(this._firestore,xe))}forEach(ce,xe){this._delegate.forEach(Et=>{ce.call(xe,new qe(this._firestore,Et))})}isEqual(ce){return(0,Be.lN)(this._delegate,ce._delegate)}}class sn extends Vt{constructor(ce,xe){super(ce,xe),this.firestore=ce,this._delegate=xe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ce=this._delegate.parent;return ce?new Ue(this.firestore,ce):null}doc(ce){try{return new Ue(this.firestore,void 0===ce?(0,Be.H9)(this._delegate):(0,Be.H9)(this._delegate,ce))}catch(xe){throw we(xe,"doc()","CollectionReference.doc()")}}add(ce){return(0,Be.gS)(this._delegate,ce).then(xe=>new Ue(this.firestore,xe))}isEqual(ce){return(0,Be.yx)(this._delegate,ce._delegate)}withConverter(ce){return new sn(this.firestore,this._delegate.withConverter(ce?en.getInstance(this.firestore,ce):null))}}function Bn(mt){return(0,Be.lo)(mt,Be.T1)}class Qt{constructor(...ce){this._delegate=new Be.uY(...ce)}static documentId(){return new Qt(Be.FA.keyField().canonicalString())}isEqual(ce){return(ce=(0,be.Ku)(ce))instanceof Be.uY&&this._delegate._internalPath.isEqual(ce._internalPath)}}class Gn{constructor(ce){this._delegate=ce}static serverTimestamp(){const ce=(0,Be.O5)();return ce._methodName="FieldValue.serverTimestamp",new Gn(ce)}static delete(){const ce=(0,Be.CL)();return ce._methodName="FieldValue.delete",new Gn(ce)}static arrayUnion(...ce){const xe=(0,Be.hq)(...ce);return xe._methodName="FieldValue.arrayUnion",new Gn(xe)}static arrayRemove(...ce){const xe=(0,Be.C3)(...ce);return xe._methodName="FieldValue.arrayRemove",new Gn(xe)}static increment(ce){const xe=(0,Be.GV)(ce);return xe._methodName="FieldValue.increment",new Gn(xe)}isEqual(ce){return this._delegate.isEqual(ce._delegate)}}const Fn={Firestore:$t,GeoPoint:Be.Ci,Timestamp:Be.Dc,Blob:rn,Transaction:Ne,WriteBatch:Ze,DocumentReference:Ue,DocumentSnapshot:tt,Query:Vt,QueryDocumentSnapshot:qe,QuerySnapshot:or,CollectionReference:sn,FieldPath:Qt,FieldValue:Gn,setLogLevel:function dt(mt){(0,Be.He)(mt)},CACHE_SIZE_UNLIMITED:Be.H6};!function jt(mt){(function Kt(mt,ce){mt.INTERNAL.registerComponent(new Je.uA("firestore-compat",xe=>{const Et=xe.getProvider("app-compat").getImmediate(),Yt=xe.getProvider("firestore").getImmediate();return ce(Et,Yt)},"PUBLIC").setServiceProps(Object.assign({},Fn)))})(mt,(ce,xe)=>new $t(ce,xe,new Ot)),mt.registerVersion("@firebase/firestore-compat","0.3.38")}(pn.A);var Cr=j(7935);function Lr(mt,ce){return function un(mt,ce=Ae.E){return new Me.c(xe=>{let Et;return null!=ce?ce.schedule(()=>{Et=mt.onSnapshot({includeMetadataChanges:!0},xe)}):Et=mt.onSnapshot({includeMetadataChanges:!0},xe),()=>{Et?.()}})}(mt,ce)}function Ht(mt,ce){return Lr(mt,ce).pipe((0,Qe.T)(xe=>({payload:xe,type:"query"})))}class Tn{ref;afs;constructor(ce,xe){this.ref=ce,this.afs=xe}set(ce,xe){return this.ref.set(ce,xe)}update(ce){return this.ref.update(ce)}delete(){return this.ref.delete()}collection(ce,xe){const Et=this.ref.collection(ce),{ref:Yt,query:Hn}=Kn(Et,xe);return new yi(Yt,Hn,this.afs)}snapshotChanges(){return function er(mt,ce){return Lr(mt,ce).pipe((0,ee.Z)(void 0),ut(),(0,Qe.T)(xe=>{const[Et,Yt]=xe;return Yt.exists?Et?.exists?{payload:Yt,type:"modified"}:{payload:Yt,type:"added"}:{payload:Yt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return this.snapshotChanges().pipe((0,Qe.T)(({payload:xe})=>ce.idField?{...xe.data(),[ce.idField]:xe.id}:xe.data()))}get(ce){return(0,Fe.H)(this.ref.get(ce)).pipe(i.U0)}}function Wn(mt,ce){return Ht(mt,ce).pipe((0,ee.Z)(void 0),ut(),(0,Qe.T)(xe=>{const[Et,Yt]=xe,Hn=Yt.payload.docChanges(),Wr=Hn.map(Sr=>({type:Sr.type,payload:Sr}));return Et&&JSON.stringify(Et.payload.metadata)!==JSON.stringify(Yt.payload.metadata)&&Yt.payload.docs.forEach((Sr,Pi)=>{const bt=Hn.find(M=>M.doc.ref.isEqual(Sr.ref)),$=Et?.payload.docs.find(M=>M.ref.isEqual(Sr.ref));bt&&JSON.stringify(bt.doc.metadata)===JSON.stringify(Sr.metadata)||!bt&&$&&JSON.stringify($.metadata)===JSON.stringify(Sr.metadata)||Wr.push({type:"modified",payload:{oldIndex:Pi,newIndex:Pi,type:"modified",doc:Sr}})}),Wr}))}function An(mt,ce,xe){return Wn(mt,xe).pipe((0,St.S)((Et,Yt)=>function Yr(mt,ce,xe){return ce.forEach(Et=>{xe.indexOf(Et.type)>-1&&(mt=function si(mt,ce){switch(ce.type){case"added":if(!mt[ce.newIndex]||!mt[ce.newIndex].doc.ref.isEqual(ce.doc.ref))return Or(mt,ce.newIndex,0,ce);break;case"modified":if(null==mt[ce.oldIndex]||mt[ce.oldIndex].doc.ref.isEqual(ce.doc.ref)){if(ce.oldIndex!==ce.newIndex){const xe=mt.slice();return xe.splice(ce.oldIndex,1),xe.splice(ce.newIndex,0,ce),xe}return Or(mt,ce.newIndex,1,ce)}break;case"removed":if(mt[ce.oldIndex]&&mt[ce.oldIndex].doc.ref.isEqual(ce.doc.ref))return Or(mt,ce.oldIndex,1)}return mt}(mt,Et))}),mt}(Et,Yt.map(Hn=>Hn.payload),ce),[]),(0,Dt.F)(),(0,Qe.T)(Et=>Et.map(Yt=>({type:Yt.type,payload:Yt}))))}function Or(mt,ce,xe,...Et){const Yt=mt.slice();return Yt.splice(ce,xe,...Et),Yt}function Xn(mt){return(!mt||0===mt.length)&&(mt=["added","removed","modified"]),mt}class yi{ref;query;afs;constructor(ce,xe,Et){this.ref=ce,this.query=xe,this.afs=Et}stateChanges(ce){let xe=Wn(this.query,this.afs.schedulers.outsideAngular);return ce&&ce.length>0&&(xe=xe.pipe((0,Qe.T)(Et=>Et.filter(Yt=>ce.indexOf(Yt.type)>-1)))),xe.pipe((0,ee.Z)(void 0),ut(),(0,Bt.p)(([Et,Yt])=>Yt.length>0||!Et),(0,Qe.T)(([,Et])=>Et),i.U0)}auditTrail(ce){return this.stateChanges(ce).pipe((0,St.S)((xe,Et)=>[...xe,...Et],[]))}snapshotChanges(ce){const xe=Xn(ce);return An(this.query,xe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return Ht(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.T)(xe=>xe.payload.docs.map(Et=>ce.idField?{...Et.data(),[ce.idField]:Et.id}:Et.data())),i.U0)}get(ce){return(0,Fe.H)(this.query.get(ce)).pipe(i.U0)}add(ce){return this.ref.add(ce)}doc(ce){return new Tn(this.ref.doc(ce),this.afs)}}class Ts{query;afs;constructor(ce,xe){this.query=ce,this.afs=xe}stateChanges(ce){return ce&&0!==ce.length?Wn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.T)(xe=>xe.filter(Et=>ce.indexOf(Et.type)>-1)),(0,Bt.p)(xe=>xe.length>0),i.U0):Wn(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(ce){return this.stateChanges(ce).pipe((0,St.S)((xe,Et)=>[...xe,...Et],[]))}snapshotChanges(ce){const xe=Xn(ce);return An(this.query,xe,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(ce={}){return Ht(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.T)(Et=>Et.payload.docs.map(Yt=>ce.idField?{[ce.idField]:Yt.id,...Yt.data()}:Yt.data())),i.U0)}get(ce){return(0,Fe.H)(this.query.get(ce)).pipe(i.U0)}}const gn=new le.nKC("angularfire2.enableFirestorePersistence"),oi=new le.nKC("angularfire2.firestore.persistenceSettings"),rr=new le.nKC("angularfire2.firestore.settings"),Dr=new le.nKC("angularfire2.firestore.use-emulator");function Kn(mt,ce=(xe=>xe)){return{query:ce(mt),ref:mt}}let Oi=(()=>{class mt{schedulers;firestore;persistenceEnabled$;constructor(xe,Et,Yt,Hn,Wr,Sr,Pi,bt,$,M,k,ne,me,st,At,an,dn){this.schedulers=Pi;const Sn=(0,Te.iB)(xe,Sr,Et),vr=$;M&&(0,pe.gF)(Sn,Sr,k,me,st,At,ne,an),[this.firestore,this.persistenceEnabled$]=(0,Te.BM)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const cn=Sr.runOutsideAngular(()=>Sn.firestore());if(Hn&&cn.settings(Hn),vr&&cn.useEmulator(...vr),Yt&&!(0,o.Vy)(Wr)){const Br=()=>{try{return(0,Fe.H)(cn.enablePersistence(bt||void 0).then(()=>!0,()=>!1))}catch(mr){return typeof console<"u"&&console.warn(mr),(0,Ve.of)(!1)}};return[cn,Sr.runOutsideAngular(Br)]}return[cn,(0,Ve.of)(!1)]},[Hn,vr,Yt])}collection(xe,Et){let Yt;Yt="string"==typeof xe?this.firestore.collection(xe):xe;const{ref:Hn,query:Wr}=Kn(Yt,Et),Sr=this.schedulers.ngZone.run(()=>Hn);return new yi(Sr,Wr,this)}collectionGroup(xe,Et){const Yt=Et||(Wr=>Wr),Hn=this.firestore.collectionGroup(xe);return new Ts(Yt(Hn),this)}doc(xe){let Et;Et="string"==typeof xe?this.firestore.doc(xe):xe;const Yt=this.schedulers.ngZone.run(()=>Et);return new Tn(Yt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(Et){return new(Et||mt)(le.KVO(Te.rx),le.KVO(Te.uP,8),le.KVO(gn,8),le.KVO(rr,8),le.KVO(le.Agw),le.KVO(le.SKi),le.KVO(i.u0),le.KVO(oi,8),le.KVO(Dr,8),le.KVO(pe.DS,8),le.KVO(pe.CP,8),le.KVO(pe.yy,8),le.KVO(pe.ZP,8),le.KVO(pe.$z,8),le.KVO(pe.AU,8),le.KVO(pe.UB,8),le.KVO(i.Jv,8))};static \u0275prov=le.jDH({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})(),et=(()=>{class mt{constructor(){Cr.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(xe){return{ngModule:mt,providers:[{provide:gn,useValue:!0},{provide:oi,useValue:xe}]}}static \u0275fac=function(Et){return new(Et||mt)};static \u0275mod=le.$C({type:mt});static \u0275inj=le.G2t({providers:[Oi]})}return mt})()},8721:(on,Xe,j)=>{j.d(Xe,{ap:()=>Ne,y5:()=>Ue});var o=j(5407),le=j(1985),i=j(7673),Te=j(8455),pe=j(3236),Ae=j(9974),Me=j(4360),Ve=j(6354),ee=j(5558),ue=j(7705),_e=j(9253),ut=j(3345),Qe=j(4535),St=j(1362);class Dt{constructor(Ee,ke,tt){this._delegate=Ee,this.task=ke,this.ref=tt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Bt{constructor(Ee,ke){this._delegate=Ee,this._ref=ke,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Dt(this._delegate.snapshot,this,this._ref)}then(Ee,ke){return this._delegate.then(tt=>{if(Ee)return Ee(new Dt(tt,this,this._ref))},ke)}on(Ee,ke,tt,qe){let Vt;return ke&&(Vt="function"==typeof ke?wn=>ke(new Dt(wn,this,this._ref)):{next:ke.next?wn=>ke.next(new Dt(wn,this,this._ref)):void 0,complete:ke.complete||void 0,error:ke.error||void 0}),this._delegate.on(Ee,Vt,tt||void 0,qe||void 0)}}class Nt{constructor(Ee,ke){this._delegate=Ee,this._service=ke}get prefixes(){return this._delegate.prefixes.map(Ee=>new pn(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new pn(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pn{constructor(Ee,ke){this._delegate=Ee,this.storage=ke}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const ke=(0,Qe.Mp)(this._delegate,Ee);return new pn(ke,this.storage)}get root(){return new pn(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new pn(Ee,this.storage)}put(Ee,ke){return this._throwIfRoot("put"),new Bt((0,Qe.bp)(this._delegate,Ee,ke),this)}putString(Ee,ke=Qe.nw.RAW,tt){this._throwIfRoot("putString");const qe=(0,Qe.ZH)(ke,Ee),Vt=Object.assign({},tt);return null==Vt.contentType&&null!=qe.contentType&&(Vt.contentType=qe.contentType),new Bt(new Qe.UC(this._delegate,new Qe.Mx(qe.data,!0),Vt),this)}listAll(){return(0,Qe._w)(this._delegate).then(Ee=>new Nt(Ee,this.storage))}list(Ee){return(0,Qe.p_)(this._delegate,Ee||void 0).then(ke=>new Nt(ke,this.storage))}getMetadata(){return(0,Qe.yb)(this._delegate)}updateMetadata(Ee){return(0,Qe.D5)(this._delegate,Ee)}getDownloadURL(){return(0,Qe.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Qe.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,Qe.UY)(Ee)}}class Be{constructor(Ee,ke){this.app=Ee,this._delegate=ke}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(be(Ee))throw(0,Qe.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new pn((0,Qe.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!be(Ee))throw(0,Qe.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qe.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,Qe.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new pn((0,Qe.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,ke,tt={}){(0,Qe.nb)(this._delegate,Ee,ke,tt)}}function be(we){return/^[A-Za-z]+:\/\//.test(we)}function Pt(we,{instanceIdentifier:Ee}){const ke=we.getProvider("app-compat").getImmediate(),tt=we.getProvider("storage").getImmediate({identifier:Ee});return new Be(ke,tt)}!function kt(we){const Ee={TaskState:Qe.Ad,TaskEvent:Qe.xc,StringFormat:Qe.nw,Storage:Be,Reference:pn};we.INTERNAL.registerComponent(new St.uA("storage-compat",Pt,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),we.registerVersion("@firebase/storage-compat","0.3.12")}(ut.A);var De=j(7935);function vn(we){const Ee=function rn(we){return new le.c(Ee=>{const ke=wn=>Ee.next(wn);ke(we.snapshot);const Vt=we.on("state_changed",ke);return we.then(wn=>{ke(wn),Ee.complete()},wn=>{ke(we.snapshot),(wn=>{Ee.error(wn)})(wn)}),function(){Vt()}}).pipe(function Fe(we,Ee=pe.E){return(0,Ae.N)((ke,tt)=>{let qe=null,Vt=null,wn=null;const or=()=>{if(qe){qe.unsubscribe(),qe=null;const Bn=Vt;Vt=null,tt.next(Bn)}};function sn(){const Bn=wn+we,Qt=Ee.now();if(Qt<Bn)return qe=this.schedule(void 0,Bn-Qt),void tt.add(qe);or()}ke.subscribe((0,Me._)(tt,Bn=>{Vt=Bn,wn=Ee.now(),qe||(qe=Ee.schedule(sn,we),tt.add(qe))},()=>{or(),tt.complete()},void 0,()=>{Vt=qe=null}))})}(0))}(we);return{task:we,then:we.then.bind(we),catch:we.catch.bind(we),pause:we.pause.bind(we),cancel:we.cancel.bind(we),resume:we.resume.bind(we),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Ve.T)(ke=>ke.bytesTransferred/ke.totalBytes*100))}}function gr(we){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(o.Oe,(0,ee.n)(()=>we.getDownloadURL()),o.U0),getMetadata:()=>(0,i.of)(void 0).pipe(o.Oe,(0,ee.n)(()=>we.getMetadata()),o.U0),delete:()=>(0,Te.H)(we.delete()),child:Ee=>gr(we.child(Ee)),updateMetadata:Ee=>(0,Te.H)(we.updateMetadata(Ee)),put:(Ee,ke)=>vn(we.put(Ee,ke)),putString:(Ee,ke,tt)=>vn(we.putString(Ee,ke,tt)),list:Ee=>(0,Te.H)(we.list(Ee)),listAll:()=>(0,Te.H)(we.listAll())}}const Ot=new ue.nKC("angularfire2.storageBucket"),$t=new ue.nKC("angularfire2.storage.maxUploadRetryTime"),Xt=new ue.nKC("angularfire2.storage.maxOperationRetryTime"),dt=new ue.nKC("angularfire2.storage.use-emulator");let Ne=(()=>{class we{storage;constructor(ke,tt,qe,Vt,wn,or,sn,Bn,Qt,Gn){const Fn=(0,_e.iB)(ke,wn,tt);this.storage=(0,_e.BM)(`${Fn.name}.storage.${qe}`,"AngularFireStorage",Fn.name,()=>{const Kt=wn.runOutsideAngular(()=>Fn.storage(qe||void 0)),jt=Qt;return jt&&Kt.useEmulator(...jt),sn&&Kt.setMaxUploadRetryTime(sn),Bn&&Kt.setMaxOperationRetryTime(Bn),Kt},[sn,Bn])}ref(ke){return gr(this.storage.ref(ke))}refFromURL(ke){return gr(this.storage.refFromURL(ke))}upload(ke,tt,qe){return gr(this.storage.ref(ke)).put(tt,qe)}static \u0275fac=function(tt){return new(tt||we)(ue.KVO(_e.rx),ue.KVO(_e.uP,8),ue.KVO(Ot,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(o.u0),ue.KVO($t,8),ue.KVO(Xt,8),ue.KVO(dt,8),ue.KVO(o.Jv,8))};static \u0275prov=ue.jDH({token:we,factory:we.\u0275fac,providedIn:"any"})}return we})(),en=(()=>{class we{static \u0275fac=function(tt){return new(tt||we)};static \u0275mod=ue.$C({type:we});static \u0275inj=ue.G2t({})}return we})(),Ue=(()=>{class we{constructor(){De.A.registerVersion("angularfire",o.xv.full,"gcs-compat")}static \u0275fac=function(tt){return new(tt||we)};static \u0275mod=ue.$C({type:we});static \u0275inj=ue.G2t({providers:[Ne],imports:[en]})}return we})()},9253:(on,Xe,j)=>{j.d(Xe,{BM:()=>Qe,Gt:()=>pe,bf:()=>ut,e7:()=>Ae,iB:()=>ee,rx:()=>Fe,uP:()=>Ve});var o=j(7705),le=j(5407),i=j(7935);const Te=["ngOnDestroy"],pe=(Nt,pn,Be,be={})=>new Proxy(Nt,{get:(Je,We)=>Be.runOutsideAngular(()=>{if(Nt[We])return be?.spy?.get&&be.spy.get(We,Nt[We]),Nt[We];if(Te.indexOf(We)>-1)return()=>{};const it=pn.toPromise().then(Pt=>{const kt=Pt?.[We];return"function"==typeof kt?kt.bind(Pt):kt?.then?kt.then(De=>Be.run(()=>De)):Be.run(()=>kt)});return new Proxy(()=>{},{get:(Pt,kt)=>it[kt],apply:(Pt,kt,De)=>it.then(rn=>{const vn=rn?.(...De);return be?.spy?.apply&&be.spy.apply(We,De,vn),vn})})})}),Ae=(Nt,pn)=>{pn.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(be=>{Object.defineProperty(Nt.prototype,be,Object.getOwnPropertyDescriptor(Be.prototype||Be,be))})})};class Me{constructor(pn){return pn}}const Fe=new o.nKC("angularfire2.app.options"),Ve=new o.nKC("angularfire2.app.name");function ee(Nt,pn,Be){const Je="object"==typeof Be&&Be||{};Je.name=Je.name||"string"==typeof Be&&Be||"[DEFAULT]";const it=i.A.apps.filter(Pt=>Pt&&Pt.name===Je.name)[0]||pn.runOutsideAngular(()=>i.A.initializeApp(Nt,Je));try{if(JSON.stringify(Nt)!==JSON.stringify(it.options)){const Pt=!!module.hot;ue("error",`${it.name} Firebase App already initialized with different options${Pt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Me(it)}const ue=(Nt,...pn)=>{(0,o.naY)()&&typeof console<"u"&&console[Nt](...pn)},_e={provide:Me,useFactory:ee,deps:[Fe,o.SKi,[new o.Xx1,Ve]]};let ut=(()=>{class Nt{static initializeApp(Be,be){return{ngModule:Nt,providers:[{provide:Fe,useValue:Be},{provide:Ve,useValue:be}]}}constructor(Be){i.A.registerVersion("angularfire",le.xv.full,"core"),i.A.registerVersion("angularfire",le.xv.full,"app-compat"),i.A.registerVersion("angular",o.xvI.full,Be.toString())}static \u0275fac=function(be){return new(be||Nt)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:Nt});static \u0275inj=o.G2t({providers:[_e]})}return Nt})();function Qe(Nt,pn,Be,be,Je){const[,We,it]=globalThis.\u0275AngularfireInstanceCache.find(Pt=>Pt[0]===Nt)||[];if(We)return function St(Nt,pn){try{return Nt.toString()===pn.toString()}catch{return Nt===pn}}(Je,it)||(Bt("error",`${pn} was already initialized on the ${Be} Firebase App with different settings.${Dt?" You may need to reload as Firebase is not HMR aware.":""}`),Bt("warn",{is:Je,was:it})),We;{const Pt=be();return globalThis.\u0275AngularfireInstanceCache.push([Nt,Pt,Je]),Pt}}const Dt=typeof module<"u"&&!!module.hot,Bt=(Nt,...pn)=>{(0,o.naY)()&&typeof console<"u"&&console[Nt](...pn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(on,Xe,j)=>{j.d(Xe,{xv:()=>Qe,U0:()=>vn,Oe:()=>De,u0:()=>We,Jv:()=>Nt,CA:()=>Bt,lR:()=>Dt,S3:()=>$t});var o=j(7705),le=j(2214),i=j(6780),pe=j(9687);const Me=new class Ae extends pe.q{}(class Te extends i.R{constructor(dt,Ne){super(dt,Ne),this.scheduler=dt,this.work=Ne}schedule(dt,Ne=0){return Ne>0?super.schedule(dt,Ne):(this.delay=Ne,this.state=dt,this.scheduler.flush(this),this)}execute(dt,Ne){return Ne>0||this.closed?super.execute(dt,Ne):this._execute(dt,Ne)}requestAsyncId(dt,Ne,Ze=0){return null!=Ze&&Ze>0||null==Ze&&this.delay>0?super.requestAsyncId(dt,Ne,Ze):(dt.flush(this),0)}});var Ve=j(3236),ee=j(1985),ue=j(8141),_e=j(941),ut=j(6745);const Qe=new o.RxE("ANGULARFIRE2_VERSION");function Dt(Xt,dt,Ne){if(dt){if(1===dt.length)return dt[0];const Ue=dt.filter(we=>we.app===Ne);if(1===Ue.length)return Ue[0]}return Ne.container.getProvider(Xt).getImmediate({optional:!0})}const Bt=(Xt,dt)=>{const Ne=dt?[dt]:(0,le.Dk)(),Ze=[];return Ne.forEach(en=>{en.container.getProvider(Xt).instances.forEach(we=>{Ze.includes(we)||Ze.push(we)})}),Ze};class Nt{constructor(){return Bt(pn)}}const pn="app-check";function Be(){}class be{zone;delegate;constructor(dt,Ne=Me){this.zone=dt,this.delegate=Ne}now(){return this.delegate.now()}schedule(dt,Ne,Ze){const en=this.zone;return this.delegate.schedule(function(we){en.runGuarded(()=>{dt.apply(this,[we])})},Ne,Ze)}}class Je{zone;task=null;constructor(dt){this.zone=dt}call(dt,Ne){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Be,{},Be,Be)),Ne.pipe((0,ue.M)({next:Ze,complete:Ze,error:Ze})).subscribe(dt).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let We=(()=>{class Xt{ngZone;outsideAngular;insideAngular;constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=Ne.run(()=>new be(Zone.current,Ve.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ze){return new(Ze||Xt)(o.KVO(o.SKi))};static \u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();function it(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function kt(Xt){return it().ngZone.run(()=>Xt())}function De(Xt){return Xt.pipe((0,_e.Q)(it().outsideAngular))}function vn(Xt){return function gr(Xt){return function(Ne){return(Ne=Ne.lift(new Je(Xt.ngZone))).pipe((0,ut._)(Xt.outsideAngular),(0,_e.Q)(Xt.insideAngular))}}(it())(Xt)}const Ot=(Xt,dt)=>function(){const Ze=arguments;return dt&&setTimeout(()=>{"scheduled"===dt.state&&dt.invoke()},10),kt(()=>Xt.apply(void 0,Ze))},$t=(Xt,dt)=>function(){let Ne;const Ze=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof Ze[Ue]&&(dt&&(Ne||=kt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Be,{},Be,Be))),Ze[Ue]=Ot(Ze[Ue],Ne));const en=function Pt(Xt){return it().ngZone.runOutsideAngular(()=>Xt())}(()=>Xt.apply(this,Ze));if(!dt){if(en instanceof ee.c){const Ue=it();return en.pipe((0,ut._)(Ue.outsideAngular),(0,_e.Q)(Ue.insideAngular))}return kt(()=>en)}return en instanceof ee.c?en.pipe(vn):en instanceof Promise?kt(()=>new Promise((Ue,we)=>en.then(Ee=>kt(()=>Ue(Ee)),Ee=>kt(()=>we(Ee))))):"function"==typeof en&&Ne?function(){return setTimeout(()=>{Ne&&"scheduled"===Ne.state&&Ne.invoke()},10),en.apply(this,arguments)}:kt(()=>en)}},4341:(on,Xe,j)=>{j.d(Xe,{Zm:()=>Bt,me:()=>be,v8:()=>vi,ok:()=>ao,JD:()=>Gr,j4:()=>_n,$R:()=>zn,YN:()=>Wo,BC:()=>Wn,cb:()=>An,cV:()=>Qi,vS:()=>Rt,xH:()=>us,Q0:()=>rt,Fm:()=>ei,X1:()=>co,YS:()=>Ur,wz:()=>ls,k0:()=>De,qT:()=>de,y7:()=>_t});var o=j(7705),le=j(177),i=j(8455),Te=j(1985),pe=j(3073),Ae=j(8750),Me=j(3794),Fe=j(4360),Ve=j(6450),ee=j(8496),_e=j(6354);let ut=(()=>{class W{constructor(L,ae){this._renderer=L,this._elementRef=ae,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(L,ae){this._renderer.setProperty(this._elementRef.nativeElement,L,ae)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:W})}}return W})(),Qe=(()=>{class W extends ut{static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const St=new o.nKC("NgValueAccessor"),Dt={provide:St,useExisting:(0,o.Rfq)(()=>Bt),multi:!0};let Bt=(()=>{class W extends Qe{writeValue(L){this.setProperty("checked",L)}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("change",function(ur){return Le.onChange(ur.target.checked)})("blur",function(){return Le.onTouched()})},features:[o.Jv_([Dt]),o.Vt3]})}}return W})();const Nt={provide:St,useExisting:(0,o.Rfq)(()=>be),multi:!0},Be=new o.nKC("CompositionEventMode");let be=(()=>{class W extends ut{constructor(L,ae,Le){super(L,ae),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pn(){const W=(0,le.QT)()?(0,le.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Be,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("input",function(ur){return Le._handleInput(ur.target.value)})("blur",function(){return Le.onTouched()})("compositionstart",function(){return Le._compositionStart()})("compositionend",function(ur){return Le._compositionEnd(ur.target.value)})},features:[o.Jv_([Nt]),o.Vt3]})}}return W})();function Je(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function We(W){return null!=W&&"number"==typeof W.length}const it=new o.nKC("NgValidators"),Pt=new o.nKC("NgAsyncValidators"),kt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class De{static min(J){return function rn(W){return J=>{if(Je(J.value)||Je(W))return null;const L=parseFloat(J.value);return!isNaN(L)&&L<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function vn(W){return J=>{if(Je(J.value)||Je(W))return null;const L=parseFloat(J.value);return!isNaN(L)&&L>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return gr(J)}static requiredTrue(J){return function Ot(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function $t(W){return Je(W.value)||kt.test(W.value)?null:{email:!0}}(J)}static minLength(J){return function Xt(W){return J=>Je(J.value)||!We(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function dt(W){return J=>We(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function Ne(W){if(!W)return Ze;let J,L;return"string"==typeof W?(L="","^"!==W.charAt(0)&&(L+="^"),L+=W,"$"!==W.charAt(W.length-1)&&(L+="$"),J=new RegExp(L)):(L=W.toString(),J=W),ae=>{if(Je(ae.value))return null;const Le=ae.value;return J.test(Le)?null:{pattern:{requiredPattern:L,actualValue:Le}}}}(J)}static nullValidator(J){return null}static compose(J){return qe(J)}static composeAsync(J){return wn(J)}}function gr(W){return Je(W.value)?{required:!0}:null}function Ze(W){return null}function en(W){return null!=W}function Ue(W){return(0,o.jNT)(W)?(0,i.H)(W):W}function we(W){let J={};return W.forEach(L=>{J=null!=L?{...J,...L}:J}),0===Object.keys(J).length?null:J}function Ee(W,J){return J.map(L=>L(W))}function tt(W){return W.map(J=>function ke(W){return!W.validate}(J)?J:L=>J.validate(L))}function qe(W){if(!W)return null;const J=W.filter(en);return 0==J.length?null:function(L){return we(Ee(L,J))}}function Vt(W){return null!=W?qe(tt(W)):null}function wn(W){if(!W)return null;const J=W.filter(en);return 0==J.length?null:function(L){return function ue(...W){const J=(0,Me.ms)(W),{args:L,keys:ae}=(0,pe.D)(W),Le=new Te.c(yn=>{const{length:ur}=L;if(!ur)return void yn.complete();const _s=new Array(ur);let ys=ur,vs=ur;for(let Io=0;Io<ur;Io++){let Zs=!1;(0,Ae.Tg)(L[Io]).subscribe((0,Fe._)(yn,Es=>{Zs||(Zs=!0,vs--),_s[Io]=Es},()=>ys--,void 0,()=>{(!ys||!Zs)&&(vs||yn.next(ae?(0,ee.e)(ae,_s):_s),yn.complete())}))}});return J?Le.pipe((0,Ve.I)(J)):Le}(Ee(L,J).map(Ue)).pipe((0,_e.T)(we))}}function or(W){return null!=W?wn(tt(W)):null}function sn(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function Bn(W){return W._rawValidators}function Qt(W){return W._rawAsyncValidators}function Gn(W){return W?Array.isArray(W)?W:[W]:[]}function Fn(W,J){return Array.isArray(W)?W.includes(J):W===J}function Kt(W,J){const L=Gn(J);return Gn(W).forEach(Le=>{Fn(L,Le)||L.push(Le)}),L}function jt(W,J){return Gn(J).filter(L=>!Fn(W,L))}class Cr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,L){return!!this.control&&this.control.hasError(J,L)}getError(J,L){return this.control?this.control.getError(J,L):null}}class un extends Cr{get formDirective(){return null}get path(){return null}}class Lr extends Cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class er{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wn=(()=>{class W extends er{constructor(L){super(L)}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(Lr,2))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ae,Le){2&ae&&o.AVh("ng-untouched",Le.isUntouched)("ng-touched",Le.isTouched)("ng-pristine",Le.isPristine)("ng-dirty",Le.isDirty)("ng-valid",Le.isValid)("ng-invalid",Le.isInvalid)("ng-pending",Le.isPending)},features:[o.Vt3]})}}return W})(),An=(()=>{class W extends er{constructor(L){super(L)}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(un,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ae,Le){2&ae&&o.AVh("ng-untouched",Le.isUntouched)("ng-touched",Le.isTouched)("ng-pristine",Le.isPristine)("ng-dirty",Le.isDirty)("ng-valid",Le.isValid)("ng-invalid",Le.isInvalid)("ng-pending",Le.isPending)("ng-submitted",Le.isSubmitted)},features:[o.Vt3]})}}return W})();const Yt="VALID",Hn="INVALID",Wr="PENDING",Sr="DISABLED";function Pi(W){return(k(W)?W.validators:W)||null}function $(W,J){return(k(J)?J.asyncValidators:W)||null}function k(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ne(W,J,L){const ae=W.controls;if(!(J?Object.keys(ae):ae).length)throw new o.wOt(1e3,"");if(!ae[L])throw new o.wOt(1001,"")}function me(W,J,L){W._forEachChild((ae,Le)=>{if(void 0===L[Le])throw new o.wOt(1002,"")})}class st{constructor(J,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Yt}get invalid(){return this.status===Hn}get pending(){return this.status==Wr}get disabled(){return this.status===Sr}get enabled(){return this.status!==Sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Kt(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Kt(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(jt(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(jt(J,this._rawAsyncValidators))}hasValidator(J){return Fn(this._rawValidators,J)}hasAsyncValidator(J){return Fn(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Wr,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const L=this._parentMarkedDirty(J.onlySelf);this.status=Sr,this.errors=null,this._forEachChild(ae=>{ae.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:L}),this._onDisabledChange.forEach(ae=>ae(!0))}enable(J={}){const L=this._parentMarkedDirty(J.onlySelf);this.status=Yt,this._forEachChild(ae=>{ae.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:L}),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yt||this.status===Wr)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sr:Yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Wr,this._hasOwnPendingAsyncValidator=!0;const L=Ue(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,L={}){this.errors=J,this._updateControlsErrors(!1!==L.emitEvent)}get(J){let L=J;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((ae,Le)=>ae&&ae._find(Le),this)}getError(J,L){const ae=L?this.get(L):this;return ae&&ae.errors?ae.errors[J]:null}hasError(J,L){return!!this.getError(J,L)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?Sr:this.errors?Hn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wr)?Wr:this._anyControlsHaveStatus(Hn)?Hn:Yt}_anyControlsHaveStatus(J){return this._anyControls(L=>L.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){k(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function bt(W){return Array.isArray(W)?Vt(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?or(W):W||null}(this._rawAsyncValidators)}}class At extends st{constructor(J,L,ae){super(Pi(L),$(ae,L)),this.controls=J,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,L){return this.controls[J]?this.controls[J]:(this.controls[J]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(J,L,ae={}){this.registerControl(J,L),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(J,L={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(J,L,ae={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],L&&this.registerControl(J,L),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,L={}){me(this,0,J),Object.keys(J).forEach(ae=>{ne(this,!0,ae),this.controls[ae].setValue(J[ae],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(J,L={}){null!=J&&(Object.keys(J).forEach(ae=>{const Le=this.controls[ae];Le&&Le.patchValue(J[ae],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(J={},L={}){this._forEachChild((ae,Le)=>{ae.reset(J?J[Le]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(J,L,ae)=>(J[ae]=L.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(L,ae)=>!!ae._syncPendingControls()||L);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(L=>{const ae=this.controls[L];ae&&J(ae,L)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[L,ae]of Object.entries(this.controls))if(this.contains(L)&&J(ae))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,ae,Le)=>((ae.enabled||this.disabled)&&(L[Le]=ae.value),L))}_reduceChildren(J,L){let ae=J;return this._forEachChild((Le,yn)=>{ae=L(ae,Le,yn)}),ae}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Sn extends At{}const cn=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Br}),Br="always";function mr(W,J){return[...J.path,W]}function Ss(W,J,L=Br){Ai(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===L)&&J.valueAccessor.setDisabledState?.(W.disabled),function Ps(W,J){J.valueAccessor.registerOnChange(L=>{W._pendingValue=L,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&nt(W,J)})}(W,J),function Mt(W,J){const L=(ae,Le)=>{J.valueAccessor.writeValue(ae),Le&&J.viewToModelUpdate(ae)};W.registerOnChange(L),J._registerOnDestroy(()=>{W._unregisterOnChange(L)})}(W,J),function Ct(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&nt(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function Ni(W,J){if(J.valueAccessor.setDisabledState){const L=ae=>{J.valueAccessor.setDisabledState(ae)};W.registerOnDisabledChange(L),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(L)})}}(W,J)}function wi(W,J,L=!0){const ae=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ae),J.valueAccessor.registerOnTouched(ae)),ar(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function $i(W,J){W.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(J)})}function Ai(W,J){const L=Bn(W);null!==J.validator?W.setValidators(sn(L,J.validator)):"function"==typeof L&&W.setValidators([L]);const ae=Qt(W);null!==J.asyncValidator?W.setAsyncValidators(sn(ae,J.asyncValidator)):"function"==typeof ae&&W.setAsyncValidators([ae]);const Le=()=>W.updateValueAndValidity();$i(J._rawValidators,Le),$i(J._rawAsyncValidators,Le)}function ar(W,J){let L=!1;if(null!==W){if(null!==J.validator){const Le=Bn(W);if(Array.isArray(Le)&&Le.length>0){const yn=Le.filter(ur=>ur!==J.validator);yn.length!==Le.length&&(L=!0,W.setValidators(yn))}}if(null!==J.asyncValidator){const Le=Qt(W);if(Array.isArray(Le)&&Le.length>0){const yn=Le.filter(ur=>ur!==J.asyncValidator);yn.length!==Le.length&&(L=!0,W.setAsyncValidators(yn))}}}const ae=()=>{};return $i(J._rawValidators,ae),$i(J._rawAsyncValidators,ae),L}function nt(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function ln(W,J){Ai(W,J)}function Yi(W,J){if(!W.hasOwnProperty("model"))return!1;const L=W.model;return!!L.isFirstChange()||!Object.is(J,L.currentValue)}function Xi(W,J){W._syncPendingControls(),J.forEach(L=>{const ae=L.control;"submit"===ae.updateOn&&ae._pendingChange&&(L.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}function go(W,J){if(!J)return null;let L,ae,Le;return Array.isArray(J),J.forEach(yn=>{yn.constructor===be?L=yn:function ws(W){return Object.getPrototypeOf(W.constructor)===Qe}(yn)?ae=yn:Le=yn}),Le||ae||L||null}const Co={provide:un,useExisting:(0,o.Rfq)(()=>Qi)},ii=(()=>Promise.resolve())();let Qi=(()=>{class W extends un{constructor(L,ae,Le){super(),this.callSetDisabledState=Le,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new At({},Vt(L),or(ae))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){ii.then(()=>{const ae=this._findContainer(L.path);L.control=ae.registerControl(L.name,L.control),Ss(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){ii.then(()=>{const ae=this._findContainer(L.path);ae&&ae.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){ii.then(()=>{const ae=this._findContainer(L.path),Le=new At({});ln(Le,L),ae.registerControl(L.name,Le),Le.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){ii.then(()=>{const ae=this._findContainer(L.path);ae&&ae.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,ae){ii.then(()=>{this.form.get(L.path).setValue(ae)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,Xi(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(it,10),o.rXU(Pt,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("submit",function(ur){return Le.onSubmit(ur)})("reset",function(){return Le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([Co]),o.Vt3]})}}return W})();function os(W,J){const L=W.indexOf(J);L>-1&&W.splice(L,1)}function Qr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const ji=class extends st{constructor(J=null,L,ae){super(Pi(L),$(ae,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=Qr(J)?J.value:J)}setValue(J,L={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(J,L={}){this.setValue(J,L)}reset(J=this.defaultValue,L={}){this._applyFormState(J),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){os(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){os(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){Qr(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let Js=(()=>{class W extends un{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return mr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,features:[o.Vt3]})}}return W})();const ms={provide:Lr,useExisting:(0,o.Rfq)(()=>Rt)},fe=(()=>Promise.resolve())();let Rt=(()=>{class W extends Lr{constructor(L,ae,Le,yn,ur,_s){super(),this._changeDetectorRef=ur,this.callSetDisabledState=_s,this.control=new ji,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=L,this._setValidators(ae),this._setAsyncValidators(Le),this.valueAccessor=go(0,yn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const ae=L.name.previousValue;this.formDirective.removeControl({name:ae,path:this._getPath(ae)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),Yi(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ss(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){fe.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const ae=L.isDisabled.currentValue,Le=0!==ae&&(0,o.L39)(ae);fe.then(()=>{Le&&!this.control.disabled?this.control.disable():!Le&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?mr(L,this._parent):[L]}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(un,9),o.rXU(it,10),o.rXU(Pt,10),o.rXU(St,10),o.rXU(o.gRc,8),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([ms]),o.Vt3,o.OA$]})}}return W})(),de=(()=>{class W{static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275dir=o.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const ot={provide:St,useExisting:(0,o.Rfq)(()=>rt),multi:!0};let rt=(()=>{class W extends Qe{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=ae=>{L(""==ae?null:parseFloat(ae))}}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("input",function(ur){return Le.onChange(ur.target.value)})("blur",function(){return Le.onTouched()})},features:[o.Jv_([ot]),o.Vt3]})}}return W})();const kn={provide:St,useExisting:(0,o.Rfq)(()=>ei),multi:!0};let ci=(()=>{class W{static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({})}}return W})(),as=(()=>{class W{constructor(){this._accessors=[]}add(L,ae){this._accessors.push([L,ae])}remove(L){for(let ae=this._accessors.length-1;ae>=0;--ae)if(this._accessors[ae][1]===L)return void this._accessors.splice(ae,1)}select(L){this._accessors.forEach(ae=>{this._isSameGroup(ae,L)&&ae[1]!==L&&ae[1].fireUncheck(L.value)})}_isSameGroup(L,ae){return!!L[0].control&&L[0]._parent===ae._control._parent&&L[1].name===ae.name}static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:ci})}}return W})(),ei=(()=>{class W extends Qe{constructor(L,ae,Le,yn){super(L,ae),this._registry=Le,this._injector=yn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(cn,{optional:!0})??Br}ngOnInit(){this._control=this._injector.get(Lr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(L){this._state=L===this.value,this.setProperty("checked",this._state)}registerOnChange(L){this._fn=L,this.onChange=()=>{L(this.value),this._registry.select(this)}}setDisabledState(L){(this.setDisabledStateFired||L||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",L),this.setDisabledStateFired=!0}fireUncheck(L){this.writeValue(L)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(as),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("change",function(){return Le.onChange()})("blur",function(){return Le.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([kn]),o.Vt3]})}}return W})();const es=new o.nKC("NgModelWithFormControlWarning"),hi={provide:un,useExisting:(0,o.Rfq)(()=>_n)};let _n=(()=>{class W extends un{constructor(L,ae,Le){super(),this.callSetDisabledState=Le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(L),this._setAsyncValidators(ae)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ar(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const ae=this.form.get(L.path);return Ss(ae,L,this.callSetDisabledState),ae.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),ae}getControl(L){return this.form.get(L.path)}removeControl(L){wi(L.control||null,L,!1),function mo(W,J){const L=W.indexOf(J);L>-1&&W.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,ae){this.form.get(L.path).setValue(ae)}onSubmit(L){return this.submitted=!0,Xi(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const ae=L.control,Le=this.form.get(L.path);ae!==Le&&(wi(ae||null,L),(W=>W instanceof ji)(Le)&&(Ss(Le,L,this.callSetDisabledState),L.control=Le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const ae=this.form.get(L.path);ln(ae,L),ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const ae=this.form.get(L.path);ae&&function Ln(W,J){return ar(W,J)}(ae,L)&&ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ai(this.form,this),this._oldForm&&ar(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(it,10),o.rXU(Pt,10),o.rXU(cn,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("submit",function(ur){return Le.onSubmit(ur)})("reset",function(){return Le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([hi]),o.Vt3,o.OA$]})}}return W})();const lr={provide:un,useExisting:(0,o.Rfq)(()=>zn)};let zn=(()=>{class W extends Js{constructor(L,ae,Le){super(),this.name=null,this._parent=L,this._setValidators(ae),this._setAsyncValidators(Le)}_checkParentType(){Hr(this._parent)}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(un,13),o.rXU(it,10),o.rXU(Pt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o.Jv_([lr]),o.Vt3]})}}return W})();const fi={provide:un,useExisting:(0,o.Rfq)(()=>vi)};let vi=(()=>{class W extends un{constructor(L,ae,Le){super(),this.name=null,this._parent=L,this._setValidators(ae),this._setAsyncValidators(Le)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return mr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Hr(this._parent)}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(un,13),o.rXU(it,10),o.rXU(Pt,10))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o.Jv_([fi]),o.Vt3]})}}return W})();function Hr(W){return!(W instanceof zn||W instanceof _n||W instanceof vi)}const Ms={provide:Lr,useExisting:(0,o.Rfq)(()=>Gr)};let Gr=(()=>{class W extends Lr{set isDisabled(L){}static{this._ngModelWarningSentOnce=!1}constructor(L,ae,Le,yn,ur){super(),this._ngModelWarningConfig=ur,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(ae),this._setAsyncValidators(Le),this.valueAccessor=go(0,yn)}ngOnChanges(L){this._added||this._setUpControl(),Yi(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return mr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(un,13),o.rXU(it,10),o.rXU(Pt,10),o.rXU(St,10),o.rXU(es,8))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([Ms]),o.Vt3,o.OA$]})}}return W})();const Bi={provide:St,useExisting:(0,o.Rfq)(()=>ls),multi:!0};function ts(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let ls=(()=>{class W extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){this.value=L;const Le=ts(this._getOptionId(L),L);this.setProperty("value",Le)}registerOnChange(L){this.onChange=ae=>{this.value=this._getOptionValue(ae),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae),L))return ae;return null}_getOptionValue(L){const ae=function tr(W){return W.split(":")[0]}(L);return this._optionMap.has(ae)?this._optionMap.get(ae):L}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("change",function(ur){return Le.onChange(ur.target.value)})("blur",function(){return Le.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Bi]),o.Vt3]})}}return W})(),us=(()=>{class W{constructor(L,ae,Le){this._element=L,this._renderer=ae,this._select=Le,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(ts(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(ls,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const Z={provide:St,useExisting:(0,o.Rfq)(()=>Ye),multi:!0};function Q(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let Ye=(()=>{class W extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(L){this._compareWith=L}writeValue(L){let ae;if(this.value=L,Array.isArray(L)){const Le=L.map(yn=>this._getOptionId(yn));ae=(yn,ur)=>{yn._setSelected(Le.indexOf(ur.toString())>-1)}}else ae=(Le,yn)=>{Le._setSelected(!1)};this._optionMap.forEach(ae)}registerOnChange(L){this.onChange=ae=>{const Le=[],yn=ae.selectedOptions;if(void 0!==yn){const ur=yn;for(let _s=0;_s<ur.length;_s++){const vs=this._getOptionValue(ur[_s].value);Le.push(vs)}}else{const ur=ae.options;for(let _s=0;_s<ur.length;_s++){const ys=ur[_s];if(ys.selected){const vs=this._getOptionValue(ys.value);Le.push(vs)}}}this.value=Le,L(Le)}}_registerOption(L){const ae=(this._idCounter++).toString();return this._optionMap.set(ae,L),ae}_getOptionId(L){for(const ae of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ae)._value,L))return ae;return null}_getOptionValue(L){const ae=function Ie(W){return W.split(":")[0]}(L);return this._optionMap.has(ae)?this._optionMap.get(ae)._value:L}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ae,Le){1&ae&&o.bIt("change",function(ur){return Le.onChange(ur.target)})("blur",function(){return Le.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([Z]),o.Vt3]})}}return W})(),_t=(()=>{class W{constructor(L,ae,Le){this._element=L,this._renderer=ae,this._select=Le,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(Q(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(Q(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ae){return new(ae||W)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Ye,9))}}static{this.\u0275dir=o.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),En=(()=>{class W{constructor(){this._validator=Ze}ngOnChanges(L){if(this.inputName in L){const ae=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(ae),this._validator=this._enabled?this.createValidator(ae):Ze,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275dir=o.FsC({type:W,features:[o.OA$]})}}return W})();const qn={provide:it,useExisting:(0,o.Rfq)(()=>Ur),multi:!0};let Ur=(()=>{class W extends En{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=L=>gr}enabled(L){return L}static{this.\u0275fac=function(){let L;return function(Le){return(L||(L=o.xGo(W)))(Le||W)}}()}static{this.\u0275dir=o.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ae,Le){2&ae&&o.BMQ("required",Le._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([qn]),o.Vt3]})}}return W})(),Sa=(()=>{class W{static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[ci]})}}return W})();class ca extends st{constructor(J,L,ae){super(Pi(L),$(ae,L)),this.controls=J,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,L={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(J,L,ae={}){this.controls.splice(J,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(J,L={}){let ae=this._adjustIndex(J);ae<0&&(ae=0),this.controls[ae]&&this.controls[ae]._registerOnCollectionChange(()=>{}),this.controls.splice(ae,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(J,L,ae={}){let Le=this._adjustIndex(J);Le<0&&(Le=0),this.controls[Le]&&this.controls[Le]._registerOnCollectionChange(()=>{}),this.controls.splice(Le,1),L&&(this.controls.splice(Le,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,L={}){me(this,0,J),J.forEach((ae,Le)=>{ne(this,!1,Le),this.at(Le).setValue(ae,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(J,L={}){null!=J&&(J.forEach((ae,Le)=>{this.at(Le)&&this.at(Le).patchValue(ae,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(J=[],L={}){this._forEachChild((ae,Le)=>{ae.reset(J[Le],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((L,ae)=>!!ae._syncPendingControls()||L,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((L,ae)=>{J(L,ae)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(L=>L.enabled&&J(L))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Ki(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let ao=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new W;return L.useNonNullable=!0,L}group(L,ae=null){const Le=this._reduceControls(L);let yn={};return Ki(ae)?yn=ae:null!==ae&&(yn.validators=ae.validator,yn.asyncValidators=ae.asyncValidator),new At(Le,yn)}record(L,ae=null){const Le=this._reduceControls(L);return new Sn(Le,ae)}control(L,ae,Le){let yn={};return this.useNonNullable?(Ki(ae)?yn=ae:(yn.validators=ae,yn.asyncValidators=Le),new ji(L,{...yn,nonNullable:!0})):new ji(L,ae,Le)}array(L,ae,Le){const yn=L.map(ur=>this._createControl(ur));return new ca(yn,ae,Le)}_reduceControls(L){const ae={};return Object.keys(L).forEach(Le=>{ae[Le]=this._createControl(L[Le])}),ae}_createControl(L){return L instanceof ji||L instanceof st?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275prov=o.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),Wo=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:cn,useValue:L.callSetDisabledState??Br}]}}static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Sa]})}}return W})(),co=(()=>{class W{static withConfig(L){return{ngModule:W,providers:[{provide:es,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:L.callSetDisabledState??Br}]}}static{this.\u0275fac=function(ae){return new(ae||W)}}static{this.\u0275mod=o.$C({type:W})}static{this.\u0275inj=o.G2t({imports:[Sa]})}}return W})()},345:(on,Xe,j)=>{j.d(Xe,{B7:()=>kt,Bb:()=>Fn,W8:()=>jt,hE:()=>Lr,sG:()=>sn,up:()=>Oi});var o=j(7705),le=j(177);class i extends le.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends i{static makeCurrent(){(0,le.ZD)(new Te)}onAndCancel($,M,k){return $.addEventListener(M,k),()=>{$.removeEventListener(M,k)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function Ae(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==M?null:function Fe(bt){Me=Me||document.createElement("a"),Me.setAttribute("href",bt);const $=Me.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,le._b)(document.cookie,$)}}let Me,pe=null,ee=(()=>{class bt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||bt)}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const ue=new o.nKC("EventManagerPlugins");let _e=(()=>{class bt{constructor(M,k){this._zone=k,this._eventNameToPlugin=new Map,M.forEach(ne=>{ne.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,k,ne){return this._findPluginFor(k).addEventListener(M,k,ne)}getZone(){return this._zone}_findPluginFor(M){let k=this._eventNameToPlugin.get(M);if(k)return k;if(k=this._plugins.find(me=>me.supports(M)),!k)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(M,k),k}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(ue),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();class ut{constructor($){this._doc=$}}const Qe="ng-app-id";let St=(()=>{class bt{constructor(M,k,ne,me={}){this.doc=M,this.appId=k,this.nonce=ne,this.platformId=me,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,le.Vy)(me),this.resetHostNodes()}addStyles(M){for(const k of M)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(M){for(const k of M)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(k=>k.remove()),M.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const k of this.getAllStyles())this.addStyleToHost(M,k)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const k of this.hostNodes)this.addStyleToHost(k,M)}onStyleRemoved(M){const k=this.styleRef;k.get(M)?.elements?.forEach(ne=>ne.remove()),k.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(M?.length){const k=new Map;return M.forEach(ne=>{null!=ne.textContent&&k.set(ne.textContent,ne)}),k}return null}changeUsageCount(M,k){const ne=this.styleRef;if(ne.has(M)){const me=ne.get(M);return me.usage+=k,me.usage}return ne.set(M,{usage:k,elements:[]}),k}getStyleElement(M,k){const ne=this.styleNodesInDOM,me=ne?.get(k);if(me?.parentNode===M)return ne.delete(k),me.removeAttribute(Qe),me;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=k,this.platformIsServer&&st.setAttribute(Qe,this.appId),st}}addStyleToHost(M,k){const ne=this.getStyleElement(M,k);M.appendChild(ne);const me=this.styleRef,st=me.get(k)?.elements;st?st.push(ne):me.set(k,{elements:[ne],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(le.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bt=/%COMP%/g,Je=new o.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Pt(bt,$){return $.map(M=>M.replace(Bt,bt))}let kt=(()=>{class bt{constructor(M,k,ne,me,st,At,an,dn=null){this.eventManager=M,this.sharedStylesHost=k,this.appId=ne,this.removeStylesOnCompDestroy=me,this.doc=st,this.platformId=At,this.ngZone=an,this.nonce=dn,this.rendererByCompId=new Map,this.platformIsServer=(0,le.Vy)(At),this.defaultRenderer=new De(M,st,an,this.platformIsServer)}createRenderer(M,k){if(!M||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===o.gXe.ShadowDom&&(k={...k,encapsulation:o.gXe.Emulated});const ne=this.getOrCreateRenderer(M,k);return ne instanceof Xt?ne.applyToHost(M):ne instanceof $t&&ne.applyStyles(),ne}getOrCreateRenderer(M,k){const ne=this.rendererByCompId;let me=ne.get(k.id);if(!me){const st=this.doc,At=this.ngZone,an=this.eventManager,dn=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,vr=this.platformIsServer;switch(k.encapsulation){case o.gXe.Emulated:me=new Xt(an,dn,k,this.appId,Sn,st,At,vr);break;case o.gXe.ShadowDom:return new Ot(an,dn,M,k,st,At,this.nonce,vr);default:me=new $t(an,dn,k,Sn,st,At,vr)}ne.set(k.id,me)}return me}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(_e),o.KVO(St),o.KVO(o.sZ2),o.KVO(Je),o.KVO(le.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();class De{constructor($,M,k,ne){this.eventManager=$,this.doc=M,this.ngZone=k,this.platformIsServer=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(Dt[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(gr($)?$.content:$).appendChild(M)}insertBefore($,M,k){$&&(gr($)?$.content:$).insertBefore(M,k)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new o.wOt(-5104,!1);return M||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,k,ne){if(ne){M=ne+":"+M;const me=Dt[ne];me?$.setAttributeNS(me,M,k):$.setAttribute(M,k)}else $.setAttribute(M,k)}removeAttribute($,M,k){if(k){const ne=Dt[k];ne?$.removeAttributeNS(ne,M):$.removeAttribute(`${k}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,k,ne){ne&(o.czy.DashCase|o.czy.Important)?$.style.setProperty(M,k,ne&o.czy.Important?"important":""):$.style[M]=k}removeStyle($,M,k){k&o.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,k){$[M]=k}setValue($,M){$.nodeValue=M}listen($,M,k){if("string"==typeof $&&!($=(0,le.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(k))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function gr(bt){return"TEMPLATE"===bt.tagName&&void 0!==bt.content}class Ot extends De{constructor($,M,k,ne,me,st,At,an){super($,me,st,an),this.sharedStylesHost=M,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dn=Pt(ne.id,ne.styles);for(const Sn of dn){const vr=document.createElement("style");At&&vr.setAttribute("nonce",At),vr.textContent=Sn,this.shadowRoot.appendChild(vr)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,k){return super.insertBefore(this.nodeOrShadowRoot($),M,k)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $t extends De{constructor($,M,k,ne,me,st,At,an){super($,me,st,At),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ne,this.styles=an?Pt(an,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xt extends $t{constructor($,M,k,ne,me,st,At,an){const dn=ne+"-"+k.id;super($,M,k,me,st,At,an,dn),this.contentAttr=function We(bt){return"_ngcontent-%COMP%".replace(Bt,bt)}(dn),this.hostAttr=function it(bt){return"_nghost-%COMP%".replace(Bt,bt)}(dn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const k=super.createElement($,M);return super.setAttribute(k,this.contentAttr,""),k}}let dt=(()=>{class bt extends ut{constructor(M){super(M)}supports(M){return!0}addEventListener(M,k,ne){return M.addEventListener(k,ne,!1),()=>this.removeEventListener(M,k,ne)}removeEventListener(M,k,ne){return M.removeEventListener(k,ne)}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const Ne=["alt","control","meta","shift"],Ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},en={alt:bt=>bt.altKey,control:bt=>bt.ctrlKey,meta:bt=>bt.metaKey,shift:bt=>bt.shiftKey};let Ue=(()=>{class bt extends ut{constructor(M){super(M)}supports(M){return null!=bt.parseEventName(M)}addEventListener(M,k,ne){const me=bt.parseEventName(k),st=bt.eventCallback(me.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,le.QT)().onAndCancel(M,me.domEventName,st))}static parseEventName(M){const k=M.toLowerCase().split("."),ne=k.shift();if(0===k.length||"keydown"!==ne&&"keyup"!==ne)return null;const me=bt._normalizeKey(k.pop());let st="",At=k.indexOf("code");if(At>-1&&(k.splice(At,1),st="code."),Ne.forEach(dn=>{const Sn=k.indexOf(dn);Sn>-1&&(k.splice(Sn,1),st+=dn+".")}),st+=me,0!=k.length||0===me.length)return null;const an={};return an.domEventName=ne,an.fullKey=st,an}static matchEventFullKeyCode(M,k){let ne=Ze[M.key]||M.key,me="";return k.indexOf("code.")>-1&&(ne=M.code,me="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),Ne.forEach(st=>{st!==ne&&(0,en[st])(M)&&(me+=st+".")}),me+=ne,me===k)}static eventCallback(M,k,ne){return me=>{bt.matchEventFullKeyCode(me,M)&&ne.runGuarded(()=>k(me))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const sn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:le.AJ},{provide:o.PLl,useValue:function qe(){Te.makeCurrent()},multi:!0},{provide:le.qQ,useFactory:function wn(){return(0,o.TL$)(document),document},deps:[]}]),Bn=new o.nKC(""),Qt=[{provide:o.e01,useClass:class Ve{addToWindow($){o.JZv.getAngularTestability=(k,ne=!0)=>{const me=$.findTestabilityInTree(k,ne);if(null==me)throw new o.wOt(5103,!1);return me},o.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(k=>{const ne=o.JZv.getAllAngularTestabilities();let me=ne.length,st=!1;const At=function(an){st=st||an,me--,0==me&&k(st)};ne.forEach(an=>{an.whenStable(At)})})}findTestabilityInTree($,M,k){return null==M?null:$.getTestability(M)??(k?(0,le.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],Gn=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function Vt(){return new o.zcH},deps:[]},{provide:ue,useClass:dt,multi:!0,deps:[le.qQ,o.SKi,o.Agw]},{provide:ue,useClass:Ue,multi:!0,deps:[le.qQ]},kt,St,_e,{provide:o._9s,useExisting:kt},{provide:le.N0,useClass:ee,deps:[]},[]];let Fn=(()=>{class bt{constructor(M){}static withServerTransition(M){return{ngModule:bt,providers:[{provide:o.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(Bn,12))}}static{this.\u0275mod=o.$C({type:bt})}static{this.\u0275inj=o.G2t({providers:[...Gn,...Qt],imports:[le.MD,o.Hbi]})}}return bt})(),jt=(()=>{class bt{constructor(M){this._doc=M,this._dom=(0,le.QT)()}addTag(M,k=!1){return M?this._getOrCreateElement(M,k):null}addTags(M,k=!1){return M?M.reduce((ne,me)=>(me&&ne.push(this._getOrCreateElement(me,k)),ne),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const k=this._doc.querySelectorAll(`meta[${M}]`);return k?[].slice.call(k):[]}updateTag(M,k){if(!M)return null;k=k||this._parseSelector(M);const ne=this.getTag(k);return ne?this._setMetaElementAttributes(M,ne):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,k=!1){if(!k){const st=this._parseSelector(M),At=this.getTags(st).filter(an=>this._containsAttributes(M,an))[0];if(void 0!==At)return At}const ne=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ne),this._doc.getElementsByTagName("head")[0].appendChild(ne),ne}_setMetaElementAttributes(M,k){return Object.keys(M).forEach(ne=>k.setAttribute(this._getMetaKeyMap(ne),M[ne])),k}_parseSelector(M){const k=M.name?"name":"property";return`${k}="${M[k]}"`}_containsAttributes(M,k){return Object.keys(M).every(ne=>k.getAttribute(this._getMetaKeyMap(ne))===M[ne])}_getMetaKeyMap(M){return Cr[M]||M}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new k:function Kt(){return new jt((0,o.KVO)(le.qQ))}(),ne},providedIn:"root"})}}return bt})();const Cr={httpEquiv:"http-equiv"};let Lr=(()=>{class bt{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new k:function un(){return new Lr((0,o.KVO)(le.qQ))}(),ne},providedIn:"root"})}}return bt})();typeof window<"u"&&window;let Oi=(()=>{class bt{static{this.\u0275fac=function(k){return new(k||bt)}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new(k||bt):o.KVO(mt),ne},providedIn:"root"})}}return bt})(),mt=(()=>{class bt extends Oi{constructor(M){super(),this._doc=M}sanitize(M,k){if(null==k)return null;switch(M){case o.WPN.NONE:return k;case o.WPN.HTML:return(0,o.ZF7)(k,"HTML")?(0,o.rcV)(k):(0,o.h9k)(this._doc,String(k)).toString();case o.WPN.STYLE:return(0,o.ZF7)(k,"Style")?(0,o.rcV)(k):k;case o.WPN.SCRIPT:if((0,o.ZF7)(k,"Script"))return(0,o.rcV)(k);throw new o.wOt(5200,!1);case o.WPN.URL:return(0,o.ZF7)(k,"URL")?(0,o.rcV)(k):(0,o.$MX)(String(k));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(k,"ResourceURL"))return(0,o.rcV)(k);throw new o.wOt(5201,!1);default:throw new o.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,o.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,o.cWb)(M)}bypassSecurityTrustScript(M){return(0,o.UyX)(M)}bypassSecurityTrustUrl(M){return(0,o.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,o.e5t)(M)}static{this.\u0275fac=function(k){return new(k||bt)(o.KVO(le.qQ))}}static{this.\u0275prov=o.jDH({token:bt,factory:function(k){let ne=null;return ne=k?new k:function et(bt){return new mt(bt.get(le.qQ))}(o.KVO(o.zZn)),ne},providedIn:"root"})}}return bt})()},6814:(on,Xe,j)=>{j.d(Xe,{nX:()=>zn,Ix:()=>Gi,Wk:()=>lo,iI:()=>gl,n3:()=>ls});var o=j(7705),le=j(1985),i=j(8071),pe=j(8455),Ae=j(7673),Me=j(4412),Fe=j(3073),Ve=j(3669),ee=j(6450),ue=j(3794),_e=j(8496),ut=j(4360),Qe=j(5225);function St(...D){const O=(0,ue.lI)(D),w=(0,ue.ms)(D),{args:N,keys:H}=(0,Fe.D)(D);if(0===N.length)return(0,pe.H)([],O);const oe=new le.c(function Dt(D,O,w=Ve.D){return N=>{Bt(O,()=>{const{length:H}=D,oe=new Array(H);let Pe=H,vt=H;for(let ft=0;ft<H;ft++)Bt(O,()=>{const In=(0,pe.H)(D[ft],O);let dr=!1;In.subscribe((0,ut._)(N,Ar=>{oe[ft]=Ar,dr||(dr=!0,vt--),vt||N.next(w(oe.slice()))},()=>{--Pe||N.complete()}))},N)},N)}}(N,O,H?Pe=>(0,_e.e)(H,Pe):Ve.D));return w?oe.pipe((0,ee.I)(w)):oe}function Bt(D,O,w){D?(0,Qe.N)(w,D,O):O()}var Nt=j(9350),pn=j(8793),Be=j(8750);function be(D){return new le.c(O=>{(0,Be.Tg)(D()).subscribe(O)})}var Je=j(1203),We=j(8810),it=j(983),Pt=j(8359),kt=j(9974);function De(){return(0,kt.N)((D,O)=>{let w=null;D._refCount++;const N=(0,ut._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,oe=w;w=null,H&&(!oe||H===oe)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class rn extends le.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,kt.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Pt.yU;const w=this.getSubject();O.add(this.source.subscribe((0,ut._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Pt.yU.EMPTY)}return O}refCount(){return De()(this)}}var vn=j(1413),gr=j(177),Ot=j(6354),$t=j(5558),Xt=j(6697),dt=j(9172),Ne=j(5964),Ze=j(1397),en=j(1594),Ue=j(274),we=j(8141),Ee=j(9437),ke=j(2816),tt=j(9901);function qe(D){return D<=0?()=>it.w:(0,kt.N)((O,w)=>{let N=[];O.subscribe((0,ut._)(w,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)w.next(H);w.complete()},void 0,()=>{N=null}))})}var Vt=j(3774),sn=j(980),Bn=j(5343),Gn=j(6365),Fn=j(345);const Kt="primary",jt=Symbol("RouteTitle");class Cr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function un(D){return new Cr(D)}function Lr(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let oe=0;oe<N.length;oe++){const Pe=N[oe],vt=D[oe];if(Pe.startsWith(":"))H[Pe.substring(1)]=vt;else if(Pe!==vt.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function Ht(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let H;for(let oe=0;oe<w.length;oe++)if(H=w[oe],!Tn(D[H],O[H]))return!1;return!0}function Tn(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((H,oe)=>N[oe]===H)}return D===O}function Wn(D){return D.length>0?D[D.length-1]:null}function An(D){return function Te(D){return!!D&&(D instanceof le.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,o.jNT)(D)?(0,pe.H)(Promise.resolve(D)):(0,Ae.of)(D)}const Yr={exact:function yi(D,O,w){if(!mt(D.segments,O.segments)||!rr(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!yi(D.children[N],O.children[N],w))return!1;return!0},subset:gn},Or={exact:function Xn(D,O){return Ht(D,O)},subset:function Ts(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>Tn(D[w],O[w]))},ignored:()=>!0};function si(D,O,w){return Yr[w.paths](D.root,O.root,w.matrixParams)&&Or[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function gn(D,O,w){return oi(D,O,O.segments,w)}function oi(D,O,w,N){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!mt(H,w)||O.hasChildren()||!rr(H,w,N))}if(D.segments.length===w.length){if(!mt(D.segments,w)||!rr(D.segments,w,N))return!1;for(const H in O.children)if(!D.children[H]||!gn(D.children[H],O.children[H],N))return!1;return!0}{const H=w.slice(0,D.segments.length),oe=w.slice(D.segments.length);return!!(mt(D.segments,H)&&rr(D.segments,H,N)&&D.children[Kt])&&oi(D.children[Kt],O,oe,N)}}function rr(D,O,w){return O.every((N,H)=>Or[w](D[H].parameters,N.parameters))}class Dr{constructor(O=new Kn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return Yt.serialize(this)}}class Kn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hn(this)}}class Oi{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=un(this.parameters)),this._parameterMap}toString(){return ne(this)}}function mt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let xe=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return new Et},providedIn:"root"})}}return D})();class Et{parse(O){const w=new Ss(O);return new Dr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Wr(O.root,!0)}`,N=function st(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(H=>`${Pi(w)}=${Pi(H)}`).join("&"):`${Pi(w)}=${Pi(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function bt(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Yt=new Et;function Hn(D){return D.segments.map(O=>ne(O)).join("/")}function Wr(D,O){if(!D.hasChildren())return Hn(D);if(O){const w=D.children[Kt]?Wr(D.children[Kt],!1):"",N=[];return Object.entries(D.children).forEach(([H,oe])=>{H!==Kt&&N.push(`${H}:${Wr(oe,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function ce(D,O){let w=[];return Object.entries(D.children).forEach(([N,H])=>{N===Kt&&(w=w.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==Kt&&(w=w.concat(O(H,N)))}),w}(D,(N,H)=>H===Kt?[Wr(D.children[Kt],!1)]:[`${H}:${Wr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Kt]?`${Hn(D)}/${w[0]}`:`${Hn(D)}/(${w.join("//")})`}}function Sr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pi(D){return Sr(D).replace(/%3B/gi,";")}function $(D){return Sr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function k(D){return M(D.replace(/\+/g,"%20"))}function ne(D){return`${$(D.path)}${function me(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const At=/^[^\/()?;#]+/;function an(D){const O=D.match(At);return O?O[0]:""}const dn=/^[^\/()?;=#]+/,vr=/^[^=?&#]+/,Br=/^[^&#]+/;class Ss{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Kt]=new Kn(O,w)),N}parseSegment(){const O=an(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(O),new Oi(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Sn(D){const O=D.match(dn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const H=an(this.remaining);H&&(N=H,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function cn(D){const O=D.match(vr);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Pe=function mr(D){const O=D.match(Br);return O?O[0]:""}(this.remaining);Pe&&(N=Pe,this.capture(N))}const H=k(w),oe=k(N);if(O.hasOwnProperty(H)){let Pe=O[H];Array.isArray(Pe)||(Pe=[Pe],O[H]=Pe),Pe.push(oe)}else O[H]=oe}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=an(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new o.wOt(4010,!1);let oe;N.indexOf(":")>-1?(oe=N.slice(0,N.indexOf(":")),this.capture(oe),this.capture(":")):O&&(oe=Kt);const Pe=this.parseChildren();w[oe]=1===Object.keys(Pe).length?Pe[Kt]:new Kn([],Pe),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new o.wOt(4011,!1)}}function wi(D){return D.segments.length>0?new Kn([],{[Kt]:D}):D}function $i(D){const O={};for(const N of Object.keys(D.children)){const oe=$i(D.children[N]);if(N===Kt&&0===oe.segments.length&&oe.hasChildren())for(const[Pe,vt]of Object.entries(oe.children))O[Pe]=vt;else(oe.segments.length>0||oe.hasChildren())&&(O[N]=oe)}return function Ni(D){if(1===D.numberOfChildren&&D.children[Kt]){const O=D.children[Kt];return new Kn(D.segments.concat(O.segments),O.children)}return D}(new Kn(D.segments,O))}function Ai(D){return D instanceof Dr}function Ps(D){let O;const H=wi(function w(oe){const Pe={};for(const ft of oe.children){const In=w(ft);Pe[ft.outlet]=In}const vt=new Kn(oe.url,Pe);return oe===D&&(O=vt),vt}(D.root));return O??H}function Ct(D,O,w,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return ln(H,H,H,w,N);const oe=function hr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Mn(!0,0,D);let O=0,w=!1;const N=D.reduce((H,oe,Pe)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const vt={};return Object.entries(oe.outlets).forEach(([ft,In])=>{vt[ft]="string"==typeof In?In.split("/"):In}),[...H,{outlets:vt}]}if(oe.segmentPath)return[...H,oe.segmentPath]}return"string"!=typeof oe?[...H,oe]:0===Pe?(oe.split("/").forEach((vt,ft)=>{0==ft&&"."===vt||(0==ft&&""===vt?w=!0:".."===vt?O++:""!=vt&&H.push(vt))}),H):[...H,oe]},[]);return new Mn(w,O,N)}(O);if(oe.toRoot())return ln(H,H,new Kn([],{}),w,N);const Pe=function Xr(D,O,w){if(D.isAbsolute)return new $r(O,!0,0);if(!w)return new $r(O,!1,NaN);if(null===w.parent)return new $r(w,!0,0);const N=nt(D.commands[0])?0:1;return function Tr(D,O,w){let N=D,H=O,oe=w;for(;oe>H;){if(oe-=H,N=N.parent,!N)throw new o.wOt(4005,!1);H=N.segments.length}return new $r(N,!1,H-oe)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(oe,H,D),vt=Pe.processChildren?Xi(Pe.segmentGroup,Pe.index,oe.commands):ws(Pe.segmentGroup,Pe.index,oe.commands);return ln(H,Pe.segmentGroup,vt,w,N)}function nt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Mt(D){return"object"==typeof D&&null!=D&&D.outlets}function ln(D,O,w,N,H){let Pe,oe={};N&&Object.entries(N).forEach(([ft,In])=>{oe[ft]=Array.isArray(In)?In.map(dr=>`${dr}`):`${In}`}),Pe=D===O?w:Ln(D,O,w);const vt=wi($i(Pe));return new Dr(vt,oe,H)}function Ln(D,O,w){const N={};return Object.entries(D.children).forEach(([H,oe])=>{N[H]=oe===O?w:Ln(oe,O,w)}),new Kn(D.segments,N)}class Mn{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&nt(N[0]))throw new o.wOt(4003,!1);const H=N.find(Mt);if(H&&H!==Wn(N))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $r{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function ws(D,O,w){if(D||(D=new Kn([],{})),0===D.segments.length&&D.hasChildren())return Xi(D,O,w);const N=function go(D,O,w){let N=0,H=O;const oe={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=w.length)return oe;const Pe=D.segments[H],vt=w[N];if(Mt(vt))break;const ft=`${vt}`,In=N<w.length-1?w[N+1]:null;if(H>0&&void 0===ft)break;if(ft&&In&&"object"==typeof In&&void 0===In.outlets){if(!ii(ft,In,Pe))return oe;N+=2}else{if(!ii(ft,{},Pe))return oe;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,w),H=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const oe=new Kn(D.segments.slice(0,N.pathIndex),{});return oe.children[Kt]=new Kn(D.segments.slice(N.pathIndex),D.children),Xi(oe,0,H)}return N.match&&0===H.length?new Kn(D.segments,{}):N.match&&!D.hasChildren()?mo(D,O,w):N.match?Xi(D,0,H):mo(D,O,w)}function Xi(D,O,w){if(0===w.length)return new Kn(D.segments,{});{const N=function Yi(D){return Mt(D[0])?D[0].outlets:{[Kt]:D}}(w),H={};if(Object.keys(N).some(oe=>oe!==Kt)&&D.children[Kt]&&1===D.numberOfChildren&&0===D.children[Kt].segments.length){const oe=Xi(D.children[Kt],O,w);return new Kn(D.segments,oe.children)}return Object.entries(N).forEach(([oe,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(H[oe]=ws(D.children[oe],O,Pe))}),Object.entries(D.children).forEach(([oe,Pe])=>{void 0===N[oe]&&(H[oe]=Pe)}),new Kn(D.segments,H)}}function mo(D,O,w){const N=D.segments.slice(0,O);let H=0;for(;H<w.length;){const oe=w[H];if(Mt(oe)){const ft=Ui(oe.outlets);return new Kn(N,ft)}if(0===H&&nt(w[0])){N.push(new Oi(D.segments[O].path,Co(w[0]))),H++;continue}const Pe=Mt(oe)?oe.outlets[Kt]:`${oe}`,vt=H<w.length-1?w[H+1]:null;Pe&&vt&&nt(vt)?(N.push(new Oi(Pe,Co(vt))),H+=2):(N.push(new Oi(Pe,{})),H++)}return new Kn(N,{})}function Ui(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=mo(new Kn([],{}),0,N))}),O}function Co(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function ii(D,O,w){return D==w.path&&Ht(O,w.parameters)}const Qi="imperative";class os{constructor(O,w){this.id=O,this.url=w}}class Qr extends os{constructor(O,w,N="imperative",H=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ji extends os{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends os{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wr extends os{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=16}}class Js extends os{constructor(O,w,N,H){super(O,w),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _o extends os{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends os{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends os{constructor(O,w,N,H,oe){super(O,w),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Da extends os{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends os{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zo{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ms{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fe{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kn{}class cr{constructor(O){this.url=O}}class as{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ei,this.attachRef=null}}let ei=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const H=this.getOrCreateContext(w);H.outlet=N,this.contexts.set(w,H)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new as,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class cs{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=yo(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=yo(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=es(O,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return es(O,this._root).map(w=>w.value)}}function yo(D,O){if(D===O.value)return O;for(const w of O.children){const N=yo(D,w);if(N)return N}return null}function es(D,O){if(D===O.value)return[O];for(const w of O.children){const N=es(D,w);if(N.length)return N.unshift(O),N}return[]}class xs{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function $s(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class hi extends cs{constructor(O,w){super(O),this.snapshot=w,Gr(this,O)}toString(){return this.snapshot.toString()}}function _n(D,O){const w=function lr(D,O){const Pe=new Hr([],{},{},"",{},Kt,O,null,{});return new Ms("",new xs(Pe,[]))}(0,O),N=new Me.t([new Oi("",{})]),H=new Me.t({}),oe=new Me.t({}),Pe=new Me.t({}),vt=new Me.t(""),ft=new zn(N,H,Pe,vt,oe,Kt,O,w.root);return ft.snapshot=w.root,new hi(new xs(ft,[]),w)}class zn{constructor(O,w,N,H,oe,Pe,vt,ft){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=oe,this.outlet=Pe,this.component=vt,this._futureSnapshot=ft,this.title=this.dataSubject?.pipe((0,Ot.T)(In=>In[jt]))??(0,Ae.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.T)(O=>un(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.T)(O=>un(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fi(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const H=w[N],oe=w[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(oe.component)break;N--}}return function vi(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class Hr{get title(){return this.data?.[jt]}constructor(O,w,N,H,oe,Pe,vt,ft,In){this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=oe,this.outlet=Pe,this.component=vt,this.routeConfig=ft,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ms extends cs{constructor(O,w){super(w),this.url=O,Gr(this,w)}toString(){return Bi(this._root)}}function Gr(D,O){O.value._routerState=D,O.children.forEach(w=>Gr(D,w))}function Bi(D){const O=D.children.length>0?` { ${D.children.map(Bi).join(", ")} } `:"";return`${D.value}${O}`}function ts(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Ht(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Ht(O.params,w.params)||D.paramsSubject.next(w.params),function er(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Ht(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Ht(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function tr(D,O){const w=Ht(D.params,O.params)&&function et(D,O){return mt(D,O)&&D.every((w,N)=>Ht(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||tr(D.parent,O.parent))}let ls=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(ei),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.environmentInjector=(0,o.WQX)(o.uvJ),this.inputBinder=(0,o.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:H}=w.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Pe=w.snapshot.component,vt=this.parentContexts.getOrCreateContext(this.name).children,ft=new us(w,vt,H.injector);this.activated=H.createComponent(Pe,{index:H.length,injector:ft,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=o.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return D})();class us{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===zn?this.route:O===ei?this.childContexts:this.parent.get(O,w)}}const Z=new o.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,H=St([N.queryParams,N.params,N.data]).pipe((0,$t.n)(([oe,Pe,vt],ft)=>(vt={...oe,...Pe,...vt},0===ft?(0,Ae.of)(vt):Promise.resolve(vt)))).subscribe(oe=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Pe=(0,o.HJs)(N.component);if(Pe)for(const{templateName:vt}of Pe.inputs)w.activatedComponentRef.setInput(vt,oe[vt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function Re(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const H=function Ye(D,O,w){return O.children.map(N=>{for(const H of w.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return Re(D,N,H);return Re(D,N)})}(D,O,w);return new xs(N,H)}{if(D.shouldAttach(O.value)){const oe=D.retrieve(O.value);if(null!==oe){const Pe=oe.route;return Pe.value._futureSnapshot=O.value,Pe.children=O.children.map(vt=>Re(D,vt)),Pe}}const N=function _t(D){return new zn(new Me.t(D.url),new Me.t(D.params),new Me.t(D.queryParams),new Me.t(D.fragment),new Me.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(oe=>Re(D,oe));return new xs(N,H)}}const Jt="ngNavigationCancelingError";function Pn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=Ai(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=En(!1,0,O);return H.url=w,H.navigationBehaviorOptions=N,H}function En(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Jt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function xr(D){return D&&D[Jt]}let Un=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=o.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(N,H){1&N&&o.nrm(0,"router-outlet")},dependencies:[ls],encapsulation:2})}}return D})();function ti(D){const O=D.children&&D.children.map(ti),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Kt&&(w.component=Un),w}function kr(D){return D.outlet||Kt}function Hi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class oo{constructor(O,w,N,H,oe){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=oe}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),ts(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const H=$s(w);O.children.forEach(oe=>{const Pe=oe.value.outlet;this.deactivateRoutes(oe,H[Pe],N),delete H[Pe]}),Object.values(H).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,N)})}deactivateRoutes(O,w,N){const H=O.value,oe=w?w.value:null;if(H===oe)if(H.component){const Pe=N.getContext(H.outlet);Pe&&this.deactivateChildRoutes(O,w,Pe.children)}else this.deactivateChildRoutes(O,w,N);else oe&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,oe=$s(O);for(const Pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[Pe],H);if(N&&N.outlet){const Pe=N.outlet.detach(),vt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Pe,route:O,contexts:vt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,oe=$s(O);for(const Pe of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[Pe],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const H=$s(w);O.children.forEach(oe=>{this.activateRoutes(oe,H[oe.value.outlet],N),this.forwardEvent(new ot(oe.value.snapshot))}),O.children.length&&this.forwardEvent(new Rt(O.value.snapshot))}activateRoutes(O,w,N){const H=O.value,oe=w?w.value:null;if(ts(H),H===oe)if(H.component){const Pe=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,w,Pe.children)}else this.activateChildRoutes(O,w,N);else if(H.component){const Pe=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const vt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Pe.children.onOutletReAttached(vt.contexts),Pe.attachRef=vt.componentRef,Pe.route=vt.route.value,Pe.outlet&&Pe.outlet.attach(vt.componentRef,vt.route.value),ts(vt.route.value),this.activateChildRoutes(O,null,Pe.children)}else{const vt=Hi(H.snapshot);Pe.attachRef=null,Pe.route=H,Pe.injector=vt,Pe.outlet&&Pe.outlet.activateWith(H,Pe.injector),this.activateChildRoutes(O,null,Pe.children)}}else this.activateChildRoutes(O,null,N)}}class Sa{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ca{constructor(O,w){this.component=O,this.route=w}}function No(D,O,w){const N=D._root;return ao(N,O?O._root:null,w,[N.value])}function Ki(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,o.LfX)(D)?O.get(D):D:N}function ao(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const oe=$s(O);return D.children.forEach(Pe=>{(function Ua(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const oe=D.value,Pe=O?O.value:null,vt=w?w.getContext(D.value.outlet):null;if(Pe&&oe.routeConfig===Pe.routeConfig){const ft=function ja(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!mt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!mt(D.url,O.url)||!Ht(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tr(D,O)||!Ht(D.queryParams,O.queryParams);default:return!tr(D,O)}}(Pe,oe,oe.routeConfig.runGuardsAndResolvers);ft?H.canActivateChecks.push(new Sa(N)):(oe.data=Pe.data,oe._resolvedData=Pe._resolvedData),ao(D,O,oe.component?vt?vt.children:null:w,N,H),ft&&vt&&vt.outlet&&vt.outlet.isActivated&&H.canDeactivateChecks.push(new ca(vt.outlet.component,Pe))}else Pe&&pi(O,vt,H),H.canActivateChecks.push(new Sa(N)),ao(D,null,oe.component?vt?vt.children:null:w,N,H)})(Pe,oe[Pe.value.outlet],w,N.concat([Pe.value]),H),delete oe[Pe.value.outlet]}),Object.entries(oe).forEach(([Pe,vt])=>pi(vt,w.getContext(Pe),H)),H}function pi(D,O,w){const N=$s(D),H=D.value;Object.entries(N).forEach(([oe,Pe])=>{pi(Pe,H.component?O?O.children.getContext(oe):null:O,w)}),w.canDeactivateChecks.push(new ca(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function Wo(D){return"function"==typeof D}function _s(D){return D instanceof Nt.G||"EmptyError"===D?.name}const ys=Symbol("INITIAL_VALUE");function vs(){return(0,$t.n)(D=>St(D.map(O=>O.pipe((0,Xt.s)(1),(0,dt.Z)(ys)))).pipe((0,Ot.T)(O=>{for(const w of O)if(!0!==w){if(w===ys)return ys;if(!1===w||w instanceof Dr)return w}return!0}),(0,Ne.p)(O=>O!==ys),(0,Xt.s)(1)))}function bs(D){return(0,Je.F)((0,we.M)(O=>{if(Ai(O))throw Pn(0,O)}),(0,Ot.T)(O=>!0===O))}class eo{constructor(O){this.segmentGroup=O||null}}class qo{constructor(O){this.urlTree=O}}function Os(D){return(0,We.$)(new eo(D))}function Ha(D){return(0,We.$)(new qo(D))}class cc{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new o.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],H=w.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,Ae.of)(N);if(H.numberOfChildren>1||!H.children[Kt])return(0,We.$)(new o.wOt(4e3,!1));H=H.children[Kt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,H){const oe=this.createSegmentGroup(O,w.root,N,H);return new Dr(oe,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([H,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const vt=oe.substring(1);N[H]=w[vt]}else N[H]=oe}),N}createSegmentGroup(O,w,N,H){const oe=this.createSegments(O,w.segments,N,H);let Pe={};return Object.entries(w.children).forEach(([vt,ft])=>{Pe[vt]=this.createSegmentGroup(O,ft,N,H)}),new Kn(oe,Pe)}createSegments(O,w,N,H){return w.map(oe=>oe.path.startsWith(":")?this.findPosParam(O,oe,H):this.findOrReturn(oe,N))}findPosParam(O,w,N){const H=N[w.path.substring(1)];if(!H)throw new o.wOt(4001,!1);return H}findOrReturn(O,w){let N=0;for(const H of w){if(H.path===O.path)return w.splice(N),H;N++}return O}}const _r={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dl(D,O,w,N,H){const oe=Eo(D,O,w);return oe.matched?(N=function jn(D,O){return D.providers&&!D._injector&&(D._injector=(0,o.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function $a(D,O,w,N){const H=O.canMatch;if(!H||0===H.length)return(0,Ae.of)(!0);const oe=H.map(Pe=>{const vt=Ki(Pe,D);return An(function Le(D){return D&&Wo(D.canMatch)}(vt)?vt.canMatch(O,w):D.runInContext(()=>vt(O,w)))});return(0,Ae.of)(oe).pipe(vs(),bs())}(N,O,w).pipe((0,Ot.T)(Pe=>!0===Pe?oe:{..._r}))):(0,Ae.of)(oe)}function Eo(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{..._r}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(O.matcher||Lr)(w,D,O);if(!H)return{..._r};const oe={};Object.entries(H.posParams??{}).forEach(([vt,ft])=>{oe[vt]=ft.path});const Pe=H.consumed.length>0?{...oe,...H.consumed[H.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Pe,positionalParamSegments:H.posParams??{}}}function Yo(D,O,w,N){return w.length>0&&function Xo(D,O,w){return w.some(N=>uc(D,O,N)&&kr(N)!==Kt)}(D,w,N)?{segmentGroup:new Kn(O,ql(N,new Kn(w,D.children))),slicedSegments:[]}:0===w.length&&function Lh(D,O,w){return w.some(N=>uc(D,O,N))}(D,w,N)?{segmentGroup:new Kn(D.segments,lc(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new Kn(D.segments,D.children),slicedSegments:w}}function lc(D,O,w,N,H){const oe={};for(const Pe of N)if(uc(D,w,Pe)&&!H[kr(Pe)]){const vt=new Kn([],{});oe[kr(Pe)]=vt}return{...H,...oe}}function ql(D,O){const w={};w[Kt]=O;for(const N of D)if(""===N.path&&kr(N)!==Kt){const H=new Kn([],{});w[kr(N)]=H}return w}function uc(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class Oc{constructor(O,w,N,H,oe,Pe,vt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=H,this.urlTree=oe,this.paramsInheritanceStrategy=Pe,this.urlSerializer=vt,this.allowRedirects=!0,this.applyRedirects=new cc(this.urlSerializer,this.urlTree)}noMatchError(O){return new o.wOt(4002,!1)}recognize(){const O=Yo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Kt).pipe((0,Ee.W)(w=>{if(w instanceof qo)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof eo?this.noMatchError(w):w}),(0,Ot.T)(w=>{const N=new Hr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,{}),H=new xs(N,w),oe=new Ms("",H),Pe=function ar(D,O,w=null,N=null){return Ct(Ps(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Pe.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(Pe),this.inheritParamsAndData(oe._root),{state:oe,tree:Pe}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Kt).pipe((0,Ee.W)(N=>{throw N instanceof eo?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=fi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,w,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,H,!0)}processChildren(O,w,N){const H=[];for(const oe of Object.keys(N.children))"primary"===oe?H.unshift(oe):H.push(oe);return(0,pe.H)(H).pipe((0,Ue.H)(oe=>{const Pe=N.children[oe],vt=function vo(D,O){const w=D.filter(N=>kr(N)===O);return w.push(...D.filter(N=>kr(N)!==O)),w}(w,oe);return this.processSegmentGroup(O,vt,Pe,oe)}),(0,ke.S)((oe,Pe)=>(oe.push(...Pe),oe)),(0,tt.U)(null),function wn(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Ne.p)((H,oe)=>D(H,oe,N)):Ve.D,qe(1),w?(0,tt.U)(O):(0,Vt.v)(()=>new Nt.G))}(),(0,Ze.Z)(oe=>{if(null===oe)return Os(N);const Pe=hc(oe);return function Ga(D){D.sort((O,w)=>O.value.outlet===Kt?-1:w.value.outlet===Kt?1:O.value.outlet.localeCompare(w.value.outlet))}(Pe),(0,Ae.of)(Pe)}))}processSegment(O,w,N,H,oe,Pe){return(0,pe.H)(w).pipe((0,Ue.H)(vt=>this.processSegmentAgainstRoute(vt._injector??O,w,vt,N,H,oe,Pe).pipe((0,Ee.W)(ft=>{if(ft instanceof eo)return(0,Ae.of)(null);throw ft}))),(0,en.$)(vt=>!!vt),(0,Ee.W)(vt=>{if(_s(vt))return function dc(D,O,w){return 0===O.length&&!D.children[w]}(N,H,oe)?(0,Ae.of)([]):Os(N);throw vt}))}processSegmentAgainstRoute(O,w,N,H,oe,Pe,vt){return function Ou(D,O,w,N){return!!(kr(D)===N||N!==Kt&&uc(O,w,D))&&("**"===D.path||Eo(O,D,w).matched)}(N,H,oe,Pe)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,oe,Pe,vt):vt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,w,N,oe,Pe):Os(H):Os(H)}expandSegmentAgainstRouteUsingRedirect(O,w,N,H,oe,Pe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,oe,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,H){const oe=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Ha(oe):this.applyRedirects.lineralizeSegments(N,oe).pipe((0,Ze.Z)(Pe=>{const vt=new Kn(Pe,{});return this.processSegment(O,w,vt,Pe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,oe,Pe){const{matched:vt,consumedSegments:ft,remainingSegments:In,positionalParamSegments:dr}=Eo(w,H,oe);if(!vt)return Os(w);const Ar=this.applyRedirects.applyRedirectCommands(ft,H.redirectTo,dr);return H.redirectTo.startsWith("/")?Ha(Ar):this.applyRedirects.lineralizeSegments(H,Ar).pipe((0,Ze.Z)(Pr=>this.processSegment(O,N,w,Pr.concat(In),Pe,!1)))}matchSegmentAgainstRoute(O,w,N,H,oe,Pe){let vt;if("**"===N.path){const ft=H.length>0?Wn(H).parameters:{},In=new Hr(H,ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hl(N),kr(N),N.component??N._loadedComponent??null,N,x(N));vt=(0,Ae.of)({snapshot:In,consumedSegments:[],remainingSegments:[]}),w.children={}}else vt=dl(w,N,H,O).pipe((0,Ot.T)(({matched:ft,consumedSegments:In,remainingSegments:dr,parameters:Ar})=>ft?{snapshot:new Hr(In,Ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hl(N),kr(N),N.component??N._loadedComponent??null,N,x(N)),consumedSegments:In,remainingSegments:dr}:null));return vt.pipe((0,$t.n)(ft=>null===ft?Os(w):this.getChildConfig(O=N._injector??O,N,H).pipe((0,$t.n)(({routes:In})=>{const dr=N._loadedInjector??O,{snapshot:Ar,consumedSegments:Pr,remainingSegments:bi}=ft,{segmentGroup:gc,slicedSegments:Uc}=Yo(w,Pr,bi,In);if(0===Uc.length&&gc.hasChildren())return this.processChildren(dr,In,gc).pipe((0,Ot.T)(jc=>null===jc?null:[new xs(Ar,jc)]));if(0===In.length&&0===Uc.length)return(0,Ae.of)([new xs(Ar,[])]);const ml=kr(N)===oe;return this.processSegment(dr,In,gc,Uc,ml?Kt:oe,!0).pipe((0,Ot.T)(jc=>[new xs(Ar,jc)]))}))))}getChildConfig(O,w,N){return w.children?(0,Ae.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Ae.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Ba(D,O,w,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,Ae.of)(!0);const oe=H.map(Pe=>{const vt=Ki(Pe,D);return An(function W(D){return D&&Wo(D.canLoad)}(vt)?vt.canLoad(O,w):D.runInContext(()=>vt(O,w)))});return(0,Ae.of)(oe).pipe(vs(),bs())}(O,w,N).pipe((0,Ze.Z)(H=>H?this.configLoader.loadChildren(O,w).pipe((0,we.M)(oe=>{w._loadedRoutes=oe.routes,w._loadedInjector=oe.injector})):function Rc(D){return(0,We.$)(En(!1,3))}())):(0,Ae.of)({routes:[],injector:O})}}function za(D){const O=D.value.routeConfig;return O&&""===O.path}function hc(D){const O=[],w=new Set;for(const N of D){if(!za(N)){O.push(N);continue}const H=O.find(oe=>N.value.routeConfig===oe.value.routeConfig);void 0!==H?(H.children.push(...N.children),w.add(H)):O.push(N)}for(const N of w){const H=hc(N.children);O.push(new xs(N.value,H))}return O.filter(N=>!w.has(N))}function hl(D){return D.data||{}}function x(D){return D.resolve||{}}function $n(D){return"string"==typeof D.title||null===D.title}function ni(D){return(0,$t.n)(O=>{const w=D(O);return w?(0,pe.H)(w).pipe((0,Ot.T)(()=>O)):(0,Ae.of)(O)})}const Ei=new o.nKC("ROUTES");let li=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Ae.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=An(w.loadComponent()).pipe((0,Ot.T)(xi),(0,we.M)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=oe}),(0,sn.j)(()=>{this.componentLoaders.delete(w)})),H=new rn(N,()=>new vn.B).pipe(De());return this.componentLoaders.set(w,H),H}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const oe=function Er(D,O,w,N){return An(D.loadChildren()).pipe((0,Ot.T)(xi),(0,Ze.Z)(H=>H instanceof o.Co$||Array.isArray(H)?(0,Ae.of)(H):(0,pe.H)(O.compileModuleAsync(H))),(0,Ot.T)(H=>{N&&N(D);let oe,Pe,vt=!1;return Array.isArray(H)?(Pe=H,!0):(oe=H.create(w).injector,Pe=oe.get(Ei,[],{optional:!0,self:!0}).flat()),{routes:Pe.map(ti),injector:oe}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,sn.j)(()=>{this.childrenLoaders.delete(N)})),Pe=new rn(oe,()=>new vn.B).pipe(De());return this.childrenLoaders.set(N,Pe),Pe}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function xi(D){return function gi(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ri=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vn.B,this.transitionAbortSubject=new vn.B,this.configLoader=(0,o.WQX)(li),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(xe),this.rootContexts=(0,o.WQX)(ei),this.inputBindingEnabled=null!==(0,o.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new ms(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new zo(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,H){return this.transitions=new Me.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ne.p)(oe=>0!==oe.id),(0,Ot.T)(oe=>({...oe,extractedUrl:w.urlHandlingStrategy.extract(oe.rawUrl)})),(0,$t.n)(oe=>{this.currentTransition=oe;let Pe=!1,vt=!1;return(0,Ae.of)(oe).pipe((0,we.M)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$t.n)(ft=>{const In=ft.currentBrowserUrl.toString(),dr=!w.navigated||ft.extractedUrl.toString()!==In||In!==ft.currentUrlTree.toString();if(!dr&&"reload"!==(ft.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Pr="";return this.events.next(new wr(ft.id,this.urlSerializer.serialize(ft.rawUrl),Pr,0)),ft.resolve(null),it.w}if(w.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return(0,Ae.of)(ft).pipe((0,$t.n)(Pr=>{const bi=this.transitions?.getValue();return this.events.next(new Qr(Pr.id,this.urlSerializer.serialize(Pr.extractedUrl),Pr.source,Pr.restoredState)),bi!==this.transitions?.getValue()?it.w:Promise.resolve(Pr)}),function te(D,O,w,N,H,oe){return(0,Ze.Z)(Pe=>function ko(D,O,w,N,H,oe,Pe="emptyOnly"){return new Oc(D,O,w,N,H,Pe,oe).recognize()}(D,O,w,N,Pe.extractedUrl,H,oe).pipe((0,Ot.T)(({state:vt,tree:ft})=>({...Pe,targetSnapshot:vt,urlAfterRedirects:ft}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,we.M)(Pr=>{oe.targetSnapshot=Pr.targetSnapshot,oe.urlAfterRedirects=Pr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Pr.urlAfterRedirects};const bi=new _o(Pr.id,this.urlSerializer.serialize(Pr.extractedUrl),this.urlSerializer.serialize(Pr.urlAfterRedirects),Pr.targetSnapshot);this.events.next(bi)}));if(dr&&w.urlHandlingStrategy.shouldProcessUrl(ft.currentRawUrl)){const{id:Pr,extractedUrl:bi,source:gc,restoredState:Uc,extras:ml}=ft,jc=new Qr(Pr,this.urlSerializer.serialize(bi),gc,Uc);this.events.next(jc);const Uu=_n(0,this.rootComponentType).snapshot;return this.currentTransition=oe={...ft,targetSnapshot:Uu,urlAfterRedirects:bi,extras:{...ml,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(oe)}{const Pr="";return this.events.next(new wr(ft.id,this.urlSerializer.serialize(ft.extractedUrl),Pr,1)),ft.resolve(null),it.w}}),(0,we.M)(ft=>{const In=new ai(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(In)}),(0,Ot.T)(ft=>(this.currentTransition=oe={...ft,guards:No(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)},oe)),function Io(D,O){return(0,Ze.Z)(w=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:oe,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===oe.length?(0,Ae.of)({...w,guardsResult:!0}):function Zs(D,O,w,N){return(0,pe.H)(D).pipe((0,Ze.Z)(H=>function ns(D,O,w,N,H){const oe=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,Ae.of)(!0);const Pe=oe.map(vt=>{const ft=Hi(O)??H,In=Ki(vt,ft);return An(function ae(D){return D&&Wo(D.canDeactivate)}(In)?In.canDeactivate(D,O,w,N):ft.runInContext(()=>In(D,O,w,N))).pipe((0,en.$)())});return(0,Ae.of)(Pe).pipe(vs())}(H.component,H.route,w,O,N)),(0,en.$)(H=>!0!==H,!0))}(Pe,N,H,D).pipe((0,Ze.Z)(vt=>vt&&function co(D){return"boolean"==typeof D}(vt)?function Es(D,O,w,N){return(0,pe.H)(O).pipe((0,Ue.H)(H=>(0,pn.x)(function ac(D,O){return null!==D&&O&&O(new fe(D)),(0,Ae.of)(!0)}(H.route.parent,N),function To(D,O){return null!==D&&O&&O(new de(D)),(0,Ae.of)(!0)}(H.route,N),function Ko(D,O,w){const N=O[O.length-1],oe=O.slice(0,O.length-1).reverse().map(Pe=>function Gs(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>be(()=>{const vt=Pe.guards.map(ft=>{const In=Hi(Pe.node)??w,dr=Ki(ft,In);return An(function L(D){return D&&Wo(D.canActivateChild)}(dr)?dr.canActivateChild(N,D):In.runInContext(()=>dr(N,D))).pipe((0,en.$)())});return(0,Ae.of)(vt).pipe(vs())}));return(0,Ae.of)(oe).pipe(vs())}(D,H.path,w),function Rs(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Ae.of)(!0);const H=N.map(oe=>be(()=>{const Pe=Hi(O)??w,vt=Ki(oe,Pe);return An(function J(D){return D&&Wo(D.canActivate)}(vt)?vt.canActivate(O,D):Pe.runInContext(()=>vt(O,D))).pipe((0,en.$)())}));return(0,Ae.of)(H).pipe(vs())}(D,H.route,w))),(0,en.$)(H=>!0!==H,!0))}(N,oe,D,O):(0,Ae.of)(vt)),(0,Ot.T)(vt=>({...w,guardsResult:vt})))})}(this.environmentInjector,ft=>this.events.next(ft)),(0,we.M)(ft=>{if(oe.guardsResult=ft.guardsResult,Ai(ft.guardsResult))throw Pn(0,ft.guardsResult);const In=new aa(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.events.next(In)}),(0,Ne.p)(ft=>!!ft.guardsResult||(this.cancelNavigationTransition(ft,"",3),!1)),ni(ft=>{if(ft.guards.canActivateChecks.length)return(0,Ae.of)(ft).pipe((0,we.M)(In=>{const dr=new Da(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(dr)}),(0,$t.n)(In=>{let dr=!1;return(0,Ae.of)(In).pipe(function B(D,O){return(0,Ze.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,Ae.of)(w);let oe=0;return(0,pe.H)(H).pipe((0,Ue.H)(Pe=>function Y(D,O,w,N){const H=D.routeConfig,oe=D._resolve;return void 0!==H?.title&&!$n(H)&&(oe[jt]=H.title),function Se(D,O,w,N){const H=function Tt(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,Ae.of)({});const oe={};return(0,pe.H)(H).pipe((0,Ze.Z)(Pe=>function Lt(D,O,w,N){const H=Hi(O)??N,oe=Ki(D,H);return An(oe.resolve?oe.resolve(O,w):H.runInContext(()=>oe(O,w)))}(D[Pe],O,w,N).pipe((0,en.$)(),(0,we.M)(vt=>{oe[Pe]=vt}))),qe(1),function or(D){return(0,Ot.T)(()=>D)}(oe),(0,Ee.W)(Pe=>_s(Pe)?it.w:(0,We.$)(Pe)))}(oe,D,O,N).pipe((0,Ot.T)(Pe=>(D._resolvedData=Pe,D.data=fi(D,w).resolve,H&&$n(H)&&(D.data[jt]=H.title),null)))}(Pe.route,N,D,O)),(0,we.M)(()=>oe++),qe(1),(0,Ze.Z)(Pe=>oe===H.length?(0,Ae.of)(w):it.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,we.M)({next:()=>dr=!0,complete:()=>{dr||this.cancelNavigationTransition(In,"",2)}}))}),(0,we.M)(In=>{const dr=new Di(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(dr)}))}),ni(ft=>{const In=dr=>{const Ar=[];dr.routeConfig?.loadComponent&&!dr.routeConfig._loadedComponent&&Ar.push(this.configLoader.loadComponent(dr.routeConfig).pipe((0,we.M)(Pr=>{dr.component=Pr}),(0,Ot.T)(()=>{})));for(const Pr of dr.children)Ar.push(...In(Pr));return Ar};return St(In(ft.targetSnapshot.root)).pipe((0,tt.U)(),(0,Xt.s)(1))}),ni(()=>this.afterPreactivation()),(0,Ot.T)(ft=>{const In=function Ie(D,O,w){const N=Re(D,O._root,w?w._root:void 0);return new hi(N,O)}(w.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return this.currentTransition=oe={...ft,targetRouterState:In},oe}),(0,we.M)(()=>{this.events.next(new kn)}),((D,O,w,N)=>(0,Ot.T)(H=>(new oo(O,H.targetRouterState,H.currentRouterState,w,N).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,ft=>this.events.next(ft),this.inputBindingEnabled),(0,Xt.s)(1),(0,we.M)({next:ft=>{Pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ji(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects))),w.titleStrategy?.updateTitle(ft.targetRouterState.snapshot),ft.resolve(!0)},complete:()=>{Pe=!0}}),function Qt(D){return(0,kt.N)((O,w)=>{(0,Be.Tg)(D).subscribe((0,ut._)(w,()=>w.complete(),Bn.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,we.M)(ft=>{throw ft}))),(0,sn.j)(()=>{Pe||vt||this.cancelNavigationTransition(oe,"",1),this.currentNavigation?.id===oe.id&&(this.currentNavigation=null)}),(0,Ee.W)(ft=>{if(vt=!0,xr(ft))this.events.next(new Mi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ft.message,ft.cancellationCode)),function Zn(D){return xr(D)&&Ai(D.url)}(ft)?this.events.next(new cr(ft.url)):oe.resolve(!1);else{this.events.next(new Js(oe.id,this.urlSerializer.serialize(oe.extractedUrl),ft,oe.targetSnapshot??void 0));try{oe.resolve(w.errorHandler(ft))}catch(In){oe.reject(In)}}return it.w}))}))}cancelNavigationTransition(w,N,H){const oe=new Mi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,H);this.events.next(oe),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function zs(D){return D!==Qi}let Fs=(()=>{class D{buildTitle(w){let N,H=w.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(oe=>oe.outlet===Kt);return N}getResolvedTitleForRoute(w){return w.data[jt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(ua)},providedIn:"root"})}}return D})(),ua=(()=>{class D extends Fs{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Fn.hE))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Ns=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(As)},providedIn:"root"})}}return D})();class Qo{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let As=(()=>{class D extends Qo{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=o.xGo(D)))(H||D)}}()}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const ks=new o.nKC("",{providedIn:"root",factory:()=>({})});let Nu=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:function(){return(0,o.WQX)(Rr)},providedIn:"root"})}}return D})(),Rr=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Vr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Vr||{});function Wa(D,O){D.events.pipe((0,Ne.p)(w=>w instanceof ji||w instanceof Mi||w instanceof Js||w instanceof wr),(0,Ot.T)(w=>w instanceof ji||w instanceof wr?Vr.COMPLETE:w instanceof Mi&&(0===w.code||1===w.code)?Vr.REDIRECTING:Vr.FAILED),(0,Ne.p)(w=>w!==Vr.REDIRECTING),(0,Xt.s)(1)).subscribe(()=>{O()})}function to(D){throw D}function ku(D,O,w){return O.parse("/")}const Dd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gi=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.WQX)(o.H3F),this.isNgZoneEnabled=!1,this._events=new vn.B,this.options=(0,o.WQX)(ks,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.$K3),this.errorHandler=this.options.errorHandler||to,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ku,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.WQX)(Nu),this.routeReuseStrategy=(0,o.WQX)(Ns),this.titleStrategy=(0,o.WQX)(Fs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.WQX)(Ei,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.WQX)(Ri),this.urlSerializer=(0,o.WQX)(xe),this.location=(0,o.WQX)(gr.aZ),this.componentInputBindingEnabled=!!(0,o.WQX)(Z,{optional:!0}),this.eventsSubscription=new Pt.yU,this.isNgZoneEnabled=(0,o.WQX)(o.SKi)instanceof o.SKi&&o.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(da(N)&&this._events.next(N));if(N instanceof Qr)zs(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof wr)this.rawUrlTree=H.rawUrl;else if(N instanceof _o){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(oe,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof kn)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Mi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof cr){const oe=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),Pe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zs(H.source)};this.scheduleNavigation(oe,Qi,null,Pe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof Js&&this.restoreHistory(H,!0),N instanceof ji&&(this.navigated=!0),da(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qi,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,H){const oe={replaceUrl:!0},Pe=H?.navigationId?H:null;if(H){const ft={...H};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(oe.state=ft)}const vt=this.parseUrl(w);this.scheduleNavigation(vt,N,Pe,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(ti),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:H,queryParams:oe,fragment:Pe,queryParamsHandling:vt,preserveFragment:ft}=N,In=ft?this.currentUrlTree.fragment:Pe;let Ar,dr=null;switch(vt){case"merge":dr={...this.currentUrlTree.queryParams,...oe};break;case"preserve":dr=this.currentUrlTree.queryParams;break;default:dr=oe||null}null!==dr&&(dr=this.removeEmptyProps(dr));try{Ar=Ps(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Ar=this.currentUrlTree.root}return Ct(Ar,w,dr,In??null)}navigateByUrl(w,N={skipLocationChange:!1}){const H=Ai(w)?w:this.parseUrl(w),oe=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(oe,Qi,null,N)}navigate(w,N={skipLocationChange:!1}){return function Pa(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new o.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return N}isActive(w,N){let H;if(H=!0===N?{...Dd}:!1===N?{...fl}:N,Ai(w))return si(this.currentUrlTree,w,H);const oe=this.parseUrl(w);return si(this.currentUrlTree,oe,H)}removeEmptyProps(w){return Object.keys(w).reduce((N,H)=>{const oe=w[H];return null!=oe&&(N[H]=oe),N},{})}scheduleNavigation(w,N,H,oe,Pe){if(this.disposed)return Promise.resolve(!1);let vt,ft,In;Pe?(vt=Pe.resolve,ft=Pe.reject,In=Pe.promise):In=new Promise((Ar,Pr)=>{vt=Ar,ft=Pr});const dr=this.pendingTasks.add();return Wa(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dr))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:oe,resolve:vt,reject:ft,promise:In,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),In.catch(Ar=>Promise.reject(Ar))}setBrowserUrl(w,N){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const Pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",Pe)}else{const oe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",oe)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function da(D){return!(D instanceof kn||D instanceof cr)}let lo=(()=>{class D{constructor(w,N,H,oe,Pe,vt){this.router=w,this.route=N,this.tabIndexAttribute=H,this.renderer=oe,this.el=Pe,this.locationStrategy=vt,this.href=null,this.commands=null,this.onChanges=new vn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ft=Pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=w.events.subscribe(In=>{In instanceof ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,H,oe,Pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||H||oe||Pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const H=this.renderer,oe=this.el.nativeElement;null!==N?H.setAttribute(oe,w,N):H.removeAttribute(oe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(o.rXU(Gi),o.rXU(zn),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(gr.hb))}}static{this.\u0275dir=o.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&o.bIt("click",function(Pe){return H.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&N&&o.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.L39],skipLocationChange:["skipLocationChange","skipLocationChange",o.L39],replaceUrl:["replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return D})();class Ka{}let Yl=(()=>{class D{constructor(w,N,H,oe,Pe){this.router=w,this.injector=H,this.preloadingStrategy=oe,this.loader=Pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.p)(w=>w instanceof ji),(0,Ue.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const H=[];for(const oe of N){oe.providers&&!oe._injector&&(oe._injector=(0,o.Ol2)(oe.providers,w,`Route: ${oe.path}`));const Pe=oe._injector??w,vt=oe._loadedInjector??Pe;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&H.push(this.preloadConfig(Pe,oe)),(oe.children||oe._loadedRoutes)&&H.push(this.processRoutes(vt,oe.children??oe._loadedRoutes))}return(0,pe.H)(H).pipe((0,Gn.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Ae.of)(null);const oe=H.pipe((0,Ze.Z)(Pe=>null===Pe?(0,Ae.of)(void 0):(N._loadedRoutes=Pe.routes,N._loadedInjector=Pe.injector,this.processRoutes(Pe.injector??w,Pe.routes))));if(N.loadComponent&&!N._loadedComponent){const Pe=this.loader.loadComponent(N);return(0,pe.H)([oe,Pe]).pipe((0,Gn.U)())}return oe})}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Gi),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(Ka),o.KVO(li))}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Vu=new o.nKC("");let Yn=(()=>{class D{constructor(w,N,H,oe,Pe={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=H,this.zone=oe,this.options=Pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pe.scrollPositionRestoration=Pe.scrollPositionRestoration||"disabled",Pe.anchorScrolling=Pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof ji?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof wr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof rt&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rt(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){o.QTQ()}}static{this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}}return D})();function ha(D,O){return{\u0275kind:D,\u0275providers:O}}function Xl(){const D=(0,o.WQX)(o.zZn);return O=>{const w=D.get(o.o8S);if(O!==w.components[0])return;const N=D.get(Gi),H=D.get(Ql);1===D.get(rs)&&N.initialNavigation(),D.get(Fr,null,o.$GK.Optional)?.setUpPreloading(),D.get(Vu,null,o.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Ql=new o.nKC("",{factory:()=>new vn.B}),rs=new o.nKC("",{providedIn:"root",factory:()=>1}),Fr=new o.nKC("");function Jo(D){return ha(0,[{provide:Fr,useExisting:Yl},{provide:Ka,useExisting:D}])}const Vc=new o.nKC("ROUTER_FORROOT_GUARD"),tn=[gr.aZ,{provide:xe,useClass:Et},Gi,ei,{provide:zn,useFactory:function no(D){return D.routerState.root},deps:[Gi]},li,[]];function Zl(){return new o.NEm("Router",Gi)}let gl=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[tn,[],{provide:Ei,multi:!0,useValue:w},{provide:Vc,useFactory:Ya,deps:[[Gi,new o.Xx1,new o.kdw]]},{provide:ks,useValue:N||{}},N?.useHash?{provide:gr.hb,useClass:gr.fw}:{provide:gr.hb,useClass:gr.Sm},{provide:Vu,useFactory:()=>{const D=(0,o.WQX)(gr.Xr),O=(0,o.WQX)(o.SKi),w=(0,o.WQX)(ks),N=(0,o.WQX)(Ri),H=(0,o.WQX)(xe);return w.scrollOffset&&D.setOffset(w.scrollOffset),new Yn(H,N,D,O,w)}},N?.preloadingStrategy?Jo(N.preloadingStrategy).\u0275providers:[],{provide:o.NEm,multi:!0,useFactory:Zl},N?.initialNavigation?Ws(N):[],N?.bindToComponentInputs?ha(8,[Q,{provide:Z,useExisting:Q}]).\u0275providers:[],[{provide:ho,useFactory:Xl},{provide:o.iLQ,multi:!0,useExisting:ho}]]}}static forChild(w){return{ngModule:D,providers:[{provide:Ei,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(o.KVO(Vc,8))}}static{this.\u0275mod=o.$C({type:D})}static{this.\u0275inj=o.G2t({})}}return D})();function Ya(D){return"guarded"}function Ws(D){return["disabled"===D.initialNavigation?ha(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const O=(0,o.WQX)(Gi);return()=>{O.setUpLocationChangeListener()}}},{provide:rs,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?ha(2,[{provide:rs,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:O=>{const w=O.get(gr.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const H=O.get(Gi),oe=O.get(Ql);Wa(H,()=>{N(!0)}),O.get(Ri).afterPreactivation=()=>(N(!0),oe.closed?(0,Ae.of)(void 0):oe),H.initialNavigation()}))}}]).\u0275providers:[]]}const ho=new o.nKC("")},3345:(on,Xe,j)=>{j.d(Xe,{A:()=>St});var o=j(1076),le=j(1362),i=j(7852),Te=j(8041);class pe{constructor(Bt,Nt){this._delegate=Bt,this.firebase=Nt,(0,i._addComponent)(Bt,new le.uA("app-compat",()=>this,"PUBLIC")),this.container=Bt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Bt){this._delegate.automaticDataCollectionEnabled=Bt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Bt=>{this._delegate.checkDestroyed(),Bt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(Bt,Nt=i._DEFAULT_ENTRY_NAME){var pn;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(Bt);return!Be.isInitialized()&&"EXPLICIT"===(null===(pn=Be.getComponent())||void 0===pn?void 0:pn.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Nt})}_removeServiceInstance(Bt,Nt=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Bt).clearInstance(Nt)}_addComponent(Bt){(0,i._addComponent)(this._delegate,Bt)}_addOrOverwriteComponent(Bt){(0,i._addOrOverwriteComponent)(this._delegate,Bt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new o.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Ve(){const Dt=function Fe(Dt){const Bt={},Nt={__esModule:!0,initializeApp:function be(Pt,kt={}){const De=i.initializeApp(Pt,kt);if((0,o.gR)(Bt,De.name))return Bt[De.name];const rn=new Dt(De,Nt);return Bt[De.name]=rn,rn},app:Be,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function We(Pt){const kt=Pt.name,De=kt.replace("-compat","");if(i._registerComponent(Pt)&&"PUBLIC"===Pt.type){const rn=(vn=Be())=>{if("function"!=typeof vn[De])throw Me.create("invalid-app-argument",{appName:kt});return vn[De]()};void 0!==Pt.serviceProps&&(0,o.zw)(rn,Pt.serviceProps),Nt[De]=rn,Dt.prototype[De]=function(...vn){return this._getService.bind(this,kt).apply(this,Pt.multipleInstances?vn:[])}}return"PUBLIC"===Pt.type?Nt[De]:null},removeApp:function pn(Pt){delete Bt[Pt]},useAsService:function it(Pt,kt){return"serverAuth"===kt?null:kt},modularAPIs:i}};function Be(Pt){if(!(0,o.gR)(Bt,Pt=Pt||i._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:Pt});return Bt[Pt]}return Nt.default=Nt,Object.defineProperty(Nt,"apps",{get:function Je(){return Object.keys(Bt).map(Pt=>Bt[Pt])}}),Be.App=Dt,Nt}(pe);return Dt.INTERNAL=Object.assign(Object.assign({},Dt.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function Bt(Nt){(0,o.zw)(Dt,Nt)},createSubscribe:o.tD,ErrorFactory:o.FA,deepExtend:o.zw}),Dt}(),ue=new Te.Vy("@firebase/app-compat");try{const Dt=(0,o.mS)();if(void 0!==Dt.firebase){ue.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Bt=Dt.firebase.SDK_VERSION;Bt&&Bt.indexOf("LITE")>=0&&ue.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const St=ee;!function Qe(Dt){(0,i.registerVersion)("@firebase/app-compat","0.2.43",Dt)}()},7852:(on,Xe,j)=>{j.r(Xe),j.d(Xe,{FirebaseError:()=>Te.g,SDK_VERSION:()=>Et,_DEFAULT_ENTRY_NAME:()=>An,_addComponent:()=>yi,_addOrOverwriteComponent:()=>Ts,_apps:()=>Or,_clearComponents:()=>Oi,_components:()=>Xn,_getProvider:()=>oi,_isFirebaseApp:()=>Dr,_isFirebaseServerApp:()=>Kn,_registerComponent:()=>gn,_removeServiceInstance:()=>rr,_serverApps:()=>si,deleteApp:()=>Pi,getApp:()=>Wr,getApps:()=>Sr,initializeApp:()=>Yt,initializeServerApp:()=>Hn,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>k});var o=j(467),le=j(1362),i=j(8041),Te=j(1076);const pe=(Ct,nt)=>nt.some(Mt=>Ct instanceof Mt);let Ae,Me;const ee=new WeakMap,ue=new WeakMap,_e=new WeakMap,ut=new WeakMap,Qe=new WeakMap;let Bt={get(Ct,nt,Mt){if(Ct instanceof IDBTransaction){if("done"===nt)return ue.get(Ct);if("objectStoreNames"===nt)return Ct.objectStoreNames||_e.get(Ct);if("store"===nt)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return be(Ct[nt])},set:(Ct,nt,Mt)=>(Ct[nt]=Mt,!0),has:(Ct,nt)=>Ct instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Ct};function Be(Ct){return"function"==typeof Ct?function pn(Ct){return Ct!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ct)?function(...nt){return Ct.apply(Je(this),nt),be(ee.get(this))}:function(...nt){return be(Ct.apply(Je(this),nt))}:function(nt,...Mt){const ln=Ct.call(Je(this),nt,...Mt);return _e.set(ln,nt.sort?nt.sort():[nt]),be(ln)}}(Ct):(Ct instanceof IDBTransaction&&function Dt(Ct){if(ue.has(Ct))return;const nt=new Promise((Mt,ln)=>{const Ln=()=>{Ct.removeEventListener("complete",Mn),Ct.removeEventListener("error",hr),Ct.removeEventListener("abort",hr)},Mn=()=>{Mt(),Ln()},hr=()=>{ln(Ct.error||new DOMException("AbortError","AbortError")),Ln()};Ct.addEventListener("complete",Mn),Ct.addEventListener("error",hr),Ct.addEventListener("abort",hr)});ue.set(Ct,nt)}(Ct),pe(Ct,function Fe(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ct,Bt):Ct)}function be(Ct){if(Ct instanceof IDBRequest)return function St(Ct){const nt=new Promise((Mt,ln)=>{const Ln=()=>{Ct.removeEventListener("success",Mn),Ct.removeEventListener("error",hr)},Mn=()=>{Mt(be(Ct.result)),Ln()},hr=()=>{ln(Ct.error),Ln()};Ct.addEventListener("success",Mn),Ct.addEventListener("error",hr)});return nt.then(Mt=>{Mt instanceof IDBCursor&&ee.set(Mt,Ct)}).catch(()=>{}),Qe.set(nt,Ct),nt}(Ct);if(ut.has(Ct))return ut.get(Ct);const nt=Be(Ct);return nt!==Ct&&(ut.set(Ct,nt),Qe.set(nt,Ct)),nt}const Je=Ct=>Qe.get(Ct),Pt=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],De=new Map;function rn(Ct,nt){if(!(Ct instanceof IDBDatabase)||nt in Ct||"string"!=typeof nt)return;if(De.get(nt))return De.get(nt);const Mt=nt.replace(/FromIndex$/,""),ln=nt!==Mt,Ln=kt.includes(Mt);if(!(Mt in(ln?IDBIndex:IDBObjectStore).prototype)||!Ln&&!Pt.includes(Mt))return;const Mn=function(){var hr=(0,o.A)(function*($r,...Xr){const Tr=this.transaction($r,Ln?"readwrite":"readonly");let Yi=Tr.store;return ln&&(Yi=Yi.index(Xr.shift())),(yield Promise.all([Yi[Mt](...Xr),Ln&&Tr.done]))[0]});return function(Xr){return hr.apply(this,arguments)}}();return De.set(nt,Mn),Mn}!function Nt(Ct){Bt=Ct(Bt)}(Ct=>({...Ct,get:(nt,Mt,ln)=>rn(nt,Mt)||Ct.get(nt,Mt,ln),has:(nt,Mt)=>!!rn(nt,Mt)||Ct.has(nt,Mt)}));class vn{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function gr(Ct){const nt=Ct.getComponent();return"VERSION"===nt?.type}(Mt)){const ln=Mt.getImmediate();return`${ln.library}/${ln.version}`}return null}).filter(Mt=>Mt).join(" ")}}const Ot="@firebase/app",$t="0.10.13",Xt=new i.Vy("@firebase/app"),An="[DEFAULT]",Yr={[Ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Or=new Map,si=new Map,Xn=new Map;function yi(Ct,nt){try{Ct.container.addComponent(nt)}catch(Mt){Xt.debug(`Component ${nt.name} failed to register with FirebaseApp ${Ct.name}`,Mt)}}function Ts(Ct,nt){Ct.container.addOrOverwriteComponent(nt)}function gn(Ct){const nt=Ct.name;if(Xn.has(nt))return Xt.debug(`There were multiple attempts to register component ${nt}.`),!1;Xn.set(nt,Ct);for(const Mt of Or.values())yi(Mt,Ct);for(const Mt of si.values())yi(Mt,Ct);return!0}function oi(Ct,nt){const Mt=Ct.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),Ct.container.getProvider(nt)}function rr(Ct,nt,Mt=An){oi(Ct,nt).clearInstance(Mt)}function Dr(Ct){return void 0!==Ct.options}function Kn(Ct){return void 0!==Ct.settings}function Oi(){Xn.clear()}const mt=new Te.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ce{constructor(nt,Mt,ln){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=ln,this.container.addComponent(new le.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}class xe extends ce{constructor(nt,Mt,ln,Ln){const Mn=void 0!==Mt.automaticDataCollectionEnabled&&Mt.automaticDataCollectionEnabled,hr={name:ln,automaticDataCollectionEnabled:Mn};super(void 0!==nt.apiKey?nt:nt.options,hr,Ln),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Mn},Mt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Mt.releaseOnDeref=void 0,$(Ot,$t,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(nt){this.isDeleted||(this._refCount++,void 0!==nt&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(nt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Pi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw mt.create("server-app-deleted")}}const Et="10.14.1";function Yt(Ct,nt={}){let Mt=Ct;"object"!=typeof nt&&(nt={name:nt});const ln=Object.assign({name:An,automaticDataCollectionEnabled:!1},nt),Ln=ln.name;if("string"!=typeof Ln||!Ln)throw mt.create("bad-app-name",{appName:String(Ln)});if(Mt||(Mt=(0,Te.T9)()),!Mt)throw mt.create("no-options");const Mn=Or.get(Ln);if(Mn){if((0,Te.bD)(Mt,Mn.options)&&(0,Te.bD)(ln,Mn.config))return Mn;throw mt.create("duplicate-app",{appName:Ln})}const hr=new le.h1(Ln);for(const Xr of Xn.values())hr.addComponent(Xr);const $r=new ce(Mt,ln,hr);return Or.set(Ln,$r),$r}function Hn(Ct,nt){if((0,Te.Bd)()&&!(0,Te.p7)())throw mt.create("invalid-server-app-environment");let Mt;void 0===nt.automaticDataCollectionEnabled&&(nt.automaticDataCollectionEnabled=!1),Mt=Dr(Ct)?Ct.options:Ct;const ln=Object.assign(Object.assign({},nt),Mt);if(void 0!==ln.releaseOnDeref&&delete ln.releaseOnDeref,void 0!==nt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw mt.create("finalization-registry-not-supported",{});const Mn=""+(Tr=JSON.stringify(ln),[...Tr].reduce((Yi,ws)=>Math.imul(31,Yi)+ws.charCodeAt(0)|0,0)),hr=si.get(Mn);var Tr;if(hr)return hr.incRefCount(nt.releaseOnDeref),hr;const $r=new le.h1(Mn);for(const Tr of Xn.values())$r.addComponent(Tr);const Xr=new xe(Mt,nt,Mn,$r);return si.set(Mn,Xr),Xr}function Wr(Ct=An){const nt=Or.get(Ct);if(!nt&&Ct===An&&(0,Te.T9)())return Yt();if(!nt)throw mt.create("no-app",{appName:Ct});return nt}function Sr(){return Array.from(Or.values())}function Pi(Ct){return bt.apply(this,arguments)}function bt(){return(bt=(0,o.A)(function*(Ct){let nt=!1;const Mt=Ct.name;Or.has(Mt)?(nt=!0,Or.delete(Mt)):si.has(Mt)&&Ct.decRefCount()<=0&&(si.delete(Mt),nt=!0),nt&&(yield Promise.all(Ct.container.getProviders().map(ln=>ln.delete())),Ct.isDeleted=!0)})).apply(this,arguments)}function $(Ct,nt,Mt){var ln;let Ln=null!==(ln=Yr[Ct])&&void 0!==ln?ln:Ct;Mt&&(Ln+=`-${Mt}`);const Mn=Ln.match(/\s|\//),hr=nt.match(/\s|\//);if(Mn||hr){const $r=[`Unable to register library "${Ln}" with version "${nt}":`];return Mn&&$r.push(`library name "${Ln}" contains illegal characters (whitespace or "/")`),Mn&&hr&&$r.push("and"),hr&&$r.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void Xt.warn($r.join(" "))}gn(new le.uA(`${Ln}-version`,()=>({library:Ln,version:nt}),"VERSION"))}function M(Ct,nt){if(null!==Ct&&"function"!=typeof Ct)throw mt.create("invalid-log-argument");(0,i.Ey)(Ct,nt)}function k(Ct){(0,i.He)(Ct)}const ne="firebase-heartbeat-database",me=1,st="firebase-heartbeat-store";let At=null;function an(){return At||(At=function We(Ct,nt,{blocked:Mt,upgrade:ln,blocking:Ln,terminated:Mn}={}){const hr=indexedDB.open(Ct,nt),$r=be(hr);return ln&&hr.addEventListener("upgradeneeded",Xr=>{ln(be(hr.result),Xr.oldVersion,Xr.newVersion,be(hr.transaction),Xr)}),Mt&&hr.addEventListener("blocked",Xr=>Mt(Xr.oldVersion,Xr.newVersion,Xr)),$r.then(Xr=>{Mn&&Xr.addEventListener("close",()=>Mn()),Ln&&Xr.addEventListener("versionchange",Tr=>Ln(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),$r}(ne,me,{upgrade:(Ct,nt)=>{if(0===nt)try{Ct.createObjectStore(st)}catch(Mt){console.warn(Mt)}}}).catch(Ct=>{throw mt.create("idb-open",{originalErrorMessage:Ct.message})})),At}function Sn(){return(Sn=(0,o.A)(function*(Ct){try{const Mt=(yield an()).transaction(st),ln=yield Mt.objectStore(st).get(Br(Ct));return yield Mt.done,ln}catch(nt){if(nt instanceof Te.g)Xt.warn(nt.message);else{const Mt=mt.create("idb-get",{originalErrorMessage:nt?.message});Xt.warn(Mt.message)}}})).apply(this,arguments)}function vr(Ct,nt){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.A)(function*(Ct,nt){try{const ln=(yield an()).transaction(st,"readwrite");yield ln.objectStore(st).put(nt,Br(Ct)),yield ln.done}catch(Mt){if(Mt instanceof Te.g)Xt.warn(Mt.message);else{const ln=mt.create("idb-set",{originalErrorMessage:Mt?.message});Xt.warn(ln.message)}}})).apply(this,arguments)}function Br(Ct){return`${Ct.name}!${Ct.options.appId}`}class wi{constructor(nt){this.container=nt,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new Ai(Mt),this._heartbeatsCachePromise=this._storage.read().then(ln=>(this._heartbeatsCache=ln,ln))}triggerHeartbeat(){var nt=this;return(0,o.A)(function*(){var Mt,ln;try{const Mn=nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hr=$i();return null==(null===(Mt=nt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)&&(nt._heartbeatsCache=yield nt._heartbeatsCachePromise,null==(null===(ln=nt._heartbeatsCache)||void 0===ln?void 0:ln.heartbeats))||nt._heartbeatsCache.lastSentHeartbeatDate===hr||nt._heartbeatsCache.heartbeats.some($r=>$r.date===hr)?void 0:(nt._heartbeatsCache.heartbeats.push({date:hr,agent:Mn}),nt._heartbeatsCache.heartbeats=nt._heartbeatsCache.heartbeats.filter($r=>{const Xr=new Date($r.date).valueOf();return Date.now()-Xr<=2592e6}),nt._storage.overwrite(nt._heartbeatsCache))}catch(Ln){Xt.warn(Ln)}})()}getHeartbeatsHeader(){var nt=this;return(0,o.A)(function*(){var Mt;try{if(null===nt._heartbeatsCache&&(yield nt._heartbeatsCachePromise),null==(null===(Mt=nt._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats)||0===nt._heartbeatsCache.heartbeats.length)return"";const ln=$i(),{heartbeatsToSend:Ln,unsentEntries:Mn}=function Ni(Ct,nt=1024){const Mt=[];let ln=Ct.slice();for(const Ln of Ct){const Mn=Mt.find(hr=>hr.agent===Ln.agent);if(Mn){if(Mn.dates.push(Ln.date),ar(Mt)>nt){Mn.dates.pop();break}}else if(Mt.push({agent:Ln.agent,dates:[Ln.date]}),ar(Mt)>nt){Mt.pop();break}ln=ln.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:ln}}(nt._heartbeatsCache.heartbeats),hr=(0,Te.Uj)(JSON.stringify({version:2,heartbeats:Ln}));return nt._heartbeatsCache.lastSentHeartbeatDate=ln,Mn.length>0?(nt._heartbeatsCache.heartbeats=Mn,yield nt._storage.overwrite(nt._heartbeatsCache)):(nt._heartbeatsCache.heartbeats=[],nt._storage.overwrite(nt._heartbeatsCache)),hr}catch(ln){return Xt.warn(ln),""}})()}}function $i(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(nt){this.app=nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.A)(function*(){return!!(0,Te.zW)()&&(0,Te.eX)().then(()=>!0).catch(()=>!1)})()}read(){var nt=this;return(0,o.A)(function*(){if(yield nt._canUseIndexedDBPromise){const ln=yield function dn(Ct){return Sn.apply(this,arguments)}(nt.app);return ln?.heartbeats?ln:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(nt){var Mt=this;return(0,o.A)(function*(){var ln;if(yield Mt._canUseIndexedDBPromise){const Mn=yield Mt.read();return vr(Mt.app,{lastSentHeartbeatDate:null!==(ln=nt.lastSentHeartbeatDate)&&void 0!==ln?ln:Mn.lastSentHeartbeatDate,heartbeats:nt.heartbeats})}})()}add(nt){var Mt=this;return(0,o.A)(function*(){var ln;if(yield Mt._canUseIndexedDBPromise){const Mn=yield Mt.read();return vr(Mt.app,{lastSentHeartbeatDate:null!==(ln=nt.lastSentHeartbeatDate)&&void 0!==ln?ln:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...nt.heartbeats]})}})()}}function ar(Ct){return(0,Te.Uj)(JSON.stringify({version:2,heartbeats:Ct})).length}!function Ps(Ct){gn(new le.uA("platform-logger",nt=>new vn(nt),"PRIVATE")),gn(new le.uA("heartbeat",nt=>new wi(nt),"PRIVATE")),$(Ot,$t,Ct),$(Ot,$t,"esm2017"),$("fire-js","")}("")},1362:(on,Xe,j)=>{j.d(Xe,{h1:()=>Fe,uA:()=>i});var o=j(467),le=j(1076);class i{constructor(ee,ue,_e){this.name=ee,this.instanceFactory=ue,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Te="[DEFAULT]";class pe{constructor(ee,ue){this.name=ee,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ue=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ue)){const _e=new le.cY;if(this.instancesDeferred.set(ue,_e),this.isInitialized(ue)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:ue});ut&&_e.resolve(ut)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ee){var ue;const _e=this.normalizeInstanceIdentifier(ee?.identifier),ut=null!==(ue=ee?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Qe){if(ut)return null;throw Qe}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Me(Ve){return"EAGER"===Ve.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[ue,_e]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(ue);try{const Qe=this.getOrInitializeService({instanceIdentifier:ut});_e.resolve(Qe)}catch{}}}}clearInstance(ee=Te){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,o.A)(function*(){const ue=Array.from(ee.instances.values());yield Promise.all([...ue.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...ue.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Te){return this.instances.has(ee)}getOptions(ee=Te){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ue={}}=ee,_e=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:_e,options:ue});for(const[Qe,St]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Qe)&&St.resolve(ut);return ut}onInit(ee,ue){var _e;const ut=this.normalizeInstanceIdentifier(ue),Qe=null!==(_e=this.onInitCallbacks.get(ut))&&void 0!==_e?_e:new Set;Qe.add(ee),this.onInitCallbacks.set(ut,Qe);const St=this.instances.get(ut);return St&&ee(St,ut),()=>{Qe.delete(ee)}}invokeOnInitCallbacks(ee,ue){const _e=this.onInitCallbacks.get(ue);if(_e)for(const ut of _e)try{ut(ee,ue)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ue={}}){let _e=this.instances.get(ee);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=ee,Ve===Te?void 0:Ve),options:ue}),this.instances.set(ee,_e),this.instancesOptions.set(ee,ue),this.invokeOnInitCallbacks(_e,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,_e)}catch{}var Ve;return _e||null}normalizeInstanceIdentifier(ee=Te){return this.component?this.component.multipleInstances?ee:Te:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ue=this.getProvider(ee.name);if(ue.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ue.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ue=new pe(ee,this);return this.providers.set(ee,ue),ue}getProviders(){return Array.from(this.providers.values())}}},8041:(on,Xe,j)=>{j.d(Xe,{$b:()=>le,Ey:()=>Ve,He:()=>Fe,Vy:()=>Me});const o=[];var le=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(le||{});const i={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},Te=le.INFO,pe={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Ae=(ee,ue,..._e)=>{if(ue<ee.logLevel)return;const ut=(new Date).toISOString(),Qe=pe[ue];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Qe](`[${ut}]  ${ee.name}:`,..._e)};class Me{constructor(ue){this.name=ue,this._logLevel=Te,this._logHandler=Ae,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in le))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?i[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...ue),this._logHandler(this,le.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...ue),this._logHandler(this,le.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,le.INFO,...ue),this._logHandler(this,le.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,le.WARN,...ue),this._logHandler(this,le.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...ue),this._logHandler(this,le.ERROR,...ue)}}function Fe(ee){o.forEach(ue=>{ue.setLogLevel(ee)})}function Ve(ee,ue){for(const _e of o){let ut=null;ue&&ue.level&&(ut=i[ue.level]),_e.userLogHandler=null===ee?null:(Qe,St,...Dt)=>{const Bt=Dt.map(Nt=>{if(null==Nt)return null;if("string"==typeof Nt)return Nt;if("number"==typeof Nt||"boolean"==typeof Nt)return Nt.toString();if(Nt instanceof Error)return Nt.message;try{return JSON.stringify(Nt)}catch{return null}}).filter(Nt=>Nt).join(" ");St>=(ut??Qe.logLevel)&&ee({level:le[St].toLowerCase(),message:Bt,args:Dt,type:Qe.name})}}}},2214:(on,Xe,j)=>{j.d(Xe,{Dk:()=>o.getApps,KO:()=>o.registerVersion,Sx:()=>o.getApp,Wp:()=>o.initializeApp});var o=j(7852);(0,o.registerVersion)("firebase","10.14.1","app")},7935:(on,Xe,j)=>{j.d(Xe,{A:()=>o.A});var o=j(3345);o.A.registerVersion("firebase","10.14.1","app-compat")},2438:(on,Xe,j)=>{var o=j(467),le=j(3345),i=j(5504),Te=j(1076),Me=(j(7852),j(8041),j(1362));function Fe(){return window}function ue(){return ue=(0,o.A)(function*($,M,k){var ne;const{BuildInfo:me}=Fe();(0,i.au)(M.sessionId,"AuthEvent did not contain a session ID");const st=yield function Nt($){return pn.apply(this,arguments)}(M.sessionId),At={};return(0,i.av)()?At.ibi=me.packageName:(0,i.aw)()?At.apn=me.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),me.displayName&&(At.appDisplayName=me.displayName),At.sessionId=st,(0,i.ay)($,k,M.type,void 0,null!==(ne=M.eventId)&&void 0!==ne?ne:void 0,At)}),ue.apply(this,arguments)}function ut(){return(ut=(0,o.A)(function*($){const{BuildInfo:M}=Fe(),k={};(0,i.av)()?k.iosBundleId=M.packageName:(0,i.aw)()?k.androidPackageName=M.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),yield(0,i.az)($,k)})).apply(this,arguments)}function Dt(){return(Dt=(0,o.A)(function*($,M,k){const{cordova:ne}=Fe();let me=()=>{};try{yield new Promise((st,At)=>{let an=null;function dn(){var cn;st();const Br=null===(cn=ne.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Br&&Br(),"function"==typeof k?.close&&k.close()}function Sn(){an||(an=window.setTimeout(()=>{At((0,i.aB)($,"redirect-cancelled-by-user"))},2e3))}function vr(){"visible"===document?.visibilityState&&Sn()}M.addPassiveListener(dn),document.addEventListener("resume",Sn,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",vr,!1),me=()=>{M.removePassiveListener(dn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",vr,!1),an&&window.clearTimeout(an)}})}finally{me()}})).apply(this,arguments)}function pn(){return(pn=(0,o.A)(function*($){const M=function Be($){if((0,i.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),k=new Uint8Array(M);for(let ne=0;ne<$.length;ne++)k[ne]=$.charCodeAt(ne);return k}($),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Je extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,o.A)(function*(){yield M.initPromise})()}}function Pt($){return kt.apply(this,arguments)}function kt(){return(kt=(0,o.A)(function*($){const M=yield vn()._get(gr($));return M&&(yield vn()._remove(gr($))),M})).apply(this,arguments)}function rn(){const $=[];for(let k=0;k<20;k++){const ne=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return $.join("")}function vn(){return(0,i.aE)(i.b)}function gr($){return(0,i.aF)("authEvent",$.config.apiKey,$.name)}function Xt($){if(!$?.includes("?"))return{};const[M,...k]=$.split("?");return(0,Te.I9)(k.join("?"))}const Ze=class Ne{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,o.A)(function*(){const ne=M._key();let me=k.eventManagers.get(ne);return me||(me=new Je(M),k.eventManagers.set(ne,me),k.attachCallbackListeners(M,me)),me})()}_openPopup(M){(0,i.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,ne,me){var st=this;return(0,o.A)(function*(){!function Bt($){var M,k,ne,me,st,At,an,dn,Sn,vr;const cn=Fe();(0,i.aC)("function"==typeof(null===(M=cn?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(k=cn?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(st=null===(me=null===(ne=cn?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===me?void 0:me.browsertab)||void 0===st?void 0:st.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(dn=null===(an=null===(At=cn?.cordova)||void 0===At?void 0:At.plugins)||void 0===an?void 0:an.browsertab)||void 0===dn?void 0:dn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(vr=null===(Sn=cn?.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===vr?void 0:vr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const At=yield st._initialize(M);yield At.initialized(),At.resetRedirect(),(0,i.aI)(),yield st._originValidation(M);const an=function We($,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:rn(),postBody:null,tenantId:$.tenantId,error:(0,i.aB)($,"no-auth-event")}}(M,ne,me);yield function it($,M){return vn()._set(gr($),M)}(M,an);const dn=yield function ee($,M,k){return ue.apply(this,arguments)}(M,an,k),Sn=yield function Qe($){const{cordova:M}=Fe();return new Promise(k=>{M.plugins.browsertab.isAvailable(ne=>{let me=null;ne?M.plugins.browsertab.openUrl($):me=M.InAppBrowser.open($,(0,i.aA)()?"_blank":"_system","location=yes"),k(me)})})}(dn);return function St($,M,k){return Dt.apply(this,arguments)}(M,At,Sn)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function _e($){return ut.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:ne,handleOpenURL:me,BuildInfo:st}=Fe(),At=setTimeout((0,o.A)(function*(){yield Pt(M),k.onEvent(en())}),500),an=function(){var vr=(0,o.A)(function*(cn){clearTimeout(At);const Br=yield Pt(M);let mr=null;Br&&cn?.url&&(mr=function De($,M){var k,ne;const me=function $t($){const M=Xt($),k=M.link?decodeURIComponent(M.link):void 0,ne=Xt(k).link,me=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Xt(me).link||me||ne||k||$}(M);if(me.includes("/__/auth/callback")){const st=Xt(me),At=st.firebaseError?function Ot($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,an=null===(ne=null===(k=At?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ne?void 0:ne[1],dn=an?(0,i.aB)(an):null;return dn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:me,postBody:null}}return null}(Br,cn.url)),k.onEvent(mr||en())});return function(Br){return vr.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,an);const dn=me,Sn=`${st.packageName.toLowerCase()}://`;Fe().handleOpenURL=function(){var vr=(0,o.A)(function*(cn){if(cn.toLowerCase().startsWith(Sn)&&an({url:cn}),"function"==typeof dn)try{dn(cn)}catch(Br){console.error(Br)}});return function(cn){return vr.apply(this,arguments)}}()}};function en(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function tt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Vt($=(0,Te.ZQ)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qt(){try{const $=self.localStorage,M=i.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function Bn($=(0,Te.ZQ)()){return function or(){return(0,Te.lT)()&&11===document?.documentMode}()||function sn($=(0,Te.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,Te.zW)()}catch{return Gn()&&(0,Te.zW)()}return!1}function Gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return(function qe(){return"http:"===tt()||"https:"===tt()}()||(0,Te.sr)()||Vt())&&!function wn(){return(0,Te.lV)()||(0,Te.Ll)()}()&&Qt()&&!Gn()}function Kt(){return Vt()&&typeof document<"u"}function Cr(){return(Cr=(0,o.A)(function*(){return!!Kt()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const Lr={LOCAL:"local",NONE:"none",SESSION:"session"},er=i.aC,Ht="persistence";function Wn($){return An.apply(this,arguments)}function An(){return(An=(0,o.A)(function*($){yield $._initializationPromise;const M=Or(),k=i.aF(Ht,$.config.apiKey,$.name);M&&M.setItem(k,$._getPersistence())})).apply(this,arguments)}function Or(){var $;try{return(null===($=function un(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const si=i.aC;class Xn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(Ze),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,o.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,ne,me){var st=this;return(0,o.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(M,k,ne,me)})()}_openRedirect(M,k,ne,me){var st=this;return(0,o.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(M,k,ne,me)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Kt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return si(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,o.A)(function*(){if(M.underlyingResolver)return;const k=yield function jt(){return Cr.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function yi($){return $.unwrap()}function gn($){return rr($)}function rr($){const{_tokenResponse:M}=$ instanceof Te.g?$.customData:$;if(!M)return null;if(!($ instanceof Te.g)&&"temporaryProof"in M&&"phoneNumber"in M)return i.P.credentialFromResult($);const k=M.providerId;if(!k||k===i.p.PASSWORD)return null;let ne;switch(k){case i.p.GOOGLE:ne=i.X;break;case i.p.FACEBOOK:ne=i.W;break;case i.p.GITHUB:ne=i.Y;break;case i.p.TWITTER:ne=i.$;break;default:const{oauthIdToken:me,oauthAccessToken:st,oauthTokenSecret:At,pendingToken:an,nonce:dn}=M;return st||At||me||an?an?k.startsWith("saml.")?i.aQ._create(k,an):i.N._fromParams({providerId:k,signInMethod:k,pendingToken:an,idToken:me,accessToken:st}):new i.Z(k).credential({idToken:me,accessToken:st,rawNonce:dn}):null}return $ instanceof Te.g?ne.credentialFromError($):ne.credentialFromResult($)}function Dr($,M){return M.catch(k=>{throw k instanceof Te.g&&function oi($,M){var k;const ne=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new et($,i.as($,M));else if(ne){const me=rr(M),st=M;me&&(st.credential=me,st.tenantId=ne.tenantId||void 0,st.email=ne.email||void 0,st.phoneNumber=ne.phoneNumber||void 0)}}($,k),k}).then(k=>{const me=k.user;return{operationType:k.operationType,credential:gn(k),additionalUserInfo:i.aq(k),user:mt.getOrCreate(me)}})}function Kn($,M){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,o.A)(function*($,M){const k=yield M;return{verificationId:k.verificationId,confirm:ne=>Dr($,k.confirm(ne))}})).apply(this,arguments)}class et{constructor(M,k){this.resolver=k,this.auth=function Ts($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return Dr(yi(this.auth),this.resolver.resolveSignIn(M))}}class mt{constructor(M){this._delegate=M,this.multiFactor=i.at(M)}static getOrCreate(M){return mt.USER_MAP.has(M)||mt.USER_MAP.set(M,new mt(M)),mt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,o.A)(function*(){return Dr(k.auth,i.a2(k._delegate,M))})()}linkWithPhoneNumber(M,k){var ne=this;return(0,o.A)(function*(){return Kn(ne.auth,i.l(ne._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,o.A)(function*(){return Dr(k.auth,i.d(k._delegate,M,Xn))})()}linkWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Wn(i.aJ(k.auth)),i.g(k._delegate,M,Xn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,o.A)(function*(){return Dr(k.auth,i.a3(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return Kn(this.auth,i.r(this._delegate,M,k))}reauthenticateWithPopup(M){return Dr(this.auth,i.e(this._delegate,M,Xn))}reauthenticateWithRedirect(M){var k=this;return(0,o.A)(function*(){return yield Wn(i.aJ(k.auth)),i.h(k._delegate,M,Xn)})()}sendEmailVerification(M){return i.ag(this._delegate,M)}unlink(M){var k=this;return(0,o.A)(function*(){return yield i.ap(k._delegate,M),k})()}updateEmail(M){return i.al(this._delegate,M)}updatePassword(M){return i.am(this._delegate,M)}updatePhoneNumber(M){return i.u(this._delegate,M)}updateProfile(M){return i.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return i.ah(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mt.USER_MAP=new WeakMap;const ce=i.aC;let xe=(()=>{class ${constructor(k,ne){if(this.app=k,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=k.options;ce(me,"invalid-api-key",{appName:k.name}),ce(me,"invalid-api-key",{appName:k.name});const st=typeof window<"u"?Xn:void 0;this._delegate=ne.initialize({options:{persistence:Yt(me,k.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ne){i.K(this._delegate,k,ne)}applyActionCode(k){return i.a7(this._delegate,k)}checkActionCode(k){return i.a8(this._delegate,k)}confirmPasswordReset(k,ne){return i.a6(this._delegate,k,ne)}createUserWithEmailAndPassword(k,ne){var me=this;return(0,o.A)(function*(){return Dr(me._delegate,i.aa(me._delegate,k,ne))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return i.af(this._delegate,k)}isSignInWithEmailLink(k){return i.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,o.A)(function*(){ce(Fn(),k._delegate,"operation-not-supported-in-this-environment");const ne=yield i.j(k._delegate,Xn);return ne?Dr(k._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Ue($,M){(0,i.aJ)($)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,ne,me){const{next:st,error:At,complete:an}=Et(k,ne,me);return this._delegate.onAuthStateChanged(st,At,an)}onIdTokenChanged(k,ne,me){const{next:st,error:At,complete:an}=Et(k,ne,me);return this._delegate.onIdTokenChanged(st,At,an)}sendSignInLinkToEmail(k,ne){return i.ac(this._delegate,k,ne)}sendPasswordResetEmail(k,ne){return i.a5(this._delegate,k,ne||void 0)}setPersistence(k){var ne=this;return(0,o.A)(function*(){let me;switch(function Tn($,M){er(Object.values(Lr).includes(M),$,"invalid-persistence-type"),(0,Te.lV)()?er(M!==Lr.SESSION,$,"unsupported-persistence-type"):(0,Te.Ll)()?er(M===Lr.NONE,$,"unsupported-persistence-type"):Gn()?er(M===Lr.NONE||M===Lr.LOCAL&&(0,Te.zW)(),$,"unsupported-persistence-type"):er(M===Lr.NONE||Qt(),$,"unsupported-persistence-type")}(ne._delegate,k),k){case Lr.SESSION:me=i.a;break;case Lr.LOCAL:me=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case Lr.NONE:me=i.U;break;default:return i.ax("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Dr(this._delegate,i.a0(this._delegate))}signInWithCredential(k){return Dr(this._delegate,i.a1(this._delegate,k))}signInWithCustomToken(k){return Dr(this._delegate,i.a4(this._delegate,k))}signInWithEmailAndPassword(k,ne){return Dr(this._delegate,i.ab(this._delegate,k,ne))}signInWithEmailLink(k,ne){return Dr(this._delegate,i.ae(this._delegate,k,ne))}signInWithPhoneNumber(k,ne){return Kn(this._delegate,i.s(this._delegate,k,ne))}signInWithPopup(k){var ne=this;return(0,o.A)(function*(){return ce(Fn(),ne._delegate,"operation-not-supported-in-this-environment"),Dr(ne._delegate,i.c(ne._delegate,k,Xn))})()}signInWithRedirect(k){var ne=this;return(0,o.A)(function*(){return ce(Fn(),ne._delegate,"operation-not-supported-in-this-environment"),yield Wn(ne._delegate),i.f(ne._delegate,k,Xn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return i.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Lr,$})();function Et($,M,k){let ne=$;"function"!=typeof $&&({next:ne,error:M,complete:k}=$);const me=ne;return{next:At=>me(At&&mt.getOrCreate(At)),error:M,complete:k}}function Yt($,M){const k=function Yr($,M){const k=Or();if(!k)return[];const ne=i.aF(Ht,$,M);switch(k.getItem(ne)){case Lr.NONE:return[i.U];case Lr.LOCAL:return[i.i,i.a];case Lr.SESSION:return[i.a];default:return[]}}($,M);if(typeof self<"u"&&!k.includes(i.i)&&k.push(i.i),typeof window<"u")for(const ne of[i.b,i.a])k.includes(ne)||k.push(ne);return k.includes(i.U)||k.push(i.U),k}class Hn{constructor(){this.providerId="phone",this._delegate=new i.P(yi(le.A.auth()))}static credential(M,k){return i.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}Hn.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,Hn.PROVIDER_ID=i.P.PROVIDER_ID;const Wr=i.aC;class Sr{constructor(M,k,ne=le.A.app()){var me;Wr(null===(me=ne.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new i.R(ne.auth(),M,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bt($){$.INTERNAL.registerComponent(new Me.uA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),ne=M.getProvider("auth");return new xe(k,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:Hn,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:Sr,TwitterAuthProvider:i.$,Auth:xe,AuthCredential:i.L,Error:Te.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(le.A)},467:(on,Xe,j)=>{function o(i,Te,pe,Ae,Me,Fe,Ve){try{var ee=i[Fe](Ve),ue=ee.value}catch(_e){return void pe(_e)}ee.done?Te(ue):Promise.resolve(ue).then(Ae,Me)}function le(i){return function(){var Te=this,pe=arguments;return new Promise(function(Ae,Me){var Fe=i.apply(Te,pe);function Ve(ue){o(Fe,Ae,Me,Ve,ee,"next",ue)}function ee(ue){o(Fe,Ae,Me,Ve,ee,"throw",ue)}Ve(void 0)})}}j.d(Xe,{A:()=>le})},1635:(on,Xe,j)=>{function Te(Ue,we){var Ee={};for(var ke in Ue)Object.prototype.hasOwnProperty.call(Ue,ke)&&we.indexOf(ke)<0&&(Ee[ke]=Ue[ke]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(ke=Object.getOwnPropertySymbols(Ue);tt<ke.length;tt++)we.indexOf(ke[tt])<0&&Object.prototype.propertyIsEnumerable.call(Ue,ke[tt])&&(Ee[ke[tt]]=Ue[ke[tt]])}return Ee}function _e(Ue,we,Ee,ke){return new(Ee||(Ee=Promise))(function(qe,Vt){function wn(Bn){try{sn(ke.next(Bn))}catch(Qt){Vt(Qt)}}function or(Bn){try{sn(ke.throw(Bn))}catch(Qt){Vt(Qt)}}function sn(Bn){Bn.done?qe(Bn.value):function tt(qe){return qe instanceof Ee?qe:new Ee(function(Vt){Vt(qe)})}(Bn.value).then(wn,or)}sn((ke=ke.apply(Ue,we||[])).next())})}function be(Ue){return this instanceof be?(this.v=Ue,this):new be(Ue)}function Je(Ue,we,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,ke=Ee.apply(Ue,we||[]),qe=[];return tt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wn("next"),wn("throw"),wn("return",function Vt(Fn){return function(Kt){return Promise.resolve(Kt).then(Fn,Qt)}}),tt[Symbol.asyncIterator]=function(){return this},tt;function wn(Fn,Kt){ke[Fn]&&(tt[Fn]=function(jt){return new Promise(function(Cr,un){qe.push([Fn,jt,Cr,un])>1||or(Fn,jt)})},Kt&&(tt[Fn]=Kt(tt[Fn])))}function or(Fn,Kt){try{!function sn(Fn){Fn.value instanceof be?Promise.resolve(Fn.value.v).then(Bn,Qt):Gn(qe[0][2],Fn)}(ke[Fn](Kt))}catch(jt){Gn(qe[0][3],jt)}}function Bn(Fn){or("next",Fn)}function Qt(Fn){or("throw",Fn)}function Gn(Fn,Kt){Fn(Kt),qe.shift(),qe.length&&or(qe[0][0],qe[0][1])}}function it(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,we=Ue[Symbol.asyncIterator];return we?we.call(Ue):(Ue=function Dt(Ue){var we="function"==typeof Symbol&&Symbol.iterator,Ee=we&&Ue[we],ke=0;if(Ee)return Ee.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&ke>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[ke++],done:!Ue}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Ee={},ke("next"),ke("throw"),ke("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function ke(qe){Ee[qe]=Ue[qe]&&function(Vt){return new Promise(function(wn,or){!function tt(qe,Vt,wn,or){Promise.resolve(or).then(function(sn){qe({value:sn,done:wn})},Vt)}(wn,or,(Vt=Ue[qe](Vt)).done,Vt.value)})}}}j.d(Xe,{AQ:()=>Je,N3:()=>be,Tt:()=>Te,sH:()=>_e,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=7901)}]);