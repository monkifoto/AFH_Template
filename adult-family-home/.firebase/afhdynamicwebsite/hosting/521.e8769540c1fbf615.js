"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[521],{5521:(kt,E,u)=>{u.r(E),u.d(E,{AdminModule:()=>xt});var d=u(177),r=u(4341),m=u(6814),e=u(7705),D=u(1977),O=u(6354),v=u(3012);function V(i,l){if(1&i){const t=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG();return e.Njj(s.deleteBusiness(n.id))}),e.EFF(1,"Delete"),e.k0s()}}const X=function(){return["/home/"]},L=function(i){return{id:i}};function H(i,l){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"a",6)(3,"strong"),e.EFF(4),e.k0s()()(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"strong"),e.EFF(9),e.k0s(),e.nrm(10,"br"),e.EFF(11),e.nrm(12,"br"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s(),e.j41(18,"td")(19,"button",7),e.bIt("click",function(){const s=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.editBusiness(s.id))}),e.EFF(20,"Edit"),e.k0s(),e.DNE(21,V,2,0,"button",8),e.k0s()()}if(2&i){const t=l.$implicit;e.R7$(2),e.Y8G("routerLink",e.lJ4(10,X))("queryParams",e.eq3(11,L,t.id)),e.R7$(2),e.SpI(" ",t.id,""),e.R7$(2),e.JRh(t.businessName),e.R7$(3),e.SpI("",t.providerName," "),e.R7$(2),e.SpI(" ",t.phone,""),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.isActive),e.R7$(2),e.JRh(t.isLive),e.R7$(4),e.Y8G("ngIf",!t.isActive)}}let z=(()=>{class i{constructor(t,o){this.businessService=t,this.router=o,this.businesses=[],this.showActiveOnly=!0}ngOnInit(){this.loadBusinesses()}loadBusinesses(){this.showActiveOnly?this.businessService.getActiveBusinesses().subscribe(t=>{this.businesses=t}):this.businessService.getAllBusinesses().subscribe(t=>{this.businesses=t})}editBusiness(t){this.router.navigate(["/admin/edit-business",t])}deleteBusiness(t){confirm("Are you sure you want to delete this business?")&&this.businessService.updateBusiness(t,{isActive:!1}).then(()=>{alert("Business deleted successfully!"),this.loadBusinesses()}).catch(o=>console.error("Error deleting business",o))}addNewBusiness(){this.router.navigate(["/admin/new"])}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(v.u),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-business-list"]],decls:25,vars:2,consts:[[1,"business-list-container"],["ttype","button",1,"afhBtn",3,"click"],["for","toggle-active"],["type","checkbox","id","toggle-active",3,"ngModel","ngModelChange","change"],[1,"business-table"],[4,"ngFor","ngForOf"],[1,"business-id-link",3,"routerLink","queryParams"],["type","button",1,"afhBtn",3,"click"],["type","button","class","afhBtn",3,"click",4,"ngIf"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Business List"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return n.addNewBusiness()}),e.EFF(4,"Add New Business"),e.k0s(),e.j41(5,"label",2),e.EFF(6,"Show Active Only"),e.k0s(),e.j41(7,"input",3),e.bIt("ngModelChange",function(a){return n.showActiveOnly=a})("change",function(){return n.loadBusinesses()}),e.k0s(),e.j41(8,"table",4)(9,"thead")(10,"tr")(11,"th"),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Name"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Provider"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Active"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Live"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Actions"),e.k0s()()(),e.j41(23,"tbody"),e.DNE(24,H,22,13,"tr",5),e.k0s()()()),2&o&&(e.R7$(7),e.Y8G("ngModel",n.showActiveOnly),e.R7$(17),e.Y8G("ngForOf",n.businesses))},dependencies:[d.Sq,d.bT,m.Wk,r.Zm,r.BC,r.vS],styles:[".business-list-container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#333}.add-business-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:var(--button-color);color:var(--primary-color);border:none;border-radius:5px;cursor:pointer}.add-business-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.business-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .business-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.business-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.business-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.business-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--background-color)}.business-id-link[_ngcontent-%COMP%]{color:var(--text-color);text-decoration:none}.business-id-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:5px;cursor:pointer;margin:0 5px}.edit-button[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color)}.edit-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.delete-button[_ngcontent-%COMP%]{background-color:#dc3545;color:var(--primary-color)}.delete-button[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}}return i})();var q=u(4796);let W=(()=>{class i{constructor(t,o){this.router=t,this.authService=o}loadBusinessList(){this.router.navigate(["/admin/businessList"])}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(m.Ix),e.rXU(q.u))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-admin"]],decls:9,vars:0,consts:[[1,"admin-container"],[1,"admin-buttons"],["type","button",1,"afhBtn",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h4"),e.EFF(3,"Admin Dashboard"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return n.loadBusinessList()}),e.EFF(5,"View Business List"),e.k0s(),e.j41(6,"button",2),e.bIt("click",function(){return n.logout()}),e.EFF(7,"Logout"),e.k0s()()(),e.nrm(8,"router-outlet"))},dependencies:[m.n3],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;margin:160px auto 0;background-color:var(--background-color);border-radius:10px;box-shadow:0 4px 8px #0000001a;text-align:center}.admin-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:30px}.admin-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin:10px}button[_ngcontent-%COMP%]{padding:15px 30px;color:#fff;background-color:var(--button-color);border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:var(--button-color-hover)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px var(--button-color)}button.logout[_ngcontent-%COMP%]{background-color:#dc3545}button.logout[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}}return i})();class T{static getDefaultBusiness(){return{sections:[{id:"",page:"home",location:"top",component:"center-text",sectionName:"HomeCenterTop",sectionTitle:"Welcome To AFH",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionImageUrl:"assets/sharedAssets/istockphoto-502998071-2048x2048.jpg",sectionType:"Other",sectionStyle:"hh",order:0,items:[],isMinimal:!1,isParallax:!1,backgroundColor:"var(--background-color)",textColor:"var(--text-color)",titleColor:"var(--accent-color)",subtitleColor:"var(--secondary-color)",fullWidth:!1,showButton:!1,buttonText:"Learn More",buttonLink:"contact-us",alignText:"left",boxShadow:!1,borderRadius:0},{id:"",page:"aboutus",location:"right",component:"right-text",sectionName:"AboutUsRight",sectionTitle:"Our Story",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Story",sectionStyle:"hh",order:0,items:[],isMinimal:!1,isParallax:!1,backgroundColor:"var(--background-color)",textColor:"var(--text-color)",titleColor:"var(--accent-color)",subtitleColor:"var(--secondary-color)",fullWidth:!1,showButton:!1,buttonText:"Learn More",buttonLink:"contact-us",alignText:"left",boxShadow:!1,borderRadius:0},{id:"",page:"aboutus",location:"left",component:"left-text",sectionName:"AboutUsLeft",sectionTitle:"Our Vision",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Vision",sectionStyle:"hh",order:0,items:[],isMinimal:!1,isParallax:!1,backgroundColor:"var(--background-color)",textColor:"var(--text-color)",titleColor:"var(--accent-color)",subtitleColor:"var(--secondary-color)",fullWidth:!1,showButton:!1,buttonText:"Learn More",buttonLink:"contact-us",alignText:"left",boxShadow:!1,borderRadius:0},{id:"",page:"services",location:"right",component:"right-text",sectionName:"ServicesRight",sectionTitle:"Our Mission",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Mission",sectionStyle:"hh",order:0,items:[],isMinimal:!1,isParallax:!1,backgroundColor:"var(--background-color)",textColor:"var(--text-color)",titleColor:"var(--accent-color)",subtitleColor:"var(--secondary-color)",fullWidth:!1,showButton:!1,buttonText:"Learn More",buttonLink:"contact-us",alignText:"left",boxShadow:!1,borderRadius:0},{id:"",page:"services",location:"left",component:"left-text",sectionName:"ServicesLeft",sectionTitle:"Our Motivation",sectionSubTitle:"Caring with compassion for every senior.",sectionContent:"Founded by healthcare professionals passionate about senior care, Careful Living AFH aims to provide a nurturing environment for the elderly.",sectionType:"Motivation",sectionStyle:"hh",order:0,items:[],isMinimal:!1,isParallax:!1,backgroundColor:"var(--background-color)",textColor:"var(--text-color)",titleColor:"var(--accent-color)",subtitleColor:"var(--secondary-color)",fullWidth:!1,showButton:!1,buttonText:"Learn More",buttonLink:"contact-us",alignText:"left",boxShadow:!1,borderRadius:0},{id:"",page:"gallery",location:"top",component:"center-text",sectionName:"GalleryCenterTop",sectionTitle:"OurHome",sectionSubTitle:"Welcome to our gallery",sectionContent:"Gallery Text",sectionType:"Other",sectionStyle:"hh",order:0,items:[],isMinimal:!1,isParallax:!1,backgroundColor:"var(--background-color)",textColor:"var(--text-color)",titleColor:"var(--accent-color)",subtitleColor:"var(--secondary-color)",fullWidth:!1,showButton:!1,buttonText:"Learn More",buttonLink:"contact-us",alignText:"left",boxShadow:!1,borderRadius:0}],heroImages:[""],heroSlider:[{title:"Welcome to Careful Living AFH",subtitle:"Caring with compassion for every senior.",backgroundImage:"../../assets/sharedAssets/istockphoto-1022730404-2048x2048.jpg",buttons:[{text:"Learn More",link:"/about",outline:!1},{text:"Contact Us",link:"/contact",outline:!0}]},{title:"Welcome to Careful Living AFH",subtitle:"Caring with compassion for every senior.",backgroundImage:"../../assets/sharedAssets/istockphoto-1022730404-2048x2048.jpg",buttons:[{text:"Schedule A Visti",link:"/contact-us",outline:!1}]},{title:"Exceptional Senior Care",subtitle:"Personalized, compassionate, and dedicated.",backgroundImage:"../../assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg",buttons:[{text:"Our Services",link:"/services",outline:!1}]}],businessData:"",id:"",faqs:"",businessName:"Careful Living AFH",keyWords:"Adult Family Home Bellevue, Senior Care Bellevue WA, Elderly Care Services Bellevue, Assisted Living Bellevue Washington, Memory Care Bellevue, Dementia Care Bellevue WA, Respite Care Bellevue, Long-Term Care Bellevue, Home Care for Seniors Bellevue,Skilled Nursing Bellevue WA,Personalized Senior Care Bellevue, Senior Living Bellevue Washington, Compassionate Elderly Care Bellevue, Family Home Care Bellevue WA, Professional Senior Care Services Bellevue, Senior Assisted Living Bellevue, Senior Home Assistance Bellevue WA, Senior Housing Bellevue Washington, Helping Hand AFH Bellevue, Senior Caregivers Bellevue WA",businessURL:"https://www.carefullivingafh.com",providerName:"Sarah Caregiver",tagline:"Caring with compassion for every senior",certifications:"State Licensed, Certified Nursing Assistants (CNA), First Aid/CPR Certified",logoImage:"../assets/sharedAssets/Demologo2.png",faviconUrl:"../../assets/sharedAssets/icons/hh_favicon.ico",address:"4567 Compassionate Ln, Kindness City, ST 56789",phone:"(987) 654-3210",fax:"(987) 654-3211",email:"contact@carefullivingafh.com",businessHours:"Mon-Fri: 8am-6pm, Sat-Sun: 9am-5pm",socialMedia:"Facebook: facebook.com/carefullivingafh; Instagram: instagram.com/carefullivingafh",contactFormDetails:"Please provide name, email, phone number, and message for inquiries.",contactUsImageUrl:"",isActive:!0,isLive:!1,placeId:"",uniqueService:[{description:"Residents receive customized care plans that adapt to their specific health conditions, preferences, and evolving needs.",name:"Personalized Care"},{name:"Homelike Environment",description:"We offer private rooms and shared common living spaces, such as kitchens, dining rooms, and living areas, providing a cozy, familiar atmosphere."}],whyChoose:[{name:"One-on-One Care",description:"Our caregivers truly get to know each resident\u2019s needs, preferences, and routines, ensuring tailored care and a personal connection."}],services:[{name:"Medication & Health Management",icon:"fa-solid fa-prescription-bottle",description:"Proper medication administration, doctor visits, lab work, and therapy to maintain well-being."},{name:"24/7 Assistance & Health Monitoring",icon:"fa-solid fa-bed-pulse",description:"Around-the-clock care, including vital signs monitoring and professional nursing support."},{name:"Daily Living & Personal Care",icon:"fa-solid fa-shower",description:"Assistance with bathing, dressing, grooming, mobility, and incontinence support."},{name:"Nutritious Meals & Special Diets",icon:"fa-solid fa-utensils",description:"Thoughtfully planned meals tailored to dietary and medical needs."},{name:"Engaging Activities & Entertainment",icon:"fa-solid fa-compact-disc",description:"Personalized activities, social programs, and entertainment for enrichment and connection."},{name:"Comfortable & Accessible Living",icon:"fa-solid fa-wheelchair",description:"Housekeeping, wheelchair accessibility, and a clean, safe environment."}],benefits:[{name:"Private & Accessible Rooms",icon:"fa-solid fa-lock",description:"Private rooms with optional shared bathrooms, equipped with a calling system, phone, cable TV, and high-speed wireless internet."},{name:"Safe & Secure Environment",icon:"fa-brands fa-accessible-icon",description:"Handicap-accessible design, smoke alarms, a security system, emergency call buttons, and an electric generator for backup power."},{name:"Spacious & Inviting Common Areas",icon:"fa-solid fa-expand",description:"Open floor plan with high ceilings, hardwood floors, and a covered deck for relaxation."},{name:"Engaging Activities & Social Events",icon:"fa-solid fa-compact-disc",description:"Music and audiobook therapy, card and board games, knitting, word searches, puzzles, crafts, movie nights, and birthday celebrations."}],testimonials:[{id:"",name:"Sarah Thompson",quote:"Finding this Adult Family Home for my mother was the best decision we ever made.",relationship:"mother",photoURL:""}],employees:[{name:"Alex",photoURL:"../assets/employees/alex.jpg",id:"",bio:"17 years as a software engineer and 10 years as a professional photographer",role:"Programmer/Designer"}],metaTitle:"",metaDescription:"",metaKeywords:"",theme:{themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"hh"}}}}var x=u(980),b=u(5571);function J(i,l){if(1&i&&(e.qex(0),e.j41(1,"div",16)(2,"div",17),e.EFF(3),e.k0s()(),e.bVm()),2&i){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function K(i,l){if(1&i&&e.nrm(0,"img",18),2&i){const t=e.XpG().$implicit;let o;e.Y8G("src",null==(o=t.get("photoURL"))?null:o.value,e.B4B)}}function Q(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"label",8),e.EFF(4,"Employee Name"),e.k0s(),e.nrm(5,"input",9),e.k0s(),e.j41(6,"div",7)(7,"label",8),e.EFF(8,"Role"),e.k0s(),e.nrm(9,"input",10),e.k0s()(),e.j41(10,"div",6)(11,"div",7)(12,"label",8),e.EFF(13,"Bio"),e.k0s(),e.nrm(14,"textarea",11),e.k0s()(),e.j41(15,"div",6)(16,"div",7)(17,"label",8),e.EFF(18,"Photo"),e.k0s(),e.j41(19,"input",12),e.bIt("change",function(n){const a=e.eBV(t).index,c=e.XpG();return e.Njj(c.onEmployeeFileChange(n,a))}),e.k0s(),e.DNE(20,J,4,3,"ng-container",13),e.nI1(21,"async"),e.k0s(),e.j41(22,"div",7),e.DNE(23,K,1,1,"img",14),e.k0s()(),e.j41(24,"button",15),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeEmployee(s))}),e.EFF(25,"Remove Employee"),e.k0s()()}if(2&i){const t=l.$implicit,o=l.index,n=e.XpG();let s;e.Y8G("formGroupName",o),e.R7$(3),e.Mz_("for","employeeName-",o,""),e.R7$(2),e.Mz_("id","employeeName-",o,""),e.R7$(2),e.Mz_("for","employeeRole-",o,""),e.R7$(2),e.Mz_("id","employeeRole-",o,""),e.R7$(3),e.Mz_("for","employeeBio-",o,""),e.R7$(2),e.Mz_("id","employeeBio-",o,""),e.R7$(3),e.Mz_("for","employeePhoto-",o,""),e.R7$(2),e.Mz_("id","employeePhoto-",o,""),e.R7$(1),e.Y8G("ngIf",e.bMT(21,11,n.uploadProgress["employee_"+o])),e.R7$(3),e.Y8G("ngIf",null==(s=t.get("photoURL"))?null:s.value)}}let w=(()=>{class i{constructor(t,o){this.fb=t,this.uploadService=o,this.uploadProgress={}}get employees(){return this.form.get("employees")}populateEmployees(t){this.employees.clear(),(t??[]).forEach(o=>{const n=this.fb.group({id:[o.id],name:[o.name],role:[o.role],bio:[o.bio],photoURL:[o.photoURL]});this.employees.push(n)})}addEmployee(){const t=this.fb.group({id:[""],name:[""],role:[""],bio:[""],photoURL:[""]});this.employees.push(t)}removeEmployee(t){this.employees.removeAt(t)}onEmployeeFileChange(t,o){const n=t.target.files[0];if(n){const{uploadProgress:s,downloadUrl:a}=this.uploadService.uploadFile(n,this.businessId,"employee");this.uploadProgress[`employee_${o}`]=s,a.pipe((0,x.j)(()=>{a.subscribe(c=>{this.employees.at(o).patchValue({photoURL:c})})})).subscribe()}}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(b.B))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-employee"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:10,vars:2,consts:[[3,"formGroup"],[1,"section-container"],["formArrayName","employees"],["class","employee-card",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"add-btn",3,"click"],[1,"employee-card",3,"formGroupName"],[1,"row"],[1,"col"],[3,"for"],["formControlName","name","placeholder","Enter employee name",1,"form-control",3,"id"],["formControlName","role","placeholder","Enter employee role",1,"form-control",3,"id"],["formControlName","bio","rows","3","placeholder","Enter employee bio",1,"form-control",3,"id"],["type","file",1,"form-control",3,"id","change"],[4,"ngIf"],["alt","Employee Photo","class","employee-photo",3,"src",4,"ngIf"],["type","button",1,"delete-btn",3,"click"],[1,"progress"],[1,"progress-bar"],["alt","Employee Photo",1,"employee-photo",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Employee Profiles"),e.k0s(),e.j41(3,"div",1)(4,"h3"),e.EFF(5,"Employees List"),e.k0s(),e.j41(6,"div",2),e.DNE(7,Q,26,13,"div",3),e.k0s(),e.j41(8,"button",4),e.bIt("click",function(){return n.addEmployee()}),e.EFF(9,"+ Add Employee"),e.k0s()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("ngForOf",n.employees.controls))},dependencies:[d.Sq,d.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8,d.Jj],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}h2[_ngcontent-%COMP%]{border-bottom:2px solid #e67e22;color:#2c3e50;margin-bottom:20px;padding-bottom:10px;font-size:22px}h3[_ngcontent-%COMP%]{color:#34495e;font-size:18px;margin-bottom:10px}.section-container[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;margin-bottom:15px;border-left:4px solid #e67e22}.employee-card[_ngcontent-%COMP%]{background:white;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;border-left:4px solid #3498db;margin-bottom:10px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.col[_ngcontent-%COMP%]{flex:1;min-width:180px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;font-size:14px;transition:border .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#1abc9c;outline:none;box-shadow:0 0 5px #1abc9c80}button[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:10px 15px;font-size:14px;font-weight:700;cursor:pointer;border-radius:6px;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#219150}button[type=button][_ngcontent-%COMP%]{background-color:#e74c3c}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c0392b}.progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:5px;overflow:hidden;height:10px;margin-top:10px}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#007bff;text-align:center;color:#fff;line-height:10px}.employee-photo[_ngcontent-%COMP%]{margin-top:10px;max-width:150px;border-radius:10px;box-shadow:0 3px 6px #0003}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column}.col[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{font-size:13px;padding:8px}}"]})}}return i})();function Z(i,l){if(1&i&&(e.qex(0),e.j41(1,"div",20)(2,"div",21),e.EFF(3),e.k0s()(),e.bVm()),2&i){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function ee(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"div",2)(2,"div",3)(3,"label",10),e.EFF(4,"Name"),e.k0s(),e.nrm(5,"input",11),e.k0s(),e.j41(6,"div",3)(7,"label",12),e.EFF(8,"Relationship"),e.k0s(),e.nrm(9,"input",13),e.k0s()(),e.j41(10,"div",2)(11,"div",3)(12,"label",14),e.EFF(13,"Quote"),e.k0s(),e.nrm(14,"textarea",15),e.k0s()(),e.j41(15,"div",2)(16,"div",3)(17,"label",16),e.EFF(18,"Photo"),e.k0s(),e.j41(19,"input",17),e.bIt("change",function(n){const a=e.eBV(t).index,c=e.XpG();return e.Njj(c.onTestimonialFileChange(n,a))}),e.k0s(),e.DNE(20,Z,4,3,"ng-container",18),e.nI1(21,"async"),e.k0s(),e.j41(22,"div",3)(23,"button",19),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeTestimonial(s))}),e.EFF(24,"Remove Testimonial"),e.k0s()()()()}if(2&i){const t=l.index,o=e.XpG();e.Y8G("formGroupName",t),e.R7$(20),e.Y8G("ngIf",e.bMT(21,2,o.uploadProgress["testimonial"+t]))}}let B=(()=>{class i{constructor(t,o){this.fb=t,this.uploadService=o,this.uploadProgress={}}ngOnInit(){console.log("Reviews Admin Init")}populateTestimonials(t){this.testimonials.clear(),(t??[]).forEach(o=>{const n=this.fb.group({id:[o.id],name:[o.name],quote:[o.quote],relationship:[o.relationship],photoURL:[o.photoURL]});this.testimonials.push(n)})}get testimonials(){return this.form.get("testimonials")}addTestimonial(){const t=this.fb.group({id:[""],name:[""],relationship:[""],quote:[""],photoURL:[""]});this.testimonials.push(t)}removeTestimonial(t){this.testimonials.removeAt(t)}onTestimonialFileChange(t,o){const n=t.target.files[0];if(n){const{uploadProgress:s,downloadUrl:a}=this.uploadService.uploadFile(n,this.businessId,"testimonail");this.uploadProgress[`testimonails_${o}`]=s,a.pipe((0,x.j)(()=>{a.subscribe(c=>{this.testimonials.at(o).patchValue({photoURL:c})})})).subscribe()}}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(b.B))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-reviews"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:18,vars:2,consts:[[3,"formGroup"],[1,"section-container"],[1,"row"],[1,"col"],["for","socialMedia"],["id","socialMedia","formControlName","socialMedia",1,"form-control"],["formArrayName","testimonials"],["class","testimonial-item",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"add-btn",3,"click"],[1,"testimonial-item",3,"formGroupName"],["for","testimonialName"],["id","testimonialName","formControlName","name",1,"form-control"],["for","testimonialRelationship"],["id","testimonialRelationship","formControlName","relationship",1,"form-control"],["for","testimonialQuote"],["id","testimonialQuote","formControlName","quote",1,"form-control"],["for","testimonialPhoto"],["type","file","id","testimonialPhoto",1,"form-control",3,"change"],[4,"ngIf"],["type","button",1,"delete-btn",3,"click"],[1,"progress"],[1,"progress-bar"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Social Media & Reviews"),e.k0s(),e.j41(3,"div",1)(4,"h3"),e.EFF(5,"Social Media"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"label",4),e.EFF(9,"Social Media Links"),e.k0s(),e.nrm(10,"textarea",5),e.k0s()()(),e.j41(11,"div",1)(12,"h3"),e.EFF(13,"Testimonials"),e.k0s(),e.j41(14,"div",6),e.DNE(15,ee,25,4,"div",7),e.k0s(),e.j41(16,"button",8),e.bIt("click",function(){return n.addTestimonial()}),e.EFF(17,"+ Add Testimonial"),e.k0s()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(15),e.Y8G("ngForOf",n.testimonials.controls))},dependencies:[d.Sq,d.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8,d.Jj],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}h2[_ngcontent-%COMP%]{border-bottom:2px solid #e67e22;color:#2c3e50;margin-bottom:20px;padding-bottom:10px;font-size:22px}h3[_ngcontent-%COMP%]{color:#34495e;font-size:18px;margin-bottom:10px}.section-container[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;margin-bottom:15px;border-left:4px solid #e67e22}.testimonial-item[_ngcontent-%COMP%]{background:white;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;border-left:4px solid #3498db;margin-bottom:10px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.col[_ngcontent-%COMP%]{flex:1;min-width:180px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;font-size:14px;transition:border .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#1abc9c;outline:none;box-shadow:0 0 5px #1abc9c80}button[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:10px 15px;font-size:14px;font-weight:700;cursor:pointer;border-radius:6px;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#219150}button[type=button][_ngcontent-%COMP%]{background-color:#e74c3c}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c0392b}.progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:5px;overflow:hidden;height:10px;margin-top:10px}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#007bff;text-align:center;color:#fff;line-height:10px}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column}.col[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{font-size:13px;padding:8px}}"]})}}return i})();function te(i,l){1&i&&(e.j41(0,"div",14)(1,"label",15),e.EFF(2,"Service Name"),e.k0s(),e.nrm(3,"input",16),e.j41(4,"label",17),e.EFF(5,"Font Awesome Icon"),e.k0s(),e.nrm(6,"input",18),e.j41(7,"label",19),e.EFF(8,"Description"),e.k0s(),e.nrm(9,"textarea",20),e.k0s())}function oe(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"div",7),e.nrm(2,"i"),e.j41(3,"span",8),e.EFF(4),e.k0s(),e.j41(5,"div",9)(6,"button",10),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.toggleService(s))}),e.nrm(7,"i"),e.k0s(),e.j41(8,"button",11),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeService(s))}),e.nrm(9,"i",12),e.k0s()()(),e.DNE(10,te,10,0,"div",13),e.k0s()}if(2&i){const t=l.$implicit,o=l.index,n=e.XpG();let s,a;e.Y8G("formGroupName",o),e.R7$(2),e.HbH((null==(s=t.get("icon"))?null:s.value)||"fa fa-star"),e.R7$(2),e.Lme("","Service "+(o+1),": ",null==(a=t.get("name"))?null:a.value,""),e.R7$(3),e.HbH(n.collapsedServices[o]?"fa-solid fa-angles-down":"fa-solid fa-angles-up"),e.R7$(3),e.Y8G("ngIf",!n.collapsedServices[o])}}function ne(i,l){1&i&&(e.j41(0,"div",25)(1,"label",26),e.EFF(2,"Benefit Name"),e.k0s(),e.nrm(3,"input",27),e.j41(4,"label",28),e.EFF(5,"Font Awesome Icon"),e.k0s(),e.nrm(6,"input",29),e.j41(7,"label",30),e.EFF(8,"Description"),e.k0s(),e.nrm(9,"textarea",31),e.k0s())}function ie(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"div",22),e.nrm(2,"i"),e.j41(3,"span",23),e.EFF(4),e.k0s(),e.j41(5,"div",9)(6,"button",10),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.toggleBenefit(s))}),e.nrm(7,"i"),e.k0s(),e.j41(8,"button",11),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeBenefit(s))}),e.nrm(9,"i",12),e.k0s()()(),e.DNE(10,ne,10,0,"div",24),e.k0s()}if(2&i){const t=l.$implicit,o=l.index,n=e.XpG();let s,a;e.Y8G("formGroupName",o),e.R7$(2),e.HbH((null==(s=t.get("icon"))?null:s.value)||"fa fa-star"),e.R7$(2),e.Lme("","Benefit "+(o+1),": ",null==(a=t.get("name"))?null:a.value,""),e.R7$(3),e.HbH(n.collapsedBenefits[o]?"fa-solid fa-angles-down":"fa-solid fa-angles-up"),e.R7$(3),e.Y8G("ngIf",!n.collapsedBenefits[o])}}let N=(()=>{class i{constructor(t,o){this.fb=t,this.cdRef=o,this.collapsedServices=[],this.collapsedBenefits=[]}ngOnInit(){this.form.controls.services||this.form.addControl("services",this.fb.array([])),this.form.controls.benefits||this.form.addControl("benefits",this.fb.array([])),this.newServiceForm=this.fb.group({name:["",r.k0.required],icon:[""],description:[]}),this.newBenefitsForm=this.fb.group({name:["",r.k0.required],icon:[""],description:[]}),this.initializeCollapsedStates()}populateServices(t){this.services.clear(),(t??[]).forEach(o=>{const n=this.fb.group({name:[o.name],icon:[o.icon],description:[o.description]});this.services.push(n)}),this.initializeCollapsedStates()}populateBenefits(t){this.benefits.clear(),(t??[]).forEach(o=>{const n=this.fb.group({name:[o.name],icon:[o.icon],description:[o.description]});this.benefits.push(n)})}get services(){return this.form.get("services")}get benefits(){return this.form.get("benefits")}initializeCollapsedStates(){this.collapsedServices=new Array(this.services.length).fill(!0),this.collapsedBenefits=new Array(this.benefits.length).fill(!0)}toggleService(t){t>=0&&t<this.collapsedServices.length&&(this.collapsedServices[t]=!this.collapsedServices[t])}toggleBenefit(t){t>=0&&t<this.collapsedBenefits.length&&(this.collapsedBenefits[t]=!this.collapsedBenefits[t])}addService(){const t=this.fb.group({name:[""],icon:[""],description:[""]});this.services.insert(0,t),this.collapsedServices.unshift(!1),this.cdRef.detectChanges()}removeService(t){this.services.removeAt(t)}addBenefit(){const t=this.fb.group({name:[""],icon:[""],description:[""]});this.benefits.insert(0,t),this.collapsedBenefits.unshift(!0),this.cdRef.detectChanges()}removeBenefit(t){this.benefits.removeAt(t)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-services-page"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:11,vars:3,consts:[[3,"formGroup"],[3,"click"],["formArrayName","services"],["class","service-container",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","benefits"],["class","benefit-container",3,"formGroupName",4,"ngFor","ngForOf"],[1,"service-container",3,"formGroupName"],[1,"service-header"],[1,"service-name"],[1,"button-group"],[1,"icon-btn",3,"click"],[1,"icon-btn","delete-btn",3,"click"],[1,"fa-solid","fa-trash-can"],["class","service-details",4,"ngIf"],[1,"service-details"],["for","serviceName"],["formControlName","name","id","serviceName","placeholder","Enter service name",1,"form-control"],["for","serviceIcon"],["formControlName","icon","id","serviceIcon","placeholder","Enter Icon Class",1,"form-control"],["for","serviceDescription"],["formControlName","description","id","serviceDescription","rows","3",1,"form-control"],[1,"benefit-container",3,"formGroupName"],[1,"benefit-header"],[1,"benefit-name"],["class","benefit-details",4,"ngIf"],[1,"benefit-details"],["for","benefitName"],["formControlName","name","id","benefitName","placeholder","Enter benefit name",1,"form-control"],["for","benefitIcon"],["formControlName","icon","id","benefitIcon","placeholder","Enter Icon Class",1,"form-control"],["for","benefitDescription"],["formControlName","description","id","benefitDescription","rows","3",1,"form-control"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Services Page"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return n.addService()}),e.EFF(4,"+ Add Service"),e.k0s(),e.j41(5,"div",2),e.DNE(6,oe,11,8,"div",3),e.k0s(),e.j41(7,"button",1),e.bIt("click",function(){return n.addBenefit()}),e.EFF(8,"+ Add Benefit"),e.k0s(),e.j41(9,"div",4),e.DNE(10,ie,11,8,"div",5),e.k0s()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("ngForOf",n.services.controls),e.R7$(4),e.Y8G("ngForOf",n.benefits.controls))},dependencies:[d.Sq,d.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:[".services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.list-item[_ngcontent-%COMP%]{border:solid 1px black;border-radius:15px;padding:20px}.list-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.service-item_info[_ngcontent-%COMP%]{display:flex}.service-item_info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px}.sectionForm-container[_ngcontent-%COMP%]{border:solid 1px var(--dark-background-color);border-radius:15px;padding:10px;margin:5px}.sectionForm-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.sectionForm-header-item[_ngcontent-%COMP%]{width:50%;padding:10px}.collapsed[_ngcontent-%COMP%]{display:none}.toggle-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:5px 10px;cursor:pointer;margin-bottom:10px}.benefit-container[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;margin-bottom:8px;border-radius:4px}.benefit-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px;cursor:pointer}.benefit-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.benefit-name[_ngcontent-%COMP%]{flex-grow:1;font-weight:700}.service-container[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;margin-bottom:8px;border-radius:4px}.service-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px;cursor:pointer}.service-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.service-name[_ngcontent-%COMP%]{flex-grow:1;font-weight:700}.button-group[_ngcontent-%COMP%]{display:flex;gap:8px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:18px;color:#007bff}.delete-btn[_ngcontent-%COMP%]{color:red}button[type=button][_ngcontent-%COMP%]{background-color:var(--button-color);color:#fff;border:none;padding:5px 10px;border-radius:.25rem;margin-top:10px}button[type=button][_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}}return i})();var G=u(467),se=u(5743);function re(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function ae(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function le(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function ce(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function de(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function pe(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function ue(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function me(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function ge(i,l){if(1&i&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function fe(i,l){1&i&&(e.j41(0,"div")(1,"label"),e.EFF(2,"Content"),e.k0s(),e.nrm(3,"textarea",50),e.k0s())}function be(i,l){if(1&i&&e.nrm(0,"img",51),2&i){const t=e.XpG(2).$implicit;let o;e.Y8G("src",null==(o=t.get("sectionImageUrl"))?null:o.value,e.B4B)}}function he(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",6)(1,"label",52),e.nrm(2,"img",53),e.j41(3,"input",54),e.bIt("change",function(n){const a=e.eBV(t).$implicit,c=e.XpG(2).index,p=e.XpG();return e.Njj(p.selectCheckboxImage(c,a.url,n))}),e.k0s()()()}if(2&i){const t=l.$implicit,o=e.XpG(2).$implicit;let n;e.R7$(2),e.Y8G("src",t.url,e.B4B),e.R7$(1),e.Y8G("checked",(null==(n=o.get("sectionImageUrl"))?null:n.value)===t.url)}}function _e(i,l){1&i&&(e.j41(0,"div",6)(1,"label"),e.EFF(2,"Button Text"),e.k0s(),e.nrm(3,"input",55),e.k0s())}function ve(i,l){1&i&&(e.j41(0,"div",6)(1,"label"),e.EFF(2,"Button Link"),e.k0s(),e.nrm(3,"input",56),e.k0s())}function Ce(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",61)(1,"div"),e.nrm(2,"i"),e.j41(3,"span",62),e.EFF(4),e.k0s()(),e.j41(5,"label"),e.EFF(6,"Title:"),e.k0s(),e.nrm(7,"input",63),e.j41(8,"label"),e.EFF(9,"Description:"),e.k0s(),e.nrm(10,"input",64),e.j41(11,"label"),e.EFF(12,"Icon:"),e.k0s(),e.nrm(13,"input",65),e.j41(14,"button",49),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG(4).index,c=e.XpG();return e.Njj(c.removeItem(a,s))}),e.EFF(15,"Remove"),e.k0s()()}if(2&i){const t=l.$implicit,o=l.index;let n,s;e.Y8G("formGroupName",o),e.R7$(2),e.HbH((null==(n=t.get("icon"))?null:n.value)||"fa fa-star"),e.R7$(2),e.Lme("","Title "+(o+1),": ",null==(s=t.get("title"))?null:s.value,"")}}function xe(i,l){if(1&i&&(e.j41(0,"div")(1,"div",59),e.DNE(2,Ce,16,5,"div",60),e.k0s()()),2&i){const t=l.ngIf;e.R7$(2),e.Y8G("ngForOf",t.controls)}}function ke(i,l){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"h3"),e.EFF(2,"List Items"),e.k0s(),e.j41(3,"div",5)(4,"div",6)(5,"label"),e.EFF(6,"Parallax"),e.k0s(),e.nrm(7,"input",57),e.k0s(),e.j41(8,"div",6)(9,"label"),e.EFF(10,"Minimal "),e.k0s(),e.nrm(11,"input",58),e.k0s()(),e.j41(12,"button",1),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).index,s=e.XpG();return e.Njj(s.addItem(n))}),e.EFF(13,"+ Add Item"),e.k0s(),e.DNE(14,xe,3,1,"div",12),e.k0s()}if(2&i){const t=e.XpG(2).$implicit,o=e.XpG();e.R7$(14),e.Y8G("ngIf",o.getItems(t))}}function Fe(i,l){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",13),e.nrm(2,"div",5),e.k0s(),e.j41(3,"div",5)(4,"div",6)(5,"label"),e.EFF(6,"Order"),e.k0s(),e.nrm(7,"input",14),e.k0s(),e.j41(8,"div",6)(9,"label"),e.EFF(10,"Page"),e.k0s(),e.j41(11,"select",15),e.DNE(12,re,2,2,"option",16),e.k0s()(),e.j41(13,"div",6)(14,"label"),e.EFF(15,"Location"),e.k0s(),e.j41(16,"select",17),e.DNE(17,ae,2,2,"option",16),e.k0s()(),e.j41(18,"div",6)(19,"label"),e.EFF(20,"Component Type"),e.k0s(),e.j41(21,"select",18),e.DNE(22,le,2,2,"option",16),e.k0s()()(),e.j41(23,"div")(24,"div",5)(25,"div",6)(26,"label"),e.EFF(27,"Title"),e.k0s(),e.nrm(28,"input",19),e.k0s(),e.j41(29,"div",6)(30,"label"),e.EFF(31,"Title Font Size"),e.k0s(),e.nrm(32,"input",20),e.k0s(),e.j41(33,"div",6)(34,"label"),e.EFF(35,"Title Font Style"),e.k0s(),e.j41(36,"select",21),e.DNE(37,ce,2,2,"option",16),e.k0s()(),e.j41(38,"div",6)(39,"label"),e.EFF(40,"Title Color"),e.k0s(),e.j41(41,"select",22),e.DNE(42,de,2,2,"option",16),e.k0s()()(),e.j41(43,"div",5)(44,"div",6)(45,"label"),e.EFF(46,"Subtitle"),e.k0s(),e.nrm(47,"input",23),e.k0s(),e.j41(48,"div",6)(49,"label"),e.EFF(50,"Subtitle Font Size"),e.k0s(),e.nrm(51,"input",24),e.k0s(),e.j41(52,"div",6)(53,"label"),e.EFF(54,"Subtitle Font Style"),e.k0s(),e.j41(55,"select",25),e.DNE(56,pe,2,2,"option",16),e.k0s()(),e.j41(57,"div",6)(58,"label"),e.EFF(59,"Subtitle Color"),e.k0s(),e.j41(60,"select",26),e.DNE(61,ue,2,2,"option",16),e.k0s()()(),e.j41(62,"div",5)(63,"div",6)(64,"label"),e.EFF(65,"Background Color"),e.k0s(),e.j41(66,"select",27),e.DNE(67,me,2,2,"option",16),e.k0s()(),e.j41(68,"div",6)(69,"label"),e.EFF(70,"Text Color"),e.k0s(),e.j41(71,"select",28),e.DNE(72,ge,2,2,"option",16),e.k0s()(),e.j41(73,"div",6)(74,"label"),e.EFF(75,"Text Alignment"),e.k0s(),e.j41(76,"select",29)(77,"option",30),e.EFF(78,"Left"),e.k0s(),e.j41(79,"option",31),e.EFF(80,"Center"),e.k0s(),e.j41(81,"option",32),e.EFF(82,"Right"),e.k0s()()(),e.j41(83,"div",6)(84,"label"),e.EFF(85,"Layout"),e.k0s(),e.j41(86,"select",33)(87,"option",34),e.EFF(88,"Full Width (100%)"),e.k0s(),e.j41(89,"option",34),e.EFF(90,"Centered (1200px)"),e.k0s()()(),e.j41(91,"div",6)(92,"label"),e.EFF(93,"Box Shadow"),e.k0s(),e.nrm(94,"input",35),e.k0s(),e.j41(95,"div",6)(96,"label"),e.EFF(97,"Border Radius (px)"),e.k0s(),e.nrm(98,"input",36),e.k0s()(),e.DNE(99,fe,4,0,"div",12),e.j41(100,"div",5)(101,"div",6)(102,"label"),e.EFF(103,"Image Preview"),e.k0s(),e.DNE(104,be,1,1,"img",37),e.k0s(),e.j41(105,"div",6)(106,"label"),e.EFF(107,"Image Upload"),e.k0s(),e.nrm(108,"input",38),e.j41(109,"input",39),e.bIt("change",function(n){e.eBV(t);const s=e.XpG().index,a=e.XpG();return e.Njj(a.uploadImage(n,s))}),e.k0s()(),e.j41(110,"div",6)(111,"button",40),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,s=e.XpG();return e.Njj(s.clearImage(n))}),e.EFF(112,"Clear Image"),e.k0s()(),e.j41(113,"div",6)(114,"label"),e.EFF(115,"Show Image?"),e.k0s(),e.nrm(116,"input",41),e.k0s()(),e.j41(117,"div",42)(118,"div",6)(119,"label"),e.nrm(120,"input",43),e.EFF(121," Upload Your Own Image "),e.k0s()(),e.j41(122,"div",6)(123,"label"),e.nrm(124,"input",44),e.EFF(125," Choose Preferred Image "),e.k0s()()(),e.j41(126,"div",45)(127,"h4"),e.EFF(128,"Select a Preferred Image"),e.k0s(),e.j41(129,"div",5),e.DNE(130,he,4,2,"div",46),e.k0s()(),e.j41(131,"div",5)(132,"div",6)(133,"label"),e.EFF(134,"Show Button?"),e.k0s(),e.nrm(135,"input",47),e.k0s(),e.DNE(136,_e,4,0,"div",48),e.DNE(137,ve,4,0,"div",48),e.k0s()(),e.DNE(138,ke,15,1,"div",12),e.j41(139,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,s=e.XpG();return e.Njj(s.updateSection(n))}),e.EFF(140,"Update"),e.k0s(),e.j41(141,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,s=e.XpG();return e.Njj(s.removeSection(n))}),e.EFF(142,"Delete"),e.k0s()()}if(2&i){const t=e.XpG().$implicit,o=e.XpG();let n,s,a,c,p;e.R7$(12),e.Y8G("ngForOf",o.pages),e.R7$(5),e.Y8G("ngForOf",o.locations),e.R7$(5),e.Y8G("ngForOf",o.componentTypes),e.R7$(15),e.Y8G("ngForOf",o.fontStyles),e.R7$(5),e.Y8G("ngForOf",o.predefinedColors),e.R7$(14),e.Y8G("ngForOf",o.fontStyles),e.R7$(5),e.Y8G("ngForOf",o.predefinedColors),e.R7$(6),e.Y8G("ngForOf",o.predefinedColors),e.R7$(5),e.Y8G("ngForOf",o.predefinedColors),e.R7$(15),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(10),e.Y8G("ngIf","item-list"!==(null==(n=t.get("component"))?null:n.value)),e.R7$(5),e.Y8G("ngIf",null==(s=t.get("sectionImageUrl"))?null:s.value),e.R7$(26),e.Y8G("ngForOf",o.predefinedImages),e.R7$(6),e.Y8G("ngIf",null==(a=t.get("showButton"))?null:a.value),e.R7$(1),e.Y8G("ngIf",null==(c=t.get("showButton"))?null:c.value),e.R7$(1),e.Y8G("ngIf","item-list"===(null==(p=t.get("component"))?null:p.value)||"why-us"===(null==(p=t.get("component"))?null:p.value)||"unique-features"===(null==(p=t.get("component"))?null:p.value))}}function ye(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"h3"),e.EFF(4),e.k0s()(),e.j41(5,"div",6)(6,"label",7),e.EFF(7),e.k0s()(),e.j41(8,"div",6)(9,"label",7),e.EFF(10),e.k0s()(),e.j41(11,"div",6)(12,"label",8),e.EFF(13),e.k0s()(),e.j41(14,"div",6)(15,"label",9),e.EFF(16),e.k0s()(),e.j41(17,"div",6)(18,"button",10),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.toggleSection(s))}),e.nrm(19,"i",11),e.k0s()()(),e.DNE(20,Fe,143,17,"div",12),e.k0s()}if(2&i){const t=l.$implicit,o=l.index,n=e.XpG();let s,a,c,p,f;e.Y8G("formGroupName",o),e.R7$(4),e.Lme("",o+1,", ",null==(s=t.get("sectionTitle"))?null:s.value,""),e.R7$(3),e.JRh(null==(a=t.get("order"))?null:a.value),e.R7$(3),e.JRh(null==(c=t.get("page"))?null:c.value),e.R7$(3),e.JRh(null==(p=t.get("location"))?null:p.value),e.R7$(3),e.JRh(null==(f=t.get("component"))?null:f.value),e.R7$(3),e.Y8G("ngClass",n.collapsedSections[o]?"fa-angles-down":"fa-angles-up"),e.R7$(1),e.Y8G("ngIf",n.collapsedSections[o])}}let A=(()=>{class i{get sections(){return this.form.get("sections")}constructor(t,o,n){this.fb=t,this.businessSectionsService=o,this.uploadService=n,this.collapsedSections=[],this.pages=["home","aboutus","services","faq","contactus","gallery","testimonials"],this.locations=["","left","right","top","bottom"],this.componentTypes=["center-text","left-text","right-text","item-list","why-us","unique-features"],this.fontStyles=["normal","bold","italic"],this.predefinedColors=[{name:"Primary",value:"var(--primary-color)"},{name:"Secondary",value:"var(--secondary-color)"},{name:"Accent",value:"var(--accent-color)"},{name:"Background",value:"var(--background-color)"},{name:"Dark Background",value:"var(--dark-background-color)"},{name:"Text",value:"var(--text-color)"},{name:"Nav Background",value:"var(--nav-background-color)"},{name:"Nav Text",value:"var(--nav-text-color)"},{name:"Nav Active Background",value:"var(--nav-active-background)"},{name:"Nav Active Text",value:"var(--nav-active-text)"},{name:"Button",value:"var(--button-color)"},{name:"Button Hover",value:"var(--button-hover-color)"},{name:"Button Text",value:"var(--button-text-color)"},{name:"Border",value:"var(--border-color)"}],this.uploadProgress={},this.predefinedImages=[{url:"assets/sharedAssets/image_fx_(1).jpg"},{url:"assets/sharedAssets/image_fx_(2).jpg"},{url:"assets/sharedAssets/image_fx_(3).jpg"},{url:"assets/sharedAssets/image_fx_(4).jpg"},{url:"assets/sharedAssets/image_fx_(5).jpg"},{url:"assets/sharedAssets/istockphoto-478915838-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-480743801-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-502998071-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-613308420-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-653191338-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-655931804-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-804432288-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-912405752-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-918529390-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-941789670-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1022730404-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1207318385-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1307432717-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1335866199-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-2012854188-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-2032240867-2048x2048.jpg"},{url:"assets/sharedAssets/5388429572_df9a403081_k.jpg"},{url:"assets/sharedAssets/9676303919_32372bf834_o.jpg"}]}ngOnInit(){this.collapsedSections=this.sections.controls.map(()=>!0),this.loadSections()}loadSections(){this.businessId&&this.businessSectionsService.getAllBusinessSections(this.businessId).subscribe(t=>{this.sections.clear(),t.sort((o,n)=>{const s=this.pages.indexOf(o.page)-this.pages.indexOf(n.page);return 0!==s?s:(o.order||0)-(n.order||0)}),t.forEach((o,n)=>{console.log(`\u{1f50d} Section ${n+1}:`,o),console.log(`\u{1f5bc}\ufe0f Image URL for Section ${n+1}:`,o.sectionImageUrl),this.sections.push(this.fb.group({id:[o.id],component:[o.component||"center-text"],order:[o.order||0],sectionTitle:[o.sectionTitle],titleFontSize:[o.titleFontSize||16],titleFontStyle:[o.titleFontStyle||"normal"],sectionSubTitle:[o.sectionSubTitle],subtitleFontSize:[o.subtitleFontSize||14],subtitleFontStyle:[o.subtitleFontStyle||"normal"],page:[o.page],location:[o.location],sectionContent:[o.sectionContent],sectionImageUrl:[o.sectionImageUrl],showImage:[o.showImage],showButton:[o.showButton||!1],buttonText:[o.buttonText||"Learn More"],buttonLink:[o.buttonLink||"contact-us"],alignText:[o.alignText||"left"],boxShadow:[o.boxShadow||!1],borderRadius:[o.borderRadius||10],isMinimal:[o.isMinimal||!1],isParallax:[o.isParallax||!1],backgroundColor:[o.backgroundColor],textColor:[o.textColor],titleColor:[o.titleColor],subtitleColor:[o.subtitleColor],fullWidth:[o.fullWidth],imageSource:["upload"],items:this.fb.array(o.items?o.items.map(s=>this.createItemForm(s)):[])}))})})}createItemForm(t={title:"",description:"",icon:""}){return this.fb.group({title:[t.title],description:[t.description],icon:[t.icon]})}addSection(){const t=this.fb.group({id:[null],component:["center-text"],order:[0],sectionTitle:[""],titleFontSize:[16],titleFontStyle:["normal"],sectionSubTitle:[""],subtitleFontSize:[14],subtitleFontStyle:["normal"],page:["home"],location:["center"],sectionImageUrl:[""],sectionContent:[""],showLearnMore:[!1],showImage:[!1],imageSource:["upload"],showButton:[!1],buttonText:["Learn More"],buttonLink:["contact-us"],alignText:["left"],boxShadow:[!1],borderRadius:[0],backgroundColor:["#ffffff"],textColor:["#000000"],titleColor:["#000000"],subtitleColor:["#000000"],items:this.fb.array([])});this.sections.push(t)}removeSection(t){const o=this.sections.at(t).value;this.businessId&&o.id&&this.businessSectionsService.deleteSection(this.businessId,o.id).then(()=>{console.log("\u2705 Section deleted successfully:",o.id),this.sections.removeAt(t)}).catch(n=>{console.error("\u274c Error deleting section:",n)})}addItem(t){this.sections.at(t).get("items").push(this.createItemForm())}removeItem(t,o){this.sections.at(t).get("items").removeAt(o)}getItems(t){if(t instanceof r.gE){const o=t.get("items");return console.log("\u{1f4cc} Items for section:",o.value),o}return null}uploadImage(t,o){var n=this;return(0,G.A)(function*(){const s=t.target.files?.[0];if(!s||!n.businessId)return;const a=n.sections.at(o);try{const{uploadProgress:c,downloadUrl:p}=n.uploadService.uploadFile(s,n.businessId,"sectionsImages");n.uploadProgress[o]=c,p.subscribe(f=>{f&&(a.patchValue({sectionImageUrl:f}),a.get("sectionImageUrl")?.updateValueAndValidity(),console.log(`\u2705 Image uploaded successfully: ${f}`))})}catch(c){console.error("\u274c Image upload failed:",c)}})()}clearImage(t){this.sections.at(t).get("sectionImageUrl")?.setValue("")}setImageSource(t,o){const n=this.sections.at(t);n.get("imageSource")?.setValue(o),"upload"===o&&n.get("sectionImageUrl")?.setValue("")}selectPreferredImage(t,o){this.sections.at(t).get("sectionImageUrl")?.setValue(o)}selectCheckboxImage(t,o,n){const s=n.target,a=this.sections.at(t);s.checked?a.get("sectionImageUrl")?.setValue(o):a.get("sectionImageUrl")?.value===o&&a.get("sectionImageUrl")?.setValue("")}updateSection(t){const o=this.sections.at(t).value;this.businessId&&(o.sectionImageUrl||(o.sectionImageUrl=null),this.businessSectionsService.saveSection(this.businessId,o).then(()=>{console.log("\u2705 Section updated successfully:",o)}).catch(n=>{console.error("\u274c Error updating section:",n)}))}toggleSection(t){this.collapsedSections[t]=!this.collapsedSections[t]}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(se.W),e.rXU(b.B))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-section-manager"]],inputs:{form:"form",businessId:"businessId"},decls:7,vars:2,consts:[[3,"formGroup"],[1,"afhBtn",3,"click"],["formArrayName","sections"],["class","sectionForm-container",3,"formGroupName",4,"ngFor","ngForOf"],[1,"sectionForm-container",3,"formGroupName"],[1,"row"],[1,"col"],[1,"page"],[1,"location"],[1,"component"],[1,"icon-btn",3,"click"],[1,"fa-solid",3,"ngClass"],[4,"ngIf"],[1,"section-header"],["type","number","formControlName","order",1,"form-control"],["formControlName","page",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["formControlName","location",1,"form-control"],["formControlName","component",1,"form-control"],["formControlName","sectionTitle",1,"form-control"],["type","number","formControlName","titleFontSize",1,"form-control"],["formControlName","titleFontStyle",1,"form-control"],["formControlName","titleColor",1,"form-control"],["formControlName","sectionSubTitle",1,"form-control"],["type","number","formControlName","subtitleFontSize",1,"form-control"],["formControlName","subtitleFontStyle",1,"form-control"],["formControlName","subtitleColor",1,"form-control"],["formControlName","backgroundColor",1,"form-control"],["formControlName","textColor",1,"form-control"],["formControlName","alignText",1,"form-control"],["value","left"],["value","center"],["value","right"],["formControlName","fullWidth",1,"form-control"],[3,"value"],["type","checkbox","formControlName","boxShadow"],["type","number","formControlName","borderRadius",1,"form-control"],["class","uploaded-image-preview",3,"src",4,"ngIf"],["type","text","formControlName","sectionImageUrl","placeholder","Image URL","readonly","",1,"form-control"],["type","file",1,"form-control",3,"change"],["type","button",3,"click"],["type","checkbox","formControlName","showImage"],[1,"row",2,"margin-top","10px"],["type","radio","formControlName","imageSource","value","upload"],["type","radio","formControlName","imageSource","value","predefined"],[2,"margin-top","10px"],["class","col",4,"ngFor","ngForOf"],["type","checkbox","formControlName","showButton"],["class","col",4,"ngIf"],[3,"click"],["formControlName","sectionContent",1,"form-control"],[1,"uploaded-image-preview",3,"src"],[2,"display","block","text-align","center"],[1,"uploaded-image-preview",2,"cursor","pointer","display","block","margin","auto",3,"src"],["type","checkbox",3,"checked","change"],["type","text","formControlName","buttonText",1,"form-control"],["type","text","formControlName","buttonLink",1,"form-control"],["type","checkbox","formControlName","isParallax"],["type","checkbox","formControlName","isMinimal"],["formArrayName","items"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"service-name"],["formControlName","title","placeholder","Title",1,"form-control"],["formControlName","description","placeholder","Description",1,"form-control"],["formControlName","icon","placeholder","Icon",1,"form-control"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Sections"),e.k0s(),e.j41(3,"button",1),e.bIt("click",function(){return n.addSection()}),e.EFF(4,"+ Add Section"),e.k0s(),e.j41(5,"div",2),e.DNE(6,ye,21,9,"div",3),e.k0s()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("ngForOf",n.sections.controls))},dependencies:[d.YU,d.Sq,d.bT,r.qT,r.xH,r.y7,r.me,r.Q0,r.Zm,r.wz,r.Fm,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}h2[_ngcontent-%COMP%]{border-bottom:2px solid #e67e22;color:#2c3e50;margin-bottom:20px;padding-bottom:10px;font-size:22px}h3[_ngcontent-%COMP%]{color:#34495e;font-size:18px;margin-bottom:10px}.sectionForm-container[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;margin-bottom:15px;border-left:4px solid #e67e22}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.col[_ngcontent-%COMP%]{flex:1;min-width:180px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;font-size:14px;transition:border .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#1abc9c;outline:none;box-shadow:0 0 5px #1abc9c80}details[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;padding:10px;background:#ecf0f1;border-radius:6px}summary[_ngcontent-%COMP%]{font-weight:700;cursor:pointer;font-size:16px;color:#2c3e50}button[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:10px 15px;font-size:14px;font-weight:700;cursor:pointer;border-radius:6px;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#219150}button[type=button][_ngcontent-%COMP%]{background-color:#e74c3c}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c0392b}.uploaded-image-preview[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;display:block;margin-top:10px;border:1px solid #ddd;border-radius:5px;box-shadow:0 3px 6px #0003}.config-settings[_ngcontent-%COMP%]{background:#f4f4f4;padding:15px;border-radius:8px;margin-top:20px}.config-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-top:10px}.config-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .config-settings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:6px;border:1px solid #ccc;margin-top:5px}@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:15px}.row[_ngcontent-%COMP%]{flex-direction:column}.col[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{font-size:13px;padding:8px}}"]})}}return i})();var C=u(6697),R=u(8721);function je(i,l){if(1&i&&(e.j41(0,"div",34),e.nrm(1,"img",35),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("src",null==t.business?null:t.business.faviconUrl,e.B4B)}}function Ie(i,l){1&i&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No favicon available."),e.k0s()())}let Me=(()=>{class i{ngOnInit(){}ngOnChanges(t){}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-basic-info"]],inputs:{form:"form",business:"business",businessId:"businessId"},features:[e.OA$],decls:68,vars:3,consts:[[3,"formGroup"],[1,"form-group"],["for","businessName",1,"required"],["id","businessName","formControlName","businessName","required","",1,"form-control"],["for","providerName"],["id","providerName","formControlName","providerName",1,"form-control"],["for","tagline"],["id","tagline","formControlName","tagline",1,"form-control"],["for","address"],["id","address","formControlName","address",1,"form-control"],["for","phone"],["id","phone","formControlName","phone",1,"form-control"],["for","fax"],["id","fax","formControlName","fax",1,"form-control"],["for","email",1,"required"],["id","email","formControlName","email","required","",1,"form-control"],["for","businessURL"],["id","businessURL","formControlName","businessURL",1,"form-control"],["for","businessHours"],["id","businessHours","formControlName","businessHours",1,"form-control"],["for","keyWords"],["id","keyWords","formControlName","keyWords",1,"form-control"],["for","metaTitle"],["id","metaTitle","formControlName","metaTitle",1,"form-control"],["for","metaKeywords"],["id","metaKeywords","formControlName","metaKeywords",1,"form-control"],["for","metaDescription"],["id","metaDescription","formControlName","metaDescription",1,"form-control"],["for","placeId"],["id","placeId","formControlName","placeId",1,"form-control"],["for","faviconUrl"],["id","faviconUrl","formControlName","faviconUrl",1,"form-control"],["class","existing-logo",4,"ngIf"],[4,"ngIf"],[1,"existing-logo"],["alt","Business Favicon",1,"logoImage",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Business Information"),e.k0s(),e.j41(3,"div",1)(4,"label",2),e.EFF(5,"Business Name"),e.k0s(),e.nrm(6,"input",3),e.k0s(),e.j41(7,"div",1)(8,"label",4),e.EFF(9,"Provider Name"),e.k0s(),e.nrm(10,"input",5),e.k0s(),e.j41(11,"div",1)(12,"label",6),e.EFF(13,"Tagline"),e.k0s(),e.nrm(14,"input",7),e.k0s(),e.j41(15,"div",1)(16,"label",8),e.EFF(17,"Address"),e.k0s(),e.nrm(18,"textarea",9),e.k0s(),e.j41(19,"div",1)(20,"label",10),e.EFF(21,"Phone"),e.k0s(),e.nrm(22,"input",11),e.k0s(),e.j41(23,"div",1)(24,"label",12),e.EFF(25,"Fax"),e.k0s(),e.nrm(26,"input",13),e.k0s(),e.j41(27,"div",1)(28,"label",14),e.EFF(29,"Email"),e.k0s(),e.nrm(30,"input",15),e.k0s(),e.j41(31,"div",1)(32,"label",16),e.EFF(33,"Web Address"),e.k0s(),e.nrm(34,"input",17),e.k0s(),e.j41(35,"div",1)(36,"label",18),e.EFF(37,"Business Hours"),e.k0s(),e.nrm(38,"textarea",19),e.k0s(),e.j41(39,"div",1)(40,"label",20),e.EFF(41,"Key Words"),e.k0s(),e.nrm(42,"textarea",21),e.k0s(),e.j41(43,"section")(44,"h2"),e.EFF(45,"Meta Data"),e.k0s(),e.j41(46,"div",1)(47,"label",22),e.EFF(48,"Meta Title"),e.k0s(),e.nrm(49,"textarea",23),e.k0s(),e.j41(50,"div",1)(51,"label",24),e.EFF(52,"Meta Keywords"),e.k0s(),e.nrm(53,"textarea",25),e.k0s(),e.j41(54,"div",1)(55,"label",26),e.EFF(56,"Meta Description"),e.k0s(),e.nrm(57,"textarea",27),e.k0s(),e.j41(58,"div",1)(59,"label",28),e.EFF(60,"Google Place ID"),e.k0s(),e.nrm(61,"textarea",29),e.k0s(),e.j41(62,"div",1)(63,"label",30),e.EFF(64,"Favicon Url"),e.k0s(),e.nrm(65,"textarea",31),e.DNE(66,je,2,1,"div",32),e.DNE(67,Ie,3,0,"div",33),e.k0s()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(66),e.Y8G("ngIf",null==n.business?null:n.business.faviconUrl),e.R7$(1),e.Y8G("ngIf",!(null!=n.business&&n.business.faviconUrl)))},dependencies:[d.bT,r.qT,r.me,r.BC,r.cb,r.YS,r.j4,r.JD],styles:['body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}h2[_ngcontent-%COMP%]{border-bottom:2px solid #e67e22;color:#2c3e50;margin-bottom:20px;padding-bottom:10px;font-size:22px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;font-size:14px;transition:border .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#1abc9c;outline:none;box-shadow:0 0 5px #1abc9c80}.required[_ngcontent-%COMP%]:after{content:" *";color:red;font-weight:700}textarea.form-control[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.existing-logo[_ngcontent-%COMP%]{margin-top:10px}.logoImage[_ngcontent-%COMP%]{max-width:80px;border-radius:4px;box-shadow:0 3px 6px #0003}button[type=submit][_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:12px 20px;font-size:16px;font-weight:700;cursor:pointer;border-radius:6px;transition:all .3s ease;display:block;width:100%;margin-top:20px}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#219150}@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:15px}h2[_ngcontent-%COMP%]{font-size:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.form-control[_ngcontent-%COMP%]{font-size:13px;padding:8px}}']})}}return i})();function Se(i,l){if(1&i&&(e.qex(0),e.j41(1,"div",10)(2,"div",11),e.EFF(3),e.k0s()(),e.bVm()),2&i){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function Pe(i,l){if(1&i&&(e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.Y8G("src",null==t.business?null:t.business.logoImage,e.B4B)}}function Ee(i,l){1&i&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No logo image available."),e.k0s()())}const Oe=function(){return["/admin/gallery-upload"]},Te=function(i){return{id:i}};let we=(()=>{class i{constructor(t,o){this.fb=t,this.uploadService=o,this.uploadProgress={}}ngOnInit(){console.log("Admin Photos business obj:",this.business)}onFileChange(t,o){const n=t.target.files[0];if(n){let s;s="photoGallery"===o?"gallery":"testimonial"===o||"logoImage"===o||"facilityImages"===o||"lifestyleImages"===o?"business":"heroImages"===o?"heroImages":"employee";const{uploadProgress:a,downloadUrl:c}=this.uploadService.uploadFile(n,this.businessId,s);this.uploadProgress[o]=a,c.pipe((0,x.j)(()=>{c.subscribe(p=>{this.form.patchValue({[o]:p})})})).subscribe()}}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(b.B))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-photos"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:25,vars:11,consts:[[3,"formGroup"],[1,"section-container"],[1,"row"],[1,"col"],["for","logoImage"],["type","file","id","logoImage",1,"form-control",3,"change"],[4,"ngIf"],["class","existing-logo",4,"ngIf"],["for","photoGallery"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"progress"],[1,"progress-bar"],[1,"existing-logo"],["alt","Business Logo",1,"logoImage",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Content and Photos"),e.k0s(),e.j41(3,"div",1)(4,"h3"),e.EFF(5,"Logo Image"),e.k0s(),e.j41(6,"div",2)(7,"div",3)(8,"label",4),e.EFF(9,"Upload Logo"),e.k0s(),e.j41(10,"input",5),e.bIt("change",function(a){return n.onFileChange(a,"logoImage")}),e.k0s(),e.DNE(11,Se,4,3,"ng-container",6),e.nI1(12,"async"),e.k0s(),e.j41(13,"div",3),e.DNE(14,Pe,2,1,"div",7),e.DNE(15,Ee,3,0,"div",6),e.k0s()()(),e.j41(16,"div",1)(17,"h3"),e.EFF(18,"Gallery Photos"),e.k0s(),e.j41(19,"div",2)(20,"div",3)(21,"label",8),e.EFF(22,"Manage Photo Gallery"),e.k0s(),e.j41(23,"a",9),e.EFF(24," Upload Photos to Gallery "),e.k0s()()()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(11),e.Y8G("ngIf",e.bMT(12,6,n.uploadProgress.logoImage)),e.R7$(3),e.Y8G("ngIf",null==n.business?null:n.business.logoImage),e.R7$(1),e.Y8G("ngIf",!(null!=n.business&&n.business.logoImage)),e.R7$(8),e.Y8G("routerLink",e.lJ4(8,Oe))("queryParams",e.eq3(9,Te,null==n.business?null:n.business.id)))},dependencies:[d.bT,m.Wk,r.qT,r.cb,r.j4,d.Jj],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}h2[_ngcontent-%COMP%]{border-bottom:2px solid #e67e22;color:#2c3e50;margin-bottom:20px;padding-bottom:10px;font-size:22px}h3[_ngcontent-%COMP%]{color:#34495e;font-size:18px;margin-bottom:10px}.section-container[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;margin-bottom:15px;border-left:4px solid #e67e22}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.col[_ngcontent-%COMP%]{flex:1;min-width:180px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;font-size:14px;transition:border .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#1abc9c;outline:none;box-shadow:0 0 5px #1abc9c80}.existing-logo[_ngcontent-%COMP%]{text-align:center}.logoImage[_ngcontent-%COMP%]{max-width:150px;height:auto;border-radius:6px;box-shadow:0 3px 6px #0003;margin-top:10px}button[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:10px 15px;font-size:14px;font-weight:700;cursor:pointer;border-radius:6px;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#219150}.btn-primary[_ngcontent-%COMP%]{display:inline-block;background-color:#007bff;color:#fff;padding:10px 15px;text-decoration:none;border-radius:6px;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:5px;overflow:hidden;height:10px;margin-top:10px}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#007bff;text-align:center;color:#fff;line-height:10px}@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:15px}.row[_ngcontent-%COMP%]{flex-direction:column}.col[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{font-size:13px;padding:8px}}"]})}}return i})();function Be(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"input",9),e.bIt("change",function(){const s=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onImageSelection(s.url))}),e.k0s(),e.nrm(2,"img",10),e.k0s()}if(2&i){const t=l.$implicit;e.R7$(1),e.Y8G("value",t.url),e.R7$(1),e.Y8G("src",t.url,e.B4B)}}let Ne=(()=>{class i{constructor(t){this.fb=t,this.predefinedImages=[{url:"assets/sharedAssets/image_fx_(1).jpg"},{url:"assets/sharedAssets/image_fx_(2).jpg"},{url:"assets/sharedAssets/image_fx_(3).jpg"},{url:"assets/sharedAssets/image_fx_(4).jpg"},{url:"assets/sharedAssets/image_fx_(5).jpg"},{url:"assets/sharedAssets/istockphoto-478915838-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-480743801-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-502998071-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-613308420-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-653191338-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-655931804-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-804432288-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-912405752-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-918529390-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-941789670-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1022730404-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1170514008-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1207318385-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1307432717-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1315315044-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1319783351-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1324090651-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1335866199-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-2012854188-2048x2048.jpg"},{url:"assets/sharedAssets/istockphoto-2032240867-2048x2048.jpg"},{url:"assets/sharedAssets/5388429572_df9a403081_k.jpg"},{url:"assets/sharedAssets/9676303919_32372bf834_o.jpg"}]}ngOnInit(){this.form.contains("contactUsImageUrl")||this.form.addControl("contactUsImageUrl",this.fb.control(this.form.value.contactUsImageUrl||"")),this.form.contains("contactFormDetails")||this.form.addControl("contactFormDetails",this.fb.control(this.form.value.contactFormDetails||""))}onImageSelection(t){console.log("Admin: Contact Us: onImageSelected: url: ",t),this.form.patchValue({contactUsImageUrl:t}),this.business&&(this.business.contactUsImageUrl=t)}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-contact-us-page"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:16,vars:2,consts:[[3,"formGroup"],[1,"section-container"],[1,"image-grid"],["class","image-option",4,"ngFor","ngForOf"],[1,"row"],[1,"col"],["for","contactFormDetails"],["id","contactFormDetails","formControlName","contactFormDetails",1,"form-control"],[1,"image-option"],["type","radio","formControlName","contactUsImageUrl",3,"value","change"],["alt","Predefined Image",1,"contactUsImagesThumbnails",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Contact Us"),e.k0s(),e.j41(3,"div",1)(4,"h3"),e.EFF(5,"Choose from Available Images"),e.k0s(),e.j41(6,"div",2),e.DNE(7,Be,3,2,"div",3),e.k0s()(),e.j41(8,"div",1)(9,"h3"),e.EFF(10,"Contact Form Details"),e.k0s(),e.j41(11,"div",4)(12,"div",5)(13,"label",6),e.EFF(14,"Details"),e.k0s(),e.nrm(15,"textarea",7),e.k0s()()()()),2&o&&(e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("ngForOf",n.predefinedImages))},dependencies:[d.Sq,r.qT,r.me,r.Fm,r.BC,r.cb,r.j4,r.JD],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}h2[_ngcontent-%COMP%]{border-bottom:2px solid #e67e22;color:#2c3e50;margin-bottom:20px;padding-bottom:10px;font-size:22px}h3[_ngcontent-%COMP%]{color:#34495e;font-size:18px;margin-bottom:10px}.section-container[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;margin-bottom:15px;border-left:4px solid #e67e22}.image-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-top:10px}.image-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:5px}.contactUsImagesThumbnails[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px;box-shadow:0 3px 6px #0003}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.col[_ngcontent-%COMP%]{flex:1;min-width:180px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;font-size:14px;transition:border .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#1abc9c;outline:none;box-shadow:0 0 5px #1abc9c80}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column}.col[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{font-size:13px;padding:8px}}"]})}}return i})();var Ge=u(5009);function Ae(i,l){if(1&i&&(e.j41(0,"option",55),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t.fileName),e.R7$(1),e.JRh(t.name)}}function Re(i,l){1&i&&e.nrm(0,"div",56)}function $e(i,l){1&i&&e.nrm(0,"div",56)}function Ue(i,l){1&i&&e.nrm(0,"div",56)}function De(i,l){1&i&&e.nrm(0,"div",56)}const g=function(i){return{invalid:i}};function Ye(i,l){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"form",13),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(2,"div",14)(3,"label"),e.EFF(4,"Select Theme"),e.k0s(),e.j41(5,"select",15),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onThemeFileChange(n))}),e.DNE(6,Ae,2,2,"option",16),e.k0s()(),e.j41(7,"div",17)(8,"label",18),e.EFF(9,"Background Color"),e.k0s(),e.j41(10,"input",19),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"backgroundColor"))}),e.k0s(),e.j41(11,"input",20),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"backgroundColor"))}),e.k0s(),e.DNE(12,Re,1,0,"div",21),e.k0s(),e.j41(13,"div",17)(14,"label",22),e.EFF(15,"Dark Background Color"),e.k0s(),e.j41(16,"input",23),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"darkBackgroundColor"))}),e.k0s(),e.j41(17,"input",24),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"darkBackgroundColor"))}),e.k0s(),e.DNE(18,$e,1,0,"div",21),e.k0s(),e.j41(19,"div",17)(20,"label",25),e.EFF(21,"Primary Color"),e.k0s(),e.j41(22,"input",26),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"primaryColor"))}),e.k0s(),e.j41(23,"input",27),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"primaryColor"))}),e.k0s(),e.DNE(24,Ue,1,0,"div",21),e.k0s(),e.j41(25,"div",17)(26,"label",28),e.EFF(27,"Secondary Color"),e.k0s(),e.j41(28,"input",29),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"secondaryColor"))}),e.k0s(),e.j41(29,"input",30),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"secondaryColor"))}),e.k0s(),e.DNE(30,De,1,0,"div",21),e.k0s(),e.j41(31,"div",17)(32,"label",31),e.EFF(33,"Accent Color"),e.k0s(),e.j41(34,"input",32),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"accentColor"))}),e.k0s(),e.j41(35,"input",33),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"accentColor"))}),e.k0s()(),e.j41(36,"div",17)(37,"label",34),e.EFF(38,"Button Color"),e.k0s(),e.j41(39,"input",35),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"buttonColor"))}),e.k0s(),e.j41(40,"input",36),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"buttonColor"))}),e.k0s()(),e.j41(41,"div",17)(42,"label",37),e.EFF(43,"Button Hover Color"),e.k0s(),e.j41(44,"input",38),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"buttonHoverColor"))}),e.k0s(),e.j41(45,"input",39),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"buttonHoverColor"))}),e.k0s()(),e.j41(46,"div",17)(47,"label",40),e.EFF(48,"Text Color"),e.k0s(),e.j41(49,"input",41),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"textColor"))}),e.k0s(),e.j41(50,"input",42),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"textColor"))}),e.k0s()(),e.j41(51,"div",17)(52,"label",43),e.EFF(53,"Navigation Background Color"),e.k0s(),e.j41(54,"input",44),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"navBackgroundColor"))}),e.k0s(),e.j41(55,"input",45),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"navBackgroundColor"))}),e.k0s()(),e.j41(56,"div",17)(57,"label",46),e.EFF(58,"Navigation Text Color"),e.k0s(),e.j41(59,"input",47),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"navTextColor"))}),e.k0s(),e.j41(60,"input",48),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"navTextColor"))}),e.k0s()(),e.j41(61,"div",17)(62,"label",49),e.EFF(63,"Navigation Active Background"),e.k0s(),e.j41(64,"input",50),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"navActiveBackground"))}),e.k0s(),e.j41(65,"input",51),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"navActiveBackground"))}),e.k0s()(),e.j41(66,"div",17)(67,"label",52),e.EFF(68,"Navigation Active Text"),e.k0s(),e.j41(69,"input",53),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateHexInput(n,"navActiveText"))}),e.k0s(),e.j41(70,"input",54),e.bIt("input",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateColorInput(n,"navActiveText"))}),e.k0s()(),e.j41(71,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openSaveConfirmation())}),e.EFF(72,"Save Changes"),e.k0s(),e.j41(73,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.resetToDefault())}),e.EFF(74,"Reset to Default"),e.k0s()()()}if(2&i){const t=e.XpG();let o,n,s,a,c,p,f,h,_,F,y,j,I,M,S,P;e.R7$(1),e.Y8G("formGroup",t.themeForm),e.R7$(5),e.Y8G("ngForOf",t.availableThemes),e.R7$(5),e.Y8G("ngClass",e.eq3(18,g,null==(o=t.themeForm.get("backgroundColor"))||null==o.errors?null:o.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(n=t.themeForm.get("backgroundColor"))||null==n.errors?null:n.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(20,g,null==(s=t.themeForm.get("darkBackgroundColor"))||null==s.errors?null:s.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(a=t.themeForm.get("darkBackgroundColor"))||null==a.errors?null:a.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(22,g,null==(c=t.themeForm.get("primaryColor"))||null==c.errors?null:c.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(p=t.themeForm.get("primaryColor"))||null==p.errors?null:p.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(24,g,null==(f=t.themeForm.get("secondaryColor"))||null==f.errors?null:f.errors.invalidHex)),e.R7$(1),e.Y8G("ngIf",null==(h=t.themeForm.get("secondaryColor"))||null==h.errors?null:h.errors.invalidHex),e.R7$(5),e.Y8G("ngClass",e.eq3(26,g,null==(_=t.themeForm.get("accentColor"))||null==_.errors?null:_.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(28,g,null==(F=t.themeForm.get("buttonColor"))||null==F.errors?null:F.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(30,g,null==(y=t.themeForm.get("buttonHoverColor"))||null==y.errors?null:y.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(32,g,null==(j=t.themeForm.get("textColor"))||null==j.errors?null:j.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(34,g,null==(I=t.themeForm.get("navBackgroundColor"))||null==I.errors?null:I.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(36,g,null==(M=t.themeForm.get("navTextColor"))||null==M.errors?null:M.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(38,g,null==(S=t.themeForm.get("navActiveBackground"))||null==S.errors?null:S.errors.invalidHex)),e.R7$(5),e.Y8G("ngClass",e.eq3(40,g,null==(P=t.themeForm.get("navActiveText"))||null==P.errors?null:P.errors.invalidHex))}}let Ve=(()=>{class i{constructor(t,o,n,s,a){this.themeService=t,this.route=o,this.fb=n,this.router=s,this.businessService=a,this.defaultThemeFileName="assets/themes/default.css",this.availableThemes=[{name:"Helping Hand Style",fileName:"styles.css"},{name:"A&E Style",fileName:"styles1.css"},{name:"EHC Style",fileName:"styles2.css"},{name:"Clemo Style",fileName:"clemo.css"},{name:"SB Style",fileName:"sb.css"},{name:"Demo Style",fileName:"demo.css"},{name:"Single Page Style",fileName:"single_page.css"}],this.defaultColors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}ngOnInit(){this.route.paramMap.subscribe(t=>{this.businessId=t.get("id"),this.businessId?(this.themeColors$=this.themeService.getThemeColors(this.businessId),this.themeForm=this.fb.group({themeFileName:[this.defaultThemeFileName],backgroundColor:["",[r.k0.required,this.hexValidator]],darkBackgroundColor:["",[r.k0.required,this.hexValidator]],primaryColor:["",[r.k0.required,this.hexValidator]],secondaryColor:["",[r.k0.required,this.hexValidator]],accentColor:["",[r.k0.required,this.hexValidator]],buttonColor:["",[r.k0.required,this.hexValidator]],buttonHoverColor:["",[r.k0.required,this.hexValidator]],textColor:["",[r.k0.required,this.hexValidator]],navBackgroundColor:["",[r.k0.required,this.hexValidator]],navTextColor:["",[r.k0.required,this.hexValidator]],navActiveBackground:["",[r.k0.required,this.hexValidator]],navActiveText:["",[r.k0.required,this.hexValidator]]}),this.themeColors$.pipe((0,C.s)(1)).subscribe(o=>{this.themeForm.patchValue(o),o.themeFileName&&this.themeService.applyThemeFile(o.themeFileName)})):(console.log("Color-admin: - Business does not exist"),this.themeForm=this.fb.group({themeFileName:[this.defaultThemeFileName],backgroundColor:this.defaultColors.backgroundColor,darkBackgroundColor:this.defaultColors.darkBackgroundColor,primaryColor:this.defaultColors.primaryColor,secondaryColor:this.defaultColors.secondaryColor,accentColor:this.defaultColors.accentColor,buttonColor:this.defaultColors.buttonColor,buttonHoverColor:this.defaultColors.buttonHoverColor,textColor:this.defaultColors.textColor,navBackgroundColor:this.defaultColors.navBackgroundColor,navTextColor:this.defaultColors.navTextColor,navActiveBackground:this.defaultColors.navActiveBackground,navActiveText:this.defaultColors.navActiveText}))})}hexValidator(t){return/^#([0-9A-F]{3}){1,2}$/i.test(t.value)?null:{invalidHex:!0}}openSaveConfirmation(){$("#saveConfirmationModal").modal("show")}confirmSave(){this.onSubmit(),$("#saveConfirmationModal").modal("hide")}onSubmit(){this.themeForm.valid&&this.themeService.updateColors(this.businessId,this.themeForm.value).then(()=>{console.log("Color-admin: -Colors updated successfully"),$("#saveConfirmationModal").modal("hide")}).catch(o=>{console.error("Color-admin: -Error updating colors:",o)})}resetToDefault(){this.themeService.resetToDefaultColors().pipe((0,C.s)(1)).subscribe(t=>{t||(t=this.themeService.defaultTheme),this.themeForm.patchValue(t),this.themeService.updateColors(this.businessId,t).then(()=>{console.log("Color-admin: - Colors reset to default and saved successfully")}).catch(o=>{console.error("Color-admin: - Error resetting colors to default:",o)})})}updateHexInput(t,o){this.themeForm.patchValue({[o]:t.target.value})}updateColorInput(t,o){const n=t.target.value;/^#[0-9A-Fa-f]{6}$/.test(n)&&this.themeForm.patchValue({[o]:n})}onThemeChange(t){this.themeForm.patchValue({themeFileName:t.target.value})}onThemeFileChange(t){const o=t.target.value;this.businessService.updateThemeFileName(o).then(()=>{console.log(`Theme file updated to: ${o}`),this.themeForm.patchValue({themeFileName:o}),this.themeService.applyThemeFile(o)}).catch(n=>{console.error("Error updating theme file:",n)})}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(Ge.F),e.rXU(m.nX),e.rXU(r.ok),e.rXU(m.Ix),e.rXU(v.u))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-color-admin"]],inputs:{form:"form",business:"business",businessId:"businessId"},decls:20,vars:1,consts:[[1,"theme-admin-container"],[4,"ngIf"],["id","saveConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","saveConfirmationModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","saveConfirmationModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"afhBtn"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"afhBtn"],["type","button",1,"afhBtn",3,"click"],[3,"formGroup","ngSubmit"],[1,"theme-selection"],["formControlName","themeFileName",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"color-picker"],["for","backgroundColor"],["type","color","id","backgroundColor","formControlName","backgroundColor",3,"input"],["type","text","formControlName","backgroundColor",1,"hex-input",3,"ngClass","input"],["class","error-message",4,"ngIf"],["for","darkBackgroundColor"],["type","color","id","darkBackgroundColor","formControlName","darkBackgroundColor",3,"input"],["type","text","formControlName","darkBackgroundColor",1,"hex-input",3,"ngClass","input"],["for","primaryColor"],["type","color","id","primaryColor","formControlName","primaryColor",3,"input"],["type","text","formControlName","primaryColor",1,"hex-input",3,"ngClass","input"],["for","secondaryColor"],["type","color","id","secondaryColor","formControlName","secondaryColor",3,"input"],["type","text","formControlName","secondaryColor",1,"hex-input",3,"ngClass","input"],["for","accentColor"],["type","color","id","accentColor","formControlName","accentColor",3,"input"],["type","text","formControlName","accentColor",1,"hex-input",3,"ngClass","input"],["for","buttonColor"],["type","color","id","buttonColor","formControlName","buttonColor",3,"input"],["type","text","formControlName","buttonColor",1,"hex-input",3,"ngClass","input"],["for","buttonHoverColor"],["type","color","id","buttonHoverColor","formControlName","buttonHoverColor",3,"input"],["type","text","formControlName","buttonHoverColor",1,"hex-input",3,"ngClass","input"],["for","textColor"],["type","color","id","textColor","formControlName","textColor",3,"input"],["type","text","formControlName","textColor",1,"hex-input",3,"ngClass","input"],["for","navBackgroundColor"],["type","color","id","navBackgroundColor","formControlName","navBackgroundColor",3,"input"],["type","text","formControlName","navBackgroundColor",1,"hex-input",3,"ngClass","input"],["for","navTextColor"],["type","color","id","navTextColor","formControlName","navTextColor",3,"input"],["type","text","formControlName","navTextColor",1,"hex-input",3,"ngClass","input"],["for","navActiveBackground"],["type","color","id","navActiveBackground","formControlName","navActiveBackground",3,"input"],["type","text","formControlName","navActiveBackground",1,"hex-input",3,"ngClass","input"],["for","navActiveText"],["type","color","id","navActiveText","formControlName","navActiveText",3,"input"],["type","text","formControlName","navActiveText",1,"hex-input",3,"ngClass","input"],[3,"value"],[1,"error-message"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Edit Theme Colors"),e.k0s(),e.DNE(3,Ye,75,42,"div",1),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h5",6),e.EFF(9,"Save Changes"),e.k0s(),e.j41(10,"button",7)(11,"span",8),e.EFF(12,"\xd7"),e.k0s()()(),e.j41(13,"div",9),e.EFF(14," Are you sure you want to save these changes? "),e.k0s(),e.j41(15,"div",10)(16,"button",11),e.EFF(17,"Cancel"),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return n.confirmSave()}),e.EFF(19,"Confirm Save"),e.k0s()()()()()),2&o&&(e.R7$(3),e.Y8G("ngIf",n.themeForm))},dependencies:[d.YU,d.Sq,d.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.j4,r.JD],styles:[".theme-admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.color-picker[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:350px}input[type=color][_ngcontent-%COMP%]{width:50px;height:30px;border:none;margin-right:10px}.hex-input[_ngcontent-%COMP%]{width:100px;padding:5px;border:1px solid #ccc}button[_ngcontent-%COMP%]{margin-right:10px;padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}"]})}}return i})();function Xe(i,l){if(1&i&&e.nrm(0,"progress",29),2&i){const t=e.XpG().index,o=e.XpG();e.Y8G("value",o.uploadProgress[t])}}function Le(i,l){if(1&i&&e.nrm(0,"img",30),2&i){const t=e.XpG().index,o=e.XpG();let n;e.Y8G("src",null==(n=o.slides.at(t).get("backgroundImage"))?null:n.value,e.B4B)}}function He(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",31)(1,"div",7)(2,"label"),e.EFF(3,"Button Text"),e.k0s(),e.nrm(4,"input",32),e.k0s(),e.j41(5,"div",7)(6,"label"),e.EFF(7,"Button Link"),e.k0s(),e.nrm(8,"input",33),e.k0s(),e.j41(9,"div",7)(10,"label"),e.nrm(11,"input",34),e.EFF(12," Outline"),e.k0s(),e.j41(13,"button",20),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG().index,c=e.XpG();return e.Njj(c.removeButton(a,s))}),e.EFF(14,"\u2716"),e.k0s()()()}2&i&&e.Y8G("formGroupName",l.index)}function ze(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",19)(1,"div",6)(2,"div",7)(3,"h3"),e.EFF(4),e.k0s()(),e.j41(5,"div",7)(6,"button",20),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.removeSlide(s))}),e.EFF(7,"Remove Slide"),e.k0s()()(),e.j41(8,"div",6)(9,"div",7)(10,"label"),e.EFF(11,"Title"),e.k0s(),e.nrm(12,"input",21),e.k0s(),e.j41(13,"div",7)(14,"label"),e.EFF(15,"Subtitle"),e.k0s(),e.nrm(16,"textarea",22),e.k0s()(),e.j41(17,"div",6)(18,"div",7)(19,"label"),e.EFF(20,"Background Image"),e.k0s(),e.nrm(21,"input",23),e.j41(22,"input",24),e.bIt("change",function(n){const a=e.eBV(t).index,c=e.XpG();return e.Njj(c.uploadImage(n,a))}),e.k0s(),e.DNE(23,Xe,1,1,"progress",25),e.k0s(),e.j41(24,"div",7),e.DNE(25,Le,1,1,"img",26),e.k0s()(),e.j41(26,"details")(27,"summary"),e.EFF(28,"Buttons"),e.k0s(),e.j41(29,"div",27),e.DNE(30,He,15,1,"div",28),e.j41(31,"button",4),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.addButton(s))}),e.EFF(32,"+ Add Button"),e.k0s()()()()}if(2&i){const t=l.$implicit,o=l.index,n=e.XpG();let s;e.Y8G("formGroupName",o),e.R7$(4),e.SpI("Slide ",o+1,""),e.R7$(19),e.Y8G("ngIf",void 0!==n.uploadProgress[o]),e.R7$(2),e.Y8G("ngIf",null==(s=n.slides.at(o).get("backgroundImage"))?null:s.value),e.R7$(5),e.Y8G("ngForOf",n.getButtons(t).controls)}}function qe(i,l){if(1&i&&(e.j41(0,"option",35),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function We(i,l){if(1&i&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.message)}}let Je=(()=>{class i{constructor(t,o,n){this.fb=t,this.businessService=o,this.uploadService=n,this.uploadProgress=[],this.isSaving=!1,this.message=null,this.sliderHeights=["10vh","20vh","30vh","40vh","50vh","60vh","70vh","80vh","90vh","100vh"],this.sliderForm=this.fb.group({slides:this.fb.array([]),sliderConfig:this.fb.group({navigation:["side"],sideButtons:[!0],sliderHeight:["100vh"],buttonBorderRadius:["25px"],subtitleSize:["1.5rem"],subtitleWeight:["600"]})})}ngOnInit(){this.loadSliderData()}get slides(){return this.sliderForm.get("slides")}get sliderConfig(){return this.sliderForm.get("sliderConfig")}loadSliderData(){this.businessService.getBusiness(this.businessId).subscribe(t=>{t?(this.slides.clear(),t.heroSlider&&t.heroSlider.forEach(o=>this.addSlide(o)),t.sliderConfig?this.applySliderConfig(t.sliderConfig):console.warn("AdminHeroSliderComponent - No sliderConfig found in database.")):console.warn("AdminHeroSliderComponent - No business data found.")})}applySliderConfig(t){this.sliderForm.patchValue({sliderConfig:{navigation:t.navigation??"side",sideButtons:t.sideButtons??!0,sliderHeight:t.sliderHeight??"100vh",buttonBorderRadius:t.buttonBorderRadius??"25px",subtitleSize:t.subtitleSize??"1.5rem",subtitleWeight:t.subtitleWeight??"600"}}),console.log("AdminHeroSliderComponent - Loaded slider config:",t)}addSlide(t={title:"",subtitle:"",backgroundImage:"",buttons:[]}){this.slides.push(this.fb.group({title:[t.title,r.k0.required],subtitle:[t.subtitle],backgroundImage:[t.backgroundImage],buttons:this.fb.array(t.buttons.map(o=>this.fb.group({text:[o.text,r.k0.required],link:[o.link,r.k0.required],outline:[o.outline]})))}))}removeSlide(t){this.slides.removeAt(t)}addButton(t){this.slides.at(t).get("buttons").push(this.fb.group({text:["",r.k0.required],link:["",r.k0.required],outline:[!1]}))}removeButton(t,o){this.slides.at(t).get("buttons").removeAt(o)}uploadImage(t,o){const n=t.target;if(n?.files&&n.files.length>0){const s=n.files[0],{uploadProgress:a,downloadUrl:c}=this.uploadService.uploadFile(s,this.businessId,"heroImages");this.uploadProgress[o]=0,a.subscribe(p=>{this.uploadProgress[o]=p}),c.subscribe(p=>{this.slides.at(o).get("backgroundImage")?.setValue(p),this.uploadProgress[o]=100})}else console.error("No file selected")}getButtons(t){return t.get("buttons")}saveSliderData(){this.sliderForm.valid&&(this.isSaving=!0,this.businessService.updateBusiness(this.businessId,{heroSlider:this.sliderForm.value.slides,sliderConfig:this.sliderForm.value.sliderConfig}).then(()=>{this.isSaving=!1,this.message="Slider data saved successfully!",setTimeout(()=>this.message=null,3e3)},o=>{this.isSaving=!1,this.message="Failed to save slider data. Please try again.",console.error("Error saving slider data:",o)}))}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(v.u),e.rXU(b.B))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-admin-hero-slider"]],inputs:{business:"business",businessId:"businessId"},decls:46,vars:5,consts:[[1,"admin-hero-slider"],[3,"formGroup","ngSubmit"],["formArrayName","slides"],["class","section-container",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"add-btn",3,"click"],["formGroupName","sliderConfig",1,"section-container"],[1,"row"],[1,"col"],["formControlName","navigation",1,"form-control"],["value","side"],["value","bottom"],["type","checkbox","formControlName","sideButtons"],["formControlName","sliderHeight",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","buttonBorderRadius",1,"form-control"],["type","text","formControlName","subtitleSize",1,"form-control"],["type","text","formControlName","subtitleWeight",1,"form-control"],["type","submit",1,"save-btn",3,"disabled"],["class","message",4,"ngIf"],[1,"section-container",3,"formGroupName"],["type","button",1,"delete-btn",3,"click"],["formControlName","title","type","text",1,"form-control"],["formControlName","subtitle",1,"form-control"],["type","text","formControlName","backgroundImage","placeholder","Image URL","readonly","",1,"form-control"],["type","file",1,"form-control",3,"change"],["max","100",3,"value",4,"ngIf"],["alt","Slide Background","class","uploaded-image-preview",3,"src",4,"ngIf"],["formArrayName","buttons"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],["max","100",3,"value"],["alt","Slide Background",1,"uploaded-image-preview",3,"src"],[1,"row",3,"formGroupName"],["formControlName","text","type","text",1,"form-control"],["formControlName","link","type","text",1,"form-control"],["formControlName","outline","type","checkbox"],[3,"value"],[1,"message"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Manage Hero Slider"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return n.saveSliderData()}),e.j41(4,"div",2),e.DNE(5,ze,33,5,"div",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return n.addSlide()}),e.EFF(7,"+ Add Slide"),e.k0s(),e.j41(8,"div",5)(9,"h3"),e.EFF(10,"Slider Configuration"),e.k0s(),e.j41(11,"div",6)(12,"div",7)(13,"label"),e.EFF(14,"Navigation"),e.k0s(),e.j41(15,"select",8)(16,"option",9),e.EFF(17,"Side"),e.k0s(),e.j41(18,"option",10),e.EFF(19,"Bottom"),e.k0s()()(),e.j41(20,"div",7)(21,"label"),e.EFF(22,"Show Side Buttons"),e.k0s(),e.nrm(23,"input",11),e.k0s()(),e.j41(24,"div",6)(25,"div",7)(26,"label"),e.EFF(27,"Slider Height"),e.k0s(),e.j41(28,"select",12),e.DNE(29,qe,2,2,"option",13),e.k0s()(),e.j41(30,"div",7)(31,"label"),e.EFF(32,"Button Border Radius"),e.k0s(),e.nrm(33,"input",14),e.k0s()(),e.j41(34,"div",6)(35,"div",7)(36,"label"),e.EFF(37,"Subtitle Size"),e.k0s(),e.nrm(38,"input",15),e.k0s(),e.j41(39,"div",7)(40,"label"),e.EFF(41,"Subtitle Weight"),e.k0s(),e.nrm(42,"input",16),e.k0s()()(),e.j41(43,"button",17),e.EFF(44,"Save Slider Data"),e.k0s()(),e.DNE(45,We,2,1,"div",18),e.k0s()),2&o&&(e.R7$(3),e.Y8G("formGroup",n.sliderForm),e.R7$(2),e.Y8G("ngForOf",n.slides.controls),e.R7$(24),e.Y8G("ngForOf",n.sliderHeights),e.R7$(14),e.Y8G("disabled",n.isSaving),e.R7$(2),e.Y8G("ngIf",n.message))},dependencies:[d.Sq,d.bT,r.qT,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.cb,r.j4,r.JD,r.$R,r.v8],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}h2[_ngcontent-%COMP%]{border-bottom:2px solid #e67e22;color:#2c3e50;margin-bottom:20px;padding-bottom:10px;font-size:22px}h3[_ngcontent-%COMP%]{color:#34495e;font-size:18px;margin-bottom:10px}.section-container[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:10px;box-shadow:0 2px 6px #0000001a;margin-bottom:15px;border-left:4px solid #e67e22}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.col[_ngcontent-%COMP%]{flex:1;min-width:180px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;font-size:14px;transition:border .3s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#1abc9c;outline:none;box-shadow:0 0 5px #1abc9c80}button[_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:10px 15px;font-size:14px;font-weight:700;cursor:pointer;border-radius:6px;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#219150}button[type=button][_ngcontent-%COMP%]{background-color:#e74c3c}button[type=button][_ngcontent-%COMP%]:hover{background-color:#c0392b}.uploaded-image-preview[_ngcontent-%COMP%]{max-width:100px;height:auto;border-radius:6px;box-shadow:0 3px 6px #0003;margin-top:10px}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column}.col[_ngcontent-%COMP%]{width:100%}}"]})}}return i})();function Ke(i,l){if(1&i&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.SpI(" \u2705 ",t.autoSaveMessage," ")}}function Qe(i,l){1&i&&(e.j41(0,"span",32),e.EFF(1,"\u2714"),e.k0s())}function Ze(i,l){1&i&&(e.j41(0,"span",32),e.EFF(1,"\u2714"),e.k0s())}function et(i,l){1&i&&(e.j41(0,"span",32),e.EFF(1,"\u2714"),e.k0s())}function tt(i,l){1&i&&(e.j41(0,"span",32),e.EFF(1,"\u2714"),e.k0s())}function ot(i,l){1&i&&(e.j41(0,"span",32),e.EFF(1,"\u2714"),e.k0s())}function nt(i,l){1&i&&(e.j41(0,"span",32),e.EFF(1,"\u2714"),e.k0s())}function it(i,l){1&i&&(e.j41(0,"span",32),e.EFF(1,"\u2714"),e.k0s())}let k=(()=>{class i{constructor(t,o,n,s,a,c){this.fb=t,this.businessService=o,this.uploadService=n,this.storage=s,this.route=a,this.router=c,this.uploadProgress={},this.businessId="",this.confirmationMessage="",this.showConfirmation=!1,this.autoSaveMessage="",this.showAutoSaveMessage=!1,this.isSubmitting=!1,this.uploads=[],this.initializeForm()}ngOnInit(){this.route.paramMap.pipe((0,C.s)(1)).subscribe(t=>{this.businessId=t.get("id"),this.businessId?(console.log("Edit-Business: ngOnInit: Business",this.business),this.loadBusinessData()):(console.log("Loading default data"),this.loadDefaultData())})}loadBusinessData(){this.businessService.getBusiness(this.businessId).subscribe(t=>{t&&(this.business=t,this.populateForm(t),t.sections&&t.sections.forEach((o,n)=>{console.log(`\u{1f525} Load Business Data in Edit Business Section ${n}:`,o),o.id||console.warn(`\u26a0\ufe0f Section at index ${n} is missing an ID!`)}),t.logoImage&&this.isFirebaseStoragePath(t.logoImage)&&this.storage.refFromURL(t.logoImage).getDownloadURL().subscribe(o=>{t.logoImage=o}))},t=>{console.error("Error loading business data:",t)})}initializeForm(){this.businessForm=this.fb.group({businessName:["",r.k0.required],address:[""],phone:[""],fax:[""],email:["",r.k0.required],businessHours:[""],tagline:[""],businessURL:[""],providerName:[""],keyWords:[""],metaTitle:[""],metaKeywords:[""],metaDescription:[""],placeId:[""],keyServicesHighlights:[""],uniqueService:this.fb.array([]),whyChoose:this.fb.array([]),sections:this.fb.array([]),certifications:[""],services:this.fb.array([]),benefits:this.fb.array([]),specialPrograms:[""],tours:[""],freeConsulting:[""],websiteGoals:[""],logoImage:[null],faviconUrl:[""],mediaFeatures:[""],ratings:[""],testimonials:this.fb.array([]),socialMedia:[""],contactFormDetails:[""],contactUsImageUrl:[""],photoGallery:[""],isActive:!0,employees:this.fb.array([])}),this.serviceForm=this.fb.group({name:[""]}),this.benefitsForm=this.fb.group({name:[""]})}employees(){return this.businessForm.get("employees")}testimonials(){return this.businessForm.get("testimonials")}services(){return this.businessForm.get("services")}benefits(){return this.businessForm.get("benefits")}uniqueService(){return this.businessForm.get("uniqueService")}whyChoose(){return this.businessForm.get("whyChoose")}loadDefaultData(){this.business=T.getDefaultBusiness();const t=T.getDefaultBusiness();this.businessForm=this.fb.group({businessName:[t.businessName],metaTitle:[t.metaTitle],metaKeywords:[t.metaKeywords],metaDescription:[t.metaDescription],keyWords:[t.keyWords],businessURL:[t.businessURL],providerName:[t.providerName],tagline:[t.tagline],certifications:[t.certifications],logoImage:[t.logoImage],faviconUrl:[t.faviconUrl],address:[t.address],phone:[t.phone],fax:[t.fax],email:[t.email],businessHours:[t.businessHours],socialMedia:[t.socialMedia],contactFormDetails:[t.contactFormDetails],contactUsImageUrl:[t.contactUsImageUrl],isActive:[t.isActive],theme:[t.theme],placeId:[t.placeId],uniqueService:this.fb.array((t.uniqueService??[]).map(o=>this.fb.group({name:[o.name],description:[o.description]}))),whyChoose:this.fb.array(t.whyChoose.map(o=>this.fb.group({name:[o.name],description:[o.description]}))),services:this.fb.array(t.services.map(o=>this.fb.group({name:[o.name]}))),benefits:this.fb.array(t.benefits.map(o=>this.fb.group({name:[o.name]}))),testimonials:this.fb.array((t.testimonials??[]).map(o=>this.fb.group({name:[o.name],relationship:[o.relationship],quote:[o.quote],photoUrl:[o.photoURL]}))),employees:this.fb.array((t.employees??[]).map(o=>this.fb.group({name:[o.name],role:[o.role],bio:[o.bio],photoURL:[o.photoURL]})))})}populateFormArray(t,o){t.clear(),o.forEach(n=>t.push(this.fb.control(n)))}isFirebaseStoragePath(t){return t.startsWith("gs://")||t.includes("firebasestorage.googleapis.com")}populateForm(t){this.businessForm.patchValue(t),this.employeeComponent&&this.employeeComponent.populateEmployees(t.employees??[]),this.reviewComponent&&this.reviewComponent.populateTestimonials(t.testimonials??[]),this.serviceComponent&&(this.serviceComponent.populateServices(t.services??[]),this.serviceComponent.populateBenefits(t.benefits??[])),this.reviewComponent&&this.reviewComponent.populateTestimonials(t.testimonials??[]),this.businessForm.contains("logoImage")||this.businessForm.addControl("logoImage",this.fb.control(null))}ngAfterViewInit(){document.querySelectorAll('[data-bs-toggle="tab"]').forEach(o=>{o.addEventListener("shown.bs.tab",n=>{this.autoSave()})})}autoSave(){this.businessForm.valid&&this.businessService.updateBusiness(this.businessId,this.businessForm.value).then(()=>{this.autoSaveMessage="Changes saved!",this.showAutoSaveMessage=!0,setTimeout(()=>{this.showAutoSaveMessage=!1},2e3)}).catch(o=>console.error("Error auto-saving",o))}onSubmit(){if(!this.isSubmitting)if(this.isSubmitting=!0,console.log("onSubmit() called"),this.businessForm.valid){console.log("Form Value Before Saving:",this.businessForm.value),console.log("Unique Services:",this.businessForm.get("uniqueService")?.value),console.log("Why Choose:",this.businessForm.get("whyChoose")?.value);const t=this.businessForm.value;this.businessId?this.businessService.updateBusiness(this.businessId,t).then(()=>{console.log("Business details updated successfully!"),this.isSubmitting=!1}).catch(o=>{console.error("Error updating business details",o),this.isSubmitting=!1}):this.businessService.createBusiness(t).pipe((0,C.s)(1)).subscribe(o=>{o&&o.id&&(this.business=o,this.businessId=o.id,console.log("Business created with ID:",this.businessId)),this.confirmationMessage="Business has been successfully created!",this.showConfirmation=!0,this.isSubmitting=!1},o=>{console.error("Error creating business:",o),this.isSubmitting=!1})}else console.log("Business Form is not valid!"),this.isSubmitting=!1}closeConfirmation(){this.showConfirmation=!1,this.router.navigate(["/admin/businessList"])}preventDefault(t){t.preventDefault()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(r.ok),e.rXU(v.u),e.rXU(b.B),e.rXU(R.ap),e.rXU(m.nX),e.rXU(m.Ix))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-edit-business"]],viewQuery:function(o,n){if(1&o&&(e.GBs(w,5),e.GBs(B,5),e.GBs(N,5),e.GBs(A,5)),2&o){let s;e.mGM(s=e.lsd())&&(n.employeeComponent=s.first),e.mGM(s=e.lsd())&&(n.reviewComponent=s.first),e.mGM(s=e.lsd())&&(n.serviceComponent=s.first),e.mGM(s=e.lsd())&&(n.sectionManager=s.first)}},decls:59,vars:34,consts:[[1,"admin-container"],[3,"formGroup","ngSubmit"],["class","auto-save-message",4,"ngIf"],[1,"layout-container"],[1,"sidebar"],["id","businessTab","role","tablist",1,"nav","flex-column","nav-tabs"],["role","presentation",1,"nav-item"],["id","basic-info-tab","data-bs-toggle","tab","data-bs-target","#basic-info","type","button","role","tab","aria-controls","basic-info","aria-selected","true",1,"nav-link","active"],["class","saved-badge",4,"ngIf"],["id","hero-slider-tab","data-bs-toggle","tab","data-bs-target","#hero-slider-theme","type","button","role","tab","aria-controls","hero-slider-theme","aria-selected","false",1,"nav-link"],["id","about-us-tab","data-bs-toggle","tab","data-bs-target","#about-us","type","button","role","tab","aria-controls","about-us","aria-selected","false",1,"nav-link"],["id","content-photos-tab","data-bs-toggle","tab","data-bs-target","#content-photos","type","button","role","tab","aria-controls","content-photos","aria-selected","false",1,"nav-link"],["id","media-reviews-tab","data-bs-toggle","tab","data-bs-target","#media-reviews","type","button","role","tab","aria-controls","media-reviews","aria-selected","false",1,"nav-link"],["id","contact-us-page-tab","data-bs-toggle","tab","data-bs-target","#contact-us-page","type","button","role","tab","aria-controls","contact-us-page","aria-selected","false",1,"nav-link"],["id","employee-profiles-tab","data-bs-toggle","tab","data-bs-target","#employee-profiles","type","button","role","tab","aria-controls","employee-profiles","aria-selected","false",1,"nav-link"],["id","color-theme-tab","data-bs-toggle","tab","data-bs-target","#color-theme","type","button","role","tab","aria-controls","color-theme","aria-selected","false",1,"nav-link"],[1,"main-content"],["id","businessTabContent",1,"tab-content"],["id","basic-info","role","tabpanel","aria-labelledby","basic-info-tab",1,"tab-pane","fade","show","active"],[3,"form","business","businessId"],["id","services-page","role","tabpanel","aria-labelledby","services-page-tab",1,"tab-pane","fade"],["id","about-us","role","tabpanel","aria-labelledby","about-us-tab",1,"tab-pane","fade"],[3,"form","businessId"],["id","content-photos","role","tabpanel","aria-labelledby","content-photos-tab",1,"tab-pane","fade"],["id","media-reviews","role","tabpanel","aria-labelledby","media-reviews-tab",1,"tab-pane","fade"],["id","contact-us-page","role","tabpanel","aria-labelledby","contact-us-page-tab",1,"tab-pane","fade"],["id","employee-profiles","role","tabpanel","aria-labelledby","employee-profiles-tab",1,"tab-pane","fade"],["id","color-theme","role","tabpanel","aria-labelledby","color-theme-tab",1,"tab-pane","fade"],["id","hero-slider-theme","role","tabpanel","aria-labelledby","hero-slider-tab",1,"tab-pane","fade"],[3,"business","businessId"],["type","submit"],[1,"auto-save-message"],[1,"saved-badge"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.DNE(2,Ke,2,1,"div",2),e.j41(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"button",7),e.EFF(8," BASIC INFO "),e.DNE(9,Qe,2,0,"span",8),e.k0s()(),e.j41(10,"li",6)(11,"button",9),e.EFF(12," HERO SLIDER "),e.DNE(13,Ze,2,0,"span",8),e.k0s()(),e.j41(14,"li",6)(15,"button",10),e.EFF(16," SECTION MANAGER "),e.DNE(17,et,2,0,"span",8),e.k0s()(),e.j41(18,"li",6)(19,"button",11),e.EFF(20," IMAGES "),e.DNE(21,tt,2,0,"span",8),e.k0s()(),e.j41(22,"li",6)(23,"button",12),e.EFF(24," Media & Reviews "),e.DNE(25,ot,2,0,"span",8),e.k0s()(),e.j41(26,"li",6)(27,"button",13),e.EFF(28," Contact Us "),e.k0s()(),e.j41(29,"li",6)(30,"button",14),e.EFF(31," Employee Profiles "),e.DNE(32,nt,2,0,"span",8),e.k0s()(),e.j41(33,"li",6)(34,"button",15),e.EFF(35," THEME "),e.DNE(36,it,2,0,"span",8),e.k0s()()()(),e.j41(37,"div",16)(38,"div",17)(39,"div",18),e.nrm(40,"app-basic-info",19),e.k0s(),e.j41(41,"div",20),e.nrm(42,"app-services-page",19),e.k0s(),e.j41(43,"div",21),e.nrm(44,"app-section-manager",22),e.k0s(),e.j41(45,"div",23),e.nrm(46,"app-photos",19),e.k0s(),e.j41(47,"div",24),e.nrm(48,"app-reviews",19),e.k0s(),e.j41(49,"div",25),e.nrm(50,"app-contact-us-page",19),e.k0s(),e.j41(51,"div",26),e.nrm(52,"app-employee",19),e.k0s(),e.j41(53,"div",27),e.nrm(54,"app-color-admin",19),e.k0s(),e.j41(55,"div",28),e.nrm(56,"app-admin-hero-slider",29),e.k0s()()()(),e.j41(57,"button",30),e.EFF(58,"Save"),e.k0s()()()),2&o&&(e.R7$(1),e.Y8G("formGroup",n.businessForm),e.R7$(1),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(7),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(7),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("ngIf",n.showAutoSaveMessage),e.R7$(4),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("form",n.businessForm)("business",n.business)("businessId",n.businessId),e.R7$(2),e.Y8G("business",n.business)("businessId",n.businessId))},dependencies:[d.bT,r.qT,r.cb,r.j4,Me,w,we,B,N,A,Ne,Ve,Je],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f4;color:#333;margin:0;padding:0}.admin-container[_ngcontent-%COMP%]{width:100%;margin:20px auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a}.layout-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px}.sidebar[_ngcontent-%COMP%]{width:280px;background-color:#2c3e50;padding:20px;border-radius:10px;box-shadow:0 3px 8px #0003;flex-shrink:0}.sidebar[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{width:100%;text-align:left;padding:12px;border:none;border-radius:6px;background-color:#34495e;color:#fff;font-weight:700;transition:all .3s ease-in-out}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#1abc9c;color:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#e67e22;color:#fff}.main-content[_ngcontent-%COMP%]{flex-grow:1}.main-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.tab-content[_ngcontent-%COMP%]{padding-top:15px}.auto-save-message[_ngcontent-%COMP%]{background-color:#dff0d8;color:#3c763d;padding:10px;border-radius:5px;margin-bottom:10px;text-align:center}button[type=submit][_ngcontent-%COMP%]{background-color:#27ae60;color:#fff;border:none;padding:12px 20px;font-size:16px;font-weight:700;cursor:pointer;border-radius:6px;transition:all .3s ease;display:block;width:100%;margin-top:20px}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#219150}@media (max-width: 1024px){.layout-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;text-align:center}.main-content[_ngcontent-%COMP%]{width:100%}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{text-align:center}}"]})}}return i})();var st=u(8455),rt=u(5558),at=u(6340),lt=u(8704);let ct=(()=>{class i{constructor(){this.closeModal=new e.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(o,n){1&o&&(e.j41(0,"div",0),e.bIt("click",function(){return n.close()}),e.j41(1,"div",1),e.bIt("click",function(a){return a.stopPropagation()}),e.j41(2,"button",2),e.bIt("click",function(){return n.close()}),e.EFF(3,"Close"),e.k0s(),e.nrm(4,"img",3),e.k0s()()),2&o&&(e.R7$(4),e.Y8G("src",n.imageUrl,e.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return i})();function dt(i,l){1&i&&(e.j41(0,"p"),e.EFF(1,"Drag and drop images here, or click to select files"),e.k0s())}function pt(i,l){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.R7$(1),e.JRh(t.name)}}function ut(i,l){if(1&i&&(e.j41(0,"div")(1,"h3"),e.EFF(2,"Files to be uploaded:"),e.k0s(),e.j41(3,"ul"),e.DNE(4,pt,2,1,"li",10),e.k0s()()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.filesToUpload)}}function mt(i,l){if(1&i&&(e.j41(0,"div")(1,"div",17)(2,"div",18),e.EFF(3),e.k0s()()()),2&i){const t=l.ngIf;e.R7$(2),e.xc7("width",t+"%"),e.R7$(1),e.SpI("",t,"%")}}function gt(i,l){if(1&i&&(e.j41(0,"div",19),e.nrm(1,"img",20),e.k0s()),2&i){const t=e.XpG().$implicit,o=e.XpG();e.R7$(1),e.FS9("alt",t.key),e.Y8G("src",o.uploadedImages[t.key],e.B4B)}}function ft(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,mt,4,3,"div",8),e.nI1(2,"async"),e.DNE(3,gt,2,2,"div",16),e.k0s()),2&i){const t=l.$implicit,o=e.XpG();e.R7$(1),e.Y8G("ngIf",e.bMT(2,2,o.uploadProgress[t.key])),e.R7$(2),e.Y8G("ngIf",o.uploadedImages[t.key])}}function bt(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"div",22),e.bIt("click",function(){const s=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deleteImage(s))}),e.nrm(2,"i",23),e.k0s(),e.nrm(3,"img",24),e.j41(4,"input",25),e.bIt("ngModelChange",function(n){const a=e.eBV(t).$implicit;return e.Njj(a.title=n)}),e.k0s(),e.j41(5,"textarea",26),e.bIt("ngModelChange",function(n){const a=e.eBV(t).$implicit;return e.Njj(a.description=n)}),e.k0s(),e.j41(6,"input",27),e.bIt("ngModelChange",function(n){const a=e.eBV(t).$implicit;return e.Njj(a.link=n)}),e.k0s(),e.j41(7,"input",28),e.bIt("ngModelChange",function(n){const a=e.eBV(t).$implicit;return e.Njj(a.order=n)}),e.k0s(),e.j41(8,"button",29),e.bIt("click",function(){const s=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.saveImageDetails(s))}),e.EFF(9,"Save"),e.k0s()()}if(2&i){const t=l.$implicit;e.R7$(3),e.Y8G("src",t.url,e.B4B),e.R7$(1),e.Y8G("ngModel",t.title),e.R7$(1),e.Y8G("ngModel",t.description),e.R7$(1),e.Y8G("ngModel",t.link),e.R7$(1),e.Y8G("ngModel",t.order)}}function ht(i,l){if(1&i){const t=e.RV6();e.j41(0,"app-image-viewer-modal",30),e.bIt("closeModal",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCloseModal())}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("imageUrl",t.selectedImageUrl)}}let U=(()=>{class i{constructor(t,o,n,s,a){this.storage=t,this.firestore=o,this.uploadService=n,this.route=s,this.webContent=a,this.uploadProgress={},this.uploadedImages={},this.filesToUpload=[],this.uploadLocation="gallery",this.selectedImageUrl=null}ngOnInit(){this.route.queryParams.subscribe(t=>{this.businessId=t.id,this.loadImages()})}uploadFiles(t){const o=t.target.files;for(let n of o){const s="",a="",c="",p="",{uploadProgress:f,downloadUrl:h}=this.uploadService.uploadFile(n,this.businessId,this.uploadLocation,s||"",a||"",c||"",p||"");this.uploadProgress[n.name]=f,h.subscribe(_=>{this.uploadedImages[n.name]=_})}}deleteImage(t){confirm("Are you sure you want to delete this image?")&&this.uploadService.deleteFile(t.url,this.businessId,this.uploadLocation).then(()=>{this.images=this.images.filter(o=>o.url!==t.url)}).catch(o=>{console.error("Error deleting the image:",o)})}onDragOver(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="copy"}onDragLeave(t){t.preventDefault(),t.stopPropagation()}onDrop(t){t.preventDefault(),t.stopPropagation();const o=Array.from(t.dataTransfer.files);this.filesToUpload=o,this.uploadFiles({target:{files:o}})}loadImages(){var t=this;this.webContent.getBusinessUploadedImagesById(this.businessId,this.uploadLocation).pipe((0,rt.n)(o=>{const n=o.map(function(){var s=(0,G.A)(function*(a){return(yield t.webContent.checkImageExists(a.url))?a:null});return function(a){return s.apply(this,arguments)}}());return(0,st.H)(Promise.all(n))}),(0,O.T)(o=>o.filter(n=>null!==n))).subscribe(o=>{this.images=o.map(n=>({...n,title:n.title||"",description:n.description||"",link:n.link||"",order:n.order||""}))})}onImageClick(t){this.selectedImageUrl=t}onCloseModal(){this.selectedImageUrl=null}saveImageDetails(t){this.firestore.collection("businesses").doc(this.businessId).collection(this.uploadLocation).ref.where("url","==",t.url).get().then(o=>{o.forEach(n=>{n.ref.update({title:t.title,description:t.description,link:t.link,order:t.order})})}).catch(o=>console.error("Error updating image details:",o))}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(R.ap),e.rXU(at.Qe),e.rXU(b.B),e.rXU(m.nX),e.rXU(lt.N))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-photo-gallery-upload"]],inputs:{businessId:"businessId"},decls:25,vars:8,consts:[[1,"upload-container"],[1,"upload-location"],["for","uploadLocation"],["id","uploadLocation",3,"ngModel","ngModelChange","change"],["value","gallery"],["value","heroImages"],["value","lifeStyle"],[1,"drag-drop-area",3,"dragover","dragleave","drop"],[4,"ngIf"],["type","file","multiple","",3,"change"],[4,"ngFor","ngForOf"],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",4,"ngFor","ngForOf"],[3,"imageUrl","closeModal",4,"ngIf"],["class","thumbnail",4,"ngIf"],[1,"progress-container"],[1,"progress-bar"],[1,"thumbnail"],[3,"src","alt"],[1,"gallery-item"],[1,"delete-button",3,"click"],[1,"fa-solid","fa-trash-can"],["alt","Gallery Image",1,"gallery-image",3,"src"],["placeholder","Enter Title",3,"ngModel","ngModelChange"],["placeholder","Enter Description",3,"ngModel","ngModelChange"],["placeholder","Enter Link:",3,"ngModel","ngModelChange"],["placeholder","Enter Order:",3,"ngModel","ngModelChange"],[3,"click"],[3,"imageUrl","closeModal"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Please upload photos to individual galleryies: Gallery, Hero Images, Lifestyle"),e.k0s(),e.j41(4,"label",2),e.EFF(5,"Select Upload Location:"),e.k0s(),e.j41(6,"select",3),e.bIt("ngModelChange",function(a){return n.uploadLocation=a})("change",function(){return n.loadImages()}),e.j41(7,"option",4),e.EFF(8,"Gallery"),e.k0s(),e.j41(9,"option",5),e.EFF(10,"Hero Images"),e.k0s(),e.j41(11,"option",6),e.EFF(12,"Lifestyle"),e.k0s()()(),e.j41(13,"div",7),e.bIt("dragover",function(a){return n.onDragOver(a)})("dragleave",function(a){return n.onDragLeave(a)})("drop",function(a){return n.onDrop(a)}),e.DNE(14,dt,2,0,"p",8),e.j41(15,"input",9),e.bIt("change",function(a){return n.uploadFiles(a)}),e.k0s()(),e.DNE(16,ut,5,1,"div",8),e.DNE(17,ft,4,4,"div",10),e.nI1(18,"keyvalue"),e.k0s(),e.j41(19,"section",11)(20,"div",12),e.EFF(21,"Explore Our Gallery"),e.k0s(),e.j41(22,"div",13),e.DNE(23,bt,10,5,"div",14),e.k0s()(),e.DNE(24,ht,1,1,"app-image-viewer-modal",15)),2&o&&(e.R7$(6),e.Y8G("ngModel",n.uploadLocation),e.R7$(8),e.Y8G("ngIf",!n.filesToUpload.length),e.R7$(2),e.Y8G("ngIf",n.filesToUpload.length>0),e.R7$(1),e.Y8G("ngForOf",e.bMT(18,6,n.uploadedImages)),e.R7$(6),e.Y8G("ngForOf",n.images),e.R7$(1),e.Y8G("ngIf",n.selectedImageUrl))},dependencies:[d.Sq,d.bT,r.xH,r.y7,r.me,r.wz,r.BC,r.vS,ct,d.Jj,d.lG],styles:[".upload-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto}.drag-drop-area[_ngcontent-%COMP%]{margin-top:100px;border:2px dashed #ccc;padding:100px;text-align:center;cursor:pointer;margin-bottom:20px}.drag-drop-area[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.drag-drop-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}input[type=file][_ngcontent-%COMP%]{display:none}.progress-container[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #ddd;margin-bottom:10px}.progress-bar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;text-align:center;padding:5px 0}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:cover;margin:10px 0}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;border-radius:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin:5px;max-width:240px;border-radius:7px;border:1px solid lightgray;padding:5px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s;padding:5px;background-color:#f3f3f3}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.gallery-item[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;border-radius:50%;width:25px;height:25px;display:flex;align-items:center;justify-content:center}"]})}}return i})();const vt=[{path:"",component:W,canActivate:[(i,l)=>{const t=(0,e.WQX)(D.DS),o=(0,e.WQX)(m.Ix);return t.authState.pipe((0,O.T)(n=>!!n||(o.navigate(["/login"],{queryParams:{returnUrl:l.url}}),!1)))}],children:[{path:"businessList",component:z},{path:"new",component:k},{path:"edit-business/:id",component:k},{path:"gallery-upload",component:U},{path:"edit-business/:id",component:k},{path:"gallery-upload",component:U},{path:":id",component:u(3831).B}]}];let Ct=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[m.iI.forChild(vt),m.iI]})}}return i})(),xt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[d.MD,Ct,r.YN]})}}return i})()}}]);