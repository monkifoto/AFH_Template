"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{4033:(on,Je,L)=>{L.d(Je,{$:()=>is,A:()=>ce,G:()=>Xe,K:()=>ko,L:()=>ho,N:()=>Re,P:()=>vp,R:()=>Tu,U:()=>pn,V:()=>Xi,W:()=>gr,X:()=>bs,Y:()=>Ai,Z:()=>oi,_:()=>go,a:()=>$t,a0:()=>Ns,a1:()=>os,a2:()=>Bo,a3:()=>gu,a4:()=>Mc,a5:()=>Qs,a6:()=>Ka,a7:()=>ls,a8:()=>qa,a9:()=>Pa,aA:()=>Ce,aB:()=>ot,aC:()=>be,aD:()=>Du,aE:()=>It,aF:()=>nn,aG:()=>Yd,aH:()=>rf,aI:()=>Bs,aJ:()=>Mr,aN:()=>Na,aQ:()=>po,aa:()=>Ya,ab:()=>Vl,ac:()=>Js,ad:()=>Ju,ae:()=>ca,af:()=>x,ag:()=>U,ah:()=>we,ak:()=>Nr,al:()=>zr,am:()=>Ir,ap:()=>G,aq:()=>ds,as:()=>yu,at:()=>tl,au:()=>dn,av:()=>Lt,aw:()=>ri,ax:()=>We,ay:()=>Ua,az:()=>Xd,b:()=>fs,c:()=>tf,d:()=>yp,e:()=>oc,f:()=>La,g:()=>sf,h:()=>$c,i:()=>M,j:()=>Ep,k:()=>eh,l:()=>_s,m:()=>Zl,p:()=>Le,r:()=>wu,s:()=>Gl,u:()=>Uc});var a=L(467),ae=L(7852),o=L(1076),Ae=L(8041),he=L(1635),De=L(1362);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Xe=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bt=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mt=new Ae.Vy("@firebase/auth");function et(b,...p){Mt.logLevel<=Ae.$b.ERROR&&Mt.error(`Auth (${ae.SDK_VERSION}): ${b}`,...p)}function We(b,...p){throw Ft(b,...p)}function ot(b,...p){return Ft(b,...p)}function Ze(b,p,_){const A=Object.assign(Object.assign({},bt()),{[p]:_});return new o.FA("auth","Firebase",A).create(p,{appName:b.name})}function rt(b){return Ze(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wt(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&We(b,"argument-error"),Ze(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ft(b,...p){if("string"!=typeof b){const _=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return Ct.create(b,...p)}function be(b,p,..._){if(!b)throw Ft(p,..._)}function Jt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw et(p),new Error(p)}function dn(b,p){b||Jt(p)}function nr(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Pt(){return"http:"===Bt()||"https:"===Bt()}function Bt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Me{constructor(p,_){this.shortDelay=p,this.longDelay=_,dn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,o.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(b,p){dn(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Fe{static initialize(p,_,A){this.fetchImpl=p,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new Me(3e4,6e4);function Se(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Ge(b,p,_,A){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,a.A)(function*(b,p,_,A,K={}){return xt(b,K,(0,a.A)(function*(){let se={},$e={};A&&("GET"===p?$e=A:se={body:JSON.stringify(A)});const gt=(0,o.Am)(Object.assign({key:b.config.apiKey},$e)).slice(1),zt=yield b._getAdditionalHeaders();return zt["Content-Type"]="application/json",b.languageCode&&(zt["X-Firebase-Locale"]=b.languageCode),Fe.fetch()(In(b,b.config.apiHost,_,gt),Object.assign({method:p,headers:zt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function xt(b,p,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.A)(function*(b,p,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Qe),p);try{const K=new Gt(b),se=yield Promise.race([_(),K.promise]);K.clearNetworkTimeout();const $e=yield se.json();if("needConfirmation"in $e)throw wn(b,"account-exists-with-different-credential",$e);if(se.ok&&!("errorMessage"in $e))return $e;{const gt=se.ok?$e.errorMessage:$e.error.message,[zt,Sn]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw wn(b,"credential-already-in-use",$e);if("EMAIL_EXISTS"===zt)throw wn(b,"email-already-in-use",$e);if("USER_DISABLED"===zt)throw wn(b,"user-disabled",$e);const Gn=A[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw Ze(b,Gn,Sn);We(b,Gn)}}catch(K){if(K instanceof o.g)throw K;We(b,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function sn(b,p,_,A){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,a.A)(function*(b,p,_,A,K={}){const se=yield Ge(b,p,_,A,K);return"mfaPendingCredential"in se&&We(b,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function In(b,p,_,A){const K=`${p}${_}?${A}`;return b.config.emulator?le(b.config,K):`${b.config.apiScheme}://${K}`}function fr(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(ot(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(b,p,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const K=ot(b,p,A);return K.customData._tokenResponse=_,K}function Bn(b){return void 0!==b&&void 0!==b.getResponse}function Wt(b){return void 0!==b&&void 0!==b.enterprise}class Vt{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return fr(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function fn(){return(fn=(0,a.A)(function*(b){return(yield Ge(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cr(b,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.A)(function*(b,p){return Ge(b,"GET","/v2/recaptchaConfig",Se(b,p))})).apply(this,arguments)}function _n(){return(_n=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Tn(){return(Tn=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pr(b,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ei(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ki(){return(Ki=(0,a.A)(function*(b,p=!1){const _=(0,o.Ku)(b),A=yield _.getIdToken(p),K=ni(A);be(K&&K.exp&&K.auth_time&&K.iat,_.auth,"internal-error");const se="object"==typeof K.firebase?K.firebase:void 0,$e=se?.sign_in_provider;return{claims:K,token:A,authTime:ei(un(K.auth_time)),issuedAtTime:ei(un(K.iat)),expirationTime:ei(un(K.exp)),signInProvider:$e||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function un(b){return 1e3*Number(b)}function ni(b){const[p,_,A]=b.split(".");if(void 0===p||void 0===_||void 0===A)return et("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,o.u)(_);return K?JSON.parse(K):(et("Failed to decode base64 JWT payload"),null)}catch(K){return et("Caught error parsing JWT payload as JSON",K?.toString()),null}}function qn(b){const p=ni(b);return be(p,"internal-error"),be(typeof p.exp<"u","internal-error"),be(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function vr(b,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.A)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(A){throw A instanceof o.g&&function yi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class Ke{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const K=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,a.A)(function*(){yield _.iteration()}),A)}iteration(){var p=this;return(0,a.A)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class mt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ie(b){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,a.A)(function*(b){var p;const _=b.auth,A=yield b.getIdToken(),K=yield vr(b,pr(_,{idToken:A}));be(K?.users.length,_,"internal-error");const se=K.users[0];b._notifyReloadListener(se);const $e=null!==(p=se.providerUserInfo)&&void 0!==p&&p.length?xr(se.providerUserInfo):[],gt=function Mn(b,p){return[...b.filter(A=>!p.some(K=>K.providerId===A.providerId)),...p]}(b.providerData,$e),Gn=!!b.isAnonymous&&!(b.email&&se.passwordHash||gt?.length),Wr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:gt,metadata:new mt(se.createdAt,se.lastLoginAt),isAnonymous:Gn};Object.assign(b,Wr)})).apply(this,arguments)}function Kt(){return(Kt=(0,a.A)(function*(b){const p=(0,o.Ku)(b);yield ie(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function xr(b){return b.map(p=>{var{providerId:_}=p,A=(0,he.Tt)(p,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Oe(){return(Oe=(0,a.A)(function*(b,p){const _=yield xt(b,{},(0,a.A)(function*(){const A=(0,o.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:K,apiKey:se}=b.config,$e=In(b,K,"/v1/token",`key=${se}`),gt=yield b._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()($e,{method:"POST",headers:gt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,a.A)(function*(b,p){return Ge(b,"POST","/v2/accounts:revokeToken",Se(b,p))})).apply(this,arguments)}class V{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){be(p.idToken,"internal-error"),be(typeof p.idToken<"u","internal-error"),be(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):qn(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}updateFromIdToken(p){be(0!==p.length,"internal-error");const _=qn(p);this.updateTokensAndExpiration(p,null,_)}getToken(p,_=!1){var A=this;return(0,a.A)(function*(){return _||!A.accessToken||A.isExpired?(be(A.refreshToken,p,"user-token-expired"),A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var A=this;return(0,a.A)(function*(){const{accessToken:K,refreshToken:se,expiresIn:$e}=yield function ur(b,p){return Oe.apply(this,arguments)}(p,_);A.updateTokensAndExpiration(K,se,Number($e))})()}updateTokensAndExpiration(p,_,A){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,_){const{refreshToken:A,accessToken:K,expirationTime:se}=_,$e=new V;return A&&(be("string"==typeof A,"internal-error",{appName:p}),$e.refreshToken=A),K&&(be("string"==typeof K,"internal-error",{appName:p}),$e.accessToken=K),se&&(be("number"==typeof se,"internal-error",{appName:p}),$e.expirationTime=se),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new V,this.toJSON())}_performRefresh(){return Jt("not implemented")}}function F(b,p){be("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class ue{constructor(p){var{uid:_,auth:A,stsTokenManager:K}=p,se=(0,he.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new mt(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,a.A)(function*(){const A=yield vr(_,_.stsTokenManager.getToken(_.auth,p));return be(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(p){return function ti(b){return Ki.apply(this,arguments)}(this,p)}reload(){return function ft(b){return Kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(be(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new ue(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var A=this;return(0,a.A)(function*(){let K=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),K=!0),_&&(yield ie(A)),yield A.auth._persistUserIfCurrent(A),K&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,a.A)(function*(){if((0,ae._isFirebaseServerApp)(p.auth.app))return Promise.reject(rt(p.auth));const _=yield p.getIdToken();return yield vr(p,function Ut(b,p){return _n.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var A,K,se,$e,gt,zt,Sn,Gn;const Wr=null!==(A=_.displayName)&&void 0!==A?A:void 0,Gs=null!==(K=_.email)&&void 0!==K?K:void 0,mc=null!==(se=_.phoneNumber)&&void 0!==se?se:void 0,_c=null!==($e=_.photoURL)&&void 0!==$e?$e:void 0,ku=null!==(gt=_.tenantId)&&void 0!==gt?gt:void 0,Jc=null!==(zt=_._redirectEventId)&&void 0!==zt?zt:void 0,ih=null!==(Sn=_.createdAt)&&void 0!==Sn?Sn:void 0,vc=null!==(Gn=_.lastLoginAt)&&void 0!==Gn?Gn:void 0,{uid:Zc,emailVerified:rd,isAnonymous:id,providerData:od,stsTokenManager:oh}=_;be(Zc&&oh,p,"internal-error");const yc=V.fromJSON(this.name,oh);be("string"==typeof Zc,p,"internal-error"),F(Wr,p.name),F(Gs,p.name),be("boolean"==typeof rd,p,"internal-error"),be("boolean"==typeof id,p,"internal-error"),F(mc,p.name),F(_c,p.name),F(ku,p.name),F(Jc,p.name),F(ih,p.name),F(vc,p.name);const eu=new ue({uid:Zc,auth:p,email:Gs,emailVerified:rd,displayName:Wr,isAnonymous:id,photoURL:_c,phoneNumber:mc,tenantId:ku,stsTokenManager:yc,createdAt:ih,lastLoginAt:vc});return od&&Array.isArray(od)&&(eu.providerData=od.map(sd=>Object.assign({},sd))),Jc&&(eu._redirectEventId=Jc),eu}static _fromIdTokenResponse(p,_,A=!1){return(0,a.A)(function*(){const K=new V;K.updateFromServerResponse(_);const se=new ue({uid:_.localId,auth:p,stsTokenManager:K,isAnonymous:A});return yield ie(se),se})()}static _fromGetAccountInfoResponse(p,_,A){return(0,a.A)(function*(){const K=_.users[0];be(void 0!==K.localId,"internal-error");const se=void 0!==K.providerUserInfo?xr(K.providerUserInfo):[],$e=!(K.email&&K.passwordHash||se?.length),gt=new V;gt.updateFromIdToken(A);const zt=new ue({uid:K.localId,auth:p,stsTokenManager:gt,isAnonymous:$e}),Sn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:se,metadata:new mt(K.createdAt,K.lastLoginAt),isAnonymous:!(K.email&&K.passwordHash||se?.length)};return Object.assign(zt,Sn),zt})()}}const je=new Map;function It(b){dn(b instanceof Function,"Expected a class definition");let p=je.get(b);return p?(dn(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,je.set(b,p),p)}const pn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.A)(function*(){return!0})()}_set(_,A){var K=this;return(0,a.A)(function*(){K.storage[_]=A})()}_get(_){var A=this;return(0,a.A)(function*(){const K=A.storage[_];return void 0===K?null:K})()}_remove(_){var A=this;return(0,a.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function nn(b,p,_){return`firebase:${b}:${p}:${_}`}class ln{constructor(p,_,A){this.persistence=p,this.auth=_,this.userKey=A;const{config:K,name:se}=this.auth;this.fullUserKey=nn(this.userKey,K.apiKey,se),this.fullPersistenceKey=nn("persistence",K.apiKey,se),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.A)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?ue._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,a.A)(function*(){if(_.persistence===p)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,A="authUser"){return(0,a.A)(function*(){if(!_.length)return new ln(It(pn),p,A);const K=(yield Promise.all(_.map(function(){var Sn=(0,a.A)(function*(Gn){if(yield Gn._isAvailable())return Gn});return function(Gn){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let se=K[0]||It(pn);const $e=nn(A,p.config.apiKey,p.name);let gt=null;for(const Sn of _)try{const Gn=yield Sn._get($e);if(Gn){const Wr=ue._fromJSON(p,Gn);Sn!==se&&(gt=Wr),se=Sn;break}}catch{}const zt=K.filter(Sn=>Sn._shouldAllowMigration);return se._shouldAllowMigration&&zt.length?(se=zt[0],gt&&(yield se._set($e,gt.toJSON())),yield Promise.all(_.map(function(){var Sn=(0,a.A)(function*(Gn){if(Gn!==se)try{yield Gn._remove($e)}catch{}});return function(Gn){return Sn.apply(this,arguments)}}())),new ln(se,p,A)):new ln(se,p,A)})()}}function rr(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Oo(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(An(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Bi(p))return"Blackberry";if(Pe(p))return"Webos";if(li(p))return"Safari";if((p.includes("chrome/")||br(p))&&!p.includes("edge/"))return"Chrome";if(ri(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function An(b=(0,o.ZQ)()){return/firefox\//i.test(b)}function li(b=(0,o.ZQ)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function br(b=(0,o.ZQ)()){return/crios\//i.test(b)}function Oo(b=(0,o.ZQ)()){return/iemobile/i.test(b)}function ri(b=(0,o.ZQ)()){return/android/i.test(b)}function Bi(b=(0,o.ZQ)()){return/blackberry/i.test(b)}function Pe(b=(0,o.ZQ)()){return/webos/i.test(b)}function Lt(b=(0,o.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ce(b=(0,o.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Et(b=(0,o.ZQ)()){return Lt(b)||ri(b)||Pe(b)||Bi(b)||/windows phone/i.test(b)||Oo(b)}function Dn(b,p=[]){let _;switch(b){case"Browser":_=rr((0,o.ZQ)());break;case"Worker":_=`${rr((0,o.ZQ)())}-${b}`;break;default:_=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${ae.SDK_VERSION}/${A}`}class On{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const A=se=>new Promise(($e,gt)=>{try{$e(p(se))}catch(zt){gt(zt)}});A.onAbort=_,this.queue.push(A);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,a.A)(function*(){if(_.auth.currentUser===p)return;const A=[];try{for(const K of _.queue)yield K(p),K.onAbort&&A.push(K.onAbort)}catch(K){A.reverse();for(const se of A)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function Kr(){return(Kr=(0,a.A)(function*(b,p={}){return Ge(b,"GET","/v2/passwordPolicy",Se(b,p))})).apply(this,arguments)}class Ni{constructor(p){var _,A,K,se;const $e=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=$e.minPasswordLength)&&void 0!==_?_:6,$e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=$e.maxPasswordLength),void 0!==$e.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=$e.containsLowercaseCharacter),void 0!==$e.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=$e.containsUppercaseCharacter),void 0!==$e.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=$e.containsNumericCharacter),void 0!==$e.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=$e.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(A=p.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(se=p.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,A,K,se,$e,gt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,zt),this.validatePasswordCharacterOptions(p,zt),zt.isValid&&(zt.isValid=null===(_=zt.meetsMinPasswordLength)||void 0===_||_),zt.isValid&&(zt.isValid=null===(A=zt.meetsMaxPasswordLength)||void 0===A||A),zt.isValid&&(zt.isValid=null===(K=zt.containsLowercaseLetter)||void 0===K||K),zt.isValid&&(zt.isValid=null===(se=zt.containsUppercaseLetter)||void 0===se||se),zt.isValid&&(zt.isValid=null===($e=zt.containsNumericCharacter)||void 0===$e||$e),zt.isValid&&(zt.isValid=null===(gt=zt.containsNonAlphanumericCharacter)||void 0===gt||gt),zt}validatePasswordLengthOptions(p,_){const A=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=p.length>=A),K&&(_.meetsMaxPasswordLength=p.length<=K)}validatePasswordCharacterOptions(p,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let K=0;K<p.length;K++)A=p.charAt(K),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(p,_,A,K,se){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=se))}}class Ko{constructor(p,_,A,K){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ys(this),this.idTokenSubscription=new ys(this),this.beforeStateQueue=new On(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(p,_){var A=this;return _&&(this._popupRedirectResolver=It(_)),this._initializationPromise=this.queue((0,a.A)(function*(){var K,se;if(!A._deleted&&(A.persistenceManager=yield ln.create(A,p),!A._deleted)){if(null!==(K=A._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.A)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(p){var _=this;return(0,a.A)(function*(){try{const A=yield pr(_,{idToken:p}),K=yield ue._fromGetAccountInfoResponse(_,A,p);yield _.directlySetCurrentUser(K)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var _=this;return(0,a.A)(function*(){var A;if((0,ae._isFirebaseServerApp)(_.app)){const gt=_.app.settings.authIdToken;return gt?new Promise(zt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(gt).then(zt,zt))}):_.directlySetCurrentUser(null)}const K=yield _.assertedPersistence.getCurrentUser();let se=K,$e=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const gt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,zt=se?._redirectEventId,Sn=yield _.tryRedirectSignIn(p);(!gt||gt===zt)&&Sn?.user&&(se=Sn.user,$e=!0)}if(!se)return _.directlySetCurrentUser(null);if(!se._redirectEventId){if($e)try{yield _.beforeStateQueue.runMiddleware(se)}catch(gt){se=K,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(gt))}return se?_.reloadAndSetCurrentUserOrClear(se):_.directlySetCurrentUser(null)}return be(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===se._redirectEventId?_.directlySetCurrentUser(se):_.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(p){var _=this;return(0,a.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,a.A)(function*(){try{yield ie(p)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ct(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,a.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,a.A)(function*(){if((0,ae._isFirebaseServerApp)(_.app))return Promise.reject(rt(_));const A=p?(0,o.Ku)(p):null;return A&&be(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(p,_=!1){var A=this;return(0,a.A)(function*(){if(!A._deleted)return p&&be(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,a.A)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.A)(function*(){return(0,ae._isFirebaseServerApp)(p.app)?Promise.reject(rt(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var _=this;return(0,ae._isFirebaseServerApp)(this.app)?Promise.reject(rt(this)):this.queue((0,a.A)(function*(){yield _.assertedPersistence.setPersistence(It(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,a.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,a.A)(function*(){const _=yield function kn(b){return Kr.apply(this,arguments)}(p),A=new Ni(_);null===p.tenantId?p._projectPasswordPolicy=A:p._tenantPasswordPolicies[p.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new o.FA("auth","Firebase",p())}onAuthStateChanged(p,_,A){return this.registerStateListener(this.authStateSubscription,p,_,A)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,A){return this.registerStateListener(this.idTokenSubscription,p,_,A)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const A=this.onAuthStateChanged(()=>{A(),p()},_)}})}revokeAccessToken(p){var _=this;return(0,a.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:A};null!=_.tenantId&&(K.tenantId=_.tenantId),yield function ee(b,p){return H.apply(this,arguments)}(_,K)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var A=this;return(0,a.A)(function*(){const K=yield A.getOrInitRedirectPersistenceManager(_);return null===p?K.removeCurrentUser():K.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,a.A)(function*(){if(!_.redirectPersistenceManager){const A=p&&It(p)||_._popupRedirectResolver;be(A,_,"argument-error"),_.redirectPersistenceManager=yield ln.create(_,[It(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,a.A)(function*(){var A,K;return _._isInitialized&&(yield _.queue((0,a.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===p?_._currentUser:(null===(K=_.redirectUser)||void 0===K?void 0:K._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,a.A)(function*(){if(p===_.currentUser)return _.queue((0,a.A)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,A,K){if(this._deleted)return()=>{};const se="function"==typeof _?_:_.next.bind(_);let $e=!1;const gt=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(gt,this,"internal-error"),gt.then(()=>{$e||se(this.currentUser)}),"function"==typeof _){const zt=p.addObserver(_,A,K);return()=>{$e=!0,zt()}}{const zt=p.addObserver(_);return()=>{$e=!0,zt()}}}directlySetCurrentUser(p){var _=this;return(0,a.A)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Dn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.A)(function*(){var _;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const K=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();K&&(A["X-Firebase-Client"]=K);const se=yield p._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var p=this;return(0,a.A)(function*(){var _;const A=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function cn(b,...p){Mt.logLevel<=Ae.$b.WARN&&Mt.warn(`Auth (${ae.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Mr(b){return(0,o.Ku)(b)}class ys{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,o.tD)(_=>this.observer=_)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ki={loadJS:()=>(0,a.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ei(b){return ki.loadJS(b)}function zi(b){return`__${b}${Math.floor(1e6*Math.random())}`}class $r{constructor(p){this.type="recaptcha-enterprise",this.auth=Mr(p)}verify(p="verify",_=!1){var A=this;return(0,a.A)(function*(){function se(){return se=(0,a.A)(function*(gt){if(!_){if(null==gt.tenantId&&null!=gt._agentRecaptchaConfig)return gt._agentRecaptchaConfig.siteKey;if(null!=gt.tenantId&&void 0!==gt._tenantRecaptchaConfigs[gt.tenantId])return gt._tenantRecaptchaConfigs[gt.tenantId].siteKey}return new Promise(function(){var zt=(0,a.A)(function*(Sn,Gn){Cr(gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wr=>{if(void 0!==Wr.recaptchaKey){const Gs=new Vt(Wr);return null==gt.tenantId?gt._agentRecaptchaConfig=Gs:gt._tenantRecaptchaConfigs[gt.tenantId]=Gs,Sn(Gs.siteKey)}Gn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wr=>{Gn(Wr)})});return function(Sn,Gn){return zt.apply(this,arguments)}}())}),se.apply(this,arguments)}function $e(gt,zt,Sn){const Gn=window.grecaptcha;Wt(Gn)?Gn.enterprise.ready(()=>{Gn.enterprise.execute(gt,{action:p}).then(Wr=>{zt(Wr)}).catch(()=>{zt("NO_RECAPTCHA")})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((gt,zt)=>{(function K(gt){return se.apply(this,arguments)})(A.auth).then(Sn=>{if(!_&&Wt(window.grecaptcha))$e(Sn,gt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let Gn=function No(){return ki.recaptchaEnterpriseScript}();0!==Gn.length&&(Gn+=Sn),Ei(Gn).then(()=>{$e(Sn,gt,zt)}).catch(Wr=>{zt(Wr)})}}).catch(Sn=>{zt(Sn)})})})()}}function Lr(b,p,_){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,a.A)(function*(b,p,_,A=!1){const K=new $r(b);let se;try{se=yield K.verify(_)}catch{se=yield K.verify(_,!0)}const $e=Object.assign({},p);return Object.assign($e,A?{captchaResp:se}:{captchaResponse:se}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e})).apply(this,arguments)}function lo(b,p,_,A){return $i.apply(this,arguments)}function $i(){return $i=(0,a.A)(function*(b,p,_,A){var K;if(null!==(K=b._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield Lr(b,p,_,"getOobCode"===_);return A(b,se)}return A(b,p).catch(function(){var se=(0,a.A)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const gt=yield Lr(b,p,_,"getOobCode"===_);return A(b,gt)}return Promise.reject($e)});return function($e){return se.apply(this,arguments)}}())}),$i.apply(this,arguments)}function ko(b,p,_){const A=Mr(b);be(A._canInitEmulator,A,"emulator-config-failed"),be(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const K=!!_?.disableWarnings,se=ci(p),{host:$e,port:gt}=function Co(b){const p=ci(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(A);if(K){const se=K[1];return{host:se,port:qo(A.substr(se.length+1))}}{const[se,$e]=A.split(":");return{host:se,port:qo($e)}}}(p);A.config.emulator={url:`${se}//${$e}${null===gt?"":`:${gt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:$e,port:gt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Cs(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function ci(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function qo(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class ho{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Jt("not implemented")}_getIdTokenResponse(p){return Jt("not implemented")}_linkToIdToken(p,_){return Jt("not implemented")}_getReauthenticationResolver(p){return Jt("not implemented")}}function rs(b,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:resetPassword",Se(b,p))})).apply(this,arguments)}function Ti(){return(Ti=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fo(b,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function hi(){return(hi=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",Se(b,p))})).apply(this,arguments)}function Fi(b,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signInWithPassword",Se(b,p))})).apply(this,arguments)}function qi(b,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:sendOobCode",Se(b,p))})).apply(this,arguments)}function Un(){return(Un=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function dr(b,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function io(b,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function Gr(){return(Gr=(0,a.A)(function*(b,p){return qi(b,p)})).apply(this,arguments)}function Vo(){return(Vo=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}function Io(){return(Io=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signInWithEmailLink",Se(b,p))})).apply(this,arguments)}class gi extends ho{constructor(p,_,A,K=null){super("password",A),this._email=p,this._password=_,this._tenantId=K}static _fromEmailAndPassword(p,_){return new gi(p,_,"password")}static _fromEmailAndCode(p,_,A=null){return new gi(p,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,a.A)(function*(){switch(_.signInMethod){case"password":return lo(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fi);case"emailLink":return function Fo(b,p){return Vo.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:We(p,"internal-error")}})()}_linkToIdToken(p,_){var A=this;return(0,a.A)(function*(){switch(A.signInMethod){case"password":return lo(p,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fo);case"emailLink":return function Wn(b,p){return Io.apply(this,arguments)}(p,{idToken:_,email:A._email,oobCode:A._password});default:We(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Q(b,p){return z.apply(this,arguments)}function z(){return(z=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signInWithIdp",Se(b,p))})).apply(this,arguments)}class Re extends ho{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Re(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):We("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:K}=_,se=(0,he.Tt)(_,["providerId","signInMethod"]);if(!A||!K)return null;const $e=new Re(A,K);return $e.idToken=se.idToken||void 0,$e.accessToken=se.accessToken||void 0,$e.secret=se.secret,$e.nonce=se.nonce,$e.pendingToken=se.pendingToken||null,$e}_getIdTokenResponse(p){return Q(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,Q(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Q(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,o.Am)(_)}return p}}function yt(){return(yt=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:sendVerificationCode",Se(b,p))})).apply(this,arguments)}function mn(){return(mn=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p))})).apply(this,arguments)}function gn(){return(gn=(0,a.A)(function*(b,p){const _=yield sn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,p));if(_.temporaryProof)throw wn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ar={USER_NOT_FOUND:"user-not-found"};function pi(){return(pi=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",Se(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ar)})).apply(this,arguments)}class wr extends ho{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new wr({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new wr({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Yt(b,p){return mn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Rt(b,p){return gn.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Rn(b,p){return pi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:A,verificationCode:K}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:A,code:K}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}=p;return A||_||K||se?new wr({verificationId:_,verificationCode:A,phoneNumber:K,temporaryProof:se}):null}}class Ur{constructor(p){var _,A,K,se,$e,gt;const zt=(0,o.I9)((0,o.hp)(p)),Sn=null!==(_=zt.apiKey)&&void 0!==_?_:null,Gn=null!==(A=zt.oobCode)&&void 0!==A?A:null,Wr=function Jr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=zt.mode)&&void 0!==K?K:null);be(Sn&&Gn&&Wr,"argument-error"),this.apiKey=Sn,this.operation=Wr,this.code=Gn,this.continueUrl=null!==(se=zt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==($e=zt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(gt=zt.tenantId)&&void 0!==gt?gt:null}static parseLink(p){const _=function ii(b){const p=(0,o.I9)((0,o.hp)(b)).link,_=p?(0,o.I9)((0,o.hp)(p)).deep_link_id:null,A=(0,o.I9)((0,o.hp)(b)).deep_link_id;return(A?(0,o.I9)((0,o.hp)(A)).link:null)||A||_||p||b}(p);try{return new Ur(_)}catch{return null}}}let Xi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return gi._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const K=Ur.parseLink(A);return be(K,"argument-error"),gi._fromEmailAndCode(_,K.code,K.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ir{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ci extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class oi extends Ci{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return be("providerId"in _&&"signInMethod"in _,"argument-error"),Re._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return be(p.idToken||p.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return oi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return oi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:K,pendingToken:se,nonce:$e,providerId:gt}=p;if(!A&&!K&&!_&&!se||!gt)return null;try{return new oi(gt)._credential({idToken:_,accessToken:A,nonce:$e,pendingToken:se})}catch{return null}}}let gr=(()=>{class b extends Ci{constructor(){super("facebook.com")}static credential(_){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),bs=(()=>{class b extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:K}=_;if(!A&&!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ai=(()=>{class b extends Ci{constructor(){super("github.com")}static credential(_){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class po extends ho{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Q(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,Q(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Q(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:K,pendingToken:se}=_;return A&&K&&se&&A===K?new po(A,se):null}static _create(p,_){return new po(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class go extends ir{constructor(p){be(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return go.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return go.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=po.fromJSON(p);return be(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:A}=p;if(!_||!A)return null;try{return po._create(A,_)}catch{return null}}}let is=(()=>{class b extends Ci{constructor(){super("twitter.com")}static credential(_,A){return Re._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:K}=_;if(!A||!K)return null;try{return b.credential(A,K)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Xs(b,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signUp",Se(b,p))})).apply(this,arguments)}class Hi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,A,K=!1){return(0,a.A)(function*(){const se=yield ue._fromIdTokenResponse(p,A,K),$e=Os(A);return new Hi({user:se,providerId:$e,_tokenResponse:A,operationType:_})})()}static _forOperation(p,_,A){return(0,a.A)(function*(){yield p._updateTokensIfNecessary(A,!0);const K=Os(A);return new Hi({user:p,providerId:K,_tokenResponse:A,operationType:_})})()}}function Os(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ns(b){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,a.A)(function*(b){var p;if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const _=Mr(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Hi({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Xs(_,{returnSecureToken:!0}),K=yield Hi._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(K.user),K})).apply(this,arguments)}class Yr extends o.g{constructor(p,_,A,K){var se;super(_.code,_.message),this.operationType=A,this.user=K,Object.setPrototypeOf(this,Yr.prototype),this.customData={appName:p.name,tenantId:null!==(se=p.tenantId)&&void 0!==se?se:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,_,A,K){return new Yr(p,_,A,K)}}function sa(b,p,_,A){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Yr._fromErrorAndOperation(b,se,p,A):se})}function xa(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function G(b,p){return Y.apply(this,arguments)}function Y(){return Y=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b);yield Ve(!0,_,p);const{providerUserInfo:A}=yield function Pn(b,p){return Tn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),K=xa(A||[]);return _.providerData=_.providerData.filter(se=>K.has(se.providerId)),K.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Y.apply(this,arguments)}function O(b,p){return oe.apply(this,arguments)}function oe(){return(oe=(0,a.A)(function*(b,p,_=!1){const A=yield vr(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Hi._forOperation(b,"link",A)})).apply(this,arguments)}function Ve(b,p,_){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.A)(function*(b,p,_){yield ie(p);const K=!1===b?"provider-already-linked":"no-such-provider";be(xa(p.providerData).has(_)===b,p.auth,K)})).apply(this,arguments)}function Hn(b,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.A)(function*(b,p,_=!1){const{auth:A}=b;if((0,ae._isFirebaseServerApp)(A.app))return Promise.reject(rt(A));const K="reauthenticate";try{const se=yield vr(b,sa(A,K,p,b),_);be(se.idToken,A,"internal-error");const $e=ni(se.idToken);be($e,A,"internal-error");const{sub:gt}=$e;return be(b.uid===gt,A,"user-mismatch"),Hi._forOperation(b,K,se)}catch(se){throw"auth/user-not-found"===se?.code&&We(A,"user-mismatch"),se}})).apply(this,arguments)}function mo(b,p){return so.apply(this,arguments)}function so(){return(so=(0,a.A)(function*(b,p,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A="signIn",K=yield sa(b,A,p),se=yield Hi._fromIdTokenResponse(b,A,K);return _||(yield b._updateCurrentUser(se.user)),se})).apply(this,arguments)}function os(b,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,a.A)(function*(b,p){return mo(Mr(b),p)})).apply(this,arguments)}function Bo(b,p){return So.apply(this,arguments)}function So(){return(So=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b);return yield Ve(!1,_,p.providerId),O(_,p)})).apply(this,arguments)}function gu(b,p){return si.apply(this,arguments)}function si(){return(si=(0,a.A)(function*(b,p){return Hn((0,o.Ku)(b),p)})).apply(this,arguments)}function Wi(){return(Wi=(0,a.A)(function*(b,p){return sn(b,"POST","/v1/accounts:signInWithCustomToken",Se(b,p))})).apply(this,arguments)}function Mc(b,p){return To.apply(this,arguments)}function To(){return To=(0,a.A)(function*(b,p){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const _=Mr(b),A=yield function _a(b,p){return Wi.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),K=yield Hi._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(K.user),K}),To.apply(this,arguments)}class ks{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?ss._fromServerResponse(p,_):"totpInfo"in _?va._fromServerResponse(p,_):We(p,"internal-error")}}class ss extends ks{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new ss(_)}}class va extends ks{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new va(_)}}function Fs(b,p,_){var A;be((null===(A=_.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),be(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(be(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(be(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function cr(b){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.A)(function*(b){const p=Mr(b);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Qs(b,p,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.A)(function*(b,p,_){const A=Mr(b),K={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&Fs(A,K,_),yield lo(A,K,"getOobCode",dr)})).apply(this,arguments)}function Ka(b,p,_){return ya.apply(this,arguments)}function ya(){return ya=(0,a.A)(function*(b,p,_){yield rs((0,o.Ku)(b),{oobCode:p,newPassword:_}).catch(function(){var A=(0,a.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&cr(b),K});return function(K){return A.apply(this,arguments)}}())}),ya.apply(this,arguments)}function ls(b,p){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,a.A)(function*(b,p){yield function wi(b,p){return hi.apply(this,arguments)}((0,o.Ku)(b),{oobCode:p})}),Vs.apply(this,arguments)}function qa(b,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b),A=yield rs(_,{oobCode:p}),K=A.requestType;switch(be(K,_,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(A.mfaInfo,_,"internal-error");default:be(A.email,_,"internal-error")}let se=null;return A.mfaInfo&&(se=ks._fromServerResponse(Mr(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:K}})).apply(this,arguments)}function Pa(b,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,a.A)(function*(b,p){const{data:_}=yield qa((0,o.Ku)(b),p);return _.email})).apply(this,arguments)}function Ya(b,p,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Mr(b),$e=yield lo(A,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xs).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&cr(b),zt}),gt=yield Hi._fromIdTokenResponse(A,"signIn",$e);return yield A._updateCurrentUser(gt.user),gt})).apply(this,arguments)}function Vl(b,p,_){return(0,ae._isFirebaseServerApp)(b.app)?Promise.reject(rt(b)):os((0,o.Ku)(b),Xi.credential(p,_)).catch(function(){var A=(0,a.A)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&cr(b),K});return function(K){return A.apply(this,arguments)}}())}function Js(b,p,_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.A)(function*(b,p,_){const A=Mr(b),K={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function se($e,gt){be(gt.handleCodeInApp,A,"argument-error"),gt&&Fs(A,$e,gt)})(K,_),yield lo(A,K,"getOobCode",io)})).apply(this,arguments)}function Ju(b,p){const _=Ur.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}function ca(b,p,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=(0,o.Ku)(b),K=Xi.credentialWithLink(p,_||nr());return be(K._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),os(A,K)})).apply(this,arguments)}function Di(){return(Di=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:createAuthUri",Se(b,p))})).apply(this,arguments)}function x(b,p){return J.apply(this,arguments)}function J(){return J=(0,a.A)(function*(b,p){const A={identifier:p,continueUri:Pt()?nr():"http://localhost"},{signinMethods:K}=yield function _u(b,p){return Di.apply(this,arguments)}((0,o.Ku)(b),A);return K||[]}),J.apply(this,arguments)}function U(b,p){return X.apply(this,arguments)}function X(){return X=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b),K={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Fs(_.auth,K,p);const{email:se}=yield function Zt(b,p){return Un.apply(this,arguments)}(_.auth,K);se!==b.email&&(yield b.reload())}),X.apply(this,arguments)}function we(b,p,_){return _t.apply(this,arguments)}function _t(){return _t=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Fs(A.auth,se,_);const{email:$e}=yield function bo(b,p){return Gr.apply(this,arguments)}(A.auth,se);$e!==b.email&&(yield b.reload())}),_t.apply(this,arguments)}function Cn(){return(Cn=(0,a.A)(function*(b,p){return Ge(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Nr(b,p){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,a.A)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const A=(0,o.Ku)(b),se={idToken:yield A.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},$e=yield vr(A,function Nt(b,p){return Cn.apply(this,arguments)}(A.auth,se));A.displayName=$e.displayName||null,A.photoURL=$e.photoUrl||null;const gt=A.providerData.find(({providerId:zt})=>"password"===zt);gt&&(gt.displayName=A.displayName,gt.photoURL=A.photoURL),yield A._updateTokensIfNecessary($e)}),Xr.apply(this,arguments)}function zr(b,p){const _=(0,o.Ku)(b);return(0,ae._isFirebaseServerApp)(_.auth.app)?Promise.reject(rt(_.auth)):mi(_,p,null)}function Ir(b,p){return mi((0,o.Ku)(b),null,p)}function mi(b,p,_){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,a.A)(function*(b,p,_){const{auth:A}=b,se={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(se.email=p),_&&(se.password=_);const $e=yield vr(b,function di(b,p){return Ti.apply(this,arguments)}(A,se));yield b._updateTokensIfNecessary($e,!0)}),Sr.apply(this,arguments)}class wo{constructor(p,_,A={}){this.isNewUser=p,this.providerId=_,this.profile=A}}class $o extends wo{constructor(p,_,A,K){super(p,_,A),this.username=K}}class Us extends wo{constructor(p,_){super(p,"facebook.com",_)}}class Ho extends $o{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class xi extends wo{constructor(p,_){super(p,"google.com",_)}}class Qn extends $o{constructor(p,_,A){super(p,"twitter.com",_,A)}}function ds(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ri(b){var p,_;if(!b)return null;const{providerId:A}=b,K=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},se=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&b?.idToken){const $e=null===(_=null===(p=ni(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if($e)return new wo(se,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!A)return null;switch(A){case"facebook.com":return new Us(se,K);case"github.com":return new Ho(se,K);case"google.com":return new xi(se,K);case"twitter.com":return new Qn(se,K,b.screenName||null);case"custom":case"anonymous":return new wo(se,null);default:return new wo(se,A,K)}}(_)}class Zi{constructor(p,_,A){this.type=p,this.credential=_,this.user=A}static _fromIdtoken(p,_){return new Zi("enroll",p,_)}static _fromMfaPendingCredential(p){return new Zi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,A;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Zi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(A=p.multiFactorSession)&&void 0!==A&&A.idToken)return Zi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Nc{constructor(p,_,A){this.session=p,this.hints=_,this.signInResolver=A}static _fromError(p,_){const A=Mr(p),K=_.customData._serverResponse,se=(K.mfaInfo||[]).map(gt=>ks._fromServerResponse(A,gt));be(K.mfaPendingCredential,A,"internal-error");const $e=Zi._fromMfaPendingCredential(K.mfaPendingCredential);return new Nc($e,se,function(){var gt=(0,a.A)(function*(zt){const Sn=yield zt._process(A,$e);delete K.mfaInfo,delete K.mfaPendingCredential;const Gn=Object.assign(Object.assign({},K),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(_.operationType){case"signIn":const Wr=yield Hi._fromIdTokenResponse(A,_.operationType,Gn);return yield A._updateCurrentUser(Wr.user),Wr;case"reauthenticate":return be(_.user,A,"internal-error"),Hi._forOperation(_.user,_.operationType,Gn);default:We(A,"internal-error")}});return function(zt){return gt.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,a.A)(function*(){return _.signInResolver(p)})()}}function yu(b,p){var _;const A=(0,o.Ku)(b),K=p;return be(p.customData.operationType,A,"argument-error"),be(null===(_=K.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),Nc._fromError(A,K)}class Ja{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>ks._fromServerResponse(p.auth,A)))})}static _fromUser(p){return new Ja(p)}getSession(){var p=this;return(0,a.A)(function*(){return Zi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,_){var A=this;return(0,a.A)(function*(){const K=p,se=yield A.getSession(),$e=yield vr(A.user,K._process(A.user.auth,se,_));return yield A.user._updateTokensIfNecessary($e),A.user.reload()})()}unenroll(p){var _=this;return(0,a.A)(function*(){const A="string"==typeof p?p:p.uid,K=yield _.user.getIdToken();try{const se=yield vr(_.user,function Bl(b,p){return Ge(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(b,p))}(_.user.auth,{idToken:K,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:$e})=>$e!==A),yield _.user._updateTokensIfNecessary(se),yield _.user.reload()}catch(se){throw se}})()}}const Go=new WeakMap;function tl(b){const p=(0,o.Ku)(b);return Go.has(p)||Go.set(p,Ja._fromUser(p)),Go.get(p)}const Eu="__sak";class eo{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Eu,"1"),this.storage.removeItem(Eu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class b extends eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ma(){const b=(0,o.ZQ)();return li(b)||Lt(b)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Et(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const K=this.storage.getItem(A),se=this.localCache[A];K!==se&&_(A,se,K)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((gt,zt,Sn)=>{this.notifyListeners(gt,Sn)});const K=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const gt=this.storage.getItem(K);if(_.newValue!==gt)null!==_.newValue?this.storage.setItem(K,_.newValue):this.storage.removeItem(K);else if(this.localCache[K]===_.newValue&&!A)return}const se=()=>{const gt=this.storage.getItem(K);!A&&this.localCache[K]===gt||this.notifyListeners(K,gt)},$e=this.storage.getItem(K);!function fe(){return(0,o.lT)()&&10===document.documentMode}()||$e===_.newValue||_.newValue===_.oldValue?se():setTimeout(se,10)}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var K=()=>super._set,se=this;return(0,a.A)(function*(){yield K().call(se,_,A),se.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,K=this;return(0,a.A)(function*(){const se=yield A().call(K,_);return K.localCache[_]=JSON.stringify(se),se})()}_remove(_){var A=()=>super._remove,K=this;return(0,a.A)(function*(){yield A().call(K,_),delete K.localCache[_]})()}}return b.type="LOCAL",b})(),$t=(()=>{class b extends eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let Fc=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(se=>se.isListeningto(_));if(A)return A;const K=new b(_);return this.receivers.push(K),K}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,a.A)(function*(){const K=_,{eventId:se,eventType:$e,data:gt}=K.data,zt=A.handlersMap[$e];if(!zt?.size)return;K.ports[0].postMessage({status:"ack",eventId:se,eventType:$e});const Sn=Array.from(zt).map(function(){var Wr=(0,a.A)(function*(Gs){return Gs(K.origin,gt)});return function(Gs){return Wr.apply(this,arguments)}}()),Gn=yield function At(b){return Promise.all(b.map(function(){var p=(0,a.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return p.apply(this,arguments)}}()))}(Sn);K.ports[0].postMessage({status:"done",eventId:se,eventType:$e,response:Gn})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Na(b="",p=10){let _="";for(let A=0;A<p;A++)_+=Math.floor(10*Math.random());return b+_}class Ao{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,A=50){var K=this;return(0,a.A)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let $e,gt;return new Promise((zt,Sn)=>{const Gn=Na("",20);se.port1.start();const Wr=setTimeout(()=>{Sn(new Error("unsupported_event"))},A);gt={messageChannel:se,onMessage(Gs){const mc=Gs;if(mc.data.eventId===Gn)switch(mc.data.status){case"ack":clearTimeout(Wr),$e=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),zt(mc.data.response);break;default:clearTimeout(Wr),clearTimeout($e),Sn(new Error("invalid_response"))}}},K.handlers.add(gt),se.port1.addEventListener("message",gt.onMessage),K.target.postMessage({eventType:p,eventId:Gn,data:_},[se.port2])}).finally(()=>{gt&&K.removeMessageHandler(gt)})})()}}function Si(){return window}function Xo(){return typeof Si().WorkerGlobalScope<"u"&&"function"==typeof Si().importScripts}function ka(){return(ka=(0,a.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bu="firebaseLocalStorageDb",ps="firebaseLocalStorage",Iu="fbase_key";class Zs{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function gs(b,p){return b.transaction([ps],p?"readwrite":"readonly").objectStore(ps)}function ms(){const b=indexedDB.open(bu,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(ps,{keyPath:Iu})}catch(K){_(K)}}),b.addEventListener("success",(0,a.A)(function*(){const A=b.result;A.objectStoreNames.contains(ps)?p(A):(A.close(),yield function Gd(){const b=indexedDB.deleteDatabase(bu);return new Zs(b).toPromise()}(),p(yield ms()))}))})}function ec(b,p,_){return $l.apply(this,arguments)}function $l(){return($l=(0,a.A)(function*(b,p,_){const A=gs(b,!0).put({[Iu]:p,value:_});return new Zs(A).toPromise()})).apply(this,arguments)}function Vc(){return(Vc=(0,a.A)(function*(b,p){const _=gs(b,!1).get(p),A=yield new Zs(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ea(b,p){const _=gs(b,!0).delete(p);return new Zs(_).toPromise()}const M=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.A)(function*(){return _.db||(_.db=yield ms()),_.db})()}_withRetries(_){var A=this;return(0,a.A)(function*(){let K=0;for(;;)try{const se=yield A._openDb();return yield _(se)}catch(se){if(K++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.A)(function*(){return Xo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.A)(function*(){_.receiver=Fc._getInstance(function Za(){return Xo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,a.A)(function*(K,se){return{keyProcessed:(yield _._poll()).includes(se.key)}});return function(K,se){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,a.A)(function*(K,se){return["keyChanged"]});return function(K,se){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.A)(function*(){var A,K;if(_.activeServiceWorker=yield function zo(){return ka.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ao(_.activeServiceWorker);const se=yield _.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(K=se[0])&&void 0!==K&&K.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,a.A)(function*(){if(A.sender&&A.activeServiceWorker&&function Kn(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.A)(function*(){try{if(!indexedDB)return!1;const _=yield ms();return yield ec(_,Eu,"1"),yield ea(_,Eu),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,a.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var K=this;return(0,a.A)(function*(){return K._withPendingWrite((0,a.A)(function*(){return yield K._withRetries(se=>ec(se,_,A)),K.localCache[_]=A,K.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,a.A)(function*(){const K=yield A._withRetries(se=>function Hl(b,p){return Vc.apply(this,arguments)}(se,_));return A.localCache[_]=K,K})()}_remove(_){var A=this;return(0,a.A)(function*(){return A._withPendingWrite((0,a.A)(function*(){return yield A._withRetries(K=>ea(K,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.A)(function*(){const A=yield _._withRetries($e=>{const gt=gs($e,!1).getAll();return new Zs(gt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const K=[],se=new Set;if(0!==A.length)for(const{fbase_key:$e,value:gt}of A)se.add($e),JSON.stringify(_.localCache[$e])!==JSON.stringify(gt)&&(_.notifyListeners($e,gt),K.push($e));for(const $e of Object.keys(_.localCache))_.localCache[$e]&&!se.has($e)&&(_.notifyListeners($e,null),K.push($e));return K})()}notifyListeners(_,A){this.localCache[_]=A;const K=this.listeners[_];if(K)for(const se of Array.from(K))se(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),vn=1e12;class mr{constructor(p){this.auth=p,this.counter=vn,this._widgets=new Map}render(p,_){const A=this.counter;return this._widgets.set(A,new Ar(p,this.auth.name,_||{})),this.counter++,A}reset(p){var _;const A=p||vn;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(p){var _;return(null===(_=this._widgets.get(p||vn))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,a.A)(function*(){var A;return null===(A=_._widgets.get(p||vn))||void 0===A||A.execute(),""})()}}class Ar{constructor(p,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof p?document.getElementById(p):p;be(K,"argument-error",{appName:_}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pr(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ai=zi("rcb"),tc=new Me(3e4,6e4);class nc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Si().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return be(function la(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Bn(Si().grecaptcha)?Promise.resolve(Si().grecaptcha):new Promise((A,K)=>{const se=Si().setTimeout(()=>{K(ot(p,"network-request-failed"))},tc.get());Si()[ai]=()=>{Si().clearTimeout(se),delete Si()[ai];const gt=Si().grecaptcha;if(!gt||!Bn(gt))return void K(ot(p,"internal-error"));const zt=gt.render;gt.render=(Sn,Gn)=>{const Wr=zt(Sn,Gn);return this.counter++,Wr},this.hostLanguage=_,A(gt)},Ei(`${function ga(){return ki.recaptchaV2Script}()}?${(0,o.Am)({onload:ai,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(se),K(ot(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Si().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ta{load(p){return(0,a.A)(function*(){return new mr(p)})()}clearedOneInstance(){}}const Ea="recaptcha",Fa={theme:"light",type:"image"};class Tu{constructor(p,_,A=Object.assign({},Fa)){this.parameters=A,this.type=Ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mr(p),this.isInvisible="invisible"===this.parameters.size,be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof _?document.getElementById(_):_;be(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ta:new nc,this.validateStartingState()}verify(){var p=this;return(0,a.A)(function*(){p.assertNotDestroyed();const _=yield p.render(),A=p.getAssertedRecaptcha();return A.getResponse(_)||new Promise(se=>{const $e=gt=>{gt&&(p.tokenChangeListeners.delete($e),se(gt))};p.tokenChangeListeners.add($e),p.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof p)p(_);else if("string"==typeof p){const A=Si()[p];"function"==typeof A&&A(_)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.A)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.A)(function*(){be(Pt()&&!Xo(),p.auth,"internal-error"),yield function rc(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function Br(b){return fn.apply(this,arguments)}(p.auth);be(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zd{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=wr._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Gl(b,p,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Mr(b),K=yield Lc(A,p,(0,o.Ku)(_));return new zd(K,se=>os(A,se))})).apply(this,arguments)}function _s(b,p,_){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);yield Ve(!1,A,"phone");const K=yield Lc(A.auth,p,(0,o.Ku)(_));return new zd(K,se=>Bo(A,se))})).apply(this,arguments)}function wu(b,p,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(rt(A.auth));const K=yield Lc(A.auth,p,(0,o.Ku)(_));return new zd(K,se=>gu(A,se))})).apply(this,arguments)}function Lc(b,p,_){return ic.apply(this,arguments)}function ic(){return ic=(0,a.A)(function*(b,p,_){var A;const K=yield _.verify();try{let se;if(be("string"==typeof K,b,"argument-error"),be(_.type===Ea,b,"argument-error"),se="string"==typeof p?{phoneNumber:p}:p,"session"in se){const $e=se.session;if("phoneNumber"in se)return be("enroll"===$e.type,b,"internal-error"),(yield function Ll(b,p){return Ge(b,"POST","/v2/accounts/mfaEnrollment:start",Se(b,p))}(b,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{be("signin"===$e.type,b,"internal-error");const gt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return be(gt,b,"missing-multi-factor-info"),(yield function j(b,p){return Ge(b,"POST","/v2/accounts/mfaSignIn:start",Se(b,p))}(b,{mfaPendingCredential:$e.credential,mfaEnrollmentId:gt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield function Ye(b,p){return yt.apply(this,arguments)}(b,{phoneNumber:se.phoneNumber,recaptchaToken:K});return $e}}finally{_._reset()}}),ic.apply(this,arguments)}function Uc(b,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,a.A)(function*(b,p){const _=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(_.auth.app))return Promise.reject(rt(_.auth));yield O(_,p)})).apply(this,arguments)}let vp=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Mr(_)}verifyPhoneNumber(_,A){return Lc(this.auth,_,(0,o.Ku)(A))}static credential(_,A){return wr._fromVerification(_,A)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:K}=_;return A&&K?wr._fromTokenResponse(A,K):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function da(b,p){return p?It(p):(be(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class zl extends ho{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Q(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Q(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Q(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Wd(b){return mo(b.auth,new zl(b),b.bypassAuthState)}function jc(b){const{auth:p,user:_}=b;return be(_,p,"internal-error"),Hn(_,new zl(b),b.bypassAuthState)}function $g(b){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,a.A)(function*(b){const{auth:p,user:_}=b;return be(_,p,"internal-error"),O(_,new zl(b),b.bypassAuthState)})).apply(this,arguments)}class Bc{constructor(p,_,A,K,se=!1){this.auth=p,this.resolver=A,this.user=K,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,a.A)(function*(A,K){p.pendingPromise={resolve:A,reject:K};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(se){p.reject(se)}});return function(A,K){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,a.A)(function*(){const{urlResponse:A,sessionId:K,postBody:se,tenantId:$e,error:gt,type:zt}=p;if(gt)return void _.reject(gt);const Sn={auth:_.auth,requestUri:A,sessionId:K,tenantId:$e||void 0,postBody:se||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(zt)(Sn))}catch(Gn){_.reject(Gn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Wd;case"linkViaPopup":case"linkViaRedirect":return $g;case"reauthViaPopup":case"reauthViaRedirect":return jc;default:We(this.auth,"internal-error")}}resolve(p){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const il=new Me(2e3,1e4);function tf(b,p,_){return js.apply(this,arguments)}function js(){return(js=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(ot(b,"operation-not-supported-in-this-environment"));const A=Mr(b);wt(b,p,ir);const K=da(A,_);return new Lo(A,"signInViaPopup",p,K).executeNotNull()})).apply(this,arguments)}function oc(b,p,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);if((0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(ot(A.auth,"operation-not-supported-in-this-environment"));wt(A.auth,p,ir);const K=da(A.auth,_);return new Lo(A.auth,"reauthViaPopup",p,K,A).executeNotNull()})).apply(this,arguments)}function yp(b,p,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);wt(A.auth,p,ir);const K=da(A.auth,_);return new Lo(A.auth,"linkViaPopup",p,K,A).executeNotNull()})).apply(this,arguments)}let Lo=(()=>{class b extends Bc{constructor(_,A,K,se,$e){super(_,A,se,$e),this.provider=K,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.A)(function*(){const A=yield _.execute();return be(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,a.A)(function*(){dn(1===_.filter.length,"Popup operations only handle one event");const A=Na();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(K=>{_.reject(K)}),_.resolver._isIframeWebStorageSupported(_.auth,K=>{K||_.reject(ot(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,K;this.pollId=null!==(K=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ot(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,il.get())};_()}}return b.currentPopupAction=null,b})();const nf="pendingRedirect",Zo=new Map;class Kl extends Bc{constructor(p,_,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,a.A)(function*(){let A=Zo.get(_.auth._key());if(!A){try{const se=(yield function sl(b,p){return cs.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;A=()=>Promise.resolve(se)}catch(K){A=()=>Promise.reject(K)}Zo.set(_.auth._key(),A)}return _.bypassAuthState||Zo.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,A=this;return(0,a.A)(function*(){if("signInViaRedirect"===p.type)return _().call(A,p);if("unknown"!==p.type){if(p.eventId){const K=yield A.auth._redirectUserForId(p.eventId);if(K)return A.user=K,_().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.A)(function*(){})()}cleanUp(){}}function cs(){return(cs=(0,a.A)(function*(b,p){const _=ql(p),A=sc(b);if(!(yield A._isAvailable()))return!1;const K="true"===(yield A._get(_));return yield A._remove(_),K})).apply(this,arguments)}function Va(b,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,a.A)(function*(b,p){return sc(b)._set(ql(p),"true")})).apply(this,arguments)}function Bs(){Zo.clear()}function rf(b,p){Zo.set(b._key(),p)}function sc(b){return It(b._redirectPersistence)}function ql(b){return nn(nf,b.config.apiKey,b.name)}function La(b,p,_){return function Kd(b,p,_){return qd.apply(this,arguments)}(b,p,_)}function qd(){return(qd=(0,a.A)(function*(b,p,_){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Mr(b);wt(b,p,ir),yield A._initializationPromise;const K=da(A,_);return yield Va(K,A),K._openRedirect(A,p,"signInViaRedirect")})).apply(this,arguments)}function $c(b,p,_){return function na(b,p,_){return Hc.apply(this,arguments)}(b,p,_)}function Hc(){return(Hc=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);if(wt(A.auth,p,ir),(0,ae._isFirebaseServerApp)(A.auth.app))return Promise.reject(rt(A.auth));yield A.auth._initializationPromise;const K=da(A.auth,_);yield Va(K,A.auth);const se=yield Ca(A);return K._openRedirect(A.auth,p,"reauthViaRedirect",se)})).apply(this,arguments)}function sf(b,p,_){return function al(b,p,_){return ac.apply(this,arguments)}(b,p,_)}function ac(){return(ac=(0,a.A)(function*(b,p,_){const A=(0,o.Ku)(b);wt(A.auth,p,ir),yield A.auth._initializationPromise;const K=da(A.auth,_);yield Ve(!1,A,p.providerId),yield Va(K,A.auth);const se=yield Ca(A);return K._openRedirect(A.auth,p,"linkViaRedirect",se)})).apply(this,arguments)}function Ep(b,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.A)(function*(b,p){return yield Mr(b)._initializationPromise,Yd(b,p,!1)})).apply(this,arguments)}function Yd(b,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,a.A)(function*(b,p,_=!1){if((0,ae._isFirebaseServerApp)(b.app))return Promise.reject(rt(b));const A=Mr(b),K=da(A,p),$e=yield new Kl(A,K,_).execute();return $e&&!_&&(delete $e.user._redirectEventId,yield A._persistUserIfCurrent($e.user),yield A._setRedirectUser(null,p)),$e})).apply(this,arguments)}function Ca(b){return zc.apply(this,arguments)}function zc(){return(zc=(0,a.A)(function*(b){const p=Na(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Du{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(_=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function cc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return As(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var A;if(p.error&&!As(p)){const K=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(ot(this.auth,K))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const A=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xu(p))}saveEventToCache(p){this.cachedEventUids.add(xu(p)),this.lastProcessedEventTime=Date.now()}}function xu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function As({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Xd(b){return uc.apply(this,arguments)}function uc(){return(uc=(0,a.A)(function*(b,p={}){return Ge(b,"GET","/v1/projects",p)})).apply(this,arguments)}const ao=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cp=/^https?/;function af(){return(af=(0,a.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Xd(b);for(const _ of p)try{if(Hg(_))return}catch{}We(b,"unauthorized-domain")})).apply(this,arguments)}function Hg(b){const p=nr(),{protocol:_,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const $e=new URL(b);return""===$e.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&$e.hostname===A}if(!Cp.test(_))return!1;if(ao.test(b))return A===b;const K=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(A)}const cf=new Me(3e4,6e4);function Ip(){const b=Si().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Kc=null;const qc=new Me(5e3,15e3),Qd="__/auth/iframe",Do="emulator/auth/iframe",cl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jd(b){const p=b.config;be(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?le(p,Do):`https://${b.config.authDomain}/${Qd}`,A={apiKey:p.apiKey,appName:b.name,v:ae.SDK_VERSION},K=lc.get(b.config.apiHost);K&&(A.eid=K);const se=b._getFrameworks();return se.length&&(A.fw=se.join(",")),`${_}?${(0,o.Am)(A).slice(1)}`}function dc(){return dc=(0,a.A)(function*(b){const p=yield function Su(b){return Kc=Kc||function Yl(b){return new Promise((p,_)=>{var A,K,se;function $e(){Ip(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ip(),_(ot(b,"network-request-failed"))},timeout:cf.get()})}if(null!==(K=null===(A=Si().gapi)||void 0===A?void 0:A.iframes)&&void 0!==K&&K.Iframe)p(gapi.iframes.getContext());else{if(null===(se=Si().gapi)||void 0===se||!se.load){const gt=zi("iframefcb");return Si()[gt]=()=>{gapi.load?$e():_(ot(b,"network-request-failed"))},Ei(`${function Pi(){return ki.gapiScript}()}?onload=${gt}`).catch(zt=>_(zt))}$e()}}).catch(p=>{throw Kc=null,p})}(b),Kc}(b),_=Si().gapi;return be(_,b,"internal-error"),p.open({where:document.body,url:Jd(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cl,dontclear:!0},A=>new Promise(function(){var K=(0,a.A)(function*(se,$e){yield A.restyle({setHideOnLeave:!1});const gt=ot(b,"network-request-failed"),zt=Si().setTimeout(()=>{$e(gt)},qc.get());function Sn(){Si().clearTimeout(zt),se(A)}A.ping(Sn).then(Sn,()=>{$e(gt)})});return function(se,$e){return K.apply(this,arguments)}}()))}),dc.apply(this,arguments)}const Pu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class df{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ql="__/auth/handler",Mu="emulator/auth/handler",ul=encodeURIComponent("fac");function Ua(b,p,_,A,K,se){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.A)(function*(b,p,_,A,K,se){be(b.config.authDomain,b,"auth-domain-config-required"),be(b.config.apiKey,b,"invalid-api-key");const $e={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:ae.SDK_VERSION,eventId:K};if(p instanceof ir){p.setDefaultLanguage(b.languageCode),$e.providerId=p.providerId||"",(0,o.Im)(p.getCustomParameters())||($e.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Gn,Wr]of Object.entries(se||{}))$e[Gn]=Wr}if(p instanceof Ci){const Gn=p.getScopes().filter(Wr=>""!==Wr);Gn.length>0&&($e.scopes=Gn.join(","))}b.tenantId&&($e.tid=b.tenantId);const gt=$e;for(const Gn of Object.keys(gt))void 0===gt[Gn]&&delete gt[Gn];const zt=yield b._getAppCheckToken(),Sn=zt?`#${ul}=${encodeURIComponent(zt)}`:"";return`${function Jl({config:b}){return b.emulator?le(b,Mu):`https://${b.authDomain}/${Ql}`}(b)}?${(0,o.Am)(gt).slice(1)}${Sn}`})).apply(this,arguments)}const Hs="webStorageSupport",eh=class Zd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$t,this._completeRedirectFn=Yd,this._overrideRedirectResult=rf}_openPopup(p,_,A,K){var se=this;return(0,a.A)(function*(){var $e;dn(null===($e=se.eventManagers[p._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const gt=yield Ua(p,_,A,nr(),K);return function Tp(b,p,_,A=500,K=600){const se=Math.max((window.screen.availHeight-K)/2,0).toString(),$e=Math.max((window.screen.availWidth-A)/2,0).toString();let gt="";const zt=Object.assign(Object.assign({},Pu),{width:A.toString(),height:K.toString(),top:se,left:$e}),Sn=(0,o.ZQ)().toLowerCase();_&&(gt=br(Sn)?"_blank":_),An(Sn)&&(p=p||"http://localhost",zt.scrollbars="yes");const Gn=Object.entries(zt).reduce((Gs,[mc,_c])=>`${Gs}${mc}=${_c},`,"");if(function Te(b=(0,o.ZQ)()){var p;return Lt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Sn)&&"_self"!==gt)return function $s(b,p){const _=document.createElement("a");_.href=b,_.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(p||"",gt),new df(null);const Wr=window.open(p||"",gt,Gn);be(Wr,b,"popup-blocked");try{Wr.focus()}catch{}return new df(Wr)}(p,gt,Na())})()}_openRedirect(p,_,A,K){var se=this;return(0,a.A)(function*(){return yield se._originValidation(p),function ua(b){Si().location.href=b}(yield Ua(p,_,A,nr(),K)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:K,promise:se}=this.eventManagers[_];return K?Promise.resolve(K):(dn(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(p);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(p){var _=this;return(0,a.A)(function*(){const A=yield function Po(b){return dc.apply(this,arguments)}(p),K=new Du(p);return A.register("authEvent",se=>(be(se?.authEvent,p,"invalid-auth-event"),{status:K.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:K},_.iframes[p._key()]=A,K})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Hs,{type:Hs},K=>{var se;const $e=null===(se=K?.[0])||void 0===se?void 0:se[Hs];void 0!==$e&&_(!!$e),We(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function bp(b){return af.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Et()||li()||Lt()}};class th{constructor(p){this.factorId=p}_process(p,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,A);case"signin":return this._finalizeSignIn(p,_.credential);default:return Jt("unexpected MultiFactorSessionType")}}}class hc extends th{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new hc(p)}_finalizeEnroll(p,_,A){return function Ul(b,p){return Ge(b,"POST","/v2/accounts/mfaEnrollment:finalize",Se(b,p))}(p,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ne(b,p){return Ge(b,"POST","/v2/accounts/mfaSignIn:finalize",Se(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zl=(()=>{class b{constructor(){}static assertion(_){return hc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var gc="@firebase/auth";class Ou{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,a.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(A=>{p(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,o.XA)("authIdTokenMaxAge"),function Es(b){ki=b}({loadJS:b=>new Promise((p,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=K=>{const se=ot("internal-error");se.customData=K,_(se)},A.type="text/javascript",A.charset="UTF-8",function rh(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ed(b){(0,ae._registerComponent)(new De.uA("auth",(p,{options:_})=>{const A=p.getProvider("app").getImmediate(),K=p.getProvider("heartbeat"),se=p.getProvider("app-check-internal"),{apiKey:$e,authDomain:gt}=A.options;be($e&&!$e.includes(":"),"invalid-api-key",{appName:A.name});const zt={apiKey:$e,authDomain:gt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dn(b)},Sn=new Ko(A,K,se,zt);return function ia(b,p){const _=p?.persistence||[],A=(Array.isArray(_)?_:[_]).map(It);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,p?.popupRedirectResolver)}(Sn,_),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,A)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new De.uA("auth-internal",p=>{const _=Mr(p.getProvider("auth").getImmediate());return new Ou(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(gc,"1.7.4",function Nu(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,ae.registerVersion)(gc,"1.7.4","esm2017")}("Browser")},9583:(on,Je,L)=>{L.d(Je,{fS:()=>R_,Ix:()=>Hu,H6:()=>Tl,T1:()=>Ro,Wq:()=>Sd,uY:()=>au,W6:()=>le,Ci:()=>sg,YQ:()=>pg,NJ:()=>Sl,Dc:()=>Wt,GA:()=>hu,cm:()=>Yn,K$:()=>Ut,FA:()=>zn,lo:()=>kr,bI:()=>qt,qG:()=>Ms,qi:()=>dn,c8:()=>sm,gS:()=>F_,C3:()=>Zf,hq:()=>Vh,me:()=>su,rJ:()=>am,Cs:()=>Bf,vN:()=>jf,kd:()=>lu,CL:()=>Jf,LA:()=>Dh,H9:()=>E_,ol:()=>Id,Q5:()=>bc,Os:()=>Wf,FD:()=>yv,rf:()=>x_,Ws:()=>vo,z6:()=>Mo,x7:()=>k_,nY:()=>Cm,_e:()=>Pl,GG:()=>gg,kU:()=>Cv,Rr:()=>bv,aU:()=>Hf,GV:()=>wm,AB:()=>vv,$1:()=>lg,po:()=>C_,St:()=>b_,aQ:()=>Tv,FC:()=>by,My:()=>_m,P:()=>ug,B:()=>$f,yx:()=>ig,c4:()=>H_,O5:()=>mg,BN:()=>Iv,He:()=>Ft,lN:()=>Tc,HM:()=>Xf,EO:()=>kh,mZ:()=>bm,iB:()=>zf,_M:()=>Nh});var Le,Be,a=L(467),ae=L(7852),o=L(1362),Ae=L(8041),he=L(1076),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={};(function(){var u;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l(tt,ke,ze){ze||(ze=0);var nt=Array(16);if("string"==typeof ke)for(var st=0;16>st;++st)nt[st]=ke.charCodeAt(ze++)|ke.charCodeAt(ze++)<<8|ke.charCodeAt(ze++)<<16|ke.charCodeAt(ze++)<<24;else for(st=0;16>st;++st)nt[st]=ke[ze++]|ke[ze++]<<8|ke[ze++]<<16|ke[ze++]<<24;var vt=tt.g[3],He=(ke=tt.g[0])+(vt^(ze=tt.g[1])&((st=tt.g[2])^vt))+nt[0]+3614090360&4294967295;He=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=(ze=(st=(vt=(ke=ze+(He<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[1]+3905402710&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[2]+606105819&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[3]+3250441966&4294967295)<<22&4294967295|He>>>10))+((He=ke+(vt^ze&(st^vt))+nt[4]+4118548399&4294967295)<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[5]+1200080426&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[6]+2821735955&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[7]+4249261313&4294967295)<<22&4294967295|He>>>10))+((He=ke+(vt^ze&(st^vt))+nt[8]+1770035416&4294967295)<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[9]+2336552879&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[10]+4294925233&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[11]+2304563134&4294967295)<<22&4294967295|He>>>10))+((He=ke+(vt^ze&(st^vt))+nt[12]+1804603682&4294967295)<<7&4294967295|He>>>25))+((He=vt+(st^ke&(ze^st))+nt[13]+4254626195&4294967295)<<12&4294967295|He>>>20))+((He=st+(ze^vt&(ke^ze))+nt[14]+2792965006&4294967295)<<17&4294967295|He>>>15))+((He=ze+(ke^st&(vt^ke))+nt[15]+1236535329&4294967295)<<22&4294967295|He>>>10))+((He=ke+(st^vt&(ze^st))+nt[1]+4129170786&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[6]+3225465664&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[11]+643717713&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[0]+3921069994&4294967295)<<20&4294967295|He>>>12))+((He=ke+(st^vt&(ze^st))+nt[5]+3593408605&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[10]+38016083&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[15]+3634488961&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[4]+3889429448&4294967295)<<20&4294967295|He>>>12))+((He=ke+(st^vt&(ze^st))+nt[9]+568446438&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[14]+3275163606&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[3]+4107603335&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[8]+1163531501&4294967295)<<20&4294967295|He>>>12))+((He=ke+(st^vt&(ze^st))+nt[13]+2850285829&4294967295)<<5&4294967295|He>>>27))+((He=vt+(ze^st&(ke^ze))+nt[2]+4243563512&4294967295)<<9&4294967295|He>>>23))+((He=st+(ke^ze&(vt^ke))+nt[7]+1735328473&4294967295)<<14&4294967295|He>>>18))+((He=ze+(vt^ke&(st^vt))+nt[12]+2368359562&4294967295)<<20&4294967295|He>>>12))+((He=ke+(ze^st^vt)+nt[5]+4294588738&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[8]+2272392833&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[11]+1839030562&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[14]+4259657740&4294967295)<<23&4294967295|He>>>9))+((He=ke+(ze^st^vt)+nt[1]+2763975236&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[4]+1272893353&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[7]+4139469664&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[10]+3200236656&4294967295)<<23&4294967295|He>>>9))+((He=ke+(ze^st^vt)+nt[13]+681279174&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[0]+3936430074&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[3]+3572445317&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[6]+76029189&4294967295)<<23&4294967295|He>>>9))+((He=ke+(ze^st^vt)+nt[9]+3654602809&4294967295)<<4&4294967295|He>>>28))+((He=vt+(ke^ze^st)+nt[12]+3873151461&4294967295)<<11&4294967295|He>>>21))+((He=st+(vt^ke^ze)+nt[15]+530742520&4294967295)<<16&4294967295|He>>>16))+((He=ze+(st^vt^ke)+nt[2]+3299628645&4294967295)<<23&4294967295|He>>>9))+((He=ke+(st^(ze|~vt))+nt[0]+4096336452&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[7]+1126891415&4294967295)<<10&4294967295|He>>>22))+((He=st+(ke^(vt|~ze))+nt[14]+2878612391&4294967295)<<15&4294967295|He>>>17))+((He=ze+(vt^(st|~ke))+nt[5]+4237533241&4294967295)<<21&4294967295|He>>>11))+((He=ke+(st^(ze|~vt))+nt[12]+1700485571&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[3]+2399980690&4294967295)<<10&4294967295|He>>>22))+((He=st+(ke^(vt|~ze))+nt[10]+4293915773&4294967295)<<15&4294967295|He>>>17))+((He=ze+(vt^(st|~ke))+nt[1]+2240044497&4294967295)<<21&4294967295|He>>>11))+((He=ke+(st^(ze|~vt))+nt[8]+1873313359&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[15]+4264355552&4294967295)<<10&4294967295|He>>>22))+((He=st+(ke^(vt|~ze))+nt[6]+2734768916&4294967295)<<15&4294967295|He>>>17))+((He=ze+(vt^(st|~ke))+nt[13]+1309151649&4294967295)<<21&4294967295|He>>>11))+((vt=(ke=ze+((He=ke+(st^(ze|~vt))+nt[4]+4149444226&4294967295)<<6&4294967295|He>>>26))+((He=vt+(ze^(ke|~st))+nt[11]+3174756917&4294967295)<<10&4294967295|He>>>22))^((st=vt+((He=st+(ke^(vt|~ze))+nt[2]+718787259&4294967295)<<15&4294967295|He>>>17))|~ke))+nt[9]+3951481745&4294967295,tt.g[0]=tt.g[0]+ke&4294967295,tt.g[1]=tt.g[1]+(st+(He<<21&4294967295|He>>>11))&4294967295,tt.g[2]=tt.g[2]+st&4294967295,tt.g[3]=tt.g[3]+vt&4294967295}function y(tt,ke){this.h=ke;for(var ze=[],nt=!0,st=tt.length-1;0<=st;st--){var vt=0|tt[st];nt&&vt==ke||(ze[st]=vt,nt=!1)}this.g=ze}(function e(tt,ke){function ze(){}ze.prototype=ke.prototype,tt.D=ke.prototype,tt.prototype=new ze,tt.prototype.constructor=tt,tt.C=function(nt,st,vt){for(var He=Array(arguments.length-2),Wu=2;Wu<arguments.length;Wu++)He[Wu-2]=arguments[Wu];return ke.prototype[st].apply(nt,He)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(tt,ke){void 0===ke&&(ke=tt.length);for(var ze=ke-this.blockSize,nt=this.B,st=this.h,vt=0;vt<ke;){if(0==st)for(;vt<=ze;)l(this,tt,vt),vt+=this.blockSize;if("string"==typeof tt){for(;vt<ke;)if(nt[st++]=tt.charCodeAt(vt++),st==this.blockSize){l(this,nt),st=0;break}}else for(;vt<ke;)if(nt[st++]=tt[vt++],st==this.blockSize){l(this,nt),st=0;break}}this.h=st,this.o+=ke},s.prototype.v=function(){var tt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);tt[0]=128;for(var ke=1;ke<tt.length-8;++ke)tt[ke]=0;var ze=8*this.o;for(ke=tt.length-8;ke<tt.length;++ke)tt[ke]=255&ze,ze/=256;for(this.u(tt),tt=Array(16),ke=ze=0;4>ke;++ke)for(var nt=0;32>nt;nt+=8)tt[ze++]=this.g[ke]>>>nt&255;return tt};var D={};function N(tt){return-128<=tt&&128>tt?function m(tt,ke){var ze=D;return Object.prototype.hasOwnProperty.call(ze,tt)?ze[tt]:ze[tt]=ke(tt)}(tt,function(ke){return new y([0|ke],0>ke?-1:0)}):new y([0|tt],0>tt?-1:0)}function W(tt){if(isNaN(tt)||!isFinite(tt))return ge;if(0>tt)return Xt(W(-tt));for(var ke=[],ze=1,nt=0;tt>=ze;nt++)ke[nt]=tt/ze|0,ze*=4294967296;return new y(ke,0)}var ge=N(0),Ue=N(1),dt=N(16777216);function Ht(tt){if(0!=tt.h)return!1;for(var ke=0;ke<tt.g.length;ke++)if(0!=tt.g[ke])return!1;return!0}function an(tt){return-1==tt.h}function Xt(tt){for(var ke=tt.g.length,ze=[],nt=0;nt<ke;nt++)ze[nt]=~tt.g[nt];return new y(ze,~tt.h).add(Ue)}function Vn(tt,ke){return tt.add(Xt(ke))}function Xn(tt,ke){for(;(65535&tt[ke])!=tt[ke];)tt[ke+1]+=tt[ke]>>>16,tt[ke]&=65535,ke++}function jn(tt,ke){this.g=tt,this.h=ke}function Rr(tt,ke){if(Ht(ke))throw Error("division by zero");if(Ht(tt))return new jn(ge,ge);if(an(tt))return ke=Rr(Xt(tt),ke),new jn(Xt(ke.g),Xt(ke.h));if(an(ke))return ke=Rr(tt,Xt(ke)),new jn(Xt(ke.g),ke.h);if(30<tt.g.length){if(an(tt)||an(ke))throw Error("slowDivide_ only works with positive integers.");for(var ze=Ue,nt=ke;0>=nt.l(tt);)ze=Mi(ze),nt=Mi(nt);var st=Zr(ze,1),vt=Zr(nt,1);for(nt=Zr(nt,2),ze=Zr(ze,2);!Ht(nt);){var He=vt.add(nt);0>=He.l(tt)&&(st=st.add(ze),vt=He),nt=Zr(nt,1),ze=Zr(ze,1)}return ke=Vn(tt,st.j(ke)),new jn(st,ke)}for(st=ge;0<=tt.l(ke);){for(ze=Math.max(1,Math.floor(tt.m()/ke.m())),nt=48>=(nt=Math.ceil(Math.log(ze)/Math.LN2))?1:Math.pow(2,nt-48),He=(vt=W(ze)).j(ke);an(He)||0<He.l(tt);)He=(vt=W(ze-=nt)).j(ke);Ht(vt)&&(vt=Ue),st=st.add(vt),tt=Vn(tt,He)}return new jn(st,tt)}function Mi(tt){for(var ke=tt.g.length+1,ze=[],nt=0;nt<ke;nt++)ze[nt]=tt.i(nt)<<1|tt.i(nt-1)>>>31;return new y(ze,tt.h)}function Zr(tt,ke){var ze=ke>>5;ke%=32;for(var nt=tt.g.length-ze,st=[],vt=0;vt<nt;vt++)st[vt]=0<ke?tt.i(vt+ze)>>>ke|tt.i(vt+ze+1)<<32-ke:tt.i(vt+ze);return new y(st,tt.h)}(u=y.prototype).m=function(){if(an(this))return-Xt(this).m();for(var tt=0,ke=1,ze=0;ze<this.g.length;ze++){var nt=this.i(ze);tt+=(0<=nt?nt:4294967296+nt)*ke,ke*=4294967296}return tt},u.toString=function(tt){if(2>(tt=tt||10)||36<tt)throw Error("radix out of range: "+tt);if(Ht(this))return"0";if(an(this))return"-"+Xt(this).toString(tt);for(var ke=W(Math.pow(tt,6)),ze=this,nt="";;){var st=Rr(ze,ke).g,vt=((0<(ze=Vn(ze,st.j(ke))).g.length?ze.g[0]:ze.h)>>>0).toString(tt);if(Ht(ze=st))return vt+nt;for(;6>vt.length;)vt="0"+vt;nt=vt+nt}},u.i=function(tt){return 0>tt?0:tt<this.g.length?this.g[tt]:this.h},u.l=function(tt){return an(tt=Vn(this,tt))?-1:Ht(tt)?0:1},u.abs=function(){return an(this)?Xt(this):this},u.add=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0,st=0;st<=ke;st++){var vt=nt+(65535&this.i(st))+(65535&tt.i(st)),He=(vt>>>16)+(this.i(st)>>>16)+(tt.i(st)>>>16);nt=He>>>16,ze[st]=(He&=65535)<<16|(vt&=65535)}return new y(ze,-2147483648&ze[ze.length-1]?-1:0)},u.j=function(tt){if(Ht(this)||Ht(tt))return ge;if(an(this))return an(tt)?Xt(this).j(Xt(tt)):Xt(Xt(this).j(tt));if(an(tt))return Xt(this.j(Xt(tt)));if(0>this.l(dt)&&0>tt.l(dt))return W(this.m()*tt.m());for(var ke=this.g.length+tt.g.length,ze=[],nt=0;nt<2*ke;nt++)ze[nt]=0;for(nt=0;nt<this.g.length;nt++)for(var st=0;st<tt.g.length;st++){var vt=this.i(nt)>>>16,He=65535&this.i(nt),Wu=tt.i(st)>>>16,Uh=65535&tt.i(st);ze[2*nt+2*st]+=He*Uh,Xn(ze,2*nt+2*st),ze[2*nt+2*st+1]+=vt*Uh,Xn(ze,2*nt+2*st+1),ze[2*nt+2*st+1]+=He*Wu,Xn(ze,2*nt+2*st+1),ze[2*nt+2*st+2]+=vt*Wu,Xn(ze,2*nt+2*st+2)}for(nt=0;nt<ke;nt++)ze[nt]=ze[2*nt+1]<<16|ze[2*nt];for(nt=ke;nt<2*ke;nt++)ze[nt]=0;return new y(ze,0)},u.A=function(tt){return Rr(this,tt).h},u.and=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0;nt<ke;nt++)ze[nt]=this.i(nt)&tt.i(nt);return new y(ze,this.h&tt.h)},u.or=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0;nt<ke;nt++)ze[nt]=this.i(nt)|tt.i(nt);return new y(ze,this.h|tt.h)},u.xor=function(tt){for(var ke=Math.max(this.g.length,tt.g.length),ze=[],nt=0;nt<ke;nt++)ze[nt]=this.i(nt)^tt.i(nt);return new y(ze,this.h^tt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Be=Ne.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=W,y.fromString=function re(tt,ke){if(0==tt.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==tt.charAt(0))return Xt(re(tt.substring(1),ke));if(0<=tt.indexOf("-"))throw Error('number format error: interior "-" character');for(var ze=W(Math.pow(ke,8)),nt=ge,st=0;st<tt.length;st+=8){var vt=Math.min(8,tt.length-st),He=parseInt(tt.substring(st,st+vt),ke);8>vt?(vt=W(Math.pow(ke,vt)),nt=nt.j(vt).add(W(He))):nt=(nt=nt.j(ze)).add(W(He))}return nt},Le=Ne.Integer=y}).apply(typeof De<"u"?De:typeof self<"u"?self:typeof window<"u"?window:{});var me,at,Xe,bt,Ct,jt,Mt,cn,et,Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={};(function(){var u,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,k,q){return v==Array.prototype||v==Object.prototype||(v[k]=q.value),v},s=function r(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Z&&Z];for(var k=0;k<v.length;++k){var q=v[k];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function l(v,k){if(k)e:{var q=s;v=v.split(".");for(var de=0;de<v.length-1;de++){var ut=v[de];if(!(ut in q))break e;q=q[ut]}(k=k(de=q[v=v[v.length-1]]))!=de&&null!=k&&e(q,v,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(v){return v||function(){return function m(v,k){v instanceof String&&(v+="");var q=0,de=!1,ut={next:function(){if(!de&&q<v.length){var St=q++;return{value:k(St,v[St]),done:!1}}return de=!0,{done:!0,value:void 0}}};return ut[Symbol.iterator]=function(){return ut},ut}(this,function(k,q){return q})}});var y=y||{},D=this||self;function N(v){var k=typeof v;return"array"==(k="object"!=k?k:v?Array.isArray(v)?"array":k:"null")||"object"==k&&"number"==typeof v.length}function W(v){var k=typeof v;return"object"==k&&null!=v||"function"==k}function re(v,k,q){return v.call.apply(v.bind,arguments)}function ge(v,k,q){if(!v)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ut,de),v.apply(k,ut)}}return function(){return v.apply(k,arguments)}}function Ue(v,k,q){return(Ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:ge).apply(null,arguments)}function dt(v,k){var q=Array.prototype.slice.call(arguments,1);return function(){var de=q.slice();return de.push.apply(de,arguments),v.apply(this,de)}}function Ht(v,k){function q(){}q.prototype=k.prototype,v.aa=k.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(de,ut,St){for(var bn=Array(arguments.length-2),ro=2;ro<arguments.length;ro++)bn[ro-2]=arguments[ro];return k.prototype[ut].apply(de,bn)}}function an(v){const k=v.length;if(0<k){const q=Array(k);for(let de=0;de<k;de++)q[de]=v[de];return q}return[]}function Xt(v,k){for(let q=1;q<arguments.length;q++){const de=arguments[q];if(N(de)){const ut=v.length||0,St=de.length||0;v.length=ut+St;for(let bn=0;bn<St;bn++)v[ut+bn]=de[bn]}else v.push(de)}}function Xn(v){return/^[\s\xa0]*$/.test(v)}function jn(){var v=D.navigator;return v&&(v=v.userAgent)?v:""}function Rr(v){return Rr[" "](v),v}Rr[" "]=function(){};var Mi=!(-1==jn().indexOf("Gecko")||-1!=jn().toLowerCase().indexOf("webkit")&&-1==jn().indexOf("Edge")||-1!=jn().indexOf("Trident")||-1!=jn().indexOf("MSIE")||-1!=jn().indexOf("Edge"));function Zr(v,k,q){for(const de in v)k.call(q,v[de],de,v)}function ke(v){const k={};for(const q in v)k[q]=v[q];return k}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(v,k){let q,de;for(let ut=1;ut<arguments.length;ut++){for(q in de=arguments[ut],de)v[q]=de[q];for(let St=0;St<ze.length;St++)q=ze[St],Object.prototype.hasOwnProperty.call(de,q)&&(v[q]=de[q])}}function st(v){var k=1;v=v.split(":");const q=[];for(;0<k&&v.length;)q.push(v.shift()),k--;return v.length&&q.push(v.join(":")),q}function vt(v){D.setTimeout(()=>{throw v},0)}function He(){var v=W_;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}var Uh=new class Vn{constructor(k,q){this.i=k,this.j=q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new Ia,v=>v.reset());class Ia{constructor(){this.next=this.g=this.h=null}set(k,q){this.h=k,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let tp,np=!1,W_=new class Wu{constructor(){this.h=this.g=null}add(k,q){const de=Uh.get();de.set(k,q),this.h?this.h.next=de:this.g=de,this.h=de}},_g=()=>{const v=D.Promise.resolve(void 0);tp=()=>{v.then(K_)}};var K_=()=>{for(var v;v=He();){try{v.h.call(v.g)}catch(q){vt(q)}var k=Uh;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}np=!1};function Rl(){this.s=this.s,this.C=this.C}function Ws(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}Rl.prototype.s=!1,Rl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ws.prototype.h=function(){this.defaultPrevented=!0};var Vv=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};D.addEventListener("test",q,k),D.removeEventListener("test",q,k)}catch{}return v}();function jh(v,k){if(Ws.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,de=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(Mi){e:{try{Rr(k.nodeName);var ut=!0;break e}catch{}ut=!1}ut||(k=null)}}else"mouseover"==q?k=v.fromElement:"mouseout"==q&&(k=v.toElement);this.relatedTarget=k,de?(this.clientX=void 0!==de.clientX?de.clientX:de.pageX,this.clientY=void 0!==de.clientY?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Lv[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&jh.aa.h.call(this)}}Ht(jh,Ws);var Lv={2:"touch",3:"pen",4:"mouse"};jh.prototype.h=function(){jh.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var rp="closure_listenable_"+(1e6*Math.random()|0),Am=0;function Uv(v,k,q,de,ut){this.listener=v,this.proxy=null,this.src=k,this.type=q,this.capture=!!de,this.ha=ut,this.key=++Am,this.da=this.fa=!1}function vg(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function yg(v){this.src=v,this.g={},this.h=0}function Dm(v,k){var q=k.type;if(q in v.g){var St,de=v.g[q],ut=Array.prototype.indexOf.call(de,k,void 0);(St=0<=ut)&&Array.prototype.splice.call(de,ut,1),St&&(vg(k),0==v.g[q].length&&(delete v.g[q],v.h--))}}function xm(v,k,q,de){for(var ut=0;ut<v.length;++ut){var St=v[ut];if(!St.da&&St.listener==k&&St.capture==!!q&&St.ha==de)return ut}return-1}yg.prototype.add=function(v,k,q,de,ut){var St=v.toString();(v=this.g[St])||(v=this.g[St]=[],this.h++);var bn=xm(v,k,de,ut);return-1<bn?(k=v[bn],q||(k.fa=!1)):((k=new Uv(k,this.src,St,!!de,ut)).fa=q,v.push(k)),k};var Ha="closure_lm_"+(1e6*Math.random()|0),ip={};function q_(v,k,q,de,ut){if(de&&de.once)return Pm(v,k,q,de,ut);if(Array.isArray(k)){for(var St=0;St<k.length;St++)q_(v,k[St],q,de,ut);return null}return q=Ig(q),v&&v[rp]?v.K(k,q,W(de)?!!de.capture:!!de,ut):Sm(v,k,q,!1,de,ut)}function Sm(v,k,q,de,ut,St){if(!k)throw Error("Invalid event type");var bn=W(ut)?!!ut.capture:!!ut,ro=Cg(v);if(ro||(v[Ha]=ro=new yg(v)),(q=ro.add(k,q,de,bn,St)).proxy)return q;if(de=function jv(){const k=Dy;return function v(q){return k.call(v.src,v.listener,q)}}(),q.proxy=de,de.src=v,de.listener=q,v.addEventListener)Vv||(ut=bn),void 0===ut&&(ut=!1),v.addEventListener(k.toString(),de,ut);else if(v.attachEvent)v.attachEvent(Eg(k.toString()),de);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(de)}return q}function Pm(v,k,q,de,ut){if(Array.isArray(k)){for(var St=0;St<k.length;St++)Pm(v,k[St],q,de,ut);return null}return q=Ig(q),v&&v[rp]?v.L(k,q,W(de)?!!de.capture:!!de,ut):Sm(v,k,q,!0,de,ut)}function Rm(v,k,q,de,ut){if(Array.isArray(k))for(var St=0;St<k.length;St++)Rm(v,k[St],q,de,ut);else de=W(de)?!!de.capture:!!de,q=Ig(q),v&&v[rp]?(v=v.i,(k=String(k).toString())in v.g&&-1<(q=xm(St=v.g[k],q,de,ut))&&(vg(St[q]),Array.prototype.splice.call(St,q,1),0==St.length&&(delete v.g[k],v.h--))):v&&(v=Cg(v))&&(k=v.g[k.toString()],v=-1,k&&(v=xm(k,q,de,ut)),(q=-1<v?k[v]:null)&&Bh(q))}function Bh(v){if("number"!=typeof v&&v&&!v.da){var k=v.src;if(k&&k[rp])Dm(k.i,v);else{var q=v.type,de=v.proxy;k.removeEventListener?k.removeEventListener(q,de,v.capture):k.detachEvent?k.detachEvent(Eg(q),de):k.addListener&&k.removeListener&&k.removeListener(de),(q=Cg(k))?(Dm(q,v),0==q.h&&(q.src=null,k[Ha]=null)):vg(v)}}}function Eg(v){return v in ip?ip[v]:ip[v]="on"+v}function Dy(v,k){if(v.da)v=!0;else{k=new jh(k,this);var q=v.listener,de=v.ha||v.src;v.fa&&Bh(v),v=q.call(de,k)}return v}function Cg(v){return(v=v[Ha])instanceof yg?v:null}var bg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ig(v){return"function"==typeof v?v:(v[bg]||(v[bg]=function(k){return v.handleEvent(k)}),v[bg])}function xs(){Rl.call(this),this.i=new yg(this),this.M=this,this.F=null}function Ss(v,k){var q,de=v.F;if(de)for(q=[];de;de=de.F)q.push(de);if(v=v.M,de=k.type||k,"string"==typeof k)k=new Ws(k,v);else if(k instanceof Ws)k.target=k.target||v;else{var ut=k;nt(k=new Ws(de,v),ut)}if(ut=!0,q)for(var St=q.length-1;0<=St;St--){var bn=k.g=q[St];ut=Ga(bn,de,!0,k)&&ut}if(ut=Ga(bn=k.g=v,de,!0,k)&&ut,ut=Ga(bn,de,!1,k)&&ut,q)for(St=0;St<q.length;St++)ut=Ga(bn=k.g=q[St],de,!1,k)&&ut}function Ga(v,k,q,de){if(!(k=v.i.g[String(k)]))return!0;k=k.concat();for(var ut=!0,St=0;St<k.length;++St){var bn=k[St];if(bn&&!bn.da&&bn.capture==q){var ro=bn.listener,vs=bn.ha||bn.src;bn.fa&&Dm(v.i,bn),ut=!1!==ro.call(vs,de)&&ut}}return ut&&!de.defaultPrevented}function Mm(v,k,q){if("function"==typeof v)q&&(v=Ue(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Ue(v.handleEvent,v)}return 2147483647<Number(k)?-1:D.setTimeout(v,k||0)}function Om(v){v.g=Mm(()=>{v.g=null,v.i&&(v.i=!1,Om(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}Ht(xs,Rl),xs.prototype[rp]=!0,xs.prototype.removeEventListener=function(v,k,q,de){Rm(this,v,k,q,de)},xs.prototype.N=function(){if(xs.aa.N.call(this),this.i){var k,v=this.i;for(k in v.g){for(var q=v.g[k],de=0;de<q.length;de++)vg(q[de]);delete v.g[k],v.h--}}this.F=null},xs.prototype.K=function(v,k,q,de){return this.i.add(String(v),k,!1,q,de)},xs.prototype.L=function(v,k,q,de){return this.i.add(String(v),k,!0,q,de)};class Tg extends Rl{constructor(k,q){super(),this.m=k,this.l=q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Om(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $h(v){Rl.call(this),this.h=v,this.g={}}Ht($h,Rl);var Hh=[];function wg(v){Zr(v.g,function(k,q){this.g.hasOwnProperty(q)&&Bh(k)},v),v.g={}}$h.prototype.N=function(){$h.aa.N.call(this),wg(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rd=D.JSON.stringify,op=D.JSON.parse,sp=class{stringify(v){return D.JSON.stringify(v,void 0)}parse(v){return D.JSON.parse(v,void 0)}};function Md(){}function Nm(){}Md.prototype.h=null;var Od={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ap(){Ws.call(this,"d")}function Ag(){Ws.call(this,"c")}Ht(ap,Ws),Ht(Ag,Ws);var Nd={},km=null;function cp(){return km=km||new xs}function Gh(v){Ws.call(this,Nd.La,v)}function up(v){const k=cp();Ss(k,new Gh(k))}function Fm(v,k){Ws.call(this,Nd.STAT_EVENT,v),this.stat=k}function Ks(v){const k=cp();Ss(k,new Fm(k,v))}function X_(v,k){Ws.call(this,Nd.Ma,v),this.size=k}function zh(v,k){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){v()},k)}function Ku(){this.g=!0}function Wh(v,k,q,de){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+function Gv(v,k){if(!v.g)return k;if(!k)return null;try{var q=JSON.parse(k);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var de=q[v];if(!(2>de.length)){var ut=de[1];if(Array.isArray(ut)&&!(1>ut.length)){var St=ut[0];if("noop"!=St&&"stop"!=St&&"close"!=St)for(var bn=1;bn<ut.length;bn++)ut[bn]=""}}}return Rd(q)}catch{return k}}(v,q)+(de?" "+de:"")})}Nd.La="serverreachability",Ht(Gh,Ws),Nd.STAT_EVENT="statevent",Ht(Fm,Ws),Nd.Ma="timingevent",Ht(X_,Ws),Ku.prototype.xa=function(){this.g=!1},Ku.prototype.info=function(){};var xg,Dg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Q_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Kh(){}function Ta(v,k,q,de){this.j=v,this.i=k,this.l=q,this.R=de||1,this.U=new $h(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vm}function Vm(){this.i=null,this.g="",this.h=!1}Ht(Kh,Md),Kh.prototype.g=function(){return new XMLHttpRequest},Kh.prototype.i=function(){return{}},xg=new Kh;var qh={},Lm={};function Sg(v,k,q){v.L=1,v.v=ts(Ii(k)),v.m=q,v.P=!0,E(v,null)}function E(v,k){v.F=Date.now(),S(v),v.A=Ii(v.v);var q=v.A,de=v.R;Array.isArray(de)||(de=[String(de)]),wc(q.i,"t",de),v.C=0,q=v.j.J,v.h=new Vm,v.g=Zv(v.j,q?k:null,!v.m),0<v.O&&(v.M=new Tg(Ue(v.Y,v,v.g),v.O)),k=v.U,q=v.g,de=v.ca;var ut="readystatechange";Array.isArray(ut)||(ut&&(Hh[0]=ut.toString()),ut=Hh);for(var St=0;St<ut.length;St++){var bn=q_(q,ut[St],de||k.handleEvent,!1,k.h||k);if(!bn)break;k.g[bn.key]=bn}k=v.H?ke(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),up(),function Bv(v,k,q,de,ut,St){v.info(function(){if(v.g)if(St)for(var bn="",ro=St.split("&"),vs=0;vs<ro.length;vs++){var Oi=ro[vs].split("=");if(1<Oi.length){var Rs=Oi[0];Oi=Oi[1];var qs=Rs.split("_");bn=2<=qs.length&&"type"==qs[1]?bn+(Rs+"=")+Oi+"&":bn+(Rs+"=redacted&")}}else bn=null;else bn=St;return"XMLHTTP REQ ("+de+") [attempt "+ut+"]: "+k+"\n"+q+"\n"+bn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function g(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function h(v,k){var q=v.C,de=k.indexOf("\n",q);return-1==de?Lm:(q=Number(k.substring(q,de)),isNaN(q)?qh:(de+=1)+q>k.length?Lm:(k=k.slice(de,de+q),v.C=de+q,k))}function S(v){v.S=Date.now()+v.I,B(v,v.I)}function B(v,k){if(null!=v.B)throw Error("WatchDog timer not null");v.B=zh(Ue(v.ba,v),k)}function pe(v){v.B&&(D.clearTimeout(v.B),v.B=null)}function ve(v){0==v.j.G||v.J||Qv(v.j,v)}function lt(v){pe(v);var k=v.M;k&&"function"==typeof k.ma&&k.ma(),v.M=null,wg(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function Dt(v,k){try{var q=v.j;if(0!=q.G&&(q.g==v||hr(q.h,v)))if(!v.K&&hr(q.h,v)&&3==q.G){try{var de=q.Da.g.parse(k)}catch{de=null}if(Array.isArray(de)&&3==de.length){var ut=de;if(0==ut[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;Gm(q),J_(q)}$m(q),Ks(18)}}else q.za=ut[1],0<q.za-q.T&&37500>ut[2]&&q.F&&0==q.v&&!q.C&&(q.C=zh(Ue(q.Za,q),6e3));if(1>=Zn(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else jd(q,11)}else if((v.K||q.g==v)&&Gm(q),!Xn(k))for(ut=q.Da.g.parse(k),k=0;k<ut.length;k++){let Oi=ut[k];if(q.T=Oi[0],Oi=Oi[1],2==q.G)if("c"==Oi[0]){q.K=Oi[1],q.ia=Oi[2];const Rs=Oi[3];null!=Rs&&(q.la=Rs,q.j.info("VER="+q.la));const qs=Oi[4];null!=qs&&(q.Aa=qs,q.j.info("SVER="+q.Aa));const gp=Oi[5];null!=gp&&"number"==typeof gp&&0<gp&&(q.L=de=1.5*gp,q.j.info("backChannelRequestTimeoutMs_="+de)),de=q;const Dc=v.g;if(Dc){const Vg=Dc.g?Dc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vg){var St=de.h;St.g||-1==Vg.indexOf("spdy")&&-1==Vg.indexOf("quic")&&-1==Vg.indexOf("h2")||(St.j=St.l,St.g=new Set,St.h&&(_i(St,St.h),St.h=null))}if(de.D){const Km=Dc.g?Dc.g.getResponseHeader("X-HTTP-Session-Id"):null;Km&&(de.ya=Km,Dr(de.I,de.D,Km))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var bn=v;if((de=q).qa=Wm(de,de.J?de.ia:null,de.W),bn.K){Ln(de.h,bn);var ro=bn,vs=de.L;vs&&(ro.I=vs),ro.B&&(pe(ro),S(ro)),de.g=bn}else Xv(de);0<q.i.length&&Bm(q)}else"stop"!=Oi[0]&&"close"!=Oi[0]||jd(q,7);else 3==q.G&&("stop"==Oi[0]||"close"==Oi[0]?"stop"==Oi[0]?jd(q,7):hp(q):"noop"!=Oi[0]&&q.l&&q.l.ta(Oi),q.v=0)}up()}catch{}}function tn(v){this.l=v||10,v=D.PerformanceNavigationTiming?0<(v=D.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function or(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Zn(v){return v.h?1:v.g?v.g.size:0}function hr(v,k){return v.h?v.h==k:!!v.g&&v.g.has(k)}function _i(v,k){v.g?v.g.add(k):v.h=k}function Ln(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}function er(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let k=v.i;for(const q of v.g.values())k=k.concat(q.D);return k}return an(v.i)}function sr(v,k){if(v.forEach&&"function"==typeof v.forEach)v.forEach(k,void 0);else if(N(v)||"string"==typeof v)Array.prototype.forEach.call(v,k,void 0);else for(var q=function ji(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(N(v)||"string"==typeof v){var k=[];v=v.length;for(var q=0;q<v;q++)k.push(q);return k}k=[],q=0;for(const de in v)k[q++]=de;return k}}}(v),de=function jr(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(N(v)){for(var k=[],q=v.length,de=0;de<q;de++)k.push(v[de]);return k}for(de in k=[],q=0,v)k[q++]=v[de];return k}(v),ut=de.length,St=0;St<ut;St++)k.call(void 0,de[St],q&&q[St],v)}Ta.prototype.ca=function(v){v=v.target;const k=this.M;k&&3==Ac(v)?k.j():this.Y(v)},Ta.prototype.Y=function(v){try{if(v==this.g)e:{const qs=Ac(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>qs)&&(3!=qs||this.g&&(this.h.h||this.g.oa()||Wv(this.g)))){this.J||4!=qs||7==k||up(),pe(this);var q=this.g.Z();this.X=q;t:if(g(this)){var de=Wv(this.g);v="";var ut=de.length,St=4==Ac(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),ve(this);var bn="";break t}this.h.i=new D.TextDecoder}for(k=0;k<ut;k++)this.h.h=!0,v+=this.h.i.decode(de[k],{stream:!(St&&k==ut-1)});de.length=0,this.h.g+=v,this.C=0,bn=this.h.g}else bn=this.g.oa();if(this.o=200==q,function $v(v,k,q,de,ut,St,bn){v.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+ut+"]: "+k+"\n"+q+"\n"+St+" "+bn})}(this.i,this.u,this.A,this.l,this.R,qs,q),this.o){if(this.T&&!this.K){t:{if(this.g){var ro,vs=this.g;if((ro=vs.g?vs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xn(ro)){var Oi=ro;break t}}Oi=null}if(!(q=Oi)){this.o=!1,this.s=3,Ks(12),lt(this),ve(this);break e}Wh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dt(this,q)}if(this.P){let Dc;for(q=!0;!this.J&&this.C<bn.length;){if(Dc=h(this,bn),Dc==Lm){4==qs&&(this.s=4,Ks(14),q=!1),Wh(this.i,this.l,null,"[Incomplete Response]");break}if(Dc==qh){this.s=4,Ks(15),Wh(this.i,this.l,bn,"[Invalid Chunk]"),q=!1;break}Wh(this.i,this.l,Dc,null),Dt(this,Dc)}if(g(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=qs||0!=bn.length||this.h.h||(this.s=1,Ks(16),q=!1),this.o=this.o&&q,q){if(0<bn.length&&!this.W){this.W=!0;var Rs=this.j;Rs.g==this&&Rs.ba&&!Rs.M&&(Rs.j.info("Great, no buffering proxy detected. Bytes received: "+bn.length),Hm(Rs),Rs.M=!0,Ks(11))}}else Wh(this.i,this.l,bn,"[Invalid Chunked Response]"),lt(this),ve(this)}else Wh(this.i,this.l,bn,null),Dt(this,bn);4==qs&&lt(this),this.o&&!this.J&&(4==qs?Qv(this.j,this):(this.o=!1,S(this)))}else(function xy(v){const k={};v=(v.g&&2<=Ac(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let de=0;de<v.length;de++){if(Xn(v[de]))continue;var q=st(v[de]);const ut=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const St=k[ut]||[];k[ut]=St,St.push(q)}!function tt(v,k){for(const q in v)k.call(void 0,v[q],q,v)}(k,function(de){return de.join(", ")})})(this.g),400==q&&0<bn.indexOf("Unknown SID")?(this.s=3,Ks(12)):(this.s=0,Ks(13)),lt(this),ve(this)}}}catch{}},Ta.prototype.cancel=function(){this.J=!0,lt(this)},Ta.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function Hv(v,k){v.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(up(),Ks(17)),lt(this),this.s=2,ve(this)):B(this,this.S-v)},tn.prototype.cancel=function(){if(this.i=er(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Er=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof _r){this.h=v.h,to(this,v.j),this.o=v.o,this.g=v.g,no(this,v.s),this.l=v.l;var k=v.i,q=new Yu;q.i=k.i,k.g&&(q.g=new Map(k.g),q.h=k.h),co(this,q),this.m=v.m}else v&&(k=String(v).match(Er))?(this.h=!1,to(this,k[1]||"",!0),this.o=yo(k[2]||""),this.g=yo(k[3]||"",!0),no(this,k[4]),this.l=yo(k[5]||"",!0),co(this,k[6]||"",!0),this.m=yo(k[7]||"")):(this.h=!1,this.i=new Yu(null,this.h))}function Ii(v){return new _r(v)}function to(v,k,q){v.j=q?yo(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function no(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function co(v,k,q){k instanceof Yu?(v.i=k,function lp(v,k){k&&!v.j&&(fa(v),v.i=null,v.g.forEach(function(q,de){var ut=de.toLowerCase();de!=ut&&(kd(this,de),wc(this,ut,q))},v)),v.j=k}(v.i,v.h)):(q||(k=Ps(k,qu)),v.i=new Yu(k,v.h))}function Dr(v,k,q){v.i.set(k,q)}function ts(v){return Dr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function yo(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ps(v,k,q){return"string"==typeof v?(v=encodeURI(v).replace(k,wa),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function wa(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}_r.prototype.toString=function(){var v=[],k=this.j;k&&v.push(Ps(k,ns,!0),":");var q=this.g;return(q||"file"==k)&&(v.push("//"),(k=this.o)&&v.push(Ps(k,ns,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(Ps(q,"/"==q.charAt(0)?Yh:Aa,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",Ps(q,Xh)),v.join("")};var v,ns=/[#\/\?@]/g,Aa=/[#\?:]/g,Yh=/[#\?]/g,qu=/[#\?@]/g,Xh=/#/g;function Yu(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function fa(v){v.g||(v.g=new Map,v.h=0,v.i&&function vi(v,k){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var de=v[q].indexOf("="),ut=null;if(0<=de){var St=v[q].substring(0,de);ut=v[q].substring(de+1)}else St=v[q];k(St,ut?decodeURIComponent(ut.replace(/\+/g," ")):"")}}}(v.i,function(k,q){v.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}function kd(v,k){fa(v),k=Da(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function Xu(v,k){return fa(v),k=Da(v,k),v.g.has(k)}function wc(v,k,q){kd(v,k),0<q.length&&(v.i=null,v.g.set(Da(v,k),an(q)),v.h+=q.length)}function Da(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function Qu(v,k,q,de,ut){try{ut&&(ut.onload=null,ut.onerror=null,ut.onabort=null,ut.ontimeout=null),de(q)}catch{}}function Pg(){this.g=new sp}function zv(v,k,q){const de=q||"";try{sr(v,function(ut,St){let bn=ut;W(ut)&&(bn=Rd(ut)),k.push(de+St+"="+encodeURIComponent(bn))})}catch(ut){throw k.push(de+"type="+encodeURIComponent("_badmap")),ut}}function Vd(v){this.l=v.Ub||null,this.j=v.eb||!1}function Rg(v,k){xs.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jm(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Ld(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Ud(v)}function Ud(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function dp(v){let k="";return Zr(v,function(q,de){k+=de,k+=":",k+=q,k+="\r\n"}),k}function Ml(v,k,q){e:{for(de in q){var de=!1;break e}de=!0}de||(q=dp(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):Dr(v,k,q))}function Vi(v){xs.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=Yu.prototype).add=function(v,k){fa(this),this.i=null,v=Da(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(k),this.h+=1,this},u.forEach=function(v,k){fa(this),this.g.forEach(function(q,de){q.forEach(function(ut){v.call(k,ut,de,this)},this)},this)},u.na=function(){fa(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),q=[];for(let de=0;de<k.length;de++){const ut=v[de];for(let St=0;St<ut.length;St++)q.push(k[de])}return q},u.V=function(v){fa(this);let k=[];if("string"==typeof v)Xu(this,v)&&(k=k.concat(this.g.get(Da(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)k=k.concat(v[q])}return k},u.set=function(v,k){return fa(this),this.i=null,Xu(this,v=Da(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},u.get=function(v,k){return v&&0<(v=this.V(v)).length?String(v[0]):k},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var q=0;q<k.length;q++){var de=k[q];const St=encodeURIComponent(String(de)),bn=this.V(de);for(de=0;de<bn.length;de++){var ut=St;""!==bn[de]&&(ut+="="+encodeURIComponent(String(bn[de]))),v.push(ut)}}return this.i=v.join("&")},Ht(Vd,Md),Vd.prototype.g=function(){return new Rg(this.l,this.j)},Vd.prototype.i=(v={},function(){return v}),Ht(Rg,xs),(u=Rg.prototype).open=function(v,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,Ud(this)},u.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||D).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ld(this)),this.readyState=0},u.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Ud(this)),this.g&&(this.readyState=3,Ud(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jm(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?Ld(this):Ud(this),3==this.readyState&&jm(this)}},u.Ra=function(v){this.g&&(this.response=this.responseText=v,Ld(this))},u.Qa=function(v){this.g&&(this.response=v,Ld(this))},u.ga=function(){this.g&&Ld(this)},u.setRequestHeader=function(v,k){this.u.append(v,k)},u.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var q=k.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=k.next();return v.join("\r\n")},Object.defineProperty(Rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Ht(Vi,xs);var Ol=/^https?$/i,Mg=["POST","PUT"];function Nl(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,Qh(v),pu(v)}function Qh(v){v.A||(v.A=!0,Ss(v,"complete"),Ss(v,"error"))}function Og(v){if(v.h&&typeof y<"u"&&(!v.v[1]||4!=Ac(v)||2!=v.Z()))if(v.u&&4==Ac(v))Mm(v.Ea,0,v);else if(Ss(v,"readystatechange"),4==Ac(v)){v.h=!1;try{const bn=v.Z();e:switch(bn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var q;if(!(q=k)){var de;if(de=0===bn){var ut=String(v.D).match(Er)[1]||null;!ut&&D.self&&D.self.location&&(ut=D.self.location.protocol.slice(0,-1)),de=!Ol.test(ut?ut.toLowerCase():"")}q=de}if(q)Ss(v,"complete"),Ss(v,"success");else{v.m=6;try{var St=2<Ac(v)?v.g.statusText:""}catch{St=""}v.l=St+" ["+v.Z()+"]",Qh(v)}}finally{pu(v)}}}function pu(v,k){if(v.g){Ng(v);const q=v.g,de=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||Ss(v,"ready");try{q.onreadystatechange=de}catch{}}}function Ng(v){v.I&&(D.clearTimeout(v.I),v.I=null)}function Ac(v){return v.g?v.g.readyState:0}function Wv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(v,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||k}function kg(v){this.Aa=0,this.i=[],this.j=new Ku,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jh("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jh("baseRetryDelayMs",5e3,v),this.cb=Jh("retryDelaySeedMs",1e4,v),this.Wa=Jh("forwardChannelMaxRetries",2,v),this.wa=Jh("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new tn(v&&v.concurrentRequestLimit),this.Da=new Pg,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function hp(v){if(Kv(v),3==v.G){var k=v.U++,q=Ii(v.I);if(Dr(q,"SID",v.K),Dr(q,"RID",k),Dr(q,"TYPE","terminate"),fp(v,q),(k=new Ta(v,v.j,k)).L=2,k.v=ts(Ii(q)),q=!1,D.navigator&&D.navigator.sendBeacon)try{q=D.navigator.sendBeacon(k.v.toString(),"")}catch{}!q&&D.Image&&((new Image).src=k.v,q=!0),q||(k.g=Zv(k.j,null),k.g.ea(k.v)),k.F=Date.now(),S(k)}zm(v)}function J_(v){v.g&&(Hm(v),v.g.cancel(),v.g=null)}function Kv(v){J_(v),v.u&&(D.clearTimeout(v.u),v.u=null),Gm(v),v.h.cancel(),v.s&&("number"==typeof v.s&&D.clearTimeout(v.s),v.s=null)}function Bm(v){if(!or(v.h)&&!v.s){v.s=!0;var k=v.Ga;tp||_g(),np||(tp(),np=!0),W_.add(k,v),v.B=0}}function qv(v,k){var q;q=k?k.l:v.U++;const de=Ii(v.I);Dr(de,"SID",v.K),Dr(de,"RID",q),Dr(de,"AID",v.T),fp(v,de),v.m&&v.o&&Ml(de,v.m,v.o),q=new Ta(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),k&&(v.i=k.D.concat(v.i)),k=Yv(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),_i(v.h,q),Sg(q,de,k)}function fp(v,k){v.H&&Zr(v.H,function(q,de){Dr(k,de,q)}),v.l&&sr({},function(q,de){Dr(k,de,q)})}function Yv(v,k,q){q=Math.min(v.i.length,q);var de=v.l?Ue(v.l.Na,v.l,v):null;e:{var ut=v.i;let St=-1;for(;;){const bn=["count="+q];-1==St?0<q?(St=ut[0].g,bn.push("ofs="+St)):St=0:bn.push("ofs="+St);let ro=!0;for(let vs=0;vs<q;vs++){let Oi=ut[vs].g;const Rs=ut[vs].map;if(Oi-=St,0>Oi)St=Math.max(0,ut[vs].g-100),ro=!1;else try{zv(Rs,bn,"req"+Oi+"_")}catch{de&&de(Rs)}}if(ro){de=bn.join("&");break e}}}return v=v.i.splice(0,q),k.D=v,de}function Xv(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;tp||_g(),np||(tp(),np=!0),W_.add(k,v),v.v=0}}function $m(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=zh(Ue(v.Fa,v),Jv(v,v.v)),v.v++,0))}function Hm(v){null!=v.A&&(D.clearTimeout(v.A),v.A=null)}function ev(v){v.g=new Ta(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var k=Ii(v.qa);Dr(k,"RID","rpc"),Dr(k,"SID",v.K),Dr(k,"AID",v.T),Dr(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&Dr(k,"TO",v.ja),Dr(k,"TYPE","xmlhttp"),fp(v,k),v.m&&v.o&&Ml(k,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=ts(Ii(k)),q.m=null,q.P=!0,E(q,v)}function Gm(v){null!=v.C&&(D.clearTimeout(v.C),v.C=null)}function Qv(v,k){var q=null;if(v.g==k){Gm(v),Hm(v),v.g=null;var de=2}else{if(!hr(v.h,k))return;q=k.D,Ln(v.h,k),de=1}if(0!=v.G)if(k.o)if(1==de){q=k.m?k.m.length:0,k=Date.now()-k.F;var ut=v.B;Ss(de=cp(),new X_(de,q)),Bm(v)}else Xv(v);else if(3==(ut=k.s)||0==ut&&0<k.X||!(1==de&&function Z_(v,k){return!(Zn(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=k.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=zh(Ue(v.Ga,v,k),Jv(v,v.B)),v.B++,0)))}(v,k)||2==de&&$m(v)))switch(q&&0<q.length&&(k=v.h,k.i=k.i.concat(q)),ut){case 1:jd(v,5);break;case 4:jd(v,10);break;case 3:jd(v,6);break;default:jd(v,2)}}function Jv(v,k){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*k}function jd(v,k){if(v.j.info("Error code "+k),2==k){var q=Ue(v.fb,v),de=v.Xa;const ut=!de;de=new _r(de||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||to(de,"https"),ts(de),ut?function Fd(v,k){const q=new Ku;if(D.Image){const de=new Image;de.onload=dt(Qu,q,"TestLoadImage: loaded",!0,k,de),de.onerror=dt(Qu,q,"TestLoadImage: error",!1,k,de),de.onabort=dt(Qu,q,"TestLoadImage: abort",!1,k,de),de.ontimeout=dt(Qu,q,"TestLoadImage: timeout",!1,k,de),D.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=v}else k(!1)}(de.toString(),q):function Um(v,k){new Ku;const de=new AbortController,ut=setTimeout(()=>{de.abort(),Qu(0,0,!1,k)},1e4);fetch(v,{signal:de.signal}).then(St=>{clearTimeout(ut),Qu(0,0,!!St.ok,k)}).catch(()=>{clearTimeout(ut),Qu(0,0,!1,k)})}(de.toString(),q)}else Ks(2);v.G=0,v.l&&v.l.sa(k),zm(v),Kv(v)}function zm(v){if(v.G=0,v.ka=[],v.l){const k=er(v.h);(0!=k.length||0!=v.i.length)&&(Xt(v.ka,k),Xt(v.ka,v.i),v.h.i.length=0,an(v.i),v.i.length=0),v.l.ra()}}function Wm(v,k,q){var de=q instanceof _r?Ii(q):new _r(q);if(""!=de.g)k&&(de.g=k+"."+de.g),no(de,de.s);else{var ut=D.location;de=ut.protocol,k=k?k+"."+ut.hostname:ut.hostname,ut=+ut.port;var St=new _r(null);de&&to(St,de),k&&(St.g=k),ut&&no(St,ut),q&&(St.l=q),de=St}return k=v.ya,(q=v.D)&&k&&Dr(de,q,k),Dr(de,"VER",v.la),fp(v,de),de}function Zv(v,k,q){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new Vi(v.Ca&&!v.pa?new Vd({eb:q}):v.pa)).Ha(v.J),k}function Fg(){}function Zh(){}function pa(v,k){xs.call(this),this.g=new kg(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!Xn(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!Xn(k)&&(this.g.D=k,null!==(v=this.h)&&k in v&&k in(v=this.h)&&delete v[k]),this.j=new pp(this)}function tv(v){ap.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const q in k){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,k=null!==k&&v in k?k[v]:void 0),this.data=k}else this.data=v}function ey(){Ag.call(this),this.status=1}function pp(v){this.g=v}(u=Vi.prototype).Ha=function(v){this.J=v},u.ea=function(v,k,q,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xg.g(),this.v=function Y_(v){return v.h||(v.h=v.i())}(this.o?this.o:xg),this.g.onreadystatechange=Ue(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(St){return void Nl(this,St)}if(v=q||"",q=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var ut in de)q.set(ut,de[ut]);else{if("function"!=typeof de.keys||"function"!=typeof de.get)throw Error("Unknown input type for opt_headers: "+String(de));for(const St of de.keys())q.set(St,de.get(St))}de=Array.from(q.keys()).find(St=>"content-type"==St.toLowerCase()),ut=D.FormData&&v instanceof D.FormData,!(0<=Array.prototype.indexOf.call(Mg,k,void 0))||de||ut||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,bn]of q)this.g.setRequestHeader(St,bn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ng(this),this.u=!0,this.g.send(v),this.u=!1}catch(St){Nl(this,St)}},u.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ss(this,"complete"),Ss(this,"abort"),pu(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),Vi.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?Og(this):this.bb())},u.bb=function(){Og(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<Ac(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&0==k.indexOf(v)&&(k=k.substring(v.length)),op(k)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=kg.prototype).la=8,u.G=1,u.connect=function(v,k,q,de){Ks(0),this.W=v,this.H=k||{},q&&void 0!==de&&(this.H.OSID=q,this.H.OAID=de),this.F=this.X,this.I=Wm(this,null,this.W),Bm(this)},u.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const ut=new Ta(this,this.j,v);let St=this.o;if(this.S&&(St?(St=ke(St),nt(St,this.S)):St=this.S),null!==this.m||this.O||(ut.H=St,St=null),this.P)e:{for(var k=0,q=0;q<this.i.length;q++){var de=this.i[q];if(void 0===(de="__data__"in de.map&&"string"==typeof(de=de.map.__data__)?de.length:void 0))break;if(4096<(k+=de)){k=q;break e}if(4096===k||q===this.i.length-1){k=q+1;break e}}k=1e3}else k=1e3;k=Yv(this,ut,k),Dr(q=Ii(this.I),"RID",v),Dr(q,"CVER",22),this.D&&Dr(q,"X-HTTP-Session-Id",this.D),fp(this,q),St&&(this.O?k="headers="+encodeURIComponent(String(dp(St)))+"&"+k:this.m&&Ml(q,this.m,St)),_i(this.h,ut),this.Ua&&Dr(q,"TYPE","init"),this.P?(Dr(q,"$req",k),Dr(q,"SID","null"),ut.T=!0,Sg(ut,q,null)):Sg(ut,q,k),this.G=2}}else 3==this.G&&(v?qv(this,v):0==this.i.length||or(this.h)||qv(this))},u.Fa=function(){if(this.u=null,ev(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=zh(Ue(this.ab,this),v)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ks(10),J_(this),ev(this))},u.Za=function(){null!=this.C&&(this.C=null,J_(this),$m(this),Ks(19))},u.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ks(2)):(this.j.info("Failed to ping google.com"),Ks(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=Fg.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},Zh.prototype.g=function(v,k){return new pa(v,k)},Ht(pa,xs),pa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pa.prototype.close=function(){hp(this.g)},pa.prototype.o=function(v){var k=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=Rd(v),v=q);k.i.push(new class{constructor(v,k){this.g=v,this.map=k}}(k.Ya++,v)),3==k.G&&Bm(k)},pa.prototype.N=function(){this.g.l=null,delete this.j,hp(this.g),delete this.g,pa.aa.N.call(this)},Ht(tv,ap),Ht(ey,Ag),Ht(pp,Fg),pp.prototype.ua=function(){Ss(this.g,"a")},pp.prototype.ta=function(v){Ss(this.g,new tv(v))},pp.prototype.sa=function(v){Ss(this.g,new ey)},pp.prototype.ra=function(){Ss(this.g,"b")},Zh.prototype.createWebChannel=Zh.prototype.g,pa.prototype.send=pa.prototype.o,pa.prototype.open=pa.prototype.m,pa.prototype.close=pa.prototype.close,et=ce.createWebChannelTransport=function(){return new Zh},cn=ce.getStatEventTarget=function(){return cp()},Mt=ce.Event=Nd,jt=ce.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dg.NO_ERROR=0,Dg.TIMEOUT=8,Dg.HTTP_ERROR=6,Ct=ce.ErrorCode=Dg,Q_.COMPLETE="complete",bt=ce.EventType=Q_,Nm.EventType=Od,Od.OPEN="a",Od.CLOSE="b",Od.ERROR="c",Od.MESSAGE="d",xs.prototype.listen=xs.prototype.K,Xe=ce.WebChannel=Nm,at=ce.FetchXmlHttpFactory=Vd,Vi.prototype.listenOnce=Vi.prototype.L,Vi.prototype.getLastError=Vi.prototype.Ka,Vi.prototype.getLastErrorCode=Vi.prototype.Ba,Vi.prototype.getStatus=Vi.prototype.Z,Vi.prototype.getResponseJson=Vi.prototype.Oa,Vi.prototype.getResponseText=Vi.prototype.oa,Vi.prototype.send=Vi.prototype.ea,Vi.prototype.setWithCredentials=Vi.prototype.Ha,me=ce.XhrIo=Vi}).apply(typeof Z<"u"?Z:typeof self<"u"?self:typeof window<"u"?window:{});const We="@firebase/firestore";class ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");let Ze="10.12.1";const rt=new Ae.Vy("@firebase/firestore");function wt(){return rt.logLevel}function Ft(u){rt.setLogLevel(u)}function be(u,...e){if(rt.logLevel<=Ae.$b.DEBUG){const r=e.map(nr);rt.debug(`Firestore (${Ze}): ${u}`,...r)}}function Jt(u,...e){if(rt.logLevel<=Ae.$b.ERROR){const r=e.map(nr);rt.error(`Firestore (${Ze}): ${u}`,...r)}}function dn(u,...e){if(rt.logLevel<=Ae.$b.WARN){const r=e.map(nr);rt.warn(`Firestore (${Ze}): ${u}`,...r)}}function nr(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Pt(u="Unexpected state"){const e=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: `+u;throw Jt(e),new Error(e)}function Bt(u,e){u||Pt()}function qt(u,e){u||Pt()}function ct(u,e){return u}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends he.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fe{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Qe{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ot.UNAUTHENTICATED))}shutdown(){}}class Se{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ge{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const m=W=>this.i!==l?(l=this.i,r(W)):Promise.resolve();let y=new Fe;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Fe,e.enqueueRetryable(()=>m(this.currentUser))};const D=()=>{const W=y;e.enqueueRetryable((0,a.A)(function*(){yield W.promise,yield m(s.currentUser)}))},N=W=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(W=>N(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?N(W):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Fe)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt("string"==typeof s.accessToken),new Qe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new ot(e)}}class Tt{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xt{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Tt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=m=>{null!=m.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const y=m.token!==this.R;return this.R=m.token,be("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>s(m))};const l=m=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>l(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?l(m):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Bt("string"==typeof r.token),this.R=r.token,new hn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function In(u){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(u);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<u;s++)r[s]=Math.floor(256*Math.random());return r}class fr{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=In(40);for(let m=0;m<l.length;++m)s.length<20&&l[m]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[m]%62))}return s}}function Gt(u,e){return u<e?-1:u>e?1:0}function wn(u,e,r){return u.length===e.length&&u.every((s,l)=>r(s,e[l]))}function Bn(u){return u+"\0"}class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new le(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new le(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new le(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Wt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Wt(0,0))}static max(){return new Vt(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Br{constructor(e,r,s){void 0===r?r=0:r>e.length&&Pt(),void 0===s?s=e.length-r:s>e.length-r&&Pt(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Br.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const m=e.get(l),y=r.get(l);if(m<y)return-1;if(m>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class fn extends Br{construct(e,r,s){return new fn(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new fn(r)}static emptyPath(){return new fn([])}}const Cr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Br{construct(e,r,s){return new zn(e,r,s)}static isValidIdentifier(e){return Cr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const m=()=>{if(0===s.length)throw new le(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let y=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new le(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[l+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new le(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,l+=2}else"`"===D?(y=!y,l++):"."!==D||y?(s+=D,l++):(m(),l++)}if(m(),y)throw new le(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(r)}static emptyPath(){return new zn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(fn.fromString(e))}static fromName(e){return new Ut(fn.fromString(e).popFirst(5))}static empty(){return new Ut(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return fn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new fn(e.slice()))}}class _n{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function Pn(u){return u.fields.find(e=>2===e.kind)}function Tn(u){return u.fields.filter(e=>2!==e.kind)}_n.UNKNOWN_ID=-1;class Tr{constructor(e,r){this.fieldPath=e,this.kind=r}}class $n{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new $n(0,un.min())}}function ti(u,e){const r=u.toTimestamp().seconds,s=u.toTimestamp().nanoseconds+1,l=Vt.fromTimestamp(1e9===s?new Wt(r+1,0):new Wt(r,s));return new un(l,Ut.empty(),e)}function Ki(u){return new un(u.readTime,u.key,-1)}class un{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new un(Vt.min(),Ut.empty(),-1)}static max(){return new un(Vt.max(),Ut.empty(),-1)}}function ni(u,e){let r=u.readTime.compareTo(e.readTime);return 0!==r?r:(r=Ut.comparator(u.documentKey,e.documentKey),0!==r?r:Gt(u.largestBatchId,e.largestBatchId))}const qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Nn(u){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.A)(function*(u){if(u.code!==Me.FAILED_PRECONDITION||u.message!==qn)throw u;be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ke((s,l)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(s,l)},this.catchCallback=m=>{this.wrapFailure(r,m).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ke?r:Ke.resolve(r)}catch(r){return Ke.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ke.reject(r)}static resolve(e){return new Ke((r,s)=>{r(e)})}static reject(e){return new Ke((r,s)=>{s(e)})}static waitFor(e){return new Ke((r,s)=>{let l=0,m=0,y=!1;e.forEach(D=>{++l,D.next(()=>{++m,y&&m===l&&r()},N=>s(N))}),y=!0,m===l&&r()})}static or(e){let r=Ke.resolve(!1);for(const s of e)r=r.next(l=>l?Ke.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,m)=>{s.push(r.call(this,l,m))}),this.waitFor(s)}static mapArray(e,r){return new Ke((s,l)=>{const m=e.length,y=new Array(m);let D=0;for(let N=0;N<m;N++){const W=N;r(e[W]).next(re=>{y[W]=re,++D,D===m&&s(y)},re=>l(re))}})}static doWhile(e,r){return new Ke((s,l)=>{const m=()=>{!0===e()?r().next(()=>{m()},l):s()};m()})}}class mt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Fe,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Kt(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=ee(s.target.error);this.V.reject(new Kt(e,l))}}static open(e,r,s,l){try{return new mt(r,e.transaction(l,s))}catch(m){throw new Kt(r,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new xr(r)}}class ie{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===ie.S((0,he.ZQ)())&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return be("SimpleDb","Removing database:",e),ur(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,he.zW)())return!1;if(ie.C())return!0;const e=(0,he.ZQ)(),r=ie.S(e),s=0<r&&r<10,l=Ie(e),m=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,a.A)(function*(){return r.db||(be("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=y=>{s(y.target.result)},m.onblocked=()=>{l(new Kt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=y=>{const D=y.target.error;l("VersionError"===D.name?new le(Me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new le(Me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Kt(e,D))},m.onupgradeneeded=y=>{be("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.O(y.target.result,m.transaction,y.oldVersion,r.version).next(()=>{be("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var m=this;return(0,a.A)(function*(){const y="readonly"===r;let D=0;for(;;){++D;try{m.db=yield m.M(e);const N=mt.open(m.db,e,y?"readonly":"readwrite",s),W=l(N).next(re=>(N.g(),re)).catch(re=>(N.abort(re),Ke.reject(re))).toPromise();return W.catch(()=>{}),yield N.m,W}catch(N){const W=N,re="FirebaseError"!==W.name&&D<3;if(be("SimpleDb","Transaction failed with error:",W.message,"Retrying:",re),m.close(),!re)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ie(u){const e=u.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ft{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ur(this.B.delete())}}class Kt extends le{constructor(e,r){super(Me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Mn(u){return"IndexedDbTransactionError"===u.name}class xr{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(be("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ur(s)}add(e){return be("SimpleDb","ADD",this.store.name,e,e),ur(this.store.add(e))}get(e){return ur(this.store.get(e)).next(r=>(void 0===r&&(r=null),be("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return be("SimpleDb","DELETE",this.store.name,e),ur(this.store.delete(e))}count(){return be("SimpleDb","COUNT",this.store.name),ur(this.store.count())}U(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const m=l.getAll(s.range);return new Ke((y,D)=>{m.onerror=N=>{D(N.target.error)},m.onsuccess=N=>{y(N.target.result)}})}{const m=this.cursor(s),y=[];return this.W(m,(D,N)=>{y.push(N)}).next(()=>y)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new Ke((l,m)=>{s.onerror=y=>{m(y.target.error)},s.onsuccess=y=>{l(y.target.result)}})}j(e,r){be("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const l=this.cursor(s);return this.W(l,(m,y,D)=>D.delete())}J(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.W(l,r)}Y(e){const r=this.cursor({});return new Ke((s,l)=>{r.onerror=m=>{const y=ee(m.target.error);l(y)},r.onsuccess=m=>{const y=m.target.result;y?e(y.primaryKey,y.value).next(D=>{D?y.continue():s()}):s()}})}W(e,r){const s=[];return new Ke((l,m)=>{e.onerror=y=>{m(y.target.error)},e.onsuccess=y=>{const D=y.target.result;if(!D)return void l();const N=new ft(D),W=r(D.primaryKey,D.value,N);if(W instanceof Ke){const re=W.catch(ge=>(N.done(),Ke.reject(ge)));s.push(re)}N.isDone?l():null===N.K?D.continue():D.continue(N.K)}}).next(()=>Ke.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function ur(u){return new Ke((e,r)=>{u.onsuccess=s=>{e(s.target.result)},u.onerror=s=>{const l=ee(s.target.error);r(l)}})}let Oe=!1;function ee(u){const e=ie.S((0,he.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(r)>=0){const s=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oe||(Oe=!0,setTimeout(()=>{throw s},0)),s}}return u}class H{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;be("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,a.A)(function*(){r.task=null;try{be("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){Mn(s)?be("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Nn(s)}yield r.X(6e4)}))}}class V{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,a.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let l=r,m=!0;return Ke.doWhile(()=>!0===m&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return be("IndexBackfiller",`Processing collection: ${y}`),this.ne(e,y,l).next(D=>{l-=D,s.add(y)});m=!1})).next(()=>r-l)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(m=>{const y=m.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.re(l,m)).next(D=>(be("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>y.size)}))}re(e,r){let s=e;return r.changes.forEach((l,m)=>{const y=Ki(m);ni(y,s)>0&&(s=y)}),new un(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let F=(()=>{class u{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return u.oe=-1,u})();function ue(u){return null==u}function je(u){return 0===u&&1/u==-1/0}function It(u){return"number"==typeof u&&Number.isInteger(u)&&!je(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Ot(u){let e="";for(let r=0;r<u.length;r++)e.length>0&&(e=nn(e)),e=pn(u.get(r),e);return nn(e)}function pn(u,e){let r=e;const s=u.length;for(let l=0;l<s;l++){const m=u.charAt(l);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function nn(u){return u+"\x01\x01"}function ln(u){const e=u.length;if(Bt(e>=2),2===e)return Bt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),fn.emptyPath();const r=e-2,s=[];let l="";for(let m=0;m<e;){const y=u.indexOf("\x01",m);switch((y<0||y>r)&&Pt(),u.charAt(y+1)){case"\x01":const D=u.substring(m,y);let N;0===l.length?N=D:(l+=D,N=l,l=""),s.push(N);break;case"\x10":l+=u.substring(m,y),l+="\0";break;case"\x11":l+=u.substring(m,y+1);break;default:Pt()}m=y+2}return new fn(s)}const rr=["userId","batchId"];function An(u,e){return[u,Ot(e)]}function li(u,e,r){return[u,Ot(e),r]}const br={},Oo=["prefixPath","collectionGroup","readTime","documentId"],ri=["prefixPath","collectionGroup","documentId"],Bi=["collectionGroup","readTime","prefixPath","documentId"],Pe=["canonicalId","targetId"],Lt=["targetId","path"],Ce=["path","targetId"],Te=["collectionId","parent"],fe=["indexId","uid"],Et=["uid","sequenceNumber"],en=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dn=["indexId","uid","orderedDocumentKey"],On=["userId","collectionPath","documentId"],kn=["userId","collectionPath","largestBatchId"],Kr=["userId","collectionGroup","largestBatchId"],Vr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ni=[...Vr,"documentOverlays"],Ko=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mr=Ko,ys=[...Mr,"indexConfiguration","indexState","indexEntries"],ki=ys;class Es extends vr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Ei(u,e){const r=ct(u);return ie.F(r._e,e)}function ga(u){let e=0;for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e++;return e}function No(u,e){for(const r in u)Object.prototype.hasOwnProperty.call(u,r)&&e(r,u[r])}function zi(u){for(const e in u)if(Object.prototype.hasOwnProperty.call(u,e))return!1;return!0}class yr{constructor(e,r){this.comparator=e,this.root=r||$r.EMPTY}insert(e,r){return new yr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new us(this.root,e,this.comparator,!1)}getReverseIterator(){return new us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new us(this.root,e,this.comparator,!0)}}class us{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?s(e.key,r):1,r&&l&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,r,s,l,m){this.key=e,this.value=r,this.color=s??$r.RED,this.left=l??$r.EMPTY,this.right=m??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,m){return new $r(e??this.key,r??this.value,s??this.color,l??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const m=s(e,l.key);return l=m<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===m?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return $r.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1,$r.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,r,s,l,m){return this}insert(e,r,s){return new $r(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lr{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Uo(this.data.getIterator())}getIteratorFrom(e){return new Uo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,m=s.getNext().key;if(0!==this.comparator(l,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Lr(this.comparator);return r.data=e,r}}class Uo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lo(u){return u.hasNext()?u.getNext():void 0}class $i{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new $i([])}unionWith(e){let r=new Lr(zn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new $i(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return wn(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Eo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ms(){return typeof atob<"u"}class Li{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new Eo("Invalid base64 string: "+m):m}}(e);return new Li(r)}static fromUint8Array(e){const r=function(l){let m="";for(let y=0;y<l.length;++y)m+=String.fromCharCode(l[y]);return m}(e);return new Li(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const ia=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(u){if(Bt(!!u),"string"==typeof u){let e=0;const r=ia.exec(u);if(Bt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(u);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ci(u.seconds),nanos:ci(u.nanos)}}function ci(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Co(u){return"string"==typeof u?Li.fromBase64String(u):Li.fromUint8Array(u)}function qo(u){var e,r;return"server_timestamp"===(null===(r=((null===(e=u?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Cs(u){const e=u.mapValue.fields.__previous_value__;return qo(e)?Cs(e):e}function ho(u){const e=ko(u.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}class rs{constructor(e,r,s,l,m,y,D,N,W){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=D,this.longPollingOptions=N,this.useFetchStreams=W}}class Yn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Yn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yn&&e.projectId===this.projectId&&e.database===this.database}}const di={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ti={nullValue:"NULL_VALUE"};function fo(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?qo(u)?4:Gr(u)?9007199254740991:10:Pt()}function Hr(u,e){if(u===e)return!0;const r=fo(u);if(r!==fo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===e.booleanValue;case 4:return ho(u).isEqual(ho(e));case 3:return function(l,m){if("string"==typeof l.timestampValue&&"string"==typeof m.timestampValue&&l.timestampValue.length===m.timestampValue.length)return l.timestampValue===m.timestampValue;const y=ko(l.timestampValue),D=ko(m.timestampValue);return y.seconds===D.seconds&&y.nanos===D.nanos}(u,e);case 5:return u.stringValue===e.stringValue;case 6:return m=e,Co(u.bytesValue).isEqual(Co(m.bytesValue));case 7:return u.referenceValue===e.referenceValue;case 8:return function(l,m){return ci(l.geoPointValue.latitude)===ci(m.geoPointValue.latitude)&&ci(l.geoPointValue.longitude)===ci(m.geoPointValue.longitude)}(u,e);case 2:return function(l,m){if("integerValue"in l&&"integerValue"in m)return ci(l.integerValue)===ci(m.integerValue);if("doubleValue"in l&&"doubleValue"in m){const y=ci(l.doubleValue),D=ci(m.doubleValue);return y===D?je(y)===je(D):isNaN(y)&&isNaN(D)}return!1}(u,e);case 9:return wn(u.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:return function(l,m){const y=l.mapValue.fields||{},D=m.mapValue.fields||{};if(ga(y)!==ga(D))return!1;for(const N in y)if(y.hasOwnProperty(N)&&(void 0===D[N]||!Hr(y[N],D[N])))return!1;return!0}(u,e);default:return Pt()}var m}function wi(u,e){return void 0!==(u.values||[]).find(r=>Hr(r,e))}function hi(u,e){if(u===e)return 0;const r=fo(u),s=fo(e);if(r!==s)return Gt(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Gt(u.booleanValue,e.booleanValue);case 2:return function(m,y){const D=ci(m.integerValue||m.doubleValue),N=ci(y.integerValue||y.doubleValue);return D<N?-1:D>N?1:D===N?0:isNaN(D)?isNaN(N)?0:-1:1}(u,e);case 3:return Fi(u.timestampValue,e.timestampValue);case 4:return Fi(ho(u),ho(e));case 5:return Gt(u.stringValue,e.stringValue);case 6:return function(m,y){const D=Co(m),N=Co(y);return D.compareTo(N)}(u.bytesValue,e.bytesValue);case 7:return function(m,y){const D=m.split("/"),N=y.split("/");for(let W=0;W<D.length&&W<N.length;W++){const re=Gt(D[W],N[W]);if(0!==re)return re}return Gt(D.length,N.length)}(u.referenceValue,e.referenceValue);case 8:return function(m,y){const D=Gt(ci(m.latitude),ci(y.latitude));return 0!==D?D:Gt(ci(m.longitude),ci(y.longitude))}(u.geoPointValue,e.geoPointValue);case 9:return function(m,y){const D=m.values||[],N=y.values||[];for(let W=0;W<D.length&&W<N.length;++W){const re=hi(D[W],N[W]);if(re)return re}return Gt(D.length,N.length)}(u.arrayValue,e.arrayValue);case 10:return function(m,y){if(m===di.mapValue&&y===di.mapValue)return 0;if(m===di.mapValue)return 1;if(y===di.mapValue)return-1;const D=m.fields||{},N=Object.keys(D),W=y.fields||{},re=Object.keys(W);N.sort(),re.sort();for(let ge=0;ge<N.length&&ge<re.length;++ge){const Ue=Gt(N[ge],re[ge]);if(0!==Ue)return Ue;const dt=hi(D[N[ge]],W[re[ge]]);if(0!==dt)return dt}return Gt(N.length,re.length)}(u.mapValue,e.mapValue);default:throw Pt()}}function Fi(u,e){if("string"==typeof u&&"string"==typeof e&&u.length===e.length)return Gt(u,e);const r=ko(u),s=ko(e),l=Gt(r.seconds,s.seconds);return 0!==l?l:Gt(r.nanos,s.nanos)}function qr(u){return qi(u)}function qi(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(r){const s=ko(r);return`time(${s.seconds},${s.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Co(u.bytesValue).toBase64():"referenceValue"in u?Ut.fromName(u.referenceValue).toString():"geoPointValue"in u?function(r){return`geo(${r.latitude},${r.longitude})`}(u.geoPointValue):"arrayValue"in u?function(r){let s="[",l=!0;for(const m of r.values||[])l?l=!1:s+=",",s+=qi(m);return s+"]"}(u.arrayValue):"mapValue"in u?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",m=!0;for(const y of s)m?m=!1:l+=",",l+=`${y}:${qi(r.fields[y])}`;return l+"}"}(u.mapValue):Pt()}function Zt(u,e){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${e.path.canonicalString()}`}}function Un(u){return!!u&&"integerValue"in u}function dr(u){return!!u&&"arrayValue"in u}function Ui(u){return!!u&&"nullValue"in u}function io(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function fi(u){return!!u&&"mapValue"in u}function bo(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const e={mapValue:{fields:{}}};return No(u.mapValue.fields,(r,s)=>e.mapValue.fields[r]=bo(s)),e}if(u.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(u.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bo(u.arrayValue.values[r]);return e}return Object.assign({},u)}function Gr(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fo(u){return"nullValue"in u?Ti:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Zt(Yn.empty(),Ut.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:Pt()}function Vo(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Zt(Yn.empty(),Ut.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?di:Pt()}function Wn(u,e){const r=hi(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?-1:!u.inclusive&&e.inclusive?1:0}function Io(u,e){const r=hi(u.value,e.value);return 0!==r?r:u.inclusive&&!e.inclusive?1:!u.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!fi(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(r)}setAll(e){let r=zn.emptyPath(),s={},l=[];e.forEach((y,D)=>{if(!r.isImmediateParentOf(D)){const N=this.getFieldsMap(r);this.applyChanges(N,s,l),s={},l=[],r=D.popLast()}y?s[D.lastSegment()]=bo(y):l.push(D.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,s,l)}delete(e){const r=this.field(e.popLast());fi(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];fi(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){No(r,(l,m)=>e[l]=m);for(const l of s)delete e[l]}clone(){return new gi(bo(this.value))}}function Q(u){const e=[];return No(u.fields,(r,s)=>{const l=new zn([r]);if(fi(s)){const m=Q(s.mapValue).fields;if(0===m.length)e.push(l);else for(const y of m)e.push(l.child(y))}else e.push(l)}),new $i(e)}class z{constructor(e,r,s,l,m,y,D){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=m,this.data=y,this.documentState=D}static newInvalidDocument(e){return new z(e,0,Vt.min(),Vt.min(),Vt.min(),gi.empty(),0)}static newFoundDocument(e,r,s,l){return new z(e,1,r,Vt.min(),s,l,0)}static newNoDocument(e,r){return new z(e,2,r,Vt.min(),Vt.min(),gi.empty(),0)}static newUnknownDocument(e,r){return new z(e,3,r,Vt.min(),Vt.min(),gi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof z&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new z(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ye{constructor(e,r){this.position=e,this.inclusive=r}}function Re(u,e,r){let s=0;for(let l=0;l<u.position.length;l++){const m=e[l],y=u.position[l];if(s=m.field.isKeyField()?Ut.comparator(Ut.fromName(y.referenceValue),r.key):hi(y,r.data.field(m.field)),"desc"===m.dir&&(s*=-1),0!==s)break}return s}function Ye(u,e){if(null===u)return null===e;if(null===e||u.inclusive!==e.inclusive||u.position.length!==e.position.length)return!1;for(let r=0;r<u.position.length;r++)if(!Hr(u.position[r],e.position[r]))return!1;return!0}class yt{constructor(e,r="asc"){this.field=e,this.dir=r}}function Yt(u,e){return u.dir===e.dir&&u.field.isEqual(e.field)}class mn{}class Rt extends mn{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Xi(e,r,s):"array-contains"===r?new gr(e,s):"in"===r?new bs(e,s):"not-in"===r?new Ai(e,s):"array-contains-any"===r?new Is(e,s):new Rt(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ir(e,s):new Ci(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(hi(r,this.value)):null!==r&&fo(this.value)===fo(r)&&this.matchesComparison(hi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends mn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new gn(e,r)}matches(e){return ar(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ar(u){return"and"===u.op}function Rn(u){return"or"===u.op}function pi(u){return wr(u)&&ar(u)}function wr(u){for(const e of u.filters)if(e instanceof gn)return!1;return!0}function Jr(u){if(u instanceof Rt)return u.field.canonicalString()+u.op.toString()+qr(u.value);if(pi(u))return u.filters.map(e=>Jr(e)).join(",");{const e=u.filters.map(r=>Jr(r)).join(",");return`${u.op}(${e})`}}function ii(u,e){return u instanceof Rt?(s=u,(l=e)instanceof Rt&&s.op===l.op&&s.field.isEqual(l.field)&&Hr(s.value,l.value)):u instanceof gn?function(s,l){return l instanceof gn&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((m,y,D)=>m&&ii(y,l.filters[D]),!0)}(u,e):void Pt();var s,l}function Ur(u,e){const r=u.filters.concat(e);return gn.create(r,u.op)}function Yi(u){return u instanceof Rt?`${(r=u).field.canonicalString()} ${r.op} ${qr(r.value)}`:u instanceof gn?function(r){return r.op.toString()+" {"+r.getFilters().map(Yi).join(" ,")+"}"}(u):"Filter";var r}class Xi extends Rt{constructor(e,r,s){super(e,r,s),this.key=Ut.fromName(s.referenceValue)}matches(e){const r=Ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class ir extends Rt{constructor(e,r){super(e,"in",r),this.keys=oi(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ci extends Rt{constructor(e,r){super(e,"not-in",r),this.keys=oi(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function oi(u,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Ut.fromName(s.referenceValue))}class gr extends Rt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return dr(r)&&wi(r.arrayValue,this.value)}}class bs extends Rt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&wi(this.value.arrayValue,r)}}class Ai extends Rt{constructor(e,r){super(e,"not-in",r)}matches(e){if(wi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!wi(this.value.arrayValue,r)}}class Is extends Rt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!dr(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>wi(this.value.arrayValue,s))}}class po{constructor(e,r=null,s=[],l=[],m=null,y=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=m,this.startAt=y,this.endAt=D,this.ue=null}}function ma(u,e=null,r=[],s=[],l=null,m=null,y=null){return new po(u,e,r,s,l,m,y)}function go(u){const e=ct(u);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Jr(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(m=s).field.canonicalString()+m.dir;var m}).join(","),ue(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>qr(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>qr(s)).join(",")),e.ue=r}return e.ue}function is(u,e){if(u.limit!==e.limit||u.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<u.orderBy.length;r++)if(!Yt(u.orderBy[r],e.orderBy[r]))return!1;if(u.filters.length!==e.filters.length)return!1;for(let r=0;r<u.filters.length;r++)if(!ii(u.filters[r],e.filters[r]))return!1;return u.collectionGroup===e.collectionGroup&&!!u.path.isEqual(e.path)&&!!Ye(u.startAt,e.startAt)&&Ye(u.endAt,e.endAt)}function Xs(u){return Ut.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function oa(u,e){return u.filters.filter(r=>r instanceof Rt&&r.field.isEqual(e))}function Hi(u,e,r){let s=Ti,l=!0;for(const m of oa(u,e)){let y=Ti,D=!0;switch(m.op){case"<":case"<=":y=Fo(m.value);break;case"==":case"in":case">=":y=m.value;break;case">":y=m.value,D=!1;break;case"!=":case"not-in":y=Ti}Wn({value:s,inclusive:l},{value:y,inclusive:D})<0&&(s=y,l=D)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const y=r.position[m];Wn({value:s,inclusive:l},{value:y,inclusive:r.inclusive})<0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}function Os(u,e,r){let s=di,l=!0;for(const m of oa(u,e)){let y=di,D=!0;switch(m.op){case">=":case">":y=Vo(m.value),D=!1;break;case"==":case"in":case"<=":y=m.value;break;case"<":y=m.value,D=!1;break;case"!=":case"not-in":y=di}Io({value:s,inclusive:l},{value:y,inclusive:D})>0&&(s=y,l=D)}if(null!==r)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(e)){const y=r.position[m];Io({value:s,inclusive:l},{value:y,inclusive:r.inclusive})>0&&(s=y,l=r.inclusive);break}return{value:s,inclusive:l}}class Ns{constructor(e,r=null,s=[],l=[],m=null,y="F",D=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=m,this.limitType=y,this.startAt=D,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function Rc(u,e,r,s,l,m,y,D){return new Ns(u,e,r,s,l,m,y,D)}function Yr(u){return new Ns(u)}function sa(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function xa(u){return null!==u.collectionGroup}function G(u){const e=ct(u);if(null===e.ce){e.ce=[];const r=new Set;for(const m of e.explicitOrderBy)e.ce.push(m),r.add(m.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let D=new Lr(zn.comparator);return y.filters.forEach(N=>{N.getFlattenedFilters().forEach(W=>{W.isInequality()&&(D=D.add(W.field))})}),D})(e).forEach(m=>{r.has(m.canonicalString())||m.isKeyField()||e.ce.push(new yt(m,s))}),r.has(zn.keyField().canonicalString())||e.ce.push(new yt(zn.keyField(),s))}return e.ce}function Y(u){const e=ct(u);return e.le||(e.le=function oe(u,e){if("F"===u.limitType)return ma(u.path,u.collectionGroup,e,u.filters,u.limit,u.startAt,u.endAt);{e=e.map(l=>new yt(l.field,"desc"===l.dir?"asc":"desc"));const r=u.endAt?new ye(u.endAt.position,u.endAt.inclusive):null,s=u.startAt?new ye(u.startAt.position,u.startAt.inclusive):null;return ma(u.path,u.collectionGroup,e,u.filters,u.limit,r,s)}}(e,G(u))),e.le}function Ve(u,e){const r=u.filters.concat([e]);return new Ns(u.path,u.collectionGroup,u.explicitOrderBy.slice(),r,u.limit,u.limitType,u.startAt,u.endAt)}function yn(u,e,r){return new Ns(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),e,r,u.startAt,u.endAt)}function Hn(u,e){return is(Y(u),Y(e))&&u.limitType===e.limitType}function oo(u){return`${go(Y(u))}|lt:${u.limitType}`}function mo(u){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Yi(l)).join(", ")}]`),ue(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(y=l).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>qr(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>qr(l)).join(",")),`Target(${s})`}(Y(u))}; limitType=${u.limitType})`}function so(u,e){return e.isFoundDocument()&&function(s,l){const m=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(m):Ut.isDocumentKey(s.path)?s.path.isEqual(m):s.path.isImmediateParentOf(m)}(u,e)&&function(s,l){for(const m of G(s))if(!m.field.isKeyField()&&null===l.data.field(m.field))return!1;return!0}(u,e)&&function(s,l){for(const m of s.filters)if(!m.matches(l))return!1;return!0}(u,e)&&(l=e,!((s=u).startAt&&!function(y,D,N){const W=Re(y,D,N);return y.inclusive?W<=0:W<0}(s.startAt,G(s),l)||s.endAt&&!function(y,D,N){const W=Re(y,D,N);return y.inclusive?W>=0:W>0}(s.endAt,G(s),l)));var s,l}function os(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function jo(u){return(e,r)=>{let s=!1;for(const l of G(u)){const m=Bo(l,e,r);if(0!==m)return m;s=s||l.field.isKeyField()}return 0}}function Bo(u,e,r){const s=u.field.isKeyField()?Ut.comparator(e.key,r.key):function(m,y,D){const N=y.data.field(m),W=D.data.field(m);return null!==N&&null!==W?hi(N,W):Pt()}(u.field,e,r);switch(u.dir){case"asc":return s;case"desc":return-1*s;default:return Pt()}}class So{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,m]of s)if(this.equalsFn(l,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let m=0;m<l.length;m++)if(this.equalsFn(l[m][0],e))return void(l[m]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(r,s)=>{for(const[l,m]of s)e(l,m)})}isEmpty(){return zi(this.inner)}size(){return this.innerSize}}const gu=new yr(Ut.comparator);function si(){return gu}const _a=new yr(Ut.comparator);function Wi(...u){let e=_a;for(const r of u)e=e.insert(r.key,r);return e}function Mc(u){let e=_a;return u.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function To(){return ss()}function ks(){return ss()}function ss(){return new So(u=>u.toString(),(u,e)=>u.isEqual(e))}const va=new yr(Ut.comparator),Fs=new Lr(Ut.comparator);function cr(...u){let e=Fs;for(const r of u)e=e.add(r);return e}const Sa=new Lr(Gt);function Qs(){return Sa}function Wa(u,e){if(u.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:je(e)?"-0":e}}function Ka(u){return{integerValue:""+u}}function ya(u,e){return It(e)?Ka(e):Wa(u,e)}class ls{constructor(){this._=void 0}}function Vs(u,e,r){return u instanceof Pa?function(l,m){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return m&&qo(m)&&(m=Cs(m)),m&&(y.fields.__previous_value__=m),{mapValue:y}}(r,e):u instanceof aa?Ya(u,e):u instanceof Ls?Vl(u,e):function(l,m){const y=Oc(l,m),D=Ra(y)+Ra(l.Pe);return Un(y)&&Un(l.Pe)?Ka(D):Wa(l.serializer,D)}(u,e)}function qa(u,e,r){return u instanceof aa?Ya(u,e):u instanceof Ls?Vl(u,e):r}function Oc(u,e){return u instanceof Js?Un(s=e)||(m=s)&&"doubleValue"in m?e:{integerValue:0}:null;var s,m}class Pa extends ls{}class aa extends ls{constructor(e){super(),this.elements=e}}function Ya(u,e){const r=Ju(e);for(const s of u.elements)r.some(l=>Hr(l,s))||r.push(s);return{arrayValue:{values:r}}}class Ls extends ls{constructor(e){super(),this.elements=e}}function Vl(u,e){let r=Ju(e);for(const s of u.elements)r=r.filter(l=>!Hr(l,s));return{arrayValue:{values:r}}}class Js extends ls{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ra(u){return ci(u.integerValue||u.doubleValue)}function Ju(u){return dr(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class ca{constructor(e,r){this.field=e,this.transform=r}}class _u{constructor(e,r){this.version=e,this.transformResults=r}}class Di{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x(u,e){return void 0!==u.updateTime?e.isFoundDocument()&&e.version.isEqual(u.updateTime):void 0===u.exists||u.exists===e.isFoundDocument()}class J{}function U(u,e){if(!u.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return u.isNoDocument()?new mi(u.key,Di.none()):new Cn(u.key,u.data,Di.none());{const r=u.data,s=gi.empty();let l=new Lr(zn.comparator);for(let m of e.fields)if(!l.has(m)){let y=r.field(m);null===y&&m.length>1&&(m=m.popLast(),y=r.field(m)),null===y?s.delete(m):s.set(m,y),l=l.add(m)}return new Nr(u.key,s,new $i(l.toArray()),Di.none())}}function X(u,e,r){u instanceof Cn?function(l,m,y){const D=l.value.clone(),N=zr(l.fieldTransforms,m,y.transformResults);D.setAll(N),m.convertToFoundDocument(y.version,D).setHasCommittedMutations()}(u,e,r):u instanceof Nr?function(l,m,y){if(!x(l.precondition,m))return void m.convertToUnknownDocument(y.version);const D=zr(l.fieldTransforms,m,y.transformResults),N=m.data;N.setAll(Xr(l)),N.setAll(D),m.convertToFoundDocument(y.version,N).setHasCommittedMutations()}(u,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function we(u,e,r,s){return u instanceof Cn?function(m,y,D,N){if(!x(m.precondition,y))return D;const W=m.value.clone(),re=Ir(m.fieldTransforms,N,y);return W.setAll(re),y.convertToFoundDocument(y.version,W).setHasLocalMutations(),null}(u,e,r,s):u instanceof Nr?function(m,y,D,N){if(!x(m.precondition,y))return D;const W=Ir(m.fieldTransforms,N,y),re=y.data;return re.setAll(Xr(m)),re.setAll(W),y.convertToFoundDocument(y.version,re).setHasLocalMutations(),null===D?null:D.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(ge=>ge.field))}(u,e,r,s):(D=r,x(u.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):D);var y,D}function _t(u,e){let r=null;for(const s of u.fieldTransforms){const l=e.data.field(s.field),m=Oc(s.transform,l||null);null!=m&&(null===r&&(r=gi.empty()),r.set(s.field,m))}return r||null}function Nt(u,e){return u.type===e.type&&!!u.key.isEqual(e.key)&&!!u.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=u.fieldTransforms)&&void 0===l||s&&l&&wn(s,l,(m,y)=>function mu(u,e){return u.field.isEqual(e.field)&&(l=e.transform,(s=u.transform)instanceof aa&&l instanceof aa||s instanceof Ls&&l instanceof Ls?wn(s.elements,l.elements,Hr):s instanceof Js&&l instanceof Js?Hr(s.Pe,l.Pe):s instanceof Pa&&l instanceof Pa);var s,l}(m,y))))&&(0===u.type?u.value.isEqual(e.value):1!==u.type||u.data.isEqual(e.data)&&u.fieldMask.isEqual(e.fieldMask));var s,l}class Cn extends J{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Nr extends J{constructor(e,r,s,l,m=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Xr(u){const e=new Map;return u.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=u.data.field(r);e.set(r,s)}}),e}function zr(u,e,r){const s=new Map;Bt(u.length===r.length);for(let l=0;l<r.length;l++){const m=u[l],y=m.transform,D=e.data.field(m.field);s.set(m.field,qa(y,D,r[l]))}return s}function Ir(u,e,r){const s=new Map;for(const l of u){const m=l.transform,y=r.data.field(l.field);s.set(l.field,Vs(m,y,e))}return s}class mi extends J{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sr extends J{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ri{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const m=this.mutations[l];m.key.isEqual(e.key)&&X(m,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=we(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=ks();return this.mutations.forEach(l=>{const m=e.get(l.key),y=m.overlayedDocument;let D=this.applyToLocalView(y,m.mutatedFields);D=r.has(l.key)?null:D;const N=U(y,D);null!==N&&s.set(l.key,N),y.isValidDocument()||y.convertToNoDocument(Vt.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),cr())}isEqual(e){return this.batchId===e.batchId&&wn(this.mutations,e.mutations,(r,s)=>Nt(r,s))&&wn(this.baseMutations,e.baseMutations,(r,s)=>Nt(r,s))}}class wo{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Bt(e.mutations.length===s.length);let l=va;const m=e.mutations;for(let y=0;y<m.length;y++)l=l.insert(m[y].key,s[y].version);return new wo(e,r,s,l)}}class $o{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ho{constructor(e,r){this.count=e,this.unchangedNames=r}}var xi,Qn;function ds(u){switch(u){default:return Pt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function Zu(u){if(void 0===u)return Jt("GRPC error has no .code"),Me.UNKNOWN;switch(u){case xi.OK:return Me.OK;case xi.CANCELLED:return Me.CANCELLED;case xi.UNKNOWN:return Me.UNKNOWN;case xi.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case xi.INTERNAL:return Me.INTERNAL;case xi.UNAVAILABLE:return Me.UNAVAILABLE;case xi.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case xi.NOT_FOUND:return Me.NOT_FOUND;case xi.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case xi.ABORTED:return Me.ABORTED;case xi.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case xi.DATA_LOSS:return Me.DATA_LOSS;default:return Pt()}}(Qn=xi||(xi={}))[Qn.OK=0]="OK",Qn[Qn.CANCELLED=1]="CANCELLED",Qn[Qn.UNKNOWN=2]="UNKNOWN",Qn[Qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qn[Qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qn[Qn.NOT_FOUND=5]="NOT_FOUND",Qn[Qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qn[Qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qn[Qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qn[Qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qn[Qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qn[Qn.ABORTED=10]="ABORTED",Qn[Qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qn[Qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qn[Qn.INTERNAL=13]="INTERNAL",Qn[Qn.UNAVAILABLE=14]="UNAVAILABLE",Qn[Qn.DATA_LOSS=15]="DATA_LOSS";function as(){return new TextEncoder}const Ts=new Le([4294967295,4294967295],0);function Qi(u){const e=as().encode(u),r=new Be;return r.update(e),new Uint8Array(r.digest())}function el(u){const e=new DataView(u.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Le([r,s],0),new Le([l,m],0)]}class Xa{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new hs(`Invalid padding: ${r}`);if(s<0)throw new hs(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new hs(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new hs(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Le.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(Le.fromNumber(s)));return 1===l.compare(Ts)&&(l=new Le([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Qi(e),[s,l]=el(r);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,l,m);if(!this.de(y))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),y=new Xa(m,l,r);return s.forEach(D=>y.insert(D)),y}insert(e){if(0===this.Ie)return;const r=Qi(e),[s,l]=el(r);for(let m=0;m<this.hashCount;m++){const y=this.Ee(s,l,m);this.Ae(y)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bi{constructor(e,r,s,l,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new bi(Vt.min(),l,new yr(Gt),si(),cr())}}class Qa{constructor(e,r,s,l,m){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Qa(s,r,cr(),cr(),cr())}}class vu{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class Yo{constructor(e,r){this.targetId=e,this.me=r}}class Ji{constructor(e,r,s=Li.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class Zi{constructor(){this.fe=0,this.ge=Ll(),this.pe=Li.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=cr(),r=cr(),s=cr();return this.ge.forEach((l,m)=>{switch(m){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:Pt()}}),new Qa(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Ll()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Nc{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=yu(),this.Qe=new yr(Gt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const m=l.target;if(Xs(m))if(0===s){const y=new Ut(m.path);this.Ue(r,y,z.newNoDocument(y,Vt.min()))}else Bt(1===s);else{const y=this.Ye(r);if(y!==s){const D=this.Ze(e),N=D?this.Xe(D,e,y):1;0!==N&&(this.je(r),this.Qe=this.Qe.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:m=0}=r;let y,D;try{y=Co(s).toUint8Array()}catch(N){if(N instanceof Eo)return dn("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{D=new Xa(y,l,m)}catch(N){return dn(N instanceof hs?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(m=>{const y=this.Le.tt(),D=`projects/${y.projectId}/databases/${y.database}/documents/${m.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,m,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((m,y)=>{const D=this.Je(y);if(D){if(m.current&&Xs(D.target)){const N=new Ut(D.target.path);null!==this.ke.get(N)||this.it(y,N)||this.Ue(y,N,z.newNoDocument(N,e))}m.be&&(r.set(y,m.Ce()),m.ve())}});let s=cr();this.qe.forEach((m,y)=>{let D=!0;y.forEachWhile(N=>{const W=this.Je(N);return!W||"TargetPurposeLimboResolution"===W.purpose||(D=!1,!1)}),D&&(s=s.add(m))}),this.ke.forEach((m,y)=>y.setReadTime(e));const l=new bi(e,r,this.Qe,this.ke,s);return this.ke=si(),this.qe=yu(),this.Qe=new yr(Gt),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Zi,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Lr(Gt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||be("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zi),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function yu(){return new yr(Ut.comparator)}function Ll(){return new yr(Ut.comparator)}const Ul={asc:"ASCENDING",desc:"DESCENDING"},jl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jn={and:"AND",or:"OR"};class Bl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ja(u,e){return u.useProto3Json||ue(e)?e:{value:e}}function Go(u,e){return u.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tl(u,e){return u.useProto3Json?e.toBase64():e.toUint8Array()}function Eu(u,e){return Go(u,e.toTimestamp())}function eo(u){return Bt(!!u),Vt.fromTimestamp(function(r){const s=ko(r);return new Wt(s.seconds,s.nanos)}(u))}function Ma(u,e){return kc(u,e).canonicalString()}function kc(u,e){const r=(l=u,new fn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function Cu(u){const e=fn.fromString(u);return Bt(Vc(e)),e}function Oa(u,e){return Ma(u.databaseId,e.path)}function fs(u,e){const r=Cu(e);if(r.get(1)!==u.databaseId.projectId)throw new le(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+u.databaseId.projectId);if(r.get(3)!==u.databaseId.database)throw new le(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+u.databaseId.database);return new Ut(Fc(r))}function Hd(u,e){return Ma(u.databaseId,e)}function $t(u){const e=Cu(u);return 4===e.length?fn.emptyPath():Fc(e)}function At(u){return new fn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Fc(u){return Bt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Na(u,e,r){return{name:Oa(u,e),fields:r.value.mapValue.fields}}function Ao(u,e,r){const s=fs(u,e.name),l=eo(e.updateTime),m=e.createTime?eo(e.createTime):Vt.min(),y=new gi({mapValue:{fields:e.fields}}),D=z.newFoundDocument(s,l,m,y);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function Xo(u,e){let r;if(e instanceof Cn)r={update:Na(u,e.key,e.value)};else if(e instanceof mi)r={delete:Oa(u,e.key)};else if(e instanceof Nr)r={update:Na(u,e.key,e.data),updateMask:Hl(e.fieldMask)};else{if(!(e instanceof Sr))return Pt();r={verify:Oa(u,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(m,y){const D=y.transform;if(D instanceof Pa)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof aa)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Ls)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Js)return{fieldPath:y.field.canonicalString(),increment:D.Pe};throw Pt()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Eu(u,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Pt()),r;var m}function zo(u,e){const r=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?Di.updateTime(eo(m.updateTime)):void 0!==m.exists?Di.exists(m.exists):Di.none():Di.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(y,D){let N=null;"setToServerValue"in D?(Bt("REQUEST_TIME"===D.setToServerValue),N=new Pa):"appendMissingElements"in D?N=new aa(D.appendMissingElements.values||[]):"removeAllFromArray"in D?N=new Ls(D.removeAllFromArray.values||[]):"increment"in D?N=new Js(y,D.increment):Pt();const W=zn.fromServerFormat(D.fieldPath);return new ca(W,N)}(u,l)):[];var m;if(e.update){const l=fs(u,e.update.name),m=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new $i((e.updateMask.fieldPaths||[]).map(re=>zn.fromServerFormat(re)));return new Nr(l,m,y,r,s)}return new Cn(l,m,r,s)}if(e.delete){const l=fs(u,e.delete);return new mi(l,r)}if(e.verify){const l=fs(u,e.verify);return new Sr(l,r)}return Pt()}function Kn(u,e){return{documents:[Hd(u,e.path)]}}function Za(u,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Hd(u,l);const m=function(W){if(0!==W.length)return $l(gn.create(W,"and"))}(e.filters);m&&(r.structuredQuery.where=m);const y=function(W){if(0!==W.length)return W.map(re=>{return{field:ms((Ue=re).field),direction:Zs(Ue.dir)};var Ue})}(e.orderBy);y&&(r.structuredQuery.orderBy=y);const D=Ja(u,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{_t:r,parent:l};var W}function Qo(u){let e=$t(u.parent);const r=u.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Bt(1===s);const re=r.from[0];re.allDescendants?l=re.collectionId:e=e.child(re.collectionId)}let m=[];r.where&&(m=function(ge){const Ue=Iu(ge);return Ue instanceof gn&&pi(Ue)?Ue.getFilters():[Ue]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(Ue=>{return new yt(ec((Ht=Ue).field),function(Xt){switch(Xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ht.direction));var Ht}));let D=null;r.limit&&(D=function(ge){let Ue;return Ue="object"==typeof ge?ge.value:ge,ue(Ue)?null:Ue}(r.limit));let N=null;var ge;r.startAt&&(N=new ye((ge=r.startAt).values||[],!!ge.before));let W=null;return r.endAt&&(W=function(ge){return new ye(ge.values||[],!ge.before)}(r.endAt)),Rc(e,l,y,m,D,"F",N,W)}function Iu(u){return void 0!==u.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ec(r.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ec(r.unaryFilter.field);return Rt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=ec(r.unaryFilter.field);return Rt.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=ec(r.unaryFilter.field);return Rt.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(u):void 0!==u.fieldFilter?Rt.create(ec((r=u).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==u.compositeFilter?function(r){return gn.create(r.compositeFilter.filters.map(s=>Iu(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Pt()}}(r.compositeFilter.op))}(u):Pt();var r}function Zs(u){return Ul[u]}function gs(u){return jl[u]}function Gd(u){return Jn[u]}function ms(u){return{fieldPath:u.canonicalString()}}function ec(u){return zn.fromServerFormat(u.fieldPath)}function $l(u){return u instanceof Rt?function(r){if("=="===r.op){if(io(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NAN"}};if(Ui(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(io(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NOT_NAN"}};if(Ui(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(r.field),op:gs(r.op),value:r.value}}}(u):u instanceof gn?function(r){const s=r.getFilters().map(l=>$l(l));return 1===s.length?s[0]:{compositeFilter:{op:Gd(r.op),filters:s}}}(u):Pt()}function Hl(u){const e=[];return u.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Vc(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class ea{constructor(e,r,s,l,m=Vt.min(),y=Vt.min(),D=Li.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=D,this.expectedCount=N}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w{constructor(e){this.ct=e}}function I(u,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:M(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Oa(m=u.ct,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:Go(m,y.version.toTimestamp()),createTime:Go(m,y.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:j(e.version)};else{if(!e.isUnknownDocument())return Pt();s.unknownDocument={path:r.path.toArray(),version:j(e.version)}}var m,y;return s}function M(u){const e=u.toTimestamp();return[e.seconds,e.nanoseconds]}function j(u){const e=u.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ne(u){const e=new Wt(u.seconds,u.nanoseconds);return Vt.fromTimestamp(e)}function Ee(u,e){const r=(e.baseMutations||[]).map(m=>zo(u.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const s=e.mutations.map(m=>zo(u.ct,m)),l=Wt.fromMillis(e.localWriteTimeMs);return new Ri(e.batchId,l,r,s)}function pt(u){const e=ne(u.readTime),r=void 0!==u.lastLimboFreeSnapshotVersion?ne(u.lastLimboFreeSnapshotVersion):Vt.min();let s;return s=void 0!==u.query.documents?(Bt(1===(m=u.query).documents.length),Y(Yr($t(m.documents[0])))):function(m){return Y(Qo(m))}(u.query),new ea(s,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,e,r,Li.fromBase64String(u.resumeToken));var m}function ht(u,e){const r=j(e.snapshotVersion),s=j(e.lastLimboFreeSnapshotVersion);let l;l=Xs(e.target)?Kn(u.ct,e.target):Za(u.ct,e.target)._t;const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:go(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function vn(u){const e=Qo({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?yn(e,e.limit,"L"):e}function mr(u,e){return new $o(e.largestBatchId,zo(u.ct,e.overlayMutation))}function Ar(u,e){const r=e.path.lastSegment();return[u,Ot(e.path.popLast()),r]}function Pr(u,e,r,s){return{indexId:u,uid:e,sequenceNumber:r,readTime:j(s.readTime),documentKey:Ot(s.documentKey.path),largestBatchId:s.largestBatchId}}class ai{getBundleMetadata(e,r){return tc(e).get(r).next(s=>{if(s)return{id:(m=s).bundleId,createTime:ne(m.createTime),version:m.version};var m})}saveBundleMetadata(e,r){return tc(e).put({bundleId:(l=r).id,createTime:j(eo(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return nc(e).get(r).next(s=>{if(s)return{name:(m=s).name,query:vn(m.bundledQuery),readTime:ne(m.readTime)};var m})}saveNamedQuery(e,r){return nc(e).put({name:(l=r).name,readTime:j(eo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function tc(u){return Ei(u,"bundles")}function nc(u){return Ei(u,"namedQueries")}class la{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new la(e,r.uid||"")}getOverlay(e,r){return ta(e).get(Ar(this.userId,r)).next(s=>s?mr(this.serializer,s):null)}getOverlays(e,r){const s=To();return Ke.forEach(r,l=>this.getOverlay(e,l).next(m=>{null!==m&&s.set(l,m)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((m,y)=>{const D=new $o(r,y);l.push(this.ht(e,D))}),Ke.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(y=>l.add(Ot(y.getCollectionPath())));const m=[];return l.forEach(y=>{const D=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);m.push(ta(e).j("collectionPathOverlayIndex",D))}),Ke.waitFor(m)}getOverlaysForCollection(e,r,s){const l=To(),m=Ot(r),y=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ta(e).U("collectionPathOverlayIndex",y).next(D=>{for(const N of D){const W=mr(this.serializer,N);l.set(W.getKey(),W)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const m=To();let y;const D=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ta(e).J({index:"collectionGroupOverlayIndex",range:D},(N,W,re)=>{const ge=mr(this.serializer,W);m.size()<l||ge.largestBatchId===y?(m.set(ge.getKey(),ge),y=ge.largestBatchId):re.done()}).next(()=>m)}ht(e,r){return ta(e).put(function(l,m,y){const[D,N,W]=Ar(m,y.mutation.key);return{userId:m,collectionPath:N,documentId:W,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Xo(l.ct,y.mutation)}}(this.serializer,this.userId,r))}}function ta(u){return Ei(u,"documentOverlays")}class Ea{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(ci(e.integerValue));else if("doubleValue"in e){const s=ci(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),je(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=ko(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Co(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Gr(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):Pt()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),Ut.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Fa(u){if(0===u)return 8;let e=0;return!(u>>4)&&(e+=4,u<<=4),!(u>>6)&&(e+=2,u<<=2),!(u>>7)&&(e+=1),e}function Tu(u){const e=64-function(s){let l=0;for(let m=0;m<8;++m){const y=Fa(255&s[m]);if(l+=y,8!==y)break}return l}(u);return Math.ceil(e/8)}Ea.bt=new Ea;class rc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const r=this.Bt(e),s=Tu(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Bt(e),s=Tu(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(m){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,m,!1),new Uint8Array(y.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class zd{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Gl{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ws{constructor(){this.Gt=new rc,this.zt=new zd(this.Gt),this.jt=new Gl(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class _s{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new _s(this.indexId,this.documentKey,this.arrayValue,s)}}function Jo(u,e){let r=u.indexId-e.indexId;return 0!==r?r:(r=wu(u.arrayValue,e.arrayValue),0!==r?r:(r=wu(u.directionalValue,e.directionalValue),0!==r?r:Ut.comparator(u.documentKey,e.documentKey)))}function wu(u,e){for(let r=0;r<u.length&&r<e.length;++r){const s=u[r]-e[r];if(0!==s)return s}return u.length-e.length}class nl{constructor(e){this.Yt=new Lr((r,s)=>zn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Bt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Pn(e);if(void 0!==r&&!this.nn(r))return!1;const s=Tn(e);let l=new Set,m=0,y=0;for(;m<s.length&&this.nn(s[m]);++m)l=l.add(s[m].fieldPath.canonicalString());if(m===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const N=s[m];if(!this.rn(D,N)||!this.sn(this.Zt[y++],N))return!1}++m}for(;m<s.length;++m)if(y>=this.Zt.length||!this.sn(this.Zt[y++],s[m]))return!1;return!0}on(){if(this.en)return null;let e=new Lr(zn.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Tr(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Tr(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Tr(s.field,"asc"===s.dir?0:1)));return new _n(_n.UNKNOWN_ID,this.collectionId,r,$n.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Lc(u){var e,r;if(Bt(u instanceof Rt||u instanceof gn),u instanceof Rt){if(u instanceof bs){const l=(null===(r=null===(e=u.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(m=>Rt.create(u.field,"==",m)))||[];return gn.create(l,"or")}return u}const s=u.filters.map(l=>Lc(l));return gn.create(s,u.op)}function ic(u){if(0===u.getFilters().length)return[];const e=da(Lc(u));return Bt(vp(e)),Uc(e)||rl(e)?[e]:e.getFilters()}function Uc(u){return u instanceof Rt}function rl(u){return u instanceof gn&&pi(u)}function vp(u){return Uc(u)||rl(u)||function(r){if(r instanceof gn&&Rn(r)){for(const s of r.getFilters())if(!Uc(s)&&!rl(s))return!1;return!0}return!1}(u)}function da(u){if(Bt(u instanceof Rt||u instanceof gn),u instanceof Rt)return u;if(1===u.filters.length)return da(u.filters[0]);const e=u.filters.map(s=>da(s));let r=gn.create(e,u.op);return r=jc(r),vp(r)?r:(Bt(r instanceof gn),Bt(ar(r)),Bt(r.filters.length>1),r.filters.reduce((s,l)=>zl(s,l)))}function zl(u,e){let r;return Bt(u instanceof Rt||u instanceof gn),Bt(e instanceof Rt||e instanceof gn),r=u instanceof Rt?e instanceof Rt?gn.create([u,e],"and"):Wd(u,e):e instanceof Rt?Wd(e,u):function(l,m){if(Bt(l.filters.length>0&&m.filters.length>0),ar(l)&&ar(m))return Ur(l,m.getFilters());const y=Rn(l)?l:m,D=Rn(l)?m:l,N=y.filters.map(W=>zl(W,D));return gn.create(N,"or")}(u,e),jc(r)}function Wd(u,e){if(ar(e))return Ur(e,u.getFilters());{const r=e.filters.map(s=>zl(u,s));return gn.create(r,"or")}}function jc(u){if(Bt(u instanceof Rt||u instanceof gn),u instanceof Rt)return u;const e=u.getFilters();if(1===e.length)return jc(e[0]);if(wr(u))return u;const r=e.map(l=>jc(l)),s=[];return r.forEach(l=>{l instanceof Rt?s.push(l):l instanceof gn&&(l.op===u.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:gn.create(s,u.op)}class $g{constructor(){this._n=new Wl}addToCollectionParentIndex(e,r){return this._n.add(r),Ke.resolve()}getCollectionParents(e,r){return Ke.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return Ke.resolve()}deleteFieldIndex(e,r){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,r){return Ke.resolve()}getDocumentsMatchingTarget(e,r){return Ke.resolve(null)}getIndexType(e,r){return Ke.resolve(0)}getFieldIndexes(e,r){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,r){return Ke.resolve(un.min())}getMinOffsetFromCollectionGroup(e,r){return Ke.resolve(un.min())}updateCollectionGroup(e,r,s){return Ke.resolve()}updateIndexEntries(e,r){return Ke.resolve()}}class Wl{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new Lr(fn.comparator),m=!l.has(s);return this.index[r]=l.add(s),m}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Lr(fn.comparator)).toArray()}}const Bc=new Uint8Array(0);class il{constructor(e,r){this.databaseId=r,this.an=new Wl,this.un=new So(s=>go(s),(s,l)=>is(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const m={collectionId:s,parent:Ot(l)};return tf(e).put(m)}return Ke.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[Bn(r),""],!1,!0);return tf(e).U(l).next(m=>{for(const y of m){if(y.collectionId!==r)break;s.push(ln(y.parent))}return s})}addFieldIndex(e,r){const s=oc(e),l={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var D;delete l.indexId;const m=s.add(l);if(r.indexState){const y=ha(e);return m.next(D=>{y.put(Pr(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const s=oc(e),l=ha(e),m=js(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=oc(e),s=js(e),l=ha(e);return r.j().next(()=>s.j()).next(()=>l.j())}createTargetIndexes(e,r){return Ke.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const m=new nl(s).on();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,r){const s=js(e);let l=!0;const m=new Map;return Ke.forEach(this.cn(r),y=>this.ln(e,y).next(D=>{l&&(l=!!D),m.set(y,D)})).next(()=>{if(l){let y=cr();const D=[];return Ke.forEach(m,(N,W)=>{var jn;be("IndexedDbIndexManager",`Using index ${jn=N,`id=${jn.indexId}|cg=${jn.collectionGroup}|f=${jn.fields.map(Rr=>`${Rr.fieldPath}:${Rr.kind}`).join(",")}`} to execute ${go(r)}`);const re=function(jn,Rr){const Mi=Pn(Rr);if(void 0===Mi)return null;for(const Zr of oa(jn,Mi.fieldPath))switch(Zr.op){case"array-contains-any":return Zr.value.arrayValue.values||[];case"array-contains":return[Zr.value]}return null}(W,N),ge=function(jn,Rr){const Mi=new Map;for(const Zr of Tn(Rr))for(const tt of oa(jn,Zr.fieldPath))switch(tt.op){case"==":case"in":Mi.set(Zr.fieldPath.canonicalString(),tt.value);break;case"not-in":case"!=":return Mi.set(Zr.fieldPath.canonicalString(),tt.value),Array.from(Mi.values())}return null}(W,N),Ue=function(jn,Rr){const Mi=[];let Zr=!0;for(const tt of Tn(Rr)){const ke=0===tt.kind?Hi(jn,tt.fieldPath,jn.startAt):Os(jn,tt.fieldPath,jn.startAt);Mi.push(ke.value),Zr&&(Zr=ke.inclusive)}return new ye(Mi,Zr)}(W,N),dt=function(jn,Rr){const Mi=[];let Zr=!0;for(const tt of Tn(Rr)){const ke=0===tt.kind?Os(jn,tt.fieldPath,jn.endAt):Hi(jn,tt.fieldPath,jn.endAt);Mi.push(ke.value),Zr&&(Zr=ke.inclusive)}return new ye(Mi,Zr)}(W,N),Ht=this.hn(N,W,Ue),an=this.hn(N,W,dt),Xt=this.Pn(N,W,ge),Vn=this.In(N.indexId,re,Ht,Ue.inclusive,an,dt.inclusive,Xt);return Ke.forEach(Vn,Xn=>s.G(Xn,r.limit).next(jn=>{jn.forEach(Rr=>{const Mi=Ut.fromSegments(Rr.documentKey);y.has(Mi)||(y=y.add(Mi),D.push(Mi))})}))}).next(()=>D)}return Ke.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:ic(gn.create(e.filters,"and")).map(s=>ma(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,m,y,D){const N=(null!=r?r.length:1)*Math.max(s.length,m.length),W=N/(null!=r?r.length:1),re=[];for(let ge=0;ge<N;++ge){const Ue=r?this.Tn(r[ge/W]):Bc,dt=this.En(e,Ue,s[ge%W],l),Ht=this.dn(e,Ue,m[ge%W],y),an=D.map(Xt=>this.En(e,Ue,Xt,!0));re.push(...this.createRange(dt,Ht,an))}return re}En(e,r,s,l){const m=new _s(e,Ut.empty(),r,s);return l?m:m.Jt()}dn(e,r,s,l){const m=new _s(e,Ut.empty(),r,s);return l?m.Jt():m}ln(e,r){const s=new nl(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(m=>{let y=null;for(const D of m)s.tn(D)&&(!y||D.fields.length>y.fields.length)&&(y=D);return y})}getIndexType(e,r){let s=2;const l=this.cn(r);return Ke.forEach(l,m=>this.ln(e,m).next(y=>{y?0!==s&&y.fields.length<function(N){let W=new Lr(zn.comparator),re=!1;for(const ge of N.filters)for(const Ue of ge.getFlattenedFilters())Ue.field.isKeyField()||("array-contains"===Ue.op||"array-contains-any"===Ue.op?re=!0:W=W.add(Ue.field));for(const ge of N.orderBy)ge.field.isKeyField()||(W=W.add(ge.field));return W.size+(re?1:0)}(m)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new ws;for(const l of Tn(e)){const m=r.data.field(l.fieldPath);if(null==m)return null;const y=s.Ht(l.kind);Ea.bt.Pt(m,y)}return s.Wt()}Tn(e){const r=new ws;return Ea.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new ws;return Ea.bt.Pt(Zt(this.databaseId,r),s.Ht(function(m){const y=Tn(m);return 0===y.length?0:y[y.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new ws);let m=0;for(const y of Tn(e)){const D=s[m++];for(const N of l)if(this.Vn(r,y.fieldPath)&&dr(D))l=this.mn(l,y,D);else{const W=N.Ht(y.kind);Ea.bt.Pt(D,W)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],m=[];for(const y of s.arrayValue.values||[])for(const D of l){const N=new ws;N.seed(D.Wt()),Ea.bt.Pt(y,N.Ht(r.kind)),m.push(N)}return m}Vn(e,r){return!!e.filters.find(s=>s instanceof Rt&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=oc(e),l=ha(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(m=>{const y=[];return Ke.forEach(m,D=>l.get([D.indexId,this.uid]).next(N=>{y.push(function(re,ge){const Ue=ge?new $n(ge.sequenceNumber,new un(ne(ge.readTime),new Ut(ln(ge.documentKey)),ge.largestBatchId)):$n.empty(),dt=re.fields.map(([Ht,an])=>new Tr(zn.fromServerFormat(Ht),an));return new _n(re.indexId,re.collectionGroup,dt,Ue)}(D,N))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const m=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==m?m:Gt(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=oc(e),m=ha(e);return this.gn(e).next(y=>l.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>Ke.forEach(D,N=>m.put(Pr(N.indexId,this.uid,y,s)))))}updateIndexEntries(e,r){const s=new Map;return Ke.forEach(r,(l,m)=>{const y=s.get(l.collectionGroup);return(y?Ke.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),Ke.forEach(D,N=>this.pn(e,l,N).next(W=>{const re=this.yn(m,N);return W.isEqual(re)?Ke.resolve():this.wn(e,m,N,W,re)}))))})}Sn(e,r,s,l){return js(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return js(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=js(e);let m=new Lr(Jo);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(y,D)=>{m=m.add(new _s(s.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>m)}yn(e,r){let s=new Lr(Jo);const l=this.An(r,e);if(null==l)return s;const m=Pn(r);if(null!=m){const y=e.data.field(m.fieldPath);if(dr(y))for(const D of y.arrayValue.values||[])s=s.add(new _s(r.indexId,e.key,this.Tn(D),l))}else s=s.add(new _s(r.indexId,e.key,Bc,l));return s}wn(e,r,s,l,m){be("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(N,W,re,ge,Ue){const dt=N.getIterator(),Ht=W.getIterator();let an=lo(dt),Xt=lo(Ht);for(;an||Xt;){let Vn=!1,Xn=!1;if(an&&Xt){const jn=re(an,Xt);jn<0?Xn=!0:jn>0&&(Vn=!0)}else null!=an?Xn=!0:Vn=!0;Vn?(ge(Xt),Xt=lo(Ht)):Xn?(Ue(an),an=lo(dt)):(an=lo(dt),Xt=lo(Ht))}}(l,m,Jo,D=>{y.push(this.Sn(e,r,s,D))},D=>{y.push(this.bn(e,r,s,D))}),Ke.waitFor(y)}gn(e){let r=1;return ha(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,m)=>{m.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((y,D)=>Jo(y,D)).filter((y,D,N)=>!D||0!==Jo(y,N[D-1]));const l=[];l.push(e);for(const y of s){const D=Jo(y,e),N=Jo(y,r);if(0===D)l[0]=e.Jt();else if(D>0&&N<0)l.push(y),l.push(y.Jt());else if(N>0)break}l.push(r);const m=[];for(let y=0;y<l.length;y+=2){if(this.Dn(l[y],l[y+1]))return[];m.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,Bc,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,Bc,[]]))}return m}Dn(e,r){return Jo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(yp)}getMinOffset(e,r){return Ke.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||Pt())).next(yp)}}function tf(u){return Ei(u,"collectionParents")}function js(u){return Ei(u,"indexEntries")}function oc(u){return Ei(u,"indexConfiguration")}function ha(u){return Ei(u,"indexState")}function yp(u){Bt(0!==u.length);let e=u[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<u.length;s++){const l=u[s].indexState.offset;ni(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new un(e.readTime,e.documentKey,r)}const ol={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lo{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nf(u,e,r){const s=u.store("mutations"),l=u.store("documentMutations"),m=[],y=IDBKeyRange.only(r.batchId);let D=0;const N=s.J({range:y},(re,ge,Ue)=>(D++,Ue.delete()));m.push(N.next(()=>{Bt(1===D)}));const W=[];for(const re of r.mutations){const ge=li(e,re.key.path,r.batchId);m.push(l.delete(ge)),W.push(re.key)}return Ke.waitFor(m).next(()=>W)}function Zo(u){if(!u)return 0;let e;if(u.document)e=u.document;else if(u.unknownDocument)e=u.unknownDocument;else{if(!u.noDocument)throw Pt();e=u.noDocument}return JSON.stringify(e).length}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class Kl{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){Bt(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Kl(m,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cs(e).J({index:"userMutationsIndex",range:s},(l,m,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const m=Va(e),y=cs(e);return y.add({}).next(D=>{Bt("number"==typeof D);const N=new Ri(D,r,s,l),W=function(dt,Ht,an){const Xt=an.baseMutations.map(Xn=>Xo(dt.ct,Xn)),Vn=an.mutations.map(Xn=>Xo(dt.ct,Xn));return{userId:Ht,batchId:an.batchId,localWriteTimeMs:an.localWriteTime.toMillis(),baseMutations:Xt,mutations:Vn}}(this.serializer,this.userId,N),re=[];let ge=new Lr((Ue,dt)=>Gt(Ue.canonicalString(),dt.canonicalString()));for(const Ue of l){const dt=li(this.userId,Ue.key.path,D);ge=ge.add(Ue.key.path.popLast()),re.push(y.put(W)),re.push(m.put(dt,br))}return ge.forEach(Ue=>{re.push(this.indexManager.addToCollectionParentIndex(e,Ue))}),e.addOnCommittedListener(()=>{this.Cn[D]=N.keys()}),Ke.waitFor(re).next(()=>N)})}lookupMutationBatch(e,r){return cs(e).get(r).next(s=>s?(Bt(s.userId===this.userId),Ee(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?Ke.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let m=null;return cs(e).J({index:"userMutationsIndex",range:l},(y,D,N)=>{D.userId===this.userId&&(Bt(D.batchId>=s),m=Ee(this.serializer,D)),N.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return cs(e).J({index:"userMutationsIndex",range:r,reverse:!0},(l,m,y)=>{s=m.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cs(e).U("userMutationsIndex",r).next(s=>s.map(l=>Ee(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=An(this.userId,r.path),l=IDBKeyRange.lowerBound(s),m=[];return Va(e).J({range:l},(y,D,N)=>{const[W,re,ge]=y,Ue=ln(re);if(W===this.userId&&r.path.isEqual(Ue))return cs(e).get(ge).next(dt=>{if(!dt)throw Pt();Bt(dt.userId===this.userId),m.push(Ee(this.serializer,dt))});N.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Lr(Gt);const l=[];return r.forEach(m=>{const y=An(this.userId,m.path),D=IDBKeyRange.lowerBound(y),N=Va(e).J({range:D},(W,re,ge)=>{const[Ue,dt,Ht]=W,an=ln(dt);Ue===this.userId&&m.path.isEqual(an)?s=s.add(Ht):ge.done()});l.push(N)}),Ke.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,m=An(this.userId,s),y=IDBKeyRange.lowerBound(m);let D=new Lr(Gt);return Va(e).J({range:y},(N,W,re)=>{const[ge,Ue,dt]=N,Ht=ln(Ue);ge===this.userId&&s.isPrefixOf(Ht)?Ht.length===l&&(D=D.add(dt)):re.done()}).next(()=>this.Fn(e,D))}Fn(e,r){const s=[],l=[];return r.forEach(m=>{l.push(cs(e).get(m).next(y=>{if(null===y)throw Pt();Bt(y.userId===this.userId),s.push(Ee(this.serializer,y))}))}),Ke.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return nf(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),Ke.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ke.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Va(e).J({range:s},(m,y,D)=>{if(m[0]===this.userId){const N=ln(m[1]);l.push(N)}else D.done()}).next(()=>{Bt(0===l.length)})})}containsKey(e,r){return sl(e,this.userId,r)}xn(e){return Au(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sl(u,e,r){const s=An(e,r.path),l=s[1],m=IDBKeyRange.lowerBound(s);let y=!1;return Va(u).J({range:m,H:!0},(D,N,W)=>{const[re,ge,Ue]=D;re===e&&ge===l&&(y=!0),W.done()}).next(()=>y)}function cs(u){return Ei(u,"mutations")}function Va(u){return Ei(u,"documentMutations")}function Au(u){return Ei(u,"mutationQueues")}class Bs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Bs(0)}static Ln(){return new Bs(-1)}}class rf{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Bs(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Vt.fromTimestamp(new Wt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>sc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Bt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const m=[];return sc(e).J((y,D)=>{const N=pt(D);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(l++,m.push(this.removeTargetData(e,N)))}).next(()=>Ke.waitFor(m)).next(()=>l)}forEachTarget(e,r){return sc(e).J((s,l)=>{const m=pt(l);r(m)})}Bn(e){return ql(e).get("targetGlobalKey").next(r=>(Bt(null!==r),r))}kn(e,r){return ql(e).put("targetGlobalKey",r)}qn(e,r){return sc(e).put(ht(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=go(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let m=null;return sc(e).J({range:l,index:"queryTargetsIndex"},(y,D,N)=>{const W=pt(D);is(r,W.target)&&(m=W,N.done())}).next(()=>m)}addMatchingKeys(e,r,s){const l=[],m=La(e);return r.forEach(y=>{const D=Ot(y.path);l.push(m.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,y))}),Ke.waitFor(l)}removeMatchingKeys(e,r,s){const l=La(e);return Ke.forEach(r,m=>{const y=Ot(m.path);return Ke.waitFor([l.delete([s,y]),this.referenceDelegate.removeReference(e,s,m)])})}removeMatchingKeysForTargetId(e,r){const s=La(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=La(e);let m=cr();return l.J({range:s,H:!0},(y,D,N)=>{const W=ln(y[1]),re=new Ut(W);m=m.add(re)}).next(()=>m)}containsKey(e,r){const s=Ot(r.path),l=IDBKeyRange.bound([s],[Bn(s)],!1,!0);let m=0;return La(e).J({index:"documentTargetsIndex",H:!0,range:l},([y,D],N,W)=>{0!==y&&(m++,W.done())}).next(()=>m>0)}ot(e,r){return sc(e).get(r).next(s=>s?pt(s):null)}}function sc(u){return Ei(u,"targets")}function ql(u){return Ei(u,"targetGlobal")}function La(u){return Ei(u,"targetDocuments")}function Kd([u,e],[r,s]){const l=Gt(u,r);return 0===l?Gt(e,s):l}class qd{constructor(e){this.Kn=e,this.buffer=new Lr(Kd),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Kd(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class $c{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,a.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Mn(s)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Nn(s)}yield r.zn(3e5)}))}}class na{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return Ke.resolve(F.oe);const s=new qd(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(ol)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ol):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,m,y,D,N,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ge=>(ge>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ge}`),l=this.params.maximumSequenceNumbersToCollect):l=ge,y=Date.now(),this.nthSequenceNumber(e,l))).next(ge=>(s=ge,D=Date.now(),this.removeTargets(e,s,r))).next(ge=>(m=ge,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(ge=>(W=Date.now(),wt()<=Ae.$b.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-re}ms\n\tDetermined least recently used ${l} in `+(D-y)+`ms\n\tRemoved ${m} targets in `+(N-D)+`ms\n\tRemoved ${ge} documents in `+(W-N)+`ms\nTotal Duration: ${W-re}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:m,documentsRemoved:ge})))}}class sf{constructor(e,r){this.db=e,this.garbageCollector=function Hc(u,e){return new na(u,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return al(e,s)}removeReference(e,r,s){return al(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return al(e,r)}er(e,r){return function(l,m){let y=!1;return Au(l).Y(D=>sl(l,D,m).next(N=>(N&&(y=!0),Ke.resolve(!N)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let m=0;return this.Xn(e,(y,D)=>{if(D<=r){const N=this.er(e,y).next(W=>{if(!W)return m++,s.getEntry(e,y).next(()=>(s.removeEntry(y,Vt.min()),La(e).delete([0,Ot(y.path)])))});l.push(N)}}).next(()=>Ke.waitFor(l)).next(()=>s.apply(e)).next(()=>m)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return al(e,r)}Xn(e,r){const s=La(e);let l,m=F.oe;return s.J({index:"documentTargetsIndex"},([y,D],{path:N,sequenceNumber:W})=>{0===y?(m!==F.oe&&r(new Ut(ln(l)),m),m=W,l=N):m=F.oe}).next(()=>{m!==F.oe&&r(new Ut(ln(l)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function al(u,e){return La(u).put((l=u.currentSequenceNumber,{targetId:0,path:Ot(e.path),sequenceNumber:l}));var l}class ac{constructor(){this.changes=new So(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,z.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Ke.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ep{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ca(e).put(s)}removeEntry(e,r,s){return Ca(e).delete(function(m,y){const D=m.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],M(y),D[D.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=z.newInvalidDocument(r);return Ca(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zc(r))},(l,m)=>{s=this.nr(r,m)}).next(()=>s)}rr(e,r){let s={size:0,document:z.newInvalidDocument(r)};return Ca(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zc(r))},(l,m)=>{s={document:this.nr(r,m),size:Zo(m)}}).next(()=>s)}getEntries(e,r){let s=si();return this.ir(e,r,(l,m)=>{const y=this.nr(l,m);s=s.insert(l,y)}).next(()=>s)}sr(e,r){let s=si(),l=new yr(Ut.comparator);return this.ir(e,r,(m,y)=>{const D=this.nr(m,y);s=s.insert(m,D),l=l.insert(m,Zo(y))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return Ke.resolve();let l=new Lr(Du);r.forEach(N=>l=l.add(N));const m=IDBKeyRange.bound(zc(l.first()),zc(l.last())),y=l.getIterator();let D=y.getNext();return Ca(e).J({index:"documentKeyIndex",range:m},(N,W,re)=>{const ge=Ut.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;D&&Du(D,ge)<0;)s(D,null),D=y.getNext();D&&D.isEqual(ge)&&(s(D,W),D=y.hasNext()?y.getNext():null),D?re.$(zc(D)):re.done()}).next(()=>{for(;D;)s(D,null),D=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,m){const y=r.path,D=[y.popLast().toArray(),y.lastSegment(),M(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(e).U(IDBKeyRange.bound(D,N,!0)).next(W=>{m?.incrementDocumentReadCount(W.length);let re=si();for(const ge of W){const Ue=this.nr(Ut.fromSegments(ge.prefixPath.concat(ge.collectionGroup,ge.documentId)),ge);Ue.isFoundDocument()&&(so(r,Ue)||l.has(Ue.key))&&(re=re.insert(Ue.key,Ue))}return re})}getAllFromCollectionGroup(e,r,s,l){let m=si();const y=Wc(r,s),D=Wc(r,un.max());return Ca(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,D,!0)},(N,W,re)=>{const ge=this.nr(Ut.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);m=m.insert(ge.key,ge),m.size===l&&re.done()}).next(()=>m)}newChangeBuffer(e){return new Yd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Gc(e).get("remoteDocumentGlobalKey").next(r=>(Bt(!!r),r))}tr(e,r){return Gc(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function R(u,e){let r;if(e.document)r=Ao(u.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ut.fromSegments(e.noDocument.path),l=ne(e.noDocument.readTime);r=z.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pt();{const s=Ut.fromSegments(e.unknownDocument.path),l=ne(e.unknownDocument.version);r=z.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const m=new Wt(l[0],l[1]);return Vt.fromTimestamp(m)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Vt.min()))return s}return z.newInvalidDocument(e)}}function Wo(u){return new Ep(u)}class Yd extends ac{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new So(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new Lr((m,y)=>Gt(m.canonicalString(),y.canonicalString()));return this.changes.forEach((m,y)=>{const D=this.ur.get(m);if(r.push(this.ar.removeEntry(e,m,D.readTime)),y.isValidDocument()){const N=I(this.ar.serializer,y);l=l.add(m.path.popLast());const W=Zo(N);s+=W-D.size,r.push(this.ar.addEntry(e,m,N))}else if(s-=D.size,this.trackRemovals){const N=I(this.ar.serializer,y.convertToNoDocument(Vt.min()));r.push(this.ar.addEntry(e,m,N))}}),l.forEach(m=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.ar.updateMetadata(e,s)),Ke.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((m,y)=>{this.ur.set(m,{size:y,readTime:s.get(m).readTime})}),s))}}function Gc(u){return Ei(u,"remoteDocumentGlobal")}function Ca(u){return Ei(u,"remoteDocumentsV14")}function zc(u){const e=u.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wc(u,e){const r=e.documentKey.path.toArray();return[u,M(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Du(u,e){const r=u.path.toArray(),s=e.path.toArray();let l=0;for(let m=0;m<r.length-2&&m<s.length-2;++m)if(l=Gt(r[m],s[m]),l)return l;return l=Gt(r.length,s.length),l||(l=Gt(r[r.length-2],s[s.length-2]),l||Gt(r[r.length-1],s[s.length-1]))}class xu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class As{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&we(s.mutation,l,$i.empty(),Wt.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,cr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=cr()){const l=To();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(m=>{let y=Wi();return m.forEach((D,N)=>{y=y.insert(D,N.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const s=To();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,cr()))}populateOverlays(e,r,s){const l=[];return s.forEach(m=>{r.has(m)||l.push(m)}),this.documentOverlayCache.getOverlays(e,l).next(m=>{m.forEach((y,D)=>{r.set(y,D)})})}computeViews(e,r,s,l){let m=si();const y=ss(),D=ss();return r.forEach((N,W)=>{const re=s.get(W.key);l.has(W.key)&&(void 0===re||re.mutation instanceof Nr)?m=m.insert(W.key,W):void 0!==re?(y.set(W.key,re.mutation.getFieldMask()),we(re.mutation,W,re.mutation.getFieldMask(),Wt.now())):y.set(W.key,$i.empty())}),this.recalculateAndSaveOverlays(e,m).next(N=>(N.forEach((W,re)=>y.set(W,re)),r.forEach((W,re)=>{var ge;return D.set(W,new xu(re,null!==(ge=y.get(W))&&void 0!==ge?ge:null))}),D))}recalculateAndSaveOverlays(e,r){const s=ss();let l=new yr((y,D)=>y-D),m=cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const D of y)D.keys().forEach(N=>{const W=r.get(N);if(null===W)return;let re=s.get(N)||$i.empty();re=D.applyToLocalView(W,re),s.set(N,re);const ge=(l.get(D.batchId)||cr()).add(N);l=l.insert(D.batchId,ge)})}).next(()=>{const y=[],D=l.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),W=N.key,re=N.value,ge=ks();re.forEach(Ue=>{if(!m.has(Ue)){const dt=U(r.get(Ue),s.get(Ue));null!==dt&&ge.set(Ue,dt),m=m.add(Ue)}}),y.push(this.documentOverlayCache.saveOverlays(e,W,ge))}return Ke.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return Ut.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):xa(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var y}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(m=>{const y=l-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-m.size):Ke.resolve(To());let D=-1,N=m;return y.next(W=>Ke.forEach(W,(re,ge)=>(D<ge.largestBatchId&&(D=ge.largestBatchId),m.get(re)?Ke.resolve():this.remoteDocumentCache.getEntry(e,re).next(Ue=>{N=N.insert(re,Ue)}))).next(()=>this.populateOverlays(e,W,m)).next(()=>this.computeViews(e,N,W,cr())).next(re=>({batchId:D,changes:Mc(re)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ut(r)).next(s=>{let l=Wi();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const m=r.collectionGroup;let y=Wi();return this.indexManager.getCollectionParents(e,m).next(D=>Ke.forEach(D,N=>{const W=(ge=r,Ue=N.child(m),new Ns(Ue,null,ge.explicitOrderBy.slice(),ge.filters.slice(),ge.limit,ge.limitType,ge.startAt,ge.endAt));var ge,Ue;return this.getDocumentsMatchingCollectionQuery(e,W,s,l).next(re=>{re.forEach((ge,Ue)=>{y=y.insert(ge,Ue)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,s,l){let m;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(y=>(m=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,m,l))).next(y=>{m.forEach((N,W)=>{const re=W.getKey();null===y.get(re)&&(y=y.insert(re,z.newInvalidDocument(re)))});let D=Wi();return y.forEach((N,W)=>{const re=m.get(N);void 0!==re&&we(re.mutation,W,$i.empty(),Wt.now()),so(r,W)&&(D=D.insert(N,W))}),D})}}class cc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return Ke.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:eo(l.createTime)}),Ke.resolve();var l}getNamedQuery(e,r){return Ke.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:vn(l.bundledQuery),readTime:eo(l.readTime)}),Ke.resolve();var l}}class Xd{constructor(){this.overlays=new yr(Ut.comparator),this.hr=new Map}getOverlay(e,r){return Ke.resolve(this.overlays.get(r))}getOverlays(e,r){const s=To();return Ke.forEach(r,l=>this.getOverlay(e,l).next(m=>{null!==m&&s.set(l,m)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,m)=>{this.ht(e,r,m)}),Ke.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(m=>this.overlays=this.overlays.remove(m)),this.hr.delete(s)),Ke.resolve()}getOverlaysForCollection(e,r,s){const l=To(),m=r.length+1,y=new Ut(r.child("")),D=this.overlays.getIteratorFrom(y);for(;D.hasNext();){const N=D.getNext().value,W=N.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===m&&N.largestBatchId>s&&l.set(N.getKey(),N)}return Ke.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let m=new yr((W,re)=>W-re);const y=this.overlays.getIterator();for(;y.hasNext();){const W=y.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>s){let re=m.get(W.largestBatchId);null===re&&(re=To(),m=m.insert(W.largestBatchId,re)),re.set(W.getKey(),W)}}const D=To(),N=m.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((W,re)=>D.set(W,re)),!(D.size()>=l)););return Ke.resolve(D)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const y=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new $o(r,s));let m=this.hr.get(r);void 0===m&&(m=cr(),this.hr.set(r,m)),this.hr.set(r,m.add(s.key))}}class uc{constructor(){this.Pr=new Lr(ao.Ir),this.Tr=new Lr(ao.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new ao(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new ao(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Ut(new fn([])),s=new ao(r,e),l=new ao(r,e+1),m=[];return this.Tr.forEachInRange([s,l],y=>{this.Ar(y),m.push(y.key)}),m}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Ut(new fn([])),s=new ao(r,e),l=new ao(r,e+1);let m=cr();return this.Tr.forEachInRange([s,l],y=>{m=m.add(y.key)}),m}containsKey(e){const r=new ao(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class ao{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Ut.comparator(e.key,r.key)||Gt(e.pr,r.pr)}static Er(e,r){return Gt(e.pr,r.pr)||Ut.comparator(e.key,r.key)}}class Cp{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Lr(ao.Ir)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const m=this.yr;this.yr++;const y=new Ri(m,r,s,l);this.mutationQueue.push(y);for(const D of l)this.wr=this.wr.add(new ao(D.key,m)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Ke.resolve(y)}lookupMutationBatch(e,r){return Ke.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),m=l<0?0:l;return Ke.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new ao(r,0),l=new ao(r,Number.POSITIVE_INFINITY),m=[];return this.wr.forEachInRange([s,l],y=>{const D=this.Sr(y.pr);m.push(D)}),Ke.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Lr(Gt);return r.forEach(l=>{const m=new ao(l,0),y=new ao(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([m,y],D=>{s=s.add(D.pr)})}),Ke.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let m=s;Ut.isDocumentKey(m)||(m=m.child(""));const y=new ao(new Ut(m),0);let D=new Lr(Gt);return this.wr.forEachWhile(N=>{const W=N.key.path;return!!s.isPrefixOf(W)&&(W.length===l&&(D=D.add(N.pr)),!0)},y),Ke.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Bt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Ke.forEach(r.mutations,l=>{const m=new ao(l.key,r.batchId);return s=s.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new ao(r,0),l=this.wr.firstAfterOrEqual(s);return Ke.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return Ke.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class bp{constructor(e){this.vr=e,this.docs=new yr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),m=l?l.size:0,y=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:y}),this.size+=y-m,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Ke.resolve(s?s.document.mutableCopy():z.newInvalidDocument(r))}getEntries(e,r){let s=si();return r.forEach(l=>{const m=this.docs.get(l);s=s.insert(l,m?m.document.mutableCopy():z.newInvalidDocument(l))}),Ke.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let m=si();const y=r.path,D=new Ut(y.child("")),N=this.docs.getIteratorFrom(D);for(;N.hasNext();){const{key:W,value:{document:re}}=N.getNext();if(!y.isPrefixOf(W.path))break;W.path.length>y.length+1||ni(Ki(re),s)<=0||(l.has(re.key)||so(r,re))&&(m=m.insert(re.key,re.mutableCopy()))}return Ke.resolve(m)}getAllFromCollectionGroup(e,r,s,l){Pt()}Fr(e,r){return Ke.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new af(this)}getSize(e){return Ke.resolve(this.size)}}class af extends ac{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),Ke.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class Hg{constructor(e){this.persistence=e,this.Mr=new So(r=>go(r),is),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new uc,this.targetCount=0,this.Lr=Bs.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),Ke.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Bs(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,Ke.resolve()}updateTargetData(e,r){return this.qn(r),Ke.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,r,s){let l=0;const m=[];return this.Mr.forEach((y,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Mr.delete(y),m.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),Ke.waitFor(m).next(()=>l)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return Ke.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),Ke.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,m=[];return l&&r.forEach(y=>{m.push(l.markPotentiallyOrphaned(e,y))}),Ke.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),Ke.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return Ke.resolve(s)}containsKey(e,r){return Ke.resolve(this.Nr.containsKey(r))}}class cf{constructor(e,r){this.Br={},this.overlays={},this.kr=new F(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Hg(this),this.indexManager=new $g,this.remoteDocumentCache=new bp(s=>this.referenceDelegate.Kr(s)),this.serializer=new w(r),this.$r=new cc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Xd,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new Cp(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){be("MemoryPersistence","Starting transaction:",e);const l=new Ip(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(m=>this.referenceDelegate.Wr(l).next(()=>m)).toPromise().then(m=>(l.raiseOnCommittedEvent(),m))}Gr(e,r){return Ke.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Ip extends vr{constructor(e){super(),this.currentSequenceNumber=e}}class Yl{constructor(e){this.persistence=e,this.zr=new uc,this.jr=null}static Hr(e){return new Yl(e)}get Jr(){if(this.jr)return this.jr;throw Pt()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),Ke.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),Ke.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),Ke.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(m=>this.Jr.add(m.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Jr,s=>{const l=Ut.fromPath(s);return this.Yr(e,l).next(m=>{m||r.removeEntry(l,Vt.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return Ke.or([()=>Ke.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Su{constructor(e){this.serializer=e}O(e,r,s,l){const m=new mt("createOrUpgrade",r);var N;s<1&&l>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rr,{unique:!0}),N.createObjectStore("documentMutations"),qc(e),function(N){N.createObjectStore("remoteDocuments")}(e));let y=Ke.resolve();return s<3&&l>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),qc(e)),y=y.next(()=>function(N){const W=N.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",re)}(m))),s<4&&l>=4&&(0!==s&&(y=y.next(()=>function(N,W){return W.store("mutations").U().next(re=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rr,{unique:!0});const ge=W.store("mutations"),Ue=re.map(dt=>ge.put(dt));return Ke.waitFor(Ue)})}(e,m))),y=y.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(y=y.next(()=>this.Xr(m))),s<6&&l>=6&&(y=y.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ei(m)))),s<7&&l>=7&&(y=y.next(()=>this.ti(m))),s<8&&l>=8&&(y=y.next(()=>this.ni(e,m))),s<9&&l>=9&&(y=y.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(y=y.next(()=>this.ri(m))),s<11&&l>=11&&(y=y.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(y=y.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:On});W.createIndex("collectionPathOverlayIndex",kn,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Kr,{unique:!1})}(e)})),s<13&&l>=13&&(y=y.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:Oo});W.createIndex("documentKeyIndex",ri),W.createIndex("collectionGroupIndex",Bi)}(e)).next(()=>this.ii(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(y=y.next(()=>this.si(e,m))),s<15&&l>=15&&(y=y.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:fe}).createIndex("sequenceNumberIndex",Et,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:en}).createIndex("documentKeyIndex",Dn,{unique:!1})}(e))),s<16&&l>=16&&(y=y.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),y}ei(e){let r=0;return e.store("remoteDocuments").J((s,l)=>{r+=Zo(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(l=>Ke.forEach(l,m=>{const y=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",y).next(D=>Ke.forEach(D,N=>{Bt(N.userId===m.userId);const W=Ee(this.serializer,N);return nf(e,m.userId,W).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const m=[];return s.J((y,D)=>{const N=new fn(y),W=[0,Ot(N)];m.push(r.get(W).next(re=>re?Ke.resolve():r.put({targetId:0,path:Ot(N),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(m))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Te});const s=r.store("collectionParents"),l=new Wl,m=y=>{if(l.add(y)){const D=y.lastSegment(),N=y.popLast();return s.put({collectionId:D,parent:Ot(N)})}};return r.store("remoteDocuments").J({H:!0},(y,D)=>{const N=new fn(y);return m(N.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([y,D,N],W)=>{const re=ln(D);return m(re.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,l)=>{const m=pt(l),y=ht(this.serializer,m);return r.put(y)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.J((m,y)=>{const D=r.store("remoteDocumentsV14"),N=(ge=y,ge.document?new Ut(fn.fromString(ge.document.name).popFirst(5)):ge.noDocument?Ut.fromSegments(ge.noDocument.path):ge.unknownDocument?Ut.fromSegments(ge.unknownDocument.path):Pt()).path.toArray(),W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var ge;l.push(D.put(W))}).next(()=>Ke.waitFor(l))}si(e,r){const s=r.store("mutations"),l=Wo(this.serializer),m=new cf(Yl.Hr,this.serializer.ct);return s.U().next(y=>{const D=new Map;return y.forEach(N=>{var W;let re=null!==(W=D.get(N.userId))&&void 0!==W?W:cr();Ee(this.serializer,N).keys().forEach(ge=>re=re.add(ge)),D.set(N.userId,re)}),Ke.forEach(D,(N,W)=>{const re=new ot(W),ge=la.lt(this.serializer,re),Ue=m.getIndexManager(re),dt=Kl.lt(re,this.serializer,Ue,m.referenceDelegate);return new As(l,dt,ge,Ue).recalculateAndSaveOverlaysForDocumentKeys(new Es(r,F.oe),N).next()})})}}function qc(u){u.createObjectStore("targetDocuments",{keyPath:Lt}).createIndex("documentTargetsIndex",Ce,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pe,{unique:!0}),u.createObjectStore("targetGlobal")}const Qd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Do{constructor(e,r,s,l,m,y,D,N,W,re,ge=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=m,this.window=y,this.document=D,this._i=W,this.ai=re,this.ui=ge,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ue=>Promise.resolve(),!Do.D())throw new le(Me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sf(this,l),this.Ti=r+"main",this.serializer=new w(N),this.Ei=new ie(this.Ti,this.ui,new Su(this.serializer)),this.Qr=new rf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Wo(this.serializer),this.$r=new ai,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===re&&Jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(Me.FAILED_PRECONDITION,Qd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new F(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,a.A)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,a.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,a.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Mn(e))return be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return cl(e).get("owner").next(r=>Ke.resolve(this.Si(r)))}bi(e){return lc(e).delete(this.clientId)}Di(){var e=this;return(0,a.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Ei(s,"clientMetadata");return l.U().next(m=>{const y=e.vi(m,18e5),D=m.filter(N=>-1===y.indexOf(N));return Ke.forEach(D,N=>l.delete(N.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Ke.resolve(!0):cl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new le(Me.FAILED_PRECONDITION,Qd);return!1}}return!(!this.networkEnabled||!this.inForeground)||lc(e).U().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&be("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,a.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Es(r,F.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>lc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Kl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new il(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return la.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){be("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",m=16===(N=this.ui)?ki:15===N?ys:14===N?Mr:13===N?Ko:12===N?Ni:11===N?Vr:void Pt();var N;let y;return this.Ei.runTransaction(e,l,m,D=>(y=new Es(D,this.kr?this.kr.next():F.oe),"readwrite-primary"===r?this.gi(y).next(N=>!!N||this.pi(y)).next(N=>{if(!N)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new le(Me.FAILED_PRECONDITION,qn);return s(y)}).next(N=>this.wi(y).next(()=>N)):this.ki(y).next(()=>s(y)))).then(D=>(y.raiseOnCommittedEvent(),D))}ki(e){return cl(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new le(Me.FAILED_PRECONDITION,Qd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cl(e).put("owner",r)}static D(){return ie.D()}yi(e){const r=cl(e);return r.get("owner").next(s=>this.Si(s)?(be("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ke.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Jt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,he.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return be("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cl(u){return Ei(u,"owner")}function lc(u){return Ei(u,"clientMetadata")}function Jd(u,e){let r=u.projectId;return u.isDefaultDatabase||(r+="."+u.database),"firestore/"+e+"/"+r+"/"}class Po{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=cr(),l=cr();for(const m of r.docChanges)switch(m.type){case 0:s=s.add(m.doc.key);break;case 1:l=l.add(m.doc.key)}return new Po(e,r.fromCache,s,l)}}class dc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Pu{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,he.nr)()?8:Ie((0,he.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const m={result:null};return this.ji(e,r).next(y=>{m.result=y}).next(()=>{if(!m.result)return this.Hi(e,r,l,s).next(y=>{m.result=y})}).next(()=>{if(m.result)return;const y=new dc;return this.Ji(e,r,y).next(D=>{if(m.result=D,this.Ui)return this.Yi(e,r,y,D.size)})}).next(()=>m.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(wt()<=Ae.$b.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",mo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ke.resolve()):(wt()<=Ae.$b.DEBUG&&be("QueryEngine","Query:",mo(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(wt()<=Ae.$b.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",mo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Y(r))):Ke.resolve())}ji(e,r){if(sa(r))return Ke.resolve(null);let s=Y(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=yn(r,null,"F"),s=Y(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(m=>{const y=cr(...m);return this.zi.getDocuments(e,y).next(D=>this.indexManager.getMinOffset(e,s).next(N=>{const W=this.Zi(r,D);return this.Xi(r,W,y,N.readTime)?this.ji(e,yn(r,null,"F")):this.es(e,W,r,N)}))})))}Hi(e,r,s,l){return sa(r)||l.isEqual(Vt.min())?Ke.resolve(null):this.zi.getDocuments(e,s).next(m=>{const y=this.Zi(r,m);return this.Xi(r,y,s,l)?Ke.resolve(null):(wt()<=Ae.$b.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),mo(r)),this.es(e,y,r,ti(l,-1)).next(D=>D))})}Zi(e,r){let s=new Lr(jo(e));return r.forEach((l,m)=>{so(e,m)&&(s=s.add(m))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(l)>0)}Ji(e,r,s){return wt()<=Ae.$b.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",mo(r)),this.zi.getDocumentsMatchingQuery(e,r,un.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(m=>(r.forEach(y=>{m=m.insert(y.key,y)}),m))}}class Xl{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new yr(Gt),this.rs=new So(m=>go(m),is),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new As(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Ru(u,e,r,s){return new Xl(u,e,r,s)}function uf(u,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,a.A)(function*(u,e){const r=ct(u);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(m=>(l=m,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(m=>{const y=[],D=[];let N=cr();for(const W of l){y.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}for(const W of m){D.push(W.batchId);for(const re of W.mutations)N=N.add(re.key)}return r.localDocuments.getDocuments(s,N).next(W=>({us:W,removedBatchIds:y,addedBatchIds:D}))})})})).apply(this,arguments)}function Tp(u){const e=ct(u);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function Ql(u,e,r){let s=cr(),l=cr();return r.forEach(m=>s=s.add(m)),e.getEntries(u,s).next(m=>{let y=si();return r.forEach((D,N)=>{const W=m.get(D);N.isFoundDocument()!==W.isFoundDocument()&&(l=l.add(D)),N.isNoDocument()&&N.version.isEqual(Vt.min())?(e.removeEntry(D,N.readTime),y=y.insert(D,N)):!W.isValidDocument()||N.version.compareTo(W.version)>0||0===N.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(N),y=y.insert(D,N)):be("LocalStore","Ignoring outdated watch update for ",D,". Current version:",W.version," Watch version:",N.version)}),{cs:y,ls:l}})}function Mu(u,e){const r=ct(u);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ul(u,e){const r=ct(u);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(m=>m?(l=m,Ke.resolve(l)):r.Qr.allocateTargetId(s).next(y=>(l=new ea(e,y,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ua(u,e,r){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.A)(function*(u,e,r){const s=ct(u),l=s.ns.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",m,y=>s.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!Mn(y))throw y;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)})).apply(this,arguments)}function Jl(u,e,r){const s=ct(u);let l=Vt.min(),m=cr();return s.persistence.runTransaction("Execute query","readwrite",y=>function(N,W,re){const ge=ct(N),Ue=ge.rs.get(re);return void 0!==Ue?Ke.resolve(ge.ns.get(Ue)):ge.Qr.getTargetData(W,re)}(s,y,Y(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(y,D.targetId).next(N=>{m=N})}).next(()=>s.ts.getDocumentsMatchingQuery(y,e,r?l:Vt.min(),r?m:cr())).next(D=>(eh(s,os(e),D),{documents:D,hs:m})))}function Hs(u,e){const r=ct(u),s=ct(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",m=>s.ot(m,e).next(y=>y?y.target:null))}function Zd(u,e){const r=ct(u),s=r.ss.get(e)||Vt.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,ti(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(eh(r,e,l),l))}function eh(u,e,r){let s=u.ss.get(e)||Vt.min();r.forEach((l,m)=>{m.readTime.compareTo(s)>0&&(s=m.readTime)}),u.ss.set(e,s)}function hc(){return(hc=(0,a.A)(function*(u,e,r,s){const l=ct(u);let m=cr(),y=si();for(const W of r){const re=e.Ps(W.metadata.name);W.document&&(m=m.add(re));const ge=e.Is(W);ge.setReadTime(e.Ts(W.metadata.readTime)),y=y.insert(re,ge)}const D=l.os.newChangeBuffer({trackRemovals:!0}),N=yield ul(l,(re=s,Y(Yr(fn.fromString(`__bundle__/docs/${re}`)))));var re;return l.persistence.runTransaction("Apply bundle documents","readwrite",W=>Ql(W,D,y).next(re=>(D.apply(W),re)).next(re=>l.Qr.removeMatchingKeysForTargetId(W,N.targetId).next(()=>l.Qr.addMatchingKeys(W,m,N.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(W,re.cs,re.ls)).next(()=>re.cs)))})).apply(this,arguments)}function Zl(u,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,a.A)(function*(u,e,r=cr()){const s=yield ul(u,Y(vn(e.bundledQuery))),l=ct(u);return l.persistence.runTransaction("Save named query","readwrite",m=>{const y=eo(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return l.$r.saveNamedQuery(m,e);const D=s.withResumeToken(Li.EMPTY_BYTE_STRING,y);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(m,D).next(()=>l.Qr.removeMatchingKeysForTargetId(m,s.targetId)).next(()=>l.Qr.addMatchingKeys(m,r,s.targetId)).next(()=>l.$r.saveNamedQuery(m,e))})})).apply(this,arguments)}function fc(u,e){return`firestore_clients_${u}_${e}`}function nh(u,e,r){let s=`firestore_mutations_${u}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function pc(u,e){return`firestore_targets_${u}_${e}`}class gc{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let m,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(m=new le(l.error.code,l.error.message))),y?new gc(e,r,l.state,m):(Jt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,m="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return m&&s.error&&(m="string"==typeof s.error.message&&"string"==typeof s.error.code,m&&(l=new le(s.error.code,s.error.message))),m?new Yc(e,s.state,l):(Jt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ou{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,m=Qs();for(let y=0;l&&y<s.activeTargetIds.length;++y)l=It(s.activeTargetIds[y]),m=m.add(s.activeTargetIds[y]);return l?new Ou(e,m):(Jt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Nu{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Nu(r.clientId,r.onlineState):(Jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ed{constructor(){this.activeTargetIds=Qs()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class td{constructor(e,r,s,l,m){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new yr(Gt),this.started=!1,this.ys=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ws=fc(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new ed),this.bs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,a.A)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Vs)continue;const m=e.getItem(fc(e.persistenceKey,l));if(m){const y=Ou.Es(l,m);y&&(e.ps=e.ps.insert(y.clientId,y))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(pc(this.persistenceKey,e));if(s){const l=Yc.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pc(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return be("SharedClientState","READ",e,r),r}setItem(e,r){be("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(be("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,a.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(y){let D=F.oe;if(null!=y)try{const N=JSON.parse(y);Bt("number"==typeof N),D=N}catch(N){Jt("SharedClientState","Failed to read sequence number from WebStorage",N)}return D}(s.newValue);l!==F.oe&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(m=>r.syncEngine.Ys(m)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const l=new gc(this.currentUser,e,r,s),m=nh(this.persistenceKey,this.currentUser,e);this.setItem(m,l.ds())}Bs(e){const r=nh(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=pc(this.persistenceKey,e),m=new Yc(e,r,s);this.setItem(l,m.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return Ou.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return gc.Es(new ot(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return Yc.Es(l,r)}xs(e){return Nu.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,a.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),m=this.Ns(s),y=[],D=[];return m.forEach(N=>{l.has(N)||y.push(N)}),l.forEach(N=>{m.has(N)||D.push(N)}),this.syncEngine.eo(y,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Qs();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class ff{constructor(){this.no=new ed,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ed,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xc{io(e){}shutdown(){}}class Qc{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nd=null;function rh(){return null===nd?nd=268435456+Math.round(2147483648*Math.random()):nd++,"0x"+nd.toString(16)}const b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const _="WebChannelConnection";class A extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${l}/databases/${m}`,this.bo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${m}`}get Do(){return!1}Co(r,s,l,m,y){const D=rh(),N=this.vo(r,s.toUriEncodedString());be("RestConnection",`Sending RPC '${r}' ${D}:`,N,l);const W={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(W,m,y),this.Mo(r,N,W,l).then(re=>(be("RestConnection",`Received RPC '${r}' ${D}: `,re),re),re=>{throw dn("RestConnection",`RPC '${r}' ${D} failed with error: `,re,"url: ",N,"request:",l),re})}xo(r,s,l,m,y,D){return this.Co(r,s,l,m,y)}Fo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((m,y)=>r[y]=m),l&&l.headers.forEach((m,y)=>r[y]=m)}vo(r,s){return`${this.wo}/v1/${s}:${b[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,l){const m=rh();return new Promise((y,D)=>{const N=new me;N.setWithCredentials(!0),N.listenOnce(bt.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Ct.NO_ERROR:const re=N.getResponseJson();be(_,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(re)),y(re);break;case Ct.TIMEOUT:be(_,`RPC '${e}' ${m} timed out`),D(new le(Me.DEADLINE_EXCEEDED,"Request time out"));break;case Ct.HTTP_ERROR:const ge=N.getStatus();if(be(_,`RPC '${e}' ${m} failed with status:`,ge,"response text:",N.getResponseText()),ge>0){let Ue=N.getResponseJson();Array.isArray(Ue)&&(Ue=Ue[0]);const dt=Ue?.error;if(dt&&dt.status&&dt.message){const Ht=function(Xt){const Vn=Xt.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(Vn)>=0?Vn:Me.UNKNOWN}(dt.status);D(new le(Ht,dt.message))}else D(new le(Me.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new le(Me.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{be(_,`RPC '${e}' ${m} completed.`)}});const W=JSON.stringify(l);be(_,`RPC '${e}' ${m} sending request:`,l),N.send(r,"POST",W,s,15)})}Oo(e,r,s){const l=rh(),m=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=et(),D=cn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(N.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(N.xmlHttpFactory=new at({})),this.Fo(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const re=m.join("");be(_,`Creating RPC '${e}' stream ${l}: ${re}`,N);const ge=y.createWebChannel(re,N);let Ue=!1,dt=!1;const Ht=new p({lo:Xt=>{dt?be(_,`Not sending because RPC '${e}' stream ${l} is closed:`,Xt):(Ue||(be(_,`Opening RPC '${e}' stream ${l} transport.`),ge.open(),Ue=!0),be(_,`RPC '${e}' stream ${l} sending:`,Xt),ge.send(Xt))},ho:()=>ge.close()}),an=(Xt,Vn,Xn)=>{Xt.listen(Vn,jn=>{try{Xn(jn)}catch(Rr){setTimeout(()=>{throw Rr},0)}})};return an(ge,Xe.EventType.OPEN,()=>{dt||(be(_,`RPC '${e}' stream ${l} transport opened.`),Ht.mo())}),an(ge,Xe.EventType.CLOSE,()=>{dt||(dt=!0,be(_,`RPC '${e}' stream ${l} transport closed`),Ht.po())}),an(ge,Xe.EventType.ERROR,Xt=>{dt||(dt=!0,dn(_,`RPC '${e}' stream ${l} transport errored:`,Xt),Ht.po(new le(Me.UNAVAILABLE,"The operation could not be completed")))}),an(ge,Xe.EventType.MESSAGE,Xt=>{var Vn;if(!dt){const Xn=Xt.data[0];Bt(!!Xn);const Rr=Xn.error||(null===(Vn=Xn[0])||void 0===Vn?void 0:Vn.error);if(Rr){be(_,`RPC '${e}' stream ${l} received error:`,Rr);const Mi=Rr.status;let Zr=function(ze){const nt=xi[ze];if(void 0!==nt)return Zu(nt)}(Mi),tt=Rr.message;void 0===Zr&&(Zr=Me.INTERNAL,tt="Unknown error status: "+Mi+" with message "+Rr.message),dt=!0,Ht.po(new le(Zr,tt)),ge.close()}else be(_,`RPC '${e}' stream ${l} received:`,Xn),Ht.yo(Xn)}}),an(D,Mt.STAT_EVENT,Xt=>{Xt.stat===jt.PROXY?be(_,`RPC '${e}' stream ${l} detected buffering proxy`):Xt.stat===jt.NOPROXY&&be(_,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ht.fo()},0),Ht}}function K(){return typeof window<"u"?window:null}function se(){return typeof document<"u"?document:null}function $e(u){return new Bl(u,!0)}class gt{constructor(e,r,s=1e3,l=1.5,m=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=l,this.Bo=m,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),l=Math.max(0,r-s);l>0&&be("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class zt{constructor(e,r,s,l,m,y,D,N){this.oi=e,this.Go=s,this.zo=l,this.connection=m,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new gt(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,a.A)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,a.A)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,a.A)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===Me.RESOURCE_EXHAUSTED?(Jt(r.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===Me.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.jo===r&&this.u_(s,l)},s=>{e(()=>{const l=new le(Me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(l)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(l=>{s(()=>this.c_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}e_(){var e=this;this.state=5,this.Yo.$o((0,a.A)(function*(){e.state=0,e.start()}))}c_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sn extends zt{constructor(e,r,s,l,m,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,y),this.serializer=m}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function ua(u,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Pt(),l=e.targetChange.targetIds||[],m=function(W,re){return W.useProto3Json?(Bt(void 0===re||"string"==typeof re),Li.fromBase64String(re||"")):(Bt(void 0===re||re instanceof Buffer||re instanceof Uint8Array),Li.fromUint8Array(re||new Uint8Array))}(u,e.targetChange.resumeToken),y=e.targetChange.cause,D=y&&function(W){const re=void 0===W.code?Me.UNKNOWN:Zu(W.code);return new le(re,W.message||"")}(y);r=new Ji(s,l,m,D||null)}else if("documentChange"in e){const s=e.documentChange,l=fs(u,s.document.name),m=eo(s.document.updateTime),y=s.document.createTime?eo(s.document.createTime):Vt.min(),D=new gi({mapValue:{fields:s.document.fields}}),N=z.newFoundDocument(l,m,y,D);r=new vu(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,l=fs(u,s.document),m=s.readTime?eo(s.readTime):Vt.min(),y=z.newNoDocument(l,m);r=new vu([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,l=fs(u,s.document);r=new vu([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Pt();{const s=e.filter,{count:l=0,unchangedNames:m}=s,y=new Ho(l,m);r=new Yo(s.targetId,y)}}var W;return r}(this.serializer,e),s=function(m){if(!("targetChange"in m))return Vt.min();const y=m.targetChange;return y.targetIds&&y.targetIds.length?Vt.min():y.readTime?eo(y.readTime):Vt.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=At(this.serializer),r.addTarget=function(m,y){let D;const N=y.target;if(D=Xs(N)?{documents:Kn(m,N)}:{query:Za(m,N)._t},D.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){D.resumeToken=tl(m,y.resumeToken);const W=Ja(m,y.expectedCount);null!==W&&(D.expectedCount=W)}else if(y.snapshotVersion.compareTo(Vt.min())>0){D.readTime=Go(m,y.snapshotVersion.toTimestamp());const W=Ja(m,y.expectedCount);null!==W&&(D.expectedCount=W)}return D}(this.serializer,e);const s=function ps(u,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=At(this.serializer),r.removeTarget=e,this.i_(r)}}class Gn extends zt{constructor(e,r,s,l,m,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,y),this.serializer=m,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function ka(u,e){return u&&u.length>0?(Bt(void 0!==e),u.map(r=>function(l,m){let y=eo(l.updateTime?l.updateTime:m);return y.isEqual(Vt.min())&&(y=eo(m)),new _u(y,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=eo(e.commitTime);return this.listener.A_(s,r)}return Bt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=At(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Xo(this.serializer,s))};this.i_(r)}}class Wr extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.m_=!1}f_(){if(this.m_)throw new le(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Co(e,kc(r,s),l,m,y)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new le(Me.UNKNOWN,m.toString())})}xo(e,r,s,l,m){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,D])=>this.connection.xo(e,kc(r,s),l,y,D,m)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new le(Me.UNKNOWN,y.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Gs{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Jt(r),this.y_=!1):be("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class mc{constructor(e,r,s,l,m){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=m,this.O_.io(D=>{s.enqueueAndForget((0,a.A)(function*(){var N;yc(y)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,a.A)(function*(re){const ge=ct(re);ge.M_.add(4),yield Jc(ge),ge.N_.set("Unknown"),ge.M_.delete(4),yield _c(ge)}),function W(re){return N.apply(this,arguments)})(y))}))}),this.N_=new Gs(s,l)}}function _c(u){return ku.apply(this,arguments)}function ku(){return(ku=(0,a.A)(function*(u){if(yc(u))for(const e of u.x_)yield e(!0)})).apply(this,arguments)}function Jc(u){return ih.apply(this,arguments)}function ih(){return(ih=(0,a.A)(function*(u){for(const e of u.x_)yield e(!1)})).apply(this,arguments)}function vc(u,e){const r=ct(u);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),oh(r)?od(r):ud(r).Xo()&&rd(r,e))}function Zc(u,e){const r=ct(u),s=ud(r);r.F_.delete(e),s.Xo()&&id(r,e),0===r.F_.size&&(s.Xo()?s.n_():yc(r)&&r.N_.set("Unknown"))}function rd(u,e){if(u.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const r=u.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ud(u).P_(e)}function id(u,e){u.L_.xe(e),ud(u).I_(e)}function od(u){u.L_=new Nc({getRemoteKeysForTarget:e=>u.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>u.F_.get(e)||null,tt:()=>u.datastore.serializer.databaseId}),ud(u).start(),u.N_.w_()}function oh(u){return yc(u)&&!ud(u).Zo()&&u.F_.size>0}function yc(u){return 0===ct(u).M_.size}function eu(u){u.L_=void 0}function sd(u){return pf.apply(this,arguments)}function pf(){return(pf=(0,a.A)(function*(u){u.N_.set("Online")})).apply(this,arguments)}function Fu(u){return gf.apply(this,arguments)}function gf(){return(gf=(0,a.A)(function*(u){u.F_.forEach((e,r)=>{rd(u,e)})})).apply(this,arguments)}function sh(u,e){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.A)(function*(u,e){eu(u),oh(u)?(u.N_.D_(e),od(u)):u.N_.set("Unknown")})).apply(this,arguments)}function wp(u,e,r){return ad.apply(this,arguments)}function ad(){return ad=(0,a.A)(function*(u,e,r){if(u.N_.set("Online"),e instanceof Ji&&2===e.state&&e.cause)try{yield(s=(0,a.A)(function*(m,y){const D=y.cause;for(const N of y.targetIds)m.F_.has(N)&&(yield m.remoteSyncer.rejectListen(N,D),m.F_.delete(N),m.L_.removeTarget(N))}),function l(m,y){return s.apply(this,arguments)})(u,e)}catch(s){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield dl(u,s)}else if(e instanceof vu?u.L_.Ke(e):e instanceof Yo?u.L_.He(e):u.L_.We(e),!r.isEqual(Vt.min()))try{const s=yield Tp(u.localStore);r.compareTo(s)>=0&&(yield function(m,y){const D=m.L_.rt(y);return D.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const re=m.F_.get(W);re&&m.F_.set(W,re.withResumeToken(N.resumeToken,y))}}),D.targetMismatches.forEach((N,W)=>{const re=m.F_.get(N);if(!re)return;m.F_.set(N,re.withResumeToken(Li.EMPTY_BYTE_STRING,re.snapshotVersion)),id(m,N);const ge=new ea(re.target,N,W,re.sequenceNumber);rd(m,ge)}),m.remoteSyncer.applyRemoteEvent(D)}(u,r))}catch(s){be("RemoteStore","Failed to raise snapshot:",s),yield dl(u,s)}var s}),ad.apply(this,arguments)}function dl(u,e,r){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.A)(function*(u,e,r){if(!Mn(e))throw e;u.M_.add(1),yield Jc(u),u.N_.set("Offline"),r||(r=()=>Tp(u.localStore)),u.asyncQueue.enqueueRetryable((0,a.A)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield r(),u.M_.delete(1),yield _c(u)}))})).apply(this,arguments)}function Ap(u,e){return e().catch(r=>dl(u,r,e))}function fl(u){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,a.A)(function*(u){const e=ct(u),r=tu(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;xp(e);)try{const l=yield Mu(e.localStore,s);if(null===l){0===e.v_.length&&r.n_();break}s=l.batchId,Sp(e,l)}catch(l){yield dl(e,l)}Gg(e)&&zg(e)})).apply(this,arguments)}function xp(u){return yc(u)&&u.v_.length<10}function Sp(u,e){u.v_.push(e);const r=tu(u);r.Xo()&&r.E_&&r.d_(e.mutations)}function Gg(u){return yc(u)&&!tu(u).Zo()&&u.v_.length>0}function zg(u){tu(u).start()}function Wg(u){return ah.apply(this,arguments)}function ah(){return(ah=(0,a.A)(function*(u){tu(u).V_()})).apply(this,arguments)}function n_(u){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,a.A)(function*(u){const e=tu(u);for(const r of u.v_)e.d_(r.mutations)})).apply(this,arguments)}function ra(u,e,r){return ch.apply(this,arguments)}function ch(){return(ch=(0,a.A)(function*(u,e,r){const s=u.v_.shift(),l=wo.from(s,e,r);yield Ap(u,()=>u.remoteSyncer.applySuccessfulWrite(l)),yield fl(u)})).apply(this,arguments)}function Kg(u,e){return uh.apply(this,arguments)}function uh(){return uh=(0,a.A)(function*(u,e){var r;e&&tu(u).E_&&(yield(r=(0,a.A)(function*(l,m){if(ds(D=m.code)&&D!==Me.ABORTED){const y=l.v_.shift();tu(l).t_(),yield Ap(l,()=>l.remoteSyncer.rejectFailedWrite(y.batchId,m)),yield fl(l)}var D}),function s(l,m){return r.apply(this,arguments)})(u,e)),Gg(u)&&zg(u)}),uh.apply(this,arguments)}function _o(u,e){return cd.apply(this,arguments)}function cd(){return(cd=(0,a.A)(function*(u,e){const r=ct(u);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const s=yc(r);r.M_.add(3),yield Jc(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield _c(r)})).apply(this,arguments)}function lh(u,e){return mf.apply(this,arguments)}function mf(){return(mf=(0,a.A)(function*(u,e){const r=ct(u);e?(r.M_.delete(2),yield _c(r)):e||(r.M_.add(2),yield Jc(r),r.N_.set("Unknown"))})).apply(this,arguments)}function ud(u){return u.B_||(u.B_=function(r,s,l){const m=ct(r);return m.f_(),new Sn(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,l)}(u.datastore,u.asyncQueue,{Po:sd.bind(null,u),To:Fu.bind(null,u),Ao:sh.bind(null,u),h_:wp.bind(null,u)}),u.x_.push(function(){var e=(0,a.A)(function*(r){r?(u.B_.t_(),oh(u)?od(u):u.N_.set("Unknown")):(yield u.B_.stop(),eu(u))});return function(r){return e.apply(this,arguments)}}())),u.B_}function tu(u){return u.k_||(u.k_=function(r,s,l){const m=ct(r);return m.f_(),new Gn(s,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,l)}(u.datastore,u.asyncQueue,{Po:()=>Promise.resolve(),To:Wg.bind(null,u),Ao:Kg.bind(null,u),R_:n_.bind(null,u),A_:ra.bind(null,u)}),u.x_.push(function(){var e=(0,a.A)(function*(r){r?(u.k_.t_(),yield fl(u)):(yield u.k_.stop(),u.v_.length>0&&(be("RemoteStore",`Stopping write stream with ${u.v_.length} pending writes`),u.v_=[]))});return function(r){return e.apply(this,arguments)}}())),u.k_}class Rp{constructor(e,r,s,l,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=m,this.deferred=new Fe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,m){const y=Date.now()+s,D=new Rp(e,r,y,l,m);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pl(u,e){if(Jt("AsyncQueue",`${e}: ${u}`),Mn(u))return new le(Me.UNAVAILABLE,`${e}: ${u}`);throw u}class ld{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ut.comparator(r.key,s.key):(r,s)=>Ut.comparator(r.key,s.key),this.keyedMap=Wi(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new ld(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ld)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,m=s.getNext().key;if(!l.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new ld;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Mp{constructor(){this.q_=new yr(Ut.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):Pt():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class dd{constructor(e,r,s,l,m,y,D,N,W){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=m,this.fromCache=y,this.syncStateChanged=D,this.excludesMetadataChanges=N,this.hasCachedResults=W}static fromInitialDocuments(e,r,s,l,m){const y=[];return r.forEach(D=>{y.push({type:0,doc:D})}),new dd(e,r,ld.emptySet(r),y,s,l,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class r_{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Op{constructor(){this.queries=new So(e=>oo(e),Hn),this.onlineState="Unknown",this.z_=new Set}}function dh(u,e){return hh.apply(this,arguments)}function hh(){return(hh=(0,a.A)(function*(u,e){const r=ct(u);let s=3;const l=e.query;let m=r.queries.get(l);m?!m.W_()&&e.G_()&&(s=2):(m=new r_,s=e.G_()?0:1);try{switch(s){case 0:m.K_=yield r.onListen(l,!0);break;case 1:m.K_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(y){const D=pl(y,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(D)}r.queries.set(l,m),m.U_.push(e),e.j_(r.onlineState),m.K_&&e.H_(m.K_)&&fh(r)})).apply(this,arguments)}function gl(u,e){return hd.apply(this,arguments)}function hd(){return(hd=(0,a.A)(function*(u,e){const r=ct(u),s=e.query;let l=3;const m=r.queries.get(s);if(m){const y=m.U_.indexOf(e);y>=0&&(m.U_.splice(y,1),0===m.U_.length?l=e.G_()?0:1:!m.W_()&&e.G_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function i_(u,e){const r=ct(u);let s=!1;for(const l of e){const y=r.queries.get(l.query);if(y){for(const D of y.U_)D.H_(l)&&(s=!0);y.K_=l}}s&&fh(r)}function Np(u,e,r){const s=ct(u),l=s.queries.get(e);if(l)for(const m of l.U_)m.onError(r);s.queries.delete(e)}function fh(u){u.z_.forEach(e=>{e.next()})}var Vu,nu;(nu=Vu||(Vu={})).J_="default",nu.Cache="cache";class fd{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new dd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Vu.Cache}}class qg{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class _f{constructor(e){this.serializer=e}Ps(e){return fs(this.serializer,e)}Is(e){return e.metadata.exists?Ao(this.serializer,e.document,!1):z.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return eo(e)}}class vf{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yg(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=fn.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new _f(this.serializer);for(const l of e)if(l.metadata.queries){const m=s.Ps(l.metadata.name);for(const y of l.metadata.queries){const D=(r.get(y)||cr()).add(m);r.set(y,D)}}return r}complete(){var e=this;return(0,a.A)(function*(){const r=yield function th(u,e,r,s){return hc.apply(this,arguments)}(e.localStore,new _f(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const l of e.queries)yield Zl(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Yg(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Xg{constructor(e){this.key=e}}class Qg{constructor(e){this.key=e}}class Jg{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=cr(),this.mutatedKeys=cr(),this.Ia=jo(e),this.Ta=new ld(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new Mp,l=r?r.Ta:this.Ta;let m=r?r.mutatedKeys:this.mutatedKeys,y=l,D=!1;const N="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,W="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((re,ge)=>{const Ue=l.get(re),dt=so(this.query,ge)?ge:null,Ht=!!Ue&&this.mutatedKeys.has(Ue.key),an=!!dt&&(dt.hasLocalMutations||this.mutatedKeys.has(dt.key)&&dt.hasCommittedMutations);let Xt=!1;Ue&&dt?Ue.data.isEqual(dt.data)?Ht!==an&&(s.track({type:3,doc:dt}),Xt=!0):this.Ra(Ue,dt)||(s.track({type:2,doc:dt}),Xt=!0,(N&&this.Ia(dt,N)>0||W&&this.Ia(dt,W)<0)&&(D=!0)):!Ue&&dt?(s.track({type:0,doc:dt}),Xt=!0):Ue&&!dt&&(s.track({type:1,doc:Ue}),Xt=!0,(N||W)&&(D=!0)),Xt&&(dt?(y=y.add(dt),m=an?m.add(re):m.delete(re)):(y=y.delete(re),m=m.delete(re)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const re="F"===this.query.limitType?y.last():y.first();y=y.delete(re.key),m=m.delete(re.key),s.track({type:1,doc:re})}return{Ta:y,Aa:s,Xi:D,mutatedKeys:m}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const m=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const y=e.Aa.Q_();y.sort((re,ge)=>function(dt,Ht){const an=Xt=>{switch(Xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return an(dt)-an(Ht)}(re.type,ge.type)||this.Ia(re.doc,ge.doc)),this.Va(s),l=null!=l&&l;const D=r&&!l?this.ma():[],N=0===this.Pa.size&&this.current&&!l?1:0,W=N!==this.ha;return this.ha=N,0!==y.length||W?{snapshot:new dd(this.query,e.Ta,m,y,e.mutatedKeys,0===N,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Mp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=cr(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new Qg(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new Xg(s))}),r}pa(e){this.la=e.hs,this.Pa=cr();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return dd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class o_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class s_{constructor(e){this.key=e,this.wa=!1}}class Zg{constructor(e,r,s,l,m,y){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=m,this.maxConcurrentLimboResolutions=y,this.Sa={},this.ba=new So(D=>oo(D),Hn),this.Da=new Map,this.Ca=new Set,this.va=new yr(Ut.comparator),this.Fa=new Map,this.Ma=new uc,this.xa={},this.Oa=new Map,this.Na=Bs.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function yf(u,e){return ph.apply(this,arguments)}function ph(){return(ph=(0,a.A)(function*(u,e,r=!0){const s=Sf(u);let l;const m=s.ba.get(e);return m?(s.sharedClientState.addLocalQueryTarget(m.targetId),l=m.view.ya()):l=yield ml(s,e,r,!0),l})).apply(this,arguments)}function kp(u,e){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,a.A)(function*(u,e){const r=Sf(u);yield ml(r,e,!0,!1)})).apply(this,arguments)}function ml(u,e,r,s){return gh.apply(this,arguments)}function gh(){return(gh=(0,a.A)(function*(u,e,r,s){const l=yield ul(u.localStore,Y(e)),m=l.targetId,y=r?u.sharedClientState.addLocalQueryTarget(m):"not-current";let D;return s&&(D=yield Ef(u,e,m,"current"===y,l.resumeToken)),u.isPrimaryClient&&r&&vc(u.remoteStore,l),D})).apply(this,arguments)}function Ef(u,e,r,s,l){return ru.apply(this,arguments)}function ru(){return ru=(0,a.A)(function*(u,e,r,s,l){u.Ba=(ge,Ue,dt)=>{return(Ht=(0,a.A)(function*(Xt,Vn,Xn,jn){let Rr=Vn.view.da(Xn);Rr.Xi&&(Rr=yield Jl(Xt.localStore,Vn.query,!1).then(({documents:ke})=>Vn.view.da(ke,Rr)));const Mi=jn&&jn.targetChanges.get(Vn.targetId),Zr=jn&&null!=jn.targetMismatches.get(Vn.targetId),tt=Vn.view.applyChanges(Rr,Xt.isPrimaryClient,Mi,Zr);return Hp(Xt,Vn.targetId,tt.fa),tt.snapshot}),function an(Xt,Vn,Xn,jn){return Ht.apply(this,arguments)})(u,ge,Ue,dt);var Ht};const m=yield Jl(u.localStore,e,!0),y=new Jg(e,m.hs),D=y.da(m.documents),N=Qa.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==u.onlineState,l),W=y.applyChanges(D,u.isPrimaryClient,N);Hp(u,r,W.fa);const re=new o_(e,r,y);return u.ba.set(e,re),u.Da.has(r)?u.Da.get(r).push(e):u.Da.set(r,[e]),W.snapshot}),ru.apply(this,arguments)}function em(u,e,r){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,a.A)(function*(u,e,r){const s=ct(u),l=s.ba.get(e),m=s.Da.get(l.targetId);if(m.length>1)return s.Da.set(l.targetId,m.filter(y=>!Hn(y,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Ua(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&Zc(s.remoteStore,l.targetId),pd(s,l.targetId)}).catch(Nn))):(pd(s,l.targetId),yield Ua(s.localStore,l.targetId,!0))})).apply(this,arguments)}function Vp(u,e){return tm.apply(this,arguments)}function tm(){return(tm=(0,a.A)(function*(u,e){const r=ct(u),s=r.ba.get(e),l=r.Da.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Zc(r.remoteStore,s.targetId))})).apply(this,arguments)}function mh(){return(mh=(0,a.A)(function*(u,e,r){const s=bh(u);try{const l=yield function(y,D){const N=ct(y),W=Wt.now(),re=D.reduce((dt,Ht)=>dt.add(Ht.key),cr());let ge,Ue;return N.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let Ht=si(),an=cr();return N.os.getEntries(dt,re).next(Xt=>{Ht=Xt,Ht.forEach((Vn,Xn)=>{Xn.isValidDocument()||(an=an.add(Vn))})}).next(()=>N.localDocuments.getOverlayedDocuments(dt,Ht)).next(Xt=>{ge=Xt;const Vn=[];for(const Xn of D){const jn=_t(Xn,ge.get(Xn.key).overlayedDocument);null!=jn&&Vn.push(new Nr(Xn.key,jn,Q(jn.value.mapValue),Di.exists(!0)))}return N.mutationQueue.addMutationBatch(dt,W,Vn,D)}).next(Xt=>{Ue=Xt;const Vn=Xt.applyToLocalDocumentSet(ge,an);return N.documentOverlayCache.saveOverlays(dt,Xt.batchId,Vn)})}).then(()=>({batchId:Ue.batchId,changes:Mc(ge)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(y,D,N){let W=y.xa[y.currentUser.toKey()];W||(W=new yr(Gt)),W=W.insert(D,N),y.xa[y.currentUser.toKey()]=W}(s,l.batchId,r),yield Ec(s,l.changes),yield fl(s.remoteStore)}catch(l){const m=pl(l,"Failed to persist write");r.reject(m)}})).apply(this,arguments)}function Up(u,e){return bf.apply(this,arguments)}function bf(){return(bf=(0,a.A)(function*(u,e){const r=ct(u);try{const s=yield function $s(u,e){const r=ct(u),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const y=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const D=[];e.targetChanges.forEach((re,ge)=>{const Ue=l.get(ge);if(!Ue)return;D.push(r.Qr.removeMatchingKeys(m,re.removedDocuments,ge).next(()=>r.Qr.addMatchingKeys(m,re.addedDocuments,ge)));let dt=Ue.withSequenceNumber(m.currentSequenceNumber);var an,Xt,Vn;null!==e.targetMismatches.get(ge)?dt=dt.withResumeToken(Li.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):re.resumeToken.approximateByteSize()>0&&(dt=dt.withResumeToken(re.resumeToken,s)),l=l.insert(ge,dt),Xt=dt,Vn=re,(0===(an=Ue).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-an.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(m,dt))});let N=si(),W=cr();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(m,re))}),D.push(Ql(m,y,e.documentUpdates).next(re=>{N=re.cs,W=re.ls})),!s.isEqual(Vt.min())){const re=r.Qr.getLastRemoteSnapshotVersion(m).next(ge=>r.Qr.setTargetsMetadata(m,m.currentSequenceNumber,s));D.push(re)}return Ke.waitFor(D).next(()=>y.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,N,W)).next(()=>N)}).then(m=>(r.ns=l,m))}(r.localStore,e);e.targetChanges.forEach((l,m)=>{const y=r.Fa.get(m);y&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.wa=!0:l.modifiedDocuments.size>0?Bt(y.wa):l.removedDocuments.size>0&&(Bt(y.wa),y.wa=!1))}),yield Ec(r,s,e)}catch(s){yield Nn(s)}})).apply(this,arguments)}function If(u,e,r){const s=ct(u);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ba.forEach((m,y)=>{const D=y.view.j_(e);D.snapshot&&l.push(D.snapshot)}),function(y,D){const N=ct(y);N.onlineState=D;let W=!1;N.queries.forEach((re,ge)=>{for(const Ue of ge.U_)Ue.j_(D)&&(W=!0)}),W&&fh(N)}(s.eventManager,e),l.length&&s.Sa.h_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function jp(u,e,r){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,a.A)(function*(u,e,r){const s=ct(u);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Fa.get(e),m=l&&l.key;if(m){let y=new yr(Ut.comparator);y=y.insert(m,z.newNoDocument(m,Vt.min()));const D=cr().add(m),N=new bi(Vt.min(),new Map,new yr(Gt),y,D);yield Up(s,N),s.va=s.va.remove(m),s.Fa.delete(e),gd(s)}else yield Ua(s.localStore,e,!1).then(()=>pd(s,e,r)).catch(Nn)})).apply(this,arguments)}function iu(u,e){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.A)(function*(u,e){const r=ct(u),s=e.batch.batchId;try{const l=yield function df(u,e){const r=ct(u);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),m=r.os.newChangeBuffer({trackRemovals:!0});return function(D,N,W,re){const ge=W.batch,Ue=ge.keys();let dt=Ke.resolve();return Ue.forEach(Ht=>{dt=dt.next(()=>re.getEntry(N,Ht)).next(an=>{const Xt=W.docVersions.get(Ht);Bt(null!==Xt),an.version.compareTo(Xt)<0&&(ge.applyToRemoteDocument(an,W),an.isValidDocument()&&(an.setReadTime(W.commitVersion),re.addEntry(an)))})}),dt.next(()=>D.mutationQueue.removeMutationBatch(N,ge))}(r,s,e,m).next(()=>m.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let N=cr();for(let W=0;W<D.mutationResults.length;++W)D.mutationResults[W].transformResults.length>0&&(N=N.add(D.batch.mutations[W].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);vl(r,s,null),Af(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ec(r,l)}catch(l){yield Nn(l)}})).apply(this,arguments)}function wf(u,e,r){return _h.apply(this,arguments)}function _h(){return(_h=(0,a.A)(function*(u,e,r){const s=ct(u);try{const l=yield function(y,D){const N=ct(y);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let re;return N.mutationQueue.lookupMutationBatch(W,D).next(ge=>(Bt(null!==ge),re=ge.keys(),N.mutationQueue.removeMutationBatch(W,ge))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,re,D)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,re)).next(()=>N.localDocuments.getDocuments(W,re))})}(s.localStore,e);vl(s,e,r),Af(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Ec(s,l)}catch(l){yield Nn(l)}})).apply(this,arguments)}function Bp(){return(Bp=(0,a.A)(function*(u,e){const r=ct(u);yc(r.remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const D=ct(y);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>D.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Oa.get(s)||[];l.push(e),r.Oa.set(s,l)}catch(s){const l=pl(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function Af(u,e){(u.Oa.get(e)||[]).forEach(r=>{r.resolve()}),u.Oa.delete(e)}function vl(u,e,r){const s=ct(u);let l=s.xa[s.currentUser.toKey()];if(l){const m=l.get(e);m&&(r?m.reject(r):m.resolve(),l=l.remove(e)),s.xa[s.currentUser.toKey()]=l}}function pd(u,e,r=null){u.sharedClientState.removeLocalQueryTarget(e);for(const s of u.Da.get(e))u.ba.delete(s),r&&u.Sa.ka(s,r);u.Da.delete(e),u.isPrimaryClient&&u.Ma.Vr(e).forEach(s=>{u.Ma.containsKey(s)||$p(u,s)})}function $p(u,e){u.Ca.delete(e.path.canonicalString());const r=u.va.get(e);null!==r&&(Zc(u.remoteStore,r),u.va=u.va.remove(e),u.Fa.delete(r),gd(u))}function Hp(u,e,r){for(const s of r)s instanceof Xg?(u.Ma.addReference(s.key,e),a_(u,s)):s instanceof Qg?(be("SyncEngine","Document no longer in limbo: "+s.key),u.Ma.removeReference(s.key,e),u.Ma.containsKey(s.key)||$p(u,s.key)):Pt()}function a_(u,e){const r=e.key,s=r.path.canonicalString();u.va.get(r)||u.Ca.has(s)||(be("SyncEngine","New document in limbo: "+r),u.Ca.add(s),gd(u))}function gd(u){for(;u.Ca.size>0&&u.va.size<u.maxConcurrentLimboResolutions;){const e=u.Ca.values().next().value;u.Ca.delete(e);const r=new Ut(fn.fromString(e)),s=u.Na.next();u.Fa.set(s,new s_(r)),u.va=u.va.insert(r,s),vc(u.remoteStore,new ea(Y(Yr(r.path)),s,"TargetPurposeLimboResolution",F.oe))}}function Ec(u,e,r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,a.A)(function*(u,e,r){const s=ct(u),l=[],m=[],y=[];var D;s.ba.isEmpty()||(s.ba.forEach((D,N)=>{y.push(s.Ba(N,e,r).then(W=>{if((W||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,W&&!W.fromCache?"current":"not-current"),W){l.push(W);const re=Po.Ki(N.targetId,W);m.push(re)}}))}),yield Promise.all(y),s.Sa.h_(l),yield(D=(0,a.A)(function*(W,re){const ge=ct(W);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>Ke.forEach(re,dt=>Ke.forEach(dt.qi,Ht=>ge.persistence.referenceDelegate.addReference(Ue,dt.targetId,Ht)).next(()=>Ke.forEach(dt.Qi,Ht=>ge.persistence.referenceDelegate.removeReference(Ue,dt.targetId,Ht)))))}catch(Ue){if(!Mn(Ue))throw Ue;be("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of re){const dt=Ue.targetId;if(!Ue.fromCache){const Ht=ge.ns.get(dt),Xt=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);ge.ns=ge.ns.insert(dt,Xt)}}}),function N(W,re){return D.apply(this,arguments)})(s.localStore,m))}),Gp.apply(this,arguments)}function Cc(u,e){return yh.apply(this,arguments)}function yh(){return(yh=(0,a.A)(function*(u,e){const r=ct(u);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const s=yield uf(r.localStore,e);r.currentUser=e,(m=r).Oa.forEach(D=>{D.forEach(N=>{N.reject(new le(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ec(r,s.us)}var m})).apply(this,arguments)}function md(u,e){const r=ct(u),s=r.Fa.get(e);if(s&&s.wa)return cr().add(s.key);{let l=cr();const m=r.Da.get(e);if(!m)return l;for(const y of m){const D=r.ba.get(y);l=l.unionWith(D.view.Ea)}return l}}function c_(u,e){return zp.apply(this,arguments)}function zp(){return(zp=(0,a.A)(function*(u,e){const r=ct(u),s=yield Jl(r.localStore,e.query,!0),l=e.view.pa(s);return r.isPrimaryClient&&Hp(r,e.targetId,l.fa),l})).apply(this,arguments)}function fv(u,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,a.A)(function*(u,e){const r=ct(u);return Zd(r.localStore,e).then(s=>Ec(r,s))})).apply(this,arguments)}function Kp(u,e,r,s){return qp.apply(this,arguments)}function qp(){return(qp=(0,a.A)(function*(u,e,r,s){const l=ct(u),m=yield function(D,N){const W=ct(D),re=ct(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ge=>re.vn(ge,N).next(Ue=>Ue?W.localDocuments.getDocuments(ge,Ue):Ke.resolve(null)))}(l.localStore,e);var N;null!==m?("pending"===r?yield fl(l.remoteStore):"acknowledged"===r||"rejected"===r?(vl(l,e,s||null),Af(l,e),N=e,ct(ct(l.localStore).mutationQueue).Mn(N)):Pt(),yield Ec(l,m)):be("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function _d(){return(_d=(0,a.A)(function*(u,e){const r=ct(u);if(Sf(r),bh(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield Eh(r,s.toArray());r.La=!0,yield lh(r.remoteStore,!0);for(const m of l)vc(r.remoteStore,m)}else if(!1===e&&!1!==r.La){const s=[];let l=Promise.resolve();r.Da.forEach((m,y)=>{r.sharedClientState.isLocalQueryTarget(y)?s.push(y):l=l.then(()=>(pd(r,y),Ua(r.localStore,y,!0))),Zc(r.remoteStore,y)}),yield l,yield Eh(r,s),function(y){const D=ct(y);D.Fa.forEach((N,W)=>{Zc(D.remoteStore,W)}),D.Ma.mr(),D.Fa=new Map,D.va=new yr(Ut.comparator)}(r),r.La=!1,yield lh(r.remoteStore,!1)}})).apply(this,arguments)}function Eh(u,e,r){return vd.apply(this,arguments)}function vd(){return(vd=(0,a.A)(function*(u,e,r){const s=ct(u),l=[],m=[];for(const y of e){let D;const N=s.Da.get(y);if(N&&0!==N.length){D=yield ul(s.localStore,Y(N[0]));for(const W of N){const re=s.ba.get(W),ge=yield c_(s,re);ge.snapshot&&m.push(ge.snapshot)}}else{const W=yield Hs(s.localStore,y);D=yield ul(s.localStore,W),yield Ef(s,Df(W),y,!1,D.resumeToken)}l.push(D)}return s.Sa.h_(m),l})).apply(this,arguments)}function Df(u){return Rc(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Lu(u){return r=ct(u).localStore,ct(ct(r).persistence).Bi();var r}function Uu(u,e,r,s){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,a.A)(function*(u,e,r,s){const l=ct(u);if(l.La)return void be("SyncEngine","Ignoring unexpected query state notification.");const m=l.Da.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const y=yield Zd(l.localStore,os(m[0])),D=bi.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Li.EMPTY_BYTE_STRING);yield Ec(l,y,D);break}case"rejected":yield Ua(l.localStore,e,!0),pd(l,e,s);break;default:Pt()}})).apply(this,arguments)}function u_(u,e,r){return xf.apply(this,arguments)}function xf(){return(xf=(0,a.A)(function*(u,e,r){const s=Sf(u);if(s.La){for(const l of e){if(s.Da.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){be("SyncEngine","Adding an already active target "+l);continue}const m=yield Hs(s.localStore,l),y=yield ul(s.localStore,m);yield Ef(s,Df(m),y.targetId,!1,y.resumeToken),vc(s.remoteStore,y)}for(const l of r)s.Da.has(l)&&(yield Ua(s.localStore,l,!1).then(()=>{Zc(s.remoteStore,l),pd(s,l)}).catch(Nn))}})).apply(this,arguments)}function Sf(u){const e=ct(u);return e.remoteStore.remoteSyncer.applyRemoteEvent=Up.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=md.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jp.bind(null,e),e.Sa.h_=i_.bind(null,e.eventManager),e.Sa.ka=Np.bind(null,e.eventManager),e}function bh(u){const e=ct(u);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iu.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wf.bind(null,e),e}class ja{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,a.A)(function*(){r.serializer=$e(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Ru(this.persistence,new Pu,e.initialUser,this.serializer)}createPersistence(e){return new cf(Yl.Hr,this.serializer)}createSharedClientState(e){return new ff}terminate(){var e=this;return(0,a.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pf extends ja{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,a.A)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield bh(s.Qa.syncEngine),yield fl(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ru(this.persistence,new Pu,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new $c(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new V(r,this.persistence);return new H(e.asyncQueue,s)}createPersistence(e){const r=Jd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new Do(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,K(),se(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ff}}class Rf extends Pf{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,a.A)(function*(){yield r().call(s,e);const l=s.Qa.syncEngine;s.sharedClientState instanceof td&&(s.sharedClientState.syncEngine={Zs:Kp.bind(null,l),Xs:Uu.bind(null,l),eo:u_.bind(null,l),Bi:Lu.bind(null,l),Ys:fv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var m=(0,a.A)(function*(y){yield function yl(u,e){return _d.apply(this,arguments)}(s.Qa.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const r=K();if(!td.D(r))throw new le(Me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Jd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new td(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class yd{initialize(e,r){var s=this;return(0,a.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>If(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Cc.bind(null,s.syncEngine),yield lh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Op}createDatastore(e){const r=$e(e.databaseInfo.databaseId),s=new A(e.databaseInfo);return new Wr(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,m=e.asyncQueue,y=r=>If(this.syncEngine,r,0),D=Qc.D()?new Qc:new Xc,new mc(s,l,m,y,D);var s,l,m,y,D}createSyncEngine(e,r){return function(l,m,y,D,N,W,re){const ge=new Zg(l,m,y,D,N,W);return re&&(ge.La=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,a.A)(function*(){var r,s;yield(s=(0,a.A)(function*(m){const y=ct(m);be("RemoteStore","RemoteStore shutting down."),y.M_.add(5),yield Jc(y),y.O_.shutdown(),y.N_.set("Unknown")}),function l(m){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function El(u,e=10240){let r=0;return{read:()=>(0,a.A)(function*(){if(r<u.byteLength){const s={value:u.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,a.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class d_{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new Fe,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,a.A)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,a.A)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,a.A)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),l=Number(s);isNaN(l)&&e.ja(`length string (${s}) is not valid number`);const m=yield e.Ha(l);return new qg(JSON.parse(m),r.length+l)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,a.A)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,a.A)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,a.A)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class ju{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,a.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new le(Me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,a.A)(function*(y,D){const N=ct(y),W={documents:D.map(dt=>Oa(N.serializer,dt))},re=yield N.xo("BatchGetDocuments",N.serializer.databaseId,fn.emptyPath(),W,D.length),ge=new Map;re.forEach(dt=>{const Ht=function Si(u,e){return"found"in e?function(s,l){Bt(!!l.found);const m=fs(s,l.found.name),y=eo(l.found.updateTime),D=l.found.createTime?eo(l.found.createTime):Vt.min(),N=new gi({mapValue:{fields:l.found.fields}});return z.newFoundDocument(m,y,D,N)}(u,e):"missing"in e?function(s,l){Bt(!!l.missing),Bt(!!l.readTime);const m=fs(s,l.missing),y=eo(l.readTime);return z.newNoDocument(m,y)}(u,e):Pt()}(N.serializer,dt);ge.set(Ht.key.toString(),Ht)});const Ue=[];return D.forEach(dt=>{const Ht=ge.get(dt.toString());Bt(!!Ht),Ue.push(Ht)}),Ue}),function m(y,D){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new mi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,a.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const m=Ut.fromPath(l);e.mutations.push(new Sr(m,e.precondition(m)))}),yield(s=(0,a.A)(function*(m,y){const D=ct(m),N={writes:y.map(W=>Xo(D.serializer,W))};yield D.Co("Commit",D.serializer.databaseId,fn.emptyPath(),N)}),function l(m,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Pt();r=Vt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new le(Me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Vt.min())?Di.exists(!1):Di.updateTime(r):Di.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Vt.min()))throw new le(Me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Di.updateTime(r)}return Di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class h_{constructor(e,r,s,l,m){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=m,this.Za=s.maxAttempts,this.Yo=new gt(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,a.A)(function*(){const r=new ju(e.datastore),s=e.tu(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(m=>{e.nu(m)}))}).catch(l=>{e.nu(l)})}))}tu(e){try{const r=this.updateFunction(e);return!ue(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!ds(r)}return!1}}class f_{constructor(e,r,s,l){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=ot.UNAUTHENTICATED,this.clientId=fr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,a.A)(function*(D){be("FirestoreClient","Received user=",D.uid),yield m.authCredentialListener(D),m.user=D});return function(D){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(be("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Fe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=pl(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Of(u,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,a.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=u.configuration;yield e.initialize(r);let s=r.initialUser;u.setCredentialChangeListener(function(){var l=(0,a.A)(function*(m){s.isEqual(m)||(yield uf(e.localStore,m),s=m)});return function(m){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=e}),Ed.apply(this,arguments)}function Ba(u,e){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,a.A)(function*(u,e){u.asyncQueue.verifyOperationInProgress();const r=yield Nf(u);be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,u.configuration),u.setCredentialChangeListener(s=>_o(e.remoteStore,s)),u.setAppCheckTokenChangeListener((s,l)=>_o(e.remoteStore,l)),u._onlineComponents=e})).apply(this,arguments)}function Yp(u){return"FirebaseError"===u.name?u.code===Me.FAILED_PRECONDITION||u.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}function Nf(u){return kf.apply(this,arguments)}function kf(){return(kf=(0,a.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Of(u,u._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Yp(r))throw r;dn("Error using user provided cache. Falling back to memory cache: "+r),yield Of(u,new ja)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield Of(u,new ja);return u._offlineComponents})).apply(this,arguments)}function Ff(u){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,a.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ba(u,u._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield Ba(u,new yd))),u._onlineComponents})).apply(this,arguments)}function Vf(u){return Nf(u).then(e=>e.persistence)}function Bu(u){return Nf(u).then(e=>e.localStore)}function Lf(u){return Ff(u).then(e=>e.remoteStore)}function Th(u){return Ff(u).then(e=>e.syncEngine)}function bl(u){return wh.apply(this,arguments)}function wh(){return(wh=(0,a.A)(function*(u){const e=yield Ff(u),r=e.eventManager;return r.onListen=yf.bind(null,e.syncEngine),r.onUnlisten=em.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=kp.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Vp.bind(null,e.syncEngine),r})).apply(this,arguments)}function Xp(u,e,r={}){const s=new Fe;return u.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(m,y,D,N,W){const re=new Mf({next:Ue=>{y.enqueueAndForget(()=>gl(m,ge));const dt=Ue.docs.has(D);!dt&&Ue.fromCache?W.reject(new le(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&Ue.fromCache&&N&&"server"===N.source?W.reject(new le(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ue)},error:Ue=>W.reject(Ue)}),ge=new fd(Yr(D.path),re,{includeMetadataChanges:!0,ra:!0});return dh(m,ge)}(yield bl(u),u.asyncQueue,e,r,s)})),s.promise}function Qp(u,e,r={}){const s=new Fe;return u.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(m,y,D,N,W){const re=new Mf({next:Ue=>{y.enqueueAndForget(()=>gl(m,ge)),Ue.fromCache&&"server"===N.source?W.reject(new le(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ue)},error:Ue=>W.reject(Ue)}),ge=new fd(D,re,{includeMetadataChanges:!0,ra:!0});return dh(m,ge)}(yield bl(u),u.asyncQueue,e,r,s)})),s.promise}function im(u){const e={};return void 0!==u.timeoutSeconds&&(e.timeoutSeconds=u.timeoutSeconds),e}const om=new Map;function eg(u,e,r){if(!r)throw new le(Me.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${e}.`)}function sm(u,e,r,s){if(!0===e&&!0===s)throw new le(Me.INVALID_ARGUMENT,`${u} and ${r} cannot be used together.`)}function tg(u){if(!Ut.isDocumentKey(u))throw new le(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function y_(u){if(Ut.isDocumentKey(u))throw new le(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function ng(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const e=(s=u).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof u?"a function":Pt()}function kr(u,e){if("_delegate"in u&&(u=u._delegate),!(u instanceof e)){if(e.name===u.constructor.name)throw new le(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ng(u);throw new le(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return u}function Cd(u,e){if(e<=0)throw new le(Me.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${e}.`)}class rg{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new le(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new le(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=im(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new le(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new le(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new xe;switch(s.type){case"firstParty":return new xt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=om.get(r);s&&(be("ComponentProvider","Removing Datastore"),om.delete(r),s.terminate())}(this),Promise.resolve()}}function jf(u,e,r,s={}){var l;const m=(u=kr(u,bd))._getSettings(),y=`${e}:${r}`;if("firestore.googleapis.com"!==m.host&&m.host!==y&&dn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},m),{host:y,ssl:!1})),s.mockUserToken){let D,N;if("string"==typeof s.mockUserToken)D=s.mockUserToken,N=ot.MOCK_USER;else{D=(0,he.Fy)(s.mockUserToken,null===(l=u._app)||void 0===l?void 0:l.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new le(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new ot(W)}u._authCredentials=new Se(new Qe(D,N))}}class es{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Ro{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ro(this.firestore,e,this._key)}}class $a extends es{constructor(e,r,s){super(e,r,Yr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ro(this.firestore,null,new Ut(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function am(u,e,...r){if(u=(0,he.Ku)(u),eg("collection","path",e),u instanceof bd){const s=fn.fromString(e,...r);return y_(s),new $a(u,null,s)}{if(!(u instanceof Ro||u instanceof $a))throw new le(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(fn.fromString(e,...r));return y_(s),new $a(u.firestore,null,s)}}function Bf(u,e){if(u=kr(u,bd),eg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(Me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(u,null,(s=e,new Ns(fn.emptyPath(),s)));var s}function E_(u,e,...r){if(u=(0,he.Ku)(u),1===arguments.length&&(e=fr.newId()),eg("doc","path",e),u instanceof bd){const s=fn.fromString(e,...r);return tg(s),new Ro(u,null,new Ut(s))}{if(!(u instanceof Ro||u instanceof $a))throw new le(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=u._path.child(fn.fromString(e,...r));return tg(s),new Ro(u.firestore,u instanceof $a?u.converter:null,new Ut(s))}}function ig(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),(u instanceof Ro||u instanceof $a)&&(e instanceof Ro||e instanceof $a)&&u.firestore===e.firestore&&u.path===e.path&&u.converter===e.converter}function $f(u,e){return u=(0,he.Ku)(u),e=(0,he.Ku)(e),u instanceof es&&e instanceof es&&u.firestore===e.firestore&&Hn(u._query,e._query)&&u.converter===e.converter}class og{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new gt(this,"async_queue_retry"),this.hu=()=>{const r=se();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=se();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=se();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new Fe;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,a.A)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!Mn(r))throw r;be("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Jt("INTERNAL UNHANDLED ERROR: ",function(y){let D=y.message||"";return y.stack&&(D=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),D}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const l=Rp.createAndSchedule(this,e,r,s,m=>this.Eu(m));return this._u.push(l),l}Pu(){this.au&&Pt()}verifyOperationInProgress(){}du(){var e=this;return(0,a.A)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function Ah(u){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const m of["next","error","complete"])if(m in l&&"function"==typeof l[m])return!0;return!1}(u)}class cm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Tl=-1;class Gi extends bd{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new og,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gf(this),this._firestoreClient.terminate()}}function Hf(u,e){const r="object"==typeof u?u:(0,ae.getApp)(),s="string"==typeof u?u:e||"(default)",l=(0,ae._getProvider)(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const m=(0,he.yU)("firestore");m&&jf(l,...m)}return l}function vo(u){return u._firestoreClient||Gf(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function Gf(u){var e,r,s;const l=u._freezeSettings(),m=(N=(null===(e=u._app)||void 0===e?void 0:e.options.appId)||"",new rs(u._databaseId,N,u._persistenceKey,(re=l).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,im(re.experimentalLongPollingOptions),re.useFetchStreams));var N,re;u._firestoreClient=new f_(u._authCredentials,u._appCheckCredentials,u._queue,m),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Id(u,e){Kf(u=kr(u,Gi));const r=vo(u);if(r._uninitializedComponentsProvider)throw new le(Me.FAILED_PRECONDITION,"SDK cache is already specified.");dn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=u._freezeSettings(),l=new yd;return Ic(r,l,new Pf(l,s.cacheSizeBytes,e?.forceOwnership))}function bc(u){Kf(u=kr(u,Gi));const e=vo(u);if(e._uninitializedComponentsProvider)throw new le(Me.FAILED_PRECONDITION,"SDK cache is already specified.");dn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=u._freezeSettings(),s=new yd;return Ic(e,s,new Rf(s,r.cacheSizeBytes))}function Ic(u,e,r){const s=new Fe;return u.asyncQueue.enqueue((0,a.A)(function*(){try{yield Of(u,r),yield Ba(u,e),s.resolve()}catch(l){const m=l;if(!Yp(m))throw m;dn("Error enabling indexeddb cache. Falling back to memory cache: "+m),s.reject(m)}})).then(()=>s.promise)}function su(u){if(u._initialized&&!u._terminated)throw new le(Me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fe;return u._queue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{yield(r=(0,a.A)(function*(l){if(!ie.D())return Promise.resolve();const m=l+"main";yield ie.delete(m)}),function s(l){return r.apply(this,arguments)})(Jd(u._databaseId,u._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function zf(u){return function(r){const s=new Fe;return r.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function vh(u,e){return Bp.apply(this,arguments)}(yield Th(r),s)})),s.promise}(vo(u=kr(u,Gi)))}function Wf(u){return function p_(u){return u.asyncQueue.enqueue((0,a.A)(function*(){const e=yield Vf(u),r=yield Lf(u);return e.setNetworkEnabled(!0),function(l){const m=ct(l);return m.M_.delete(0),_c(m)}(r)}))}(vo(u=kr(u,Gi)))}function Dh(u){return function g_(u){return u.asyncQueue.enqueue((0,a.A)(function*(){const e=yield Vf(u),r=yield Lf(u);return e.setNetworkEnabled(!1),(s=(0,a.A)(function*(m){const y=ct(m);y.M_.add(0),yield Jc(y),y.N_.set("Offline")}),function l(m){return s.apply(this,arguments)})(r);var s}))}(vo(u=kr(u,Gi)))}function C_(u,e){const r=vo(u=kr(u,Gi)),s=new cm;return function Il(u,e,r,s){const l=function(y,D){let N;return N="string"==typeof y?as().encode(y):y,re=function(re,ge){if(re instanceof Uint8Array)return El(re,void 0);if(re instanceof ArrayBuffer)return El(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new d_(re,D);var re}(r,$e(e));u.asyncQueue.enqueueAndForget((0,a.A)(function*(){!function ou(u,e,r){const s=ct(u);var l;(l=(0,a.A)(function*(y,D,N){try{const W=yield D.getMetadata();if(yield function(Ht,an){const Xt=ct(Ht),Vn=eo(an.createTime);return Xt.persistence.runTransaction("hasNewerBundle","readonly",Xn=>Xt.$r.getBundleMetadata(Xn,an.id)).then(Xn=>!!Xn&&Xn.createTime.compareTo(Vn)>=0)}(y.localStore,W))return yield D.close(),N._completeWith({taskState:"Success",documentsLoaded:(Ht=W).totalDocuments,bytesLoaded:Ht.totalBytes,totalDocuments:Ht.totalDocuments,totalBytes:Ht.totalBytes}),Promise.resolve(new Set);N._updateProgress(Yg(W));const re=new vf(W,y.localStore,D.serializer);let ge=yield D.qa();for(;ge;){const dt=yield re._a(ge);dt&&N._updateProgress(dt),ge=yield D.qa()}const Ue=yield re.complete();return yield Ec(y,Ue.ca,void 0),yield function(Ht,an){const Xt=ct(Ht);return Xt.persistence.runTransaction("Save bundle","readwrite",Vn=>Xt.$r.saveBundleMetadata(Vn,an))}(y.localStore,W),N._completeWith(Ue.progress),Promise.resolve(Ue.ua)}catch(W){return dn("SyncEngine",`Loading bundle failed with ${W}`),N._failWith(W),Promise.resolve(new Set)}var Ht}),function m(y,D,N){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Th(u),l,s)}))}(r,u._databaseId,e,s),s}function b_(u,e){return function nm(u,e){return u.asyncQueue.enqueue((0,a.A)(function*(){return function(s,l){const m=ct(s);return m.persistence.runTransaction("Get named query","readonly",y=>m.$r.getNamedQuery(y,l))}(yield Bu(u),e)}))}(vo(u=kr(u,Gi)),e).then(r=>r?new es(u,null,r.query):null)}function Kf(u){if(u._initialized||u._terminated)throw new le(Me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(Li.fromBase64String(e))}catch(r){throw new le(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Hu(Li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class au{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new le(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Td{constructor(e){this._methodName=e}}class sg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new le(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new le(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const I_=/^__.*__$/;class T_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Nr(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cn(e,this.data,r,this.fieldTransforms)}}class w_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Nr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function A_(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class Al{constructor(e,r,s,l,m,y){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===m&&this.mu(),this.fieldTransforms=m||[],this.fieldMask=y||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Al(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.wu(e),l}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.mu(),l}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Mh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(A_(this.fu)&&I_.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class hm{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||$e(e)}Fu(e,r,s,l=!1){return new Al({fu:e,methodName:r,vu:s,path:zn.emptyPath(),yu:!1,Cu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ds(u){const e=u._freezeSettings(),r=$e(u._databaseId);return new hm(u._databaseId,!!e.ignoreUndefinedProperties,r)}function xo(u,e,r,s,l,m={}){const y=u.Fu(m.merge||m.mergeFields?2:0,e,r,l);fm("Data must be an object, but it was:",y,s);const D=ag(s,y);let N,W;if(m.merge)N=new $i(y.fieldMask),W=y.fieldTransforms;else if(m.mergeFields){const re=[];for(const ge of m.mergeFields){const Ue=Dd(e,ge,r);if(!y.contains(Ue))throw new le(Me.INVALID_ARGUMENT,`Field '${Ue}' is specified in your field mask but missing from your input data.`);pm(re,Ue)||re.push(Ue)}N=new $i(re),W=y.fieldTransforms.filter(ge=>N.covers(ge.field))}else N=null,W=y.fieldTransforms;return new T_(new gi(D),N,W)}class zs extends Td{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zs}}function wd(u,e,r){return new Al({fu:3,vu:e.settings.vu,methodName:u._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qf extends Td{_toFieldTransform(e){return new ca(e.path,new Pa)}isEqual(e){return e instanceof qf}}class Dl extends Td{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=wd(this,e,!0),s=this.Mu.map(m=>Ad(m,r)),l=new aa(s);return new ca(e.path,l)}isEqual(e){return e instanceof Dl&&(0,he.bD)(this.Mu,e.Mu)}}class Gu extends Td{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=wd(this,e,!0),s=this.Mu.map(m=>Ad(m,r)),l=new Ls(s);return new ca(e.path,l)}isEqual(e){return e instanceof Gu&&(0,he.bD)(this.Mu,e.Mu)}}class zu extends Td{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new Js(e.serializer,ya(e.serializer,this.xu));return new ca(e.path,r)}isEqual(e){return e instanceof zu&&this.xu===e.xu}}function xh(u,e,r,s){const l=u.Fu(1,e,r);fm("Data must be an object, but it was:",l,s);const m=[],y=gi.empty();No(s,(N,W)=>{const re=cg(e,N,r);W=(0,he.Ku)(W);const ge=l.Su(re);if(W instanceof zs)m.push(re);else{const Ue=Ad(W,ge);null!=Ue&&(m.push(re),y.set(re,Ue))}});const D=new $i(m);return new w_(y,D,l.fieldTransforms)}function Sh(u,e,r,s,l,m){const y=u.Fu(1,e,r),D=[Dd(e,s,r)],N=[l];if(m.length%2!=0)throw new le(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ue=0;Ue<m.length;Ue+=2)D.push(Dd(e,m[Ue])),N.push(m[Ue+1]);const W=[],re=gi.empty();for(let Ue=D.length-1;Ue>=0;--Ue)if(!pm(W,D[Ue])){const dt=D[Ue];let Ht=N[Ue];Ht=(0,he.Ku)(Ht);const an=y.Su(dt);if(Ht instanceof zs)W.push(dt);else{const Xt=Ad(Ht,an);null!=Xt&&(W.push(dt),re.set(dt,Xt))}}const ge=new $i(W);return new w_(re,ge,y.fieldTransforms)}function Ph(u,e,r,s=!1){return Ad(r,u.Fu(s?4:3,e))}function Ad(u,e){if(Rh(u=(0,he.Ku)(u)))return fm("Unsupported field value:",e,u),ag(u,e);if(u instanceof Td)return function(s,l){if(!A_(l.fu))throw l.Du(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Du(`${s._methodName}() is not currently supported inside arrays`);const m=s._toFieldTransform(l);m&&l.fieldTransforms.push(m)}(u,e),null;if(void 0===u&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),u instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,l){const m=[];let y=0;for(const D of s){let N=Ad(D,l.bu(y));null==N&&(N={nullValue:"NULL_VALUE"}),m.push(N),y++}return{arrayValue:{values:m}}}(u,e)}return function(s,l){if(null===(s=(0,he.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ya(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const m=Wt.fromDate(s);return{timestampValue:Go(l.serializer,m)}}if(s instanceof Wt){const m=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Go(l.serializer,m)}}if(s instanceof sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hu)return{bytesValue:tl(l.serializer,s._byteString)};if(s instanceof Ro){const m=l.databaseId,y=s.firestore._databaseId;if(!y.isEqual(m))throw l.Du(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Ma(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Du(`Unsupported field value: ${ng(s)}`)}(u,e)}function ag(u,e){const r={};return zi(u)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(u,(s,l)=>{const m=Ad(l,e.pu(s));null!=m&&(r[s]=m)}),{mapValue:{fields:r}}}function Rh(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Wt||u instanceof sg||u instanceof Hu||u instanceof Ro||u instanceof Td)}function fm(u,e,r){if(!Rh(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=ng(r);throw e.Du("an object"===s?u+" a custom object":u+" "+s)}var l}function Dd(u,e,r){if((e=(0,he.Ku)(e))instanceof au)return e._internalPath;if("string"==typeof e)return cg(u,e);throw Mh("Field path arguments must be of type string or ",u,!1,void 0,r)}const pv=new RegExp("[~\\*/\\[\\]]");function cg(u,e,r){if(e.search(pv)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,r);try{return new au(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,r)}}function Mh(u,e,r,s,l){const m=s&&!s.isEmpty(),y=void 0!==l;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(m||y)&&(N+=" (found",m&&(N+=` in field ${s}`),y&&(N+=` in document ${l}`),N+=")"),new le(Me.INVALID_ARGUMENT,D+u+N)}function pm(u,e){return u.some(r=>r.isEqual(e))}class Yf{constructor(e,r,s,l,m){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class gv extends Yf{data(){return super.data()}}function gm(u,e){return"string"==typeof e?cg(u,e):e instanceof au?e._internalPath:e._delegate._internalPath}function D_(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new le(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xl{}class cu extends xl{}function ug(u,e,...r){let s=[];e instanceof xl&&s.push(e),s=s.concat(r),function(m){const y=m.filter(N=>N instanceof uu).length,D=m.filter(N=>N instanceof Oh).length;if(y>1||y>0&&D>0)throw new le(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)u=l._apply(u);return u}class Oh extends cu{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Oh(e,r,s)}_apply(e){const r=this._parse(e);return Em(e._query,r),new es(e.firestore,e.converter,Ve(e._query,r))}_parse(e){const r=Ds(e.firestore);return function(m,y,D,N,W,re,ge){let Ue;if(W.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new le(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){ym(ge,re);const dt=[];for(const Ht of ge)dt.push(P_(N,m,Ht));Ue={arrayValue:{values:dt}}}else Ue=P_(N,m,ge)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||ym(ge,re),Ue=Ph(D,"where",ge,"in"===re||"not-in"===re);return Rt.create(W,re,Ue)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function Nh(u,e,r){const s=e,l=gm("where",u);return Oh._create(l,s,r)}class uu extends xl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new uu(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:gn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,m){let y=l;const D=m.getFlattenedFilters();for(const N of D)Em(y,N),y=Ve(y,N)}(e._query,r),new es(e.firestore,e.converter,Ve(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mm extends cu{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new mm(e,r)}_apply(e){const r=function(l,m,y){if(null!==l.startAt)throw new le(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new le(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yt(m,y)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(l,m){const y=l.explicitOrderBy.concat([m]);return new Ns(l.path,l.collectionGroup,y,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}function _m(u,e="asc"){const r=e,s=gm("orderBy",u);return mm._create(s,r)}class vm extends cu{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new vm(e,r,s)}_apply(e){return new es(e.firestore,e.converter,yn(e._query,this._limit,this._limitType))}}function vv(u){return Cd("limit",u),vm._create("limit",u,"F")}function lg(u){return Cd("limitToLast",u),vm._create("limitToLast",u,"L")}class dg extends cu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new dg(e,r,s)}_apply(e){const r=S_(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(m=r,new Ns((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,m,l.endAt)));var l,m}}function kh(...u){return dg._create("startAt",u,!0)}function Xf(...u){return dg._create("startAfter",u,!1)}class hg extends cu{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new hg(e,r,s)}_apply(e){const r=S_(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(m=r,new Ns((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,m)));var l,m}}function x_(...u){return hg._create("endBefore",u,!1)}function yv(...u){return hg._create("endAt",u,!0)}function S_(u,e,r,s){if(r[0]=(0,he.Ku)(r[0]),r[0]instanceof Yf)return function(m,y,D,N,W){if(!N)throw new le(Me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const re=[];for(const ge of G(m))if(ge.field.isKeyField())re.push(Zt(y,N.key));else{const Ue=N.data.field(ge.field);if(qo(Ue))throw new le(Me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ue){const dt=ge.field.canonicalString();throw new le(Me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${dt}' (used as the orderBy) does not exist.`)}re.push(Ue)}return new ye(re,W)}(u._query,u.firestore._databaseId,e,r[0]._document,s);{const l=Ds(u.firestore);return function(y,D,N,W,re,ge){const Ue=y.explicitOrderBy;if(re.length>Ue.length)throw new le(Me.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const dt=[];for(let Ht=0;Ht<re.length;Ht++){const an=re[Ht];if(Ue[Ht].field.isKeyField()){if("string"!=typeof an)throw new le(Me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof an}`);if(!xa(y)&&-1!==an.indexOf("/"))throw new le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${an}' contains a slash.`);const Xt=y.path.child(fn.fromString(an));if(!Ut.isDocumentKey(Xt))throw new le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${Xt}' is not because it contains an odd number of segments.`);const Vn=new Ut(Xt);dt.push(Zt(D,Vn))}else{const Xt=Ph(N,W,an);dt.push(Xt)}}return new ye(dt,ge)}(u._query,u.firestore._databaseId,l,e,r,s)}}function P_(u,e,r){if("string"==typeof(r=(0,he.Ku)(r))){if(""===r)throw new le(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xa(e)&&-1!==r.indexOf("/"))throw new le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(fn.fromString(r));if(!Ut.isDocumentKey(s))throw new le(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zt(u,new Ut(s))}if(r instanceof Ro)return Zt(u,r._key);throw new le(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(r)}.`)}function ym(u,e){if(!Array.isArray(u)||0===u.length)throw new le(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Em(u,e){const r=function(l,m){for(const y of l)for(const D of y.getFlattenedFilters())if(m.indexOf(D.op)>=0)return D.op;return null}(u.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new le(Me.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class R_{convertValue(e,r="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Pt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return No(e,(l,m)=>{s[l]=this.convertValue(m,r)}),s}convertGeoPoint(e){return new sg(ci(e.latitude),ci(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Cs(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const r=ko(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=fn.fromString(e);Bt(Vc(s));const l=new Yn(s.get(1),s.get(3)),m=new Ut(s.popFirst(5));return l.isEqual(r)||Jt(`Document ${m} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function Fh(u,e,r){let s;return s=u?r&&(r.merge||r.mergeFields)?u.toFirestore(e,r):u.toFirestore(e):e,s}class M_ extends R_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ro(this.firestore,null,r)}}class xd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends Yf{constructor(e,r,s,l,m,y){super(e,r,s,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(gm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class pg extends Sd{data(e={}){return super.data(e)}}class Sl{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new xd(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new pg(this._firestore,this._userDataWriter,s.key,s,new xd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new le(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,m){if(l._snapshot.oldDocs.isEmpty()){let y=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new pg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new xd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:y++}))}{let y=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>m||3!==D.type).map(D=>{const N=new pg(l._firestore,l._userDataWriter,D.doc.key,D.doc,new xd(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let W=-1,re=-1;return 0!==D.type&&(W=y.indexOf(D.doc.key),y=y.delete(D.doc.key)),1!==D.type&&(y=y.add(D.doc),re=y.indexOf(D.doc.key)),{type:N_(D.type),doc:N,oldIndex:W,newIndex:re}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function N_(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function Tc(u,e){return u instanceof Sd&&e instanceof Sd?u._firestore===e._firestore&&u._key.isEqual(e._key)&&(null===u._document?null===e._document:u._document.isEqual(e._document))&&u._converter===e._converter:u instanceof Sl&&e instanceof Sl&&u._firestore===e._firestore&&$f(u.query,e.query)&&u.metadata.isEqual(e.metadata)&&u._snapshot.isEqual(e._snapshot)}function k_(u){u=kr(u,Ro);const e=kr(u.firestore,Gi);return Xp(vo(e),u._key).then(r=>Im(e,u,r))}class Pd extends R_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ro(this.firestore,null,r)}}function Cm(u){u=kr(u,Ro);const e=kr(u.firestore,Gi),r=vo(e),s=new Pd(e);return function m_(u,e){const r=new Fe;return u.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(m,y,D){try{const N=yield function(re,ge){const Ue=ct(re);return Ue.persistence.runTransaction("read document","readonly",dt=>Ue.localDocuments.getDocument(dt,ge))}(m,y);N.isFoundDocument()?D.resolve(N):N.isNoDocument()?D.resolve(null):D.reject(new le(Me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=pl(N,`Failed to get document '${y} from cache`);D.reject(W)}}),function l(m,y,D){return s.apply(this,arguments)})(yield Bu(u),e,r);var s})),r.promise}(r,u._key).then(l=>new Sd(e,s,u._key,l,new xd(null!==l&&l.hasLocalMutations,!0),u.converter))}function Pl(u){u=kr(u,Ro);const e=kr(u.firestore,Gi);return Xp(vo(e),u._key,{source:"server"}).then(r=>Im(e,u,r))}function gg(u){u=kr(u,es);const e=kr(u.firestore,Gi),r=vo(e),s=new Pd(e);return D_(u._query),Qp(r,u._query).then(l=>new Sl(e,s,u,l))}function Cv(u){u=kr(u,es);const e=kr(u.firestore,Gi),r=vo(e),s=new Pd(e);return function Uf(u,e){const r=new Fe;return u.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(m,y,D){try{const N=yield Jl(m,y,!0),W=new Jg(y,N.hs),re=W.da(N.documents),ge=W.applyChanges(re,!1);D.resolve(ge.snapshot)}catch(N){const W=pl(N,`Failed to execute query '${y} against cache`);D.reject(W)}}),function l(m,y,D){return s.apply(this,arguments)})(yield Bu(u),e,r);var s})),r.promise}(r,u._query).then(l=>new Sl(e,s,u,l))}function bv(u){u=kr(u,es);const e=kr(u.firestore,Gi),r=vo(e),s=new Pd(e);return Qp(r,u._query,{source:"server"}).then(l=>new Sl(e,s,u,l))}function Iv(u,e,r){u=kr(u,Ro);const s=kr(u.firestore,Gi),l=Fh(u.converter,e,r);return Mo(s,[xo(Ds(s),"setDoc",u._key,l,null!==u.converter,r).toMutation(u._key,Di.none())])}function bm(u,e,r,...s){u=kr(u,Ro);const l=kr(u.firestore,Gi),m=Ds(l);let y;return y="string"==typeof(e=(0,he.Ku)(e))||e instanceof au?Sh(m,"updateDoc",u._key,e,r,s):xh(m,"updateDoc",u._key,e),Mo(l,[y.toMutation(u._key,Di.exists(!0))])}function lu(u){return Mo(kr(u.firestore,Gi),[new mi(u._key,Di.none())])}function F_(u,e){const r=kr(u.firestore,Gi),s=E_(u),l=Fh(u.converter,e);return Mo(r,[xo(Ds(u.firestore),"addDoc",s._key,l,null!==u.converter,{}).toMutation(s._key,Di.exists(!1))]).then(()=>s)}function Tv(u,...e){var r,s,l;u=(0,he.Ku)(u);let m={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof e[y]||Ah(e[y])||(m=e[y],y++);const D={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(Ah(e[y])){const ge=e[y];e[y]=null===(r=ge.next)||void 0===r?void 0:r.bind(ge),e[y+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[y+2]=null===(l=ge.complete)||void 0===l?void 0:l.bind(ge)}let N,W,re;if(u instanceof Ro)W=kr(u.firestore,Gi),re=Yr(u._key.path),N={next:ge=>{e[y]&&e[y](Im(W,u,ge))},error:e[y+1],complete:e[y+2]};else{const ge=kr(u,es);W=kr(ge.firestore,Gi),re=ge._query;const Ue=new Pd(W);N={next:dt=>{e[y]&&e[y](new Sl(W,Ue,ge,dt))},error:e[y+1],complete:e[y+2]},D_(u._query)}return function(Ue,dt,Ht,an){const Xt=new Mf(an),Vn=new fd(dt,Xt,Ht);return Ue.asyncQueue.enqueueAndForget((0,a.A)(function*(){return dh(yield bl(Ue),Vn)})),()=>{Xt.$a(),Ue.asyncQueue.enqueueAndForget((0,a.A)(function*(){return gl(yield bl(Ue),Vn)}))}}(vo(W),re,D,N)}function by(u,e){return function __(u,e){const r=new Mf(e);return u.asyncQueue.enqueueAndForget((0,a.A)(function*(){return l=yield bl(u),m=r,ct(l).z_.add(m),void m.next();var l,m})),()=>{r.$a(),u.asyncQueue.enqueueAndForget((0,a.A)(function*(){return l=yield bl(u),m=r,void ct(l).z_.delete(m);var l,m}))}}(vo(u=kr(u,Gi)),Ah(e)?e:{next:e})}function Mo(u,e){return function(s,l){const m=new Fe;return s.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function Lp(u,e,r){return mh.apply(this,arguments)}(yield Th(s),l,m)})),m.promise}(vo(u),e)}function Im(u,e,r){const s=r.docs.get(e._key),l=new Pd(u);return new Sd(u,l,e._key,s,new xd(r.hasPendingWrites,r.fromCache),e.converter)}const du={maxAttempts:5};class hu{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ds(e)}set(e,r,s){this._verifyNotCommitted();const l=fu(e,this._firestore),m=Fh(l.converter,r,s),y=xo(this._dataReader,"WriteBatch.set",l._key,m,null!==l.converter,s);return this._mutations.push(y.toMutation(l._key,Di.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const m=fu(e,this._firestore);let y;return y="string"==typeof(r=(0,he.Ku)(r))||r instanceof au?Sh(this._dataReader,"WriteBatch.update",m._key,r,s,l):xh(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(y.toMutation(m._key,Di.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=fu(e,this._firestore);return this._mutations=this._mutations.concat(new mi(r._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fu(u,e){if((u=(0,he.Ku)(u)).firestore!==e)throw new le(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class $_ extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Ds(r)}get(r){const s=fu(r,this._firestore),l=new M_(this._firestore);return this._transaction.lookup([s._key]).then(m=>{if(!m||1!==m.length)return Pt();const y=m[0];if(y.isFoundDocument())return new Yf(this._firestore,l,y.key,y,s.converter);if(y.isNoDocument())return new Yf(this._firestore,l,s._key,null,s.converter);throw Pt()})}set(r,s,l){const m=fu(r,this._firestore),y=Fh(m.converter,s,l),D=xo(this._dataReader,"Transaction.set",m._key,y,null!==m.converter,l);return this._transaction.set(m._key,D),this}update(r,s,l,...m){const y=fu(r,this._firestore);let D;return D="string"==typeof(s=(0,he.Ku)(s))||s instanceof au?Sh(this._dataReader,"Transaction.update",y._key,s,l,m):xh(this._dataReader,"Transaction.update",y._key,s),this._transaction.update(y._key,D),this}delete(r){const s=fu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=fu(e,this._firestore),s=new Pd(this._firestore);return super.get(e).then(l=>new Sd(this._firestore,s,r._key,l._document,new xd(!1,!1),r.converter))}}function H_(u,e,r){u=kr(u,Gi);const s=Object.assign(Object.assign({},du),r);return function(m){if(m.maxAttempts<1)throw new le(Me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(m,y,D){const N=new Fe;return m.asyncQueue.enqueueAndForget((0,a.A)(function*(){const W=yield function lr(u){return Ff(u).then(e=>e.datastore)}(m);new h_(m.asyncQueue,W,D,y,N).Xa()})),N.promise}(vo(u),l=>e(new $_(u,l)),s)}function Jf(){return new zs("deleteField")}function mg(){return new qf("serverTimestamp")}function Vh(...u){return new Dl("arrayUnion",u)}function Zf(...u){return new Gu("arrayRemove",u)}function wm(u){return new zu("increment",u)}!function(e,r=!0){Ze=ae.SDK_VERSION,(0,ae._registerComponent)(new o.uA("firestore",(s,{instanceIdentifier:l,options:m})=>{const y=s.getProvider("app").getImmediate(),D=new Gi(new Ge(s.getProvider("auth-internal")),new sn(s.getProvider("app-check-internal")),function(W,re){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new le(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yn(W.options.projectId,re)}(y,l),y);return m=Object.assign({useFetchStreams:r},m),D._setSettings(m),D},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(We,"4.6.3",e),(0,ae.registerVersion)(We,"4.6.3","esm2017")}()},4535:(on,Je,L)=>{L.d(Je,{Ad:()=>kn,D5:()=>Zt,KR:()=>fi,Mp:()=>bo,Mx:()=>ni,TZ:()=>qt,UC:()=>Pi,UY:()=>nr,XR:()=>io,ZH:()=>Tn,_w:()=>dr,bp:()=>qi,c7:()=>Gr,nb:()=>Fo,nw:()=>_n,p_:()=>Un,qk:()=>Ui,uj:()=>Jt,xc:()=>On,yb:()=>Or});var a=L(467),ae=L(7852),o=L(1076),Ae=L(1362);const he="firebasestorage.googleapis.com",De="storageBucket";class Z extends o.g{constructor(z,ye,Re=0){super(me(z),`Firebase Storage: ${ye} (${me(z)})`),this.status_=Re,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Z.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return me(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ce=function(Q){return Q.UNKNOWN="unknown",Q.OBJECT_NOT_FOUND="object-not-found",Q.BUCKET_NOT_FOUND="bucket-not-found",Q.PROJECT_NOT_FOUND="project-not-found",Q.QUOTA_EXCEEDED="quota-exceeded",Q.UNAUTHENTICATED="unauthenticated",Q.UNAUTHORIZED="unauthorized",Q.UNAUTHORIZED_APP="unauthorized-app",Q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Q.INVALID_CHECKSUM="invalid-checksum",Q.CANCELED="canceled",Q.INVALID_EVENT_NAME="invalid-event-name",Q.INVALID_URL="invalid-url",Q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Q.NO_DEFAULT_BUCKET="no-default-bucket",Q.CANNOT_SLICE_BLOB="cannot-slice-blob",Q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Q.NO_DOWNLOAD_URL="no-download-url",Q.INVALID_ARGUMENT="invalid-argument",Q.INVALID_ARGUMENT_COUNT="invalid-argument-count",Q.APP_DELETED="app-deleted",Q.INVALID_ROOT_OPERATION="invalid-root-operation",Q.INVALID_FORMAT="invalid-format",Q.INTERNAL_ERROR="internal-error",Q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Q}(ce||{});function me(Q){return"storage/"+Q}function at(){return new Z(ce.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cn(){return new Z(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function et(){return new Z(ce.CANCELED,"User canceled the upload/download.")}function rt(){return new Z(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jt(Q){return new Z(ce.INVALID_ARGUMENT,Q)}function dn(){return new Z(ce.APP_DELETED,"The Firebase app was deleted.")}function nr(Q){return new Z(ce.INVALID_ROOT_OPERATION,"The operation '"+Q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pt(Q,z){return new Z(ce.INVALID_FORMAT,"String does not match format '"+Q+"': "+z)}function Bt(Q){throw new Z(ce.INTERNAL_ERROR,"Internal error: "+Q)}class qt{constructor(z,ye){this.bucket=z,this.path_=ye}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,ye){let Re;try{Re=qt.makeFromUrl(z,ye)}catch{return new qt(z,"")}if(""===Re.path)return Re;throw function ot(Q){return new Z(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Q+"'.")}(z)}static makeFromUrl(z,ye){let Re=null;const Ye="([A-Za-z0-9.\\-_]+)",mn=new RegExp("^gs://"+Ye+"(/(.*))?$","i");function gn(Ci){Ci.path_=decodeURIComponent(Ci.path)}const Rn=ye.replace(/[.]/g,"\\."),ir=[{regex:mn,indices:{bucket:1,path:3},postModify:function yt(Ci){"/"===Ci.path.charAt(Ci.path.length-1)&&(Ci.path_=Ci.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Rn}/v[A-Za-z0-9_]+/b/${Ye}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:gn},{regex:new RegExp(`^https?://${ye===he?"(?:storage.googleapis.com|storage.cloud.google.com)":ye}/${Ye}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:gn}];for(let Ci=0;Ci<ir.length;Ci++){const oi=ir[Ci],gr=oi.regex.exec(z);if(gr){let Ai=gr[oi.indices.path];Ai||(Ai=""),Re=new qt(gr[oi.indices.bucket],Ai),oi.postModify(Re);break}}if(null==Re)throw function We(Q){return new Z(ce.INVALID_URL,"Invalid URL '"+Q+"'.")}(z);return Re}}class ct{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Se(Q){return"string"==typeof Q||Q instanceof String}function Ge(Q){return Tt()&&Q instanceof Blob}function Tt(){return typeof Blob<"u"}function xt(Q,z,ye,Re){if(Re<z)throw Jt(`Invalid value for '${Q}'. Expected ${z} or greater.`);if(Re>ye)throw Jt(`Invalid value for '${Q}'. Expected ${ye} or less.`)}function hn(Q,z,ye){let Re=z;return null==ye&&(Re=`https://${z}`),`${ye}://${Re}/v0${Q}`}function sn(Q){const z=encodeURIComponent;let ye="?";for(const Re in Q)Q.hasOwnProperty(Re)&&(ye=ye+(z(Re)+"=")+z(Q[Re])+"&");return ye=ye.slice(0,-1),ye}var Fn=function(Q){return Q[Q.NO_ERROR=0]="NO_ERROR",Q[Q.NETWORK_ERROR=1]="NETWORK_ERROR",Q[Q.ABORT=2]="ABORT",Q}(Fn||{});function In(Q,z){const ye=Q>=500&&Q<600,Ye=-1!==[408,429].indexOf(Q),yt=-1!==z.indexOf(Q);return ye||Ye||yt}class fr{constructor(z,ye,Re,Ye,yt,Yt,mn,Rt,gn,ar,Rn,pi=!0){this.url_=z,this.method_=ye,this.headers_=Re,this.body_=Ye,this.successCodes_=yt,this.additionalRetryCodes_=Yt,this.callback_=mn,this.errorCallback_=Rt,this.timeout_=gn,this.progressCallback_=ar,this.connectionFactory_=Rn,this.retry=pi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((wr,Jr)=>{this.resolve_=wr,this.reject_=Jr,this.start_()})}start_(){const ye=(Re,Ye)=>{const yt=this.resolve_,Yt=this.reject_,mn=Ye.connection;if(Ye.wasSuccessCode)try{const Rt=this.callback_(mn,mn.getResponse());!function Fe(Q){return void 0!==Q}(Rt)?yt():yt(Rt)}catch(Rt){Yt(Rt)}else if(null!==mn){const Rt=at();Rt.serverResponse=mn.getErrorText(),Yt(this.errorCallback_?this.errorCallback_(mn,Rt):Rt)}else Yt(Ye.canceled?this.appDelete_?dn():et():cn())};this.canceled_?ye(0,new Gt(!1,null,!0)):this.backoffId_=function Me(Q,z,ye){let Re=1,Ye=null,yt=null,Yt=!1,mn=0;function Rt(){return 2===mn}let gn=!1;function ar(...Ur){gn||(gn=!0,z.apply(null,Ur))}function Rn(Ur){Ye=setTimeout(()=>{Ye=null,Q(wr,Rt())},Ur)}function pi(){yt&&clearTimeout(yt)}function wr(Ur,...Yi){if(gn)return void pi();if(Ur)return pi(),void ar.call(null,Ur,...Yi);if(Rt()||Yt)return pi(),void ar.call(null,Ur,...Yi);let ir;Re<64&&(Re*=2),1===mn?(mn=2,ir=0):ir=1e3*(Re+Math.random()),Rn(ir)}let Jr=!1;function ii(Ur){Jr||(Jr=!0,pi(),!gn&&(null!==Ye?(Ur||(mn=2),clearTimeout(Ye),Rn(0)):Ur||(mn=1)))}return Rn(0),yt=setTimeout(()=>{Yt=!0,ii(!0)},ye),ii}((Re,Ye)=>{if(Ye)return void Re(!1,new Gt(!1,null,!0));const yt=this.connectionFactory_();this.pendingConnection_=yt;const Yt=mn=>{null!==this.progressCallback_&&this.progressCallback_(mn.loaded,mn.lengthComputable?mn.total:-1)};null!==this.progressCallback_&&yt.addUploadProgressListener(Yt),yt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&yt.removeUploadProgressListener(Yt),this.pendingConnection_=null;const mn=yt.getErrorCode()===Fn.NO_ERROR,Rt=yt.getStatus();if(!mn||In(Rt,this.additionalRetryCodes_)&&this.retry){const ar=yt.getErrorCode()===Fn.ABORT;return void Re(!1,new Gt(!1,null,ar))}const gn=-1!==this.successCodes_.indexOf(Rt);Re(!0,new Gt(gn,yt))})},ye,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function le(Q){Q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gt{constructor(z,ye,Re){this.wasSuccessCode=z,this.connection=ye,this.canceled=!!Re}}function Cr(...Q){const z=function fn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const ye=new z;for(let Re=0;Re<Q.length;Re++)ye.append(Q[Re]);return ye.getBlob()}if(Tt())return new Blob(Q);throw new Z(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const _n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pn{constructor(z,ye){this.data=z,this.contentType=ye||null}}function Tn(Q,z){switch(Q){case _n.RAW:return new Pn(pr(z));case _n.BASE64:case _n.BASE64URL:return new Pn(ei(Q,z));case _n.DATA_URL:return new Pn(function ti(Q){const z=new $n(Q);return z.base64?ei(_n.BASE64,z.rest):function Tr(Q){let z;try{z=decodeURIComponent(Q)}catch{throw Pt(_n.DATA_URL,"Malformed data URL.")}return pr(z)}(z.rest)}(z),function Ki(Q){return new $n(Q).contentType}(z))}throw at()}function pr(Q){const z=[];for(let ye=0;ye<Q.length;ye++){let Re=Q.charCodeAt(ye);Re<=127?z.push(Re):Re<=2047?z.push(192|Re>>6,128|63&Re):55296==(64512&Re)?ye<Q.length-1&&56320==(64512&Q.charCodeAt(ye+1))?(Re=65536|(1023&Re)<<10|1023&Q.charCodeAt(++ye),z.push(240|Re>>18,128|Re>>12&63,128|Re>>6&63,128|63&Re)):z.push(239,191,189):56320==(64512&Re)?z.push(239,191,189):z.push(224|Re>>12,128|Re>>6&63,128|63&Re)}return new Uint8Array(z)}function ei(Q,z){switch(Q){case _n.BASE64:{const Ye=-1!==z.indexOf("-"),yt=-1!==z.indexOf("_");if(Ye||yt)throw Pt(Q,"Invalid character '"+(Ye?"-":"_")+"' found: is it base64url encoded?");break}case _n.BASE64URL:{const Ye=-1!==z.indexOf("+"),yt=-1!==z.indexOf("/");if(Ye||yt)throw Pt(Q,"Invalid character '"+(Ye?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let ye;try{ye=function Ut(Q){if(typeof atob>"u")throw function be(Q){return new Z(ce.UNSUPPORTED_ENVIRONMENT,`${Q} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Q)}(z)}catch(Ye){throw Ye.message.includes("polyfill")?Ye:Pt(Q,"Invalid character found")}const Re=new Uint8Array(ye.length);for(let Ye=0;Ye<ye.length;Ye++)Re[Ye]=ye.charCodeAt(Ye);return Re}class $n{constructor(z){this.base64=!1,this.contentType=null;const ye=z.match(/^data:([^,]+)?,/);if(null===ye)throw Pt(_n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Re=ye[1]||null;null!=Re&&(this.base64=function un(Q,z){return Q.length>=z.length&&Q.substring(Q.length-z.length)===z}(Re,";base64"),this.contentType=this.base64?Re.substring(0,Re.length-7):Re),this.rest=z.substring(z.indexOf(",")+1)}}class ni{constructor(z,ye){let Re=0,Ye="";Ge(z)?(this.data_=z,Re=z.size,Ye=z.type):z instanceof ArrayBuffer?(ye?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),Re=this.data_.length):z instanceof Uint8Array&&(ye?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),Re=z.length),this.size_=Re,this.type_=Ye}size(){return this.size_}type(){return this.type_}slice(z,ye){if(Ge(this.data_)){const Ye=function zn(Q,z,ye){return Q.webkitSlice?Q.webkitSlice(z,ye):Q.mozSlice?Q.mozSlice(z,ye):Q.slice?Q.slice(z,ye):null}(this.data_,z,ye);return null===Ye?null:new ni(Ye)}{const Re=new Uint8Array(this.data_.buffer,z,ye-z);return new ni(Re,!0)}}static getBlob(...z){if(Tt()){const ye=z.map(Re=>Re instanceof ni?Re.data_:Re);return new ni(Cr.apply(null,ye))}{const ye=z.map(Yt=>Se(Yt)?Tn(_n.RAW,Yt).data:Yt.data_);let Re=0;ye.forEach(Yt=>{Re+=Yt.byteLength});const Ye=new Uint8Array(Re);let yt=0;return ye.forEach(Yt=>{for(let mn=0;mn<Yt.length;mn++)Ye[yt++]=Yt[mn]}),new ni(Ye,!0)}}uploadData(){return this.data_}}function qn(Q){let z;try{z=JSON.parse(Q)}catch{return null}return function xe(Q){return"object"==typeof Q&&!Array.isArray(Q)}(z)?z:null}function yi(Q){const z=Q.lastIndexOf("/",Q.length-2);return-1===z?Q:Q.slice(z+1)}function Ke(Q,z){return z}class mt{constructor(z,ye,Re,Ye){this.server=z,this.local=ye||z,this.writable=!!Re,this.xform=Ye||Ke}}let ie=null;function ft(){if(ie)return ie;const Q=[];Q.push(new mt("bucket")),Q.push(new mt("generation")),Q.push(new mt("metageneration")),Q.push(new mt("name","fullPath",!0));const ye=new mt("name");ye.xform=function z(yt,Yt){return function Ie(Q){return!Se(Q)||Q.length<2?Q:yi(Q)}(Yt)},Q.push(ye);const Ye=new mt("size");return Ye.xform=function Re(yt,Yt){return void 0!==Yt?Number(Yt):Yt},Q.push(Ye),Q.push(new mt("timeCreated")),Q.push(new mt("updated")),Q.push(new mt("md5Hash",null,!0)),Q.push(new mt("cacheControl",null,!0)),Q.push(new mt("contentDisposition",null,!0)),Q.push(new mt("contentEncoding",null,!0)),Q.push(new mt("contentLanguage",null,!0)),Q.push(new mt("contentType",null,!0)),Q.push(new mt("metadata","customMetadata",!0)),ie=Q,ie}function xr(Q,z,ye){const Re=qn(z);return null===Re?null:function Mn(Q,z,ye){const Re={type:"file"},Ye=ye.length;for(let yt=0;yt<Ye;yt++){const Yt=ye[yt];Re[Yt.local]=Yt.xform(Re,z[Yt.server])}return function Kt(Q,z){Object.defineProperty(Q,"ref",{get:function ye(){const yt=new qt(Q.bucket,Q.fullPath);return z._makeStorageReference(yt)}})}(Re,Q),Re}(Q,Re,ye)}function Oe(Q,z){const ye={},Re=z.length;for(let Ye=0;Ye<Re;Ye++){const yt=z[Ye];yt.writable&&(ye[yt.server]=Q[yt.local])}return JSON.stringify(ye)}const ee="prefixes",H="items";class ue{constructor(z,ye,Re,Ye){this.url=z,this.method=ye,this.handler=Re,this.timeout=Ye,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function je(Q){if(!Q)throw at()}function It(Q,z){return function ye(Re,Ye){const yt=xr(Q,Ye,z);return je(null!==yt),yt}}function nn(Q){return function z(ye,Re){let Ye;return Ye=401===ye.getStatus()?ye.getErrorText().includes("Firebase App Check token is invalid")?function jt(){return new Z(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ct(){return new Z(ce.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ye.getStatus()?function bt(Q){return new Z(ce.QUOTA_EXCEEDED,"Quota for bucket '"+Q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Q.bucket):403===ye.getStatus()?function Mt(Q){return new Z(ce.UNAUTHORIZED,"User does not have permission to access '"+Q+"'.")}(Q.path):Re,Ye.status=ye.getStatus(),Ye.serverResponse=Re.serverResponse,Ye}}function ln(Q){const z=nn(Q);return function ye(Re,Ye){let yt=z(Re,Ye);return 404===Re.getStatus()&&(yt=function Xe(Q){return new Z(ce.OBJECT_NOT_FOUND,"Object '"+Q+"' does not exist.")}(Q.path)),yt.serverResponse=Ye.serverResponse,yt}}function rr(Q,z,ye){const Ye=hn(z.fullServerUrl(),Q.host,Q._protocol),Yt=Q.maxOperationRetryTime,mn=new ue(Ye,"GET",It(Q,ye),Yt);return mn.errorHandler=ln(z),mn}function An(Q,z,ye,Re,Ye){const yt={};yt.prefix=z.isRoot?"":z.path+"/",ye&&ye.length>0&&(yt.delimiter=ye),Re&&(yt.pageToken=Re),Ye&&(yt.maxResults=Ye);const mn=hn(z.bucketOnlyServerUrl(),Q.host,Q._protocol),gn=Q.maxOperationRetryTime,ar=new ue(mn,"GET",function Ot(Q,z){return function ye(Re,Ye){const yt=function F(Q,z,ye){const Re=qn(ye);return null===Re?null:function V(Q,z,ye){const Re={prefixes:[],items:[],nextPageToken:ye.nextPageToken};if(ye[ee])for(const Ye of ye[ee]){const yt=Ye.replace(/\/$/,""),Yt=Q._makeStorageReference(new qt(z,yt));Re.prefixes.push(Yt)}if(ye[H])for(const Ye of ye[H]){const yt=Q._makeStorageReference(new qt(z,Ye.name));Re.items.push(yt)}return Re}(Q,z,Re)}(Q,z,Ye);return je(null!==yt),yt}}(Q,z.bucket),gn);return ar.urlParams=yt,ar.errorHandler=nn(z),ar}function Pe(Q,z,ye){const Re=Object.assign({},ye);return Re.fullPath=Q.path,Re.size=z.size(),Re.contentType||(Re.contentType=function Bi(Q,z){return Q&&Q.contentType||z&&z.type()||"application/octet-stream"}(null,z)),Re}class Ce{constructor(z,ye,Re,Ye){this.current=z,this.total=ye,this.finalized=!!Re,this.metadata=Ye||null}}function Te(Q,z){let ye=null;try{ye=Q.getResponseHeader("X-Goog-Upload-Status")}catch{je(!1)}return je(!!ye&&-1!==(z||["active"]).indexOf(ye)),ye}const On={STATE_CHANGED:"state_changed"},kn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kr(Q){switch(Q){case"running":case"pausing":case"canceling":return kn.RUNNING;case"paused":return kn.PAUSED;case"success":return kn.SUCCESS;case"canceled":return kn.CANCELED;default:return kn.ERROR}}class Vr{constructor(z,ye,Re){if(function Qe(Q){return"function"==typeof Q}(z)||null!=ye||null!=Re)this.next=z,this.error=ye??void 0,this.complete=Re??void 0;else{const yt=z;this.next=yt.next,this.error=yt.error,this.complete=yt.complete}}}function Ni(Q){return(...z)=>{Promise.resolve().then(()=>Q(...z))}}let Ko=null;class Mr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fn.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fn.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fn.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,ye,Re,Ye){if(this.sent_)throw Bt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ye,z,!0),void 0!==Ye)for(const yt in Ye)Ye.hasOwnProperty(yt)&&this.xhr_.setRequestHeader(yt,Ye[yt].toString());return void 0!==Re?this.xhr_.send(Re):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class ys extends Mr{initXhr(){this.xhr_.responseType="text"}}function ki(){return Ko?Ko():new ys}class Pi{constructor(z,ye,Re=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=ye,this._metadata=Re,this._mappings=ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ye=>{if(this._request=void 0,this._chunkMultiplier=1,Ye._codeEquals(ce.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const yt=this.isExponentialBackoffExpired();if(In(Ye.status,[])){if(!yt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ye=cn()}this._error=Ye,this._transition("error")}},this._metadataErrorHandler=Ye=>{this._request=void 0,Ye._codeEquals(ce.CANCELED)?this.completeTransitions_():(this._error=Ye,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ye,yt)=>{this._resolve=Ye,this._reject=yt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const z=this._transferred;return ye=>this._updateProgress(z+ye)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([ye,Re])=>{switch(this._state){case"running":z(ye,Re);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,ye)=>{const Re=function fe(Q,z,ye,Re,Ye){const yt=z.bucketOnlyServerUrl(),Yt=Pe(z,Re,Ye),mn={name:Yt.fullPath},Rt=hn(yt,Q.host,Q._protocol),ar={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Re.size()}`,"X-Goog-Upload-Header-Content-Type":Yt.contentType,"Content-Type":"application/json; charset=utf-8"},Rn=Oe(Yt,ye),Jr=new ue(Rt,"POST",function wr(ii){let Ur;Te(ii);try{Ur=ii.getResponseHeader("X-Goog-Upload-URL")}catch{je(!1)}return je(Se(Ur)),Ur},Q.maxUploadRetryTime);return Jr.urlParams=mn,Jr.headers=ar,Jr.body=Rn,Jr.errorHandler=nn(z),Jr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Re,ki,z,ye);this._request=Ye,Ye.getPromise().then(yt=>{this._request=void 0,this._uploadUrl=yt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((ye,Re)=>{const Ye=function Et(Q,z,ye,Re){const Rt=new ue(ye,"POST",function yt(gn){const ar=Te(gn,["active","final"]);let Rn=null;try{Rn=gn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{je(!1)}Rn||je(!1);const pi=Number(Rn);return je(!isNaN(pi)),new Ce(pi,Re.size(),"final"===ar)},Q.maxUploadRetryTime);return Rt.headers={"X-Goog-Upload-Command":"query"},Rt.errorHandler=nn(z),Rt}(this._ref.storage,this._ref._location,z,this._blob),yt=this._ref.storage._makeRequest(Ye,ki,ye,Re);this._request=yt,yt.getPromise().then(Yt=>{this._request=void 0,this._updateProgress(Yt.current),this._needToFetchStatus=!1,Yt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,ye=new Ce(this._transferred,this._blob.size()),Re=this._uploadUrl;this._resolveToken((Ye,yt)=>{let Yt;try{Yt=function Dn(Q,z,ye,Re,Ye,yt,Yt,mn){const Rt=new Ce(0,0);if(Yt?(Rt.current=Yt.current,Rt.total=Yt.total):(Rt.current=0,Rt.total=Re.size()),Re.size()!==Rt.total)throw function wt(){return new Z(ce.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const gn=Rt.total-Rt.current;let ar=gn;Ye>0&&(ar=Math.min(ar,Ye));const Rn=Rt.current;let wr="";wr=0===ar?"finalize":gn===ar?"upload, finalize":"upload";const Jr={"X-Goog-Upload-Command":wr,"X-Goog-Upload-Offset":`${Rt.current}`},ii=Re.slice(Rn,Rn+ar);if(null===ii)throw rt();const ir=new ue(ye,"POST",function Ur(Ci,oi){const gr=Te(Ci,["active","final"]),bs=Rt.current+ar,Ai=Re.size();let Is;return Is="final"===gr?It(z,yt)(Ci,oi):null,new Ce(bs,Ai,"final"===gr,Is)},z.maxUploadRetryTime);return ir.headers=Jr,ir.body=ii.uploadData(),ir.progressCallback=mn||null,ir.errorHandler=nn(Q),ir}(this._ref._location,this._ref.storage,Re,this._blob,z,this._mappings,ye,this._makeProgressCallback())}catch(Rt){return this._error=Rt,void this._transition("error")}const mn=this._ref.storage._makeRequest(Yt,ki,Ye,yt,!1);this._request=mn,mn.getPromise().then(Rt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Rt.current),Rt.finalized?(this._metadata=Rt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,ye)=>{const Re=rr(this._ref.storage,this._ref._location,this._mappings),Ye=this._ref.storage._makeRequest(Re,ki,z,ye);this._request=Ye,Ye.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,ye)=>{const Re=function Lt(Q,z,ye,Re,Ye){const yt=z.bucketOnlyServerUrl(),Yt={"X-Goog-Upload-Protocol":"multipart"},Rt=function mn(){let ir="";for(let Ci=0;Ci<2;Ci++)ir+=Math.random().toString().slice(2);return ir}();Yt["Content-Type"]="multipart/related; boundary="+Rt;const gn=Pe(z,Re,Ye),ar=Oe(gn,ye),wr=ni.getBlob("--"+Rt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ar+"\r\n--"+Rt+"\r\nContent-Type: "+gn.contentType+"\r\n\r\n",Re,"\r\n--"+Rt+"--");if(null===wr)throw rt();const Jr={name:gn.fullPath},ii=hn(yt,Q.host,Q._protocol),Yi=Q.maxUploadRetryTime,Xi=new ue(ii,"POST",It(Q,ye),Yi);return Xi.urlParams=Jr,Xi.headers=Yt,Xi.body=wr.uploadData(),Xi.errorHandler=nn(z),Xi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ye=this._ref.storage._makeRequest(Re,ki,z,ye);this._request=Ye,Ye.getPromise().then(yt=>{this._request=void 0,this._metadata=yt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const ye=this._transferred;this._transferred=z,this._transferred!==ye&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const ye="paused"===this._state;this._state=z,ye&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=z,this._notifyObservers();break;case"canceled":this._error=et(),this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=Kr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,ye,Re,Ye){const yt=new Vr(ye||void 0,Re||void 0,Ye||void 0);return this._addObserver(yt),()=>{this._removeObserver(yt)}}then(z,ye){return this._promise.then(z,ye)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const ye=this._observers.indexOf(z);-1!==ye&&this._observers.splice(ye,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(ye=>{this._notifyObserver(ye)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch(Kr(this._state)){case kn.SUCCESS:Ni(this._resolve.bind(null,this.snapshot))();break;case kn.CANCELED:case kn.ERROR:Ni(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch(Kr(this._state)){case kn.RUNNING:case kn.PAUSED:z.next&&Ni(z.next.bind(z,this.snapshot))();break;case kn.SUCCESS:z.complete&&Ni(z.complete.bind(z))();break;default:z.error&&Ni(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class zi{constructor(z,ye){this._service=z,this._location=ye instanceof qt?ye:qt.makeFromUrl(ye,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,ye){return new zi(z,ye)}get root(){const z=new qt(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yi(this._location.path)}get storage(){return this._service}get parent(){const z=function vr(Q){if(0===Q.length)return null;const z=Q.lastIndexOf("/");return-1===z?"":Q.slice(0,z)}(this._location.path);if(null===z)return null;const ye=new qt(this._location.bucket,z);return new zi(this._service,ye)}_throwIfRoot(z){if(""===this._location.path)throw nr(z)}}function $i(Q,z,ye){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,a.A)(function*(Q,z,ye){const Ye=yield Ms(Q,{pageToken:ye});z.prefixes.push(...Ye.prefixes),z.items.push(...Ye.items),null!=Ye.nextPageToken&&(yield $i(Q,z,Ye.nextPageToken))})).apply(this,arguments)}function Ms(Q,z){null!=z&&"number"==typeof z.maxResults&&xt("options.maxResults",1,1e3,z.maxResults);const ye=z||{},Re=An(Q.storage,Q._location,"/",ye.pageToken,ye.maxResults);return Q.storage.makeRequestWithTokens(Re,ki)}function ko(Q){Q._throwIfRoot("getDownloadURL");const z=function br(Q,z,ye){const Ye=hn(z.fullServerUrl(),Q.host,Q._protocol),Yt=Q.maxOperationRetryTime,mn=new ue(Ye,"GET",function pn(Q,z){return function ye(Re,Ye){const yt=xr(Q,Ye,z);return je(null!==yt),function ur(Q,z,ye,Re){const Ye=qn(z);if(null===Ye||!Se(Ye.downloadTokens))return null;const yt=Ye.downloadTokens;if(0===yt.length)return null;const Yt=encodeURIComponent;return yt.split(",").map(gn=>{const Rn=Q.fullPath;return hn("/b/"+Yt(Q.bucket)+"/o/"+Yt(Rn),ye,Re)+sn({alt:"media",token:gn})})[0]}(yt,Ye,Q.host,Q._protocol)}}(Q,ye),Yt);return mn.errorHandler=ln(z),mn}(Q.storage,Q._location,ft());return Q.storage.makeRequestWithTokens(z,ki).then(ye=>{if(null===ye)throw function Ft(){return new Z(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ye})}function Co(Q,z){const ye=function Nn(Q,z){const ye=z.split("/").filter(Re=>Re.length>0).join("/");return 0===Q.length?ye:Q+"/"+ye}(Q._location.path,z),Re=new qt(Q._location.bucket,ye);return new zi(Q.storage,Re)}function ho(Q,z){if(Q instanceof Ti){const ye=Q;if(null==ye._bucket)throw function Ze(){return new Z(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+De+"' property when initializing the app?")}();const Re=new zi(ye,ye._bucket);return null!=z?ho(Re,z):Re}return void 0!==z?Co(Q,z):Q}function rs(Q,z){if(z&&function qo(Q){return/^[A-Za-z]+:\/\//.test(Q)}(z)){if(Q instanceof Ti)return function Cs(Q,z){return new zi(Q,z)}(Q,z);throw Jt("To use ref(service, url), the first argument must be a Storage instance.")}return ho(Q,z)}function Yn(Q,z){const ye=z?.[De];return null==ye?null:qt.makeFromBucketSpec(ye,Q)}class Ti{constructor(z,ye,Re,Ye,yt){this.app=z,this._authProvider=ye,this._appCheckProvider=Re,this._url=Ye,this._firebaseVersion=yt,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ye?qt.makeFromBucketSpec(Ye,this._host):Yn(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?qt.makeFromBucketSpec(this._url,z):Yn(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){xt("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){xt("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,a.A)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const ye=z._authProvider.getImmediate({optional:!0});if(ye){const Re=yield ye.getToken();if(null!==Re)return Re.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,a.A)(function*(){const ye=z._appCheckProvider.getImmediate({optional:!0});return ye?(yield ye.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new zi(this,z)}_makeRequest(z,ye,Re,Ye,yt=!0){if(this._deleted)return new ct(dn());{const Yt=function Br(Q,z,ye,Re,Ye,yt,Yt=!0){const mn=sn(Q.urlParams),Rt=Q.url+mn,gn=Object.assign({},Q.headers);return function Wt(Q,z){z&&(Q["X-Firebase-GMPID"]=z)}(gn,z),function wn(Q,z){null!==z&&z.length>0&&(Q.Authorization="Firebase "+z)}(gn,ye),function Bn(Q,z){Q["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(gn,yt),function Vt(Q,z){null!==z&&(Q["X-Firebase-AppCheck"]=z)}(gn,Re),new fr(Rt,Q.method,gn,Q.body,Q.successCodes,Q.additionalRetryCodes,Q.handler,Q.errorHandler,Q.timeout,Q.progressCallback,Ye,Yt)}(z,this._appId,Re,Ye,ye,this._firebaseVersion,yt);return this._requests.add(Yt),Yt.getPromise().then(()=>this._requests.delete(Yt),()=>this._requests.delete(Yt)),Yt}}makeRequestWithTokens(z,ye){var Re=this;return(0,a.A)(function*(){const[Ye,yt]=yield Promise.all([Re._getAuthToken(),Re._getAppCheckToken()]);return Re._makeRequest(z,ye,Ye,yt).getPromise()})()}}const fo="@firebase/storage",wi="storage";function qi(Q,z,ye){return function Lr(Q,z,ye){return Q._throwIfRoot("uploadBytesResumable"),new Pi(Q,new ni(z),ye)}(Q=(0,o.Ku)(Q),z,ye)}function Or(Q){return function Li(Q){Q._throwIfRoot("getMetadata");const z=rr(Q.storage,Q._location,ft());return Q.storage.makeRequestWithTokens(z,ki)}(Q=(0,o.Ku)(Q))}function Zt(Q,z){return function ia(Q,z){Q._throwIfRoot("updateMetadata");const ye=function Oo(Q,z,ye,Re){const yt=hn(z.fullServerUrl(),Q.host,Q._protocol),mn=Oe(ye,Re),gn=Q.maxOperationRetryTime,ar=new ue(yt,"PATCH",It(Q,Re),gn);return ar.headers={"Content-Type":"application/json; charset=utf-8"},ar.body=mn,ar.errorHandler=ln(z),ar}(Q.storage,Q._location,z,ft());return Q.storage.makeRequestWithTokens(ye,ki)}(Q=(0,o.Ku)(Q),z)}function Un(Q,z){return Ms(Q=(0,o.Ku)(Q),z)}function dr(Q){return function lo(Q){const z={prefixes:[],items:[]};return $i(Q,z).then(()=>z)}(Q=(0,o.Ku)(Q))}function Ui(Q){return ko(Q=(0,o.Ku)(Q))}function io(Q){return function ci(Q){Q._throwIfRoot("deleteObject");const z=function ri(Q,z){const Re=hn(z.fullServerUrl(),Q.host,Q._protocol),mn=new ue(Re,"DELETE",function Yt(Rt,gn){},Q.maxOperationRetryTime);return mn.successCodes=[200,204],mn.errorHandler=ln(z),mn}(Q.storage,Q._location);return Q.storage.makeRequestWithTokens(z,ki)}(Q=(0,o.Ku)(Q))}function fi(Q,z){return rs(Q=(0,o.Ku)(Q),z)}function bo(Q,z){return Co(Q,z)}function Gr(Q=(0,ae.getApp)(),z){Q=(0,o.Ku)(Q);const Re=(0,ae._getProvider)(Q,wi).getImmediate({identifier:z}),Ye=(0,o.yU)("storage");return Ye&&Fo(Re,...Ye),Re}function Fo(Q,z,ye,Re={}){!function di(Q,z,ye,Re={}){Q.host=`${z}:${ye}`,Q._protocol="http";const{mockUserToken:Ye}=Re;Ye&&(Q._overrideAuthToken="string"==typeof Ye?Ye:(0,o.Fy)(Ye,Q.app.options.projectId))}(Q,z,ye,Re)}function Io(Q,{instanceIdentifier:z}){const ye=Q.getProvider("app").getImmediate(),Re=Q.getProvider("auth-internal"),Ye=Q.getProvider("app-check-internal");return new Ti(ye,Re,Ye,z,ae.SDK_VERSION)}!function gi(){(0,ae._registerComponent)(new Ae.uA(wi,Io,"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(fo,"0.12.5",""),(0,ae.registerVersion)(fo,"0.12.5","esm2017")}()},1076:(on,Je,L)=>{L.d(Je,{Am:()=>Ut,Bd:()=>Jt,FA:()=>Ge,Fy:()=>rt,I9:()=>_n,Im:()=>Vt,Ku:()=>ur,Ll:()=>be,T9:()=>We,Uj:()=>Be,XA:()=>ot,ZQ:()=>wt,bD:()=>fn,cY:()=>Ze,eX:()=>Fe,g:()=>Se,gR:()=>Bn,hp:()=>Pn,jZ:()=>Ft,lT:()=>Bt,lV:()=>nr,nr:()=>Me,sr:()=>dn,tD:()=>pr,u:()=>Z,yU:()=>et,zW:()=>le,zw:()=>me});const Ae=function(Oe){const ee=[];let H=0;for(let V=0;V<Oe.length;V++){let F=Oe.charCodeAt(V);F<128?ee[H++]=F:F<2048?(ee[H++]=F>>6|192,ee[H++]=63&F|128):55296==(64512&F)&&V+1<Oe.length&&56320==(64512&Oe.charCodeAt(V+1))?(F=65536+((1023&F)<<10)+(1023&Oe.charCodeAt(++V)),ee[H++]=F>>18|240,ee[H++]=F>>12&63|128,ee[H++]=F>>6&63|128,ee[H++]=63&F|128):(ee[H++]=F>>12|224,ee[H++]=F>>6&63|128,ee[H++]=63&F|128)}return ee},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,ee){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let F=0;F<Oe.length;F+=3){const ue=Oe[F],je=F+1<Oe.length,It=je?Oe[F+1]:0,Ot=F+2<Oe.length,pn=Ot?Oe[F+2]:0;let rr=(15&It)<<2|pn>>6,An=63&pn;Ot||(An=64,je||(rr=64)),V.push(H[ue>>2],H[(3&ue)<<4|It>>4],H[rr],H[An])}return V.join("")},encodeString(Oe,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(Oe):this.encodeByteArray(Ae(Oe),ee)},decodeString(Oe,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(Oe):function(Oe){const ee=[];let H=0,V=0;for(;H<Oe.length;){const F=Oe[H++];if(F<128)ee[V++]=String.fromCharCode(F);else if(F>191&&F<224){const ue=Oe[H++];ee[V++]=String.fromCharCode((31&F)<<6|63&ue)}else if(F>239&&F<365){const Ot=((7&F)<<18|(63&Oe[H++])<<12|(63&Oe[H++])<<6|63&Oe[H++])-65536;ee[V++]=String.fromCharCode(55296+(Ot>>10)),ee[V++]=String.fromCharCode(56320+(1023&Ot))}else{const ue=Oe[H++],je=Oe[H++];ee[V++]=String.fromCharCode((15&F)<<12|(63&ue)<<6|63&je)}}return ee.join("")}(this.decodeStringToByteArray(Oe,ee))},decodeStringToByteArray(Oe,ee){this.init_();const H=ee?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let F=0;F<Oe.length;){const ue=H[Oe.charAt(F++)],It=F<Oe.length?H[Oe.charAt(F)]:0;++F;const pn=F<Oe.length?H[Oe.charAt(F)]:64;++F;const ln=F<Oe.length?H[Oe.charAt(F)]:64;if(++F,null==ue||null==It||null==pn||null==ln)throw new Ne;V.push(ue<<2|It>>4),64!==pn&&(V.push(It<<4&240|pn>>2),64!==ln&&V.push(pn<<6&192|ln))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(Oe){return function(Oe){const ee=Ae(Oe);return De.encodeByteArray(ee,!0)}(Oe).replace(/\./g,"")},Z=function(Oe){try{return De.decodeString(Oe,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function me(Oe,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return ee}for(const H in ee)!ee.hasOwnProperty(H)||!at(H)||(Oe[H]=me(Oe[H],ee[H]));return Oe}function at(Oe){return"__proto__"!==Oe}const Mt=()=>{try{return function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Oe=process.env.__FIREBASE_DEFAULTS__;return Oe?JSON.parse(Oe):void 0})()||(()=>{if(typeof document>"u")return;let Oe;try{Oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ee=Oe&&Z(Oe[1]);return ee&&JSON.parse(ee)})()}catch(Oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Oe}`)}},et=Oe=>{const ee=(Oe=>{var ee,H;return null===(H=null===(ee=Mt())||void 0===ee?void 0:ee.emulatorHosts)||void 0===H?void 0:H[Oe]})(Oe);if(!ee)return;const H=ee.lastIndexOf(":");if(H<=0||H+1===ee.length)throw new Error(`Invalid host ${ee} with no separate hostname and port!`);const V=parseInt(ee.substring(H+1),10);return"["===ee[0]?[ee.substring(1,H-1),V]:[ee.substring(0,H),V]},We=()=>{var Oe;return null===(Oe=Mt())||void 0===Oe?void 0:Oe.config},ot=Oe=>{var ee;return null===(ee=Mt())||void 0===ee?void 0:ee[`_${Oe}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,H)=>{this.resolve=ee,this.reject=H})}wrapCallback(ee){return(H,V)=>{H?this.reject(H):this.resolve(V),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(H):ee(H,V))}}}function rt(Oe,ee){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=ee||"demo-project",F=Oe.iat||0,ue=Oe.sub||Oe.user_id;if(!ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:F,exp:F+3600,auth_time:F,sub:ue,user_id:ue,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(je)),""].join(".")}function wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function be(){var Oe;const ee=null===(Oe=Mt())||void 0===Oe?void 0:Oe.forceEnvironment;if("node"===ee)return!0;if("browser"===ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Jt(){return"object"==typeof self&&self.self===self}function dn(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function nr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bt(){const Oe=wt();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function Me(){return!be()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((Oe,ee)=>{try{let H=!0;const V="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(V);F.onsuccess=()=>{F.result.close(),H||self.indexedDB.deleteDatabase(V),Oe(!0)},F.onupgradeneeded=()=>{H=!1},F.onerror=()=>{var ue;ee((null===(ue=F.error)||void 0===ue?void 0:ue.message)||"")}}catch(H){ee(H)}})}class Se extends Error{constructor(ee,H,V){super(H),this.code=ee,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(ee,H,V){this.service=ee,this.serviceName=H,this.errors=V}create(ee,...H){const V=H[0]||{},F=`${this.service}/${ee}`,ue=this.errors[ee],je=ue?function Tt(Oe,ee){return Oe.replace(xt,(H,V)=>{const F=ee[V];return null!=F?String(F):`<${V}?>`})}(ue,V):"Error";return new Se(F,`${this.serviceName}: ${je} (${F}).`,V)}}const xt=/\{\$([^}]+)}/g;function Bn(Oe,ee){return Object.prototype.hasOwnProperty.call(Oe,ee)}function Vt(Oe){for(const ee in Oe)if(Object.prototype.hasOwnProperty.call(Oe,ee))return!1;return!0}function fn(Oe,ee){if(Oe===ee)return!0;const H=Object.keys(Oe),V=Object.keys(ee);for(const F of H){if(!V.includes(F))return!1;const ue=Oe[F],je=ee[F];if(Cr(ue)&&Cr(je)){if(!fn(ue,je))return!1}else if(ue!==je)return!1}for(const F of V)if(!H.includes(F))return!1;return!0}function Cr(Oe){return null!==Oe&&"object"==typeof Oe}function Ut(Oe){const ee=[];for(const[H,V]of Object.entries(Oe))Array.isArray(V)?V.forEach(F=>{ee.push(encodeURIComponent(H)+"="+encodeURIComponent(F))}):ee.push(encodeURIComponent(H)+"="+encodeURIComponent(V));return ee.length?"&"+ee.join("&"):""}function _n(Oe){const ee={};return Oe.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[F,ue]=V.split("=");ee[decodeURIComponent(F)]=decodeURIComponent(ue)}}),ee}function Pn(Oe){const ee=Oe.indexOf("?");if(!ee)return"";const H=Oe.indexOf("#",ee);return Oe.substring(ee,H>0?H:void 0)}function pr(Oe,ee){const H=new Tr(Oe,ee);return H.subscribe.bind(H)}class Tr{constructor(ee,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{ee(this)}).catch(V=>{this.error(V)})}next(ee){this.forEachObserver(H=>{H.next(ee)})}error(ee){this.forEachObserver(H=>{H.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,H,V){let F;if(void 0===ee&&void 0===H&&void 0===V)throw new Error("Missing Observer.");F=function $n(Oe,ee){if("object"!=typeof Oe||null===Oe)return!1;for(const H of ee)if(H in Oe&&"function"==typeof Oe[H])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:H,complete:V},void 0===F.next&&(F.next=ti),void 0===F.error&&(F.error=ti),void 0===F.complete&&(F.complete=ti);const ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),ue}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,ee)}sendOne(ee,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{H(this.observers[ee])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function ur(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},3739:(on,Je,L)=>{L.d(Je,{W:()=>he});var a=L(7705),ae=L(345),o=L(177);function Ae(De,Ne){1&De&&(a.j41(0,"button",4),a.EFF(1,"Schedule A Visit"),a.k0s())}let he=(()=>{class De{constructor(Le){this.sanitizer=Le}set content(Le){this._content=Le,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Le)}get content(){return this._content}static#e=this.\u0275fac=function(Be){return new(Be||De)(a.rXU(ae.up))};static#t=this.\u0275cmp=a.VBU({type:De,selectors:[["app-center-text"]],inputs:{title:"title",showBtn:"showBtn",content:"content"},decls:5,vars:3,consts:[[1,"center-text-section"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],[1,"afhBtn"]],template:function(Be,Z){1&Be&&(a.j41(0,"div",0)(1,"h2",1),a.EFF(2),a.k0s(),a.nrm(3,"h4",2),a.DNE(4,Ae,2,0,"button",3),a.k0s()),2&Be&&(a.R7$(2),a.JRh(Z.title),a.R7$(1),a.Y8G("innerHTML",Z.content,a.npT),a.R7$(1),a.Y8G("ngIf",Z.showBtn))},dependencies:[o.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}return De})()},491:(on,Je,L)=>{L.d(Je,{G:()=>ae});var a=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(De){return new(De||o)};static#t=this.\u0275cmp=a.VBU({type:o,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"]],template:function(De,Ne){1&De&&(a.j41(0,"section",0)(1,"div",1)(2,"h2"),a.EFF(3),a.k0s(),a.j41(4,"h4"),a.EFF(5),a.k0s()(),a.j41(6,"div",2),a.nrm(7,"img",3),a.k0s()()),2&De&&(a.R7$(3),a.JRh(Ne.title),a.R7$(2),a.JRh(Ne.content),a.R7$(2),a.FS9("src",Ne.imageURL,a.B4B),a.FS9("alt",Ne.title))},styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},4593:(on,Je,L)=>{L.d(Je,{F:()=>ae});var a=L(7705);let ae=(()=>{class o{static#e=this.\u0275fac=function(De){return new(De||o)};static#t=this.\u0275cmp=a.VBU({type:o,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL"},decls:8,vars:4,consts:[[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"]],template:function(De,Ne){1&De&&(a.j41(0,"section",0)(1,"div",1),a.nrm(2,"img",2),a.k0s(),a.j41(3,"div",3)(4,"h2"),a.EFF(5),a.k0s(),a.j41(6,"h4"),a.EFF(7),a.k0s()()()),2&De&&(a.R7$(2),a.FS9("src",Ne.imageURL,a.B4B),a.FS9("alt",Ne.title),a.R7$(3),a.JRh(Ne.title),a.R7$(2),a.JRh(Ne.content))},styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:3rem}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}"]})}return o})()},523:(on,Je,L)=>{L.d(Je,{B:()=>Bi});var a=L(7705),ae=L(6814),o=L(6861),Ae=L(923),he=L(177),De=L(467),Ne=L(8359),Le=L(4412),Be=L(5558),Z=L(8455),ce=L(6354),me=L(8704);function at(Pe,Lt){if(1&Pe&&a.nrm(0,"button",14),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Xe(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",17)(3,"h1",18),a.EFF(4,"Welcome to "),a.nrm(5,"br"),a.EFF(6),a.k0s(),a.j41(7,"div",19),a.nrm(8,"br"),a.j41(9,"p"),a.EFF(10),a.k0s()(),a.j41(11,"button",20),a.bIt("click",function(){a.eBV(Ce);const fe=a.XpG(3);return a.Njj(fe.navigateToContact(fe.businessId))}),a.EFF(12," Book Consultation "),a.k0s()()()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,fe=a.XpG(3);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(5),a.SpI(" ",fe.business.businessName,""),a.R7$(4),a.JRh(fe.business.tagline)}}function bt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",4)(1,"div",5),a.DNE(2,at,1,5,"button",6),a.k0s(),a.j41(3,"div",7),a.DNE(4,Xe,13,5,"div",8),a.k0s(),a.j41(5,"button",9),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",12),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}function Ct(Pe,Lt){if(1&Pe&&(a.qex(0),a.DNE(1,bt,13,2,"div",3),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("ngIf",Ce.business)}}function jt(Pe,Lt){if(1&Pe&&a.nrm(0,"button",29),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Mt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",30)(3,"div",31)(4,"h1",32),a.EFF(5,"Welcome to "),a.nrm(6,"br"),a.j41(7,"span",33),a.EFF(8),a.k0s()(),a.j41(9,"div",34)(10,"h3"),a.EFF(11),a.k0s()(),a.j41(12,"button",35),a.bIt("click",function(){a.eBV(Ce);const fe=a.XpG(3);return a.Njj(fe.navigateToContact(fe.businessId))}),a.EFF(13," Schedule a Visit "),a.k0s()()()()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,fe=a.XpG(3);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(3),a.AVh("slide-up-fade-in",fe.animateText),a.R7$(4),a.JRh(fe.business.businessName),a.R7$(1),a.AVh("slide-down-fade-in",fe.animateText),a.R7$(2),a.JRh(fe.business.tagline)}}function cn(Pe,Lt){if(1&Pe&&(a.j41(0,"div",23)(1,"div",24),a.DNE(2,jt,1,5,"button",25),a.k0s(),a.j41(3,"div",26),a.DNE(4,Mt,14,9,"div",8),a.k0s(),a.j41(5,"button",27),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",28),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}const et=function(Pe){return{opacity:Pe}};function We(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",21),a.DNE(2,cn,13,2,"div",22),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.AVh("scrolled",Ce.isScrolled),a.Y8G("ngStyle",a.eq3(4,et,Ce.scrollOpacity)),a.R7$(1),a.Y8G("ngIf",Ce.business)}}function ot(Pe,Lt){if(1&Pe&&a.nrm(0,"button",44),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Ze(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"p",49),a.EFF(2,"Compassion in our hearts"),a.k0s(),a.j41(3,"h1",50),a.EFF(4,"Excellent care in our hands"),a.k0s(),a.nrm(5,"div",51),a.bVm()),2&Pe){const Ce=a.XpG(4);a.R7$(1),a.AVh("slide-up-fade-in",Ce.animateText),a.R7$(2),a.AVh("slide-down-fade-in",Ce.animateText)}}function rt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"p",49),a.EFF(2,"Personalized care"),a.k0s(),a.j41(3,"h1",50),a.EFF(4,"With passion"),a.k0s(),a.j41(5,"div",51)(6,"button",52),a.nrm(7,"i",53),a.EFF(8," Who we are"),a.k0s(),a.j41(9,"button",54),a.nrm(10,"i",53),a.EFF(11," Contact Us"),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG(4);a.R7$(1),a.AVh("slide-up-fade-in",Ce.animateText),a.R7$(2),a.AVh("slide-down-fade-in",Ce.animateText)}}function wt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"p",49),a.EFF(2,"Family owned"),a.k0s(),a.j41(3,"h1",50),a.EFF(4,"Friendly atmosphere"),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG(4);a.R7$(1),a.AVh("slide-up-fade-in",Ce.animateText),a.R7$(2),a.AVh("slide-down-fade-in",Ce.animateText)}}function Ft(Pe,Lt){}function be(Pe,Lt){if(1&Pe&&(a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",45)(3,"div",46),a.DNE(4,Ze,6,4,"ng-container",47),a.DNE(5,rt,12,4,"ng-container",47),a.DNE(6,wt,5,4,"ng-container",47),a.DNE(7,Ft,0,0,"ng-template",null,48,a.C5r),a.k0s()()()),2&Pe){const Ce=Lt.$implicit,Te=Lt.index,fe=a.sdS(8);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(3),a.Y8G("ngIf",0==Te)("ngIfElse",fe),a.R7$(1),a.Y8G("ngIf",1==Te)("ngIfElse",fe),a.R7$(1),a.Y8G("ngIf",2==Te)("ngIfElse",fe)}}function Jt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",38)(1,"div",39),a.DNE(2,ot,1,5,"button",40),a.k0s(),a.j41(3,"div",41),a.DNE(4,be,9,9,"div",8),a.k0s(),a.j41(5,"button",42),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",43),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}function dn(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",36),a.DNE(2,Jt,13,2,"div",37),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("ngStyle",a.eq3(2,et,Ce.scrollOpacity)),a.R7$(1),a.Y8G("ngIf",Ce.business)}}function nr(Pe,Lt){if(1&Pe&&a.nrm(0,"button",63),2&Pe){const Ce=Lt.index;a.AVh("active",0===Ce),a.BMQ("data-bs-slide-to",Ce)("aria-current",0===Ce?"true":null)("aria-label","Slide "+(Ce+1))}}function Pt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",15),a.nrm(1,"img",16),a.j41(2,"div",64)(3,"h1",65),a.EFF(4,"Welcome to "),a.nrm(5,"br"),a.j41(6,"span",66),a.EFF(7),a.k0s()(),a.j41(8,"div",67)(9,"h3"),a.EFF(10),a.k0s()(),a.j41(11,"button",68),a.bIt("click",function(){a.eBV(Ce);const fe=a.XpG(3);return a.Njj(fe.navigateToContact(fe.businessId))}),a.EFF(12," Get Started "),a.k0s()()()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,fe=a.XpG(3);a.AVh("active",0===Te),a.R7$(1),a.Y8G("src",Ce.url,a.B4B),a.R7$(6),a.JRh(fe.business.businessName),a.R7$(3),a.JRh(fe.business.tagline)}}function Bt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",57)(1,"div",58),a.DNE(2,nr,1,5,"button",59),a.k0s(),a.j41(3,"div",60),a.DNE(4,Pt,13,5,"div",8),a.k0s(),a.j41(5,"button",61),a.nrm(6,"span",10),a.j41(7,"span",11),a.EFF(8,"Previous"),a.k0s()(),a.j41(9,"button",62),a.nrm(10,"span",13),a.j41(11,"span",11),a.EFF(12,"Next"),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(2),a.Y8G("ngForOf",Ce.heroImages),a.R7$(2),a.Y8G("ngForOf",Ce.heroImages)}}function qt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",55),a.DNE(2,Bt,13,2,"div",56),a.k0s(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(2),a.Y8G("ngIf",Ce.business)}}let ct=(()=>{class Pe{constructor(Ce,Te,fe,Et){this.router=Ce,this.route=Te,this.webContentService=fe,this.businessDataService=Et,this.business=null,this.heroImages=[],this.layoutType="demo",this.subscriptions=new Ne.yU,this.imagesLoaded$=new Le.t(!1),this.carouselInitialized=!1,this.animateText=!1,this.isScrolled=!1,this.scrollOpacity=1}onScroll(){const Ce=window.scrollY||document.documentElement.scrollTop;this.scrollOpacity=Math.max(1-Ce/1200,0)}ngOnInit(){const Ce=this.businessDataService.businessData$.subscribe(fe=>{fe&&(this.business=fe,this.businessId=this.business?.id??"",this.layoutType=this.business?.theme?.themeType??"demo",this.loadHeroImages())});this.subscriptions.add(Ce);const Te=this.imagesLoaded$.subscribe(fe=>{fe&&!this.carouselInitialized&&(this.initializeCarousel(),this.animateText=!0)});this.subscriptions.add(Te)}loadHeroImages(){var Ce=this;if(!this.businessId)return;const fe=this.webContentService.getBusinessUploadedImagesById(this.businessId,"heroImages").pipe((0,Be.n)(Et=>{const en=Et.map(function(){var Dn=(0,De.A)(function*(On){return(yield Ce.webContentService.checkImageExists(On.url))?On:null});return function(On){return Dn.apply(this,arguments)}}());return(0,Z.H)(Promise.all(en))}),(0,ce.T)(Et=>Et.filter(en=>null!==en))).subscribe(Et=>{this.heroImages=Et,console.log("Loaded hero images:",this.heroImages),this.heroImages.length>0&&this.imagesLoaded$.next(!0)});this.subscriptions.add(fe)}initializeCarousel(){const Ce=document.querySelector("#heroCarousel");Ce&&(new bootstrap.Carousel(Ce,{interval:2e4,ride:"carousel"}),this.carouselInitialized=!0,console.log("Carousel initialized"))}navigateToContact(Ce){this.router.navigate(["/contact-us"],{queryParams:{id:Ce}})}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.Ix),a.rXU(ae.nX),a.rXU(me.N),a.rXU(Ae.A))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-hero-carousel"]],hostBindings:function(Te,fe){1&Te&&a.bIt("scroll",function(){return fe.onScroll()},!1,a.tSv)},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","heroCarousel","class","carousel slide hh-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","hh-carousel"],[1,"carousel-indicators","hh-indicators"],["type","button","class","hh-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","hh-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button","data-bs-target","#heroCarousel",1,"hh-btn"],[1,"carousel-item"],["alt","Hero Image",1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block","hh-overlay"],[1,"hh-h1"],[1,"business-subtitle","garamond"],["type","button",1,"hh-btn",3,"click"],[1,"ae-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ae-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ae-carousel"],[1,"carousel-indicators","ae-indicators"],["type","button","class","ae-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ae-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ae-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ae-next"],["type","button","data-bs-target","#heroCarousel",1,"ae-btn"],[1,"carousel-caption","d-none","d-md-block","ae-hero-overlay"],[1,"ae-carousel-caption-content"],[1,"ae-h1"],[1,"ae-brand-name"],[1,"ae-business-subtitle"],["type","button",1,"ae-afhBtn",3,"click"],[1,"ehc-hero-section",3,"ngStyle"],["id","heroCarousel","class","carousel slide ehc-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","ehc-carousel"],[1,"carousel-indicators","ehc-indicators"],["type","button","class","ehc-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","ehc-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","ehc-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","ehc-next"],["type","button","data-bs-target","#heroCarousel",1,"ehc-btn"],[1,"carousel-caption","d-none","d-md-block","ehc-hero-overlay"],[1,"ehc-carousel-caption-content"],[4,"ngIf","ngIfElse"],["defaultOverlay",""],[1,"ehc-special-text"],[1,"ehc-h1"],[1,"ehc-overlay-buttons"],[1,"ehcBtn","ehcBtn-outline"],[1,"bi","bi-arrow-down"],[1,"ehcBtn","ehcBtn-solid"],[1,"default-hero-section"],["id","heroCarousel","class","carousel slide default-carousel","data-bs-ride","carousel",4,"ngIf"],["id","heroCarousel","data-bs-ride","carousel",1,"carousel","slide","default-carousel"],[1,"carousel-indicators","default-indicators"],["type","button","class","default-btn","data-bs-target","#heroCarousel",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner","default-inner"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","default-prev"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","default-next"],["type","button","data-bs-target","#heroCarousel",1,"default-btn"],[1,"carousel-caption","d-none","d-md-block","default-overlay"],[1,"default-h1"],[1,"default-brand-name"],[1,"default-business-subtitle"],["type","button",1,"default-btn",3,"click"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0),a.DNE(1,Ct,2,1,"ng-container",1),a.DNE(2,We,3,6,"ng-container",1),a.DNE(3,dn,3,4,"ng-container",1),a.DNE(4,qt,3,1,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",fe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"))},dependencies:[he.Sq,he.bT,he.B3,he.ux,he.e1,he.fG],styles:[".carousel-item[_ngcontent-%COMP%]{display:none;position:relative;width:100%;transition:transform .6s ease-in-out}.carousel-item.active[_ngcontent-%COMP%]{display:block}#heroCarousel[_ngcontent-%COMP%]{position:relative}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;max-height:1024px}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(249,241,214,.1);color:var(--primary-color)}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hh-h1[_ngcontent-%COMP%]{padding-top:200px;font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0}.business-subtitle[_ngcontent-%COMP%]{padding:20px;font-size:3rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.action-btn[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:10%}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:hover{background-color:#00000080}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;background:none;border:solid white;border-width:0 6px 6px 0}.carousel-control-prev-icon[_ngcontent-%COMP%]{transform:rotate(135deg)}.carousel-control-next-icon[_ngcontent-%COMP%]{transform:rotate(-45deg)}.carousel[_ngcontent-%COMP%]{position:relative}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{width:5%;top:50%;transform:translateY(-50%)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);z-index:15;display:flex;justify-content:center;padding-left:0;margin-right:0;margin-left:0;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:50px;height:5px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#ffffff80;background-clip:padding-box;border:0;border-radius:0}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#fff}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.carousel-item[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]{padding:10px}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.carousel-item[_ngcontent-%COMP%]{height:200px}}.hh-hero-overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.8)}.ae-hero-section[_ngcontent-%COMP%]{position:relative;width:100%;height:90vh;overflow:hidden}.ae-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff;padding-left:10%}.ae-carousel-caption-content[_ngcontent-%COMP%]{position:absolute;top:35%;left:15%}.ae-h1[_ngcontent-%COMP%]{line-height:1.2;font-size:5rem;font-weight:700;text-align:left}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;position:absolute;color:var(--primary-color)}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.ae-afhBtn[_ngcontent-%COMP%]{position:absolute;top:120%;left:0}@media (max-width: 768px){.ae-hero-overlay[_ngcontent-%COMP%]{padding-left:5%;align-items:center}.ae-h1[_ngcontent-%COMP%]{font-size:2rem;top:60%}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;top:70%}.ae-hero-section[_ngcontent-%COMP%]{height:60vh}}@media (max-width: 480px){.ae-hero-overlay[_ngcontent-%COMP%]{padding:10px}.ae-h1[_ngcontent-%COMP%]{font-size:1.5rem}.ae-business-subtitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.ae-hero-section[_ngcontent-%COMP%]{height:40vh}}.ehc-hero-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to right,rgba(42,56,35,.8),rgba(66,99,51,0),rgba(66,99,51,0));display:flex;flex-direction:column;align-items:flex-start;justify-content:center;color:#fff}.ehc-hero-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif}.ehc-h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:700;font-size:5rem;text-transform:uppercase}.ehc-hero-section[_ngcontent-%COMP%]{transition:opacity .1s linear}.ehc-carousel-caption-content[_ngcontent-%COMP%]{position:relative;top:35%;margin:0 auto}.ehc-overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto 0;gap:30px}.ehcBtn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;text-transform:uppercase;text-align:center;text-decoration:none;cursor:pointer;transition:all .3s ease}.ehcBtn-outline[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff;background-color:transparent;border-radius:5px}.ehcBtn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.ehcBtn-solid[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid transparent;border-radius:5px}.ehcBtn-solid[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.slide-down-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDownFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideDownFadeIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.slide-up-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUpFadeIn 1s ease-in-out}@keyframes _ngcontent-%COMP%_slideUpFadeIn{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}"]})}return Pe})();function Me(Pe,Lt){if(1&Pe&&(a.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),a.EFF(5),a.k0s(),a.j41(6,"strong"),a.EFF(7),a.k0s()()()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(5),a.SpI('" ',Ce.quote,' "'),a.R7$(2),a.JRh(Ce.name)}}function le(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Testimonials"),a.k0s()(),a.j41(5,"div",6),a.DNE(6,Me,8,2,"div",7),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(6),a.Y8G("ngForOf",Ce.testimonials)}}function Fe(Pe,Lt){if(1&Pe&&(a.j41(0,"div",21)(1,"div",22)(2,"div",23),a.EFF(3,"\u275d"),a.k0s(),a.j41(4,"p",24),a.EFF(5),a.k0s(),a.j41(6,"h4",25),a.EFF(7),a.k0s()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(5),a.JRh(Ce.quote),a.R7$(2),a.JRh(Ce.name)}}function Qe(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),a.EFF(5,"Word of mouth"),a.k0s(),a.j41(6,"p",15),a.EFF(7,"You should hear what people have to say about us"),a.k0s()(),a.j41(8,"div",16)(9,"div",17),a.DNE(10,Fe,8,2,"div",18),a.nI1(11,"slice"),a.k0s(),a.j41(12,"div",19)(13,"button",20),a.EFF(14," View All Testimonials "),a.k0s()()()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(10),a.Y8G("ngForOf",a.brH(11,1,Ce.testimonials,0,4))}}function xe(Pe,Lt){if(1&Pe&&(a.j41(0,"div",36)(1,"p",37),a.EFF(2),a.k0s(),a.j41(3,"div",38)(4,"span"),a.EFF(5),a.k0s()()()),2&Pe){const Ce=Lt.$implicit,Te=Lt.index,fe=a.XpG(3);a.AVh("active",fe.currentIndex===Te)("inactive",fe.currentIndex!==Te),a.R7$(2),a.SpI("\u201c",Ce.quote,"\u201d"),a.R7$(3),a.JRh(Ce.name)}}function Se(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"button",39),a.bIt("click",function(){const Et=a.eBV(Ce).index,en=a.XpG(3);return a.Njj(en.setSlide(Et))}),a.k0s()}if(2&Pe){const Ce=Lt.index,Te=a.XpG(3);a.AVh("active",Te.currentIndex===Ce)}}function Ge(Pe,Lt){if(1&Pe&&(a.j41(0,"div",30)(1,"div",31),a.DNE(2,xe,6,6,"div",32),a.k0s(),a.j41(3,"div",33),a.DNE(4,Se,1,2,"button",34),a.k0s(),a.j41(5,"div",35)(6,"button",20),a.EFF(7," View All Testimonials "),a.k0s()()()),2&Pe){const Ce=a.XpG(2);a.R7$(1),a.xc7("transform","translateX(-"+100*Ce.currentIndex+"%)"),a.R7$(1),a.Y8G("ngForOf",Ce.testimonials),a.R7$(2),a.Y8G("ngForOf",Ce.testimonials)}}function Tt(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),a.EFF(5,"Testimonials"),a.k0s()(),a.DNE(6,Ge,8,4,"div",29),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(6),a.Y8G("ngIf",Ce.testimonials&&Ce.testimonials.length>0)}}function xt(Pe,Lt){if(1&Pe&&(a.j41(0,"div",47)(1,"div",48),a.nrm(2,"div",49),a.j41(3,"p",50),a.EFF(4),a.k0s()(),a.j41(5,"div",51)(6,"p",52),a.EFF(7),a.k0s()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(4),a.JRh(Ce.quote),a.R7$(3),a.JRh(Ce.name)}}function hn(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",40)(2,"div",41)(3,"h2",42),a.EFF(4,"Word of Mouth"),a.k0s(),a.j41(5,"p",43),a.EFF(6,"You should hear what people have to say about us"),a.k0s()(),a.j41(7,"div",44)(8,"div",45),a.DNE(9,xt,8,2,"div",46),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(9),a.Y8G("ngForOf",Ce.testimonials)}}let sn=(()=>{class Pe{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(Ce){this.currentIndex=Ce,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0),a.DNE(1,le,7,1,"ng-container",1),a.DNE(2,Qe,15,5,"ng-container",1),a.DNE(3,Tt,7,1,"ng-container",1),a.DNE(4,hn,10,1,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",fe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"))},dependencies:[he.Sq,he.bT,he.ux,he.e1,he.fG,ae.Wk,he.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}return Pe})();function Fn(Pe,Lt){if(1&Pe&&(a.j41(0,"div",9),a.nrm(1,"i",10),a.j41(2,"h3",11),a.EFF(3),a.k0s(),a.j41(4,"div",12)(5,"p"),a.EFF(6),a.k0s()()()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("ngClass",Ce.icon),a.R7$(2),a.JRh(Ce.title),a.R7$(3),a.JRh(Ce.description)}}function In(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",2)(2,"div",3)(3,"span",4),a.EFF(4,"Our "),a.k0s(),a.j41(5,"span",5),a.EFF(6,"Services"),a.k0s()(),a.j41(7,"h3",6),a.EFF(8,"Home Care From Trained Professionals"),a.k0s(),a.j41(9,"div",7),a.DNE(10,Fn,7,3,"div",8),a.k0s()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(10),a.Y8G("ngForOf",Ce.services)}}function fr(Pe,Lt){if(1&Pe&&(a.j41(0,"div",31)(1,"p"),a.EFF(2),a.k0s()()),2&Pe){const Ce=a.XpG().$implicit;a.R7$(2),a.JRh(Ce.description)}}function Gt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.j41(0,"div",26),a.bIt("click",function(){const Et=a.eBV(Ce).index,en=a.XpG(2);return a.Njj(en.toggleService(Et))}),a.j41(1,"div",27)(2,"span",28),a.EFF(3),a.k0s(),a.j41(4,"span",29),a.EFF(5),a.k0s()(),a.DNE(6,fr,3,1,"div",30),a.k0s()}if(2&Pe){const Ce=Lt.$implicit,Te=Lt.index,fe=a.XpG(2);a.R7$(3),a.JRh(Ce.title),a.R7$(2),a.JRh(fe.expandedServiceIndex===Te?"-":"+"),a.R7$(1),a.Y8G("ngIf",fe.expandedServiceIndex===Te)}}function wn(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),a.EFF(6,"Our "),a.k0s(),a.j41(7,"span",18),a.EFF(8,"Services"),a.k0s()(),a.j41(9,"div",19),a.DNE(10,Gt,7,3,"div",20),a.k0s()(),a.j41(11,"div",21)(12,"div",22),a.nrm(13,"img",23),a.k0s(),a.j41(14,"div",24),a.nrm(15,"img",25),a.k0s()()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(10),a.Y8G("ngForOf",Ce.services)}}let Bn=(()=>{class Pe{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(Ce){this.expandedServiceIndex=this.expandedServiceIndex===Ce?null:Ce}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0),a.DNE(1,In,11,1,"ng-container",1),a.DNE(2,wn,16,1,"ng-container",1),a.k0s()),2&Te&&(a.Y8G("ngSwitch",fe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.YU,he.Sq,he.bT,he.ux,he.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}return Pe})();var Wt=L(3739);function Vt(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.qex(0),a.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),a.EFF(5,"We Are "),a.j41(6,"span",6),a.EFF(7),a.k0s()(),a.j41(8,"h1"),a.EFF(9),a.k0s(),a.j41(10,"p"),a.EFF(11),a.k0s(),a.j41(12,"div",7)(13,"button",8),a.bIt("click",function(){a.eBV(Ce);const fe=a.XpG();return a.Njj(fe.navigateToContact())}),a.EFF(14,"Contact Us"),a.k0s()()()()(),a.bVm()}if(2&Pe){const Ce=a.XpG();a.R7$(7),a.JRh(null==Ce.business?null:Ce.business.businessName),a.R7$(2),a.JRh(null==Ce.business?null:Ce.business.welcomeMessage),a.R7$(2),a.JRh(null==Ce.business?null:Ce.business.keyServicesHighlights)}}function Br(Pe,Lt){if(1&Pe&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("title","Who We Are")("content",(null==Ce.business?null:Ce.business.businessStory)||"")}}function fn(Pe,Lt){if(1&Pe&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("title","Discover Us")("content",(null==Ce.business?null:Ce.business.businessStory)||"")}}function Cr(Pe,Lt){if(1&Pe&&(a.qex(0),a.nrm(1,"app-center-text",9),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(1),a.Y8G("title","Who We Are")("content",(null==Ce.business?null:Ce.business.businessStory)||"")}}let zn=(()=>{class Pe{constructor(Ce,Te){this.router=Ce,this.businessDataService=Te,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(Ce=>{Ce&&(console.log("HomeComponent - Using cached business data:",Ce),this.business=Ce)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.Ix),a.rXU(Ae.A))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0),a.DNE(1,Vt,15,3,"ng-container",1),a.DNE(2,Br,2,2,"ng-container",1),a.DNE(3,fn,2,2,"ng-container",1),a.DNE(4,Cr,2,2,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",fe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"),a.R7$(1),a.Y8G("ngSwitchCase","ehc"))},dependencies:[he.ux,he.e1,he.fG,Wt.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}return Pe})();function Ut(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.qex(0),a.j41(1,"div",2)(2,"div",3)(3,"span",4),a.EFF(4,"Book a "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Consultation"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," We would love to meet you! Contact us to schedule a tour. "),a.k0s(),a.j41(9,"button",7),a.bIt("click",function(){a.eBV(Ce);const fe=a.XpG();return a.Njj(fe.navigateToContact(fe.id))}),a.EFF(10,"Book Consultation"),a.k0s()(),a.bVm()}}function _n(Pe,Lt){if(1&Pe){const Ce=a.RV6();a.qex(0),a.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),a.EFF(6,"Ready to experience "),a.k0s(),a.j41(7,"span",13),a.EFF(8),a.k0s()(),a.j41(9,"p"),a.EFF(10,"Discover what makes our services unique and tailored to your needs."),a.k0s(),a.j41(11,"div",14)(12,"button",15),a.bIt("click",function(){a.eBV(Ce);const fe=a.XpG();return a.Njj(fe.navigateToContact(fe.id))}),a.EFF(13,"Schedule a Visit"),a.k0s()()()()(),a.bVm()}if(2&Pe){const Ce=a.XpG();a.R7$(8),a.SpI("",Ce.businessName,"?")}}let Pn=(()=>{class Pe{constructor(Ce){this.router=Ce,this.id=null,this.layoutType="demo"}navigateToContact(Ce){this.router.navigate(["/contact-us"],{queryParams:{id:Ce}})}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.Ix))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0),a.DNE(1,Ut,11,0,"ng-container",1),a.DNE(2,_n,14,1,"ng-container",1),a.k0s()),2&Te&&(a.Y8G("ngSwitch",fe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.ux,he.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}"]})}return Pe})();function Tn(Pe,Lt){if(1&Pe&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("innerHTML",Ce.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Ce.description,a.npT)}}function pr(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",2)(2,"div",3)(3,"span",4),a.EFF(4,"Our Unique "),a.k0s(),a.j41(5,"span",5),a.EFF(6," Features"),a.k0s()(),a.j41(7,"p",6),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,Tn,3,2,"div",9),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(11),a.Y8G("ngForOf",Ce.uniqueService)}}function Tr(Pe,Lt){1&Pe&&a.eu8(0)}let ei=(()=>{class Pe{constructor(Ce,Te){this.webContent=Ce,this.route=Te,this.layoutType="demo"}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(me.N),a.rXU(ae.nX))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0),a.DNE(1,pr,12,1,"ng-container",1),a.DNE(2,Tr,1,0,"ng-container",1),a.k0s()),2&Te&&(a.Y8G("ngSwitch",fe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}return Pe})();function $n(Pe,Lt){if(1&Pe&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("innerHTML",Ce.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Ce.description,a.npT)}}function ti(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6," US "),a.k0s()(),a.j41(7,"div",7)(8,"div",8),a.DNE(9,$n,3,2,"div",9),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(9),a.Y8G("ngForOf",Ce.whyChooseUs)}}function Ki(Pe,Lt){1&Pe&&a.eu8(0)}function un(Pe,Lt){if(1&Pe&&(a.j41(0,"div",10),a.nrm(1,"div",11)(2,"div",12),a.k0s()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.Y8G("innerHTML",Ce.name,a.npT),a.R7$(1),a.Y8G("innerHTML",Ce.description,a.npT)}}function ni(Pe,Lt){if(1&Pe&&(a.qex(0),a.j41(1,"section",3)(2,"div",4)(3,"span",5),a.EFF(4,"Why Choose "),a.k0s(),a.j41(5,"span",6),a.EFF(6),a.k0s()(),a.j41(7,"p",13),a.EFF(8," What sets us appart. "),a.k0s(),a.j41(9,"div",7)(10,"div",8),a.DNE(11,un,3,2,"div",9),a.k0s()()(),a.bVm()),2&Pe){const Ce=a.XpG();a.R7$(6),a.SpI(" ",Ce.businessName,""),a.R7$(5),a.Y8G("ngForOf",Ce.whyChooseUs)}}let qn=(()=>{class Pe{constructor(Ce,Te){this.webContent=Ce,this.route=Te,this.layoutType="demo"}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(me.N),a.rXU(ae.nX))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0),a.DNE(1,ti,10,1,"ng-container",1),a.DNE(2,Ki,1,0,"ng-container",1),a.DNE(3,ni,12,2,"ng-container",2),a.k0s()),2&Te&&(a.Y8G("ngSwitch",fe.layoutType),a.R7$(1),a.Y8G("ngSwitchCase","hh"),a.R7$(1),a.Y8G("ngSwitchCase","ae"))},dependencies:[he.Sq,he.ux,he.e1,he.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}return Pe})();var vr=L(4593),Nn=L(491);function yi(Pe,Lt){if(1&Pe&&(a.j41(0,"div",7),a.nrm(1,"i",8),a.j41(2,"h3",9),a.EFF(3),a.k0s()()),2&Pe){const Ce=Lt.$implicit;a.R7$(1),a.HbH(Ce.icon),a.R7$(2),a.JRh(Ce.title)}}let Ke=(()=>{class Pe{constructor(){this.services=[]}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a.EFF(4,"Our Services"),a.k0s(),a.j41(5,"div",4),a.DNE(6,yi,4,3,"div",5),a.k0s(),a.j41(7,"button",6),a.EFF(8,"Learn More"),a.k0s()()()()),2&Te&&(a.R7$(6),a.Y8G("ngForOf",fe.services))},dependencies:[he.Sq,ae.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}return Pe})(),mt=(()=>{class Pe{static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0)(1,"div",1)(2,"h1"),a.EFF(3,"Our Motto"),a.k0s(),a.j41(4,"h4"),a.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),a.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}return Pe})(),ie=(()=>{class Pe{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(Te,fe){1&Te&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a.EFF(4),a.k0s(),a.j41(5,"span",4),a.EFF(6,"Years of Experience"),a.k0s()(),a.j41(7,"div",2)(8,"span",3),a.EFF(9),a.k0s(),a.j41(10,"span",4),a.EFF(11,"Happy Families"),a.k0s()(),a.j41(12,"div",2)(13,"span",3),a.EFF(14),a.k0s(),a.j41(15,"span",4),a.EFF(16,"Services Offered"),a.k0s()(),a.j41(17,"div",2)(18,"span",3),a.EFF(19),a.k0s(),a.j41(20,"span",4),a.EFF(21,"Trained Staff"),a.k0s()()()()),2&Te&&(a.xc7("background-image","url("+fe.backgroundImage+")"),a.R7$(4),a.JRh(fe.yearsOfExperience),a.R7$(5),a.JRh(fe.happyFamilies),a.R7$(5),a.JRh(fe.servicesOffered),a.R7$(5),a.JRh(fe.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{height:300px;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:20px;border-radius:10px;width:100%;height:100%;justify-content:center}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px;font-weight:700;text-transform:uppercase}"]})}return Pe})();function Ie(Pe,Lt){1&Pe&&a.nrm(0,"app-parallax-text")}function ft(Pe,Lt){1&Pe&&a.nrm(0,"app-right-text",10),2&Pe&&a.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1432890664-2048x2048.jpg")("title","Providing a safe and comfortable home environment for your loved ones")("content","In our warm, home-like setting, residents enjoy fully private rooms designed for comfort and privacy, fostering a sense of security and belonging. Our dedicated caregivers provide personalized, attentive care tailored to each resident\u2019s unique needs, ensuring they feel valued and supported.")}function Kt(Pe,Lt){1&Pe&&a.nrm(0,"app-left-text",10),2&Pe&&a.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg")("title","Flexible In-Person and Remote Visitation Options")("content","Our adult family home welcomes in-person visits in a comfortable and home-like setting. For those unable to visit in person, we offer remote options to help you stay connected with your loved ones, ensuring meaningful interactions from the comfort of your own home.")}const Mn=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},xr=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},ur=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Oe=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},ee=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},H=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},V=function(Pe,Lt,Ce,Te,fe,Et){return[Pe,Lt,Ce,Te,fe,Et]};function F(Pe,Lt){1&Pe&&a.nrm(0,"app-icon-list",11),2&Pe&&a.Y8G("services",a.l4e(7,V,a.lJ4(1,Mn),a.lJ4(2,xr),a.lJ4(3,ur),a.lJ4(4,Oe),a.lJ4(5,ee),a.lJ4(6,H)))}const ue=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},je=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Ot=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},nn=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},rr=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},li=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}};function br(Pe,Lt){if(1&Pe&&a.nrm(0,"app-our-services-home",12),2&Pe){const Ce=a.XpG();a.Y8G("layoutType",(null==Ce.business||null==Ce.business.theme?null:Ce.business.theme.themeType)||"demo")("services",a.l4e(8,V,a.lJ4(2,ue),a.lJ4(3,je),a.lJ4(4,Ot),a.lJ4(5,nn),a.lJ4(6,rr),a.lJ4(7,li)))}}function Oo(Pe,Lt){1&Pe&&a.nrm(0,"app-parallax-stats",13),2&Pe&&a.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4)}const ri=function(){return[]};let Bi=(()=>{class Pe{constructor(Ce,Te,fe){this.route=Ce,this.metaService=Te,this.businessDataService=fe,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(Ce=>{Ce&&(this.businessId=Ce,this.businessDataService.getBusinessData().subscribe(Te=>{this.business=Te}),this.metaService.loadAndApplyMeta(this.businessId))})}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(a.rXU(ae.nX),a.rXU(o.R),a.rXU(Ae.A))};static#t=this.\u0275cmp=a.VBU({type:Pe,selectors:[["app-home"]],decls:12,vars:20,consts:[[3,"layoutType","businessId"],[4,"ngIf"],[3,"imageURL","title","content",4,"ngIf"],[3,"services",4,"ngIf"],[3,"layoutType","services",4,"ngIf"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff",4,"ngIf"],[3,"id","layoutType","businessName"],[3,"imageURL","title","content"],[3,"services"],[3,"layoutType","services"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"]],template:function(Te,fe){1&Te&&(a.nrm(0,"app-hero-carousel")(1,"app-welcome",0),a.DNE(2,Ie,1,0,"app-parallax-text",1),a.DNE(3,ft,1,3,"app-right-text",2),a.DNE(4,Kt,1,3,"app-left-text",2),a.DNE(5,F,1,14,"app-icon-list",3),a.DNE(6,br,1,15,"app-our-services-home",4),a.nrm(7,"app-why-us",5)(8,"app-features",6)(9,"app-testimonials",7),a.DNE(10,Oo,1,5,"app-parallax-stats",8),a.nrm(11,"app-consultation",9)),2&Te&&(a.R7$(1),a.Y8G("layoutType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"demo")("businessId",(null==fe.business?null:fe.business.id)||""),a.R7$(1),a.Y8G("ngIf","ehc"===(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","ae"===(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)),a.R7$(1),a.Y8G("ngIf","hh"===(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)),a.R7$(1),a.Y8G("whyChooseUs",(null==fe.business?null:fe.business.whyChoose)||a.lJ4(18,ri))("layoutType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"demo")("businessName",(null==fe.business?null:fe.business.businessName)||"Demo"),a.R7$(1),a.Y8G("uniqueService",(null==fe.business?null:fe.business.uniqueService)||a.lJ4(19,ri))("layoutType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"demo"),a.R7$(1),a.Y8G("testimonials",null==fe.business?null:fe.business.testimonials)("layoutType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"demo"),a.R7$(1),a.Y8G("ngIf","ehc"===(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)),a.R7$(1),a.Y8G("id",(null==fe.business?null:fe.business.id)||"")("layoutType",(null==fe.business||null==fe.business.theme?null:fe.business.theme.themeType)||"demo")("businessName",(null==fe.business?null:fe.business.businessName)||"Demo"))},dependencies:[he.bT,ct,sn,Bn,zn,Pn,ei,qn,vr.F,Nn.G,Ke,mt,ie]})}return Pe})()},214:(on,Je,L)=>{L.d(Je,{W:()=>ae});var a=L(7705);let ae=(()=>{class o{constructor(){this.closeModal=new a.bkB}close(){this.closeModal.emit()}static#e=this.\u0275fac=function(De){return new(De||o)};static#t=this.\u0275cmp=a.VBU({type:o,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(De,Ne){1&De&&(a.j41(0,"div",0),a.bIt("click",function(){return Ne.close()}),a.j41(1,"div",1),a.bIt("click",function(Be){return Be.stopPropagation()}),a.j41(2,"button",2),a.bIt("click",function(){return Ne.close()}),a.EFF(3,"Close"),a.k0s(),a.nrm(4,"img",3),a.k0s()()),2&De&&(a.R7$(4),a.Y8G("src",Ne.imageUrl,a.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}return o})()},4796:(on,Je,L)=>{L.d(Je,{u:()=>he});var a=L(6354),ae=L(7705),o=L(1977),Ae=L(6814);let he=(()=>{class De{constructor(Le,Be){this.afAuth=Le,this.router=Be,this.user$=Le.authState}login(Le,Be){return this.afAuth.signInWithEmailAndPassword(Le,Be)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,a.T)(Le=>!!Le))}isLoggedIn(){return!!localStorage.getItem("user")}static#e=this.\u0275fac=function(Be){return new(Be||De)(ae.KVO(o.DS),ae.KVO(Ae.Ix))};static#t=this.\u0275prov=ae.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},923:(on,Je,L)=>{L.d(Je,{A:()=>De});var a=L(4412),ae=L(6354),o=L(8141),Ae=L(7705),he=L(3012);let De=(()=>{class Ne{constructor(Be){this.businessService=Be,this.businessDataSubject=new a.t(null),this.businessIdSubject=new a.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Be){return console.log("BusinessDataService - loadBusinessData for ID:",Be),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Be).pipe((0,ae.T)(Z=>Z??null),(0,o.M)(Z=>{console.log("BusinessDataService - Business fetched:",Z),this.businessDataSubject.next(Z),this.businessIdSubject.next(Be)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static#e=this.\u0275fac=function(Z){return new(Z||Ne)(Ae.KVO(he.u))};static#t=this.\u0275prov=Ae.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})()},3012:(on,Je,L)=>{L.d(Je,{u:()=>Ne});var a=L(7673),ae=L(6354),o=L(5558),Ae=L(7705),he=L(6340),De=L(8721);let Ne=(()=>{class Le{constructor(Z,ce){this.afs=Z,this.storage=ce,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(Z){console.log("Business Created");const ce=this.afs.createId();return this.afs.doc(`${this.basePath}/${ce}`).set({...Z,id:ce}),this.afs.doc(`${this.basePath}/${ce}`).valueChanges().pipe((0,ae.T)(me=>{if(!me)throw new Error("Business not found after creation");return me}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ae.T)(Z=>Z.map(ce=>{const me=ce.payload.doc.data(),at=ce.payload.doc.id,{id:Xe,...bt}=me;return{id:at,...bt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,Z=>Z.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(Z){return this.getBusinessData(Z)}getBusinessData(Z){const ce=Z&&Z.trim()?Z:this.defaultBusinessId;return this.afs.collection("businesses").doc(ce).snapshotChanges().pipe((0,o.n)(me=>{const at=me.payload.data(),Xe=me.payload.id;if(!at)return(0,a.of)(void 0);const{id:bt,...Ct}=at,jt={id:Xe,...Ct},Mt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Xe}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ae.T)(et=>{const We=et.payload.data()||Mt;return jt.theme=We,jt}))}))}updateBusiness(Z,ce){return this.afs.doc(`${this.basePath}/${Z}`).update(ce)}deleteBusiness(Z){return this.afs.doc(`${this.basePath}/${Z}`).delete()}uploadFile(Z,ce){return this.storage.upload(Z,ce)}getDownloadURL(Z){return this.storage.ref(Z).getDownloadURL()}updateThemeFileName(Z,ce=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ce}`).update({"theme.themeFileName":Z})}getThemeFileName(Z=this.defaultBusinessId){const me=this.afs.collection(this.basePath).doc(Z).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${Z}`),me.get().toPromise().then(at=>{if(at&&at.exists){const Xe=at.data();console.log("Theme document found:",Xe);const bt=Xe?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${bt}`),bt}return console.warn(`No theme document found for business ID: ${Z}. Using default theme.`),"default.css"}).catch(at=>(console.error(`Error fetching theme file name for business ID: ${Z}`,at),"default.css"))}static#e=this.\u0275fac=function(ce){return new(ce||Le)(Ae.KVO(he.Qe),Ae.KVO(De.ap))};static#t=this.\u0275prov=Ae.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},6861:(on,Je,L)=>{L.d(Je,{R:()=>Ae});var a=L(7705),ae=L(345),o=L(923);let Ae=(()=>{class he{constructor(Ne,Le,Be){this.meta=Ne,this.title=Le,this.businessDataService=Be}updateMetaTags(Ne){this.title.setTitle(Ne.title),this.meta.updateTag({name:"description",content:Ne.description}),this.meta.updateTag({name:"keywords",content:Ne.keywords}),this.meta.updateTag({property:"og:title",content:Ne.title}),this.meta.updateTag({property:"og:description",content:Ne.description})}updateFavicon(Ne){const Le=document.getElementsByTagName("head")[0];let Be=document.querySelector("link[rel*='icon']");Be||(Be=document.createElement("link"),Be.rel="icon",Le.appendChild(Be)),Be.href=Ne}loadAndApplyMeta(Ne){this.businessDataService.loadBusinessData(Ne).subscribe(Le=>{Le?(this.updateMetaTags({title:Le.metaTitle||"Default Title",description:Le.metaDescription||"Default Description",keywords:Le.metaKeywords||"default, keywords"}),Le.faviconUrl&&this.updateFavicon(Le.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static#e=this.\u0275fac=function(Le){return new(Le||he)(a.KVO(ae.W8),a.KVO(ae.hE),a.KVO(o.A))};static#t=this.\u0275prov=a.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},5009:(on,Je,L)=>{L.d(Je,{F:()=>Be});var a=L(8810),ae=L(8455),o=L(7673),Ae=L(6697),he=L(5558),De=L(9437),Ne=L(7705),Le=L(6340);let Be=(()=>{class Z{constructor(me){this.firestore=me,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(me){return this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(me){console.log("Theme Service: - Fetching theme for business ID:",me);const at=this.firestore.collection("businesses").doc(me),Xe=at.collection("theme").doc("themeDoc");return at.snapshotChanges().pipe((0,Ae.s)(1),(0,he.n)(bt=>bt.payload.exists?Xe.get().pipe((0,he.n)(Ct=>Ct.exists?(Ct.data(),Xe.valueChanges()):(0,ae.H)(Xe.set(this.defaultTheme)).pipe((0,he.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Xe.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,a.$)("Theme Service: - Business document does not exist"))),(0,De.W)(bt=>(console.error("Error fetching theme:",bt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,o.of)(this.defaultTheme))))}updateColors(me,at){const Xe=this.firestore.collection("businesses").doc(me).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+me+" theme service updateColors: ",at),Xe.set(at,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),at.themeFileName&&this.applyThemeFile(at.themeFileName)}).catch(bt=>{throw console.error("Theme Service: - Error updating colors:",bt),new Error(bt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(me){return this.loadCss(`assets/themes/${me}`)}loadCss(me){return new Promise((at,Xe)=>{console.log("Load css from  file:",me);const bt=document.createElement("link");bt.rel="stylesheet",bt.href=me,bt.onload=()=>{console.log(`Loaded theme: ${me}`),at()},bt.onerror=Ct=>{console.error(`Failed to load theme: ${me}`,Ct),Xe(Ct)},document.head.appendChild(bt)})}static#e=this.\u0275fac=function(at){return new(at||Z)(Ne.KVO(Le.Qe))};static#t=this.\u0275prov=Ne.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})()},8704:(on,Je,L)=>{L.d(Je,{N:()=>Ne});var a=L(6354),ae=L(9437),o=L(7673),Ae=L(7705),he=L(6340),De=L(8721);let Ne=(()=>{class Le{constructor(Z,ce){this.firestore=Z,this.storage=ce,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(Z){const ce=Z&&Z.trim()?Z:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ce).snapshotChanges().pipe((0,a.T)(me=>{const at=me.payload.data(),Xe=me.payload.id;if(at){const{id:bt,testimonials:Ct=[],...jt}=at;return{id:Xe,testimonials:Ct.map(cn=>({...cn,photoURL:cn.photoURL&&cn.photoURL.trim()?cn.photoURL:this.defaultImage})),...jt}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(Z){return this.storage.ref(Z).getDownloadURL().pipe((0,ae.W)(ce=>(console.error("Error fetching photo URL:",ce),(0,o.of)(""))))}getEmployeesByBusinessId(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).get().pipe((0,a.T)(ce=>{if(ce.exists){const me=ce.data();return me&&me.employees?me.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ae.W)(ce=>(console.error("Error fetching employees:",ce),(0,o.of)([]))))}getBusinessGalleryImagesById(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(Z){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection("gallery").valueChanges()}getBusinessUploadedImagesById(Z,ce){return(null==Z||""==Z||""===Z)&&(Z=this.defaultBusinessId),this.firestore.collection("businesses").doc(Z).collection(ce).valueChanges()}checkImageExists(Z){return this.storage.refFromURL(Z).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static#e=this.\u0275fac=function(ce){return new(ce||Le)(Ae.KVO(he.Qe),Ae.KVO(De.ap))};static#t=this.\u0275prov=Ae.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},8094:(on,Je,L)=>{var a={};L.r(a),L.d(a,{afterMain:()=>Q,afterRead:()=>Wn,afterWrite:()=>Re,applyStyles:()=>pi,arrow:()=>xa,auto:()=>qi,basePlacements:()=>Or,beforeMain:()=>Io,beforeRead:()=>Fo,beforeWrite:()=>z,bottom:()=>hi,clippingParents:()=>dr,computeStyles:()=>yn,createPopper:()=>zr,createPopperBase:()=>Nr,createPopperLite:()=>mi,detectOverflow:()=>Qs,end:()=>Un,eventListeners:()=>mo,flip:()=>ls,hide:()=>Pa,left:()=>qr,main:()=>gi,modifierPhases:()=>Ye,offset:()=>Ls,placements:()=>Gr,popper:()=>io,popperGenerator:()=>Cn,popperOffsets:()=>Js,preventOverflow:()=>ca,read:()=>Vo,reference:()=>fi,right:()=>Fi,start:()=>Zt,top:()=>wi,variationPlacements:()=>bo,viewport:()=>Ui,write:()=>ye});var ae=L(345),o=L(7705),Ae=L(7673),he=L(8455),De=L(1985),Ne=L(274),Le=L(5964),Be=L(6354),Z=L(980),ce=L(5558),me=L(177);class at{}class Xe{}class bt{constructor(g){this.normalizedNames=new Map,this.lazyUpdate=null,g?"string"==typeof g?this.lazyInit=()=>{this.headers=new Map,g.split("\n").forEach(h=>{const S=h.indexOf(":");if(S>0){const B=h.slice(0,S),pe=B.toLowerCase(),ve=h.slice(S+1).trim();this.maybeSetNormalizedName(B,pe),this.headers.has(pe)?this.headers.get(pe).push(ve):this.headers.set(pe,[ve])}})}:typeof Headers<"u"&&g instanceof Headers?(this.headers=new Map,g.forEach((h,S)=>{this.setHeaderEntries(S,h)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(g).forEach(([h,S])=>{this.setHeaderEntries(h,S)})}:this.headers=new Map}has(g){return this.init(),this.headers.has(g.toLowerCase())}get(g){this.init();const h=this.headers.get(g.toLowerCase());return h&&h.length>0?h[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(g){return this.init(),this.headers.get(g.toLowerCase())||null}append(g,h){return this.clone({name:g,value:h,op:"a"})}set(g,h){return this.clone({name:g,value:h,op:"s"})}delete(g,h){return this.clone({name:g,value:h,op:"d"})}maybeSetNormalizedName(g,h){this.normalizedNames.has(h)||this.normalizedNames.set(h,g)}init(){this.lazyInit&&(this.lazyInit instanceof bt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(g=>this.applyUpdate(g)),this.lazyUpdate=null))}copyFrom(g){g.init(),Array.from(g.headers.keys()).forEach(h=>{this.headers.set(h,g.headers.get(h)),this.normalizedNames.set(h,g.normalizedNames.get(h))})}clone(g){const h=new bt;return h.lazyInit=this.lazyInit&&this.lazyInit instanceof bt?this.lazyInit:this,h.lazyUpdate=(this.lazyUpdate||[]).concat([g]),h}applyUpdate(g){const h=g.name.toLowerCase();switch(g.op){case"a":case"s":let S=g.value;if("string"==typeof S&&(S=[S]),0===S.length)return;this.maybeSetNormalizedName(g.name,h);const B=("a"===g.op?this.headers.get(h):void 0)||[];B.push(...S),this.headers.set(h,B);break;case"d":const pe=g.value;if(pe){let ve=this.headers.get(h);if(!ve)return;ve=ve.filter(lt=>-1===pe.indexOf(lt)),0===ve.length?(this.headers.delete(h),this.normalizedNames.delete(h)):this.headers.set(h,ve)}else this.headers.delete(h),this.normalizedNames.delete(h)}}setHeaderEntries(g,h){const S=(Array.isArray(h)?h:[h]).map(pe=>pe.toString()),B=g.toLowerCase();this.headers.set(B,S),this.maybeSetNormalizedName(g,B)}forEach(g){this.init(),Array.from(this.normalizedNames.keys()).forEach(h=>g(this.normalizedNames.get(h),this.headers.get(h)))}}class jt{encodeKey(g){return We(g)}encodeValue(g){return We(g)}decodeKey(g){return decodeURIComponent(g)}decodeValue(g){return decodeURIComponent(g)}}const cn=/%(\d[a-f0-9])/gi,et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function We(E){return encodeURIComponent(E).replace(cn,(g,h)=>et[h]??g)}function ot(E){return`${E}`}class Ze{constructor(g={}){if(this.updates=null,this.cloneFrom=null,this.encoder=g.encoder||new jt,g.fromString){if(g.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mt(E,g){const h=new Map;return E.length>0&&E.replace(/^\?/,"").split("&").forEach(B=>{const pe=B.indexOf("="),[ve,lt]=-1==pe?[g.decodeKey(B),""]:[g.decodeKey(B.slice(0,pe)),g.decodeValue(B.slice(pe+1))],Dt=h.get(ve)||[];Dt.push(lt),h.set(ve,Dt)}),h}(g.fromString,this.encoder)}else g.fromObject?(this.map=new Map,Object.keys(g.fromObject).forEach(h=>{const S=g.fromObject[h],B=Array.isArray(S)?S.map(ot):[ot(S)];this.map.set(h,B)})):this.map=null}has(g){return this.init(),this.map.has(g)}get(g){this.init();const h=this.map.get(g);return h?h[0]:null}getAll(g){return this.init(),this.map.get(g)||null}keys(){return this.init(),Array.from(this.map.keys())}append(g,h){return this.clone({param:g,value:h,op:"a"})}appendAll(g){const h=[];return Object.keys(g).forEach(S=>{const B=g[S];Array.isArray(B)?B.forEach(pe=>{h.push({param:S,value:pe,op:"a"})}):h.push({param:S,value:B,op:"a"})}),this.clone(h)}set(g,h){return this.clone({param:g,value:h,op:"s"})}delete(g,h){return this.clone({param:g,value:h,op:"d"})}toString(){return this.init(),this.keys().map(g=>{const h=this.encoder.encodeKey(g);return this.map.get(g).map(S=>h+"="+this.encoder.encodeValue(S)).join("&")}).filter(g=>""!==g).join("&")}clone(g){const h=new Ze({encoder:this.encoder});return h.cloneFrom=this.cloneFrom||this,h.updates=(this.updates||[]).concat(g),h}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(g=>this.map.set(g,this.cloneFrom.map.get(g))),this.updates.forEach(g=>{switch(g.op){case"a":case"s":const h=("a"===g.op?this.map.get(g.param):void 0)||[];h.push(ot(g.value)),this.map.set(g.param,h);break;case"d":if(void 0===g.value){this.map.delete(g.param);break}{let S=this.map.get(g.param)||[];const B=S.indexOf(ot(g.value));-1!==B&&S.splice(B,1),S.length>0?this.map.set(g.param,S):this.map.delete(g.param)}}}),this.cloneFrom=this.updates=null)}}class wt{constructor(){this.map=new Map}set(g,h){return this.map.set(g,h),this}get(g){return this.map.has(g)||this.map.set(g,g.defaultValue()),this.map.get(g)}delete(g){return this.map.delete(g),this}has(g){return this.map.has(g)}keys(){return this.map.keys()}}function be(E){return typeof ArrayBuffer<"u"&&E instanceof ArrayBuffer}function Jt(E){return typeof Blob<"u"&&E instanceof Blob}function dn(E){return typeof FormData<"u"&&E instanceof FormData}class Pt{constructor(g,h,S,B){let pe;if(this.url=h,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=g.toUpperCase(),function Ft(E){switch(E){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||B?(this.body=void 0!==S?S:null,pe=B):pe=S,pe&&(this.reportProgress=!!pe.reportProgress,this.withCredentials=!!pe.withCredentials,pe.responseType&&(this.responseType=pe.responseType),pe.headers&&(this.headers=pe.headers),pe.context&&(this.context=pe.context),pe.params&&(this.params=pe.params)),this.headers||(this.headers=new bt),this.context||(this.context=new wt),this.params){const ve=this.params.toString();if(0===ve.length)this.urlWithParams=h;else{const lt=h.indexOf("?");this.urlWithParams=h+(-1===lt?"?":lt<h.length-1?"&":"")+ve}}else this.params=new Ze,this.urlWithParams=h}serializeBody(){return null===this.body?null:be(this.body)||Jt(this.body)||dn(this.body)||function nr(E){return typeof URLSearchParams<"u"&&E instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dn(this.body)?null:Jt(this.body)?this.body.type||null:be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(g={}){const h=g.method||this.method,S=g.url||this.url,B=g.responseType||this.responseType,pe=void 0!==g.body?g.body:this.body,ve=void 0!==g.withCredentials?g.withCredentials:this.withCredentials,lt=void 0!==g.reportProgress?g.reportProgress:this.reportProgress;let Dt=g.headers||this.headers,En=g.params||this.params;const tn=g.context??this.context;return void 0!==g.setHeaders&&(Dt=Object.keys(g.setHeaders).reduce((or,Zn)=>or.set(Zn,g.setHeaders[Zn]),Dt)),g.setParams&&(En=Object.keys(g.setParams).reduce((or,Zn)=>or.set(Zn,g.setParams[Zn]),En)),new Pt(h,S,pe,{params:En,headers:Dt,context:tn,reportProgress:lt,responseType:B,withCredentials:ve})}}var Bt=function(E){return E[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E}(Bt||{});class qt{constructor(g,h=200,S="OK"){this.headers=g.headers||new bt,this.status=void 0!==g.status?g.status:h,this.statusText=g.statusText||S,this.url=g.url||null,this.ok=this.status>=200&&this.status<300}}class ct extends qt{constructor(g={}){super(g),this.type=Bt.ResponseHeader}clone(g={}){return new ct({headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class Me extends qt{constructor(g={}){super(g),this.type=Bt.Response,this.body=void 0!==g.body?g.body:null}clone(g={}){return new Me({body:void 0!==g.body?g.body:this.body,headers:g.headers||this.headers,status:void 0!==g.status?g.status:this.status,statusText:g.statusText||this.statusText,url:g.url||this.url||void 0})}}class le extends qt{constructor(g){super(g,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${g.url||"(unknown url)"}`:`Http failure response for ${g.url||"(unknown url)"}: ${g.status} ${g.statusText}`,this.error=g.error||null}}function Fe(E,g){return{body:g,headers:E.headers,context:E.context,observe:E.observe,params:E.params,reportProgress:E.reportProgress,responseType:E.responseType,withCredentials:E.withCredentials}}let Qe=(()=>{class E{constructor(h){this.handler=h}request(h,S,B={}){let pe;if(h instanceof Pt)pe=h;else{let Dt,En;Dt=B.headers instanceof bt?B.headers:new bt(B.headers),B.params&&(En=B.params instanceof Ze?B.params:new Ze({fromObject:B.params})),pe=new Pt(h,S,void 0!==B.body?B.body:null,{headers:Dt,context:B.context,params:En,reportProgress:B.reportProgress,responseType:B.responseType||"json",withCredentials:B.withCredentials})}const ve=(0,Ae.of)(pe).pipe((0,Ne.H)(Dt=>this.handler.handle(Dt)));if(h instanceof Pt||"events"===B.observe)return ve;const lt=ve.pipe((0,Le.p)(Dt=>Dt instanceof Me));switch(B.observe||"body"){case"body":switch(pe.responseType){case"arraybuffer":return lt.pipe((0,Be.T)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dt.body}));case"blob":return lt.pipe((0,Be.T)(Dt=>{if(null!==Dt.body&&!(Dt.body instanceof Blob))throw new Error("Response is not a Blob.");return Dt.body}));case"text":return lt.pipe((0,Be.T)(Dt=>{if(null!==Dt.body&&"string"!=typeof Dt.body)throw new Error("Response is not a string.");return Dt.body}));default:return lt.pipe((0,Be.T)(Dt=>Dt.body))}case"response":return lt;default:throw new Error(`Unreachable: unhandled observe type ${B.observe}}`)}}delete(h,S={}){return this.request("DELETE",h,S)}get(h,S={}){return this.request("GET",h,S)}head(h,S={}){return this.request("HEAD",h,S)}jsonp(h,S){return this.request("JSONP",h,{params:(new Ze).append(S,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(h,S={}){return this.request("OPTIONS",h,S)}patch(h,S,B={}){return this.request("PATCH",h,Fe(B,S))}post(h,S,B={}){return this.request("POST",h,Fe(B,S))}put(h,S,B={}){return this.request("PUT",h,Fe(B,S))}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(at))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();function Fn(E,g){return g(E)}function In(E,g){return(h,S)=>g.intercept(h,{handle:B=>E(B,S)})}const Gt=new o.nKC(""),wn=new o.nKC(""),Bn=new o.nKC("");function Wt(){let E=null;return(g,h)=>{null===E&&(E=((0,o.WQX)(Gt,{optional:!0})??[]).reduceRight(In,Fn));const S=(0,o.WQX)(o.$K3),B=S.add();return E(g,h).pipe((0,Z.j)(()=>S.remove(B)))}}let Vt=(()=>{class E extends at{constructor(h,S){super(),this.backend=h,this.injector=S,this.chain=null,this.pendingTasks=(0,o.WQX)(o.$K3)}handle(h){if(null===this.chain){const B=Array.from(new Set([...this.injector.get(wn),...this.injector.get(Bn,[])]));this.chain=B.reduceRight((pe,ve)=>function fr(E,g,h){return(S,B)=>h.runInContext(()=>g(S,pe=>E(pe,B)))}(pe,ve,this.injector),Fn)}const S=this.pendingTasks.add();return this.chain(h,B=>this.backend.handle(B)).pipe((0,Z.j)(()=>this.pendingTasks.remove(S)))}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(Xe),o.KVO(o.uvJ))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();const $n=/^\)\]\}',?\n/;let Ki=(()=>{class E{constructor(h){this.xhrFactory=h}handle(h){if("JSONP"===h.method)throw new o.wOt(-2800,!1);const S=this.xhrFactory;return(S.\u0275loadImpl?(0,he.H)(S.\u0275loadImpl()):(0,Ae.of)(null)).pipe((0,ce.n)(()=>new De.c(pe=>{const ve=S.build();if(ve.open(h.method,h.urlWithParams),h.withCredentials&&(ve.withCredentials=!0),h.headers.forEach((Ln,er)=>ve.setRequestHeader(Ln,er.join(","))),h.headers.has("Accept")||ve.setRequestHeader("Accept","application/json, text/plain, */*"),!h.headers.has("Content-Type")){const Ln=h.detectContentTypeHeader();null!==Ln&&ve.setRequestHeader("Content-Type",Ln)}if(h.responseType){const Ln=h.responseType.toLowerCase();ve.responseType="json"!==Ln?Ln:"text"}const lt=h.serializeBody();let Dt=null;const En=()=>{if(null!==Dt)return Dt;const Ln=ve.statusText||"OK",er=new bt(ve.getAllResponseHeaders()),jr=function ti(E){return"responseURL"in E&&E.responseURL?E.responseURL:/^X-Request-URL:/m.test(E.getAllResponseHeaders())?E.getResponseHeader("X-Request-URL"):null}(ve)||h.url;return Dt=new ct({headers:er,status:ve.status,statusText:Ln,url:jr}),Dt},tn=()=>{let{headers:Ln,status:er,statusText:jr,url:ji}=En(),sr=null;204!==er&&(sr=typeof ve.response>"u"?ve.responseText:ve.response),0===er&&(er=sr?200:0);let Er=er>=200&&er<300;if("json"===h.responseType&&"string"==typeof sr){const vi=sr;sr=sr.replace($n,"");try{sr=""!==sr?JSON.parse(sr):null}catch(_r){sr=vi,Er&&(Er=!1,sr={error:_r,text:sr})}}Er?(pe.next(new Me({body:sr,headers:Ln,status:er,statusText:jr,url:ji||void 0})),pe.complete()):pe.error(new le({error:sr,headers:Ln,status:er,statusText:jr,url:ji||void 0}))},or=Ln=>{const{url:er}=En(),jr=new le({error:Ln,status:ve.status||0,statusText:ve.statusText||"Unknown Error",url:er||void 0});pe.error(jr)};let Zn=!1;const hr=Ln=>{Zn||(pe.next(En()),Zn=!0);let er={type:Bt.DownloadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(er.total=Ln.total),"text"===h.responseType&&ve.responseText&&(er.partialText=ve.responseText),pe.next(er)},_i=Ln=>{let er={type:Bt.UploadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(er.total=Ln.total),pe.next(er)};return ve.addEventListener("load",tn),ve.addEventListener("error",or),ve.addEventListener("timeout",or),ve.addEventListener("abort",or),h.reportProgress&&(ve.addEventListener("progress",hr),null!==lt&&ve.upload&&ve.upload.addEventListener("progress",_i)),ve.send(lt),pe.next({type:Bt.Sent}),()=>{ve.removeEventListener("error",or),ve.removeEventListener("abort",or),ve.removeEventListener("load",tn),ve.removeEventListener("timeout",or),h.reportProgress&&(ve.removeEventListener("progress",hr),null!==lt&&ve.upload&&ve.upload.removeEventListener("progress",_i)),ve.readyState!==ve.DONE&&ve.abort()}})))}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(me.N0))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();const un=new o.nKC("XSRF_ENABLED"),qn=new o.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Nn=new o.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yi{}let Ke=(()=>{class E{constructor(h,S,B){this.doc=h,this.platform=S,this.cookieName=B,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const h=this.doc.cookie||"";return h!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me._b)(h,this.cookieName),this.lastCookieString=h),this.lastToken}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(me.qQ),o.KVO(o.Agw),o.KVO(qn))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}return E})();function mt(E,g){const h=E.url.toLowerCase();if(!(0,o.WQX)(un)||"GET"===E.method||"HEAD"===E.method||h.startsWith("http://")||h.startsWith("https://"))return g(E);const S=(0,o.WQX)(yi).getToken(),B=(0,o.WQX)(Nn);return null!=S&&!E.headers.has(B)&&(E=E.clone({headers:E.headers.set(B,S)})),g(E)}var Ie=function(E){return E[E.Interceptors=0]="Interceptors",E[E.LegacyInterceptors=1]="LegacyInterceptors",E[E.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",E[E.NoXsrfProtection=3]="NoXsrfProtection",E[E.JsonpSupport=4]="JsonpSupport",E[E.RequestsMadeViaParent=5]="RequestsMadeViaParent",E[E.Fetch=6]="Fetch",E}(Ie||{});function Kt(...E){const g=[Qe,Ki,Vt,{provide:at,useExisting:Vt},{provide:Xe,useExisting:Ki},{provide:wn,useValue:mt,multi:!0},{provide:un,useValue:!0},{provide:yi,useClass:Ke}];for(const h of E)g.push(...h.\u0275providers);return(0,o.EmA)(g)}const xr=new o.nKC("LEGACY_INTERCEPTOR_FN");function ur(){return function ft(E,g){return{\u0275kind:E,\u0275providers:g}}(Ie.LegacyInterceptors,[{provide:xr,useFactory:Wt},{provide:wn,useExisting:xr,multi:!0}])}let je=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275mod=o.$C({type:E});static#n=this.\u0275inj=o.G2t({providers:[Kt(ur())]})}return E})();var br=L(6814),Oo=L(523),ri=L(8704),Bi=L(6861),Pe=L(923),Lt=L(9437);function Ce(E,g){if(1&E&&(o.j41(0,"div",4),o.nrm(1,"img",5),o.j41(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"h4"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()()),2&E){const h=g.$implicit;o.R7$(1),o.FS9("alt",h.name),o.Y8G("src",h.photoURL,o.B4B),o.R7$(2),o.JRh(h.name),o.R7$(2),o.JRh(h.role),o.R7$(2),o.JRh(h.bio)}}function Te(E,g){if(1&E&&(o.j41(0,"div",1)(1,"h2"),o.EFF(2,"Meet the Team"),o.k0s(),o.j41(3,"div",2),o.DNE(4,Ce,8,5,"div",3),o.nI1(5,"async"),o.k0s()()),2&E){const h=o.XpG();o.R7$(4),o.Y8G("ngForOf",o.bMT(5,1,h.employees$))}}let fe=(()=>{class E{constructor(h,S){this.route=h,this.employeeService=S}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Be.T)(h=>h.get("id")||""),(0,ce.n)(h=>this.employeeService.getEmployeesByBusinessId(h)),(0,Lt.W)(h=>(console.error("Error fetching employees:",h),(0,Ae.of)([]))))}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(br.nX),o.rXU(ri.N))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(S,B){1&S&&o.DNE(0,Te,6,3,"div",0),2&S&&o.Y8G("ngIf",B.employees$)},dependencies:[me.Sq,me.bT,me.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--primary-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#007bff;margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}return E})();var Et=L(4593),en=L(491);let Dn=(()=>{class E{constructor(h,S){this.route=h,this.router=S,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const S=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",S),S&&this.imagesAndMessages[S]?(this.backgroundImage=`url(${this.imagesAndMessages[S].image})`,this.message=this.imagesAndMessages[S].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(br.nX),o.rXU(br.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(S,B){1&S&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3),o.k0s()()()),2&S&&(o.xc7("background-image",B.backgroundImage),o.R7$(3),o.JRh(B.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}return E})(),On=(()=>{class E{constructor(){this.text="",this.author="",this.imageURL=""}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(S,B){1&S&&(o.j41(0,"div",0)(1,"div",1),o.nrm(2,"img",2),o.j41(3,"div",3)(4,"p",4),o.EFF(5),o.k0s(),o.j41(6,"p",5),o.EFF(7),o.k0s()()()()),2&S&&(o.R7$(2),o.FS9("src",B.imageURL,o.B4B),o.R7$(3),o.SpI('" ',B.text,'"'),o.R7$(2),o.SpI("\u2013 ",B.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}return E})();function kn(E,g){if(1&E&&(o.qex(0),o.j41(1,"button",3),o.EFF(2),o.k0s(),o.bVm()),2&E){const h=o.XpG();o.R7$(2),o.JRh(h.buttonText)}}function Kr(E,g){if(1&E&&(o.j41(0,"a",4),o.EFF(1),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.JRh(h.buttonText)}}const Vr=function(E,g){return{"background-color":E,color:g}};let Ni=(()=>{class E{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(S,B){if(1&S&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2),o.k0s(),o.DNE(3,kn,3,1,"ng-container",1),o.DNE(4,Kr,2,1,"ng-template",null,2,o.C5r),o.k0s()),2&S){const pe=o.sdS(5);o.Y8G("ngStyle",o.l_i(4,Vr,B.bgColor,B.textColor)),o.R7$(2),o.JRh(B.text),o.R7$(1),o.Y8G("ngIf",B.isButton)("ngIfElse",pe)}},dependencies:[me.bT,me.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}return E})();function Ko(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"About Us"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),o.EFF(12,"Our Story"),o.k0s()(),o.nrm(13,"div",11),o.k0s(),o.j41(14,"section",12)(15,"div",13),o.nrm(16,"img",14),o.j41(17,"div",9)(18,"h2",10),o.EFF(19,"Our Mission"),o.k0s()(),o.nrm(20,"div",11),o.k0s(),o.j41(21,"div",15),o.nrm(22,"img",14),o.j41(23,"div",9)(24,"h2",10),o.EFF(25,"Our Vision"),o.k0s()(),o.nrm(26,"div",11),o.k0s()(),o.j41(27,"section",16),o.nrm(28,"app-meet-the-team",17),o.k0s()(),o.j41(29,"div",18)(30,"div",19)(31,"h2"),o.EFF(32,"Come Meet Our Family"),o.k0s(),o.j41(33,"p"),o.EFF(34,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(35,"button",20),o.bIt("click",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.navigateToContact())}),o.EFF(36,"Schedule a Visit"),o.k0s()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(13),o.Y8G("innerHTML",h.business.businessStory,o.npT),o.R7$(3),o.Y8G("src",h.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",h.business.mission,o.npT),o.R7$(2),o.Y8G("src",h.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",o.B4B),o.R7$(4),o.Y8G("innerHTML",h.business.vision,o.npT),o.R7$(2),o.Y8G("businessId",h.business.id)}}function Mr(E,g){if(1&E&&o.nrm(0,"app-right-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission)}}function ys(E,g){if(1&E&&o.nrm(0,"app-left-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision)}}function ki(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",21)(3,"section",22),o.DNE(4,Mr,1,3,"app-right-text",23),o.DNE(5,ys,1,3,"app-left-text",23),o.k0s(),o.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(4),o.Y8G("ngIf","ae"===h.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ae"===h.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[0].name)("text",h.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function Es(E,g){if(1&E&&o.nrm(0,"app-right-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission)}}function Ei(E,g){if(1&E&&o.nrm(0,"app-left-text",26),2&E){const h=o.XpG(3);o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision)}}function ga(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",22),o.DNE(3,Es,1,3,"app-right-text",23),o.DNE(4,Ei,1,3,"app-left-text",23),o.k0s(),o.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("ngIf","ehc"===h.business.theme.themeType),o.R7$(1),o.Y8G("ngIf","ehc"===h.business.theme.themeType),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[0].name)("text",h.business.testimonials[0].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function No(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"section",22),o.nrm(3,"app-right-text",26)(4,"app-left-text",26),o.k0s(),o.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("imageURL",h.business.missionImageUrl)("title",h.business.missionTitle)("content",h.business.mission),o.R7$(1),o.Y8G("imageURL",h.business.visionImageUrl)("title",h.business.visionTitle)("content",h.business.vision),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",h.business.testimonials[5].name)("text",h.business.testimonials[5].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function Pi(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Ko,37,6,"ng-container",2),o.DNE(3,ki,9,10,"ng-container",2),o.DNE(4,ga,8,10,"ng-container",2),o.DNE(5,No,7,14,"ng-container",3),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc")}}let zi=(()=>{class E{constructor(h,S,B,pe,ve){this.webContent=h,this.route=S,this.router=B,this.metaService=pe,this.businessDataService=ve,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.businessId=h?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(ri.N),o.rXU(br.nX),o.rXU(br.Ix),o.rXU(Bi.R),o.rXU(Pe.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"imageURL","title","content"]],template:function(S,B){1&S&&o.DNE(0,Pi,6,4,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,fe,Et.F,en.G,Dn,On,Ni],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}return E})();function yr(E,g){if(1&E&&(o.j41(0,"div",4),o.nrm(1,"i",5),o.j41(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()),2&E){const h=g.$implicit;o.R7$(1),o.Y8G("ngClass",h.icon),o.R7$(2),o.JRh(h.title),o.R7$(2),o.JRh(h.description)}}let us=(()=>{class E{constructor(){this.layoutType="demo"}static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:7,vars:1,consts:[[1,"services-section"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"afhBtn"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(S,B){1&S&&(o.j41(0,"section",0)(1,"h2"),o.EFF(2,"Our Services"),o.k0s(),o.j41(3,"div",1),o.DNE(4,yr,6,3,"div",2),o.k0s(),o.j41(5,"button",3),o.EFF(6,"Book a consultation"),o.k0s()()),2&S&&(o.R7$(4),o.Y8G("ngForOf",B.services))},dependencies:[me.YU,me.Sq],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return E})();function $r(E,g){if(1&E&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&E){const h=g.$implicit;o.R7$(2),o.JRh(h.name)}}function Lr(E,g){if(1&E&&(o.j41(0,"li")(1,"h3"),o.EFF(2),o.k0s()()),2&E){const h=g.$implicit;o.R7$(2),o.JRh(h.name)}}function Uo(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",4)(2,"div",5)(3,"h1"),o.EFF(4,"Our Services"),o.k0s(),o.j41(5,"div",6)(6,"p"),o.EFF(7,"Providing exceptional care tailored to your needs"),o.k0s()()()(),o.j41(8,"div",7)(9,"section",8),o.nrm(10,"img",9),o.j41(11,"h2"),o.EFF(12,"Our Comprehensive Services"),o.k0s(),o.j41(13,"ul"),o.DNE(14,$r,3,1,"li",10),o.k0s()(),o.j41(15,"section",8),o.nrm(16,"img",9),o.j41(17,"h2"),o.EFF(18,"Our Benefits"),o.k0s(),o.j41(19,"ul"),o.DNE(20,Lr,3,1,"li",10),o.k0s()(),o.j41(21,"section",11)(22,"h2"),o.EFF(23,"Special Programs"),o.k0s(),o.j41(24,"h3"),o.EFF(25),o.k0s()(),o.j41(26,"section",12)(27,"div",13),o.nrm(28,"img",14),o.j41(29,"div",15)(30,"h2",16),o.EFF(31,"Tours"),o.k0s()(),o.nrm(32,"div",17),o.k0s(),o.j41(33,"div",18),o.nrm(34,"img",19),o.j41(35,"div",15)(36,"h2",16),o.EFF(37,"Free Consulting"),o.k0s()(),o.nrm(38,"div",17),o.k0s()()(),o.j41(39,"div",20)(40,"div",21)(41,"h2"),o.EFF(42,"Ready to Experience Exceptional Care?"),o.k0s(),o.j41(43,"p"),o.EFF(44,"Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services."),o.k0s(),o.j41(45,"button",22),o.bIt("click",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.navigateToContact())}),o.EFF(46,"Book a Consultation"),o.k0s()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(14),o.Y8G("ngForOf",h.business.services),o.R7$(6),o.Y8G("ngForOf",h.business.benefits),o.R7$(5),o.JRh(h.business.specialPrograms),o.R7$(7),o.Y8G("innerHTML",h.business.tours,o.npT),o.R7$(6),o.Y8G("innerHTML",h.business.freeConsulting,o.npT)}}const $i=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Ms=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},ia=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},ci=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},qo=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},ho=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},rs=function(E,g,h,S,B,pe){return[E,g,h,S,B,pe]};function Yn(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,rs,o.lJ4(10,$i),o.lJ4(11,Ms),o.lJ4(12,ia),o.lJ4(13,ci),o.lJ4(14,qo),o.lJ4(15,ho))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[1].name)("text",h.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function di(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,rs,o.lJ4(10,$i),o.lJ4(11,Ms),o.lJ4(12,ia),o.lJ4(13,ci),o.lJ4(14,qo),o.lJ4(15,ho))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[1].name)("text",h.business.testimonials[1].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function Ti(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",23),o.nrm(3,"app-item-list",24)(4,"app-testimonial-image",25)(5,"app-call-to-action",26),o.k0s(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(3),o.Y8G("layoutType",h.business.theme.themeType)("services",o.l4e(16,rs,o.lJ4(10,$i),o.lJ4(11,Ms),o.lJ4(12,ia),o.lJ4(13,ci),o.lJ4(14,qo),o.lJ4(15,ho))),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[6].name)("text",h.business.testimonials[6].quote),o.R7$(1),o.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",h.business.theme.backgroundColor)("textColor",h.business.theme.textColor)}}function fo(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Uo,47,5,"ng-container",2),o.DNE(3,Yn,6,23,"ng-container",2),o.DNE(4,di,6,23,"ng-container",2),o.DNE(5,Ti,6,23,"ng-container",3),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.business.theme.themeType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc")}}let Hr=(()=>{class E{constructor(h,S,B){this.router=h,this.businessDataService=S,this.metaService=B,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.businessId=h?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(br.Ix),o.rXU(Pe.A),o.rXU(Bi.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],["src","../../../../assets/sharedAssets/icons/care.svg","alt","Service Icon"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(S,B){1&S&&o.DNE(0,fo,6,4,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,us,Dn,On,Ni],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}return E})();var wi="top",hi="bottom",Fi="right",qr="left",qi="auto",Or=[wi,hi,Fi,qr],Zt="start",Un="end",dr="clippingParents",Ui="viewport",io="popper",fi="reference",bo=Or.reduce(function(E,g){return E.concat([g+"-"+Zt,g+"-"+Un])},[]),Gr=[].concat(Or,[qi]).reduce(function(E,g){return E.concat([g,g+"-"+Zt,g+"-"+Un])},[]),Fo="beforeRead",Vo="read",Wn="afterRead",Io="beforeMain",gi="main",Q="afterMain",z="beforeWrite",ye="write",Re="afterWrite",Ye=[Fo,Vo,Wn,Io,gi,Q,z,ye,Re];function yt(E){return E?(E.nodeName||"").toLowerCase():null}function Yt(E){if(null==E)return window;if("[object Window]"!==E.toString()){var g=E.ownerDocument;return g&&g.defaultView||window}return E}function mn(E){return E instanceof Yt(E).Element||E instanceof Element}function Rt(E){return E instanceof Yt(E).HTMLElement||E instanceof HTMLElement}function gn(E){return!(typeof ShadowRoot>"u")&&(E instanceof Yt(E).ShadowRoot||E instanceof ShadowRoot)}const pi={name:"applyStyles",enabled:!0,phase:"write",fn:function ar(E){var g=E.state;Object.keys(g.elements).forEach(function(h){var S=g.styles[h]||{},B=g.attributes[h]||{},pe=g.elements[h];!Rt(pe)||!yt(pe)||(Object.assign(pe.style,S),Object.keys(B).forEach(function(ve){var lt=B[ve];!1===lt?pe.removeAttribute(ve):pe.setAttribute(ve,!0===lt?"":lt)}))})},effect:function Rn(E){var g=E.state,h={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,h.popper),g.styles=h,g.elements.arrow&&Object.assign(g.elements.arrow.style,h.arrow),function(){Object.keys(g.elements).forEach(function(S){var B=g.elements[S],pe=g.attributes[S]||{},lt=Object.keys(g.styles.hasOwnProperty(S)?g.styles[S]:h[S]).reduce(function(Dt,En){return Dt[En]="",Dt},{});!Rt(B)||!yt(B)||(Object.assign(B.style,lt),Object.keys(pe).forEach(function(Dt){B.removeAttribute(Dt)}))})}},requires:["computeStyles"]};function wr(E){return E.split("-")[0]}var Jr=Math.max,ii=Math.min,Ur=Math.round;function Yi(){var E=navigator.userAgentData;return null!=E&&E.brands&&Array.isArray(E.brands)?E.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function Xi(){return!/^((?!chrome|android).)*safari/i.test(Yi())}function ir(E,g,h){void 0===g&&(g=!1),void 0===h&&(h=!1);var S=E.getBoundingClientRect(),B=1,pe=1;g&&Rt(E)&&(B=E.offsetWidth>0&&Ur(S.width)/E.offsetWidth||1,pe=E.offsetHeight>0&&Ur(S.height)/E.offsetHeight||1);var lt=(mn(E)?Yt(E):window).visualViewport,Dt=!Xi()&&h,En=(S.left+(Dt&&lt?lt.offsetLeft:0))/B,tn=(S.top+(Dt&&lt?lt.offsetTop:0))/pe,or=S.width/B,Zn=S.height/pe;return{width:or,height:Zn,top:tn,right:En+or,bottom:tn+Zn,left:En,x:En,y:tn}}function Ci(E){var g=ir(E),h=E.offsetWidth,S=E.offsetHeight;return Math.abs(g.width-h)<=1&&(h=g.width),Math.abs(g.height-S)<=1&&(S=g.height),{x:E.offsetLeft,y:E.offsetTop,width:h,height:S}}function oi(E,g){var h=g.getRootNode&&g.getRootNode();if(E.contains(g))return!0;if(h&&gn(h)){var S=g;do{if(S&&E.isSameNode(S))return!0;S=S.parentNode||S.host}while(S)}return!1}function gr(E){return Yt(E).getComputedStyle(E)}function bs(E){return["table","td","th"].indexOf(yt(E))>=0}function Ai(E){return((mn(E)?E.ownerDocument:E.document)||window.document).documentElement}function Is(E){return"html"===yt(E)?E:E.assignedSlot||E.parentNode||(gn(E)?E.host:null)||Ai(E)}function po(E){return Rt(E)&&"fixed"!==gr(E).position?E.offsetParent:null}function go(E){for(var g=Yt(E),h=po(E);h&&bs(h)&&"static"===gr(h).position;)h=po(h);return h&&("html"===yt(h)||"body"===yt(h)&&"static"===gr(h).position)?g:h||function ma(E){var g=/firefox/i.test(Yi());if(/Trident/i.test(Yi())&&Rt(E)&&"fixed"===gr(E).position)return null;var B=Is(E);for(gn(B)&&(B=B.host);Rt(B)&&["html","body"].indexOf(yt(B))<0;){var pe=gr(B);if("none"!==pe.transform||"none"!==pe.perspective||"paint"===pe.contain||-1!==["transform","perspective"].indexOf(pe.willChange)||g&&"filter"===pe.willChange||g&&pe.filter&&"none"!==pe.filter)return B;B=B.parentNode}return null}(E)||g}function is(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function Xs(E,g,h){return Jr(E,ii(g,h))}function Os(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function Ns(E,g){return g.reduce(function(h,S){return h[S]=E,h},{})}const xa={name:"arrow",enabled:!0,phase:"main",fn:function Yr(E){var g,h=E.state,S=E.name,B=E.options,pe=h.elements.arrow,ve=h.modifiersData.popperOffsets,lt=wr(h.placement),Dt=is(lt),tn=[qr,Fi].indexOf(lt)>=0?"height":"width";if(pe&&ve){var or=function(g,h){return Os("number"!=typeof(g="function"==typeof g?g(Object.assign({},h.rects,{placement:h.placement})):g)?g:Ns(g,Or))}(B.padding,h),Zn=Ci(pe),hr="y"===Dt?wi:qr,_i="y"===Dt?hi:Fi,Ln=h.rects.reference[tn]+h.rects.reference[Dt]-ve[Dt]-h.rects.popper[tn],er=ve[Dt]-h.rects.reference[Dt],jr=go(pe),ji=jr?"y"===Dt?jr.clientHeight||0:jr.clientWidth||0:0,_r=ji/2-Zn[tn]/2+(Ln/2-er/2),Ii=Xs(or[hr],_r,ji-Zn[tn]-or[_i]);h.modifiersData[S]=((g={})[Dt]=Ii,g.centerOffset=Ii-_r,g)}},effect:function sa(E){var g=E.state,S=E.options.element,B=void 0===S?"[data-popper-arrow]":S;null!=B&&("string"==typeof B&&!(B=g.elements.popper.querySelector(B))||oi(g.elements.popper,B)&&(g.elements.arrow=B))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function G(E){return E.split("-")[1]}var Y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oe(E){var g,h=E.popper,S=E.popperRect,B=E.placement,pe=E.variation,ve=E.offsets,lt=E.position,Dt=E.gpuAcceleration,En=E.adaptive,tn=E.roundOffsets,or=E.isFixed,Zn=ve.x,hr=void 0===Zn?0:Zn,_i=ve.y,Ln=void 0===_i?0:_i,er="function"==typeof tn?tn({x:hr,y:Ln}):{x:hr,y:Ln};hr=er.x,Ln=er.y;var jr=ve.hasOwnProperty("x"),ji=ve.hasOwnProperty("y"),sr=qr,Er=wi,vi=window;if(En){var _r=go(h),Ii="clientHeight",to="clientWidth";_r===Yt(h)&&"static"!==gr(_r=Ai(h)).position&&"absolute"===lt&&(Ii="scrollHeight",to="scrollWidth"),(B===wi||(B===qr||B===Fi)&&pe===Un)&&(Er=hi,Ln-=(or&&_r===vi&&vi.visualViewport?vi.visualViewport.height:_r[Ii])-S.height,Ln*=Dt?1:-1),B!==qr&&(B!==wi&&B!==hi||pe!==Un)||(sr=Fi,hr-=(or&&_r===vi&&vi.visualViewport?vi.visualViewport.width:_r[to])-S.width,hr*=Dt?1:-1)}var yo,Dr=Object.assign({position:lt},En&&Y),ts=!0===tn?function O(E,g){var S=E.y,B=g.devicePixelRatio||1;return{x:Ur(E.x*B)/B||0,y:Ur(S*B)/B||0}}({x:hr,y:Ln},Yt(h)):{x:hr,y:Ln};return hr=ts.x,Ln=ts.y,Object.assign({},Dr,Dt?((yo={})[Er]=ji?"0":"",yo[sr]=jr?"0":"",yo.transform=(vi.devicePixelRatio||1)<=1?"translate("+hr+"px, "+Ln+"px)":"translate3d("+hr+"px, "+Ln+"px, 0)",yo):((g={})[Er]=ji?Ln+"px":"",g[sr]=jr?hr+"px":"",g.transform="",g))}const yn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ve(E){var g=E.state,h=E.options,S=h.gpuAcceleration,B=void 0===S||S,pe=h.adaptive,ve=void 0===pe||pe,lt=h.roundOffsets,Dt=void 0===lt||lt,En={placement:wr(g.placement),variation:G(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:B,isFixed:"fixed"===g.options.strategy};null!=g.modifiersData.popperOffsets&&(g.styles.popper=Object.assign({},g.styles.popper,oe(Object.assign({},En,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:ve,roundOffsets:Dt})))),null!=g.modifiersData.arrow&&(g.styles.arrow=Object.assign({},g.styles.arrow,oe(Object.assign({},En,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Dt})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var Hn={passive:!0};const mo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function oo(E){var g=E.state,h=E.instance,S=E.options,B=S.scroll,pe=void 0===B||B,ve=S.resize,lt=void 0===ve||ve,Dt=Yt(g.elements.popper),En=[].concat(g.scrollParents.reference,g.scrollParents.popper);return pe&&En.forEach(function(tn){tn.addEventListener("scroll",h.update,Hn)}),lt&&Dt.addEventListener("resize",h.update,Hn),function(){pe&&En.forEach(function(tn){tn.removeEventListener("scroll",h.update,Hn)}),lt&&Dt.removeEventListener("resize",h.update,Hn)}},data:{}};var so={left:"right",right:"left",bottom:"top",top:"bottom"};function os(E){return E.replace(/left|right|bottom|top/g,function(g){return so[g]})}var jo={start:"end",end:"start"};function Bo(E){return E.replace(/start|end/g,function(g){return jo[g]})}function So(E){var g=Yt(E);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function gu(E){return ir(Ai(E)).left+So(E).scrollLeft}function Wi(E){var g=gr(E);return/auto|scroll|overlay|hidden/.test(g.overflow+g.overflowY+g.overflowX)}function Mc(E){return["html","body","#document"].indexOf(yt(E))>=0?E.ownerDocument.body:Rt(E)&&Wi(E)?E:Mc(Is(E))}function To(E,g){var h;void 0===g&&(g=[]);var S=Mc(E),B=S===(null==(h=E.ownerDocument)?void 0:h.body),pe=Yt(S),ve=B?[pe].concat(pe.visualViewport||[],Wi(S)?S:[]):S,lt=g.concat(ve);return B?lt:lt.concat(To(Is(ve)))}function ks(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function va(E,g,h){return g===Ui?ks(function si(E,g){var h=Yt(E),S=Ai(E),B=h.visualViewport,pe=S.clientWidth,ve=S.clientHeight,lt=0,Dt=0;if(B){pe=B.width,ve=B.height;var En=Xi();(En||!En&&"fixed"===g)&&(lt=B.offsetLeft,Dt=B.offsetTop)}return{width:pe,height:ve,x:lt+gu(E),y:Dt}}(E,h)):mn(g)?function ss(E,g){var h=ir(E,!1,"fixed"===g);return h.top=h.top+E.clientTop,h.left=h.left+E.clientLeft,h.bottom=h.top+E.clientHeight,h.right=h.left+E.clientWidth,h.width=E.clientWidth,h.height=E.clientHeight,h.x=h.left,h.y=h.top,h}(g,h):ks(function _a(E){var g,h=Ai(E),S=So(E),B=null==(g=E.ownerDocument)?void 0:g.body,pe=Jr(h.scrollWidth,h.clientWidth,B?B.scrollWidth:0,B?B.clientWidth:0),ve=Jr(h.scrollHeight,h.clientHeight,B?B.scrollHeight:0,B?B.clientHeight:0),lt=-S.scrollLeft+gu(E),Dt=-S.scrollTop;return"rtl"===gr(B||h).direction&&(lt+=Jr(h.clientWidth,B?B.clientWidth:0)-pe),{width:pe,height:ve,x:lt,y:Dt}}(Ai(E)))}function Sa(E){var Dt,g=E.reference,h=E.element,S=E.placement,B=S?wr(S):null,pe=S?G(S):null,ve=g.x+g.width/2-h.width/2,lt=g.y+g.height/2-h.height/2;switch(B){case wi:Dt={x:ve,y:g.y-h.height};break;case hi:Dt={x:ve,y:g.y+g.height};break;case Fi:Dt={x:g.x+g.width,y:lt};break;case qr:Dt={x:g.x-h.width,y:lt};break;default:Dt={x:g.x,y:g.y}}var En=B?is(B):null;if(null!=En){var tn="y"===En?"height":"width";switch(pe){case Zt:Dt[En]=Dt[En]-(g[tn]/2-h[tn]/2);break;case Un:Dt[En]=Dt[En]+(g[tn]/2-h[tn]/2)}}return Dt}function Qs(E,g){void 0===g&&(g={});var S=g.placement,B=void 0===S?E.placement:S,pe=g.strategy,ve=void 0===pe?E.strategy:pe,lt=g.boundary,Dt=void 0===lt?dr:lt,En=g.rootBoundary,tn=void 0===En?Ui:En,or=g.elementContext,Zn=void 0===or?io:or,hr=g.altBoundary,_i=void 0!==hr&&hr,Ln=g.padding,er=void 0===Ln?0:Ln,jr=Os("number"!=typeof er?er:Ns(er,Or)),sr=E.rects.popper,Er=E.elements[_i?Zn===io?fi:io:Zn],vi=function cr(E,g,h,S){var B="clippingParents"===g?function Fs(E){var g=To(Is(E)),S=["absolute","fixed"].indexOf(gr(E).position)>=0&&Rt(E)?go(E):E;return mn(S)?g.filter(function(B){return mn(B)&&oi(B,S)&&"body"!==yt(B)}):[]}(E):[].concat(g),pe=[].concat(B,[h]),lt=pe.reduce(function(Dt,En){var tn=va(E,En,S);return Dt.top=Jr(tn.top,Dt.top),Dt.right=ii(tn.right,Dt.right),Dt.bottom=ii(tn.bottom,Dt.bottom),Dt.left=Jr(tn.left,Dt.left),Dt},va(E,pe[0],S));return lt.width=lt.right-lt.left,lt.height=lt.bottom-lt.top,lt.x=lt.left,lt.y=lt.top,lt}(mn(Er)?Er:Er.contextElement||Ai(E.elements.popper),Dt,tn,ve),_r=ir(E.elements.reference),Ii=Sa({reference:_r,element:sr,strategy:"absolute",placement:B}),to=ks(Object.assign({},sr,Ii)),no=Zn===io?to:_r,co={top:vi.top-no.top+jr.top,bottom:no.bottom-vi.bottom+jr.bottom,left:vi.left-no.left+jr.left,right:no.right-vi.right+jr.right},Dr=E.modifiersData.offset;if(Zn===io&&Dr){var ts=Dr[B];Object.keys(co).forEach(function(yo){var Ps=[Fi,hi].indexOf(yo)>=0?1:-1,wa=[wi,hi].indexOf(yo)>=0?"y":"x";co[yo]+=ts[wa]*Ps})}return co}const ls={name:"flip",enabled:!0,phase:"main",fn:function ya(E){var g=E.state,h=E.options,S=E.name;if(!g.modifiersData[S]._skip){for(var B=h.mainAxis,pe=void 0===B||B,ve=h.altAxis,lt=void 0===ve||ve,Dt=h.fallbackPlacements,En=h.padding,tn=h.boundary,or=h.rootBoundary,Zn=h.altBoundary,hr=h.flipVariations,_i=void 0===hr||hr,Ln=h.allowedAutoPlacements,er=g.options.placement,jr=wr(er),sr=Dt||(jr!==er&&_i?function Ka(E){if(wr(E)===qi)return[];var g=os(E);return[Bo(E),g,Bo(g)]}(er):[os(er)]),Er=[er].concat(sr).reduce(function(Xu,wc){return Xu.concat(wr(wc)===qi?function Wa(E,g){void 0===g&&(g={});var B=g.boundary,pe=g.rootBoundary,ve=g.padding,lt=g.flipVariations,Dt=g.allowedAutoPlacements,En=void 0===Dt?Gr:Dt,tn=G(g.placement),or=tn?lt?bo:bo.filter(function(_i){return G(_i)===tn}):Or,Zn=or.filter(function(_i){return En.indexOf(_i)>=0});0===Zn.length&&(Zn=or);var hr=Zn.reduce(function(_i,Ln){return _i[Ln]=Qs(E,{placement:Ln,boundary:B,rootBoundary:pe,padding:ve})[wr(Ln)],_i},{});return Object.keys(hr).sort(function(_i,Ln){return hr[_i]-hr[Ln]})}(g,{placement:wc,boundary:tn,rootBoundary:or,padding:En,flipVariations:_i,allowedAutoPlacements:Ln}):wc)},[]),vi=g.rects.reference,_r=g.rects.popper,Ii=new Map,to=!0,no=Er[0],co=0;co<Er.length;co++){var Dr=Er[co],ts=wr(Dr),yo=G(Dr)===Zt,Ps=[wi,hi].indexOf(ts)>=0,wa=Ps?"width":"height",ns=Qs(g,{placement:Dr,boundary:tn,rootBoundary:or,altBoundary:Zn,padding:En}),Aa=Ps?yo?Fi:qr:yo?hi:wi;vi[wa]>_r[wa]&&(Aa=os(Aa));var Yh=os(Aa),qu=[];if(pe&&qu.push(ns[ts]<=0),lt&&qu.push(ns[Aa]<=0,ns[Yh]<=0),qu.every(function(Xu){return Xu})){no=Dr,to=!1;break}Ii.set(Dr,qu)}if(to)for(var Yu=function(wc){var Da=Er.find(function(lp){var Fd=Ii.get(lp);if(Fd)return Fd.slice(0,wc).every(function(Um){return Um})});if(Da)return no=Da,"break"},fa=_i?3:1;fa>0&&"break"!==Yu(fa);fa--);g.placement!==no&&(g.modifiersData[S]._skip=!0,g.placement=no,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Vs(E,g,h){return void 0===h&&(h={x:0,y:0}),{top:E.top-g.height-h.y,right:E.right-g.width+h.x,bottom:E.bottom-g.height+h.y,left:E.left-g.width-h.x}}function qa(E){return[wi,Fi,hi,qr].some(function(g){return E[g]>=0})}const Pa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Oc(E){var g=E.state,h=E.name,S=g.rects.reference,B=g.rects.popper,pe=g.modifiersData.preventOverflow,ve=Qs(g,{elementContext:"reference"}),lt=Qs(g,{altBoundary:!0}),Dt=Vs(ve,S),En=Vs(lt,B,pe),tn=qa(Dt),or=qa(En);g.modifiersData[h]={referenceClippingOffsets:Dt,popperEscapeOffsets:En,isReferenceHidden:tn,hasPopperEscaped:or},g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-reference-hidden":tn,"data-popper-escaped":or})}},Ls={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Ya(E){var g=E.state,S=E.name,B=E.options.offset,pe=void 0===B?[0,0]:B,ve=Gr.reduce(function(tn,or){return tn[or]=function aa(E,g,h){var S=wr(E),B=[qr,wi].indexOf(S)>=0?-1:1,pe="function"==typeof h?h(Object.assign({},g,{placement:E})):h,ve=pe[0],lt=pe[1];return ve=ve||0,lt=(lt||0)*B,[qr,Fi].indexOf(S)>=0?{x:lt,y:ve}:{x:ve,y:lt}}(or,g.rects,pe),tn},{}),lt=ve[g.placement],En=lt.y;null!=g.modifiersData.popperOffsets&&(g.modifiersData.popperOffsets.x+=lt.x,g.modifiersData.popperOffsets.y+=En),g.modifiersData[S]=ve}},Js={name:"popperOffsets",enabled:!0,phase:"read",fn:function Vl(E){var g=E.state;g.modifiersData[E.name]=Sa({reference:g.rects.reference,element:g.rects.popper,strategy:"absolute",placement:g.placement})},data:{}},ca={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ju(E){var g=E.state,h=E.options,S=E.name,B=h.mainAxis,pe=void 0===B||B,ve=h.altAxis,lt=void 0!==ve&&ve,Zn=h.tether,hr=void 0===Zn||Zn,_i=h.tetherOffset,Ln=void 0===_i?0:_i,er=Qs(g,{boundary:h.boundary,rootBoundary:h.rootBoundary,padding:h.padding,altBoundary:h.altBoundary}),jr=wr(g.placement),ji=G(g.placement),sr=!ji,Er=is(jr),vi=function Ra(E){return"x"===E?"y":"x"}(Er),_r=g.modifiersData.popperOffsets,Ii=g.rects.reference,to=g.rects.popper,no="function"==typeof Ln?Ln(Object.assign({},g.rects,{placement:g.placement})):Ln,co="number"==typeof no?{mainAxis:no,altAxis:no}:Object.assign({mainAxis:0,altAxis:0},no),Dr=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,ts={x:0,y:0};if(_r){if(pe){var yo,Ps="y"===Er?wi:qr,wa="y"===Er?hi:Fi,ns="y"===Er?"height":"width",Aa=_r[Er],Yh=Aa+er[Ps],qu=Aa-er[wa],Xh=hr?-to[ns]/2:0,Yu=ji===Zt?Ii[ns]:to[ns],fa=ji===Zt?-to[ns]:-Ii[ns],kd=g.elements.arrow,Xu=hr&&kd?Ci(kd):{width:0,height:0},wc=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Da=wc[Ps],lp=wc[wa],Fd=Xs(0,Ii[ns],Xu[ns]),Um=sr?Ii[ns]/2-Xh-Fd-Da-co.mainAxis:Yu-Fd-Da-co.mainAxis,Qu=sr?-Ii[ns]/2+Xh+Fd+lp+co.mainAxis:fa+Fd+lp+co.mainAxis,Pg=g.elements.arrow&&go(g.elements.arrow),zv=Pg?"y"===Er?Pg.clientTop||0:Pg.clientLeft||0:0,Vd=null!=(yo=Dr?.[Er])?yo:0,jm=Aa+Qu-Vd,Ld=Xs(hr?ii(Yh,Aa+Um-Vd-zv):Yh,Aa,hr?Jr(qu,jm):qu);_r[Er]=Ld,ts[Er]=Ld-Aa}if(lt){var Ud,Vi=_r[vi],Ol="y"===vi?"height":"width",Mg=Vi+er["x"===Er?wi:qr],Nl=Vi-er["x"===Er?hi:Fi],Qh=-1!==[wi,qr].indexOf(jr),Og=null!=(Ud=Dr?.[vi])?Ud:0,pu=Qh?Mg:Vi-Ii[Ol]-to[Ol]-Og+co.altAxis,Ng=Qh?Vi+Ii[Ol]+to[Ol]-Og-co.altAxis:Nl,Ac=hr&&Qh?function oa(E,g,h){var S=Xs(E,g,h);return S>h?h:S}(pu,Vi,Ng):Xs(hr?pu:Mg,Vi,hr?Ng:Nl);_r[vi]=Ac,ts[vi]=Ac-Vi}g.modifiersData[S]=ts}},requiresIfExists:["offset"]};function x(E,g,h){void 0===h&&(h=!1);var S=Rt(g),B=Rt(g)&&function Di(E){var g=E.getBoundingClientRect(),h=Ur(g.width)/E.offsetWidth||1,S=Ur(g.height)/E.offsetHeight||1;return 1!==h||1!==S}(g),pe=Ai(g),ve=ir(E,B,h),lt={scrollLeft:0,scrollTop:0},Dt={x:0,y:0};return(S||!S&&!h)&&(("body"!==yt(g)||Wi(pe))&&(lt=function _u(E){return E!==Yt(E)&&Rt(E)?function mu(E){return{scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}}(E):So(E)}(g)),Rt(g)?((Dt=ir(g,!0)).x+=g.clientLeft,Dt.y+=g.clientTop):pe&&(Dt.x=gu(pe))),{x:ve.left+lt.scrollLeft-Dt.x,y:ve.top+lt.scrollTop-Dt.y,width:ve.width,height:ve.height}}function J(E){var g=new Map,h=new Set,S=[];function B(pe){h.add(pe.name),[].concat(pe.requires||[],pe.requiresIfExists||[]).forEach(function(lt){if(!h.has(lt)){var Dt=g.get(lt);Dt&&B(Dt)}}),S.push(pe)}return E.forEach(function(pe){g.set(pe.name,pe)}),E.forEach(function(pe){h.has(pe.name)||B(pe)}),S}function X(E){var g;return function(){return g||(g=new Promise(function(h){Promise.resolve().then(function(){g=void 0,h(E())})})),g}}var _t={placement:"bottom",modifiers:[],strategy:"absolute"};function Nt(){for(var E=arguments.length,g=new Array(E),h=0;h<E;h++)g[h]=arguments[h];return!g.some(function(S){return!(S&&"function"==typeof S.getBoundingClientRect)})}function Cn(E){void 0===E&&(E={});var h=E.defaultModifiers,S=void 0===h?[]:h,B=E.defaultOptions,pe=void 0===B?_t:B;return function(lt,Dt,En){void 0===En&&(En=pe);var tn={placement:"bottom",orderedModifiers:[],options:Object.assign({},_t,pe),modifiersData:{},elements:{reference:lt,popper:Dt},attributes:{},styles:{}},or=[],Zn=!1,hr={state:tn,setOptions:function(jr){var ji="function"==typeof jr?jr(tn.options):jr;Ln(),tn.options=Object.assign({},pe,tn.options,ji),tn.scrollParents={reference:mn(lt)?To(lt):lt.contextElement?To(lt.contextElement):[],popper:To(Dt)};var sr=function U(E){var g=J(E);return Ye.reduce(function(h,S){return h.concat(g.filter(function(B){return B.phase===S}))},[])}(function we(E){var g=E.reduce(function(h,S){var B=h[S.name];return h[S.name]=B?Object.assign({},B,S,{options:Object.assign({},B.options,S.options),data:Object.assign({},B.data,S.data)}):S,h},{});return Object.keys(g).map(function(h){return g[h]})}([].concat(S,tn.options.modifiers)));return tn.orderedModifiers=sr.filter(function(Er){return Er.enabled}),function _i(){tn.orderedModifiers.forEach(function(er){var ji=er.options,Er=er.effect;if("function"==typeof Er){var vi=Er({state:tn,name:er.name,instance:hr,options:void 0===ji?{}:ji});or.push(vi||function(){})}})}(),hr.update()},forceUpdate:function(){if(!Zn){var jr=tn.elements,ji=jr.reference,sr=jr.popper;if(Nt(ji,sr)){tn.rects={reference:x(ji,go(sr),"fixed"===tn.options.strategy),popper:Ci(sr)},tn.reset=!1,tn.placement=tn.options.placement,tn.orderedModifiers.forEach(function(co){return tn.modifiersData[co.name]=Object.assign({},co.data)});for(var Er=0;Er<tn.orderedModifiers.length;Er++)if(!0!==tn.reset){var vi=tn.orderedModifiers[Er],_r=vi.fn,Ii=vi.options;"function"==typeof _r&&(tn=_r({state:tn,options:void 0===Ii?{}:Ii,name:vi.name,instance:hr})||tn)}else tn.reset=!1,Er=-1}}},update:X(function(){return new Promise(function(er){hr.forceUpdate(),er(tn)})}),destroy:function(){Ln(),Zn=!0}};if(!Nt(lt,Dt))return hr;function Ln(){or.forEach(function(er){return er()}),or=[]}return hr.setOptions(En).then(function(er){!Zn&&En.onFirstUpdate&&En.onFirstUpdate(er)}),hr}}var Nr=Cn(),zr=Cn({defaultModifiers:[mo,Js,yn,pi,Ls,ls,ca,xa,Pa]}),mi=Cn({defaultModifiers:[mo,Js,yn,pi]});const Sr=new Map,Ri={set(E,g,h){Sr.has(E)||Sr.set(E,new Map);const S=Sr.get(E);S.has(g)||0===S.size?S.set(g,h):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(S.keys())[0]}.`)},get:(E,g)=>Sr.has(E)&&Sr.get(E).get(g)||null,remove(E,g){if(!Sr.has(E))return;const h=Sr.get(E);h.delete(g),0===h.size&&Sr.delete(E)}},Us="transitionend",Ho=E=>(E&&window.CSS&&window.CSS.escape&&(E=E.replace(/#([^\s"#']+)/g,(g,h)=>`#${CSS.escape(h)}`)),E),Zu=E=>{E.dispatchEvent(new Event(Us))},Qr=E=>!(!E||"object"!=typeof E)&&(typeof E.jquery<"u"&&(E=E[0]),typeof E.nodeType<"u"),as=E=>Qr(E)?E.jquery?E[0]:E:"string"==typeof E&&E.length>0?document.querySelector(Ho(E)):null,Ts=E=>{if(!Qr(E)||0===E.getClientRects().length)return!1;const g="visible"===getComputedStyle(E).getPropertyValue("visibility"),h=E.closest("details:not([open])");if(!h)return g;if(h!==E){const S=E.closest("summary");if(S&&S.parentNode!==h||null===S)return!1}return g},Qi=E=>!(E&&E.nodeType===Node.ELEMENT_NODE&&!E.classList.contains("disabled"))||(typeof E.disabled<"u"?E.disabled:E.hasAttribute("disabled")&&"false"!==E.getAttribute("disabled")),el=E=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof E.getRootNode){const g=E.getRootNode();return g instanceof ShadowRoot?g:null}return E instanceof ShadowRoot?E:E.parentNode?el(E.parentNode):null},Xa=()=>{},bi=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Qa=[],Yo=()=>"rtl"===document.documentElement.dir,Ji=E=>{(E=>{"loading"===document.readyState?(Qa.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of Qa)g()}),Qa.push(E)):E()})(()=>{const g=bi();if(g){const h=E.NAME,S=g.fn[h];g.fn[h]=E.jQueryInterface,g.fn[h].Constructor=E,g.fn[h].noConflict=()=>(g.fn[h]=S,E.jQueryInterface)}})},Zi=(E,g=[],h=E)=>"function"==typeof E?E(...g):h,Nc=(E,g,h=!0)=>{if(!h)return void Zi(E);const B=(E=>{if(!E)return 0;let{transitionDuration:g,transitionDelay:h}=window.getComputedStyle(E);const S=Number.parseFloat(g),B=Number.parseFloat(h);return S||B?(g=g.split(",")[0],h=h.split(",")[0],1e3*(Number.parseFloat(g)+Number.parseFloat(h))):0})(g)+5;let pe=!1;const ve=({target:lt})=>{lt===g&&(pe=!0,g.removeEventListener(Us,ve),Zi(E))};g.addEventListener(Us,ve),setTimeout(()=>{pe||Zu(g)},B)},yu=(E,g,h,S)=>{const B=E.length;let pe=E.indexOf(g);return-1===pe?!h&&S?E[B-1]:E[0]:(pe+=h?1:-1,S&&(pe=(pe+B)%B),E[Math.max(0,Math.min(pe,B-1))])},Ll=/[^.]*(?=\..*)\.|.*/,Ul=/\..*/,jl=/::\d+$/,Jn={};let Bl=1;const Ja={mouseenter:"mouseover",mouseleave:"mouseout"},Go=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tl(E,g){return g&&`${g}::${Bl++}`||E.uidEvent||Bl++}function Eu(E){const g=tl(E);return E.uidEvent=g,Jn[g]=Jn[g]||{},Jn[g]}function kc(E,g,h=null){return Object.values(E).find(S=>S.callable===g&&S.delegationSelector===h)}function Cu(E,g,h){const S="string"==typeof g,B=S?h:g||h;let pe=$t(E);return Go.has(pe)||(pe=E),[S,B,pe]}function Oa(E,g,h,S,B){if("string"!=typeof g||!E)return;let[pe,ve,lt]=Cu(g,h,S);var _i;g in Ja&&(_i=ve,ve=function(Ln){if(!Ln.relatedTarget||Ln.relatedTarget!==Ln.delegateTarget&&!Ln.delegateTarget.contains(Ln.relatedTarget))return _i.call(this,Ln)});const Dt=Eu(E),En=Dt[lt]||(Dt[lt]={}),tn=kc(En,ve,pe?h:null);if(tn)return void(tn.oneOff=tn.oneOff&&B);const or=tl(ve,g.replace(Ll,"")),Zn=pe?function Ma(E,g,h){return function S(B){const pe=E.querySelectorAll(g);for(let{target:ve}=B;ve&&ve!==this;ve=ve.parentNode)for(const lt of pe)if(lt===ve)return Fc(B,{delegateTarget:ve}),S.oneOff&&At.off(E,B.type,g,h),h.apply(ve,[B])}}(E,h,ve):function eo(E,g){return function h(S){return Fc(S,{delegateTarget:E}),h.oneOff&&At.off(E,S.type,g),g.apply(E,[S])}}(E,ve);Zn.delegationSelector=pe?h:null,Zn.callable=ve,Zn.oneOff=B,Zn.uidEvent=or,En[or]=Zn,E.addEventListener(lt,Zn,pe)}function fs(E,g,h,S,B){const pe=kc(g[h],S,B);pe&&(E.removeEventListener(h,pe,!!B),delete g[h][pe.uidEvent])}function Hd(E,g,h,S){const B=g[h]||{};for(const[pe,ve]of Object.entries(B))pe.includes(S)&&fs(E,g,h,ve.callable,ve.delegationSelector)}function $t(E){return E=E.replace(Ul,""),Ja[E]||E}const At={on(E,g,h,S){Oa(E,g,h,S,!1)},one(E,g,h,S){Oa(E,g,h,S,!0)},off(E,g,h,S){if("string"!=typeof g||!E)return;const[B,pe,ve]=Cu(g,h,S),lt=ve!==g,Dt=Eu(E),En=Dt[ve]||{},tn=g.startsWith(".");if(typeof pe<"u"){if(!Object.keys(En).length)return;fs(E,Dt,ve,pe,B?h:null)}else{if(tn)for(const or of Object.keys(Dt))Hd(E,Dt,or,g.slice(1));for(const[or,Zn]of Object.entries(En)){const hr=or.replace(jl,"");(!lt||g.includes(hr))&&fs(E,Dt,ve,Zn.callable,Zn.delegationSelector)}}},trigger(E,g,h){if("string"!=typeof g||!E)return null;const S=bi();let ve=null,lt=!0,Dt=!0,En=!1;g!==$t(g)&&S&&(ve=S.Event(g,h),S(E).trigger(ve),lt=!ve.isPropagationStopped(),Dt=!ve.isImmediatePropagationStopped(),En=ve.isDefaultPrevented());const tn=Fc(new Event(g,{bubbles:lt,cancelable:!0}),h);return En&&tn.preventDefault(),Dt&&E.dispatchEvent(tn),tn.defaultPrevented&&ve&&ve.preventDefault(),tn}};function Fc(E,g={}){for(const[h,S]of Object.entries(g))try{E[h]=S}catch{Object.defineProperty(E,h,{configurable:!0,get:()=>S})}return E}function Na(E){if("true"===E)return!0;if("false"===E)return!1;if(E===Number(E).toString())return Number(E);if(""===E||"null"===E)return null;if("string"!=typeof E)return E;try{return JSON.parse(decodeURIComponent(E))}catch{return E}}function Ao(E){return E.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}const Si={setDataAttribute(E,g,h){E.setAttribute(`data-bs-${Ao(g)}`,h)},removeDataAttribute(E,g){E.removeAttribute(`data-bs-${Ao(g)}`)},getDataAttributes(E){if(!E)return{};const g={},h=Object.keys(E.dataset).filter(S=>S.startsWith("bs")&&!S.startsWith("bsConfig"));for(const S of h){let B=S.replace(/^bs/,"");B=B.charAt(0).toLowerCase()+B.slice(1,B.length),g[B]=Na(E.dataset[S])}return g},getDataAttribute:(E,g)=>Na(E.getAttribute(`data-bs-${Ao(g)}`))};class ua{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(g){return g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g}_mergeConfigObj(g,h){const S=Qr(h)?Si.getDataAttribute(h,"config"):{};return{...this.constructor.Default,..."object"==typeof S?S:{},...Qr(h)?Si.getDataAttributes(h):{},..."object"==typeof g?g:{}}}_typeCheckConfig(g,h=this.constructor.DefaultType){for(const[S,B]of Object.entries(h)){const pe=g[S],ve=Qr(pe)?"element":null==(E=pe)?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(B).test(ve))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${S}" provided type "${ve}" but expected type "${B}".`)}var E}}class zo extends ua{constructor(g,h){super(),(g=as(g))&&(this._element=g,this._config=this._getConfig(h),Ri.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ri.remove(this._element,this.constructor.DATA_KEY),At.off(this._element,this.constructor.EVENT_KEY);for(const g of Object.getOwnPropertyNames(this))this[g]=null}_queueCallback(g,h,S=!0){Nc(g,h,S)}_getConfig(g){return g=this._mergeConfigObj(g,this._element),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}static getInstance(g){return Ri.get(as(g),this.DATA_KEY)}static getOrCreateInstance(g,h={}){return this.getInstance(g)||new this(g,"object"==typeof h?h:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(g){return`${g}${this.EVENT_KEY}`}}const ka=E=>{let g=E.getAttribute("data-bs-target");if(!g||"#"===g){let h=E.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),g=h&&"#"!==h?h.trim():null}return g?g.split(",").map(h=>Ho(h)).join(","):null},Kn={find:(E,g=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(g,E)),findOne:(E,g=document.documentElement)=>Element.prototype.querySelector.call(g,E),children:(E,g)=>[].concat(...E.children).filter(h=>h.matches(g)),parents(E,g){const h=[];let S=E.parentNode.closest(g);for(;S;)h.push(S),S=S.parentNode.closest(g);return h},prev(E,g){let h=E.previousElementSibling;for(;h;){if(h.matches(g))return[h];h=h.previousElementSibling}return[]},next(E,g){let h=E.nextElementSibling;for(;h;){if(h.matches(g))return[h];h=h.nextElementSibling}return[]},focusableChildren(E){const g=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(g,E).filter(h=>!Qi(h)&&Ts(h))},getSelectorFromElement(E){const g=ka(E);return g&&Kn.findOne(g)?g:null},getElementFromSelector(E){const g=ka(E);return g?Kn.findOne(g):null},getMultipleElementsFromSelector(E){const g=ka(E);return g?Kn.find(g):[]}},Za=(E,g="hide")=>{const S=E.NAME;At.on(document,`click.dismiss${E.EVENT_KEY}`,`[data-bs-dismiss="${S}"]`,function(B){if(["A","AREA"].includes(this.tagName)&&B.preventDefault(),Qi(this))return;const pe=Kn.getElementFromSelector(this)||this.closest(`.${S}`);E.getOrCreateInstance(pe)[g]()})},ps=".bs.alert",Iu=`close${ps}`,Zs=`closed${ps}`;class ms extends zo{static get NAME(){return"alert"}close(){if(At.trigger(this._element,Iu).defaultPrevented)return;this._element.classList.remove("show");const h=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),At.trigger(this._element,Zs),this.dispose()}static jQueryInterface(g){return this.each(function(){const h=ms.getOrCreateInstance(this);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g](this)}})}}Za(ms,"close"),Ji(ms);const w='[data-bs-toggle="button"]';class I extends zo{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(g){return this.each(function(){const h=I.getOrCreateInstance(this);"toggle"===g&&h[g]()})}}At.on(document,"click.bs.button.data-api",w,E=>{E.preventDefault();const g=E.target.closest(w);I.getOrCreateInstance(g).toggle()}),Ji(I);const j=".bs.swipe",ne=`touchstart${j}`,Ee=`touchmove${j}`,pt=`touchend${j}`,ht=`pointerdown${j}`,vn=`pointerup${j}`,tc={endCallback:null,leftCallback:null,rightCallback:null},nc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class la extends ua{constructor(g,h){super(),this._element=g,g&&la.isSupported()&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return tc}static get DefaultType(){return nc}static get NAME(){return"swipe"}dispose(){At.off(this._element,j)}_start(g){this._supportPointerEvents?this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX):this._deltaX=g.touches[0].clientX}_end(g){this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX-this._deltaX),this._handleSwipe(),Zi(this._config.endCallback)}_move(g){this._deltaX=g.touches&&g.touches.length>1?0:g.touches[0].clientX-this._deltaX}_handleSwipe(){const g=Math.abs(this._deltaX);if(g<=40)return;const h=g/this._deltaX;this._deltaX=0,h&&Zi(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(At.on(this._element,ht,g=>this._start(g)),At.on(this._element,vn,g=>this._end(g)),this._element.classList.add("pointer-event")):(At.on(this._element,ne,g=>this._start(g)),At.on(this._element,Ee,g=>this._move(g)),At.on(this._element,pt,g=>this._end(g)))}_eventIsPointerPenTouch(g){return this._supportPointerEvents&&("pen"===g.pointerType||"touch"===g.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Fa=".bs.carousel",Tu=".data-api",ws="next",_s="prev",Jo="left",wu="right",nl=`slide${Fa}`,Lc=`slid${Fa}`,ic=`keydown${Fa}`,Uc=`mouseenter${Fa}`,rl=`mouseleave${Fa}`,vp=`dragstart${Fa}`,da=`load${Fa}${Tu}`,zl=`click${Fa}${Tu}`,Wd="carousel",jc="active",js=".active",oc=".carousel-item",ha=js+oc,Zo={ArrowLeft:wu,ArrowRight:Jo},Kl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},sl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class cs extends zo{constructor(g,h){super(g,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Kn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Wd&&this.cycle()}static get Default(){return Kl}static get DefaultType(){return sl}static get NAME(){return"carousel"}next(){this._slide(ws)}nextWhenVisible(){!document.hidden&&Ts(this._element)&&this.next()}prev(){this._slide(_s)}pause(){this._isSliding&&Zu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void At.one(this._element,Lc,()=>this.cycle());this.cycle()}}to(g){const h=this._getItems();if(g>h.length-1||g<0)return;if(this._isSliding)return void At.one(this._element,Lc,()=>this.to(g));const S=this._getItemIndex(this._getActive());S!==g&&this._slide(g>S?ws:_s,h[g])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(g){return g.defaultInterval=g.interval,g}_addEventListeners(){this._config.keyboard&&At.on(this._element,ic,g=>this._keydown(g)),"hover"===this._config.pause&&(At.on(this._element,Uc,()=>this.pause()),At.on(this._element,rl,()=>this._maybeEnableCycle())),this._config.touch&&la.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const S of Kn.find(".carousel-item img",this._element))At.on(S,vp,B=>B.preventDefault());this._swipeHelper=new la(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Jo)),rightCallback:()=>this._slide(this._directionToOrder(wu)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(g){if(/input|textarea/i.test(g.target.tagName))return;const h=Zo[g.key];h&&(g.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(g){return this._getItems().indexOf(g)}_setActiveIndicatorElement(g){if(!this._indicatorsElement)return;const h=Kn.findOne(js,this._indicatorsElement);h.classList.remove(jc),h.removeAttribute("aria-current");const S=Kn.findOne(`[data-bs-slide-to="${g}"]`,this._indicatorsElement);S&&(S.classList.add(jc),S.setAttribute("aria-current","true"))}_updateInterval(){const g=this._activeElement||this._getActive();if(!g)return;const h=Number.parseInt(g.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(g,h=null){if(this._isSliding)return;const S=this._getActive(),B=g===ws,pe=h||yu(this._getItems(),S,B,this._config.wrap);if(pe===S)return;const ve=this._getItemIndex(pe),lt=hr=>At.trigger(this._element,hr,{relatedTarget:pe,direction:this._orderToDirection(g),from:this._getItemIndex(S),to:ve});if(lt(nl).defaultPrevented||!S||!pe)return;const En=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ve),this._activeElement=pe;const tn=B?"carousel-item-start":"carousel-item-end",or=B?"carousel-item-next":"carousel-item-prev";pe.classList.add(or),S.classList.add(tn),pe.classList.add(tn),this._queueCallback(()=>{pe.classList.remove(tn,or),pe.classList.add(jc),S.classList.remove(jc,or,tn),this._isSliding=!1,lt(Lc)},S,this._isAnimated()),En&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Kn.findOne(ha,this._element)}_getItems(){return Kn.find(oc,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(g){return Yo()?g===Jo?_s:ws:g===Jo?ws:_s}_orderToDirection(g){return Yo()?g===_s?Jo:wu:g===_s?wu:Jo}static jQueryInterface(g){return this.each(function(){const h=cs.getOrCreateInstance(this,g);if("number"!=typeof g){if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}}else h.to(g)})}}At.on(document,zl,"[data-bs-slide], [data-bs-slide-to]",function(E){const g=Kn.getElementFromSelector(this);if(!g||!g.classList.contains(Wd))return;E.preventDefault();const h=cs.getOrCreateInstance(g),S=this.getAttribute("data-bs-slide-to");return S?(h.to(S),void h._maybeEnableCycle()):"next"===Si.getDataAttribute(this,"slide")?(h.next(),void h._maybeEnableCycle()):(h.prev(),void h._maybeEnableCycle())}),At.on(window,da,()=>{const E=Kn.find('[data-bs-ride="carousel"]');for(const g of E)cs.getOrCreateInstance(g)}),Ji(cs);const Bs=".bs.collapse",sc=`show${Bs}`,ql=`shown${Bs}`,La=`hide${Bs}`,Kd=`hidden${Bs}`,qd=`click${Bs}.data-api`,$c="show",na="collapse",Hc="collapsing",al=`:scope .${na} .${na}`,Gc='[data-bs-toggle="collapse"]',Ca={parent:null,toggle:!0},zc={parent:"(null|element)",toggle:"boolean"};class Wc extends zo{constructor(g,h){super(g,h),this._isTransitioning=!1,this._triggerArray=[];const S=Kn.find(Gc);for(const B of S){const pe=Kn.getSelectorFromElement(B),ve=Kn.find(pe).filter(lt=>lt===this._element);null!==pe&&ve.length&&this._triggerArray.push(B)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ca}static get DefaultType(){return zc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let g=[];if(this._config.parent&&(g=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(lt=>lt!==this._element).map(lt=>Wc.getOrCreateInstance(lt,{toggle:!1}))),g.length&&g[0]._isTransitioning||At.trigger(this._element,sc).defaultPrevented)return;for(const lt of g)lt.hide();const S=this._getDimension();this._element.classList.remove(na),this._element.classList.add(Hc),this._element.style[S]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ve=`scroll${S[0].toUpperCase()+S.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Hc),this._element.classList.add(na,$c),this._element.style[S]="",At.trigger(this._element,ql)},this._element,!0),this._element.style[S]=`${this._element[ve]}px`}hide(){if(this._isTransitioning||!this._isShown()||At.trigger(this._element,La).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,this._element.classList.add(Hc),this._element.classList.remove(na,$c);for(const B of this._triggerArray){const pe=Kn.getElementFromSelector(B);pe&&!this._isShown(pe)&&this._addAriaAndCollapsedClass([B],!1)}this._isTransitioning=!0,this._element.style[h]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Hc),this._element.classList.add(na),At.trigger(this._element,Kd)},this._element,!0)}_isShown(g=this._element){return g.classList.contains($c)}_configAfterMerge(g){return g.toggle=!!g.toggle,g.parent=as(g.parent),g}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const g=this._getFirstLevelChildren(Gc);for(const h of g){const S=Kn.getElementFromSelector(h);S&&this._addAriaAndCollapsedClass([h],this._isShown(S))}}_getFirstLevelChildren(g){const h=Kn.find(al,this._config.parent);return Kn.find(g,this._config.parent).filter(S=>!h.includes(S))}_addAriaAndCollapsedClass(g,h){if(g.length)for(const S of g)S.classList.toggle("collapsed",!h),S.setAttribute("aria-expanded",h)}static jQueryInterface(g){const h={};return"string"==typeof g&&/show|hide/.test(g)&&(h.toggle=!1),this.each(function(){const S=Wc.getOrCreateInstance(this,h);if("string"==typeof g){if(typeof S[g]>"u")throw new TypeError(`No method named "${g}"`);S[g]()}})}}At.on(document,qd,Gc,function(E){("A"===E.target.tagName||E.delegateTarget&&"A"===E.delegateTarget.tagName)&&E.preventDefault();for(const g of Kn.getMultipleElementsFromSelector(this))Wc.getOrCreateInstance(g,{toggle:!1}).toggle()}),Ji(Wc);const Du="dropdown",As=".bs.dropdown",cc=".data-api",ao="ArrowUp",Cp="ArrowDown",af=`hide${As}`,Hg=`hidden${As}`,cf=`show${As}`,Ip=`shown${As}`,Yl=`click${As}${cc}`,Kc=`keydown${As}${cc}`,Su=`keyup${As}${cc}`,qc="show",Po='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',dc=`${Po}.${qc}`,Pu=".dropdown-menu",lf=Yo()?"top-end":"top-start",df=Yo()?"top-start":"top-end",Tp=Yo()?"bottom-end":"bottom-start",$s=Yo()?"bottom-start":"bottom-end",Ql=Yo()?"left-start":"right-start",Mu=Yo()?"right-start":"left-start",ll={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Jl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Hs extends zo{constructor(g,h){super(g,h),this._popper=null,this._parent=this._element.parentNode,this._menu=Kn.next(this._element,Pu)[0]||Kn.prev(this._element,Pu)[0]||Kn.findOne(Pu,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ll}static get DefaultType(){return Jl}static get NAME(){return Du}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Qi(this._element)||this._isShown())return;const g={relatedTarget:this._element};if(!At.trigger(this._element,cf,g).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const S of[].concat(...document.body.children))At.on(S,"mouseover",Xa);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(qc),this._element.classList.add(qc),At.trigger(this._element,Ip,g)}}hide(){!Qi(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(g){if(!At.trigger(this._element,af,g).defaultPrevented){if("ontouchstart"in document.documentElement)for(const S of[].concat(...document.body.children))At.off(S,"mouseover",Xa);this._popper&&this._popper.destroy(),this._menu.classList.remove(qc),this._element.classList.remove(qc),this._element.setAttribute("aria-expanded","false"),Si.removeDataAttribute(this._menu,"popper"),At.trigger(this._element,Hg,g)}}_getConfig(g){if("object"==typeof(g=super._getConfig(g)).reference&&!Qr(g.reference)&&"function"!=typeof g.reference.getBoundingClientRect)throw new TypeError(`${Du.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return g}_createPopper(){if(typeof a>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let g=this._element;"parent"===this._config.reference?g=this._parent:Qr(this._config.reference)?g=as(this._config.reference):"object"==typeof this._config.reference&&(g=this._config.reference);const h=this._getPopperConfig();this._popper=zr(g,this._menu,h)}_isShown(){return this._menu.classList.contains(qc)}_getPlacement(){const g=this._parent;if(g.classList.contains("dropend"))return Ql;if(g.classList.contains("dropstart"))return Mu;if(g.classList.contains("dropup-center"))return"top";if(g.classList.contains("dropdown-center"))return"bottom";const h="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return g.classList.contains("dropup")?h?df:lf:h?$s:Tp}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(h=>Number.parseInt(h,10)):"function"==typeof g?h=>g(h,this._element):g}_getPopperConfig(){const g={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Si.setDataAttribute(this._menu,"popper","static"),g.modifiers=[{name:"applyStyles",enabled:!1}]),{...g,...Zi(this._config.popperConfig,[g])}}_selectMenuItem({key:g,target:h}){const S=Kn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(B=>Ts(B));S.length&&yu(S,h,g===Cp,!S.includes(h)).focus()}static jQueryInterface(g){return this.each(function(){const h=Hs.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}static clearMenus(g){if(2===g.button||"keyup"===g.type&&"Tab"!==g.key)return;const h=Kn.find(dc);for(const S of h){const B=Hs.getInstance(S);if(!B||!1===B._config.autoClose)continue;const pe=g.composedPath(),ve=pe.includes(B._menu);if(pe.includes(B._element)||"inside"===B._config.autoClose&&!ve||"outside"===B._config.autoClose&&ve||B._menu.contains(g.target)&&("keyup"===g.type&&"Tab"===g.key||/input|select|option|textarea|form/i.test(g.target.tagName)))continue;const lt={relatedTarget:B._element};"click"===g.type&&(lt.clickEvent=g),B._completeHide(lt)}}static dataApiKeydownHandler(g){const h=/input|textarea/i.test(g.target.tagName),S="Escape"===g.key,B=[ao,Cp].includes(g.key);if(!B&&!S||h&&!S)return;g.preventDefault();const pe=this.matches(Po)?this:Kn.prev(this,Po)[0]||Kn.next(this,Po)[0]||Kn.findOne(Po,g.delegateTarget.parentNode),ve=Hs.getOrCreateInstance(pe);if(B)return g.stopPropagation(),ve.show(),void ve._selectMenuItem(g);ve._isShown()&&(g.stopPropagation(),ve.hide(),pe.focus())}}At.on(document,Kc,Po,Hs.dataApiKeydownHandler),At.on(document,Kc,Pu,Hs.dataApiKeydownHandler),At.on(document,Yl,Hs.clearMenus),At.on(document,Su,Hs.clearMenus),At.on(document,Yl,Po,function(E){E.preventDefault(),Hs.getOrCreateInstance(this).toggle()}),Ji(Hs);const Zd="backdrop",hc=`mousedown.bs.${Zd}`,Zl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class fc extends ua{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return Zl}static get DefaultType(){return hf}static get NAME(){return Zd}show(g){if(!this._config.isVisible)return void Zi(g);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Zi(g)})}hide(g){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Zi(g)})):Zi(g)}dispose(){this._isAppended&&(At.off(this._element,hc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add("fade"),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=as(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),At.on(g,hc,()=>{Zi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){Nc(g,this._getElement(),this._config.isAnimated)}}const gc=".bs.focustrap",Yc=`focusin${gc}`,Ou=`keydown.tab${gc}`,td="backward",ff={autofocus:!0,trapElement:null},Xc={autofocus:"boolean",trapElement:"element"};class Qc extends ua{constructor(g){super(),this._config=this._getConfig(g),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ff}static get DefaultType(){return Xc}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),At.off(document,gc),At.on(document,Yc,g=>this._handleFocusin(g)),At.on(document,Ou,g=>this._handleKeydown(g)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,At.off(document,gc))}_handleFocusin(g){const{trapElement:h}=this._config;if(g.target===document||g.target===h||h.contains(g.target))return;const S=Kn.focusableChildren(h);0===S.length?h.focus():this._lastTabNavDirection===td?S[S.length-1].focus():S[0].focus()}_handleKeydown(g){"Tab"===g.key&&(this._lastTabNavDirection=g.shiftKey?td:"forward")}}const nd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rh=".sticky-top",b="padding-right",p="margin-right";class _{constructor(){this._element=document.body}getWidth(){const g=document.documentElement.clientWidth;return Math.abs(window.innerWidth-g)}hide(){const g=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,b,h=>h+g),this._setElementAttributes(nd,b,h=>h+g),this._setElementAttributes(rh,p,h=>h-g)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,b),this._resetElementAttributes(nd,b),this._resetElementAttributes(rh,p)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(g,h,S){const B=this.getWidth();this._applyManipulationCallback(g,ve=>{if(ve!==this._element&&window.innerWidth>ve.clientWidth+B)return;this._saveInitialAttribute(ve,h);const lt=window.getComputedStyle(ve).getPropertyValue(h);ve.style.setProperty(h,`${S(Number.parseFloat(lt))}px`)})}_saveInitialAttribute(g,h){const S=g.style.getPropertyValue(h);S&&Si.setDataAttribute(g,h,S)}_resetElementAttributes(g,h){this._applyManipulationCallback(g,B=>{const pe=Si.getDataAttribute(B,h);null!==pe?(Si.removeDataAttribute(B,h),B.style.setProperty(h,pe)):B.style.removeProperty(h)})}_applyManipulationCallback(g,h){if(Qr(g))h(g);else for(const S of Kn.find(g,this._element))h(S)}}const se=".bs.modal",zt=`hide${se}`,Sn=`hidePrevented${se}`,Gn=`hidden${se}`,Wr=`show${se}`,Gs=`shown${se}`,mc=`resize${se}`,_c=`click.dismiss${se}`,ku=`mousedown.dismiss${se}`,Jc=`keydown.dismiss${se}`,ih=`click${se}.data-api`,vc="modal-open",id="modal-static",sd={backdrop:!0,focus:!0,keyboard:!0},pf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Fu extends zo{constructor(g,h){super(g,h),this._dialog=Kn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _,this._addEventListeners()}static get Default(){return sd}static get DefaultType(){return pf}static get NAME(){return"modal"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||this._isTransitioning||At.trigger(this._element,Wr,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(g)))}hide(){!this._isShown||this._isTransitioning||At.trigger(this._element,zt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){At.off(window,se),At.off(this._dialog,se),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fc({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Qc({trapElement:this._element})}_showElement(g){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=Kn.findOne(".modal-body",this._dialog);h&&(h.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,At.trigger(this._element,Gs,{relatedTarget:g})},this._dialog,this._isAnimated())}_addEventListeners(){At.on(this._element,Jc,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),At.on(window,mc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),At.on(this._element,ku,g=>{At.one(this._element,_c,h=>{if(this._element===g.target&&this._element===h.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vc),this._resetAdjustments(),this._scrollBar.reset(),At.trigger(this._element,Gn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(At.trigger(this._element,Sn).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,S=this._element.style.overflowY;"hidden"===S||this._element.classList.contains(id)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(id),this._queueCallback(()=>{this._element.classList.remove(id),this._queueCallback(()=>{this._element.style.overflowY=S},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const g=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),S=h>0;if(S&&!g){const B=Yo()?"paddingLeft":"paddingRight";this._element.style[B]=`${h}px`}if(!S&&g){const B=Yo()?"paddingRight":"paddingLeft";this._element.style[B]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(g,h){return this.each(function(){const S=Fu.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof S[g]>"u")throw new TypeError(`No method named "${g}"`);S[g](h)}})}}At.on(document,ih,'[data-bs-toggle="modal"]',function(E){const g=Kn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&E.preventDefault(),At.one(g,Wr,B=>{B.defaultPrevented||At.one(g,Gn,()=>{Ts(this)&&this.focus()})});const h=Kn.findOne(".modal.show");h&&Fu.getInstance(h).hide(),Fu.getOrCreateInstance(g).toggle(this)}),Za(Fu),Ji(Fu);const ba=".bs.offcanvas",wp=".data-api",ad=`load${ba}${wp}`,Ap="showing",xp=".offcanvas.show",Sp=`show${ba}`,Gg=`shown${ba}`,zg=`hide${ba}`,Wg=`hidePrevented${ba}`,ah=`hidden${ba}`,n_=`resize${ba}`,Pp=`click${ba}${wp}`,ra=`keydown.dismiss${ba}`,Kg={backdrop:!0,keyboard:!0,scroll:!1},uh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class _o extends zo{constructor(g,h){super(g,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Kg}static get DefaultType(){return uh}static get NAME(){return"offcanvas"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||At.trigger(this._element,Sp,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new _).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ap),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Ap),At.trigger(this._element,Gg,{relatedTarget:g})},this._element,!0))}hide(){this._isShown&&!At.trigger(this._element,zg).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new _).reset(),At.trigger(this._element,ah)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const h=!!this._config.backdrop;return new fc({className:"offcanvas-backdrop",isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?()=>{"static"!==this._config.backdrop?this.hide():At.trigger(this._element,Wg)}:null})}_initializeFocusTrap(){return new Qc({trapElement:this._element})}_addEventListeners(){At.on(this._element,ra,g=>{if("Escape"===g.key){if(this._config.keyboard)return void this.hide();At.trigger(this._element,Wg)}})}static jQueryInterface(g){return this.each(function(){const h=_o.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g](this)}})}}At.on(document,Pp,'[data-bs-toggle="offcanvas"]',function(E){const g=Kn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),Qi(this))return;At.one(g,ah,()=>{Ts(this)&&this.focus()});const h=Kn.findOne(xp);h&&h!==g&&_o.getInstance(h).hide(),_o.getOrCreateInstance(g).toggle(this)}),At.on(window,ad,()=>{for(const E of Kn.find(xp))_o.getOrCreateInstance(E).show()}),At.on(window,n_,()=>{for(const E of Kn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(E).position&&_o.getOrCreateInstance(E).hide()}),Za(_o),Ji(_o);const lh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},mf=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ud=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,tu=(E,g)=>{const h=E.nodeName.toLowerCase();return g.includes(h)?!mf.has(h)||!!ud.test(E.nodeValue):g.filter(S=>S instanceof RegExp).some(S=>S.test(h))},ld={allowList:lh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Mp={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},dd={entry:"(string|element|function|null)",selector:"(string|element)"};class r_ extends ua{constructor(g){super(),this._config=this._getConfig(g)}static get Default(){return ld}static get DefaultType(){return Mp}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(g=>this._resolvePossibleFunction(g)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(g){return this._checkContent(g),this._config.content={...this._config.content,...g},this}toHtml(){const g=document.createElement("div");g.innerHTML=this._maybeSanitize(this._config.template);for(const[B,pe]of Object.entries(this._config.content))this._setContent(g,pe,B);const h=g.children[0],S=this._resolvePossibleFunction(this._config.extraClass);return S&&h.classList.add(...S.split(" ")),h}_typeCheckConfig(g){super._typeCheckConfig(g),this._checkContent(g.content)}_checkContent(g){for(const[h,S]of Object.entries(g))super._typeCheckConfig({selector:h,entry:S},dd)}_setContent(g,h,S){const B=Kn.findOne(S,g);if(B){if(!(h=this._resolvePossibleFunction(h)))return void B.remove();if(Qr(h))return void this._putElementInTemplate(as(h),B);if(this._config.html)return void(B.innerHTML=this._maybeSanitize(h));B.textContent=h}}_maybeSanitize(g){return this._config.sanitize?function Rp(E,g,h){if(!E.length)return E;if(h&&"function"==typeof h)return h(E);const B=(new window.DOMParser).parseFromString(E,"text/html"),pe=[].concat(...B.body.querySelectorAll("*"));for(const ve of pe){const lt=ve.nodeName.toLowerCase();if(!Object.keys(g).includes(lt)){ve.remove();continue}const Dt=[].concat(...ve.attributes),En=[].concat(g["*"]||[],g[lt]||[]);for(const tn of Dt)tu(tn,En)||ve.removeAttribute(tn.nodeName)}return B.body.innerHTML}(g,this._config.allowList,this._config.sanitizeFn):g}_resolvePossibleFunction(g){return Zi(g,[this])}_putElementInTemplate(g,h){if(this._config.html)return h.innerHTML="",void h.append(g);h.textContent=g.textContent}}const dh=new Set(["sanitize","allowList","sanitizeFn"]),hh="fade",hd="show",fh="hide.bs.modal",Vu="hover",nu="focus",ph={AUTO:"auto",TOP:"top",RIGHT:Yo()?"left":"right",BOTTOM:"bottom",LEFT:Yo()?"right":"left"},kp={allowList:lh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Fp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ml extends zo{constructor(g,h){if(typeof a>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(g,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return kp}static get DefaultType(){return Fp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),At.off(this._element.closest(".modal"),fh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const g=At.trigger(this._element,this.constructor.eventName("show")),S=(el(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(g.defaultPrevented||!S)return;this._disposePopper();const B=this._getTipElement();this._element.setAttribute("aria-describedby",B.getAttribute("id"));const{container:pe}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(pe.append(B),At.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(B),B.classList.add(hd),"ontouchstart"in document.documentElement)for(const lt of[].concat(...document.body.children))At.on(lt,"mouseover",Xa);this._queueCallback(()=>{At.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!At.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(hd),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))At.off(B,"mouseover",Xa);this._activeTrigger.click=!1,this._activeTrigger[nu]=!1,this._activeTrigger[Vu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),At.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(g){const h=this._getTemplateFactory(g).toHtml();if(!h)return null;h.classList.remove(hh,hd),h.classList.add(`bs-${this.constructor.NAME}-auto`);const S=(E=>{do{E+=Math.floor(1e6*Math.random())}while(document.getElementById(E));return E})(this.constructor.NAME).toString();return h.setAttribute("id",S),this._isAnimated()&&h.classList.add(hh),h}setContent(g){this._newContent=g,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(g){return this._templateFactory?this._templateFactory.changeContent(g):this._templateFactory=new r_({...this._config,content:g,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(g){return this.constructor.getOrCreateInstance(g.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hh)}_isShown(){return this.tip&&this.tip.classList.contains(hd)}_createPopper(g){const h=Zi(this._config.placement,[this,g,this._element]),S=ph[h.toUpperCase()];return zr(this._element,g,this._getPopperConfig(S))}_getOffset(){const{offset:g}=this._config;return"string"==typeof g?g.split(",").map(h=>Number.parseInt(h,10)):"function"==typeof g?h=>g(h,this._element):g}_resolvePossibleFunction(g){return Zi(g,[this._element])}_getPopperConfig(g){const h={placement:g,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:S=>{this._getTipElement().setAttribute("data-popper-placement",S.state.placement)}}]};return{...h,...Zi(this._config.popperConfig,[h])}}_setListeners(){const g=this._config.trigger.split(" ");for(const h of g)if("click"===h)At.on(this._element,this.constructor.eventName("click"),this._config.selector,S=>{this._initializeOnDelegatedTarget(S).toggle()});else if("manual"!==h){const S=this.constructor.eventName(h===Vu?"mouseenter":"focusin"),B=this.constructor.eventName(h===Vu?"mouseleave":"focusout");At.on(this._element,S,this._config.selector,pe=>{const ve=this._initializeOnDelegatedTarget(pe);ve._activeTrigger["focusin"===pe.type?nu:Vu]=!0,ve._enter()}),At.on(this._element,B,this._config.selector,pe=>{const ve=this._initializeOnDelegatedTarget(pe);ve._activeTrigger["focusout"===pe.type?nu:Vu]=ve._element.contains(pe.relatedTarget),ve._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},At.on(this._element.closest(".modal"),fh,this._hideModalHandler)}_fixTitle(){const g=this._element.getAttribute("title");g&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",g),this._element.setAttribute("data-bs-original-title",g),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(g,h){clearTimeout(this._timeout),this._timeout=setTimeout(g,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(g){const h=Si.getDataAttributes(this._element);for(const S of Object.keys(h))dh.has(S)&&delete h[S];return g={...h,..."object"==typeof g&&g?g:{}},g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g.container=!1===g.container?document.body:as(g.container),"number"==typeof g.delay&&(g.delay={show:g.delay,hide:g.delay}),"number"==typeof g.title&&(g.title=g.title.toString()),"number"==typeof g.content&&(g.content=g.content.toString()),g}_getDelegateConfig(){const g={};for(const[h,S]of Object.entries(this._config))this.constructor.Default[h]!==S&&(g[h]=S);return g.selector=!1,g.trigger="manual",g}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(g){return this.each(function(){const h=ml.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}}Ji(ml);const em={...ml.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Cf={...ml.DefaultType,content:"(null|string|element|function)"};class Vp extends ml{static get Default(){return em}static get DefaultType(){return Cf}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(g){return this.each(function(){const h=Vp.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g]()}})}}Ji(Vp);const mh=".bs.scrollspy",bf=`activate${mh}`,If=`click${mh}`,jp=`load${mh}.data-api`,iu="active",wf="[href]",vh=".nav-link",vl=`${vh}, .nav-item > ${vh}, .list-group-item`,Hp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},a_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gd extends zo{constructor(g,h){super(g,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Hp}static get DefaultType(){return a_}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const g of this._observableSections.values())this._observer.observe(g)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(g){return g.target=as(g.target)||document.body,g.rootMargin=g.offset?`${g.offset}px 0px -30%`:g.rootMargin,"string"==typeof g.threshold&&(g.threshold=g.threshold.split(",").map(h=>Number.parseFloat(h))),g}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(At.off(this._config.target,If),At.on(this._config.target,If,wf,g=>{const h=this._observableSections.get(g.target.hash);if(h){g.preventDefault();const S=this._rootElement||window,B=h.offsetTop-this._element.offsetTop;if(S.scrollTo)return void S.scrollTo({top:B,behavior:"smooth"});S.scrollTop=B}}))}_getNewObserver(){return new IntersectionObserver(h=>this._observerCallback(h),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(g){const h=ve=>this._targetLinks.get(`#${ve.target.id}`),S=ve=>{this._previousScrollData.visibleEntryTop=ve.target.offsetTop,this._process(h(ve))},B=(this._rootElement||document.documentElement).scrollTop,pe=B>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=B;for(const ve of g){if(!ve.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(ve));continue}const lt=ve.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(pe&&lt){if(S(ve),!B)return}else!pe&&!lt&&S(ve)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const g=Kn.find(wf,this._config.target);for(const h of g){if(!h.hash||Qi(h))continue;const S=Kn.findOne(decodeURI(h.hash),this._element);Ts(S)&&(this._targetLinks.set(decodeURI(h.hash),h),this._observableSections.set(h.hash,S))}}_process(g){this._activeTarget!==g&&(this._clearActiveClass(this._config.target),this._activeTarget=g,g.classList.add(iu),this._activateParents(g),At.trigger(this._element,bf,{relatedTarget:g}))}_activateParents(g){if(g.classList.contains("dropdown-item"))Kn.findOne(".dropdown-toggle",g.closest(".dropdown")).classList.add(iu);else for(const h of Kn.parents(g,".nav, .list-group"))for(const S of Kn.prev(h,vl))S.classList.add(iu)}_clearActiveClass(g){g.classList.remove(iu);const h=Kn.find(`${wf}.${iu}`,g);for(const S of h)S.classList.remove(iu)}static jQueryInterface(g){return this.each(function(){const h=gd.getOrCreateInstance(this,g);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}})}}At.on(window,jp,()=>{for(const E of Kn.find('[data-bs-spy="scroll"]'))gd.getOrCreateInstance(E)}),Ji(gd);const Cc=".bs.tab",yh=`hide${Cc}`,md=`hidden${Cc}`,c_=`show${Cc}`,zp=`shown${Cc}`,fv=`click${Cc}`,Wp=`keydown${Cc}`,Kp=`load${Cc}`,qp="ArrowLeft",yl="ArrowRight",_d="ArrowUp",Eh="ArrowDown",vd="Home",Df="End",Lu="active",Ch="show",xf=".dropdown-toggle",bh=`:not(${xf})`,Pf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Rf=`.nav-link${bh}, .list-group-item${bh}, [role="tab"]${bh}, ${Pf}`,yd=`.${Lu}[data-bs-toggle="tab"], .${Lu}[data-bs-toggle="pill"], .${Lu}[data-bs-toggle="list"]`;class El extends zo{constructor(g){super(g),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),At.on(this._element,Wp,h=>this._keydown(h)))}static get NAME(){return"tab"}show(){const g=this._element;if(this._elemIsActive(g))return;const h=this._getActiveElem(),S=h?At.trigger(h,yh,{relatedTarget:g}):null;At.trigger(g,c_,{relatedTarget:h}).defaultPrevented||S&&S.defaultPrevented||(this._deactivate(h,g),this._activate(g,h))}_activate(g,h){g&&(g.classList.add(Lu),this._activate(Kn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.removeAttribute("tabindex"),g.setAttribute("aria-selected",!0),this._toggleDropDown(g,!0),At.trigger(g,zp,{relatedTarget:h})):g.classList.add(Ch)},g,g.classList.contains("fade")))}_deactivate(g,h){g&&(g.classList.remove(Lu),g.blur(),this._deactivate(Kn.getElementFromSelector(g)),this._queueCallback(()=>{"tab"===g.getAttribute("role")?(g.setAttribute("aria-selected",!1),g.setAttribute("tabindex","-1"),this._toggleDropDown(g,!1),At.trigger(g,md,{relatedTarget:h})):g.classList.remove(Ch)},g,g.classList.contains("fade")))}_keydown(g){if(![qp,yl,_d,Eh,vd,Df].includes(g.key))return;g.stopPropagation(),g.preventDefault();const h=this._getChildren().filter(B=>!Qi(B));let S;if([vd,Df].includes(g.key))S=h[g.key===vd?0:h.length-1];else{const B=[yl,Eh].includes(g.key);S=yu(h,g.target,B,!0)}S&&(S.focus({preventScroll:!0}),El.getOrCreateInstance(S).show())}_getChildren(){return Kn.find(Rf,this._parent)}_getActiveElem(){return this._getChildren().find(g=>this._elemIsActive(g))||null}_setInitialAttributes(g,h){this._setAttributeIfNotExists(g,"role","tablist");for(const S of h)this._setInitialAttributesOnChild(S)}_setInitialAttributesOnChild(g){g=this._getInnerElement(g);const h=this._elemIsActive(g),S=this._getOuterElement(g);g.setAttribute("aria-selected",h),S!==g&&this._setAttributeIfNotExists(S,"role","presentation"),h||g.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(g,"role","tab"),this._setInitialAttributesOnTargetPanel(g)}_setInitialAttributesOnTargetPanel(g){const h=Kn.getElementFromSelector(g);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),g.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${g.id}`))}_toggleDropDown(g,h){const S=this._getOuterElement(g);if(!S.classList.contains("dropdown"))return;const B=(pe,ve)=>{const lt=Kn.findOne(pe,S);lt&&lt.classList.toggle(ve,h)};B(xf,Lu),B(".dropdown-menu",Ch),S.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(g,h,S){g.hasAttribute(h)||g.setAttribute(h,S)}_elemIsActive(g){return g.classList.contains(Lu)}_getInnerElement(g){return g.matches(Rf)?g:Kn.findOne(Rf,g)}_getOuterElement(g){return g.closest(".nav-item, .list-group-item")||g}static jQueryInterface(g){return this.each(function(){const h=El.getOrCreateInstance(this);if("string"==typeof g){if(void 0===h[g]||g.startsWith("_")||"constructor"===g)throw new TypeError(`No method named "${g}"`);h[g]()}})}}At.on(document,fv,Pf,function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),!Qi(this)&&El.getOrCreateInstance(this).show()}),At.on(window,Kp,()=>{for(const E of Kn.find(yd))El.getOrCreateInstance(E)}),Ji(El);const ju=".bs.toast",h_=`mouseover${ju}`,f_=`mouseout${ju}`,Of=`focusin${ju}`,Ed=`focusout${ju}`,Ba=`hide${ju}`,Cl=`hidden${ju}`,Yp=`show${ju}`,Nf=`shown${ju}`,Ih="show",Vf="showing",Bu={animation:"boolean",autohide:"boolean",delay:"number"},Lf={animation:!0,autohide:!0,delay:5e3};class Th extends zo{constructor(g,h){super(g,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Lf}static get DefaultType(){return Bu}static get NAME(){return"toast"}show(){At.trigger(this._element,Yp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ih,Vf),this._queueCallback(()=>{this._element.classList.remove(Vf),At.trigger(this._element,Nf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!At.trigger(this._element,Ba).defaultPrevented&&(this._element.classList.add(Vf),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Vf,Ih),At.trigger(this._element,Cl)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ih),super.dispose()}isShown(){return this._element.classList.contains(Ih)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(g,h){switch(g.type){case"mouseover":case"mouseout":this._hasMouseInteraction=h;break;case"focusin":case"focusout":this._hasKeyboardInteraction=h}if(h)return void this._clearTimeout();const S=g.relatedTarget;this._element===S||this._element.contains(S)||this._maybeScheduleHide()}_setListeners(){At.on(this._element,h_,g=>this._onInteraction(g,!0)),At.on(this._element,f_,g=>this._onInteraction(g,!1)),At.on(this._element,Of,g=>this._onInteraction(g,!0)),At.on(this._element,Ed,g=>this._onInteraction(g,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(g){return this.each(function(){const h=Th.getOrCreateInstance(this,g);if("string"==typeof g){if(typeof h[g]>"u")throw new TypeError(`No method named "${g}"`);h[g](this)}})}}Za(Th),Ji(Th);var lr=L(4341);let bl=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(S,B){1&S&&(o.j41(0,"section",0)(1,"div",1)(2,"div",2),o.nrm(3,"i",3),o.j41(4,"p"),o.EFF(5),o.k0s()(),o.j41(6,"div",2),o.nrm(7,"i",4),o.j41(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",2),o.nrm(11,"i",5),o.j41(12,"p"),o.EFF(13),o.k0s()()()()),2&S&&(o.R7$(5),o.JRh(B.phoneNumber),o.R7$(4),o.JRh(B.address),o.R7$(4),o.JRh(B.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}return E})();var wh=L(6340);let p_=(()=>{class E{constructor(h,S,B){this.firestore=h,this.route=S,this.sanitizer=B,this.mapIframeUrl=null}ngOnInit(){this.route.queryParams.subscribe(h=>{this.businessId=h.id,this.loadMapIframe()})}loadMapIframe(){this.firestore.collection("businesses").doc(this.businessId).valueChanges().subscribe(h=>{this.mapIframeUrl=this.sanitizer.bypassSecurityTrustHtml(h?.mapIframeUrl??null)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(wh.Qe),o.rXU(br.nX),o.rXU(ae.up))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-map-iframe"]],decls:5,vars:1,consts:[[1,"map-section"],[1,"section-heading"],[1,"map-container"],[1,"iframeMap",3,"innerHTML"]],template:function(S,B){1&S&&(o.j41(0,"section",0)(1,"div",1),o.EFF(2,"Find Us Here"),o.k0s(),o.j41(3,"div",2),o.nrm(4,"div",3),o.k0s()()),2&S&&(o.R7$(4),o.Y8G("innerHTML",B.mapIframeUrl,o.npT))},styles:[".map-section[_ngcontent-%COMP%]{margin-bottom:50px}.map-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;background-color:var(--primary-color);border-radius:8px;box-shadow:0 2px 5px #0000001a}.map-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]})}return E})();function g_(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Email"),o.k0s(),o.j41(3,"p")(4,"a",46),o.EFF(5),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(4),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function m_(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Fax"),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(4),o.JRh(h.business.fax)}}function Xp(E,g){if(1&E&&(o.j41(0,"div",22)(1,"h3"),o.EFF(2,"Social Media"),o.k0s(),o.j41(3,"p")(4,"a",46),o.EFF(5),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(4),o.FS9("href",h.business.socialMedia,o.B4B),o.R7$(1),o.JRh(h.business.socialMedia)}}function Uf(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",13)(2,"div",14)(3,"h1"),o.EFF(4,"Contact Us"),o.k0s(),o.j41(5,"div",15)(6,"p"),o.EFF(7,"We're here to answer any questions you have"),o.k0s()()()(),o.j41(8,"div",16)(9,"section",17)(10,"div",18),o.EFF(11,"Get in Touch"),o.k0s(),o.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),o.EFF(17,"Address"),o.k0s(),o.j41(18,"p"),o.EFF(19),o.k0s()(),o.j41(20,"div",22)(21,"h3"),o.EFF(22,"Phone"),o.k0s(),o.j41(23,"p"),o.EFF(24),o.k0s()(),o.DNE(25,g_,6,2,"div",23),o.DNE(26,m_,5,1,"div",23),o.DNE(27,Xp,6,2,"div",23),o.j41(28,"div")(29,"h3"),o.EFF(30,"Visitation Hours"),o.k0s(),o.nrm(31,"div",24),o.k0s()()(),o.j41(32,"div",25)(33,"div",26),o.nrm(34,"img",27),o.k0s()()()(),o.j41(35,"section",28)(36,"div",18),o.EFF(37,"Send Us a Message"),o.k0s(),o.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),o.EFF(42,"How can we help?"),o.k0s(),o.j41(43,"p",33),o.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),o.k0s()()(),o.j41(45,"div",34)(46,"form",35,36),o.bIt("ngSubmit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(48,"div",37)(49,"label",38),o.EFF(50,"Name"),o.k0s(),o.j41(51,"input",39),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.name=B)}),o.k0s()(),o.j41(52,"div",37)(53,"label",40),o.EFF(54,"Email"),o.k0s(),o.j41(55,"input",41),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.email=B)}),o.k0s()(),o.j41(56,"div",37)(57,"label",42),o.EFF(58,"Message"),o.k0s(),o.j41(59,"textarea",43),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.message=B)}),o.k0s()(),o.j41(60,"button",44),o.EFF(61,"Submit"),o.k0s()()()()(),o.nrm(62,"app-information",45)(63,"app-map-iframe"),o.k0s(),o.bVm()}if(2&E){const h=o.sdS(47),S=o.XpG(2);o.R7$(19),o.JRh(S.business.address),o.R7$(5),o.JRh(S.business.phone),o.R7$(1),o.Y8G("ngIf",S.business.email),o.R7$(1),o.Y8G("ngIf",S.business.fax),o.R7$(1),o.Y8G("ngIf",S.business.socialMedia),o.R7$(4),o.Y8G("innerHTML",S.sanitizedBusinessHours,o.npT),o.R7$(3),o.Y8G("src",S.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",o.B4B),o.R7$(17),o.Y8G("ngModel",S.formData.name),o.R7$(4),o.Y8G("ngModel",S.formData.email),o.R7$(4),o.Y8G("ngModel",S.formData.message),o.R7$(1),o.Y8G("disabled",!h.form.valid),o.R7$(2),o.Y8G("phoneNumber",S.business.phone)("address",S.business.address)("email",S.business.email)}}function Qp(E,g){if(1&E&&(o.j41(0,"div",50)(1,"p")(2,"a",46),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function Jp(E,g){if(1&E&&(o.j41(0,"div",61)(1,"a",62),o.nrm(2,"i",63),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function __(E,g){if(1&E){const h=o.RV6();o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",47)(3,"div",48)(4,"h2"),o.EFF(5,"Contact us"),o.k0s(),o.DNE(6,Qp,4,2,"div",49),o.j41(7,"div",50)(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",50)(11,"p"),o.EFF(12),o.k0s()(),o.DNE(13,Jp,3,1,"div",51),o.k0s(),o.j41(14,"div",52)(15,"form",53),o.bIt("submit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(16,"div",37)(17,"label",54),o.EFF(18,"Name "),o.j41(19,"span"),o.EFF(20,"(required)"),o.k0s()(),o.j41(21,"div",55)(22,"input",56),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.name=B)}),o.k0s()()(),o.j41(23,"div",37)(24,"label",40),o.EFF(25,"Email "),o.j41(26,"span"),o.EFF(27,"(required)"),o.k0s()(),o.j41(28,"input",57),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.email=B)}),o.k0s()(),o.j41(29,"div",37)(30,"label",42),o.EFF(31,"Message "),o.j41(32,"span"),o.EFF(33,"(required)"),o.k0s()(),o.j41(34,"textarea",58),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.message=B)}),o.k0s()(),o.j41(35,"button",59),o.EFF(36,"Send"),o.k0s()()()(),o.j41(37,"div",47)(38,"div",48)(39,"div")(40,"h2"),o.EFF(41,"Visitation Hours"),o.k0s(),o.nrm(42,"div",24),o.k0s()(),o.j41(43,"div",60),o.nrm(44,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(6),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message),o.R7$(8),o.Y8G("innerHTML",h.sanitizedBusinessHours,o.npT)}}function Il(E,g){if(1&E&&(o.j41(0,"div",50)(1,"p")(2,"a",46),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function nm(E,g){if(1&E&&(o.j41(0,"div",61)(1,"a",62),o.nrm(2,"i",63),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function v_(E,g){if(1&E){const h=o.RV6();o.qex(0),o.nrm(1,"app-hero"),o.j41(2,"div",47)(3,"div",48)(4,"h2"),o.EFF(5,"Contact us"),o.k0s(),o.DNE(6,Il,4,2,"div",49),o.j41(7,"div",50)(8,"p"),o.EFF(9),o.k0s()(),o.j41(10,"div",50)(11,"p"),o.EFF(12),o.k0s()(),o.DNE(13,nm,3,1,"div",51),o.k0s(),o.j41(14,"div",52)(15,"form",53),o.bIt("submit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(16,"div",37)(17,"label",54),o.EFF(18,"Name "),o.j41(19,"span"),o.EFF(20,"(required)"),o.k0s()(),o.j41(21,"div",55)(22,"input",56),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.name=B)}),o.k0s()()(),o.j41(23,"div",37)(24,"label",40),o.EFF(25,"Email "),o.j41(26,"span"),o.EFF(27,"(required)"),o.k0s()(),o.j41(28,"input",57),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.email=B)}),o.k0s()(),o.j41(29,"div",37)(30,"label",42),o.EFF(31,"Message "),o.j41(32,"span"),o.EFF(33,"(required)"),o.k0s()(),o.j41(34,"textarea",58),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.message=B)}),o.k0s()(),o.j41(35,"button",59),o.EFF(36,"Send"),o.k0s()()()(),o.j41(37,"div",47)(38,"div",48)(39,"div")(40,"h2"),o.EFF(41,"Visitation Hours"),o.k0s(),o.nrm(42,"div",24),o.k0s()(),o.j41(43,"div",60),o.nrm(44,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(6),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message),o.R7$(8),o.Y8G("innerHTML",h.sanitizedBusinessHours,o.npT)}}function Zp(E,g){if(1&E&&(o.j41(0,"div",50)(1,"p")(2,"a",46),o.EFF(3),o.k0s()()()),2&E){const h=o.XpG(3);o.R7$(2),o.Mz_("href","mailto:",h.business.email,"",o.B4B),o.R7$(1),o.JRh(h.business.email)}}function rm(E,g){if(1&E&&(o.j41(0,"div",61)(1,"a",62),o.nrm(2,"i",63),o.k0s()()),2&E){const h=o.XpG(3);o.R7$(1),o.FS9("href",h.business.socialMedia,o.B4B)}}function im(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",47)(2,"div",48)(3,"h2"),o.EFF(4,"Contact us"),o.k0s(),o.DNE(5,Zp,4,2,"div",49),o.j41(6,"div",50)(7,"p"),o.EFF(8),o.k0s()(),o.j41(9,"div",50)(10,"p"),o.EFF(11),o.k0s()(),o.DNE(12,rm,3,1,"div",51),o.k0s(),o.j41(13,"div",52)(14,"form",53),o.bIt("submit",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onSubmit())}),o.j41(15,"div",37)(16,"label",54),o.EFF(17,"Name "),o.j41(18,"span"),o.EFF(19,"(required)"),o.k0s()(),o.j41(20,"div",55)(21,"input",56),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.name=B)}),o.k0s()()(),o.j41(22,"div",37)(23,"label",40),o.EFF(24,"Email "),o.j41(25,"span"),o.EFF(26,"(required)"),o.k0s()(),o.j41(27,"input",57),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.email=B)}),o.k0s()(),o.j41(28,"div",37)(29,"label",42),o.EFF(30,"Message "),o.j41(31,"span"),o.EFF(32,"(required)"),o.k0s()(),o.j41(33,"textarea",58),o.bIt("ngModelChange",function(B){o.eBV(h);const pe=o.XpG(2);return o.Njj(pe.formData.message=B)}),o.k0s()(),o.j41(34,"button",59),o.EFF(35,"Send"),o.k0s()()()(),o.j41(36,"div",47)(37,"div",48)(38,"div")(39,"h2"),o.EFF(40,"Visitation Hours"),o.k0s(),o.j41(41,"ul")(42,"li")(43,"strong"),o.EFF(44,"Monday:"),o.k0s(),o.EFF(45," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(46,"li")(47,"strong"),o.EFF(48,"Tuesday:"),o.k0s(),o.EFF(49," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(50,"li")(51,"strong"),o.EFF(52,"Wednesday:"),o.k0s(),o.EFF(53," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(54,"li")(55,"strong"),o.EFF(56,"Thursday:"),o.k0s(),o.EFF(57," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(58,"li")(59,"strong"),o.EFF(60,"Friday:"),o.k0s(),o.EFF(61," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(62,"li")(63,"strong"),o.EFF(64,"Saturday:"),o.k0s(),o.EFF(65," 7:00am \u2013 7:00pm"),o.k0s(),o.j41(66,"li")(67,"strong"),o.EFF(68,"Sunday:"),o.k0s(),o.EFF(69," 7:00am \u2013 7:00pm"),o.k0s()()()(),o.j41(70,"div",60),o.nrm(71,"app-map-iframe"),o.k0s()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(5),o.Y8G("ngIf",h.business.email),o.R7$(3),o.JRh(h.business.phone),o.R7$(3),o.JRh(h.business.address),o.R7$(1),o.Y8G("ngIf",h.business.socialMedia),o.R7$(9),o.Y8G("ngModel",h.formData.name),o.R7$(6),o.Y8G("ngModel",h.formData.email),o.R7$(6),o.Y8G("ngModel",h.formData.message)}}function om(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,Uf,64,14,"ng-container",2),o.DNE(3,__,45,8,"ng-container",2),o.DNE(4,v_,45,8,"ng-container",2),o.DNE(5,im,72,7,"ng-container",3),o.k0s(),o.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h5",8),o.EFF(11),o.k0s(),o.nrm(12,"button",9),o.k0s(),o.j41(13,"div",10),o.EFF(14),o.k0s(),o.j41(15,"div",11)(16,"button",12),o.EFF(17,"Close"),o.k0s()()()()()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(7),o.JRh(h.modalTitle),o.R7$(3),o.SpI(" ",h.modalMessage," ")}}let eg=(()=>{class E{constructor(h,S,B,pe,ve,lt){this.sanitizer=h,this.businessDataService=S,this.webContent=B,this.route=pe,this.http=ve,this.metaService=lt,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:""},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,h?.id&&(this.metaService.loadAndApplyMeta(h?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const h=document.getElementById("responseModal");h?this.responseModal=new Fu(h):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.http.post("https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail",this.formData).subscribe(h=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},h=>{console.error("Error sending email",h),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}showModal(){this.responseModal&&this.responseModal.show()}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(ae.up),o.rXU(Pe.A),o.rXU(ri.N),o.rXU(br.nX),o.rXU(Qe),o.rXU(Bi.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(S,B){1&S&&o.DNE(0,om,18,6,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.bT,me.ux,me.e1,me.fG,lr.qT,lr.me,lr.BC,lr.cb,lr.YS,lr.vS,lr.cV,bl,p_,Dn],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}return E})();var sm=L(467),tg=L(214),y_=L(3739);function ng(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function kr(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"div",5)(2,"div",6)(3,"h1"),o.EFF(4,"Our Home"),o.k0s(),o.j41(5,"div",7)(6,"p"),o.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),o.k0s()()()(),o.j41(8,"div",8)(9,"section",9)(10,"div",10),o.EFF(11,"Welcome to Our Home"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"section",11)(15,"div",10),o.EFF(16,"Explore Our Gallery"),o.k0s(),o.j41(17,"div",12),o.DNE(18,ng,2,1,"div",13),o.k0s()(),o.j41(19,"div",14)(20,"div",15)(21,"h2"),o.EFF(22,"Come Meet Our Family"),o.k0s(),o.j41(23,"p"),o.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),o.k0s(),o.j41(25,"button",16),o.bIt("click",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.navigateToContact(B.business.id))}),o.EFF(26,"Schedule a Visit"),o.k0s()()()(),o.bVm()}if(2&E){const h=o.XpG(2);o.R7$(13),o.SpI(" ",h.business.photoGalleryText," "),o.R7$(5),o.Y8G("ngForOf",h.images)}}function Cd(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function rg(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(pe.url))}),o.nrm(1,"img",21),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function bd(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text",19),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,Cd,2,1,"div",13),o.k0s()(),o.j41(9,"section",11)(10,"div",10)(11,"h2"),o.EFF(12,"Lifestyle Images"),o.k0s()(),o.j41(13,"div",12),o.DNE(14,rg,2,1,"div",13),o.k0s()(),o.nrm(15,"app-testimonial-image",20),o.bVm()),2&E){const h=o.XpG(2);o.R7$(2),o.Y8G("content",h.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),o.R7$(6),o.Y8G("ngForOf",h.images),o.R7$(6),o.Y8G("ngForOf",h.lifeStyleImages),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[4].name)("text",h.business.testimonials[4].quote)}}function jf(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function es(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(pe.url))}),o.nrm(1,"img",21),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function Ro(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text",19),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,jf,2,1,"div",13),o.k0s()(),o.j41(9,"section",11)(10,"div",10)(11,"h2"),o.EFF(12,"Lifestyle Images"),o.k0s()(),o.j41(13,"div",12),o.DNE(14,es,2,1,"div",13),o.k0s()(),o.nrm(15,"app-testimonial-image",20),o.bVm()),2&E){const h=o.XpG(2);o.R7$(2),o.Y8G("content",h.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),o.R7$(6),o.Y8G("ngForOf",h.images),o.R7$(6),o.Y8G("ngForOf",h.lifeStyleImages),o.R7$(1),o.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",h.business.testimonials[4].name)("text",h.business.testimonials[4].quote)}}function $a(E,g){if(1&E){const h=o.RV6();o.j41(0,"div",17),o.bIt("click",function(){const pe=o.eBV(h).$implicit,ve=o.XpG(3);return o.Njj(ve.onImageClick(pe.url))}),o.nrm(1,"img",18),o.k0s()}if(2&E){const h=g.$implicit;o.R7$(1),o.Y8G("src",h.url,o.B4B)}}function am(E,g){if(1&E&&(o.qex(0),o.nrm(1,"app-hero")(2,"app-center-text"),o.j41(3,"section",11)(4,"div",10)(5,"h2"),o.EFF(6,"Explore Our Gallery"),o.k0s()(),o.j41(7,"div",12),o.DNE(8,$a,2,1,"div",13),o.k0s()(),o.bVm()),2&E){const h=o.XpG(2);o.R7$(8),o.Y8G("ngForOf",h.images)}}function Bf(E,g){if(1&E){const h=o.RV6();o.j41(0,"app-image-viewer-modal",22),o.bIt("closeModal",function(){o.eBV(h);const B=o.XpG(2);return o.Njj(B.onCloseModal())}),o.k0s()}if(2&E){const h=o.XpG(2);o.Y8G("imageUrl",h.selectedImageUrl)}}function E_(E,g){if(1&E&&(o.j41(0,"div")(1,"div",1),o.DNE(2,kr,27,2,"ng-container",2),o.DNE(3,bd,16,8,"ng-container",2),o.DNE(4,Ro,16,8,"ng-container",2),o.DNE(5,am,9,1,"ng-container",3),o.DNE(6,Bf,1,1,"app-image-viewer-modal",4),o.k0s()()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngSwitch",h.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(2),o.Y8G("ngIf",h.selectedImageUrl)}}let ig=(()=>{class E{constructor(h,S,B,pe,ve){this.businessDataService=h,this.route=S,this.webContent=B,this.metaService=pe,this.router=ve,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{this.business=h,this.layoutType=h?.theme.themeType||"",h?.id&&(this.businessId=h.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var h=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:B,target:pe})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,B).pipe((0,ce.n)(ve=>{const lt=ve.map(function(){var Dt=(0,sm.A)(function*(En){return(yield h.webContent.checkImageExists(En.url))?En:null});return function(En){return Dt.apply(this,arguments)}}());return(0,he.H)(Promise.all(lt))}),(0,Be.T)(ve=>ve.filter(lt=>null!==lt))).subscribe(ve=>{this[pe]=ve})})}onImageClick(h){this.selectedImageUrl=h}onCloseModal(){this.selectedImageUrl=null}navigateToContact(h){this.router.navigate(["/contact-us"],{queryParams:{id:h}})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Pe.A),o.rXU(br.nX),o.rXU(ri.N),o.rXU(Bi.R),o.rXU(br.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(S,B){1&S&&o.DNE(0,E_,7,5,"div",0),2&S&&o.Y8G("ngIf",B.business)},dependencies:[me.Sq,me.bT,me.ux,me.e1,me.fG,tg.W,y_.W,Dn,On],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:20px;background-color:var(--primary-color);border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}return E})();var $f=L(4796);function og(E,g){if(1&E&&(o.j41(0,"div",11),o.EFF(1),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.JRh(h.errorMessage)}}let Ah=(()=>{class E{constructor(h,S){this.authService=h,this.router=S,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(h=>{this.errorMessage=h.message})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU($f.u),o.rXU(br.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(S,B){1&S&&(o.j41(0,"div",0)(1,"div",1)(2,"h2",2),o.EFF(3,"Login"),o.k0s(),o.j41(4,"form",3),o.bIt("submit",function(){return B.login()}),o.j41(5,"div",4)(6,"label",5),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",6),o.bIt("ngModelChange",function(ve){return B.email=ve}),o.k0s()(),o.j41(9,"div",4)(10,"label",7),o.EFF(11,"Password"),o.k0s(),o.j41(12,"input",8),o.bIt("ngModelChange",function(ve){return B.password=ve}),o.k0s()(),o.j41(13,"button",9),o.EFF(14,"Login"),o.k0s(),o.DNE(15,og,2,1,"div",10),o.k0s()()()),2&S&&(o.R7$(8),o.Y8G("ngModel",B.email),o.R7$(4),o.Y8G("ngModel",B.password),o.R7$(3),o.Y8G("ngIf",B.errorMessage))},dependencies:[me.bT,lr.qT,lr.me,lr.BC,lr.cb,lr.YS,lr.vS,lr.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}return E})(),cm=(()=>{class E{constructor(h){this.afs=h,this.basePath="businesses"}saveIntakeForm(h,S){const B=this.afs.createId(),pe=this.afs.collection(`${this.basePath}/${S}/intake`).doc(B);return new De.c(ve=>{pe.set(h).then(()=>{ve.next(h),ve.complete()}).catch(lt=>{console.error("Error saving intake form data",lt),ve.error(lt)})})}getIntakeForms(h){return this.afs.collection(`${this.basePath}/${h}/intake`).snapshotChanges().pipe((0,Be.T)(S=>S.map(B=>{const pe=B.payload.doc.data();return{id:B.payload.doc.id,...pe}})))}getIntakeForm(h,S){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(S).valueChanges().pipe((0,Be.T)(B=>B||void 0))}updateIntakeForm(h,S,B){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(S).update(B)}deleteIntakeForm(h,S){return this.afs.collection(`${this.basePath}/${h}/intake`).doc(S).delete()}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(wh.Qe))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Gi(E,g){if(1&E&&(o.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),o.EFF(3),o.k0s()(),o.j41(4,"div",6)(5,"p"),o.EFF(6),o.k0s()()()),2&E){const h=g.$implicit;o.R7$(3),o.SpI('"',h.quote,'"'),o.R7$(3),o.JRh(h.name)}}function um(E,g){if(1&E&&(o.j41(0,"div",2),o.DNE(1,Gi,7,2,"div",3),o.k0s()),2&E){const h=o.XpG();o.R7$(1),o.Y8G("ngForOf",h.testimonials)}}const vo=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Oo.B},{path:"about-us",component:zi},{path:"services",component:Hr},{path:"contact-us",component:eg},{path:"gallery",component:ig},{path:"login",component:Ah},{path:"resident-form",component:(()=>{class E{constructor(h,S,B){this.fb=h,this.intakeService=S,this.businessDataService=B,this.businessId=null,this.intakeForm=this.fb.group({name:["",lr.k0.required],email:["",[lr.k0.required,lr.k0.email]],phoneNumber:["",lr.k0.required],referralSource:["",lr.k0.required],relationToResident:["",lr.k0.required],residentName:["",lr.k0.required],age:["",lr.k0.required],gender:["",lr.k0.required],medicalHistory:["",lr.k0.required],height:["",lr.k0.required],weight:["",lr.k0.required],reasonForMoving:["",lr.k0.required],rnAssessment:["",lr.k0.required],eating:["",lr.k0.required],personalHygiene:["",lr.k0.required],bathing:["",lr.k0.required],toileting:["",lr.k0.required],mobility:["",lr.k0.required],transfers:["",lr.k0.required],medicationAssistance:["",lr.k0.required],memoryIssues:["",lr.k0.required],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:["",lr.k0.required],targetMoveInDate:["",lr.k0.required],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.getBusinessId().subscribe(h=>{this.businessId=h})}onSubmit(){this.intakeForm.valid&&(console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(this.intakeForm.value,this.businessId).subscribe(S=>{console.log("Intake form saved successfully!",S)},S=>{console.error("Error saving intake form:",S)}))}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(lr.ok),o.rXU(cm),o.rXU(Pe.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-resident-intake-form"]],decls:193,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(S,B){1&S&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return B.onSubmit()}),o.j41(1,"div",1)(2,"h2"),o.EFF(3,"Personal Information"),o.k0s(),o.j41(4,"label",2),o.EFF(5,"Name *"),o.k0s(),o.nrm(6,"input",3),o.j41(7,"label",4),o.EFF(8,"Email *"),o.k0s(),o.nrm(9,"input",5),o.j41(10,"label",6),o.EFF(11,"Phone number *"),o.k0s(),o.nrm(12,"input",7),o.k0s(),o.j41(13,"div",1)(14,"h2"),o.EFF(15,"Referral Source"),o.k0s(),o.j41(16,"label",8),o.EFF(17,"How did you find out about us? *"),o.k0s(),o.j41(18,"select",9)(19,"option",10),o.EFF(20,"Google"),o.k0s(),o.j41(21,"option",11),o.EFF(22,"Facebook"),o.k0s(),o.j41(23,"option",12),o.EFF(24,"Placement Agency"),o.k0s(),o.j41(25,"option",13),o.EFF(26,"Friends and/or Family"),o.k0s(),o.j41(27,"option",14),o.EFF(28,"Other"),o.k0s()(),o.j41(29,"label",15),o.EFF(30,"What is your relation to the resident? *"),o.k0s(),o.nrm(31,"input",16),o.k0s(),o.j41(32,"div",1)(33,"h2"),o.EFF(34,"Resident Information"),o.k0s(),o.j41(35,"label",17),o.EFF(36,"Resident's name *"),o.k0s(),o.nrm(37,"input",18),o.j41(38,"label",19),o.EFF(39,"Age *"),o.k0s(),o.nrm(40,"input",20),o.j41(41,"label",21),o.EFF(42,"Gender *"),o.k0s(),o.j41(43,"select",22)(44,"option",23),o.EFF(45,"Male"),o.k0s(),o.j41(46,"option",24),o.EFF(47,"Female"),o.k0s(),o.j41(48,"option",25),o.EFF(49,"Prefer not to say"),o.k0s(),o.j41(50,"option",14),o.EFF(51,"Other"),o.k0s()()(),o.j41(52,"div",1)(53,"h2"),o.EFF(54,"Medical History"),o.k0s(),o.j41(55,"label",26),o.EFF(56,"Relevant medical and surgical history *"),o.k0s(),o.nrm(57,"textarea",27),o.j41(58,"label",28),o.EFF(59,"Height *"),o.k0s(),o.nrm(60,"input",29),o.j41(61,"label",30),o.EFF(62,"Weight *"),o.k0s(),o.nrm(63,"input",31),o.j41(64,"label",32),o.EFF(65,"Reason for moving to an adult family home *"),o.k0s(),o.nrm(66,"textarea",33),o.j41(67,"label",34),o.EFF(68,'Do you already have an "RN Assessment for AFH"? *'),o.k0s(),o.j41(69,"select",35)(70,"option",36),o.EFF(71,"Yes"),o.k0s(),o.j41(72,"option",37),o.EFF(73,"No"),o.k0s()()(),o.j41(74,"div",1)(75,"h2"),o.EFF(76,"Care Levels"),o.k0s(),o.j41(77,"label",38),o.EFF(78,"Eating *"),o.k0s(),o.j41(79,"select",39)(80,"option",40),o.EFF(81,"Independent"),o.k0s(),o.j41(82,"option",41),o.EFF(83,"Needing Assistance"),o.k0s(),o.j41(84,"option",42),o.EFF(85,"Dependent"),o.k0s()(),o.j41(86,"label",43),o.EFF(87,"Personal Hygiene *"),o.k0s(),o.j41(88,"select",44)(89,"option",40),o.EFF(90,"Independent"),o.k0s(),o.j41(91,"option",41),o.EFF(92,"Needing Assistance"),o.k0s(),o.j41(93,"option",42),o.EFF(94,"Dependent"),o.k0s()(),o.j41(95,"label",45),o.EFF(96,"Bathing *"),o.k0s(),o.j41(97,"select",46)(98,"option",40),o.EFF(99,"Independent"),o.k0s(),o.j41(100,"option",41),o.EFF(101,"Needing Assistance"),o.k0s(),o.j41(102,"option",42),o.EFF(103,"Dependent"),o.k0s()(),o.j41(104,"label",47),o.EFF(105,"Toileting *"),o.k0s(),o.j41(106,"select",48)(107,"option",40),o.EFF(108,"Independent"),o.k0s(),o.j41(109,"option",41),o.EFF(110,"Needing Assistance"),o.k0s(),o.j41(111,"option",42),o.EFF(112,"Dependent"),o.k0s()(),o.j41(113,"label",49),o.EFF(114,"Mobility *"),o.k0s(),o.j41(115,"select",50)(116,"option",40),o.EFF(117,"Independent"),o.k0s(),o.j41(118,"option",41),o.EFF(119,"Needing Assistance"),o.k0s(),o.j41(120,"option",42),o.EFF(121,"Dependent"),o.k0s()(),o.j41(122,"label",51),o.EFF(123,"Transfers *"),o.k0s(),o.j41(124,"select",52)(125,"option",40),o.EFF(126,"Independent"),o.k0s(),o.j41(127,"option",41),o.EFF(128,"Needing Assistance"),o.k0s(),o.j41(129,"option",42),o.EFF(130,"Dependent"),o.k0s()(),o.j41(131,"label",53),o.EFF(132,"Medication Assistance *"),o.k0s(),o.j41(133,"select",54)(134,"option",36),o.EFF(135,"Yes"),o.k0s(),o.j41(136,"option",37),o.EFF(137,"No"),o.k0s()()(),o.j41(138,"div",1)(139,"h2"),o.EFF(140,"Other Medical Information"),o.k0s(),o.j41(141,"label",55),o.EFF(142,"Memory Issues *"),o.k0s(),o.j41(143,"select",56)(144,"option",36),o.EFF(145,"Yes"),o.k0s(),o.j41(146,"option",37),o.EFF(147,"No"),o.k0s()(),o.j41(148,"label",57),o.EFF(149,"Behavior"),o.k0s(),o.nrm(150,"textarea",58),o.j41(151,"label",59),o.EFF(152,"Skin Condition"),o.k0s(),o.nrm(153,"textarea",60),o.j41(154,"label",61),o.EFF(155,"Other information you want us to know"),o.k0s(),o.nrm(156,"textarea",62),o.k0s(),o.j41(157,"div",1)(158,"h2"),o.EFF(159,"Living Situation"),o.k0s(),o.j41(160,"label",63),o.EFF(161,"Current living situation *"),o.k0s(),o.j41(162,"select",64)(163,"option",65),o.EFF(164,"Own Home"),o.k0s(),o.j41(165,"option",66),o.EFF(166,"Relative's Home"),o.k0s(),o.j41(167,"option",67),o.EFF(168,"Hospital"),o.k0s(),o.j41(169,"option",68),o.EFF(170,"Adult Family Home"),o.k0s(),o.j41(171,"option",69),o.EFF(172,"Senior Living"),o.k0s(),o.j41(173,"option",14),o.EFF(174,"Other"),o.k0s()()(),o.j41(175,"div",1)(176,"label",70),o.EFF(177,"Target move in date *"),o.k0s(),o.nrm(178,"input",71),o.k0s(),o.j41(179,"div",1)(180,"label",72),o.EFF(181,"Would you like a summary of disclosures of our rates and services, including itemized services?"),o.k0s(),o.j41(182,"select",73)(183,"option",36),o.EFF(184,"Yes"),o.k0s(),o.j41(185,"option",37),o.EFF(186,"No"),o.k0s()()(),o.j41(187,"div",1)(188,"label",74),o.EFF(189,"Do you have any questions for us?"),o.k0s(),o.nrm(190,"textarea",75),o.k0s(),o.j41(191,"button",76),o.EFF(192,"Submit"),o.k0s()()),2&S&&(o.Y8G("formGroup",B.intakeForm),o.R7$(191),o.Y8G("disabled",B.intakeForm.invalid))},dependencies:[lr.qT,lr.xH,lr.y7,lr.me,lr.Q0,lr.wz,lr.BC,lr.cb,lr.j4,lr.JD],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}return E})()},{path:"testimonials",component:(()=>{class E{constructor(h,S){this.businessDataService=h,this.metaService=S,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(h=>{console.log("Testimonial List - :",h),h&&(this.testimonials=h.testimonials||[],this.themeType=h.theme.themeType,this.metaService.loadAndApplyMeta(h?.id))})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(Pe.A),o.rXU(Bi.R))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(S,B){1&S&&(o.nrm(0,"app-hero"),o.j41(1,"div",0),o.DNE(2,um,2,1,"div",1),o.k0s()),2&S&&(o.R7$(2),o.Y8G("ngIf",B.testimonials.length>0))},dependencies:[me.Sq,me.bT,Dn],styles:[".testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(800px,1fr));gap:50px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background-color:var(--card-bg-color, #f9f9f9);border:1px solid #ddd;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:10px;font-size:2rem}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:right;color:var(--text-secondary-color, #555)}"]})}return E})()},{path:"login",component:Ah},{path:"admin",loadChildren:()=>L.e(948).then(L.bind(L,5948)).then(E=>E.AdminModule)},{path:":id",component:Oo.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Gf=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275mod=o.$C({type:E});static#n=this.\u0275inj=o.G2t({imports:[br.iI.forRoot(vo),br.iI]})}return E})();var Id=L(5009);function bc(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}const Ic=function(){return["/home"]},su=function(E){return{id:E}},zf=function(E){return{"open-bar1":E}},Wf=function(E){return{"open-bar2":E}},Dh=function(E){return{"open-bar3":E}},$u=function(E){return{active:E}};function C_(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),o.DNE(5,bc,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(7,Ic))("queryParams",o.eq3(8,su,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(10,zf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(12,Wf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Dh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,$u,h.menuOpen))}}function b_(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}const Kf=function(){return["/contact-us"]};function wl(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,b_,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("testimonials"))}),o.EFF(20,"Testimonials"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(22,"Contact"),o.k0s(),o.j41(23,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("resident-form"))}),o.EFF(24,"Resident Form"),o.k0s()(),o.j41(25,"div",4)(26,"a",5)(27,"button",15),o.EFF(28,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Ic))("queryParams",o.eq3(10,su,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,zf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Wf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Dh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,$u,h.menuOpen)),o.R7$(16),o.Y8G("routerLink",o.lJ4(20,Kf))("queryParams",o.eq3(21,su,h.businessId))}}function lm(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}function Hu(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,lm,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"Our Home"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("testimonials"))}),o.EFF(20,"Testimonials"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(22,"Contact"),o.k0s(),o.j41(23,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("resident-form"))}),o.EFF(24,"Resident Form"),o.k0s()(),o.j41(25,"div",4)(26,"a",5)(27,"button",15),o.EFF(28,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Ic))("queryParams",o.eq3(10,su,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,zf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Wf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Dh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,$u,h.menuOpen)),o.R7$(16),o.Y8G("routerLink",o.lJ4(20,Kf))("queryParams",o.eq3(21,su,h.businessId))}}function au(E,g){if(1&E&&o.nrm(0,"img",13),2&E){const h=o.XpG(2);o.Y8G("src",null==h.business?null:h.business.logoImage,o.B4B)}}function dm(E,g){if(1&E){const h=o.RV6();o.qex(0),o.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),o.DNE(5,au,1,1,"img",6),o.k0s()(),o.j41(6,"div",7),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.toggleMenu())}),o.nrm(7,"div",8)(8,"div",9)(9,"div",10),o.k0s(),o.j41(10,"ul",11)(11,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("home"))}),o.EFF(12,"Home"),o.k0s(),o.j41(13,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("services"))}),o.EFF(14,"Services"),o.k0s(),o.j41(15,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("about-us"))}),o.EFF(16,"About Us"),o.k0s(),o.j41(17,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("gallery"))}),o.EFF(18,"gallery"),o.k0s(),o.j41(19,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("contact-us"))}),o.EFF(20,"Contact"),o.k0s(),o.j41(21,"li",12),o.bIt("click",function(){o.eBV(h);const B=o.XpG();return o.Njj(B.navigateTo("resident-form"))}),o.EFF(22,"Intake Form"),o.k0s()(),o.j41(23,"div",4)(24,"a",5)(25,"button",15),o.EFF(26,"Schedule a Visit"),o.k0s()()()()(),o.bVm()}if(2&E){const h=o.XpG();o.R7$(4),o.Y8G("routerLink",o.lJ4(9,Ic))("queryParams",o.eq3(10,su,h.businessId)),o.R7$(1),o.Y8G("ngIf",null==h.business?null:h.business.logoImage),o.R7$(2),o.Y8G("ngClass",o.eq3(12,zf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(14,Wf,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(16,Dh,h.menuOpen)),o.R7$(1),o.Y8G("ngClass",o.eq3(18,$u,h.menuOpen)),o.R7$(14),o.Y8G("routerLink",o.lJ4(20,Kf))("queryParams",o.eq3(21,su,h.businessId))}}let Td=(()=>{class E{constructor(h,S,B){this.route=h,this.router=S,this.businessDataService=B,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(h=>{h&&(this.businessId=h,this.businessDataService.getBusinessData().subscribe(S=>{this.business=S,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(h){const S=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${h}`],{queryParams:S}).then(B=>{B||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(br.nX),o.rXU(br.Ix),o.rXU(Pe.A))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-navigation"]],decls:5,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(S,B){1&S&&(o.j41(0,"div",0),o.DNE(1,C_,21,18,"ng-container",1),o.DNE(2,wl,29,23,"ng-container",1),o.DNE(3,Hu,29,23,"ng-container",1),o.DNE(4,dm,27,23,"ng-container",1),o.k0s()),2&S&&(o.Y8G("ngSwitch",B.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(1),o.Y8G("ngSwitchCase","ehc"),o.R7$(1),o.Y8G("ngSwitchCase","demo"))},dependencies:[me.YU,me.bT,me.ux,me.e1,br.Wk],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background:transparent;width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}return E})();function sg(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(4),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.SpI(" ",null==h.business?null:h.business.address," "),o.R7$(3),o.SpI("Provider:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone)}}function I_(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",12)(2,"div",13)(3,"div",14),o.nrm(4,"hr",15),o.j41(5,"h2",16),o.EFF(6),o.k0s(),o.nrm(7,"hr",15),o.k0s(),o.j41(8,"div",17)(9,"div",18)(10,"h3",19),o.EFF(11,"Owner:"),o.k0s(),o.j41(12,"p"),o.EFF(13),o.k0s()(),o.j41(14,"div",18)(15,"h3",19),o.EFF(16,"Location:"),o.k0s(),o.j41(17,"address"),o.EFF(18),o.k0s()(),o.j41(19,"div",18)(20,"h3",19),o.EFF(21,"Provider:"),o.k0s(),o.j41(22,"p"),o.EFF(23),o.k0s(),o.j41(24,"p"),o.EFF(25,"Email: "),o.j41(26,"a",11),o.EFF(27),o.k0s()(),o.j41(28,"p"),o.EFF(29,"Phone: "),o.j41(30,"a",11),o.EFF(31),o.k0s()()()(),o.j41(32,"div",20)(33,"p"),o.EFF(34),o.k0s()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(6),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.JRh(null==h.business?null:h.business.providerName),o.R7$(5),o.JRh(null==h.business?null:h.business.address),o.R7$(5),o.JRh(null==h.business?null:h.business.providerName),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.email),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.Lme("\xa9 ",2024," ",null==h.business?null:h.business.businessName,". All rights reserved.")}}function T_(E,g){if(1&E&&(o.qex(0),o.j41(1,"footer",4)(2,"div",5)(3,"h2",6),o.EFF(4),o.k0s(),o.nrm(5,"hr",7),o.j41(6,"div",8)(7,"div",9)(8,"h3",10),o.EFF(9,"Location:"),o.k0s(),o.j41(10,"address"),o.EFF(11),o.k0s()(),o.j41(12,"div",9)(13,"h3",10),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16,"Email: "),o.j41(17,"a",11),o.EFF(18),o.k0s()(),o.j41(19,"p"),o.EFF(20,"Phone: "),o.j41(21,"a",11),o.EFF(22),o.k0s()()(),o.j41(23,"div",9)(24,"h3",10),o.EFF(25),o.k0s(),o.j41(26,"p"),o.EFF(27,"Email: "),o.j41(28,"a",11),o.EFF(29),o.k0s()(),o.j41(30,"p"),o.EFF(31,"Phone: "),o.j41(32,"a",11),o.EFF(33),o.k0s()()()()()(),o.bVm()),2&E){const h=o.XpG();o.R7$(4),o.JRh(null==h.business?null:h.business.businessName),o.R7$(7),o.SpI(" ",null==h.business?null:h.business.address," "),o.R7$(3),o.SpI("Provider:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone),o.R7$(3),o.SpI("Resident Manager:",null==h.business?null:h.business.providerName,""),o.R7$(3),o.Mz_("href","mailto:",null==h.business?null:h.business.email,"",o.B4B),o.R7$(1),o.SpI(" ",null==h.business?null:h.business.email,""),o.R7$(3),o.Mz_("href","tel:+",null==h.business?null:h.business.phone,"",o.B4B),o.R7$(1),o.JRh(null==h.business?null:h.business.phone)}}function w_(E,g){if(1&E&&(o.j41(0,"div",21)(1,"h1",22),o.EFF(2,"Debugger:"),o.k0s(),o.j41(3,"div",23)(4,"div",24)(5,"span",25),o.EFF(6,"Theme File:"),o.k0s(),o.j41(7,"span",26),o.EFF(8),o.k0s()(),o.j41(9,"div",24)(10,"span",25),o.EFF(11,"Business ID:"),o.k0s(),o.j41(12,"span",26),o.EFF(13),o.k0s()(),o.j41(14,"div",24)(15,"span",25),o.EFF(16,"Business Name:"),o.k0s(),o.j41(17,"span",26),o.EFF(18),o.k0s()()()()),2&E){const h=o.XpG();o.R7$(8),o.JRh(h.themeFileName),o.R7$(5),o.JRh(null==h.business?null:h.business.id),o.R7$(5),o.JRh(null==h.business?null:h.business.businessName)}}let A_=(()=>{class E{constructor(h,S,B,pe,ve,lt){this.route=h,this.webContentService=S,this.authService=B,this.themeService=pe,this.businessDataService=ve,this.router=lt,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(h=>{this.business=h}),this.businessDataService.getBusinessId().subscribe(h=>{h&&(this.businessId=h,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(S=>{S&&(this.themeFileName=S.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(br.nX),o.rXU(ri.N),o.rXU($f.u),o.rXU(Id.F),o.rXU(Pe.A),o.rXU(br.Ix))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-footer"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(S,B){1&S&&(o.j41(0,"div",0),o.DNE(1,sg,34,12,"ng-container",1),o.DNE(2,I_,35,10,"ng-container",1),o.DNE(3,T_,34,12,"ng-container",2),o.k0s(),o.DNE(4,w_,19,3,"div",3),o.nI1(5,"async")),2&S&&(o.Y8G("ngSwitch",B.layoutType),o.R7$(1),o.Y8G("ngSwitchCase","hh"),o.R7$(1),o.Y8G("ngSwitchCase","ae"),o.R7$(2),o.Y8G("ngIf",o.bMT(5,4,B.isAuthenticated$)))},dependencies:[me.bT,me.ux,me.e1,me.fG,me.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}return E})(),Al=(()=>{class E{constructor(h,S,B,pe,ve){this.route=h,this.webContent=S,this.metaService=B,this.router=pe,this.themeService=ve,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(h=>{h&&(this.business=h)})}static#e=this.\u0275fac=function(S){return new(S||E)(o.rXU(br.nX),o.rXU(ri.N),o.rXU(Bi.R),o.rXU(br.Ix),o.rXU(Id.F))};static#t=this.\u0275cmp=o.VBU({type:E,selectors:[["app-root"]],decls:3,vars:0,template:function(S,B){1&S&&o.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[br.n3,Td,A_]})}return E})();const hm_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Ds=L(2214),xo=L(5407);class zs{constructor(g){return g}}class wd{constructor(){return(0,Ds.Dk)()}}const Gu=new o.nKC("angularfire2._apps"),zu={provide:zs,useFactory:function Dl(E){return E&&1===E.length?E[0]:new zs((0,Ds.Sx)())},deps:[[new o.Xx1,Gu]]},xh={provide:wd,deps:[[new o.Xx1,Gu]]};function Sh(E){return(g,h)=>{const S=g.runOutsideAngular(()=>E(h));return new zs(S)}}let Ph=(()=>{class E{constructor(h){(0,Ds.KO)("angularfire",xo.xv.full,"core"),(0,Ds.KO)("angularfire",xo.xv.full,"app"),(0,Ds.KO)("angular",o.xvI.full,h.toString())}static \u0275fac=function(S){return new(S||E)(o.KVO(o.Agw))};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[zu,xh]})}return E})();function Ad(E,...g){return{ngModule:Ph,providers:[{provide:Gu,useFactory:Sh(E),multi:!0,deps:[o.SKi,o.zZn,xo.u0,...g]}]}}const Dd=(0,xo.S3)(Ds.Wp,!0);L(4033),L(7852),L(1076),L(8041),L(1362);class ug{constructor(){return(0,xo.CA)("auth")}}var du=L(9583);class hu{constructor(g){return g}}const fu="firestore",Jf=new o.nKC("angularfire2.firestore-instances");function Vh(E){return(g,h)=>{const S=g.runOutsideAngular(()=>E(h));return new hu(S)}}const Zf={provide:class $_{constructor(){return(0,xo.CA)(fu)}},deps:[[new o.Xx1,Jf]]},wm={provide:hu,useFactory:function mg(E,g){const h=(0,xo.lR)(fu,E,g);return h&&new hu(h)},deps:[[new o.Xx1,Jf],zs]};let G_=(()=>{class E{constructor(){(0,Ds.KO)("angularfire",xo.xv.full,"fst")}static \u0275fac=function(S){return new(S||E)};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[wm,Zf]})}return E})();function Pv(E,...g){return{ngModule:G_,providers:[{provide:Jf,useFactory:Vh(E),multi:!0,deps:[o.SKi,o.zZn,xo.u0,wd,[new o.Xx1,ug],[new o.Xx1,xo.Jv],...g]}]}}const Uh=(0,xo.S3)(du.aU,!0);var Mm=L(9253),Om=L(8721),Tg=L(1977),$h=L(4535);class Hh{constructor(g){return g}}const wg="storage",sp=new o.nKC("angularfire2.storage-instances");function Y_(E){return(g,h)=>{const S=g.runOutsideAngular(()=>E(h));return new Hh(S)}}const Nm={provide:class Rd{constructor(){return(0,xo.CA)(wg)}},deps:[[new o.Xx1,sp]]},Od={provide:Hh,useFactory:function Md(E,g){const h=(0,xo.lR)(wg,E,g);return h&&new Hh(h)},deps:[[new o.Xx1,sp],zs]};let ap=(()=>{class E{constructor(){(0,Ds.KO)("angularfire",xo.xv.full,"gcs")}static \u0275fac=function(S){return new(S||E)};static \u0275mod=o.$C({type:E});static \u0275inj=o.G2t({providers:[Od,Nm]})}return E})();function Ag(E,...g){return{ngModule:ap,providers:[{provide:sp,useFactory:Y_(E),multi:!0,deps:[o.SKi,o.zZn,xo.u0,wd,[new o.Xx1,ug],[new o.Xx1,xo.Jv],...g]}]}}const zh=(0,xo.S3)($h.c7,!0);var xg=L(3012);let Kh=(()=>{class E{constructor(h,S,B){this.http=h,this.themeService=S,this.businessService=B,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(h){return new Promise((S,B)=>{this.themeService.getBusinessTheme(h).subscribe({next:pe=>{this.themeService.applyThemeFile(pe?pe.themeFileName:"default.css").then(()=>S()).catch(lt=>{console.error("Error applying theme file:",lt),S()}),this.themeService.getThemeColors(h).subscribe(lt=>{this.applyTheme(lt),S()},lt=>{console.error("Error loading theme:",lt),S()})},error:pe=>{console.error("Error loading business theme:",pe),this.themeService.applyThemeFile("default.css").then(()=>S()).catch(ve=>{console.error("Error applying default theme file:",ve),S()})}})})}applyTheme(h){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",h.primaryColor),document.documentElement.style.setProperty("--secondary-color",h.secondaryColor),document.documentElement.style.setProperty("--accent-color",h.accentColor),document.documentElement.style.setProperty("--background-color",h.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",h.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",h.textColor),document.documentElement.style.setProperty("--nav-background-color",h.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",h.navTextColor),document.documentElement.style.setProperty("--nav-active-background",h.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",h.navActiveText),document.documentElement.style.setProperty("--button-color",h.buttonColor),document.documentElement.style.setProperty("--button-hover-color",h.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(h){return h.primaryColor&&h.secondaryColor&&h.accentColor&&h.backgroundColor&&h.darkBackgroundColor&&h.textColor&&h.navBackgroundColor&&h.navTextColor&&h.navActiveBackground&&h.navActiveText&&h.buttonColor&&h.buttonHoverColor}static#e=this.\u0275fac=function(S){return new(S||E)(o.KVO(Qe),o.KVO(Id.F),o.KVO(xg.u))};static#t=this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const Ta={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function Vm(E,g,h){return()=>{const S=window.location.hostname,B=new URL(window.location.href);let pe=Ta[S]||B.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+pe+" - hostname: "+S),E.loadTheme(pe)}}function qh(E,g,h){const S=window.location.hostname,B=new URL(window.location.href);let pe=Ta[S]||B.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+pe+" - hostname: "+S),()=>{E.loadBusinessData(pe).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(ve=>{console.error("Error loading business data:",ve)})}}let Sg=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275mod=o.$C({type:E,bootstrap:[Al]});static#n=this.\u0275inj=o.G2t({providers:[{provide:o.hnV,useFactory:Vm,deps:[Kh,me.aZ,br.Ix],multi:!0},{provide:o.hnV,useFactory:qh,deps:[Pe.A,me.aZ,br.Ix],multi:!0}],imports:[ae.Bb,br.iI,Gf,wh.cM,Om.y5,Tg.X8,Mm.bf.initializeApp(hm_firebase),Ad(()=>Dd(hm_firebase)),Pv(()=>Uh()),Ag(()=>zh()),lr.X1,lr.YN,je]})}return E})();ae.sG().bootstrapModule(Sg).catch(E=>console.error(E))},4412:(on,Je,L)=>{L.d(Je,{t:()=>ae});var a=L(1413);class ae extends a.B{constructor(Ae){super(),this._value=Ae}get value(){return this.getValue()}_subscribe(Ae){const he=super._subscribe(Ae);return!he.closed&&Ae.next(this._value),he}getValue(){const{hasError:Ae,thrownError:he,_value:De}=this;if(Ae)throw he;return this._throwIfClosed(),De}next(Ae){super.next(this._value=Ae)}}},1985:(on,Je,L)=>{L.d(Je,{c:()=>Le});var a=L(7707),ae=L(8359),o=L(3494),Ae=L(1203),he=L(1026),De=L(8071),Ne=L(9786);let Le=(()=>{class me{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const bt=new me;return bt.source=this,bt.operator=Xe,bt}subscribe(Xe,bt,Ct){const jt=function ce(me){return me&&me instanceof a.vU||function Z(me){return me&&(0,De.T)(me.next)&&(0,De.T)(me.error)&&(0,De.T)(me.complete)}(me)&&(0,ae.Uv)(me)}(Xe)?Xe:new a.Ms(Xe,bt,Ct);return(0,Ne.Y)(()=>{const{operator:Mt,source:cn}=this;jt.add(Mt?Mt.call(jt,cn):cn?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(bt){Xe.error(bt)}}forEach(Xe,bt){return new(bt=Be(bt))((Ct,jt)=>{const Mt=new a.Ms({next:cn=>{try{Xe(cn)}catch(et){jt(et),Mt.unsubscribe()}},error:jt,complete:Ct});this.subscribe(Mt)})}_subscribe(Xe){var bt;return null===(bt=this.source)||void 0===bt?void 0:bt.subscribe(Xe)}[o.s](){return this}pipe(...Xe){return(0,Ae.m)(Xe)(this)}toPromise(Xe){return new(Xe=Be(Xe))((bt,Ct)=>{let jt;this.subscribe(Mt=>jt=Mt,Mt=>Ct(Mt),()=>bt(jt))})}}return me.create=at=>new me(at),me})();function Be(me){var at;return null!==(at=me??he.$.Promise)&&void 0!==at?at:Promise}},1413:(on,Je,L)=>{L.d(Je,{B:()=>Ne});var a=L(1985),ae=L(8359);const Ae=(0,L(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(7908),De=L(9786);let Ne=(()=>{class Be extends a.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const me=new Le(this,this);return me.operator=ce,me}_throwIfClosed(){if(this.closed)throw new Ae}next(ce){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ce)}})}error(ce){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:me}=this;for(;me.length;)me.shift().error(ce)}})}complete(){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:me,isStopped:at,observers:Xe}=this;return me||at?ae.Kn:(this.currentObservers=null,Xe.push(ce),new ae.yU(()=>{this.currentObservers=null,(0,he.o)(Xe,ce)}))}_checkFinalizedStatuses(ce){const{hasError:me,thrownError:at,isStopped:Xe}=this;me?ce.error(at):Xe&&ce.complete()}asObservable(){const ce=new a.c;return ce.source=this,ce}}return Be.create=(Z,ce)=>new Le(Z,ce),Be})();class Le extends Ne{constructor(Z,ce){super(),this.destination=Z,this.source=ce}next(Z){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===me||me.call(ce,Z)}error(Z){var ce,me;null===(me=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===me||me.call(ce,Z)}complete(){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===ce||ce.call(Z)}_subscribe(Z){var ce,me;return null!==(me=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Z))&&void 0!==me?me:ae.Kn}}},7707:(on,Je,L)=>{L.d(Je,{Ms:()=>Ct,vU:()=>me});var a=L(8071),ae=L(8359),o=L(1026),Ae=L(5334),he=L(5343);const De=Be("C",void 0,void 0);function Be(We,ot,Ze){return{kind:We,value:ot,error:Ze}}var Z=L(9270),ce=L(9786);class me extends ae.yU{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ae.Uv)(ot)&&ot.add(this)):this.destination=et}static create(ot,Ze,rt){return new Ct(ot,Ze,rt)}next(ot){this.isStopped?cn(function Le(We){return Be("N",We,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?cn(function Ne(We){return Be("E",void 0,We)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?cn(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function Xe(We,ot){return at.call(We,ot)}class bt{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(ot)}catch(rt){jt(rt)}}error(ot){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(ot)}catch(rt){jt(rt)}else jt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Ze){jt(Ze)}}}class Ct extends me{constructor(ot,Ze,rt){let wt;if(super(),(0,a.T)(ot)||!ot)wt={next:ot??void 0,error:Ze??void 0,complete:rt??void 0};else{let Ft;this&&o.$.useDeprecatedNextContext?(Ft=Object.create(ot),Ft.unsubscribe=()=>this.unsubscribe(),wt={next:ot.next&&Xe(ot.next,Ft),error:ot.error&&Xe(ot.error,Ft),complete:ot.complete&&Xe(ot.complete,Ft)}):wt=ot}this.destination=new bt(wt)}}function jt(We){o.$.useDeprecatedSynchronousErrorHandling?(0,ce.l)(We):(0,Ae.m)(We)}function cn(We,ot){const{onStoppedNotification:Ze}=o.$;Ze&&Z.f.setTimeout(()=>Ze(We,ot))}const et={closed:!0,next:he.l,error:function Mt(We){throw We},complete:he.l}},8359:(on,Je,L)=>{L.d(Je,{Kn:()=>De,yU:()=>he,Uv:()=>Ne});var a=L(8071);const o=(0,L(1853).L)(Be=>function(ce){Be(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((me,at)=>`${at+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var Ae=L(7908);class he{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Xe of ce)Xe.remove(this);else ce.remove(this);const{initialTeardown:me}=this;if((0,a.T)(me))try{me()}catch(Xe){Z=Xe instanceof o?Xe.errors:[Xe]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const Xe of at)try{Le(Xe)}catch(bt){Z=Z??[],bt instanceof o?Z=[...Z,...bt.errors]:Z.push(bt)}}if(Z)throw new o(Z)}}add(Z){var ce;if(Z&&Z!==this)if(this.closed)Le(Z);else{if(Z instanceof he){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(Z)}}_hasParent(Z){const{_parentage:ce}=this;return ce===Z||Array.isArray(ce)&&ce.includes(Z)}_addParent(Z){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(Z),ce):ce?[ce,Z]:Z}_removeParent(Z){const{_parentage:ce}=this;ce===Z?this._parentage=null:Array.isArray(ce)&&(0,Ae.o)(ce,Z)}remove(Z){const{_finalizers:ce}=this;ce&&(0,Ae.o)(ce,Z),Z instanceof he&&Z._removeParent(this)}}he.EMPTY=(()=>{const Be=new he;return Be.closed=!0,Be})();const De=he.EMPTY;function Ne(Be){return Be instanceof he||Be&&"closed"in Be&&(0,a.T)(Be.remove)&&(0,a.T)(Be.add)&&(0,a.T)(Be.unsubscribe)}function Le(Be){(0,a.T)(Be)?Be():Be.unsubscribe()}},1026:(on,Je,L)=>{L.d(Je,{$:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(on,Je,L)=>{L.d(Je,{x:()=>he});var a=L(6365),o=L(3794),Ae=L(8455);function he(...De){return function ae(){return(0,a.U)(1)}()((0,Ae.H)(De,(0,o.lI)(De)))}},983:(on,Je,L)=>{L.d(Je,{w:()=>ae});const ae=new(L(1985).c)(he=>he.complete())},8455:(on,Je,L)=>{L.d(Je,{H:()=>ot});var a=L(8750),ae=L(941),o=L(6745),De=L(1985),Le=L(4761),Be=L(8071),Z=L(5225);function me(Ze,rt){if(!Ze)throw new Error("Iterable cannot be null");return new De.c(wt=>{(0,Z.N)(wt,rt,()=>{const Ft=Ze[Symbol.asyncIterator]();(0,Z.N)(wt,rt,()=>{Ft.next().then(be=>{be.done?wt.complete():wt.next(be.value)})},0,!0)})})}var at=L(5055),Xe=L(9858),bt=L(7441),Ct=L(5397),jt=L(7953),Mt=L(591),cn=L(5196);function ot(Ze,rt){return rt?function We(Ze,rt){if(null!=Ze){if((0,at.l)(Ze))return function Ae(Ze,rt){return(0,a.Tg)(Ze).pipe((0,o._)(rt),(0,ae.Q)(rt))}(Ze,rt);if((0,bt.X)(Ze))return function Ne(Ze,rt){return new De.c(wt=>{let Ft=0;return rt.schedule(function(){Ft===Ze.length?wt.complete():(wt.next(Ze[Ft++]),wt.closed||this.schedule())})})}(Ze,rt);if((0,Xe.y)(Ze))return function he(Ze,rt){return(0,a.Tg)(Ze).pipe((0,o._)(rt),(0,ae.Q)(rt))}(Ze,rt);if((0,jt.T)(Ze))return me(Ze,rt);if((0,Ct.x)(Ze))return function ce(Ze,rt){return new De.c(wt=>{let Ft;return(0,Z.N)(wt,rt,()=>{Ft=Ze[Le.l](),(0,Z.N)(wt,rt,()=>{let be,Jt;try{({value:be,done:Jt}=Ft.next())}catch(dn){return void wt.error(dn)}Jt?wt.complete():wt.next(be)},0,!0)}),()=>(0,Be.T)(Ft?.return)&&Ft.return()})}(Ze,rt);if((0,cn.U)(Ze))return function et(Ze,rt){return me((0,cn.C)(Ze),rt)}(Ze,rt)}throw(0,Mt.L)(Ze)}(Ze,rt):(0,a.Tg)(Ze)}},8750:(on,Je,L)=>{L.d(Je,{Tg:()=>at});var a=L(1635),ae=L(7441),o=L(9858),Ae=L(1985),he=L(5055),De=L(7953),Ne=L(591),Le=L(5397),Be=L(5196),Z=L(8071),ce=L(5334),me=L(3494);function at(We){if(We instanceof Ae.c)return We;if(null!=We){if((0,he.l)(We))return function Xe(We){return new Ae.c(ot=>{const Ze=We[me.s]();if((0,Z.T)(Ze.subscribe))return Ze.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,ae.X)(We))return function bt(We){return new Ae.c(ot=>{for(let Ze=0;Ze<We.length&&!ot.closed;Ze++)ot.next(We[Ze]);ot.complete()})}(We);if((0,o.y)(We))return function Ct(We){return new Ae.c(ot=>{We.then(Ze=>{ot.closed||(ot.next(Ze),ot.complete())},Ze=>ot.error(Ze)).then(null,ce.m)})}(We);if((0,De.T)(We))return Mt(We);if((0,Le.x)(We))return function jt(We){return new Ae.c(ot=>{for(const Ze of We)if(ot.next(Ze),ot.closed)return;ot.complete()})}(We);if((0,Be.U)(We))return function cn(We){return Mt((0,Be.C)(We))}(We)}throw(0,Ne.L)(We)}function Mt(We){return new Ae.c(ot=>{(function et(We,ot){var Ze,rt,wt,Ft;return(0,a.sH)(this,void 0,void 0,function*(){try{for(Ze=(0,a.xN)(We);!(rt=yield Ze.next()).done;)if(ot.next(rt.value),ot.closed)return}catch(be){wt={error:be}}finally{try{rt&&!rt.done&&(Ft=Ze.return)&&(yield Ft.call(Ze))}finally{if(wt)throw wt.error}}ot.complete()})})(We,ot).catch(Ze=>ot.error(Ze))})}},7786:(on,Je,L)=>{L.d(Je,{h:()=>De});var a=L(6365),ae=L(8750),o=L(983),Ae=L(3794),he=L(8455);function De(...Ne){const Le=(0,Ae.lI)(Ne),Be=(0,Ae.R0)(Ne,1/0),Z=Ne;return Z.length?1===Z.length?(0,ae.Tg)(Z[0]):(0,a.U)(Be)((0,he.H)(Z,Le)):o.w}},7673:(on,Je,L)=>{L.d(Je,{of:()=>o});var a=L(3794),ae=L(8455);function o(...Ae){const he=(0,a.lI)(Ae);return(0,ae.H)(Ae,he)}},8810:(on,Je,L)=>{L.d(Je,{$:()=>o});var a=L(1985),ae=L(8071);function o(Ae,he){const De=(0,ae.T)(Ae)?Ae:()=>Ae,Ne=Le=>Le.error(De());return new a.c(he?Le=>he.schedule(Ne,0,Le):Ne)}},4360:(on,Je,L)=>{L.d(Je,{_:()=>ae});var a=L(7707);function ae(Ae,he,De,Ne,Le){return new o(Ae,he,De,Ne,Le)}class o extends a.vU{constructor(he,De,Ne,Le,Be,Z){super(he),this.onFinalize=Be,this.shouldUnsubscribe=Z,this._next=De?function(ce){try{De(ce)}catch(me){he.error(me)}}:super._next,this._error=Le?function(ce){try{Le(ce)}catch(me){he.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(ce){he.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9437:(on,Je,L)=>{L.d(Je,{W:()=>Ae});var a=L(8750),ae=L(4360),o=L(9974);function Ae(he){return(0,o.N)((De,Ne)=>{let Z,Le=null,Be=!1;Le=De.subscribe((0,ae._)(Ne,void 0,void 0,ce=>{Z=(0,a.Tg)(he(ce,Ae(he)(De))),Le?(Le.unsubscribe(),Le=null,Z.subscribe(Ne)):Be=!0})),Be&&(Le.unsubscribe(),Le=null,Z.subscribe(Ne))})}},274:(on,Je,L)=>{L.d(Je,{H:()=>o});var a=L(1397),ae=L(8071);function o(Ae,he){return(0,ae.T)(he)?(0,a.Z)(Ae,he,1):(0,a.Z)(Ae,1)}},9901:(on,Je,L)=>{L.d(Je,{U:()=>o});var a=L(9974),ae=L(4360);function o(Ae){return(0,a.N)((he,De)=>{let Ne=!1;he.subscribe((0,ae._)(De,Le=>{Ne=!0,De.next(Le)},()=>{Ne||De.next(Ae),De.complete()}))})}},3294:(on,Je,L)=>{L.d(Je,{F:()=>Ae});var a=L(3669),ae=L(9974),o=L(4360);function Ae(De,Ne=a.D){return De=De??he,(0,ae.N)((Le,Be)=>{let Z,ce=!0;Le.subscribe((0,o._)(Be,me=>{const at=Ne(me);(ce||!De(Z,at))&&(ce=!1,Z=at,Be.next(me))}))})}function he(De,Ne){return De===Ne}},5964:(on,Je,L)=>{L.d(Je,{p:()=>o});var a=L(9974),ae=L(4360);function o(Ae,he){return(0,a.N)((De,Ne)=>{let Le=0;De.subscribe((0,ae._)(Ne,Be=>Ae.call(he,Be,Le++)&&Ne.next(Be)))})}},980:(on,Je,L)=>{L.d(Je,{j:()=>ae});var a=L(9974);function ae(o){return(0,a.N)((Ae,he)=>{try{Ae.subscribe(he)}finally{he.add(o)}})}},1594:(on,Je,L)=>{L.d(Je,{$:()=>Ne});var a=L(9350),ae=L(5964),o=L(6697),Ae=L(9901),he=L(3774),De=L(3669);function Ne(Le,Be){const Z=arguments.length>=2;return ce=>ce.pipe(Le?(0,ae.p)((me,at)=>Le(me,at,ce)):De.D,(0,o.s)(1),Z?(0,Ae.U)(Be):(0,he.v)(()=>new a.G))}},6354:(on,Je,L)=>{L.d(Je,{T:()=>o});var a=L(9974),ae=L(4360);function o(Ae,he){return(0,a.N)((De,Ne)=>{let Le=0;De.subscribe((0,ae._)(Ne,Be=>{Ne.next(Ae.call(he,Be,Le++))}))})}},6365:(on,Je,L)=>{L.d(Je,{U:()=>o});var a=L(1397),ae=L(3669);function o(Ae=1/0){return(0,a.Z)(ae.D,Ae)}},1397:(on,Je,L)=>{L.d(Je,{Z:()=>Le});var a=L(6354),ae=L(8750),o=L(9974),Ae=L(5225),he=L(4360),Ne=L(8071);function Le(Be,Z,ce=1/0){return(0,Ne.T)(Z)?Le((me,at)=>(0,a.T)((Xe,bt)=>Z(me,Xe,at,bt))((0,ae.Tg)(Be(me,at))),ce):("number"==typeof Z&&(ce=Z),(0,o.N)((me,at)=>function De(Be,Z,ce,me,at,Xe,bt,Ct){const jt=[];let Mt=0,cn=0,et=!1;const We=()=>{et&&!jt.length&&!Mt&&Z.complete()},ot=rt=>Mt<me?Ze(rt):jt.push(rt),Ze=rt=>{Xe&&Z.next(rt),Mt++;let wt=!1;(0,ae.Tg)(ce(rt,cn++)).subscribe((0,he._)(Z,Ft=>{at?.(Ft),Xe?ot(Ft):Z.next(Ft)},()=>{wt=!0},void 0,()=>{if(wt)try{for(Mt--;jt.length&&Mt<me;){const Ft=jt.shift();bt?(0,Ae.N)(Z,bt,()=>Ze(Ft)):Ze(Ft)}We()}catch(Ft){Z.error(Ft)}}))};return Be.subscribe((0,he._)(Z,ot,()=>{et=!0,We()})),()=>{Ct?.()}}(me,at,Be,ce)))}},941:(on,Je,L)=>{L.d(Je,{Q:()=>Ae});var a=L(5225),ae=L(9974),o=L(4360);function Ae(he,De=0){return(0,ae.N)((Ne,Le)=>{Ne.subscribe((0,o._)(Le,Be=>(0,a.N)(Le,he,()=>Le.next(Be),De),()=>(0,a.N)(Le,he,()=>Le.complete(),De),Be=>(0,a.N)(Le,he,()=>Le.error(Be),De)))})}},2816:(on,Je,L)=>{L.d(Je,{S:()=>Ae});var a=L(9974),ae=L(4360);function Ae(he,De){return(0,a.N)(function o(he,De,Ne,Le,Be){return(Z,ce)=>{let me=Ne,at=De,Xe=0;Z.subscribe((0,ae._)(ce,bt=>{const Ct=Xe++;at=me?he(at,bt,Ct):(me=!0,bt),Le&&ce.next(at)},Be&&(()=>{me&&ce.next(at),ce.complete()})))}}(he,De,arguments.length>=2,!0))}},7647:(on,Je,L)=>{L.d(Je,{u:()=>he});var a=L(8750),ae=L(1413),o=L(7707),Ae=L(9974);function he(Ne={}){const{connector:Le=(()=>new ae.B),resetOnError:Be=!0,resetOnComplete:Z=!0,resetOnRefCountZero:ce=!0}=Ne;return me=>{let at,Xe,bt,Ct=0,jt=!1,Mt=!1;const cn=()=>{Xe?.unsubscribe(),Xe=void 0},et=()=>{cn(),at=bt=void 0,jt=Mt=!1},We=()=>{const ot=at;et(),ot?.unsubscribe()};return(0,Ae.N)((ot,Ze)=>{Ct++,!Mt&&!jt&&cn();const rt=bt=bt??Le();Ze.add(()=>{Ct--,0===Ct&&!Mt&&!jt&&(Xe=De(We,ce))}),rt.subscribe(Ze),!at&&Ct>0&&(at=new o.Ms({next:wt=>rt.next(wt),error:wt=>{Mt=!0,cn(),Xe=De(et,Be,wt),rt.error(wt)},complete:()=>{jt=!0,cn(),Xe=De(et,Z),rt.complete()}}),(0,a.Tg)(ot).subscribe(at))})(me)}}function De(Ne,Le,...Be){if(!0===Le)return void Ne();if(!1===Le)return;const Z=new o.Ms({next:()=>{Z.unsubscribe(),Ne()}});return(0,a.Tg)(Le(...Be)).subscribe(Z)}},9172:(on,Je,L)=>{L.d(Je,{Z:()=>Ae});var a=L(8793),ae=L(3794),o=L(9974);function Ae(...he){const De=(0,ae.lI)(he);return(0,o.N)((Ne,Le)=>{(De?(0,a.x)(he,Ne,De):(0,a.x)(he,Ne)).subscribe(Le)})}},6745:(on,Je,L)=>{L.d(Je,{_:()=>ae});var a=L(9974);function ae(o,Ae=0){return(0,a.N)((he,De)=>{De.add(o.schedule(()=>he.subscribe(De),Ae))})}},5558:(on,Je,L)=>{L.d(Je,{n:()=>Ae});var a=L(8750),ae=L(9974),o=L(4360);function Ae(he,De){return(0,ae.N)((Ne,Le)=>{let Be=null,Z=0,ce=!1;const me=()=>ce&&!Be&&Le.complete();Ne.subscribe((0,o._)(Le,at=>{Be?.unsubscribe();let Xe=0;const bt=Z++;(0,a.Tg)(he(at,bt)).subscribe(Be=(0,o._)(Le,Ct=>Le.next(De?De(at,Ct,bt,Xe++):Ct),()=>{Be=null,me()}))},()=>{ce=!0,me()}))})}},6697:(on,Je,L)=>{L.d(Je,{s:()=>Ae});var a=L(983),ae=L(9974),o=L(4360);function Ae(he){return he<=0?()=>a.w:(0,ae.N)((De,Ne)=>{let Le=0;De.subscribe((0,o._)(Ne,Be=>{++Le<=he&&(Ne.next(Be),he<=Le&&Ne.complete())}))})}},8141:(on,Je,L)=>{L.d(Je,{M:()=>he});var a=L(8071),ae=L(9974),o=L(4360),Ae=L(3669);function he(De,Ne,Le){const Be=(0,a.T)(De)||Ne||Le?{next:De,error:Ne,complete:Le}:De;return Be?(0,ae.N)((Z,ce)=>{var me;null===(me=Be.subscribe)||void 0===me||me.call(Be);let at=!0;Z.subscribe((0,o._)(ce,Xe=>{var bt;null===(bt=Be.next)||void 0===bt||bt.call(Be,Xe),ce.next(Xe)},()=>{var Xe;at=!1,null===(Xe=Be.complete)||void 0===Xe||Xe.call(Be),ce.complete()},Xe=>{var bt;at=!1,null===(bt=Be.error)||void 0===bt||bt.call(Be,Xe),ce.error(Xe)},()=>{var Xe,bt;at&&(null===(Xe=Be.unsubscribe)||void 0===Xe||Xe.call(Be)),null===(bt=Be.finalize)||void 0===bt||bt.call(Be)}))}):Ae.D}},3774:(on,Je,L)=>{L.d(Je,{v:()=>Ae});var a=L(9350),ae=L(9974),o=L(4360);function Ae(De=he){return(0,ae.N)((Ne,Le)=>{let Be=!1;Ne.subscribe((0,o._)(Le,Z=>{Be=!0,Le.next(Z)},()=>Be?Le.complete():Le.error(De())))})}function he(){return new a.G}},6780:(on,Je,L)=>{L.d(Je,{R:()=>he});var a=L(8359);class ae extends a.yU{constructor(Ne,Le){super()}schedule(Ne,Le=0){return this}}const o={setInterval(De,Ne,...Le){const{delegate:Be}=o;return Be?.setInterval?Be.setInterval(De,Ne,...Le):setInterval(De,Ne,...Le)},clearInterval(De){const{delegate:Ne}=o;return(Ne?.clearInterval||clearInterval)(De)},delegate:void 0};var Ae=L(7908);class he extends ae{constructor(Ne,Le){super(Ne,Le),this.scheduler=Ne,this.work=Le,this.pending=!1}schedule(Ne,Le=0){var Be;if(this.closed)return this;this.state=Ne;const Z=this.id,ce=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(ce,Z,Le)),this.pending=!0,this.delay=Le,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(ce,this.id,Le),this}requestAsyncId(Ne,Le,Be=0){return o.setInterval(Ne.flush.bind(Ne,this),Be)}recycleAsyncId(Ne,Le,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return Le;null!=Le&&o.clearInterval(Le)}execute(Ne,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Ne,Le);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Le){let Z,Be=!1;try{this.work(Ne)}catch(ce){Be=!0,Z=ce||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:Le}=this,{actions:Be}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ae.o)(Be,this),null!=Ne&&(this.id=this.recycleAsyncId(Le,Ne,null)),this.delay=null,super.unsubscribe()}}}},9687:(on,Je,L)=>{L.d(Je,{q:()=>o});var a=L(6129);class ae{constructor(he,De=ae.now){this.schedulerActionCtor=he,this.now=De}schedule(he,De=0,Ne){return new this.schedulerActionCtor(this,he).schedule(Ne,De)}}ae.now=a.U.now;class o extends ae{constructor(he,De=ae.now){super(he,De),this.actions=[],this._active=!1}flush(he){const{actions:De}=this;if(this._active)return void De.push(he);let Ne;this._active=!0;do{if(Ne=he.execute(he.state,he.delay))break}while(he=De.shift());if(this._active=!1,Ne){for(;he=De.shift();)he.unsubscribe();throw Ne}}}},3236:(on,Je,L)=>{L.d(Je,{E:()=>o});var a=L(6780);const o=new(L(9687).q)(a.R)},6129:(on,Je,L)=>{L.d(Je,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9270:(on,Je,L)=>{L.d(Je,{f:()=>a});const a={setTimeout(ae,o,...Ae){const{delegate:he}=a;return he?.setTimeout?he.setTimeout(ae,o,...Ae):setTimeout(ae,o,...Ae)},clearTimeout(ae){const{delegate:o}=a;return(o?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4761:(on,Je,L)=>{L.d(Je,{l:()=>ae});const ae=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,Je,L)=>{L.d(Je,{s:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(on,Je,L)=>{L.d(Je,{G:()=>ae});const ae=(0,L(1853).L)(o=>function(){o(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(on,Je,L)=>{L.d(Je,{R0:()=>De,ms:()=>Ae,lI:()=>he});var a=L(8071);function o(Ne){return Ne[Ne.length-1]}function Ae(Ne){return(0,a.T)(o(Ne))?Ne.pop():void 0}function he(Ne){return function ae(Ne){return Ne&&(0,a.T)(Ne.schedule)}(o(Ne))?Ne.pop():void 0}function De(Ne,Le){return"number"==typeof o(Ne)?Ne.pop():Le}},3073:(on,Je,L)=>{L.d(Je,{D:()=>he});const{isArray:a}=Array,{getPrototypeOf:ae,prototype:o,keys:Ae}=Object;function he(Ne){if(1===Ne.length){const Le=Ne[0];if(a(Le))return{args:Le,keys:null};if(function De(Ne){return Ne&&"object"==typeof Ne&&ae(Ne)===o}(Le)){const Be=Ae(Le);return{args:Be.map(Z=>Le[Z]),keys:Be}}}return{args:Ne,keys:null}}},7908:(on,Je,L)=>{function a(ae,o){if(ae){const Ae=ae.indexOf(o);0<=Ae&&ae.splice(Ae,1)}}L.d(Je,{o:()=>a})},1853:(on,Je,L)=>{function a(ae){const Ae=ae(he=>{Error.call(he),he.stack=(new Error).stack});return Ae.prototype=Object.create(Error.prototype),Ae.prototype.constructor=Ae,Ae}L.d(Je,{L:()=>a})},8496:(on,Je,L)=>{function a(ae,o){return ae.reduce((Ae,he,De)=>(Ae[he]=o[De],Ae),{})}L.d(Je,{e:()=>a})},9786:(on,Je,L)=>{L.d(Je,{Y:()=>o,l:()=>Ae});var a=L(1026);let ae=null;function o(he){if(a.$.useDeprecatedSynchronousErrorHandling){const De=!ae;if(De&&(ae={errorThrown:!1,error:null}),he(),De){const{errorThrown:Ne,error:Le}=ae;if(ae=null,Ne)throw Le}}else he()}function Ae(he){a.$.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=he)}},5225:(on,Je,L)=>{function a(ae,o,Ae,he=0,De=!1){const Ne=o.schedule(function(){Ae(),De?ae.add(this.schedule(null,he)):this.unsubscribe()},he);if(ae.add(Ne),!De)return Ne}L.d(Je,{N:()=>a})},3669:(on,Je,L)=>{function a(ae){return ae}L.d(Je,{D:()=>a})},7441:(on,Je,L)=>{L.d(Je,{X:()=>a});const a=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},7953:(on,Je,L)=>{L.d(Je,{T:()=>ae});var a=L(8071);function ae(o){return Symbol.asyncIterator&&(0,a.T)(o?.[Symbol.asyncIterator])}},8071:(on,Je,L)=>{function a(ae){return"function"==typeof ae}L.d(Je,{T:()=>a})},5055:(on,Je,L)=>{L.d(Je,{l:()=>o});var a=L(3494),ae=L(8071);function o(Ae){return(0,ae.T)(Ae[a.s])}},5397:(on,Je,L)=>{L.d(Je,{x:()=>o});var a=L(4761),ae=L(8071);function o(Ae){return(0,ae.T)(Ae?.[a.l])}},9858:(on,Je,L)=>{L.d(Je,{y:()=>ae});var a=L(8071);function ae(o){return(0,a.T)(o?.then)}},5196:(on,Je,L)=>{L.d(Je,{C:()=>o,U:()=>Ae});var a=L(1635),ae=L(8071);function o(he){return(0,a.AQ)(this,arguments,function*(){const Ne=he.getReader();try{for(;;){const{value:Le,done:Be}=yield(0,a.N3)(Ne.read());if(Be)return yield(0,a.N3)(void 0);yield yield(0,a.N3)(Le)}}finally{Ne.releaseLock()}})}function Ae(he){return(0,ae.T)(he?.getReader)}},9974:(on,Je,L)=>{L.d(Je,{N:()=>o,S:()=>ae});var a=L(8071);function ae(Ae){return(0,a.T)(Ae?.lift)}function o(Ae){return he=>{if(ae(he))return he.lift(function(De){try{return Ae(De,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,Je,L)=>{L.d(Je,{I:()=>Ae});var a=L(6354);const{isArray:ae}=Array;function Ae(he){return(0,a.T)(De=>function o(he,De){return ae(De)?he(...De):he(De)}(he,De))}},5343:(on,Je,L)=>{function a(){}L.d(Je,{l:()=>a})},1203:(on,Je,L)=>{L.d(Je,{F:()=>ae,m:()=>o});var a=L(3669);function ae(...Ae){return o(Ae)}function o(Ae){return 0===Ae.length?a.D:1===Ae.length?Ae[0]:function(De){return Ae.reduce((Ne,Le)=>Le(Ne),De)}}},5334:(on,Je,L)=>{L.d(Je,{m:()=>o});var a=L(1026),ae=L(9270);function o(Ae){ae.f.setTimeout(()=>{const{onUnhandledError:he}=a.$;if(!he)throw Ae;he(Ae)})}},591:(on,Je,L)=>{function a(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Je,{L:()=>a})},177:(on,Je,L)=>{L.d(Je,{AJ:()=>Gr,B3:()=>Uo,Jj:()=>ci,MD:()=>bo,N0:()=>mn,P9:()=>io,QT:()=>o,Sm:()=>bt,Sq:()=>Mr,VF:()=>he,Vy:()=>gi,Xr:()=>Re,YU:()=>Kr,ZD:()=>Ae,_b:()=>Dn,aZ:()=>jt,bT:()=>Es,e1:()=>zi,fG:()=>yr,fw:()=>Ct,hb:()=>at,hj:()=>Le,lG:()=>qr,qQ:()=>De,ux:()=>Pi});var a=L(7705);let ae=null;function o(){return ae}function Ae(x){ae||(ae=x)}class he{}const De=new a.nKC("DocumentToken");let Ne=(()=>{class x{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275prov=a.jDH({token:x,factory:function(){return(0,a.WQX)(Be)},providedIn:"platform"})}return x})();const Le=new a.nKC("Location Initialized");let Be=(()=>{class x extends Ne{constructor(){super(),this._doc=(0,a.WQX)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(U){const X=o().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",U,!1),()=>X.removeEventListener("popstate",U)}onHashChange(U){const X=o().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",U,!1),()=>X.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,X,we){this._history.pushState(U,X,we)}replaceState(U,X,we){this._history.replaceState(U,X,we)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275prov=a.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}return x})();function Z(x,J){if(0==x.length)return J;if(0==J.length)return x;let U=0;return x.endsWith("/")&&U++,J.startsWith("/")&&U++,2==U?x+J.substring(1):1==U?x+J:x+"/"+J}function ce(x){const J=x.match(/#|\?|$/),U=J&&J.index||x.length;return x.slice(0,U-("/"===x[U-1]?1:0))+x.slice(U)}function me(x){return x&&"?"!==x[0]?"?"+x:x}let at=(()=>{class x{historyGo(U){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275prov=a.jDH({token:x,factory:function(){return(0,a.WQX)(bt)},providedIn:"root"})}return x})();const Xe=new a.nKC("appBaseHref");let bt=(()=>{class x extends at{constructor(U,X){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Z(this._baseHref,U)}path(U=!1){const X=this._platformLocation.pathname+me(this._platformLocation.search),we=this._platformLocation.hash;return we&&U?`${X}${we}`:X}pushState(U,X,we,_t){const Nt=this.prepareExternalUrl(we+me(_t));this._platformLocation.pushState(U,X,Nt)}replaceState(U,X,we,_t){const Nt=this.prepareExternalUrl(we+me(_t));this._platformLocation.replaceState(U,X,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||x)(a.KVO(Ne),a.KVO(Xe,8))};static#t=this.\u0275prov=a.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),Ct=(()=>{class x extends at{constructor(U,X){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(U){const X=Z(this._baseHref,U);return X.length>0?"#"+X:X}pushState(U,X,we,_t){let Nt=this.prepareExternalUrl(we+me(_t));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState(U,X,Nt)}replaceState(U,X,we,_t){let Nt=this.prepareExternalUrl(we+me(_t));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState(U,X,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static#e=this.\u0275fac=function(X){return new(X||x)(a.KVO(Ne),a.KVO(Xe,8))};static#t=this.\u0275prov=a.jDH({token:x,factory:x.\u0275fac})}return x})(),jt=(()=>{class x{constructor(U){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const X=this._locationStrategy.getBaseHref();this._basePath=function We(x){if(new RegExp("^(https?:)?//").test(x)){const[,U]=x.split(/\/\/[^\/]+/);return U}return x}(ce(et(X))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,X=""){return this.path()==this.normalize(U+me(X))}normalize(U){return x.stripTrailingSlash(function cn(x,J){if(!x||!J.startsWith(x))return J;const U=J.substring(x.length);return""===U||["/",";","?","#"].includes(U[0])?U:J}(this._basePath,et(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,X="",we=null){this._locationStrategy.pushState(we,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(X)),we)}replaceState(U,X="",we=null){this._locationStrategy.replaceState(we,"",U,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+me(X)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",X){this._urlChangeListeners.forEach(we=>we(U,X))}subscribe(U,X,we){return this._subject.subscribe({next:U,error:X,complete:we})}static#e=this.normalizeQueryParams=me;static#t=this.joinWithSlash=Z;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(X){return new(X||x)(a.KVO(at))};static#i=this.\u0275prov=a.jDH({token:x,factory:function(){return function Mt(){return new jt((0,a.KVO)(at))}()},providedIn:"root"})}return x})();function et(x){return x.replace(/\/index.html$/,"")}function Dn(x,J){J=encodeURIComponent(J);for(const U of x.split(";")){const X=U.indexOf("="),[we,_t]=-1==X?[U,""]:[U.slice(0,X),U.slice(X+1)];if(we.trim()===J)return decodeURIComponent(_t)}return null}const On=/\s+/,kn=[];let Kr=(()=>{class x{constructor(U,X,we,_t){this._iterableDiffers=U,this._keyValueDiffers=X,this._ngEl=we,this._renderer=_t,this.initialClasses=kn,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(On):kn}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(On):U}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const X of U)this._updateState(X,!0);else if(null!=U)for(const X of Object.keys(U))this._updateState(X,!!U[X]);this._applyStateDiff()}_updateState(U,X){const we=this.stateMap.get(U);void 0!==we?(we.enabled!==X&&(we.changed=!0,we.enabled=X),we.touched=!0):this.stateMap.set(U,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const X=U[0],we=U[1];we.changed?(this._toggleClass(X,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),we.touched=!1}}_toggleClass(U,X){(U=U.trim()).length>0&&U.split(On).forEach(we=>{X?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a._q3),a.rXU(a.MKu),a.rXU(a.aKT),a.rXU(a.sFG))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return x})();class Ko{constructor(J,U,X,we){this.$implicit=J,this.ngForOf=U,this.index=X,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mr=(()=>{class x{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,X,we){this._viewContainer=U,this._template=X,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const X=this._viewContainer;U.forEachOperation((we,_t,Nt)=>{if(null==we.previousIndex)X.createEmbeddedView(this._template,new Ko(we.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)X.remove(null===_t?void 0:_t);else if(null!==_t){const Cn=X.get(_t);X.move(Cn,Nt),ys(Cn,we)}});for(let we=0,_t=X.length;we<_t;we++){const Cn=X.get(we).context;Cn.index=we,Cn.count=_t,Cn.ngForOf=this._ngForOf}U.forEachIdentityChange(we=>{ys(X.get(we.currentIndex),we)})}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(a._q3))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return x})();function ys(x,J){x.context.$implicit=J.item}let Es=(()=>{class x{constructor(U,X){this._viewContainer=U,this._context=new Ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){ga("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){ga("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,X){return!0}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return x})();class Ei{constructor(){this.$implicit=null,this.ngIf=null}}function ga(x,J){if(J&&!J.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,a.Tbb)(J)}'.`)}class No{constructor(J,U){this._viewContainerRef=J,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let Pi=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews.push(U)}_matchCase(U){const X=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(U){if(this._defaultViews.length>0&&U!==this._defaultUsed){this._defaultUsed=U;for(const X of this._defaultViews)X.enforceState(U)}}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return x})(),zi=(()=>{class x{constructor(U,X,we){this.ngSwitch=we,we._addCase(),this._view=new No(U,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(Pi,9))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return x})(),yr=(()=>{class x{constructor(U,X,we){we._addDefault(new No(U,X))}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(Pi,9))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return x})(),Uo=(()=>{class x{constructor(U,X,we){this._ngEl=U,this._differs=X,this._renderer=we,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,X){const[we,_t]=U.split("."),Nt=-1===we.indexOf("-")?void 0:a.czy.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,we,_t?`${X}${_t}`:X,Nt):this._renderer.removeStyle(this._ngEl.nativeElement,we,Nt)}_applyChanges(U){U.forEachRemovedItem(X=>this._setStyle(X.key,null)),U.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),U.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.aKT),a.rXU(a.MKu),a.rXU(a.sFG))};static#t=this.\u0275dir=a.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return x})();function Eo(x,J){return new a.wOt(2100,!1)}class Ms{createSubscription(J,U){return(0,a.O8t)(()=>J.subscribe({next:U,error:X=>{throw X}}))}dispose(J){(0,a.O8t)(()=>J.unsubscribe())}}class Li{createSubscription(J,U){return J.then(U,X=>{throw X})}dispose(J){}}const ia=new Li,ko=new Ms;let ci=(()=>{class x{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,X=>this._updateLatestValue(U,X))}_selectStrategy(U){if((0,a.jNT)(U))return ia;if((0,a.zjR)(U))return ko;throw Eo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,X){U===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.gRc,16))};static#t=this.\u0275pipe=a.EJ8({name:"async",type:x,pure:!1,standalone:!0})}return x})(),qr=(()=>{class x{constructor(U){this.differs=U,this.keyValues=[],this.compareFn=qi}transform(U,X=qi){if(!U||!(U instanceof Map)&&"object"!=typeof U)return null;this.differ||(this.differ=this.differs.find(U).create());const we=this.differ.diff(U),_t=X!==this.compareFn;return we&&(this.keyValues=[],we.forEachItem(Nt=>{this.keyValues.push(function Fi(x,J){return{key:x,value:J}}(Nt.key,Nt.currentValue))})),(we||_t)&&(this.keyValues.sort(X),this.compareFn=X),this.keyValues}static#e=this.\u0275fac=function(X){return new(X||x)(a.rXU(a.MKu,16))};static#t=this.\u0275pipe=a.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}return x})();function qi(x,J){const U=x.key,X=J.key;if(U===X)return 0;if(void 0===U)return 1;if(void 0===X)return-1;if(null===U)return 1;if(null===X)return-1;if("string"==typeof U&&"string"==typeof X)return U<X?-1:1;if("number"==typeof U&&"number"==typeof X)return U-X;if("boolean"==typeof U&&"boolean"==typeof X)return U<X?-1:1;const we=String(U),_t=String(X);return we==_t?0:we<_t?-1:1}let io=(()=>{class x{transform(U,X,we){if(null==U)return null;if(!this.supports(U))throw Eo();return U.slice(X,we)}supports(U){return"string"==typeof U||Array.isArray(U)}static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275pipe=a.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}return x})(),bo=(()=>{class x{static#e=this.\u0275fac=function(X){return new(X||x)};static#t=this.\u0275mod=a.$C({type:x});static#n=this.\u0275inj=a.G2t({})}return x})();const Gr="browser",Fo="server";function gi(x){return x===Fo}let Re=(()=>{class x{static#e=this.\u0275prov=(0,a.jDH)({token:x,providedIn:"root",factory:()=>new Ye((0,a.KVO)(De),window)})}return x})();class Ye{constructor(J,U){this.document=J,this.window=U,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const U=function yt(x,J){const U=x.getElementById(J)||x.getElementsByName(J)[0];if(U)return U;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const X=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let we=X.currentNode;for(;we;){const _t=we.shadowRoot;if(_t){const Nt=_t.getElementById(J)||_t.querySelector(`[name="${J}"]`);if(Nt)return Nt}we=X.nextNode()}}return null}(this.document,J);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(J){this.supportsScrolling()&&(this.window.history.scrollRestoration=J)}scrollToElement(J){const U=J.getBoundingClientRect(),X=U.left+this.window.pageXOffset,we=U.top+this.window.pageYOffset,_t=this.offset();this.window.scrollTo(X-_t[0],we-_t[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class mn{}},7705:(on,Je,L)=>{L.d(Je,{$C:()=>Co,$GK:()=>_n,$K3:()=>KC,$MX:()=>Ed,AVh:()=>Ny,Agw:()=>dm,B4B:()=>Zp,BIS:()=>I_,BMQ:()=>Ii,C4Q:()=>lv,C5r:()=>xC,Co$:()=>$E,DNE:()=>$m,EFF:()=>K0,EJ8:()=>rs,EmA:()=>es,FS9:()=>Sy,FsC:()=>ho,G2t:()=>Gt,GBs:()=>bC,GFd:()=>tn,H3F:()=>WC,H5H:()=>Ly,H8p:()=>um,HJs:()=>HA,HbH:()=>j0,Hbi:()=>PA,JRh:()=>Fy,JZv:()=>$n,Jv_:()=>BE,KH2:()=>Xm,KVO:()=>Ot,Kcf:()=>Pf,L39:()=>BA,LfX:()=>Bn,Lme:()=>Vy,MKu:()=>y0,Mz_:()=>ty,NEm:()=>sA,NYb:()=>nA,Njj:()=>Na,O8t:()=>_t,OA$:()=>Ir,Ocv:()=>Rw,Ol2:()=>GE,PLl:()=>au,QTQ:()=>N,Ql9:()=>Nw,QuC:()=>fo,R7$:()=>m,RV6:()=>ro,Rfq:()=>bt,RxE:()=>ym,SKi:()=>Mo,SpI:()=>iy,TL$:()=>qp,Tbb:()=>me,UyX:()=>yd,VBU:()=>Li,Vns:()=>jg,Vt3:()=>Ta,WHO:()=>QC,WPN:()=>Il,WQX:()=>nn,XpG:()=>T0,Xx1:()=>fc,Y8G:()=>zm,Z63:()=>Cd,ZF7:()=>ja,_9s:()=>x_,_q3:()=>v0,aKT:()=>Xf,aNF:()=>zE,bIt:()=>Rs,bMT:()=>cC,bVm:()=>q,bkB:()=>lu,brH:()=>uC,c1b:()=>dy,cWb:()=>Rf,czy:()=>hl,e01:()=>JC,e5t:()=>Mf,eBV:()=>Fc,eq3:()=>ZE,eu8:()=>de,fpN:()=>SA,gRc:()=>gA,gXe:()=>Pe,giA:()=>ZC,h9k:()=>Qp,hnV:()=>zC,iLQ:()=>h0,j41:()=>Fg,jDH:()=>In,jNT:()=>vs,k0s:()=>Zh,kS0:()=>Du,kdw:()=>pc,l4e:()=>tC,lJ4:()=>JE,lNU:()=>et,l_i:()=>eC,lsd:()=>TC,mGM:()=>CC,mq5:()=>fE,n$t:()=>tg,nI1:()=>aC,nKC:()=>un,naY:()=>pA,npT:()=>nm,nrm:()=>pa,o8S:()=>e_,oH4:()=>rb,osQ:()=>El,plB:()=>t0,qex:()=>k,rXU:()=>D,rcV:()=>ou,sFG:()=>yv,sZ2:()=>lm,sdS:()=>jd,tSv:()=>j_,uvJ:()=>bc,w6W:()=>CT,wOt:()=>We,wni:()=>IC,xGo:()=>Gc,xc7:()=>Oy,xe9:()=>fy,xvI:()=>Em,zZn:()=>Tc,zcH:()=>Pl,zjR:()=>Oi});var a=L(1413),ae=L(8359),o=L(1985),Ae=L(7786),he=L(4412),De=L(7673),Ne=L(7647),Le=L(5558),Be=L(3294);function Z(t){for(let n in t)if(t[n]===Z)return n;throw Error("Could not find renamed property on target object.")}function ce(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function at(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Xe=Z({__forward_ref__:Z});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return me(this())},t}function Ct(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty(Xe)&&t.__forward_ref__===bt}function Mt(t){return t&&!!t.\u0275providers}const et="https://g.co/ng/security#xss";class We extends Error{constructor(n,i){super(function ot(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function Jt(t,n){throw new We(-201,!1)}function Tt(t,n){null==t&&function xt(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function In(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function wn(t){return Wt(t,fn)||Wt(t,zn)}function Bn(t){return null!==wn(t)}function Wt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Br(t){return t&&(t.hasOwnProperty(Cr)||t.hasOwnProperty(Ut))?t[Cr]:null}const fn=Z({\u0275prov:Z}),Cr=Z({\u0275inj:Z}),zn=Z({ngInjectableDef:Z}),Ut=Z({ngInjectorDef:Z});var _n=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_n||{});let Pn;function pr(t){const n=Pn;return Pn=t,n}function Tr(t,n,i){const c=wn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&_n.Optional?null:void 0!==n?n:void Jt(me(t))}const $n=globalThis;class un{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=In({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mn={},xr="__NG_DI_FLAG__",ur="ngTempTokenPath",ee=/\n/gm,V="__source";let F;function je(t){const n=F;return F=t,n}function It(t,n=_n.Default){if(void 0===F)throw new We(-203,!1);return null===F?Tr(t,void 0,n):F.get(t,n&_n.Optional?null:void 0,n)}function Ot(t,n=_n.Default){return(function Tn(){return Pn}()||It)(Ct(t),n)}function nn(t,n=_n.Default){return Ot(t,ln(n))}function ln(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rr(t){const n=[];for(let i=0;i<t.length;i++){const c=Ct(t[i]);if(Array.isArray(c)){if(0===c.length)throw new We(900,!1);let d,f=_n.Default;for(let C=0;C<c.length;C++){const T=c[C],P=li(T);"number"==typeof P?-1===P?d=T.token:f|=P:d=T}n.push(Ot(d,f))}else n.push(Ot(c))}return n}function An(t,n){return t[xr]=n,t.prototype[xr]=n,t}function li(t){return t[xr]}function ri(t){return{toString:t}.toString()}var Bi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bi||{}),Pe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pe||{});const Lt={},Ce=[],Te=Z({\u0275cmp:Z}),fe=Z({\u0275dir:Z}),Et=Z({\u0275pipe:Z}),en=Z({\u0275mod:Z}),Dn=Z({\u0275fac:Z}),On=Z({__NG_ELEMENT_ID__:Z}),kn=Z({__NG_ENV_ID__:Z});function Kr(t,n,i){let c=t.length;for(;;){const d=t.indexOf(n,i);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const f=n.length;if(d+f===c||t.charCodeAt(d+f)<=32)return d}i=d+1}}function Vr(t,n,i){let c=0;for(;c<i.length;){const d=i[c];if("number"==typeof d){if(0!==d)break;c++;const f=i[c++],C=i[c++],T=i[c++];t.setAttribute(n,C,T,f)}else{const f=d,C=i[++c];Ko(f)?t.setProperty(n,f,C):t.setAttribute(n,f,C),c++}}return c}function Ni(t){return 3===t||4===t||6===t}function Ko(t){return 64===t.charCodeAt(0)}function Mr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const d=n[c];"number"==typeof d?i=d:0===i||ys(t,i,d,null,-1===i||2===i?n[++c]:null)}}return t}function ys(t,n,i,c,d){let f=0,C=t.length;if(-1===n)C=-1;else for(;f<t.length;){const T=t[f++];if("number"==typeof T){if(T===n){C=-1;break}if(T>n){C=f-1;break}}}for(;f<t.length;){const T=t[f];if("number"==typeof T)break;if(T===i){if(null===c)return void(null!==d&&(t[f+1]=d));if(c===t[f+1])return void(t[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==C&&(t.splice(C,0,n),f=C+1),t.splice(f++,0,i),null!==c&&t.splice(f++,0,c),null!==d&&t.splice(f++,0,d)}const ki="ng-template";function Es(t,n,i){let c=0,d=!0;for(;c<t.length;){let f=t[c++];if("string"==typeof f&&d){const C=t[c++];if(i&&"class"===f&&-1!==Kr(C.toLowerCase(),n,0))return!0}else{if(1===f){for(;c<t.length&&"string"==typeof(f=t[c++]);)if(f.toLowerCase()===n)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Ei(t){return 4===t.type&&t.value!==ki}function ga(t,n,i){return n===(4!==t.type||i?t.value:ki)}function No(t,n,i){let c=4;const d=t.attrs||[],f=function $r(t){for(let n=0;n<t.length;n++)if(Ni(t[n]))return n;return t.length}(d);let C=!1;for(let T=0;T<n.length;T++){const P=n[T];if("number"!=typeof P){if(!C)if(4&c){if(c=2|1&c,""!==P&&!ga(t,P,i)||""===P&&1===n.length){if(Pi(c))return!1;C=!0}}else{const $=8&c?P:n[++T];if(8&c&&null!==t.attrs){if(!Es(t.attrs,$,i)){if(Pi(c))return!1;C=!0}continue}const _e=zi(8&c?"class":P,d,Ei(t),i);if(-1===_e){if(Pi(c))return!1;C=!0;continue}if(""!==$){let qe;qe=_e>f?"":d[_e+1].toLowerCase();const it=8&c?qe:null;if(it&&-1!==Kr(it,$,0)||2&c&&$!==qe){if(Pi(c))return!1;C=!0}}}}else{if(!C&&!Pi(c)&&!Pi(P))return!1;if(C&&Pi(P))continue;C=!1,c=P|1&c}}return Pi(c)||C}function Pi(t){return 0==(1&t)}function zi(t,n,i,c){if(null===n)return-1;let d=0;if(c||!i){let f=!1;for(;d<n.length;){const C=n[d];if(C===t)return d;if(3===C||6===C)f=!0;else{if(1===C||2===C){let T=n[++d];for(;"string"==typeof T;)T=n[++d];continue}if(4===C)break;if(0===C){d+=4;continue}}d+=f?1:2}return-1}return function Lr(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function yr(t,n,i=!1){for(let c=0;c<n.length;c++)if(No(t,n[c],i))return!0;return!1}function lo(t,n){return t?":not("+n.trim()+")":n}function $i(t){let n=t[0],i=1,c=2,d="",f=!1;for(;i<t.length;){let C=t[i];if("string"==typeof C)if(2&c){const T=t[++i];d+="["+C+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?d+="."+C:4&c&&(d+=" "+C);else""!==d&&!Pi(C)&&(n+=lo(f,d),d=""),c=C,f=f||!Pi(c);i++}return""!==d&&(n+=lo(f,d)),n}function Li(t){return ri(()=>{const n=wi(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pe.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""};hi(i);const c=t.dependencies;return i.directiveDefs=Fi(c,!1),i.pipeDefs=Fi(c,!0),i.id=function qi(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of i)n=Math.imul(31,n)+d.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function ko(t){return Yn(t)||di(t)}function ci(t){return null!==t}function Co(t){return ri(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Cs(t,n){if(null==t)return Lt;const i={};for(const c in t)if(t.hasOwnProperty(c)){let d=t[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),i[d]=c,n&&(n[d]=f)}return i}function ho(t){return ri(()=>{const n=wi(t);return hi(n),n})}function rs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yn(t){return t[Te]||null}function di(t){return t[fe]||null}function Ti(t){return t[Et]||null}function fo(t){const n=Yn(t)||di(t)||Ti(t);return null!==n&&n.standalone}function Hr(t,n){const i=t[en]||null;if(!i&&!0===n)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return i}function wi(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Lt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cs(t.inputs,n),outputs:Cs(t.outputs)}}function hi(t){t.features?.forEach(n=>n(t))}function Fi(t,n){if(!t)return null;const i=n?Ti:ko;return()=>("function"==typeof t?t():t).map(c=>i(c)).filter(ci)}const Or=0,Zt=1,Un=2,dr=3,Ui=4,io=5,fi=6,bo=7,Gr=8,Fo=9,Vo=10,Wn=11,Io=12,gi=13,Q=14,z=15,ye=16,Re=17,Ye=18,yt=19,Yt=20,mn=21,Rt=22,gn=23,ar=24,Rn=25,wr=1,Jr=2,ii=7,Yi=9,ir=11;function oi(t){return Array.isArray(t)&&"object"==typeof t[wr]}function gr(t){return Array.isArray(t)&&!0===t[wr]}function bs(t){return 0!=(4&t.flags)}function Ai(t){return t.componentOffset>-1}function Is(t){return 1==(1&t.flags)}function po(t){return!!t.template}function ma(t){return 0!=(512&t[Un])}function jo(t,n){return t.hasOwnProperty(Dn)?t[Dn]:null}let si=null,_a=!1;function Wi(t){const n=si;return si=t,n}const Mc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ks(t){if(!ls(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Qs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Fs(t){t.dirty=!0,function ss(t){if(void 0===t.liveConsumerNode)return;const n=_a;_a=!0;try{for(const i of t.liveConsumerNode)i.dirty||Fs(i)}finally{_a=n}}(t),t.consumerMarkedDirty?.(t)}function cr(t){return t&&(t.nextProducerIndex=0),Wi(t)}function Sa(t,n){if(Wi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ls(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ya(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qs(t){Vs(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==i.version||(ks(i),c!==i.version))return!0}return!1}function Wa(t){if(Vs(t),ls(t))for(let n=0;n<t.producerNode.length;n++)ya(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ya(t,n){if(function qa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Vs(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)ya(t.producerNode[c],t.producerIndexOfThis[c]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],d=t.liveConsumerNode[n];Vs(d),d.producerIndexOfThis[c]=n}}function ls(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Js=null;function _t(t){const n=Wi(null);try{return t()}finally{Wi(n)}}const Cn=()=>{},Nr=(()=>({...Mc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Cn}))();class zr{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ir(){return mi}function mi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ri),Sr}function Sr(){const t=$o(this),n=t?.current;if(n){const i=t.previous;if(i===Lt)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Ri(t,n,i,c){const d=this.declaredInputs[i],f=$o(t)||function Us(t,n){return t[wo]=n}(t,{previous:Lt,current:null}),C=f.current||(f.current={}),T=f.previous,P=T[d];C[d]=new zr(P&&P.currentValue,n,T===Lt),t[c]=n}Ir.ngInherit=!0;const wo="__ngSimpleChanges__";function $o(t){return t[wo]||null}const Qn=function(t,n,i){};function Qr(t){for(;Array.isArray(t);)t=t[Or];return t}function Ts(t,n){return Qr(n[t])}function Qi(t,n){return Qr(n[t.index])}function Xa(t,n){return t.data[n]}function hs(t,n){return t[n]}function bi(t,n){const i=n[t];return oi(i)?i:i[Or]}function Ji(t,n){return null==n?null:t[n]}function Zi(t){t[Re]=0}function Nc(t){1024&t[Un]||(t[Un]|=1024,Ll(t,1))}function yu(t){1024&t[Un]&&(t[Un]&=-1025,Ll(t,-1))}function Ll(t,n){let i=t[dr];if(null===i)return;i[io]+=n;let c=i;for(i=i[dr];null!==i&&(1===n&&1===c[io]||-1===n&&0===c[io]);)i[io]+=n,c=i,i=i[dr]}const Jn={lFrame:ne(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eo(){return Jn.bindingsEnabled}function $t(){return Jn.lFrame.lView}function At(){return Jn.lFrame.tView}function Fc(t){return Jn.lFrame.contextLView=t,t[Gr]}function Na(t){return Jn.lFrame.contextLView=null,t}function Ao(){let t=Si();for(;null!==t&&64===t.type;)t=t.parent;return t}function Si(){return Jn.lFrame.currentTNode}function Xo(t,n){const i=Jn.lFrame;i.currentTNode=t,i.isParent=n}function zo(){return Jn.lFrame.isParent}function ka(){Jn.lFrame.isParent=!1}function Qo(){const t=Jn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Zs(){return Jn.lFrame.bindingIndex++}function gs(t){const n=Jn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function ec(t,n){const i=Jn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Hl(n)}function Hl(t){Jn.lFrame.currentDirectiveIndex=t}function ea(){return Jn.lFrame.currentQueryIndex}function w(t){Jn.lFrame.currentQueryIndex=t}function R(t){const n=t[Zt];return 2===n.type?n.declTNode:1===n.type?t[fi]:null}function I(t,n,i){if(i&_n.SkipSelf){let d=n,f=t;for(;!(d=d.parent,null!==d||i&_n.Host||(d=R(f),null===d||(f=f[Q],10&d.type))););if(null===d)return!1;n=d,t=f}const c=Jn.lFrame=j();return c.currentTNode=n,c.lView=t,!0}function M(t){const n=j(),i=t[Zt];Jn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function j(){const t=Jn.lFrame,n=null===t?null:t.child;return null===n?ne(t):n}function ne(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ee(){const t=Jn.lFrame;return Jn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pt=Ee;function ht(){const t=Ee();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ar(){return Jn.lFrame.selectedIndex}function Pr(t){Jn.lFrame.selectedIndex=t}function ai(){const t=Jn.lFrame;return Xa(t.tView,t.selectedIndex)}let Fa=!0;function Tu(){return Fa}function rc(t){Fa=t}function Gl(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:T,ngAfterViewInit:P,ngAfterViewChecked:$,ngOnDestroy:te}=f;C&&(t.contentHooks??=[]).push(-i,C),T&&((t.contentHooks??=[]).push(i,T),(t.contentCheckHooks??=[]).push(i,T)),P&&(t.viewHooks??=[]).push(-i,P),$&&((t.viewHooks??=[]).push(i,$),(t.viewCheckHooks??=[]).push(i,$)),null!=te&&(t.destroyHooks??=[]).push(i,te)}}function ws(t,n,i){wu(t,n,3,i)}function _s(t,n,i,c){(3&t[Un])===i&&wu(t,n,i,c)}function Jo(t,n){let i=t[Un];(3&i)===n&&(i&=8191,i+=1,t[Un]=i)}function wu(t,n,i,c){const f=c??-1,C=n.length-1;let T=0;for(let P=void 0!==c?65535&t[Re]:0;P<C;P++)if("number"==typeof n[P+1]){if(T=n[P],null!=c&&T>=c)break}else n[P]<0&&(t[Re]+=65536),(T<f||-1==f)&&(Lc(t,i,n,P),t[Re]=(4294901760&t[Re])+P+2),P++}function nl(t,n){Qn(4,t,n);const i=Wi(null);try{n.call(t)}finally{Wi(i),Qn(5,t,n)}}function Lc(t,n,i,c){const d=i[c]<0,f=i[c+1],T=t[d?-i[c]:i[c]];d?t[Un]>>13<t[Re]>>16&&(3&t[Un])===n&&(t[Un]+=8192,nl(T,f)):nl(T,f)}const ic=-1;class Uc{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function Bc(t){return t!==ic}function il(t){return 32767&t}function js(t,n){let i=function tf(t){return t>>16}(t),c=n;for(;i>0;)c=c[Q],i--;return c}let oc=!0;function ha(t){const n=oc;return oc=t,n}const ol=255,Lo=5;let nf=0;const Zo={};function sl(t,n){const i=Va(t,n);if(-1!==i)return i;const c=n[Zt];c.firstCreatePass&&(t.injectorIndex=n.length,cs(c.data,t),cs(n,null),cs(c.blueprint,null));const d=Au(t,n),f=t.injectorIndex;if(Bc(d)){const C=il(d),T=js(d,n),P=T[Zt].data;for(let $=0;$<8;$++)n[f+$]=T[C+$]|P[C+$]}return n[f+8]=d,f}function cs(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Va(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Au(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,d=n;for(;null!==d;){if(c=Wc(d),null===c)return ic;if(i++,d=d[Q],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return ic}function Bs(t,n,i){!function Kl(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(On)&&(c=i[On]),null==c&&(c=i[On]=nf++);const d=c&ol;n.data[t+(d>>Lo)]|=1<<d}(t,n,i)}function sc(t,n,i){if(i&_n.Optional||void 0!==t)return t;Jt()}function ql(t,n,i,c){if(i&_n.Optional&&void 0===c&&(c=null),!(i&(_n.Self|_n.Host))){const d=t[Fo],f=pr(void 0);try{return d?d.get(n,c,i&_n.Optional):Tr(n,c,i&_n.Optional)}finally{pr(f)}}return sc(c,0,i)}function La(t,n,i,c=_n.Default,d){if(null!==t){if(2048&n[Un]&&!(c&_n.Self)){const C=function zc(t,n,i,c,d){let f=t,C=n;for(;null!==f&&null!==C&&2048&C[Un]&&!(512&C[Un]);){const T=Kd(f,C,i,c|_n.Self,Zo);if(T!==Zo)return T;let P=f.parent;if(!P){const $=C[Yt];if($){const te=$.get(i,Zo,c);if(te!==Zo)return te}P=Wc(C),C=C[Q]}f=P}return d}(t,n,i,c,Zo);if(C!==Zo)return C}const f=Kd(t,n,i,c,Zo);if(f!==Zo)return f}return ql(n,i,c,d)}function Kd(t,n,i,c,d){const f=function Hc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(On)?t[On]:void 0;return"number"==typeof n?n>=0?n&ol:Yd:n}(i);if("function"==typeof f){if(!I(n,t,c))return c&_n.Host?sc(d,0,c):ql(n,i,c,d);try{let C;if(C=f(c),null!=C||c&_n.Optional)return C;Jt()}finally{pt()}}else if("number"==typeof f){let C=null,T=Va(t,n),P=ic,$=c&_n.Host?n[z][fi]:null;for((-1===T||c&_n.SkipSelf)&&(P=-1===T?Au(t,n):n[T+8],P!==ic&&al(c,!1)?(C=n[Zt],T=il(P),n=js(P,n)):T=-1);-1!==T;){const te=n[Zt];if(sf(f,T,te.data)){const _e=qd(T,n,i,C,c,$);if(_e!==Zo)return _e}P=n[T+8],P!==ic&&al(c,n[Zt].data[T+8]===$)&&sf(f,T,n)?(C=te,T=il(P),n=js(P,n)):T=-1}}return d}function qd(t,n,i,c,d,f){const C=n[Zt],T=C.data[t+8],te=$c(T,C,i,null==c?Ai(T)&&oc:c!=C&&0!=(3&T.type),d&_n.Host&&f===T);return null!==te?na(n,C,te,T):Zo}function $c(t,n,i,c,d){const f=t.providerIndexes,C=n.data,T=1048575&f,P=t.directiveStart,te=f>>20,qe=d?T+te:t.directiveEnd;for(let it=c?T:T+te;it<qe;it++){const kt=C[it];if(it<P&&i===kt||it>=P&&kt.type===i)return it}if(d){const it=C[P];if(it&&po(it)&&it.type===i)return P}return null}function na(t,n,i,c){let d=t[i];const f=n.data;if(function rl(t){return t instanceof Uc}(d)){const C=d;C.resolving&&function wt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new We(-200,`Circular dependency in DI detected for ${t}${i}`)}(function rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(f[i]));const T=ha(C.canSeeViewProviders);C.resolving=!0;const $=C.injectImpl?pr(C.injectImpl):null;I(t,c,_n.Default);try{d=t[i]=C.factory(void 0,f,t,c),n.firstCreatePass&&i>=c.directiveStart&&function zd(t,n,i){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=n.type.prototype;if(c){const C=mi(n);(i.preOrderHooks??=[]).push(t,C),(i.preOrderCheckHooks??=[]).push(t,C)}d&&(i.preOrderHooks??=[]).push(0-t,d),f&&((i.preOrderHooks??=[]).push(t,f),(i.preOrderCheckHooks??=[]).push(t,f))}(i,f[i],n)}finally{null!==$&&pr($),ha(T),C.resolving=!1,pt()}}return d}function sf(t,n,i){return!!(i[n+(t>>Lo)]&1<<t)}function al(t,n){return!(t&_n.Self||t&_n.Host&&n)}class Wo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return La(this._tNode,this._lView,n,ln(c),i)}}function Yd(){return new Wo(Ao(),$t())}function Gc(t){return ri(()=>{const n=t.prototype.constructor,i=n[Dn]||Ca(n),c=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==c;){const f=d[Dn]||Ca(d);if(f&&f!==i)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Ca(t){return jt(t)?()=>{const n=Ca(Ct(t));return n&&n()}:jo(t)}function Wc(t){const n=t[Zt],i=n.type;return 2===i?n.declTNode:1===i?t[fi]:null}function Du(t){return function rf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let d=0;for(;d<c;){const f=i[d];if(Ni(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof i[d];)d++;else{if(f===n)return i[d+1];d+=2}}}return null}(Ao(),t)}const As="__parameters__";function ao(t,n,i){return ri(()=>{const c=function uc(t){return function(...i){if(t){const c=t(...i);for(const d in c)this[d]=c[d]}}}(n);function d(...f){if(this instanceof d)return c.apply(this,f),this;const C=new d(...f);return T.annotation=C,T;function T(P,$,te){const _e=P.hasOwnProperty(As)?P[As]:Object.defineProperty(P,As,{value:[]})[As];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(C),P}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function dc(t,n){t.forEach(i=>Array.isArray(i)?dc(i,n):n(i))}function Pu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Xl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $s(t,n,i){let c=Mu(t,n);return c>=0?t[1|c]=i:(c=~c,function df(t,n,i,c){let d=t.length;if(d==n)t.push(i,c);else if(1===d)t.push(c,t[0]),t[0]=i;else{for(d--,t.push(t[d-1],t[d]);d>n;)t[d]=t[d-2],d--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function Ql(t,n){const i=Mu(t,n);if(i>=0)return t[1|i]}function Mu(t,n){return function Ua(t,n,i){let c=0,d=t.length>>i;for(;d!==c;){const f=c+(d-c>>1),C=t[f<<i];if(n===C)return f<<i;C>n?d=f:c=f+1}return~(d<<i)}(t,n,1)}const fc=An(ao("Optional"),8),pc=An(ao("SkipSelf"),4);function ad(t){return 128==(128&t.flags)}var hl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(hl||{});const Ap=/^>|^->|<!--|-->|--!>|<!-$/g,fl=/(<|>)/g,Dp="\u200b$1\u200b";const Sp=new Map;let Gg=0;const uh="__ngContext__";function _o(t,n){oi(n)?(t[uh]=n[yt],function Wg(t){Sp.set(t[yt],t)}(n)):t[uh]=n}let Op;function dh(t,n){return Op(t,n)}function gl(t){const n=t[dr];return gr(n)?n[dr]:n}function Np(t){return Vu(t[Io])}function fh(t){return Vu(t[Ui])}function Vu(t){for(;null!==t&&!gr(t);)t=t[Ui];return t}function nu(t,n,i,c,d){if(null!=c){let f,C=!1;gr(c)?f=c:oi(c)&&(C=!0,c=c[Or]);const T=Qr(c);0===t&&null!==i?null==d?em(n,i,T):ru(n,i,T,d||null,!0):1===t&&null!==i?ru(n,i,T,d||null,!0):2===t?function vh(t,n,i){const c=Lp(t,n);c&&function Vp(t,n,i,c){t.removeChild(n,i,c)}(t,c,n,i)}(n,T,C):3===t&&n.destroyNode(T),null!=f&&function Hp(t,n,i,c,d){const f=i[ii];f!==Qr(i)&&nu(n,t,c,f,d);for(let T=ir;T<i.length;T++){const P=i[T];vl(P[Zt],P,t,n,c,f)}}(n,t,f,i,d)}}function _f(t,n){return t.createComment(function xp(t){return t.replace(Ap,n=>n.replace(fl,Dp))}(n))}function vf(t,n,i){return t.createElement(n,i)}function Zg(t,n){const i=t[Yi],c=i.indexOf(n);yu(n),i.splice(c,1)}function yf(t,n){if(t.length<=ir)return;const i=ir+n,c=t[i];if(c){const d=c[ye];null!==d&&d!==t&&Zg(d,c),n>0&&(t[i-1][Ui]=c[Ui]);const f=Xl(t,ir+n);!function Yg(t,n){vl(t,n,n[Wn],2,null,null),n[Or]=null,n[fi]=null}(c[Zt],c);const C=f[Ye];null!==C&&C.detachView(f[Zt]),c[dr]=null,c[Ui]=null,c[Un]&=-129}return c}function ph(t,n){if(!(256&n[Un])){const i=n[Wn];n[gn]&&Wa(n[gn]),n[ar]&&Wa(n[ar]),i.destroyNode&&vl(t,n,i,3,null,null),function Jg(t){let n=t[Io];if(!n)return kp(t[Zt],t);for(;n;){let i=null;if(oi(n))i=n[Io];else{const c=n[ir];c&&(i=c)}if(!i){for(;n&&!n[Ui]&&n!==t;)oi(n)&&kp(n[Zt],n),n=n[dr];null===n&&(n=t),oi(n)&&kp(n[Zt],n),i=n&&n[Ui]}n=i}}(n)}}function kp(t,n){if(!(256&n[Un])){n[Un]&=-129,n[Un]|=256,function ml(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const d=n[i[c]];if(!(d instanceof Uc)){const f=i[c+1];if(Array.isArray(f))for(let C=0;C<f.length;C+=2){const T=d[f[C]],P=f[C+1];Qn(4,T,P);try{P.call(T)}finally{Qn(5,T,P)}}else{Qn(4,d,f);try{f.call(d)}finally{Qn(5,d,f)}}}}}(t,n),function Fp(t,n){const i=t.cleanup,c=n[bo];if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const C=i[f+3];C>=0?c[C]():c[-C].unsubscribe(),f+=2}else i[f].call(c[i[f+1]]);null!==c&&(n[bo]=null);const d=n[mn];if(null!==d){n[mn]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(t,n),1===n[Zt].type&&n[Wn].destroy();const i=n[ye];if(null!==i&&gr(n[dr])){i!==n[dr]&&Zg(i,n);const c=n[Ye];null!==c&&c.detachView(t)}!function n_(t){Sp.delete(t[yt])}(n)}}function gh(t,n,i){return function Ef(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[Or];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=t.data[c.directiveStart+d];if(f===Pe.None||f===Pe.Emulated)return null}return Qi(c,i)}}(t,n.parent,i)}function ru(t,n,i,c,d){t.insertBefore(n,i,c,d)}function em(t,n,i){t.appendChild(n,i)}function Cf(t,n,i,c,d){null!==c?ru(t,n,i,c,d):em(t,n,i)}function Lp(t,n){return t.parentNode(n)}let jp,Cc,Kp,_d,If=function bf(t,n,i){return 40&t.type?Qi(t,i):null};function iu(t,n,i,c){const d=gh(t,c,n),f=n[Wn],T=function Up(t,n,i){return If(t,n,i)}(c.parent||n[fi],c,n);if(null!=d)if(Array.isArray(i))for(let P=0;P<i.length;P++)Cf(f,d,i[P],T,!1);else Cf(f,d,i,T,!1);void 0!==jp&&jp(f,c,n,i,d)}function _l(t,n){if(null!==n){const i=n.type;if(3&i)return Qi(n,t);if(4&i)return _h(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return _l(t,c);{const d=t[n.index];return gr(d)?_h(-1,d):Qr(d)}}if(32&i)return dh(n,t)()||Qr(t[n.index]);{const c=wf(t,n);return null!==c?Array.isArray(c)?c[0]:_l(gl(t[z]),c):_l(t,n.next)}}return null}function wf(t,n){return null!==n?t[z][fi].projection[n.projection]:null}function _h(t,n){const i=ir+t+1;if(i<n.length){const c=n[i],d=c[Zt].firstChild;if(null!==d)return _l(c,d)}return n[ii]}function Af(t,n,i,c,d,f,C){for(;null!=i;){const T=c[i.index],P=i.type;if(C&&0===n&&(T&&_o(Qr(T),c),i.flags|=2),32!=(32&i.flags))if(8&P)Af(t,n,i.child,c,d,f,!1),nu(n,t,d,T,f);else if(32&P){const $=dh(i,c);let te;for(;te=$();)nu(n,t,d,te,f);nu(n,t,d,T,f)}else 16&P?$p(t,n,c,i,d,f):nu(n,t,d,T,f);i=C?i.projectionNext:i.next}}function vl(t,n,i,c,d,f){Af(i,c,t.firstChild,n,d,f,!1)}function $p(t,n,i,c,d,f){const C=i[z],P=C[fi].projection[c.projection];if(Array.isArray(P))for(let $=0;$<P.length;$++)nu(n,t,d,P[$],f);else{let $=P;const te=C[dr];ad(c)&&($.flags|=128),Af(t,n,$,te,d,f,!0)}}function Ec(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Gp(t,n,i){const{mergedAttrs:c,classes:d,styles:f}=i;null!==c&&Vr(t,n,c),null!==d&&Ec(t,n,d),null!==f&&function gd(t,n,i){t.setAttribute(n,"style",i)}(t,n,f)}function md(t){return function yh(){if(void 0===Cc&&(Cc=null,$n.trustedTypes))try{Cc=$n.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cc}()?.createHTML(t)||t}function qp(t){Kp=t}function yl(){if(void 0!==Kp)return Kp;if(typeof document<"u")return document;throw new We(210,!1)}function Eh(){if(void 0===_d&&(_d=null,$n.trustedTypes))try{_d=$n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _d}function vd(t){return Eh()?.createHTML(t)||t}function Lu(t){return Eh()?.createScriptURL(t)||t}class Uu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}class Ch extends Uu{getTypeName(){return"HTML"}}class u_ extends Uu{getTypeName(){return"Style"}}class xf extends Uu{getTypeName(){return"Script"}}class Sf extends Uu{getTypeName(){return"URL"}}class bh extends Uu{getTypeName(){return"ResourceURL"}}function ou(t){return t instanceof Uu?t.changingThisBreaksApplicationSecurity:t}function ja(t,n){const i=function l_(t){return t instanceof Uu&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${et})`)}return i===n}function Pf(t){return new Ch(t)}function Rf(t){return new u_(t)}function yd(t){return new xf(t)}function El(t){return new Sf(t)}function Mf(t){return new bh(t)}class ju{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(md(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class h_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=md(n),i}}const Of=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ed(t){return(t=String(t)).match(Of)?t:"unsafe:"+t}function Ba(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Cl(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const Yp=Ba("area,br,col,hr,img,wbr"),Nf=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kf=Ba("rp,rt"),Bu=Cl(Yp,Cl(Nf,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cl(kf,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cl(kf,Nf)),Lf=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bl=Cl(Lf,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wh=Ba("script,style,template");class p_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=this.checkClobberedElement(i,i.nextSibling);if(d){i=d;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Bu.hasOwnProperty(i))return this.sanitizedSomething=!0,!wh.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),C=f.name,T=C.toLowerCase();if(!bl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let P=f.value;Lf[T]&&(P=Ed(P)),this.buf.push(" ",C,'="',Xp(P),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Bu.hasOwnProperty(i)&&!Yp.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Xp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const g_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m_=/([^\#-~ |!])/g;function Xp(t){return t.replace(/&/g,"&amp;").replace(g_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(m_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uf;function Qp(t,n){let i=null;try{Uf=Uf||function d_(t){const n=new h_(t);return function f_(){try{return!!(new window.DOMParser).parseFromString(md(""),"text/html")}catch{return!1}}()?new ju(n):n}(t);let c=n?String(n):"";i=Uf.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=i.innerHTML,i=Uf.getInertBodyElement(c)}while(c!==f);return md((new p_).sanitizeChildren(Jp(i)||i))}finally{if(i){const c=Jp(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Jp(t){return"content"in t&&function __(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Il=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Il||{});function nm(t){const n=kr();return n?vd(n.sanitize(Il.HTML,t)||""):ja(t,"HTML")?vd(ou(t)):Qp(yl(),Ze(t))}function Zp(t){const n=kr();return n?n.sanitize(Il.URL,t)||"":ja(t,"URL")?ou(t):Ed(Ze(t))}function rm(t){const n=kr();if(n)return Lu(n.sanitize(Il.RESOURCE_URL,t)||"");if(ja(t,"ResourceURL"))return Lu(ou(t));throw new We(904,!1)}function tg(t,n,i){return function sm(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?rm:Zp}(n,i)(t)}function kr(){const t=$t();return t&&t[Vo].sanitizer}const Cd=new un("ENVIRONMENT_INITIALIZER"),rg=new un("INJECTOR",-1),bd=new un("INJECTOR_DEF_TYPES");class jf{get(n,i=Mn){if(i===Mn){const c=new Error(`NullInjectorError: No provider for ${me(n)}!`);throw c.name="NullInjectorError",c}return i}}function es(t){return{\u0275providers:t}}function Ro(...t){return{\u0275providers:$a(0,t),\u0275fromNgModule:!0}}function $a(t,...n){const i=[],c=new Set;let d;const f=C=>{i.push(C)};return dc(n,C=>{const T=C;Bf(T,f,[],c)&&(d||=[],d.push(T))}),void 0!==d&&am(d,f),i}function am(t,n){for(let i=0;i<t.length;i++){const{ngModule:c,providers:d}=t[i];ig(d,f=>{n(f,c)})}}function Bf(t,n,i,c){if(!(t=Ct(t)))return!1;let d=null,f=Br(t);const C=!f&&Yn(t);if(f||C){if(C&&!C.standalone)return!1;d=t}else{const P=t.ngModule;if(f=Br(P),!f)return!1;d=P}const T=c.has(d);if(C){if(T)return!1;if(c.add(d),C.dependencies){const P="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const $ of P)Bf($,n,i,c)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let $;c.add(d);try{dc(f.imports,te=>{Bf(te,n,i,c)&&($||=[],$.push(te))})}finally{}void 0!==$&&am($,n)}if(!T){const $=jo(d)||(()=>new d);n({provide:d,useFactory:$,deps:Ce},d),n({provide:bd,useValue:d,multi:!0},d),n({provide:Cd,useValue:()=>Ot(d),multi:!0},d)}const P=f.providers;if(null!=P&&!T){const $=t;ig(P,te=>{n(te,$)})}}}return d!==t&&void 0!==t.providers}function ig(t,n){for(let i of t)Mt(i)&&(i=i.\u0275providers),Array.isArray(i)?ig(i,n):n(i)}const $f=Z({provide:String,useValue:Z});function og(t){return null!==t&&"object"==typeof t&&$f in t}function Tl(t){return"function"==typeof t}const um=new un("Set Injector scope."),Hf={},vo={};let Gf;function Id(){return void 0===Gf&&(Gf=new jf),Gf}class bc{}class Ic extends bc{get destroyed(){return this._destroyed}constructor(n,i,c,d){super(),this.parent=i,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wl(n,C=>this.processProvider(C)),this.records.set(rg,$u(void 0,this)),d.has("environment")&&this.records.set(bc,$u(void 0,this));const f=this.records.get(um);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(bd.multi,Ce,_n.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=je(this),c=pr(void 0);try{return n()}finally{je(i),pr(c)}}get(n,i=Mn,c=_n.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(kn))return n[kn](this);c=ln(c);const f=je(this),C=pr(void 0);try{if(!(c&_n.SkipSelf)){let P=this.records.get(n);if(void 0===P){const $=function Kf(t){return"function"==typeof t||"object"==typeof t&&t instanceof un}(n)&&wn(n);P=$&&this.injectableDefInScope($)?$u(su(n),Hf):null,this.records.set(n,P)}if(null!=P)return this.hydrate(n,P)}return(c&_n.Self?Id():this.parent).get(n,i=c&_n.Optional&&i===Mn?null:i)}catch(T){if("NullInjectorError"===T.name){if((T[ur]=T[ur]||[]).unshift(me(n)),f)throw T;return function br(t,n,i,c){const d=t[ur];throw n[V]&&d.unshift(n[V]),t.message=function Oo(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=me(n);if(Array.isArray(n))d=n.map(me).join(" -> ");else if("object"==typeof n){let f=[];for(let C in n)if(n.hasOwnProperty(C)){let T=n[C];f.push(C+":"+("string"==typeof T?JSON.stringify(T):me(T)))}d=`{${f.join(", ")}}`}return`${i}${c?"("+c+")":""}[${d}]: ${t.replace(ee,"\n  ")}`}("\n"+t.message,d,i,c),t.ngTokenPath=d,t[ur]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{pr(C),je(f)}}resolveInjectorInitializers(){const n=je(this),i=pr(void 0);try{const d=this.get(Cd.multi,Ce,_n.Self);for(const f of d)f()}finally{je(n),pr(i)}}toString(){const n=[],i=this.records;for(const c of i.keys())n.push(me(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(n){let i=Tl(n=Ct(n))?n:Ct(n&&n.provide);const c=function Wf(t){return og(t)?$u(void 0,t.useValue):$u(Dh(t),Hf)}(n);if(Tl(n)||!0!==n.multi)this.records.get(i);else{let d=this.records.get(i);d||(d=$u(void 0,Hf,!0),d.factory=()=>rr(d.multi),this.records.set(i,d)),i=n,d.multi.push(n)}this.records.set(i,c)}hydrate(n,i){return i.value===Hf&&(i.value=vo,i.value=i.factory()),"object"==typeof i.value&&i.value&&function b_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Ct(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function su(t){const n=wn(t),i=null!==n?n.factory:jo(t);if(null!==i)return i;if(t instanceof un)throw new We(204,!1);if(t instanceof Function)return function zf(t){const n=t.length;if(n>0)throw function Ru(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}(n,"?"),new We(204,!1);const i=function Vt(t){return t&&(t[fn]||t[zn])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new We(204,!1)}function Dh(t,n,i){let c;if(Tl(t)){const d=Ct(t);return jo(d)||su(d)}if(og(t))c=()=>Ct(t.useValue);else if(function cm(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...rr(t.deps||[]));else if(function Ah(t){return!(!t||!t.useExisting)}(t))c=()=>Ot(Ct(t.useExisting));else{const d=Ct(t&&(t.useClass||t.provide));if(!function C_(t){return!!t.deps}(t))return jo(d)||su(d);c=()=>new d(...rr(t.deps))}return c}function $u(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function wl(t,n){for(const i of t)Array.isArray(i)?wl(i,n):i&&Mt(i)?wl(i.\u0275providers,n):n(i)}const lm=new un("AppId",{providedIn:"root",factory:()=>Hu}),Hu="ng",au=new un("Platform Initializer"),dm=new un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),I_=new un("CSP nonce",{providedIn:"root",factory:()=>yl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Dd=(t,n,i)=>null;function Mh(t,n,i=!1){return Dd(t,n,i)}class mv{}class _v{}class vv{resolveComponentFactory(n){throw function mm(t){const n=Error(`No component factory found for ${me(t)}.`);return n.ngComponent=t,n}(n)}}let lg=(()=>{class t{static#e=this.NULL=new vv}return t})();function dg(){return kh(Ao(),$t())}function kh(t,n){return new Xf(Qi(t,n))}let Xf=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=dg}return t})();function hg(t){return t instanceof Xf?t.nativeElement:t}class x_{}let yv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function S_(){const t=$t(),i=bi(Ao().index,t);return(oi(i)?i:t)[Wn]}()}return t})(),P_=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>null})}return t})();class ym{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Em=new ym("16.2.12"),fg={};function Sl(t,n=null,i=null,c){const d=N_(t,n,i,c);return d.resolveInjectorInitializers(),d}function N_(t,n=null,i=null,c,d=new Set){const f=[i||Ce,Ro(t)];return c=c||("object"==typeof t?void 0:me(t)),new Ic(f,n||Id(),c||null,d)}let Tc=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Mn;static#t=this.NULL=new jf;static create(i,c){if(Array.isArray(i))return Sl({name:""},c,i,"");{const d=i.name??"";return Sl({name:d},i.parent,i.providers,d)}}static#n=this.\u0275prov=In({token:t,providedIn:"any",factory:()=>Ot(rg)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Cm(t){return t.ngOriginalError}class Pl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Cm(n);for(;i&&Cm(i);)i=Cm(i);return i||null}}function bm(t){return n=>{setTimeout(t,void 0,n)}}const lu=class Iv extends a.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){let d=n,f=i||(()=>null),C=c;if(n&&"object"==typeof n){const P=n;d=P.next?.bind(P),f=P.error?.bind(P),C=P.complete?.bind(P)}this.__isAsync&&(f=bm(f),d&&(d=bm(d)),C&&(C=bm(C)));const T=super.subscribe({next:d,error:f,complete:C});return n instanceof ae.yU&&n.add(T),T}};function F_(...t){}class Mo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&i,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Tv(){const t="function"==typeof $n.requestAnimationFrame;let n=$n[t?"requestAnimationFrame":"setTimeout"],i=$n[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Av(t){const n=()=>{!function wv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($n,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tm(t),t.isCheckStableRunning=!0,V_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,d,f,C,T)=>{if(function Ty(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(T))return i.invokeTask(d,f,C,T);try{return L_(t),i.invokeTask(d,f,C,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),U_(t)}},onInvoke:(i,c,d,f,C,T,P)=>{try{return L_(t),i.invoke(d,f,C,T,P)}finally{t.shouldCoalesceRunChangeDetection&&n(),U_(t)}},onHasTask:(i,c,d,f)=>{i.hasTask(d,f),c===d&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,Tm(t),V_(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,c,d,f)=>(i.handleError(d,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mo.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(Mo.isInAngularZone())throw new We(909,!1)}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,d){const f=this._inner,C=f.scheduleEventTask("NgZoneEvent: "+d,n,Im,F_,F_);try{return f.runTask(C,i,c)}finally{f.cancelTask(C)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const Im={};function V_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function L_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function U_(t){t._nesting--,V_(t)}class Iy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,d){return n.apply(i,c)}}const Dv=new un("",{providedIn:"root",factory:xv});function xv(){const t=nn(Mo);let n=!0;const i=new o.c(d=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(n),d.complete()})}),c=new o.c(d=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,d.next(!0))})})});const C=t.onUnstable.subscribe(()=>{Mo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),C.unsubscribe()}});return(0,Ae.h)(i,c.pipe((0,Ne.u)()))}function j_(t){return t.ownerDocument.defaultView}function du(t){return t instanceof Function?t():t}let mg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function Vh(t){for(;t;){t[Un]|=64;const n=gl(t);if(ma(t)&&!n)return t;t=n}return null}const G_=new un("",{providedIn:"root",factory:()=>!1});let Lh=null;function ep(t,n){return t[n]??s()}function u(t,n){const i=s();i.producerNode?.length&&(t[n]=Lh,i.lView=t,Lh=r())}const e={...Mc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vh(t.lView)},lView:null};function r(){return Object.create(e)}function s(){return Lh??=r(),Lh}const l={};function m(t){y(At(),$t(),Ar()+t,!1)}function y(t,n,i,c){if(!c)if(3==(3&n[Un])){const f=t.preOrderCheckHooks;null!==f&&ws(n,f,i)}else{const f=t.preOrderHooks;null!==f&&_s(n,f,0,i)}Pr(i)}function D(t,n=_n.Default){const i=$t();return null===i?Ot(t,n):La(Ao(),i,Ct(t),n)}function N(){throw new Error("invalid")}function re(t,n,i,c,d,f,C,T,P,$,te){const _e=n.blueprint.slice();return _e[Or]=d,_e[Un]=140|c,(null!==$||t&&2048&t[Un])&&(_e[Un]|=2048),Zi(_e),_e[dr]=_e[Q]=t,_e[Gr]=i,_e[Vo]=C||t&&t[Vo],_e[Wn]=T||t&&t[Wn],_e[Fo]=P||t&&t[Fo]||null,_e[fi]=f,_e[yt]=function zg(){return Gg++}(),_e[Rt]=te,_e[Yt]=$,_e[z]=2==n.type?t[z]:_e,_e}function ge(t,n,i,c,d){let f=t.data[n];if(null===f)f=function Ue(t,n,i,c,d){const f=Si(),C=zo(),P=t.data[n]=function st(t,n,i,c,d,f){let C=n?n.injectorIndex:-1,T=0;return function Ma(){return null!==Jn.skipHydrationRootTNode}()&&(T|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?f:f&&f.parent,i,n,c,d);return null===t.firstChild&&(t.firstChild=P),null!==f&&(C?null==f.child&&null!==P.parent&&(f.child=P):null===f.next&&(f.next=P,P.prev=f)),P}(t,n,i,c,d),function Gd(){return Jn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=i,f.value=c,f.attrs=d;const C=function ua(){const t=Jn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();f.injectorIndex=null===C?-1:C.injectorIndex}return Xo(f,!0),f}function dt(t,n,i,c){if(0===i)return-1;const d=n.length;for(let f=0;f<i;f++)n.push(c),t.blueprint.push(c),t.data.push(null);return d}function Ht(t,n,i,c,d){const f=ep(n,gn),C=Ar(),T=2&c;try{Pr(-1),T&&n.length>Rn&&y(t,n,Rn,!1),Qn(T?2:0,d);const $=T?f:null,te=cr($);try{null!==$&&($.dirty=!1),i(c,d)}finally{Sa($,te)}}finally{T&&null===n[gn]&&u(n,gn),Pr(C),Qn(T?3:1,d)}}function an(t,n,i){if(bs(n)){const c=Wi(null);try{const f=n.directiveEnd;for(let C=n.directiveStart;C<f;C++){const T=t.data[C];T.contentQueries&&T.contentQueries(1,i[C],C)}}finally{Wi(c)}}}function Xt(t,n,i){eo()&&(function Vv(t,n,i,c){const d=i.directiveStart,f=i.directiveEnd;Ai(i)&&function xm(t,n,i){const c=Qi(n,t),d=Xn(i);let C=16;i.signals?C=4096:i.onPush&&(C=64);const T=Bh(t,re(t,d,null,C,c,n,null,t[Vo].rendererFactory.createRenderer(c,i),null,null,null));t[n.index]=T}(n,i,t.data[d+i.componentOffset]),t.firstCreatePass||sl(i,n),_o(c,n);const C=i.initialInputs;for(let T=d;T<f;T++){const P=t.data[T],$=na(n,t,T,i);_o($,n),null!==C&&q_(0,T-d,$,P,0,C),po(P)&&(bi(i.index,n)[Gr]=na(n,t,T,i))}}(t,n,i,Qi(i,n)),64==(64&i.flags)&&jh(t,n,i))}function Vn(t,n,i=Qi){const c=n.localNames;if(null!==c){let d=n.index+1;for(let f=0;f<c.length;f+=2){const C=c[f+1],T=-1===C?i(n,t):t[C];t[d++]=T}}}function Xn(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=jn(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function jn(t,n,i,c,d,f,C,T,P,$,te){const _e=Rn+c,qe=_e+d,it=function Rr(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:l);return i}(_e,qe),kt="function"==typeof $?$():$;return it[Zt]={type:t,blueprint:it,template:i,queries:null,viewQuery:T,declTNode:n,data:it.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:P,consts:kt,incompleteFirstPass:!1,ssrId:te}}let tt=t=>null;function vt(t,n,i,c){for(let d in t)if(t.hasOwnProperty(d)){i=null===i?{}:i;const f=t[d];null===c?He(i,n,d,f):c.hasOwnProperty(d)&&He(i,n,c[d],f)}return i}function He(t,n,i,c){t.hasOwnProperty(i)?t[i].push(n,c):t[i]=[n,c]}function Ia(t,n,i,c,d,f,C,T){const P=Qi(n,i);let te,$=n.inputs;!T&&null!=$&&(te=$[c])?(Ss(t,i,te,c,d),Ai(n)&&function tp(t,n){const i=bi(n,t);16&i[Un]||(i[Un]|=64)}(i,n.index)):3&n.type&&(c=function Uh(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),d=null!=C?C(d,n.value||"",c):d,f.setProperty(P,c,d))}function _g(t,n,i,c){if(eo()){const d=null===c?null:{"":-1},f=function rp(t,n){const i=t.directiveRegistry;let c=null,d=null;if(i)for(let f=0;f<i.length;f++){const C=i[f];if(yr(n,C.selectors,!1))if(c||(c=[]),po(C))if(null!==C.findHostDirectiveDefs){const T=[];d=d||new Map,C.findHostDirectiveDefs(C,T,d),c.unshift(...T,C),Am(t,n,T.length)}else c.unshift(C),Am(t,n,0);else d=d||new Map,C.findHostDirectiveDefs?.(C,c,d),c.push(C)}return null===c?null:[c,d]}(t,i);let C,T;null===f?C=T=null:[C,T]=f,null!==C&&K_(t,n,i,C,d,T),d&&function Uv(t,n,i){if(n){const c=t.localNames=[];for(let d=0;d<n.length;d+=2){const f=i[n[d+1]];if(null==f)throw new We(-301,!1);c.push(n[d],f)}}}(i,c,d)}i.mergedAttrs=Mr(i.mergedAttrs,i.attrs)}function K_(t,n,i,c,d,f){for(let $=0;$<c.length;$++)Bs(sl(i,n),t,c[$].type);!function yg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,c.length);for(let $=0;$<c.length;$++){const te=c[$];te.providersResolver&&te.providersResolver(te)}let C=!1,T=!1,P=dt(t,n,c.length,null);for(let $=0;$<c.length;$++){const te=c[$];i.mergedAttrs=Mr(i.mergedAttrs,te.hostAttrs),Dm(t,i,n,P,te),vg(P,te,d),null!==te.contentQueries&&(i.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(i.flags|=64);const _e=te.type.prototype;!C&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),C=!0),!T&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),T=!0),P++}!function Wu(t,n,i){const d=n.directiveEnd,f=t.data,C=n.attrs,T=[];let P=null,$=null;for(let te=n.directiveStart;te<d;te++){const _e=f[te],qe=i?i.get(_e):null,kt=qe?qe.outputs:null;P=vt(_e.inputs,te,P,qe?qe.inputs:null),$=vt(_e.outputs,te,$,kt);const rn=null===P||null===C||Ei(n)?null:jv(P,te,C);T.push(rn)}null!==P&&(P.hasOwnProperty("class")&&(n.flags|=8),P.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=P,n.outputs=$}(t,i,f)}function jh(t,n,i){const c=i.directiveStart,d=i.directiveEnd,f=i.index,C=function $l(){return Jn.lFrame.currentDirectiveIndex}();try{Pr(f);for(let T=c;T<d;T++){const P=t.data[T],$=n[T];Hl(T),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Lv(P,$)}}finally{Pr(-1),Hl(C)}}function Lv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Am(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function vg(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;po(n)&&(i[""]=t)}}function Dm(t,n,i,c,d){t.data[c]=d;const f=d.factory||(d.factory=jo(d.type)),C=new Uc(f,po(d),D);t.blueprint[c]=C,i[c]=C,function Rl(t,n,i,c,d){const f=d.hostBindings;if(f){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const T=~n.index;(function Ws(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=T&&C.push(T),C.push(i,c,f)}}(t,n,c,dt(t,i,d.hostVars,l),d)}function Ha(t,n,i,c,d,f){const C=Qi(t,n);!function ip(t,n,i,c,d,f,C){if(null==f)t.removeAttribute(n,d,i);else{const T=null==C?Ze(f):C(f,c||"",d);t.setAttribute(n,d,T,i)}}(n[Wn],C,f,t.value,i,c,d)}function q_(t,n,i,c,d,f){const C=f[n];if(null!==C)for(let T=0;T<C.length;)Sm(c,i,C[T++],C[T++],C[T++])}function Sm(t,n,i,c,d){const f=Wi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(c)&&(d=C[c].call(n,d)),null!==t.setInput?t.setInput(n,d,i,c):n[c]=d}finally{Wi(f)}}function jv(t,n,i){let c=null,d=0;for(;d<i.length;){const f=i[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===c&&(c=[]);const C=t[f];for(let T=0;T<C.length;T+=2)if(C[T]===n){c.push(f,C[T+1],i[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Pm(t,n,i,c){return[t,!0,!1,n,null,0,c,i,null,null,null]}function Rm(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const f=i[c+1];if(-1!==f){const C=t.data[f];w(i[c]),C.contentQueries(2,n[f],f)}}}function Bh(t,n){return t[Io]?t[gi][Ui]=n:t[Io]=n,t[gi]=n,n}function Eg(t,n,i){w(0);const c=Wi(null);try{n(t,i)}finally{Wi(c)}}function Cg(t){return t[bo]||(t[bo]=[])}function bg(t){return t.cleanup||(t.cleanup=[])}function xs(t,n){const i=t[Fo],c=i?i.get(Pl,null):null;c&&c.handleError(n)}function Ss(t,n,i,c,d){for(let f=0;f<i.length;){const C=i[f++],T=i[f++];Sm(t.data[C],n[C],c,T,d)}}function Ga(t,n,i){const c=Ts(n,t);!function qg(t,n,i){t.setValue(n,i)}(t[Wn],c,i)}function Mm(t,n){const i=bi(n,t),c=i[Zt];!function Om(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(c,i);const d=i[Or];null!==d&&null===i[Rt]&&(i[Rt]=Mh(d,i[Fo])),Tg(c,i,i[Gr])}function Tg(t,n,i){M(n);try{const c=t.viewQuery;null!==c&&Eg(1,c,i);const d=t.template;null!==d&&Ht(t,n,d,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rm(t,n),t.staticViewQueries&&Eg(2,t.viewQuery,i);const f=t.components;null!==f&&function $h(t,n){for(let i=0;i<n.length;i++)Mm(t,n[i])}(n,f)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[Un]&=-5,ht()}}let Hh=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,c,d){const f=typeof Zone>"u"?null:Zone.current,C=function Nt(t,n,i){const c=Object.create(Nr);i&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const d=C=>{c.cleanupFn=C};return c.ref={notify:()=>Fs(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Qs(c))return;c.hasRun=!0;const C=cr(c);try{c.cleanupFn(),c.cleanupFn=Cn,c.fn(d)}finally{Sa(c,C)}},cleanup:()=>c.cleanupFn()},c.ref}(i,$=>{this.all.has($)&&this.queue.set($,f)},d);let T;this.all.add(C),C.notify();const P=()=>{C.cleanup(),T?.(),this.all.delete(C),this.queue.delete(C)};return T=c?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[i,c]of this.queue)this.queue.delete(i),c?c.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function Rd(t,n,i){let c=i?t.styles:null,d=i?t.classes:null,f=0;if(null!==n)for(let C=0;C<n.length;C++){const T=n[C];"number"==typeof T?f=T:1==f?d=at(d,T):2==f&&(c=at(c,T+": "+n[++C]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=d:t.classesWithoutHost=d}function op(t,n,i,c,d=!1){for(;null!==i;){const f=n[i.index];null!==f&&c.push(Qr(f)),gr(f)&&sp(f,c);const C=i.type;if(8&C)op(t,n,i.child,c);else if(32&C){const T=dh(i,n);let P;for(;P=T();)c.push(P)}else if(16&C){const T=wf(n,i);if(Array.isArray(T))c.push(...T);else{const P=gl(n[z]);op(P[Zt],P,T,c,!0)}}i=d?i.projectionNext:i.next}return c}function sp(t,n){for(let i=ir;i<t.length;i++){const c=t[i],d=c[Zt].firstChild;null!==d&&op(c[Zt],c,d,n)}t[ii]!==t[Or]&&n.push(t[ii])}function Md(t,n,i,c=!0){const d=n[Vo],f=d.rendererFactory,C=d.afterRenderEventManager;f.begin?.(),C?.begin();try{Od(t,n,t.template,i)}catch(P){throw c&&xs(n,P),P}finally{f.end?.(),d.effectManager?.flush(),C?.end()}}function Od(t,n,i,c){const d=n[Un];if(256!=(256&d)){n[Vo].effectManager?.flush(),M(n);try{Zi(n),function Iu(t){return Jn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Ht(t,n,i,2,c);const C=3==(3&d);if(C){const $=t.preOrderCheckHooks;null!==$&&ws(n,$,null)}else{const $=t.preOrderHooks;null!==$&&_s(n,$,0,null),Jo(n,0)}if(function Ag(t){for(let n=Np(t);null!==n;n=fh(n)){if(!n[Jr])continue;const i=n[Yi];for(let c=0;c<i.length;c++){Nc(i[c])}}}(n),ap(n,2),null!==t.contentQueries&&Rm(t,n),C){const $=t.contentCheckHooks;null!==$&&ws(n,$)}else{const $=t.contentHooks;null!==$&&_s(n,$,1),Jo(n,1)}!function W(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const c=ep(n,ar);try{for(let d=0;d<i.length;d++){const f=i[d];if(f<0)Pr(~f);else{const C=f,T=i[++d],P=i[++d];ec(T,C),c.dirty=!1;const $=cr(c);try{P(2,n[C])}finally{Sa(c,$)}}}}finally{null===n[ar]&&u(n,ar),Pr(-1)}}(t,n);const T=t.components;null!==T&&cp(n,T,0);const P=t.viewQuery;if(null!==P&&Eg(2,P,c),C){const $=t.viewCheckHooks;null!==$&&ws(n,$)}else{const $=t.viewHooks;null!==$&&_s(n,$,2),Jo(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Un]&=-73,yu(n)}finally{ht()}}}function ap(t,n){for(let i=Np(t);null!==i;i=fh(i))for(let c=ir;c<i.length;c++)km(i[c],n)}function Nd(t,n,i){km(bi(n,t),i)}function km(t,n){if(!function vu(t){return 128==(128&t[Un])}(t))return;const i=t[Zt],c=t[Un];if(80&c&&0===n||1024&c||2===n)Od(i,t,i.template,t[Gr]);else if(t[io]>0){ap(t,1);const d=i.components;null!==d&&cp(t,d,1)}}function cp(t,n,i){for(let c=0;c<n.length;c++)Nd(t,n[c],i)}class Gh{get rootNodes(){const n=this._lView,i=n[Zt];return op(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gr]}set context(n){this._lView[Gr]=n}get destroyed(){return 256==(256&this._lView[Un])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[dr];if(gr(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(yf(n,c),Xl(i,c))}this._attachedToViewContainer=!1}ph(this._lView[Zt],this._lView)}onDestroy(n){!function Ul(t,n){if(256==(256&t[Un]))throw new We(911,!1);null===t[mn]&&(t[mn]=[]),t[mn].push(n)}(this._lView,n)}markForCheck(){Vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Un]&=-129}reattach(){this._lView[Un]|=128}detectChanges(){Md(this._lView[Zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qg(t,n){vl(t,n,n[Wn],2,null,null)}(this._lView[Zt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=n}}class up extends Gh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Md(n[Zt],n,n[Gr],!1)}checkNoChanges(){}get context(){return null}}class Fm extends lg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Yn(n);return new Ku(i,this.ngModule)}}function Ks(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class zh{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,c){c=ln(c);const d=this.injector.get(n,fg,c);return d!==fg||i===fg?d:this.parentInjector.get(n,i,c)}}class Ku extends _v{get inputs(){const n=this.componentDef,i=n.inputTransforms,c=Ks(n.inputs);if(null!==i)for(const d of c)i.hasOwnProperty(d.propName)&&(d.transform=i[d.propName]);return c}get outputs(){return Ks(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Eo(t){return t.map($i).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,c,d){let f=(d=d||this.ngModule)instanceof bc?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const C=f?new zh(n,f):n,T=C.get(x_,null);if(null===T)throw new We(407,!1);const _e={rendererFactory:T,sanitizer:C.get(P_,null),effectManager:C.get(Hh,null),afterRenderEventManager:C.get(mg,null)},qe=T.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",kt=c?function Mi(t,n,i,c){const f=c.get(G_,!1)||i===Pe.ShadowDom,C=t.selectRootElement(n,f);return function Zr(t){tt(t)}(C),C}(qe,c,this.componentDef.encapsulation,C):vf(qe,it,function X_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(it)),tr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Qt=null;null!==kt&&(Qt=Mh(kt,C,!0));const Fr=jn(0,null,null,1,0,null,null,null,null,null,null),ui=re(null,Fr,null,tr,null,null,_e,qe,C,null,Qt);let uo,Pc;M(ui);try{const ef=this.componentDef;let t_,C0=null;ef.findHostDirectiveDefs?(t_=[],C0=new Map,ef.findHostDirectiveDefs(ef,t_,C0),t_.push(ef)):t_=[ef];const GA=function $v(t,n){const i=t[Zt],c=Rn;return t[c]=n,ge(i,c,2,"#host",null)}(ui,kt),zA=function Wh(t,n,i,c,d,f,C){const T=d[Zt];!function Hv(t,n,i,c){for(const d of t)n.mergedAttrs=Mr(n.mergedAttrs,d.hostAttrs);null!==n.mergedAttrs&&(Rd(n,n.mergedAttrs,!0),null!==i&&Gp(c,i,n))}(c,t,n,C);let P=null;null!==n&&(P=Mh(n,d[Fo]));const $=f.rendererFactory.createRenderer(n,i);let te=16;i.signals?te=4096:i.onPush&&(te=64);const _e=re(d,Xn(i),null,te,d[t.index],t,f,$,null,null,P);return T.firstCreatePass&&Am(T,t,c.length-1),Bh(d,_e),d[t.index]=_e}(GA,kt,ef,t_,ui,_e,qe);Pc=Xa(Fr,Rn),kt&&function Dg(t,n,i,c){if(c)Vr(t,i,["ng-version",Em.full]);else{const{attrs:d,classes:f}=function Ms(t){const n=[],i=[];let c=1,d=2;for(;c<t.length;){let f=t[c];if("string"==typeof f)2===d?""!==f&&n.push(f,t[++c]):8===d&&i.push(f);else{if(!Pi(d))break;d=f}c++}return{attrs:n,classes:i}}(n.selectors[0]);d&&Vr(t,i,d),f&&f.length>0&&Ec(t,i,f.join(" "))}}(qe,ef,kt,c),void 0!==i&&function Q_(t,n,i){const c=t.projection=[];for(let d=0;d<n.length;d++){const f=i[d];c.push(null!=f?Array.from(f):null)}}(Pc,this.ngContentSelectors,i),uo=function Gv(t,n,i,c,d,f){const C=Ao(),T=d[Zt],P=Qi(C,d);K_(T,d,C,i,null,c);for(let te=0;te<i.length;te++)_o(na(d,T,C.directiveStart+te,C),d);jh(T,d,C),P&&_o(P,d);const $=na(d,T,C.directiveStart+C.componentOffset,C);if(t[Gr]=d[Gr]=$,null!==f)for(const te of f)te($,n);return an(T,C,t),$}(zA,ef,t_,C0,ui,[xg]),Tg(Fr,ui,null)}finally{ht()}return new Bv(this.componentType,uo,kh(Pc,ui),ui,Pc)}}class Bv extends mv{constructor(n,i,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new up(d),this.componentType=n}setInput(n,i){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const f=this._rootLView;Ss(f[Zt],f,d,n,i),this.previousInputValues.set(n,i),Vh(bi(this._tNode.index,f))}}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function xg(){const t=Ao();Gl($t()[Zt],t)}function Ta(t){let n=function Kh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let d;if(po(t))d=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new We(903,!1);d=n.\u0275dir}if(d){if(i){c.push(d);const C=t;C.inputs=qh(t.inputs),C.inputTransforms=qh(t.inputTransforms),C.declaredInputs=qh(t.declaredInputs),C.outputs=qh(t.outputs);const T=d.hostBindings;T&&E(t,T);const P=d.viewQuery,$=d.contentQueries;if(P&&Lm(t,P),$&&Sg(t,$),ce(t.inputs,d.inputs),ce(t.declaredInputs,d.declaredInputs),ce(t.outputs,d.outputs),null!==d.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),ce(C.inputTransforms,d.inputTransforms)),po(d)&&d.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let C=0;C<f.length;C++){const T=f[C];T&&T.ngInherit&&T(t),T===Ta&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Vm(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const d=t[c];d.hostVars=n+=d.hostVars,d.hostAttrs=Mr(d.hostAttrs,i=Mr(i,d.hostAttrs))}}(c)}function qh(t){return t===Lt?{}:t===Ce?[]:t}function Lm(t,n){const i=t.viewQuery;t.viewQuery=i?(c,d)=>{n(c,d),i(c,d)}:n}function Sg(t,n){const i=t.contentQueries;t.contentQueries=i?(c,d,f)=>{n(c,d,f),i(c,d,f)}:n}function E(t,n){const i=t.hostBindings;t.hostBindings=i?(c,d)=>{n(c,d),i(c,d)}:n}function tn(t){const n=t.inputConfig,i={};for(const c in n)if(n.hasOwnProperty(c)){const d=n[c];Array.isArray(d)&&d[2]&&(i[c]=d[2])}t.inputTransforms=i}function Zn(t){return!!Ln(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ln(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jr(t,n,i){return t[n]=i}function ji(t,n){return t[n]}function sr(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Er(t,n,i,c){const d=sr(t,n,i);return sr(t,n+1,c)||d}function Ii(t,n,i,c){const d=$t();return sr(d,Zs(),n)&&(At(),Ha(ai(),d,t,n,i,c)),Ii}function no(t,n,i,c){return sr(t,Zs(),i)?n+Ze(i)+c:l}function co(t,n,i,c,d,f){const T=Er(t,function ps(){return Jn.lFrame.bindingIndex}(),i,d);return gs(2),T?n+Ze(i)+c+Ze(d)+f:l}function $m(t,n,i,c,d,f,C,T){const P=$t(),$=At(),te=t+Rn,_e=$.firstCreatePass?function Xv(t,n,i,c,d,f,C,T,P){const $=n.consts,te=ge(n,t,4,C||null,Ji($,T));_g(n,i,te,Ji($,P)),Gl(n,te);const _e=te.tView=jn(2,te,c,d,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,$,null);return null!==n.queries&&(n.queries.template(n,te),_e.queries=n.queries.embeddedTView(te)),te}(te,$,P,n,i,c,d,f,C):$.data[te];Xo(_e,!1);const qe=Hm($,P,_e,t);Tu()&&iu($,P,qe,_e),_o(qe,P),Bh(P,P[te]=Pm(qe,P,qe,_e)),Is(_e)&&Xt($,P,_e),null!=C&&Vn(P,_e,T)}let Hm=function ev(t,n,i,c){return rc(!0),n[Wn].createComment("")};function jd(t){return hs(function Kn(){return Jn.lFrame.contextLView}(),Rn+t)}function zm(t,n,i){const c=$t();return sr(c,Zs(),n)&&Ia(At(),ai(),c,t,n,c[Wn],i,!1),zm}function Wm(t,n,i,c,d){const C=d?"class":"style";Ss(t,i,n.inputs[C],C,c)}function Fg(t,n,i,c){const d=$t(),f=At(),C=Rn+t,T=d[Wn],P=f.firstCreatePass?function Zv(t,n,i,c,d,f){const C=n.consts,P=ge(n,t,2,c,Ji(C,d));return _g(n,i,P,Ji(C,f)),null!==P.attrs&&Rd(P,P.attrs,!1),null!==P.mergedAttrs&&Rd(P,P.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,P),P}(C,f,d,n,i,c):f.data[C],$=tv(f,d,P,T,n,t);d[C]=$;const te=Is(P);return Xo(P,!0),Gp(T,$,P),32!=(32&P.flags)&&Tu()&&iu(f,d,$,P),0===function Go(){return Jn.lFrame.elementDepthCount}()&&_o($,d),function tl(){Jn.lFrame.elementDepthCount++}(),te&&(Xt(f,d,P),an(f,P,d)),null!==c&&Vn(d,P),Fg}function Zh(){let t=Ao();zo()?ka():(t=t.parent,Xo(t,!1));const n=t;(function kc(t){return Jn.skipHydrationRootTNode===t})(n)&&function Hd(){Jn.skipHydrationRootTNode=null}(),function Eu(){Jn.lFrame.elementDepthCount--}();const i=At();return i.firstCreatePass&&(Gl(i,t),bs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Wd(t){return 0!=(8&t.flags)}(n)&&Wm(i,n,$t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function jc(t){return 0!=(16&t.flags)}(n)&&Wm(i,n,$t(),n.stylesWithoutHost,!1),Zh}function pa(t,n,i,c){return Fg(t,n,i,c),Zh(),pa}let tv=(t,n,i,c,d,f)=>(rc(!0),vf(c,d,function Ea(){return Jn.lFrame.currentNamespace}()));function k(t,n,i){const c=$t(),d=At(),f=t+Rn,C=d.firstCreatePass?function v(t,n,i,c,d){const f=n.consts,C=Ji(f,c),T=ge(n,t,8,"ng-container",C);return null!==C&&Rd(T,C,!0),_g(n,i,T,Ji(f,d)),null!==n.queries&&n.queries.elementStart(n,T),T}(f,d,c,n,i):d.data[f];Xo(C,!0);const T=ut(d,c,C,t);return c[f]=T,Tu()&&iu(d,c,T,C),_o(T,c),Is(C)&&(Xt(d,c,C),an(d,C,c)),null!=i&&Vn(c,C),k}function q(){let t=Ao();const n=At();return zo()?ka():(t=t.parent,Xo(t,!1)),n.firstCreatePass&&(Gl(n,t),bs(t)&&n.queries.elementEnd(t)),q}function de(t,n,i){return k(t,n,i),q(),de}let ut=(t,n,i,c)=>(rc(!0),_f(n[Wn],""));function ro(){return $t()}function vs(t){return!!t&&"function"==typeof t.then}function Oi(t){return!!t&&"function"==typeof t.subscribe}function Rs(t,n,i,c){const d=$t(),f=At(),C=Ao();return function Dc(t,n,i,c,d,f,C){const T=Is(c),$=t.firstCreatePass&&bg(t),te=n[Gr],_e=Cg(n);let qe=!0;if(3&c.type||C){const rn=Qi(c,n),xn=C?C(rn):rn,tr=_e.length,Qt=C?ui=>C(Qr(ui[c.index])):c.index;let Fr=null;if(!C&&T&&(Fr=function gp(t,n,i,c){const d=t.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const C=d[f];if(C===i&&d[f+1]===c){const T=n[bo],P=d[f+2];return T.length>P?T[P]:null}"string"==typeof C&&(f+=2)}return null}(t,n,d,c.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=f,Fr.__ngLastListenerFn__=f,qe=!1;else{f=Km(c,n,te,f,!1);const ui=i.listen(xn,d,f);_e.push(f,ui),$&&$.push(d,Qt,tr,tr+1)}}else f=Km(c,n,te,f,!1);const it=c.outputs;let kt;if(qe&&null!==it&&(kt=it[d])){const rn=kt.length;if(rn)for(let xn=0;xn<rn;xn+=2){const uo=n[kt[xn]][kt[xn+1]].subscribe(f),Pc=_e.length;_e.push(f,uo),$&&$.push(d,c.index,Pc,-(Pc+1))}}}(f,d,d[Wn],C,t,n,c),Rs}function Vg(t,n,i,c){try{return Qn(6,n,i),!1!==i(c)}catch(d){return xs(t,d),!1}finally{Qn(7,n,i)}}function Km(t,n,i,c,d){return function f(C){if(C===Function)return c;Vh(t.componentOffset>-1?bi(t.index,n):n);let P=Vg(n,i,c,C),$=f.__ngNextListenerFn__;for(;$;)P=Vg(n,i,$,C)&&P,$=$.__ngNextListenerFn__;return d&&!1===P&&C.preventDefault(),P}}function T0(t=1){return function vn(t){return(Jn.lFrame.contextLView=function mr(t,n){for(;t>0;)n=n[Q],t--;return n}(t,Jn.lFrame.contextLView))[Gr]}(t)}function Sy(t,n,i){return ty(t,"",n,"",i),Sy}function ty(t,n,i,c,d){const f=$t(),C=no(f,n,i,c);return C!==l&&Ia(At(),ai(),f,t,C,f[Wn],d,!1),ty}function ny(t,n){return t<<17|n<<2}function mp(t){return t>>17&32767}function Py(t){return 2|t}function Lg(t){return(131068&t)>>2}function Ry(t,n){return-131069&t|n<<2}function My(t){return 1|t}function O0(t,n,i,c,d){const f=t[i+1],C=null===n;let T=c?mp(f):Lg(f),P=!1;for(;0!==T&&(!1===P||C);){const te=t[T+1];Lb(t[T],n)&&(P=!0,t[T+1]=c?My(te):Py(te)),T=c?mp(te):Lg(te)}P&&(t[i+1]=c?Py(f):My(f))}function Lb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Mu(t,n)>=0}const Ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function N0(t){return t.substring(Ys.key,Ys.keyEnd)}function k0(t,n){const i=Ys.textEnd;return i===n?-1:(n=Ys.keyEnd=function $b(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Ys.key=n,i),qm(t,n,i))}function qm(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Oy(t,n,i){return kl(t,n,i,!1),Oy}function Ny(t,n){return kl(t,n,null,!0),Ny}function j0(t){!function Fl(t,n,i,c){const d=At(),f=gs(2);d.firstUpdatePass&&$0(d,null,f,c);const C=$t();if(i!==l&&sr(C,f,i)){const T=d.data[Ar()];if(W0(T,c)&&!B0(d,f)){let P=c?T.classesWithoutHost:T.stylesWithoutHost;null!==P&&(i=at(P,i||"")),Wm(d,T,C,i,c)}else!function Jb(t,n,i,c,d,f,C,T){d===l&&(d=Ce);let P=0,$=0,te=0<d.length?d[0]:null,_e=0<f.length?f[0]:null;for(;null!==te||null!==_e;){const qe=P<d.length?d[P+1]:void 0,it=$<f.length?f[$+1]:void 0;let rn,kt=null;te===_e?(P+=2,$+=2,qe!==it&&(kt=_e,rn=it)):null===_e||null!==te&&te<_e?(P+=2,kt=te):($+=2,kt=_e,rn=it),null!==kt&&G0(t,n,i,c,kt,rn,C,T),te=P<d.length?d[P]:null,_e=$<f.length?f[$]:null}}(d,T,C,C[Wn],C[f+1],C[f+1]=function Xb(t,n,i){if(null==i||""===i)return Ce;const c=[],d=ou(i);if(Array.isArray(d))for(let f=0;f<d.length;f++)t(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&t(c,f,d[f]);else"string"==typeof d&&n(c,d);return c}(t,n,i),c,f)}}(Qb,$d,t,!0)}function $d(t,n){for(let i=function jb(t){return function V0(t){Ys.key=0,Ys.keyEnd=0,Ys.value=0,Ys.valueEnd=0,Ys.textEnd=t.length}(t),k0(t,qm(t,0,Ys.textEnd))}(n);i>=0;i=k0(n,i))$s(t,N0(n),!0)}function kl(t,n,i,c){const d=$t(),f=At(),C=gs(2);f.firstUpdatePass&&$0(f,t,C,c),n!==l&&sr(d,C,n)&&G0(f,f.data[Ar()],d,d[Wn],t,d[C+1]=function Zb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=me(ou(t)))),t}(n,i),c,C)}function B0(t,n){return n>=t.expandoStartIndex}function $0(t,n,i,c){const d=t.data;if(null===d[i+1]){const f=d[Ar()],C=B0(t,i);W0(f,c)&&null===n&&!C&&(n=!1),n=function Wb(t,n,i,c){const d=function Vc(t){const n=Jn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let f=c?n.residualClasses:n.residualStyles;if(null===d)0===(c?n.classBindings:n.styleBindings)&&(i=nv(i=ky(null,t,n,i,c),n.attrs,c),f=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==d)if(i=ky(d,t,n,i,c),null===f){let P=function Kb(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==Lg(c))return t[mp(c)]}(t,n,c);void 0!==P&&Array.isArray(P)&&(P=ky(null,t,n,P[1],c),P=nv(P,n.attrs,c),function qb(t,n,i,c){t[mp(i?n.classBindings:n.styleBindings)]=c}(t,n,c,P))}else f=function Yb(t,n,i){let c;const d=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<d;f++)c=nv(c,t[f].hostAttrs,i);return nv(c,n.attrs,i)}(t,n,c)}return void 0!==f&&(c?n.residualClasses=f:n.residualStyles=f),i}(d,f,n,c),function Fb(t,n,i,c,d,f){let C=f?n.classBindings:n.styleBindings,T=mp(C),P=Lg(C);t[c]=i;let te,$=!1;if(Array.isArray(i)?(te=i[1],(null===te||Mu(i,te)>0)&&($=!0)):te=i,d)if(0!==P){const qe=mp(t[T+1]);t[c+1]=ny(qe,T),0!==qe&&(t[qe+1]=Ry(t[qe+1],c)),t[T+1]=function Nb(t,n){return 131071&t|n<<17}(t[T+1],c)}else t[c+1]=ny(T,0),0!==T&&(t[T+1]=Ry(t[T+1],c)),T=c;else t[c+1]=ny(P,0),0===T?T=c:t[P+1]=Ry(t[P+1],c),P=c;$&&(t[c+1]=Py(t[c+1])),O0(t,te,c,!0),O0(t,te,c,!1),function Vb(t,n,i,c,d){const f=d?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Mu(f,n)>=0&&(i[c+1]=My(i[c+1]))}(n,te,t,c,f),C=ny(T,P),f?n.classBindings=C:n.styleBindings=C}(d,f,n,i,C,c)}}function ky(t,n,i,c,d){let f=null;const C=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<C&&(f=n[T],c=nv(c,f.hostAttrs,d),f!==t);)T++;return null!==t&&(i.directiveStylingLast=T),c}function nv(t,n,i){const c=i?1:2;let d=-1;if(null!==n)for(let f=0;f<n.length;f++){const C=n[f];"number"==typeof C?d=C:d===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$s(t,C,!!i||n[++f]))}return void 0===t?null:t}function Qb(t,n,i){const c=String(n);""!==c&&!c.includes(" ")&&$s(t,c,i)}function G0(t,n,i,c,d,f,C,T){if(!(3&n.type))return;const P=t.data,$=P[T+1],te=function kb(t){return 1==(1&t)}($)?z0(P,n,i,d,Lg($),C):void 0;ry(te)||(ry(f)||function Ob(t){return 2==(2&t)}($)&&(f=z0(P,null,i,d,T,C)),function a_(t,n,i,c,d){if(n)d?t.addClass(i,c):t.removeClass(i,c);else{let f=-1===c.indexOf("-")?void 0:hl.DashCase;null==d?t.removeStyle(i,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=hl.Important),t.setStyle(i,c,d,f))}}(c,C,Ts(Ar(),i),d,f))}function z0(t,n,i,c,d,f){const C=null===n;let T;for(;d>0;){const P=t[d],$=Array.isArray(P),te=$?P[1]:P,_e=null===te;let qe=i[d+1];qe===l&&(qe=_e?Ce:void 0);let it=_e?Ql(qe,c):te===c?qe:void 0;if($&&!ry(it)&&(it=Ql(P,c)),ry(it)&&(T=it,C))return T;const kt=t[d+1];d=C?mp(kt):Lg(kt)}if(null!==n){let P=f?n.residualClasses:n.residualStyles;null!=P&&(T=Ql(P,c))}return T}function ry(t){return void 0!==t}function W0(t,n){return 0!=(t.flags&(n?8:16))}function K0(t,n=""){const i=$t(),c=At(),d=t+Rn,f=c.firstCreatePass?ge(c,d,1,n,null):c.data[d],C=q0(c,i,f,n,t);i[d]=C,Tu()&&iu(c,i,C,f),Xo(f,!1)}let q0=(t,n,i,c,d)=>(rc(!0),function fd(t,n){return t.createText(n)}(n[Wn],c));function Fy(t){return iy("",t,""),Fy}function iy(t,n,i){const c=$t(),d=no(c,t,n,i);return d!==l&&Ga(c,Ar(),d),iy}function Vy(t,n,i,c,d){const f=$t(),C=co(f,t,n,i,c,d);return C!==l&&Ga(f,Ar(),C),Vy}const Ug=void 0;var CI=["en",[["a","p"],["AM","PM"],Ug],[["AM","PM"],Ug,Ug],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ug,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ug,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ug,"{1} 'at' {0}",Ug],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EI(t){const i=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===c?1:5}];let Ym={};function Ly(t){const n=function bI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=pE(n);if(i)return i;const c=n.split("-")[0];if(i=pE(c),i)return i;if("en"===c)return CI;throw new We(701,!1)}function fE(t){return Ly(t)[Xm.PluralCase]}function pE(t){return t in Ym||(Ym[t]=$n.ng&&$n.ng.common&&$n.ng.common.locales&&$n.ng.common.locales[t]),Ym[t]}var Xm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Xm||{});const Qm="en-US";let gE=Qm;function By(t,n,i,c,d){if(t=Ct(t),Array.isArray(t))for(let f=0;f<t.length;f++)By(t[f],n,i,c,d);else{const f=At(),C=$t(),T=Ao();let P=Tl(t)?t:Ct(t.provide);const $=Dh(t),te=1048575&T.providerIndexes,_e=T.directiveStart,qe=T.providerIndexes>>20;if(Tl(t)||!t.multi){const it=new Uc($,d,D),kt=Hy(P,n,d?te:te+qe,_e);-1===kt?(Bs(sl(T,C),f,P),$y(f,t,n.length),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(it),C.push(it)):(i[kt]=it,C[kt]=it)}else{const it=Hy(P,n,te+qe,_e),kt=Hy(P,n,te,te+qe),xn=kt>=0&&i[kt];if(d&&!xn||!d&&!(it>=0&&i[it])){Bs(sl(T,C),f,P);const tr=function ET(t,n,i,c,d){const f=new Uc(t,i,D);return f.multi=[],f.index=n,f.componentProviders=0,jE(f,d,c&&!i),f}(d?yT:vT,i.length,d,c,$);!d&&xn&&(i[kt].providerFactory=tr),$y(f,t,n.length,0),n.push(P),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),i.push(tr),C.push(tr)}else $y(f,t,it>-1?it:kt,jE(i[d?kt:it],$,!d&&c));!d&&c&&xn&&i[kt].componentProviders++}}}function $y(t,n,i,c){const d=Tl(n),f=function Gi(t){return!!t.useClass}(n);if(d||f){const P=(f?Ct(n.useClass):n).prototype.ngOnDestroy;if(P){const $=t.destroyHooks||(t.destroyHooks=[]);if(!d&&n.multi){const te=$.indexOf(i);-1===te?$.push(i,[c,P]):$[te+1].push(c,P)}else $.push(i,P)}}}function jE(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Hy(t,n,i,c){for(let d=i;d<c;d++)if(n[d]===t)return d;return-1}function vT(t,n,i,c){return Gy(this.multi,[])}function yT(t,n,i,c){const d=this.multi;let f;if(this.providerFactory){const C=this.providerFactory.componentProviders,T=na(i,i[Zt],this.providerFactory.index,c);f=T.slice(0,C),Gy(d,f);for(let P=C;P<T.length;P++)f.push(T[P])}else f=[],Gy(d,f);return f}function Gy(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function BE(t,n=[]){return i=>{i.providersResolver=(c,d)=>function _T(t,n,i){const c=At();if(c.firstCreatePass){const d=po(t);By(i,c.data,c.blueprint,d,!0),By(n,c.data,c.blueprint,d,!1)}}(c,d?d(t):t,n)}}class jg{}class $E{}function CT(t,n){return new zy(t,n??null,[])}class zy extends jg{constructor(n,i,c){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fm(this);const d=Hr(n);this._bootstrapComponents=du(d.bootstrap),this._r3Injector=N_(n,i,[{provide:jg,useValue:this},{provide:lg,useValue:this.componentFactoryResolver},...c],me(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Wy extends $E{constructor(n){super(),this.moduleType=n}create(n){return new zy(this.moduleType,n,[])}}class HE extends jg{constructor(n){super(),this.componentFactoryResolver=new Fm(this),this.instance=null;const i=new Ic([...n.providers,{provide:jg,useValue:this},{provide:lg,useValue:this.componentFactoryResolver}],n.parent||Id(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function GE(t,n,i=null){return new HE({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let IT=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=$a(0,i.type),d=c.length>0?GE([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,d)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=In({token:t,providedIn:"environment",factory:()=>new t(Ot(bc))})}return t})();function zE(t){t.getStandaloneInjector=n=>n.get(IT).getOrCreateStandaloneInjector(t)}function JE(t,n,i){const c=Qo()+t,d=$t();return d[c]===l?jr(d,c,i?n.call(i):n()):ji(d,c)}function ZE(t,n,i,c){return nC($t(),Qo(),t,n,i,c)}function eC(t,n,i,c,d){return function rC(t,n,i,c,d,f,C){const T=n+i;return Er(t,T,d,f)?jr(t,T+2,C?c.call(C,d,f):c(d,f)):cv(t,T+2)}($t(),Qo(),t,n,i,c,d)}function tC(t,n,i,c,d,f,C,T,P){const $=Qo()+t,te=$t(),_e=function _r(t,n,i,c,d,f){const C=Er(t,n,i,c);return Er(t,n+2,d,f)||C}(te,$,i,c,d,f);return Er(te,$+4,C,T)||_e?jr(te,$+6,P?n.call(P,i,c,d,f,C,T):n(i,c,d,f,C,T)):ji(te,$+6)}function cv(t,n){const i=t[n];return i===l?void 0:i}function nC(t,n,i,c,d,f){const C=n+i;return sr(t,C,d)?jr(t,C+1,f?c.call(f,d):c(d)):cv(t,C+1)}function iC(t,n,i,c,d,f,C,T){const P=n+i;return function vi(t,n,i,c,d){const f=Er(t,n,i,c);return sr(t,n+2,d)||f}(t,P,d,f,C)?jr(t,P+3,T?c.call(T,d,f,C):c(d,f,C)):cv(t,P+3)}function aC(t,n){const i=At();let c;const d=t+Rn;i.firstCreatePass?(c=function LT(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}}(n,i.pipeRegistry),i.data[d]=c,c.onDestroy&&(i.destroyHooks??=[]).push(d,c.onDestroy)):c=i.data[d];const f=c.factory||(c.factory=jo(c.type)),T=pr(D);try{const P=ha(!1),$=f();return ha(P),function Jv(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,$t(),d,$),$}finally{pr(T)}}function cC(t,n,i){const c=t+Rn,d=$t(),f=hs(d,c);return uv(d,c)?nC(d,Qo(),n,f.transform,i,f):f.transform(i)}function uC(t,n,i,c,d){const f=t+Rn,C=$t(),T=hs(C,f);return uv(C,f)?iC(C,Qo(),n,T.transform,i,c,d,T):T.transform(i,c,d)}function uv(t,n){return t[Zt].data[n].pure}function $T(){return this._results[Symbol.iterator]()}class qy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new lu)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=qy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=$T)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const d=function Po(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jd(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let d=t[c],f=n[c];if(i&&(d=i(d),f=i(f)),f!==d)return!1}return!0}(c._results,d,i))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GT(t,n,i,c=!0){const d=n[Zt];if(function o_(t,n,i,c){const d=ir+c,f=i.length;c>0&&(i[d-1][Ui]=n),c<f-ir?(n[Ui]=i[d],Pu(i,ir+c,n)):(i.push(n),n[Ui]=null),n[dr]=i;const C=n[ye];null!==C&&i!==C&&function s_(t,n){const i=t[Yi];n[z]!==n[dr][dr][z]&&(t[Jr]=!0),null===i?t[Yi]=[n]:i.push(n)}(C,n);const T=n[Ye];null!==T&&T.insertView(t),n[Un]|=128}(d,n,t,i),c){const f=_h(i,t),C=n[Wn],T=Lp(C,t[ii]);null!==T&&function Xg(t,n,i,c,d,f){c[Or]=d,c[fi]=n,vl(t,c,i,1,d,f)}(d,t[fi],C,n,T,f)}}let lv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KT}return t})();const zT=lv,WT=class extends zT{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,c){const d=function HT(t,n,i,c){const d=n.tView,T=re(t,d,i,4096&t[Un]?4096:16,null,n,null,null,null,c?.injector??null,c?.hydrationInfo??null);T[ye]=t[n.index];const $=t[Ye];return null!==$&&(T[Ye]=$.createEmbeddedView(d)),Tg(d,T,i),T}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:c});return new Gh(d)}};function KT(){return uy(Ao(),$t())}function uy(t,n){return 4&t.type?new WT(n,t,kh(t,n)):null}let dy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZT}return t})();function ZT(){return mC(Ao(),$t())}const ew=dy,pC=class extends ew{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return kh(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Au(this._hostTNode,this._hostLView);if(Bc(n)){const i=js(n,this._hostLView),c=il(n);return new Wo(i[Zt].data[c+8],i)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=gC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ir}createEmbeddedView(n,i,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const T=n.createEmbeddedViewImpl(i||{},f,null);return this.insertImpl(T,d,false),T}createComponent(n,i,c,d,f){const C=n&&!function lc(t){return"function"==typeof t}(n);let T;if(C)T=i;else{const rn=i||{};T=rn.index,c=rn.injector,d=rn.projectableNodes,f=rn.environmentInjector||rn.ngModuleRef}const P=C?n:new Ku(Yn(n)),$=c||this.parentInjector;if(!f&&null==P.ngModule){const xn=(C?$:this.parentInjector).get(bc,null);xn&&(f=xn)}Yn(P.componentType??{});const it=P.create($,d,null,f);return this.insertImpl(it.hostView,T,false),it}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,c){const d=n._lView;if(function Yo(t){return gr(t[dr])}(d)){const P=this.indexOf(n);if(-1!==P)this.detach(P);else{const $=d[dr],te=new pC($,$[fi],$[dr]);te.detach(te.indexOf(n))}}const C=this._adjustIndex(i),T=this._lContainer;return GT(T,d,C,!c),n.attachToViewContainerRef(),Pu(Yy(T),C,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=gC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=yf(this._lContainer,i);c&&(Xl(Yy(this._lContainer),i),ph(c[Zt],c))}detach(n){const i=this._adjustIndex(n,-1),c=yf(this._lContainer,i);return c&&null!=Xl(Yy(this._lContainer),i)?new Gh(c):null}_adjustIndex(n,i=0){return n??this.length+i}};function gC(t){return t[8]}function Yy(t){return t[8]||(t[8]=[])}function mC(t,n){let i;const c=n[t.index];return gr(c)?i=c:(i=Pm(c,n,null,t),n[t.index]=i,Bh(n,i)),_C(i,n,t,c),new pC(i,t,n)}let _C=function vC(t,n,i,c){if(t[ii])return;let d;d=8&i.type?Qr(c):function tw(t,n){const i=t[Wn],c=i.createComment(""),d=Qi(n,t);return ru(i,Lp(i,d),c,function mh(t,n){return t.nextSibling(n)}(i,d),!1),c}(n,i),t[ii]=d};class Xy{constructor(n){this.queryList=n,this.matches=null}clone(){return new Xy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,d=[];for(let f=0;f<c;f++){const C=i.getByIndex(f);d.push(this.queries[C.indexInDeclarationView].clone())}return new Qy(d)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DC(n,i).matches&&this.queries[i].setDirty()}}class yC{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class Jy{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const d=null!==i?i.length:0,f=this.getByIndex(c).embeddedTView(n,d);f&&(f.indexInDeclarationView=c,null!==i?i.push(f):i=[f])}return null!==i?new Jy(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Zy{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Zy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(n,i,iw(i,f)),this.matchTNodeWithReadOption(n,i,$c(i,n,f,!1,!1))}else c===lv?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,$c(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Xf||d===dy||d===lv&&4&i.type)this.addMatch(i.index,-2);else{const f=$c(i,n,d,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function iw(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function sw(t,n,i,c){return-1===i?function ow(t,n){return 11&t.type?kh(t,n):4&t.type?uy(t,n):null}(n,t):-2===i?function aw(t,n,i){return i===Xf?kh(n,t):i===lv?uy(n,t):i===dy?mC(n,t):void 0}(t,n,c):na(t,t[Zt],i,n)}function EC(t,n,i,c){const d=n[Ye].queries[c];if(null===d.matches){const f=t.data,C=i.matches,T=[];for(let P=0;P<C.length;P+=2){const $=C[P];T.push($<0?null:sw(n,f[$],C[P+1],i.metadata.read))}d.matches=T}return d.matches}function e0(t,n,i,c){const d=t.queries.getByIndex(i),f=d.matches;if(null!==f){const C=EC(t,n,d,i);for(let T=0;T<f.length;T+=2){const P=f[T];if(P>0)c.push(C[T/2]);else{const $=f[T+1],te=n[-P];for(let _e=ir;_e<te.length;_e++){const qe=te[_e];qe[ye]===qe[dr]&&e0(qe[Zt],qe,$,c)}if(null!==te[Yi]){const _e=te[Yi];for(let qe=0;qe<_e.length;qe++){const it=_e[qe];e0(it[Zt],it,$,c)}}}}}return c}function CC(t){const n=$t(),i=At(),c=ea();w(c+1);const d=DC(i,c);if(t.dirty&&function Qa(t){return 4==(4&t[Un])}(n)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const f=d.crossesNgTemplate?e0(i,n,c,[]):EC(i,n,d,c);t.reset(f,hg),t.notifyOnChanges()}return!0}return!1}function bC(t,n,i){const c=At();c.firstCreatePass&&(AC(c,new yC(t,n,i),-1),2==(2&n)&&(c.staticViewQueries=!0)),wC(c,$t(),n)}function IC(t,n,i,c){const d=At();if(d.firstCreatePass){const f=Ao();AC(d,new yC(n,i,c),f.index),function uw(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(d,t),2==(2&i)&&(d.staticContentQueries=!0)}wC(d,$t(),i)}function TC(){return function cw(t,n){return t[Ye].queries[n].queryList}($t(),ea())}function wC(t,n,i){const c=new qy(4==(4&i));(function nt(t,n,i,c){const d=Cg(n);d.push(i),t.firstCreatePass&&bg(t).push(c,d.length-1)})(t,n,c,c.destroy),null===n[Ye]&&(n[Ye]=new Qy),n[Ye].queries.push(new Xy(c))}function AC(t,n,i){null===t.queries&&(t.queries=new Jy),t.queries.track(new Zy(n,i))}function DC(t,n){return t.queries.getByIndex(n)}function xC(t,n){return uy(t,n)}function t0(t){return!!Hr(t)}const zC=new un("Application Initializer");let a0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c}),this.appInits=nn(zC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const d of this.appInits){const f=d();if(vs(f))i.push(f);else if(Oi(f)){const C=new Promise((T,P)=>{f.subscribe({complete:T,error:P})});i.push(C)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(d=>{this.reject(d)}),0===i.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WC=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const fy=new un("LocaleId",{providedIn:"root",factory:()=>nn(fy,_n.Optional|_n.SkipSelf)||function Pw(){return typeof $localize<"u"&&$localize.locale||Qm}()}),Rw=new un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let KC=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Ow{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let Nw=(()=>{class t{compileModuleSync(i){return new Wy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),f=du(Hr(i).declarations).reduce((C,T)=>{const P=Yn(T);return P&&C.push(new Ku(P)),C},[]);return new Ow(c,f)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const QC=new un(""),JC=new un("");let l0,nA=(()=>{class t{constructor(i,c,d){this._ngZone=i,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,l0||(function rA(t){l0=t}(d),d.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==f),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:d})}whenStable(i,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(Ot(Mo),Ot(ZC),Ot(JC))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),ZC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return l0?.findTestabilityInTree(this,i,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),_p=null;const eb=new un("AllowMultipleToken"),d0=new un("PlatformDestroyListeners"),h0=new un("appBootstrapListener");class sA{constructor(n,i){this.name=n,this.token=i}}function rb(t,n,i=[]){const c=`Platform: ${n}`,d=new un(c);return(f=[])=>{let C=f0();if(!C||C.injector.get(eb,!1)){const T=[...i,...f,{provide:d,useValue:!0}];t?t(T):function aA(t){if(_p&&!_p.get(eb,!1))throw new We(400,!1);(function tb(){!function Ju(t){Js=t}(()=>{throw new We(600,!1)})})(),_p=t;const n=t.get(ob);(function nb(t){t.get(au,null)?.forEach(i=>i())})(t)}(function ib(t=[],n){return Tc.create({name:n,providers:[{provide:um,useValue:"platform"},{provide:d0,useValue:new Set([()=>_p=null])},...t]})}(T,c))}return function uA(t){const n=f0();if(!n)throw new We(401,!1);return n}()}}function f0(){return _p?.get(ob)??null}let ob=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const d=function lA(t="zone.js",n){return"noop"===t?new Iy:"zone.js"===t?new Mo(n):t}(c?.ngZone,function sb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function bT(t,n,i){return new zy(t,n,i)}(i.moduleType,this.injector,function db(t){return[{provide:Mo,useFactory:t},{provide:Cd,multi:!0,useFactory:()=>{const n=nn(hA,{optional:!0});return()=>n.initialize()}},{provide:lb,useFactory:dA},{provide:Dv,useFactory:xv}]}(()=>d)),C=f.injector.get(Pl,null);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:P=>{C.handleError(P)}});f.onDestroy(()=>{gy(this._modules,f),T.unsubscribe()})}),function ab(t,n,i){try{const c=i();return vs(c)?c.catch(d=>{throw n.runOutsideAngular(()=>t.handleError(d)),d}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(C,d,()=>{const T=f.injector.get(a0);return T.runInitializers(),T.donePromise.then(()=>(function mE(t){Tt(t,"Expected localeId to be defined"),"string"==typeof t&&(gE=t.toLowerCase().replace(/_/g,"-"))}(f.injector.get(fy,Qm)||Qm),this._moduleDoBootstrap(f),f))})})}bootstrapModule(i,c=[]){const d=cb({},c);return function iA(t,n,i){const c=new Wy(i);return Promise.resolve(c)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(i){const c=i.injector.get(e_);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!i.instance.ngDoBootstrap)throw new We(-403,!1);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const i=this._injector.get(d0,null);i&&(i.forEach(c=>c()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(Ot(Tc))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function cb(t,n){return Array.isArray(n)?n.reduce(cb,t):{...t,...n}}let e_=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nn(lb),this.zoneIsStable=nn(Dv),this.componentTypes=[],this.components=[],this.isStable=nn(KC).hasPendingTasks.pipe((0,Le.n)(i=>i?(0,De.of)(!1):this.zoneIsStable),(0,Be.F)(),(0,Ne.u)()),this._injector=nn(bc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,c){const d=i instanceof _v;if(!this._injector.get(a0).done)throw!d&&fo(i),new We(405,!1);let C;C=d?i:this._injector.get(lg).resolveComponentFactory(i),this.componentTypes.push(C.componentType);const T=function oA(t){return t.isBoundToModule}(C)?void 0:this._injector.get(jg),$=C.create(Tc.NULL,[],c||C.selector,T),te=$.location.nativeElement,_e=$.injector.get(QC,null);return _e?.registerApplication(te),$.onDestroy(()=>{this.detachView($.hostView),gy(this.components,$),_e?.unregisterApplication(te)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new We(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;gy(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const c=this._injector.get(h0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>gy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new We(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gy(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const lb=new un("",{providedIn:"root",factory:()=>nn(Pl).handleError.bind(void 0)});function dA(){const t=nn(Mo),n=nn(Pl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let hA=(()=>{class t{constructor(){this.zone=nn(Mo),this.applicationRef=nn(e_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(){return!1}let gA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=mA}return t})();function mA(t){return function _A(t,n,i){if(Ai(t)&&!i){const c=bi(t.index,n);return new Gh(c,c)}return 47&t.type?new Gh(n[z],n):null}(Ao(),$t(),16==(16&t))}class mb{constructor(){}supports(n){return Zn(n)}create(n){return new bA(n)}}const CA=(t,n)=>n;class bA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||CA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,d=0,f=null;for(;i||c;){const C=!c||i&&i.currentIndex<vb(c,d,f)?i:c,T=vb(C,d,f),P=C.currentIndex;if(C===c)d--,c=c._nextRemoved;else if(i=i._next,null==C.previousIndex)d++;else{f||(f=[]);const $=T-d,te=P-d;if($!=te){for(let qe=0;qe<$;qe++){const it=qe<f.length?f[qe]:f[qe]=0,kt=it+qe;te<=kt&&kt<$&&(f[qe]=it+1)}f[C.previousIndex]=te-$}}T!==P&&n(C,T,P)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Zn(n))throw new We(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let d,f,C,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)f=n[T],C=this._trackByFn(T,f),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,f,C,T)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,C,T),c=!0),i=i._next}else d=0,function _i(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,T=>{C=this._trackByFn(d,T),null!==i&&Object.is(i.trackById,C)?(c&&(i=this._verifyReinsertion(i,T,C,d)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,C,d),c=!0),i=i._next,d++}),this.length=d;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,d){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,d)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,d)):n=this._addAfter(new IA(i,c),f,d),n}_verifyReinsertion(n,i,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?n=this._reinsertAfter(f,n._prev,d):n.currentIndex!=d&&(n.currentIndex=d,this._addToMoves(n,d)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const d=n._prevRemoved,f=n._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const d=null===i?this._itHead:i._next;return n._next=d,n._prev=i,null===d?this._itTail=n:d._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new _b),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _b),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class _b{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new TA,this.map.set(i,c)),c.add(n)}get(n,i){const d=this.map.get(n);return d?d.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vb(t,n,i){const c=t.previousIndex;if(null===c)return c;let d=0;return i&&c<i.length&&(d=i[c]),c+n+d}class yb{constructor(){}supports(n){return n instanceof Map||Ln(n)}create(){return new wA}}class wA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Ln(n)))throw new We(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,d)=>{if(i&&i.key===d)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(d,c);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const d=this._records.get(n);this._maybeAddToChanges(d,i);const f=d._prev,C=d._next;return f&&(f._next=C),C&&(C._prev=f),d._next=null,d._prev=null,d}const c=new AA(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class AA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Eb(){return new v0([new mb])}let v0=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:Eb});constructor(i){this.factories=i}static create(i,c){if(null!=c){const d=c.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||Eb()),deps:[[t,new pc,new fc]]}}find(i){const c=this.factories.find(d=>d.supports(i));if(null!=c)return c;throw new We(901,!1)}}return t})();function Cb(){return new y0([new yb])}let y0=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:Cb});constructor(i){this.factories=i}static create(i,c){if(c){const d=c.factories.slice();i=i.concat(d)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||Cb()),deps:[[t,new pc,new fc]]}}find(i){const c=this.factories.find(d=>d.supports(i));if(c)return c;throw new We(901,!1)}}return t})();const SA=rb(null,"core",[]);let PA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(c){return new(c||t)(Ot(e_))};static#t=this.\u0275mod=Co({type:t});static#n=this.\u0275inj=Gt({})}return t})();function BA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function HA(t){const n=Yn(t);if(!n)return null;const i=new Ku(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(on,Je,L)=>{L.d(Je,{DS:()=>Bt,X8:()=>qt,$z:()=>Jt,UB:()=>nr,yy:()=>Ft,ZP:()=>be,AU:()=>dn,CP:()=>wt,gF:()=>Pt}),L(2438);var ae=L(177),o=L(7705),Ae=L(5407),he=L(9253),De=L(1413),Ne=L(7673),Le=L(1985),Be=L(8455),Z=L(7786),ce=L(941),me=L(5558),at=L(6354),Xe=L(6129);class bt extends De.B{constructor(Me=1/0,le=1/0,Fe=Xe.U){super(),this._bufferSize=Me,this._windowTime=le,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=le===1/0,this._bufferSize=Math.max(1,Me),this._windowTime=Math.max(1,le)}next(Me){const{isStopped:le,_buffer:Fe,_infiniteTimeWindow:Qe,_timestampProvider:xe,_windowTime:Se}=this;le||(Fe.push(Me),!Qe&&Fe.push(xe.now()+Se)),this._trimBuffer(),super.next(Me)}_subscribe(Me){this._throwIfClosed(),this._trimBuffer();const le=this._innerSubscribe(Me),{_infiniteTimeWindow:Fe,_buffer:Qe}=this,xe=Qe.slice();for(let Se=0;Se<xe.length&&!Me.closed;Se+=Fe?1:2)Me.next(xe[Se]);return this._checkFinalizedStatuses(Me),le}_trimBuffer(){const{_bufferSize:Me,_timestampProvider:le,_buffer:Fe,_infiniteTimeWindow:Qe}=this,xe=(Qe?1:2)*Me;if(Me<1/0&&xe<Fe.length&&Fe.splice(0,Fe.length-xe),!Qe){const Se=le.now();let Ge=0;for(let Tt=1;Tt<Fe.length&&Fe[Tt]<=Se;Tt+=2)Ge=Tt;Ge&&Fe.splice(0,Ge+1)}}}var Ct=L(7647);function jt(ct,Me,le){let Fe,Qe=!1;return ct&&"object"==typeof ct?({bufferSize:Fe=1/0,windowTime:Me=1/0,refCount:Qe=!1,scheduler:le}=ct):Fe=ct??1/0,(0,Ct.u)({connector:()=>new bt(Fe,Me,le),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Qe})}var Mt=L(1594),cn=L(8071);function et(ct,Me){return(0,cn.T)(Me)?(0,me.n)(()=>ct,Me):(0,me.n)(()=>ct)}var We=L(6745),ot=L(5964),Ze=L(7935);const wt=new o.nKC("angularfire2.auth.use-emulator"),Ft=new o.nKC("angularfire2.auth.settings"),be=new o.nKC("angularfire2.auth.tenant-id"),Jt=new o.nKC("angularfire2.auth.langugage-code"),dn=new o.nKC("angularfire2.auth.use-device-language"),nr=new o.nKC("angularfire.auth.persistence"),Pt=(ct,Me,le,Fe,Qe,xe,Se,Ge)=>(0,he.BM)(`${ct.name}.auth`,"AngularFireAuth",ct.name,()=>{const Tt=Me.runOutsideAngular(()=>ct.auth());if(le&&Tt.useEmulator(...le),Fe&&(Tt.tenantId=Fe),Tt.languageCode=Qe,xe&&Tt.useDeviceLanguage(),Se)for(const[xt,hn]of Object.entries(Se))Tt.settings[xt]=hn;return Ge&&Tt.setPersistence(Ge),Tt},[le,Fe,Qe,xe,Se,Ge]);let Bt=(()=>{class ct{authState;idToken;user;idTokenResult;credential;constructor(le,Fe,Qe,xe,Se,Ge,Tt,xt,hn,sn,Fn,In){const fr=new De.B,Gt=(0,Ne.of)(void 0).pipe((0,ce.Q)(Se.outsideAngular),(0,me.n)(()=>xe.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,at.T)(()=>(0,he.iB)(le,xe,Fe)),(0,at.T)(wn=>Pt(wn,xe,Ge,xt,hn,sn,Tt,Fn)),jt({bufferSize:1,refCount:!1}));if((0,ae.Vy)(Qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ne.of)(null);else{Gt.pipe((0,Mt.$)()).subscribe();const wn=Gt.pipe((0,me.n)(Vt=>Vt.getRedirectResult().then(Br=>Br,()=>null)),Ae.U0,jt({bufferSize:1,refCount:!1})),Bn=Gt.pipe((0,me.n)(Vt=>new Le.c(Br=>({unsubscribe:xe.runOutsideAngular(()=>Vt.onAuthStateChanged(fn=>Br.next(fn),fn=>Br.error(fn),()=>Br.complete()))})))),Wt=Gt.pipe((0,me.n)(Vt=>new Le.c(Br=>({unsubscribe:xe.runOutsideAngular(()=>Vt.onIdTokenChanged(fn=>Br.next(fn),fn=>Br.error(fn),()=>Br.complete()))}))));this.authState=wn.pipe(et(Bn),(0,We._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.user=wn.pipe(et(Wt),(0,We._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular)),this.idToken=this.user.pipe((0,me.n)(Vt=>Vt?(0,Be.H)(Vt.getIdToken()):(0,Ne.of)(null))),this.idTokenResult=this.user.pipe((0,me.n)(Vt=>Vt?(0,Be.H)(Vt.getIdTokenResult()):(0,Ne.of)(null))),this.credential=(0,Z.h)(wn,fr,this.authState.pipe((0,ot.p)(Vt=>!Vt))).pipe((0,at.T)(Vt=>Vt?.user?Vt:null),(0,We._)(Se.outsideAngular),(0,ce.Q)(Se.insideAngular))}return(0,he.Gt)(this,Gt,xe,{spy:{apply:(wn,Bn,Wt)=>{(wn.startsWith("signIn")||wn.startsWith("createUser"))&&Wt.then(Vt=>fr.next(Vt))}}})}static \u0275fac=function(Fe){return new(Fe||ct)(o.KVO(he.rx),o.KVO(he.uP,8),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(Ae.u0),o.KVO(wt,8),o.KVO(Ft,8),o.KVO(be,8),o.KVO(Jt,8),o.KVO(dn,8),o.KVO(nr,8),o.KVO(Ae.Jv,8))};static \u0275prov=o.jDH({token:ct,factory:ct.\u0275fac,providedIn:"any"})}return ct})(),qt=(()=>{class ct{constructor(){Ze.A.registerVersion("angularfire",Ae.xv.full,"auth-compat")}static \u0275fac=function(Fe){return new(Fe||ct)};static \u0275mod=o.$C({type:ct});static \u0275inj=o.G2t({providers:[Bt]})}return ct})()},6340:(on,Je,L)=>{L.d(Je,{Qe:()=>yi,cM:()=>Ke});var a=L(177),ae=L(7705),o=L(5407),Ae=L(9253),he=L(1977),De=L(3236),Ne=L(1985),Le=L(8455),Be=L(7673),Z=L(9172),ce=L(9974),me=L(4360);function at(){return(0,ce.N)((mt,ie)=>{let Ie,ft=!1;mt.subscribe((0,me._)(ie,Kt=>{const Mn=Ie;Ie=Kt,ft&&ie.next([Mn,Kt]),ft=!0}))})}var Xe=L(6354),bt=L(2816),Ct=L(3294),jt=L(5964),cn=(L(2438),L(3345)),et=L(9583),We=L(1076),ot=L(1362);function wt(mt,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new et.W6("invalid-argument",`Invalid options passed to function ${mt}(): You cannot specify both "merge" and "mergeFields".`);return ie}function Ft(){if(typeof Uint8Array>"u")throw new et.W6("unimplemented","Uint8Arrays are not available in this environment.")}function be(){if(!(0,et.qG)())throw new et.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Jt{constructor(ie){this._delegate=ie}static fromBase64String(ie){return be(),new Jt(et.Ix.fromBase64String(ie))}static fromUint8Array(ie){return Ft(),new Jt(et.Ix.fromUint8Array(ie))}toBase64(){return be(),this._delegate.toBase64()}toUint8Array(){return Ft(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dn(mt){return function nr(mt,ie){if("object"!=typeof mt||null===mt)return!1;const Ie=mt;for(const ft of ie)if(ft in Ie&&"function"==typeof Ie[ft])return!0;return!1}(mt,["next","error","complete"])}class Pt{enableIndexedDbPersistence(ie,Ie){return(0,et.ol)(ie._delegate,{forceOwnership:Ie})}enableMultiTabIndexedDbPersistence(ie){return(0,et.Q5)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,et.me)(ie._delegate)}}class Bt{constructor(ie,Ie,ft){this._delegate=Ie,this._persistenceProvider=ft,this.INTERNAL={delete:()=>this.terminate()},ie instanceof et.cm||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const Ie=this._delegate._getSettings();!ie.merge&&Ie.host!==ie.host&&(0,et.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},Ie),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,Ie,ft={}){(0,et.vN)(this._delegate,ie,Ie,ft)}enableNetwork(){return(0,et.Os)(this._delegate)}disableNetwork(){return(0,et.LA)(this._delegate)}enablePersistence(ie){let Ie=!1,ft=!1;return ie&&(Ie=!!ie.synchronizeTabs,ft=!!ie.experimentalForceOwningTab,(0,et.c8)("synchronizeTabs",Ie,"experimentalForceOwningTab",ft)),Ie?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,ft)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,et.iB)(this._delegate)}onSnapshotsInSync(ie){return(0,et.FC)(this._delegate,ie)}get app(){if(!this._appCompat)throw new et.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new In(this,(0,et.rJ)(this._delegate,ie))}catch(Ie){throw xe(Ie,"collection()","Firestore.collection()")}}doc(ie){try{return new Qe(this,(0,et.H9)(this._delegate,ie))}catch(Ie){throw xe(Ie,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new hn(this,(0,et.Cs)(this._delegate,ie))}catch(Ie){throw xe(Ie,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,et.c4)(this._delegate,Ie=>ie(new Me(this,Ie)))}batch(){return(0,et.Ws)(this._delegate),new le(new et.GA(this._delegate,ie=>(0,et.z6)(this._delegate,ie)))}loadBundle(ie){return(0,et.po)(this._delegate,ie)}namedQuery(ie){return(0,et.St)(this._delegate,ie).then(Ie=>Ie?new hn(this,Ie):null)}}class qt extends et.fS{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new Jt(new et.Ix(ie))}convertReference(ie){const Ie=this.convertDocumentKey(ie,this.firestore._databaseId);return Qe.forKey(Ie,this.firestore,null)}}class Me{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}get(ie){const Ie=fr(ie);return this._delegate.get(Ie).then(ft=>new Tt(this._firestore,new et.Wq(this._firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,Ie.converter)))}set(ie,Ie,ft){const Kt=fr(ie);return ft?(wt("Transaction.set",ft),this._delegate.set(Kt,Ie,ft)):this._delegate.set(Kt,Ie),this}update(ie,Ie,ft,...Kt){const Mn=fr(ie);return 2===arguments.length?this._delegate.update(Mn,Ie):this._delegate.update(Mn,Ie,ft,...Kt),this}delete(ie){const Ie=fr(ie);return this._delegate.delete(Ie),this}}class le{constructor(ie){this._delegate=ie}set(ie,Ie,ft){const Kt=fr(ie);return ft?(wt("WriteBatch.set",ft),this._delegate.set(Kt,Ie,ft)):this._delegate.set(Kt,Ie),this}update(ie,Ie,ft,...Kt){const Mn=fr(ie);return 2===arguments.length?this._delegate.update(Mn,Ie):this._delegate.update(Mn,Ie,ft,...Kt),this}delete(ie){const Ie=fr(ie);return this._delegate.delete(Ie),this}commit(){return this._delegate.commit()}}class Fe{constructor(ie,Ie,ft){this._firestore=ie,this._userDataWriter=Ie,this._delegate=ft}fromFirestore(ie,Ie){const ft=new et.YQ(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new xt(this._firestore,ft),Ie??{})}toFirestore(ie,Ie){return Ie?this._delegate.toFirestore(ie,Ie):this._delegate.toFirestore(ie)}static getInstance(ie,Ie){const ft=Fe.INSTANCES;let Kt=ft.get(ie);Kt||(Kt=new WeakMap,ft.set(ie,Kt));let Mn=Kt.get(Ie);return Mn||(Mn=new Fe(ie,new qt(ie),Ie),Kt.set(Ie,Mn)),Mn}}Fe.INSTANCES=new WeakMap;class Qe{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}static forPath(ie,Ie,ft){if(ie.length%2!=0)throw new et.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new Qe(Ie,new et.T1(Ie._delegate,ft,new et.K$(ie)))}static forKey(ie,Ie,ft){return new Qe(Ie,new et.T1(Ie._delegate,ft,ie))}get id(){return this._delegate.id}get parent(){return new In(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new In(this.firestore,(0,et.rJ)(this._delegate,ie))}catch(Ie){throw xe(Ie,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,We.Ku)(ie))instanceof et.T1&&(0,et.yx)(this._delegate,ie)}set(ie,Ie){Ie=wt("DocumentReference.set",Ie);try{return Ie?(0,et.BN)(this._delegate,ie,Ie):(0,et.BN)(this._delegate,ie)}catch(ft){throw xe(ft,"setDoc()","DocumentReference.set()")}}update(ie,Ie,...ft){try{return 1===arguments.length?(0,et.mZ)(this._delegate,ie):(0,et.mZ)(this._delegate,ie,Ie,...ft)}catch(Kt){throw xe(Kt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,et.kd)(this._delegate)}onSnapshot(...ie){const Ie=Se(ie),ft=Ge(ie,Kt=>new Tt(this.firestore,new et.Wq(this.firestore._delegate,this._userDataWriter,Kt._key,Kt._document,Kt.metadata,this._delegate.converter)));return(0,et.aQ)(this._delegate,Ie,ft)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,et.nY)(this._delegate):"server"===ie?.source?(0,et._e)(this._delegate):(0,et.x7)(this._delegate),Ie.then(ft=>new Tt(this.firestore,new et.Wq(this.firestore._delegate,this._userDataWriter,ft._key,ft._document,ft.metadata,this._delegate.converter)))}withConverter(ie){return new Qe(this.firestore,this._delegate.withConverter(ie?Fe.getInstance(this.firestore,ie):null))}}function xe(mt,ie,Ie){return mt.message=mt.message.replace(ie,Ie),mt}function Se(mt){for(const ie of mt)if("object"==typeof ie&&!dn(ie))return ie;return{}}function Ge(mt,ie){var Ie,ft;let Kt;return Kt=dn(mt[0])?mt[0]:dn(mt[1])?mt[1]:"function"==typeof mt[0]?{next:mt[0],error:mt[1],complete:mt[2]}:{next:mt[1],error:mt[2],complete:mt[3]},{next:Mn=>{Kt.next&&Kt.next(ie(Mn))},error:null===(Ie=Kt.error)||void 0===Ie?void 0:Ie.bind(Kt),complete:null===(ft=Kt.complete)||void 0===ft?void 0:ft.bind(Kt)}}class Tt{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get ref(){return new Qe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,Ie){return this._delegate.get(ie,Ie)}isEqual(ie){return(0,et.lN)(this._delegate,ie._delegate)}}class xt extends Tt{data(ie){const Ie=this._delegate.data(ie);return this._delegate._converter||(0,et.bI)(void 0!==Ie,"Document in a QueryDocumentSnapshot should exist"),Ie}}class hn{constructor(ie,Ie){this.firestore=ie,this._delegate=Ie,this._userDataWriter=new qt(ie)}where(ie,Ie,ft){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et._M)(ie,Ie,ft)))}catch(Kt){throw xe(Kt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,Ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.My)(ie,Ie)))}catch(ft){throw xe(ft,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.AB)(ie)))}catch(Ie){throw xe(Ie,"limit()","Query.limit()")}}limitToLast(ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.$1)(ie)))}catch(Ie){throw xe(Ie,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.EO)(...ie)))}catch(Ie){throw xe(Ie,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.HM)(...ie)))}catch(Ie){throw xe(Ie,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.rf)(...ie)))}catch(Ie){throw xe(Ie,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new hn(this.firestore,(0,et.P)(this._delegate,(0,et.FD)(...ie)))}catch(Ie){throw xe(Ie,"endAt()","Query.endAt()")}}isEqual(ie){return(0,et.B)(this._delegate,ie._delegate)}get(ie){let Ie;return Ie="cache"===ie?.source?(0,et.kU)(this._delegate):"server"===ie?.source?(0,et.Rr)(this._delegate):(0,et.GG)(this._delegate),Ie.then(ft=>new Fn(this.firestore,new et.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,ft._snapshot)))}onSnapshot(...ie){const Ie=Se(ie),ft=Ge(ie,Kt=>new Fn(this.firestore,new et.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Kt._snapshot)));return(0,et.aQ)(this._delegate,Ie,ft)}withConverter(ie){return new hn(this.firestore,this._delegate.withConverter(ie?Fe.getInstance(this.firestore,ie):null))}}class sn{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get type(){return this._delegate.type}get doc(){return new xt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Fn{constructor(ie,Ie){this._firestore=ie,this._delegate=Ie}get query(){return new hn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new xt(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(Ie=>new sn(this._firestore,Ie))}forEach(ie,Ie){this._delegate.forEach(ft=>{ie.call(Ie,new xt(this._firestore,ft))})}isEqual(ie){return(0,et.lN)(this._delegate,ie._delegate)}}class In extends hn{constructor(ie,Ie){super(ie,Ie),this.firestore=ie,this._delegate=Ie}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new Qe(this.firestore,ie):null}doc(ie){try{return new Qe(this.firestore,void 0===ie?(0,et.H9)(this._delegate):(0,et.H9)(this._delegate,ie))}catch(Ie){throw xe(Ie,"doc()","CollectionReference.doc()")}}add(ie){return(0,et.gS)(this._delegate,ie).then(Ie=>new Qe(this.firestore,Ie))}isEqual(ie){return(0,et.yx)(this._delegate,ie._delegate)}withConverter(ie){return new In(this.firestore,this._delegate.withConverter(ie?Fe.getInstance(this.firestore,ie):null))}}function fr(mt){return(0,et.lo)(mt,et.T1)}class Gt{constructor(...ie){this._delegate=new et.uY(...ie)}static documentId(){return new Gt(et.FA.keyField().canonicalString())}isEqual(ie){return(ie=(0,We.Ku)(ie))instanceof et.uY&&this._delegate._internalPath.isEqual(ie._internalPath)}}class wn{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,et.O5)();return ie._methodName="FieldValue.serverTimestamp",new wn(ie)}static delete(){const ie=(0,et.CL)();return ie._methodName="FieldValue.delete",new wn(ie)}static arrayUnion(...ie){const Ie=(0,et.hq)(...ie);return Ie._methodName="FieldValue.arrayUnion",new wn(Ie)}static arrayRemove(...ie){const Ie=(0,et.C3)(...ie);return Ie._methodName="FieldValue.arrayRemove",new wn(Ie)}static increment(ie){const Ie=(0,et.GV)(ie);return Ie._methodName="FieldValue.increment",new wn(Ie)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const Bn={Firestore:Bt,GeoPoint:et.Ci,Timestamp:et.Dc,Blob:Jt,Transaction:Me,WriteBatch:le,DocumentReference:Qe,DocumentSnapshot:Tt,Query:hn,QueryDocumentSnapshot:xt,QuerySnapshot:Fn,CollectionReference:In,FieldPath:Gt,FieldValue:wn,setLogLevel:function ct(mt){(0,et.He)(mt)},CACHE_SIZE_UNLIMITED:et.H6};!function Vt(mt){(function Wt(mt,ie){mt.INTERNAL.registerComponent(new ot.uA("firestore-compat",Ie=>{const ft=Ie.getProvider("app-compat").getImmediate(),Kt=Ie.getProvider("firestore").getImmediate();return ie(ft,Kt)},"PUBLIC").setServiceProps(Object.assign({},Bn)))})(mt,(ie,Ie)=>new Bt(ie,Ie,new Pt)),mt.registerVersion("@firebase/firestore-compat","0.3.32")}(cn.A);var Br=L(7935);function Cr(mt,ie){return function fn(mt,ie=De.E){return new Ne.c(Ie=>{let ft;return null!=ie?ie.schedule(()=>{ft=mt.onSnapshot({includeMetadataChanges:!0},Ie)}):ft=mt.onSnapshot({includeMetadataChanges:!0},Ie),()=>{ft?.()}})}(mt,ie)}function Ut(mt,ie){return Cr(mt,ie).pipe((0,Xe.T)(Ie=>({payload:Ie,type:"query"})))}class _n{ref;afs;constructor(ie,Ie){this.ref=ie,this.afs=Ie}set(ie,Ie){return this.ref.set(ie,Ie)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,Ie){const ft=this.ref.collection(ie),{ref:Kt,query:Mn}=Nn(ft,Ie);return new ti(Kt,Mn,this.afs)}snapshotChanges(){return function zn(mt,ie){return Cr(mt,ie).pipe((0,Z.Z)(void 0),at(),(0,Xe.T)(Ie=>{const[ft,Kt]=Ie;return Kt.exists?ft?.exists?{payload:Kt,type:"modified"}:{payload:Kt,type:"added"}:{payload:Kt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,Xe.T)(({payload:Ie})=>ie.idField?{...Ie.data(),[ie.idField]:Ie.id}:Ie.data()))}get(ie){return(0,Le.H)(this.ref.get(ie)).pipe(o.U0)}}function Pn(mt,ie){return Ut(mt,ie).pipe((0,Z.Z)(void 0),at(),(0,Xe.T)(Ie=>{const[ft,Kt]=Ie,Mn=Kt.payload.docChanges(),xr=Mn.map(ur=>({type:ur.type,payload:ur}));return ft&&JSON.stringify(ft.payload.metadata)!==JSON.stringify(Kt.payload.metadata)&&Kt.payload.docs.forEach((ur,Oe)=>{const ee=Mn.find(V=>V.doc.ref.isEqual(ur.ref)),H=ft?.payload.docs.find(V=>V.ref.isEqual(ur.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(ur.metadata)||!ee&&H&&JSON.stringify(H.metadata)===JSON.stringify(ur.metadata)||xr.push({type:"modified",payload:{oldIndex:Oe,newIndex:Oe,type:"modified",doc:ur}})}),xr}))}function Tn(mt,ie,Ie){return Pn(mt,Ie).pipe((0,bt.S)((ft,Kt)=>function pr(mt,ie,Ie){return ie.forEach(ft=>{Ie.indexOf(ft.type)>-1&&(mt=function ei(mt,ie){switch(ie.type){case"added":if(!mt[ie.newIndex]||!mt[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return Tr(mt,ie.newIndex,0,ie);break;case"modified":if(null==mt[ie.oldIndex]||mt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const Ie=mt.slice();return Ie.splice(ie.oldIndex,1),Ie.splice(ie.newIndex,0,ie),Ie}return Tr(mt,ie.newIndex,1,ie)}break;case"removed":if(mt[ie.oldIndex]&&mt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return Tr(mt,ie.oldIndex,1)}return mt}(mt,ft))}),mt}(ft,Kt.map(Mn=>Mn.payload),ie),[]),(0,Ct.F)(),(0,Xe.T)(ft=>ft.map(Kt=>({type:Kt.type,payload:Kt}))))}function Tr(mt,ie,Ie,...ft){const Kt=mt.slice();return Kt.splice(ie,Ie,...ft),Kt}function $n(mt){return(!mt||0===mt.length)&&(mt=["added","removed","modified"]),mt}class ti{ref;query;afs;constructor(ie,Ie,ft){this.ref=ie,this.query=Ie,this.afs=ft}stateChanges(ie){let Ie=Pn(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(Ie=Ie.pipe((0,Xe.T)(ft=>ft.filter(Kt=>ie.indexOf(Kt.type)>-1)))),Ie.pipe((0,Z.Z)(void 0),at(),(0,jt.p)(([ft,Kt])=>Kt.length>0||!ft),(0,Xe.T)(([,ft])=>ft),o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,bt.S)((Ie,ft)=>[...Ie,...ft],[]))}snapshotChanges(ie){const Ie=$n(ie);return Tn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(Ie=>Ie.payload.docs.map(ft=>ie.idField?{...ft.data(),[ie.idField]:ft.id}:ft.data())),o.U0)}get(ie){return(0,Le.H)(this.query.get(ie)).pipe(o.U0)}add(ie){return this.ref.add(ie)}doc(ie){return new _n(this.ref.doc(ie),this.afs)}}class Ki{query;afs;constructor(ie,Ie){this.query=ie,this.afs=Ie}stateChanges(ie){return ie&&0!==ie.length?Pn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(Ie=>Ie.filter(ft=>ie.indexOf(ft.type)>-1)),(0,jt.p)(Ie=>Ie.length>0),o.U0):Pn(this.query,this.afs.schedulers.outsideAngular).pipe(o.U0)}auditTrail(ie){return this.stateChanges(ie).pipe((0,bt.S)((Ie,ft)=>[...Ie,...ft],[]))}snapshotChanges(ie){const Ie=$n(ie);return Tn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(o.U0)}valueChanges(ie={}){return Ut(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(ft=>ft.payload.docs.map(Kt=>ie.idField?{[ie.idField]:Kt.id,...Kt.data()}:Kt.data())),o.U0)}get(ie){return(0,Le.H)(this.query.get(ie)).pipe(o.U0)}}const un=new ae.nKC("angularfire2.enableFirestorePersistence"),ni=new ae.nKC("angularfire2.firestore.persistenceSettings"),qn=new ae.nKC("angularfire2.firestore.settings"),vr=new ae.nKC("angularfire2.firestore.use-emulator");function Nn(mt,ie=(Ie=>Ie)){return{query:ie(mt),ref:mt}}let yi=(()=>{class mt{schedulers;firestore;persistenceEnabled$;constructor(Ie,ft,Kt,Mn,xr,ur,Oe,ee,H,V,F,ue,je,It,Ot,pn,nn){this.schedulers=Oe;const ln=(0,Ae.iB)(Ie,ur,ft),rr=H;V&&(0,he.gF)(ln,ur,F,je,It,Ot,ue,pn),[this.firestore,this.persistenceEnabled$]=(0,Ae.BM)(`${ln.name}.firestore`,"AngularFirestore",ln.name,()=>{const An=ur.runOutsideAngular(()=>ln.firestore());if(Mn&&An.settings(Mn),rr&&An.useEmulator(...rr),Kt&&!(0,a.Vy)(xr)){const li=()=>{try{return(0,Le.H)(An.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(br){return typeof console<"u"&&console.warn(br),(0,Be.of)(!1)}};return[An,ur.runOutsideAngular(li)]}return[An,(0,Be.of)(!1)]},[Mn,rr,Kt])}collection(Ie,ft){let Kt;Kt="string"==typeof Ie?this.firestore.collection(Ie):Ie;const{ref:Mn,query:xr}=Nn(Kt,ft),ur=this.schedulers.ngZone.run(()=>Mn);return new ti(ur,xr,this)}collectionGroup(Ie,ft){const Kt=ft||(xr=>xr),Mn=this.firestore.collectionGroup(Ie);return new Ki(Kt(Mn),this)}doc(Ie){let ft;ft="string"==typeof Ie?this.firestore.doc(Ie):Ie;const Kt=this.schedulers.ngZone.run(()=>ft);return new _n(Kt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(ft){return new(ft||mt)(ae.KVO(Ae.rx),ae.KVO(Ae.uP,8),ae.KVO(un,8),ae.KVO(qn,8),ae.KVO(ae.Agw),ae.KVO(ae.SKi),ae.KVO(o.u0),ae.KVO(ni,8),ae.KVO(vr,8),ae.KVO(he.DS,8),ae.KVO(he.CP,8),ae.KVO(he.yy,8),ae.KVO(he.ZP,8),ae.KVO(he.$z,8),ae.KVO(he.AU,8),ae.KVO(he.UB,8),ae.KVO(o.Jv,8))};static \u0275prov=ae.jDH({token:mt,factory:mt.\u0275fac,providedIn:"any"})}return mt})(),Ke=(()=>{class mt{constructor(){Br.A.registerVersion("angularfire",o.xv.full,"fst-compat")}static enablePersistence(Ie){return{ngModule:mt,providers:[{provide:un,useValue:!0},{provide:ni,useValue:Ie}]}}static \u0275fac=function(ft){return new(ft||mt)};static \u0275mod=ae.$C({type:mt});static \u0275inj=ae.G2t({providers:[yi]})}return mt})()},8721:(on,Je,L)=>{L.d(Je,{ap:()=>Me,y5:()=>Qe});var a=L(5407),ae=L(1985),o=L(7673),Ae=L(8455),he=L(3236),De=L(9974),Ne=L(4360),Be=L(6354),Z=L(5558),ce=L(7705),me=L(9253),at=L(3345),Xe=L(4535),bt=L(1362);class Ct{constructor(Se,Ge,Tt){this._delegate=Se,this.task=Ge,this.ref=Tt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jt{constructor(Se,Ge){this._delegate=Se,this._ref=Ge,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ct(this._delegate.snapshot,this,this._ref)}then(Se,Ge){return this._delegate.then(Tt=>{if(Se)return Se(new Ct(Tt,this,this._ref))},Ge)}on(Se,Ge,Tt,xt){let hn;return Ge&&(hn="function"==typeof Ge?sn=>Ge(new Ct(sn,this,this._ref)):{next:Ge.next?sn=>Ge.next(new Ct(sn,this,this._ref)):void 0,complete:Ge.complete||void 0,error:Ge.error||void 0}),this._delegate.on(Se,hn,Tt||void 0,xt||void 0)}}class Mt{constructor(Se,Ge){this._delegate=Se,this._service=Ge}get prefixes(){return this._delegate.prefixes.map(Se=>new cn(Se,this._service))}get items(){return this._delegate.items.map(Se=>new cn(Se,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cn{constructor(Se,Ge){this._delegate=Se,this.storage=Ge}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Se){const Ge=(0,Xe.Mp)(this._delegate,Se);return new cn(Ge,this.storage)}get root(){return new cn(this._delegate.root,this.storage)}get parent(){const Se=this._delegate.parent;return null==Se?null:new cn(Se,this.storage)}put(Se,Ge){return this._throwIfRoot("put"),new jt((0,Xe.bp)(this._delegate,Se,Ge),this)}putString(Se,Ge=Xe.nw.RAW,Tt){this._throwIfRoot("putString");const xt=(0,Xe.ZH)(Ge,Se),hn=Object.assign({},Tt);return null==hn.contentType&&null!=xt.contentType&&(hn.contentType=xt.contentType),new jt(new Xe.UC(this._delegate,new Xe.Mx(xt.data,!0),hn),this)}listAll(){return(0,Xe._w)(this._delegate).then(Se=>new Mt(Se,this.storage))}list(Se){return(0,Xe.p_)(this._delegate,Se||void 0).then(Ge=>new Mt(Ge,this.storage))}getMetadata(){return(0,Xe.yb)(this._delegate)}updateMetadata(Se){return(0,Xe.D5)(this._delegate,Se)}getDownloadURL(){return(0,Xe.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Xe.XR)(this._delegate)}_throwIfRoot(Se){if(""===this._delegate._location.path)throw(0,Xe.UY)(Se)}}class et{constructor(Se,Ge){this.app=Se,this._delegate=Ge}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Se){if(We(Se))throw(0,Xe.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new cn((0,Xe.KR)(this._delegate,Se),this)}refFromURL(Se){if(!We(Se))throw(0,Xe.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xe.TZ.makeFromUrl(Se,this._delegate.host)}catch{throw(0,Xe.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new cn((0,Xe.KR)(this._delegate,Se),this)}setMaxUploadRetryTime(Se){this._delegate.maxUploadRetryTime=Se}setMaxOperationRetryTime(Se){this._delegate.maxOperationRetryTime=Se}useEmulator(Se,Ge,Tt={}){(0,Xe.nb)(this._delegate,Se,Ge,Tt)}}function We(xe){return/^[A-Za-z]+:\/\//.test(xe)}function wt(xe,{instanceIdentifier:Se}){const Ge=xe.getProvider("app-compat").getImmediate(),Tt=xe.getProvider("storage").getImmediate({identifier:Se});return new et(Ge,Tt)}!function Ft(xe){const Se={TaskState:Xe.Ad,TaskEvent:Xe.xc,StringFormat:Xe.nw,Storage:et,Reference:cn};xe.INTERNAL.registerComponent(new bt.uA("storage-compat",wt,"PUBLIC").setServiceProps(Se).setMultipleInstances(!0)),xe.registerVersion("@firebase/storage-compat","0.3.8")}(at.A);var be=L(7935);function dn(xe){const Se=function Jt(xe){return new ae.c(Se=>{const Ge=sn=>Se.next(sn);Ge(xe.snapshot);const hn=xe.on("state_changed",Ge);return xe.then(sn=>{Ge(sn),Se.complete()},sn=>{Ge(xe.snapshot),(sn=>{Se.error(sn)})(sn)}),function(){hn()}}).pipe(function Le(xe,Se=he.E){return(0,De.N)((Ge,Tt)=>{let xt=null,hn=null,sn=null;const Fn=()=>{if(xt){xt.unsubscribe(),xt=null;const fr=hn;hn=null,Tt.next(fr)}};function In(){const fr=sn+xe,Gt=Se.now();if(Gt<fr)return xt=this.schedule(void 0,fr-Gt),void Tt.add(xt);Fn()}Ge.subscribe((0,Ne._)(Tt,fr=>{hn=fr,sn=Se.now(),xt||(xt=Se.schedule(In,xe),Tt.add(xt))},()=>{Fn(),Tt.complete()},void 0,()=>{hn=xt=null}))})}(0))}(xe);return{task:xe,then:xe.then.bind(xe),catch:xe.catch.bind(xe),pause:xe.pause.bind(xe),cancel:xe.cancel.bind(xe),resume:xe.resume.bind(xe),snapshotChanges:()=>Se,percentageChanges:()=>Se.pipe((0,Be.T)(Ge=>Ge.bytesTransferred/Ge.totalBytes*100))}}function nr(xe){return{getDownloadURL:()=>(0,o.of)(void 0).pipe(a.Oe,(0,Z.n)(()=>xe.getDownloadURL()),a.U0),getMetadata:()=>(0,o.of)(void 0).pipe(a.Oe,(0,Z.n)(()=>xe.getMetadata()),a.U0),delete:()=>(0,Ae.H)(xe.delete()),child:Se=>nr(xe.child(Se)),updateMetadata:Se=>(0,Ae.H)(xe.updateMetadata(Se)),put:(Se,Ge)=>dn(xe.put(Se,Ge)),putString:(Se,Ge,Tt)=>dn(xe.putString(Se,Ge,Tt)),list:Se=>(0,Ae.H)(xe.list(Se)),listAll:()=>(0,Ae.H)(xe.listAll())}}const Pt=new ce.nKC("angularfire2.storageBucket"),Bt=new ce.nKC("angularfire2.storage.maxUploadRetryTime"),qt=new ce.nKC("angularfire2.storage.maxOperationRetryTime"),ct=new ce.nKC("angularfire2.storage.use-emulator");let Me=(()=>{class xe{storage;constructor(Ge,Tt,xt,hn,sn,Fn,In,fr,Gt,wn){const Bn=(0,me.iB)(Ge,sn,Tt);this.storage=(0,me.BM)(`${Bn.name}.storage.${xt}`,"AngularFireStorage",Bn.name,()=>{const Wt=sn.runOutsideAngular(()=>Bn.storage(xt||void 0)),Vt=Gt;return Vt&&Wt.useEmulator(...Vt),In&&Wt.setMaxUploadRetryTime(In),fr&&Wt.setMaxOperationRetryTime(fr),Wt},[In,fr])}ref(Ge){return nr(this.storage.ref(Ge))}refFromURL(Ge){return nr(this.storage.refFromURL(Ge))}upload(Ge,Tt,xt){return nr(this.storage.ref(Ge)).put(Tt,xt)}static \u0275fac=function(Tt){return new(Tt||xe)(ce.KVO(me.rx),ce.KVO(me.uP,8),ce.KVO(Pt,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(a.u0),ce.KVO(Bt,8),ce.KVO(qt,8),ce.KVO(ct,8),ce.KVO(a.Jv,8))};static \u0275prov=ce.jDH({token:xe,factory:xe.\u0275fac,providedIn:"any"})}return xe})(),Fe=(()=>{class xe{static \u0275fac=function(Tt){return new(Tt||xe)};static \u0275mod=ce.$C({type:xe});static \u0275inj=ce.G2t({})}return xe})(),Qe=(()=>{class xe{constructor(){be.A.registerVersion("angularfire",a.xv.full,"gcs-compat")}static \u0275fac=function(Tt){return new(Tt||xe)};static \u0275mod=ce.$C({type:xe});static \u0275inj=ce.G2t({providers:[Me],imports:[Fe]})}return xe})()},9253:(on,Je,L)=>{L.d(Je,{BM:()=>Xe,Gt:()=>he,bf:()=>at,e7:()=>De,iB:()=>Z,rx:()=>Le,uP:()=>Be});var a=L(7705),ae=L(5407),o=L(7935);const Ae=["ngOnDestroy"],he=(Mt,cn,et,We={})=>new Proxy(Mt,{get:(ot,Ze)=>et.runOutsideAngular(()=>{if(Mt[Ze])return We?.spy?.get&&We.spy.get(Ze,Mt[Ze]),Mt[Ze];if(Ae.indexOf(Ze)>-1)return()=>{};const rt=cn.toPromise().then(wt=>{const Ft=wt?.[Ze];return"function"==typeof Ft?Ft.bind(wt):Ft?.then?Ft.then(be=>et.run(()=>be)):et.run(()=>Ft)});return new Proxy(()=>{},{get:(wt,Ft)=>rt[Ft],apply:(wt,Ft,be)=>rt.then(Jt=>{const dn=Jt?.(...be);return We?.spy?.apply&&We.spy.apply(Ze,be,dn),dn})})})}),De=(Mt,cn)=>{cn.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(We=>{Object.defineProperty(Mt.prototype,We,Object.getOwnPropertyDescriptor(et.prototype||et,We))})})};class Ne{constructor(cn){return cn}}const Le=new a.nKC("angularfire2.app.options"),Be=new a.nKC("angularfire2.app.name");function Z(Mt,cn,et){const ot="object"==typeof et&&et||{};ot.name=ot.name||"string"==typeof et&&et||"[DEFAULT]";const rt=o.A.apps.filter(wt=>wt&&wt.name===ot.name)[0]||cn.runOutsideAngular(()=>o.A.initializeApp(Mt,ot));try{if(JSON.stringify(Mt)!==JSON.stringify(rt.options)){const wt=!!module.hot;ce("error",`${rt.name} Firebase App already initialized with different options${wt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ne(rt)}const ce=(Mt,...cn)=>{(0,a.naY)()&&typeof console<"u"&&console[Mt](...cn)},me={provide:Ne,useFactory:Z,deps:[Le,a.SKi,[new a.Xx1,Be]]};let at=(()=>{class Mt{static initializeApp(et,We){return{ngModule:Mt,providers:[{provide:Le,useValue:et},{provide:Be,useValue:We}]}}constructor(et){o.A.registerVersion("angularfire",ae.xv.full,"core"),o.A.registerVersion("angularfire",ae.xv.full,"app-compat"),o.A.registerVersion("angular",a.xvI.full,et.toString())}static \u0275fac=function(We){return new(We||Mt)(a.KVO(a.Agw))};static \u0275mod=a.$C({type:Mt});static \u0275inj=a.G2t({providers:[me]})}return Mt})();function Xe(Mt,cn,et,We,ot){const[,Ze,rt]=globalThis.\u0275AngularfireInstanceCache.find(wt=>wt[0]===Mt)||[];if(Ze)return function bt(Mt,cn){try{return Mt.toString()===cn.toString()}catch{return Mt===cn}}(ot,rt)||(jt("error",`${cn} was already initialized on the ${et} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),jt("warn",{is:ot,was:rt})),Ze;{const wt=We();return globalThis.\u0275AngularfireInstanceCache.push([Mt,wt,ot]),wt}}const Ct=typeof module<"u"&&!!module.hot,jt=(Mt,...cn)=>{(0,a.naY)()&&typeof console<"u"&&console[Mt](...cn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(on,Je,L)=>{L.d(Je,{xv:()=>Xe,U0:()=>dn,Oe:()=>be,u0:()=>Ze,Jv:()=>Mt,CA:()=>jt,lR:()=>Ct,S3:()=>Bt});var a=L(7705),ae=L(2214),o=L(6780),he=L(9687);const Ne=new class De extends he.q{}(class Ae extends o.R{constructor(ct,Me){super(ct,Me),this.scheduler=ct,this.work=Me}schedule(ct,Me=0){return Me>0?super.schedule(ct,Me):(this.delay=Me,this.state=ct,this.scheduler.flush(this),this)}execute(ct,Me){return Me>0||this.closed?super.execute(ct,Me):this._execute(ct,Me)}requestAsyncId(ct,Me,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(ct,Me,le):(ct.flush(this),0)}});var Be=L(3236),Z=L(1985),ce=L(8141),me=L(941),at=L(6745);const Xe=new a.RxE("ANGULARFIRE2_VERSION");function Ct(qt,ct,Me){if(ct){if(1===ct.length)return ct[0];const Qe=ct.filter(xe=>xe.app===Me);if(1===Qe.length)return Qe[0]}return Me.container.getProvider(qt).getImmediate({optional:!0})}const jt=(qt,ct)=>{const Me=ct?[ct]:(0,ae.Dk)(),le=[];return Me.forEach(Fe=>{Fe.container.getProvider(qt).instances.forEach(xe=>{le.includes(xe)||le.push(xe)})}),le};class Mt{constructor(){return jt(cn)}}const cn="app-check";function et(){}class We{zone;delegate;constructor(ct,Me=Ne){this.zone=ct,this.delegate=Me}now(){return this.delegate.now()}schedule(ct,Me,le){const Fe=this.zone;return this.delegate.schedule(function(xe){Fe.runGuarded(()=>{ct.apply(this,[xe])})},Me,le)}}class ot{zone;task=null;constructor(ct){this.zone=ct}call(ct,Me){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)),Me.pipe((0,ce.M)({next:le,complete:le,error:le})).subscribe(ct).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class qt{ngZone;outsideAngular;insideAngular;constructor(Me){this.ngZone=Me,this.outsideAngular=Me.runOutsideAngular(()=>new We(Zone.current)),this.insideAngular=Me.run(()=>new We(Zone.current,Be.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(le){return new(le||qt)(a.KVO(a.SKi))};static \u0275prov=a.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})();function rt(){const qt=globalThis.\u0275AngularFireScheduler;if(!qt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return qt}function Ft(qt){return rt().ngZone.run(()=>qt())}function be(qt){return qt.pipe((0,me.Q)(rt().outsideAngular))}function dn(qt){return function nr(qt){return function(Me){return(Me=Me.lift(new ot(qt.ngZone))).pipe((0,at._)(qt.outsideAngular),(0,me.Q)(qt.insideAngular))}}(rt())(qt)}const Pt=(qt,ct)=>function(){const le=arguments;return ct&&setTimeout(()=>{"scheduled"===ct.state&&ct.invoke()},10),Ft(()=>qt.apply(void 0,le))},Bt=(qt,ct)=>function(){let Me;const le=arguments;for(let Qe=0;Qe<arguments.length;Qe++)"function"==typeof le[Qe]&&(ct&&(Me||=Ft(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et))),le[Qe]=Pt(le[Qe],Me));const Fe=function wt(qt){return rt().ngZone.runOutsideAngular(()=>qt())}(()=>qt.apply(this,le));if(!ct){if(Fe instanceof Z.c){const Qe=rt();return Fe.pipe((0,at._)(Qe.outsideAngular),(0,me.Q)(Qe.insideAngular))}return Ft(()=>Fe)}return Fe instanceof Z.c?Fe.pipe(dn):Fe instanceof Promise?Ft(()=>new Promise((Qe,xe)=>Fe.then(Se=>Ft(()=>Qe(Se)),Se=>Ft(()=>xe(Se))))):"function"==typeof Fe&&Me?function(){return setTimeout(()=>{Me&&"scheduled"===Me.state&&Me.invoke()},10),Fe.apply(this,arguments)}:Ft(()=>Fe)}},4341:(on,Je,L)=>{L.d(Je,{Zm:()=>jt,me:()=>We,v8:()=>io,ok:()=>Os,JD:()=>Gr,j4:()=>Zt,$R:()=>dr,YN:()=>sa,BC:()=>Pn,cb:()=>Tn,cV:()=>zi,vS:()=>qo,xH:()=>gi,Q0:()=>rs,Fm:()=>Hr,X1:()=>xa,YS:()=>ii,wz:()=>Io,k0:()=>be,qT:()=>Cs,y7:()=>yt});var a=L(7705),ae=L(177),o=L(8455),Ae=L(1985),he=L(3073),De=L(8750),Ne=L(3794),Le=L(4360),Be=L(6450),Z=L(8496),me=L(6354);let at=(()=>{class G{constructor(O,oe){this._renderer=O,this._elementRef=oe,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(O,oe){this._renderer.setProperty(this._elementRef.nativeElement,O,oe)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.sFG),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:G})}return G})(),Xe=(()=>{class G extends at{static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,features:[a.Vt3]})}return G})();const bt=new a.nKC("NgValueAccessor"),Ct={provide:bt,useExisting:(0,a.Rfq)(()=>jt),multi:!0};let jt=(()=>{class G extends Xe{writeValue(O){this.setProperty("checked",O)}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(Hn){return Ve.onChange(Hn.target.checked)})("blur",function(){return Ve.onTouched()})},features:[a.Jv_([Ct]),a.Vt3]})}return G})();const Mt={provide:bt,useExisting:(0,a.Rfq)(()=>We),multi:!0},et=new a.nKC("CompositionEventMode");let We=(()=>{class G extends at{constructor(O,oe,Ve){super(O,oe),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cn(){const G=(0,ae.QT)()?(0,ae.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(et,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("input",function(Hn){return Ve._handleInput(Hn.target.value)})("blur",function(){return Ve.onTouched()})("compositionstart",function(){return Ve._compositionStart()})("compositionend",function(Hn){return Ve._compositionEnd(Hn.target.value)})},features:[a.Jv_([Mt]),a.Vt3]})}return G})();function ot(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function Ze(G){return null!=G&&"number"==typeof G.length}const rt=new a.nKC("NgValidators"),wt=new a.nKC("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(Y){return function Jt(G){return Y=>{if(ot(Y.value)||ot(G))return null;const O=parseFloat(Y.value);return!isNaN(O)&&O<G?{min:{min:G,actual:Y.value}}:null}}(Y)}static max(Y){return function dn(G){return Y=>{if(ot(Y.value)||ot(G))return null;const O=parseFloat(Y.value);return!isNaN(O)&&O>G?{max:{max:G,actual:Y.value}}:null}}(Y)}static required(Y){return nr(Y)}static requiredTrue(Y){return function Pt(G){return!0===G.value?null:{required:!0}}(Y)}static email(Y){return function Bt(G){return ot(G.value)||Ft.test(G.value)?null:{email:!0}}(Y)}static minLength(Y){return function qt(G){return Y=>ot(Y.value)||!Ze(Y.value)?null:Y.value.length<G?{minlength:{requiredLength:G,actualLength:Y.value.length}}:null}(Y)}static maxLength(Y){return function ct(G){return Y=>Ze(Y.value)&&Y.value.length>G?{maxlength:{requiredLength:G,actualLength:Y.value.length}}:null}(Y)}static pattern(Y){return function Me(G){if(!G)return le;let Y,O;return"string"==typeof G?(O="","^"!==G.charAt(0)&&(O+="^"),O+=G,"$"!==G.charAt(G.length-1)&&(O+="$"),Y=new RegExp(O)):(O=G.toString(),Y=G),oe=>{if(ot(oe.value))return null;const Ve=oe.value;return Y.test(Ve)?null:{pattern:{requiredPattern:O,actualValue:Ve}}}}(Y)}static nullValidator(Y){return null}static compose(Y){return xt(Y)}static composeAsync(Y){return sn(Y)}}function nr(G){return ot(G.value)?{required:!0}:null}function le(G){return null}function Fe(G){return null!=G}function Qe(G){return(0,a.jNT)(G)?(0,o.H)(G):G}function xe(G){let Y={};return G.forEach(O=>{Y=null!=O?{...Y,...O}:Y}),0===Object.keys(Y).length?null:Y}function Se(G,Y){return Y.map(O=>O(G))}function Tt(G){return G.map(Y=>function Ge(G){return!G.validate}(Y)?Y:O=>Y.validate(O))}function xt(G){if(!G)return null;const Y=G.filter(Fe);return 0==Y.length?null:function(O){return xe(Se(O,Y))}}function hn(G){return null!=G?xt(Tt(G)):null}function sn(G){if(!G)return null;const Y=G.filter(Fe);return 0==Y.length?null:function(O){return function ce(...G){const Y=(0,Ne.ms)(G),{args:O,keys:oe}=(0,he.D)(G),Ve=new Ae.c(yn=>{const{length:Hn}=O;if(!Hn)return void yn.complete();const oo=new Array(Hn);let mo=Hn,so=Hn;for(let os=0;os<Hn;os++){let jo=!1;(0,De.Tg)(O[os]).subscribe((0,Le._)(yn,Bo=>{jo||(jo=!0,so--),oo[os]=Bo},()=>mo--,void 0,()=>{(!mo||!jo)&&(so||yn.next(oe?(0,Z.e)(oe,oo):oo),yn.complete())}))}});return Y?Ve.pipe((0,Be.I)(Y)):Ve}(Se(O,Y).map(Qe)).pipe((0,me.T)(xe))}}function Fn(G){return null!=G?sn(Tt(G)):null}function In(G,Y){return null===G?[Y]:Array.isArray(G)?[...G,Y]:[G,Y]}function fr(G){return G._rawValidators}function Gt(G){return G._rawAsyncValidators}function wn(G){return G?Array.isArray(G)?G:[G]:[]}function Bn(G,Y){return Array.isArray(G)?G.includes(Y):G===Y}function Wt(G,Y){const O=wn(Y);return wn(G).forEach(Ve=>{Bn(O,Ve)||O.push(Ve)}),O}function Vt(G,Y){return wn(Y).filter(O=>!Bn(G,O))}class Br{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Y){this._rawValidators=Y||[],this._composedValidatorFn=hn(this._rawValidators)}_setAsyncValidators(Y){this._rawAsyncValidators=Y||[],this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Y){this._onDestroyCallbacks.push(Y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Y=>Y()),this._onDestroyCallbacks=[]}reset(Y=void 0){this.control&&this.control.reset(Y)}hasError(Y,O){return!!this.control&&this.control.hasError(Y,O)}getError(Y,O){return this.control?this.control.getError(Y,O):null}}class fn extends Br{get formDirective(){return null}get path(){return null}}class Cr extends Br{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zn{constructor(Y){this._cd=Y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pn=(()=>{class G extends zn{constructor(O){super(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(Cr,2))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ve){2&oe&&a.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)},features:[a.Vt3]})}return G})(),Tn=(()=>{class G extends zn{constructor(O){super(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,10))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ve){2&oe&&a.AVh("ng-untouched",Ve.isUntouched)("ng-touched",Ve.isTouched)("ng-pristine",Ve.isPristine)("ng-dirty",Ve.isDirty)("ng-valid",Ve.isValid)("ng-invalid",Ve.isInvalid)("ng-pending",Ve.isPending)("ng-submitted",Ve.isSubmitted)},features:[a.Vt3]})}return G})();const Kt="VALID",Mn="INVALID",xr="PENDING",ur="DISABLED";function Oe(G){return(F(G)?G.validators:G)||null}function H(G,Y){return(F(Y)?Y.asyncValidators:G)||null}function F(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function ue(G,Y,O){const oe=G.controls;if(!(Y?Object.keys(oe):oe).length)throw new a.wOt(1e3,"");if(!oe[O])throw new a.wOt(1001,"")}function je(G,Y,O){G._forEachChild((oe,Ve)=>{if(void 0===O[Ve])throw new a.wOt(1002,"")})}class It{constructor(Y,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Y),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(Y){this._rawValidators=this._composedValidatorFn=Y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Y){this._rawAsyncValidators=this._composedAsyncValidatorFn=Y}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===Mn}get pending(){return this.status==xr}get disabled(){return this.status===ur}get enabled(){return this.status!==ur}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Y){this._assignValidators(Y)}setAsyncValidators(Y){this._assignAsyncValidators(Y)}addValidators(Y){this.setValidators(Wt(Y,this._rawValidators))}addAsyncValidators(Y){this.setAsyncValidators(Wt(Y,this._rawAsyncValidators))}removeValidators(Y){this.setValidators(Vt(Y,this._rawValidators))}removeAsyncValidators(Y){this.setAsyncValidators(Vt(Y,this._rawAsyncValidators))}hasValidator(Y){return Bn(this._rawValidators,Y)}hasAsyncValidator(Y){return Bn(this._rawAsyncValidators,Y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Y={}){this.touched=!0,this._parent&&!Y.onlySelf&&this._parent.markAsTouched(Y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Y=>Y.markAllAsTouched())}markAsUntouched(Y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}markAsDirty(Y={}){this.pristine=!1,this._parent&&!Y.onlySelf&&this._parent.markAsDirty(Y)}markAsPristine(Y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}markAsPending(Y={}){this.status=xr,!1!==Y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Y.onlySelf&&this._parent.markAsPending(Y)}disable(Y={}){const O=this._parentMarkedDirty(Y.onlySelf);this.status=ur,this.errors=null,this._forEachChild(oe=>{oe.disable({...Y,onlySelf:!0})}),this._updateValue(),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Y,skipPristineCheck:O}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(Y={}){const O=this._parentMarkedDirty(Y.onlySelf);this.status=Kt,this._forEachChild(oe=>{oe.enable({...Y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent}),this._updateAncestors({...Y,skipPristineCheck:O}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(Y){this._parent&&!Y.onlySelf&&(this._parent.updateValueAndValidity(Y),Y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Y){this._parent=Y}getRawValue(){return this.value}updateValueAndValidity(Y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===xr)&&this._runAsyncValidator(Y.emitEvent)),!1!==Y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Y.onlySelf&&this._parent.updateValueAndValidity(Y)}_updateTreeValidity(Y={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(Y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ur:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Y){if(this.asyncValidator){this.status=xr,this._hasOwnPendingAsyncValidator=!0;const O=Qe(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:Y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Y,O={}){this.errors=Y,this._updateControlsErrors(!1!==O.emitEvent)}get(Y){let O=Y;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((oe,Ve)=>oe&&oe._find(Ve),this)}getError(Y,O){const oe=O?this.get(O):this;return oe&&oe.errors?oe.errors[Y]:null}hasError(Y,O){return!!this.getError(Y,O)}get root(){let Y=this;for(;Y._parent;)Y=Y._parent;return Y}_updateControlsErrors(Y){this.status=this._calculateStatus(),Y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Y)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?ur:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xr)?xr:this._anyControlsHaveStatus(Mn)?Mn:Kt}_anyControlsHaveStatus(Y){return this._anyControls(O=>O.status===Y)}_anyControlsDirty(){return this._anyControls(Y=>Y.dirty)}_anyControlsTouched(){return this._anyControls(Y=>Y.touched)}_updatePristine(Y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Y.onlySelf&&this._parent._updatePristine(Y)}_updateTouched(Y={}){this.touched=this._anyControlsTouched(),this._parent&&!Y.onlySelf&&this._parent._updateTouched(Y)}_registerOnCollectionChange(Y){this._onCollectionChange=Y}_setUpdateStrategy(Y){F(Y)&&null!=Y.updateOn&&(this._updateOn=Y.updateOn)}_parentMarkedDirty(Y){return!Y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Y){return null}_assignValidators(Y){this._rawValidators=Array.isArray(Y)?Y.slice():Y,this._composedValidatorFn=function ee(G){return Array.isArray(G)?hn(G):G||null}(this._rawValidators)}_assignAsyncValidators(Y){this._rawAsyncValidators=Array.isArray(Y)?Y.slice():Y,this._composedAsyncValidatorFn=function V(G){return Array.isArray(G)?Fn(G):G||null}(this._rawAsyncValidators)}}class Ot extends It{constructor(Y,O,oe){super(Oe(O),H(oe,O)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Y,O){return this.controls[Y]?this.controls[Y]:(this.controls[Y]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(Y,O,oe={}){this.registerControl(Y,O),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(Y,O={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(Y,O,oe={}){this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),delete this.controls[Y],O&&this.registerControl(Y,O),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(Y){return this.controls.hasOwnProperty(Y)&&this.controls[Y].enabled}setValue(Y,O={}){je(this,0,Y),Object.keys(Y).forEach(oe=>{ue(this,!0,oe),this.controls[oe].setValue(Y[oe],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(Y,O={}){null!=Y&&(Object.keys(Y).forEach(oe=>{const Ve=this.controls[oe];Ve&&Ve.patchValue(Y[oe],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(Y={},O={}){this._forEachChild((oe,Ve)=>{oe.reset(Y?Y[Ve]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(Y,O,oe)=>(Y[oe]=O.getRawValue(),Y))}_syncPendingControls(){let Y=this._reduceChildren(!1,(O,oe)=>!!oe._syncPendingControls()||O);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){Object.keys(this.controls).forEach(O=>{const oe=this.controls[O];oe&&Y(oe,O)})}_setUpControls(){this._forEachChild(Y=>{Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Y){for(const[O,oe]of Object.entries(this.controls))if(this.contains(O)&&Y(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,oe,Ve)=>((oe.enabled||this.disabled)&&(O[Ve]=oe.value),O))}_reduceChildren(Y,O){let oe=Y;return this._forEachChild((Ve,yn)=>{oe=O(oe,Ve,yn)}),oe}_allControlsDisabled(){for(const Y of Object.keys(this.controls))if(this.controls[Y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Y){return this.controls.hasOwnProperty(Y)?this.controls[Y]:null}}class ln extends Ot{}const An=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>li}),li="always";function br(G,Y){return[...Y.path,G]}function Oo(G,Y,O=li){Lt(G,Y),Y.valueAccessor.writeValue(G.value),(G.disabled||"always"===O)&&Y.valueAccessor.setDisabledState?.(G.disabled),function Te(G,Y){Y.valueAccessor.registerOnChange(O=>{G._pendingValue=O,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Et(G,Y)})}(G,Y),function en(G,Y){const O=(oe,Ve)=>{Y.valueAccessor.writeValue(oe),Ve&&Y.viewToModelUpdate(oe)};G.registerOnChange(O),Y._registerOnDestroy(()=>{G._unregisterOnChange(O)})}(G,Y),function fe(G,Y){Y.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Et(G,Y),"submit"!==G.updateOn&&G.markAsTouched()})}(G,Y),function Pe(G,Y){if(Y.valueAccessor.setDisabledState){const O=oe=>{Y.valueAccessor.setDisabledState(oe)};G.registerOnDisabledChange(O),Y._registerOnDestroy(()=>{G._unregisterOnDisabledChange(O)})}}(G,Y)}function ri(G,Y,O=!0){const oe=()=>{};Y.valueAccessor&&(Y.valueAccessor.registerOnChange(oe),Y.valueAccessor.registerOnTouched(oe)),Ce(G,Y),G&&(Y._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function Bi(G,Y){G.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(Y)})}function Lt(G,Y){const O=fr(G);null!==Y.validator?G.setValidators(In(O,Y.validator)):"function"==typeof O&&G.setValidators([O]);const oe=Gt(G);null!==Y.asyncValidator?G.setAsyncValidators(In(oe,Y.asyncValidator)):"function"==typeof oe&&G.setAsyncValidators([oe]);const Ve=()=>G.updateValueAndValidity();Bi(Y._rawValidators,Ve),Bi(Y._rawAsyncValidators,Ve)}function Ce(G,Y){let O=!1;if(null!==G){if(null!==Y.validator){const Ve=fr(G);if(Array.isArray(Ve)&&Ve.length>0){const yn=Ve.filter(Hn=>Hn!==Y.validator);yn.length!==Ve.length&&(O=!0,G.setValidators(yn))}}if(null!==Y.asyncValidator){const Ve=Gt(G);if(Array.isArray(Ve)&&Ve.length>0){const yn=Ve.filter(Hn=>Hn!==Y.asyncValidator);yn.length!==Ve.length&&(O=!0,G.setAsyncValidators(yn))}}}const oe=()=>{};return Bi(Y._rawValidators,oe),Bi(Y._rawAsyncValidators,oe),O}function Et(G,Y){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),Y.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Dn(G,Y){Lt(G,Y)}function Mr(G,Y){if(!G.hasOwnProperty("model"))return!1;const O=G.model;return!!O.isFirstChange()||!Object.is(Y,O.currentValue)}function ki(G,Y){G._syncPendingControls(),Y.forEach(O=>{const oe=O.control;"submit"===oe.updateOn&&oe._pendingChange&&(O.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function Es(G,Y){if(!Y)return null;let O,oe,Ve;return Array.isArray(Y),Y.forEach(yn=>{yn.constructor===We?O=yn:function ys(G){return Object.getPrototypeOf(G.constructor)===Xe}(yn)?oe=yn:Ve=yn}),Ve||oe||O||null}const No={provide:fn,useExisting:(0,a.Rfq)(()=>zi)},Pi=(()=>Promise.resolve())();let zi=(()=>{class G extends fn{constructor(O,oe,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new Ot({},hn(O),Fn(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Pi.then(()=>{const oe=this._findContainer(O.path);O.control=oe.registerControl(O.name,O.control),Oo(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Pi.then(()=>{const oe=this._findContainer(O.path);oe&&oe.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){Pi.then(()=>{const oe=this._findContainer(O.path),Ve=new Ot({});Dn(Ve,O),oe.registerControl(O.name,Ve),Ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Pi.then(()=>{const oe=this._findContainer(O.path);oe&&oe.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,oe){Pi.then(()=>{this.form.get(O.path).setValue(oe)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,ki(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(rt,10),a.rXU(wt,10),a.rXU(An,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("submit",function(Hn){return Ve.onSubmit(Hn)})("reset",function(){return Ve.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([No]),a.Vt3]})}return G})();function yr(G,Y){const O=G.indexOf(Y);O>-1&&G.splice(O,1)}function us(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const $r=class extends It{constructor(Y=null,O,oe){super(Oe(O),H(oe,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Y),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=us(Y)?Y.value:Y)}setValue(Y,O={}){this.value=this._pendingValue=Y,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(Y,O={}){this.setValue(Y,O)}reset(Y=this.defaultValue,O={}){this._applyFormState(Y),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(Y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Y){this._onChange.push(Y)}_unregisterOnChange(Y){yr(this._onChange,Y)}registerOnDisabledChange(Y){this._onDisabledChange.push(Y)}_unregisterOnDisabledChange(Y){yr(this._onDisabledChange,Y)}_forEachChild(Y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Y){us(Y)?(this.value=this._pendingValue=Y.value,Y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Y}};let lo=(()=>{class G extends fn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return br(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,features:[a.Vt3]})}return G})();const ci={provide:Cr,useExisting:(0,a.Rfq)(()=>qo)},Co=(()=>Promise.resolve())();let qo=(()=>{class G extends Cr{constructor(O,oe,Ve,yn,Hn,oo){super(),this._changeDetectorRef=Hn,this.callSetDisabledState=oo,this.control=new $r,this._registered=!1,this.name="",this.update=new a.bkB,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve),this.valueAccessor=Es(0,yn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const oe=O.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),Mr(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Co.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const oe=O.isDisabled.currentValue,Ve=0!==oe&&(0,a.L39)(oe);Co.then(()=>{Ve&&!this.control.disabled?this.control.disable():!Ve&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?br(O,this._parent):[O]}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,9),a.rXU(rt,10),a.rXU(wt,10),a.rXU(bt,10),a.rXU(a.gRc,8),a.rXU(An,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.Jv_([ci]),a.Vt3,a.OA$]})}return G})(),Cs=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})();const ho={provide:bt,useExisting:(0,a.Rfq)(()=>rs),multi:!0};let rs=(()=>{class G extends Xe{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=oe=>{O(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("input",function(Hn){return Ve.onChange(Hn.target.value)})("blur",function(){return Ve.onTouched()})},features:[a.Jv_([ho]),a.Vt3]})}return G})();const Yn={provide:bt,useExisting:(0,a.Rfq)(()=>Hr),multi:!0};let Ti=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({})}return G})(),fo=(()=>{class G{constructor(){this._accessors=[]}add(O,oe){this._accessors.push([O,oe])}remove(O){for(let oe=this._accessors.length-1;oe>=0;--oe)if(this._accessors[oe][1]===O)return void this._accessors.splice(oe,1)}select(O){this._accessors.forEach(oe=>{this._isSameGroup(oe,O)&&oe[1]!==O&&oe[1].fireUncheck(O.value)})}_isSameGroup(O,oe){return!!O[0].control&&O[0]._parent===oe._control._parent&&O[1].name===oe.name}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275prov=a.jDH({token:G,factory:G.\u0275fac,providedIn:Ti})}return G})(),Hr=(()=>{class G extends Xe{constructor(O,oe,Ve,yn){super(O,oe),this._registry=Ve,this._injector=yn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,a.WQX)(An,{optional:!0})??li}ngOnInit(){this._control=this._injector.get(Cr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(O){this._state=O===this.value,this.setProperty("checked",this._state)}registerOnChange(O){this._fn=O,this.onChange=()=>{O(this.value),this._registry.select(this)}}setDisabledState(O){(this.setDisabledStateFired||O||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",O),this.setDisabledStateFired=!0}fireUncheck(O){this.writeValue(O)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(fo),a.rXU(a.zZn))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(){return Ve.onChange()})("blur",function(){return Ve.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a.Jv_([Yn]),a.Vt3]})}return G})();const Fi=new a.nKC("NgModelWithFormControlWarning"),Or={provide:fn,useExisting:(0,a.Rfq)(()=>Zt)};let Zt=(()=>{class G extends fn{constructor(O,oe,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.bkB,this._setValidators(O),this._setAsyncValidators(oe)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ce(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const oe=this.form.get(O.path);return Oo(oe,O,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),oe}getControl(O){return this.form.get(O.path)}removeControl(O){ri(O.control||null,O,!1),function Ei(G,Y){const O=G.indexOf(Y);O>-1&&G.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,oe){this.form.get(O.path).setValue(oe)}onSubmit(O){return this.submitted=!0,ki(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const oe=O.control,Ve=this.form.get(O.path);oe!==Ve&&(ri(oe||null,O),(G=>G instanceof $r)(Ve)&&(Oo(Ve,O,this.callSetDisabledState),O.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const oe=this.form.get(O.path);Dn(oe,O),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const oe=this.form.get(O.path);oe&&function On(G,Y){return Ce(G,Y)}(oe,O)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lt(this.form,this),this._oldForm&&Ce(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(rt,10),a.rXU(wt,10),a.rXU(An,8))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("submit",function(Hn){return Ve.onSubmit(Hn)})("reset",function(){return Ve.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([Or]),a.Vt3,a.OA$]})}return G})();const Un={provide:fn,useExisting:(0,a.Rfq)(()=>dr)};let dr=(()=>{class G extends lo{constructor(O,oe,Ve){super(),this.name=null,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve)}_checkParentType(){fi(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,13),a.rXU(rt,10),a.rXU(wt,10))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a.Jv_([Un]),a.Vt3]})}return G})();const Ui={provide:fn,useExisting:(0,a.Rfq)(()=>io)};let io=(()=>{class G extends fn{constructor(O,oe,Ve){super(),this.name=null,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return br(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){fi(this._parent)}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,13),a.rXU(rt,10),a.rXU(wt,10))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a.Jv_([Ui]),a.Vt3]})}return G})();function fi(G){return!(G instanceof dr||G instanceof Zt||G instanceof io)}const bo={provide:Cr,useExisting:(0,a.Rfq)(()=>Gr)};let Gr=(()=>{class G extends Cr{set isDisabled(O){}static#e=this._ngModelWarningSentOnce=!1;constructor(O,oe,Ve,yn,Hn){super(),this._ngModelWarningConfig=Hn,this._added=!1,this.name=null,this.update=new a.bkB,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(oe),this._setAsyncValidators(Ve),this.valueAccessor=Es(0,yn)}ngOnChanges(O){this._added||this._setUpControl(),Mr(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return br(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(fn,13),a.rXU(rt,10),a.rXU(wt,10),a.rXU(bt,10),a.rXU(Fi,8))};static#n=this.\u0275dir=a.FsC({type:G,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a.Jv_([bo]),a.Vt3,a.OA$]})}return G})();const Fo={provide:bt,useExisting:(0,a.Rfq)(()=>Io),multi:!0};function Vo(G,Y){return null==G?`${Y}`:(Y&&"object"==typeof Y&&(Y="Object"),`${G}: ${Y}`.slice(0,50))}let Io=(()=>{class G extends Xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const Ve=Vo(this._getOptionId(O),O);this.setProperty("value",Ve)}registerOnChange(O){this.onChange=oe=>{this.value=this._getOptionValue(oe),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),O))return oe;return null}_getOptionValue(O){const oe=function Wn(G){return G.split(":")[0]}(O);return this._optionMap.has(oe)?this._optionMap.get(oe):O}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(Hn){return Ve.onChange(Hn.target.value)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([Fo]),a.Vt3]})}return G})(),gi=(()=>{class G{constructor(O,oe,Ve){this._element=O,this._renderer=oe,this._select=Ve,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(Vo(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(Io,9))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})();const Q={provide:bt,useExisting:(0,a.Rfq)(()=>Ye),multi:!0};function z(G,Y){return null==G?`${Y}`:("string"==typeof Y&&(Y=`'${Y}'`),Y&&"object"==typeof Y&&(Y="Object"),`${G}: ${Y}`.slice(0,50))}let Ye=(()=>{class G extends Xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let oe;if(this.value=O,Array.isArray(O)){const Ve=O.map(yn=>this._getOptionId(yn));oe=(yn,Hn)=>{yn._setSelected(Ve.indexOf(Hn.toString())>-1)}}else oe=(Ve,yn)=>{Ve._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(O){this.onChange=oe=>{const Ve=[],yn=oe.selectedOptions;if(void 0!==yn){const Hn=yn;for(let oo=0;oo<Hn.length;oo++){const so=this._getOptionValue(Hn[oo].value);Ve.push(so)}}else{const Hn=oe.options;for(let oo=0;oo<Hn.length;oo++){const mo=Hn[oo];if(mo.selected){const so=this._getOptionValue(mo.value);Ve.push(so)}}}this.value=Ve,O(Ve)}}_registerOption(O){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,O),oe}_getOptionId(O){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,O))return oe;return null}_getOptionValue(O){const oe=function ye(G){return G.split(":")[0]}(O);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:O}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ve){1&oe&&a.bIt("change",function(Hn){return Ve.onChange(Hn.target)})("blur",function(){return Ve.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.Jv_([Q]),a.Vt3]})}return G})(),yt=(()=>{class G{constructor(O,oe,Ve){this._element=O,this._renderer=oe,this._select=Ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(z(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(z(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||G)(a.rXU(a.aKT),a.rXU(a.sFG),a.rXU(Ye,9))};static#t=this.\u0275dir=a.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return G})(),Rt=(()=>{class G{constructor(){this._validator=le}ngOnChanges(O){if(this.inputName in O){const oe=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):le,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275dir=a.FsC({type:G,features:[a.OA$]})}return G})();const wr={provide:rt,useExisting:(0,a.Rfq)(()=>ii),multi:!0};let ii=(()=>{class G extends Rt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.L39,this.createValidator=O=>nr}enabled(O){return O}static#e=this.\u0275fac=function(){let O;return function(Ve){return(O||(O=a.xGo(G)))(Ve||G)}}();static#t=this.\u0275dir=a.FsC({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ve){2&oe&&a.BMQ("required",Ve._enabled?"":null)},inputs:{required:"required"},features:[a.Jv_([wr]),a.Vt3]})}return G})(),go=(()=>{class G{static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[Ti]})}return G})();class is extends It{constructor(Y,O,oe){super(Oe(O),H(oe,O)),this.controls=Y,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Y){return this.controls[this._adjustIndex(Y)]}push(Y,O={}){this.controls.push(Y),this._registerControl(Y),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(Y,O,oe={}){this.controls.splice(Y,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(Y,O={}){let oe=this._adjustIndex(Y);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(Y,O,oe={}){let Ve=this._adjustIndex(Y);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),O&&(this.controls.splice(Ve,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Y,O={}){je(this,0,Y),Y.forEach((oe,Ve)=>{ue(this,!1,Ve),this.at(Ve).setValue(oe,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(Y,O={}){null!=Y&&(Y.forEach((oe,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(oe,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(Y=[],O={}){this._forEachChild((oe,Ve)=>{oe.reset(Y[Ve],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(Y=>Y.getRawValue())}clear(Y={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Y.emitEvent}))}_adjustIndex(Y){return Y<0?Y+this.length:Y}_syncPendingControls(){let Y=this.controls.reduce((O,oe)=>!!oe._syncPendingControls()||O,!1);return Y&&this.updateValueAndValidity({onlySelf:!0}),Y}_forEachChild(Y){this.controls.forEach((O,oe)=>{Y(O,oe)})}_updateValue(){this.value=this.controls.filter(Y=>Y.enabled||this.disabled).map(Y=>Y.value)}_anyControls(Y){return this.controls.some(O=>O.enabled&&Y(O))}_setUpControls(){this._forEachChild(Y=>this._registerControl(Y))}_allControlsDisabled(){for(const Y of this.controls)if(Y.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Y){Y.setParent(this),Y._registerOnCollectionChange(this._onCollectionChange)}_find(Y){return this.at(Y)??null}}function Hi(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Os=(()=>{class G{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new G;return O.useNonNullable=!0,O}group(O,oe=null){const Ve=this._reduceControls(O);let yn={};return Hi(oe)?yn=oe:null!==oe&&(yn.validators=oe.validator,yn.asyncValidators=oe.asyncValidator),new Ot(Ve,yn)}record(O,oe=null){const Ve=this._reduceControls(O);return new ln(Ve,oe)}control(O,oe,Ve){let yn={};return this.useNonNullable?(Hi(oe)?yn=oe:(yn.validators=oe,yn.asyncValidators=Ve),new $r(O,{...yn,nonNullable:!0})):new $r(O,oe,Ve)}array(O,oe,Ve){const yn=O.map(Hn=>this._createControl(Hn));return new is(yn,oe,Ve)}_reduceControls(O){const oe={};return Object.keys(O).forEach(Ve=>{oe[Ve]=this._createControl(O[Ve])}),oe}_createControl(O){return O instanceof $r||O instanceof It?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275prov=a.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),sa=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:An,useValue:O.callSetDisabledState??li}]}}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[go]})}return G})(),xa=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:Fi,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:An,useValue:O.callSetDisabledState??li}]}}static#e=this.\u0275fac=function(oe){return new(oe||G)};static#t=this.\u0275mod=a.$C({type:G});static#n=this.\u0275inj=a.G2t({imports:[go]})}return G})()},345:(on,Je,L)=>{L.d(Je,{Bb:()=>Bn,W8:()=>Vt,hE:()=>Cr,sG:()=>In,up:()=>yi});var a=L(7705),ae=L(177);class o extends ae.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ae extends o{static makeCurrent(){(0,ae.ZD)(new Ae)}onAndCancel(H,V,F){return H.addEventListener(V,F),()=>{H.removeEventListener(V,F)}}dispatchEvent(H,V){H.dispatchEvent(V)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,V){return(V=V||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,V){return"window"===V?window:"document"===V?H:"body"===V?H.body:null}getBaseHref(H){const V=function De(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==V?null:function Le(ee){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ee);const H=Ne.pathname;return"/"===H.charAt(0)?H:`/${H}`}(V)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,ae._b)(document.cookie,H)}}let Ne,he=null,Z=(()=>{class ee{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const ce=new a.nKC("EventManagerPlugins");let me=(()=>{class ee{constructor(V,F){this._zone=F,this._eventNameToPlugin=new Map,V.forEach(ue=>{ue.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,F,ue){return this._findPluginFor(F).addEventListener(V,F,ue)}getZone(){return this._zone}_findPluginFor(V){let F=this._eventNameToPlugin.get(V);if(F)return F;if(F=this._plugins.find(je=>je.supports(V)),!F)throw new a.wOt(5101,!1);return this._eventNameToPlugin.set(V,F),F}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ce),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class at{constructor(H){this._doc=H}}const Xe="ng-app-id";let bt=(()=>{class ee{constructor(V,F,ue,je={}){this.doc=V,this.appId=F,this.nonce=ue,this.platformId=je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.Vy)(je),this.resetHostNodes()}addStyles(V){for(const F of V)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(V){for(const F of V)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(F=>F.remove()),V.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const F of this.getAllStyles())this.addStyleToHost(V,F)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const F of this.hostNodes)this.addStyleToHost(F,V)}onStyleRemoved(V){const F=this.styleRef;F.get(V)?.elements?.forEach(ue=>ue.remove()),F.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${Xe}="${this.appId}"]`);if(V?.length){const F=new Map;return V.forEach(ue=>{null!=ue.textContent&&F.set(ue.textContent,ue)}),F}return null}changeUsageCount(V,F){const ue=this.styleRef;if(ue.has(V)){const je=ue.get(V);return je.usage+=F,je.usage}return ue.set(V,{usage:F,elements:[]}),F}getStyleElement(V,F){const ue=this.styleNodesInDOM,je=ue?.get(F);if(je?.parentNode===V)return ue.delete(F),je.removeAttribute(Xe),je;{const It=this.doc.createElement("style");return this.nonce&&It.setAttribute("nonce",this.nonce),It.textContent=F,this.platformIsServer&&It.setAttribute(Xe,this.appId),It}}addStyleToHost(V,F){const ue=this.getStyleElement(V,F);V.appendChild(ue);const je=this.styleRef,It=je.get(F)?.elements;It?It.push(ue):je.set(F,{elements:[ue],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ),a.KVO(a.sZ2),a.KVO(a.BIS,8),a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g,ot=new a.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wt(ee,H){return H.map(V=>V.replace(jt,ee))}let Ft=(()=>{class ee{constructor(V,F,ue,je,It,Ot,pn,nn=null){this.eventManager=V,this.sharedStylesHost=F,this.appId=ue,this.removeStylesOnCompDestroy=je,this.doc=It,this.platformId=Ot,this.ngZone=pn,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.Vy)(Ot),this.defaultRenderer=new be(V,It,pn,this.platformIsServer)}createRenderer(V,F){if(!V||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===a.gXe.ShadowDom&&(F={...F,encapsulation:a.gXe.Emulated});const ue=this.getOrCreateRenderer(V,F);return ue instanceof qt?ue.applyToHost(V):ue instanceof Bt&&ue.applyStyles(),ue}getOrCreateRenderer(V,F){const ue=this.rendererByCompId;let je=ue.get(F.id);if(!je){const It=this.doc,Ot=this.ngZone,pn=this.eventManager,nn=this.sharedStylesHost,ln=this.removeStylesOnCompDestroy,rr=this.platformIsServer;switch(F.encapsulation){case a.gXe.Emulated:je=new qt(pn,nn,F,this.appId,ln,It,Ot,rr);break;case a.gXe.ShadowDom:return new Pt(pn,nn,V,F,It,Ot,this.nonce,rr);default:je=new Bt(pn,nn,F,ln,It,Ot,rr)}ue.set(F.id,je)}return je}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(me),a.KVO(bt),a.KVO(a.sZ2),a.KVO(ot),a.KVO(ae.qQ),a.KVO(a.Agw),a.KVO(a.SKi),a.KVO(a.BIS))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();class be{constructor(H,V,F,ue){this.eventManager=H,this.doc=V,this.ngZone=F,this.platformIsServer=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,V){return V?this.doc.createElementNS(Ct[V]||V,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,V){(nr(H)?H.content:H).appendChild(V)}insertBefore(H,V,F){H&&(nr(H)?H.content:H).insertBefore(V,F)}removeChild(H,V){H&&H.removeChild(V)}selectRootElement(H,V){let F="string"==typeof H?this.doc.querySelector(H):H;if(!F)throw new a.wOt(-5104,!1);return V||(F.textContent=""),F}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,V,F,ue){if(ue){V=ue+":"+V;const je=Ct[ue];je?H.setAttributeNS(je,V,F):H.setAttribute(V,F)}else H.setAttribute(V,F)}removeAttribute(H,V,F){if(F){const ue=Ct[F];ue?H.removeAttributeNS(ue,V):H.removeAttribute(`${F}:${V}`)}else H.removeAttribute(V)}addClass(H,V){H.classList.add(V)}removeClass(H,V){H.classList.remove(V)}setStyle(H,V,F,ue){ue&(a.czy.DashCase|a.czy.Important)?H.style.setProperty(V,F,ue&a.czy.Important?"important":""):H.style[V]=F}removeStyle(H,V,F){F&a.czy.DashCase?H.style.removeProperty(V):H.style[V]=""}setProperty(H,V,F){H[V]=F}setValue(H,V){H.nodeValue=V}listen(H,V,F){if("string"==typeof H&&!(H=(0,ae.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${V}`);return this.eventManager.addEventListener(H,V,this.decoratePreventDefault(F))}decoratePreventDefault(H){return V=>{if("__ngUnwrap__"===V)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(V)):H(V))&&V.preventDefault()}}}function nr(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class Pt extends be{constructor(H,V,F,ue,je,It,Ot,pn){super(H,je,It,pn),this.sharedStylesHost=V,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nn=wt(ue.id,ue.styles);for(const ln of nn){const rr=document.createElement("style");Ot&&rr.setAttribute("nonce",Ot),rr.textContent=ln,this.shadowRoot.appendChild(rr)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,V){return super.appendChild(this.nodeOrShadowRoot(H),V)}insertBefore(H,V,F){return super.insertBefore(this.nodeOrShadowRoot(H),V,F)}removeChild(H,V){return super.removeChild(this.nodeOrShadowRoot(H),V)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bt extends be{constructor(H,V,F,ue,je,It,Ot,pn){super(H,je,It,Ot),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=ue,this.styles=pn?wt(pn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends Bt{constructor(H,V,F,ue,je,It,Ot,pn){const nn=ue+"-"+F.id;super(H,V,F,je,It,Ot,pn,nn),this.contentAttr=function Ze(ee){return"_ngcontent-%COMP%".replace(jt,ee)}(nn),this.hostAttr=function rt(ee){return"_nghost-%COMP%".replace(jt,ee)}(nn)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,V){const F=super.createElement(H,V);return super.setAttribute(F,this.contentAttr,""),F}}let ct=(()=>{class ee extends at{constructor(V){super(V)}supports(V){return!0}addEventListener(V,F,ue){return V.addEventListener(F,ue,!1),()=>this.removeEventListener(V,F,ue)}removeEventListener(V,F,ue){return V.removeEventListener(F,ue)}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Me=["alt","control","meta","shift"],le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let Qe=(()=>{class ee extends at{constructor(V){super(V)}supports(V){return null!=ee.parseEventName(V)}addEventListener(V,F,ue){const je=ee.parseEventName(F),It=ee.eventCallback(je.fullKey,ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.QT)().onAndCancel(V,je.domEventName,It))}static parseEventName(V){const F=V.toLowerCase().split("."),ue=F.shift();if(0===F.length||"keydown"!==ue&&"keyup"!==ue)return null;const je=ee._normalizeKey(F.pop());let It="",Ot=F.indexOf("code");if(Ot>-1&&(F.splice(Ot,1),It="code."),Me.forEach(nn=>{const ln=F.indexOf(nn);ln>-1&&(F.splice(ln,1),It+=nn+".")}),It+=je,0!=F.length||0===je.length)return null;const pn={};return pn.domEventName=ue,pn.fullKey=It,pn}static matchEventFullKeyCode(V,F){let ue=le[V.key]||V.key,je="";return F.indexOf("code.")>-1&&(ue=V.code,je="code."),!(null==ue||!ue)&&(ue=ue.toLowerCase()," "===ue?ue="space":"."===ue&&(ue="dot"),Me.forEach(It=>{It!==ue&&(0,Fe[It])(V)&&(je+=It+".")}),je+=ue,je===F)}static eventCallback(V,F,ue){return je=>{ee.matchEventFullKeyCode(je,V)&&ue.runGuarded(()=>F(je))}}static _normalizeKey(V){return"esc"===V?"escape":V}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const In=(0,a.oH4)(a.fpN,"browser",[{provide:a.Agw,useValue:ae.AJ},{provide:a.PLl,useValue:function xt(){Ae.makeCurrent()},multi:!0},{provide:ae.qQ,useFactory:function sn(){return(0,a.TL$)(document),document},deps:[]}]),fr=new a.nKC(""),Gt=[{provide:a.e01,useClass:class Be{addToWindow(H){a.JZv.getAngularTestability=(F,ue=!0)=>{const je=H.findTestabilityInTree(F,ue);if(null==je)throw new a.wOt(5103,!1);return je},a.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),a.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),a.JZv.frameworkStabilizers||(a.JZv.frameworkStabilizers=[]),a.JZv.frameworkStabilizers.push(F=>{const ue=a.JZv.getAllAngularTestabilities();let je=ue.length,It=!1;const Ot=function(pn){It=It||pn,je--,0==je&&F(It)};ue.forEach(pn=>{pn.whenStable(Ot)})})}findTestabilityInTree(H,V,F){return null==V?null:H.getTestability(V)??(F?(0,ae.QT)().isShadowRoot(V)?this.findTestabilityInTree(H,V.host,!0):this.findTestabilityInTree(H,V.parentElement,!0):null)}},deps:[]},{provide:a.WHO,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]},{provide:a.NYb,useClass:a.NYb,deps:[a.SKi,a.giA,a.e01]}],wn=[{provide:a.H8p,useValue:"root"},{provide:a.zcH,useFactory:function hn(){return new a.zcH},deps:[]},{provide:ce,useClass:ct,multi:!0,deps:[ae.qQ,a.SKi,a.Agw]},{provide:ce,useClass:Qe,multi:!0,deps:[ae.qQ]},Ft,bt,me,{provide:a._9s,useExisting:Ft},{provide:ae.N0,useClass:Z,deps:[]},[]];let Bn=(()=>{class ee{constructor(V){}static withServerTransition(V){return{ngModule:ee,providers:[{provide:a.sZ2,useValue:V.appId}]}}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(fr,12))};static#t=this.\u0275mod=a.$C({type:ee});static#n=this.\u0275inj=a.G2t({providers:[...wn,...Gt],imports:[ae.MD,a.Hbi]})}return ee})(),Vt=(()=>{class ee{constructor(V){this._doc=V,this._dom=(0,ae.QT)()}addTag(V,F=!1){return V?this._getOrCreateElement(V,F):null}addTags(V,F=!1){return V?V.reduce((ue,je)=>(je&&ue.push(this._getOrCreateElement(je,F)),ue),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const F=this._doc.querySelectorAll(`meta[${V}]`);return F?[].slice.call(F):[]}updateTag(V,F){if(!V)return null;F=F||this._parseSelector(V);const ue=this.getTag(F);return ue?this._setMetaElementAttributes(V,ue):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,F=!1){if(!F){const It=this._parseSelector(V),Ot=this.getTags(It).filter(pn=>this._containsAttributes(V,pn))[0];if(void 0!==Ot)return Ot}const ue=this._dom.createElement("meta");return this._setMetaElementAttributes(V,ue),this._doc.getElementsByTagName("head")[0].appendChild(ue),ue}_setMetaElementAttributes(V,F){return Object.keys(V).forEach(ue=>F.setAttribute(this._getMetaKeyMap(ue),V[ue])),F}_parseSelector(V){const F=V.name?"name":"property";return`${F}="${V[F]}"`}_containsAttributes(V,F){return Object.keys(V).every(ue=>F.getAttribute(this._getMetaKeyMap(ue))===V[ue])}_getMetaKeyMap(V){return Br[V]||V}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new F:function Wt(){return new Vt((0,a.KVO)(ae.qQ))}(),ue},providedIn:"root"})}return ee})();const Br={httpEquiv:"http-equiv"};let Cr=(()=>{class ee{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new F:function fn(){return new Cr((0,a.KVO)(ae.qQ))}(),ue},providedIn:"root"})}return ee})();typeof window<"u"&&window;let yi=(()=>{class ee{static#e=this.\u0275fac=function(F){return new(F||ee)};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new(F||ee):a.KVO(mt),ue},providedIn:"root"})}return ee})(),mt=(()=>{class ee extends yi{constructor(V){super(),this._doc=V}sanitize(V,F){if(null==F)return null;switch(V){case a.WPN.NONE:return F;case a.WPN.HTML:return(0,a.ZF7)(F,"HTML")?(0,a.rcV)(F):(0,a.h9k)(this._doc,String(F)).toString();case a.WPN.STYLE:return(0,a.ZF7)(F,"Style")?(0,a.rcV)(F):F;case a.WPN.SCRIPT:if((0,a.ZF7)(F,"Script"))return(0,a.rcV)(F);throw new a.wOt(5200,!1);case a.WPN.URL:return(0,a.ZF7)(F,"URL")?(0,a.rcV)(F):(0,a.$MX)(String(F));case a.WPN.RESOURCE_URL:if((0,a.ZF7)(F,"ResourceURL"))return(0,a.rcV)(F);throw new a.wOt(5201,!1);default:throw new a.wOt(5202,!1)}}bypassSecurityTrustHtml(V){return(0,a.Kcf)(V)}bypassSecurityTrustStyle(V){return(0,a.cWb)(V)}bypassSecurityTrustScript(V){return(0,a.UyX)(V)}bypassSecurityTrustUrl(V){return(0,a.osQ)(V)}bypassSecurityTrustResourceUrl(V){return(0,a.e5t)(V)}static#e=this.\u0275fac=function(F){return new(F||ee)(a.KVO(ae.qQ))};static#t=this.\u0275prov=a.jDH({token:ee,factory:function(F){let ue=null;return ue=F?new F:function Ke(ee){return new mt(ee.get(ae.qQ))}(a.KVO(a.zZn)),ue},providedIn:"root"})}return ee})()},6814:(on,Je,L)=>{L.d(Je,{nX:()=>dr,Ix:()=>bi,Wk:()=>Yo,iI:()=>Za,n3:()=>Io});var a=L(7705),ae=L(1985),o=L(8071),he=L(8455),De=L(7673),Ne=L(4412),Le=L(3073),Be=L(3669),Z=L(6450),ce=L(3794),me=L(8496),at=L(4360),Xe=L(5225);function bt(...w){const R=(0,ce.lI)(w),I=(0,ce.ms)(w),{args:M,keys:j}=(0,Le.D)(w);if(0===M.length)return(0,he.H)([],R);const ne=new ae.c(function Ct(w,R,I=Be.D){return M=>{jt(R,()=>{const{length:j}=w,ne=new Array(j);let Ee=j,pt=j;for(let ht=0;ht<j;ht++)jt(R,()=>{const vn=(0,he.H)(w[ht],R);let mr=!1;vn.subscribe((0,at._)(M,Ar=>{ne[ht]=Ar,mr||(mr=!0,pt--),pt||M.next(I(ne.slice()))},()=>{--Ee||M.complete()}))},M)},M)}}(M,R,j?Ee=>(0,me.e)(j,Ee):Be.D));return I?ne.pipe((0,Z.I)(I)):ne}function jt(w,R,I){w?(0,Xe.N)(I,w,R):R()}var Mt=L(9350),cn=L(8793),et=L(8750);function We(w){return new ae.c(R=>{(0,et.Tg)(w()).subscribe(R)})}var ot=L(1203),Ze=L(8810),rt=L(983),wt=L(8359),Ft=L(9974);function be(){return(0,Ft.N)((w,R)=>{let I=null;w._refCount++;const M=(0,at._)(R,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(I=null);const j=w._connection,ne=I;I=null,j&&(!ne||j===ne)&&j.unsubscribe(),R.unsubscribe()});w.subscribe(M),M.closed||(I=w.connect())})}class Jt extends ae.c{constructor(R,I){super(),this.source=R,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Ft.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new wt.yU;const I=this.getSubject();R.add(this.source.subscribe((0,at._)(I,void 0,()=>{this._teardown(),I.complete()},M=>{this._teardown(),I.error(M)},()=>this._teardown()))),R.closed&&(this._connection=null,R=wt.yU.EMPTY)}return R}refCount(){return be()(this)}}var dn=L(1413),nr=L(177),Pt=L(6354),Bt=L(5558),qt=L(6697),ct=L(9172),Me=L(5964),le=L(1397),Fe=L(1594),Qe=L(274),xe=L(8141),Se=L(9437),Ge=L(2816),Tt=L(9901);function xt(w){return w<=0?()=>rt.w:(0,Ft.N)((R,I)=>{let M=[];R.subscribe((0,at._)(I,j=>{M.push(j),w<M.length&&M.shift()},()=>{for(const j of M)I.next(j);I.complete()},void 0,()=>{M=null}))})}var hn=L(3774),In=L(980),fr=L(5343),wn=L(6365),Bn=L(345);const Wt="primary",Vt=Symbol("RouteTitle");class Br{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I[0]:I}return null}getAll(R){if(this.has(R)){const I=this.params[R];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function fn(w){return new Br(w)}function Cr(w,R,I){const M=I.path.split("/");if(M.length>w.length||"full"===I.pathMatch&&(R.hasChildren()||M.length<w.length))return null;const j={};for(let ne=0;ne<M.length;ne++){const Ee=M[ne],pt=w[ne];if(Ee.startsWith(":"))j[Ee.substring(1)]=pt;else if(Ee!==pt.path)return null}return{consumed:w.slice(0,M.length),posParams:j}}function Ut(w,R){const I=w?Object.keys(w):void 0,M=R?Object.keys(R):void 0;if(!I||!M||I.length!=M.length)return!1;let j;for(let ne=0;ne<I.length;ne++)if(j=I[ne],!_n(w[j],R[j]))return!1;return!0}function _n(w,R){if(Array.isArray(w)&&Array.isArray(R)){if(w.length!==R.length)return!1;const I=[...w].sort(),M=[...R].sort();return I.every((j,ne)=>M[ne]===j)}return w===R}function Pn(w){return w.length>0?w[w.length-1]:null}function Tn(w){return function Ae(w){return!!w&&(w instanceof ae.c||(0,o.T)(w.lift)&&(0,o.T)(w.subscribe))}(w)?w:(0,a.jNT)(w)?(0,he.H)(Promise.resolve(w)):(0,De.of)(w)}const pr={exact:function ti(w,R,I){if(!mt(w.segments,R.segments)||!qn(w.segments,R.segments,I)||w.numberOfChildren!==R.numberOfChildren)return!1;for(const M in R.children)if(!w.children[M]||!ti(w.children[M],R.children[M],I))return!1;return!0},subset:un},Tr={exact:function $n(w,R){return Ut(w,R)},subset:function Ki(w,R){return Object.keys(R).length<=Object.keys(w).length&&Object.keys(R).every(I=>_n(w[I],R[I]))},ignored:()=>!0};function ei(w,R,I){return pr[I.paths](w.root,R.root,I.matrixParams)&&Tr[I.queryParams](w.queryParams,R.queryParams)&&!("exact"===I.fragment&&w.fragment!==R.fragment)}function un(w,R,I){return ni(w,R,R.segments,I)}function ni(w,R,I,M){if(w.segments.length>I.length){const j=w.segments.slice(0,I.length);return!(!mt(j,I)||R.hasChildren()||!qn(j,I,M))}if(w.segments.length===I.length){if(!mt(w.segments,I)||!qn(w.segments,I,M))return!1;for(const j in R.children)if(!w.children[j]||!un(w.children[j],R.children[j],M))return!1;return!0}{const j=I.slice(0,w.segments.length),ne=I.slice(w.segments.length);return!!(mt(w.segments,j)&&qn(w.segments,j,M)&&w.children[Wt])&&ni(w.children[Wt],R,ne,M)}}function qn(w,R,I){return R.every((M,j)=>Tr[I](w[j].parameters,M.parameters))}class vr{constructor(R=new Nn([],{}),I={},M=null){this.root=R,this.queryParams=I,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class Nn{constructor(R,I){this.segments=R,this.children=I,this.parent=null,Object.values(I).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mn(this)}}class yi{constructor(R,I){this.path=R,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=fn(this.parameters)),this._parameterMap}toString(){return ue(this)}}function mt(w,R){return w.length===R.length&&w.every((I,M)=>I.path===R[M].path)}let Ie=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return new ft},providedIn:"root"})}return w})();class ft{parse(R){const I=new Oo(R);return new vr(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(R){const I=`/${xr(R.root,!0)}`,M=function It(w){const R=Object.keys(w).map(I=>{const M=w[I];return Array.isArray(M)?M.map(j=>`${Oe(I)}=${Oe(j)}`).join("&"):`${Oe(I)}=${Oe(M)}`}).filter(I=>!!I);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${I}${M}${"string"==typeof R.fragment?`#${function ee(w){return encodeURI(w)}(R.fragment)}`:""}`}}const Kt=new ft;function Mn(w){return w.segments.map(R=>ue(R)).join("/")}function xr(w,R){if(!w.hasChildren())return Mn(w);if(R){const I=w.children[Wt]?xr(w.children[Wt],!1):"",M=[];return Object.entries(w.children).forEach(([j,ne])=>{j!==Wt&&M.push(`${j}:${xr(ne,!1)}`)}),M.length>0?`${I}(${M.join("//")})`:I}{const I=function ie(w,R){let I=[];return Object.entries(w.children).forEach(([M,j])=>{M===Wt&&(I=I.concat(R(j,M)))}),Object.entries(w.children).forEach(([M,j])=>{M!==Wt&&(I=I.concat(R(j,M)))}),I}(w,(M,j)=>j===Wt?[xr(w.children[Wt],!1)]:[`${j}:${xr(M,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Wt]?`${Mn(w)}/${I[0]}`:`${Mn(w)}/(${I.join("//")})`}}function ur(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oe(w){return ur(w).replace(/%3B/gi,";")}function H(w){return ur(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(w){return decodeURIComponent(w)}function F(w){return V(w.replace(/\+/g,"%20"))}function ue(w){return`${H(w.path)}${function je(w){return Object.keys(w).map(R=>`;${H(R)}=${H(w[R])}`).join("")}(w.parameters)}`}const Ot=/^[^\/()?;#]+/;function pn(w){const R=w.match(Ot);return R?R[0]:""}const nn=/^[^\/()?;=#]+/,rr=/^[^=?&#]+/,li=/^[^&#]+/;class Oo{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(R.length>0||Object.keys(I).length>0)&&(M[Wt]=new Nn(R,I)),M}parseSegment(){const R=pn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(R),new yi(V(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const I=function ln(w){const R=w.match(nn);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const j=pn(this.remaining);j&&(M=j,this.capture(M))}R[V(I)]=V(M)}parseQueryParam(R){const I=function An(w){const R=w.match(rr);return R?R[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const Ee=function br(w){const R=w.match(li);return R?R[0]:""}(this.remaining);Ee&&(M=Ee,this.capture(M))}const j=F(I),ne=F(M);if(R.hasOwnProperty(j)){let Ee=R[j];Array.isArray(Ee)||(Ee=[Ee],R[j]=Ee),Ee.push(ne)}else R[j]=ne}parseParens(R){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=pn(this.remaining),j=this.remaining[M.length];if("/"!==j&&")"!==j&&";"!==j)throw new a.wOt(4010,!1);let ne;M.indexOf(":")>-1?(ne=M.slice(0,M.indexOf(":")),this.capture(ne),this.capture(":")):R&&(ne=Wt);const Ee=this.parseChildren();I[ne]=1===Object.keys(Ee).length?Ee[Wt]:new Nn([],Ee),this.consumeOptional("//")}return I}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new a.wOt(4011,!1)}}function ri(w){return w.segments.length>0?new Nn([],{[Wt]:w}):w}function Bi(w){const R={};for(const M of Object.keys(w.children)){const ne=Bi(w.children[M]);if(M===Wt&&0===ne.segments.length&&ne.hasChildren())for(const[Ee,pt]of Object.entries(ne.children))R[Ee]=pt;else(ne.segments.length>0||ne.hasChildren())&&(R[M]=ne)}return function Pe(w){if(1===w.numberOfChildren&&w.children[Wt]){const R=w.children[Wt];return new Nn(w.segments.concat(R.segments),R.children)}return w}(new Nn(w.segments,R))}function Lt(w){return w instanceof vr}function Te(w){let R;const j=ri(function I(ne){const Ee={};for(const ht of ne.children){const vn=I(ht);Ee[ht.outlet]=vn}const pt=new Nn(ne.url,Ee);return ne===w&&(R=pt),pt}(w.root));return R??j}function fe(w,R,I,M){let j=w;for(;j.parent;)j=j.parent;if(0===R.length)return Dn(j,j,j,I,M);const ne=function Kr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new kn(!0,0,w);let R=0,I=!1;const M=w.reduce((j,ne,Ee)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const pt={};return Object.entries(ne.outlets).forEach(([ht,vn])=>{pt[ht]="string"==typeof vn?vn.split("/"):vn}),[...j,{outlets:pt}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===Ee?(ne.split("/").forEach((pt,ht)=>{0==ht&&"."===pt||(0==ht&&""===pt?I=!0:".."===pt?R++:""!=pt&&j.push(pt))}),j):[...j,ne]},[]);return new kn(I,R,M)}(R);if(ne.toRoot())return Dn(j,j,new Nn([],{}),I,M);const Ee=function Ni(w,R,I){if(w.isAbsolute)return new Vr(R,!0,0);if(!I)return new Vr(R,!1,NaN);if(null===I.parent)return new Vr(I,!0,0);const M=Et(w.commands[0])?0:1;return function Ko(w,R,I){let M=w,j=R,ne=I;for(;ne>j;){if(ne-=j,M=M.parent,!M)throw new a.wOt(4005,!1);j=M.segments.length}return new Vr(M,!1,j-ne)}(I,I.segments.length-1+M,w.numberOfDoubleDots)}(ne,j,w),pt=Ee.processChildren?ki(Ee.segmentGroup,Ee.index,ne.commands):ys(Ee.segmentGroup,Ee.index,ne.commands);return Dn(j,Ee.segmentGroup,pt,I,M)}function Et(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function en(w){return"object"==typeof w&&null!=w&&w.outlets}function Dn(w,R,I,M,j){let Ee,ne={};M&&Object.entries(M).forEach(([ht,vn])=>{ne[ht]=Array.isArray(vn)?vn.map(mr=>`${mr}`):`${vn}`}),Ee=w===R?I:On(w,R,I);const pt=ri(Bi(Ee));return new vr(pt,ne,j)}function On(w,R,I){const M={};return Object.entries(w.children).forEach(([j,ne])=>{M[j]=ne===R?I:On(ne,R,I)}),new Nn(w.segments,M)}class kn{constructor(R,I,M){if(this.isAbsolute=R,this.numberOfDoubleDots=I,this.commands=M,R&&M.length>0&&Et(M[0]))throw new a.wOt(4003,!1);const j=M.find(en);if(j&&j!==Pn(M))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vr{constructor(R,I,M){this.segmentGroup=R,this.processChildren=I,this.index=M}}function ys(w,R,I){if(w||(w=new Nn([],{})),0===w.segments.length&&w.hasChildren())return ki(w,R,I);const M=function Es(w,R,I){let M=0,j=R;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<w.segments.length;){if(M>=I.length)return ne;const Ee=w.segments[j],pt=I[M];if(en(pt))break;const ht=`${pt}`,vn=M<I.length-1?I[M+1]:null;if(j>0&&void 0===ht)break;if(ht&&vn&&"object"==typeof vn&&void 0===vn.outlets){if(!Pi(ht,vn,Ee))return ne;M+=2}else{if(!Pi(ht,{},Ee))return ne;M++}j++}return{match:!0,pathIndex:j,commandIndex:M}}(w,R,I),j=I.slice(M.commandIndex);if(M.match&&M.pathIndex<w.segments.length){const ne=new Nn(w.segments.slice(0,M.pathIndex),{});return ne.children[Wt]=new Nn(w.segments.slice(M.pathIndex),w.children),ki(ne,0,j)}return M.match&&0===j.length?new Nn(w.segments,{}):M.match&&!w.hasChildren()?Ei(w,R,I):M.match?ki(w,0,j):Ei(w,R,I)}function ki(w,R,I){if(0===I.length)return new Nn(w.segments,{});{const M=function Mr(w){return en(w[0])?w[0].outlets:{[Wt]:w}}(I),j={};if(Object.keys(M).some(ne=>ne!==Wt)&&w.children[Wt]&&1===w.numberOfChildren&&0===w.children[Wt].segments.length){const ne=ki(w.children[Wt],R,I);return new Nn(w.segments,ne.children)}return Object.entries(M).forEach(([ne,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(j[ne]=ys(w.children[ne],R,Ee))}),Object.entries(w.children).forEach(([ne,Ee])=>{void 0===M[ne]&&(j[ne]=Ee)}),new Nn(w.segments,j)}}function Ei(w,R,I){const M=w.segments.slice(0,R);let j=0;for(;j<I.length;){const ne=I[j];if(en(ne)){const ht=ga(ne.outlets);return new Nn(M,ht)}if(0===j&&Et(I[0])){M.push(new yi(w.segments[R].path,No(I[0]))),j++;continue}const Ee=en(ne)?ne.outlets[Wt]:`${ne}`,pt=j<I.length-1?I[j+1]:null;Ee&&pt&&Et(pt)?(M.push(new yi(Ee,No(pt))),j+=2):(M.push(new yi(Ee,{})),j++)}return new Nn(M,{})}function ga(w){const R={};return Object.entries(w).forEach(([I,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(R[I]=Ei(new Nn([],{}),0,M))}),R}function No(w){const R={};return Object.entries(w).forEach(([I,M])=>R[I]=`${M}`),R}function Pi(w,R,I){return w==I.path&&Ut(R,I.parameters)}const zi="imperative";class yr{constructor(R,I){this.id=R,this.url=I}}class us extends yr{constructor(R,I,M="imperative",j=null){super(R,I),this.type=0,this.navigationTrigger=M,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $r extends yr{constructor(R,I,M){super(R,I),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lr extends yr{constructor(R,I,M,j){super(R,I),this.reason=M,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uo extends yr{constructor(R,I,M,j){super(R,I),this.reason=M,this.code=j,this.type=16}}class lo extends yr{constructor(R,I,M,j){super(R,I),this.error=M,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $i extends yr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eo extends yr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms extends yr{constructor(R,I,M,j,ne){super(R,I),this.urlAfterRedirects=M,this.state=j,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Li extends yr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ia extends yr{constructor(R,I,M,j){super(R,I),this.urlAfterRedirects=M,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ci{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Co{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(R,I,M){this.routerEvent=R,this.position=I,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yn{}class di{constructor(R){this.url=R}}class fo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hr,this.attachRef=null}}let Hr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(I,M){const j=this.getOrCreateContext(I);j.outlet=M,this.contexts.set(I,j)}onChildOutletDestroyed(I){const M=this.getContext(I);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let M=this.getContext(I);return M||(M=new fo,this.contexts.set(I,M)),M}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class wi{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const I=this.pathFromRoot(R);return I.length>1?I[I.length-2]:null}children(R){const I=hi(R,this._root);return I?I.children.map(M=>M.value):[]}firstChild(R){const I=hi(R,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(R){const I=Fi(R,this._root);return I.length<2?[]:I[I.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return Fi(R,this._root).map(I=>I.value)}}function hi(w,R){if(w===R.value)return R;for(const I of R.children){const M=hi(w,I);if(M)return M}return null}function Fi(w,R){if(w===R.value)return[R];for(const I of R.children){const M=Fi(w,I);if(M.length)return M.unshift(R),M}return[]}class qr{constructor(R,I){this.value=R,this.children=I}toString(){return`TreeNode(${this.value})`}}function qi(w){const R={};return w&&w.children.forEach(I=>R[I.value.outlet]=I),R}class Or extends wi{constructor(R,I){super(R),this.snapshot=I,Gr(this,R)}toString(){return this.snapshot.toString()}}function Zt(w,R){const I=function Un(w,R){const Ee=new fi([],{},{},"",{},Wt,R,null,{});return new bo("",new qr(Ee,[]))}(0,R),M=new Ne.t([new yi("",{})]),j=new Ne.t({}),ne=new Ne.t({}),Ee=new Ne.t({}),pt=new Ne.t(""),ht=new dr(M,j,Ee,pt,ne,Wt,R,I.root);return ht.snapshot=I.root,new Or(new qr(ht,[]),I)}class dr{constructor(R,I,M,j,ne,Ee,pt,ht){this.urlSubject=R,this.paramsSubject=I,this.queryParamsSubject=M,this.fragmentSubject=j,this.dataSubject=ne,this.outlet=Ee,this.component=pt,this._futureSnapshot=ht,this.title=this.dataSubject?.pipe((0,Pt.T)(vn=>vn[Vt]))??(0,De.of)(void 0),this.url=R,this.params=I,this.queryParams=M,this.fragment=j,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.T)(R=>fn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.T)(R=>fn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ui(w,R="emptyOnly"){const I=w.pathFromRoot;let M=0;if("always"!==R)for(M=I.length-1;M>=1;){const j=I[M],ne=I[M-1];if(j.routeConfig&&""===j.routeConfig.path)M--;else{if(ne.component)break;M--}}return function io(w){return w.reduce((R,I)=>({params:{...R.params,...I.params},data:{...R.data,...I.data},resolve:{...I.data,...R.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(M))}class fi{get title(){return this.data?.[Vt]}constructor(R,I,M,j,ne,Ee,pt,ht,vn){this.url=R,this.params=I,this.queryParams=M,this.fragment=j,this.data=ne,this.outlet=Ee,this.component=pt,this.routeConfig=ht,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bo extends wi{constructor(R,I){super(I),this.url=R,Gr(this,I)}toString(){return Fo(this._root)}}function Gr(w,R){R.value._routerState=w,R.children.forEach(I=>Gr(w,I))}function Fo(w){const R=w.children.length>0?` { ${w.children.map(Fo).join(", ")} } `:"";return`${w.value}${R}`}function Vo(w){if(w.snapshot){const R=w.snapshot,I=w._futureSnapshot;w.snapshot=I,Ut(R.queryParams,I.queryParams)||w.queryParamsSubject.next(I.queryParams),R.fragment!==I.fragment&&w.fragmentSubject.next(I.fragment),Ut(R.params,I.params)||w.paramsSubject.next(I.params),function zn(w,R){if(w.length!==R.length)return!1;for(let I=0;I<w.length;++I)if(!Ut(w[I],R[I]))return!1;return!0}(R.url,I.url)||w.urlSubject.next(I.url),Ut(R.data,I.data)||w.dataSubject.next(I.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function Wn(w,R){const I=Ut(w.params,R.params)&&function Ke(w,R){return mt(w,R)&&w.every((I,M)=>Ut(I.parameters,R[M].parameters))}(w.url,R.url);return I&&!(!w.parent!=!R.parent)&&(!w.parent||Wn(w.parent,R.parent))}let Io=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)(Hr),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.environmentInjector=(0,a.WQX)(a.uvJ),this.inputBinder=(0,a.WQX)(Q,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:M,previousValue:j}=I.name;if(M)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,M){this.activated=I,this._activatedRoute=M,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,M){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=I;const j=this.location,Ee=I.snapshot.component,pt=this.parentContexts.getOrCreateContext(this.name).children,ht=new gi(I,pt,j.injector);this.activated=j.createComponent(Ee,{index:j.length,injector:ht,environmentInjector:M??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275dir=a.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}return w})();class gi{constructor(R,I,M){this.route=R,this.childContexts=I,this.parent=M}get(R,I){return R===dr?this.route:R===Hr?this.childContexts:this.parent.get(R,I)}}const Q=new a.nKC("");let z=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:M}=I,j=bt([M.queryParams,M.params,M.data]).pipe((0,Bt.n)(([ne,Ee,pt],ht)=>(pt={...ne,...Ee,...pt},0===ht?(0,De.of)(pt):Promise.resolve(pt)))).subscribe(ne=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(I);const Ee=(0,a.HJs)(M.component);if(Ee)for(const{templateName:pt}of Ee.inputs)I.activatedComponentRef.setInput(pt,ne[pt]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,j)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac})}return w})();function Re(w,R,I){if(I&&w.shouldReuseRoute(R.value,I.value.snapshot)){const M=I.value;M._futureSnapshot=R.value;const j=function Ye(w,R,I){return R.children.map(M=>{for(const j of I.children)if(w.shouldReuseRoute(M.value,j.value.snapshot))return Re(w,M,j);return Re(w,M)})}(w,R,I);return new qr(M,j)}{if(w.shouldAttach(R.value)){const ne=w.retrieve(R.value);if(null!==ne){const Ee=ne.route;return Ee.value._futureSnapshot=R.value,Ee.children=R.children.map(pt=>Re(w,pt)),Ee}}const M=function yt(w){return new dr(new Ne.t(w.url),new Ne.t(w.params),new Ne.t(w.queryParams),new Ne.t(w.fragment),new Ne.t(w.data),w.outlet,w.component,w)}(R.value),j=R.children.map(ne=>Re(w,ne));return new qr(M,j)}}const Yt="ngNavigationCancelingError";function mn(w,R){const{redirectTo:I,navigationBehaviorOptions:M}=Lt(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=Rt(!1,0,R);return j.url=I,j.navigationBehaviorOptions=M,j}function Rt(w,R,I){const M=new Error("NavigationCancelingError: "+(w||""));return M[Yt]=!0,M.cancellationCode=R,I&&(M.url=I),M}function ar(w){return w&&w[Yt]}let Rn=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275cmp=a.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(M,j){1&M&&a.nrm(0,"router-outlet")},dependencies:[Io],encapsulation:2})}return w})();function oi(w){const R=w.children&&w.children.map(oi),I=R?{...w,children:R}:{...w};return!I.component&&!I.loadComponent&&(R||I.loadChildren)&&I.outlet&&I.outlet!==Wt&&(I.component=Rn),I}function gr(w){return w.outlet||Wt}function Ai(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const I=R.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class ma{constructor(R,I,M,j,ne){this.routeReuseStrategy=R,this.futureState=I,this.currState=M,this.forwardEvent=j,this.inputBindingEnabled=ne}activate(R){const I=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,M,R),Vo(this.futureState.root),this.activateChildRoutes(I,M,R)}deactivateChildRoutes(R,I,M){const j=qi(I);R.children.forEach(ne=>{const Ee=ne.value.outlet;this.deactivateRoutes(ne,j[Ee],M),delete j[Ee]}),Object.values(j).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,M)})}deactivateRoutes(R,I,M){const j=R.value,ne=I?I.value:null;if(j===ne)if(j.component){const Ee=M.getContext(j.outlet);Ee&&this.deactivateChildRoutes(R,I,Ee.children)}else this.deactivateChildRoutes(R,I,M);else ne&&this.deactivateRouteAndItsChildren(I,M)}deactivateRouteAndItsChildren(R,I){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,I):this.deactivateRouteAndOutlet(R,I)}detachAndStoreRouteSubtree(R,I){const M=I.getContext(R.value.outlet),j=M&&R.value.component?M.children:I,ne=qi(R);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],j);if(M&&M.outlet){const Ee=M.outlet.detach(),pt=M.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ee,route:R,contexts:pt})}}deactivateRouteAndOutlet(R,I){const M=I.getContext(R.value.outlet),j=M&&R.value.component?M.children:I,ne=qi(R);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],j);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(R,I,M){const j=qi(I);R.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],M),this.forwardEvent(new ho(ne.value.snapshot))}),R.children.length&&this.forwardEvent(new qo(R.value.snapshot))}activateRoutes(R,I,M){const j=R.value,ne=I?I.value:null;if(Vo(j),j===ne)if(j.component){const Ee=M.getOrCreateContext(j.outlet);this.activateChildRoutes(R,I,Ee.children)}else this.activateChildRoutes(R,I,M);else if(j.component){const Ee=M.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const pt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Ee.children.onOutletReAttached(pt.contexts),Ee.attachRef=pt.componentRef,Ee.route=pt.route.value,Ee.outlet&&Ee.outlet.attach(pt.componentRef,pt.route.value),Vo(pt.route.value),this.activateChildRoutes(R,null,Ee.children)}else{const pt=Ai(j.snapshot);Ee.attachRef=null,Ee.route=j,Ee.injector=pt,Ee.outlet&&Ee.outlet.activateWith(j,Ee.injector),this.activateChildRoutes(R,null,Ee.children)}}else this.activateChildRoutes(R,null,M)}}class go{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class is{constructor(R,I){this.component=R,this.route=I}}function Xs(w,R,I){const M=w._root;return Os(M,R?R._root:null,I,[M.value])}function Hi(w,R){const I=Symbol(),M=R.get(w,I);return M===I?"function"!=typeof w||(0,a.LfX)(w)?R.get(w):w:M}function Os(w,R,I,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=qi(R);return w.children.forEach(Ee=>{(function Ns(w,R,I,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=w.value,Ee=R?R.value:null,pt=I?I.getContext(w.value.outlet):null;if(Ee&&ne.routeConfig===Ee.routeConfig){const ht=function Rc(w,R,I){if("function"==typeof I)return I(w,R);switch(I){case"pathParamsChange":return!mt(w.url,R.url);case"pathParamsOrQueryParamsChange":return!mt(w.url,R.url)||!Ut(w.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wn(w,R)||!Ut(w.queryParams,R.queryParams);default:return!Wn(w,R)}}(Ee,ne,ne.routeConfig.runGuardsAndResolvers);ht?j.canActivateChecks.push(new go(M)):(ne.data=Ee.data,ne._resolvedData=Ee._resolvedData),Os(w,R,ne.component?pt?pt.children:null:I,M,j),ht&&pt&&pt.outlet&&pt.outlet.isActivated&&j.canDeactivateChecks.push(new is(pt.outlet.component,Ee))}else Ee&&Yr(R,pt,j),j.canActivateChecks.push(new go(M)),Os(w,null,ne.component?pt?pt.children:null:I,M,j)})(Ee,ne[Ee.value.outlet],I,M.concat([Ee.value]),j),delete ne[Ee.value.outlet]}),Object.entries(ne).forEach(([Ee,pt])=>Yr(pt,I.getContext(Ee),j)),j}function Yr(w,R,I){const M=qi(w),j=w.value;Object.entries(M).forEach(([ne,Ee])=>{Yr(Ee,j.component?R?R.children.getContext(ne):null:R,I)}),I.canDeactivateChecks.push(new is(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function sa(w){return"function"==typeof w}function oo(w){return w instanceof Mt.G||"EmptyError"===w?.name}const mo=Symbol("INITIAL_VALUE");function so(){return(0,Bt.n)(w=>bt(w.map(R=>R.pipe((0,qt.s)(1),(0,ct.Z)(mo)))).pipe((0,Pt.T)(R=>{for(const I of R)if(!0!==I){if(I===mo)return mo;if(!1===I||I instanceof vr)return I}return!0}),(0,Me.p)(R=>R!==mo),(0,qt.s)(1)))}function To(w){return(0,ot.F)((0,xe.M)(R=>{if(Lt(R))throw mn(0,R)}),(0,Pt.T)(R=>!0===R))}class ss{constructor(R){this.segmentGroup=R||null}}class va{constructor(R){this.urlTree=R}}function Fs(w){return(0,Ze.$)(new ss(w))}function cr(w){return(0,Ze.$)(new va(w))}class Wa{constructor(R,I){this.urlSerializer=R,this.urlTree=I}noMatchError(R){return new a.wOt(4002,!1)}lineralizeSegments(R,I){let M=[],j=I.root;for(;;){if(M=M.concat(j.segments),0===j.numberOfChildren)return(0,De.of)(M);if(j.numberOfChildren>1||!j.children[Wt])return(0,Ze.$)(new a.wOt(4e3,!1));j=j.children[Wt]}}applyRedirectCommands(R,I,M){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),R,M)}applyRedirectCreateUrlTree(R,I,M,j){const ne=this.createSegmentGroup(R,I.root,M,j);return new vr(ne,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(R,I){const M={};return Object.entries(R).forEach(([j,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const pt=ne.substring(1);M[j]=I[pt]}else M[j]=ne}),M}createSegmentGroup(R,I,M,j){const ne=this.createSegments(R,I.segments,M,j);let Ee={};return Object.entries(I.children).forEach(([pt,ht])=>{Ee[pt]=this.createSegmentGroup(R,ht,M,j)}),new Nn(ne,Ee)}createSegments(R,I,M,j){return I.map(ne=>ne.path.startsWith(":")?this.findPosParam(R,ne,j):this.findOrReturn(ne,M))}findPosParam(R,I,M){const j=M[I.path.substring(1)];if(!j)throw new a.wOt(4001,!1);return j}findOrReturn(R,I){let M=0;for(const j of I){if(j.path===R.path)return I.splice(M),j;M++}return R}}const Ka={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ya(w,R,I,M,j){const ne=ls(w,R,I);return ne.matched?(M=function pi(w,R){return w.providers&&!w._injector&&(w._injector=(0,a.Ol2)(w.providers,R,`Route: ${w.path}`)),w._injector??R}(R,M),function ks(w,R,I,M){const j=R.canMatch;if(!j||0===j.length)return(0,De.of)(!0);const ne=j.map(Ee=>{const pt=Hi(Ee,w);return Tn(function Ve(w){return w&&sa(w.canMatch)}(pt)?pt.canMatch(R,I):w.runInContext(()=>pt(R,I)))});return(0,De.of)(ne).pipe(so(),To())}(M,R,I).pipe((0,Pt.T)(Ee=>!0===Ee?ne:{...Ka}))):(0,De.of)(ne)}function ls(w,R,I){if(""===R.path)return"full"===R.pathMatch&&(w.hasChildren()||I.length>0)?{...Ka}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const j=(R.matcher||Cr)(I,w,R);if(!j)return{...Ka};const ne={};Object.entries(j.posParams??{}).forEach(([pt,ht])=>{ne[pt]=ht.path});const Ee=j.consumed.length>0?{...ne,...j.consumed[j.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:j.consumed,remainingSegments:I.slice(j.consumed.length),parameters:Ee,positionalParamSegments:j.posParams??{}}}function Vs(w,R,I,M){return I.length>0&&function Pa(w,R,I){return I.some(M=>Ya(w,R,M)&&gr(M)!==Wt)}(w,I,M)?{segmentGroup:new Nn(R,Oc(M,new Nn(I,w.children))),slicedSegments:[]}:0===I.length&&function aa(w,R,I){return I.some(M=>Ya(w,R,M))}(w,I,M)?{segmentGroup:new Nn(w.segments,qa(w,0,I,M,w.children)),slicedSegments:I}:{segmentGroup:new Nn(w.segments,w.children),slicedSegments:I}}function qa(w,R,I,M,j){const ne={};for(const Ee of M)if(Ya(w,I,Ee)&&!j[gr(Ee)]){const pt=new Nn([],{});ne[gr(Ee)]=pt}return{...j,...ne}}function Oc(w,R){const I={};I[Wt]=R;for(const M of w)if(""===M.path&&gr(M)!==Wt){const j=new Nn([],{});I[gr(M)]=j}return I}function Ya(w,R,I){return(!(w.hasChildren()||R.length>0)||"full"!==I.pathMatch)&&""===I.path}class Ra{constructor(R,I,M,j,ne,Ee,pt){this.injector=R,this.configLoader=I,this.rootComponentType=M,this.config=j,this.urlTree=ne,this.paramsInheritanceStrategy=Ee,this.urlSerializer=pt,this.allowRedirects=!0,this.applyRedirects=new Wa(this.urlSerializer,this.urlTree)}noMatchError(R){return new a.wOt(4002,!1)}recognize(){const R=Vs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Wt).pipe((0,Se.W)(I=>{if(I instanceof va)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof ss?this.noMatchError(I):I}),(0,Pt.T)(I=>{const M=new fi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),j=new qr(M,I),ne=new bo("",j),Ee=function Ce(w,R,I=null,M=null){return fe(Te(w),R,I,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(ne._root),{state:ne,tree:Ee}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Wt).pipe((0,Se.W)(M=>{throw M instanceof ss?this.noMatchError(M):M}))}inheritParamsAndData(R){const I=R.value,M=Ui(I,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data),R.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(R,I,M,j){return 0===M.segments.length&&M.hasChildren()?this.processChildren(R,I,M):this.processSegment(R,I,M,M.segments,j,!0)}processChildren(R,I,M){const j=[];for(const ne of Object.keys(M.children))"primary"===ne?j.unshift(ne):j.push(ne);return(0,he.H)(j).pipe((0,Qe.H)(ne=>{const Ee=M.children[ne],pt=function bs(w,R){const I=w.filter(M=>gr(M)===R);return I.push(...w.filter(M=>gr(M)!==R)),I}(I,ne);return this.processSegmentGroup(R,pt,Ee,ne)}),(0,Ge.S)((ne,Ee)=>(ne.push(...Ee),ne)),(0,Tt.U)(null),function sn(w,R){const I=arguments.length>=2;return M=>M.pipe(w?(0,Me.p)((j,ne)=>w(j,ne,M)):Be.D,xt(1),I?(0,Tt.U)(R):(0,hn.v)(()=>new Mt.G))}(),(0,le.Z)(ne=>{if(null===ne)return Fs(M);const Ee=mu(ne);return function Ju(w){w.sort((R,I)=>R.value.outlet===Wt?-1:I.value.outlet===Wt?1:R.value.outlet.localeCompare(I.value.outlet))}(Ee),(0,De.of)(Ee)}))}processSegment(R,I,M,j,ne,Ee){return(0,he.H)(I).pipe((0,Qe.H)(pt=>this.processSegmentAgainstRoute(pt._injector??R,I,pt,M,j,ne,Ee).pipe((0,Se.W)(ht=>{if(ht instanceof ss)return(0,De.of)(null);throw ht}))),(0,Fe.$)(pt=>!!pt),(0,Se.W)(pt=>{if(oo(pt))return function Vl(w,R,I){return 0===R.length&&!w.children[I]}(M,j,ne)?(0,De.of)([]):Fs(M);throw pt}))}processSegmentAgainstRoute(R,I,M,j,ne,Ee,pt){return function Ls(w,R,I,M){return!!(gr(w)===M||M!==Wt&&Ya(R,I,w))&&("**"===w.path||ls(R,w,I).matched)}(M,j,ne,Ee)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(R,j,M,ne,Ee,pt):pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,j,I,M,ne,Ee):Fs(j):Fs(j)}expandSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ee){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,M,j,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,I,M,j){const ne=this.applyRedirects.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?cr(ne):this.applyRedirects.lineralizeSegments(M,ne).pipe((0,le.Z)(Ee=>{const pt=new Nn(Ee,{});return this.processSegment(R,I,pt,Ee,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,I,M,j,ne,Ee){const{matched:pt,consumedSegments:ht,remainingSegments:vn,positionalParamSegments:mr}=ls(I,j,ne);if(!pt)return Fs(I);const Ar=this.applyRedirects.applyRedirectCommands(ht,j.redirectTo,mr);return j.redirectTo.startsWith("/")?cr(Ar):this.applyRedirects.lineralizeSegments(j,Ar).pipe((0,le.Z)(Pr=>this.processSegment(R,M,I,Pr.concat(vn),Ee,!1)))}matchSegmentAgainstRoute(R,I,M,j,ne,Ee){let pt;if("**"===M.path){const ht=j.length>0?Pn(j).parameters:{},vn=new fi(j,ht,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Di(M),gr(M),M.component??M._loadedComponent??null,M,x(M));pt=(0,De.of)({snapshot:vn,consumedSegments:[],remainingSegments:[]}),I.children={}}else pt=ya(I,M,j,R).pipe((0,Pt.T)(({matched:ht,consumedSegments:vn,remainingSegments:mr,parameters:Ar})=>ht?{snapshot:new fi(vn,Ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Di(M),gr(M),M.component??M._loadedComponent??null,M,x(M)),consumedSegments:vn,remainingSegments:mr}:null));return pt.pipe((0,Bt.n)(ht=>null===ht?Fs(I):this.getChildConfig(R=M._injector??R,M,j).pipe((0,Bt.n)(({routes:vn})=>{const mr=M._loadedInjector??R,{snapshot:Ar,consumedSegments:Pr,remainingSegments:ai}=ht,{segmentGroup:tc,slicedSegments:nc}=Vs(I,Pr,ai,vn);if(0===nc.length&&tc.hasChildren())return this.processChildren(mr,vn,tc).pipe((0,Pt.T)(ta=>null===ta?null:[new qr(Ar,ta)]));if(0===vn.length&&0===nc.length)return(0,De.of)([new qr(Ar,[])]);const la=gr(M)===ne;return this.processSegment(mr,vn,tc,nc,la?Wt:ne,!0).pipe((0,Pt.T)(ta=>[new qr(Ar,ta)]))}))))}getChildConfig(R,I,M){return I.children?(0,De.of)({routes:I.children,injector:R}):I.loadChildren?void 0!==I._loadedRoutes?(0,De.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Mc(w,R,I,M){const j=R.canLoad;if(void 0===j||0===j.length)return(0,De.of)(!0);const ne=j.map(Ee=>{const pt=Hi(Ee,w);return Tn(function G(w){return w&&sa(w.canLoad)}(pt)?pt.canLoad(R,I):w.runInContext(()=>pt(R,I)))});return(0,De.of)(ne).pipe(so(),To())}(R,I,M).pipe((0,le.Z)(j=>j?this.configLoader.loadChildren(R,I).pipe((0,xe.M)(ne=>{I._loadedRoutes=ne.routes,I._loadedInjector=ne.injector})):function Qs(w){return(0,Ze.$)(Rt(!1,3))}())):(0,De.of)({routes:[],injector:R})}}function ca(w){const R=w.value.routeConfig;return R&&""===R.path}function mu(w){const R=[],I=new Set;for(const M of w){if(!ca(M)){R.push(M);continue}const j=R.find(ne=>M.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...M.children),I.add(j)):R.push(M)}for(const M of I){const j=mu(M.children);R.push(new qr(M.value,j))}return R.filter(M=>!I.has(M))}function Di(w){return w.data||{}}function x(w){return w.resolve||{}}function Cn(w){return"string"==typeof w.title||null===w.title}function Nr(w){return(0,Bt.n)(R=>{const I=w(R);return I?(0,he.H)(I).pipe((0,Pt.T)(()=>R)):(0,De.of)(R)})}const Xr=new a.nKC("ROUTES");let zr=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,De.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const M=Tn(I.loadComponent()).pipe((0,Pt.T)(Sr),(0,xe.M)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ne}),(0,In.j)(()=>{this.componentLoaders.delete(I)})),j=new Jt(M,()=>new dn.B).pipe(be());return this.componentLoaders.set(I,j),j}loadChildren(I,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,De.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const ne=function Ir(w,R,I,M){return Tn(w.loadChildren()).pipe((0,Pt.T)(Sr),(0,le.Z)(j=>j instanceof a.Co$||Array.isArray(j)?(0,De.of)(j):(0,he.H)(R.compileModuleAsync(j))),(0,Pt.T)(j=>{M&&M(w);let ne,Ee,pt=!1;return Array.isArray(j)?(Ee=j,!0):(ne=j.create(I).injector,Ee=ne.get(Xr,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(oi),injector:ne}}))}(M,this.compiler,I,this.onLoadEndListener).pipe((0,In.j)(()=>{this.childrenLoaders.delete(M)})),Ee=new Jt(ne,()=>new dn.B).pipe(be());return this.childrenLoaders.set(M,Ee),Ee}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Sr(w){return function mi(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ri=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dn.B,this.transitionAbortSubject=new dn.B,this.configLoader=(0,a.WQX)(zr),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(Ie),this.rootContexts=(0,a.WQX)(Hr),this.inputBindingEnabled=null!==(0,a.WQX)(Q,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new ci(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new ko(j))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:M})}setupNavigations(I,M,j){return this.transitions=new Ne.t({id:0,currentUrlTree:M,currentRawUrl:M,currentBrowserUrl:M,extractedUrl:I.urlHandlingStrategy.extract(M),urlAfterRedirects:I.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zi,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Me.p)(ne=>0!==ne.id),(0,Pt.T)(ne=>({...ne,extractedUrl:I.urlHandlingStrategy.extract(ne.rawUrl)})),(0,Bt.n)(ne=>{this.currentTransition=ne;let Ee=!1,pt=!1;return(0,De.of)(ne).pipe((0,xe.M)(ht=>{this.currentNavigation={id:ht.id,initialUrl:ht.rawUrl,extractedUrl:ht.extractedUrl,trigger:ht.source,extras:ht.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bt.n)(ht=>{const vn=ht.currentBrowserUrl.toString(),mr=!I.navigated||ht.extractedUrl.toString()!==vn||vn!==ht.currentUrlTree.toString();if(!mr&&"reload"!==(ht.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Pr="";return this.events.next(new Uo(ht.id,this.urlSerializer.serialize(ht.rawUrl),Pr,0)),ht.resolve(null),rt.w}if(I.urlHandlingStrategy.shouldProcessUrl(ht.rawUrl))return(0,De.of)(ht).pipe((0,Bt.n)(Pr=>{const ai=this.transitions?.getValue();return this.events.next(new us(Pr.id,this.urlSerializer.serialize(Pr.extractedUrl),Pr.source,Pr.restoredState)),ai!==this.transitions?.getValue()?rt.w:Promise.resolve(Pr)}),function J(w,R,I,M,j,ne){return(0,le.Z)(Ee=>function Js(w,R,I,M,j,ne,Ee="emptyOnly"){return new Ra(w,R,I,M,j,Ee,ne).recognize()}(w,R,I,M,Ee.extractedUrl,j,ne).pipe((0,Pt.T)(({state:pt,tree:ht})=>({...Ee,targetSnapshot:pt,urlAfterRedirects:ht}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,xe.M)(Pr=>{ne.targetSnapshot=Pr.targetSnapshot,ne.urlAfterRedirects=Pr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Pr.urlAfterRedirects};const ai=new $i(Pr.id,this.urlSerializer.serialize(Pr.extractedUrl),this.urlSerializer.serialize(Pr.urlAfterRedirects),Pr.targetSnapshot);this.events.next(ai)}));if(mr&&I.urlHandlingStrategy.shouldProcessUrl(ht.currentRawUrl)){const{id:Pr,extractedUrl:ai,source:tc,restoredState:nc,extras:la}=ht,ta=new us(Pr,this.urlSerializer.serialize(ai),tc,nc);this.events.next(ta);const Ea=Zt(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...ht,targetSnapshot:Ea,urlAfterRedirects:ai,extras:{...la,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(ne)}{const Pr="";return this.events.next(new Uo(ht.id,this.urlSerializer.serialize(ht.extractedUrl),Pr,1)),ht.resolve(null),rt.w}}),(0,xe.M)(ht=>{const vn=new Eo(ht.id,this.urlSerializer.serialize(ht.extractedUrl),this.urlSerializer.serialize(ht.urlAfterRedirects),ht.targetSnapshot);this.events.next(vn)}),(0,Pt.T)(ht=>(this.currentTransition=ne={...ht,guards:Xs(ht.targetSnapshot,ht.currentSnapshot,this.rootContexts)},ne)),function os(w,R){return(0,le.Z)(I=>{const{targetSnapshot:M,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:Ee}}=I;return 0===Ee.length&&0===ne.length?(0,De.of)({...I,guardsResult:!0}):function jo(w,R,I,M){return(0,he.H)(w).pipe((0,le.Z)(j=>function Wi(w,R,I,M,j){const ne=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,De.of)(!0);const Ee=ne.map(pt=>{const ht=Ai(R)??j,vn=Hi(pt,ht);return Tn(function oe(w){return w&&sa(w.canDeactivate)}(vn)?vn.canDeactivate(w,R,I,M):ht.runInContext(()=>vn(w,R,I,M))).pipe((0,Fe.$)())});return(0,De.of)(Ee).pipe(so())}(j.component,j.route,I,R,M)),(0,Fe.$)(j=>!0!==j,!0))}(Ee,M,j,w).pipe((0,le.Z)(pt=>pt&&function xa(w){return"boolean"==typeof w}(pt)?function Bo(w,R,I,M){return(0,he.H)(R).pipe((0,Qe.H)(j=>(0,cn.x)(function gu(w,R){return null!==w&&R&&R(new Co(w)),(0,De.of)(!0)}(j.route.parent,M),function So(w,R){return null!==w&&R&&R(new Cs(w)),(0,De.of)(!0)}(j.route,M),function _a(w,R,I){const M=R[R.length-1],ne=R.slice(0,R.length-1).reverse().map(Ee=>function oa(w){const R=w.routeConfig?w.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:w,guards:R}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>We(()=>{const pt=Ee.guards.map(ht=>{const vn=Ai(Ee.node)??I,mr=Hi(ht,vn);return Tn(function O(w){return w&&sa(w.canActivateChild)}(mr)?mr.canActivateChild(M,w):vn.runInContext(()=>mr(M,w))).pipe((0,Fe.$)())});return(0,De.of)(pt).pipe(so())}));return(0,De.of)(ne).pipe(so())}(w,j.path,I),function si(w,R,I){const M=R.routeConfig?R.routeConfig.canActivate:null;if(!M||0===M.length)return(0,De.of)(!0);const j=M.map(ne=>We(()=>{const Ee=Ai(R)??I,pt=Hi(ne,Ee);return Tn(function Y(w){return w&&sa(w.canActivate)}(pt)?pt.canActivate(R,w):Ee.runInContext(()=>pt(R,w))).pipe((0,Fe.$)())}));return(0,De.of)(j).pipe(so())}(w,j.route,I))),(0,Fe.$)(j=>!0!==j,!0))}(M,ne,w,R):(0,De.of)(pt)),(0,Pt.T)(pt=>({...I,guardsResult:pt})))})}(this.environmentInjector,ht=>this.events.next(ht)),(0,xe.M)(ht=>{if(ne.guardsResult=ht.guardsResult,Lt(ht.guardsResult))throw mn(0,ht.guardsResult);const vn=new Ms(ht.id,this.urlSerializer.serialize(ht.extractedUrl),this.urlSerializer.serialize(ht.urlAfterRedirects),ht.targetSnapshot,!!ht.guardsResult);this.events.next(vn)}),(0,Me.p)(ht=>!!ht.guardsResult||(this.cancelNavigationTransition(ht,"",3),!1)),Nr(ht=>{if(ht.guards.canActivateChecks.length)return(0,De.of)(ht).pipe((0,xe.M)(vn=>{const mr=new Li(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(mr)}),(0,Bt.n)(vn=>{let mr=!1;return(0,De.of)(vn).pipe(function U(w,R){return(0,le.Z)(I=>{const{targetSnapshot:M,guards:{canActivateChecks:j}}=I;if(!j.length)return(0,De.of)(I);let ne=0;return(0,he.H)(j).pipe((0,Qe.H)(Ee=>function X(w,R,I,M){const j=w.routeConfig,ne=w._resolve;return void 0!==j?.title&&!Cn(j)&&(ne[Vt]=j.title),function we(w,R,I,M){const j=function _t(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===j.length)return(0,De.of)({});const ne={};return(0,he.H)(j).pipe((0,le.Z)(Ee=>function Nt(w,R,I,M){const j=Ai(R)??M,ne=Hi(w,j);return Tn(ne.resolve?ne.resolve(R,I):j.runInContext(()=>ne(R,I)))}(w[Ee],R,I,M).pipe((0,Fe.$)(),(0,xe.M)(pt=>{ne[Ee]=pt}))),xt(1),function Fn(w){return(0,Pt.T)(()=>w)}(ne),(0,Se.W)(Ee=>oo(Ee)?rt.w:(0,Ze.$)(Ee)))}(ne,w,R,M).pipe((0,Pt.T)(Ee=>(w._resolvedData=Ee,w.data=Ui(w,I).resolve,j&&Cn(j)&&(w.data[Vt]=j.title),null)))}(Ee.route,M,w,R)),(0,xe.M)(()=>ne++),xt(1),(0,le.Z)(Ee=>ne===j.length?(0,De.of)(I):rt.w))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,xe.M)({next:()=>mr=!0,complete:()=>{mr||this.cancelNavigationTransition(vn,"",2)}}))}),(0,xe.M)(vn=>{const mr=new ia(vn.id,this.urlSerializer.serialize(vn.extractedUrl),this.urlSerializer.serialize(vn.urlAfterRedirects),vn.targetSnapshot);this.events.next(mr)}))}),Nr(ht=>{const vn=mr=>{const Ar=[];mr.routeConfig?.loadComponent&&!mr.routeConfig._loadedComponent&&Ar.push(this.configLoader.loadComponent(mr.routeConfig).pipe((0,xe.M)(Pr=>{mr.component=Pr}),(0,Pt.T)(()=>{})));for(const Pr of mr.children)Ar.push(...vn(Pr));return Ar};return bt(vn(ht.targetSnapshot.root)).pipe((0,Tt.U)(),(0,qt.s)(1))}),Nr(()=>this.afterPreactivation()),(0,Pt.T)(ht=>{const vn=function ye(w,R,I){const M=Re(w,R._root,I?I._root:void 0);return new Or(M,R)}(I.routeReuseStrategy,ht.targetSnapshot,ht.currentRouterState);return this.currentTransition=ne={...ht,targetRouterState:vn},ne}),(0,xe.M)(()=>{this.events.next(new Yn)}),((w,R,I,M)=>(0,Pt.T)(j=>(new ma(R,j.targetRouterState,j.currentRouterState,I,M).activate(w),j)))(this.rootContexts,I.routeReuseStrategy,ht=>this.events.next(ht),this.inputBindingEnabled),(0,qt.s)(1),(0,xe.M)({next:ht=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(ht.id,this.urlSerializer.serialize(ht.extractedUrl),this.urlSerializer.serialize(ht.urlAfterRedirects))),I.titleStrategy?.updateTitle(ht.targetRouterState.snapshot),ht.resolve(!0)},complete:()=>{Ee=!0}}),function Gt(w){return(0,Ft.N)((R,I)=>{(0,et.Tg)(w).subscribe((0,at._)(I,()=>I.complete(),fr.l)),!I.closed&&R.subscribe(I)})}(this.transitionAbortSubject.pipe((0,xe.M)(ht=>{throw ht}))),(0,In.j)(()=>{Ee||pt||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),(0,Se.W)(ht=>{if(pt=!0,ar(ht))this.events.next(new Lr(ne.id,this.urlSerializer.serialize(ne.extractedUrl),ht.message,ht.cancellationCode)),function gn(w){return ar(w)&&Lt(w.url)}(ht)?this.events.next(new di(ht.url)):ne.resolve(!1);else{this.events.next(new lo(ne.id,this.urlSerializer.serialize(ne.extractedUrl),ht,ne.targetSnapshot??void 0));try{ne.resolve(I.errorHandler(ht))}catch(vn){ne.reject(vn)}}return rt.w}))}))}cancelNavigationTransition(I,M,j){const ne=new Lr(I.id,this.urlSerializer.serialize(I.extractedUrl),M,j);this.events.next(ne),I.resolve(!1)}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function wo(w){return w!==zi}let $o=(()=>{class w{buildTitle(I){let M,j=I.root;for(;void 0!==j;)M=this.getResolvedTitleForRoute(j)??M,j=j.children.find(ne=>ne.outlet===Wt);return M}getResolvedTitleForRoute(I){return I.data[Vt]}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return(0,a.WQX)(Us)},providedIn:"root"})}return w})(),Us=(()=>{class w extends $o{constructor(I){super(),this.title=I}updateTitle(I){const M=this.buildTitle(I);void 0!==M&&this.title.setTitle(M)}static#e=this.\u0275fac=function(M){return new(M||w)(a.KVO(Bn.hE))};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Ho=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return(0,a.WQX)(Qn)},providedIn:"root"})}return w})();class xi{shouldDetach(R){return!1}store(R,I){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,I){return R.routeConfig===I.routeConfig}}let Qn=(()=>{class w extends xi{static#e=this.\u0275fac=function(){let I;return function(j){return(I||(I=a.xGo(w)))(j||w)}}();static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const ds=new a.nKC("",{providedIn:"root",factory:()=>({})});let Zu=(()=>{class w{static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:function(){return(0,a.WQX)(Qr)},providedIn:"root"})}return w})(),Qr=(()=>{class w{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,M){return I}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var as=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(as||{});function Ts(w,R){w.events.pipe((0,Me.p)(I=>I instanceof $r||I instanceof Lr||I instanceof lo||I instanceof Uo),(0,Pt.T)(I=>I instanceof $r||I instanceof Uo?as.COMPLETE:I instanceof Lr&&(0===I.code||1===I.code)?as.REDIRECTING:as.FAILED),(0,Me.p)(I=>I!==as.REDIRECTING),(0,qt.s)(1)).subscribe(()=>{R()})}function Qi(w){throw w}function el(w,R,I){return R.parse("/")}const Xa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.WQX)(a.H3F),this.isNgZoneEnabled=!1,this._events=new dn.B,this.options=(0,a.WQX)(ds,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.$K3),this.errorHandler=this.options.errorHandler||Qi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||el,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.WQX)(Zu),this.routeReuseStrategy=(0,a.WQX)(Ho),this.titleStrategy=(0,a.WQX)($o),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.WQX)(Xr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.WQX)(Ri),this.urlSerializer=(0,a.WQX)(Ie),this.location=(0,a.WQX)(nr.aZ),this.componentInputBindingEnabled=!!(0,a.WQX)(Q,{optional:!0}),this.eventsSubscription=new wt.yU,this.isNgZoneEnabled=(0,a.WQX)(a.SKi)instanceof a.SKi&&a.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(M=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(vu(M)&&this._events.next(M));if(M instanceof us)wo(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(M instanceof Uo)this.rawUrlTree=j.rawUrl;else if(M instanceof $i){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(ne,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(M instanceof Yn)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(M instanceof Lr)0!==M.code&&1!==M.code&&(this.navigated=!0),(3===M.code||2===M.code)&&this.restoreHistory(j);else if(M instanceof di){const ne=this.urlHandlingStrategy.merge(M.url,j.currentRawUrl),Ee={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wo(j.source)};this.scheduleNavigation(ne,zi,null,Ee,{resolve:j.resolve,reject:j.reject,promise:j.promise})}M instanceof lo&&this.restoreHistory(j,!0),M instanceof $r&&(this.navigated=!0),vu(M)&&this._events.next(M)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zi,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const M="popstate"===I.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,M,I.state)},0)}))}navigateToSyncWithBrowser(I,M,j){const ne={replaceUrl:!0},Ee=j?.navigationId?j:null;if(j){const ht={...j};delete ht.navigationId,delete ht.\u0275routerPageId,0!==Object.keys(ht).length&&(ne.state=ht)}const pt=this.parseUrl(I);this.scheduleNavigation(pt,M,Ee,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(oi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,M={}){const{relativeTo:j,queryParams:ne,fragment:Ee,queryParamsHandling:pt,preserveFragment:ht}=M,vn=ht?this.currentUrlTree.fragment:Ee;let Ar,mr=null;switch(pt){case"merge":mr={...this.currentUrlTree.queryParams,...ne};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=ne||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{Ar=Te(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Ar=this.currentUrlTree.root}return fe(Ar,I,mr,vn??null)}navigateByUrl(I,M={skipLocationChange:!1}){const j=Lt(I)?I:this.parseUrl(I),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,zi,null,M)}navigate(I,M={skipLocationChange:!1}){return function Qa(w){for(let R=0;R<w.length;R++)if(null==w[R])throw new a.wOt(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,M),M)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let M;try{M=this.urlSerializer.parse(I)}catch(j){M=this.malformedUriErrorHandler(j,this.urlSerializer,I)}return M}isActive(I,M){let j;if(j=!0===M?{...Xa}:!1===M?{...hs}:M,Lt(I))return ei(this.currentUrlTree,I,j);const ne=this.parseUrl(I);return ei(this.currentUrlTree,ne,j)}removeEmptyProps(I){return Object.keys(I).reduce((M,j)=>{const ne=I[j];return null!=ne&&(M[j]=ne),M},{})}scheduleNavigation(I,M,j,ne,Ee){if(this.disposed)return Promise.resolve(!1);let pt,ht,vn;Ee?(pt=Ee.resolve,ht=Ee.reject,vn=Ee.promise):vn=new Promise((Ar,Pr)=>{pt=Ar,ht=Pr});const mr=this.pendingTasks.add();return Ts(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:ne,resolve:pt,reject:ht,promise:vn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vn.catch(Ar=>Promise.reject(Ar))}setBrowserUrl(I,M){const j=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(j)||M.extras.replaceUrl){const Ee={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(j,"",Ee)}else{const ne={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(j,"",ne)}}restoreHistory(I,M=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,M){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:M}:{navigationId:I}}static#e=this.\u0275fac=function(M){return new(M||w)};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function vu(w){return!(w instanceof Yn||w instanceof di)}let Yo=(()=>{class w{constructor(I,M,j,ne,Ee,pt){this.router=I,this.route=M,this.tabIndexAttribute=j,this.renderer=ne,this.el=Ee,this.locationStrategy=pt,this.href=null,this.commands=null,this.onChanges=new dn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ht=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ht||"area"===ht,this.isAnchorElement?this.subscription=I.events.subscribe(vn=>{vn instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,M,j,ne,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||M||j||ne||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,M){const j=this.renderer,ne=this.el.nativeElement;null!==M?j.setAttribute(ne,I,M):j.removeAttribute(ne,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(M){return new(M||w)(a.rXU(bi),a.rXU(dr),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(nr.hb))};static#t=this.\u0275dir=a.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,j){1&M&&a.bIt("click",function(Ee){return j.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&M&&a.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.L39],skipLocationChange:["skipLocationChange","skipLocationChange",a.L39],replaceUrl:["replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}return w})();class Nc{}let Ul=(()=>{class w{constructor(I,M,j,ne,Ee){this.router=I,this.injector=j,this.preloadingStrategy=ne,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Me.p)(I=>I instanceof $r),(0,Qe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,M){const j=[];for(const ne of M){ne.providers&&!ne._injector&&(ne._injector=(0,a.Ol2)(ne.providers,I,`Route: ${ne.path}`));const Ee=ne._injector??I,pt=ne._loadedInjector??Ee;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&j.push(this.preloadConfig(Ee,ne)),(ne.children||ne._loadedRoutes)&&j.push(this.processRoutes(pt,ne.children??ne._loadedRoutes))}return(0,he.H)(j).pipe((0,wn.U)())}preloadConfig(I,M){return this.preloadingStrategy.preload(M,()=>{let j;j=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(I,M):(0,De.of)(null);const ne=j.pipe((0,le.Z)(Ee=>null===Ee?(0,De.of)(void 0):(M._loadedRoutes=Ee.routes,M._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??I,Ee.routes))));if(M.loadComponent&&!M._loadedComponent){const Ee=this.loader.loadComponent(M);return(0,he.H)([ne,Ee]).pipe((0,wn.U)())}return ne})}static#e=this.\u0275fac=function(M){return new(M||w)(a.KVO(bi),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO(Nc),a.KVO(zr))};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const jl=new a.nKC("");let Jn=(()=>{class w{constructor(I,M,j,ne,Ee={}){this.urlSerializer=I,this.transitions=M,this.viewportScroller=j,this.zone=ne,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof us?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof $r?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Uo&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof rs&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rs(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(M){a.QTQ()};static#t=this.\u0275prov=a.jDH({token:w,factory:w.\u0275fac})}return w})();function Go(w,R){return{\u0275kind:w,\u0275providers:R}}function kc(){const w=(0,a.WQX)(a.zZn);return R=>{const I=w.get(a.o8S);if(R!==I.components[0])return;const M=w.get(bi),j=w.get(Cu);1===w.get(Oa)&&M.initialNavigation(),w.get(At,null,a.$GK.Optional)?.setUpPreloading(),w.get(jl,null,a.$GK.Optional)?.init(),M.resetRootComponentType(I.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Cu=new a.nKC("",{factory:()=>new dn.B}),Oa=new a.nKC("",{providedIn:"root",factory:()=>1}),At=new a.nKC("");function Fc(w){return Go(0,[{provide:At,useExisting:Ul},{provide:Nc,useExisting:w}])}const zo=new a.nKC("ROUTER_FORROOT_GUARD"),ka=[nr.aZ,{provide:Ie,useClass:ft},bi,Hr,{provide:dr,useFactory:function Ja(w){return w.routerState.root},deps:[bi]},zr,[]];function Kn(){return new a.NEm("Router",bi)}let Za=(()=>{class w{constructor(I){}static forRoot(I,M){return{ngModule:w,providers:[ka,[],{provide:Xr,multi:!0,useValue:I},{provide:zo,useFactory:Iu,deps:[[bi,new a.Xx1,new a.kdw]]},{provide:ds,useValue:M||{}},M?.useHash?{provide:nr.hb,useClass:nr.fw}:{provide:nr.hb,useClass:nr.Sm},{provide:jl,useFactory:()=>{const w=(0,a.WQX)(nr.Xr),R=(0,a.WQX)(a.SKi),I=(0,a.WQX)(ds),M=(0,a.WQX)(Ri),j=(0,a.WQX)(Ie);return I.scrollOffset&&w.setOffset(I.scrollOffset),new Jn(j,M,w,R,I)}},M?.preloadingStrategy?Fc(M.preloadingStrategy).\u0275providers:[],{provide:a.NEm,multi:!0,useFactory:Kn},M?.initialNavigation?Zs(M):[],M?.bindToComponentInputs?Go(8,[z,{provide:Q,useExisting:z}]).\u0275providers:[],[{provide:gs,useFactory:kc},{provide:a.iLQ,multi:!0,useExisting:gs}]]}}static forChild(I){return{ngModule:w,providers:[{provide:Xr,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(M){return new(M||w)(a.KVO(zo,8))};static#t=this.\u0275mod=a.$C({type:w});static#n=this.\u0275inj=a.G2t({})}return w})();function Iu(w){return"guarded"}function Zs(w){return["disabled"===w.initialNavigation?Go(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const R=(0,a.WQX)(bi);return()=>{R.setUpLocationChangeListener()}}},{provide:Oa,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Go(2,[{provide:Oa,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:R=>{const I=R.get(nr.hj,Promise.resolve());return()=>I.then(()=>new Promise(M=>{const j=R.get(bi),ne=R.get(Cu);Ts(j,()=>{M(!0)}),R.get(Ri).afterPreactivation=()=>(M(!0),ne.closed?(0,De.of)(void 0):ne),j.initialNavigation()}))}}]).\u0275providers:[]]}const gs=new a.nKC("")},3345:(on,Je,L)=>{L.d(Je,{A:()=>bt});var a=L(1076),ae=L(1362),o=L(7852),Ae=L(8041);class he{constructor(jt,Mt){this._delegate=jt,this.firebase=Mt,(0,o._addComponent)(jt,new ae.uA("app-compat",()=>this,"PUBLIC")),this.container=jt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this._delegate.automaticDataCollectionEnabled=jt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(jt=>{this._delegate.checkDestroyed(),jt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(jt,Mt=o._DEFAULT_ENTRY_NAME){var cn;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(jt);return!et.isInitialized()&&"EXPLICIT"===(null===(cn=et.getComponent())||void 0===cn?void 0:cn.instantiationMode)&&et.initialize(),et.getImmediate({identifier:Mt})}_removeServiceInstance(jt,Mt=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(jt).clearInstance(Mt)}_addComponent(jt){(0,o._addComponent)(this._delegate,jt)}_addOrOverwriteComponent(jt){(0,o._addOrOverwriteComponent)(this._delegate,jt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new a.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function Be(){const Ct=function Le(Ct){const jt={},Mt={__esModule:!0,initializeApp:function We(wt,Ft={}){const be=o.initializeApp(wt,Ft);if((0,a.gR)(jt,be.name))return jt[be.name];const Jt=new Ct(be,Mt);return jt[be.name]=Jt,Jt},app:et,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function Ze(wt){const Ft=wt.name,be=Ft.replace("-compat","");if(o._registerComponent(wt)&&"PUBLIC"===wt.type){const Jt=(dn=et())=>{if("function"!=typeof dn[be])throw Ne.create("invalid-app-argument",{appName:Ft});return dn[be]()};void 0!==wt.serviceProps&&(0,a.zw)(Jt,wt.serviceProps),Mt[be]=Jt,Ct.prototype[be]=function(...dn){return this._getService.bind(this,Ft).apply(this,wt.multipleInstances?dn:[])}}return"PUBLIC"===wt.type?Mt[be]:null},removeApp:function cn(wt){delete jt[wt]},useAsService:function rt(wt,Ft){return"serverAuth"===Ft?null:Ft},modularAPIs:o}};function et(wt){if(!(0,a.gR)(jt,wt=wt||o._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:wt});return jt[wt]}return Mt.default=Mt,Object.defineProperty(Mt,"apps",{get:function ot(){return Object.keys(jt).map(wt=>jt[wt])}}),et.App=Ct,Mt}(he);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function jt(Mt){(0,a.zw)(Ct,Mt)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),Ct}(),ce=new Ae.Vy("@firebase/app-compat");if((0,a.Bd)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=Z;!function Xe(Ct){(0,o.registerVersion)("@firebase/app-compat","0.2.35",Ct)}()},7852:(on,Je,L)=>{L.r(Je),L.d(Je,{FirebaseError:()=>Ae.g,SDK_VERSION:()=>Ie,_DEFAULT_ENTRY_NAME:()=>Pn,_addComponent:()=>$n,_addOrOverwriteComponent:()=>ti,_apps:()=>pr,_clearComponents:()=>Nn,_components:()=>ei,_getProvider:()=>un,_isFirebaseApp:()=>qn,_isFirebaseServerApp:()=>vr,_registerComponent:()=>Ki,_removeServiceInstance:()=>ni,_serverApps:()=>Tr,deleteApp:()=>ur,getApp:()=>Mn,getApps:()=>xr,initializeApp:()=>ft,initializeServerApp:()=>Kt,onLog:()=>H,registerVersion:()=>ee,setLogLevel:()=>V});var a=L(467),ae=L(1362),o=L(8041),Ae=L(1076);const he=(Te,fe)=>fe.some(Et=>Te instanceof Et);let De,Ne;const Z=new WeakMap,ce=new WeakMap,me=new WeakMap,at=new WeakMap,Xe=new WeakMap;let jt={get(Te,fe,Et){if(Te instanceof IDBTransaction){if("done"===fe)return ce.get(Te);if("objectStoreNames"===fe)return Te.objectStoreNames||me.get(Te);if("store"===fe)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return We(Te[fe])},set:(Te,fe,Et)=>(Te[fe]=Et,!0),has:(Te,fe)=>Te instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Te};function et(Te){return"function"==typeof Te?function cn(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...fe){return Te.apply(ot(this),fe),We(Z.get(this))}:function(...fe){return We(Te.apply(ot(this),fe))}:function(fe,...Et){const en=Te.call(ot(this),fe,...Et);return me.set(en,fe.sort?fe.sort():[fe]),We(en)}}(Te):(Te instanceof IDBTransaction&&function Ct(Te){if(ce.has(Te))return;const fe=new Promise((Et,en)=>{const Dn=()=>{Te.removeEventListener("complete",On),Te.removeEventListener("error",kn),Te.removeEventListener("abort",kn)},On=()=>{Et(),Dn()},kn=()=>{en(Te.error||new DOMException("AbortError","AbortError")),Dn()};Te.addEventListener("complete",On),Te.addEventListener("error",kn),Te.addEventListener("abort",kn)});ce.set(Te,fe)}(Te),he(Te,function Le(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,jt):Te)}function We(Te){if(Te instanceof IDBRequest)return function bt(Te){const fe=new Promise((Et,en)=>{const Dn=()=>{Te.removeEventListener("success",On),Te.removeEventListener("error",kn)},On=()=>{Et(We(Te.result)),Dn()},kn=()=>{en(Te.error),Dn()};Te.addEventListener("success",On),Te.addEventListener("error",kn)});return fe.then(Et=>{Et instanceof IDBCursor&&Z.set(Et,Te)}).catch(()=>{}),Xe.set(fe,Te),fe}(Te);if(at.has(Te))return at.get(Te);const fe=et(Te);return fe!==Te&&(at.set(Te,fe),Xe.set(fe,Te)),fe}const ot=Te=>Xe.get(Te),wt=["get","getKey","getAll","getAllKeys","count"],Ft=["put","add","delete","clear"],be=new Map;function Jt(Te,fe){if(!(Te instanceof IDBDatabase)||fe in Te||"string"!=typeof fe)return;if(be.get(fe))return be.get(fe);const Et=fe.replace(/FromIndex$/,""),en=fe!==Et,Dn=Ft.includes(Et);if(!(Et in(en?IDBIndex:IDBObjectStore).prototype)||!Dn&&!wt.includes(Et))return;const On=function(){var kn=(0,a.A)(function*(Kr,...Vr){const Ni=this.transaction(Kr,Dn?"readwrite":"readonly");let Ko=Ni.store;return en&&(Ko=Ko.index(Vr.shift())),(yield Promise.all([Ko[Et](...Vr),Dn&&Ni.done]))[0]});return function(Vr){return kn.apply(this,arguments)}}();return be.set(fe,On),On}!function Mt(Te){jt=Te(jt)}(Te=>({...Te,get:(fe,Et,en)=>Jt(fe,Et)||Te.get(fe,Et,en),has:(fe,Et)=>!!Jt(fe,Et)||Te.has(fe,Et)}));class dn{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function nr(Te){const fe=Te.getComponent();return"VERSION"===fe?.type}(Et)){const en=Et.getImmediate();return`${en.library}/${en.version}`}return null}).filter(Et=>Et).join(" ")}}const Pt="@firebase/app",Bt="0.10.5",qt=new o.Vy("@firebase/app"),Pn="[DEFAULT]",Tn={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},pr=new Map,Tr=new Map,ei=new Map;function $n(Te,fe){try{Te.container.addComponent(fe)}catch(Et){qt.debug(`Component ${fe.name} failed to register with FirebaseApp ${Te.name}`,Et)}}function ti(Te,fe){Te.container.addOrOverwriteComponent(fe)}function Ki(Te){const fe=Te.name;if(ei.has(fe))return qt.debug(`There were multiple attempts to register component ${fe}.`),!1;ei.set(fe,Te);for(const Et of pr.values())$n(Et,Te);for(const Et of Tr.values())$n(Et,Te);return!0}function un(Te,fe){const Et=Te.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),Te.container.getProvider(fe)}function ni(Te,fe,Et=Pn){un(Te,fe).clearInstance(Et)}function qn(Te){return void 0!==Te.options}function vr(Te){return void 0!==Te.settings}function Nn(){ei.clear()}const Ke=new Ae.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class mt{constructor(fe,Et,en){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new ae.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Ke.create("app-deleted",{appName:this._name})}}class ie extends mt{constructor(fe,Et,en,Dn){const On=void 0!==Et.automaticDataCollectionEnabled&&Et.automaticDataCollectionEnabled,kn={name:en,automaticDataCollectionEnabled:On};super(void 0!==fe.apiKey?fe:fe.options,kn,Dn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:On},Et),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Et.releaseOnDeref=void 0,ee(Pt,Bt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(fe){this.isDeleted||(this._refCount++,void 0!==fe&&this._finalizationRegistry.register(fe,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ur(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ke.create("server-app-deleted")}}const Ie="10.12.2";function ft(Te,fe={}){let Et=Te;"object"!=typeof fe&&(fe={name:fe});const en=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},fe),Dn=en.name;if("string"!=typeof Dn||!Dn)throw Ke.create("bad-app-name",{appName:String(Dn)});if(Et||(Et=(0,Ae.T9)()),!Et)throw Ke.create("no-options");const On=pr.get(Dn);if(On){if((0,Ae.bD)(Et,On.options)&&(0,Ae.bD)(en,On.config))return On;throw Ke.create("duplicate-app",{appName:Dn})}const kn=new ae.h1(Dn);for(const Vr of ei.values())kn.addComponent(Vr);const Kr=new mt(Et,en,kn);return pr.set(Dn,Kr),Kr}function Kt(Te,fe){if((0,Ae.Bd)())throw Ke.create("invalid-server-app-environment");let Et;void 0===fe.automaticDataCollectionEnabled&&(fe.automaticDataCollectionEnabled=!1),Et=qn(Te)?Te.options:Te;const en=Object.assign(Object.assign({},fe),Et);if(void 0!==en.releaseOnDeref&&delete en.releaseOnDeref,void 0!==fe.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ke.create("finalization-registry-not-supported",{});const On=""+(Ni=JSON.stringify(en),[...Ni].reduce((Ko,Mr)=>Math.imul(31,Ko)+Mr.charCodeAt(0)|0,0)),kn=Tr.get(On);var Ni;if(kn)return kn.incRefCount(fe.releaseOnDeref),kn;const Kr=new ae.h1(On);for(const Ni of ei.values())Kr.addComponent(Ni);const Vr=new ie(Et,fe,On,Kr);return Tr.set(On,Vr),Vr}function Mn(Te=Pn){const fe=pr.get(Te);if(!fe&&Te===Pn&&(0,Ae.T9)())return ft();if(!fe)throw Ke.create("no-app",{appName:Te});return fe}function xr(){return Array.from(pr.values())}function ur(Te){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,a.A)(function*(Te){let fe=!1;const Et=Te.name;pr.has(Et)?(fe=!0,pr.delete(Et)):Tr.has(Et)&&Te.decRefCount()<=0&&(Tr.delete(Et),fe=!0),fe&&(yield Promise.all(Te.container.getProviders().map(en=>en.delete())),Te.isDeleted=!0)})).apply(this,arguments)}function ee(Te,fe,Et){var en;let Dn=null!==(en=Tn[Te])&&void 0!==en?en:Te;Et&&(Dn+=`-${Et}`);const On=Dn.match(/\s|\//),kn=fe.match(/\s|\//);if(On||kn){const Kr=[`Unable to register library "${Dn}" with version "${fe}":`];return On&&Kr.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),On&&kn&&Kr.push("and"),kn&&Kr.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void qt.warn(Kr.join(" "))}Ki(new ae.uA(`${Dn}-version`,()=>({library:Dn,version:fe}),"VERSION"))}function H(Te,fe){if(null!==Te&&"function"!=typeof Te)throw Ke.create("invalid-log-argument");(0,o.Ey)(Te,fe)}function V(Te){(0,o.He)(Te)}const F="firebase-heartbeat-database",ue=1,je="firebase-heartbeat-store";let It=null;function Ot(){return It||(It=function Ze(Te,fe,{blocked:Et,upgrade:en,blocking:Dn,terminated:On}={}){const kn=indexedDB.open(Te,fe),Kr=We(kn);return en&&kn.addEventListener("upgradeneeded",Vr=>{en(We(kn.result),Vr.oldVersion,Vr.newVersion,We(kn.transaction),Vr)}),Et&&kn.addEventListener("blocked",Vr=>Et(Vr.oldVersion,Vr.newVersion,Vr)),Kr.then(Vr=>{On&&Vr.addEventListener("close",()=>On()),Dn&&Vr.addEventListener("versionchange",Ni=>Dn(Ni.oldVersion,Ni.newVersion,Ni))}).catch(()=>{}),Kr}(F,ue,{upgrade:(Te,fe)=>{if(0===fe)try{Te.createObjectStore(je)}catch(Et){console.warn(Et)}}}).catch(Te=>{throw Ke.create("idb-open",{originalErrorMessage:Te.message})})),It}function nn(){return(nn=(0,a.A)(function*(Te){try{const Et=(yield Ot()).transaction(je),en=yield Et.objectStore(je).get(An(Te));return yield Et.done,en}catch(fe){if(fe instanceof Ae.g)qt.warn(fe.message);else{const Et=Ke.create("idb-get",{originalErrorMessage:fe?.message});qt.warn(Et.message)}}})).apply(this,arguments)}function ln(Te,fe){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.A)(function*(Te,fe){try{const en=(yield Ot()).transaction(je,"readwrite");yield en.objectStore(je).put(fe,An(Te)),yield en.done}catch(Et){if(Et instanceof Ae.g)qt.warn(Et.message);else{const en=Ke.create("idb-set",{originalErrorMessage:Et?.message});qt.warn(en.message)}}})).apply(this,arguments)}function An(Te){return`${Te.name}!${Te.options.appId}`}class Oo{constructor(fe){this.container=fe,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Pe(Et),this._heartbeatsCachePromise=this._storage.read().then(en=>(this._heartbeatsCache=en,en))}triggerHeartbeat(){var fe=this;return(0,a.A)(function*(){var Et,en;const On=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=ri();if((null!=(null===(Et=fe._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)||(fe._heartbeatsCache=yield fe._heartbeatsCachePromise,null!=(null===(en=fe._heartbeatsCache)||void 0===en?void 0:en.heartbeats)))&&fe._heartbeatsCache.lastSentHeartbeatDate!==kn&&!fe._heartbeatsCache.heartbeats.some(Kr=>Kr.date===kn))return fe._heartbeatsCache.heartbeats.push({date:kn,agent:On}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(Kr=>{const Vr=new Date(Kr.date).valueOf();return Date.now()-Vr<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,a.A)(function*(){var Et;if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null==(null===(Et=fe._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)||0===fe._heartbeatsCache.heartbeats.length)return"";const en=ri(),{heartbeatsToSend:Dn,unsentEntries:On}=function Bi(Te,fe=1024){const Et=[];let en=Te.slice();for(const Dn of Te){const On=Et.find(kn=>kn.agent===Dn.agent);if(On){if(On.dates.push(Dn.date),Lt(Et)>fe){On.dates.pop();break}}else if(Et.push({agent:Dn.agent,dates:[Dn.date]}),Lt(Et)>fe){Et.pop();break}en=en.slice(1)}return{heartbeatsToSend:Et,unsentEntries:en}}(fe._heartbeatsCache.heartbeats),kn=(0,Ae.Uj)(JSON.stringify({version:2,heartbeats:Dn}));return fe._heartbeatsCache.lastSentHeartbeatDate=en,On.length>0?(fe._heartbeatsCache.heartbeats=On,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),kn})()}}function ri(){return(new Date).toISOString().substring(0,10)}class Pe{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.A)(function*(){return!!(0,Ae.zW)()&&(0,Ae.eX)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,a.A)(function*(){if(yield fe._canUseIndexedDBPromise){const en=yield function pn(Te){return nn.apply(this,arguments)}(fe.app);return en?.heartbeats?en:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(fe){var Et=this;return(0,a.A)(function*(){var en;if(yield Et._canUseIndexedDBPromise){const On=yield Et.read();return ln(Et.app,{lastSentHeartbeatDate:null!==(en=fe.lastSentHeartbeatDate)&&void 0!==en?en:On.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var Et=this;return(0,a.A)(function*(){var en;if(yield Et._canUseIndexedDBPromise){const On=yield Et.read();return ln(Et.app,{lastSentHeartbeatDate:null!==(en=fe.lastSentHeartbeatDate)&&void 0!==en?en:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...fe.heartbeats]})}})()}}function Lt(Te){return(0,Ae.Uj)(JSON.stringify({version:2,heartbeats:Te})).length}!function Ce(Te){Ki(new ae.uA("platform-logger",fe=>new dn(fe),"PRIVATE")),Ki(new ae.uA("heartbeat",fe=>new Oo(fe),"PRIVATE")),ee(Pt,Bt,Te),ee(Pt,Bt,"esm2017"),ee("fire-js","")}("")},1362:(on,Je,L)=>{L.d(Je,{h1:()=>Le,uA:()=>o});var a=L(467),ae=L(1076);class o{constructor(Z,ce,me){this.name=Z,this.instanceFactory=ce,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const Ae="[DEFAULT]";class he{constructor(Z,ce){this.name=Z,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const ce=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(ce)){const me=new ae.cY;if(this.instancesDeferred.set(ce,me),this.isInitialized(ce)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ce});at&&me.resolve(at)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(Z){var ce;const me=this.normalizeInstanceIdentifier(Z?.identifier),at=null!==(ce=Z?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Xe){if(at)return null;throw Xe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function Ne(Be){return"EAGER"===Be.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch{}for(const[ce,me]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ce);try{const Xe=this.getOrInitializeService({instanceIdentifier:at});me.resolve(Xe)}catch{}}}}clearInstance(Z=Ae){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,a.A)(function*(){const ce=Array.from(Z.instances.values());yield Promise.all([...ce.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ce.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=Ae){return this.instances.has(Z)}getOptions(Z=Ae){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:ce={}}=Z,me=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:me,options:ce});for(const[Xe,bt]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Xe)&&bt.resolve(at);return at}onInit(Z,ce){var me;const at=this.normalizeInstanceIdentifier(ce),Xe=null!==(me=this.onInitCallbacks.get(at))&&void 0!==me?me:new Set;Xe.add(Z),this.onInitCallbacks.set(at,Xe);const bt=this.instances.get(at);return bt&&Z(bt,at),()=>{Xe.delete(Z)}}invokeOnInitCallbacks(Z,ce){const me=this.onInitCallbacks.get(ce);if(me)for(const at of me)try{at(Z,ce)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:ce={}}){let me=this.instances.get(Z);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=Z,Be===Ae?void 0:Be),options:ce}),this.instances.set(Z,me),this.instancesOptions.set(Z,ce),this.invokeOnInitCallbacks(me,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,me)}catch{}var Be;return me||null}normalizeInstanceIdentifier(Z=Ae){return this.component?this.component.multipleInstances?Z:Ae:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const ce=this.getProvider(Z.name);if(ce.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);ce.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const ce=new he(Z,this);return this.providers.set(Z,ce),ce}getProviders(){return Array.from(this.providers.values())}}},8041:(on,Je,L)=>{L.d(Je,{$b:()=>ae,Ey:()=>Be,He:()=>Le,Vy:()=>Ne});const a=[];var ae=function(Z){return Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z}(ae||{});const o={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Ae=ae.INFO,he={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},De=(Z,ce,...me)=>{if(ce<Z.logLevel)return;const at=(new Date).toISOString(),Xe=he[ce];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Xe](`[${at}]  ${Z.name}:`,...me)};class Ne{constructor(ce){this.name=ce,this._logLevel=Ae,this._logHandler=De,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in ae))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?o[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...ce),this._logHandler(this,ae.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...ce),this._logHandler(this,ae.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...ce),this._logHandler(this,ae.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...ce),this._logHandler(this,ae.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...ce),this._logHandler(this,ae.ERROR,...ce)}}function Le(Z){a.forEach(ce=>{ce.setLogLevel(Z)})}function Be(Z,ce){for(const me of a){let at=null;ce&&ce.level&&(at=o[ce.level]),me.userLogHandler=null===Z?null:(Xe,bt,...Ct)=>{const jt=Ct.map(Mt=>{if(null==Mt)return null;if("string"==typeof Mt)return Mt;if("number"==typeof Mt||"boolean"==typeof Mt)return Mt.toString();if(Mt instanceof Error)return Mt.message;try{return JSON.stringify(Mt)}catch{return null}}).filter(Mt=>Mt).join(" ");bt>=(at??Xe.logLevel)&&Z({level:ae[bt].toLowerCase(),message:jt,args:Ct,type:Xe.name})}}}},2214:(on,Je,L)=>{L.d(Je,{Dk:()=>a.getApps,KO:()=>a.registerVersion,Sx:()=>a.getApp,Wp:()=>a.initializeApp});var a=L(7852);(0,a.registerVersion)("firebase","10.12.2","app")},7935:(on,Je,L)=>{L.d(Je,{A:()=>a.A});var a=L(3345);a.A.registerVersion("firebase","10.12.2","app-compat")},2438:(on,Je,L)=>{var a=L(467),ae=L(3345),o=L(4033),Ae=L(1076),Ne=(L(7852),L(8041),L(1362));function Le(){return window}function ce(){return ce=(0,a.A)(function*(H,V,F){var ue;const{BuildInfo:je}=Le();(0,o.au)(V.sessionId,"AuthEvent did not contain a session ID");const It=yield function Mt(H){return cn.apply(this,arguments)}(V.sessionId),Ot={};return(0,o.av)()?Ot.ibi=je.packageName:(0,o.aw)()?Ot.apn=je.packageName:(0,o.ax)(H,"operation-not-supported-in-this-environment"),je.displayName&&(Ot.appDisplayName=je.displayName),Ot.sessionId=It,(0,o.ay)(H,F,V.type,void 0,null!==(ue=V.eventId)&&void 0!==ue?ue:void 0,Ot)}),ce.apply(this,arguments)}function at(){return(at=(0,a.A)(function*(H){const{BuildInfo:V}=Le(),F={};(0,o.av)()?F.iosBundleId=V.packageName:(0,o.aw)()?F.androidPackageName=V.packageName:(0,o.ax)(H,"operation-not-supported-in-this-environment"),yield(0,o.az)(H,F)})).apply(this,arguments)}function Ct(){return(Ct=(0,a.A)(function*(H,V,F){const{cordova:ue}=Le();let je=()=>{};try{yield new Promise((It,Ot)=>{let pn=null;function nn(){var An;It();const li=null===(An=ue.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof li&&li(),"function"==typeof F?.close&&F.close()}function ln(){pn||(pn=window.setTimeout(()=>{Ot((0,o.aB)(H,"redirect-cancelled-by-user"))},2e3))}function rr(){"visible"===document?.visibilityState&&ln()}V.addPassiveListener(nn),document.addEventListener("resume",ln,!1),(0,o.aw)()&&document.addEventListener("visibilitychange",rr,!1),je=()=>{V.removePassiveListener(nn),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",rr,!1),pn&&window.clearTimeout(pn)}})}finally{je()}})).apply(this,arguments)}function cn(){return(cn=(0,a.A)(function*(H){const V=function et(H){if((0,o.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const V=new ArrayBuffer(H.length),F=new Uint8Array(V);for(let ue=0;ue<H.length;ue++)F[ue]=H.charCodeAt(ue);return F}(H),F=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(F)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ot extends o.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(V)),super.onEvent(V)}initialized(){var V=this;return(0,a.A)(function*(){yield V.initPromise})()}}function wt(H){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.A)(function*(H){const V=yield dn()._get(nr(H));return V&&(yield dn()._remove(nr(H))),V})).apply(this,arguments)}function Jt(){const H=[];for(let F=0;F<20;F++){const ue=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ue))}return H.join("")}function dn(){return(0,o.aE)(o.b)}function nr(H){return(0,o.aF)("authEvent",H.config.apiKey,H.name)}function qt(H){if(!H?.includes("?"))return{};const[V,...F]=H.split("?");return(0,Ae.I9)(F.join("?"))}const le=class Me{constructor(){this._redirectPersistence=o.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,a.A)(function*(){const ue=V._key();let je=F.eventManagers.get(ue);return je||(je=new ot(V),F.eventManagers.set(ue,je),F.attachCallbackListeners(V,je)),je})()}_openPopup(V){(0,o.ax)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,F,ue,je){var It=this;return(0,a.A)(function*(){!function jt(H){var V,F,ue,je,It,Ot,pn,nn,ln,rr;const An=Le();(0,o.aC)("function"==typeof(null===(V=An?.universalLinks)||void 0===V?void 0:V.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,o.aC)(typeof(null===(F=An?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,o.aC)("function"==typeof(null===(It=null===(je=null===(ue=An?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===je?void 0:je.browsertab)||void 0===It?void 0:It.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(nn=null===(pn=null===(Ot=An?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===pn?void 0:pn.browsertab)||void 0===nn?void 0:nn.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,o.aC)("function"==typeof(null===(rr=null===(ln=An?.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===rr?void 0:rr.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Ot=yield It._initialize(V);yield Ot.initialized(),Ot.resetRedirect(),(0,o.aI)(),yield It._originValidation(V);const pn=function Ze(H,V,F=null){return{type:V,eventId:F,urlResponse:null,sessionId:Jt(),postBody:null,tenantId:H.tenantId,error:(0,o.aB)(H,"no-auth-event")}}(V,ue,je);yield function rt(H,V){return dn()._set(nr(H),V)}(V,pn);const nn=yield function Z(H,V,F){return ce.apply(this,arguments)}(V,pn,F),ln=yield function Xe(H){const{cordova:V}=Le();return new Promise(F=>{V.plugins.browsertab.isAvailable(ue=>{let je=null;ue?V.plugins.browsertab.openUrl(H):je=V.InAppBrowser.open(H,(0,o.aA)()?"_blank":"_system","location=yes"),F(je)})})}(nn);return function bt(H,V,F){return Ct.apply(this,arguments)}(V,Ot,ln)})()}_isIframeWebStorageSupported(V,F){throw new Error("Method not implemented.")}_originValidation(V){const F=V._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function me(H){return at.apply(this,arguments)}(V)),this.originValidationPromises[F]}attachCallbackListeners(V,F){const{universalLinks:ue,handleOpenURL:je,BuildInfo:It}=Le(),Ot=setTimeout((0,a.A)(function*(){yield wt(V),F.onEvent(Fe())}),500),pn=function(){var rr=(0,a.A)(function*(An){clearTimeout(Ot);const li=yield wt(V);let br=null;li&&An?.url&&(br=function be(H,V){var F,ue;const je=function Bt(H){const V=qt(H),F=V.link?decodeURIComponent(V.link):void 0,ue=qt(F).link,je=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return qt(je).link||je||ue||F||H}(V);if(je.includes("/__/auth/callback")){const It=qt(je),Ot=It.firebaseError?function Pt(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(It.firebaseError)):null,pn=null===(ue=null===(F=Ot?.code)||void 0===F?void 0:F.split("auth/"))||void 0===ue?void 0:ue[1],nn=pn?(0,o.aB)(pn):null;return nn?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:je,postBody:null}}return null}(li,An.url)),F.onEvent(br||Fe())});return function(li){return rr.apply(this,arguments)}}();typeof ue<"u"&&"function"==typeof ue.subscribe&&ue.subscribe(null,pn);const nn=je,ln=`${It.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var rr=(0,a.A)(function*(An){if(An.toLowerCase().startsWith(ln)&&pn({url:An}),"function"==typeof nn)try{nn(An)}catch(li){console.error(li)}});return function(An){return rr.apply(this,arguments)}}()}};function Fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,o.aB)("no-auth-event")}}function Tt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function hn(H=(0,Ae.ZQ)()){return!("file:"!==Tt()&&"ionic:"!==Tt()&&"capacitor:"!==Tt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gt(){try{const H=self.localStorage,V=o.aN();if(H)return H.setItem(V,"1"),H.removeItem(V),!function fr(H=(0,Ae.ZQ)()){return function Fn(){return(0,Ae.lT)()&&11===document?.documentMode}()||function In(H=(0,Ae.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,Ae.zW)()}catch{return wn()&&(0,Ae.zW)()}return!1}function wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function xt(){return"http:"===Tt()||"https:"===Tt()}()||(0,Ae.sr)()||hn())&&!function sn(){return(0,Ae.lV)()||(0,Ae.Ll)()}()&&Gt()&&!wn()}function Wt(){return hn()&&typeof document<"u"}function Br(){return(Br=(0,a.A)(function*(){return!!Wt()&&new Promise(H=>{const V=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),H(!0)})})})).apply(this,arguments)}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},zn=o.aC,Ut="persistence";function Pn(H){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.A)(function*(H){yield H._initializationPromise;const V=Tr(),F=o.aF(Ut,H.config.apiKey,H.name);V&&V.setItem(F,H._getPersistence())})).apply(this,arguments)}function Tr(){var H;try{return(null===(H=function fn(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const ei=o.aC;class $n{constructor(){this.browserResolver=o.aE(o.k),this.cordovaResolver=o.aE(le),this.underlyingResolver=null,this._redirectPersistence=o.a,this._completeRedirectFn=o.aG,this._overrideRedirectResult=o.aH}_initialize(V){var F=this;return(0,a.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,F,ue,je){var It=this;return(0,a.A)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openPopup(V,F,ue,je)})()}_openRedirect(V,F,ue,je){var It=this;return(0,a.A)(function*(){return yield It.selectUnderlyingResolver(),It.assertedUnderlyingResolver._openRedirect(V,F,ue,je)})()}_isIframeWebStorageSupported(V,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,F)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ei(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,a.A)(function*(){if(V.underlyingResolver)return;const F=yield function Vt(){return Br.apply(this,arguments)}();V.underlyingResolver=F?V.cordovaResolver:V.browserResolver})()}}function ti(H){return H.unwrap()}function un(H){return qn(H)}function qn(H){const{_tokenResponse:V}=H instanceof Ae.g?H.customData:H;if(!V)return null;if(!(H instanceof Ae.g)&&"temporaryProof"in V&&"phoneNumber"in V)return o.P.credentialFromResult(H);const F=V.providerId;if(!F||F===o.p.PASSWORD)return null;let ue;switch(F){case o.p.GOOGLE:ue=o.X;break;case o.p.FACEBOOK:ue=o.W;break;case o.p.GITHUB:ue=o.Y;break;case o.p.TWITTER:ue=o.$;break;default:const{oauthIdToken:je,oauthAccessToken:It,oauthTokenSecret:Ot,pendingToken:pn,nonce:nn}=V;return It||Ot||je||pn?pn?F.startsWith("saml.")?o.aQ._create(F,pn):o.N._fromParams({providerId:F,signInMethod:F,pendingToken:pn,idToken:je,accessToken:It}):new o.Z(F).credential({idToken:je,accessToken:It,rawNonce:nn}):null}return H instanceof Ae.g?ue.credentialFromError(H):ue.credentialFromResult(H)}function vr(H,V){return V.catch(F=>{throw F instanceof Ae.g&&function ni(H,V){var F;const ue=null===(F=V.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Ke(H,o.as(H,V));else if(ue){const je=qn(V),It=V;je&&(It.credential=je,It.tenantId=ue.tenantId||void 0,It.email=ue.email||void 0,It.phoneNumber=ue.phoneNumber||void 0)}}(H,F),F}).then(F=>{const je=F.user;return{operationType:F.operationType,credential:un(F),additionalUserInfo:o.aq(F),user:mt.getOrCreate(je)}})}function Nn(H,V){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.A)(function*(H,V){const F=yield V;return{verificationId:F.verificationId,confirm:ue=>vr(H,F.confirm(ue))}})).apply(this,arguments)}class Ke{constructor(V,F){this.resolver=F,this.auth=function Ki(H){return H.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return vr(ti(this.auth),this.resolver.resolveSignIn(V))}}class mt{constructor(V){this._delegate=V,this.multiFactor=o.at(V)}static getOrCreate(V){return mt.USER_MAP.has(V)||mt.USER_MAP.set(V,new mt(V)),mt.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var F=this;return(0,a.A)(function*(){return vr(F.auth,o.a2(F._delegate,V))})()}linkWithPhoneNumber(V,F){var ue=this;return(0,a.A)(function*(){return Nn(ue.auth,o.l(ue._delegate,V,F))})()}linkWithPopup(V){var F=this;return(0,a.A)(function*(){return vr(F.auth,o.d(F._delegate,V,$n))})()}linkWithRedirect(V){var F=this;return(0,a.A)(function*(){return yield Pn(o.aJ(F.auth)),o.g(F._delegate,V,$n)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var F=this;return(0,a.A)(function*(){return vr(F.auth,o.a3(F._delegate,V))})()}reauthenticateWithPhoneNumber(V,F){return Nn(this.auth,o.r(this._delegate,V,F))}reauthenticateWithPopup(V){return vr(this.auth,o.e(this._delegate,V,$n))}reauthenticateWithRedirect(V){var F=this;return(0,a.A)(function*(){return yield Pn(o.aJ(F.auth)),o.h(F._delegate,V,$n)})()}sendEmailVerification(V){return o.ag(this._delegate,V)}unlink(V){var F=this;return(0,a.A)(function*(){return yield o.ap(F._delegate,V),F})()}updateEmail(V){return o.al(this._delegate,V)}updatePassword(V){return o.am(this._delegate,V)}updatePhoneNumber(V){return o.u(this._delegate,V)}updateProfile(V){return o.ak(this._delegate,V)}verifyBeforeUpdateEmail(V,F){return o.ah(this._delegate,V,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mt.USER_MAP=new WeakMap;const ie=o.aC;let Ie=(()=>{class H{constructor(F,ue){if(this.app=F,ue.isInitialized())return this._delegate=ue.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=F.options;ie(je,"invalid-api-key",{appName:F.name}),ie(je,"invalid-api-key",{appName:F.name});const It=typeof window<"u"?$n:void 0;this._delegate=ue.initialize({options:{persistence:Kt(je,F.name),popupRedirectResolver:It}}),this._delegate._updateErrorMap(o.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ue){o.K(this._delegate,F,ue)}applyActionCode(F){return o.a7(this._delegate,F)}checkActionCode(F){return o.a8(this._delegate,F)}confirmPasswordReset(F,ue){return o.a6(this._delegate,F,ue)}createUserWithEmailAndPassword(F,ue){var je=this;return(0,a.A)(function*(){return vr(je._delegate,o.aa(je._delegate,F,ue))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return o.af(this._delegate,F)}isSignInWithEmailLink(F){return o.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,a.A)(function*(){ie(Bn(),F._delegate,"operation-not-supported-in-this-environment");const ue=yield o.j(F._delegate,$n);return ue?vr(F._delegate,Promise.resolve(ue)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Qe(H,V){(0,o.aJ)(H)._logFramework(V)}(this._delegate,F)}onAuthStateChanged(F,ue,je){const{next:It,error:Ot,complete:pn}=ft(F,ue,je);return this._delegate.onAuthStateChanged(It,Ot,pn)}onIdTokenChanged(F,ue,je){const{next:It,error:Ot,complete:pn}=ft(F,ue,je);return this._delegate.onIdTokenChanged(It,Ot,pn)}sendSignInLinkToEmail(F,ue){return o.ac(this._delegate,F,ue)}sendPasswordResetEmail(F,ue){return o.a5(this._delegate,F,ue||void 0)}setPersistence(F){var ue=this;return(0,a.A)(function*(){let je;switch(function _n(H,V){zn(Object.values(Cr).includes(V),H,"invalid-persistence-type"),(0,Ae.lV)()?zn(V!==Cr.SESSION,H,"unsupported-persistence-type"):(0,Ae.Ll)()?zn(V===Cr.NONE,H,"unsupported-persistence-type"):wn()?zn(V===Cr.NONE||V===Cr.LOCAL&&(0,Ae.zW)(),H,"unsupported-persistence-type"):zn(V===Cr.NONE||Gt(),H,"unsupported-persistence-type")}(ue._delegate,F),F){case Cr.SESSION:je=o.a;break;case Cr.LOCAL:je=(yield o.aE(o.i)._isAvailable())?o.i:o.b;break;case Cr.NONE:je=o.U;break;default:return o.ax("argument-error",{appName:ue._delegate.name})}return ue._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return vr(this._delegate,o.a0(this._delegate))}signInWithCredential(F){return vr(this._delegate,o.a1(this._delegate,F))}signInWithCustomToken(F){return vr(this._delegate,o.a4(this._delegate,F))}signInWithEmailAndPassword(F,ue){return vr(this._delegate,o.ab(this._delegate,F,ue))}signInWithEmailLink(F,ue){return vr(this._delegate,o.ae(this._delegate,F,ue))}signInWithPhoneNumber(F,ue){return Nn(this._delegate,o.s(this._delegate,F,ue))}signInWithPopup(F){var ue=this;return(0,a.A)(function*(){return ie(Bn(),ue._delegate,"operation-not-supported-in-this-environment"),vr(ue._delegate,o.c(ue._delegate,F,$n))})()}signInWithRedirect(F){var ue=this;return(0,a.A)(function*(){return ie(Bn(),ue._delegate,"operation-not-supported-in-this-environment"),yield Pn(ue._delegate),o.f(ue._delegate,F,$n)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return o.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=Cr,H})();function ft(H,V,F){let ue=H;"function"!=typeof H&&({next:ue,error:V,complete:F}=H);const je=ue;return{next:Ot=>je(Ot&&mt.getOrCreate(Ot)),error:V,complete:F}}function Kt(H,V){const F=function pr(H,V){const F=Tr();if(!F)return[];const ue=o.aF(Ut,H,V);switch(F.getItem(ue)){case Cr.NONE:return[o.U];case Cr.LOCAL:return[o.i,o.a];case Cr.SESSION:return[o.a];default:return[]}}(H,V);if(typeof self<"u"&&!F.includes(o.i)&&F.push(o.i),typeof window<"u")for(const ue of[o.b,o.a])F.includes(ue)||F.push(ue);return F.includes(o.U)||F.push(o.U),F}class Mn{constructor(){this.providerId="phone",this._delegate=new o.P(ti(ae.A.auth()))}static credential(V,F){return o.P.credential(V,F)}verifyPhoneNumber(V,F){return this._delegate.verifyPhoneNumber(V,F)}unwrap(){return this._delegate}}Mn.PHONE_SIGN_IN_METHOD=o.P.PHONE_SIGN_IN_METHOD,Mn.PROVIDER_ID=o.P.PROVIDER_ID;const xr=o.aC;class ur{constructor(V,F,ue=ae.A.app()){var je;xr(null===(je=ue.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:ue.name}),this._delegate=new o.R(ue.auth(),V,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ee(H){H.INTERNAL.registerComponent(new Ne.uA("auth-compat",V=>{const F=V.getProvider("app-compat").getImmediate(),ue=V.getProvider("auth");return new Ie(F,ue)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.A.EMAIL_SIGNIN,PASSWORD_RESET:o.A.PASSWORD_RESET,RECOVER_EMAIL:o.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.A.VERIFY_EMAIL}},EmailAuthProvider:o.V,FacebookAuthProvider:o.W,GithubAuthProvider:o.Y,GoogleAuthProvider:o.X,OAuthProvider:o.Z,SAMLAuthProvider:o._,PhoneAuthProvider:Mn,PhoneMultiFactorGenerator:o.m,RecaptchaVerifier:ur,TwitterAuthProvider:o.$,Auth:Ie,AuthCredential:o.L,Error:Ae.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.9")}(ae.A)},467:(on,Je,L)=>{function a(o,Ae,he,De,Ne,Le,Be){try{var Z=o[Le](Be),ce=Z.value}catch(me){return void he(me)}Z.done?Ae(ce):Promise.resolve(ce).then(De,Ne)}function ae(o){return function(){var Ae=this,he=arguments;return new Promise(function(De,Ne){var Le=o.apply(Ae,he);function Be(ce){a(Le,De,Ne,Be,Z,"next",ce)}function Z(ce){a(Le,De,Ne,Be,Z,"throw",ce)}Be(void 0)})}}L.d(Je,{A:()=>ae})},1635:(on,Je,L)=>{function Ae(le,Fe){var Qe={};for(var xe in le)Object.prototype.hasOwnProperty.call(le,xe)&&Fe.indexOf(xe)<0&&(Qe[xe]=le[xe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(xe=Object.getOwnPropertySymbols(le);Se<xe.length;Se++)Fe.indexOf(xe[Se])<0&&Object.prototype.propertyIsEnumerable.call(le,xe[Se])&&(Qe[xe[Se]]=le[xe[Se]])}return Qe}function me(le,Fe,Qe,xe){return new(Qe||(Qe=Promise))(function(Ge,Tt){function xt(Fn){try{sn(xe.next(Fn))}catch(In){Tt(In)}}function hn(Fn){try{sn(xe.throw(Fn))}catch(In){Tt(In)}}function sn(Fn){Fn.done?Ge(Fn.value):function Se(Ge){return Ge instanceof Qe?Ge:new Qe(function(Tt){Tt(Ge)})}(Fn.value).then(xt,hn)}sn((xe=xe.apply(le,Fe||[])).next())})}function We(le){return this instanceof We?(this.v=le,this):new We(le)}function ot(le,Fe,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,xe=Qe.apply(le,Fe||[]),Ge=[];return Se={},xt("next"),xt("throw"),xt("return",function Tt(Gt){return function(wn){return Promise.resolve(wn).then(Gt,In)}}),Se[Symbol.asyncIterator]=function(){return this},Se;function xt(Gt,wn){xe[Gt]&&(Se[Gt]=function(Bn){return new Promise(function(Wt,Vt){Ge.push([Gt,Bn,Wt,Vt])>1||hn(Gt,Bn)})},wn&&(Se[Gt]=wn(Se[Gt])))}function hn(Gt,wn){try{!function sn(Gt){Gt.value instanceof We?Promise.resolve(Gt.value.v).then(Fn,In):fr(Ge[0][2],Gt)}(xe[Gt](wn))}catch(Bn){fr(Ge[0][3],Bn)}}function Fn(Gt){hn("next",Gt)}function In(Gt){hn("throw",Gt)}function fr(Gt,wn){Gt(wn),Ge.shift(),Ge.length&&hn(Ge[0][0],Ge[0][1])}}function rt(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Fe=le[Symbol.asyncIterator];return Fe?Fe.call(le):(le=function Ct(le){var Fe="function"==typeof Symbol&&Symbol.iterator,Qe=Fe&&le[Fe],xe=0;if(Qe)return Qe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&xe>=le.length&&(le=void 0),{value:le&&le[xe++],done:!le}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Qe={},xe("next"),xe("throw"),xe("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function xe(Ge){Qe[Ge]=le[Ge]&&function(Tt){return new Promise(function(xt,hn){!function Se(Ge,Tt,xt,hn){Promise.resolve(hn).then(function(sn){Ge({value:sn,done:xt})},Tt)}(xt,hn,(Tt=le[Ge](Tt)).done,Tt.value)})}}}L.d(Je,{AQ:()=>ot,N3:()=>We,Tt:()=>Ae,sH:()=>me,xN:()=>rt}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=8094)}]);