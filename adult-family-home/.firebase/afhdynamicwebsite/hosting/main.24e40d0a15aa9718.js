"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(tn,Ye,L)=>{L.d(Ye,{$:()=>Za,A:()=>ie,G:()=>Be,K:()=>Pi,L:()=>gi,N:()=>Re,P:()=>ia,R:()=>$a,U:()=>Xt,V:()=>Vi,W:()=>wi,X:()=>Pr,Y:()=>Bo,Z:()=>Ti,_:()=>ea,a:()=>Ea,a0:()=>Do,a1:()=>ts,a2:()=>Rs,a3:()=>Go,a4:()=>Ki,a5:()=>La,a6:()=>Eu,a7:()=>Cl,a8:()=>mo,a9:()=>bu,aA:()=>sr,aB:()=>Ze,aC:()=>Ie,aD:()=>ep,aE:()=>je,aF:()=>an,aG:()=>Zf,aH:()=>Ha,aI:()=>Vh,aJ:()=>dr,aN:()=>Ir,aQ:()=>Ys,aa:()=>Nh,ab:()=>Tu,ac:()=>wl,ad:()=>tc,ae:()=>Va,af:()=>sl,ag:()=>se,ah:()=>Q,ak:()=>kn,al:()=>ii,am:()=>Xr,ap:()=>$o,aq:()=>rs,as:()=>nc,at:()=>zo,au:()=>Yt,av:()=>pi,aw:()=>Fi,ax:()=>Ae,ay:()=>Ka,az:()=>qo,b:()=>ic,c:()=>Lu,d:()=>Vu,e:()=>Rd,f:()=>gl,g:()=>za,h:()=>xl,i:()=>N,j:()=>Hc,k:()=>Gh,l:()=>Ga,m:()=>qc,p:()=>Te,r:()=>Mu,s:()=>Oo,u:()=>Sl});var s=L(467),ce=L(7852),r=L(1076),be=L(8041),fe=L(1635),Ee=L(1362);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ve=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new r.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new be.Vy("@firebase/auth");function He(w,..._){bt.logLevel<=be.$b.ERROR&&bt.error(`Auth (${ce.SDK_VERSION}): ${w}`,..._)}function Ae(w,..._){throw ct(w,..._)}function Ze(w,..._){return ct(w,..._)}function Ke(w,_,v){const R=Object.assign(Object.assign({},ve()),{[_]:v});return new r.FA("auth","Firebase",R).create(_,{appName:w.name})}function lt(w){return Ke(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pt(w,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Ae(w,"argument-error"),Ke(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(w,..._){if("string"!=typeof w){const v=_[0],R=[..._.slice(1)];return R[0]&&(R[0].appName=w.name),w._errorFactory.create(v,...R)}return qe.create(w,..._)}function Ie(w,_,...v){if(!w)throw ct(_,...v)}function Qe(w){const _="INTERNAL ASSERTION FAILED: "+w;throw He(_),new Error(_)}function Yt(w,_){w||Qe(_)}function Mn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Mt(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ve{constructor(_,v){this.shortDelay=_,this.longDelay=v,Yt(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,r.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function it(w,_){Yt(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class rt{static initialize(_,v,R){this.fetchImpl=_,v&&(this.headersImpl=v),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},te=new Ve(3e4,6e4);function ye(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function ke(w,_,v,R){return st.apply(this,arguments)}function st(){return(st=(0,s.A)(function*(w,_,v,R,J={}){return nt(w,J,(0,s.A)(function*(){let ge={},Xe={};R&&("GET"===_?Xe=R:ge={body:JSON.stringify(R)});const Rt=(0,r.Am)(Object.assign({key:w.config.apiKey},Xe)).slice(1),zt=yield w._getAdditionalHeaders();zt["Content-Type"]="application/json",w.languageCode&&(zt["X-Firebase-Locale"]=w.languageCode);const Dn=Object.assign({method:_,headers:zt},ge);return(0,r.c1)()||(Dn.referrerPolicy="no-referrer"),rt.fetch()(rn(w,w.config.apiHost,v,Rt),Dn)}))})).apply(this,arguments)}function nt(w,_,v){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.A)(function*(w,_,v){w._canInitEmulator=!1;const R=Object.assign(Object.assign({},Me),_);try{const J=new Qt(w),ge=yield Promise.race([v(),J.promise]);J.clearNetworkTimeout();const Xe=yield ge.json();if("needConfirmation"in Xe)throw jn(w,"account-exists-with-different-credential",Xe);if(ge.ok&&!("errorMessage"in Xe))return Xe;{const Rt=ge.ok?Xe.errorMessage:Xe.error.message,[zt,Dn]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw jn(w,"credential-already-in-use",Xe);if("EMAIL_EXISTS"===zt)throw jn(w,"email-already-in-use",Xe);if("USER_DISABLED"===zt)throw jn(w,"user-disabled",Xe);const Sn=R[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(Dn)throw Ke(w,Sn,Dn);Ae(w,Sn)}}catch(J){if(J instanceof r.g)throw J;Ae(w,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function bn(w,_,v,R){return er.apply(this,arguments)}function er(){return(er=(0,s.A)(function*(w,_,v,R,J={}){const ge=yield ke(w,_,v,R,J);return"mfaPendingCredential"in ge&&Ae(w,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function rn(w,_,v,R){const J=`${_}${v}?${R}`;return w.config.emulator?it(w.config,J):`${w.config.apiScheme}://${J}`}function Fn(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,R)=>{this.timer=setTimeout(()=>R(Ze(this.auth,"network-request-failed")),te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(w,_,v){const R={appName:w.name};v.email&&(R.email=v.email),v.phoneNumber&&(R.phoneNumber=v.phoneNumber);const J=Ze(w,_,R);return J.customData._tokenResponse=v,J}function Pn(w){return void 0!==w&&void 0!==w.getResponse}function Ht(w){return void 0!==w&&void 0!==w.enterprise}class Vt{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Fn(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function sn(){return(sn=(0,s.A)(function*(w){return(yield ke(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rr(w,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,s.A)(function*(w,_){return ke(w,"GET","/v2/recaptchaConfig",ye(w,_))})).apply(this,arguments)}function En(){return(En=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Tn(){return(Tn=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Vr(w,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Zr(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ys(){return(ys=(0,s.A)(function*(w,_=!1){const v=(0,r.Ku)(w),R=yield v.getIdToken(_),J=ei(R);Ie(J&&J.exp&&J.auth_time&&J.iat,v.auth,"internal-error");const ge="object"==typeof J.firebase?J.firebase:void 0,Xe=ge?.sign_in_provider;return{claims:J,token:R,authTime:Zr(on(J.auth_time)),issuedAtTime:Zr(on(J.iat)),expirationTime:Zr(on(J.exp)),signInProvider:Xe||null,signInSecondFactor:ge?.sign_in_second_factor||null}})).apply(this,arguments)}function on(w){return 1e3*Number(w)}function ei(w){const[_,v,R]=w.split(".");if(void 0===_||void 0===v||void 0===R)return He("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,r.u)(v);return J?JSON.parse(J):(He("Failed to decode base64 JWT payload"),null)}catch(J){return He("Caught error parsing JWT payload as JSON",J?.toString()),null}}function Qn(w){const _=ei(w);return Ie(_,"internal-error"),Ie(typeof _.exp<"u","internal-error"),Ie(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}function br(w,_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,s.A)(function*(w,_,v=!1){if(v)return _;try{return yield _}catch(R){throw R instanceof r.g&&function Ri({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(R)&&w.auth.currentUser===w&&(yield w.auth.signOut()),R}})).apply(this,arguments)}class ot{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const J=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const R=this.getInterval(_);this.timerId=setTimeout((0,s.A)(function*(){yield v.iteration()}),R)}iteration(){var _=this;return(0,s.A)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class Et{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function he(w){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.A)(function*(w){var _;const v=w.auth,R=yield w.getIdToken(),J=yield br(w,Vr(v,{idToken:R}));Ie(J?.users.length,v,"internal-error");const ge=J.users[0];w._notifyReloadListener(ge);const Xe=null!==(_=ge.providerUserInfo)&&void 0!==_&&_.length?Fr(ge.providerUserInfo):[],Rt=function Ln(w,_){return[...w.filter(R=>!_.some(J=>J.providerId===R.providerId)),..._]}(w.providerData,Xe),Sn=!!w.isAnonymous&&!(w.email&&ge.passwordHash||Rt?.length),Qr={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:Rt,metadata:new Et(ge.createdAt,ge.lastLoginAt),isAnonymous:Sn};Object.assign(w,Qr)})).apply(this,arguments)}function Kt(){return(Kt=(0,s.A)(function*(w){const _=(0,r.Ku)(w);yield he(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Fr(w){return w.map(_=>{var{providerId:v}=_,R=(0,fe.Tt)(_,["providerId"]);return{providerId:v,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function bi(){return(bi=(0,s.A)(function*(w,_){const v=yield nt(w,{},(0,s.A)(function*(){const R=(0,r.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:J,apiKey:ge}=w.config,Xe=rn(w,J,"/v1/token",`key=${ge}`),Rt=yield w._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",rt.fetch()(Xe,{method:"POST",headers:Rt,body:R})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,s.A)(function*(w,_){return ke(w,"POST","/v2/accounts:revokeToken",ye(w,_))})).apply(this,arguments)}class C{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ie(_.idToken,"internal-error"),Ie(typeof _.idToken<"u","internal-error"),Ie(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):Qn(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}updateFromIdToken(_){Ie(0!==_.length,"internal-error");const v=Qn(_);this.updateTokensAndExpiration(_,null,v)}getToken(_,v=!1){var R=this;return(0,s.A)(function*(){return v||!R.accessToken||R.isExpired?(Ie(R.refreshToken,_,"user-token-expired"),R.refreshToken?(yield R.refresh(_,R.refreshToken),R.accessToken):null):R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var R=this;return(0,s.A)(function*(){const{accessToken:J,refreshToken:ge,expiresIn:Xe}=yield function Tr(w,_){return bi.apply(this,arguments)}(_,v);R.updateTokensAndExpiration(J,ge,Number(Xe))})()}updateTokensAndExpiration(_,v,R){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(_,v){const{refreshToken:R,accessToken:J,expirationTime:ge}=v,Xe=new C;return R&&(Ie("string"==typeof R,"internal-error",{appName:_}),Xe.refreshToken=R),J&&(Ie("string"==typeof J,"internal-error",{appName:_}),Xe.accessToken=J),ge&&(Ie("number"==typeof ge,"internal-error",{appName:_}),Xe.expirationTime=ge),Xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new C,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function M(w,_){Ie("string"==typeof w||typeof w>"u","internal-error",{appName:_})}class V{constructor(_){var{uid:v,auth:R,stsTokenManager:J}=_,ge=(0,fe.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=R,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Et(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,s.A)(function*(){const R=yield br(v,v.stsTokenManager.getToken(v.auth,_));return Ie(R,v.auth,"internal-error"),v.accessToken!==R&&(v.accessToken=R,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),R})()}getIdTokenResult(_){return function ui(w){return ys.apply(this,arguments)}(this,_)}reload(){return function It(w){return Kt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ie(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new V(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var R=this;return(0,s.A)(function*(){let J=!1;_.idToken&&_.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(_),J=!0),v&&(yield he(R)),yield R.auth._persistUserIfCurrent(R),J&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var _=this;return(0,s.A)(function*(){if((0,ce._isFirebaseServerApp)(_.auth.app))return Promise.reject(lt(_.auth));const v=yield _.getIdToken();return yield br(_,function Bt(w,_){return En.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var R,J,ge,Xe,Rt,zt,Dn,Sn;const Qr=null!==(R=v.displayName)&&void 0!==R?R:void 0,vo=null!==(J=v.email)&&void 0!==J?J:void 0,aa=null!==(ge=v.phoneNumber)&&void 0!==ge?ge:void 0,Ul=null!==(Xe=v.photoURL)&&void 0!==Xe?Xe:void 0,Qc=null!==(Rt=v.tenantId)&&void 0!==Rt?Rt:void 0,Gd=null!==(zt=v._redirectEventId)&&void 0!==zt?zt:void 0,Hd=null!==(Dn=v.createdAt)&&void 0!==Dn?Dn:void 0,Rg=null!==(Sn=v.lastLoginAt)&&void 0!==Sn?Sn:void 0,{uid:sp,emailVerified:zd,isAnonymous:Pg,providerData:la,stsTokenManager:Kh}=v;Ie(sp&&Kh,_,"internal-error");const Wd=C.fromJSON(this.name,Kh);Ie("string"==typeof sp,_,"internal-error"),M(Qr,_.name),M(vo,_.name),Ie("boolean"==typeof zd,_,"internal-error"),Ie("boolean"==typeof Pg,_,"internal-error"),M(aa,_.name),M(Ul,_.name),M(Qc,_.name),M(Gd,_.name),M(Hd,_.name),M(Rg,_.name);const ca=new V({uid:sp,auth:_,email:vo,emailVerified:zd,displayName:Qr,isAnonymous:Pg,photoURL:Ul,phoneNumber:aa,tenantId:Qc,stsTokenManager:Wd,createdAt:Hd,lastLoginAt:Rg});return la&&Array.isArray(la)&&(ca.providerData=la.map(Ku=>Object.assign({},Ku))),Gd&&(ca._redirectEventId=Gd),ca}static _fromIdTokenResponse(_,v,R=!1){return(0,s.A)(function*(){const J=new C;J.updateFromServerResponse(v);const ge=new V({uid:v.localId,auth:_,stsTokenManager:J,isAnonymous:R});return yield he(ge),ge})()}static _fromGetAccountInfoResponse(_,v,R){return(0,s.A)(function*(){const J=v.users[0];Ie(void 0!==J.localId,"internal-error");const ge=void 0!==J.providerUserInfo?Fr(J.providerUserInfo):[],Xe=!(J.email&&J.passwordHash||ge?.length),Rt=new C;Rt.updateFromIdToken(R);const zt=new V({uid:J.localId,auth:_,stsTokenManager:Rt,isAnonymous:Xe}),Dn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:ge,metadata:new Et(J.createdAt,J.lastLoginAt),isAnonymous:!(J.email&&J.passwordHash||ge?.length)};return Object.assign(zt,Dn),zt})()}}const Z=new Map;function je(w){Yt(w instanceof Function,"Expected a class definition");let _=Z.get(w);return _?(Yt(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,Z.set(w,_),_)}const Xt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.A)(function*(){return!0})()}_set(v,R){var J=this;return(0,s.A)(function*(){J.storage[v]=R})()}_get(v){var R=this;return(0,s.A)(function*(){const J=R.storage[v];return void 0===J?null:J})()}_remove(v){var R=this;return(0,s.A)(function*(){delete R.storage[v]})()}_addListener(v,R){}_removeListener(v,R){}}return w.type="NONE",w})();function an(w,_,v){return`firebase:${w}:${_}:${v}`}class wn{constructor(_,v,R){this.persistence=_,this.auth=v,this.userKey=R;const{config:J,name:ge}=this.auth;this.fullUserKey=an(this.userKey,J.apiKey,ge),this.fullPersistenceKey=an("persistence",J.apiKey,ge),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.A)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?V._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,s.A)(function*(){if(v.persistence===_)return;const R=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,R?v.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,R="authUser"){return(0,s.A)(function*(){if(!v.length)return new wn(je(Xt),_,R);const J=(yield Promise.all(v.map(function(){var Dn=(0,s.A)(function*(Sn){if(yield Sn._isAvailable())return Sn});return function(Sn){return Dn.apply(this,arguments)}}()))).filter(Dn=>Dn);let ge=J[0]||je(Xt);const Xe=an(R,_.config.apiKey,_.name);let Rt=null;for(const Dn of v)try{const Sn=yield Dn._get(Xe);if(Sn){const Qr=V._fromJSON(_,Sn);Dn!==ge&&(Rt=Qr),ge=Dn;break}}catch{}const zt=J.filter(Dn=>Dn._shouldAllowMigration);return ge._shouldAllowMigration&&zt.length?(ge=zt[0],Rt&&(yield ge._set(Xe,Rt.toJSON())),yield Promise.all(v.map(function(){var Dn=(0,s.A)(function*(Sn){if(Sn!==ge)try{yield Sn._remove(Xe)}catch{}});return function(Sn){return Dn.apply(this,arguments)}}())),new wn(ge,_,R)):new wn(ge,_,R)})()}}function vr(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Us(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ln(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vs(_))return"Blackberry";if(Es(_))return"Webos";if($r(_))return"Safari";if((_.includes("chrome/")||ir(_))&&!_.includes("edge/"))return"Chrome";if(Fi(_))return"Android";{const R=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function ln(w=(0,r.ZQ)()){return/firefox\//i.test(w)}function $r(w=(0,r.ZQ)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ir(w=(0,r.ZQ)()){return/crios\//i.test(w)}function Us(w=(0,r.ZQ)()){return/iemobile/i.test(w)}function Fi(w=(0,r.ZQ)()){return/android/i.test(w)}function vs(w=(0,r.ZQ)()){return/blackberry/i.test(w)}function Es(w=(0,r.ZQ)()){return/webos/i.test(w)}function pi(w=(0,r.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function sr(w=(0,r.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function at(w=(0,r.ZQ)()){return pi(w)||Fi(w)||Es(w)||vs(w)||/windows phone/i.test(w)||Us(w)}function xt(w,_=[]){let v;switch(w){case"Browser":v=vr((0,r.ZQ)());break;case"Worker":v=`${vr((0,r.ZQ)())}-${w}`;break;default:v=w}const R=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${ce.SDK_VERSION}/${R}`}class cn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const R=ge=>new Promise((Xe,Rt)=>{try{Xe(_(ge))}catch(zt){Rt(zt)}});R.onAbort=v,this.queue.push(R);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,s.A)(function*(){if(v.auth.currentUser===_)return;const R=[];try{for(const J of v.queue)yield J(_),J.onAbort&&R.push(J.onAbort)}catch(J){R.reverse();for(const ge of R)try{ge()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}function On(){return(On=(0,s.A)(function*(w,_={}){return ke(w,"GET","/v2/passwordPolicy",ye(w,_))})).apply(this,arguments)}class Ur{constructor(_){var v,R,J,ge;const Xe=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=Xe.minPasswordLength)&&void 0!==v?v:6,Xe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Xe.maxPasswordLength),void 0!==Xe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Xe.containsLowercaseCharacter),void 0!==Xe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Xe.containsUppercaseCharacter),void 0!==Xe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Xe.containsNumericCharacter),void 0!==Xe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Xe.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(J=null===(R=_.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==J?J:"",this.forceUpgradeOnSignin=null!==(ge=_.forceUpgradeOnSignin)&&void 0!==ge&&ge,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,R,J,ge,Xe,Rt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,zt),this.validatePasswordCharacterOptions(_,zt),zt.isValid&&(zt.isValid=null===(v=zt.meetsMinPasswordLength)||void 0===v||v),zt.isValid&&(zt.isValid=null===(R=zt.meetsMaxPasswordLength)||void 0===R||R),zt.isValid&&(zt.isValid=null===(J=zt.containsLowercaseLetter)||void 0===J||J),zt.isValid&&(zt.isValid=null===(ge=zt.containsUppercaseLetter)||void 0===ge||ge),zt.isValid&&(zt.isValid=null===(Xe=zt.containsNumericCharacter)||void 0===Xe||Xe),zt.isValid&&(zt.isValid=null===(Rt=zt.containsNonAlphanumericCharacter)||void 0===Rt||Rt),zt}validatePasswordLengthOptions(_,v){const R=this.customStrengthOptions.minPasswordLength,J=this.customStrengthOptions.maxPasswordLength;R&&(v.meetsMinPasswordLength=_.length>=R),J&&(v.meetsMaxPasswordLength=_.length<=J)}validatePasswordCharacterOptions(_,v){let R;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let J=0;J<_.length;J++)R=_.charAt(J),this.updatePasswordCharacterOptionsStatuses(v,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(_,v,R,J,ge){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=J)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=ge))}}class zr{constructor(_,v,R,J){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=R,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(_,v){var R=this;return v&&(this._popupRedirectResolver=je(v)),this._initializationPromise=this.queue((0,s.A)(function*(){var J,ge;if(!R._deleted&&(R.persistenceManager=yield wn.create(R,_),!R._deleted)){if(null!==(J=R._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(v),R.lastNotifiedUid=(null===(ge=R.currentUser)||void 0===ge?void 0:ge.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.A)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(_){var v=this;return(0,s.A)(function*(){try{const R=yield Vr(v,{idToken:_}),J=yield V._fromGetAccountInfoResponse(v,R,_);yield v.directlySetCurrentUser(J)}catch(R){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",R),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(_){var v=this;return(0,s.A)(function*(){var R;if((0,ce._isFirebaseServerApp)(v.app)){const Rt=v.app.settings.authIdToken;return Rt?new Promise(zt=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Rt).then(zt,zt))}):v.directlySetCurrentUser(null)}const J=yield v.assertedPersistence.getCurrentUser();let ge=J,Xe=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Rt=null===(R=v.redirectUser)||void 0===R?void 0:R._redirectEventId,zt=ge?._redirectEventId,Dn=yield v.tryRedirectSignIn(_);(!Rt||Rt===zt)&&Dn?.user&&(ge=Dn.user,Xe=!0)}if(!ge)return v.directlySetCurrentUser(null);if(!ge._redirectEventId){if(Xe)try{yield v.beforeStateQueue.runMiddleware(ge)}catch(Rt){ge=J,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Rt))}return ge?v.reloadAndSetCurrentUserOrClear(ge):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ge._redirectEventId?v.directlySetCurrentUser(ge):v.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(_){var v=this;return(0,s.A)(function*(){let R=null;try{R=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,s.A)(function*(){try{yield he(_)}catch(R){if("auth/network-request-failed"!==R?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function ht(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,s.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,s.A)(function*(){if((0,ce._isFirebaseServerApp)(v.app))return Promise.reject(lt(v));const R=_?(0,r.Ku)(_):null;return R&&Ie(R.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(R&&R._clone(v))})()}_updateCurrentUser(_,v=!1){var R=this;return(0,s.A)(function*(){if(!R._deleted)return _&&Ie(R.tenantId===_.tenantId,R,"tenant-id-mismatch"),v||(yield R.beforeStateQueue.runMiddleware(_)),R.queue((0,s.A)(function*(){yield R.directlySetCurrentUser(_),R.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.A)(function*(){return(0,ce._isFirebaseServerApp)(_.app)?Promise.reject(lt(_)):(yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0))})()}setPersistence(_){var v=this;return(0,ce._isFirebaseServerApp)(this.app)?Promise.reject(lt(this)):this.queue((0,s.A)(function*(){yield v.assertedPersistence.setPersistence(je(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,s.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const R=v._getPasswordPolicyInternal();return R.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,s.A)(function*(){const v=yield function Vn(w){return On.apply(this,arguments)}(_),R=new Ur(v);null===_.tenantId?_._projectPasswordPolicy=R:_._tenantPasswordPolicies[_.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new r.FA("auth","Firebase",_())}onAuthStateChanged(_,v,R){return this.registerStateListener(this.authStateSubscription,_,v,R)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,R){return this.registerStateListener(this.idTokenSubscription,_,v,R)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const R=this.onAuthStateChanged(()=>{R(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,s.A)(function*(){if(v.currentUser){const R=yield v.currentUser.getIdToken(),J={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:R};null!=v.tenantId&&(J.tenantId=v.tenantId),yield function At(w,_){return G.apply(this,arguments)}(v,J)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var R=this;return(0,s.A)(function*(){const J=yield R.getOrInitRedirectPersistenceManager(v);return null===_?J.removeCurrentUser():J.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,s.A)(function*(){if(!v.redirectPersistenceManager){const R=_&&je(_)||v._popupRedirectResolver;Ie(R,v,"argument-error"),v.redirectPersistenceManager=yield wn.create(v,[je(R._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,s.A)(function*(){var R,J;return v._isInitialized&&(yield v.queue((0,s.A)(function*(){}))),(null===(R=v._currentUser)||void 0===R?void 0:R._redirectEventId)===_?v._currentUser:(null===(J=v.redirectUser)||void 0===J?void 0:J._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,s.A)(function*(){if(_===v.currentUser)return v.queue((0,s.A)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,R,J){if(this._deleted)return()=>{};const ge="function"==typeof v?v:v.next.bind(v);let Xe=!1;const Rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(Rt,this,"internal-error"),Rt.then(()=>{Xe||ge(this.currentUser)}),"function"==typeof v){const zt=_.addObserver(v,R,J);return()=>{Xe=!0,zt()}}{const zt=_.addObserver(v);return()=>{Xe=!0,zt()}}}directlySetCurrentUser(_){var v=this;return(0,s.A)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=xt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,s.A)(function*(){var v;const R={"X-Client-Version":_.clientVersion};_.app.options.appId&&(R["X-Firebase-gmpid"]=_.app.options.appId);const J=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();J&&(R["X-Firebase-Client"]=J);const ge=yield _._getAppCheckToken();return ge&&(R["X-Firebase-AppCheck"]=ge),R})()}_getAppCheckToken(){var _=this;return(0,s.A)(function*(){var v;const R=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return R?.error&&function jt(w,..._){bt.logLevel<=be.$b.WARN&&bt.warn(`Auth (${ce.SDK_VERSION}): ${w}`,..._)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function dr(w){return(0,r.Ku)(w)}class Ji{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,r.tD)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ms={loadJS:()=>(0,s.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Co(w){return Ms.loadJS(w)}function oi(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Wr{constructor(_){this.type="recaptcha-enterprise",this.auth=dr(_)}verify(_="verify",v=!1){var R=this;return(0,s.A)(function*(){function ge(){return ge=(0,s.A)(function*(Rt){if(!v){if(null==Rt.tenantId&&null!=Rt._agentRecaptchaConfig)return Rt._agentRecaptchaConfig.siteKey;if(null!=Rt.tenantId&&void 0!==Rt._tenantRecaptchaConfigs[Rt.tenantId])return Rt._tenantRecaptchaConfigs[Rt.tenantId].siteKey}return new Promise(function(){var zt=(0,s.A)(function*(Dn,Sn){Rr(Rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qr=>{if(void 0!==Qr.recaptchaKey){const vo=new Vt(Qr);return null==Rt.tenantId?Rt._agentRecaptchaConfig=vo:Rt._tenantRecaptchaConfigs[Rt.tenantId]=vo,Dn(vo.siteKey)}Sn(new Error("recaptcha Enterprise site key undefined"))}).catch(Qr=>{Sn(Qr)})});return function(Dn,Sn){return zt.apply(this,arguments)}}())}),ge.apply(this,arguments)}function Xe(Rt,zt,Dn){const Sn=window.grecaptcha;Ht(Sn)?Sn.enterprise.ready(()=>{Sn.enterprise.execute(Rt,{action:_}).then(Qr=>{zt(Qr)}).catch(()=>{zt("NO_RECAPTCHA")})}):Dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Rt,zt)=>{(function J(Rt){return ge.apply(this,arguments)})(R.auth).then(Dn=>{if(!v&&Ht(window.grecaptcha))Xe(Dn,Rt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let Sn=function ji(){return Ms.recaptchaEnterpriseScript}();0!==Sn.length&&(Sn+=Dn),Co(Sn).then(()=>{Xe(Dn,Rt,zt)}).catch(Qr=>{zt(Qr)})}}).catch(Dn=>{zt(Dn)})})})()}}function Bi(w,_,v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.A)(function*(w,_,v,R=!1){const J=new Wr(w);let ge;try{ge=yield J.verify(v)}catch{ge=yield J.verify(v,!0)}const Xe=Object.assign({},_);return Object.assign(Xe,R?{captchaResp:ge}:{captchaResponse:ge}),Object.assign(Xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Xe})).apply(this,arguments)}function Cr(w,_,v,R){return ao.apply(this,arguments)}function ao(){return ao=(0,s.A)(function*(w,_,v,R){var J;if(null!==(J=w._getRecaptchaConfig())&&void 0!==J&&J.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ge=yield Bi(w,_,v,"getOobCode"===v);return R(w,ge)}return R(w,_).catch(function(){var ge=(0,s.A)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Rt=yield Bi(w,_,v,"getOobCode"===v);return R(w,Rt)}return Promise.reject(Xe)});return function(Xe){return ge.apply(this,arguments)}}())}),ao.apply(this,arguments)}function Pi(w,_,v){const R=dr(w);Ie(R._canInitEmulator,R,"emulator-config-failed"),Ie(/^https?:\/\//.test(_),R,"invalid-emulator-scheme");const J=!!v?.disableWarnings,ge=ma(_),{host:Xe,port:Rt}=function Ks(w){const _=ma(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!v)return{host:"",port:null};const R=v[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(R);if(J){const ge=J[1];return{host:ge,port:ti(R.substr(ge.length+1))}}{const[ge,Xe]=R.split(":");return{host:ge,port:ti(Xe)}}}(_);R.config.emulator={url:`${ge}//${Xe}${null===Rt?"":`:${Rt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Xe,port:Rt,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function js(){function w(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function ma(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function ti(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class gi{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Qe("not implemented")}_getIdTokenResponse(_){return Qe("not implemented")}_linkToIdToken(_,v){return Qe("not implemented")}_getReauthenticationResolver(_){return Qe("not implemented")}}function $i(w,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:resetPassword",ye(w,_))})).apply(this,arguments)}function Kr(){return(Kr=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ni(w,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function os(){return(os=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:update",ye(w,_))})).apply(this,arguments)}function qs(w,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signInWithPassword",ye(w,_))})).apply(this,arguments)}function Ts(w,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:sendOobCode",ye(w,_))})).apply(this,arguments)}function pn(){return(pn=(0,s.A)(function*(w,_){return Ts(w,_)})).apply(this,arguments)}function tr(w,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.A)(function*(w,_){return Ts(w,_)})).apply(this,arguments)}function Zi(w,_){return as.apply(this,arguments)}function as(){return(as=(0,s.A)(function*(w,_){return Ts(w,_)})).apply(this,arguments)}function Bs(){return(Bs=(0,s.A)(function*(w,_){return Ts(w,_)})).apply(this,arguments)}function ls(){return(ls=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signInWithEmailLink",ye(w,_))})).apply(this,arguments)}function Un(){return(Un=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signInWithEmailLink",ye(w,_))})).apply(this,arguments)}class mi extends gi{constructor(_,v,R,J=null){super("password",R),this._email=_,this._password=v,this._tenantId=J}static _fromEmailAndPassword(_,v){return new mi(_,v,"password")}static _fromEmailAndCode(_,v,R=null){return new mi(_,v,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,s.A)(function*(){switch(v.signInMethod){case"password":return Cr(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qs);case"emailLink":return function qr(w,_){return ls.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Ae(_,"internal-error")}})()}_linkToIdToken(_,v){var R=this;return(0,s.A)(function*(){switch(R.signInMethod){case"password":return Cr(_,{idToken:v,returnSecureToken:!0,email:R._email,password:R._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ni);case"emailLink":return function Ss(w,_){return Un.apply(this,arguments)}(_,{idToken:v,email:R._email,oobCode:R._password});default:Ae(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function es(w,_){return ne.apply(this,arguments)}function ne(){return(ne=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signInWithIdp",ye(w,_))})).apply(this,arguments)}class Re extends gi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Re(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Ae("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:R,signInMethod:J}=v,ge=(0,fe.Tt)(v,["providerId","signInMethod"]);if(!R||!J)return null;const Xe=new Re(R,J);return Xe.idToken=ge.idToken||void 0,Xe.accessToken=ge.accessToken||void 0,Xe.secret=ge.secret,Xe.nonce=ge.nonce,Xe.pendingToken=ge.pendingToken||null,Xe}_getIdTokenResponse(_){return es(_,this.buildRequest())}_linkToIdToken(_,v){const R=this.buildRequest();return R.idToken=v,es(_,R)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,es(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,r.Am)(v)}return _}}function et(){return(et=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:sendVerificationCode",ye(w,_))})).apply(this,arguments)}function qt(){return(qt=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signInWithPhoneNumber",ye(w,_))})).apply(this,arguments)}function hn(){return(hn=(0,s.A)(function*(w,_){const v=yield bn(w,"POST","/v1/accounts:signInWithPhoneNumber",ye(w,_));if(v.temporaryProof)throw jn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Wn={USER_NOT_FOUND:"user-not-found"};function An(){return(An=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signInWithPhoneNumber",ye(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Wn)})).apply(this,arguments)}class Nn extends gi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Nn({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Nn({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function mt(w,_){return qt.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function In(w,_){return hn.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function wr(w,_){return An.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:R,verificationCode:J}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:R,code:J}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:R,phoneNumber:J,temporaryProof:ge}=_;return R||v||J||ge?new Nn({verificationId:v,verificationCode:R,phoneNumber:J,temporaryProof:ge}):null}}class ri{constructor(_){var v,R,J,ge,Xe,Rt;const zt=(0,r.I9)((0,r.hp)(_)),Dn=null!==(v=zt.apiKey)&&void 0!==v?v:null,Sn=null!==(R=zt.oobCode)&&void 0!==R?R:null,Qr=function Jn(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=zt.mode)&&void 0!==J?J:null);Ie(Dn&&Sn&&Qr,"argument-error"),this.apiKey=Dn,this.operation=Qr,this.code=Sn,this.continueUrl=null!==(ge=zt.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(Xe=zt.languageCode)&&void 0!==Xe?Xe:null,this.tenantId=null!==(Rt=zt.tenantId)&&void 0!==Rt?Rt:null}static parseLink(_){const v=function Nr(w){const _=(0,r.I9)((0,r.hp)(w)).link,v=_?(0,r.I9)((0,r.hp)(_)).deep_link_id:null,R=(0,r.I9)((0,r.hp)(w)).deep_link_id;return(R?(0,r.I9)((0,r.hp)(R)).link:null)||R||v||_||w}(_);try{return new ri(v)}catch{return null}}}let Vi=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,R){return mi._fromEmailAndPassword(v,R)}static credentialWithLink(v,R){const J=ri.parseLink(R);return Ie(J,"argument-error"),mi._fromEmailAndCode(v,J.code,J.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ci{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Dr extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ti extends Dr{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),Re._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ie(_.idToken||_.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ti.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ti.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:R,oauthTokenSecret:J,pendingToken:ge,nonce:Xe,providerId:Rt}=_;if(!R&&!J&&!v&&!ge||!Rt)return null;try{return new Ti(Rt)._credential({idToken:v,accessToken:R,nonce:Xe,pendingToken:ge})}catch{return null}}}let wi=(()=>{class w extends Dr{constructor(){super("facebook.com")}static credential(v){return Re._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Pr=(()=>{class w extends Dr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,R){return Re._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:R})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:R,oauthAccessToken:J}=v;if(!R&&!J)return null;try{return w.credential(R,J)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Bo=(()=>{class w extends Dr{constructor(){super("github.com")}static credential(v){return Re._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ys extends gi{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return es(_,this.buildRequest())}_linkToIdToken(_,v){const R=this.buildRequest();return R.idToken=v,es(_,R)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,es(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:R,signInMethod:J,pendingToken:ge}=v;return R&&J&&ge&&R===J?new Ys(R,ge):null}static _create(_,v){return new Ys(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ea extends Ci{constructor(_){Ie(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ea.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ea.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Ys.fromJSON(_);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:R}=_;if(!v||!R)return null;try{return Ys._create(R,v)}catch{return null}}}let Za=(()=>{class w extends Dr{constructor(){super("twitter.com")}static credential(v,R){return Re._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:R})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:R,oauthTokenSecret:J}=v;if(!R||!J)return null;try{return w.credential(R,J)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ta(w,_){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signUp",ye(w,_))})).apply(this,arguments)}class us{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,R,J=!1){return(0,s.A)(function*(){const ge=yield V._fromIdTokenResponse(_,R,J),Xe=Os(R);return new us({user:ge,providerId:Xe,_tokenResponse:R,operationType:v})})()}static _forOperation(_,v,R){return(0,s.A)(function*(){yield _._updateTokensIfNecessary(R,!0);const J=Os(R);return new us({user:_,providerId:J,_tokenResponse:R,operationType:v})})()}}function Os(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Do(w){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.A)(function*(w){var _;if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const v=dr(w);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new us({user:v.currentUser,providerId:null,operationType:"signIn"});const R=yield ta(v,{returnSecureToken:!0}),J=yield us._fromIdTokenResponse(v,"signIn",R,!0);return yield v._updateCurrentUser(J.user),J})).apply(this,arguments)}class ka extends r.g{constructor(_,v,R,J){var ge;super(v.code,v.message),this.operationType=R,this.user=J,Object.setPrototypeOf(this,ka.prototype),this.customData={appName:_.name,tenantId:null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:v.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(_,v,R,J){return new ka(_,v,R,J)}}function _i(w,_,v,R){return("reauthenticate"===_?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?ka._fromErrorAndOperation(w,ge,_,R):ge})}function So(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function $o(w,_){return q.apply(this,arguments)}function q(){return q=(0,s.A)(function*(w,_){const v=(0,r.Ku)(w);yield de(!0,v,_);const{providerUserInfo:R}=yield function $n(w,_){return Tn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),J=So(R||[]);return v.providerData=v.providerData.filter(ge=>J.has(ge.providerId)),J.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),q.apply(this,arguments)}function re(w,_){return B.apply(this,arguments)}function B(){return(B=(0,s.A)(function*(w,_,v=!1){const R=yield br(w,_._linkToIdToken(w.auth,yield w.getIdToken()),v);return us._forOperation(w,"link",R)})).apply(this,arguments)}function de(w,_,v){return $e.apply(this,arguments)}function $e(){return($e=(0,s.A)(function*(w,_,v){yield he(_);const J=!1===w?"provider-already-linked":"no-such-provider";Ie(So(_.providerData).has(v)===w,_.auth,J)})).apply(this,arguments)}function fn(w,_){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,s.A)(function*(w,_,v=!1){const{auth:R}=w;if((0,ce._isFirebaseServerApp)(R.app))return Promise.reject(lt(R));const J="reauthenticate";try{const ge=yield br(w,_i(R,J,_,w),v);Ie(ge.idToken,R,"internal-error");const Xe=ei(ge.idToken);Ie(Xe,R,"internal-error");const{sub:Rt}=Xe;return Ie(w.uid===Rt,R,"user-mismatch"),us._forOperation(w,J,ge)}catch(ge){throw"auth/user-not-found"===ge?.code&&Ae(R,"user-mismatch"),ge}})).apply(this,arguments)}function Is(w,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,s.A)(function*(w,_,v=!1){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const R="signIn",J=yield _i(w,R,_),ge=yield us._fromIdTokenResponse(w,R,J);return v||(yield w._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function ts(w,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,s.A)(function*(w,_){return Is(dr(w),_)})).apply(this,arguments)}function Rs(w,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,s.A)(function*(w,_){const v=(0,r.Ku)(w);return yield de(!1,v,_.providerId),re(v,_)})).apply(this,arguments)}function Go(w,_){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.A)(function*(w,_){return fn((0,r.Ku)(w),_)})).apply(this,arguments)}function _a(){return(_a=(0,s.A)(function*(w,_){return bn(w,"POST","/v1/accounts:signInWithCustomToken",ye(w,_))})).apply(this,arguments)}function Ki(w,_){return na.apply(this,arguments)}function na(){return na=(0,s.A)(function*(w,_){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const v=dr(w),R=yield function Ps(w,_){return _a.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),J=yield us._fromIdTokenResponse(v,"signIn",R);return yield v._updateCurrentUser(J.user),J}),na.apply(this,arguments)}class ms{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?el._fromServerResponse(_,v):"totpInfo"in v?co._fromServerResponse(_,v):Ae(_,"internal-error")}}class el extends ms{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new el(v)}}class co extends ms{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new co(v)}}function ra(w,_,v){var R;Ie((null===(R=v.url)||void 0===R?void 0:R.length)>0,w,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Cs(w){return ya.apply(this,arguments)}function ya(){return(ya=(0,s.A)(function*(w){const _=dr(w);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function La(w,_,v){return Il.apply(this,arguments)}function Il(){return(Il=(0,s.A)(function*(w,_,v){const R=dr(w),J={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&ra(R,J,v),yield Cr(R,J,"getOobCode",tr)})).apply(this,arguments)}function Eu(w,_,v){return hr.apply(this,arguments)}function hr(){return hr=(0,s.A)(function*(w,_,v){yield $i((0,r.Ku)(w),{oobCode:_,newPassword:v}).catch(function(){var R=(0,s.A)(function*(J){throw"auth/password-does-not-meet-requirements"===J.code&&Cs(w),J});return function(J){return R.apply(this,arguments)}}())}),hr.apply(this,arguments)}function Cl(w,_){return go.apply(this,arguments)}function go(){return go=(0,s.A)(function*(w,_){yield function jr(w,_){return os.apply(this,arguments)}((0,r.Ku)(w),{oobCode:_})}),go.apply(this,arguments)}function mo(w,_){return tl.apply(this,arguments)}function tl(){return(tl=(0,s.A)(function*(w,_){const v=(0,r.Ku)(w),R=yield $i(v,{oobCode:_}),J=R.requestType;switch(Ie(J,v,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(R.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(R.mfaInfo,v,"internal-error");default:Ie(R.email,v,"internal-error")}let ge=null;return R.mfaInfo&&(ge=ms._fromServerResponse(dr(v),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:ge},operation:J}})).apply(this,arguments)}function bu(w,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,s.A)(function*(w,_){const{data:v}=yield mo((0,r.Ku)(w),_);return v.email})).apply(this,arguments)}function Nh(w,_,v){return rl.apply(this,arguments)}function rl(){return(rl=(0,s.A)(function*(w,_,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const R=dr(w),Xe=yield Cr(R,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ta).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&Cs(w),zt}),Rt=yield us._fromIdTokenResponse(R,"signIn",Xe);return yield R._updateCurrentUser(Rt.user),Rt})).apply(this,arguments)}function Tu(w,_,v){return(0,ce._isFirebaseServerApp)(w.app)?Promise.reject(lt(w)):ts((0,r.Ku)(w),Vi.credential(_,v)).catch(function(){var R=(0,s.A)(function*(J){throw"auth/password-does-not-meet-requirements"===J.code&&Cs(w),J});return function(J){return R.apply(this,arguments)}}())}function wl(w,_,v){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,s.A)(function*(w,_,v){const R=dr(w),J={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function ge(Xe,Rt){Ie(Rt.handleCodeInApp,R,"argument-error"),Rt&&ra(R,Xe,Rt)})(J,v),yield Cr(R,J,"getOobCode",Zi)})).apply(this,arguments)}function tc(w,_){const v=ri.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function Va(w,_,v){return il.apply(this,arguments)}function il(){return(il=(0,s.A)(function*(w,_,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const R=(0,r.Ku)(w),J=Vi.credentialWithLink(_,v||Mn());return Ie(J._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),ts(R,J)})).apply(this,arguments)}function ja(){return(ja=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:createAuthUri",ye(w,_))})).apply(this,arguments)}function sl(w,_){return x.apply(this,arguments)}function x(){return x=(0,s.A)(function*(w,_){const R={identifier:_,continueUri:Mt()?Mn():"http://localhost"},{signinMethods:J}=yield function Ua(w,_){return ja.apply(this,arguments)}((0,r.Ku)(w),R);return J||[]}),x.apply(this,arguments)}function se(w,_){return $.apply(this,arguments)}function $(){return $=(0,s.A)(function*(w,_){const v=(0,r.Ku)(w),J={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&ra(v.auth,J,_);const{email:ge}=yield function Gr(w,_){return pn.apply(this,arguments)}(v.auth,J);ge!==w.email&&(yield w.reload())}),$.apply(this,arguments)}function Q(w,_,v){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,s.A)(function*(w,_,v){const R=(0,r.Ku)(w),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};v&&ra(R.auth,ge,v);const{email:Xe}=yield function Li(w,_){return Bs.apply(this,arguments)}(R.auth,ge);Xe!==w.email&&(yield w.reload())}),Ne.apply(this,arguments)}function Nt(){return(Nt=(0,s.A)(function*(w,_){return ke(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function kn(w,_){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,s.A)(function*(w,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const R=(0,r.Ku)(w),ge={idToken:yield R.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Xe=yield br(R,function Tt(w,_){return Nt.apply(this,arguments)}(R.auth,ge));R.displayName=Xe.displayName||null,R.photoURL=Xe.photoUrl||null;const Rt=R.providerData.find(({providerId:zt})=>"password"===zt);Rt&&(Rt.displayName=R.displayName,Rt.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Xe)}),Hr.apply(this,arguments)}function ii(w,_){const v=(0,r.Ku)(w);return(0,ce._isFirebaseServerApp)(v.auth.app)?Promise.reject(lt(v.auth)):fr(v,_,null)}function Xr(w,_){return fr((0,r.Ku)(w),null,_)}function fr(w,_,v){return ai.apply(this,arguments)}function ai(){return ai=(0,s.A)(function*(w,_,v){const{auth:R}=w,ge={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(ge.email=_),v&&(ge.password=v);const Xe=yield br(w,function qn(w,_){return Kr.apply(this,arguments)}(R,ge));yield w._updateTokensIfNecessary(Xe,!0)}),ai.apply(this,arguments)}class Di{constructor(_,v,R={}){this.isNewUser=_,this.providerId=v,this.profile=R}}class ds extends Di{constructor(_,v,R,J){super(_,v,R),this.username=J}}class Gi extends Di{constructor(_,v){super(_,"facebook.com",v)}}class no extends ds{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class qi extends Di{constructor(_,v){super(_,"google.com",v)}}class Ro extends ds{constructor(_,v,R){super(_,"twitter.com",v,R)}}function rs(w){const{user:_,_tokenResponse:v}=w;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ai(w){var _,v;if(!w)return null;const{providerId:R}=w,J=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ge=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!R&&w?.idToken){const Xe=null===(v=null===(_=ei(w.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Xe)return new Di(ge,"anonymous"!==Xe&&"custom"!==Xe?Xe:null)}if(!R)return null;switch(R){case"facebook.com":return new Gi(ge,J);case"github.com":return new no(ge,J);case"google.com":return new qi(ge,J);case"twitter.com":return new Ro(ge,J,w.screenName||null);case"custom":case"anonymous":return new Di(ge,null);default:return new Di(ge,R,J)}}(v)}class ws{constructor(_,v,R){this.type=_,this.credential=v,this.user=R}static _fromIdtoken(_,v){return new ws("enroll",_,v)}static _fromMfaPendingCredential(_){return new ws("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,R;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ws._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(R=_.multiFactorSession)&&void 0!==R&&R.idToken)return ws._fromIdtoken(_.multiFactorSession.idToken)}return null}}class va{constructor(_,v,R){this.session=_,this.hints=v,this.signInResolver=R}static _fromError(_,v){const R=dr(_),J=v.customData._serverResponse,ge=(J.mfaInfo||[]).map(Rt=>ms._fromServerResponse(R,Rt));Ie(J.mfaPendingCredential,R,"internal-error");const Xe=ws._fromMfaPendingCredential(J.mfaPendingCredential);return new va(Xe,ge,function(){var Rt=(0,s.A)(function*(zt){const Dn=yield zt._process(R,Xe);delete J.mfaInfo,delete J.mfaPendingCredential;const Sn=Object.assign(Object.assign({},J),{idToken:Dn.idToken,refreshToken:Dn.refreshToken});switch(v.operationType){case"signIn":const Qr=yield us._fromIdTokenResponse(R,v.operationType,Sn);return yield R._updateCurrentUser(Qr.user),Qr;case"reauthenticate":return Ie(v.user,R,"internal-error"),us._forOperation(v.user,v.operationType,Sn);default:Ae(R,"internal-error")}});return function(zt){return Rt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,s.A)(function*(){return v.signInResolver(_)})()}}function nc(w,_){var v;const R=(0,r.Ku)(w),J=_;return Ie(_.customData.operationType,R,"argument-error"),Ie(null===(v=J.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,R,"argument-error"),va._fromError(R,J)}class rc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(R=>ms._fromServerResponse(_.auth,R)))})}static _fromUser(_){return new rc(_)}getSession(){var _=this;return(0,s.A)(function*(){return ws._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var R=this;return(0,s.A)(function*(){const J=_,ge=yield R.getSession(),Xe=yield br(R.user,J._process(R.user.auth,ge,v));return yield R.user._updateTokensIfNecessary(Xe),R.user.reload()})()}unenroll(_){var v=this;return(0,s.A)(function*(){const R="string"==typeof _?_:_.uid,J=yield v.user.getIdToken();try{const ge=yield br(v.user,function or(w,_){return ke(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ye(w,_))}(v.user.auth,{idToken:J,mfaEnrollmentId:R}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Xe})=>Xe!==R),yield v.user._updateTokensIfNecessary(ge),yield v.user.reload()}catch(ge){throw ge}})()}}const Vc=new WeakMap;function zo(w){const _=(0,r.Ku)(w);return Vc.has(_)||Vc.set(_,rc._fromUser(_)),Vc.get(_)}const Uc="__sak";class Cd{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ic=(()=>{class w extends Cd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,R)=>this.onStorageEvent(v,R),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const R of Object.keys(this.listeners)){const J=this.storage.getItem(R),ge=this.localCache[R];J!==ge&&v(R,ge,J)}}onStorageEvent(v,R=!1){if(!v.key)return void this.forAllChangedKeys((Rt,zt,Dn)=>{this.notifyListeners(Rt,Dn)});const J=v.key;R?this.detachListener():this.stopPolling();const ge=()=>{const Rt=this.storage.getItem(J);!R&&this.localCache[J]===Rt||this.notifyListeners(J,Rt)},Xe=this.storage.getItem(J);!function Dt(){return(0,r.lT)()&&10===document.documentMode}()||Xe===v.newValue||v.newValue===v.oldValue?ge():setTimeout(ge,10)}notifyListeners(v,R){this.localCache[v]=R;const J=this.listeners[v];if(J)for(const ge of Array.from(J))ge(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,R,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:R,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,R){var J=()=>super._set,ge=this;return(0,s.A)(function*(){yield J().call(ge,v,R),ge.localCache[v]=JSON.stringify(R)})()}_get(v){var R=()=>super._get,J=this;return(0,s.A)(function*(){const ge=yield R().call(J,v);return J.localCache[v]=JSON.stringify(ge),ge})()}_remove(v){var R=()=>super._remove,J=this;return(0,s.A)(function*(){yield R().call(J,v),delete J.localCache[v]})()}}return w.type="LOCAL",w})(),Ea=(()=>{class w extends Cd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,R){}_removeListener(v,R){}}return w.type="SESSION",w})();let Ut=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const R=this.receivers.find(ge=>ge.isListeningto(v));if(R)return R;const J=new w(v);return this.receivers.push(J),J}isListeningto(v){return this.eventTarget===v}handleEvent(v){var R=this;return(0,s.A)(function*(){const J=v,{eventId:ge,eventType:Xe,data:Rt}=J.data,zt=R.handlersMap[Xe];if(!zt?.size)return;J.ports[0].postMessage({status:"ack",eventId:ge,eventType:Xe});const Dn=Array.from(zt).map(function(){var Qr=(0,s.A)(function*(vo){return vo(J.origin,Rt)});return function(vo){return Qr.apply(this,arguments)}}()),Sn=yield function Ru(w){return Promise.all(w.map(function(){var _=(0,s.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(R){return{fulfilled:!1,reason:R}}});return function(v){return _.apply(this,arguments)}}()))}(Dn);J.ports[0].postMessage({status:"done",eventId:ge,eventType:Xe,response:Sn})})()}_subscribe(v,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(R)}_unsubscribe(v,R){this.handlersMap[v]&&R&&this.handlersMap[v].delete(R),(!R||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ir(w="",_=10){let v="";for(let R=0;R<_;R++)v+=Math.floor(10*Math.random());return w+v}class Bn{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,R=50){var J=this;return(0,s.A)(function*(){const ge=typeof MessageChannel<"u"?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let Xe,Rt;return new Promise((zt,Dn)=>{const Sn=Ir("",20);ge.port1.start();const Qr=setTimeout(()=>{Dn(new Error("unsupported_event"))},R);Rt={messageChannel:ge,onMessage(vo){const aa=vo;if(aa.data.eventId===Sn)switch(aa.data.status){case"ack":clearTimeout(Qr),Xe=setTimeout(()=>{Dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Xe),zt(aa.data.response);break;default:clearTimeout(Qr),clearTimeout(Xe),Dn(new Error("invalid_response"))}}},J.handlers.add(Rt),ge.port1.addEventListener("message",Rt.onMessage),J.target.postMessage({eventType:_,eventId:Sn,data:v},[ge.port2])}).finally(()=>{Rt&&J.removeMessageHandler(Rt)})})()}}function Yi(){return window}function jc(){return typeof Yi().WorkerGlobalScope<"u"&&"function"==typeof Yi().importScripts}function Mo(){return(Mo=(0,s.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wd="firebaseLocalStorageDb",cl="firebaseLocalStorage",ro="fbase_key";class uo{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ba(w,_){return w.transaction([cl],_?"readwrite":"readonly").objectStore(cl)}function ho(){const w=indexedDB.open(wd,1);return new Promise((_,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const R=w.result;try{R.createObjectStore(cl,{keyPath:ro})}catch(J){v(J)}}),w.addEventListener("success",(0,s.A)(function*(){const R=w.result;R.objectStoreNames.contains(cl)?_(R):(R.close(),yield function ul(){const w=indexedDB.deleteDatabase(wd);return new uo(w).toPromise()}(),_(yield ho()))}))})}function Ad(w,_,v){return dl.apply(this,arguments)}function dl(){return(dl=(0,s.A)(function*(w,_,v){const R=Ba(w,!0).put({[ro]:_,value:v});return new uo(R).toPromise()})).apply(this,arguments)}function hl(){return(hl=(0,s.A)(function*(w,_){const v=Ba(w,!1).get(_),R=yield new uo(v).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function xu(w,_){const v=Ba(w,!0).delete(_);return new uo(v).toPromise()}const N=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.A)(function*(){return v.db||(v.db=yield ho()),v.db})()}_withRetries(v){var R=this;return(0,s.A)(function*(){let J=0;for(;;)try{const ge=yield R._openDb();return yield v(ge)}catch(ge){if(J++>3)throw ge;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.A)(function*(){return jc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.A)(function*(){v.receiver=Ut._getInstance(function Pu(){return jc()?self:null}()),v.receiver._subscribe("keyChanged",function(){var R=(0,s.A)(function*(J,ge){return{keyProcessed:(yield v._poll()).includes(ge.key)}});return function(J,ge){return R.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var R=(0,s.A)(function*(J,ge){return["keyChanged"]});return function(J,ge){return R.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.A)(function*(){var R,J;if(v.activeServiceWorker=yield function al(){return Mo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Bn(v.activeServiceWorker);const ge=yield v.sender._send("ping",{},800);ge&&null!==(R=ge[0])&&void 0!==R&&R.fulfilled&&null!==(J=ge[0])&&void 0!==J&&J.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var R=this;return(0,s.A)(function*(){if(R.sender&&R.activeServiceWorker&&function sc(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:v},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.A)(function*(){try{if(!indexedDB)return!1;const v=yield ho();return yield Ad(v,Uc,"1"),yield xu(v,Uc),!0}catch{}return!1})()}_withPendingWrite(v){var R=this;return(0,s.A)(function*(){R.pendingWrites++;try{yield v()}finally{R.pendingWrites--}})()}_set(v,R){var J=this;return(0,s.A)(function*(){return J._withPendingWrite((0,s.A)(function*(){return yield J._withRetries(ge=>Ad(ge,v,R)),J.localCache[v]=R,J.notifyServiceWorker(v)}))})()}_get(v){var R=this;return(0,s.A)(function*(){const J=yield R._withRetries(ge=>function qf(w,_){return hl.apply(this,arguments)}(ge,v));return R.localCache[v]=J,J})()}_remove(v){var R=this;return(0,s.A)(function*(){return R._withPendingWrite((0,s.A)(function*(){return yield R._withRetries(J=>xu(J,v)),delete R.localCache[v],R.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.A)(function*(){const R=yield v._withRetries(Xe=>{const Rt=Ba(Xe,!1).getAll();return new uo(Rt).toPromise()});if(!R)return[];if(0!==v.pendingWrites)return[];const J=[],ge=new Set;if(0!==R.length)for(const{fbase_key:Xe,value:Rt}of R)ge.add(Xe),JSON.stringify(v.localCache[Xe])!==JSON.stringify(Rt)&&(v.notifyListeners(Xe,Rt),J.push(Xe));for(const Xe of Object.keys(v.localCache))v.localCache[Xe]&&!ge.has(Xe)&&(v.notifyListeners(Xe,null),J.push(Xe));return J})()}notifyListeners(v,R){this.localCache[v]=R;const J=this.listeners[v];if(J)for(const ge of Array.from(J))ge(R)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),wt=1e12;class yt{constructor(_){this.auth=_,this.counter=wt,this._widgets=new Map}render(_,v){const R=this.counter;return this._widgets.set(R,new _n(_,this.auth.name,v||{})),this.counter++,R}reset(_){var v;const R=_||wt;null===(v=this._widgets.get(R))||void 0===v||v.delete(),this._widgets.delete(R)}getResponse(_){var v;return(null===(v=this._widgets.get(_||wt))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,s.A)(function*(){var R;return null===(R=v._widgets.get(_||wt))||void 0===R||R.execute(),""})()}}class _n{constructor(_,v,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof _?document.getElementById(_):_;Ie(J,"argument-error",{appName:v}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pr(w){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<w;R++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nr=oi("rcb"),xr=new Ve(3e4,6e4);class hi{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Yi().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Ie(function fl(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&Pn(Yi().grecaptcha)?Promise.resolve(Yi().grecaptcha):new Promise((R,J)=>{const ge=Yi().setTimeout(()=>{J(Ze(_,"network-request-failed"))},xr.get());Yi()[nr]=()=>{Yi().clearTimeout(ge),delete Yi()[nr];const Rt=Yi().grecaptcha;if(!Rt||!Pn(Rt))return void J(Ze(_,"internal-error"));const zt=Rt.render;Rt.render=(Dn,Sn)=>{const Qr=zt(Dn,Sn);return this.counter++,Qr},this.hostLanguage=v,R(Rt)},Co(`${function wo(){return Ms.recaptchaV2Script}()}?${(0,r.Am)({onload:nr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ge),J(Ze(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Yi().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dl{load(_){return(0,s.A)(function*(){return new yt(_)})()}clearedOneInstance(){}}const Ta="recaptcha",Wo={theme:"light",type:"image"};class $a{constructor(_,v,R=Object.assign({},Wo)){this.parameters=R,this.type=Ta,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(_),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof v?document.getElementById(v):v;Ie(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dl:new hi,this.validateStartingState()}verify(){var _=this;return(0,s.A)(function*(){_.assertNotDestroyed();const v=yield _.render(),R=_.getAssertedRecaptcha();return R.getResponse(v)||new Promise(ge=>{const Xe=Rt=>{Rt&&(_.tokenChangeListeners.delete(Xe),ge(Rt))};_.tokenChangeListeners.add(Xe),_.isInvisible&&R.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(R=>R(v)),"function"==typeof _)_(v);else if("string"==typeof _){const R=Yi()[_];"function"==typeof R&&R(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.A)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const R=document.createElement("div");v.appendChild(R),v=R}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.A)(function*(){Ie(Mt()&&!jc(),_.auth,"internal-error"),yield function Bc(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function _r(w){return sn.apply(this,arguments)}(_.auth);Ie(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pl{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Nn._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Oo(w,_,v){return kh.apply(this,arguments)}function kh(){return(kh=(0,s.A)(function*(w,_,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const R=dr(w),J=yield Nu(R,_,(0,r.Ku)(v));return new pl(J,ge=>ts(R,ge))})).apply(this,arguments)}function Ga(w,_,v){return $c.apply(this,arguments)}function $c(){return($c=(0,s.A)(function*(w,_,v){const R=(0,r.Ku)(w);yield de(!1,R,"phone");const J=yield Nu(R.auth,_,(0,r.Ku)(v));return new pl(J,ge=>Rs(R,ge))})).apply(this,arguments)}function Mu(w,_,v){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,s.A)(function*(w,_,v){const R=(0,r.Ku)(w);if((0,ce._isFirebaseServerApp)(R.auth.app))return Promise.reject(lt(R.auth));const J=yield Nu(R.auth,_,(0,r.Ku)(v));return new pl(J,ge=>Go(R,ge))})).apply(this,arguments)}function Nu(w,_,v){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,s.A)(function*(w,_,v){var R;const J=yield v.verify();try{let ge;if(Ie("string"==typeof J,w,"argument-error"),Ie(v.type===Ta,w,"argument-error"),ge="string"==typeof _?{phoneNumber:_}:_,"session"in ge){const Xe=ge.session;if("phoneNumber"in ge)return Ie("enroll"===Xe.type,w,"internal-error"),(yield function wu(w,_){return ke(w,"POST","/v2/accounts/mfaEnrollment:start",ye(w,_))}(w,{idToken:Xe.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Ie("signin"===Xe.type,w,"internal-error");const Rt=(null===(R=ge.multiFactorHint)||void 0===R?void 0:R.uid)||ge.multiFactorUid;return Ie(Rt,w,"missing-multi-factor-info"),(yield function A(w,_){return ke(w,"POST","/v2/accounts/mfaSignIn:start",ye(w,_))}(w,{mfaPendingCredential:Xe.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Xe}=yield function Le(w,_){return et.apply(this,arguments)}(w,{phoneNumber:ge.phoneNumber,recaptchaToken:J});return Xe}}finally{v._reset()}}),Fu.apply(this,arguments)}function Sl(w,_){return No.apply(this,arguments)}function No(){return(No=(0,s.A)(function*(w,_){const v=(0,r.Ku)(w);if((0,ce._isFirebaseServerApp)(v.auth.app))return Promise.reject(lt(v.auth));yield re(v,_)})).apply(this,arguments)}let ia=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=dr(v)}verifyPhoneNumber(v,R){return Nu(this.auth,v,(0,r.Ku)(R))}static credential(v,R){return Nn._fromVerification(v,R)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:R,temporaryProof:J}=v;return R&&J?Nn._fromTokenResponse(R,J):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Rl(w,_){return _?je(_):(Ie(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Lh extends gi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return es(_,this._buildIdpRequest())}_linkToIdToken(_,v){return es(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return es(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Dd(w){return Is(w.auth,new Lh(w),w.bypassAuthState)}function Cg(w){const{auth:_,user:v}=w;return Ie(v,_,"internal-error"),fn(v,new Lh(w),w.bypassAuthState)}function Sd(w){return ku.apply(this,arguments)}function ku(){return(ku=(0,s.A)(function*(w){const{auth:_,user:v}=w;return Ie(v,_,"internal-error"),re(v,new Lh(w),w.bypassAuthState)})).apply(this,arguments)}class Yf{constructor(_,v,R,J,ge=!1){this.auth=_,this.resolver=R,this.user=J,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,s.A)(function*(R,J){_.pendingPromise={resolve:R,reject:J};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ge){_.reject(ge)}});return function(R,J){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,s.A)(function*(){const{urlResponse:R,sessionId:J,postBody:ge,tenantId:Xe,error:Rt,type:zt}=_;if(Rt)return void v.reject(Rt);const Dn={auth:v.auth,requestUri:R,sessionId:J,tenantId:Xe||void 0,postBody:ge||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(zt)(Dn))}catch(Sn){v.reject(Sn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Dd;case"linkViaPopup":case"linkViaRedirect":return Sd;case"reauthViaPopup":case"reauthViaRedirect":return Cg;default:Ae(this.auth,"internal-error")}}resolve(_){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Yt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xf=new Ve(2e3,1e4);function Lu(w,_,v){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,s.A)(function*(w,_,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(Ze(w,"operation-not-supported-in-this-environment"));const R=dr(w);Pt(w,_,Ci);const J=Rl(R,v);return new Qf(R,"signInViaPopup",_,J).executeNotNull()})).apply(this,arguments)}function Rd(w,_,v){return oc.apply(this,arguments)}function oc(){return(oc=(0,s.A)(function*(w,_,v){const R=(0,r.Ku)(w);if((0,ce._isFirebaseServerApp)(R.auth.app))return Promise.reject(Ze(R.auth,"operation-not-supported-in-this-environment"));Pt(R.auth,_,Ci);const J=Rl(R.auth,v);return new Qf(R.auth,"reauthViaPopup",_,J,R).executeNotNull()})).apply(this,arguments)}function Vu(w,_,v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,s.A)(function*(w,_,v){const R=(0,r.Ku)(w);Pt(R.auth,_,Ci);const J=Rl(R.auth,v);return new Qf(R.auth,"linkViaPopup",_,J,R).executeNotNull()})).apply(this,arguments)}let Qf=(()=>{class w extends Yf{constructor(v,R,J,ge,Xe){super(v,R,ge,Xe),this.provider=J,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.A)(function*(){const R=yield v.execute();return Ie(R,v.auth,"internal-error"),R})()}onExecution(){var v=this;return(0,s.A)(function*(){Yt(1===v.filter.length,"Popup operations only handle one event");const R=Ir();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],R),v.authWindow.associatedEvent=R,v.resolver._originValidation(v.auth).catch(J=>{v.reject(J)}),v.resolver._isIframeWebStorageSupported(v.auth,J=>{J||v.reject(Ze(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var R,J;this.pollId=null!==(J=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Xf.get())};v()}}return w.currentPopupAction=null,w})();const Jf="pendingRedirect",_o=new Map;class Uu extends Yf{constructor(_,v,R=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,R),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,s.A)(function*(){let R=_o.get(v.auth._key());if(!R){try{const ge=(yield function yo(w,_){return Pd.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;R=()=>Promise.resolve(ge)}catch(J){R=()=>Promise.reject(J)}_o.set(v.auth._key(),R)}return v.bypassAuthState||_o.set(v.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,R=this;return(0,s.A)(function*(){if("signInViaRedirect"===_.type)return v().call(R,_);if("unknown"!==_.type){if(_.eventId){const J=yield R.auth._redirectUserForId(_.eventId);if(J)return R.user=J,v().call(R,_);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,s.A)(function*(){})()}cleanUp(){}}function Pd(){return(Pd=(0,s.A)(function*(w,_){const v=Gc(_),R=sa(w);if(!(yield R._isAvailable()))return!1;const J="true"===(yield R._get(v));return yield R._remove(v),J})).apply(this,arguments)}function ac(w,_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,s.A)(function*(w,_){return sa(w)._set(Gc(_),"true")})).apply(this,arguments)}function Vh(){_o.clear()}function Ha(w,_){_o.set(w._key(),_)}function sa(w){return je(w._redirectPersistence)}function Gc(w){return an(Jf,w.config.apiKey,w.name)}function gl(w,_,v){return function lc(w,_,v){return ju.apply(this,arguments)}(w,_,v)}function ju(){return(ju=(0,s.A)(function*(w,_,v){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const R=dr(w);Pt(w,_,Ci),yield R._initializationPromise;const J=Rl(R,v);return yield ac(J,R),J._openRedirect(R,_,"signInViaRedirect")})).apply(this,arguments)}function xl(w,_,v){return function wg(w,_,v){return Ia.apply(this,arguments)}(w,_,v)}function Ia(){return(Ia=(0,s.A)(function*(w,_,v){const R=(0,r.Ku)(w);if(Pt(R.auth,_,Ci),(0,ce._isFirebaseServerApp)(R.auth.app))return Promise.reject(lt(R.auth));yield R.auth._initializationPromise;const J=Rl(R.auth,v);yield ac(J,R.auth);const ge=yield xd(R);return J._openRedirect(R.auth,_,"reauthViaRedirect",ge)})).apply(this,arguments)}function za(w,_,v){return function Ml(w,_,v){return Bu.apply(this,arguments)}(w,_,v)}function Bu(){return(Bu=(0,s.A)(function*(w,_,v){const R=(0,r.Ku)(w);Pt(R.auth,_,Ci),yield R.auth._initializationPromise;const J=Rl(R.auth,v);yield de(!1,R,_.providerId),yield ac(J,R.auth);const ge=yield xd(R);return J._openRedirect(R.auth,_,"linkViaRedirect",ge)})).apply(this,arguments)}function Hc(w,_){return ml.apply(this,arguments)}function ml(){return(ml=(0,s.A)(function*(w,_){return yield dr(w)._initializationPromise,Zf(w,_,!1)})).apply(this,arguments)}function Zf(w,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,s.A)(function*(w,_,v=!1){if((0,ce._isFirebaseServerApp)(w.app))return Promise.reject(lt(w));const R=dr(w),J=Rl(R,_),Xe=yield new Uu(R,J,v).execute();return Xe&&!v&&(delete Xe.user._redirectEventId,yield R._persistUserIfCurrent(Xe.user),yield R._setRedirectUser(null,_)),Xe})).apply(this,arguments)}function xd(w){return cc.apply(this,arguments)}function cc(){return(cc=(0,s.A)(function*(w){const _=Ir(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class ep{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(_,R)&&(v=!0,this.sendToConsumer(_,R),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function uc(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Md(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var R;if(_.error&&!Md(_)){const J=(null===(R=_.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";v.onError(Ze(this.auth,J))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const R=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&R}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(_))}saveEventToCache(_){this.cachedEventUids.add(Gu(_)),this.lastProcessedEventTime=Date.now()}}function Gu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function Md({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===_?.code}function qo(w){return oa.apply(this,arguments)}function oa(){return(oa=(0,s.A)(function*(w,_={}){return ke(w,"GET","/v1/projects",_)})).apply(this,arguments)}const Uh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hu=/^https?/;function jh(){return(jh=(0,s.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield qo(w);for(const v of _)try{if(zc(v))return}catch{}Ae(w,"unauthorized-domain")})).apply(this,arguments)}function zc(w){const _=Mn(),{protocol:v,hostname:R}=new URL(_);if(w.startsWith("chrome-extension://")){const Xe=new URL(w);return""===Xe.hostname&&""===R?"chrome-extension:"===v&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Xe.hostname===R}if(!Hu.test(v))return!1;if(Uh.test(w))return R===w;const J=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(R)}const t_=new Ve(3e4,6e4);function Ag(){const w=Yi().___jsl;if(w?.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Fs=null;const Wc=new Ve(5e3,15e3),Kc="__/auth/iframe",Od="emulator/auth/iframe",Bh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nd(w){const _=w.config;Ie(_.authDomain,w,"auth-domain-config-required");const v=_.emulator?it(_,Od):`https://${w.config.authDomain}/${Kc}`,R={apiKey:_.apiKey,appName:w.name,v:ce.SDK_VERSION},J=Hs.get(w.config.apiHost);J&&(R.eid=J);const ge=w._getFrameworks();return ge.length&&(R.fw=ge.join(",")),`${v}?${(0,r.Am)(R).slice(1)}`}function $h(){return $h=(0,s.A)(function*(w){const _=yield function n_(w){return Fs=Fs||function tp(w){return new Promise((_,v)=>{var R,J,ge;function Xe(){Ag(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Ag(),v(Ze(w,"network-request-failed"))},timeout:t_.get()})}if(null!==(J=null===(R=Yi().gapi)||void 0===R?void 0:R.iframes)&&void 0!==J&&J.Iframe)_(gapi.iframes.getContext());else{if(null===(ge=Yi().gapi)||void 0===ge||!ge.load){const Rt=oi("iframefcb");return Yi()[Rt]=()=>{gapi.load?Xe():v(Ze(w,"network-request-failed"))},Co(`${function jo(){return Ms.gapiScript}()}?onload=${Rt}`).catch(zt=>v(zt))}Xe()}}).catch(_=>{throw Fs=null,_})}(w),Fs}(w),v=Yi().gapi;return Ie(v,w,"internal-error"),_.open({where:document.body,url:Nd(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bh,dontclear:!0},R=>new Promise(function(){var J=(0,s.A)(function*(ge,Xe){yield R.restyle({setHideOnLeave:!1});const Rt=Ze(w,"network-request-failed"),zt=Yi().setTimeout(()=>{Xe(Rt)},Wc.get());function Dn(){Yi().clearTimeout(zt),ge(R)}R.ping(Dn).then(Dn,()=>{Xe(Rt)})});return function(ge,Xe){return J.apply(this,arguments)}}()))}),$h.apply(this,arguments)}const Yo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wa="__/auth/handler",Fo="emulator/auth/handler",Ld=encodeURIComponent("fac");function Ka(w,_,v,R,J,ge){return zu.apply(this,arguments)}function zu(){return(zu=(0,s.A)(function*(w,_,v,R,J,ge){Ie(w.config.authDomain,w,"auth-domain-config-required"),Ie(w.config.apiKey,w,"invalid-api-key");const Xe={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:R,v:ce.SDK_VERSION,eventId:J};if(_ instanceof Ci){_.setDefaultLanguage(w.languageCode),Xe.providerId=_.providerId||"",(0,r.Im)(_.getCustomParameters())||(Xe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Sn,Qr]of Object.entries(ge||{}))Xe[Sn]=Qr}if(_ instanceof Dr){const Sn=_.getScopes().filter(Qr=>""!==Qr);Sn.length>0&&(Xe.scopes=Sn.join(","))}w.tenantId&&(Xe.tid=w.tenantId);const Rt=Xe;for(const Sn of Object.keys(Rt))void 0===Rt[Sn]&&delete Rt[Sn];const zt=yield w._getAppCheckToken(),Dn=zt?`#${Ld}=${encodeURIComponent(zt)}`:"";return`${function rp({config:w}){return w.emulator?it(w,Fo):`https://${w.authDomain}/${Wa}`}(w)}?${(0,r.Am)(Rt).slice(1)}${Dn}`})).apply(this,arguments)}const Vd="webStorageSupport",Gh=class ip{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ea,this._completeRedirectFn=Zf,this._overrideRedirectResult=Ha}_openPopup(_,v,R,J){var ge=this;return(0,s.A)(function*(){var Xe;Yt(null===(Xe=ge.eventManagers[_._key()])||void 0===Xe?void 0:Xe.manager,"_initialize() not called before _openPopup()");const Rt=yield Ka(_,v,R,Mn(),J);return function np(w,_,v,R=500,J=600){const ge=Math.max((window.screen.availHeight-J)/2,0).toString(),Xe=Math.max((window.screen.availWidth-R)/2,0).toString();let Rt="";const zt=Object.assign(Object.assign({},Yo),{width:R.toString(),height:J.toString(),top:ge,left:Xe}),Dn=(0,r.ZQ)().toLowerCase();v&&(Rt=ir(Dn)?"_blank":v),ln(Dn)&&(_=_||"http://localhost",zt.scrollbars="yes");const Sn=Object.entries(zt).reduce((vo,[aa,Ul])=>`${vo}${aa}=${Ul},`,"");if(function xs(w=(0,r.ZQ)()){var _;return pi(w)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Dn)&&"_self"!==Rt)return function Dg(w,_){const v=document.createElement("a");v.href=w,v.target=_;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(R)}(_||"",Rt),new kd(null);const Qr=window.open(_||"",Rt,Sn);Ie(Qr,w,"popup-blocked");try{Qr.focus()}catch{}return new kd(Qr)}(_,Rt,Ir())})()}_openRedirect(_,v,R,J){var ge=this;return(0,s.A)(function*(){return yield ge._originValidation(_),function Gs(w){Yi().location.href=w}(yield Ka(_,v,R,Mn(),J)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:J,promise:ge}=this.eventManagers[v];return J?Promise.resolve(J):(Yt(ge,"If manager is not set, promise should be"),ge)}const R=this.initAndGetManager(_);return this.eventManagers[v]={promise:R},R.catch(()=>{delete this.eventManagers[v]}),R}initAndGetManager(_){var v=this;return(0,s.A)(function*(){const R=yield function Ol(w){return $h.apply(this,arguments)}(_),J=new ep(_);return R.register("authEvent",ge=>(Ie(ge?.authEvent,_,"invalid-auth-event"),{status:J.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:J},v.iframes[_._key()]=R,J})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Vd,{type:Vd},J=>{var ge;const Xe=null===(ge=J?.[0])||void 0===ge?void 0:ge[Vd];void 0!==Xe&&v(!!Xe),Ae(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function dc(w){return jh.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return at()||$r()||pi()}};class Sg{constructor(_){this.factorId=_}_process(_,v,R){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,R);case"signin":return this._finalizeSignIn(_,v.credential);default:return Qe("unexpected MultiFactorSessionType")}}}class Ca extends Sg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Ca(_)}_finalizeEnroll(_,v,R){return function Au(w,_){return ke(w,"POST","/v2/accounts/mfaEnrollment:finalize",ye(w,_))}(_,{idToken:v,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function F(w,_){return ke(w,"POST","/v2/accounts/mfaSignIn:finalize",ye(w,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qc=(()=>{class w{constructor(){}static assertion(v){return Ca._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var zh="@firebase/auth";class jd{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,s.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(R=>{_(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,r.XA)("authIdTokenMaxAge"),function is(w){Ms=w}({loadJS:w=>new Promise((_,v)=>{const R=document.createElement("script");R.setAttribute("src",w),R.onload=_,R.onerror=J=>{const ge=Ze("internal-error");ge.customData=J,v(ge)},R.type="text/javascript",R.charset="UTF-8",function zs(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(R)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Yc(w){(0,ce._registerComponent)(new Ee.uA("auth",(_,{options:v})=>{const R=_.getProvider("app").getImmediate(),J=_.getProvider("heartbeat"),ge=_.getProvider("app-check-internal"),{apiKey:Xe,authDomain:Rt}=R.options;Ie(Xe&&!Xe.includes(":"),"invalid-api-key",{appName:R.name});const zt={apiKey:Xe,authDomain:Rt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xt(w)},Dn=new zr(R,J,ge,zt);return function Ja(w,_){const v=_?.persistence||[],R=(Array.isArray(v)?v:[v]).map(je);_?.errorMap&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(R,_?.popupRedirectResolver)}(Dn,v),Dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,R)=>{_.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ee.uA("auth-internal",_=>{const v=dr(_.getProvider("auth").getImmediate());return new jd(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(zh,"1.7.9",function Wh(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,ce.registerVersion)(zh,"1.7.9","esm2017")}("Browser")},9583:(tn,Ye,L)=>{L.d(Ye,{fS:()=>bm,Ix:()=>ou,H6:()=>Fp,T1:()=>ks,Wq:()=>au,uY:()=>nd,W6:()=>it,Ci:()=>kp,YQ:()=>Xa,NJ:()=>Ac,Dc:()=>Ht,GA:()=>Hp,cm:()=>Kr,K$:()=>Bt,FA:()=>Yn,lo:()=>li,bI:()=>Wt,qG:()=>Ja,qi:()=>Yt,c8:()=>nm,gS:()=>SE,C3:()=>bv,hq:()=>kE,me:()=>yE,rJ:()=>M_,Cs:()=>om,vN:()=>Qy,kd:()=>DE,CL:()=>NE,LA:()=>Zy,H9:()=>bc,ol:()=>N_,Q5:()=>lh,Os:()=>k_,FD:()=>$_,rf:()=>H0,Ws:()=>As,z6:()=>gh,x7:()=>CE,nY:()=>Sc,_e:()=>hv,GG:()=>wE,kU:()=>z0,Rr:()=>Eo,aU:()=>lm,GV:()=>K0,AB:()=>rv,$1:()=>iv,po:()=>hm,St:()=>vE,aQ:()=>W_,FC:()=>fv,My:()=>nv,P:()=>so,B:()=>pf,yx:()=>Jy,c4:()=>OE,O5:()=>FE,BN:()=>AE,He:()=>ct,lN:()=>IE,HM:()=>ov,EO:()=>sv,mZ:()=>z_,iB:()=>um,_M:()=>vm});var Te,xe,s=L(467),ce=L(7852),r=L(1362),be=L(8041),fe=L(1076),Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};(function(){var d;function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ut,Ue,Je){Je||(Je=0);var dt=Array(16);if("string"==typeof Ue)for(var vt=0;16>vt;++vt)dt[vt]=Ue.charCodeAt(Je++)|Ue.charCodeAt(Je++)<<8|Ue.charCodeAt(Je++)<<16|Ue.charCodeAt(Je++)<<24;else for(vt=0;16>vt;++vt)dt[vt]=Ue[Je++]|Ue[Je++]<<8|Ue[Je++]<<16|Ue[Je++]<<24;var St=ut.g[3],We=(Ue=ut.g[0])+(St^(Je=ut.g[1])&((vt=ut.g[2])^St))+dt[0]+3614090360&4294967295;We=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=(Je=(vt=(St=(Ue=Je+(We<<7&4294967295|We>>>25))+((We=St+(vt^Ue&(Je^vt))+dt[1]+3905402710&4294967295)<<12&4294967295|We>>>20))+((We=vt+(Je^St&(Ue^Je))+dt[2]+606105819&4294967295)<<17&4294967295|We>>>15))+((We=Je+(Ue^vt&(St^Ue))+dt[3]+3250441966&4294967295)<<22&4294967295|We>>>10))+((We=Ue+(St^Je&(vt^St))+dt[4]+4118548399&4294967295)<<7&4294967295|We>>>25))+((We=St+(vt^Ue&(Je^vt))+dt[5]+1200080426&4294967295)<<12&4294967295|We>>>20))+((We=vt+(Je^St&(Ue^Je))+dt[6]+2821735955&4294967295)<<17&4294967295|We>>>15))+((We=Je+(Ue^vt&(St^Ue))+dt[7]+4249261313&4294967295)<<22&4294967295|We>>>10))+((We=Ue+(St^Je&(vt^St))+dt[8]+1770035416&4294967295)<<7&4294967295|We>>>25))+((We=St+(vt^Ue&(Je^vt))+dt[9]+2336552879&4294967295)<<12&4294967295|We>>>20))+((We=vt+(Je^St&(Ue^Je))+dt[10]+4294925233&4294967295)<<17&4294967295|We>>>15))+((We=Je+(Ue^vt&(St^Ue))+dt[11]+2304563134&4294967295)<<22&4294967295|We>>>10))+((We=Ue+(St^Je&(vt^St))+dt[12]+1804603682&4294967295)<<7&4294967295|We>>>25))+((We=St+(vt^Ue&(Je^vt))+dt[13]+4254626195&4294967295)<<12&4294967295|We>>>20))+((We=vt+(Je^St&(Ue^Je))+dt[14]+2792965006&4294967295)<<17&4294967295|We>>>15))+((We=Je+(Ue^vt&(St^Ue))+dt[15]+1236535329&4294967295)<<22&4294967295|We>>>10))+((We=Ue+(vt^St&(Je^vt))+dt[1]+4129170786&4294967295)<<5&4294967295|We>>>27))+((We=St+(Je^vt&(Ue^Je))+dt[6]+3225465664&4294967295)<<9&4294967295|We>>>23))+((We=vt+(Ue^Je&(St^Ue))+dt[11]+643717713&4294967295)<<14&4294967295|We>>>18))+((We=Je+(St^Ue&(vt^St))+dt[0]+3921069994&4294967295)<<20&4294967295|We>>>12))+((We=Ue+(vt^St&(Je^vt))+dt[5]+3593408605&4294967295)<<5&4294967295|We>>>27))+((We=St+(Je^vt&(Ue^Je))+dt[10]+38016083&4294967295)<<9&4294967295|We>>>23))+((We=vt+(Ue^Je&(St^Ue))+dt[15]+3634488961&4294967295)<<14&4294967295|We>>>18))+((We=Je+(St^Ue&(vt^St))+dt[4]+3889429448&4294967295)<<20&4294967295|We>>>12))+((We=Ue+(vt^St&(Je^vt))+dt[9]+568446438&4294967295)<<5&4294967295|We>>>27))+((We=St+(Je^vt&(Ue^Je))+dt[14]+3275163606&4294967295)<<9&4294967295|We>>>23))+((We=vt+(Ue^Je&(St^Ue))+dt[3]+4107603335&4294967295)<<14&4294967295|We>>>18))+((We=Je+(St^Ue&(vt^St))+dt[8]+1163531501&4294967295)<<20&4294967295|We>>>12))+((We=Ue+(vt^St&(Je^vt))+dt[13]+2850285829&4294967295)<<5&4294967295|We>>>27))+((We=St+(Je^vt&(Ue^Je))+dt[2]+4243563512&4294967295)<<9&4294967295|We>>>23))+((We=vt+(Ue^Je&(St^Ue))+dt[7]+1735328473&4294967295)<<14&4294967295|We>>>18))+((We=Je+(St^Ue&(vt^St))+dt[12]+2368359562&4294967295)<<20&4294967295|We>>>12))+((We=Ue+(Je^vt^St)+dt[5]+4294588738&4294967295)<<4&4294967295|We>>>28))+((We=St+(Ue^Je^vt)+dt[8]+2272392833&4294967295)<<11&4294967295|We>>>21))+((We=vt+(St^Ue^Je)+dt[11]+1839030562&4294967295)<<16&4294967295|We>>>16))+((We=Je+(vt^St^Ue)+dt[14]+4259657740&4294967295)<<23&4294967295|We>>>9))+((We=Ue+(Je^vt^St)+dt[1]+2763975236&4294967295)<<4&4294967295|We>>>28))+((We=St+(Ue^Je^vt)+dt[4]+1272893353&4294967295)<<11&4294967295|We>>>21))+((We=vt+(St^Ue^Je)+dt[7]+4139469664&4294967295)<<16&4294967295|We>>>16))+((We=Je+(vt^St^Ue)+dt[10]+3200236656&4294967295)<<23&4294967295|We>>>9))+((We=Ue+(Je^vt^St)+dt[13]+681279174&4294967295)<<4&4294967295|We>>>28))+((We=St+(Ue^Je^vt)+dt[0]+3936430074&4294967295)<<11&4294967295|We>>>21))+((We=vt+(St^Ue^Je)+dt[3]+3572445317&4294967295)<<16&4294967295|We>>>16))+((We=Je+(vt^St^Ue)+dt[6]+76029189&4294967295)<<23&4294967295|We>>>9))+((We=Ue+(Je^vt^St)+dt[9]+3654602809&4294967295)<<4&4294967295|We>>>28))+((We=St+(Ue^Je^vt)+dt[12]+3873151461&4294967295)<<11&4294967295|We>>>21))+((We=vt+(St^Ue^Je)+dt[15]+530742520&4294967295)<<16&4294967295|We>>>16))+((We=Je+(vt^St^Ue)+dt[2]+3299628645&4294967295)<<23&4294967295|We>>>9))+((We=Ue+(vt^(Je|~St))+dt[0]+4096336452&4294967295)<<6&4294967295|We>>>26))+((We=St+(Je^(Ue|~vt))+dt[7]+1126891415&4294967295)<<10&4294967295|We>>>22))+((We=vt+(Ue^(St|~Je))+dt[14]+2878612391&4294967295)<<15&4294967295|We>>>17))+((We=Je+(St^(vt|~Ue))+dt[5]+4237533241&4294967295)<<21&4294967295|We>>>11))+((We=Ue+(vt^(Je|~St))+dt[12]+1700485571&4294967295)<<6&4294967295|We>>>26))+((We=St+(Je^(Ue|~vt))+dt[3]+2399980690&4294967295)<<10&4294967295|We>>>22))+((We=vt+(Ue^(St|~Je))+dt[10]+4293915773&4294967295)<<15&4294967295|We>>>17))+((We=Je+(St^(vt|~Ue))+dt[1]+2240044497&4294967295)<<21&4294967295|We>>>11))+((We=Ue+(vt^(Je|~St))+dt[8]+1873313359&4294967295)<<6&4294967295|We>>>26))+((We=St+(Je^(Ue|~vt))+dt[15]+4264355552&4294967295)<<10&4294967295|We>>>22))+((We=vt+(Ue^(St|~Je))+dt[6]+2734768916&4294967295)<<15&4294967295|We>>>17))+((We=Je+(St^(vt|~Ue))+dt[13]+1309151649&4294967295)<<21&4294967295|We>>>11))+((St=(Ue=Je+((We=Ue+(vt^(Je|~St))+dt[4]+4149444226&4294967295)<<6&4294967295|We>>>26))+((We=St+(Je^(Ue|~vt))+dt[11]+3174756917&4294967295)<<10&4294967295|We>>>22))^((vt=St+((We=vt+(Ue^(St|~Je))+dt[2]+718787259&4294967295)<<15&4294967295|We>>>17))|~Ue))+dt[9]+3951481745&4294967295,ut.g[0]=ut.g[0]+Ue&4294967295,ut.g[1]=ut.g[1]+(vt+(We<<21&4294967295|We>>>11))&4294967295,ut.g[2]=ut.g[2]+vt&4294967295,ut.g[3]=ut.g[3]+St&4294967295}function T(ut,Ue){this.h=Ue;for(var Je=[],dt=!0,vt=ut.length-1;0<=vt;vt--){var St=0|ut[vt];dt&&St==Ue||(Je[vt]=St,dt=!1)}this.g=Je}(function e(ut,Ue){function Je(){}Je.prototype=Ue.prototype,ut.D=Ue.prototype,ut.prototype=new Je,ut.prototype.constructor=ut,ut.C=function(dt,vt,St){for(var We=Array(arguments.length-2),cu=2;cu<arguments.length;cu++)We[cu-2]=arguments[cu];return Ue.prototype[vt].apply(dt,We)}})(l,function i(){this.blockSize=-1}),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},l.prototype.u=function(ut,Ue){void 0===Ue&&(Ue=ut.length);for(var Je=Ue-this.blockSize,dt=this.B,vt=this.h,St=0;St<Ue;){if(0==vt)for(;St<=Je;)h(this,ut,St),St+=this.blockSize;if("string"==typeof ut){for(;St<Ue;)if(dt[vt++]=ut.charCodeAt(St++),vt==this.blockSize){h(this,dt),vt=0;break}}else for(;St<Ue;)if(dt[vt++]=ut[St++],vt==this.blockSize){h(this,dt),vt=0;break}}this.h=vt,this.o+=Ue},l.prototype.v=function(){var ut=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ut[0]=128;for(var Ue=1;Ue<ut.length-8;++Ue)ut[Ue]=0;var Je=8*this.o;for(Ue=ut.length-8;Ue<ut.length;++Ue)ut[Ue]=255&Je,Je/=256;for(this.u(ut),ut=Array(16),Ue=Je=0;4>Ue;++Ue)for(var dt=0;32>dt;dt+=8)ut[Je++]=this.g[Ue]>>>dt&255;return ut};var P={};function U(ut){return-128<=ut&&128>ut?function y(ut,Ue){var Je=P;return Object.prototype.hasOwnProperty.call(Je,ut)?Je[ut]:Je[ut]=Ue(ut)}(ut,function(Ue){return new T([0|Ue],0>Ue?-1:0)}):new T([0|ut],0>ut?-1:0)}function Y(ut){if(isNaN(ut)||!isFinite(ut))return Ce;if(0>ut)return nn(Y(-ut));for(var Ue=[],Je=1,dt=0;ut>=Je;dt++)Ue[dt]=ut/Je|0,Je*=4294967296;return new T(Ue,0)}var Ce=U(0),ze=U(1),Ct=U(16777216);function Gt(ut){if(0!=ut.h)return!1;for(var Ue=0;Ue<ut.g.length;Ue++)if(0!=ut.g[Ue])return!1;return!0}function un(ut){return-1==ut.h}function nn(ut){for(var Ue=ut.g.length,Je=[],dt=0;dt<Ue;dt++)Je[dt]=~ut.g[dt];return new T(Je,~ut.h).add(ze)}function zn(ut,Ue){return ut.add(nn(Ue))}function ar(ut,Ue){for(;(65535&ut[Ue])!=ut[Ue];)ut[Ue+1]+=ut[Ue]>>>16,ut[Ue]&=65535,Ue++}function Xn(ut,Ue){this.g=ut,this.h=Ue}function Mr(ut,Ue){if(Gt(Ue))throw Error("division by zero");if(Gt(ut))return new Xn(Ce,Ce);if(un(ut))return Ue=Mr(nn(ut),Ue),new Xn(nn(Ue.g),nn(Ue.h));if(un(Ue))return Ue=Mr(ut,nn(Ue)),new Xn(nn(Ue.g),Ue.h);if(30<ut.g.length){if(un(ut)||un(Ue))throw Error("slowDivide_ only works with positive integers.");for(var Je=ze,dt=Ue;0>=dt.l(ut);)Je=Oi(Je),dt=Oi(dt);var vt=si(Je,1),St=si(dt,1);for(dt=si(dt,2),Je=si(Je,2);!Gt(dt);){var We=St.add(dt);0>=We.l(ut)&&(vt=vt.add(Je),St=We),dt=si(dt,1),Je=si(Je,1)}return Ue=zn(ut,vt.j(Ue)),new Xn(vt,Ue)}for(vt=Ce;0<=ut.l(Ue);){for(Je=Math.max(1,Math.floor(ut.m()/Ue.m())),dt=48>=(dt=Math.ceil(Math.log(Je)/Math.LN2))?1:Math.pow(2,dt-48),We=(St=Y(Je)).j(Ue);un(We)||0<We.l(ut);)We=(St=Y(Je-=dt)).j(Ue);Gt(St)&&(St=ze),vt=vt.add(St),ut=zn(ut,We)}return new Xn(vt,ut)}function Oi(ut){for(var Ue=ut.g.length+1,Je=[],dt=0;dt<Ue;dt++)Je[dt]=ut.i(dt)<<1|ut.i(dt-1)>>>31;return new T(Je,ut.h)}function si(ut,Ue){var Je=Ue>>5;Ue%=32;for(var dt=ut.g.length-Je,vt=[],St=0;St<dt;St++)vt[St]=0<Ue?ut.i(St+Je)>>>Ue|ut.i(St+Je+1)<<32-Ue:ut.i(St+Je);return new T(vt,ut.h)}(d=T.prototype).m=function(){if(un(this))return-nn(this).m();for(var ut=0,Ue=1,Je=0;Je<this.g.length;Je++){var dt=this.i(Je);ut+=(0<=dt?dt:4294967296+dt)*Ue,Ue*=4294967296}return ut},d.toString=function(ut){if(2>(ut=ut||10)||36<ut)throw Error("radix out of range: "+ut);if(Gt(this))return"0";if(un(this))return"-"+nn(this).toString(ut);for(var Ue=Y(Math.pow(ut,6)),Je=this,dt="";;){var vt=Mr(Je,Ue).g,St=((0<(Je=zn(Je,vt.j(Ue))).g.length?Je.g[0]:Je.h)>>>0).toString(ut);if(Gt(Je=vt))return St+dt;for(;6>St.length;)St="0"+St;dt=St+dt}},d.i=function(ut){return 0>ut?0:ut<this.g.length?this.g[ut]:this.h},d.l=function(ut){return un(ut=zn(this,ut))?-1:Gt(ut)?0:1},d.abs=function(){return un(this)?nn(this):this},d.add=function(ut){for(var Ue=Math.max(this.g.length,ut.g.length),Je=[],dt=0,vt=0;vt<=Ue;vt++){var St=dt+(65535&this.i(vt))+(65535&ut.i(vt)),We=(St>>>16)+(this.i(vt)>>>16)+(ut.i(vt)>>>16);dt=We>>>16,Je[vt]=(We&=65535)<<16|(St&=65535)}return new T(Je,-2147483648&Je[Je.length-1]?-1:0)},d.j=function(ut){if(Gt(this)||Gt(ut))return Ce;if(un(this))return un(ut)?nn(this).j(nn(ut)):nn(nn(this).j(ut));if(un(ut))return nn(this.j(nn(ut)));if(0>this.l(Ct)&&0>ut.l(Ct))return Y(this.m()*ut.m());for(var Ue=this.g.length+ut.g.length,Je=[],dt=0;dt<2*Ue;dt++)Je[dt]=0;for(dt=0;dt<this.g.length;dt++)for(var vt=0;vt<ut.g.length;vt++){var St=this.i(dt)>>>16,We=65535&this.i(dt),cu=ut.i(vt)>>>16,zp=65535&ut.i(vt);Je[2*dt+2*vt]+=We*zp,ar(Je,2*dt+2*vt),Je[2*dt+2*vt+1]+=St*zp,ar(Je,2*dt+2*vt+1),Je[2*dt+2*vt+1]+=We*cu,ar(Je,2*dt+2*vt+1),Je[2*dt+2*vt+2]+=St*cu,ar(Je,2*dt+2*vt+2)}for(dt=0;dt<Ue;dt++)Je[dt]=Je[2*dt+1]<<16|Je[2*dt];for(dt=Ue;dt<2*Ue;dt++)Je[dt]=0;return new T(Je,0)},d.A=function(ut){return Mr(this,ut).h},d.and=function(ut){for(var Ue=Math.max(this.g.length,ut.g.length),Je=[],dt=0;dt<Ue;dt++)Je[dt]=this.i(dt)&ut.i(dt);return new T(Je,this.h&ut.h)},d.or=function(ut){for(var Ue=Math.max(this.g.length,ut.g.length),Je=[],dt=0;dt<Ue;dt++)Je[dt]=this.i(dt)|ut.i(dt);return new T(Je,this.h|ut.h)},d.xor=function(ut){for(var Ue=Math.max(this.g.length,ut.g.length),Je=[],dt=0;dt<Ue;dt++)Je[dt]=this.i(dt)^ut.i(dt);return new T(Je,this.h^ut.h)},l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,xe=Se.Md5=l,T.prototype.add=T.prototype.add,T.prototype.multiply=T.prototype.j,T.prototype.modulo=T.prototype.A,T.prototype.compare=T.prototype.l,T.prototype.toNumber=T.prototype.m,T.prototype.toString=T.prototype.toString,T.prototype.getBits=T.prototype.i,T.fromNumber=Y,T.fromString=function le(ut,Ue){if(0==ut.length)throw Error("number format error: empty string");if(2>(Ue=Ue||10)||36<Ue)throw Error("radix out of range: "+Ue);if("-"==ut.charAt(0))return nn(le(ut.substring(1),Ue));if(0<=ut.indexOf("-"))throw Error('number format error: interior "-" character');for(var Je=Y(Math.pow(Ue,8)),dt=Ce,vt=0;vt<ut.length;vt+=8){var St=Math.min(8,ut.length-vt),We=parseInt(ut.substring(vt,vt+St),Ue);8>St?(St=Y(Math.pow(Ue,St)),dt=dt.j(St).add(Y(We))):dt=(dt=dt.j(Je)).add(Y(We))}return dt},Te=Se.Integer=T}).apply(typeof Ee<"u"?Ee:typeof self<"u"?self:typeof window<"u"?window:{});var pe,Be,ve,qe,we,bt,jt,He,K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,j,X){return E==Array.prototype||E==Object.prototype||(E[j]=X.value),E},l=function i(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof K&&K];for(var j=0;j<E.length;++j){var X=E[j];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}(this);!function h(E,j){if(j)e:{var X=l;E=E.split(".");for(var me=0;me<E.length-1;me++){var pt=E[me];if(!(pt in X))break e;X=X[pt]}(j=j(me=X[E=E[E.length-1]]))!=me&&null!=j&&e(X,E,{configurable:!0,writable:!0,value:j})}}("Array.prototype.values",function(E){return E||function(){return function y(E,j){E instanceof String&&(E+="");var X=0,me=!1,pt={next:function(){if(!me&&X<E.length){var Ot=X++;return{value:j(Ot,E[Ot]),done:!1}}return me=!0,{done:!0,value:void 0}}};return pt[Symbol.iterator]=function(){return pt},pt}(this,function(j,X){return X})}});var T=T||{},P=this||self;function U(E){var j=typeof E;return"array"==(j="object"!=j?j:E?Array.isArray(E)?"array":j:"null")||"object"==j&&"number"==typeof E.length}function Y(E){var j=typeof E;return"object"==j&&null!=E||"function"==j}function le(E,j,X){return E.call.apply(E.bind,arguments)}function Ce(E,j,X){if(!E)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var pt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pt,me),E.apply(j,pt)}}return function(){return E.apply(j,arguments)}}function ze(E,j,X){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:Ce).apply(null,arguments)}function Ct(E,j){var X=Array.prototype.slice.call(arguments,1);return function(){var me=X.slice();return me.push.apply(me,arguments),E.apply(this,me)}}function Gt(E,j){function X(){}X.prototype=j.prototype,E.aa=j.prototype,E.prototype=new X,E.prototype.constructor=E,E.Qb=function(me,pt,Ot){for(var yn=Array(arguments.length-2),zi=2;zi<arguments.length;zi++)yn[zi-2]=arguments[zi];return j.prototype[pt].apply(me,yn)}}function un(E){const j=E.length;if(0<j){const X=Array(j);for(let me=0;me<j;me++)X[me]=E[me];return X}return[]}function nn(E,j){for(let X=1;X<arguments.length;X++){const me=arguments[X];if(U(me)){const pt=E.length||0,Ot=me.length||0;E.length=pt+Ot;for(let yn=0;yn<Ot;yn++)E[pt+yn]=me[yn]}else E.push(me)}}function ar(E){return/^[\s\xa0]*$/.test(E)}function Xn(){var E=P.navigator;return E&&(E=E.userAgent)?E:""}function Mr(E){return Mr[" "](E),E}Mr[" "]=function(){};var Oi=!(-1==Xn().indexOf("Gecko")||-1!=Xn().toLowerCase().indexOf("webkit")&&-1==Xn().indexOf("Edge")||-1!=Xn().indexOf("Trident")||-1!=Xn().indexOf("MSIE")||-1!=Xn().indexOf("Edge"));function si(E,j,X){for(const me in E)j.call(X,E[me],me,E)}function Ue(E){const j={};for(const X in E)j[X]=E[X];return j}const Je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(E,j){let X,me;for(let pt=1;pt<arguments.length;pt++){for(X in me=arguments[pt],me)E[X]=me[X];for(let Ot=0;Ot<Je.length;Ot++)X=Je[Ot],Object.prototype.hasOwnProperty.call(me,X)&&(E[X]=me[X])}}function vt(E){var j=1;E=E.split(":");const X=[];for(;0<j&&E.length;)X.push(E.shift()),j--;return E.length&&X.push(E.join(":")),X}function St(E){P.setTimeout(()=>{throw E},0)}function We(){var E=Q_;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}var zp=new class zn{constructor(j,X){this.i=j,this.j=X,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}(()=>new BE,E=>E.reset());class BE{constructor(){this.next=this.g=this.h=null}set(j,X){this.h=j,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let If,Wp=!1,Q_=new class cu{constructor(){this.h=this.g=null}add(j,X){const me=zp.get();me.set(j,X),this.h?this.h.next=me:this.g=me,this.h=me}},Cm=()=>{const E=P.Promise.resolve(void 0);If=()=>{E.then($E)}};var $E=()=>{for(var E;E=We();){try{E.h.call(E.g)}catch(X){St(X)}var j=zp;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}Wp=!1};function dd(){this.s=this.s,this.C=this.C}function Jo(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}dd.prototype.s=!1,dd.prototype.ma=function(){this.s||(this.s=!0,this.N())},dd.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jo.prototype.h=function(){this.defaultPrevented=!0};var GE=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const X=()=>{};P.addEventListener("test",X,j),P.removeEventListener("test",X,j)}catch{}return E}();function Kp(E,j){if(Jo.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var X=this.type=E.type,me=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(Oi){e:{try{Mr(j.nodeName);var pt=!0;break e}catch{}pt=!1}pt||(j=null)}}else"mouseover"==X?j=E.fromElement:"mouseout"==X&&(j=E.toElement);this.relatedTarget=j,me?(this.clientX=void 0!==me.clientX?me.clientX:me.pageX,this.clientY=void 0!==me.clientY?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Pc[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Kp.aa.h.call(this)}}Gt(Kp,Jo);var Pc={2:"touch",3:"pen",4:"mouse"};Kp.prototype.h=function(){Kp.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var mh="closure_listenable_"+(1e6*Math.random()|0),HE=0;function Cv(E,j,X,me,pt){this.listener=E,this.proxy=null,this.src=j,this.type=X,this.capture=!!me,this.ha=pt,this.key=++HE,this.da=this.fa=!1}function wm(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function qp(E){this.src=E,this.g={},this.h=0}function Am(E,j){var X=j.type;if(X in E.g){var Ot,me=E.g[X],pt=Array.prototype.indexOf.call(me,j,void 0);(Ot=0<=pt)&&Array.prototype.splice.call(me,pt,1),Ot&&(wm(j),0==E.g[X].length&&(delete E.g[X],E.h--))}}function Cf(E,j,X,me){for(var pt=0;pt<E.length;++pt){var Ot=E[pt];if(!Ot.da&&Ot.listener==j&&Ot.capture==!!X&&Ot.ha==me)return pt}return-1}qp.prototype.add=function(E,j,X,me,pt){var Ot=E.toString();(E=this.g[Ot])||(E=this.g[Ot]=[],this.h++);var yn=Cf(E,j,me,pt);return-1<yn?(j=E[yn],X||(j.fa=!1)):((j=new Cv(j,this.src,Ot,!!me,pt)).fa=X,E.push(j)),j};var Yp="closure_lm_"+(1e6*Math.random()|0),wv={};function J_(E,j,X,me,pt){if(me&&me.once)return Dm(E,j,X,me,pt);if(Array.isArray(j)){for(var Ot=0;Ot<j.length;Ot++)J_(E,j[Ot],X,me,pt);return null}return X=Rm(X),E&&E[mh]?E.K(j,X,Y(me)?!!me.capture:!!me,pt):Z_(E,j,X,!1,me,pt)}function Z_(E,j,X,me,pt,Ot){if(!j)throw Error("Invalid event type");var yn=Y(pt)?!!pt.capture:!!pt,zi=Xp(E);if(zi||(E[Yp]=zi=new qp(E)),(X=zi.add(j,X,me,yn,Ot)).proxy)return X;if(me=function Av(){const j=zE;return function E(X){return j.call(E.src,E.listener,X)}}(),X.proxy=me,me.src=E,me.listener=X,E.addEventListener)GE||(pt=yn),void 0===pt&&(pt=!1),E.addEventListener(j.toString(),me,pt);else if(E.attachEvent)E.attachEvent(Dv(j.toString()),me);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(me)}return X}function Dm(E,j,X,me,pt){if(Array.isArray(j)){for(var Ot=0;Ot<j.length;Ot++)Dm(E,j[Ot],X,me,pt);return null}return X=Rm(X),E&&E[mh]?E.L(j,X,Y(me)?!!me.capture:!!me,pt):Z_(E,j,X,!0,me,pt)}function Sm(E,j,X,me,pt){if(Array.isArray(j))for(var Ot=0;Ot<j.length;Ot++)Sm(E,j[Ot],X,me,pt);else me=Y(me)?!!me.capture:!!me,X=Rm(X),E&&E[mh]?(E=E.i,(j=String(j).toString())in E.g&&-1<(X=Cf(Ot=E.g[j],X,me,pt))&&(wm(Ot[X]),Array.prototype.splice.call(Ot,X,1),0==Ot.length&&(delete E.g[j],E.h--))):E&&(E=Xp(E))&&(j=E.g[j.toString()],E=-1,j&&(E=Cf(j,X,me,pt)),(X=-1<E?j[E]:null)&&Hl(X))}function Hl(E){if("number"!=typeof E&&E&&!E.da){var j=E.src;if(j&&j[mh])Am(j.i,E);else{var X=E.type,me=E.proxy;j.removeEventListener?j.removeEventListener(X,me,E.capture):j.detachEvent?j.detachEvent(Dv(X),me):j.addListener&&j.removeListener&&j.removeListener(me),(X=Xp(j))?(Am(X,E),0==X.h&&(X.src=null,j[Yp]=null)):wm(E)}}}function Dv(E){return E in wv?wv[E]:wv[E]="on"+E}function zE(E,j){if(E.da)E=!0;else{j=new Kp(j,this);var X=E.listener,me=E.ha||E.src;E.fa&&Hl(E),E=X.call(me,j)}return E}function Xp(E){return(E=E[Yp])instanceof qp?E:null}var ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(E){return"function"==typeof E?E:(E[ey]||(E[ey]=function(j){return E.handleEvent(j)}),E[ey])}function Zo(){dd.call(this),this.i=new qp(this),this.M=this,this.F=null}function bo(E,j){var X,me=E.F;if(me)for(X=[];me;me=me.F)X.push(me);if(E=E.M,me=j.type||j,"string"==typeof j)j=new Jo(j,E);else if(j instanceof Jo)j.target=j.target||E;else{var pt=j;dt(j=new Jo(me,E),pt)}if(pt=!0,X)for(var Ot=X.length-1;0<=Ot;Ot--){var yn=j.g=X[Ot];pt=hd(yn,me,!0,j)&&pt}if(pt=hd(yn=j.g=E,me,!0,j)&&pt,pt=hd(yn,me,!1,j)&&pt,X)for(Ot=0;Ot<X.length;Ot++)pt=hd(yn=j.g=X[Ot],me,!1,j)&&pt}function hd(E,j,X,me){if(!(j=E.i.g[String(j)]))return!0;j=j.concat();for(var pt=!0,Ot=0;Ot<j.length;++Ot){var yn=j[Ot];if(yn&&!yn.da&&yn.capture==X){var zi=yn.listener,Vs=yn.ha||yn.src;yn.fa&&Am(E.i,yn),pt=!1!==zi.call(Vs,me)&&pt}}return pt&&!me.defaultPrevented}function ty(E,j,X){if("function"==typeof E)X&&(E=ze(E,X));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=ze(E.handleEvent,E)}return 2147483647<Number(j)?-1:P.setTimeout(E,j||0)}function Qp(E){E.g=ty(()=>{E.g=null,E.i&&(E.i=!1,Qp(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}Gt(Zo,dd),Zo.prototype[mh]=!0,Zo.prototype.removeEventListener=function(E,j,X,me){Sm(this,E,j,X,me)},Zo.prototype.N=function(){if(Zo.aa.N.call(this),this.i){var j,E=this.i;for(j in E.g){for(var X=E.g[j],me=0;me<X.length;me++)wm(X[me]);delete E.g[j],E.h--}}this.F=null},Zo.prototype.K=function(E,j,X,me){return this.i.add(String(E),j,!1,X,me)},Zo.prototype.L=function(E,j,X,me){return this.i.add(String(E),j,!0,X,me)};class Y0 extends dd{constructor(j,X){super(),this.m=j,this.l=X,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Qp(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jp(E){dd.call(this),this.h=E,this.g={}}Gt(Jp,dd);var ny=[];function ry(E){si(E.g,function(j,X){this.g.hasOwnProperty(X)&&Hl(j)},E),E.g={}}Jp.prototype.N=function(){Jp.aa.N.call(this),ry(this)},Jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iy=P.JSON.stringify,WE=P.JSON.parse,Sv=class{stringify(E){return P.JSON.stringify(E,void 0)}parse(E){return P.JSON.parse(E,void 0)}};function Pm(){}function Rv(){}Pm.prototype.h=null;var Af={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xm(){Jo.call(this,"d")}function sy(){Jo.call(this,"c")}Gt(xm,Jo),Gt(sy,Jo);var _h={},Df=null;function Mm(){return Df=Df||new Zo}function Pv(E){Jo.call(this,_h.La,E)}function Zp(E){const j=Mm();bo(j,new Pv(j))}function xv(E,j){Jo.call(this,_h.STAT_EVENT,E),this.stat=j}function ua(E){const j=Mm();bo(j,new xv(j,E))}function Mv(E,j){Jo.call(this,_h.Ma,E),this.size=j}function eg(E,j){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){E()},j)}function Sf(){this.g=!0}function yh(E,j,X,me){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+function ay(E,j){if(!E.g)return j;if(!j)return null;try{var X=JSON.parse(j);if(X)for(E=0;E<X.length;E++)if(Array.isArray(X[E])){var me=X[E];if(!(2>me.length)){var pt=me[1];if(Array.isArray(pt)&&!(1>pt.length)){var Ot=pt[0];if("noop"!=Ot&&"stop"!=Ot&&"close"!=Ot)for(var yn=1;yn<pt.length;yn++)pt[yn]=""}}}return iy(X)}catch{return j}}(E,X)+(me?" "+me:"")})}_h.La="serverreachability",Gt(Pv,Jo),_h.STAT_EVENT="statevent",Gt(xv,Jo),_h.Ma="timingevent",Gt(Mv,Jo),Sf.prototype.xa=function(){this.g=!1},Sf.prototype.info=function(){};var Rf,tg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ov={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ng(){}function uu(E,j,X,me){this.j=E,this.i=j,this.l=X,this.R=me||1,this.U=new Jp(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ly}function ly(){this.i=null,this.g="",this.h=!1}Gt(ng,Pm),ng.prototype.g=function(){return new XMLHttpRequest},ng.prototype.i=function(){return{}},Rf=new ng;var Nm={},rg={};function Fm(E,j,X){E.L=1,E.v=Of(da(j)),E.m=X,E.P=!0,KE(E,null)}function KE(E,j){E.F=Date.now(),uy(E),E.A=da(E.v);var X=E.A,me=E.R;Array.isArray(me)||(me=[String(me)]),my(X.i,"t",me),E.C=0,X=E.j.J,E.h=new ly,E.g=xa(E.j,X?j:null,!E.m),0<E.O&&(E.M=new Y0(ze(E.Y,E,E.g),E.O)),j=E.U,X=E.g,me=E.ca;var pt="readystatechange";Array.isArray(pt)||(pt&&(ny[0]=pt.toString()),pt=ny);for(var Ot=0;Ot<pt.length;Ot++){var yn=J_(X,pt[Ot],me||j.handleEvent,!1,j.h||j);if(!yn)break;j.g[yn.key]=yn}j=E.H?Ue(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),Zp(),function oy(E,j,X,me,pt,Ot){E.info(function(){if(E.g)if(Ot)for(var yn="",zi=Ot.split("&"),Vs=0;Vs<zi.length;Vs++){var Ii=zi[Vs].split("=");if(1<Ii.length){var Vo=Ii[0];Ii=Ii[1];var fo=Vo.split("_");yn=2<=fo.length&&"type"==fo[1]?yn+(Vo+"=")+Ii+"&":yn+(Vo+"=redacted&")}}else yn=null;else yn=Ot;return"XMLHTTP REQ ("+me+") [attempt "+pt+"]: "+j+"\n"+X+"\n"+yn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function cy(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Nv(E,j){var X=E.C,me=j.indexOf("\n",X);return-1==me?rg:(X=Number(j.substring(X,me)),isNaN(X)?Nm:(me+=1)+X>j.length?rg:(j=j.slice(me,me+X),E.C=me+X,j))}function uy(E){E.S=Date.now()+E.I,ig(E,E.I)}function ig(E,j){if(null!=E.B)throw Error("WatchDog timer not null");E.B=eg(ze(E.ba,E),j)}function dy(E){E.B&&(P.clearTimeout(E.B),E.B=null)}function sg(E){0==E.j.G||E.J||_d(E.j,E)}function du(E){dy(E);var j=E.M;j&&"function"==typeof j.ma&&j.ma(),E.M=null,ry(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function km(E,j){try{var X=E.j;if(0!=X.G&&(X.g==E||xf(X.h,E)))if(!E.K&&xf(X.h,E)&&3==X.G){try{var me=X.Da.g.parse(j)}catch{me=null}if(Array.isArray(me)&&3==me.length){var pt=me;if(0==pt[0]){e:if(!X.u){if(X.g){if(!(X.g.F+3e3<E.F))break e;Oc(X),jf(X)}$f(X),ua(18)}}else X.za=pt[1],0<X.za-X.T&&37500>pt[2]&&X.F&&0==X.v&&!X.C&&(X.C=eg(ze(X.Za,X),6e3));if(1>=fd(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else Kl(X,11)}else if((E.K||X.g==E)&&Oc(X),!ar(j))for(pt=X.Da.g.parse(j),j=0;j<pt.length;j++){let Ii=pt[j];if(X.T=Ii[0],Ii=Ii[1],2==X.G)if("c"==Ii[0]){X.K=Ii[1],X.ia=Ii[2];const Vo=Ii[3];null!=Vo&&(X.la=Vo,X.j.info("VER="+X.la));const fo=Ii[4];null!=fo&&(X.Aa=fo,X.j.info("SVER="+X.Aa));const Ed=Ii[5];null!=Ed&&"number"==typeof Ed&&0<Ed&&(X.L=me=1.5*Ed,X.j.info("backChannelRequestTimeoutMs_="+me)),me=X;const pa=E.g;if(pa){const Hf=pa.g?pa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hf){var Ot=me.h;Ot.g||-1==Hf.indexOf("spdy")&&-1==Hf.indexOf("quic")&&-1==Hf.indexOf("h2")||(Ot.j=Ot.l,Ot.g=new Set,Ot.h&&(Pa(Ot,Ot.h),Ot.h=null))}if(me.D){const To=pa.g?pa.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(me.ya=To,fs(me.I,me.D,To))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-E.F,X.j.info("Handshake RTT: "+X.R+"ms"));var yn=E;if((me=X).qa=hg(me,me.J?me.ia:null,me.W),yn.K){Lm(me.h,yn);var zi=yn,Vs=me.L;Vs&&(zi.I=Vs),zi.B&&(dy(zi),uy(zi)),me.g=yn}else Ph(me);0<X.i.length&&Bf(X)}else"stop"!=Ii[0]&&"close"!=Ii[0]||Kl(X,7);else 3==X.G&&("stop"==Ii[0]||"close"==Ii[0]?"stop"==Ii[0]?Kl(X,7):lg(X):"noop"!=Ii[0]&&X.l&&X.l.ta(Ii),X.v=0)}Zp()}catch{}}function Pf(E){this.l=E||10,E=P.PerformanceNavigationTiming?0<(E=P.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function fd(E){return E.h?1:E.g?E.g.size:0}function xf(E,j){return E.h?E.h==j:!!E.g&&E.g.has(j)}function Pa(E,j){E.g?E.g.add(j):E.h=j}function Lm(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}function Eh(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let j=E.i;for(const X of E.g.values())j=j.concat(X.D);return j}return un(E.i)}function Ni(E,j){if(E.forEach&&"function"==typeof E.forEach)E.forEach(j,void 0);else if(U(E)||"string"==typeof E)Array.prototype.forEach.call(E,j,void 0);else for(var X=function Th(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(U(E)||"string"==typeof E){var j=[];E=E.length;for(var X=0;X<E;X++)j.push(X);return j}j=[],X=0;for(const me in E)j[X++]=me;return j}}}(E),me=function bh(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(U(E)){for(var j=[],X=E.length,me=0;me<X;me++)j.push(E[me]);return j}for(me in j=[],X=0,E)j[X++]=E[me];return j}(E),pt=me.length,Ot=0;Ot<pt;Ot++)j.call(void 0,me[Ot],X&&X[Ot],E)}uu.prototype.ca=function(E){E=E.target;const j=this.M;j&&3==Wl(E)?j.j():this.Y(E)},uu.prototype.Y=function(E){try{if(E==this.g)e:{const fo=Wl(this.g);var j=this.g.Ba();if(this.g.Z(),!(3>fo)&&(3!=fo||this.g&&(this.h.h||this.g.oa()||ag(this.g)))){this.J||4!=fo||7==j||Zp(),dy(this);var X=this.g.Z();this.X=X;t:if(cy(this)){var me=ag(this.g);E="";var pt=me.length,Ot=4==Wl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){du(this),sg(this);var yn="";break t}this.h.i=new P.TextDecoder}for(j=0;j<pt;j++)this.h.h=!0,E+=this.h.i.decode(me[j],{stream:!(Ot&&j==pt-1)});me.length=0,this.h.g+=E,this.C=0,yn=this.h.g}else yn=this.g.oa();if(this.o=200==X,function Om(E,j,X,me,pt,Ot,yn){E.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+pt+"]: "+j+"\n"+X+"\n"+Ot+" "+yn})}(this.i,this.u,this.A,this.l,this.R,fo,X),this.o){if(this.T&&!this.K){t:{if(this.g){var zi,Vs=this.g;if((zi=Vs.g?Vs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ar(zi)){var Ii=zi;break t}}Ii=null}if(!(X=Ii)){this.o=!1,this.s=3,ua(12),du(this),sg(this);break e}yh(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,km(this,X)}if(this.P){let pa;for(X=!0;!this.J&&this.C<yn.length;){if(pa=Nv(this,yn),pa==rg){4==fo&&(this.s=4,ua(14),X=!1),yh(this.i,this.l,null,"[Incomplete Response]");break}if(pa==Nm){this.s=4,ua(15),yh(this.i,this.l,yn,"[Invalid Chunk]"),X=!1;break}yh(this.i,this.l,pa,null),km(this,pa)}if(cy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=fo||0!=yn.length||this.h.h||(this.s=1,ua(16),X=!1),this.o=this.o&&X,X){if(0<yn.length&&!this.W){this.W=!0;var Vo=this.j;Vo.g==this&&Vo.ba&&!Vo.M&&(Vo.j.info("Great, no buffering proxy detected. Bytes received: "+yn.length),dg(Vo),Vo.M=!0,ua(11))}}else yh(this.i,this.l,yn,"[Invalid Chunked Response]"),du(this),sg(this)}else yh(this.i,this.l,yn,null),km(this,yn);4==fo&&du(this),this.o&&!this.J&&(4==fo?_d(this.j,this):(this.o=!1,uy(this)))}else(function Bm(E){const j={};E=(E.g&&2<=Wl(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let me=0;me<E.length;me++){if(ar(E[me]))continue;var X=vt(E[me]);const pt=X[0];if("string"!=typeof(X=X[1]))continue;X=X.trim();const Ot=j[pt]||[];j[pt]=Ot,Ot.push(X)}!function ut(E,j){for(const X in E)j.call(void 0,E[X],X,E)}(j,function(me){return me.join(", ")})})(this.g),400==X&&0<yn.indexOf("Unknown SID")?(this.s=3,ua(12)):(this.s=0,ua(13)),du(this),sg(this)}}}catch{}},uu.prototype.cancel=function(){this.J=!0,du(this)},uu.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function vh(E,j){E.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),2!=this.L&&(Zp(),ua(17)),du(this),this.s=2,sg(this)):ig(this,this.S-E)},Pf.prototype.cancel=function(){if(this.i=Eh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var Ih=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Qa){this.h=E.h,Mc(this,E.j),this.o=E.o,this.g=E.g,Mf(this,E.s),this.l=E.l;var j=E.i,X=new og;X.i=j.i,j.g&&(X.g=new Map(j.g),X.h=j.h),Vm(this,X),this.m=E.m}else E&&(j=String(E).match(Ih))?(this.h=!1,Mc(this,j[1]||"",!0),this.o=Ch(j[2]||""),this.g=Ch(j[3]||"",!0),Mf(this,j[4]),this.l=Ch(j[5]||"",!0),Vm(this,j[6]||"",!0),this.m=Ch(j[7]||"")):(this.h=!1,this.i=new og(null,this.h))}function da(E){return new Qa(E)}function Mc(E,j,X){E.j=X?Ch(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function Mf(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function Vm(E,j,X){j instanceof og?(E.i=j,function Lv(E,j){j&&!E.j&&(hu(E),E.i=null,E.g.forEach(function(X,me){var pt=me.toLowerCase();me!=pt&&(gy(this,me),my(this,pt,X))},E)),E.j=j}(E.i,E.h)):(X||(j=wh(j,Fv)),E.i=new og(j,E.h))}function fs(E,j,X){E.i.set(j,X)}function Of(E){return fs(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ch(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function wh(E,j,X){return"string"==typeof E?(E=encodeURI(E).replace(j,hy),X&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function hy(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Qa.prototype.toString=function(){var E=[],j=this.j;j&&E.push(wh(j,fy,!0),":");var X=this.g;return(X||"file"==j)&&(E.push("//"),(j=this.o)&&E.push(wh(j,fy,!0),"@"),E.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(X=this.s)&&E.push(":",String(X))),(X=this.l)&&(this.g&&"/"!=X.charAt(0)&&E.push("/"),E.push(wh(X,"/"==X.charAt(0)?Um:py,!0))),(X=this.i.toString())&&E.push("?",X),(X=this.m)&&E.push("#",wh(X,qE)),E.join("")};var E,fy=/[#\/\?@]/g,py=/[#\?:]/g,Um=/[#\?]/g,Fv=/[#\?@]/g,qE=/#/g;function og(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function hu(E){E.g||(E.g=new Map,E.h=0,E.i&&function pd(E,j){if(E){E=E.split("&");for(var X=0;X<E.length;X++){var me=E[X].indexOf("="),pt=null;if(0<=me){var Ot=E[X].substring(0,me);pt=E[X].substring(me+1)}else Ot=E[X];j(Ot,pt?decodeURIComponent(pt.replace(/\+/g," ")):"")}}}(E.i,function(j,X){E.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}function gy(E,j){hu(E),j=Nf(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function kv(E,j){return hu(E),j=Nf(E,j),E.g.has(j)}function my(E,j,X){gy(E,j),0<X.length&&(E.i=null,E.g.set(Nf(E,j),un(X)),E.h+=X.length)}function Nf(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function zl(E,j,X,me,pt){try{pt&&(pt.onload=null,pt.onerror=null,pt.onabort=null,pt.ontimeout=null),me(X)}catch{}}function Ff(){this.g=new Sv}function jm(E,j,X){const me=X||"";try{Ni(E,function(pt,Ot){let yn=pt;Y(pt)&&(yn=iy(pt)),j.push(me+Ot+"="+encodeURIComponent(yn))})}catch(pt){throw j.push(me+"type="+encodeURIComponent("_badmap")),pt}}function fu(E){this.l=E.Ub||null,this.j=E.eb||!1}function kf(E,j){Zo.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ah(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Dh(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Lf(E)}function Lf(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Sh(E){let j="";return si(E,function(X,me){j+=me,j+=":",j+=X,j+="\r\n"}),j}function _y(E,j,X){e:{for(me in X){var me=!1;break e}me=!0}me||(X=Sh(X),"string"==typeof E?null!=X&&encodeURIComponent(String(X)):fs(E,j,X))}function Ls(E){Zo.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=og.prototype).add=function(E,j){hu(this),this.i=null,E=Nf(this,E);var X=this.g.get(E);return X||this.g.set(E,X=[]),X.push(j),this.h+=1,this},d.forEach=function(E,j){hu(this),this.g.forEach(function(X,me){X.forEach(function(pt){E.call(j,pt,me,this)},this)},this)},d.na=function(){hu(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),X=[];for(let me=0;me<j.length;me++){const pt=E[me];for(let Ot=0;Ot<pt.length;Ot++)X.push(j[me])}return X},d.V=function(E){hu(this);let j=[];if("string"==typeof E)kv(this,E)&&(j=j.concat(this.g.get(Nf(this,E))));else{E=Array.from(this.g.values());for(let X=0;X<E.length;X++)j=j.concat(E[X])}return j},d.set=function(E,j){return hu(this),this.i=null,kv(this,E=Nf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},d.get=function(E,j){return E&&0<(E=this.V(E)).length?String(E[0]):j},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var X=0;X<j.length;X++){var me=j[X];const Ot=encodeURIComponent(String(me)),yn=this.V(me);for(me=0;me<yn.length;me++){var pt=Ot;""!==yn[me]&&(pt+="="+encodeURIComponent(String(yn[me]))),E.push(pt)}}return this.i=E.join("&")},Gt(fu,Pm),fu.prototype.g=function(){return new kf(this.l,this.j)},fu.prototype.i=(E={},function(){return E}),Gt(kf,Zo),(d=kf.prototype).open=function(E,j){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,Lf(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||P).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dh(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Lf(this)),this.g&&(this.readyState=3,Lf(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ah(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?Dh(this):Lf(this),3==this.readyState&&Ah(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,Dh(this))},d.Qa=function(E){this.g&&(this.response=E,Dh(this))},d.ga=function(){this.g&&Dh(this)},d.setRequestHeader=function(E,j){this.u.append(E,j)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var X=j.next();!X.done;)E.push((X=X.value)[0]+": "+X[1]),X=j.next();return E.join("\r\n")},Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),Gt(Ls,Zo);var jv=/^https?$/i,pu=["POST","PUT"];function Vf(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,gd(E),Uf(E)}function gd(E){E.A||(E.A=!0,bo(E,"complete"),bo(E,"error"))}function md(E){if(E.h&&typeof T<"u"&&(!E.v[1]||4!=Wl(E)||2!=E.Z()))if(E.u&&4==Wl(E))ty(E.Ea,0,E);else if(bo(E,"readystatechange"),4==Wl(E)){E.h=!1;try{const yn=E.Z();e:switch(yn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var X;if(!(X=j)){var me;if(me=0===yn){var pt=String(E.D).match(Ih)[1]||null;!pt&&P.self&&P.self.location&&(pt=P.self.location.protocol.slice(0,-1)),me=!jv.test(pt?pt.toLowerCase():"")}X=me}if(X)bo(E,"complete"),bo(E,"success");else{E.m=6;try{var Ot=2<Wl(E)?E.g.statusText:""}catch{Ot=""}E.l=Ot+" ["+E.Z()+"]",gd(E)}}finally{Uf(E)}}}function Uf(E,j){if(E.g){ha(E);const X=E.g,me=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||bo(E,"ready");try{X.onreadystatechange=me}catch{}}}function ha(E){E.I&&(P.clearTimeout(E.I),E.I=null)}function Wl(E){return E.g?E.g.readyState:0}function ag(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(E,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[E]||j}function gu(E){this.Aa=0,this.i=[],this.j=new Sf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rh("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rh("baseRetryDelayMs",5e3,E),this.cb=Rh("retryDelaySeedMs",1e4,E),this.Wa=Rh("forwardChannelMaxRetries",2,E),this.wa=Rh("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Pf(E&&E.concurrentRequestLimit),this.Da=new Ff,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function lg(E){if(yy(E),3==E.G){var j=E.U++,X=da(E.I);if(fs(X,"SID",E.K),fs(X,"RID",j),fs(X,"TYPE","terminate"),cg(E,X),(j=new uu(E,E.j,j)).L=2,j.v=Of(da(X)),X=!1,P.navigator&&P.navigator.sendBeacon)try{X=P.navigator.sendBeacon(j.v.toString(),"")}catch{}!X&&P.Image&&((new Image).src=j.v,X=!0),X||(j.g=xa(j.j,null),j.g.ea(j.v)),j.F=Date.now(),uy(j)}Gm(E)}function jf(E){E.g&&(dg(E),E.g.cancel(),E.g=null)}function yy(E){jf(E),E.u&&(P.clearTimeout(E.u),E.u=null),Oc(E),E.h.cancel(),E.s&&("number"==typeof E.s&&P.clearTimeout(E.s),E.s=null)}function Bf(E){if(!Lo(E.h)&&!E.s){E.s=!0;var j=E.Ga;If||Cm(),Wp||(If(),Wp=!0),Q_.add(j,E),E.B=0}}function $m(E,j){var X;X=j?j.l:E.U++;const me=da(E.I);fs(me,"SID",E.K),fs(me,"RID",X),fs(me,"AID",E.T),cg(E,me),E.m&&E.o&&_y(me,E.m,E.o),X=new uu(E,E.j,X,E.B+1),null===E.m&&(X.H=E.o),j&&(E.i=j.D.concat(E.i)),j=ug(E,X,1e3),X.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Pa(E.h,X),Fm(X,me,j)}function cg(E,j){E.H&&si(E.H,function(X,me){fs(j,me,X)}),E.l&&Ni({},function(X,me){fs(j,me,X)})}function ug(E,j,X){X=Math.min(E.i.length,X);var me=E.l?ze(E.l.Na,E.l,E):null;e:{var pt=E.i;let Ot=-1;for(;;){const yn=["count="+X];-1==Ot?0<X?(Ot=pt[0].g,yn.push("ofs="+Ot)):Ot=0:yn.push("ofs="+Ot);let zi=!0;for(let Vs=0;Vs<X;Vs++){let Ii=pt[Vs].g;const Vo=pt[Vs].map;if(Ii-=Ot,0>Ii)Ot=Math.max(0,pt[Vs].g-100),zi=!1;else try{jm(Vo,yn,"req"+Ii+"_")}catch{me&&me(Vo)}}if(zi){me=yn.join("&");break e}}}return E=E.i.splice(0,X),j.D=E,me}function Ph(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;If||Cm(),Wp||(If(),Wp=!0),Q_.add(j,E),E.v=0}}function $f(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=eg(ze(E.Fa,E),xh(E,E.v)),E.v++,0))}function dg(E){null!=E.A&&(P.clearTimeout(E.A),E.A=null)}function Gf(E){E.g=new uu(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var j=da(E.qa);fs(j,"RID","rpc"),fs(j,"SID",E.K),fs(j,"AID",E.T),fs(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&fs(j,"TO",E.ja),fs(j,"TYPE","xmlhttp"),cg(E,j),E.m&&E.o&&_y(j,E.m,E.o),E.L&&(E.g.I=E.L);var X=E.g;E=E.ia,X.L=1,X.v=Of(da(j)),X.m=null,X.P=!0,KE(X,E)}function Oc(E){null!=E.C&&(P.clearTimeout(E.C),E.C=null)}function _d(E,j){var X=null;if(E.g==j){Oc(E),dg(E),E.g=null;var me=2}else{if(!xf(E.h,j))return;X=j.D,Lm(E.h,j),me=1}if(0!=E.G)if(j.o)if(1==me){X=j.m?j.m.length:0,j=Date.now()-j.F;var pt=E.B;bo(me=Mm(),new Mv(me,X)),Bf(E)}else Ph(E);else if(3==(pt=j.s)||0==pt&&0<j.X||!(1==me&&function vy(E,j){return!(fd(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=j.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=eg(ze(E.Ga,E,j),xh(E,E.B)),E.B++,0)))}(E,j)||2==me&&$f(E)))switch(X&&0<X.length&&(j=E.h,j.i=j.i.concat(X)),pt){case 1:Kl(E,5);break;case 4:Kl(E,10);break;case 3:Kl(E,6);break;default:Kl(E,2)}}function xh(E,j){let X=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(X*=2),X*j}function Kl(E,j){if(E.j.info("Error code "+j),2==j){var X=ze(E.fb,E),me=E.Xa;const pt=!me;me=new Qa(me||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Mc(me,"https"),Of(me),pt?function Vv(E,j){const X=new Sf;if(P.Image){const me=new Image;me.onload=Ct(zl,X,"TestLoadImage: loaded",!0,j,me),me.onerror=Ct(zl,X,"TestLoadImage: error",!1,j,me),me.onabort=Ct(zl,X,"TestLoadImage: abort",!1,j,me),me.ontimeout=Ct(zl,X,"TestLoadImage: timeout",!1,j,me),P.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=E}else j(!1)}(me.toString(),X):function Uv(E,j){new Sf;const me=new AbortController,pt=setTimeout(()=>{me.abort(),zl(0,0,!1,j)},1e4);fetch(E,{signal:me.signal}).then(Ot=>{clearTimeout(pt),zl(0,0,!!Ot.ok,j)}).catch(()=>{clearTimeout(pt),zl(0,0,!1,j)})}(me.toString(),X)}else ua(2);E.G=0,E.l&&E.l.sa(j),Gm(E),yy(E)}function Gm(E){if(E.G=0,E.ka=[],E.l){const j=Eh(E.h);(0!=j.length||0!=E.i.length)&&(nn(E.ka,j),nn(E.ka,E.i),E.h.i.length=0,un(E.i),E.i.length=0),E.l.ra()}}function hg(E,j,X){var me=X instanceof Qa?da(X):new Qa(X);if(""!=me.g)j&&(me.g=j+"."+me.g),Mf(me,me.s);else{var pt=P.location;me=pt.protocol,j=j?j+"."+pt.hostname:pt.hostname,pt=+pt.port;var Ot=new Qa(null);me&&Mc(Ot,me),j&&(Ot.g=j),pt&&Mf(Ot,pt),X&&(Ot.l=X),me=Ot}return j=E.ya,(X=E.D)&&j&&fs(me,X,j),fs(me,"VER",E.la),cg(E,me),me}function xa(E,j,X){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(j=new Ls(E.Ca&&!E.pa?new fu({eb:X}):E.pa)).Ha(E.J),j}function yd(){}function Nc(){}function fa(E,j){Zo.call(this),this.g=new gu(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!ar(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!ar(j)&&(this.g.D=j,null!==(E=this.h)&&j in E&&j in(E=this.h)&&delete E[j]),this.j=new vd(this)}function Mh(E){xm.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const X in j){E=X;break e}E=void 0}(this.i=E)&&(E=this.i,j=null!==j&&E in j?j[E]:void 0),this.data=j}else this.data=E}function Hm(){sy.call(this),this.status=1}function vd(E){this.g=E}(d=Ls.prototype).Ha=function(E){this.J=E},d.ea=function(E,j,X,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rf.g(),this.v=function wf(E){return E.h||(E.h=E.i())}(this.o?this.o:Rf),this.g.onreadystatechange=ze(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(Ot){return void Vf(this,Ot)}if(E=X||"",X=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var pt in me)X.set(pt,me[pt]);else{if("function"!=typeof me.keys||"function"!=typeof me.get)throw Error("Unknown input type for opt_headers: "+String(me));for(const Ot of me.keys())X.set(Ot,me.get(Ot))}me=Array.from(X.keys()).find(Ot=>"content-type"==Ot.toLowerCase()),pt=P.FormData&&E instanceof P.FormData,!(0<=Array.prototype.indexOf.call(pu,j,void 0))||me||pt||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ot,yn]of X)this.g.setRequestHeader(Ot,yn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ha(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ot){Vf(this,Ot)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,bo(this,"complete"),bo(this,"abort"),Uf(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uf(this,!0)),Ls.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?md(this):this.bb())},d.bb=function(){md(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Wl(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&0==j.indexOf(E)&&(j=j.substring(E.length)),WE(j)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=gu.prototype).la=8,d.G=1,d.connect=function(E,j,X,me){ua(0),this.W=E,this.H=j||{},X&&void 0!==me&&(this.H.OSID=X,this.H.OAID=me),this.F=this.X,this.I=hg(this,null,this.W),Bf(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const pt=new uu(this,this.j,E);let Ot=this.o;if(this.S&&(Ot?(Ot=Ue(Ot),dt(Ot,this.S)):Ot=this.S),null!==this.m||this.O||(pt.H=Ot,Ot=null),this.P)e:{for(var j=0,X=0;X<this.i.length;X++){var me=this.i[X];if(void 0===(me="__data__"in me.map&&"string"==typeof(me=me.map.__data__)?me.length:void 0))break;if(4096<(j+=me)){j=X;break e}if(4096===j||X===this.i.length-1){j=X+1;break e}}j=1e3}else j=1e3;j=ug(this,pt,j),fs(X=da(this.I),"RID",E),fs(X,"CVER",22),this.D&&fs(X,"X-HTTP-Session-Id",this.D),cg(this,X),Ot&&(this.O?j="headers="+encodeURIComponent(String(Sh(Ot)))+"&"+j:this.m&&_y(X,this.m,Ot)),Pa(this.h,pt),this.Ua&&fs(X,"TYPE","init"),this.P?(fs(X,"$req",j),fs(X,"SID","null"),pt.T=!0,Fm(pt,X,null)):Fm(pt,X,j),this.G=2}}else 3==this.G&&(E?$m(this,E):0==this.i.length||Lo(this.h)||$m(this))},d.Fa=function(){if(this.u=null,Gf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=eg(ze(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ua(10),jf(this),Gf(this))},d.Za=function(){null!=this.C&&(this.C=null,jf(this),$f(this),ua(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ua(2)):(this.j.info("Failed to ping google.com"),ua(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=yd.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},Nc.prototype.g=function(E,j){return new fa(E,j)},Gt(fa,Zo),fa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fa.prototype.close=function(){lg(this.g)},fa.prototype.o=function(E){var j=this.g;if("string"==typeof E){var X={};X.__data__=E,E=X}else this.u&&((X={}).__data__=iy(E),E=X);j.i.push(new class{constructor(E,j){this.g=E,this.map=j}}(j.Ya++,E)),3==j.G&&Bf(j)},fa.prototype.N=function(){this.g.l=null,delete this.j,lg(this.g),delete this.g,fa.aa.N.call(this)},Gt(Mh,xm),Gt(Hm,sy),Gt(vd,yd),vd.prototype.ua=function(){bo(this.g,"a")},vd.prototype.ta=function(E){bo(this.g,new Mh(E))},vd.prototype.sa=function(E){bo(this.g,new Hm)},vd.prototype.ra=function(){bo(this.g,"b")},Nc.prototype.createWebChannel=Nc.prototype.g,fa.prototype.send=fa.prototype.o,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,He=ie.createWebChannelTransport=function(){return new Nc},jt=ie.getStatEventTarget=function(){return Mm()},bt=ie.Event=_h,we=ie.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tg.NO_ERROR=0,tg.TIMEOUT=8,tg.HTTP_ERROR=6,qe=ie.ErrorCode=tg,Ov.COMPLETE="complete",ve=ie.EventType=Ov,Rv.EventType=Af,Af.OPEN="a",Af.CLOSE="b",Af.ERROR="c",Af.MESSAGE="d",Zo.prototype.listen=Zo.prototype.K,Be=ie.WebChannel=Rv,ie.FetchXmlHttpFactory=fu,Ls.prototype.listenOnce=Ls.prototype.L,Ls.prototype.getLastError=Ls.prototype.Ka,Ls.prototype.getLastErrorCode=Ls.prototype.Ba,Ls.prototype.getStatus=Ls.prototype.Z,Ls.prototype.getResponseJson=Ls.prototype.Oa,Ls.prototype.getResponseText=Ls.prototype.oa,Ls.prototype.send=Ls.prototype.ea,Ls.prototype.setWithCredentials=Ls.prototype.Ha,pe=ie.XhrIo=Ls}).apply(typeof K<"u"?K:typeof self<"u"?self:typeof window<"u"?window:{});const Ae="@firebase/firestore";class Ze{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let Ke="10.14.0";const lt=new be.Vy("@firebase/firestore");function Pt(){return lt.logLevel}function ct(d){lt.setLogLevel(d)}function Ie(d,...e){if(lt.logLevel<=be.$b.DEBUG){const i=e.map(Mn);lt.debug(`Firestore (${Ke}): ${d}`,...i)}}function Qe(d,...e){if(lt.logLevel<=be.$b.ERROR){const i=e.map(Mn);lt.error(`Firestore (${Ke}): ${d}`,...i)}}function Yt(d,...e){if(lt.logLevel<=be.$b.WARN){const i=e.map(Mn);lt.warn(`Firestore (${Ke}): ${d}`,...i)}}function Mn(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Mt(d="Unexpected state"){const e=`FIRESTORE (${Ke}) INTERNAL ASSERTION FAILED: `+d;throw Qe(e),new Error(e)}function Lt(d,e){d||Mt()}function Wt(d,e){d||Mt()}function ht(d,e){return d}const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends fe.g{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rt{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}class Me{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class te{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class ye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ke{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){var l=this;Lt(void 0===this.o);let h=this.i;const y=Y=>this.i!==h?(h=this.i,i(Y)):Promise.resolve();let T=new rt;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new rt,e.enqueueRetryable(()=>y(this.currentUser))};const P=()=>{const Y=T;e.enqueueRetryable((0,s.A)(function*(){yield Y.promise,yield y(l.currentUser)}))},U=Y=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.o&&(this.auth.addAuthTokenListener(this.o),P())};this.t.onInit(Y=>U(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?U(Y):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new rt)}},0),P()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(l=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Lt("string"==typeof l.accessToken),new Me(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new Ze(e)}}class st{constructor(e,i,l){this.l=e,this.h=i,this.P=l,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nt{constructor(e,i,l){this.l=e,this.h=i,this.P=l}getToken(){return Promise.resolve(new st(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ft{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Lt(void 0===this.o);const l=y=>{null!=y.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const T=y.token!==this.R;return this.R=y.token,Ie("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?i(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>l(y))};const h=y=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>h(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?h(y):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Lt("string"==typeof i.token),this.R=i.token,new Ft(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let l=0;l<d;l++)i[l]=Math.floor(256*Math.random());return i}class Fn{static newId(){const i=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=rn(40);for(let y=0;y<h.length;++y)l.length<20&&h[y]<i&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[y]%62))}return l}}function Qt(d,e){return d<e?-1:d>e?1:0}function jn(d,e,i){return d.length===e.length&&d.every((l,h)=>i(l,e[h]))}function Pn(d){return d+"\0"}class Ht{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new it(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*i));return new Ht(i,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Ht(0,0))}static max(){return new Vt(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _r{constructor(e,i,l){void 0===i?i=0:i>e.length&&Mt(),void 0===l?l=e.length-i:l>e.length-i&&Mt(),this.segments=e,this.offset=i,this.len=l}get length(){return this.len}isEqual(e){return 0===_r.comparator(this,e)}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(l=>{i.push(l)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,l=this.limit();i<l;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const l=Math.min(e.length,i.length);for(let h=0;h<l;h++){const y=e.get(h),T=i.get(h);if(y<T)return-1;if(y>T)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class sn extends _r{construct(e,i,l){return new sn(e,i,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const l of e){if(l.indexOf("//")>=0)throw new it(Ve.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);i.push(...l.split("/").filter(h=>h.length>0))}return new sn(i)}static emptyPath(){return new sn([])}}const Rr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends _r{construct(e,i,l){return new Yn(e,i,l)}static isValidIdentifier(e){return Rr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const i=[];let l="",h=0;const y=()=>{if(0===l.length)throw new it(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(l),l=""};let T=!1;for(;h<e.length;){const P=e[h];if("\\"===P){if(h+1===e.length)throw new it(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[h+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new it(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=U,h+=2}else"`"===P?(T=!T,h++):"."!==P||T?(l+=P,h++):(y(),h++)}if(y(),T)throw new it(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(i)}static emptyPath(){return new Yn([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(sn.fromString(e))}static fromName(e){return new Bt(sn.fromString(e).popFirst(5))}static empty(){return new Bt(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,i){return sn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new sn(e.slice()))}}class En{constructor(e,i,l,h){this.indexId=e,this.collectionGroup=i,this.fields=l,this.indexState=h}}function $n(d){return d.fields.find(e=>2===e.kind)}function Tn(d){return d.fields.filter(e=>2!==e.kind)}En.UNKNOWN_ID=-1;class Ar{constructor(e,i){this.fieldPath=e,this.kind=i}}class Hn{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new Hn(0,on.min())}}function ui(d,e){const i=d.toTimestamp().seconds,l=d.toTimestamp().nanoseconds+1,h=Vt.fromTimestamp(1e9===l?new Ht(i+1,0):new Ht(i,l));return new on(h,Bt.empty(),e)}function ys(d){return new on(d.readTime,d.key,-1)}class on{constructor(e,i,l){this.readTime=e,this.documentKey=i,this.largestBatchId=l}static min(){return new on(Vt.min(),Bt.empty(),-1)}static max(){return new on(Vt.max(),Bt.empty(),-1)}}function ei(d,e){let i=d.readTime.compareTo(e.readTime);return 0!==i?i:(i=Bt.comparator(d.documentKey,e.documentKey),0!==i?i:Qt(d.largestBatchId,e.largestBatchId))}const Qn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class br{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gn(d){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.A)(function*(d){if(d.code!==Ve.FAILED_PRECONDITION||d.message!==Qn)throw d;Ie("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ot((l,h)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(l,h)},this.catchCallback=y=>{this.wrapFailure(i,y).next(l,h)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ot?i:ot.resolve(i)}catch(i){return ot.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ot.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ot.reject(i)}static resolve(e){return new ot((i,l)=>{i(e)})}static reject(e){return new ot((i,l)=>{l(e)})}static waitFor(e){return new ot((i,l)=>{let h=0,y=0,T=!1;e.forEach(P=>{++h,P.next(()=>{++y,T&&y===h&&i()},U=>l(U))}),T=!0,y===h&&i()})}static or(e){let i=ot.resolve(!1);for(const l of e)i=i.next(h=>h?ot.resolve(h):l());return i}static forEach(e,i){const l=[];return e.forEach((h,y)=>{l.push(i.call(this,h,y))}),this.waitFor(l)}static mapArray(e,i){return new ot((l,h)=>{const y=e.length,T=new Array(y);let P=0;for(let U=0;U<y;U++){const Y=U;i(e[Y]).next(le=>{T[Y]=le,++P,P===y&&l(T)},le=>h(le))}})}static doWhile(e,i){return new ot((l,h)=>{const y=()=>{!0===e()?i().next(()=>{y()},h):l()};y()})}}class Et{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.V=new rt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Kt(e,i.error)):this.V.resolve()},this.transaction.onerror=l=>{const h=At(l.target.error);this.V.reject(new Kt(e,h))}}static open(e,i,l,h){try{return new Et(i,e.transaction(h,l))}catch(y){throw new Kt(i,y)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const i=this.transaction.objectStore(e);return new Fr(i)}}class he{constructor(e,i,l){this.name=e,this.version=i,this.p=l,12.2===he.S((0,fe.ZQ)())&&Qe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),Tr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,fe.zW)())return!1;if(he.v())return!0;const e=(0,fe.ZQ)(),i=he.S(e),l=0<i&&i<10,h=Fe(e),y=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||y)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,i){return e.store(i)}static S(e){const i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(l)}M(e){var i=this;return(0,s.A)(function*(){return i.db||(Ie("SimpleDb","Opening database:",i.name),i.db=yield new Promise((l,h)=>{const y=indexedDB.open(i.name,i.version);y.onsuccess=T=>{l(T.target.result)},y.onblocked=()=>{h(new Kt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=T=>{const P=T.target.error;h("VersionError"===P.name?new it(Ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new it(Ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Kt(e,P))},y.onupgradeneeded=T=>{Ie("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',T.oldVersion),i.p.O(T.target.result,y.transaction,T.oldVersion,i.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=l=>i.N(l)),i.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,l,h){var y=this;return(0,s.A)(function*(){const T="readonly"===i;let P=0;for(;;){++P;try{y.db=yield y.M(e);const U=Et.open(y.db,e,T?"readonly":"readwrite",l),Y=h(U).next(le=>(U.g(),le)).catch(le=>(U.abort(le),ot.reject(le))).toPromise();return Y.catch(()=>{}),yield U.m,Y}catch(U){const Y=U,le="FirebaseError"!==Y.name&&P<3;if(Ie("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",le),y.close(),!le)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Fe(d){const e=d.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class It{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Tr(this.B.delete())}}class Kt extends it{constructor(e,i){super(Ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Ln(d){return"IndexedDbTransactionError"===d.name}class Fr{constructor(e){this.store=e}put(e,i){let l;return void 0!==i?(Ie("SimpleDb","PUT",this.store.name,e,i),l=this.store.put(i,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Tr(l)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),Tr(this.store.add(e))}get(e){return Tr(this.store.get(e)).next(i=>(void 0===i&&(i=null),Ie("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),Tr(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),Tr(this.store.count())}U(e,i){const l=this.options(e,i),h=l.index?this.store.index(l.index):this.store;if("function"==typeof h.getAll){const y=h.getAll(l.range);return new ot((T,P)=>{y.onerror=U=>{P(U.target.error)},y.onsuccess=U=>{T(U.target.result)}})}{const y=this.cursor(l),T=[];return this.W(y,(P,U)=>{T.push(U)}).next(()=>T)}}G(e,i){const l=this.store.getAll(e,null===i?void 0:i);return new ot((h,y)=>{l.onerror=T=>{y(T.target.error)},l.onsuccess=T=>{h(T.target.result)}})}j(e,i){Ie("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,i);l.H=!1;const h=this.cursor(l);return this.W(h,(y,T,P)=>P.delete())}J(e,i){let l;i?l=e:(l={},i=e);const h=this.cursor(l);return this.W(h,i)}Y(e){const i=this.cursor({});return new ot((l,h)=>{i.onerror=y=>{const T=At(y.target.error);h(T)},i.onsuccess=y=>{const T=y.target.result;T?e(T.primaryKey,T.value).next(P=>{P?T.continue():l()}):l()}})}W(e,i){const l=[];return new ot((h,y)=>{e.onerror=T=>{y(T.target.error)},e.onsuccess=T=>{const P=T.target.result;if(!P)return void h();const U=new It(P),Y=i(P.primaryKey,P.value,U);if(Y instanceof ot){const le=Y.catch(Ce=>(U.done(),ot.reject(Ce)));l.push(le)}U.isDone?h():null===U.K?P.continue():P.continue(U.K)}}).next(()=>ot.waitFor(l))}options(e,i){let l;return void 0!==e&&("string"==typeof e?l=e:i=e),{index:l,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){const l=this.store.index(e.index);return e.H?l.openKeyCursor(e.range,i):l.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}}function Tr(d){return new ot((e,i)=>{d.onsuccess=l=>{e(l.target.result)},d.onerror=l=>{const h=At(l.target.error);i(h)}})}let bi=!1;function At(d){const e=he.S((0,fe.ZQ)());if(e>=12.2&&e<13){const i="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(i)>=0){const l=new it("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bi||(bi=!0,setTimeout(()=>{throw l},0)),l}}return d}class G{constructor(e,i){this.asyncQueue=e,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var i=this;Ie("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,s.A)(function*(){i.task=null;try{Ie("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(l){Ln(l)?Ie("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",l):yield Gn(l)}yield i.X(6e4)}))}}class C{constructor(e,i){this.localStore=e,this.persistence=i}ee(e=50){var i=this;return(0,s.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>i.te(l,e))})()}te(e,i){const l=new Set;let h=i,y=!0;return ot.doWhile(()=>!0===y&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(T=>{if(null!==T&&!l.has(T))return Ie("IndexBackfiller",`Processing collection: ${T}`),this.ne(e,T,h).next(P=>{h-=P,l.add(T)});y=!1})).next(()=>i-h)}ne(e,i,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(h=>this.localStore.localDocuments.getNextDocuments(e,i,h,l).next(y=>{const T=y.changes;return this.localStore.indexManager.updateIndexEntries(e,T).next(()=>this.re(h,y)).next(P=>(Ie("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,i,P))).next(()=>T.size)}))}re(e,i){let l=e;return i.changes.forEach((h,y)=>{const T=ys(y);ei(T,l)>0&&(l=T)}),new on(l.readTime,l.documentKey,Math.max(i.batchId,e.largestBatchId))}}let M=(()=>{class d{constructor(i,l){this.previousValue=i,l&&(l.sequenceNumberHandler=h=>this.ie(h),this.se=h=>l.writeSequenceNumber(h))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return d.oe=-1,d})();function V(d){return null==d}function Z(d){return 0===d&&1/d==-1/0}function je(d){return"number"==typeof d&&Number.isInteger(d)&&!Z(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function _t(d){let e="";for(let i=0;i<d.length;i++)e.length>0&&(e=an(e)),e=Xt(d.get(i),e);return an(e)}function Xt(d,e){let i=e;const l=d.length;for(let h=0;h<l;h++){const y=d.charAt(h);switch(y){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=y}}return i}function an(d){return d+"\x01\x01"}function wn(d){const e=d.length;if(Lt(e>=2),2===e)return Lt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),sn.emptyPath();const i=e-2,l=[];let h="";for(let y=0;y<e;){const T=d.indexOf("\x01",y);switch((T<0||T>i)&&Mt(),d.charAt(T+1)){case"\x01":const P=d.substring(y,T);let U;0===h.length?U=P:(h+=P,U=h,h=""),l.push(U);break;case"\x10":h+=d.substring(y,T),h+="\0";break;case"\x11":h+=d.substring(y,T+1);break;default:Mt()}y=T+2}return new sn(l)}const vr=["userId","batchId"];function ln(d,e){return[d,_t(e)]}function $r(d,e,i){return[d,_t(e),i]}const ir={},Us=["prefixPath","collectionGroup","readTime","documentId"],Fi=["prefixPath","collectionGroup","documentId"],vs=["collectionGroup","readTime","prefixPath","documentId"],Es=["canonicalId","targetId"],pi=["targetId","path"],sr=["path","targetId"],xs=["collectionId","parent"],Dt=["indexId","uid"],at=["uid","sequenceNumber"],xt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cn=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],On=["userId","collectionPath","largestBatchId"],ur=["userId","collectionGroup","largestBatchId"],Ur=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zr=[...Ur,"documentOverlays"],dr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ji=dr,Ms=[...Ji,"indexConfiguration","indexState","indexEntries"],is=Ms,Co=[...Ms,"globals"];class wo extends br{constructor(e,i){super(),this._e=e,this.currentSequenceNumber=i}}function ji(d,e){const i=ht(d);return he.F(i._e,e)}function jo(d){let e=0;for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e++;return e}function oi(d,e){for(const i in d)Object.prototype.hasOwnProperty.call(d,i)&&e(i,d[i])}function bs(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Wr{constructor(e,i){this.comparator=e,this.root=i||Mi.EMPTY}insert(e,i){return new Wr(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return i.value;l<0?i=i.left:l>0&&(i=i.right)}return null}indexOf(e){let i=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return i+l.left.size;h<0?l=l.left:(i+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,l)=>(e(i,l),!1))}toString(){const e=[];return this.inorderTraversal((i,l)=>(e.push(`${i}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,i,l,h){this.isReverse=h,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=i?l(e.key,i):1,i&&h&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,i,l,h,y){this.key=e,this.value=i,this.color=l??Mi.RED,this.left=h??Mi.EMPTY,this.right=y??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,l,h,y){return new Mi(e??this.key,i??this.value,l??this.color,h??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,l){let h=this;const y=l(e,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(e,i,l),null):0===y?h.copy(null,i,null,null,null):h.copy(null,null,null,null,h.right.insert(e,i,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let l,h=this;if(i(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,i),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===i(e,h.key)){if(h.right.isEmpty())return Mi.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,i))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(e,i,l,h,y){return this}insert(e,i,l){return new Mi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cr{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,l)=>(e(i),!1))}forEachInRange(e,i){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;i(h.key)}}forEachWhile(e,i){let l;for(l=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ao(this.data.getIterator())}getIteratorFrom(e){return new ao(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(l=>{i=i.add(l)}),i}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const i=this.data.getIterator(),l=e.data.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=l.getNext().key;if(0!==this.comparator(h,y))return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Cr(this.comparator);return i.data=e,i}}class ao{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ao(d){return d.hasNext()?d.getNext():void 0}class di{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new di([])}unionWith(e){let i=new Cr(Yn.comparator);for(const l of this.fields)i=i.add(l);for(const l of e)i=i.add(l);return new di(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return jn(this.fields,e.fields,(i,l)=>i.isEqual(l))}}class Na extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ja(){return typeof atob<"u"}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(h){try{return atob(h)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new Na("Invalid base64 string: "+y):y}}(e);return new Pi(i)}static fromUint8Array(e){const i=function(h){let y="";for(let T=0;T<h.length;++T)y+=String.fromCharCode(h[T]);return y}(e);return new Pi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const l=new Uint8Array(i.length);for(let h=0;h<i.length;h++)l[h]=i.charCodeAt(h);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(d){if(Lt(!!d),"string"==typeof d){let e=0;const i=ma.exec(d);if(Lt(!!i),i[1]){let h=i[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(d);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:ti(d.seconds),nanos:ti(d.nanos)}}function ti(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function js(d){return"string"==typeof d?Pi.fromBase64String(d):Pi.fromUint8Array(d)}function gi(d){var e,i;return"server_timestamp"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function $i(d){const e=d.mapValue.fields.__previous_value__;return gi(e)?$i(e):e}function xi(d){const e=Ks(d.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}class qn{constructor(e,i,l,h,y,T,P,U,Y){this.databaseId=e,this.appId=i,this.persistenceKey=l,this.host=h,this.ssl=y,this.forceLongPolling=T,this.autoDetectLongPolling=P,this.longPollingOptions=U,this.useFetchStreams=Y}}class Kr{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Kr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kr&&e.projectId===this.projectId&&e.database===this.database}}const ni={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wi={nullValue:"NULL_VALUE"};function jr(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?gi(d)?4:Un(d)?9007199254740991:ls(d)?10:11:Mt()}function os(d,e){if(d===e)return!0;const i=jr(d);if(i!==jr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return xi(d).isEqual(xi(e));case 3:return function(h,y){if("string"==typeof h.timestampValue&&"string"==typeof y.timestampValue&&h.timestampValue.length===y.timestampValue.length)return h.timestampValue===y.timestampValue;const T=Ks(h.timestampValue),P=Ks(y.timestampValue);return T.seconds===P.seconds&&T.nanos===P.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return y=e,js(d.bytesValue).isEqual(js(y.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,y){return ti(h.geoPointValue.latitude)===ti(y.geoPointValue.latitude)&&ti(h.geoPointValue.longitude)===ti(y.geoPointValue.longitude)}(d,e);case 2:return function(h,y){if("integerValue"in h&&"integerValue"in y)return ti(h.integerValue)===ti(y.integerValue);if("doubleValue"in h&&"doubleValue"in y){const T=ti(h.doubleValue),P=ti(y.doubleValue);return T===P?Z(T)===Z(P):isNaN(T)&&isNaN(P)}return!1}(d,e);case 9:return jn(d.arrayValue.values||[],e.arrayValue.values||[],os);case 10:case 11:return function(h,y){const T=h.mapValue.fields||{},P=y.mapValue.fields||{};if(jo(T)!==jo(P))return!1;for(const U in T)if(T.hasOwnProperty(U)&&(void 0===P[U]||!os(T[U],P[U])))return!1;return!0}(d,e);default:return Mt()}var y}function qs(d,e){return void 0!==(d.values||[]).find(i=>os(i,e))}function ki(d,e){if(d===e)return 0;const i=jr(d),l=jr(e);if(i!==l)return Qt(i,l);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(d.booleanValue,e.booleanValue);case 2:return function(y,T){const P=ti(y.integerValue||y.doubleValue),U=ti(T.integerValue||T.doubleValue);return P<U?-1:P>U?1:P===U?0:isNaN(P)?isNaN(U)?0:-1:1}(d,e);case 3:return Ts(d.timestampValue,e.timestampValue);case 4:return Ts(xi(d),xi(e));case 5:return Qt(d.stringValue,e.stringValue);case 6:return function(y,T){const P=js(y),U=js(T);return P.compareTo(U)}(d.bytesValue,e.bytesValue);case 7:return function(y,T){const P=y.split("/"),U=T.split("/");for(let Y=0;Y<P.length&&Y<U.length;Y++){const le=Qt(P[Y],U[Y]);if(0!==le)return le}return Qt(P.length,U.length)}(d.referenceValue,e.referenceValue);case 8:return function(y,T){const P=Qt(ti(y.latitude),ti(T.latitude));return 0!==P?P:Qt(ti(y.longitude),ti(T.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Ds(d.arrayValue,e.arrayValue);case 10:return function(y,T){var P,U,Y,le;const Ct=null===(P=(y.fields||{}).value)||void 0===P?void 0:P.arrayValue,Gt=null===(U=(T.fields||{}).value)||void 0===U?void 0:U.arrayValue,un=Qt((null===(Y=Ct?.values)||void 0===Y?void 0:Y.length)||0,(null===(le=Gt?.values)||void 0===le?void 0:le.length)||0);return 0!==un?un:Ds(Ct,Gt)}(d.mapValue,e.mapValue);case 11:return function(y,T){if(y===ni.mapValue&&T===ni.mapValue)return 0;if(y===ni.mapValue)return 1;if(T===ni.mapValue)return-1;const P=y.fields||{},U=Object.keys(P),Y=T.fields||{},le=Object.keys(Y);U.sort(),le.sort();for(let Ce=0;Ce<U.length&&Ce<le.length;++Ce){const ze=Qt(U[Ce],le[Ce]);if(0!==ze)return ze;const Ct=ki(P[U[Ce]],Y[le[Ce]]);if(0!==Ct)return Ct}return Qt(U.length,le.length)}(d.mapValue,e.mapValue);default:throw Mt()}}function Ts(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Qt(d,e);const i=Ks(d),l=Ks(e),h=Qt(i.seconds,l.seconds);return 0!==h?h:Qt(i.nanos,l.nanos)}function Ds(d,e){const i=d.values||[],l=e.values||[];for(let h=0;h<i.length&&h<l.length;++h){const y=ki(i[h],l[h]);if(y)return y}return Qt(i.length,l.length)}function Gr(d){return pn(d)}function pn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(i){const l=Ks(i);return`time(${l.seconds},${l.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?js(d.bytesValue).toBase64():"referenceValue"in d?Bt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(i){return`geo(${i.latitude},${i.longitude})`}(d.geoPointValue):"arrayValue"in d?function(i){let l="[",h=!0;for(const y of i.values||[])h?h=!1:l+=",",l+=pn(y);return l+"]"}(d.arrayValue):"mapValue"in d?function(i){const l=Object.keys(i.fields||{}).sort();let h="{",y=!0;for(const T of l)y?y=!1:h+=",",h+=`${T}:${pn(i.fields[T])}`;return h+"}"}(d.mapValue):Mt()}function cr(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Zi(d){return!!d&&"integerValue"in d}function as(d){return!!d&&"arrayValue"in d}function Li(d){return!!d&&"nullValue"in d}function Bs(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function qr(d){return!!d&&"mapValue"in d}function ls(d){var e,i;return"__vector__"===(null===(i=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Ss(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return oi(d.mapValue.fields,(i,l)=>e.mapValue.fields[i]=Ss(l)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(d.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ss(d.arrayValue.values[i]);return e}return Object.assign({},d)}function Un(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const mi={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function es(d){return"nullValue"in d?Wi:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?cr(Kr.empty(),Bt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?ls(d)?mi:{mapValue:{}}:Mt()}function ne(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?cr(Kr.empty(),Bt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?mi:"mapValue"in d?ls(d)?{mapValue:{}}:ni:Mt()}function ee(d,e){const i=ki(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Re(d,e){const i=ki(d.value,e.value);return 0!==i?i:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class Le{constructor(e){this.value=e}static empty(){return new Le({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let l=0;l<e.length-1;++l)if(i=(i.mapValue.fields||{})[e.get(l)],!qr(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ss(i)}setAll(e){let i=Yn.emptyPath(),l={},h=[];e.forEach((T,P)=>{if(!i.isImmediateParentOf(P)){const U=this.getFieldsMap(i);this.applyChanges(U,l,h),l={},h=[],i=P.popLast()}T?l[P.lastSegment()]=Ss(T):h.push(P.lastSegment())});const y=this.getFieldsMap(i);this.applyChanges(y,l,h)}delete(e){const i=this.field(e.popLast());qr(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=i.mapValue.fields[e.get(l)];qr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},i.mapValue.fields[e.get(l)]=h),i=h}return i.mapValue.fields}applyChanges(e,i,l){oi(i,(h,y)=>e[h]=y);for(const h of l)delete e[h]}clone(){return new Le(Ss(this.value))}}function et(d){const e=[];return oi(d.fields,(i,l)=>{const h=new Yn([i]);if(qr(l)){const y=et(l.mapValue).fields;if(0===y.length)e.push(h);else for(const T of y)e.push(h.child(T))}else e.push(h)}),new di(e)}class mt{constructor(e,i,l,h,y,T,P){this.key=e,this.documentType=i,this.version=l,this.readTime=h,this.createTime=y,this.data=T,this.documentState=P}static newInvalidDocument(e){return new mt(e,0,Vt.min(),Vt.min(),Vt.min(),Le.empty(),0)}static newFoundDocument(e,i,l,h){return new mt(e,1,i,Vt.min(),l,h,0)}static newNoDocument(e,i){return new mt(e,2,i,Vt.min(),Vt.min(),Le.empty(),0)}static newUnknownDocument(e,i){return new mt(e,3,i,Vt.min(),Vt.min(),Le.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Le.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Le.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qt{constructor(e,i){this.position=e,this.inclusive=i}}function In(d,e,i){let l=0;for(let h=0;h<d.position.length;h++){const y=e[h],T=d.position[h];if(l=y.field.isKeyField()?Bt.comparator(Bt.fromName(T.referenceValue),i.key):ki(T,i.data.field(y.field)),"desc"===y.dir&&(l*=-1),0!==l)break}return l}function hn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let i=0;i<d.position.length;i++)if(!os(d.position[i],e.position[i]))return!1;return!0}class Wn{constructor(e,i="asc"){this.field=e,this.dir=i}}function wr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class An{}class Nn extends An{constructor(e,i,l){super(),this.field=e,this.op=i,this.value=l}static create(e,i,l){return e.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(e,i,l):new Pr(e,i,l):"array-contains"===i?new to(e,l):"in"===i?new ea(e,l):"not-in"===i?new Za(e,l):"array-contains-any"===i?new ta(e,l):new Nn(e,i,l)}static createKeyFieldInFilter(e,i,l){return"in"===i?new Bo(e,l):new cs(e,l)}matches(e){const i=e.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ki(i,this.value)):null!==i&&jr(this.value)===jr(i)&&this.matchesComparison(ki(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends An{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Jn(e,i)}matches(e){return Nr(this)?void 0===this.filters.find(i=>!i.matches(e)):void 0!==this.filters.find(i=>i.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Nr(d){return"and"===d.op}function ri(d){return"or"===d.op}function Yr(d){return Vi(d)&&Nr(d)}function Vi(d){for(const e of d.filters)if(e instanceof Jn)return!1;return!0}function Ci(d){if(d instanceof Nn)return d.field.canonicalString()+d.op.toString()+Gr(d.value);if(Yr(d))return d.filters.map(e=>Ci(e)).join(",");{const e=d.filters.map(i=>Ci(i)).join(",");return`${d.op}(${e})`}}function Dr(d,e){return d instanceof Nn?(l=d,(h=e)instanceof Nn&&l.op===h.op&&l.field.isEqual(h.field)&&os(l.value,h.value)):d instanceof Jn?function(l,h){return h instanceof Jn&&l.op===h.op&&l.filters.length===h.filters.length&&l.filters.reduce((y,T,P)=>y&&Dr(T,h.filters[P]),!0)}(d,e):void Mt();var l,h}function Ti(d,e){const i=d.filters.concat(e);return Jn.create(i,d.op)}function wi(d){return d instanceof Nn?`${(i=d).field.canonicalString()} ${i.op} ${Gr(i.value)}`:d instanceof Jn?function(i){return i.op.toString()+" {"+i.getFilters().map(wi).join(" ,")+"}"}(d):"Filter";var i}class Pr extends Nn{constructor(e,i,l){super(e,i,l),this.key=Bt.fromName(l.referenceValue)}matches(e){const i=Bt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Bo extends Nn{constructor(e,i){super(e,"in",i),this.keys=Ys(0,i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class cs extends Nn{constructor(e,i){super(e,"not-in",i),this.keys=Ys(0,i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Ys(d,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(l=>Bt.fromName(l.referenceValue))}class to extends Nn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return as(i)&&qs(i.arrayValue,this.value)}}class ea extends Nn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return null!==i&&qs(this.value.arrayValue,i)}}class Za extends Nn{constructor(e,i){super(e,"not-in",i)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return null!==i&&!qs(this.value.arrayValue,i)}}class ta extends Nn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!as(i)||!i.arrayValue.values)&&i.arrayValue.values.some(l=>qs(this.value.arrayValue,l))}}class Zl{constructor(e,i=null,l=[],h=[],y=null,T=null,P=null){this.path=e,this.collectionGroup=i,this.orderBy=l,this.filters=h,this.limit=y,this.startAt=T,this.endAt=P,this.ue=null}}function us(d,e=null,i=[],l=[],h=null,y=null,T=null){return new Zl(d,e,i,l,h,y,T)}function Os(d){const e=ht(d);if(null===e.ue){let i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(l=>Ci(l)).join(","),i+="|ob:",i+=e.orderBy.map(l=>{return(y=l).field.canonicalString()+y.dir;var y}).join(","),V(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(l=>Gr(l)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(l=>Gr(l)).join(",")),e.ue=i}return e.ue}function Do(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<d.orderBy.length;i++)if(!wr(d.orderBy[i],e.orderBy[i]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let i=0;i<d.filters.length;i++)if(!Dr(d.filters[i],e.filters[i]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!hn(d.startAt,e.startAt)&&hn(d.endAt,e.endAt)}function Fa(d){return Bt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function ka(d,e){return d.filters.filter(i=>i instanceof Nn&&i.field.isEqual(e))}function _i(d,e,i){let l=Wi,h=!0;for(const y of ka(d,e)){let T=Wi,P=!0;switch(y.op){case"<":case"<=":T=es(y.value);break;case"==":case"in":case">=":T=y.value;break;case">":T=y.value,P=!1;break;case"!=":case"not-in":T=Wi}ee({value:l,inclusive:h},{value:T,inclusive:P})<0&&(l=T,h=P)}if(null!==i)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const T=i.position[y];ee({value:l,inclusive:h},{value:T,inclusive:i.inclusive})<0&&(l=T,h=i.inclusive);break}return{value:l,inclusive:h}}function So(d,e,i){let l=ni,h=!0;for(const y of ka(d,e)){let T=ni,P=!0;switch(y.op){case">=":case">":T=ne(y.value),P=!1;break;case"==":case"in":case"<=":T=y.value;break;case"<":T=y.value,P=!1;break;case"!=":case"not-in":T=ni}Re({value:l,inclusive:h},{value:T,inclusive:P})>0&&(l=T,h=P)}if(null!==i)for(let y=0;y<d.orderBy.length;++y)if(d.orderBy[y].field.isEqual(e)){const T=i.position[y];Re({value:l,inclusive:h},{value:T,inclusive:i.inclusive})>0&&(l=T,h=i.inclusive);break}return{value:l,inclusive:h}}class $o{constructor(e,i=null,l=[],h=[],y=null,T="F",P=null,U=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=l,this.filters=h,this.limit=y,this.limitType=T,this.startAt=P,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function q(d,e,i,l,h,y,T,P){return new $o(d,e,i,l,h,y,T,P)}function re(d){return new $o(d)}function B(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function de(d){return null!==d.collectionGroup}function $e(d){const e=ht(d);if(null===e.ce){e.ce=[];const i=new Set;for(const y of e.explicitOrderBy)e.ce.push(y),i.add(y.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(T){let P=new Cr(Yn.comparator);return T.filters.forEach(U=>{U.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(P=P.add(Y.field))})}),P})(e).forEach(y=>{i.has(y.canonicalString())||y.isKeyField()||e.ce.push(new Wn(y,l))}),i.has(Yn.keyField().canonicalString())||e.ce.push(new Wn(Yn.keyField(),l))}return e.ce}function fn(d){const e=ht(d);return e.le||(e.le=function Is(d,e){if("F"===d.limitType)return us(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Wn(h.field,"desc"===h.dir?"asc":"desc"));const i=d.endAt?new qt(d.endAt.position,d.endAt.inclusive):null,l=d.startAt?new qt(d.startAt.position,d.startAt.inclusive):null;return us(d.path,d.collectionGroup,e,d.filters,d.limit,i,l)}}(e,$e(d))),e.le}function Xs(d,e){const i=d.filters.concat([e]);return new $o(d.path,d.collectionGroup,d.explicitOrderBy.slice(),i,d.limit,d.limitType,d.startAt,d.endAt)}function ts(d,e,i){return new $o(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,i,d.startAt,d.endAt)}function lo(d,e){return Do(fn(d),fn(e))&&d.limitType===e.limitType}function Rs(d){return`${Os(fn(d))}|lt:${d.limitType}`}function ns(d){return`Query(target=${function(i){let l=i.path.canonicalString();return null!==i.collectionGroup&&(l+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(l+=`, filters: [${i.filters.map(h=>wi(h)).join(", ")}]`),V(i.limit)||(l+=", limit: "+i.limit),i.orderBy.length>0&&(l+=`, orderBy: [${i.orderBy.map(h=>{return`${(T=h).field.canonicalString()} (${T.dir})`;var T}).join(", ")}]`),i.startAt&&(l+=", startAt: ",l+=i.startAt.inclusive?"b:":"a:",l+=i.startAt.position.map(h=>Gr(h)).join(",")),i.endAt&&(l+=", endAt: ",l+=i.endAt.inclusive?"a:":"b:",l+=i.endAt.position.map(h=>Gr(h)).join(",")),`Target(${l})`}(fn(d))}; limitType=${d.limitType})`}function Go(d,e){return e.isFoundDocument()&&function(l,h){const y=h.key.path;return null!==l.collectionGroup?h.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(y):Bt.isDocumentKey(l.path)?l.path.isEqual(y):l.path.isImmediateParentOf(y)}(d,e)&&function(l,h){for(const y of $e(l))if(!y.field.isKeyField()&&null===h.data.field(y.field))return!1;return!0}(d,e)&&function(l,h){for(const y of l.filters)if(!y.matches(h))return!1;return!0}(d,e)&&(h=e,!((l=d).startAt&&!function(T,P,U){const Y=In(T,P,U);return T.inclusive?Y<=0:Y<0}(l.startAt,$e(l),h)||l.endAt&&!function(T,P,U){const Y=In(T,P,U);return T.inclusive?Y>=0:Y>0}(l.endAt,$e(l),h)));var l,h}function ec(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function Ps(d){return(e,i)=>{let l=!1;for(const h of $e(d)){const y=_a(h,e,i);if(0!==y)return y;l=l||h.field.isKeyField()}return 0}}function _a(d,e,i){const l=d.field.isKeyField()?Bt.comparator(e.key,i.key):function(y,T,P){const U=T.data.field(y),Y=P.data.field(y);return null!==U&&null!==Y?ki(U,Y):Mt()}(d.field,e,i);switch(d.dir){case"asc":return l;case"desc":return-1*l;default:return Mt()}}class Ki{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0!==l)for(const[h,y]of l)if(this.equalsFn(h,e))return y}has(e){return void 0!==this.get(e)}set(e,i){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,i]],void this.innerSize++;for(let y=0;y<h.length;y++)if(this.equalsFn(h[y][0],e))return void(h[y]=[e,i]);h.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[i]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(i,l)=>{for(const[h,y]of l)e(h,y)})}isEmpty(){return bs(this.inner)}size(){return this.innerSize}}const na=new Wr(Bt.comparator);function ms(){return na}const el=new Wr(Bt.comparator);function co(...d){let e=el;for(const i of d)e=e.insert(i.key,i);return e}function ra(d){let e=el;return d.forEach((i,l)=>e=e.insert(i,l.overlayedDocument)),e}function Cs(){return La()}function ya(){return La()}function La(){return new Ki(d=>d.toString(),(d,e)=>d.isEqual(e))}const Il=new Wr(Bt.comparator),Eu=new Cr(Bt.comparator);function hr(...d){let e=Eu;for(const i of d)e=e.add(i);return e}const Cl=new Cr(Qt);function go(){return Cl}function mo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Z(e)?"-0":e}}function tl(d){return{integerValue:""+d}}function bu(d,e){return je(e)?tl(e):mo(d,e)}class nl{constructor(){this._=void 0}}function Nh(d,e,i){return d instanceof wl?function(h,y){const T={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return y&&gi(y)&&(y=$i(y)),y&&(T.fields.__previous_value__=y),{mapValue:T}}(i,e):d instanceof Ho?tc(d,e):d instanceof Va?il(d,e):function(h,y){const T=Tu(h,y),P=ja(T)+ja(h.Pe);return Zi(T)&&Zi(h.Pe)?tl(P):mo(h.serializer,P)}(d,e)}function rl(d,e,i){return d instanceof Ho?tc(d,e):d instanceof Va?il(d,e):i}function Tu(d,e){return d instanceof Ua?Zi(l=e)||(y=l)&&"doubleValue"in y?e:{integerValue:0}:null;var l,y}class wl extends nl{}class Ho extends nl{constructor(e){super(),this.elements=e}}function tc(d,e){const i=sl(e);for(const l of d.elements)i.some(h=>os(h,l))||i.push(l);return{arrayValue:{values:i}}}class Va extends nl{constructor(e){super(),this.elements=e}}function il(d,e){let i=sl(e);for(const l of d.elements)i=i.filter(h=>!os(h,l));return{arrayValue:{values:i}}}class Ua extends nl{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function ja(d){return ti(d.integerValue||d.doubleValue)}function sl(d){return as(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class x{constructor(e,i){this.field=e,this.transform=i}}class ${constructor(e,i){this.version=e,this.transformResults=i}}class Q{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Q}static exists(e){return new Q(void 0,e)}static updateTime(e){return new Q(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ne(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Tt{}function Nt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Gi(d.key,Q.none()):new fr(d.key,d.data,Q.none());{const i=d.data,l=Le.empty();let h=new Cr(Yn.comparator);for(let y of e.fields)if(!h.has(y)){let T=i.field(y);null===T&&y.length>1&&(y=y.popLast(),T=i.field(y)),null===T?l.delete(y):l.set(y,T),h=h.add(y)}return new ai(d.key,l,new di(h.toArray()),Q.none())}}function kn(d,e,i){d instanceof fr?function(h,y,T){const P=h.value.clone(),U=Di(h.fieldTransforms,y,T.transformResults);P.setAll(U),y.convertToFoundDocument(T.version,P).setHasCommittedMutations()}(d,e,i):d instanceof ai?function(h,y,T){if(!Ne(h.precondition,y))return void y.convertToUnknownDocument(T.version);const P=Di(h.fieldTransforms,y,T.transformResults),U=y.data;U.setAll(Ai(h)),U.setAll(P),y.convertToFoundDocument(T.version,U).setHasCommittedMutations()}(d,e,i):e.convertToNoDocument(i.version).setHasCommittedMutations()}function Hr(d,e,i,l){return d instanceof fr?function(y,T,P,U){if(!Ne(y.precondition,T))return P;const Y=y.value.clone(),le=ds(y.fieldTransforms,U,T);return Y.setAll(le),T.convertToFoundDocument(T.version,Y).setHasLocalMutations(),null}(d,e,i,l):d instanceof ai?function(y,T,P,U){if(!Ne(y.precondition,T))return P;const Y=ds(y.fieldTransforms,U,T),le=T.data;return le.setAll(Ai(y)),le.setAll(Y),T.convertToFoundDocument(T.version,le).setHasLocalMutations(),null===P?null:P.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(Ce=>Ce.field))}(d,e,i,l):(P=i,Ne(d.precondition,T=e)?(T.convertToNoDocument(T.version).setHasLocalMutations(),null):P);var T,P}function ii(d,e){let i=null;for(const l of d.fieldTransforms){const h=e.data.field(l.field),y=Tu(l.transform,h||null);null!=y&&(null===i&&(i=Le.empty()),i.set(l.field,y))}return i||null}function Xr(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(l=d.fieldTransforms)&&void 0===h||l&&h&&jn(l,h,(y,T)=>function se(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(l=d.transform)instanceof Ho&&h instanceof Ho||l instanceof Va&&h instanceof Va?jn(l.elements,h.elements,os):l instanceof Ua&&h instanceof Ua?os(l.Pe,h.Pe):l instanceof wl&&h instanceof wl);var l,h}(y,T))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var l,h}class fr extends Tt{constructor(e,i,l,h=[]){super(),this.key=e,this.value=i,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ai extends Tt{constructor(e,i,l,h,y=[]){super(),this.key=e,this.data=i,this.fieldMask=l,this.precondition=h,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function Ai(d){const e=new Map;return d.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const l=d.data.field(i);e.set(i,l)}}),e}function Di(d,e,i){const l=new Map;Lt(d.length===i.length);for(let h=0;h<i.length;h++){const y=d[h],T=y.transform,P=e.data.field(y.field);l.set(y.field,rl(T,P,i[h]))}return l}function ds(d,e,i){const l=new Map;for(const h of d){const y=h.transform,T=i.data.field(h.field);l.set(h.field,Nh(y,T,e))}return l}class Gi extends Tt{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class no extends Tt{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qi{constructor(e,i,l,h){this.batchId=e,this.localWriteTime=i,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,i){const l=i.mutationResults;for(let h=0;h<this.mutations.length;h++){const y=this.mutations[h];y.key.isEqual(e.key)&&kn(y,e,l[h])}}applyToLocalView(e,i){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(i=Hr(l,e,i,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(i=Hr(l,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const l=ya();return this.mutations.forEach(h=>{const y=e.get(h.key),T=y.overlayedDocument;let P=this.applyToLocalView(T,y.mutatedFields);P=i.has(h.key)?null:P;const U=Nt(T,P);null!==U&&l.set(h.key,U),T.isValidDocument()||T.convertToNoDocument(Vt.min())}),l}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),hr())}isEqual(e){return this.batchId===e.batchId&&jn(this.mutations,e.mutations,(i,l)=>Xr(i,l))&&jn(this.baseMutations,e.baseMutations,(i,l)=>Xr(i,l))}}class Ro{constructor(e,i,l,h){this.batch=e,this.commitVersion=i,this.mutationResults=l,this.docVersions=h}static from(e,i,l){Lt(e.mutations.length===l.length);let h=Il;const y=e.mutations;for(let T=0;T<y.length;T++)h=h.insert(y[T].key,l[T].version);return new Ro(e,i,l,h)}}class rs{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Td{constructor(e,i){this.count=e,this.unchangedNames=i}}var Er,Sr;function $s(d){switch(d){default:return Mt();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0}}function Ui(d){if(void 0===d)return Qe("GRPC error has no .code"),Ve.UNKNOWN;switch(d){case Er.OK:return Ve.OK;case Er.CANCELLED:return Ve.CANCELLED;case Er.UNKNOWN:return Ve.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Ve.INTERNAL;case Er.UNAVAILABLE:return Ve.UNAVAILABLE;case Er.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Er.NOT_FOUND:return Ve.NOT_FOUND;case Er.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Er.ABORTED:return Ve.ABORTED;case Er.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Er.DATA_LOSS:return Ve.DATA_LOSS;default:return Mt()}}(Sr=Er||(Er={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";function Iu(){return new TextEncoder}const ol=new Te([4294967295,4294967295],0);function Hi(d){const e=Iu().encode(d),i=new xe;return i.update(e),new Uint8Array(i.digest())}function Fh(d){const e=new DataView(d.buffer),i=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),y=e.getUint32(12,!0);return[new Te([i,l],0),new Te([h,y],0)]}class Cu{constructor(e,i,l){if(this.bitmap=e,this.padding=i,this.hashCount=l,i<0||i>=8)throw new Po(`Invalid padding: ${i}`);if(l<0)throw new Po(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new Po(`Invalid hash count: ${l}`);if(0===e.length&&0!==i)throw new Po(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Te.fromNumber(this.Ie)}Ee(e,i,l){let h=e.add(i.multiply(Te.fromNumber(l)));return 1===h.compare(ol)&&(h=new Te([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const i=Hi(e),[l,h]=Fh(i);for(let y=0;y<this.hashCount;y++){const T=this.Ee(l,h,y);if(!this.de(T))return!1}return!0}static create(e,i,l){const h=e%8==0?0:8-e%8,y=new Uint8Array(Math.ceil(e/8)),T=new Cu(y,h,i);return l.forEach(P=>T.insert(P)),T}insert(e){if(0===this.Ie)return;const i=Hi(e),[l,h]=Fh(i);for(let y=0;y<this.hashCount;y++){const T=this.Ee(l,h,y);this.Ae(T)}}Ae(e){const i=Math.floor(e/8);this.bitmap[i]|=1<<e%8}}class Po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ws{constructor(e,i,l,h,y){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,i,l){const h=new Map;return h.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,i,l)),new ws(Vt.min(),h,new Wr(Qt),ms(),hr())}}class va{constructor(e,i,l,h,y){this.resumeToken=e,this.current=i,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,i,l){return new va(l,i,hr(),hr(),hr())}}class nc{constructor(e,i,l,h){this.Re=e,this.removedTargetIds=i,this.key=l,this.Ve=h}}class wu{constructor(e,i){this.targetId=e,this.me=i}}class Au{constructor(e,i,l=Pi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=i,this.resumeToken=l,this.cause=h}}class Id{constructor(){this.fe=0,this.ge=rc(),this.pe=Pi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=hr(),i=hr(),l=hr();return this.ge.forEach((h,y)=>{switch(y){case 0:e=e.add(h);break;case 2:i=i.add(h);break;case 1:l=l.add(h);break;default:Mt()}}),new va(this.pe,this.ye,e,i,l)}Ce(){this.we=!1,this.ge=rc()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Du{constructor(e){this.Le=e,this.Be=new Map,this.ke=ms(),this.qe=or(),this.Qe=new Wr(Qt)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{const l=this.Ge(i);switch(e.state){case 0:this.ze(i)&&l.De(e.resumeToken);break;case 1:l.Oe(),l.Se||l.Ce(),l.De(e.resumeToken);break;case 2:l.Oe(),l.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(l.Ne(),l.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),l.De(e.resumeToken));break;default:Mt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((l,h)=>{this.ze(h)&&i(h)})}He(e){const i=e.targetId,l=e.me.count,h=this.Je(i);if(h){const y=h.target;if(Fa(y))if(0===l){const T=new Bt(y.path);this.Ue(i,T,mt.newNoDocument(T,Vt.min()))}else Lt(1===l);else{const T=this.Ye(i);if(T!==l){const P=this.Ze(e),U=P?this.Xe(P,e,T):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:l="",padding:h=0},hashCount:y=0}=i;let T,P;try{T=js(l).toUint8Array()}catch(U){if(U instanceof Na)return Yt("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{P=new Cu(T,h,y)}catch(U){return Yt(U instanceof Po?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===P.Ie?null:P}Xe(e,i,l){return i.me.count===l-this.nt(e,i.targetId)?0:2}nt(e,i){const l=this.Le.getRemoteKeysForTarget(i);let h=0;return l.forEach(y=>{const T=this.Le.tt(),P=`projects/${T.projectId}/databases/${T.database}/documents/${y.path.canonicalString()}`;e.mightContain(P)||(this.Ue(i,y,null),h++)}),h}rt(e){const i=new Map;this.Be.forEach((y,T)=>{const P=this.Je(T);if(P){if(y.current&&Fa(P.target)){const U=new Bt(P.target.path);null!==this.ke.get(U)||this.it(T,U)||this.Ue(T,U,mt.newNoDocument(U,e))}y.be&&(i.set(T,y.ve()),y.Ce())}});let l=hr();this.qe.forEach((y,T)=>{let P=!0;T.forEachWhile(U=>{const Y=this.Je(U);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(P=!1,!1)}),P&&(l=l.add(y))}),this.ke.forEach((y,T)=>T.setReadTime(e));const h=new ws(e,i,this.Qe,this.ke,l);return this.ke=ms(),this.qe=or(),this.Qe=new Wr(Qt),h}$e(e,i){if(!this.ze(e))return;const l=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,l),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,l){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,i)?h.Fe(i,1):h.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),l&&(this.ke=this.ke.insert(i,l))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Id,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Cr(Qt),this.qe=this.qe.insert(e,i)),i}ze(e){const i=null!==this.Je(e);return i||Ie("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Id),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function or(){return new Wr(Bt.comparator)}function rc(){return new Wr(Bt.comparator)}const Vc={asc:"ASCENDING",desc:"DESCENDING"},zo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uc={and:"AND",or:"OR"};class Cd{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Zt(d,e){return d.useProto3Json||V(e)?e:{value:e}}function xo(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Su(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function ic(d,e){return xo(d,e.toTimestamp())}function Si(d){return Lt(!!d),Vt.fromTimestamp(function(i){const l=Ks(i);return new Ht(l.seconds,l.nanos)}(d))}function Ea(d,e){return Ru(d,e).canonicalString()}function Ru(d,e){const i=(h=d,new sn(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?i:i.child(e)}function Ut(d){const e=sn.fromString(d);return Lt(A(e)),e}function Ir(d,e){return Ea(d.databaseId,e.path)}function Bn(d,e){const i=Ut(e);if(i.get(1)!==d.databaseId.projectId)throw new it(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+d.databaseId.projectId);if(i.get(3)!==d.databaseId.database)throw new it(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+d.databaseId.database);return new Bt(al(i))}function Yi(d,e){return Ea(d.databaseId,e)}function Gs(d){const e=Ut(d);return 4===e.length?sn.emptyPath():al(e)}function jc(d){return new sn(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function al(d){return Lt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Mo(d,e,i){return{name:Ir(d,e),fields:i.value.mapValue.fields}}function sc(d,e,i){const l=Bn(d,e.name),h=Si(e.updateTime),y=e.createTime?Si(e.createTime):Vt.min(),T=new Le({mapValue:{fields:e.fields}}),P=mt.newFoundDocument(l,h,y,T);return i&&P.setHasCommittedMutations(),i?P.setHasCommittedMutations():P}function ll(d,e){let i;if(e instanceof fr)i={update:Mo(d,e.key,e.value)};else if(e instanceof Gi)i={delete:Ir(d,e.key)};else if(e instanceof ai)i={update:Mo(d,e.key,e.data),updateMask:N(e.fieldMask)};else{if(!(e instanceof no))return Mt();i={verify:Ir(d,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(l=>function(y,T){const P=T.transform;if(P instanceof wl)return{fieldPath:T.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Ho)return{fieldPath:T.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Va)return{fieldPath:T.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Ua)return{fieldPath:T.field.canonicalString(),increment:P.Pe};throw Mt()}(0,l))),e.precondition.isNone||(i.currentDocument=void 0!==(y=e.precondition).updateTime?{updateTime:ic(d,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Mt()),i;var y}function cl(d,e){const i=e.currentDocument?void 0!==(y=e.currentDocument).updateTime?Q.updateTime(Si(y.updateTime)):void 0!==y.exists?Q.exists(y.exists):Q.none():Q.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(T,P){let U=null;"setToServerValue"in P?(Lt("REQUEST_TIME"===P.setToServerValue),U=new wl):"appendMissingElements"in P?U=new Ho(P.appendMissingElements.values||[]):"removeAllFromArray"in P?U=new Va(P.removeAllFromArray.values||[]):"increment"in P?U=new Ua(T,P.increment):Mt();const Y=Yn.fromServerFormat(P.fieldPath);return new x(Y,U)}(d,h)):[];var y;if(e.update){const h=Bn(d,e.update.name),y=new Le({mapValue:{fields:e.update.fields}});if(e.updateMask){const T=new di((e.updateMask.fieldPaths||[]).map(le=>Yn.fromServerFormat(le)));return new ai(h,y,T,i,l)}return new fr(h,y,i,l)}if(e.delete){const h=Bn(d,e.delete);return new Gi(h,i)}if(e.verify){const h=Bn(d,e.verify);return new no(h,i)}return Mt()}function uo(d,e){return{documents:[Yi(d,e.path)]}}function Ba(d,e){const i={structuredQuery:{}},l=e.path;let h;null!==e.collectionGroup?(h=l,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=l.popLast(),i.structuredQuery.from=[{collectionId:l.lastSegment()}]),i.parent=Yi(d,h);const y=function(Y){if(0!==Y.length)return S(Jn.create(Y,"and"))}(e.filters);y&&(i.structuredQuery.where=y);const T=function(Y){if(0!==Y.length)return Y.map(le=>{return{field:ba((ze=le).field),direction:qf(ze.dir)};var ze})}(e.orderBy);T&&(i.structuredQuery.orderBy=T);const P=Zt(d,e.limit);return null!==P&&(i.structuredQuery.limit=P),e.startAt&&(i.structuredQuery.startAt={before:(Y=e.startAt).inclusive,values:Y.position}),e.endAt&&(i.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(e.endAt)),{_t:i,parent:h};var Y}function ho(d){let e=Gs(d.parent);const i=d.structuredQuery,l=i.from?i.from.length:0;let h=null;if(l>0){Lt(1===l);const le=i.from[0];le.allDescendants?h=le.collectionId:e=e.child(le.collectionId)}let y=[];i.where&&(y=function(Ce){const ze=dl(Ce);return ze instanceof Jn&&Yr(ze)?ze.getFilters():[ze]}(i.where));let T=[];i.orderBy&&(T=i.orderBy.map(ze=>{return new Wn(Al((Gt=ze).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Gt.direction));var Gt}));let P=null;i.limit&&(P=function(Ce){let ze;return ze="object"==typeof Ce?Ce.value:Ce,V(ze)?null:ze}(i.limit));let U=null;var Ce;i.startAt&&(U=new qt((Ce=i.startAt).values||[],!!Ce.before));let Y=null;return i.endAt&&(Y=function(Ce){return new qt(Ce.values||[],!Ce.before)}(i.endAt)),q(e,h,T,y,P,"F",U,Y)}function dl(d){return void 0!==d.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const l=Al(i.unaryFilter.field);return Nn.create(l,"==",{doubleValue:NaN});case"IS_NULL":const h=Al(i.unaryFilter.field);return Nn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=Al(i.unaryFilter.field);return Nn.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const T=Al(i.unaryFilter.field);return Nn.create(T,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(d):void 0!==d.fieldFilter?Nn.create(Al((i=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==d.compositeFilter?function(i){return Jn.create(i.compositeFilter.filters.map(l=>dl(l)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Mt()}}(i.compositeFilter.op))}(d):Mt();var i}function qf(d){return Vc[d]}function hl(d){return zo[d]}function xu(d){return Uc[d]}function ba(d){return{fieldPath:d.canonicalString()}}function Al(d){return Yn.fromServerFormat(d.fieldPath)}function S(d){return d instanceof Nn?function(i){if("=="===i.op){if(Bs(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NAN"}};if(Li(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Bs(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NAN"}};if(Li(i.value))return{unaryFilter:{field:ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(i.field),op:hl(i.op),value:i.value}}}(d):d instanceof Jn?function(i){const l=i.getFilters().map(h=>S(h));return 1===l.length?l[0]:{compositeFilter:{op:xu(i.op),filters:l}}}(d):Mt()}function N(d){const e=[];return d.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function A(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class F{constructor(e,i,l,h,y=Vt.min(),T=Vt.min(),P=Pi.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=i,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=P,this.expectedCount=U}withSequenceNumber(e){return new F(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new F(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Oe(d,e){const i=e.key,l={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:wt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Ir(y=d.ct,(T=e).key),fields:T.data.value.mapValue.fields,updateTime:xo(y,T.version.toTimestamp()),createTime:xo(y,T.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:i.path.toArray(),readTime:yt(e.version)};else{if(!e.isUnknownDocument())return Mt();l.unknownDocument={path:i.path.toArray(),version:yt(e.version)}}var y,T;return l}function wt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function yt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _n(d){const e=new Ht(d.seconds,d.nanoseconds);return Vt.fromTimestamp(e)}function pr(d,e){const i=(e.baseMutations||[]).map(y=>cl(d.ct,y));for(let y=0;y<e.mutations.length-1;++y)y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(e.mutations[y].updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y);const l=e.mutations.map(y=>cl(d.ct,y)),h=Ht.fromMillis(e.localWriteTimeMs);return new qi(e.batchId,h,i,l)}function nr(d){const e=_n(d.readTime),i=void 0!==d.lastLimboFreeSnapshotVersion?_n(d.lastLimboFreeSnapshotVersion):Vt.min();let l;return l=void 0!==d.query.documents?(Lt(1===(y=d.query).documents.length),fn(re(Gs(y.documents[0])))):function(y){return fn(ho(y))}(d.query),new F(l,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,i,Pi.fromBase64String(d.resumeToken));var y}function xr(d,e){const i=yt(e.snapshotVersion),l=yt(e.lastLimboFreeSnapshotVersion);let h;h=Fa(e.target)?uo(d.ct,e.target):Ba(d.ct,e.target)._t;const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Os(e.target),readTime:i,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function hi(d){const e=ho({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ts(e,e.limit,"L"):e}function fl(d,e){return new rs(e.largestBatchId,cl(d.ct,e.overlayMutation))}function Dl(d,e){const i=e.path.lastSegment();return[d,_t(e.path.popLast()),i]}function Ta(d,e,i,l){return{indexId:d,uid:e,sequenceNumber:i,readTime:yt(l.readTime),documentKey:_t(l.documentKey.path),largestBatchId:l.largestBatchId}}class Wo{getBundleMetadata(e,i){return $a(e).get(i).next(l=>{if(l)return{id:(y=l).bundleId,createTime:_n(y.createTime),version:y.version};var y})}saveBundleMetadata(e,i){return $a(e).put({bundleId:(h=i).id,createTime:yt(Si(h.createTime)),version:h.version});var h}getNamedQuery(e,i){return Bc(e).get(i).next(l=>{if(l)return{name:(y=l).name,query:hi(y.bundledQuery),readTime:_n(y.readTime)};var y})}saveNamedQuery(e,i){return Bc(e).put({name:(h=i).name,readTime:yt(Si(h.readTime)),bundledQuery:h.bundledQuery});var h}}function $a(d){return ji(d,"bundles")}function Bc(d){return ji(d,"namedQueries")}class pl{constructor(e,i){this.serializer=e,this.userId=i}static lt(e,i){return new pl(e,i.uid||"")}getOverlay(e,i){return Oo(e).get(Dl(this.userId,i)).next(l=>l?fl(this.serializer,l):null)}getOverlays(e,i){const l=Cs();return ot.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&l.set(h,y)})).next(()=>l)}saveOverlays(e,i,l){const h=[];return l.forEach((y,T)=>{const P=new rs(i,T);h.push(this.ht(e,P))}),ot.waitFor(h)}removeOverlaysForBatchId(e,i,l){const h=new Set;i.forEach(T=>h.add(_t(T.getCollectionPath())));const y=[];return h.forEach(T=>{const P=IDBKeyRange.bound([this.userId,T,l],[this.userId,T,l+1],!1,!0);y.push(Oo(e).j("collectionPathOverlayIndex",P))}),ot.waitFor(y)}getOverlaysForCollection(e,i,l){const h=Cs(),y=_t(i),T=IDBKeyRange.bound([this.userId,y,l],[this.userId,y,Number.POSITIVE_INFINITY],!0);return Oo(e).U("collectionPathOverlayIndex",T).next(P=>{for(const U of P){const Y=fl(this.serializer,U);h.set(Y.getKey(),Y)}return h})}getOverlaysForCollectionGroup(e,i,l,h){const y=Cs();let T;const P=IDBKeyRange.bound([this.userId,i,l],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Oo(e).J({index:"collectionGroupOverlayIndex",range:P},(U,Y,le)=>{const Ce=fl(this.serializer,Y);y.size()<h||Ce.largestBatchId===T?(y.set(Ce.getKey(),Ce),T=Ce.largestBatchId):le.done()}).next(()=>y)}ht(e,i){return Oo(e).put(function(h,y,T){const[P,U,Y]=Dl(y,T.mutation.key);return{userId:y,collectionPath:U,documentId:Y,collectionGroup:T.mutation.key.getCollectionGroup(),largestBatchId:T.largestBatchId,overlayMutation:ll(h.ct,T.mutation)}}(this.serializer,this.userId,i))}}function Oo(d){return ji(d,"documentOverlays")}class kh{Pt(e){return ji(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(i=>{const l=i?.value;return l?Pi.fromUint8Array(l):Pi.EMPTY_BYTE_STRING})}setSessionToken(e,i){return this.Pt(e).put({name:"sessionToken",value:i.toUint8Array()})}}class Ga{constructor(){}It(e,i){this.Tt(e,i),i.Et()}Tt(e,i){if("nullValue"in e)this.dt(i,5);else if("booleanValue"in e)this.dt(i,10),i.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(i,15),i.At(ti(e.integerValue));else if("doubleValue"in e){const l=ti(e.doubleValue);isNaN(l)?this.dt(i,13):(this.dt(i,15),Z(l)?i.At(0):i.At(l))}else if("timestampValue"in e){let l=e.timestampValue;this.dt(i,20),"string"==typeof l&&(l=Ks(l)),i.Rt(`${l.seconds||""}`),i.At(l.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,i),this.ft(i);else if("bytesValue"in e)this.dt(i,30),i.gt(js(e.bytesValue)),this.ft(i);else if("referenceValue"in e)this.yt(e.referenceValue,i);else if("geoPointValue"in e){const l=e.geoPointValue;this.dt(i,45),i.At(l.latitude||0),i.At(l.longitude||0)}else"mapValue"in e?Un(e)?this.dt(i,Number.MAX_SAFE_INTEGER):ls(e)?this.wt(e.mapValue,i):(this.St(e.mapValue,i),this.ft(i)):"arrayValue"in e?(this.bt(e.arrayValue,i),this.ft(i)):Mt()}Vt(e,i){this.dt(i,25),this.Dt(e,i)}Dt(e,i){i.Rt(e)}St(e,i){const l=e.fields||{};this.dt(i,55);for(const h of Object.keys(l))this.Vt(h,i),this.Tt(l[h],i)}wt(e,i){var l,h;const y=e.fields||{};this.dt(i,53);const T="value",P=(null===(h=null===(l=y[T].arrayValue)||void 0===l?void 0:l.values)||void 0===h?void 0:h.length)||0;this.dt(i,15),i.At(ti(P)),this.Vt(T,i),this.Tt(y[T],i)}bt(e,i){const l=e.values||[];this.dt(i,50);for(const h of l)this.Tt(h,i)}yt(e,i){this.dt(i,37),Bt.fromName(e).path.forEach(l=>{this.dt(i,60),this.Dt(l,i)})}dt(e,i){e.At(i)}ft(e){e.At(2)}}function $c(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function Mu(d){const e=64-function(l){let h=0;for(let y=0;y<8;++y){const T=$c(255&l[y]);if(h+=T,8!==T)break}return h}(d);return Math.ceil(e/8)}Ga.vt=new Ga;class Ou{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const i=e[Symbol.iterator]();let l=i.next();for(;!l.done;)this.Ft(l.value),l=i.next();this.Mt()}xt(e){const i=e[Symbol.iterator]();let l=i.next();for(;!l.done;)this.Ot(l.value),l=i.next();this.Nt()}Lt(e){for(const i of e){const l=i.charCodeAt(0);if(l<128)this.Ft(l);else if(l<2048)this.Ft(960|l>>>6),this.Ft(128|63&l);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l);else{const h=i.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const i of e){const l=i.charCodeAt(0);if(l<128)this.Ot(l);else if(l<2048)this.Ot(960|l>>>6),this.Ot(128|63&l);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|l>>>12),this.Ot(128|63&l>>>6),this.Ot(128|63&l);else{const h=i.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const i=this.qt(e),l=Mu(i);this.Qt(1+l),this.buffer[this.position++]=255&l;for(let h=i.length-l;h<i.length;++h)this.buffer[this.position++]=255&i[h]}Kt(e){const i=this.qt(e),l=Mu(i);this.Qt(1+l),this.buffer[this.position++]=~(255&l);for(let h=i.length-l;h<i.length;++h)this.buffer[this.position++]=~(255&i[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const i=function(y){const T=new DataView(new ArrayBuffer(8));return T.setFloat64(0,y,!1),new Uint8Array(T.buffer)}(e),l=0!=(128&i[0]);i[0]^=l?255:128;for(let h=1;h<i.length;++h)i[h]^=l?255:0;return i}Ft(e){const i=255&e;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(e){const i=255&e;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const i=e+this.position;if(i<=this.buffer.length)return;let l=2*this.buffer.length;l<i&&(l=i);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class Nu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Fu{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Sl{constructor(){this.jt=new Ou,this.Ht=new Nu(this.jt),this.Jt=new Fu(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class No{constructor(e,i,l,h){this.indexId=e,this.documentKey=i,this.arrayValue=l,this.directionalValue=h}Zt(){const e=this.directionalValue.length,i=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(i);return l.set(this.directionalValue,0),i!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new No(this.indexId,this.documentKey,this.arrayValue,l)}}function ia(d,e){let i=d.indexId-e.indexId;return 0!==i?i:(i=Rl(d.arrayValue,e.arrayValue),0!==i?i:(i=Rl(d.directionalValue,e.directionalValue),0!==i?i:Bt.comparator(d.documentKey,e.documentKey)))}function Rl(d,e){for(let i=0;i<d.length&&i<e.length;++i){const l=d[i]-e[i];if(0!==l)return l}return d.length-e.length}class Lh{constructor(e){this.Xt=new Cr((i,l)=>Yn.comparator(i.field,l.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const i of e.filters){const l=i;l.isInequality()?this.Xt=this.Xt.add(l):this.tn.push(l)}}get nn(){return this.Xt.size>1}rn(e){if(Lt(e.collectionGroup===this.collectionId),this.nn)return!1;const i=$n(e);if(void 0!==i&&!this.sn(i))return!1;const l=Tn(e);let h=new Set,y=0,T=0;for(;y<l.length&&this.sn(l[y]);++y)h=h.add(l[y].fieldPath.canonicalString());if(y===l.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!h.has(P.field.canonicalString())){const U=l[y];if(!this.on(P,U)||!this._n(this.en[T++],U))return!1}++y}for(;y<l.length;++y)if(T>=this.en.length||!this._n(this.en[T++],l[y]))return!1;return!0}an(){if(this.nn)return null;let e=new Cr(Yn.comparator);const i=[];for(const l of this.tn)if(!l.field.isKeyField())if("array-contains"===l.op||"array-contains-any"===l.op)i.push(new Ar(l.field,2));else{if(e.has(l.field))continue;e=e.add(l.field),i.push(new Ar(l.field,0))}for(const l of this.en)l.field.isKeyField()||e.has(l.field)||(e=e.add(l.field),i.push(new Ar(l.field,"asc"===l.dir?0:1)));return new En(En.UNKNOWN_ID,this.collectionId,i,Hn.empty())}sn(e){for(const i of this.tn)if(this.on(i,e))return!0;return!1}on(e,i){return!(void 0===e||!e.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,i){return!!e.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===e.dir||1===i.kind&&"desc"===e.dir)}}function Dd(d){var e,i;if(Lt(d instanceof Nn||d instanceof Jn),d instanceof Nn){if(d instanceof ea){const h=(null===(i=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===i?void 0:i.map(y=>Nn.create(d.field,"==",y)))||[];return Jn.create(h,"or")}return d}const l=d.filters.map(h=>Dd(h));return Jn.create(l,d.op)}function Cg(d){if(0===d.getFilters().length)return[];const e=Xf(Dd(d));return Lt(Yf(e)),Sd(e)||ku(e)?[e]:e.getFilters()}function Sd(d){return d instanceof Nn}function ku(d){return d instanceof Jn&&Yr(d)}function Yf(d){return Sd(d)||ku(d)||function(i){if(i instanceof Jn&&ri(i)){for(const l of i.getFilters())if(!Sd(l)&&!ku(l))return!1;return!0}return!1}(d)}function Xf(d){if(Lt(d instanceof Nn||d instanceof Jn),d instanceof Nn)return d;if(1===d.filters.length)return Xf(d.filters[0]);const e=d.filters.map(l=>Xf(l));let i=Jn.create(e,d.op);return i=Rd(i),Yf(i)?i:(Lt(i instanceof Jn),Lt(Nr(i)),Lt(i.filters.length>1),i.filters.reduce((l,h)=>Lu(l,h)))}function Lu(d,e){let i;return Lt(d instanceof Nn||d instanceof Jn),Lt(e instanceof Nn||e instanceof Jn),i=d instanceof Nn?e instanceof Nn?Jn.create([d,e],"and"):Pl(d,e):e instanceof Nn?Pl(e,d):function(h,y){if(Lt(h.filters.length>0&&y.filters.length>0),Nr(h)&&Nr(y))return Ti(h,y.getFilters());const T=ri(h)?h:y,P=ri(h)?y:h,U=T.filters.map(Y=>Lu(Y,P));return Jn.create(U,"or")}(d,e),Rd(i)}function Pl(d,e){if(Nr(e))return Ti(e,d.getFilters());{const i=e.filters.map(l=>Lu(d,l));return Jn.create(i,"or")}}function Rd(d){if(Lt(d instanceof Nn||d instanceof Jn),d instanceof Nn)return d;const e=d.getFilters();if(1===e.length)return Rd(e[0]);if(Vi(d))return d;const i=e.map(h=>Rd(h)),l=[];return i.forEach(h=>{h instanceof Nn?l.push(h):h instanceof Jn&&(h.op===d.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:Jn.create(l,d.op)}class oc{constructor(){this.un=new Vu}addToCollectionParentIndex(e,i){return this.un.add(i),ot.resolve()}getCollectionParents(e,i){return ot.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return ot.resolve()}deleteFieldIndex(e,i){return ot.resolve()}deleteAllFieldIndexes(e){return ot.resolve()}createTargetIndexes(e,i){return ot.resolve()}getDocumentsMatchingTarget(e,i){return ot.resolve(null)}getIndexType(e,i){return ot.resolve(0)}getFieldIndexes(e,i){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,i){return ot.resolve(on.min())}getMinOffsetFromCollectionGroup(e,i){return ot.resolve(on.min())}updateCollectionGroup(e,i,l){return ot.resolve()}updateIndexEntries(e,i){return ot.resolve()}}class Vu{constructor(){this.index={}}add(e){const i=e.lastSegment(),l=e.popLast(),h=this.index[i]||new Cr(sn.comparator),y=!h.has(l);return this.index[i]=h.add(l),y}has(e){const i=e.lastSegment(),l=e.popLast(),h=this.index[i];return h&&h.has(l)}getEntries(e){return(this.index[e]||new Cr(sn.comparator)).toArray()}}const Ko=new Uint8Array(0);class Qf{constructor(e,i){this.databaseId=i,this.cn=new Vu,this.ln=new Ki(l=>Os(l),(l,h)=>Do(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.cn.has(i)){const l=i.lastSegment(),h=i.popLast();e.addOnCommittedListener(()=>{this.cn.add(i)});const y={collectionId:l,parent:_t(h)};return Jf(e).put(y)}return ot.resolve()}getCollectionParents(e,i){const l=[],h=IDBKeyRange.bound([i,""],[Pn(i),""],!1,!0);return Jf(e).U(h).next(y=>{for(const T of y){if(T.collectionId!==i)break;l.push(wn(T.parent))}return l})}addFieldIndex(e,i){const l=Uu(e),h={indexId:(P=i).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var P;delete h.indexId;const y=l.add(h);if(i.indexState){const T=yo(e);return y.next(P=>{T.put(Ta(P,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return y.next()}deleteFieldIndex(e,i){const l=Uu(e),h=yo(e),y=_o(e);return l.delete(i.indexId).next(()=>h.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const i=Uu(e),l=_o(e),h=yo(e);return i.j().next(()=>l.j()).next(()=>h.j())}createTargetIndexes(e,i){return ot.forEach(this.hn(i),l=>this.getIndexType(e,l).next(h=>{if(0===h||1===h){const y=new Lh(l).an();if(null!=y)return this.addFieldIndex(e,y)}}))}getDocumentsMatchingTarget(e,i){const l=_o(e);let h=!0;const y=new Map;return ot.forEach(this.hn(i),T=>this.Pn(e,T).next(P=>{h&&(h=!!P),y.set(T,P)})).next(()=>{if(h){let T=hr();const P=[];return ot.forEach(y,(U,Y)=>{var Xn;Ie("IndexedDbIndexManager",`Using index ${Xn=U,`id=${Xn.indexId}|cg=${Xn.collectionGroup}|f=${Xn.fields.map(Mr=>`${Mr.fieldPath}:${Mr.kind}`).join(",")}`} to execute ${Os(i)}`);const le=function(Xn,Mr){const Oi=$n(Mr);if(void 0===Oi)return null;for(const si of ka(Xn,Oi.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(Y,U),Ce=function(Xn,Mr){const Oi=new Map;for(const si of Tn(Mr))for(const ut of ka(Xn,si.fieldPath))switch(ut.op){case"==":case"in":Oi.set(si.fieldPath.canonicalString(),ut.value);break;case"not-in":case"!=":return Oi.set(si.fieldPath.canonicalString(),ut.value),Array.from(Oi.values())}return null}(Y,U),ze=function(Xn,Mr){const Oi=[];let si=!0;for(const ut of Tn(Mr)){const Ue=0===ut.kind?_i(Xn,ut.fieldPath,Xn.startAt):So(Xn,ut.fieldPath,Xn.startAt);Oi.push(Ue.value),si&&(si=Ue.inclusive)}return new qt(Oi,si)}(Y,U),Ct=function(Xn,Mr){const Oi=[];let si=!0;for(const ut of Tn(Mr)){const Ue=0===ut.kind?So(Xn,ut.fieldPath,Xn.endAt):_i(Xn,ut.fieldPath,Xn.endAt);Oi.push(Ue.value),si&&(si=Ue.inclusive)}return new qt(Oi,si)}(Y,U),Gt=this.In(U,Y,ze),un=this.In(U,Y,Ct),nn=this.Tn(U,Y,Ce),zn=this.En(U.indexId,le,Gt,ze.inclusive,un,Ct.inclusive,nn);return ot.forEach(zn,ar=>l.G(ar,i.limit).next(Xn=>{Xn.forEach(Mr=>{const Oi=Bt.fromSegments(Mr.documentKey);T.has(Oi)||(T=T.add(Oi),P.push(Oi))})}))}).next(()=>P)}return ot.resolve(null)})}hn(e){let i=this.ln.get(e);return i||(i=0===e.filters.length?[e]:Cg(Jn.create(e.filters,"and")).map(l=>us(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,i),i)}En(e,i,l,h,y,T,P){const U=(null!=i?i.length:1)*Math.max(l.length,y.length),Y=U/(null!=i?i.length:1),le=[];for(let Ce=0;Ce<U;++Ce){const ze=i?this.dn(i[Ce/Y]):Ko,Ct=this.An(e,ze,l[Ce%Y],h),Gt=this.Rn(e,ze,y[Ce%Y],T),un=P.map(nn=>this.An(e,ze,nn,!0));le.push(...this.createRange(Ct,Gt,un))}return le}An(e,i,l,h){const y=new No(e,Bt.empty(),i,l);return h?y:y.Zt()}Rn(e,i,l,h){const y=new No(e,Bt.empty(),i,l);return h?y.Zt():y}Pn(e,i){const l=new Lh(i),h=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,h).next(y=>{let T=null;for(const P of y)l.rn(P)&&(!T||P.fields.length>T.fields.length)&&(T=P);return T})}getIndexType(e,i){let l=2;const h=this.hn(i);return ot.forEach(h,y=>this.Pn(e,y).next(T=>{T?0!==l&&T.fields.length<function(U){let Y=new Cr(Yn.comparator),le=!1;for(const Ce of U.filters)for(const ze of Ce.getFlattenedFilters())ze.field.isKeyField()||("array-contains"===ze.op||"array-contains-any"===ze.op?le=!0:Y=Y.add(ze.field));for(const Ce of U.orderBy)Ce.field.isKeyField()||(Y=Y.add(Ce.field));return Y.size+(le?1:0)}(y)&&(l=1):l=0})).next(()=>null!==i.limit&&h.length>1&&2===l?1:l)}Vn(e,i){const l=new Sl;for(const h of Tn(e)){const y=i.data.field(h.fieldPath);if(null==y)return null;const T=l.Yt(h.kind);Ga.vt.It(y,T)}return l.zt()}dn(e){const i=new Sl;return Ga.vt.It(e,i.Yt(0)),i.zt()}mn(e,i){const l=new Sl;return Ga.vt.It(cr(this.databaseId,i),l.Yt(function(y){const T=Tn(y);return 0===T.length?0:T[T.length-1].kind}(e))),l.zt()}Tn(e,i,l){if(null===l)return[];let h=[];h.push(new Sl);let y=0;for(const T of Tn(e)){const P=l[y++];for(const U of h)if(this.fn(i,T.fieldPath)&&as(P))h=this.gn(h,T,P);else{const Y=U.Yt(T.kind);Ga.vt.It(P,Y)}}return this.pn(h)}In(e,i,l){return this.Tn(e,i,l.position)}pn(e){const i=[];for(let l=0;l<e.length;++l)i[l]=e[l].zt();return i}gn(e,i,l){const h=[...e],y=[];for(const T of l.arrayValue.values||[])for(const P of h){const U=new Sl;U.seed(P.zt()),Ga.vt.It(T,U.Yt(i.kind)),y.push(U)}return y}fn(e,i){return!!e.filters.find(l=>l instanceof Nn&&l.field.isEqual(i)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,i){const l=Uu(e),h=yo(e);return(i?l.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):l.U()).next(y=>{const T=[];return ot.forEach(y,P=>h.get([P.indexId,this.uid]).next(U=>{T.push(function(le,Ce){const ze=Ce?new Hn(Ce.sequenceNumber,new on(_n(Ce.readTime),new Bt(wn(Ce.documentKey)),Ce.largestBatchId)):Hn.empty(),Ct=le.fields.map(([Gt,un])=>new Ar(Yn.fromServerFormat(Gt),un));return new En(le.indexId,le.collectionGroup,Ct,ze)}(P,U))})).next(()=>T)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>0===i.length?null:(i.sort((l,h)=>{const y=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==y?y:Qt(l.collectionGroup,h.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,l){const h=Uu(e),y=yo(e);return this.yn(e).next(T=>h.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(P=>ot.forEach(P,U=>y.put(Ta(U.indexId,this.uid,T,l)))))}updateIndexEntries(e,i){const l=new Map;return ot.forEach(i,(h,y)=>{const T=l.get(h.collectionGroup);return(T?ot.resolve(T):this.getFieldIndexes(e,h.collectionGroup)).next(P=>(l.set(h.collectionGroup,P),ot.forEach(P,U=>this.wn(e,h,U).next(Y=>{const le=this.Sn(y,U);return Y.isEqual(le)?ot.resolve():this.bn(e,y,U,Y,le)}))))})}Dn(e,i,l,h){return _o(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(l,i.key),documentKey:i.key.path.toArray()})}vn(e,i,l,h){return _o(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(l,i.key),i.key.path.toArray()])}wn(e,i,l){const h=_o(e);let y=new Cr(ia);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.mn(l,i)])},(T,P)=>{y=y.add(new No(l.indexId,i,P.arrayValue,P.directionalValue))}).next(()=>y)}Sn(e,i){let l=new Cr(ia);const h=this.Vn(i,e);if(null==h)return l;const y=$n(i);if(null!=y){const T=e.data.field(y.fieldPath);if(as(T))for(const P of T.arrayValue.values||[])l=l.add(new No(i.indexId,e.key,this.dn(P),h))}else l=l.add(new No(i.indexId,e.key,Ko,h));return l}bn(e,i,l,h,y){Ie("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const T=[];return function(U,Y,le,Ce,ze){const Ct=U.getIterator(),Gt=Y.getIterator();let un=Ao(Ct),nn=Ao(Gt);for(;un||nn;){let zn=!1,ar=!1;if(un&&nn){const Xn=le(un,nn);Xn<0?ar=!0:Xn>0&&(zn=!0)}else null!=un?ar=!0:zn=!0;zn?(Ce(nn),nn=Ao(Gt)):ar?(ze(un),un=Ao(Ct)):(un=Ao(Ct),nn=Ao(Gt))}}(h,y,ia,P=>{T.push(this.Dn(e,i,l,P))},P=>{T.push(this.vn(e,i,l,P))}),ot.waitFor(T)}yn(e){let i=1;return yo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,y)=>{y.done(),i=h.sequenceNumber+1}).next(()=>i)}createRange(e,i,l){l=l.sort((T,P)=>ia(T,P)).filter((T,P,U)=>!P||0!==ia(T,U[P-1]));const h=[];h.push(e);for(const T of l){const P=ia(T,e),U=ia(T,i);if(0===P)h[0]=e.Zt();else if(P>0&&U<0)h.push(T),h.push(T.Zt());else if(U>0)break}h.push(i);const y=[];for(let T=0;T<h.length;T+=2){if(this.Cn(h[T],h[T+1]))return[];y.push(IDBKeyRange.bound([h[T].indexId,this.uid,h[T].arrayValue,h[T].directionalValue,Ko,[]],[h[T+1].indexId,this.uid,h[T+1].arrayValue,h[T+1].directionalValue,Ko,[]]))}return y}Cn(e,i){return ia(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(Pd)}getMinOffset(e,i){return ot.mapArray(this.hn(i),l=>this.Pn(e,l).next(h=>h||Mt())).next(Pd)}}function Jf(d){return ji(d,"collectionParents")}function _o(d){return ji(d,"indexEntries")}function Uu(d){return ji(d,"indexConfiguration")}function yo(d){return ji(d,"indexState")}function Pd(d){Lt(0!==d.length);let e=d[0].indexState.offset,i=e.largestBatchId;for(let l=1;l<d.length;l++){const h=d[l].indexState.offset;ei(h,e)<0&&(e=h),i<h.largestBatchId&&(i=h.largestBatchId)}return new on(e.readTime,e.documentKey,i)}const ac={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ns{constructor(e,i,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Ns(e,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vh(d,e,i){const l=d.store("mutations"),h=d.store("documentMutations"),y=[],T=IDBKeyRange.only(i.batchId);let P=0;const U=l.J({range:T},(le,Ce,ze)=>(P++,ze.delete()));y.push(U.next(()=>{Lt(1===P)}));const Y=[];for(const le of i.mutations){const Ce=$r(e,le.key.path,i.batchId);y.push(h.delete(Ce)),Y.push(le.key)}return ot.waitFor(y).next(()=>Y)}function Ha(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Mt();e=d.noDocument}return JSON.stringify(e).length}Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(41943040,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);class sa{constructor(e,i,l,h){this.userId=e,this.serializer=i,this.indexManager=l,this.referenceDelegate=h,this.Fn={}}static lt(e,i,l,h){Lt(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new sa(y,i,l,h)}checkEmpty(e){let i=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gl(e).J({index:"userMutationsIndex",range:l},(h,y,T)=>{i=!1,T.done()}).next(()=>i)}addMutationBatch(e,i,l,h){const y=lc(e),T=gl(e);return T.add({}).next(P=>{Lt("number"==typeof P);const U=new qi(P,i,l,h),Y=function(Ct,Gt,un){const nn=un.baseMutations.map(ar=>ll(Ct.ct,ar)),zn=un.mutations.map(ar=>ll(Ct.ct,ar));return{userId:Gt,batchId:un.batchId,localWriteTimeMs:un.localWriteTime.toMillis(),baseMutations:nn,mutations:zn}}(this.serializer,this.userId,U),le=[];let Ce=new Cr((ze,Ct)=>Qt(ze.canonicalString(),Ct.canonicalString()));for(const ze of h){const Ct=$r(this.userId,ze.key.path,P);Ce=Ce.add(ze.key.path.popLast()),le.push(T.put(Y)),le.push(y.put(Ct,ir))}return Ce.forEach(ze=>{le.push(this.indexManager.addToCollectionParentIndex(e,ze))}),e.addOnCommittedListener(()=>{this.Fn[P]=U.keys()}),ot.waitFor(le).next(()=>U)})}lookupMutationBatch(e,i){return gl(e).get(i).next(l=>l?(Lt(l.userId===this.userId),pr(this.serializer,l)):null)}Mn(e,i){return this.Fn[i]?ot.resolve(this.Fn[i]):this.lookupMutationBatch(e,i).next(l=>{if(l){const h=l.keys();return this.Fn[i]=h,h}return null})}getNextMutationBatchAfterBatchId(e,i){const l=i+1,h=IDBKeyRange.lowerBound([this.userId,l]);let y=null;return gl(e).J({index:"userMutationsIndex",range:h},(T,P,U)=>{P.userId===this.userId&&(Lt(P.batchId>=l),y=pr(this.serializer,P)),U.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return gl(e).J({index:"userMutationsIndex",range:i,reverse:!0},(h,y,T)=>{l=y.batchId,T.done()}).next(()=>l)}getAllMutationBatches(e){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gl(e).U("userMutationsIndex",i).next(l=>l.map(h=>pr(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,i){const l=ln(this.userId,i.path),h=IDBKeyRange.lowerBound(l),y=[];return lc(e).J({range:h},(T,P,U)=>{const[Y,le,Ce]=T,ze=wn(le);if(Y===this.userId&&i.path.isEqual(ze))return gl(e).get(Ce).next(Ct=>{if(!Ct)throw Mt();Lt(Ct.userId===this.userId),y.push(pr(this.serializer,Ct))});U.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new Cr(Qt);const h=[];return i.forEach(y=>{const T=ln(this.userId,y.path),P=IDBKeyRange.lowerBound(T),U=lc(e).J({range:P},(Y,le,Ce)=>{const[ze,Ct,Gt]=Y,un=wn(Ct);ze===this.userId&&y.path.isEqual(un)?l=l.add(Gt):Ce.done()});h.push(U)}),ot.waitFor(h).next(()=>this.xn(e,l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,h=l.length+1,y=ln(this.userId,l),T=IDBKeyRange.lowerBound(y);let P=new Cr(Qt);return lc(e).J({range:T},(U,Y,le)=>{const[Ce,ze,Ct]=U,Gt=wn(ze);Ce===this.userId&&l.isPrefixOf(Gt)?Gt.length===h&&(P=P.add(Ct)):le.done()}).next(()=>this.xn(e,P))}xn(e,i){const l=[],h=[];return i.forEach(y=>{h.push(gl(e).get(y).next(T=>{if(null===T)throw Mt();Lt(T.userId===this.userId),l.push(pr(this.serializer,T))}))}),ot.waitFor(h).next(()=>l)}removeMutationBatch(e,i){return Vh(e._e,this.userId,i).next(l=>(e.addOnCommittedListener(()=>{this.On(i.batchId)}),ot.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return ot.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return lc(e).J({range:l},(y,T,P)=>{if(y[0]===this.userId){const U=wn(y[1]);h.push(U)}else P.done()}).next(()=>{Lt(0===h.length)})})}containsKey(e,i){return Gc(e,this.userId,i)}Nn(e){return ju(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gc(d,e,i){const l=ln(e,i.path),h=l[1],y=IDBKeyRange.lowerBound(l);let T=!1;return lc(d).J({range:y,H:!0},(P,U,Y)=>{const[le,Ce,ze]=P;le===e&&Ce===h&&(T=!0),Y.done()}).next(()=>T)}function gl(d){return ji(d,"mutations")}function lc(d){return ji(d,"documentMutations")}function ju(d){return ji(d,"mutationQueues")}class xl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xl(0)}static kn(){return new xl(-1)}}class wg{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.qn(e).next(i=>{const l=new xl(i.highestTargetId);return i.highestTargetId=l.next(),this.Qn(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(i=>Vt.fromTimestamp(new Ht(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,l){return this.qn(e).next(h=>(h.highestListenSequenceNumber=i,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),i>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=i),this.Qn(e,h)))}addTargetData(e,i){return this.Kn(e,i).next(()=>this.qn(e).next(l=>(l.targetCount+=1,this.$n(i,l),this.Qn(e,l))))}updateTargetData(e,i){return this.Kn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Ia(e).delete(i.targetId)).next(()=>this.qn(e)).next(l=>(Lt(l.targetCount>0),l.targetCount-=1,this.Qn(e,l)))}removeTargets(e,i,l){let h=0;const y=[];return Ia(e).J((T,P)=>{const U=nr(P);U.sequenceNumber<=i&&null===l.get(U.targetId)&&(h++,y.push(this.removeTargetData(e,U)))}).next(()=>ot.waitFor(y)).next(()=>h)}forEachTarget(e,i){return Ia(e).J((l,h)=>{const y=nr(h);i(y)})}qn(e){return za(e).get("targetGlobalKey").next(i=>(Lt(null!==i),i))}Qn(e,i){return za(e).put("targetGlobalKey",i)}Kn(e,i){return Ia(e).put(xr(this.serializer,i))}$n(e,i){let l=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,l=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.qn(e).next(i=>i.targetCount)}getTargetData(e,i){const l=Os(i),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let y=null;return Ia(e).J({range:h,index:"queryTargetsIndex"},(T,P,U)=>{const Y=nr(P);Do(i,Y.target)&&(y=Y,U.done())}).next(()=>y)}addMatchingKeys(e,i,l){const h=[],y=Ml(e);return i.forEach(T=>{const P=_t(T.path);h.push(y.put({targetId:l,path:P})),h.push(this.referenceDelegate.addReference(e,l,T))}),ot.waitFor(h)}removeMatchingKeys(e,i,l){const h=Ml(e);return ot.forEach(i,y=>{const T=_t(y.path);return ot.waitFor([h.delete([l,T]),this.referenceDelegate.removeReference(e,l,y)])})}removeMatchingKeysForTargetId(e,i){const l=Ml(e),h=IDBKeyRange.bound([i],[i+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,i){const l=IDBKeyRange.bound([i],[i+1],!1,!0),h=Ml(e);let y=hr();return h.J({range:l,H:!0},(T,P,U)=>{const Y=wn(T[1]),le=new Bt(Y);y=y.add(le)}).next(()=>y)}containsKey(e,i){const l=_t(i.path),h=IDBKeyRange.bound([l],[Pn(l)],!1,!0);let y=0;return Ml(e).J({index:"documentTargetsIndex",H:!0,range:h},([T,P],U,Y)=>{0!==T&&(y++,Y.done())}).next(()=>y>0)}ot(e,i){return Ia(e).get(i).next(l=>l?nr(l):null)}}function Ia(d){return ji(d,"targets")}function za(d){return ji(d,"targetGlobal")}function Ml(d){return ji(d,"targetDocuments")}function Bu([d,e],[i,l]){const h=Qt(d,i);return 0===h?Qt(e,l):h}class Hc{constructor(e){this.Un=e,this.buffer=new Cr(Bu),this.Wn=0}Gn(){return++this.Wn}zn(e){const i=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const l=this.buffer.last();Bu(i,l)<0&&(this.buffer=this.buffer.delete(l).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ml{constructor(e,i,l){this.garbageCollector=e,this.asyncQueue=i,this.localStore=l,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var i=this;Ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,s.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(l){Ln(l)?Ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Gn(l)}yield i.Hn(3e5)}))}}class Zf{constructor(e,i){this.Jn=e,this.params=i}calculateTargetCount(e,i){return this.Jn.Yn(e).next(l=>Math.floor(i/100*l))}nthSequenceNumber(e,i){if(0===i)return ot.resolve(M.oe);const l=new Hc(i);return this.Jn.forEachTarget(e,h=>l.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>l.zn(h))).next(()=>l.maxValue)}removeTargets(e,i,l){return this.Jn.removeTargets(e,i,l)}removeOrphanedDocuments(e,i){return this.Jn.removeOrphanedDocuments(e,i)}collect(e,i){return-1===this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(ac)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ac):this.Xn(e,i))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,i){let l,h,y,T,P,U,Y;const le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),h=this.params.maximumSequenceNumbersToCollect):h=Ce,T=Date.now(),this.nthSequenceNumber(e,h))).next(Ce=>(l=Ce,P=Date.now(),this.removeTargets(e,l,i))).next(Ce=>(y=Ce,U=Date.now(),this.removeOrphanedDocuments(e,l))).next(Ce=>(Y=Date.now(),Pt()<=be.$b.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-le}ms\n\tDetermined least recently used ${h} in `+(P-T)+`ms\n\tRemoved ${y} targets in `+(U-P)+`ms\n\tRemoved ${Ce} documents in `+(Y-U)+`ms\nTotal Duration: ${Y-le}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:y,documentsRemoved:Ce})))}}class xd{constructor(e,i){this.db=e,this.garbageCollector=function hs(d,e){return new Zf(d,e)}(this,i)}Yn(e){const i=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(l=>i.next(h=>l+h))}er(e){let i=0;return this.Zn(e,l=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Zn(e,i){return this.tr(e,(l,h)=>i(h))}addReference(e,i,l){return cc(e,l)}removeReference(e,i,l){return cc(e,l)}removeTargets(e,i,l){return this.db.getTargetCache().removeTargets(e,i,l)}markPotentiallyOrphaned(e,i){return cc(e,i)}nr(e,i){return function(h,y){let T=!1;return ju(h).Y(P=>Gc(h,P,y).next(U=>(U&&(T=!0),ot.resolve(!U)))).next(()=>T)}(e,i)}removeOrphanedDocuments(e,i){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let y=0;return this.tr(e,(T,P)=>{if(P<=i){const U=this.nr(e,T).next(Y=>{if(!Y)return y++,l.getEntry(e,T).next(()=>(l.removeEntry(T,Vt.min()),Ml(e).delete([0,_t(T.path)])))});h.push(U)}}).next(()=>ot.waitFor(h)).next(()=>l.apply(e)).next(()=>y)}removeTarget(e,i){const l=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,i){return cc(e,i)}tr(e,i){const l=Ml(e);let h,y=M.oe;return l.J({index:"documentTargetsIndex"},([T,P],{path:U,sequenceNumber:Y})=>{0===T?(y!==M.oe&&i(new Bt(wn(h)),y),y=Y,h=U):y=M.oe}).next(()=>{y!==M.oe&&i(new Bt(wn(h)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cc(d,e){return Ml(d).put((h=d.currentSequenceNumber,{targetId:0,path:_t(e.path),sequenceNumber:h}));var h}class $u{constructor(){this.changes=new Ki(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const l=this.changes.get(i);return void 0!==l?ot.resolve(l):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ep{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,l){return qo(e).put(l)}removeEntry(e,i,l){return qo(e).delete(function(y,T){const P=y.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],wt(T),P[P.length-1]]}(i,l))}updateMetadata(e,i){return this.getMetadata(e).next(l=>(l.byteSize+=i,this.rr(e,l)))}getEntry(e,i){let l=mt.newInvalidDocument(i);return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oa(i))},(h,y)=>{l=this.ir(i,y)}).next(()=>l)}sr(e,i){let l={size:0,document:mt.newInvalidDocument(i)};return qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oa(i))},(h,y)=>{l={document:this.ir(i,y),size:Ha(y)}}).next(()=>l)}getEntries(e,i){let l=ms();return this._r(e,i,(h,y)=>{const T=this.ir(h,y);l=l.insert(h,T)}).next(()=>l)}ar(e,i){let l=ms(),h=new Wr(Bt.comparator);return this._r(e,i,(y,T)=>{const P=this.ir(y,T);l=l.insert(y,P),h=h.insert(y,Ha(T))}).next(()=>({documents:l,ur:h}))}_r(e,i,l){if(i.isEmpty())return ot.resolve();let h=new Cr(Hu);i.forEach(U=>h=h.add(U));const y=IDBKeyRange.bound(oa(h.first()),oa(h.last())),T=h.getIterator();let P=T.getNext();return qo(e).J({index:"documentKeyIndex",range:y},(U,Y,le)=>{const Ce=Bt.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;P&&Hu(P,Ce)<0;)l(P,null),P=T.getNext();P&&P.isEqual(Ce)&&(l(P,Y),P=T.hasNext()?T.getNext():null),P?le.$(oa(P)):le.done()}).next(()=>{for(;P;)l(P,null),P=T.hasNext()?T.getNext():null})}getDocumentsMatchingQuery(e,i,l,h,y){const T=i.path,P=[T.popLast().toArray(),T.lastSegment(),wt(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],U=[T.popLast().toArray(),T.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qo(e).U(IDBKeyRange.bound(P,U,!0)).next(Y=>{y?.incrementDocumentReadCount(Y.length);let le=ms();for(const Ce of Y){const ze=this.ir(Bt.fromSegments(Ce.prefixPath.concat(Ce.collectionGroup,Ce.documentId)),Ce);ze.isFoundDocument()&&(Go(i,ze)||h.has(ze.key))&&(le=le.insert(ze.key,ze))}return le})}getAllFromCollectionGroup(e,i,l,h){let y=ms();const T=Uh(i,l),P=Uh(i,on.max());return qo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,P,!0)},(U,Y,le)=>{const Ce=this.ir(Bt.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);y=y.insert(Ce.key,Ce),y.size===h&&le.done()}).next(()=>y)}newChangeBuffer(e){return new Md(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return uc(e).get("remoteDocumentGlobalKey").next(i=>(Lt(!!i),i))}rr(e,i){return uc(e).put("remoteDocumentGlobalKey",i)}ir(e,i){if(i){const l=function ue(d,e){let i;if(e.document)i=sc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=Bt.fromSegments(e.noDocument.path),h=_n(e.noDocument.readTime);i=mt.newNoDocument(l,h),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const l=Bt.fromSegments(e.unknownDocument.path),h=_n(e.unknownDocument.version);i=mt.newUnknownDocument(l,h)}}return e.readTime&&i.setReadTime(function(h){const y=new Ht(h[0],h[1]);return Vt.fromTimestamp(y)}(e.readTime)),i}(this.serializer,i);if(!l.isNoDocument()||!l.version.isEqual(Vt.min()))return l}return mt.newInvalidDocument(e)}}function Gu(d){return new ep(d)}class Md extends $u{constructor(e,i){super(),this.cr=e,this.trackRemovals=i,this.lr=new Ki(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const i=[];let l=0,h=new Cr((y,T)=>Qt(y.canonicalString(),T.canonicalString()));return this.changes.forEach((y,T)=>{const P=this.lr.get(y);if(i.push(this.cr.removeEntry(e,y,P.readTime)),T.isValidDocument()){const U=Oe(this.cr.serializer,T);h=h.add(y.path.popLast());const Y=Ha(U);l+=Y-P.size,i.push(this.cr.addEntry(e,y,U))}else if(l-=P.size,this.trackRemovals){const U=Oe(this.cr.serializer,T.convertToNoDocument(Vt.min()));i.push(this.cr.addEntry(e,y,U))}}),h.forEach(y=>{i.push(this.cr.indexManager.addToCollectionParentIndex(e,y))}),i.push(this.cr.updateMetadata(e,l)),ot.waitFor(i)}getFromCache(e,i){return this.cr.sr(e,i).next(l=>(this.lr.set(i,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,i){return this.cr.ar(e,i).next(({documents:l,ur:h})=>(h.forEach((y,T)=>{this.lr.set(y,{size:T,readTime:l.get(y).readTime})}),l))}}function uc(d){return ji(d,"remoteDocumentGlobal")}function qo(d){return ji(d,"remoteDocumentsV14")}function oa(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Uh(d,e){const i=e.documentKey.path.toArray();return[d,wt(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Hu(d,e){const i=d.path.toArray(),l=e.path.toArray();let h=0;for(let y=0;y<i.length-2&&y<l.length-2;++y)if(h=Qt(i[y],l[y]),h)return h;return h=Qt(i.length,l.length),h||(h=Qt(i[i.length-2],l[l.length-2]),h||Qt(i[i.length-1],l[l.length-1]))}class dc{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class jh{constructor(e,i,l,h){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,i){let l=null;return this.documentOverlayCache.getOverlay(e,i).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,i))).next(h=>(null!==l&&Hr(l.mutation,h,di.empty(),Ht.now()),h))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.getLocalViewOfDocuments(e,l,hr()).next(()=>l))}getLocalViewOfDocuments(e,i,l=hr()){const h=Cs();return this.populateOverlays(e,h,i).next(()=>this.computeViews(e,i,h,l).next(y=>{let T=co();return y.forEach((P,U)=>{T=T.insert(P,U.overlayedDocument)}),T}))}getOverlayedDocuments(e,i){const l=Cs();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,hr()))}populateOverlays(e,i,l){const h=[];return l.forEach(y=>{i.has(y)||h.push(y)}),this.documentOverlayCache.getOverlays(e,h).next(y=>{y.forEach((T,P)=>{i.set(T,P)})})}computeViews(e,i,l,h){let y=ms();const T=La(),P=La();return i.forEach((U,Y)=>{const le=l.get(Y.key);h.has(Y.key)&&(void 0===le||le.mutation instanceof ai)?y=y.insert(Y.key,Y):void 0!==le?(T.set(Y.key,le.mutation.getFieldMask()),Hr(le.mutation,Y,le.mutation.getFieldMask(),Ht.now())):T.set(Y.key,di.empty())}),this.recalculateAndSaveOverlays(e,y).next(U=>(U.forEach((Y,le)=>T.set(Y,le)),i.forEach((Y,le)=>{var Ce;return P.set(Y,new dc(le,null!==(Ce=T.get(Y))&&void 0!==Ce?Ce:null))}),P))}recalculateAndSaveOverlays(e,i){const l=La();let h=new Wr((T,P)=>T-P),y=hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(T=>{for(const P of T)P.keys().forEach(U=>{const Y=i.get(U);if(null===Y)return;let le=l.get(U)||di.empty();le=P.applyToLocalView(Y,le),l.set(U,le);const Ce=(h.get(P.batchId)||hr()).add(U);h=h.insert(P.batchId,Ce)})}).next(()=>{const T=[],P=h.getReverseIterator();for(;P.hasNext();){const U=P.getNext(),Y=U.key,le=U.value,Ce=ya();le.forEach(ze=>{if(!y.has(ze)){const Ct=Nt(i.get(ze),l.get(ze));null!==Ct&&Ce.set(ze,Ct),y=y.add(ze)}}),T.push(this.documentOverlayCache.saveOverlays(e,Y,Ce))}return ot.waitFor(T)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,i,l,h){return Bt.isDocumentKey((T=i).path)&&null===T.collectionGroup&&0===T.filters.length?this.getDocumentsMatchingDocumentQuery(e,i.path):de(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,l,h):this.getDocumentsMatchingCollectionQuery(e,i,l,h);var T}getNextDocuments(e,i,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,l,h).next(y=>{const T=h-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,l.largestBatchId,h-y.size):ot.resolve(Cs());let P=-1,U=y;return T.next(Y=>ot.forEach(Y,(le,Ce)=>(P<Ce.largestBatchId&&(P=Ce.largestBatchId),y.get(le)?ot.resolve():this.remoteDocumentCache.getEntry(e,le).next(ze=>{U=U.insert(le,ze)}))).next(()=>this.populateOverlays(e,Y,y)).next(()=>this.computeViews(e,U,Y,hr())).next(le=>({batchId:P,changes:ra(le)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Bt(i)).next(l=>{let h=co();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,i,l,h){const y=i.collectionGroup;let T=co();return this.indexManager.getCollectionParents(e,y).next(P=>ot.forEach(P,U=>{const Y=(Ce=i,ze=U.child(y),new $o(ze,null,Ce.explicitOrderBy.slice(),Ce.filters.slice(),Ce.limit,Ce.limitType,Ce.startAt,Ce.endAt));var Ce,ze;return this.getDocumentsMatchingCollectionQuery(e,Y,l,h).next(le=>{le.forEach((Ce,ze)=>{T=T.insert(Ce,ze)})})}).next(()=>T))}getDocumentsMatchingCollectionQuery(e,i,l,h){let y;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,l.largestBatchId).next(T=>(y=T,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,l,y,h))).next(T=>{y.forEach((U,Y)=>{const le=Y.getKey();null===T.get(le)&&(T=T.insert(le,mt.newInvalidDocument(le)))});let P=co();return T.forEach((U,Y)=>{const le=y.get(U);void 0!==le&&Hr(le.mutation,Y,di.empty(),Ht.now()),Go(i,Y)&&(P=P.insert(U,Y))}),P})}}class zc{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return ot.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,{id:(h=i).id,version:h.version,createTime:Si(h.createTime)}),ot.resolve();var h}getNamedQuery(e,i){return ot.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,{name:(h=i).name,query:hi(h.bundledQuery),readTime:Si(h.readTime)}),ot.resolve();var h}}class t_{constructor(){this.overlays=new Wr(Bt.comparator),this.Ir=new Map}getOverlay(e,i){return ot.resolve(this.overlays.get(i))}getOverlays(e,i){const l=Cs();return ot.forEach(i,h=>this.getOverlay(e,h).next(y=>{null!==y&&l.set(h,y)})).next(()=>l)}saveOverlays(e,i,l){return l.forEach((h,y)=>{this.ht(e,i,y)}),ot.resolve()}removeOverlaysForBatchId(e,i,l){const h=this.Ir.get(l);return void 0!==h&&(h.forEach(y=>this.overlays=this.overlays.remove(y)),this.Ir.delete(l)),ot.resolve()}getOverlaysForCollection(e,i,l){const h=Cs(),y=i.length+1,T=new Bt(i.child("")),P=this.overlays.getIteratorFrom(T);for(;P.hasNext();){const U=P.getNext().value,Y=U.getKey();if(!i.isPrefixOf(Y.path))break;Y.path.length===y&&U.largestBatchId>l&&h.set(U.getKey(),U)}return ot.resolve(h)}getOverlaysForCollectionGroup(e,i,l,h){let y=new Wr((Y,le)=>Y-le);const T=this.overlays.getIterator();for(;T.hasNext();){const Y=T.getNext().value;if(Y.getKey().getCollectionGroup()===i&&Y.largestBatchId>l){let le=y.get(Y.largestBatchId);null===le&&(le=Cs(),y=y.insert(Y.largestBatchId,le)),le.set(Y.getKey(),Y)}}const P=Cs(),U=y.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((Y,le)=>P.set(Y,le)),!(P.size()>=h)););return ot.resolve(P)}ht(e,i,l){const h=this.overlays.get(l.key);if(null!==h){const T=this.Ir.get(h.largestBatchId).delete(l.key);this.Ir.set(h.largestBatchId,T)}this.overlays=this.overlays.insert(l.key,new rs(i,l));let y=this.Ir.get(i);void 0===y&&(y=hr(),this.Ir.set(i,y)),this.Ir.set(i,y.add(l.key))}}class Ag{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(e){return ot.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ot.resolve()}}class tp{constructor(){this.Tr=new Cr(Fs.Er),this.dr=new Cr(Fs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const l=new Fs(e,i);this.Tr=this.Tr.add(l),this.dr=this.dr.add(l)}Rr(e,i){e.forEach(l=>this.addReference(l,i))}removeReference(e,i){this.Vr(new Fs(e,i))}mr(e,i){e.forEach(l=>this.removeReference(l,i))}gr(e){const i=new Bt(new sn([])),l=new Fs(i,e),h=new Fs(i,e+1),y=[];return this.dr.forEachInRange([l,h],T=>{this.Vr(T),y.push(T.key)}),y}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new Bt(new sn([])),l=new Fs(i,e),h=new Fs(i,e+1);let y=hr();return this.dr.forEachInRange([l,h],T=>{y=y.add(T.key)}),y}containsKey(e){const i=new Fs(e,0),l=this.Tr.firstAfterOrEqual(i);return null!==l&&e.isEqual(l.key)}}class Fs{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return Bt.comparator(e.key,i.key)||Qt(e.wr,i.wr)}static Ar(e,i){return Qt(e.wr,i.wr)||Bt.comparator(e.key,i.key)}}class n_{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Cr(Fs.Er)}checkEmpty(e){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,i,l,h){const y=this.Sr;this.Sr++;const T=new qi(y,i,l,h);this.mutationQueue.push(T);for(const P of h)this.br=this.br.add(new Fs(P.key,y)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return ot.resolve(T)}lookupMutationBatch(e,i){return ot.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const h=this.vr(i+1),y=h<0?0:h;return ot.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const l=new Fs(i,0),h=new Fs(i,Number.POSITIVE_INFINITY),y=[];return this.br.forEachInRange([l,h],T=>{const P=this.Dr(T.wr);y.push(P)}),ot.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,i){let l=new Cr(Qt);return i.forEach(h=>{const y=new Fs(h,0),T=new Fs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([y,T],P=>{l=l.add(P.wr)})}),ot.resolve(this.Cr(l))}getAllMutationBatchesAffectingQuery(e,i){const l=i.path,h=l.length+1;let y=l;Bt.isDocumentKey(y)||(y=y.child(""));const T=new Fs(new Bt(y),0);let P=new Cr(Qt);return this.br.forEachWhile(U=>{const Y=U.key.path;return!!l.isPrefixOf(Y)&&(Y.length===h&&(P=P.add(U.wr)),!0)},T),ot.resolve(this.Cr(P))}Cr(e){const i=[];return e.forEach(l=>{const h=this.Dr(l);null!==h&&i.push(h)}),i}removeMutationBatch(e,i){Lt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let l=this.br;return ot.forEach(i.mutations,h=>{const y=new Fs(h.key,i.batchId);return l=l.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=l})}On(e){}containsKey(e,i){const l=new Fs(i,0),h=this.br.firstAfterOrEqual(l);return ot.resolve(i.isEqual(h&&h.key))}performConsistencyCheck(e){return ot.resolve()}Fr(e,i){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Wc{constructor(e){this.Mr=e,this.docs=new Wr(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const l=i.key,h=this.docs.get(l),y=h?h.size:0,T=this.Mr(i);return this.docs=this.docs.insert(l,{document:i.mutableCopy(),size:T}),this.size+=T-y,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const l=this.docs.get(i);return ot.resolve(l?l.document.mutableCopy():mt.newInvalidDocument(i))}getEntries(e,i){let l=ms();return i.forEach(h=>{const y=this.docs.get(h);l=l.insert(h,y?y.document.mutableCopy():mt.newInvalidDocument(h))}),ot.resolve(l)}getDocumentsMatchingQuery(e,i,l,h){let y=ms();const T=i.path,P=new Bt(T.child("")),U=this.docs.getIteratorFrom(P);for(;U.hasNext();){const{key:Y,value:{document:le}}=U.getNext();if(!T.isPrefixOf(Y.path))break;Y.path.length>T.length+1||ei(ys(le),l)<=0||(h.has(le.key)||Go(i,le))&&(y=y.insert(le.key,le.mutableCopy()))}return ot.resolve(y)}getAllFromCollectionGroup(e,i,l,h){Mt()}Or(e,i){return ot.forEach(this.docs,l=>i(l))}newChangeBuffer(e){return new Kc(this)}getSize(e){return ot.resolve(this.size)}}class Kc extends $u{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?i.push(this.cr.addEntry(e,h)):this.cr.removeEntry(l)}),ot.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}class Od{constructor(e){this.persistence=e,this.Nr=new Ki(i=>Os(i),Do),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tp,this.targetCount=0,this.kr=xl.Bn()}forEachTarget(e,i){return this.Nr.forEach((l,h)=>i(h)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,i,l){return l&&(this.lastRemoteSnapshotVersion=l),i>this.Lr&&(this.Lr=i),ot.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new xl(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,ot.resolve()}updateTargetData(e,i){return this.Kn(i),ot.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,i,l){let h=0;const y=[];return this.Nr.forEach((T,P)=>{P.sequenceNumber<=i&&null===l.get(P.targetId)&&(this.Nr.delete(T),y.push(this.removeMatchingKeysForTargetId(e,P.targetId)),h++)}),ot.waitFor(y).next(()=>h)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,i){const l=this.Nr.get(i)||null;return ot.resolve(l)}addMatchingKeys(e,i,l){return this.Br.Rr(i,l),ot.resolve()}removeMatchingKeys(e,i,l){this.Br.mr(i,l);const h=this.persistence.referenceDelegate,y=[];return h&&i.forEach(T=>{y.push(h.markPotentiallyOrphaned(e,T))}),ot.waitFor(y)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),ot.resolve()}getMatchingKeysForTargetId(e,i){const l=this.Br.yr(i);return ot.resolve(l)}containsKey(e,i){return ot.resolve(this.Br.containsKey(i))}}class Bh{constructor(e,i){this.qr={},this.overlays={},this.Qr=new M(0),this.Kr=!1,this.Kr=!0,this.$r=new Ag,this.referenceDelegate=e(this),this.Ur=new Od(this),this.indexManager=new oc,this.remoteDocumentCache=new Wc(l=>this.referenceDelegate.Wr(l)),this.serializer=new H(i),this.Gr=new zc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new t_,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let l=this.qr[e.toKey()];return l||(l=new n_(i,this.referenceDelegate),this.qr[e.toKey()]=l),l}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,l){Ie("MemoryPersistence","Starting transaction:",e);const h=new Hs(this.Qr.next());return this.referenceDelegate.zr(),l(h).next(y=>this.referenceDelegate.jr(h).next(()=>y)).toPromise().then(y=>(h.raiseOnCommittedEvent(),y))}Hr(e,i){return ot.or(Object.values(this.qr).map(l=>()=>l.containsKey(e,i)))}}class Hs extends br{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Jr=new tp,this.Yr=null}static Zr(e){return new Nd(e)}get Xr(){if(this.Yr)return this.Yr;throw Mt()}addReference(e,i,l){return this.Jr.addReference(l,i),this.Xr.delete(l.toString()),ot.resolve()}removeReference(e,i,l){return this.Jr.removeReference(l,i),this.Xr.add(l.toString()),ot.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),ot.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach(h=>this.Xr.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,i.targetId).next(h=>{h.forEach(y=>this.Xr.add(y.toString()))}).next(()=>l.removeTargetData(e,i))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Xr,l=>{const h=Bt.fromPath(l);return this.ei(e,h).next(y=>{y||i.removeEntry(h,Vt.min())})}).next(()=>(this.Yr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ei(e,i).next(l=>{l?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(e){return 0}ei(e,i){return ot.or([()=>ot.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}class $h{constructor(e){this.serializer=e}O(e,i,l,h){const y=new Et("createOrUpgrade",i);var U;l<1&&h>=1&&(e.createObjectStore("owner"),(U=e).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vr,{unique:!0}),U.createObjectStore("documentMutations"),Yo(e),function(U){U.createObjectStore("remoteDocuments")}(e));let T=ot.resolve();return l<3&&h>=3&&(0!==l&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(e),Yo(e)),T=T.next(()=>function(U){const Y=U.store("targetGlobal"),le={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",le)}(y))),l<4&&h>=4&&(0!==l&&(T=T.next(()=>function(U,Y){return Y.store("mutations").U().next(le=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vr,{unique:!0});const Ce=Y.store("mutations"),ze=le.map(Ct=>Ce.put(Ct));return ot.waitFor(ze)})}(e,y))),T=T.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(T=T.next(()=>this.ni(y))),l<6&&h>=6&&(T=T.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(e),this.ri(y)))),l<7&&h>=7&&(T=T.next(()=>this.ii(y))),l<8&&h>=8&&(T=T.next(()=>this.si(e,y))),l<9&&h>=9&&(T=T.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(T=T.next(()=>this.oi(y))),l<11&&h>=11&&(T=T.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(T=T.next(()=>{!function(U){const Y=U.createObjectStore("documentOverlays",{keyPath:Vn});Y.createIndex("collectionPathOverlayIndex",On,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",ur,{unique:!1})}(e)})),l<13&&h>=13&&(T=T.next(()=>function(U){const Y=U.createObjectStore("remoteDocumentsV14",{keyPath:Us});Y.createIndex("documentKeyIndex",Fi),Y.createIndex("collectionGroupIndex",vs)}(e)).next(()=>this._i(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(T=T.next(()=>this.ai(e,y))),l<15&&h>=15&&(T=T.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Dt}).createIndex("sequenceNumberIndex",at,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:xt}).createIndex("documentKeyIndex",cn,{unique:!1})}(e))),l<16&&h>=16&&(T=T.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),l<17&&h>=17&&(T=T.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(e)})),T}ri(e){let i=0;return e.store("remoteDocuments").J((l,h)=>{i+=Ha(h)}).next(()=>{const l={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}ni(e){const i=e.store("mutationQueues"),l=e.store("mutations");return i.U().next(h=>ot.forEach(h,y=>{const T=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return l.U("userMutationsIndex",T).next(P=>ot.forEach(P,U=>{Lt(U.userId===y.userId);const Y=pr(this.serializer,U);return Vh(e,y.userId,Y).next(()=>{})}))}))}ii(e){const i=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const y=[];return l.J((T,P)=>{const U=new sn(T),Y=[0,_t(U)];y.push(i.get(Y).next(le=>le?ot.resolve():i.put({targetId:0,path:_t(U),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ot.waitFor(y))})}si(e,i){e.createObjectStore("collectionParents",{keyPath:xs});const l=i.store("collectionParents"),h=new Vu,y=T=>{if(h.add(T)){const P=T.lastSegment(),U=T.popLast();return l.put({collectionId:P,parent:_t(U)})}};return i.store("remoteDocuments").J({H:!0},(T,P)=>{const U=new sn(T);return y(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([T,P,U],Y)=>{const le=wn(P);return y(le.popLast())}))}oi(e){const i=e.store("targets");return i.J((l,h)=>{const y=nr(h),T=xr(this.serializer,y);return i.put(T)})}_i(e,i){const l=i.store("remoteDocuments"),h=[];return l.J((y,T)=>{const P=i.store("remoteDocumentsV14"),U=(Ce=T,Ce.document?new Bt(sn.fromString(Ce.document.name).popFirst(5)):Ce.noDocument?Bt.fromSegments(Ce.noDocument.path):Ce.unknownDocument?Bt.fromSegments(Ce.unknownDocument.path):Mt()).path.toArray(),Y={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};var Ce;h.push(P.put(Y))}).next(()=>ot.waitFor(h))}ai(e,i){const l=i.store("mutations"),h=Gu(this.serializer),y=new Bh(Nd.Zr,this.serializer.ct);return l.U().next(T=>{const P=new Map;return T.forEach(U=>{var Y;let le=null!==(Y=P.get(U.userId))&&void 0!==Y?Y:hr();pr(this.serializer,U).keys().forEach(Ce=>le=le.add(Ce)),P.set(U.userId,le)}),ot.forEach(P,(U,Y)=>{const le=new Ze(Y),Ce=pl.lt(this.serializer,le),ze=y.getIndexManager(le),Ct=sa.lt(le,this.serializer,ze,y.referenceDelegate);return new jh(h,Ct,Ce,ze).recalculateAndSaveOverlaysForDocumentKeys(new wo(i,M.oe),U).next()})})}}function Yo(d){d.createObjectStore("targetDocuments",{keyPath:pi}).createIndex("documentTargetsIndex",sr,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Es,{unique:!0}),d.createObjectStore("targetGlobal")}const Nl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fd{constructor(e,i,l,h,y,T,P,U,Y,le,Ce=17){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=l,this.ui=y,this.window=T,this.document=P,this.ci=Y,this.li=le,this.hi=Ce,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=ze=>Promise.resolve(),!Fd.D())throw new it(Ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xd(this,h),this.Ai=i+"main",this.serializer=new H(U),this.Ri=new he(this.Ai,this.hi,new $h(this.serializer)),this.$r=new kh,this.Ur=new wg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Gu(this.serializer),this.Gr=new Wo,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===le&&Qe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new it(Ve.FAILED_PRECONDITION,Nl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new M(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var i=this;return this.di=function(){var l=(0,s.A)(function*(h){if(i.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var i=(0,s.A)(function*(l){null===l.newVersion&&(yield e())});return function(l){return i.apply(this,arguments)}}())}setNetworkEnabled(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,s.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(i=>this.isPrimary&&!i?this.bi(e).next(()=>!1):!!i&&this.Di(e).next(()=>!0))).catch(e=>{if(Ln(e))return Ie("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Fl(e).get("owner").next(i=>ot.resolve(this.vi(i)))}Ci(e){return kl(e).delete(this.clientId)}Fi(){var e=this;return(0,s.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const i=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=ji(l,"clientMetadata");return h.U().next(y=>{const T=e.xi(y,18e5),P=y.filter(U=>-1===T.indexOf(U));return ot.forEach(P,U=>h.delete(U.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Vi)for(const l of i)e.Vi.removeItem(e.Oi(l.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ot.resolve(!0):Fl(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new it(Ve.FAILED_PRECONDITION,Nl);return!1}}return!(!this.networkEnabled||!this.inForeground)||kl(e).U().next(l=>void 0===this.xi(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Ie("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var e=this;return(0,s.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const l=new wo(i,M.oe);return e.bi(l).next(()=>e.Ci(l))}),e.Ri.close(),e.qi()})()}xi(e,i){return e.filter(l=>this.Mi(l.updateTimeMs,i)&&!this.Ni(l.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>kl(e).U().next(i=>this.xi(i,18e5).map(l=>l.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,i){return sa.lt(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return pl.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,i,l){Ie("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===i?"readonly":"readwrite",y=17===(U=this.hi)?Co:16===U?is:15===U?Ms:14===U?Ji:13===U?dr:12===U?zr:11===U?Ur:void Mt();var U;let T;return this.Ri.runTransaction(e,h,y,P=>(T=new wo(P,this.Qr?this.Qr.next():M.oe),"readwrite-primary"===i?this.wi(T).next(U=>!!U||this.Si(T)).next(U=>{if(!U)throw Qe(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new it(Ve.FAILED_PRECONDITION,Qn);return l(T)}).next(U=>this.Di(T).next(()=>U)):this.Ki(T).next(()=>l(T)))).then(P=>(T.raiseOnCommittedEvent(),P))}Ki(e){return Fl(e).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new it(Ve.FAILED_PRECONDITION,Nl)})}Di(e){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fl(e).put("owner",i)}static D(){return he.D()}bi(e){const i=Fl(e);return i.get("owner").next(l=>this.vi(l)?(Ie("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):ot.resolve())}Mi(e,i){const l=Date.now();return!(e<l-i||e>l&&(Qe(`Detected an update time that is in the future: ${e} > ${l}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,fe.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var i;try{const l=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(e)));return Ie("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Qe("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Qe("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fl(d){return ji(d,"owner")}function kl(d){return ji(d,"clientMetadata")}function kd(d,e){let i=d.projectId;return d.isDefaultDatabase||(i+="."+d.database),"firestore/"+e+"/"+i+"/"}class np{constructor(e,i,l,h){this.targetId=e,this.fromCache=i,this.$i=l,this.Ui=h}static Wi(e,i){let l=hr(),h=hr();for(const y of i.docChanges)switch(y.type){case 0:l=l.add(y.doc.key);break;case 1:h=h.add(y.doc.key)}return new np(e,i.fromCache,l,h)}}class Dg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wa{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,fe.nr)()?8:Fe((0,fe.ZQ)())>0?6:4}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,l,h){const y={result:null};return this.Yi(e,i).next(T=>{y.result=T}).next(()=>{if(!y.result)return this.Zi(e,i,h,l).next(T=>{y.result=T})}).next(()=>{if(y.result)return;const T=new Dg;return this.Xi(e,i,T).next(P=>{if(y.result=P,this.zi)return this.es(e,i,T,P.size)})}).next(()=>y.result)}es(e,i,l,h){return l.documentReadCount<this.ji?(Pt()<=be.$b.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ot.resolve()):(Pt()<=be.$b.DEBUG&&Ie("QueryEngine","Query:",ns(i),"scans",l.documentReadCount,"local documents and returns",h,"documents as results."),l.documentReadCount>this.Hi*h?(Pt()<=be.$b.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(i))):ot.resolve())}Yi(e,i){if(B(i))return ot.resolve(null);let l=fn(i);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==i.limit&&1===h&&(i=ts(i,null,"F"),l=fn(i)),this.indexManager.getDocumentsMatchingTarget(e,l).next(y=>{const T=hr(...y);return this.Ji.getDocuments(e,T).next(P=>this.indexManager.getMinOffset(e,l).next(U=>{const Y=this.ts(i,P);return this.ns(i,Y,T,U.readTime)?this.Yi(e,ts(i,null,"F")):this.rs(e,Y,i,U)}))})))}Zi(e,i,l,h){return B(i)||h.isEqual(Vt.min())?ot.resolve(null):this.Ji.getDocuments(e,l).next(y=>{const T=this.ts(i,y);return this.ns(i,T,l,h)?ot.resolve(null):(Pt()<=be.$b.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),ns(i)),this.rs(e,T,i,ui(h,-1)).next(P=>P))})}ts(e,i){let l=new Cr(Ps(e));return i.forEach((h,y)=>{Go(e,y)&&(l=l.add(y))}),l}ns(e,i,l,h){if(null===e.limit)return!1;if(l.size!==i.size)return!0;const y="F"===e.limitType?i.last():i.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(h)>0)}Xi(e,i,l){return Pt()<=be.$b.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",ns(i)),this.Ji.getDocumentsMatchingQuery(e,i,on.min(),l)}rs(e,i,l,h){return this.Ji.getDocumentsMatchingQuery(e,l,h).next(y=>(i.forEach(T=>{y=y.insert(T.key,T)}),y))}}class Fo{constructor(e,i,l,h){this.persistence=e,this.ss=i,this.serializer=h,this.os=new Wr(Qt),this._s=new Ki(y=>Os(y),Do),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(l)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.os))}}function Ld(d,e,i,l){return new Fo(d,e,i,l)}function Ka(d,e){return zu.apply(this,arguments)}function zu(){return(zu=(0,s.A)(function*(d,e){const i=ht(d);return yield i.persistence.runTransaction("Handle user change","readonly",l=>{let h;return i.mutationQueue.getAllMutationBatches(l).next(y=>(h=y,i.ls(e),i.mutationQueue.getAllMutationBatches(l))).next(y=>{const T=[],P=[];let U=hr();for(const Y of h){T.push(Y.batchId);for(const le of Y.mutations)U=U.add(le.key)}for(const Y of y){P.push(Y.batchId);for(const le of Y.mutations)U=U.add(le.key)}return i.localDocuments.getDocuments(l,U).next(Y=>({hs:Y,removedBatchIds:T,addedBatchIds:P}))})})})).apply(this,arguments)}function Vd(d){const e=ht(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ur.getLastRemoteSnapshotVersion(i))}function Gh(d,e,i){let l=hr(),h=hr();return i.forEach(y=>l=l.add(y)),e.getEntries(d,l).next(y=>{let T=ms();return i.forEach((P,U)=>{const Y=y.get(P);U.isFoundDocument()!==Y.isFoundDocument()&&(h=h.add(P)),U.isNoDocument()&&U.version.isEqual(Vt.min())?(e.removeEntry(P,U.readTime),T=T.insert(P,U)):!Y.isValidDocument()||U.version.compareTo(Y.version)>0||0===U.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(U),T=T.insert(P,U)):Ie("LocalStore","Ignoring outdated watch update for ",P,". Current version:",Y.version," Watch version:",U.version)}),{Ps:T,Is:h}})}function Sg(d,e){const i=ht(d);return i.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Ca(d,e){const i=ht(d);return i.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return i.Ur.getTargetData(l,e).next(y=>y?(h=y,ot.resolve(h)):i.Ur.allocateTargetId(l).next(T=>(h=new F(e,T,"TargetPurposeListen",l.currentSequenceNumber),i.Ur.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=i.os.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(i.os=i.os.insert(l.targetId,l),i._s.set(e,l.targetId)),l})}function qc(d,e,i){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,s.A)(function*(d,e,i){const l=ht(d),h=l.os.get(e),y=i?"readwrite":"readwrite-primary";try{i||(yield l.persistence.runTransaction("Release target",y,T=>l.persistence.referenceDelegate.removeTarget(T,h)))}catch(T){if(!Ln(T))throw T;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${T}`)}l.os=l.os.remove(e),l._s.delete(h.target)})).apply(this,arguments)}function _l(d,e,i){const l=ht(d);let h=Vt.min(),y=hr();return l.persistence.runTransaction("Execute query","readwrite",T=>function(U,Y,le){const Ce=ht(U),ze=Ce._s.get(le);return void 0!==ze?ot.resolve(Ce.os.get(ze)):Ce.Ur.getTargetData(Y,le)}(l,T,fn(e)).next(P=>{if(P)return h=P.lastLimboFreeSnapshotVersion,l.Ur.getMatchingKeysForTargetId(T,P.targetId).next(U=>{y=U})}).next(()=>l.ss.getDocumentsMatchingQuery(T,e,i?h:Vt.min(),i?y:hr())).next(P=>(zh(l,ec(e),P),{documents:P,Ts:y})))}function Hh(d,e){const i=ht(d),l=ht(i.Ur),h=i.os.get(e);return h?Promise.resolve(h.target):i.persistence.runTransaction("Get target data","readonly",y=>l.ot(y,e).next(T=>T?T.target:null))}function yl(d,e){const i=ht(d),l=i.us.get(e)||Vt.min();return i.persistence.runTransaction("Get new document changes","readonly",h=>i.cs.getAllFromCollectionGroup(h,e,ui(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(zh(i,e,h),h))}function zh(d,e,i){let l=d.us.get(e)||Vt.min();i.forEach((h,y)=>{y.readTime.compareTo(l)>0&&(l=y.readTime)}),d.us.set(e,l)}function jd(){return(jd=(0,s.A)(function*(d,e,i,l){const h=ht(d);let y=hr(),T=ms();for(const Y of i){const le=e.Es(Y.metadata.name);Y.document&&(y=y.add(le));const Ce=e.ds(Y);Ce.setReadTime(e.As(Y.metadata.readTime)),T=T.insert(le,Ce)}const P=h.cs.newChangeBuffer({trackRemovals:!0}),U=yield Ca(h,(le=l,fn(re(sn.fromString(`__bundle__/docs/${le}`)))));var le;return h.persistence.runTransaction("Apply bundle documents","readwrite",Y=>Gh(Y,P,T).next(le=>(P.apply(Y),le)).next(le=>h.Ur.removeMatchingKeysForTargetId(Y,U.targetId).next(()=>h.Ur.addMatchingKeys(Y,y,U.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(Y,le.Ps,le.Is)).next(()=>le.Ps)))})).apply(this,arguments)}function Wh(d,e){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,s.A)(function*(d,e,i=hr()){const l=yield Ca(d,fn(hi(e.bundledQuery))),h=ht(d);return h.persistence.runTransaction("Save named query","readwrite",y=>{const T=Si(e.readTime);if(l.snapshotVersion.compareTo(T)>=0)return h.Gr.saveNamedQuery(y,e);const P=l.withResumeToken(Pi.EMPTY_BYTE_STRING,T);return h.os=h.os.insert(P.targetId,P),h.Ur.updateTargetData(y,P).next(()=>h.Ur.removeMatchingKeysForTargetId(y,l.targetId)).next(()=>h.Ur.addMatchingKeys(y,i,l.targetId)).next(()=>h.Gr.saveNamedQuery(y,e))})})).apply(this,arguments)}function Ll(d,e){return`firestore_clients_${d}_${e}`}function Bd(d,e,i){let l=`firestore_mutations_${d}_${i}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function Xc(d,e){return`firestore_targets_${d}_${e}`}class $d{constructor(e,i,l,h){this.user=e,this.batchId=i,this.state=l,this.error=h}static Rs(e,i,l){const h=JSON.parse(l);let y,T="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return T&&h.error&&(T="string"==typeof h.error.message&&"string"==typeof h.error.code,T&&(y=new it(h.error.code,h.error.message))),T?new $d(e,i,h.state,y):(Qe("SharedClientState",`Failed to parse mutation state for ID '${i}': ${l}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vl{constructor(e,i,l){this.targetId=e,this.state=i,this.error=l}static Rs(e,i){const l=JSON.parse(i);let h,y="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(h=new it(l.error.code,l.error.message))),y?new Vl(e,l.state,h):(Qe("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zs{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Rs(e,i){const l=JSON.parse(i);let h="object"==typeof l&&l.activeTargetIds instanceof Array,y=go();for(let T=0;h&&T<l.activeTargetIds.length;++T)h=je(l.activeTargetIds[T]),y=y.add(l.activeTargetIds[T]);return h?new zs(e,y):(Qe("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}}class w{constructor(e,i){this.clientId=e,this.onlineState=i}static Rs(e){const i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new w(i.clientId,i.onlineState):(Qe("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _{constructor(){this.activeTargetIds=go()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,i,l,h,y){this.window=e,this.ui=i,this.persistenceKey=l,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Wr(Qt),this.started=!1,this.bs=[];const T=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Ds=Ll(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new _),this.Cs=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,s.A)(function*(){const i=yield e.syncEngine.Qi();for(const h of i){if(h===e.ps)continue;const y=e.getItem(Ll(e.persistenceKey,h));if(y){const T=zs.Rs(h,y);T&&(e.Ss=e.Ss.insert(T.clientId,T))}}e.Ns();const l=e.storage.getItem(e.xs);if(l){const h=e.Ls(l);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let i=!1;return this.Ss.forEach((l,h)=>{h.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,i,l){this.qs(e,i,l),this.Qs(e)}addLocalQueryTarget(e,i=!0){let l="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(Xc(this.persistenceKey,e));if(h){const y=Vl.Rs(e,h);y&&(l=y.state)}}return i&&this.Ks.fs(e),this.Ns(),l}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xc(this.persistenceKey,e))}updateQueryState(e,i,l){this.$s(e,i,l)}handleUserChange(e,i,l){i.forEach(h=>{this.Qs(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const i=this.storage.getItem(e);return Ie("SharedClientState","READ",e,i),i}setItem(e,i){Ie("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){Ie("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var i=this;const l=e;if(l.storageArea===this.storage){if(Ie("SharedClientState","EVENT",l.key,l.newValue),l.key===this.Ds)return void Qe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,s.A)(function*(){if(i.started){if(null!==l.key)if(i.Cs.test(l.key)){if(null==l.newValue){const h=i.Gs(l.key);return i.zs(h,null)}{const h=i.js(l.key,l.newValue);if(h)return i.zs(h.clientId,h)}}else if(i.Fs.test(l.key)){if(null!==l.newValue){const h=i.Hs(l.key,l.newValue);if(h)return i.Js(h)}}else if(i.Ms.test(l.key)){if(null!==l.newValue){const h=i.Ys(l.key,l.newValue);if(h)return i.Zs(h)}}else if(l.key===i.xs){if(null!==l.newValue){const h=i.Ls(l.newValue);if(h)return i.Bs(h)}}else if(l.key===i.vs){const h=function(T){let P=M.oe;if(null!=T)try{const U=JSON.parse(T);Lt("number"==typeof U),P=U}catch(U){Qe("SharedClientState","Failed to read sequence number from WebStorage",U)}return P}(l.newValue);h!==M.oe&&i.sequenceNumberHandler(h)}else if(l.key===i.Os){const h=i.Xs(l.newValue);yield Promise.all(h.map(y=>i.syncEngine.eo(y)))}}else i.bs.push(l)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,i,l){const h=new $d(this.currentUser,e,i,l),y=Bd(this.persistenceKey,this.currentUser,e);this.setItem(y,h.Vs())}Qs(e){const i=Bd(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,i,l){const h=Xc(this.persistenceKey,e),y=new Vl(e,i,l);this.setItem(h,y.Vs())}Ws(e){const i=JSON.stringify(Array.from(e));this.setItem(this.Os,i)}Gs(e){const i=this.Cs.exec(e);return i?i[1]:null}js(e,i){const l=this.Gs(e);return zs.Rs(l,i)}Hs(e,i){const l=this.Fs.exec(e),h=Number(l[1]);return $d.Rs(new Ze(void 0!==l[2]?l[2]:null),h,i)}Ys(e,i){const l=this.Ms.exec(e),h=Number(l[1]);return Vl.Rs(h,i)}Ls(e){return w.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var i=this;return(0,s.A)(function*(){if(e.user.uid===i.currentUser.uid)return i.syncEngine.no(e.batchId,e.state,e.error);Ie("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,i){const l=i?this.Ss.insert(e,i):this.Ss.remove(e),h=this.ks(this.Ss),y=this.ks(l),T=[],P=[];return y.forEach(U=>{h.has(U)||T.push(U)}),h.forEach(U=>{y.has(U)||P.push(U)}),this.syncEngine.io(T,P).then(()=>{this.Ss=l})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let i=go();return e.forEach((l,h)=>{i=i.unionWith(h.activeTargetIds)}),i}}class R{constructor(){this.so=new _,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,l){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,l){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _,Promise.resolve()}handleUserChange(e,i,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J{_o(e){}shutdown(){}}class ge{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xe=null;function Rt(){return null===Xe?Xe=268435456+Math.round(2147483648*Math.random()):Xe++,"0x"+Xe.toString(16)}const zt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Sn="WebChannelConnection";class Qr extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const l=i.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),y=encodeURIComponent(this.databaseId.database);this.Do=l+"://"+i.host,this.vo=`projects/${h}/databases/${y}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${y}`}get Fo(){return!1}Mo(i,l,h,y,T){const P=Rt(),U=this.xo(i,l.toUriEncodedString());Ie("RestConnection",`Sending RPC '${i}' ${P}:`,U,h);const Y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(Y,y,T),this.No(i,U,Y,h).then(le=>(Ie("RestConnection",`Received RPC '${i}' ${P}: `,le),le),le=>{throw Yt("RestConnection",`RPC '${i}' ${P} failed with error: `,le,"url: ",U,"request:",h),le})}Lo(i,l,h,y,T,P){return this.Mo(i,l,h,y,T)}Oo(i,l,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+Ke,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),l&&l.headers.forEach((y,T)=>i[T]=y),h&&h.headers.forEach((y,T)=>i[T]=y)}xo(i,l){return`${this.Do}/v1/${l}:${zt[i]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,l,h){const y=Rt();return new Promise((T,P)=>{const U=new pe;U.setWithCredentials(!0),U.listenOnce(ve.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case qe.NO_ERROR:const le=U.getResponseJson();Ie(Sn,`XHR for RPC '${e}' ${y} received:`,JSON.stringify(le)),T(le);break;case qe.TIMEOUT:Ie(Sn,`RPC '${e}' ${y} timed out`),P(new it(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case qe.HTTP_ERROR:const Ce=U.getStatus();if(Ie(Sn,`RPC '${e}' ${y} failed with status:`,Ce,"response text:",U.getResponseText()),Ce>0){let ze=U.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const Ct=ze?.error;if(Ct&&Ct.status&&Ct.message){const Gt=function(nn){const zn=nn.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(zn)>=0?zn:Ve.UNKNOWN}(Ct.status);P(new it(Gt,Ct.message))}else P(new it(Ve.UNKNOWN,"Server responded with status "+U.getStatus()))}else P(new it(Ve.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{Ie(Sn,`RPC '${e}' ${y} completed.`)}});const Y=JSON.stringify(h);Ie(Sn,`RPC '${e}' ${y} sending request:`,h),U.send(i,"POST",Y,l,15)})}Bo(e,i,l){const h=Rt(),y=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],T=He(),P=jt(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(U.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,l),U.encodeInitMessageHeaders=!0;const le=y.join("");Ie(Sn,`Creating RPC '${e}' stream ${h}: ${le}`,U);const Ce=T.createWebChannel(le,U);let ze=!1,Ct=!1;const Gt=new Dn({Io:nn=>{Ct?Ie(Sn,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):(ze||(Ie(Sn,`Opening RPC '${e}' stream ${h} transport.`),Ce.open(),ze=!0),Ie(Sn,`RPC '${e}' stream ${h} sending:`,nn),Ce.send(nn))},To:()=>Ce.close()}),un=(nn,zn,ar)=>{nn.listen(zn,Xn=>{try{ar(Xn)}catch(Mr){setTimeout(()=>{throw Mr},0)}})};return un(Ce,Be.EventType.OPEN,()=>{Ct||(Ie(Sn,`RPC '${e}' stream ${h} transport opened.`),Gt.yo())}),un(Ce,Be.EventType.CLOSE,()=>{Ct||(Ct=!0,Ie(Sn,`RPC '${e}' stream ${h} transport closed`),Gt.So())}),un(Ce,Be.EventType.ERROR,nn=>{Ct||(Ct=!0,Yt(Sn,`RPC '${e}' stream ${h} transport errored:`,nn),Gt.So(new it(Ve.UNAVAILABLE,"The operation could not be completed")))}),un(Ce,Be.EventType.MESSAGE,nn=>{var zn;if(!Ct){const ar=nn.data[0];Lt(!!ar);const Mr=ar.error||(null===(zn=ar[0])||void 0===zn?void 0:zn.error);if(Mr){Ie(Sn,`RPC '${e}' stream ${h} received error:`,Mr);const Oi=Mr.status;let si=function(Je){const dt=Er[Je];if(void 0!==dt)return Ui(dt)}(Oi),ut=Mr.message;void 0===si&&(si=Ve.INTERNAL,ut="Unknown error status: "+Oi+" with message "+Mr.message),Ct=!0,Gt.So(new it(si,ut)),Ce.close()}else Ie(Sn,`RPC '${e}' stream ${h} received:`,ar),Gt.bo(ar)}}),un(P,bt.STAT_EVENT,nn=>{nn.stat===we.PROXY?Ie(Sn,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===we.NOPROXY&&Ie(Sn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Gt.wo()},0),Gt}}function vo(){return typeof window<"u"?window:null}function aa(){return typeof document<"u"?document:null}function Ul(d){return new Cd(d,!0)}class Qc{constructor(e,i,l=1e3,h=1.5,y=6e4){this.ui=e,this.timerId=i,this.ko=l,this.qo=h,this.Qo=y,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),l=Math.max(0,Date.now()-this.Uo),h=Math.max(0,i-l);h>0&&Ie("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${l} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Gd{constructor(e,i,l,h,y,T,P,U){this.ui=e,this.Ho=l,this.Jo=h,this.connection=y,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=P,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qc(e,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,s.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,s.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,i){var l=this;return(0,s.A)(function*(){l.u_(),l.c_(),l.t_.cancel(),l.Yo++,4!==e?l.t_.reset():i&&i.code===Ve.RESOURCE_EXHAUSTED?(Qe(i.toString()),Qe("Using maximum backoff delay to prevent overloading the backend."),l.t_.Wo()):i&&i.code===Ve.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.l_(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.mo(i)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Yo===i&&this.P_(l,h)},l=>{e(()=>{const h=new it(Ve.UNKNOWN,"Fetching auth token failed: "+l.message);return this.I_(h)})})}P_(e,i){const l=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo(()=>{l(()=>this.listener.Eo())}),this.stream.Ro(()=>{l(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{l(()=>this.I_(h))}),this.stream.onMessage(h=>{l(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,s.A)(function*(){e.state=0,e.start()}))}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget(()=>this.Yo===e?i():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hd extends Gd{constructor(e,i,l,h,y,T){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,l,h,T),this.serializer=y}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=function wd(d,e){let i;if("targetChange"in e){const l="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Mt(),h=e.targetChange.targetIds||[],y=function(Y,le){return Y.useProto3Json?(Lt(void 0===le||"string"==typeof le),Pi.fromBase64String(le||"")):(Lt(void 0===le||le instanceof Buffer||le instanceof Uint8Array),Pi.fromUint8Array(le||new Uint8Array))}(d,e.targetChange.resumeToken),T=e.targetChange.cause,P=T&&function(Y){const le=void 0===Y.code?Ve.UNKNOWN:Ui(Y.code);return new it(le,Y.message||"")}(T);i=new Au(l,h,y,P||null)}else if("documentChange"in e){const l=e.documentChange,h=Bn(d,l.document.name),y=Si(l.document.updateTime),T=l.document.createTime?Si(l.document.createTime):Vt.min(),P=new Le({mapValue:{fields:l.document.fields}}),U=mt.newFoundDocument(h,y,T,P);i=new nc(l.targetIds||[],l.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const l=e.documentDelete,h=Bn(d,l.document),y=l.readTime?Si(l.readTime):Vt.min(),T=mt.newNoDocument(h,y);i=new nc([],l.removedTargetIds||[],T.key,T)}else if("documentRemove"in e){const l=e.documentRemove,h=Bn(d,l.document);i=new nc([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Mt();{const l=e.filter,{count:h=0,unchangedNames:y}=l,T=new Td(h,y);i=new wu(l.targetId,T)}}var Y;return i}(this.serializer,e),l=function(y){if(!("targetChange"in y))return Vt.min();const T=y.targetChange;return T.targetIds&&T.targetIds.length?Vt.min():T.readTime?Si(T.readTime):Vt.min()}(e);return this.listener.d_(i,l)}A_(e){const i={};i.database=jc(this.serializer),i.addTarget=function(y,T){let P;const U=T.target;if(P=Fa(U)?{documents:uo(y,U)}:{query:Ba(y,U)._t},P.targetId=T.targetId,T.resumeToken.approximateByteSize()>0){P.resumeToken=Su(y,T.resumeToken);const Y=Zt(y,T.expectedCount);null!==Y&&(P.expectedCount=Y)}else if(T.snapshotVersion.compareTo(Vt.min())>0){P.readTime=xo(y,T.snapshotVersion.toTimestamp());const Y=Zt(y,T.expectedCount);null!==Y&&(P.expectedCount=Y)}return P}(this.serializer,e);const l=function Ad(d,e){const i=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return null==i?null:{"goog-listen-tags":i}}(0,e);l&&(i.labels=l),this.a_(i)}R_(e){const i={};i.database=jc(this.serializer),i.removeTarget=e,this.a_(i)}}class Rg extends Gd{constructor(e,i,l,h,y,T){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,l,h,T),this.serializer=y}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=function ro(d,e){return d&&d.length>0?(Lt(void 0!==e),d.map(i=>function(h,y){let T=Si(h.updateTime?h.updateTime:y);return T.isEqual(Vt.min())&&(T=Si(y)),new $(T,h.transformResults||[])}(i,e))):[]}(e.writeResults,e.commitTime),l=Si(e.commitTime);return this.listener.g_(l,i)}p_(){const e={};e.database=jc(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map(l=>ll(this.serializer,l))};this.a_(i)}}class sp extends class{}{constructor(e,i,l,h){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=l,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new it(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,l,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,T])=>this.connection.Mo(e,Ru(i,l),h,y,T)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new it(Ve.UNKNOWN,y.toString())})}Lo(e,i,l,h,y){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([T,P])=>this.connection.Lo(e,Ru(i,l),h,T,P,y)).catch(T=>{throw"FirebaseError"===T.name?(T.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),T):new it(Ve.UNKNOWN,T.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zd{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qe(i),this.D_=!1):Ie("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Pg{constructor(e,i,l,h,y){var T=this;this.localStore=e,this.datastore=i,this.asyncQueue=l,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=y,this.k_._o(P=>{l.enqueueAndForget((0,s.A)(function*(){var U;wa(T)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,s.A)(function*(le){const Ce=ht(le);Ce.L_.add(4),yield Wd(Ce),Ce.q_.set("Unknown"),Ce.L_.delete(4),yield la(Ce)}),function Y(le){return U.apply(this,arguments)})(T))}))}),this.q_=new zd(l,h)}}function la(d){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,s.A)(function*(d){if(wa(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Wd(d){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Ku(d,e){const i=ht(d);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Yh(i)?qh(i):Xu(i).r_()&&Kd(i,e))}function hc(d,e){const i=ht(d),l=Xu(i);i.N_.delete(e),l.r_()&&op(i,e),0===i.N_.size&&(l.r_()?l.o_():wa(i)&&i.q_.set("Unknown"))}function Kd(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const i=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xu(d).A_(e)}function op(d,e){d.Q_.xe(e),Xu(d).R_(e)}function qh(d){d.Q_=new Du({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),Xu(d).start(),d.q_.v_()}function Yh(d){return wa(d)&&!Xu(d).n_()&&d.N_.size>0}function wa(d){return 0===ht(d).L_.size}function ap(d){d.Q_=void 0}function r_(d){return qd.apply(this,arguments)}function qd(){return(qd=(0,s.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function lp(d){return qu.apply(this,arguments)}function qu(){return(qu=(0,s.A)(function*(d){d.N_.forEach((e,i)=>{Kd(d,e)})})).apply(this,arguments)}function i_(d,e){return xg.apply(this,arguments)}function xg(){return(xg=(0,s.A)(function*(d,e){ap(d),Yh(d)?(d.q_.M_(e),qh(d)):d.q_.set("Unknown")})).apply(this,arguments)}function Fy(d,e,i){return cp.apply(this,arguments)}function cp(){return cp=(0,s.A)(function*(d,e,i){if(d.q_.set("Online"),e instanceof Au&&2===e.state&&e.cause)try{yield(l=(0,s.A)(function*(y,T){const P=T.cause;for(const U of T.targetIds)y.N_.has(U)&&(yield y.remoteSyncer.rejectListen(U,P),y.N_.delete(U),y.Q_.removeTarget(U))}),function h(y,T){return l.apply(this,arguments)})(d,e)}catch(l){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Yd(d,l)}else if(e instanceof nc?d.Q_.Ke(e):e instanceof wu?d.Q_.He(e):d.Q_.We(e),!i.isEqual(Vt.min()))try{const l=yield Vd(d.localStore);i.compareTo(l)>=0&&(yield function(y,T){const P=y.Q_.rt(T);return P.targetChanges.forEach((U,Y)=>{if(U.resumeToken.approximateByteSize()>0){const le=y.N_.get(Y);le&&y.N_.set(Y,le.withResumeToken(U.resumeToken,T))}}),P.targetMismatches.forEach((U,Y)=>{const le=y.N_.get(U);if(!le)return;y.N_.set(U,le.withResumeToken(Pi.EMPTY_BYTE_STRING,le.snapshotVersion)),op(y,U);const Ce=new F(le.target,U,Y,le.sequenceNumber);Kd(y,Ce)}),y.remoteSyncer.applyRemoteEvent(P)}(d,i))}catch(l){Ie("RemoteStore","Failed to raise snapshot:",l),yield Yd(d,l)}var l}),cp.apply(this,arguments)}function Yd(d,e,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,s.A)(function*(d,e,i){if(!Ln(e))throw e;d.L_.add(1),yield Wd(d),d.q_.set("Offline"),i||(i=()=>Vd(d.localStore)),d.asyncQueue.enqueueRetryable((0,s.A)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield i(),d.L_.delete(1),yield la(d)}))})).apply(this,arguments)}function s_(d,e){return e().catch(i=>Yd(d,i,e))}function Aa(d){return Og.apply(this,arguments)}function Og(){return(Og=(0,s.A)(function*(d){const e=ht(d),i=fc(e);let l=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;o_(e);)try{const h=yield Sg(e.localStore,l);if(null===h){0===e.O_.length&&i.o_();break}l=h.batchId,ky(e,h)}catch(h){yield Yd(e,h)}Xo(e)&&up(e)})).apply(this,arguments)}function o_(d){return wa(d)&&d.O_.length<10}function ky(d,e){d.O_.push(e);const i=fc(d);i.r_()&&i.V_&&i.m_(e.mutations)}function Xo(d){return wa(d)&&!fc(d).n_()&&d.O_.length>0}function up(d){fc(d).start()}function a_(d){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,s.A)(function*(d){fc(d).p_()})).apply(this,arguments)}function ko(d){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,s.A)(function*(d){const e=fc(d);for(const i of d.O_)e.m_(i.mutations)})).apply(this,arguments)}function l_(d,e,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,s.A)(function*(d,e,i){const l=d.O_.shift(),h=Ro.from(l,e,i);yield s_(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield Aa(d)})).apply(this,arguments)}function Ly(d,e){return hp.apply(this,arguments)}function hp(){return hp=(0,s.A)(function*(d,e){var i;e&&fc(d).V_&&(yield(i=(0,s.A)(function*(h,y){if($s(P=y.code)&&P!==Ve.ABORTED){const T=h.O_.shift();fc(h).s_(),yield s_(h,()=>h.remoteSyncer.rejectFailedWrite(T.batchId,y)),yield Aa(h)}var P}),function l(h,y){return i.apply(this,arguments)})(d,e)),Xo(d)&&up(d)}),hp.apply(this,arguments)}function fp(d,e){return pp.apply(this,arguments)}function pp(){return(pp=(0,s.A)(function*(d,e){const i=ht(d);i.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const l=wa(i);i.L_.add(3),yield Wd(i),l&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),yield la(i)})).apply(this,arguments)}function Xd(d,e){return gp.apply(this,arguments)}function gp(){return(gp=(0,s.A)(function*(d,e){const i=ht(d);e?(i.L_.delete(2),yield la(i)):e||(i.L_.add(2),yield Wd(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Xu(d){return d.K_||(d.K_=function(i,l,h){const y=ht(i);return y.w_(),new Hd(l,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:r_.bind(null,d),Ro:lp.bind(null,d),mo:i_.bind(null,d),d_:Fy.bind(null,d)}),d.B_.push(function(){var e=(0,s.A)(function*(i){i?(d.K_.s_(),Yh(d)?qh(d):d.q_.set("Unknown")):(yield d.K_.stop(),ap(d))});return function(i){return e.apply(this,arguments)}}())),d.K_}function fc(d){return d.U_||(d.U_=function(i,l,h){const y=ht(i);return y.w_(),new Rg(l,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:a_.bind(null,d),mo:Ly.bind(null,d),f_:ko.bind(null,d),g_:l_.bind(null,d)}),d.B_.push(function(){var e=(0,s.A)(function*(i){i?(d.U_.s_(),yield Aa(d)):(yield d.U_.stop(),d.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(i){return e.apply(this,arguments)}}())),d.U_}class pc{constructor(e,i,l,h,y){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=l,this.op=h,this.removalCallback=y,this.deferred=new rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,l,h,y){const T=Date.now()+l,P=new pc(e,i,T,h,y);return P.start(l),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jl(d,e){if(Qe("AsyncQueue",`${e}: ${d}`),Ln(d))return new it(Ve.UNAVAILABLE,`${e}: ${d}`);throw d}class Qd{constructor(e){this.comparator=e?(i,l)=>e(i,l)||Bt.comparator(i.key,l.key):(i,l)=>Bt.comparator(i.key,l.key),this.keyedMap=co(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new Qd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,l)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Qd)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;i.hasNext();){const h=i.getNext().key,y=l.getNext().key;if(!h.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const l=new Qd;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=i,l}}class Jd{constructor(){this.W_=new Wr(Bt.comparator)}track(e){const i=e.doc.key,l=this.W_.get(i);l?0!==e.type&&3===l.type?this.W_=this.W_.insert(i,e):3===e.type&&1!==l.type?this.W_=this.W_.insert(i,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.W_=this.W_.remove(i):1===e.type&&2===l.type?this.W_=this.W_.insert(i,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Mt():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal((i,l)=>{e.push(l)}),e}}class Zd{constructor(e,i,l,h,y,T,P,U,Y){this.query=e,this.docs=i,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=y,this.fromCache=T,this.syncStateChanged=P,this.excludesMetadataChanges=U,this.hasCachedResults=Y}static fromInitialDocuments(e,i,l,h,y){const T=[];return i.forEach(P=>{T.push({type:0,doc:P})}),new Zd(e,i,Qd.emptySet(i),T,l,h,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,l=e.docChanges;if(i.length!==l.length)return!1;for(let h=0;h<i.length;h++)if(i[h].type!==l[h].type||!i[h].doc.isEqual(l[h].doc))return!1;return!0}}class Vy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class c_{constructor(){this.queries=Ng(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,l){const h=ht(i),y=h.queries;h.queries=Ng(),y.forEach((T,P)=>{for(const U of P.j_)U.onError(l)})}(this,new it(Ve.ABORTED,"Firestore shutting down"))}}function Ng(){return new Ki(d=>Rs(d),lo)}function mp(d,e){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,s.A)(function*(d,e){const i=ht(d);let l=3;const h=e.query;let y=i.queries.get(h);y?!y.H_()&&e.J_()&&(l=2):(y=new Vy,l=e.J_()?0:1);try{switch(l){case 0:y.z_=yield i.onListen(h,!0);break;case 1:y.z_=yield i.onListen(h,!1);break;case 2:yield i.onFirstRemoteStoreListen(h)}}catch(T){const P=jl(T,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(P)}i.queries.set(h,y),y.j_.push(e),e.Z_(i.onlineState),y.z_&&e.X_(y.z_)&&kg(i)})).apply(this,arguments)}function eh(d,e){return _p.apply(this,arguments)}function _p(){return(_p=(0,s.A)(function*(d,e){const i=ht(d),l=e.query;let h=3;const y=i.queries.get(l);if(y){const T=y.j_.indexOf(e);T>=0&&(y.j_.splice(T,1),0===y.j_.length?h=e.J_()?0:1:!y.H_()&&e.J_()&&(h=2))}switch(h){case 0:return i.queries.delete(l),i.onUnlisten(l,!0);case 1:return i.queries.delete(l),i.onUnlisten(l,!1);case 2:return i.onLastRemoteStoreUnlisten(l);default:return}})).apply(this,arguments)}function Fg(d,e){const i=ht(d);let l=!1;for(const h of e){const T=i.queries.get(h.query);if(T){for(const P of T.j_)P.X_(h)&&(l=!0);T.z_=h}}l&&kg(i)}function yp(d,e,i){const l=ht(d),h=l.queries.get(e);if(h)for(const y of h.j_)y.onError(i);l.queries.delete(e)}function kg(d){d.Y_.forEach(e=>{e.next()})}var Lg,u_;(u_=Lg||(Lg={})).ea="default",u_.Cache="cache";class Zc{constructor(e,i,l){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=l||{}}X_(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new Zd(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===i)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lg.Cache}}class Uy{constructor(e,i){this.aa=e,this.byteLength=i}ua(){return"metadata"in this.aa}}class d_{constructor(e){this.serializer=e}Es(e){return Bn(this.serializer,e)}ds(e){return e.metadata.exists?sc(this.serializer,e.document,!1):mt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Si(e)}}class h_{constructor(e,i,l){this.ca=e,this.localStore=i,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qh(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++i;const l=sn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(e){const i=new Map,l=new d_(this.serializer);for(const h of e)if(h.metadata.queries){const y=l.Es(h.metadata.name);for(const T of h.metadata.queries){const P=(i.get(T)||hr()).add(y);i.set(T,P)}}return i}complete(){var e=this;return(0,s.A)(function*(){const i=yield function Wu(d,e,i,l){return jd.apply(this,arguments)}(e.localStore,new d_(e.serializer),e.documents,e.ca.id),l=e.ha(e.documents);for(const h of e.queries)yield Wh(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:i}})()}}function Qh(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class vp{constructor(e){this.key=e}}class th{constructor(e){this.key=e}}class f_{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=hr(),this.mutatedKeys=hr(),this.Aa=Ps(e),this.Ra=new Qd(this.Aa)}get Va(){return this.Ta}ma(e,i){const l=i?i.fa:new Jd,h=i?i.Ra:this.Ra;let y=i?i.mutatedKeys:this.mutatedKeys,T=h,P=!1;const U="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,Y="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((le,Ce)=>{const ze=h.get(le),Ct=Go(this.query,Ce)?Ce:null,Gt=!!ze&&this.mutatedKeys.has(ze.key),un=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let nn=!1;ze&&Ct?ze.data.isEqual(Ct.data)?Gt!==un&&(l.track({type:3,doc:Ct}),nn=!0):this.ga(ze,Ct)||(l.track({type:2,doc:Ct}),nn=!0,(U&&this.Aa(Ct,U)>0||Y&&this.Aa(Ct,Y)<0)&&(P=!0)):!ze&&Ct?(l.track({type:0,doc:Ct}),nn=!0):ze&&!Ct&&(l.track({type:1,doc:ze}),nn=!0,(U||Y)&&(P=!0)),nn&&(Ct?(T=T.add(Ct),y=un?y.add(le):y.delete(le)):(T=T.delete(le),y=y.delete(le)))}),null!==this.query.limit)for(;T.size>this.query.limit;){const le="F"===this.query.limitType?T.last():T.first();T=T.delete(le.key),y=y.delete(le.key),l.track({type:1,doc:le})}return{Ra:T,fa:l,ns:P,mutatedKeys:y}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,l,h){const y=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const T=e.fa.G_();T.sort((le,Ce)=>function(Ct,Gt){const un=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return un(Ct)-un(Gt)}(le.type,Ce.type)||this.Aa(le.doc,Ce.doc)),this.pa(l),h=null!=h&&h;const P=i&&!h?this.ya():[],U=0===this.da.size&&this.current&&!h?1:0,Y=U!==this.Ea;return this.Ea=U,0!==T.length||Y?{snapshot:new Zd(this.query,e.Ra,y,T,e.mutatedKeys,0===U,Y,!1,!!l&&l.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=hr(),this.Ra.forEach(l=>{this.Sa(l.key)&&(this.da=this.da.add(l.key))});const i=[];return e.forEach(l=>{this.da.has(l)||i.push(new th(l))}),this.da.forEach(l=>{e.has(l)||i.push(new vp(l))}),i}ba(e){this.Ta=e.Ts,this.da=hr();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return Zd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class mE{constructor(e,i,l){this.query=e,this.targetId=i,this.view=l}}class Jh{constructor(e){this.key=e,this.va=!1}}class p_{constructor(e,i,l,h,y,T){this.localStore=e,this.remoteStore=i,this.eventManager=l,this.sharedClientState=h,this.currentUser=y,this.maxConcurrentLimboResolutions=T,this.Ca={},this.Fa=new Ki(P=>Rs(P),lo),this.Ma=new Map,this.xa=new Set,this.Oa=new Wr(Bt.comparator),this.Na=new Map,this.La=new tp,this.Ba={},this.ka=new Map,this.qa=xl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Qu(d,e){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,s.A)(function*(d,e,i=!0){const l=Rp(d);let h;const y=l.Fa.get(e);return y?(l.sharedClientState.addLocalQueryTarget(y.targetId),h=y.view.Da()):h=yield nh(l,e,i,!0),h})).apply(this,arguments)}function g_(d,e){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,s.A)(function*(d,e){const i=Rp(d);yield nh(i,e,!0,!1)})).apply(this,arguments)}function nh(d,e,i,l){return rh.apply(this,arguments)}function rh(){return(rh=(0,s.A)(function*(d,e,i,l){const h=yield Ca(d.localStore,fn(e)),y=h.targetId,T=d.sharedClientState.addLocalQueryTarget(y,i);let P;return l&&(P=yield ef(d,e,y,"current"===T,h.resumeToken)),d.isPrimaryClient&&i&&Ku(d.remoteStore,h),P})).apply(this,arguments)}function ef(d,e,i,l,h){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,s.A)(function*(d,e,i,l,h){d.Ka=(Ce,ze,Ct)=>{return(Gt=(0,s.A)(function*(nn,zn,ar,Xn){let Mr=zn.view.ma(ar);Mr.ns&&(Mr=yield _l(nn.localStore,zn.query,!1).then(({documents:Ue})=>zn.view.ma(Ue,Mr)));const Oi=Xn&&Xn.targetChanges.get(zn.targetId),si=Xn&&null!=Xn.targetMismatches.get(zn.targetId),ut=zn.view.applyChanges(Mr,nn.isPrimaryClient,Oi,si);return tu(nn,zn.targetId,ut.wa),ut.snapshot}),function un(nn,zn,ar,Xn){return Gt.apply(this,arguments)})(d,Ce,ze,Ct);var Gt};const y=yield _l(d.localStore,e,!0),T=new f_(e,y.Ts),P=T.ma(y.documents),U=va.createSynthesizedTargetChangeForCurrentChange(i,l&&"Offline"!==d.onlineState,h),Y=T.applyChanges(P,d.isPrimaryClient,U);tu(d,i,Y.wa);const le=new mE(e,i,T);return d.Fa.set(e,le),d.Ma.has(i)?d.Ma.get(i).push(e):d.Ma.set(i,[e]),Y.snapshot}),Ep.apply(this,arguments)}function Ug(d,e,i){return jg.apply(this,arguments)}function jg(){return(jg=(0,s.A)(function*(d,e,i){const l=ht(d),h=l.Fa.get(e),y=l.Ma.get(h.targetId);if(y.length>1)return l.Ma.set(h.targetId,y.filter(T=>!lo(T,e))),void l.Fa.delete(e);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(h.targetId),l.sharedClientState.isActiveQueryTarget(h.targetId)||(yield qc(l.localStore,h.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(h.targetId),i&&hc(l.remoteStore,h.targetId),gc(l,h.targetId)}).catch(Gn))):(gc(l,h.targetId),yield qc(l.localStore,h.targetId,!0))})).apply(this,arguments)}function m_(d,e){return bp.apply(this,arguments)}function bp(){return(bp=(0,s.A)(function*(d,e){const i=ht(d),l=i.Fa.get(e),h=i.Ma.get(l.targetId);i.isPrimaryClient&&1===h.length&&(i.sharedClientState.removeLocalQueryTarget(l.targetId),hc(i.remoteStore,l.targetId))})).apply(this,arguments)}function Ju(){return(Ju=(0,s.A)(function*(d,e,i){const l=Kg(d);try{const h=yield function(T,P){const U=ht(T),Y=Ht.now(),le=P.reduce((Ct,Gt)=>Ct.add(Gt.key),hr());let Ce,ze;return U.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let Gt=ms(),un=hr();return U.cs.getEntries(Ct,le).next(nn=>{Gt=nn,Gt.forEach((zn,ar)=>{ar.isValidDocument()||(un=un.add(zn))})}).next(()=>U.localDocuments.getOverlayedDocuments(Ct,Gt)).next(nn=>{Ce=nn;const zn=[];for(const ar of P){const Xn=ii(ar,Ce.get(ar.key).overlayedDocument);null!=Xn&&zn.push(new ai(ar.key,Xn,et(Xn.value.mapValue),Q.exists(!0)))}return U.mutationQueue.addMutationBatch(Ct,Y,zn,P)}).next(nn=>{ze=nn;const zn=nn.applyToLocalDocumentSet(Ce,un);return U.documentOverlayCache.saveOverlays(Ct,nn.batchId,zn)})}).then(()=>({batchId:ze.batchId,changes:ra(Ce)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(T,P,U){let Y=T.Ba[T.currentUser.toKey()];Y||(Y=new Wr(Qt)),Y=Y.insert(P,U),T.Ba[T.currentUser.toKey()]=Y}(l,h.batchId,i),yield mc(l,h.changes),yield Aa(l.remoteStore)}catch(h){const y=jl(h,"Failed to persist write");i.reject(y)}})).apply(this,arguments)}function Bg(d,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,s.A)(function*(d,e){const i=ht(d);try{const l=yield function ip(d,e){const i=ht(d),l=e.snapshotVersion;let h=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const T=i.cs.newChangeBuffer({trackRemovals:!0});h=i.os;const P=[];e.targetChanges.forEach((le,Ce)=>{const ze=h.get(Ce);if(!ze)return;P.push(i.Ur.removeMatchingKeys(y,le.removedDocuments,Ce).next(()=>i.Ur.addMatchingKeys(y,le.addedDocuments,Ce)));let Ct=ze.withSequenceNumber(y.currentSequenceNumber);var un,nn,zn;null!==e.targetMismatches.get(Ce)?Ct=Ct.withResumeToken(Pi.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):le.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(le.resumeToken,l)),h=h.insert(Ce,Ct),nn=Ct,zn=le,(0===(un=ze).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||zn.addedDocuments.size+zn.modifiedDocuments.size+zn.removedDocuments.size>0)&&P.push(i.Ur.updateTargetData(y,Ct))});let U=ms(),Y=hr();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&P.push(i.persistence.referenceDelegate.updateLimboDocument(y,le))}),P.push(Gh(y,T,e.documentUpdates).next(le=>{U=le.Ps,Y=le.Is})),!l.isEqual(Vt.min())){const le=i.Ur.getLastRemoteSnapshotVersion(y).next(Ce=>i.Ur.setTargetsMetadata(y,y.currentSequenceNumber,l));P.push(le)}return ot.waitFor(P).next(()=>T.apply(y)).next(()=>i.localDocuments.getLocalViewOfDocuments(y,U,Y)).next(()=>U)}).then(y=>(i.os=h,y))}(i.localStore,e);e.targetChanges.forEach((h,y)=>{const T=i.Na.get(y);T&&(Lt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?T.va=!0:h.modifiedDocuments.size>0?Lt(T.va):h.removedDocuments.size>0&&(Lt(T.va),T.va=!1))}),yield mc(i,l,e)}catch(l){yield Gn(l)}})).apply(this,arguments)}function eu(d,e,i){const l=ht(d);if(l.isPrimaryClient&&0===i||!l.isPrimaryClient&&1===i){const h=[];l.Fa.forEach((y,T)=>{const P=T.view.Z_(e);P.snapshot&&h.push(P.snapshot)}),function(T,P){const U=ht(T);U.onlineState=P;let Y=!1;U.queries.forEach((le,Ce)=>{for(const ze of Ce.j_)ze.Z_(P)&&(Y=!0)}),Y&&kg(U)}(l.eventManager,e),h.length&&l.Ca.d_(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function __(d,e,i){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,s.A)(function*(d,e,i){const l=ht(d);l.sharedClientState.updateQueryState(e,"rejected",i);const h=l.Na.get(e),y=h&&h.key;if(y){let T=new Wr(Bt.comparator);T=T.insert(y,mt.newNoDocument(y,Vt.min()));const P=hr().add(y),U=new ws(Vt.min(),new Map,new Wr(Qt),T,P);yield Bg(l,U),l.Oa=l.Oa.remove(y),l.Na.delete(e),rf(l)}else yield qc(l.localStore,e,!1).then(()=>gc(l,e,i)).catch(Gn)})).apply(this,arguments)}function vl(d,e){return $g.apply(this,arguments)}function $g(){return($g=(0,s.A)(function*(d,e){const i=ht(d),l=e.batch.batchId;try{const h=yield function rp(d,e){const i=ht(d);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),y=i.cs.newChangeBuffer({trackRemovals:!0});return function(P,U,Y,le){const Ce=Y.batch,ze=Ce.keys();let Ct=ot.resolve();return ze.forEach(Gt=>{Ct=Ct.next(()=>le.getEntry(U,Gt)).next(un=>{const nn=Y.docVersions.get(Gt);Lt(null!==nn),un.version.compareTo(nn)<0&&(Ce.applyToRemoteDocument(un,Y),un.isValidDocument()&&(un.setReadTime(Y.commitVersion),le.addEntry(un)))})}),Ct.next(()=>P.mutationQueue.removeMutationBatch(U,Ce))}(i,l,e,y).next(()=>y.apply(l)).next(()=>i.mutationQueue.performConsistencyCheck(l)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(P){let U=hr();for(let Y=0;Y<P.mutationResults.length;++Y)P.mutationResults[Y].transformResults.length>0&&(U=U.add(P.batch.mutations[Y].key));return U}(e))).next(()=>i.localDocuments.getDocuments(l,h))})}(i.localStore,e);wp(i,l,null),Cp(i,l),i.sharedClientState.updateMutationState(l,"acknowledged"),yield mc(i,h)}catch(h){yield Gn(h)}})).apply(this,arguments)}function y_(d,e,i){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,s.A)(function*(d,e,i){const l=ht(d);try{const h=yield function(T,P){const U=ht(T);return U.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let le;return U.mutationQueue.lookupMutationBatch(Y,P).next(Ce=>(Lt(null!==Ce),le=Ce.keys(),U.mutationQueue.removeMutationBatch(Y,Ce))).next(()=>U.mutationQueue.performConsistencyCheck(Y)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(Y,le,P)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,le)).next(()=>U.localDocuments.getDocuments(Y,le))})}(l.localStore,e);wp(l,e,i),Cp(l,e),l.sharedClientState.updateMutationState(e,"rejected",i),yield mc(l,h)}catch(h){yield Gn(h)}})).apply(this,arguments)}function Hg(){return(Hg=(0,s.A)(function*(d,e){const i=ht(d);wa(i.remoteStore)||Ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(T){const P=ht(T);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>P.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===l)return void e.resolve();const h=i.ka.get(l)||[];h.push(e),i.ka.set(l,h)}catch(l){const h=jl(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Cp(d,e){(d.ka.get(e)||[]).forEach(i=>{i.resolve()}),d.ka.delete(e)}function wp(d,e,i){const l=ht(d);let h=l.Ba[l.currentUser.toKey()];if(h){const y=h.get(e);y&&(i?y.reject(i):y.resolve(),h=h.remove(e)),l.Ba[l.currentUser.toKey()]=h}}function gc(d,e,i=null){d.sharedClientState.removeLocalQueryTarget(e);for(const l of d.Ma.get(e))d.Fa.delete(l),i&&d.Ca.$a(l,i);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(l=>{d.La.containsKey(l)||nf(d,l)})}function nf(d,e){d.xa.delete(e.path.canonicalString());const i=d.Oa.get(e);null!==i&&(hc(d.remoteStore,i),d.Oa=d.Oa.remove(e),d.Na.delete(i),rf(d))}function tu(d,e,i){for(const l of i)l instanceof vp?(d.La.addReference(l.key,e),v_(d,l)):l instanceof th?(Ie("SyncEngine","Document no longer in limbo: "+l.key),d.La.removeReference(l.key,e),d.La.containsKey(l.key)||nf(d,l.key)):Mt()}function v_(d,e){const i=e.key,l=i.path.canonicalString();d.Oa.get(i)||d.xa.has(l)||(Ie("SyncEngine","New document in limbo: "+i),d.xa.add(l),rf(d))}function rf(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const i=new Bt(sn.fromString(e)),l=d.qa.next();d.Na.set(l,new Jh(i)),d.Oa=d.Oa.insert(i,l),Ku(d.remoteStore,new F(fn(re(i.path)),l,"TargetPurposeLimboResolution",M.oe))}}function mc(d,e,i){return _c.apply(this,arguments)}function _c(){return _c=(0,s.A)(function*(d,e,i){const l=ht(d),h=[],y=[],T=[];var P;l.Fa.isEmpty()||(l.Fa.forEach((P,U)=>{T.push(l.Ka(U,e,i).then(Y=>{var le;if((Y||i)&&l.isPrimaryClient){const Ce=Y?!Y.fromCache:null===(le=i?.targetChanges.get(U.targetId))||void 0===le?void 0:le.current;l.sharedClientState.updateQueryState(U.targetId,Ce?"current":"not-current")}if(Y){h.push(Y);const Ce=np.Wi(U.targetId,Y);y.push(Ce)}}))}),yield Promise.all(T),l.Ca.d_(h),yield(P=(0,s.A)(function*(Y,le){const Ce=ht(Y);try{yield Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",ze=>ot.forEach(le,Ct=>ot.forEach(Ct.$i,Gt=>Ce.persistence.referenceDelegate.addReference(ze,Ct.targetId,Gt)).next(()=>ot.forEach(Ct.Ui,Gt=>Ce.persistence.referenceDelegate.removeReference(ze,Ct.targetId,Gt)))))}catch(ze){if(!Ln(ze))throw ze;Ie("LocalStore","Failed to update sequence numbers: "+ze)}for(const ze of le){const Ct=ze.targetId;if(!ze.fromCache){const Gt=Ce.os.get(Ct),nn=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);Ce.os=Ce.os.insert(Ct,nn)}}}),function U(Y,le){return P.apply(this,arguments)})(l.localStore,y))}),_c.apply(this,arguments)}function Ap(d,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,s.A)(function*(d,e){const i=ht(d);if(!i.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const l=yield Ka(i.localStore,e);i.currentUser=e,(y=i).ka.forEach(P=>{P.forEach(U=>{U.reject(new it(Ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ka.clear(),i.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield mc(i,l.hs)}var y})).apply(this,arguments)}function ih(d,e){const i=ht(d),l=i.Na.get(e);if(l&&l.va)return hr().add(l.key);{let h=hr();const y=i.Ma.get(e);if(!y)return h;for(const T of y){const P=i.Fa.get(T);h=h.unionWith(P.view.Va)}return h}}function af(d,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,s.A)(function*(d,e){const i=ht(d),l=yield _l(i.localStore,e.query,!0),h=e.view.ba(l);return i.isPrimaryClient&&tu(i,e.targetId,h.wa),h})).apply(this,arguments)}function Dp(d,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,s.A)(function*(d,e){const i=ht(d);return yl(i.localStore,e).then(l=>mc(i,l))})).apply(this,arguments)}function E_(d,e,i,l){return yc.apply(this,arguments)}function yc(){return(yc=(0,s.A)(function*(d,e,i,l){const h=ht(d),y=yield function(P,U){const Y=ht(P),le=ht(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Ce=>le.Mn(Ce,U).next(ze=>ze?Y.localDocuments.getDocuments(Ce,ze):ot.resolve(null)))}(h.localStore,e);var U;null!==y?("pending"===i?yield Aa(h.remoteStore):"acknowledged"===i||"rejected"===i?(wp(h,e,l||null),Cp(h,e),U=e,ht(ht(h.localStore).mutationQueue).On(U)):Mt(),yield mc(h,y)):Ie("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function cf(){return(cf=(0,s.A)(function*(d,e){const i=ht(d);if(Rp(i),Kg(i),!0===e&&!0!==i.Qa){const l=i.sharedClientState.getAllActiveQueryTargets(),h=yield T_(i,l.toArray());i.Qa=!0,yield Xd(i.remoteStore,!0);for(const y of h)Ku(i.remoteStore,y)}else if(!1===e&&!1!==i.Qa){const l=[];let h=Promise.resolve();i.Ma.forEach((y,T)=>{i.sharedClientState.isLocalQueryTarget(T)?l.push(T):h=h.then(()=>(gc(i,T),qc(i.localStore,T,!0))),hc(i.remoteStore,T)}),yield h,yield T_(i,l),function(T){const P=ht(T);P.Na.forEach((U,Y)=>{hc(P.remoteStore,Y)}),P.La.pr(),P.Na=new Map,P.Oa=new Wr(Bt.comparator)}(i),i.Qa=!1,yield Xd(i.remoteStore,!1)}})).apply(this,arguments)}function T_(d,e,i){return nu.apply(this,arguments)}function nu(){return(nu=(0,s.A)(function*(d,e,i){const l=ht(d),h=[],y=[];for(const T of e){let P;const U=l.Ma.get(T);if(U&&0!==U.length){P=yield Ca(l.localStore,fn(U[0]));for(const Y of U){const le=l.Fa.get(Y),Ce=yield af(l,le);Ce.snapshot&&y.push(Ce.snapshot)}}else{const Y=yield Hh(l.localStore,T);P=yield Ca(l.localStore,Y),yield ef(l,I_(Y),T,!1,P.resumeToken)}h.push(P)}return l.Ca.d_(y),h})).apply(this,arguments)}function I_(d){return q(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function ru(d){return i=ht(d).localStore,ht(ht(i).persistence).Qi();var i}function Da(d,e,i,l){return zg.apply(this,arguments)}function zg(){return(zg=(0,s.A)(function*(d,e,i,l){const h=ht(d);if(h.Qa)return void Ie("SyncEngine","Ignoring unexpected query state notification.");const y=h.Ma.get(e);if(y&&y.length>0)switch(i){case"current":case"not-current":{const T=yield yl(h.localStore,ec(y[0])),P=ws.createSynthesizedRemoteEventForCurrentChange(e,"current"===i,Pi.EMPTY_BYTE_STRING);yield mc(h,T,P);break}case"rejected":yield qc(h.localStore,e,!0),gc(h,e,l);break;default:Mt()}})).apply(this,arguments)}function By(d,e,i){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,s.A)(function*(d,e,i){const l=Rp(d);if(l.Qa){for(const h of e){if(l.Ma.has(h)&&l.sharedClientState.isActiveQueryTarget(h)){Ie("SyncEngine","Adding an already active target "+h);continue}const y=yield Hh(l.localStore,h),T=yield Ca(l.localStore,y);yield ef(l,I_(y),T.targetId,!1,T.resumeToken),Ku(l.remoteStore,T)}for(const h of i)l.Ma.has(h)&&(yield qc(l.localStore,h,!1).then(()=>{hc(l.remoteStore,h),gc(l,h)}).catch(Gn))}})).apply(this,arguments)}function Rp(d){const e=ht(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ih.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__.bind(null,e),e.Ca.d_=Fg.bind(null,e.eventManager),e.Ca.$a=yp.bind(null,e.eventManager),e}function Kg(d){const e=ht(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y_.bind(null,e),e}let Zu=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var l=this;return(0,s.A)(function*(){l.serializer=Ul(i.databaseInfo.databaseId),l.sharedClientState=l.Wa(i),l.persistence=l.Ga(i),yield l.persistence.start(),l.localStore=l.za(i),l.gcScheduler=l.ja(i,l.localStore),l.indexBackfillerScheduler=l.Ha(i,l.localStore)})()}ja(i,l){return null}Ha(i,l){return null}za(i){return Ld(this.persistence,new Wa,i.initialUser,this.serializer)}Ga(i){return new Bh(Nd.Zr,this.serializer)}Wa(i){return new R}terminate(){var i=this;return(0,s.A)(function*(){var l,h;null===(l=i.gcScheduler)||void 0===l||l.stop(),null===(h=i.indexBackfillerScheduler)||void 0===h||h.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class qg extends Zu{constructor(e,i,l){super(),this.Ja=e,this.cacheSizeBytes=i,this.forceOwnership=l,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var i=()=>super.initialize,l=this;return(0,s.A)(function*(){yield i().call(l,e),yield l.Ja.initialize(l,e),yield Kg(l.Ja.syncEngine),yield Aa(l.Ja.remoteStore),yield l.persistence.yi(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Ld(this.persistence,new Wa,e.initialUser,this.serializer)}ja(e,i){return new ml(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,i)}Ha(e,i){const l=new C(i,this.persistence);return new G(e.asyncQueue,l)}Ga(e){const i=kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new Fd(this.synchronizeTabs,i,e.clientId,l,e.asyncQueue,vo(),aa(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new R}}class Yg extends qg{constructor(e,i){super(e,i,!1),this.Ja=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){var i=()=>super.initialize,l=this;return(0,s.A)(function*(){yield i().call(l,e);const h=l.Ja.syncEngine;l.sharedClientState instanceof v&&(l.sharedClientState.syncEngine={no:E_.bind(null,h),ro:Da.bind(null,h),io:By.bind(null,h),Qi:ru.bind(null,h),eo:Dp.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.yi(function(){var y=(0,s.A)(function*(T){yield function b_(d,e){return cf.apply(this,arguments)}(l.Ja.syncEngine,T),l.gcScheduler&&(T&&!l.gcScheduler.started?l.gcScheduler.start():T||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(T&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():T||l.indexBackfillerScheduler.stop())});return function(T){return y.apply(this,arguments)}}())})()}Wa(e){const i=vo();if(!v.D(i))throw new it(Ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(i,e.asyncQueue,l,e.clientId,e.initialUser)}}let vc=(()=>{class d{initialize(i,l){var h=this;return(0,s.A)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(l),h.remoteStore=h.createRemoteStore(l),h.eventManager=h.createEventManager(l),h.syncEngine=h.createSyncEngine(l,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=y=>eu(h.syncEngine,y,1),h.remoteStore.remoteSyncer.handleCredentialChange=Ap.bind(null,h.syncEngine),yield Xd(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new c_}createDatastore(i){const l=Ul(i.databaseInfo.databaseId),h=new Qr(i.databaseInfo);return new sp(i.authCredentials,i.appCheckCredentials,h,l)}createRemoteStore(i){return h=this.localStore,y=this.datastore,T=i.asyncQueue,P=l=>eu(this.syncEngine,l,0),U=ge.D()?new ge:new J,new Pg(h,y,T,P,U);var h,y,T,P,U}createSyncEngine(i,l){return function(y,T,P,U,Y,le,Ce){const ze=new p_(y,T,P,U,Y,le);return Ce&&(ze.Qa=!0),ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,l)}terminate(){var i=this;return(0,s.A)(function*(){var l,h,y;yield(y=(0,s.A)(function*(P){const U=ht(P);Ie("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield Wd(U),U.k_.shutdown(),U.q_.set("Unknown")}),function T(P){return y.apply(this,arguments)})(i.remoteStore),null===(l=i.datastore)||void 0===l||l.terminate(),null===(h=i.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function iu(d,e=10240){let i=0;return{read:()=>(0,s.A)(function*(){if(i<d.byteLength){const l={value:d.slice(i,i+e),done:!1};return i+=e,l}return{done:!0}})(),cancel:()=>(0,s.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qa{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qe("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout(()=>{this.muted||e(i)},0)}}class uf{constructor(e,i){this.Xa=e,this.serializer=i,this.metadata=new rt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(l=>{l&&l.ua()?this.metadata.resolve(l.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(l?.aa)}`))},l=>this.metadata.reject(l))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,s.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,s.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,s.A)(function*(){const i=yield e.nu();if(null===i)return null;const l=e.eu.decode(i),h=Number(l);isNaN(h)&&e.ru(`length string (${l}) is not valid number`);const y=yield e.iu(h);return new Uy(JSON.parse(y),i.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,s.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const i=e.su();i<0&&e.ru("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,i);return e.buffer=e.buffer.slice(i),l})()}iu(e){var i=this;return(0,s.A)(function*(){for(;i.buffer.length<e;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const l=i.eu.decode(i.buffer.slice(0,e));return i.buffer=i.buffer.slice(e),l})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,s.A)(function*(){const i=yield e.Xa.read();if(!i.done){const l=new Uint8Array(e.buffer.length+i.value.length);l.set(e.buffer),l.set(i.value,e.buffer.length),e.buffer=l}return i.done})()}}class df{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var i=this;return(0,s.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new it(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const l=yield(h=(0,s.A)(function*(T,P){const U=ht(T),Y={documents:P.map(Ct=>Ir(U.serializer,Ct))},le=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,sn.emptyPath(),Y,P.length),Ce=new Map;le.forEach(Ct=>{const Gt=function Pu(d,e){return"found"in e?function(l,h){Lt(!!h.found);const y=Bn(l,h.found.name),T=Si(h.found.updateTime),P=h.found.createTime?Si(h.found.createTime):Vt.min(),U=new Le({mapValue:{fields:h.found.fields}});return mt.newFoundDocument(y,T,P,U)}(d,e):"missing"in e?function(l,h){Lt(!!h.missing),Lt(!!h.readTime);const y=Bn(l,h.missing),T=Si(h.readTime);return mt.newNoDocument(y,T)}(d,e):Mt()}(U.serializer,Ct);Ce.set(Gt.key.toString(),Gt)});const ze=[];return P.forEach(Ct=>{const Gt=Ce.get(Ct.toString());Lt(!!Gt),ze.push(Gt)}),ze}),function y(T,P){return h.apply(this,arguments)})(i.datastore,e);var h;return l.forEach(h=>i.recordVersion(h)),l})()}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastTransactionError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,s.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const i=e.readVersions;var l;e.mutations.forEach(l=>{i.delete(l.key.toString())}),i.forEach((l,h)=>{const y=Bt.fromPath(h);e.mutations.push(new no(y,e.precondition(y)))}),yield(l=(0,s.A)(function*(y,T){const P=ht(y),U={writes:T.map(Y=>ll(P.serializer,Y))};yield P.Mo("Commit",P.serializer.databaseId,sn.emptyPath(),U)}),function h(y,T){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Mt();i=Vt.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!i.isEqual(l))throw new it(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Vt.min())?Q.exists(!1):Q.updateTime(i):Q.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Vt.min()))throw new it(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Q.updateTime(i)}return Q.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xg{constructor(e,i,l,h,y){this.asyncQueue=e,this.datastore=i,this.options=l,this.updateFunction=h,this.deferred=y,this._u=l.maxAttempts,this.t_=new Qc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,s.A)(function*(){const i=new df(e.datastore),l=e.cu(i);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{e.deferred.resolve(h)}).catch(y=>{e.lu(y)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const i=this.updateFunction(e);return!V(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const i=e.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!$s(i)}return!1}}class yi{constructor(e,i,l,h,y){var T=this;this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=l,this.databaseInfo=h,this.user=Ze.UNAUTHENTICATED,this.clientId=Fn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(l,function(){var P=(0,s.A)(function*(U){Ie("FirestoreClient","Received user=",U.uid),yield T.authCredentialListener(U),T.user=U});return function(U){return P.apply(this,arguments)}}()),this.appCheckCredentials.start(l,P=>(Ie("FirestoreClient","Received new app check token=",P),this.appCheckCredentialListener(P,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const i=new rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,s.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),i.resolve()}catch(l){const h=jl(l,"Failed to shutdown persistence");i.reject(h)}})),i.promise}}function C_(d,e){return w_.apply(this,arguments)}function w_(){return w_=(0,s.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const i=d.configuration;yield e.initialize(i);let l=i.initialUser;d.setCredentialChangeListener(function(){var h=(0,s.A)(function*(y){l.isEqual(y)||(yield Ka(e.localStore,y),l=y)});return function(y){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),w_.apply(this,arguments)}function A_(d,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,s.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const i=yield ff(d);Ie("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,d.configuration),d.setCredentialChangeListener(l=>fp(e.remoteStore,l)),d.setAppCheckTokenChangeListener((l,h)=>fp(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function ff(d){return D_.apply(this,arguments)}function D_(){return(D_=(0,s.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield C_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Ve.FAILED_PRECONDITION||h.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;Yt("Error using user provided cache. Falling back to memory cache: "+e),yield C_(d,new Zu)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),yield C_(d,new Zu);var h;return d._offlineComponents})).apply(this,arguments)}function Qg(d){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,s.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield A_(d,d._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield A_(d,new vc))),d._onlineComponents})).apply(this,arguments)}function S_(d){return ff(d).then(e=>e.persistence)}function sh(d){return ff(d).then(e=>e.localStore)}function R_(d){return Qg(d).then(e=>e.remoteStore)}function Jg(d){return Qg(d).then(e=>e.syncEngine)}function Ec(d){return xp.apply(this,arguments)}function xp(){return(xp=(0,s.A)(function*(d){const e=yield Qg(d),i=e.eventManager;return i.onListen=Qu.bind(null,e.syncEngine),i.onUnlisten=Ug.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=g_.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=m_.bind(null,e.syncEngine),i})).apply(this,arguments)}function tm(d,e,i={}){const l=new rt;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function(y,T,P,U,Y){const le=new qa({next:ze=>{le.Za(),T.enqueueAndForget(()=>eh(y,Ce));const Ct=ze.docs.has(P);!Ct&&ze.fromCache?Y.reject(new it(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&ze.fromCache&&U&&"server"===U.source?Y.reject(new it(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(ze)},error:ze=>Y.reject(ze)}),Ce=new Zc(re(P.path),le,{includeMetadataChanges:!0,_a:!0});return mp(y,Ce)}(yield Ec(d),d.asyncQueue,e,i,l)})),l.promise}function Mp(d,e,i={}){const l=new rt;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function(y,T,P,U,Y){const le=new qa({next:ze=>{le.Za(),T.enqueueAndForget(()=>eh(y,Ce)),ze.fromCache&&"server"===U.source?Y.reject(new it(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(ze)},error:ze=>Y.reject(ze)}),Ce=new Zc(P,le,{includeMetadataChanges:!0,_a:!0});return mp(y,Ce)}(yield Ec(d),d.asyncQueue,e,i,l)})),l.promise}function Xy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const oh=new Map;function td(d,e,i){if(!i)throw new it(Ve.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function nm(d,e,i,l){if(!0===e&&!0===l)throw new it(Ve.INVALID_ARGUMENT,`${d} and ${i} cannot be used together.`)}function rm(d){if(!Bt.isDocumentKey(d))throw new it(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Op(d){if(Bt.isDocumentKey(d))throw new it(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function ah(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(l=d).constructor?l.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var l;return"function"==typeof d?"a function":Mt()}function li(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new it(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(d);throw new it(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return d}function im(d,e){if(e<=0)throw new it(Ve.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class sm{constructor(e){var i,l;if(void 0===e.host){if(void 0!==e.ssl)throw new it(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new it(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xy(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(y){if(void 0!==y.timeoutSeconds){if(isNaN(y.timeoutSeconds))throw new it(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new it(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new it(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class su{constructor(e,i,l,h){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new it(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sm(e),void 0!==e.credentials&&(this._authCredentials=function(l){if(!l)return new te;switch(l.type){case"firstParty":return new nt(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new it(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,s.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const l=oh.get(i);l&&(Ie("ComponentProvider","Removing Datastore"),oh.delete(i),l.terminate())}(this),Promise.resolve()}}function Qy(d,e,i,l={}){var h;const y=(d=li(d,su))._getSettings(),T=`${e}:${i}`;if("firestore.googleapis.com"!==y.host&&y.host!==T&&Yt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},y),{host:T,ssl:!1})),l.mockUserToken){let P,U;if("string"==typeof l.mockUserToken)P=l.mockUserToken,U=Ze.MOCK_USER;else{P=(0,fe.Fy)(l.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const Y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!Y)throw new it(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new Ze(Y)}d._authCredentials=new ye(new Me(P,U))}}class io{constructor(e,i,l){this.converter=i,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class ks{constructor(e,i,l){this.converter=i,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ks(this.firestore,e,this._key)}}class Sa extends io{constructor(e,i,l){super(e,i,re(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ks(this.firestore,null,new Bt(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function M_(d,e,...i){if(d=(0,fe.Ku)(d),td("collection","path",e),d instanceof su){const l=sn.fromString(e,...i);return Op(l),new Sa(d,null,l)}{if(!(d instanceof ks||d instanceof Sa))throw new it(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=d._path.child(sn.fromString(e,...i));return Op(l),new Sa(d.firestore,null,l)}}function om(d,e){if(d=li(d,su),td("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new it(Ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(d,null,(l=e,new $o(sn.emptyPath(),l)));var l}function bc(d,e,...i){if(d=(0,fe.Ku)(d),1===arguments.length&&(e=Fn.newId()),td("doc","path",e),d instanceof su){const l=sn.fromString(e,...i);return rm(l),new ks(d,null,new Bt(l))}{if(!(d instanceof ks||d instanceof Sa))throw new it(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=d._path.child(sn.fromString(e,...i));return rm(l),new ks(d.firestore,d instanceof Sa?d.converter:null,new Bt(l))}}function Jy(d,e){return d=(0,fe.Ku)(d),e=(0,fe.Ku)(e),(d instanceof ks||d instanceof Sa)&&(e instanceof ks||e instanceof Sa)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function pf(d,e){return d=(0,fe.Ku)(d),e=(0,fe.Ku)(e),d instanceof io&&e instanceof io&&d.firestore===e.firestore&&lo(d._query,e._query)&&d.converter===e.converter}class gf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Qc(this,"async_queue_retry"),this.Vu=()=>{const l=aa();l&&Ie("AsyncQueue","Visibility state changed to "+l.visibilityState),this.t_.jo()},this.mu=e;const i=aa();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=aa();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new rt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,s.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(i){if(!Ln(i))throw i;Ie("AsyncQueue","Operation failed with retryable error: "+i)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const i=this.mu.then(()=>(this.du=!0,e().catch(l=>{throw this.Eu=l,this.du=!1,Qe("INTERNAL UNHANDLED ERROR: ",function(T){let P=T.message||"";return T.stack&&(P=T.stack.includes(T.message)?T.stack:T.message+"\n"+T.stack),P}(l)),l}).then(l=>(this.du=!1,l))));return this.mu=i,i}enqueueAfterDelay(e,i,l){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const h=pc.createAndSchedule(this,e,i,l,y=>this.yu(y));return this.Tu.push(h),h}fu(){this.Eu&&Mt()}verifyOperationInProgress(){}wu(){var e=this;return(0,s.A)(function*(){let i;do{i=e.mu,yield i}while(i!==e.mu)})()}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((i,l)=>i.targetTimeMs-l.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==e&&i.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function Np(d){return function(i,l){if("object"!=typeof i||null===i)return!1;const h=i;for(const y of["next","error","complete"])if(y in h&&"function"==typeof h[y])return!0;return!1}(d)}class am{constructor(){this._progressObserver={},this._taskCompletionResolver=new rt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,l){this._progressObserver={next:e,error:i,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Fp=-1;class vi extends su{constructor(e,i,l,h){super(e,i,l,h),this.type="firestore",this._queue=new gf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,s.A)(function*(){if(e._firestoreClient){const i=e._firestoreClient.terminate();e._queue=new gf(i),e._firestoreClient=void 0,yield i}})()}}function lm(d,e){const i="object"==typeof d?d:(0,ce.getApp)(),l="string"==typeof d?d:e||"(default)",h=(0,ce._getProvider)(i,"firestore").getImmediate({identifier:l});if(!h._initialized){const y=(0,fe.yU)("firestore");y&&Qy(h,...y)}return h}function As(d){if(d._terminated)throw new it(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||O_(d),d._firestoreClient}function O_(d){var e,i,l;const h=d._freezeSettings(),y=(U=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new qn(d._databaseId,U,d._persistenceKey,(le=h).host,le.ssl,le.experimentalForceLongPolling,le.experimentalAutoDetectLongPolling,Xy(le.experimentalLongPollingOptions),le.useFetchStreams));var U,le;d._componentsProvider||!(null===(i=h.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(l=h.localCache)||void 0===l)&&l._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new yi(d._authCredentials,d._appCheckCredentials,d._queue,y,d._componentsProvider&&function(P){const U=P?._online.build();return{_offline:P?._offline.build(U),_online:U}}(d._componentsProvider))}function N_(d,e){Yt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=d._freezeSettings();return F_(d,vc.provider,{build:l=>new qg(l,i.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function lh(d){return cm.apply(this,arguments)}function cm(){return(cm=(0,s.A)(function*(d){Yt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();F_(d,vc.provider,{build:i=>new Yg(i,e.cacheSizeBytes)})})).apply(this,arguments)}function F_(d,e,i){if((d=li(d,vi))._firestoreClient||d._terminated)throw new it(Ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new it(Ve.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:i},O_(d)}function yE(d){if(d._initialized&&!d._terminated)throw new it(Ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new rt;return d._queue.enqueueAndForgetEvenWhileRestricted((0,s.A)(function*(){try{yield(i=(0,s.A)(function*(h){if(!he.D())return Promise.resolve();const y=h+"main";yield he.delete(y)}),function l(h){return i.apply(this,arguments)})(kd(d._databaseId,d._persistenceKey)),e.resolve()}catch(i){e.reject(i)}var i})),e.promise}function um(d){return function(i){const l=new rt;return i.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function jy(d,e){return Hg.apply(this,arguments)}(yield Jg(i),l)})),l.promise}(As(d=li(d,vi)))}function k_(d){return function em(d){return d.asyncQueue.enqueue((0,s.A)(function*(){const e=yield S_(d),i=yield R_(d);return e.setNetworkEnabled(!0),function(h){const y=ht(h);return y.L_.delete(0),la(y)}(i)}))}(As(d=li(d,vi)))}function Zy(d){return function Hy(d){return d.asyncQueue.enqueue((0,s.A)(function*(){const e=yield S_(d),i=yield R_(d);return e.setNetworkEnabled(!1),(l=(0,s.A)(function*(y){const T=ht(y);T.L_.add(0),yield Wd(T),T.q_.set("Offline")}),function h(y){return l.apply(this,arguments)})(i);var l}))}(As(d=li(d,vi)))}function hm(d,e){const i=As(d=li(d,vi)),l=new am;return function Ky(d,e,i,l){const h=function(T,P){let U;return U="string"==typeof T?Iu().encode(T):T,le=function(le,Ce){if(le instanceof Uint8Array)return iu(le,void 0);if(le instanceof ArrayBuffer)return iu(new Uint8Array(le),void 0);if(le instanceof ReadableStream)return le.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new uf(le,P);var le}(i,Ul(e));d.asyncQueue.enqueueAndForget((0,s.A)(function*(){!function $y(d,e,i){const l=ht(d);var h;(h=(0,s.A)(function*(T,P,U){try{const Y=yield P.getMetadata();if(yield function(Gt,un){const nn=ht(Gt),zn=Si(un.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",ar=>nn.Gr.getBundleMetadata(ar,un.id)).then(ar=>!!ar&&ar.createTime.compareTo(zn)>=0)}(T.localStore,Y))return yield P.close(),U._completeWith({taskState:"Success",documentsLoaded:(Gt=Y).totalDocuments,bytesLoaded:Gt.totalBytes,totalDocuments:Gt.totalDocuments,totalBytes:Gt.totalBytes}),Promise.resolve(new Set);U._updateProgress(Qh(Y));const le=new h_(Y,T.localStore,P.serializer);let Ce=yield P.Ua();for(;Ce;){const Ct=yield le.la(Ce);Ct&&U._updateProgress(Ct),Ce=yield P.Ua()}const ze=yield le.complete();return yield mc(T,ze.Ia,void 0),yield function(Gt,un){const nn=ht(Gt);return nn.persistence.runTransaction("Save bundle","readwrite",zn=>nn.Gr.saveBundleMetadata(zn,un))}(T.localStore,Y),U._completeWith(ze.progress),Promise.resolve(ze.Pa)}catch(Y){return Yt("SyncEngine",`Loading bundle failed with ${Y}`),U._failWith(Y),Promise.resolve(new Set)}var Gt}),function y(T,P,U){return h.apply(this,arguments)})(l,e,i).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield Jg(d),h,l)}))}(i,d._databaseId,e,l),l}function vE(d,e){return function qy(d,e){return d.asyncQueue.enqueue((0,s.A)(function*(){return function(l,h){const y=ht(l);return y.persistence.runTransaction("Get named query","readonly",T=>y.Gr.getNamedQuery(T,h))}(yield sh(d),e)}))}(As(d=li(d,vi)),e).then(i=>i?new io(d,null,i.query):null)}class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(Pi.fromBase64String(e))}catch(i){throw new it(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ou(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nd{constructor(...e){for(let i=0;i<e.length;++i)if(0===e[i].length)throw new it(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bl{constructor(e){this._methodName=e}}class kp{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}class ch{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(l,h){if(l.length!==h.length)return!1;for(let y=0;y<l.length;++y)if(l[y]!==h[y])return!1;return!0}(this._values,e._values)}}const fm=/^__.*__$/;class uh{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return null!==this.fieldMask?new ai(e,this.data,this.fieldMask,i,this.fieldTransforms):new fr(e,this.data,i,this.fieldTransforms)}}class Lp{constructor(e,i,l){this.data=e,this.fieldMask=i,this.fieldTransforms=l}toMutation(e,i){return new ai(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function rd(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class Ra{constructor(e,i,l,h,y,T){this.settings=e,this.databaseId=i,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===y&&this.vu(),this.fieldTransforms=y||[],this.fieldMask=T||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ra(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const l=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:l,xu:!1});return h.Ou(e),h}Nu(e){var i;const l=null===(i=this.path)||void 0===i?void 0:i.child(e),h=this.Fu({path:l,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(i=>e.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>e.isPrefixOf(i.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(rd(this.Cu)&&fm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class id{constructor(e,i,l){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=l||Ul(e)}Qu(e,i,l,h=!1){return new Ra({Cu:e,methodName:i,qu:l,path:Yn.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qo(d){const e=d._freezeSettings(),i=Ul(d._databaseId);return new id(d._databaseId,!!e.ignoreUndefinedProperties,i)}function Tc(d,e,i,l,h,y={}){const T=d.Qu(y.merge||y.mergeFields?2:0,e,i,h);_m("Data must be an object, but it was:",T,l);const P=mm(l,T);let U,Y;if(y.merge)U=new di(T.fieldMask),Y=T.fieldTransforms;else if(y.mergeFields){const le=[];for(const Ce of y.mergeFields){const ze=Up(e,Ce,i);if(!T.contains(ze))throw new it(Ve.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);j_(le,ze)||le.push(ze)}U=new di(le),Y=T.fieldTransforms.filter(Ce=>U.covers(Ce.field))}else U=null,Y=T.fieldTransforms;return new uh(new Le(P),U,Y)}class $l extends Bl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $l}}function yf(d,e,i){return new Ra({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class L_ extends Bl{_toFieldTransform(e){return new x(e.path,new wl)}isEqual(e){return e instanceof L_}}class dh extends Bl{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=yf(this,e,!0),l=this.Ku.map(y=>Ic(y,i)),h=new Ho(l);return new x(e.path,h)}isEqual(e){return e instanceof dh&&(0,fe.bD)(this.Ku,e.Ku)}}class sd extends Bl{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=yf(this,e,!0),l=this.Ku.map(y=>Ic(y,i)),h=new Va(l);return new x(e.path,h)}isEqual(e){return e instanceof sd&&(0,fe.bD)(this.Ku,e.Ku)}}class pm extends Bl{constructor(e,i){super(e),this.$u=i}_toFieldTransform(e){const i=new Ua(e.serializer,bu(e.serializer,this.$u));return new x(e.path,i)}isEqual(e){return e instanceof pm&&this.$u===e.$u}}function Vp(d,e,i,l){const h=d.Qu(1,e,i);_m("Data must be an object, but it was:",h,l);const y=[],T=Le.empty();oi(l,(U,Y)=>{const le=od(e,U,i);Y=(0,fe.Ku)(Y);const Ce=h.Nu(le);if(Y instanceof $l)y.push(le);else{const ze=Ic(Y,Ce);null!=ze&&(y.push(le),T.set(le,ze))}});const P=new di(y);return new Lp(T,P,h.fieldTransforms)}function gm(d,e,i,l,h,y){const T=d.Qu(1,e,i),P=[Up(e,l,i)],U=[h];if(y.length%2!=0)throw new it(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<y.length;ze+=2)P.push(Up(e,y[ze])),U.push(y[ze+1]);const Y=[],le=Le.empty();for(let ze=P.length-1;ze>=0;--ze)if(!j_(Y,P[ze])){const Ct=P[ze];let Gt=U[ze];Gt=(0,fe.Ku)(Gt);const un=T.Nu(Ct);if(Gt instanceof $l)Y.push(Ct);else{const nn=Ic(Gt,un);null!=nn&&(Y.push(Ct),le.set(Ct,nn))}}const Ce=new di(Y);return new Lp(le,Ce,T.fieldTransforms)}function V_(d,e,i,l=!1){return Ic(i,d.Qu(l?4:3,e))}function Ic(d,e){if(U_(d=(0,fe.Ku)(d)))return _m("Unsupported field value:",e,d),mm(d,e);if(d instanceof Bl)return function(l,h){if(!rd(h.Cu))throw h.Bu(`${l._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${l._methodName}() is not currently supported inside arrays`);const y=l._toFieldTransform(h);y&&h.fieldTransforms.push(y)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(l,h){const y=[];let T=0;for(const P of l){let U=Ic(P,h.Lu(T));null==U&&(U={nullValue:"NULL_VALUE"}),y.push(U),T++}return{arrayValue:{values:y}}}(d,e)}return function(l,h){if(null===(l=(0,fe.Ku)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return bu(h.serializer,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){const y=Ht.fromDate(l);return{timestampValue:xo(h.serializer,y)}}if(l instanceof Ht){const y=new Ht(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:xo(h.serializer,y)}}if(l instanceof kp)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof ou)return{bytesValue:Su(h.serializer,l._byteString)};if(l instanceof ks){const y=h.databaseId,T=l.firestore._databaseId;if(!T.isEqual(y))throw h.Bu(`Document reference is for database ${T.projectId}/${T.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:Ea(l.firestore._databaseId||h.databaseId,l._key.path)}}if(l instanceof ch)return P=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(U=>{if("number"!=typeof U)throw P.Bu("VectorValues must only contain numeric values.");return mo(P.serializer,U)})}}}}};var P;throw h.Bu(`Unsupported field value: ${ah(l)}`)}(d,e)}function mm(d,e){const i={};return bs(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(d,(l,h)=>{const y=Ic(h,e.Mu(l));null!=y&&(i[l]=y)}),{mapValue:{fields:i}}}function U_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Ht||d instanceof kp||d instanceof ou||d instanceof ks||d instanceof Bl||d instanceof ch)}function _m(d,e,i){if(!U_(i)||"object"!=typeof(h=i)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const l=ah(i);throw e.Bu("an object"===l?d+" a custom object":d+" "+l)}var h}function Up(d,e,i){if((e=(0,fe.Ku)(e))instanceof nd)return e._internalPath;if("string"==typeof e)return od(d,e);throw hh("Field path arguments must be of type string or ",d,!1,void 0,i)}const tv=new RegExp("[~\\*/\\[\\]]");function od(d,e,i){if(e.search(tv)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,i);try{return new nd(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,i)}}function hh(d,e,i,l,h){const y=l&&!l.isEmpty(),T=void 0!==h;let P=`Function ${e}() called with invalid data`;i&&(P+=" (via `toFirestore()`)"),P+=". ";let U="";return(y||T)&&(U+=" (found",y&&(U+=` in field ${l}`),T&&(U+=` in document ${h}`),U+=")"),new it(Ve.INVALID_ARGUMENT,P+d+U)}function j_(d,e){return d.some(i=>i.isEqual(e))}class fh{constructor(e,i,l,h,y){this._firestore=e,this._userDataWriter=i,this._key=l,this._document=h,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new ks(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ym(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ad("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}}}class ym extends fh{data(){return super.data()}}function ad(d,e){return"string"==typeof e?od(d,e):e instanceof nd?e._internalPath:e._delegate._internalPath}function B_(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new it(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vf{}class Ya extends vf{}function so(d,e,...i){let l=[];e instanceof vf&&l.push(e),l=l.concat(i),function(y){const T=y.filter(U=>U instanceof wc).length,P=y.filter(U=>U instanceof Cc).length;if(T>1||T>0&&P>0)throw new it(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)d=h._apply(d);return d}class Cc extends Ya{constructor(e,i,l){super(),this._field=e,this._op=i,this._value=l,this.type="where"}static _create(e,i,l){return new Cc(e,i,l)}_apply(e){const i=this._parse(e);return H_(e._query,i),new io(e.firestore,e.converter,Xs(e._query,i))}_parse(e){const i=Qo(e.firestore);return function(y,T,P,U,Y,le,Ce){let ze;if(Y.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new it(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on documentId().`);if("in"===le||"not-in"===le){lv(Ce,le);const Ct=[];for(const Gt of Ce)Ct.push(av(U,y,Gt));ze={arrayValue:{values:Ct}}}else ze=av(U,y,Ce)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||lv(Ce,le),ze=V_(P,"where",Ce,"in"===le||"not-in"===le);return Nn.create(Y,le,ze)}(e._query,0,i,e.firestore._databaseId,this._field,this._op,this._value)}}function vm(d,e,i){const l=e,h=ad("where",d);return Cc._create(h,l,i)}class wc extends vf{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new wc(e,i)}_parse(e){const i=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===i.length?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return 0===i.getFilters().length?e:(function(h,y){let T=h;const P=y.getFlattenedFilters();for(const U of P)H_(T,U),T=Xs(T,U)}(e._query,i),new io(e.firestore,e.converter,Xs(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cd extends Ya{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new cd(e,i)}_apply(e){const i=function(h,y,T){if(null!==h.startAt)throw new it(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new it(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wn(y,T)}(e._query,this._field,this._direction);return new io(e.firestore,e.converter,function(h,y){const T=h.explicitOrderBy.concat([y]);return new $o(h.path,h.collectionGroup,T,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,i))}}function nv(d,e="asc"){const i=e,l=ad("orderBy",d);return cd._create(l,i)}class Ef extends Ya{constructor(e,i,l){super(),this.type=e,this._limit=i,this._limitType=l}static _create(e,i,l){return new Ef(e,i,l)}_apply(e){return new io(e.firestore,e.converter,ts(e._query,this._limit,this._limitType))}}function rv(d){return im("limit",d),Ef._create("limit",d,"F")}function iv(d){return im("limitToLast",d),Ef._create("limitToLast",d,"L")}class Em extends Ya{constructor(e,i,l){super(),this.type=e,this._docOrFields=i,this._inclusive=l}static _create(e,i,l){return new Em(e,i,l)}_apply(e){const i=G_(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(y=i,new $o((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,y,h.endAt)));var h,y}}function sv(...d){return Em._create("startAt",d,!0)}function ov(...d){return Em._create("startAfter",d,!1)}class ph extends Ya{constructor(e,i,l){super(),this.type=e,this._docOrFields=i,this._inclusive=l}static _create(e,i,l){return new ph(e,i,l)}_apply(e){const i=G_(e,this.type,this._docOrFields,this._inclusive);return new io(e.firestore,e.converter,(y=i,new $o((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,y)));var h,y}}function H0(...d){return ph._create("endBefore",d,!1)}function $_(...d){return ph._create("endAt",d,!0)}function G_(d,e,i,l){if(i[0]=(0,fe.Ku)(i[0]),i[0]instanceof fh)return function(y,T,P,U,Y){if(!U)throw new it(Ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const le=[];for(const Ce of $e(y))if(Ce.field.isKeyField())le.push(cr(T,U.key));else{const ze=U.data.field(Ce.field);if(gi(ze))throw new it(Ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ze){const Ct=Ce.field.canonicalString();throw new it(Ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}le.push(ze)}return new qt(le,Y)}(d._query,d.firestore._databaseId,e,i[0]._document,l);{const h=Qo(d.firestore);return function(T,P,U,Y,le,Ce){const ze=T.explicitOrderBy;if(le.length>ze.length)throw new it(Ve.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let Gt=0;Gt<le.length;Gt++){const un=le[Gt];if(ze[Gt].field.isKeyField()){if("string"!=typeof un)throw new it(Ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof un}`);if(!de(T)&&-1!==un.indexOf("/"))throw new it(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${un}' contains a slash.`);const nn=T.path.child(sn.fromString(un));if(!Bt.isDocumentKey(nn))throw new it(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const zn=new Bt(nn);Ct.push(cr(P,zn))}else{const nn=V_(U,Y,un);Ct.push(nn)}}return new qt(Ct,Ce)}(d._query,d.firestore._databaseId,h,e,i,l)}}function av(d,e,i){if("string"==typeof(i=(0,fe.Ku)(i))){if(""===i)throw new it(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!de(e)&&-1!==i.indexOf("/"))throw new it(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const l=e.path.child(sn.fromString(i));if(!Bt.isDocumentKey(l))throw new it(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return cr(d,new Bt(l))}if(i instanceof ks)return cr(d,i._key);throw new it(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function lv(d,e){if(!Array.isArray(d)||0===d.length)throw new it(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H_(d,e){const i=function(h,y){for(const T of h)for(const P of T.getFlattenedFilters())if(y.indexOf(P.op)>=0)return P.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new it(Ve.INVALID_ARGUMENT,i===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class bm{convertValue(e,i="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const l={};return oi(e,(h,y)=>{l[h]=this.convertValue(y,i)}),l}convertVectorValue(e){var i,l,h;const y=null===(h=null===(l=null===(i=e.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===l?void 0:l.values)||void 0===h?void 0:h.map(T=>ti(T.doubleValue));return new ch(y)}convertGeoPoint(e){return new kp(ti(e.latitude),ti(e.longitude))}convertArray(e,i){return(e.values||[]).map(l=>this.convertValue(l,i))}convertServerTimestamp(e,i){switch(i){case"previous":const l=$i(e);return null==l?null:this.convertValue(l,i);case"estimate":return this.convertTimestamp(xi(e));default:return null}}convertTimestamp(e){const i=Ks(e);return new Ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const l=sn.fromString(e);Lt(A(l));const h=new Kr(l.get(1),l.get(3)),y=new Bt(l.popFirst(5));return h.isEqual(i)||Qe(`Document ${y} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),y}}function bf(d,e,i){let l;return l=d?i&&(i.merge||i.mergeFields)?d.toFirestore(e,i):d.toFirestore(e):e,l}class Tm extends bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ks(this.firestore,null,i)}}class Tf{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class au extends fh{constructor(e,i,l,h,y,T){super(e,i,l,h,T),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const l=this._document.data.field(ad("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,i.serverTimestamps)}}}class Xa extends au{data(e={}){return super.data(e)}}class Ac{constructor(e,i,l,h){this._firestore=e,this._userDataWriter=i,this._snapshot=h,this.metadata=new Tf(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,i){this._snapshot.docs.forEach(l=>{e.call(i,new Xa(this._firestore,this._userDataWriter,l.key,l,new Tf(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(h,y){if(h._snapshot.oldDocs.isEmpty()){let T=0;return h._snapshot.docChanges.map(P=>({type:"added",doc:new Xa(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Tf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:T++}))}{let T=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(P=>y||3!==P.type).map(P=>{const U=new Xa(h._firestore,h._userDataWriter,P.doc.key,P.doc,new Tf(h._snapshot.mutatedKeys.has(P.doc.key),h._snapshot.fromCache),h.query.converter);let Y=-1,le=-1;return 0!==P.type&&(Y=T.indexOf(P.doc.key),T=T.delete(P.doc.key)),1!==P.type&&(T=T.add(P.doc),le=T.indexOf(P.doc.key)),{type:TE(P.type),doc:U,oldIndex:Y,newIndex:le}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function TE(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function IE(d,e){return d instanceof au&&e instanceof au?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Ac&&e instanceof Ac&&d._firestore===e._firestore&&pf(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function CE(d){d=li(d,ks);const e=li(d.firestore,vi);return tm(As(e),d._key).then(i=>K_(e,d,i))}class Dc extends bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ks(this.firestore,null,i)}}function Sc(d){d=li(d,ks);const e=li(d.firestore,vi),i=As(e),l=new Dc(e);return function ed(d,e){const i=new rt;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return(l=(0,s.A)(function*(y,T,P){try{const U=yield function(le,Ce){const ze=ht(le);return ze.persistence.runTransaction("read document","readonly",Ct=>ze.localDocuments.getDocument(Ct,Ce))}(y,T);U.isFoundDocument()?P.resolve(U):U.isNoDocument()?P.resolve(null):P.reject(new it(Ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const Y=jl(U,`Failed to get document '${T} from cache`);P.reject(Y)}}),function h(y,T,P){return l.apply(this,arguments)})(yield sh(d),e,i);var l})),i.promise}(i,d._key).then(h=>new au(e,l,d._key,h,new Tf(null!==h&&h.hasLocalMutations,!0),d.converter))}function hv(d){d=li(d,ks);const e=li(d.firestore,vi);return tm(As(e),d._key,{source:"server"}).then(i=>K_(e,d,i))}function wE(d){d=li(d,io);const e=li(d.firestore,vi),i=As(e),l=new Dc(e);return B_(d._query),Mp(i,d._query).then(h=>new Ac(e,l,d,h))}function z0(d){d=li(d,io);const e=li(d.firestore,vi),i=As(e),l=new Dc(e);return function zy(d,e){const i=new rt;return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return(l=(0,s.A)(function*(y,T,P){try{const U=yield _l(y,T,!0),Y=new f_(T,U.Ts),le=Y.ma(U.documents),Ce=Y.applyChanges(le,!1);P.resolve(Ce.snapshot)}catch(U){const Y=jl(U,`Failed to execute query '${T} against cache`);P.reject(Y)}}),function h(y,T,P){return l.apply(this,arguments)})(yield sh(d),e,i);var l})),i.promise}(i,d._query).then(h=>new Ac(e,l,d,h))}function Eo(d){d=li(d,io);const e=li(d.firestore,vi),i=As(e),l=new Dc(e);return Mp(i,d._query,{source:"server"}).then(h=>new Ac(e,l,d,h))}function AE(d,e,i){d=li(d,ks);const l=li(d.firestore,vi),h=bf(d.converter,e,i);return gh(l,[Tc(Qo(l),"setDoc",d._key,h,null!==d.converter,i).toMutation(d._key,Q.none())])}function z_(d,e,i,...l){d=li(d,ks);const h=li(d.firestore,vi),y=Qo(h);let T;return T="string"==typeof(e=(0,fe.Ku)(e))||e instanceof nd?gm(y,"updateDoc",d._key,e,i,l):Vp(y,"updateDoc",d._key,e),gh(h,[T.toMutation(d._key,Q.exists(!0))])}function DE(d){return gh(li(d.firestore,vi),[new Gi(d._key,Q.none())])}function SE(d,e){const i=li(d.firestore,vi),l=bc(d),h=bf(d.converter,e);return gh(i,[Tc(Qo(d.firestore),"addDoc",l._key,h,null!==d.converter,{}).toMutation(l._key,Q.exists(!1))]).then(()=>l)}function W_(d,...e){var i,l,h;d=(0,fe.Ku)(d);let y={includeMetadataChanges:!1,source:"default"},T=0;"object"!=typeof e[T]||Np(e[T])||(y=e[T],T++);const P={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(Np(e[T])){const Ce=e[T];e[T]=null===(i=Ce.next)||void 0===i?void 0:i.bind(Ce),e[T+1]=null===(l=Ce.error)||void 0===l?void 0:l.bind(Ce),e[T+2]=null===(h=Ce.complete)||void 0===h?void 0:h.bind(Ce)}let U,Y,le;if(d instanceof ks)Y=li(d.firestore,vi),le=re(d._key.path),U={next:Ce=>{e[T]&&e[T](K_(Y,d,Ce))},error:e[T+1],complete:e[T+2]};else{const Ce=li(d,io);Y=li(Ce.firestore,vi),le=Ce._query;const ze=new Dc(Y);U={next:Ct=>{e[T]&&e[T](new Ac(Y,ze,Ce,Ct))},error:e[T+1],complete:e[T+2]},B_(d._query)}return function(ze,Ct,Gt,un){const nn=new qa(un),zn=new Zc(Ct,nn,Gt);return ze.asyncQueue.enqueueAndForget((0,s.A)(function*(){return mp(yield Ec(ze),zn)})),()=>{nn.Za(),ze.asyncQueue.enqueueAndForget((0,s.A)(function*(){return eh(yield Ec(ze),zn)}))}}(As(Y),le,P,U)}function fv(d,e){return function Wy(d,e){const i=new qa(e);return d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return h=yield Ec(d),y=i,ht(h).Y_.add(y),void y.next();var h,y})),()=>{i.Za(),d.asyncQueue.enqueueAndForget((0,s.A)(function*(){return h=yield Ec(d),y=i,void ht(h).Y_.delete(y);var h,y}))}}(As(d=li(d,vi)),Np(e)?e:{next:e})}function gh(d,e){return function(l,h){const y=new rt;return l.asyncQueue.enqueueAndForget((0,s.A)(function*(){return function Tp(d,e,i){return Ju.apply(this,arguments)}(yield Jg(l),h,y)})),y.promise}(As(d),e)}function K_(d,e,i){const l=i.docs.get(e._key),h=new Dc(d);return new au(d,h,e._key,l,new Tf(i.hasPendingWrites,i.fromCache),e.converter)}const Gp={maxAttempts:5};class Hp{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Qo(e)}set(e,i,l){this._verifyNotCommitted();const h=lu(e,this._firestore),y=bf(h.converter,i,l),T=Tc(this._dataReader,"WriteBatch.set",h._key,y,null!==h.converter,l);return this._mutations.push(T.toMutation(h._key,Q.none())),this}update(e,i,l,...h){this._verifyNotCommitted();const y=lu(e,this._firestore);let T;return T="string"==typeof(i=(0,fe.Ku)(i))||i instanceof nd?gm(this._dataReader,"WriteBatch.update",y._key,i,l,h):Vp(this._dataReader,"WriteBatch.update",y._key,i),this._mutations.push(T.toMutation(y._key,Q.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=lu(e,this._firestore);return this._mutations=this._mutations.concat(new Gi(i._key,Q.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lu(d,e){if((d=(0,fe.Ku)(d)).firestore!==e)throw new it(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class Ev extends class{constructor(i,l){this._firestore=i,this._transaction=l,this._dataReader=Qo(i)}get(i){const l=lu(i,this._firestore),h=new Tm(this._firestore);return this._transaction.lookup([l._key]).then(y=>{if(!y||1!==y.length)return Mt();const T=y[0];if(T.isFoundDocument())return new fh(this._firestore,h,T.key,T,l.converter);if(T.isNoDocument())return new fh(this._firestore,h,l._key,null,l.converter);throw Mt()})}set(i,l,h){const y=lu(i,this._firestore),T=bf(y.converter,l,h),P=Tc(this._dataReader,"Transaction.set",y._key,T,null!==y.converter,h);return this._transaction.set(y._key,P),this}update(i,l,h,...y){const T=lu(i,this._firestore);let P;return P="string"==typeof(l=(0,fe.Ku)(l))||l instanceof nd?gm(this._dataReader,"Transaction.update",T._key,l,h,y):Vp(this._dataReader,"Transaction.update",T._key,l),this._transaction.update(T._key,P),this}delete(i){const l=lu(i,this._firestore);return this._transaction.delete(l._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=lu(e,this._firestore),l=new Dc(this._firestore);return super.get(e).then(h=>new au(this._firestore,l,i._key,h._document,new Tf(!1,!1),i.converter))}}function OE(d,e,i){d=li(d,vi);const l=Object.assign(Object.assign({},Gp),i);return function(y){if(y.maxAttempts<1)throw new it(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(y,T,P){const U=new rt;return y.asyncQueue.enqueueAndForget((0,s.A)(function*(){const Y=yield function Zg(d){return Qg(d).then(e=>e.datastore)}(y);new Xg(y.asyncQueue,Y,P,T,U).au()})),U.promise}(As(d),h=>e(new Ev(d,h)),l)}function NE(){return new $l("deleteField")}function FE(){return new L_("serverTimestamp")}function kE(...d){return new dh("arrayUnion",d)}function bv(...d){return new sd("arrayRemove",d)}function K0(d){return new pm("increment",d)}!function(e,i=!0){Ke=ce.SDK_VERSION,(0,ce._registerComponent)(new r.uA("firestore",(l,{instanceIdentifier:h,options:y})=>{const T=l.getProvider("app").getImmediate(),P=new vi(new ke(l.getProvider("auth-internal")),new bn(l.getProvider("app-check-internal")),function(Y,le){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new it(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kr(Y.options.projectId,le)}(T,h),T);return y=Object.assign({useFetchStreams:i},y),P._setSettings(y),P},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ae,"4.7.3",e),(0,ce.registerVersion)(Ae,"4.7.3","esm2017")}()},4535:(tn,Ye,L)=>{L.d(Ye,{Ad:()=>On,D5:()=>pn,KR:()=>Li,Mp:()=>Bs,Mx:()=>ei,TZ:()=>Wt,UC:()=>oi,UY:()=>Mn,XR:()=>as,ZH:()=>Tn,_w:()=>cr,bp:()=>Ds,c7:()=>qr,nb:()=>ls,nw:()=>En,p_:()=>tr,qk:()=>Zi,uj:()=>Qe,xc:()=>Vn,yb:()=>Gr});var s=L(467),ce=L(7852),r=L(1076),be=L(1362);const fe="firebasestorage.googleapis.com",Ee="storageBucket";class K extends r.g{constructor(ee,Re,Le=0){super(pe(ee),`Firebase Storage: ${Re} (${pe(ee)})`),this.status_=Le,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,K.prototype)}get status(){return this.status_}set status(ee){this.status_=ee}_codeEquals(ee){return pe(ee)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ee){this.customData.serverResponse=ee,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ie=function(ne){return ne.UNKNOWN="unknown",ne.OBJECT_NOT_FOUND="object-not-found",ne.BUCKET_NOT_FOUND="bucket-not-found",ne.PROJECT_NOT_FOUND="project-not-found",ne.QUOTA_EXCEEDED="quota-exceeded",ne.UNAUTHENTICATED="unauthenticated",ne.UNAUTHORIZED="unauthorized",ne.UNAUTHORIZED_APP="unauthorized-app",ne.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ne.INVALID_CHECKSUM="invalid-checksum",ne.CANCELED="canceled",ne.INVALID_EVENT_NAME="invalid-event-name",ne.INVALID_URL="invalid-url",ne.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ne.NO_DEFAULT_BUCKET="no-default-bucket",ne.CANNOT_SLICE_BLOB="cannot-slice-blob",ne.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ne.NO_DOWNLOAD_URL="no-download-url",ne.INVALID_ARGUMENT="invalid-argument",ne.INVALID_ARGUMENT_COUNT="invalid-argument-count",ne.APP_DELETED="app-deleted",ne.INVALID_ROOT_OPERATION="invalid-root-operation",ne.INVALID_FORMAT="invalid-format",ne.INTERNAL_ERROR="internal-error",ne.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ne}(ie||{});function pe(ne){return"storage/"+ne}function Pe(){return new K(ie.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jt(){return new K(ie.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function He(){return new K(ie.CANCELED,"User canceled the upload/download.")}function lt(){return new K(ie.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qe(ne){return new K(ie.INVALID_ARGUMENT,ne)}function Yt(){return new K(ie.APP_DELETED,"The Firebase app was deleted.")}function Mn(ne){return new K(ie.INVALID_ROOT_OPERATION,"The operation '"+ne+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mt(ne,ee){return new K(ie.INVALID_FORMAT,"String does not match format '"+ne+"': "+ee)}function Lt(ne){throw new K(ie.INTERNAL_ERROR,"Internal error: "+ne)}class Wt{constructor(ee,Re){this.bucket=ee,this.path_=Re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ee=encodeURIComponent;return"/b/"+ee(this.bucket)+"/o/"+ee(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ee,Re){let Le;try{Le=Wt.makeFromUrl(ee,Re)}catch{return new Wt(ee,"")}if(""===Le.path)return Le;throw function Ze(ne){return new K(ie.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ne+"'.")}(ee)}static makeFromUrl(ee,Re){let Le=null;const et="([A-Za-z0-9.\\-_]+)",In=new RegExp("^gs://"+et+"(/(.*))?$","i");function Wn(Ti){Ti.path_=decodeURIComponent(Ti.path)}const An=Re.replace(/[.]/g,"\\."),Dr=[{regex:In,indices:{bucket:1,path:3},postModify:function mt(Ti){"/"===Ti.path.charAt(Ti.path.length-1)&&(Ti.path_=Ti.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${An}/v[A-Za-z0-9_]+/b/${et}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Wn},{regex:new RegExp(`^https?://${Re===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":Re}/${et}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Wn}];for(let Ti=0;Ti<Dr.length;Ti++){const wi=Dr[Ti],Pr=wi.regex.exec(ee);if(Pr){let cs=Pr[wi.indices.path];cs||(cs=""),Le=new Wt(Pr[wi.indices.bucket],cs),wi.postModify(Le);break}}if(null==Le)throw function Ae(ne){return new K(ie.INVALID_URL,"Invalid URL '"+ne+"'.")}(ee);return Le}}class ht{constructor(ee){this.promise_=Promise.reject(ee)}getPromise(){return this.promise_}cancel(ee=!1){}}function ye(ne){return"string"==typeof ne||ne instanceof String}function ke(ne){return st()&&ne instanceof Blob}function st(){return typeof Blob<"u"}function nt(ne,ee,Re,Le){if(Le<ee)throw Qe(`Invalid value for '${ne}'. Expected ${ee} or greater.`);if(Le>Re)throw Qe(`Invalid value for '${ne}'. Expected ${Re} or less.`)}function Ft(ne,ee,Re){let Le=ee;return null==Re&&(Le=`https://${ee}`),`${Re}://${Le}/v0${ne}`}function bn(ne){const ee=encodeURIComponent;let Re="?";for(const Le in ne)ne.hasOwnProperty(Le)&&(Re=Re+(ee(Le)+"=")+ee(ne[Le])+"&");return Re=Re.slice(0,-1),Re}var er=function(ne){return ne[ne.NO_ERROR=0]="NO_ERROR",ne[ne.NETWORK_ERROR=1]="NETWORK_ERROR",ne[ne.ABORT=2]="ABORT",ne}(er||{});function rn(ne,ee){const Re=ne>=500&&ne<600,et=-1!==[408,429].indexOf(ne),mt=-1!==ee.indexOf(ne);return Re||et||mt}class Fn{constructor(ee,Re,Le,et,mt,qt,In,hn,Wn,wr,An,Nn=!0){this.url_=ee,this.method_=Re,this.headers_=Le,this.body_=et,this.successCodes_=mt,this.additionalRetryCodes_=qt,this.callback_=In,this.errorCallback_=hn,this.timeout_=Wn,this.progressCallback_=wr,this.connectionFactory_=An,this.retry=Nn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Jn,Nr)=>{this.resolve_=Jn,this.reject_=Nr,this.start_()})}start_(){const Re=(Le,et)=>{const mt=this.resolve_,qt=this.reject_,In=et.connection;if(et.wasSuccessCode)try{const hn=this.callback_(In,In.getResponse());!function rt(ne){return void 0!==ne}(hn)?mt():mt(hn)}catch(hn){qt(hn)}else if(null!==In){const hn=Pe();hn.serverResponse=In.getErrorText(),qt(this.errorCallback_?this.errorCallback_(In,hn):hn)}else qt(et.canceled?this.appDelete_?Yt():He():jt())};this.canceled_?Re(0,new Qt(!1,null,!0)):this.backoffId_=function Ve(ne,ee,Re){let Le=1,et=null,mt=null,qt=!1,In=0;function hn(){return 2===In}let Wn=!1;function wr(...Yr){Wn||(Wn=!0,ee.apply(null,Yr))}function An(Yr){et=setTimeout(()=>{et=null,ne(Jn,hn())},Yr)}function Nn(){mt&&clearTimeout(mt)}function Jn(Yr,...Vi){if(Wn)return void Nn();if(Yr)return Nn(),void wr.call(null,Yr,...Vi);if(hn()||qt)return Nn(),void wr.call(null,Yr,...Vi);let Dr;Le<64&&(Le*=2),1===In?(In=2,Dr=0):Dr=1e3*(Le+Math.random()),An(Dr)}let Nr=!1;function ri(Yr){Nr||(Nr=!0,Nn(),!Wn&&(null!==et?(Yr||(In=2),clearTimeout(et),An(0)):Yr||(In=1)))}return An(0),mt=setTimeout(()=>{qt=!0,ri(!0)},Re),ri}((Le,et)=>{if(et)return void Le(!1,new Qt(!1,null,!0));const mt=this.connectionFactory_();this.pendingConnection_=mt;const qt=In=>{null!==this.progressCallback_&&this.progressCallback_(In.loaded,In.lengthComputable?In.total:-1)};null!==this.progressCallback_&&mt.addUploadProgressListener(qt),mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&mt.removeUploadProgressListener(qt),this.pendingConnection_=null;const In=mt.getErrorCode()===er.NO_ERROR,hn=mt.getStatus();if(!In||rn(hn,this.additionalRetryCodes_)&&this.retry){const wr=mt.getErrorCode()===er.ABORT;return void Le(!1,new Qt(!1,null,wr))}const Wn=-1!==this.successCodes_.indexOf(hn);Le(!0,new Qt(Wn,mt))})},Re,this.timeout_)}getPromise(){return this.promise_}cancel(ee){this.canceled_=!0,this.appDelete_=ee||!1,null!==this.backoffId_&&function it(ne){ne(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Qt{constructor(ee,Re,Le){this.wasSuccessCode=ee,this.connection=Re,this.canceled=!!Le}}function Rr(...ne){const ee=function sn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==ee){const Re=new ee;for(let Le=0;Le<ne.length;Le++)Re.append(ne[Le]);return Re.getBlob()}if(st())return new Blob(ne);throw new K(ie.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const En={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $n{constructor(ee,Re){this.data=ee,this.contentType=Re||null}}function Tn(ne,ee){switch(ne){case En.RAW:return new $n(Vr(ee));case En.BASE64:case En.BASE64URL:return new $n(Zr(ne,ee));case En.DATA_URL:return new $n(function ui(ne){const ee=new Hn(ne);return ee.base64?Zr(En.BASE64,ee.rest):function Ar(ne){let ee;try{ee=decodeURIComponent(ne)}catch{throw Mt(En.DATA_URL,"Malformed data URL.")}return Vr(ee)}(ee.rest)}(ee),function ys(ne){return new Hn(ne).contentType}(ee))}throw Pe()}function Vr(ne){const ee=[];for(let Re=0;Re<ne.length;Re++){let Le=ne.charCodeAt(Re);Le<=127?ee.push(Le):Le<=2047?ee.push(192|Le>>6,128|63&Le):55296==(64512&Le)?Re<ne.length-1&&56320==(64512&ne.charCodeAt(Re+1))?(Le=65536|(1023&Le)<<10|1023&ne.charCodeAt(++Re),ee.push(240|Le>>18,128|Le>>12&63,128|Le>>6&63,128|63&Le)):ee.push(239,191,189):56320==(64512&Le)?ee.push(239,191,189):ee.push(224|Le>>12,128|Le>>6&63,128|63&Le)}return new Uint8Array(ee)}function Zr(ne,ee){switch(ne){case En.BASE64:{const et=-1!==ee.indexOf("-"),mt=-1!==ee.indexOf("_");if(et||mt)throw Mt(ne,"Invalid character '"+(et?"-":"_")+"' found: is it base64url encoded?");break}case En.BASE64URL:{const et=-1!==ee.indexOf("+"),mt=-1!==ee.indexOf("/");if(et||mt)throw Mt(ne,"Invalid character '"+(et?"+":"/")+"' found: is it base64 encoded?");ee=ee.replace(/-/g,"+").replace(/_/g,"/");break}}let Re;try{Re=function Bt(ne){if(typeof atob>"u")throw function Ie(ne){return new K(ie.UNSUPPORTED_ENVIRONMENT,`${ne} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(ne)}(ee)}catch(et){throw et.message.includes("polyfill")?et:Mt(ne,"Invalid character found")}const Le=new Uint8Array(Re.length);for(let et=0;et<Re.length;et++)Le[et]=Re.charCodeAt(et);return Le}class Hn{constructor(ee){this.base64=!1,this.contentType=null;const Re=ee.match(/^data:([^,]+)?,/);if(null===Re)throw Mt(En.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Le=Re[1]||null;null!=Le&&(this.base64=function on(ne,ee){return ne.length>=ee.length&&ne.substring(ne.length-ee.length)===ee}(Le,";base64"),this.contentType=this.base64?Le.substring(0,Le.length-7):Le),this.rest=ee.substring(ee.indexOf(",")+1)}}class ei{constructor(ee,Re){let Le=0,et="";ke(ee)?(this.data_=ee,Le=ee.size,et=ee.type):ee instanceof ArrayBuffer?(Re?this.data_=new Uint8Array(ee):(this.data_=new Uint8Array(ee.byteLength),this.data_.set(new Uint8Array(ee))),Le=this.data_.length):ee instanceof Uint8Array&&(Re?this.data_=ee:(this.data_=new Uint8Array(ee.length),this.data_.set(ee)),Le=ee.length),this.size_=Le,this.type_=et}size(){return this.size_}type(){return this.type_}slice(ee,Re){if(ke(this.data_)){const et=function Yn(ne,ee,Re){return ne.webkitSlice?ne.webkitSlice(ee,Re):ne.mozSlice?ne.mozSlice(ee,Re):ne.slice?ne.slice(ee,Re):null}(this.data_,ee,Re);return null===et?null:new ei(et)}{const Le=new Uint8Array(this.data_.buffer,ee,Re-ee);return new ei(Le,!0)}}static getBlob(...ee){if(st()){const Re=ee.map(Le=>Le instanceof ei?Le.data_:Le);return new ei(Rr.apply(null,Re))}{const Re=ee.map(qt=>ye(qt)?Tn(En.RAW,qt).data:qt.data_);let Le=0;Re.forEach(qt=>{Le+=qt.byteLength});const et=new Uint8Array(Le);let mt=0;return Re.forEach(qt=>{for(let In=0;In<qt.length;In++)et[mt++]=qt[In]}),new ei(et,!0)}}uploadData(){return this.data_}}function Qn(ne){let ee;try{ee=JSON.parse(ne)}catch{return null}return function te(ne){return"object"==typeof ne&&!Array.isArray(ne)}(ee)?ee:null}function Ri(ne){const ee=ne.lastIndexOf("/",ne.length-2);return-1===ee?ne:ne.slice(ee+1)}function ot(ne,ee){return ee}class Et{constructor(ee,Re,Le,et){this.server=ee,this.local=Re||ee,this.writable=!!Le,this.xform=et||ot}}let he=null;function It(){if(he)return he;const ne=[];ne.push(new Et("bucket")),ne.push(new Et("generation")),ne.push(new Et("metageneration")),ne.push(new Et("name","fullPath",!0));const Re=new Et("name");Re.xform=function ee(mt,qt){return function Fe(ne){return!ye(ne)||ne.length<2?ne:Ri(ne)}(qt)},ne.push(Re);const et=new Et("size");return et.xform=function Le(mt,qt){return void 0!==qt?Number(qt):qt},ne.push(et),ne.push(new Et("timeCreated")),ne.push(new Et("updated")),ne.push(new Et("md5Hash",null,!0)),ne.push(new Et("cacheControl",null,!0)),ne.push(new Et("contentDisposition",null,!0)),ne.push(new Et("contentEncoding",null,!0)),ne.push(new Et("contentLanguage",null,!0)),ne.push(new Et("contentType",null,!0)),ne.push(new Et("metadata","customMetadata",!0)),he=ne,he}function Fr(ne,ee,Re){const Le=Qn(ee);return null===Le?null:function Ln(ne,ee,Re){const Le={type:"file"},et=Re.length;for(let mt=0;mt<et;mt++){const qt=Re[mt];Le[qt.local]=qt.xform(Le,ee[qt.server])}return function Kt(ne,ee){Object.defineProperty(ne,"ref",{get:function Re(){const mt=new Wt(ne.bucket,ne.fullPath);return ee._makeStorageReference(mt)}})}(Le,ne),Le}(ne,Le,Re)}function bi(ne,ee){const Re={},Le=ee.length;for(let et=0;et<Le;et++){const mt=ee[et];mt.writable&&(Re[mt.server]=ne[mt.local])}return JSON.stringify(Re)}const At="prefixes",G="items";class V{constructor(ee,Re,Le,et){this.url=ee,this.method=Re,this.handler=Le,this.timeout=et,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Z(ne){if(!ne)throw Pe()}function je(ne,ee){return function Re(Le,et){const mt=Fr(ne,et,ee);return Z(null!==mt),mt}}function an(ne){return function ee(Re,Le){let et;return et=401===Re.getStatus()?Re.getErrorText().includes("Firebase App Check token is invalid")?function we(){return new K(ie.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function qe(){return new K(ie.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Re.getStatus()?function ve(ne){return new K(ie.QUOTA_EXCEEDED,"Quota for bucket '"+ne+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(ne.bucket):403===Re.getStatus()?function bt(ne){return new K(ie.UNAUTHORIZED,"User does not have permission to access '"+ne+"'.")}(ne.path):Le,et.status=Re.getStatus(),et.serverResponse=Le.serverResponse,et}}function wn(ne){const ee=an(ne);return function Re(Le,et){let mt=ee(Le,et);return 404===Le.getStatus()&&(mt=function Be(ne){return new K(ie.OBJECT_NOT_FOUND,"Object '"+ne+"' does not exist.")}(ne.path)),mt.serverResponse=et.serverResponse,mt}}function vr(ne,ee,Re){const et=Ft(ee.fullServerUrl(),ne.host,ne._protocol),qt=ne.maxOperationRetryTime,In=new V(et,"GET",je(ne,Re),qt);return In.errorHandler=wn(ee),In}function ln(ne,ee,Re,Le,et){const mt={};mt.prefix=ee.isRoot?"":ee.path+"/",Re&&Re.length>0&&(mt.delimiter=Re),Le&&(mt.pageToken=Le),et&&(mt.maxResults=et);const In=Ft(ee.bucketOnlyServerUrl(),ne.host,ne._protocol),Wn=ne.maxOperationRetryTime,wr=new V(In,"GET",function _t(ne,ee){return function Re(Le,et){const mt=function M(ne,ee,Re){const Le=Qn(Re);return null===Le?null:function C(ne,ee,Re){const Le={prefixes:[],items:[],nextPageToken:Re.nextPageToken};if(Re[At])for(const et of Re[At]){const mt=et.replace(/\/$/,""),qt=ne._makeStorageReference(new Wt(ee,mt));Le.prefixes.push(qt)}if(Re[G])for(const et of Re[G]){const mt=ne._makeStorageReference(new Wt(ee,et.name));Le.items.push(mt)}return Le}(ne,ee,Le)}(ne,ee,et);return Z(null!==mt),mt}}(ne,ee.bucket),Wn);return wr.urlParams=mt,wr.errorHandler=an(ee),wr}function Es(ne,ee,Re){const Le=Object.assign({},Re);return Le.fullPath=ne.path,Le.size=ee.size(),Le.contentType||(Le.contentType=function vs(ne,ee){return ne&&ne.contentType||ee&&ee.type()||"application/octet-stream"}(null,ee)),Le}class sr{constructor(ee,Re,Le,et){this.current=ee,this.total=Re,this.finalized=!!Le,this.metadata=et||null}}function xs(ne,ee){let Re=null;try{Re=ne.getResponseHeader("X-Goog-Upload-Status")}catch{Z(!1)}return Z(!!Re&&-1!==(ee||["active"]).indexOf(Re)),Re}const Vn={STATE_CHANGED:"state_changed"},On={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ur(ne){switch(ne){case"running":case"pausing":case"canceling":return On.RUNNING;case"paused":return On.PAUSED;case"success":return On.SUCCESS;case"canceled":return On.CANCELED;default:return On.ERROR}}class Ur{constructor(ee,Re,Le){if(function Me(ne){return"function"==typeof ne}(ee)||null!=Re||null!=Le)this.next=ee,this.error=Re??void 0,this.complete=Le??void 0;else{const mt=ee;this.next=mt.next,this.error=mt.error,this.complete=mt.complete}}}function zr(ne){return(...ee)=>{Promise.resolve().then(()=>ne(...ee))}}let dr=null;class Ji{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=er.NO_ERROR,this.sendPromise_=new Promise(ee=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=er.ABORT,ee()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=er.NETWORK_ERROR,ee()}),this.xhr_.addEventListener("load",()=>{ee()})})}send(ee,Re,Le,et){if(this.sent_)throw Lt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Re,ee,!0),void 0!==et)for(const mt in et)et.hasOwnProperty(mt)&&this.xhr_.setRequestHeader(mt,et[mt].toString());return void 0!==Le?this.xhr_.send(Le):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(ee){return this.xhr_.getResponseHeader(ee)}addUploadProgressListener(ee){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ee)}removeUploadProgressListener(ee){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ee)}}class Ms extends Ji{initXhr(){this.xhr_.responseType="text"}}function is(){return dr?dr():new Ms}class oi{constructor(ee,Re,Le=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ee,this._blob=Re,this._metadata=Le,this._mappings=It(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=et=>{if(this._request=void 0,this._chunkMultiplier=1,et._codeEquals(ie.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const mt=this.isExponentialBackoffExpired();if(rn(et.status,[])){if(!mt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();et=jt()}this._error=et,this._transition("error")}},this._metadataErrorHandler=et=>{this._request=void 0,et._codeEquals(ie.CANCELED)?this.completeTransitions_():(this._error=et,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((et,mt)=>{this._resolve=et,this._reject=mt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const ee=this._transferred;return Re=>this._updateProgress(ee+Re)}_shouldDoResumable(ee){return ee.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(ee){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Re,Le])=>{switch(this._state){case"running":ee(Re,Le);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ee,Re)=>{const Le=function Dt(ne,ee,Re,Le,et){const mt=ee.bucketOnlyServerUrl(),qt=Es(ee,Le,et),In={name:qt.fullPath},hn=Ft(mt,ne.host,ne._protocol),wr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Le.size()}`,"X-Goog-Upload-Header-Content-Type":qt.contentType,"Content-Type":"application/json; charset=utf-8"},An=bi(qt,Re),Nr=new V(hn,"POST",function Jn(ri){let Yr;xs(ri);try{Yr=ri.getResponseHeader("X-Goog-Upload-URL")}catch{Z(!1)}return Z(ye(Yr)),Yr},ne.maxUploadRetryTime);return Nr.urlParams=In,Nr.headers=wr,Nr.body=An,Nr.errorHandler=an(ee),Nr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),et=this._ref.storage._makeRequest(Le,is,ee,Re);this._request=et,et.getPromise().then(mt=>{this._request=void 0,this._uploadUrl=mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ee=this._uploadUrl;this._resolveToken((Re,Le)=>{const et=function at(ne,ee,Re,Le){const hn=new V(Re,"POST",function mt(Wn){const wr=xs(Wn,["active","final"]);let An=null;try{An=Wn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Z(!1)}An||Z(!1);const Nn=Number(An);return Z(!isNaN(Nn)),new sr(Nn,Le.size(),"final"===wr)},ne.maxUploadRetryTime);return hn.headers={"X-Goog-Upload-Command":"query"},hn.errorHandler=an(ee),hn}(this._ref.storage,this._ref._location,ee,this._blob),mt=this._ref.storage._makeRequest(et,is,Re,Le);this._request=mt,mt.getPromise().then(qt=>{this._request=void 0,this._updateProgress(qt.current),this._needToFetchStatus=!1,qt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ee=262144*this._chunkMultiplier,Re=new sr(this._transferred,this._blob.size()),Le=this._uploadUrl;this._resolveToken((et,mt)=>{let qt;try{qt=function cn(ne,ee,Re,Le,et,mt,qt,In){const hn=new sr(0,0);if(qt?(hn.current=qt.current,hn.total=qt.total):(hn.current=0,hn.total=Le.size()),Le.size()!==hn.total)throw function Pt(){return new K(ie.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Wn=hn.total-hn.current;let wr=Wn;et>0&&(wr=Math.min(wr,et));const An=hn.current;let Jn="";Jn=0===wr?"finalize":Wn===wr?"upload, finalize":"upload";const Nr={"X-Goog-Upload-Command":Jn,"X-Goog-Upload-Offset":`${hn.current}`},ri=Le.slice(An,An+wr);if(null===ri)throw lt();const Dr=new V(Re,"POST",function Yr(Ti,wi){const Pr=xs(Ti,["active","final"]),Bo=hn.current+wr,cs=Le.size();let Ys;return Ys="final"===Pr?je(ee,mt)(Ti,wi):null,new sr(Bo,cs,"final"===Pr,Ys)},ee.maxUploadRetryTime);return Dr.headers=Nr,Dr.body=ri.uploadData(),Dr.progressCallback=In||null,Dr.errorHandler=an(ne),Dr}(this._ref._location,this._ref.storage,Le,this._blob,ee,this._mappings,Re,this._makeProgressCallback())}catch(hn){return this._error=hn,void this._transition("error")}const In=this._ref.storage._makeRequest(qt,is,et,mt,!1);this._request=In,In.getPromise().then(hn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(hn.current),hn.finalized?(this._metadata=hn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ee,Re)=>{const Le=vr(this._ref.storage,this._ref._location,this._mappings),et=this._ref.storage._makeRequest(Le,is,ee,Re);this._request=et,et.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ee,Re)=>{const Le=function pi(ne,ee,Re,Le,et){const mt=ee.bucketOnlyServerUrl(),qt={"X-Goog-Upload-Protocol":"multipart"},hn=function In(){let Dr="";for(let Ti=0;Ti<2;Ti++)Dr+=Math.random().toString().slice(2);return Dr}();qt["Content-Type"]="multipart/related; boundary="+hn;const Wn=Es(ee,Le,et),wr=bi(Wn,Re),Jn=ei.getBlob("--"+hn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wr+"\r\n--"+hn+"\r\nContent-Type: "+Wn.contentType+"\r\n\r\n",Le,"\r\n--"+hn+"--");if(null===Jn)throw lt();const Nr={name:Wn.fullPath},ri=Ft(mt,ne.host,ne._protocol),Vi=ne.maxUploadRetryTime,Ci=new V(ri,"POST",je(ne,Re),Vi);return Ci.urlParams=Nr,Ci.headers=qt,Ci.body=Jn.uploadData(),Ci.errorHandler=an(ee),Ci}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),et=this._ref.storage._makeRequest(Le,is,ee,Re);this._request=et,et.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ee){const Re=this._transferred;this._transferred=ee,this._transferred!==Re&&this._notifyObservers()}_transition(ee){if(this._state!==ee)switch(ee){case"canceling":case"pausing":this._state=ee,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Re="paused"===this._state;this._state=ee,Re&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ee,this._notifyObservers();break;case"canceled":this._error=He(),this._state=ee,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ee=ur(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ee,metadata:this._metadata,task:this,ref:this._ref}}on(ee,Re,Le,et){const mt=new Ur(Re||void 0,Le||void 0,et||void 0);return this._addObserver(mt),()=>{this._removeObserver(mt)}}then(ee,Re){return this._promise.then(ee,Re)}catch(ee){return this.then(null,ee)}_addObserver(ee){this._observers.push(ee),this._notifyObserver(ee)}_removeObserver(ee){const Re=this._observers.indexOf(ee);-1!==Re&&this._observers.splice(Re,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Re=>{this._notifyObserver(Re)})}_finishPromise(){if(void 0!==this._resolve){let ee=!0;switch(ur(this._state)){case On.SUCCESS:zr(this._resolve.bind(null,this.snapshot))();break;case On.CANCELED:case On.ERROR:zr(this._reject.bind(null,this._error))();break;default:ee=!1}ee&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ee){switch(ur(this._state)){case On.RUNNING:case On.PAUSED:ee.next&&zr(ee.next.bind(ee,this.snapshot))();break;case On.SUCCESS:ee.complete&&zr(ee.complete.bind(ee))();break;default:ee.error&&zr(ee.error.bind(ee,this._error))()}}resume(){const ee="paused"===this._state||"pausing"===this._state;return ee&&this._transition("running"),ee}pause(){const ee="running"===this._state;return ee&&this._transition("pausing"),ee}cancel(){const ee="running"===this._state||"pausing"===this._state;return ee&&this._transition("canceling"),ee}}class ss{constructor(ee,Re){this._service=ee,this._location=Re instanceof Wt?Re:Wt.makeFromUrl(Re,ee.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ee,Re){return new ss(ee,Re)}get root(){const ee=new Wt(this._location.bucket,"");return this._newRef(this._service,ee)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ri(this._location.path)}get storage(){return this._service}get parent(){const ee=function br(ne){if(0===ne.length)return null;const ee=ne.lastIndexOf("/");return-1===ee?"":ne.slice(0,ee)}(this._location.path);if(null===ee)return null;const Re=new Wt(this._location.bucket,ee);return new ss(this._service,Re)}_throwIfRoot(ee){if(""===this._location.path)throw Mn(ee)}}function Ao(ne,ee,Re){return di.apply(this,arguments)}function di(){return(di=(0,s.A)(function*(ne,ee,Re){const et=yield Na(ne,{pageToken:Re});ee.prefixes.push(...et.prefixes),ee.items.push(...et.items),null!=et.nextPageToken&&(yield Ao(ne,ee,et.nextPageToken))})).apply(this,arguments)}function Na(ne,ee){null!=ee&&"number"==typeof ee.maxResults&&nt("options.maxResults",1,1e3,ee.maxResults);const Re=ee||{},Le=ln(ne.storage,ne._location,"/",Re.pageToken,Re.maxResults);return ne.storage.makeRequestWithTokens(Le,is)}function ma(ne){ne._throwIfRoot("getDownloadURL");const ee=function ir(ne,ee,Re){const et=Ft(ee.fullServerUrl(),ne.host,ne._protocol),qt=ne.maxOperationRetryTime,In=new V(et,"GET",function Xt(ne,ee){return function Re(Le,et){const mt=Fr(ne,et,ee);return Z(null!==mt),function Tr(ne,ee,Re,Le){const et=Qn(ee);if(null===et||!ye(et.downloadTokens))return null;const mt=et.downloadTokens;if(0===mt.length)return null;const qt=encodeURIComponent;return mt.split(",").map(Wn=>{const An=ne.fullPath;return Ft("/b/"+qt(ne.bucket)+"/o/"+qt(An),Re,Le)+bn({alt:"media",token:Wn})})[0]}(mt,et,ne.host,ne._protocol)}}(ne,Re),qt);return In.errorHandler=wn(ee),In}(ne.storage,ne._location,It());return ne.storage.makeRequestWithTokens(ee,is).then(Re=>{if(null===Re)throw function ct(){return new K(ie.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Re})}function ti(ne,ee){const Re=function Gn(ne,ee){const Re=ee.split("/").filter(Le=>Le.length>0).join("/");return 0===ne.length?Re:ne+"/"+Re}(ne._location.path,ee),Le=new Wt(ne._location.bucket,Re);return new ss(ne.storage,Le)}function $i(ne,ee){if(ne instanceof ni){const Re=ne;if(null==Re._bucket)throw function Ke(){return new K(ie.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ee+"' property when initializing the app?")}();const Le=new ss(Re,Re._bucket);return null!=ee?$i(Le,ee):Le}return void 0!==ee?ti(ne,ee):ne}function xi(ne,ee){if(ee&&function js(ne){return/^[A-Za-z]+:\/\//.test(ne)}(ee)){if(ne instanceof ni)return function gi(ne,ee){return new ss(ne,ee)}(ne,ee);throw Qe("To use ref(service, url), the first argument must be a Storage instance.")}return $i(ne,ee)}function qn(ne,ee){const Re=ee?.[Ee];return null==Re?null:Wt.makeFromBucketSpec(Re,ne)}class ni{constructor(ee,Re,Le,et,mt){this.app=ee,this._authProvider=Re,this._appCheckProvider=Le,this._url=et,this._firebaseVersion=mt,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=et?Wt.makeFromBucketSpec(et,this._host):qn(this._host,this.app.options)}get host(){return this._host}set host(ee){this._host=ee,this._bucket=null!=this._url?Wt.makeFromBucketSpec(this._url,ee):qn(ee,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ee){nt("time",0,Number.POSITIVE_INFINITY,ee),this._maxUploadRetryTime=ee}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ee){nt("time",0,Number.POSITIVE_INFINITY,ee),this._maxOperationRetryTime=ee}_getAuthToken(){var ee=this;return(0,s.A)(function*(){if(ee._overrideAuthToken)return ee._overrideAuthToken;const Re=ee._authProvider.getImmediate({optional:!0});if(Re){const Le=yield Re.getToken();if(null!==Le)return Le.accessToken}return null})()}_getAppCheckToken(){var ee=this;return(0,s.A)(function*(){const Re=ee._appCheckProvider.getImmediate({optional:!0});return Re?(yield Re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ee=>ee.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ee){return new ss(this,ee)}_makeRequest(ee,Re,Le,et,mt=!0){if(this._deleted)return new ht(Yt());{const qt=function _r(ne,ee,Re,Le,et,mt,qt=!0){const In=bn(ne.urlParams),hn=ne.url+In,Wn=Object.assign({},ne.headers);return function Ht(ne,ee){ee&&(ne["X-Firebase-GMPID"]=ee)}(Wn,ee),function jn(ne,ee){null!==ee&&ee.length>0&&(ne.Authorization="Firebase "+ee)}(Wn,Re),function Pn(ne,ee){ne["X-Firebase-Storage-Version"]="webjs/"+(ee??"AppManager")}(Wn,mt),function Vt(ne,ee){null!==ee&&(ne["X-Firebase-AppCheck"]=ee)}(Wn,Le),new Fn(hn,ne.method,Wn,ne.body,ne.successCodes,ne.additionalRetryCodes,ne.handler,ne.errorHandler,ne.timeout,ne.progressCallback,et,qt)}(ee,this._appId,Le,et,Re,this._firebaseVersion,mt);return this._requests.add(qt),qt.getPromise().then(()=>this._requests.delete(qt),()=>this._requests.delete(qt)),qt}}makeRequestWithTokens(ee,Re){var Le=this;return(0,s.A)(function*(){const[et,mt]=yield Promise.all([Le._getAuthToken(),Le._getAppCheckToken()]);return Le._makeRequest(ee,Re,et,mt).getPromise()})()}}const Wi="@firebase/storage",os="storage";function Ds(ne,ee,Re){return function Mi(ne,ee,Re){return ne._throwIfRoot("uploadBytesResumable"),new oi(ne,new ei(ee),Re)}(ne=(0,r.Ku)(ne),ee,Re)}function Gr(ne){return function Ja(ne){ne._throwIfRoot("getMetadata");const ee=vr(ne.storage,ne._location,It());return ne.storage.makeRequestWithTokens(ee,is)}(ne=(0,r.Ku)(ne))}function pn(ne,ee){return function Pi(ne,ee){ne._throwIfRoot("updateMetadata");const Re=function Us(ne,ee,Re,Le){const mt=Ft(ee.fullServerUrl(),ne.host,ne._protocol),In=bi(Re,Le),Wn=ne.maxOperationRetryTime,wr=new V(mt,"PATCH",je(ne,Le),Wn);return wr.headers={"Content-Type":"application/json; charset=utf-8"},wr.body=In,wr.errorHandler=wn(ee),wr}(ne.storage,ne._location,ee,It());return ne.storage.makeRequestWithTokens(Re,is)}(ne=(0,r.Ku)(ne),ee)}function tr(ne,ee){return Na(ne=(0,r.Ku)(ne),ee)}function cr(ne){return function ao(ne){const ee={prefixes:[],items:[]};return Ao(ne,ee).then(()=>ee)}(ne=(0,r.Ku)(ne))}function Zi(ne){return ma(ne=(0,r.Ku)(ne))}function as(ne){return function Ks(ne){ne._throwIfRoot("deleteObject");const ee=function Fi(ne,ee){const Le=Ft(ee.fullServerUrl(),ne.host,ne._protocol),In=new V(Le,"DELETE",function qt(hn,Wn){},ne.maxOperationRetryTime);return In.successCodes=[200,204],In.errorHandler=wn(ee),In}(ne.storage,ne._location);return ne.storage.makeRequestWithTokens(ee,is)}(ne=(0,r.Ku)(ne))}function Li(ne,ee){return xi(ne=(0,r.Ku)(ne),ee)}function Bs(ne,ee){return ti(ne,ee)}function qr(ne=(0,ce.getApp)(),ee){ne=(0,r.Ku)(ne);const Le=(0,ce._getProvider)(ne,os).getImmediate({identifier:ee}),et=(0,r.yU)("storage");return et&&ls(Le,...et),Le}function ls(ne,ee,Re,Le={}){!function Kr(ne,ee,Re,Le={}){ne.host=`${ee}:${Re}`,ne._protocol="http";const{mockUserToken:et}=Le;et&&(ne._overrideAuthToken="string"==typeof et?et:(0,r.Fy)(et,ne.app.options.projectId))}(ne,ee,Re,Le)}function mi(ne,{instanceIdentifier:ee}){const Re=ne.getProvider("app").getImmediate(),Le=ne.getProvider("auth-internal"),et=ne.getProvider("app-check-internal");return new ni(Re,Le,et,ee,ce.SDK_VERSION)}!function es(){(0,ce._registerComponent)(new be.uA(os,mi,"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Wi,"0.13.2",""),(0,ce.registerVersion)(Wi,"0.13.2","esm2017")}()},1076:(tn,Ye,L)=>{L.d(Ye,{Am:()=>$n,Bd:()=>Qe,FA:()=>nt,Fy:()=>lt,I9:()=>Tn,Im:()=>sn,Ku:()=>At,Ll:()=>Ie,T9:()=>Ae,Uj:()=>xe,XA:()=>Ze,ZQ:()=>Pt,bD:()=>Yn,c1:()=>Mn,cY:()=>Ke,eX:()=>te,g:()=>st,gR:()=>Vt,hp:()=>Vr,jZ:()=>ct,lT:()=>ht,lV:()=>Lt,mS:()=>Be,nr:()=>rt,p7:()=>Yt,sr:()=>Mt,tD:()=>Zr,u:()=>K,yU:()=>He,zW:()=>Me,zw:()=>pe});const be=function(G){const C=[];let M=0;for(let V=0;V<G.length;V++){let Z=G.charCodeAt(V);Z<128?C[M++]=Z:Z<2048?(C[M++]=Z>>6|192,C[M++]=63&Z|128):55296==(64512&Z)&&V+1<G.length&&56320==(64512&G.charCodeAt(V+1))?(Z=65536+((1023&Z)<<10)+(1023&G.charCodeAt(++V)),C[M++]=Z>>18|240,C[M++]=Z>>12&63|128,C[M++]=Z>>6&63|128,C[M++]=63&Z|128):(C[M++]=Z>>12|224,C[M++]=Z>>6&63|128,C[M++]=63&Z|128)}return C},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,C){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let Z=0;Z<G.length;Z+=3){const je=G[Z],_t=Z+1<G.length,Xt=_t?G[Z+1]:0,an=Z+2<G.length,wn=an?G[Z+2]:0;let $r=(15&Xt)<<2|wn>>6,ir=63&wn;an||(ir=64,_t||($r=64)),V.push(M[je>>2],M[(3&je)<<4|Xt>>4],M[$r],M[ir])}return V.join("")},encodeString(G,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(G):this.encodeByteArray(be(G),C)},decodeString(G,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(G):function(G){const C=[];let M=0,V=0;for(;M<G.length;){const Z=G[M++];if(Z<128)C[V++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const je=G[M++];C[V++]=String.fromCharCode((31&Z)<<6|63&je)}else if(Z>239&&Z<365){const an=((7&Z)<<18|(63&G[M++])<<12|(63&G[M++])<<6|63&G[M++])-65536;C[V++]=String.fromCharCode(55296+(an>>10)),C[V++]=String.fromCharCode(56320+(1023&an))}else{const je=G[M++],_t=G[M++];C[V++]=String.fromCharCode((15&Z)<<12|(63&je)<<6|63&_t)}}return C.join("")}(this.decodeStringToByteArray(G,C))},decodeStringToByteArray(G,C){this.init_();const M=C?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let Z=0;Z<G.length;){const je=M[G.charAt(Z++)],Xt=Z<G.length?M[G.charAt(Z)]:0;++Z;const wn=Z<G.length?M[G.charAt(Z)]:64;++Z;const ln=Z<G.length?M[G.charAt(Z)]:64;if(++Z,null==je||null==Xt||null==wn||null==ln)throw new Se;V.push(je<<2|Xt>>4),64!==wn&&(V.push(Xt<<4&240|wn>>2),64!==ln&&V.push(wn<<6&192|ln))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(G){return function(G){const C=be(G);return Ee.encodeByteArray(C,!0)}(G).replace(/\./g,"")},K=function(G){try{return Ee.decodeString(G,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function pe(G,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return C}for(const M in C)!C.hasOwnProperty(M)||!Pe(M)||(G[M]=pe(G[M],C[M]));return G}function Pe(G){return"__proto__"!==G}function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bt=()=>{try{return Be().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=G&&K(G[1]);return C&&JSON.parse(C)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},He=G=>{const C=(G=>{var C,M;return null===(M=null===(C=bt())||void 0===C?void 0:C.emulatorHosts)||void 0===M?void 0:M[G]})(G);if(!C)return;const M=C.lastIndexOf(":");if(M<=0||M+1===C.length)throw new Error(`Invalid host ${C} with no separate hostname and port!`);const V=parseInt(C.substring(M+1),10);return"["===C[0]?[C.substring(1,M-1),V]:[C.substring(0,M),V]},Ae=()=>{var G;return null===(G=bt())||void 0===G?void 0:G.config},Ze=G=>{var C;return null===(C=bt())||void 0===C?void 0:C[`_${G}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,M)=>{this.resolve=C,this.reject=M})}wrapCallback(C){return(M,V)=>{M?this.reject(M):this.resolve(V),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(M):C(M,V))}}}function lt(G,C){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=C||"demo-project",Z=G.iat||0,je=G.sub||G.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:Z,exp:Z+3600,auth_time:Z,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},G);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(_t)),""].join(".")}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function Ie(){var G;const C=null===(G=bt())||void 0===G?void 0:G.forceEnvironment;if("node"===C)return!0;if("browser"===C)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return typeof window<"u"||Yt()}function Yt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Mn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Mt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ht(){const G=Pt();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function rt(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((G,C)=>{try{let M=!0;const V="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(V);Z.onsuccess=()=>{Z.result.close(),M||self.indexedDB.deleteDatabase(V),G(!0)},Z.onupgradeneeded=()=>{M=!1},Z.onerror=()=>{var je;C((null===(je=Z.error)||void 0===je?void 0:je.message)||"")}}catch(M){C(M)}})}class st extends Error{constructor(C,M,V){super(M),this.code=C,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(C,M,V){this.service=C,this.serviceName=M,this.errors=V}create(C,...M){const V=M[0]||{},Z=`${this.service}/${C}`,je=this.errors[C],_t=je?function Ft(G,C){return G.replace(bn,(M,V)=>{const Z=C[V];return null!=Z?String(Z):`<${V}?>`})}(je,V):"Error";return new st(Z,`${this.serviceName}: ${_t} (${Z}).`,V)}}const bn=/\{\$([^}]+)}/g;function Vt(G,C){return Object.prototype.hasOwnProperty.call(G,C)}function sn(G){for(const C in G)if(Object.prototype.hasOwnProperty.call(G,C))return!1;return!0}function Yn(G,C){if(G===C)return!0;const M=Object.keys(G),V=Object.keys(C);for(const Z of M){if(!V.includes(Z))return!1;const je=G[Z],_t=C[Z];if(Bt(je)&&Bt(_t)){if(!Yn(je,_t))return!1}else if(je!==_t)return!1}for(const Z of V)if(!M.includes(Z))return!1;return!0}function Bt(G){return null!==G&&"object"==typeof G}function $n(G){const C=[];for(const[M,V]of Object.entries(G))Array.isArray(V)?V.forEach(Z=>{C.push(encodeURIComponent(M)+"="+encodeURIComponent(Z))}):C.push(encodeURIComponent(M)+"="+encodeURIComponent(V));return C.length?"&"+C.join("&"):""}function Tn(G){const C={};return G.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[Z,je]=V.split("=");C[decodeURIComponent(Z)]=decodeURIComponent(je)}}),C}function Vr(G){const C=G.indexOf("?");if(!C)return"";const M=G.indexOf("#",C);return G.substring(C,M>0?M:void 0)}function Zr(G,C){const M=new Hn(G,C);return M.subscribe.bind(M)}class Hn{constructor(C,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then(()=>{C(this)}).catch(V=>{this.error(V)})}next(C){this.forEachObserver(M=>{M.next(C)})}error(C){this.forEachObserver(M=>{M.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,M,V){let Z;if(void 0===C&&void 0===M&&void 0===V)throw new Error("Missing Observer.");Z=function ys(G,C){if("object"!=typeof G||null===G)return!1;for(const M of C)if(M in G&&"function"==typeof G[M])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:M,complete:V},void 0===Z.next&&(Z.next=on),void 0===Z.error&&(Z.error=on),void 0===Z.complete&&(Z.complete=on);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),je}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,C)}sendOne(C,M){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{M(this.observers[C])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function on(){}function At(G){return G&&G._delegate?G._delegate:G}},9483:(tn,Ye,L)=>{L.d(Ye,{j:()=>pe});var s=L(7705),ce=L(6814),r=L(923),be=L(177);const fe=function(Pe,Be){return{"background-color":Pe,color:Be}};function Ee(Pe,Be){if(1&Pe){const ve=s.RV6();s.qex(0),s.j41(1,"button",4),s.bIt("click",function(){s.eBV(ve);const we=s.XpG();return s.Njj(we.navigateTo(we.buttonLink))}),s.EFF(2),s.k0s(),s.bVm()}if(2&Pe){const ve=s.XpG();s.R7$(1),s.Y8G("ngStyle",s.l_i(2,fe,ve.buttonBgColor,ve.buttonTextColor)),s.R7$(1),s.SpI(" ",ve.buttonText," ")}}function Se(Pe,Be){if(1&Pe){const ve=s.RV6();s.j41(0,"a",4),s.bIt("click",function(){s.eBV(ve);const we=s.XpG();return s.Njj(we.navigateTo(we.buttonLink))}),s.EFF(1),s.k0s()}if(2&Pe){const ve=s.XpG();s.Y8G("ngStyle",s.l_i(2,fe,ve.buttonBgColor,ve.buttonTextColor)),s.R7$(1),s.SpI(" ",ve.buttonText," ")}}const Te=function(Pe,Be,ve){return{"full-width":Pe,centered:Be,shadow:ve}},xe=function(Pe,Be,ve,qe){return{"background-color":Pe,color:Be,"text-align":ve,"border-radius":qe}},K=function(Pe,Be){return{color:Pe,"font-size":Be}},ie=function(Pe){return{color:Pe}};let pe=(()=>{class Pe{constructor(ve,qe){this.router=ve,this.businessDataService=qe,this.title="Come Meet Our Family!",this.content="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="var(--background-color)",this.textColor="var(--text-color)",this.titleColor="var(--accent-color)",this.buttonBgColor="var(--button-color)",this.buttonTextColor="var(--button-text-color)",this.borderRadius="10px",this.boxShadow="0px 4px 6px rgba(0, 0, 0, 0.2)",this.page="contact-us",this.layout="centered",this.businessId="",this.showImage=!1,this._businessName="",this.location="",this.backgroundColor="#ffffff",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonLink="contact-us",this.alignText="left",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0}ngOnInit(){console.log("CTA Initialized with:",{bgColor:this.bgColor,textColor:this.textColor,titleColor:this.titleColor,buttonBgColor:this.buttonBgColor,buttonTextColor:this.buttonTextColor,layout:this.layout}),this.fullWidth=this.convertToBoolean(this.fullWidth)}navigateTo(ve){this.businessDataService.getBusinessId().subscribe(qe=>{qe&&(this.businessId=qe)}),console.log("Page: "+ve+" Parameters = "+this.businessId),this.router.navigate(["/"+ve],{queryParams:{id:this.businessId}})}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(qe){return new(qe||Pe)(s.rXU(ce.Ix),s.rXU(r.A))}}static{this.\u0275cmp=s.VBU({type:Pe,selectors:[["app-call-to-action"]],inputs:{title:"title",content:"content",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor",titleColor:"titleColor",buttonBgColor:"buttonBgColor",buttonTextColor:"buttonTextColor",borderRadius:"borderRadius",boxShadow:"boxShadow",page:"page",layout:"layout",businessId:"businessId",themeType:"themeType",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",location:"location",backgroundColor:"backgroundColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonLink:"buttonLink",alignText:"alignText",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax"},decls:8,vars:22,consts:[[1,"cta-container",3,"ngClass","ngStyle"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-btn",3,"ngStyle","click"]],template:function(qe,we){if(1&qe&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2),s.k0s(),s.j41(3,"p",1),s.EFF(4),s.k0s(),s.DNE(5,Ee,3,5,"ng-container",2),s.DNE(6,Se,2,5,"ng-template",null,3,s.C5r),s.k0s()),2&qe){const bt=s.sdS(7);s.Y8G("ngClass",s.sMw(8,Te,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,xe,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(1),s.Y8G("ngStyle",s.l_i(17,K,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.JRh(we.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(20,ie,we.textColor)),s.R7$(1),s.JRh(we.content),s.R7$(1),s.Y8G("ngIf",we.isButton)("ngIfElse",bt)}},dependencies:[be.YU,be.bT,be.B3]})}}return Pe})()},7304:(tn,Ye,L)=>{L.d(Ye,{W:()=>Pt});var s=L(7705),ce=L(345),r=L(6814),be=L(177);let fe=(()=>{class ct{transform(Qe,Yt){if(!Qe||!Yt)return Qe;let Mn=Qe;for(const Mt in Yt)if(Yt.hasOwnProperty(Mt)){const Lt=new RegExp(`{{${Mt}}}`,"g");Mn=Mn.replace(Lt,Yt[Mt])}return Mn}static{this.\u0275fac=function(Yt){return new(Yt||ct)}}static{this.\u0275pipe=s.EJ8({name:"replaceKeyword",type:ct,pure:!0})}}return ct})();const Ee=function(ct){return{"text-align":ct}},Se=function(ct,Ie){return{color:ct,"font-size":Ie}},Te=function(ct){return{businessName:ct}};function xe(ct,Ie){if(1&ct&&(s.j41(0,"div")(1,"div",9)(2,"span",10),s.EFF(3),s.nI1(4,"replaceKeyword"),s.k0s(),s.nrm(5,"br"),s.j41(6,"span",11),s.EFF(7),s.k0s()()()),2&ct){const Qe=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Ee,Qe.alignText)),s.R7$(1),s.Y8G("ngStyle",s.l_i(10,Se,Qe.subtitleColor,Qe.subtitleFontSize+"px")),s.R7$(1),s.JRh(s.i5U(4,5,Qe.subTitle,s.eq3(13,Te,Qe._businessName))),s.R7$(3),s.Y8G("ngStyle",s.l_i(15,Se,Qe.titleColor,Qe.titleFontSize+"px")),s.R7$(1),s.SpI("",Qe.title," ")}}function K(ct,Ie){if(1&ct&&(s.j41(0,"div")(1,"h3")(2,"span",12),s.EFF(3),s.nI1(4,"replaceKeyword"),s.k0s()(),s.j41(5,"div",13)(6,"h2",14),s.EFF(7),s.k0s()()()),2&ct){const Qe=s.XpG(2);s.R7$(3),s.JRh(s.i5U(4,2,Qe.subTitle,s.eq3(5,Te,Qe._businessName))),s.R7$(4),s.JRh(Qe.title)}}function ie(ct,Ie){if(1&ct){const Qe=s.RV6();s.j41(0,"button",15),s.bIt("click",function(){s.eBV(Qe);const Mn=s.XpG(2);return s.Njj(Mn.navigateToContact(Mn.buttonLink))}),s.EFF(1),s.k0s()}if(2&ct){const Qe=s.XpG(2);s.R7$(1),s.JRh(Qe.buttonText)}}const pe=function(ct,Ie,Qe){return{"full-width":ct,centered:Ie,shadow:Qe}},Pe=function(ct,Ie,Qe,Yt){return{"background-color":ct,color:Ie,"text-align":Qe,"border-radius":Yt}};function Be(ct,Ie){if(1&ct&&(s.j41(0,"div",2)(1,"div",3)(2,"div",4),s.DNE(3,xe,8,18,"div",5),s.DNE(4,K,8,7,"div",5),s.nrm(5,"p",6),s.j41(6,"div",7),s.DNE(7,ie,2,1,"button",8),s.k0s()()()()),2&ct){const Qe=s.XpG();s.Y8G("ngClass",s.sMw(6,pe,Qe.fullWidth,!Qe.fullWidth,Qe.boxShadow))("ngStyle",s.ziG(10,Pe,Qe.backgroundColor,Qe.textColor,Qe.alignText,Qe.borderRadius+"px")),s.R7$(3),s.Y8G("ngIf","home"==Qe.page),s.R7$(1),s.Y8G("ngIf","home"!=Qe.page),s.R7$(1),s.Y8G("innerHTML",Qe.sanitizedContent,s.npT),s.R7$(2),s.Y8G("ngIf",Qe.showButton)}}function ve(ct,Ie){if(1&ct&&s.nrm(0,"img",19),2&ct){const Qe=s.XpG(2);s.Y8G("src",Qe.imageURL,s.B4B)}}function qe(ct,Ie){1&ct&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function we(ct,Ie){if(1&ct&&(s.j41(0,"div",2),s.DNE(1,ve,1,1,"img",16),s.j41(2,"h3",17),s.EFF(3),s.k0s(),s.j41(4,"h2",17),s.EFF(5),s.k0s(),s.nrm(6,"p",6),s.DNE(7,qe,2,0,"button",18),s.k0s()),2&ct){const Qe=s.XpG();s.Y8G("ngClass",s.sMw(7,pe,Qe.fullWidth,!Qe.fullWidth,Qe.boxShadow))("ngStyle",s.ziG(11,Pe,Qe.backgroundColor,Qe.textColor,Qe.alignText,Qe.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Qe.imageURL&&Qe.showImage),s.R7$(2),s.JRh(Qe.subTitle),s.R7$(2),s.JRh(Qe.title),s.R7$(1),s.Y8G("innerHTML",Qe.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Qe.showButton)}}function bt(ct,Ie){if(1&ct&&s.nrm(0,"img",19),2&ct){const Qe=s.XpG(2);s.Y8G("src",Qe.imageURL,s.B4B)}}function jt(ct,Ie){1&ct&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function He(ct,Ie){if(1&ct&&(s.j41(0,"div",2),s.DNE(1,bt,1,1,"img",16),s.j41(2,"h3",17),s.EFF(3),s.k0s(),s.j41(4,"h2",17),s.EFF(5),s.k0s(),s.nrm(6,"p",6),s.DNE(7,jt,2,0,"button",18),s.k0s()),2&ct){const Qe=s.XpG();s.Y8G("ngClass",s.sMw(7,pe,Qe.fullWidth,!Qe.fullWidth,Qe.boxShadow))("ngStyle",s.ziG(11,Pe,Qe.backgroundColor,Qe.textColor,Qe.alignText,Qe.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Qe.imageURL&&Qe.showImage),s.R7$(2),s.JRh(Qe.subTitle),s.R7$(2),s.JRh(Qe.title),s.R7$(1),s.Y8G("innerHTML",Qe.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Qe.showButton)}}function Ae(ct,Ie){if(1&ct&&s.nrm(0,"img",19),2&ct){const Qe=s.XpG(2);s.Y8G("src",Qe.imageURL,s.B4B)}}function Ze(ct,Ie){if(1&ct&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&ct){const Qe=s.XpG(2);s.R7$(1),s.SpI(" ",Qe.titleParts.part2,"")}}function Ke(ct,Ie){1&ct&&(s.j41(0,"button",20),s.EFF(1,"Schedule A Visit"),s.k0s())}function lt(ct,Ie){if(1&ct&&(s.j41(0,"div",21),s.DNE(1,Ae,1,1,"img",16),s.j41(2,"div",22)(3,"h3"),s.EFF(4),s.k0s(),s.j41(5,"h2"),s.DNE(6,Ze,2,1,"span",5),s.k0s(),s.nrm(7,"div",23)(8,"p",6),s.k0s(),s.DNE(9,Ke,2,0,"button",18),s.k0s()),2&ct){const Qe=s.XpG();s.Y8G("ngClass",s.sMw(7,pe,Qe.fullWidth,!Qe.fullWidth,Qe.boxShadow))("ngStyle",s.ziG(11,Pe,Qe.backgroundColor,Qe.textColor,Qe.alignText,Qe.borderRadius+"px")),s.R7$(1),s.Y8G("ngIf",Qe.imageURL&&Qe.showImage),s.R7$(3),s.JRh(Qe.titleParts.part1),s.R7$(2),s.Y8G("ngIf",Qe.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",Qe.sanitizedContent,s.npT),s.R7$(1),s.Y8G("ngIf",Qe.showButton)}}let Pt=(()=>{class ct{constructor(Qe,Yt){this.sanitizer=Qe,this.router=Yt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Center Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Center Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(Qe){this._content=Qe,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[Qe,Yt]=this.title.split("|").map(Mn=>Mn.trim());return{part1:Qe,part2:Yt}}return{part1:this.title,part2:null}}get content(){return this._content}navigateToContact(Qe){this.router.navigate([Qe])}convertToBoolean(Qe){return"boolean"==typeof Qe?Qe:"string"==typeof Qe&&"true"===Qe.toLowerCase()}static{this.\u0275fac=function(Yt){return new(Yt||ct)(s.rXU(ce.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:ct,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:4,vars:4,consts:[["class","center-text-container",3,"ngClass","ngStyle",4,"ngIf"],["class","center-text-section-clemo",3,"ngClass","ngStyle",4,"ngIf"],[1,"center-text-container",3,"ngClass","ngStyle"],[1,"center-text-overlay"],[1,"center-text-content"],[4,"ngIf"],[1,"center-text-description",3,"innerHTML"],[1,"buttons"],["type","button","class","afhBtn",3,"click",4,"ngIf"],[1,"features-section-heading",3,"ngStyle"],[1,"features-section-title","highlight",3,"ngStyle"],[1,"features-section-title","main",3,"ngStyle"],[1,"brand-name"],[1,"heading-container"],[1,"styled-heading"],["type","button",1,"afhBtn",3,"click"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"],[1,"center-text-section-clemo",3,"ngClass","ngStyle"],[1,"text-container"],[1,"separator2"]],template:function(Yt,Mn){1&Yt&&(s.DNE(0,Be,8,15,"div",0),s.DNE(1,we,8,16,"div",0),s.DNE(2,He,8,16,"div",0),s.DNE(3,lt,10,16,"div",1)),2&Yt&&(s.Y8G("ngIf","hh"==Mn.themeType),s.R7$(1),s.Y8G("ngIf","ae"==Mn.themeType),s.R7$(1),s.Y8G("ngIf","clemo"==Mn.themeType),s.R7$(1),s.Y8G("ngIf","sb"==Mn.themeType||"sp"==Mn.themeType||"prestige"==Mn.themeType))},dependencies:[be.YU,be.bT,be.B3,fe]})}}return ct})()},3967:(tn,Ye,L)=>{L.d(Ye,{t:()=>Be});var s=L(7705),ce=L(345),r=L(6814),be=L(923),fe=L(177);const Ee=function(ve,qe,we){return{"full-width":ve,centered:qe,shadow:we}},Se=function(ve,qe,we,bt){return{"background-color":ve,color:qe,"text-align":we,"border-radius":bt}},Te=function(ve,qe){return{color:ve,"font-size":qe}};function xe(ve,qe){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),s.EFF(4),s.k0s(),s.j41(5,"span",6),s.EFF(6),s.k0s()(),s.nrm(7,"p",7),s.j41(8,"button",8),s.bIt("click",function(){s.eBV(we);const jt=s.XpG();return s.Njj(jt.navigateTo("resident-form"))}),s.EFF(9,"Get Started"),s.k0s()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(7,Ee,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(11,Se,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(3),s.Y8G("ngStyle",s.l_i(16,Te,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(19,Te,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT)}}function K(ve,qe){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",14),s.EFF(8),s.k0s()(),s.j41(9,"p"),s.EFF(10,"Discover what makes our services unique and tailored to your needs."),s.k0s(),s.EFF(11),s.j41(12,"div",15)(13,"button",16),s.bIt("click",function(){s.eBV(we);const jt=s.XpG();return s.Njj(jt.navigateToContact(jt.businessId))}),s.EFF(14,"Schedule a Visit"),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Ee,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,Se,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Te,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI(" ",we.title," Ready to experience "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Te,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.Lme("",we.subTitle,"",we._businessName,"?"),s.R7$(3),s.SpI(" ",we.content," ")}}function ie(ve,qe){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",17),s.bIt("click",function(){s.eBV(we);const jt=s.XpG();return s.Njj(jt.navigateTo("resident-form"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Ee,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,Se,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Te,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Te,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT),s.R7$(3),s.JRh(we.buttonText)}}function pe(ve,qe){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",18)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",19),s.bIt("click",function(){s.eBV(we);const jt=s.XpG();return s.Njj(jt.navigateTo("contact-us"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Ee,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,Se,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Te,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Te,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT),s.R7$(3),s.JRh(we.buttonText)}}function Pe(ve,qe){if(1&ve){const we=s.RV6();s.j41(0,"div",2)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s.EFF(6),s.k0s(),s.j41(7,"span",6),s.EFF(8),s.k0s()(),s.nrm(9,"p",7),s.j41(10,"div",15)(11,"button",17),s.bIt("click",function(){s.eBV(we);const jt=s.XpG();return s.Njj(jt.navigateTo("resident-form"))}),s.EFF(12),s.k0s()()()()()()}if(2&ve){const we=s.XpG();s.Y8G("ngClass",s.sMw(8,Ee,we.fullWidth,!we.fullWidth,we.boxShadow))("ngStyle",s.ziG(12,Se,we.backgroundColor,we.textColor,we.alignText,we.borderRadius+"px")),s.R7$(5),s.Y8G("ngStyle",s.l_i(17,Te,we.titleColor,we.titleFontSize+"px")),s.R7$(1),s.SpI("",we.title," "),s.R7$(1),s.Y8G("ngStyle",s.l_i(20,Te,we.subtitleColor,we.subtitleFontSize+"px")),s.R7$(1),s.JRh(we.subTitle),s.R7$(1),s.Y8G("innerHTML",we.sanitizedContent,s.npT),s.R7$(3),s.JRh(we.buttonText)}}let Be=(()=>{class ve{set content(we){this._content=we,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}constructor(we,bt,jt){this.sanitizer=we,this.router=bt,this.businessDataService=jt,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.businessId=""}navigateToContact(we){this.router.navigate(["/contact-us"],{queryParams:{id:we}})}navigateTo(we){this.businessDataService.getBusinessId().subscribe(bt=>{bt&&(this.businessId=bt)}),this.router.navigate(["/"+we],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(bt){return new(bt||ve)(s.rXU(ce.up),s.rXU(r.Ix),s.rXU(be.A))}}static{this.\u0275cmp=s.VBU({type:ve,selectors:[["app-consultation"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",businessId:"businessId",content:"content"},decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass","ngStyle"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main",3,"ngStyle"],[1,"section-title-highlight",3,"ngStyle"],[1,"section-description",3,"innerHTML"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main",3,"ngStyle"],[1,"consultation-title","highlight",3,"ngStyle"],[1,"cta-buttons"],[1,"afhBtn",3,"click"],["type","button",1,"cta-btn",3,"click"],[1,"consultation-container"],[1,"consultation-btn",3,"click"]],template:function(bt,jt){1&bt&&(s.j41(0,"div",0),s.DNE(1,xe,10,22,"div",1),s.DNE(2,K,15,23,"div",1),s.DNE(3,ie,13,23,"div",1),s.DNE(4,pe,13,23,"div",1),s.DNE(5,Pe,13,23,"div",1),s.k0s()),2&bt&&(s.Y8G("ngSwitch",jt.themeType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","sb"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"))},dependencies:[fe.YU,fe.B3,fe.ux,fe.e1]})}}return ve})()},3095:(tn,Ye,L)=>{L.d(Ye,{C:()=>fe});var s=L(7705),ce=L(177);function r(Ee,Se){if(1&Ee&&(s.j41(0,"div",5)(1,"p"),s.EFF(2),s.k0s()()),2&Ee){const Te=s.XpG().$implicit;s.R7$(2),s.JRh(Te.answer)}}function be(Ee,Se){if(1&Ee){const Te=s.RV6();s.j41(0,"div",2)(1,"button",3),s.bIt("click",function(){const ie=s.eBV(Te).$implicit;return s.Njj(ie.open=!ie.open)}),s.EFF(2),s.k0s(),s.DNE(3,r,3,1,"div",4),s.k0s()}if(2&Ee){const Te=Se.$implicit;s.R7$(2),s.SpI(" ",Te.question," "),s.R7$(1),s.Y8G("ngIf",Te.open)}}let fe=(()=>{class Ee{constructor(){this.faqs=[{question:"What services do you provide?",answer:"We offer 24/7 care, medication management, meal preparation, assistance with daily activities, and specialized care for conditions like dementia or mobility limitations.",open:!1},{question:"How do I know if an Adult Family Home is right for my loved one?",answer:"If your loved one needs assistance with daily living but still wants a home-like setting with personalized care, an AFH can be a great alternative to larger nursing facilities.",open:!1},{question:"Do you provide specialized care for dementia or Alzheimer\u2019s patients?",answer:"Yes, we offer memory care services tailored to the needs of residents with dementia, including safety measures, cognitive activities, and compassionate support.",open:!1},{question:"What are the room and living arrangements?",answer:"We provide private or semi-private rooms in a warm, family-like setting. Our common areas encourage socialization, and residents receive personalized attention.",open:!1},{question:"Can family members visit?",answer:"Absolutely! We encourage family visits and open communication. Visiting hours may vary, but we strive to accommodate family involvement.",open:!1},{question:"What is the cost of care, and do you accept insurance?",answer:"Pricing depends on the level of care needed. We accept private pay and some long-term care insurance plans. Contact us for a personalized quote.",open:!1},{question:"What activities and social programs do you offer?",answer:"We provide daily activities such as games, music, gentle exercises, and social events to keep residents engaged and active.",open:!1},{question:"How do I schedule a tour or get more information?",answer:"You can contact us through our website, call us directly, or fill out our inquiry form to schedule a visit and learn more about our care services.",open:!1}]}static{this.\u0275fac=function(xe){return new(xe||Ee)}}static{this.\u0275cmp=s.VBU({type:Ee,selectors:[["app-faq"]],decls:4,vars:1,consts:[[1,"faq-container"],["class","faq-item",4,"ngFor","ngForOf"],[1,"faq-item"],[1,"faq-question",3,"click"],["class","faq-answer",4,"ngIf"],[1,"faq-answer"]],template:function(xe,K){1&xe&&(s.j41(0,"div",0)(1,"h2"),s.EFF(2,"Frequently Asked Questions (FAQs)"),s.k0s(),s.DNE(3,be,4,2,"div",1),s.k0s()),2&xe&&(s.R7$(3),s.Y8G("ngForOf",K.faqs))},dependencies:[ce.Sq,ce.bT],styles:[".faq-container[_ngcontent-%COMP%]{max-width:var(--site-max-width);margin:0 auto;padding:20px;background-color:var(--background-color);border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:2rem}.faq-item[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.faq-question[_ngcontent-%COMP%]{width:100%;padding:15px;background-color:var(--dark-background-color);color:#fff;border:none;text-align:left;font-size:1.1em;font-weight:700;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.faq-question[_ngcontent-%COMP%]:hover{background-color:#45a049}.faq-answer[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border-radius:5px;margin-top:10px;font-size:1.05em;color:#555;box-shadow:0 2px 4px #0000001a}"]})}}return Ee})()},3711:(tn,Ye,L)=>{L.d(Ye,{a:()=>Ee});var s=L(7705),ce=L(4710),r=L(177);function be(Se,Te){1&Se&&(s.qex(0),s.nrm(1,"div",3),s.bVm())}function fe(Se,Te){1&Se&&(s.qex(0),s.nrm(1,"div",4),s.bVm())}let Ee=(()=>{class Se{constructor(xe){this.googleMapsLoader=xe,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(xe=>{console.error("Error loading Google Maps script:",xe)})}ngOnChanges(xe){xe.address&&!xe.address.firstChange&&this.showAddressOnMap(xe.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(xe){this.geocoder.geocode({address:xe},(K,ie)=>{if("OK"===ie){this.map.setCenter(K[0].geometry.location);const pe=new google.maps.LatLngBounds;pe.extend(K[0].geometry.location),this.map.fitBounds(pe),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:K[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+ie)})}getZoomLevel(xe){document.getElementById("map");const pe=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(xe*pe)))}static{this.\u0275fac=function(K){return new(K||Se)(s.rXU(ce.L))}}static{this.\u0275cmp=s.VBU({type:Se,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[s.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(K,ie){1&K&&(s.j41(0,"div",0),s.qex(1),s.DNE(2,be,2,0,"ng-container",1),s.DNE(3,fe,2,0,"ng-container",2),s.bVm(),s.k0s()),2&K&&(s.Y8G("ngSwitch",ie.layoutType),s.R7$(2),s.Y8G("ngSwitchCase","clemo"))},dependencies:[r.ux,r.e1,r.fG],styles:["#map[_ngcontent-%COMP%]{width:100%;height:400px;max-width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:300px}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:250px}}"]})}}return Se})()},263:(tn,Ye,L)=>{L.d(Ye,{g:()=>xe});var s=L(7705),ce=L(6814),r=L(177);const be=function(K){return{color:K}};function fe(K,ie){if(1&K&&(s.j41(0,"span",4),s.EFF(1),s.k0s()),2&K){const pe=s.XpG(2);s.Y8G("ngStyle",s.eq3(2,be,pe.titleColor)),s.R7$(1),s.SpI(" ",pe.titleParts.part2,"")}}function Ee(K,ie){if(1&K&&(s.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",13)(6,"p"),s.EFF(7),s.k0s()()()()),2&K){const pe=ie.$implicit;s.R7$(4),s.JRh(pe.title),s.R7$(3),s.JRh(pe.description)}}const Se=function(K,ie,pe){return{"background-image":K,"background-color":ie,color:pe}};function Te(K,ie){if(1&K&&(s.j41(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"h3",4),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,fe,2,4,"span",5),s.k0s(),s.nrm(8,"div",6),s.k0s()(),s.j41(9,"h3",7),s.EFF(10),s.k0s(),s.j41(11,"div",8),s.DNE(12,Ee,8,2,"div",9),s.k0s()()()),2&K){const pe=s.XpG();s.R7$(4),s.Y8G("ngStyle",s.eq3(7,be,pe.titleColor)),s.R7$(1),s.JRh(pe.titleParts.part1),s.R7$(2),s.Y8G("ngIf",pe.titleParts.part2),s.R7$(2),s.Y8G("ngStyle",s.eq3(9,be,pe.subtitleColor)),s.R7$(1),s.SpI(" ",pe.subTitle," "),s.R7$(1),s.Y8G("ngStyle",s.sMw(11,Se,pe.sectionImageUrl?"url("+pe.sectionImageUrl+")":"none",pe.backgroundColor,pe.textColor)),s.R7$(1),s.Y8G("ngForOf",pe.items)}}let xe=(()=>{class K{constructor(pe){this.router=pe,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(pe){return"boolean"==typeof pe?pe:"string"==typeof pe&&"true"===pe.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[pe,Pe]=this.title.split("|").map(Be=>Be.trim());return{part1:pe,part2:Pe}}return{part1:this.title,part2:null}}navigateTo(pe){this.router.navigate(["/"+pe],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(Pe){return new(Pe||K)(s.rXU(ce.Ix))}}static{this.\u0275cmp=s.VBU({type:K,selectors:[["app-item-list-image"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"text-container"],[3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"parent",3,"ngStyle"],["class","child",4,"ngFor","ngForOf"],[1,"child"],[1,"content"],[1,"content-header"],[1,"content-text"]],template:function(Pe,Be){1&Pe&&s.DNE(0,Te,13,15,"div",0),2&Pe&&s.Y8G("ngIf",!Be.isMinimal)},dependencies:[r.Sq,r.bT,r.B3]})}}return K})()},1915:(tn,Ye,L)=>{L.d(Ye,{j:()=>it});var s=L(7705),ce=L(6814),r=L(177),be=L(4591);function fe(rt,Me){if(1&rt&&(s.j41(0,"div",11)(1,"div",12),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&rt){const te=Me.$implicit;s.R7$(2),s.Y8G("ngClass",te.icon),s.R7$(2),s.JRh(te.title),s.R7$(3),s.JRh(te.description)}}const Ee=function(rt){return{color:rt}};function Se(rt,Me){if(1&rt&&(s.j41(0,"div")(1,"section",6)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",9),s.DNE(6,fe,8,3,"div",10),s.k0s()()()),2&rt){const te=s.XpG(2);s.R7$(3),s.Y8G("ngStyle",s.eq3(3,Ee,te.titleColor)),s.R7$(1),s.SpI(" ",te.title," "),s.R7$(2),s.Y8G("ngForOf",te.items)}}function Te(rt,Me){if(1&rt&&(s.j41(0,"div",20),s.nrm(1,"i",21),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&rt){const te=Me.$implicit,ye=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Ee,ye.textColor))("ngClass",te.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Ee,ye.subtitleColor)),s.R7$(1),s.JRh(te.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Ee,ye.textColor)),s.R7$(1),s.JRh(te.description)}}function xe(rt,Me){if(1&rt&&(s.j41(0,"div")(1,"div")(2,"div",7)(3,"div",15)(4,"span",16),s.EFF(5),s.k0s(),s.j41(6,"span",17),s.EFF(7),s.k0s()()(),s.j41(8,"div",18),s.DNE(9,Te,6,12,"div",19),s.k0s()()()),2&rt){const te=s.XpG(2);s.R7$(5),s.SpI("",te.title," "),s.R7$(2),s.JRh(te.subTitle),s.R7$(2),s.Y8G("ngForOf",te.items)}}const K=function(rt,Me,te,ye,ke,st){return{"parallax-container":rt,"regular-image-container":Me,"solid-bg-container":te,"full-width":ye,centered:ke,shadow:st}},ie=function(rt,Me,te,ye,ke){return{"background-image":rt,"background-color":Me,color:te,"text-align":ye,"border-radius":ke}};function pe(rt,Me){if(1&rt&&(s.j41(0,"section",4)(1,"div"),s.DNE(2,Se,7,5,"div",5),s.DNE(3,xe,10,3,"div",5),s.k0s()()),2&rt){const te=s.XpG();s.Y8G("ngClass",s.l4e(4,K,te.isParallax&&te.sectionImageUrl,!te.isParallax&&te.sectionImageUrl,!te.sectionImageUrl,te.fullWidth,!te.fullWidth,te.boxShadow))("ngStyle",s.s1E(11,ie,te.sectionImageUrl?"url("+te.sectionImageUrl+")":"none",te.backgroundColor,te.textColor,te.alignText,te.borderRadius+"px")),s.R7$(2),s.Y8G("ngIf",!te.isMinimal),s.R7$(1),s.Y8G("ngIf",te.isMinimal)}}function Pe(rt,Me){if(1&rt&&(s.j41(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29),s.EFF(4),s.k0s()(),s.j41(5,"div",30)(6,"h2",31),s.EFF(7),s.k0s(),s.j41(8,"p",32),s.EFF(9),s.k0s()()()()),2&rt){const te=Me.$implicit,ye=Me.index;s.AVh("alt-section",ye%2!=0),s.R7$(4),s.JRh(ye+1),s.R7$(3),s.JRh(te.title),s.R7$(2),s.JRh(te.description)}}function Be(rt,Me){if(1&rt&&(s.j41(0,"section",24),s.DNE(1,Pe,10,5,"div",25),s.k0s()),2&rt){const te=s.XpG(2);s.R7$(1),s.Y8G("ngForOf",te.items)}}function ve(rt,Me){if(1&rt&&(s.j41(0,"div",37),s.nrm(1,"i",38),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s()()),2&rt){const te=Me.$implicit;s.R7$(1),s.Y8G("ngClass",te.icon),s.R7$(2),s.JRh(te.title),s.R7$(2),s.JRh(te.description)}}function qe(rt,Me){if(1&rt){const te=s.RV6();s.j41(0,"div",39)(1,"button",40),s.bIt("click",function(){s.eBV(te);const ke=s.XpG(3);return s.Njj(ke.navigateTo("contact-us"))}),s.EFF(2),s.k0s()()}if(2&rt){const te=s.XpG(3);s.R7$(2),s.SpI(" ",te.buttonText," ")}}const we=function(rt,Me,te){return{"parallax-container":rt,"regular-image-container":Me,"solid-bg-container":te}},bt=function(rt){return{"background-image":rt}};function jt(rt,Me){if(1&rt&&(s.j41(0,"div"),s.nrm(1,"app-section-tilte",33),s.j41(2,"div",34)(3,"div",18),s.DNE(4,ve,6,3,"div",35),s.k0s()(),s.DNE(5,qe,3,1,"div",36),s.k0s()),2&rt){const te=s.XpG(2);s.R7$(1),s.Y8G("titleColor",te.titleColor)("title",te.title),s.R7$(1),s.Y8G("ngClass",s.sMw(6,we,te.isParallax&&te.sectionImageUrl,!te.isParallax&&te.sectionImageUrl,!te.sectionImageUrl))("ngStyle",s.eq3(10,bt,te.sectionImageUrl?"url("+te.sectionImageUrl+")":"none")),s.R7$(2),s.Y8G("ngForOf",te.items),s.R7$(1),s.Y8G("ngIf",te.showButton)}}function He(rt,Me){if(1&rt&&(s.j41(0,"section",4)(1,"div"),s.DNE(2,Be,2,1,"section",23),s.DNE(3,jt,6,12,"div",5),s.k0s()()),2&rt){const te=s.XpG();s.Y8G("ngClass",s.l4e(4,K,te.isParallax&&te.sectionImageUrl,!te.isParallax&&te.sectionImageUrl,!te.sectionImageUrl,te.fullWidth,!te.fullWidth,te.boxShadow))("ngStyle",s.s1E(11,ie,te.sectionImageUrl?"url("+te.sectionImageUrl+")":"none",te.backgroundColor,te.textColor,te.alignText,te.borderRadius+"px")),s.R7$(2),s.Y8G("ngIf",!te.isMinimal),s.R7$(1),s.Y8G("ngIf",te.isMinimal)}}function Ae(rt,Me){if(1&rt&&(s.j41(0,"span",22),s.EFF(1),s.k0s()),2&rt){const te=s.XpG(3);s.Y8G("ngStyle",s.eq3(2,Ee,te.titleColor)),s.R7$(1),s.SpI(" ",te.titleParts.part2,"")}}function Ze(rt,Me){if(1&rt&&(s.j41(0,"div",11)(1,"div"),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&rt){const te=Me.$implicit;s.R7$(2),s.Y8G("ngClass",te.icon),s.R7$(2),s.JRh(te.title),s.R7$(3),s.JRh(te.description)}}const Ke=function(rt,Me,te){return{"background-image":rt,"background-color":Me,color:te}};function lt(rt,Me){if(1&rt&&(s.j41(0,"div")(1,"section",42)(2,"div",7)(3,"div",43)(4,"h3",22),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,Ae,2,4,"span",44),s.k0s(),s.nrm(8,"div",45),s.k0s()(),s.j41(9,"h3",46),s.EFF(10),s.k0s(),s.j41(11,"div",9),s.DNE(12,Ze,8,3,"div",10),s.k0s()()()),2&rt){const te=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.sMw(7,Ke,te.sectionImageUrl?"url("+te.sectionImageUrl+")":"none",te.backgroundColor,te.textColor)),s.R7$(3),s.Y8G("ngStyle",s.eq3(11,Ee,te.titleColor)),s.R7$(1),s.JRh(te.titleParts.part1),s.R7$(2),s.Y8G("ngIf",te.titleParts.part2),s.R7$(2),s.Y8G("ngStyle",s.eq3(13,Ee,te.subtitleColor)),s.R7$(1),s.SpI(" ",te.subTitle," "),s.R7$(2),s.Y8G("ngForOf",te.items)}}function Pt(rt,Me){if(1&rt&&(s.j41(0,"div",37),s.nrm(1,"i",47),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&rt){const te=Me.$implicit,ye=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Ee,ye.titleColor))("ngClass",te.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Ee,ye.titleColor)),s.R7$(1),s.JRh(te.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Ee,ye.subtitleColor)),s.R7$(1),s.SpI(" ",te.description," ")}}const ct=function(rt,Me,te,ye,ke){return{"parallax-container":rt,"regular-image-container":Me,"solid-bg-container":te,"full-width":ye,centered:ke}};function Ie(rt,Me){if(1&rt&&(s.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",18),s.DNE(6,Pt,6,12,"div",35),s.k0s()()()),2&rt){const te=s.XpG(2);s.R7$(1),s.Y8G("ngClass",s.s1E(5,ct,te.isParallax&&te.sectionImageUrl,!te.isParallax&&te.sectionImageUrl,!te.sectionImageUrl,te.fullWidth,!te.fullWidth))("ngStyle",s.sMw(11,Ke,te.sectionImageUrl?"url("+te.sectionImageUrl+")":"none",te.backgroundColor,te.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(15,Ee,te.titleColor)),s.R7$(1),s.SpI(" ",te.title," "),s.R7$(2),s.Y8G("ngForOf",te.items)}}function Qe(rt,Me){if(1&rt&&(s.j41(0,"section",41)(1,"div"),s.DNE(2,lt,13,15,"div",5),s.DNE(3,Ie,7,17,"div",5),s.k0s()()),2&rt){const te=s.XpG();s.R7$(2),s.Y8G("ngIf",!te.isMinimal),s.R7$(1),s.Y8G("ngIf",te.isMinimal)}}function Yt(rt,Me){if(1&rt&&(s.j41(0,"div",11)(1,"div"),s.nrm(2,"i",13),s.j41(3,"h2"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()()()),2&rt){const te=Me.$implicit;s.R7$(2),s.Y8G("ngClass",te.icon),s.R7$(2),s.JRh(te.title),s.R7$(3),s.JRh(te.description)}}function Mn(rt,Me){if(1&rt&&(s.j41(0,"div")(1,"section",42)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"h3",46),s.EFF(6),s.k0s(),s.j41(7,"div",9),s.DNE(8,Yt,8,3,"div",10),s.k0s()()()),2&rt){const te=s.XpG(2);s.R7$(1),s.Y8G("ngStyle",s.sMw(6,Ke,te.sectionImageUrl?"url("+te.sectionImageUrl+")":"none",te.backgroundColor,te.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(10,Ee,te.titleColor)),s.R7$(1),s.SpI(" ",te.title," "),s.R7$(1),s.Y8G("ngStyle",s.eq3(12,Ee,te.subtitleColor)),s.R7$(1),s.SpI(" ",te.subTitle," "),s.R7$(2),s.Y8G("ngForOf",te.items)}}function Mt(rt,Me){if(1&rt&&(s.j41(0,"div",37),s.nrm(1,"i",47),s.j41(2,"h2",22),s.EFF(3),s.k0s(),s.j41(4,"p",22),s.EFF(5),s.k0s()()),2&rt){const te=Me.$implicit,ye=s.XpG(3);s.R7$(1),s.Y8G("ngStyle",s.eq3(6,Ee,ye.titleColor))("ngClass",te.icon),s.R7$(1),s.Y8G("ngStyle",s.eq3(8,Ee,ye.titleColor)),s.R7$(1),s.JRh(te.title),s.R7$(1),s.Y8G("ngStyle",s.eq3(10,Ee,ye.subtitleColor)),s.R7$(1),s.SpI(" ",te.description," ")}}function Lt(rt,Me){if(1&rt&&(s.j41(0,"div")(1,"div",34)(2,"div",7)(3,"h2",8),s.EFF(4),s.k0s()(),s.j41(5,"div",18),s.DNE(6,Mt,6,12,"div",35),s.k0s()()()),2&rt){const te=s.XpG(2);s.R7$(1),s.Y8G("ngClass",s.s1E(5,ct,te.isParallax&&te.sectionImageUrl,!te.isParallax&&te.sectionImageUrl,!te.sectionImageUrl,te.fullWidth,!te.fullWidth))("ngStyle",s.sMw(11,Ke,te.sectionImageUrl?"url("+te.sectionImageUrl+")":"none",te.backgroundColor,te.textColor)),s.R7$(2),s.Y8G("ngStyle",s.eq3(15,Ee,te.titleColor)),s.R7$(1),s.SpI(" ",te.title," "),s.R7$(2),s.Y8G("ngForOf",te.items)}}function Wt(rt,Me){if(1&rt&&(s.j41(0,"section",41)(1,"div"),s.DNE(2,Mn,9,14,"div",5),s.DNE(3,Lt,7,17,"div",5),s.k0s()()),2&rt){const te=s.XpG();s.R7$(2),s.Y8G("ngIf",!te.isMinimal),s.R7$(1),s.Y8G("ngIf",te.isMinimal)}}function ht(rt,Me){if(1&rt&&(s.j41(0,"div",52)(1,"div",53),s.nrm(2,"i",54),s.k0s(),s.j41(3,"div",55)(4,"h2",56),s.EFF(5),s.k0s(),s.j41(6,"p",57),s.EFF(7),s.k0s()()()),2&rt){const te=Me.$implicit;s.R7$(2),s.Y8G("ngClass",te.icon),s.R7$(3),s.JRh(te.name),s.R7$(2),s.JRh(te.description)}}function Ve(rt,Me){if(1&rt&&(s.j41(0,"section",48),s.nrm(1,"app-section-tilte",49),s.j41(2,"div",50),s.DNE(3,ht,8,3,"div",51),s.k0s()()),2&rt){const te=s.XpG();s.R7$(1),s.Y8G("title","Our Services"),s.R7$(2),s.Y8G("ngForOf",te.items)}}let it=(()=>{class rt{constructor(te){this.router=te,this.title="Our Services",this.subTitle="",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.themeType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.businessId=0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("\u{1f4cc} Item List Initialized:",{order:this.order,title:this.title,subTitle:this.subTitle,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,titleColor:this.titleColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}convertToBoolean(te){return"boolean"==typeof te?te:"string"==typeof te&&"true"===te.toLowerCase()}get titleParts(){if(this.title.includes("|")){const[te,ye]=this.title.split("|").map(ke=>ke.trim());return{part1:te,part2:ye}}return{part1:this.title,part2:null}}navigateTo(te){this.router.navigate(["/"+te],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(ye){return new(ye||rt)(s.rXU(ce.Ix))}}static{this.\u0275cmp=s.VBU({type:rt,selectors:[["app-item-list"]],inputs:{title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",themeType:"themeType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",businessId:"businessId",order:"order"},decls:6,vars:5,consts:[[1,"item-list-container"],["class","services-list-section",3,"ngClass","ngStyle",4,"ngIf"],["class","services-list-section",4,"ngIf"],["class","sb-services-section",4,"ngIf"],[1,"services-list-section",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"our-services-section"],[1,"heading-container"],[1,"styled-heading",3,"ngStyle"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[2,"display","flex"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-description"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"services-grid"],["class","services-grid-item",4,"ngFor","ngForOf"],[1,"services-grid-item"],[1,"services-grid-item-icon",3,"ngStyle","ngClass"],[3,"ngStyle"],["class","modern-service-section",4,"ngIf"],[1,"modern-service-section"],["class","service-section",3,"alt-section",4,"ngFor","ngForOf"],[1,"service-section"],[1,"section-content"],[1,"section-right"],[1,"section-number"],[1,"section-left"],[1,"section-title"],[1,"section-description"],[3,"titleColor","title"],[3,"ngClass","ngStyle"],["class","service-item",4,"ngFor","ngForOf"],["class","button-container",4,"ngIf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"],[1,"button-container"],["type","button",1,"cta-btn",3,"click"],[1,"services-list-section"],[1,"our-services-section",3,"ngStyle"],[1,"text-container"],[3,"ngStyle",4,"ngIf"],[1,"separator2"],[1,"our-services-description",3,"ngStyle"],[1,"services-item-icon",3,"ngStyle","ngClass"],[1,"sb-services-section"],[3,"title"],[1,"sb-services-grid"],["class","sb-service-item",4,"ngFor","ngForOf"],[1,"sb-service-item"],[1,"sb-service-icon-wrapper"],[1,"sb-services-item-icon",3,"ngClass"],[1,"sb-service-content"],[1,"sb-service-title"],[1,"sb-service-description"]],template:function(ye,ke){1&ye&&(s.j41(0,"div",0),s.DNE(1,pe,4,17,"section",1),s.DNE(2,He,4,17,"section",1),s.DNE(3,Qe,4,2,"section",2),s.DNE(4,Wt,4,2,"section",2),s.DNE(5,Ve,4,2,"section",3),s.k0s()),2&ye&&(s.R7$(1),s.Y8G("ngIf","hh"===ke.themeType),s.R7$(1),s.Y8G("ngIf","ae"===ke.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===ke.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===ke.themeType),s.R7$(1),s.Y8G("ngIf","sb"==ke.themeType||"sp"==ke.themeType))},dependencies:[r.YU,r.Sq,r.bT,r.B3,be.L]})}}return rt})()},491:(tn,Ye,L)=>{L.d(Ye,{G:()=>pe});var s=L(7705),ce=L(345),r=L(6814),be=L(177);const fe=function(Pe,Be,ve){return{"full-width":Pe,centered:Be,shadow:ve}},Ee=function(Pe,Be,ve,qe){return{"background-color":Pe,color:Be,"text-align":ve,"border-radius":qe}};function Se(Pe,Be){if(1&Pe&&(s.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),s.EFF(4),s.k0s()(),s.nrm(5,"p",6),s.k0s(),s.j41(6,"div",7),s.nrm(7,"img",8),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(6,fe,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(10,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(4),s.JRh(ve.title),s.R7$(1),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}function Te(Pe,Be){if(1&Pe&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Pe){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function xe(Pe,Be){if(1&Pe&&(s.j41(0,"section",9)(1,"div",10)(2,"div",11)(3,"div",3)(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,Te,2,1,"span",12),s.k0s(),s.nrm(8,"div",13)(9,"p",6),s.k0s(),s.j41(10,"div",14),s.nrm(11,"img",8),s.k0s()()()()),2&Pe){const ve=s.XpG();s.R7$(5),s.SpI(" ",ve.titleParts.part1," "),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}function K(Pe,Be){if(1&Pe&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Pe){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function ie(Pe,Be){if(1&Pe&&(s.j41(0,"section",2)(1,"div",3)(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"h2"),s.DNE(5,K,2,1,"span",12),s.k0s(),s.nrm(6,"div",13)(7,"p",15),s.k0s(),s.j41(8,"div",7),s.nrm(9,"img",8),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(7,fe,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(11,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title)}}let pe=(()=>{class Pe{constructor(ve,qe){this.sanitizer=ve,this.router=qe,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Left Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Left Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this._content)}get titleParts(){if(this.title.includes("|")){const[ve,qe]=this.title.split("|").map(we=>we.trim());return{part1:ve,part2:qe}}return{part1:this.title,part2:null}}get contentText(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(qe){return new(qe||Pe)(s.rXU(ce.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:Pe,selectors:[["app-left-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],[1,"left-image-container"],[1,"center-text-description",3,"innerHTML"]],template:function(qe,we){1&qe&&(s.DNE(0,Se,8,15,"section",0),s.DNE(1,xe,12,5,"section",1),s.DNE(2,ie,10,16,"section",0)),2&qe&&(s.Y8G("ngIf","hh"===we.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===we.themeType||"ae"===we.themeType||"sb"===we.themeType||"sp"===we.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===we.themeType))},dependencies:[be.YU,be.bT,be.B3]})}}return Pe})()},4593:(tn,Ye,L)=>{L.d(Ye,{F:()=>pe});var s=L(7705),ce=L(345),r=L(6814),be=L(177);const fe=function(Pe,Be,ve){return{"full-width":Pe,centered:Be,shadow:ve}},Ee=function(Pe,Be,ve,qe){return{"background-color":Pe,color:Be,"text-align":ve,"border-radius":qe}};function Se(Pe,Be){if(1&Pe&&(s.j41(0,"section",3)(1,"div",4),s.nrm(2,"img",5),s.k0s(),s.j41(3,"div",6)(4,"div",7)(5,"h2",8),s.EFF(6),s.k0s()(),s.nrm(7,"p",9),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(6,fe,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(10,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(4),s.JRh(ve.title),s.R7$(1),s.Y8G("innerHTML",ve.sanitizedContent,s.npT)}}function Te(Pe,Be){if(1&Pe&&(s.j41(0,"h2")(1,"span"),s.EFF(2),s.k0s()()),2&Pe){const ve=s.XpG(2);s.R7$(2),s.JRh(ve.titleParts.part2)}}function xe(Pe,Be){if(1&Pe&&(s.j41(0,"section",10)(1,"div",11)(2,"div",12)(3,"div",13),s.nrm(4,"img",5),s.k0s(),s.j41(5,"div",6)(6,"h3"),s.EFF(7),s.k0s(),s.DNE(8,Te,3,1,"h2",14),s.nrm(9,"div",15),s.j41(10,"p",9),s.EFF(11),s.k0s()()()()()),2&Pe){const ve=s.XpG();s.R7$(4),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(1),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT),s.R7$(1),s.JRh(ve.content)}}function K(Pe,Be){if(1&Pe&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&Pe){const ve=s.XpG(2);s.R7$(1),s.SpI(" ",ve.titleParts.part2,"")}}function ie(Pe,Be){if(1&Pe&&(s.j41(0,"section",16)(1,"div",4),s.nrm(2,"img",5),s.k0s(),s.j41(3,"div",6)(4,"h3"),s.EFF(5),s.k0s(),s.j41(6,"h2"),s.DNE(7,K,2,1,"span",14),s.k0s(),s.nrm(8,"div",15)(9,"p",17),s.k0s()()),2&Pe){const ve=s.XpG();s.Y8G("ngClass",s.sMw(7,fe,ve.fullWidth,!ve.fullWidth,ve.boxShadow))("ngStyle",s.ziG(11,Ee,ve.backgroundColor,ve.textColor,ve.alignText,ve.borderRadius+"px")),s.R7$(2),s.FS9("src",ve.sectionImageUrl,s.B4B),s.FS9("alt",ve.title),s.R7$(3),s.JRh(ve.titleParts.part1),s.R7$(2),s.Y8G("ngIf",ve.titleParts.part2),s.R7$(2),s.Y8G("innerHTML",ve.sanitizedContent,s.npT)}}let pe=(()=>{class Pe{constructor(ve,qe){this.sanitizer=ve,this.router=qe,this.showBtn=!1,this.showImage=!1,this._businessName="",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.order=0}ngOnInit(){this.fullWidth=this.convertToBoolean(this.fullWidth),console.log("Right Text Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Right Text- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}set content(ve){this._content=ve,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(ve)}get titleParts(){if(this.title.includes("|")){const[ve,qe]=this.title.split("|").map(we=>we.trim());return{part1:ve,part2:qe}}return{part1:this.title,part2:null}}get content(){return this._content}convertToBoolean(ve){return"boolean"==typeof ve?ve:"string"==typeof ve&&"true"===ve.toLowerCase()}static{this.\u0275fac=function(qe){return new(qe||Pe)(s.rXU(ce.up),s.rXU(r.Ix))}}static{this.\u0275cmp=s.VBU({type:Pe,selectors:[["app-right-text"]],inputs:{themeType:"themeType",title:"title",subTitle:"subTitle",imageURL:"imageURL",showBtn:"showBtn",showImage:"showImage",_businessName:"_businessName",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",order:"order",content:"content"},decls:3,vars:3,consts:[["class","right-text-section",3,"ngClass","ngStyle",4,"ngIf"],["class","content-container",4,"ngIf"],["class","left-text-section",3,"ngClass","ngStyle",4,"ngIf"],[1,"right-text-section",3,"ngClass","ngStyle"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"heading-container"],[1,"styled-heading"],[3,"innerHTML"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],[1,"left-text-section",3,"ngClass","ngStyle"],[1,"center-text-description",3,"innerHTML"]],template:function(qe,we){1&qe&&(s.DNE(0,Se,8,15,"section",0),s.DNE(1,xe,12,6,"section",1),s.DNE(2,ie,10,16,"section",2)),2&qe&&(s.Y8G("ngIf","hh"===we.themeType),s.R7$(1),s.Y8G("ngIf","clemo"===we.themeType||"ae"===we.themeType||"sb"===we.themeType||"sp"===we.themeType),s.R7$(1),s.Y8G("ngIf","prestige"===we.themeType))},dependencies:[be.YU,be.bT,be.B3]})}}return Pe})()},4591:(tn,Ye,L)=>{L.d(Ye,{L:()=>be});var s=L(7705),ce=L(177);const r=function(fe){return{color:fe}};let be=(()=>{class fe{constructor(){this.titleColor="#000000"}static{this.\u0275fac=function(Te){return new(Te||fe)}}static{this.\u0275cmp=s.VBU({type:fe,selectors:[["app-section-tilte"]],inputs:{title:"title",titleColor:"titleColor"},decls:3,vars:4,consts:[[1,"center-text-section"],[1,"center-text-title",3,"ngStyle"]],template:function(Te,xe){1&Te&&(s.j41(0,"div",0)(1,"h2",1),s.EFF(2),s.k0s()()),2&Te&&(s.R7$(1),s.Y8G("ngStyle",s.eq3(2,r,xe.titleColor)),s.R7$(1),s.JRh(xe.title))},dependencies:[ce.B3],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color);padding-bottom:3rem}"]})}}return fe})()},8353:(tn,Ye,L)=>{L.d(Ye,{B:()=>G});var s=L(7705),ce=L(7304),r=L(4593),be=L(491),fe=L(9969),Ee=L(6814),Se=L(923),Te=L(177);const xe=function(C){return{id:C}},K=function(C,M){return{"clemo-btn":C,"clemo-btn-outline":M}},ie=function(C){return{"border-radius":C}};function pe(C,M){if(1&C&&(s.qex(0),s.j41(1,"a",15),s.EFF(2),s.k0s(),s.bVm()),2&C){const V=M.$implicit,Z=s.XpG(3);s.R7$(1),s.Y8G("routerLink",V.link)("queryParams",s.eq3(5,xe,null==Z.business?null:Z.business.id))("ngClass",s.l_i(7,K,!V.outline,V.outline))("ngStyle",s.eq3(10,ie,Z.buttonBorderRadius)),s.R7$(1),s.SpI(" ",V.text," ")}}const Pe=function(C,M){return{"font-size":C,"font-weight":M}};function Be(C,M){if(1&C&&(s.j41(0,"div",6)(1,"div",7)(2,"h1"),s.EFF(3),s.k0s(),s.nrm(4,"div",8)(5,"h2",9),s.j41(6,"div",10),s.DNE(7,pe,3,12,"ng-container",11),s.k0s()(),s.j41(8,"div",12)(9,"div",13),s.nrm(10,"div",14),s.k0s(),s.j41(11,"p"),s.EFF(12,"Scroll down"),s.k0s()()()),2&C){const V=s.XpG().$implicit,Z=s.XpG();s.Y8G("@slideFadeIn",void 0),s.R7$(3),s.JRh(V.title),s.R7$(2),s.Y8G("ngStyle",s.l_i(5,Pe,Z.subtitleSize,Z.subtitleWeight))("innerHTML",V.subtitle,s.npT),s.R7$(2),s.Y8G("ngForOf",V.buttons)}}const ve=function(C){return{backgroundImage:C,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function qe(C,M){if(1&C&&(s.j41(0,"div",3),s.nrm(1,"div",4),s.DNE(2,Be,13,8,"div",5),s.k0s()),2&C){const V=M.$implicit,Z=M.index,je=s.XpG();s.AVh("clemo-active",Z===je.currentSlide),s.Y8G("@slideTransition",void 0)("@.disabled",!je.enableTransitions)("@slideTransition",je.currentSlide),s.R7$(1),s.Y8G("ngStyle",s.eq3(7,ve,"url("+V.backgroundImage+")")),s.R7$(1),s.Y8G("ngIf",(null==V.title?null:V.title.trim())&&Z===je.currentSlide)}}const we=function(C){return{"line-style":C}};function bt(C,M){if(1&C){const V=s.RV6();s.j41(0,"div",20),s.bIt("click",function(){const _t=s.eBV(V).index,Xt=s.XpG(2);return s.Njj(Xt.navigateToSlide(_t))}),s.k0s()}if(2&C){const V=M.index,Z=s.XpG(2);s.AVh("clemo-active",V===Z.currentSlide),s.Y8G("ngClass",s.eq3(3,we,"bottom"===Z.navigation))}}function jt(C,M){if(1&C){const V=s.RV6();s.j41(0,"button",21),s.bIt("click",function(){s.eBV(V);const je=s.XpG(2);return s.Njj(je.prevSlide())}),s.nrm(1,"span",22),s.j41(2,"span",23),s.EFF(3,"Previous"),s.k0s()()}}function He(C,M){if(1&C){const V=s.RV6();s.j41(0,"button",24),s.bIt("click",function(){s.eBV(V);const je=s.XpG(2);return s.Njj(je.nextSlide())}),s.nrm(1,"span",25),s.j41(2,"span",23),s.EFF(3,"Next"),s.k0s()()}}const Ae=function(C){return{"bottom-nav":C}};function Ze(C,M){if(1&C&&(s.j41(0,"div")(1,"div",16),s.DNE(2,bt,1,5,"div",17),s.k0s(),s.DNE(3,jt,4,0,"button",18),s.DNE(4,He,4,0,"button",19),s.k0s()),2&C){const V=s.XpG();s.R7$(1),s.Y8G("ngClass",s.eq3(4,Ae,"bottom"===V.navigation)),s.R7$(1),s.Y8G("ngForOf",V.slides),s.R7$(1),s.Y8G("ngIf",V.sideButtons),s.R7$(1),s.Y8G("ngIf",V.sideButtons)}}const Ke=function(C,M,V,Z,je){return{"--slider-opacity":C,height:M,"--button-border-radius":V,"--subtitle-size":Z,"--subtitle-weight":je}};let lt=(()=>{class C{constructor(V,Z){this.router=V,this.businessDataService=Z,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.buttonBorderRadius="25px",this.subtitleSize="1.5rem",this.subtitleWeight="1.5rem",this.currentSlide=0,this.sliderOpacity=1,this.enableTransitions=!0,this.autoSlide()}ngOnInit(){setTimeout(()=>this.enableTransitions=!0,50),console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(V=>{V?(this.business=V,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?(this.slides=this.business.heroSlider.map(Z=>({title:this.replaceKeywords(Z.title),subtitle:this.replaceKeywords(Z.subtitle),backgroundImage:Z.backgroundImage,buttons:Z.buttons||[]})),console.log("slide count:",this.slides.length)):(console.warn("HeroSliderComponent - No heroSlider data available."),this.slides=[]),this.business.sliderConfig?this.applySliderConfig(this.business.sliderConfig):console.warn("HeroSliderComponent - No sliderConfig found, using default values.")):console.error("HeroSliderComponent - No business data available.")})}applySliderConfig(V){this.navigation=V.navigation??"side",this.sideButtons=V.sideButtons??!0,this.sliderHeight=V.sliderHeight??"100vh",this.buttonBorderRadius=V.buttonBorderRadius??"25px",this.subtitleSize=V.subtitleSize??"1.5rem",this.subtitleWeight=V.subtitleWeight??"600",console.log("HeroSliderComponent - Applied slider config:",V)}replaceKeywords(V){return V&&this.business?.businessName?V.replace(/{{businessName}}/g,this.business.businessName):V}navigateToSlide(V){this.currentSlide=V}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const V=window.scrollY,Z=window.innerHeight;this.sliderOpacity=Math.max(1-V/Z,0)}static{this.\u0275fac=function(Z){return new(Z||C)(s.rXU(Ee.Ix),s.rXU(Se.A))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-hero-slider"]],hostBindings:function(Z,je){1&Z&&s.bIt("scroll",function(Xt){return je.onScroll(Xt)},!1,s.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight",buttonBorderRadius:"buttonBorderRadius",subtitleSize:"subtitleSize",subtitleWeight:"subtitleWeight"},decls:3,vars:9,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-main-home-content"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"ngStyle","innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","queryParams","ngClass","ngStyle"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button",3,"click",4,"ngIf"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(Z,je){1&Z&&(s.j41(0,"div",0),s.DNE(1,qe,3,9,"div",1),s.DNE(2,Ze,5,6,"div",2),s.k0s()),2&Z&&(s.Y8G("ngStyle",s.s1E(3,Ke,je.sliderOpacity,je.sliderHeight,je.buttonBorderRadius,je.subtitleSize,je.subtitleWeight)),s.R7$(1),s.Y8G("ngForOf",je.slides),s.R7$(1),s.Y8G("ngIf",je.slides.length>1))},dependencies:[Te.YU,Te.Sq,Te.bT,Te.B3,Ee.Wk,Ee.wQ],data:{animation:[(0,fe.hZ)("slideFadeIn",[(0,fe.kY)(":enter",[(0,fe.P)("h1, h2, .clemo-separator",[(0,fe.iF)({opacity:0,transform:"translateY(20px)"}),(0,fe.yc)(150,(0,fe.i0)("800ms ease-out",(0,fe.iF)({opacity:1,transform:"translateY(0)"})))])])]),(0,fe.hZ)("slideTransition",[(0,fe.kY)(":increment",[(0,fe.iF)({position:"relative"}),(0,fe.P)(":enter, :leave",[(0,fe.iF)({position:"absolute",width:"100%",top:0,left:0})]),(0,fe.Os)([(0,fe.P)(":leave",[(0,fe.i0)("600ms ease",(0,fe.iF)({opacity:0,transform:"translateX(-5%)"}))]),(0,fe.P)(":enter",[(0,fe.iF)({opacity:0,transform:"translateX(5%)"}),(0,fe.i0)("600ms ease",(0,fe.iF)({opacity:1,transform:"translateX(0)"}))])])]),(0,fe.kY)(":decrement",[(0,fe.iF)({position:"relative"}),(0,fe.P)(":enter, :leave",[(0,fe.iF)({position:"absolute",width:"100%",top:0,left:0})]),(0,fe.Os)([(0,fe.P)(":leave",[(0,fe.i0)("600ms ease",(0,fe.iF)({opacity:0,transform:"translateX(5%)"}))]),(0,fe.P)(":enter",[(0,fe.iF)({opacity:0,transform:"translateX(-5%)"}),(0,fe.i0)("600ms ease",(0,fe.iF)({opacity:1,transform:"translateX(0)"}))])])])])]}})}}return C})();var Pt=L(1915);function ct(C,M){if(1&C&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&C){const V=M.$implicit;s.R7$(1),s.Y8G("innerHTML",V.title,s.npT),s.R7$(1),s.Y8G("innerHTML",V.description,s.npT)}}const Ie=function(C,M,V){return{"full-width":C,centered:M,shadow:V}},Qe=function(C,M,V,Z){return{"background-color":C,color:M,"text-align":V,"border-radius":Z}};function Yt(C,M){if(1&C&&(s.qex(0,4),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,ct,3,2,"div",11),s.k0s()()(),s.bVm()),2&C){const V=s.XpG();s.Y8G("ngClass",s.sMw(5,Ie,V.fullWidth,!V.fullWidth,V.boxShadow))("ngStyle",s.ziG(9,Qe,V.backgroundColor,V.textColor,V.alignText,V.borderRadius+"px")),s.R7$(4),s.SpI("",V.title," "),s.R7$(2),s.JRh(V.subTitle),s.R7$(3),s.Y8G("ngForOf",V.items)}}function Mn(C,M){1&C&&s.eu8(0)}function Mt(C,M){if(1&C&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&C){const V=M.$implicit;s.R7$(1),s.Y8G("innerHTML",V.title,s.npT),s.R7$(1),s.Y8G("innerHTML",V.description,s.npT)}}function Lt(C,M){if(1&C&&(s.qex(0),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,Mt,3,2,"div",11),s.k0s()()(),s.bVm()),2&C){const V=s.XpG();s.R7$(4),s.SpI("",V.title," "),s.R7$(2),s.JRh(V.subTitle),s.R7$(3),s.Y8G("ngForOf",V.items)}}let Wt=(()=>{class C{constructor(V){this.route=V,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0}ngOnInit(){console.log("\u{1f4cc} Section Features- Initialized:",{title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(Z){return new(Z||C)(s.rXU(Ee.nX))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-features"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(Z,je){1&Z&&(s.j41(0,"div",0),s.DNE(1,Yt,10,14,"ng-container",1),s.DNE(2,Mn,1,0,"ng-container",2),s.DNE(3,Lt,10,3,"ng-container",3),s.k0s()),2&Z&&(s.Y8G("ngSwitch",je.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"))},dependencies:[Te.YU,Te.Sq,Te.B3,Te.ux,Te.e1,Te.fG]})}}return C})();function ht(C,M){if(1&C&&(s.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),s.EFF(5),s.k0s(),s.j41(6,"strong"),s.EFF(7),s.k0s()()()()()),2&C){const V=M.$implicit;s.R7$(5),s.SpI('" ',V.quote,' "'),s.R7$(2),s.JRh(V.name)}}function Ve(C,M){if(1&C&&(s.qex(0),s.j41(1,"section",3)(2,"div",4)(3,"span",5),s.EFF(4,"Testimonials"),s.k0s()(),s.j41(5,"div",6),s.DNE(6,ht,8,2,"div",7),s.k0s()(),s.bVm()),2&C){const V=s.XpG();s.R7$(6),s.Y8G("ngForOf",V.testimonials)}}function it(C,M){if(1&C&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&C){const V=M.$implicit;s.R7$(5),s.JRh(V.quote),s.R7$(2),s.JRh(V.name)}}function rt(C,M){if(1&C&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,it,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&C){const V=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,V.testimonials,0,4))}}function Me(C,M){if(1&C&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&C){const V=M.$implicit;s.R7$(5),s.JRh(V.quote),s.R7$(2),s.JRh(V.name)}}function te(C,M){if(1&C&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,Me,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&C){const V=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,V.testimonials,0,4))}}function ye(C,M){if(1&C&&(s.j41(0,"div",21)(1,"div",22)(2,"div",23),s.EFF(3,"\u275d"),s.k0s(),s.j41(4,"p",24),s.EFF(5),s.k0s(),s.j41(6,"h4",25),s.EFF(7),s.k0s()()()),2&C){const V=M.$implicit;s.R7$(5),s.JRh(V.quote),s.R7$(2),s.JRh(V.name)}}function ke(C,M){if(1&C&&(s.qex(0),s.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),s.EFF(5,"Word of mouth"),s.k0s(),s.j41(6,"p",15),s.EFF(7,"You should hear what people have to say about us"),s.k0s()(),s.j41(8,"div",16)(9,"div",17),s.DNE(10,ye,8,2,"div",18),s.nI1(11,"slice"),s.k0s(),s.j41(12,"div",19)(13,"button",20),s.EFF(14," View All Testimonials "),s.k0s()()()()(),s.bVm()),2&C){const V=s.XpG();s.R7$(10),s.Y8G("ngForOf",s.brH(11,1,V.testimonials,0,4))}}function st(C,M){1&C&&s.eu8(0)}let nt=(()=>{class C{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(V){this.currentIndex=V,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(Z){return new(Z||C)}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"]],template:function(Z,je){1&Z&&(s.j41(0,"div",0),s.DNE(1,Ve,7,1,"ng-container",1),s.DNE(2,rt,15,5,"ng-container",1),s.DNE(3,te,15,5,"ng-container",1),s.DNE(4,ke,15,5,"ng-container",1),s.DNE(5,st,1,0,"ng-container",2),s.k0s()),2&Z&&(s.Y8G("ngSwitch",je.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"),s.R7$(1),s.Y8G("ngSwitchCase","clemo"),s.R7$(1),s.Y8G("ngSwitchCase","prestige"))},dependencies:[Te.Sq,Te.ux,Te.e1,Te.fG,Ee.Wk,Te.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return C})();var Ft=L(4710),bn=L(345);function er(C,M){if(1&C&&(s.j41(0,"a",11),s.EFF(1," Leave us a Google Review "),s.k0s()),2&C){const V=s.XpG();s.Y8G("href",V.googleReviewLink,s.B4B)}}function rn(C,M){if(1&C){const V=s.RV6();s.j41(0,"span"),s.EFF(1," ... "),s.j41(2,"button",24),s.bIt("click",function(){s.eBV(V);const je=s.XpG(4);return s.Njj(je.navigateTo("testimonials"))}),s.EFF(3,"Read More"),s.k0s()()}}function Fn(C,M){if(1&C&&(s.j41(0,"p",22),s.EFF(1),s.DNE(2,rn,4,0,"span",23),s.k0s()),2&C){const V=s.XpG().$implicit,Z=s.XpG(2);s.R7$(1),s.SpI(" ",Z.truncateText(V.quote)," "),s.R7$(1),s.Y8G("ngIf",Z.isTruncated(V.quote))}}function Qt(C,M){if(1&C){const V=s.RV6();s.j41(0,"span"),s.EFF(1," ... "),s.j41(2,"button",24),s.bIt("click",function(){s.eBV(V);const je=s.XpG(4);return s.Njj(je.navigateTo("testimonials"))}),s.EFF(3,"Read More"),s.k0s()()}}function jn(C,M){if(1&C&&(s.j41(0,"p",22),s.nrm(1,"span",25),s.DNE(2,Qt,4,0,"span",23),s.k0s()),2&C){const V=s.XpG().$implicit,Z=s.XpG(2);s.R7$(1),s.Y8G("innerHTML",Z.truncateText(V.rawQuote),s.npT),s.R7$(1),s.Y8G("ngIf",Z.isTruncated(V.rawQuote))}}function Pn(C,M){if(1&C&&s.nrm(0,"img",26),2&C){const V=s.XpG().$implicit;s.FS9("alt",V.name),s.Y8G("src",V.photoUrl,s.B4B)}}function Ht(C,M){if(1&C&&(s.j41(0,"div",27),s.EFF(1),s.k0s()),2&C){const V=s.XpG().$implicit;s.R7$(1),s.SpI(" ",V.name.charAt(0).toUpperCase()," ")}}function Vt(C,M){1&C&&(s.j41(0,"div",28),s.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),s.k0s())}function _r(C,M){if(1&C&&(s.j41(0,"div",13)(1,"div",14),s.EFF(2,"\u201c"),s.k0s(),s.DNE(3,Fn,3,2,"p",15),s.DNE(4,jn,3,2,"p",15),s.j41(5,"div",16),s.DNE(6,Pn,1,2,"img",17),s.DNE(7,Ht,2,1,"ng-template",null,18,s.C5r),s.j41(9,"div")(10,"p",19),s.EFF(11),s.k0s(),s.j41(12,"p",20),s.EFF(13),s.k0s(),s.DNE(14,Vt,2,0,"div",21),s.k0s()()()),2&C){const V=M.$implicit,Z=s.sdS(8);s.Y8G("@slideIn",void 0),s.R7$(3),s.Y8G("ngIf",V.isGoogle),s.R7$(1),s.Y8G("ngIf",!V.isGoogle),s.R7$(2),s.Y8G("ngIf",V.photoUrl)("ngIfElse",Z),s.R7$(5),s.JRh(V.name),s.R7$(2),s.JRh(V.relationship),s.R7$(1),s.Y8G("ngIf",V.isGoogle)}}const sn=function(C){return[C]};function Rr(C,M){if(1&C&&(s.qex(0),s.DNE(1,_r,15,8,"div",12),s.bVm()),2&C){const V=s.XpG();s.R7$(1),s.Y8G("ngForOf",s.eq3(2,sn,V.currentTestimonial))("ngForTrackBy",V.trackByIndex)}}function Yn(C,M){1&C&&(s.j41(0,"p",29),s.EFF(1,"No testimonials available at the moment."),s.k0s())}let Bt=(()=>{class C{constructor(V,Z,je,_t){this.businessDataService=V,this.googleMapsLoader=Z,this.router=je,this.sanitizer=_t,this.business=null,this.business$=this.businessDataService.businessData$,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){console.log("Testimonial Carousel Loading for ID: ",this.businessId),this.businessDataService.businessData$.subscribe(V=>{V&&(this.business=V)}),"0"!=this.business?.placeId&&this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(V=>{if(V&&V.testimonials){const Z=V.testimonials.map(je=>({...je,relationship:"Testimonial",isGoogle:!1,rawQuote:je.quote,quote:this.sanitizeHtml(je.quote)}));this.testimonials=[...this.testimonials,...Z]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(Z,je)=>{if(je===google.maps.places.PlacesServiceStatus.OK){const _t=Z?.reviews?.map(Xt=>({name:Xt.author_name,quote:Xt.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[..._t,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",je)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials.length>0?this.testimonials[this.currentIndex]:null}goToSlide(V){this.currentIndex=V}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}previousSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex-1+this.testimonials.length)%this.testimonials.length)}nextSlide(){this.testimonials.length>0&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)}trackByIndex(V,Z){return V}truncateText(V){return V.length>this.maxTextLength?V.slice(0,this.maxTextLength):V}isTruncated(V){return V.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}navigateTo(V){this.businessDataService.getBusinessId().subscribe(Z=>{Z&&(this.businessId=Z)}),console.log("Page: "+V+" Parameters = "+this.businessId),this.router.navigate(["/"+V],{queryParams:{id:this.businessId}})}sanitizeHtml(V){return this.sanitizer.bypassSecurityTrustHtml(V)}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.placeId}`}static{this.\u0275fac=function(Z){return new(Z||C)(s.rXU(Se.A),s.rXU(Ft.L),s.rXU(Ee.Ix),s.rXU(bn.up))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:19,vars:3,consts:[[1,"testimonials-container","modern-carousel"],[1,"testimonial-content"],[1,"testimonial-intro"],[1,"highlight"],[1,"intro-subtext"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"carousel-arrows"],["aria-label","Previous testimonial",3,"click"],["aria-label","Next testimonial",3,"click"],[4,"ngIf","ngIfElse"],["noTestimonials",""],["target","_blank",1,"afhBtn",3,"href"],["class","testimonial-quote",4,"ngFor","ngForOf","ngForTrackBy"],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text",4,"ngIf"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"quote-text"],[4,"ngIf"],[1,"read-more",3,"click"],[3,"innerHTML"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"google-stars"],[1,"no-testimonials-message"]],template:function(Z,je){if(1&Z&&(s.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2"),s.EFF(5,"from our "),s.j41(6,"span",3),s.EFF(7,"community"),s.k0s()(),s.j41(8,"p",4),s.EFF(9," Here\u2019s what others had to say about us. "),s.k0s(),s.DNE(10,er,2,1,"a",5),s.j41(11,"div",6)(12,"button",7),s.bIt("click",function(){return je.previousSlide()}),s.EFF(13,"\u2190"),s.k0s(),s.j41(14,"button",8),s.bIt("click",function(){return je.nextSlide()}),s.EFF(15,"\u2192"),s.k0s()()(),s.DNE(16,Rr,2,4,"ng-container",9),s.k0s(),s.DNE(17,Yn,2,0,"ng-template",null,10,s.C5r),s.k0s()()),2&Z){const _t=s.sdS(18);s.R7$(10),s.Y8G("ngIf","0"!=(null==je.business?null:je.business.placeId)),s.R7$(6),s.Y8G("ngIf",je.currentTestimonial)("ngIfElse",_t)}},dependencies:[Te.Sq,Te.bT],data:{animation:[(0,fe.hZ)("slideIn",[(0,fe.kY)(":enter",[(0,fe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,fe.i0)("0.5s ease-in",(0,fe.iF)({opacity:1,transform:"translateX(0)"}))]),(0,fe.kY)(":leave",[(0,fe.i0)("0.5s ease-out",(0,fe.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,fe.hZ)("fadeInLeft",[(0,fe.kY)(":enter",[(0,fe.iF)({opacity:0,transform:"translateX(-100%)"}),(0,fe.i0)("0.5s ease-in",(0,fe.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,fe.hZ)("fadeInRight",[(0,fe.kY)(":enter",[(0,fe.iF)({opacity:0,transform:"translateX(100%)"}),(0,fe.i0)("0.5s ease-in",(0,fe.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return C})();var En=L(3967);function $n(C,M){if(1&C&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&C){const V=M.$implicit;s.R7$(1),s.Y8G("innerHTML",V.title,s.npT),s.R7$(1),s.Y8G("innerHTML",V.description,s.npT)}}const Tn=function(C,M,V){return{"full-width":C,centered:M,shadow:V}},Vr=function(C,M,V,Z){return{"background-color":C,color:M,"text-align":V,"border-radius":Z}};function Ar(C,M){if(1&C&&(s.qex(0,4),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,$n,3,2,"div",11),s.k0s()()(),s.bVm()),2&C){const V=s.XpG();s.Y8G("ngClass",s.sMw(5,Tn,V.fullWidth,!V.fullWidth,V.boxShadow))("ngStyle",s.ziG(9,Vr,V.backgroundColor,V.textColor,V.alignText,V.borderRadius+"px")),s.R7$(4),s.JRh(V.title),s.R7$(2),s.SpI(" ",V.subTitle," "),s.R7$(3),s.Y8G("ngForOf",V.items)}}function Zr(C,M){1&C&&s.eu8(0)}function Hn(C,M){if(1&C&&(s.j41(0,"div",12),s.nrm(1,"div",13)(2,"div",14),s.k0s()),2&C){const V=M.$implicit;s.R7$(1),s.Y8G("innerHTML",V.title,s.npT),s.R7$(1),s.Y8G("innerHTML",V.description,s.npT)}}function ui(C,M){if(1&C&&(s.qex(0),s.j41(1,"section",5)(2,"div",6)(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"div",10),s.DNE(9,Hn,3,2,"div",11),s.k0s()()(),s.bVm()),2&C){const V=s.XpG();s.R7$(4),s.SpI("",V.title," "),s.R7$(2),s.SpI(" ",V.subTitle,""),s.R7$(3),s.Y8G("ngForOf",V.items)}}let ys=(()=>{class C{constructor(V){this.route=V,this._businessName="",this.title="title",this.subTitle="subTitle",this.items=[],this.isMinimal=!1,this.showLearnMore=!1,this.sectionImageUrl=null,this.isParallax=!0,this.layoutType="demo",this.page="",this.location="",this.backgroundColor="#ffffff",this.textColor="#000000",this.titleColor="#000000",this.titleFontSize="34",this.subtitleColor="#000000",this.subtitleFontSize="14",this.fullWidth=!1,this.showButton=!1,this.buttonText="Learn More",this.buttonLink="contact-us",this.alignText="left",this.boxShadow=!1,this.borderRadius=0,this.order=0}ngOnInit(){console.log("Why Us Component Loaded , themeType: "+this.themeType+" Business Name:"+this._businessName+" Title: "+this.title),console.log("\u{1f4cc} Section Why Us- Initialized:",{order:this.order,title:this.title,titleColor:this.titleColor,titleFontSize:this.titleFontSize,subTitle:this.subTitle,subTitileColor:this.subtitleColor,subtitleFontSize:this.subtitleFontSize,showButton:this.showButton,buttonText:this.buttonText,buttonLink:this.buttonLink,alignText:this.alignText,boxShadow:this.boxShadow,borderRadius:this.borderRadius,items:this.items,isMinimal:this.isMinimal,sectionImageUrl:this.sectionImageUrl,isParallax:this.isParallax,backgroundColor:this.backgroundColor,subtitleColor:this.subtitleColor,textColor:this.textColor,fullWidth:this.fullWidth})}static{this.\u0275fac=function(Z){return new(Z||C)(s.rXU(Ee.nX))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-why-us"]],inputs:{themeType:"themeType",_businessName:"_businessName",title:"title",subTitle:"subTitle",items:"items",isMinimal:"isMinimal",showLearnMore:"showLearnMore",sectionImageUrl:"sectionImageUrl",isParallax:"isParallax",layoutType:"layoutType",page:"page",location:"location",backgroundColor:"backgroundColor",textColor:"textColor",titleColor:"titleColor",titleFontSize:"titleFontSize",subtitleColor:"subtitleColor",subtitleFontSize:"subtitleFontSize",fullWidth:"fullWidth",showButton:"showButton",buttonText:"buttonText",buttonLink:"buttonLink",alignText:"alignText",boxShadow:"boxShadow",borderRadius:"borderRadius",order:"order"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"ngClass","ngStyle",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngClass","ngStyle"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"]],template:function(Z,je){1&Z&&(s.j41(0,"div",0),s.DNE(1,Ar,10,14,"ng-container",1),s.DNE(2,Zr,1,0,"ng-container",2),s.DNE(3,ui,10,3,"ng-container",3),s.k0s()),2&Z&&(s.Y8G("ngSwitch",je.layoutType),s.R7$(1),s.Y8G("ngSwitchCase","hh"),s.R7$(1),s.Y8G("ngSwitchCase","ae"))},dependencies:[Te.YU,Te.Sq,Te.B3,Te.ux,Te.e1,Te.fG]})}}return C})();var on=L(3711),ei=L(5558);function Qn(C,M){if(1&C&&(s.j41(0,"div",7),s.nrm(1,"i",8),s.j41(2,"h3",9),s.EFF(3),s.k0s(),s.j41(4,"p",10),s.EFF(5),s.k0s()()),2&C){const V=M.$implicit;s.R7$(1),s.HbH(V.icon),s.R7$(2),s.JRh(V.title),s.R7$(2),s.JRh(V.description)}}function br(C,M){1&C&&(s.j41(0,"button",11),s.EFF(1,"Learn More"),s.k0s())}let Gn=(()=>{class C{constructor(){this.sectionTitle="Our Services",this.items=[],this.showLearnMore=!1}ngOnInit(){console.log("\u{1f4cc} Icon List Initialized:",{title:this.sectionTitle,items:this.items})}static{this.\u0275fac=function(Z){return new(Z||C)}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-icon-list"]],inputs:{sectionTitle:"sectionTitle",items:"items",showLearnMore:"showLearnMore"},decls:8,vars:3,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["class","afhBtn","routerLink","/services",4,"ngIf"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"],[1,"service-description"],["routerLink","/services",1,"afhBtn"]],template:function(Z,je){1&Z&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s.EFF(4),s.k0s(),s.j41(5,"div",4),s.DNE(6,Qn,6,4,"div",5),s.k0s(),s.DNE(7,br,2,0,"button",6),s.k0s()()()),2&Z&&(s.R7$(4),s.JRh(je.sectionTitle),s.R7$(2),s.Y8G("ngForOf",je.items),s.R7$(1),s.Y8G("ngIf",je.showLearnMore))},dependencies:[Te.Sq,Te.bT,Ee.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return C})();var Ri=L(4591);function ot(C,M){if(1&C&&(s.j41(0,"div",6),s.nrm(1,"img",7),s.j41(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"span",8),s.EFF(5),s.k0s(),s.nrm(6,"p",9),s.k0s()),2&C){const V=M.$implicit,Z=s.XpG(2);s.R7$(1),s.Y8G("src",V.image,s.B4B)("alt",V.title),s.R7$(2),s.JRh(V.title),s.R7$(2),s.JRh(V.category),s.R7$(1),s.Y8G("innerHTML",Z.getSanitizedDescription(V.description),s.npT)}}function Et(C,M){if(1&C&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"p",3),s.EFF(3," Whether you're just getting started or looking for a high-end, fully customized website, we have a package that fits your needs. We design websites to help showcase your adult family home with a professional online presence, making it easier for families to find and trust your services. "),s.k0s(),s.j41(4,"div",4),s.DNE(5,ot,7,5,"div",5),s.k0s()()),2&C){const V=s.XpG();s.R7$(1),s.Y8G("title","Website Packages"),s.R7$(4),s.Y8G("ngForOf",V.displayItems)}}function he(C,M){if(1&C&&(s.j41(0,"div",6)(1,"div",10),s.nrm(2,"img",11),s.j41(3,"span",12),s.EFF(4),s.nI1(5,"number"),s.k0s()(),s.j41(6,"h3",13),s.EFF(7),s.k0s(),s.nrm(8,"p",9),s.j41(9,"a",14),s.EFF(10,"Visit"),s.k0s()()),2&C){const V=M.$implicit,Z=M.index,je=s.XpG(2);s.R7$(2),s.Mz_("alt","",V.title," Logo"),s.Y8G("src",V.companyLogo||V.image,s.B4B),s.R7$(2),s.JRh(s.i5U(5,6,Z+1,"2.0")),s.R7$(3),s.JRh(V.title),s.R7$(1),s.Y8G("innerHTML",je.getSanitizedDescription(V.description),s.npT),s.R7$(1),s.FS9("href",V.url,s.B4B)}}function Fe(C,M){if(1&C&&(s.j41(0,"div",1),s.nrm(1,"app-section-tilte",2),s.j41(2,"p",3),s.EFF(3,"Using carefully vetted providers and vendors."),s.k0s(),s.j41(4,"div",4),s.DNE(5,he,11,9,"div",5),s.k0s()()),2&C){const V=s.XpG();s.R7$(1),s.Y8G("title","Trusted Partners"),s.R7$(4),s.Y8G("ngForOf",V.displayItems)}}let It=(()=>{class C{constructor(V){this.sanitizer=V,this.layoutType="",this.companies=[{title:"Ready Meds Farmacy",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",category:"",description:"Ready Meds Pharmacy is a full-service long-term care pharmacy serving adult family homes, assisted living and long-term care facilities, as well as patients living independently.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2FReadMedsPharmacy.png?alt=media&token=3858e8a9-29b5-4497-ae67-976fabd34add",url:"https://www.readymedspharmacy.com/"},{title:"Novari Primary Care",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",category:"",description:"Novari Primary Care is a mobile primary care service designed to treat patients in the comfort of their residential care facility.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fnovariprimarycar.png?alt=media&token=452b5c99-472b-4ca7-bf3d-07011e1ffba2",url:"https://novariprimarycare.com"},{title:"Holistia Health",companyLogo:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",category:"",description:"Holistia Health offers encompass personalized, in-person, and online programs, along with talk therapy and medication management.",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fbusiness%2Fhh3-logo2-WIDE.webp?alt=media&token=053879e9-bd0d-44cc-9a08-d2e298f0eb45",url:"https://holistiahealth.com"}],this.products=[{title:"LaunchPad Website",companyLogo:"",category:"$999",description:"Get your adult family home online quickly with a simple yet professional single-page website. Perfect for a clean, mobile-friendly presence that showcases your services, location, and contact details. This package is great for those who want an affordable, no-fuss solution to establish credibility online.<br/><br/><ul><li>2 Years Hosting</li><li>Owner-Provided Photos</li><li>Onwer-Provided Logo</li><li>Custom Color Theme</li><li>1 year Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FA7400076.jpg?alt=media&token=1132bd32-3d2c-4f52-be31-3759c20b5285",url:""},{title:"Foundation Website",companyLogo:"",category:"$1799",description:"A well-rounded five-page website designed to highlight all the key aspects of your adult family home. This package includes essential pages such as Home, About, Services, Gallery, and Contact, ensuring visitors get a complete picture of your offerings. SEO-optimized, mobile-responsive, and designed to attract potential residents and their families.<br/><br/><ul><li>3 Years of Secure Hosting</li><li>Proffessional Video</li><li>High-Quality Professional Photography</li><li>Custom Logo Design</li><li>Tailored Website Design</li><li>2 Years of Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0061.jpg?alt=media&token=24aa3da1-a50d-47ec-89ae-588eb13e42a9",url:""},{title:"Prestige Website",companyLogo:"",category:"$2500+",description:"A high-end, fully customized website tailored to your brand. This package includes professional photography and videography, custom design, logo creation, business card design, and advanced features such as integrated Google Maps, resident intake forms, and review sections. Perfect for those who want to stand out with a premium online presence. <br/><br/><ul><li>5 Years of Secure Hosting</li><li>Cinematic Professional Video</li><li>High-Resolution Professional Photography</li><li>Immersive Virtual Tour</li><li>CBespoke Logo Design</li><li>Exclusive, Custom Website Design</li><li>Comprehensive Maintenance & Updates</li></ul>",image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FheroImages%2FDJI_0713%20DTE-Edit.jpg?alt=media&token=31151dd0-c6fb-4cc1-acf8-eb50d617d318",url:""}],this.displayItems=[]}getSanitizedDescription(V){return this.sanitizer.bypassSecurityTrustHtml(V)}ngOnInit(){console.log("Latest Products LayoutType:",this.layoutType),this.displayItems="sb"===this.layoutType?this.products:this.companies}static{this.\u0275fac=function(Z){return new(Z||C)(s.rXU(bn.up))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-latest-products"]],inputs:{layoutType:"layoutType",companies:"companies",products:"products"},decls:2,vars:2,consts:[["class","latest-products",4,"ngIf"],[1,"latest-products"],[3,"title"],[1,"description"],[1,"product-grid"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[3,"src","alt"],[1,"category"],[3,"innerHTML"],[1,"card-header"],[1,"logo",3,"src","alt"],[1,"index"],[1,"company-name"],["target","_blank",1,"read-more",3,"href"]],template:function(Z,je){1&Z&&(s.DNE(0,Et,6,2,"div",0),s.DNE(1,Fe,6,2,"div",0)),2&Z&&(s.Y8G("ngIf","sb"==je.layoutType),s.R7$(1),s.Y8G("ngIf","sb"!=je.layoutType))},dependencies:[Te.Sq,Te.bT,Ri.L,Te.QX],styles:[".latest-products[_ngcontent-%COMP%]{text-align:center;padding:40px;max-width:1200px;margin:0 auto}.latest-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.latest-products[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#777;max-width:1024px;margin:0 auto 20px;padding:20px;font-size:16px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{background:#fff;padding:20px;text-align:left;box-shadow:0 2px 10px #0000001a;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:250px;max-height:80px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:fill}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{font-size:24px;color:#0000001a;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:15px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .company-description[_ngcontent-%COMP%]{font-size:14px;color:#444}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:14px;color:#999;text-transform:uppercase;font-weight:700}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:10px 0}.latest-products[_ngcontent-%COMP%]   .product-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:14px;color:#007bff;font-weight:700;text-decoration:none;display:inline-block;margin-top:10px}"]})}}return C})();var Kt=L(9483),Ln=L(3095),Fr=L(263),Tr=L(5743),bi=L(6861);const At=["dynamicContainer"];let G=(()=>{class C{constructor(V,Z,je,_t,Xt,an){this.sectionService=V,this.resolver=Z,this.injector=je,this.route=_t,this.metaService=Xt,this.businessDataService=an,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":ce.W,"hero-slider":lt,"right-text":r.F,"left-text":be.G,"item-list":Pt.j,"icon-list":Gn,"unique-features":Wt,testimonials:nt,"testimonials-carousel":Bt,"why-us":ys,"google-map":on.a,"latest-products":It,cta:Kt.j,consultation:En.t,"item-list-image":Fr.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ei.n)(V=>V?(this.businessId=V,this.metaService.loadAndApplyMeta(V),this.businessDataService.loadBusinessData(V)):[])).subscribe(V=>{V&&(this.business=V,this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"home").subscribe(V=>{V&&0!==V.length?(this.sections=V.filter(Z=>!1!==Z.isActive).sort((Z,je)=>(Z.order||0)-(je.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the database")})}loadComponents(){if(this.container.clear(),this.container.createComponent(lt),!this.sections.length)return void console.warn("\u2757 No sections available to load.");let V=null;if(this.sections.forEach((Z,je)=>{const _t=this.componentsMap[Z.component];if(!_t)return void console.error("Component Not Found:",Z.component);if("consultation"===Z.component)return void(V=Z);const Xt=this.container.createComponent(_t);this.assignComponentProperties(Xt.instance,Z)}),this.loadManualComponents(),V){const Z=this.componentsMap.consultation;if(Z){const je=this.container.createComponent(Z);this.assignComponentProperties(je.instance,V)}else console.error("Consultation Component Not Found!")}}loadManualComponents(){if("sb"==this.business?.theme?.themeType){this.resolver.resolveComponentFactory(It);const Z=this.container.createComponent(It,{index:void 0,injector:this.injector});Z.instance.layoutType=this.business?.theme?.themeType,Z.changeDetectorRef.detectChanges()}if(this.business?.placeId&&(this.resolver.resolveComponentFactory(Bt),this.container.createComponent(Bt,{index:void 0,injector:this.injector}).instance.placeId=this.business.placeId),this.business?.placeId&&"clemo"===this.business?.theme?.themeType){this.resolver.resolveComponentFactory(on.a);const Z=this.container.createComponent(on.a,{index:void 0,injector:this.injector});Z.instance.layoutType=this.business?.theme?.themeType||"demo",Z.instance.address=this.business?.address||""}"clemo"!==this.business?.theme?.themeType&&"sp"!==this.business?.theme?.themeType||this.container.createComponent(Ln.C,{index:void 0,injector:this.injector})}assignComponentProperties(V,Z){V&&"object"==typeof V&&(Object.assign(V,{title:this.applyReplaceKeyword(Z.sectionTitle||""),subTitle:this.applyReplaceKeyword(Z.sectionSubTitle||""),content:this.applyReplaceKeyword(Z.sectionContent||""),sectionImageUrl:Z.sectionImageUrl||"",showButton:Z.showButton||!1,buttonText:Z.buttonText||"Learn More",buttonLink:Z.buttonLink||"",_businessName:this.business?.businessName||"",showImage:Z.showImage,themeType:this.business?.theme?.themeType,items:Z.items||[],isMinimal:Z.isMinimal||!1,isParallax:Z.isParallax??!0,backgroundColor:Z.backgroundColor||"#ffffff",textColor:Z.textColor||"#000000",titleColor:Z.titleColor||"#000000",titleFontSize:Z.titleFontSize||"36",subtitleColor:Z.subtitleColor||"#000000",subtitleFontSize:Z.subtitleFontSize||"14",fullWidth:Z.fullWidth||!1,alignText:Z.alignText||"left",boxShadow:Z.boxShadow||!1,borderRadius:Z.borderRadius??10,page:Z.page,location:Z.location,businessId:this.business?.id}),V.changeDetectorRef&&V.changeDetectorRef.detectChanges())}applyReplaceKeyword(V){return V&&this.business?.businessName?V.replace(/{{\s*businessName\s*}}/g,this.business.businessName):V}static{this.\u0275fac=function(Z){return new(Z||C)(s.rXU(Tr.W),s.rXU(s.OM3),s.rXU(s.zZn),s.rXU(Ee.nX),s.rXU(bi.R),s.rXU(Se.A))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-home"]],viewQuery:function(Z,je){if(1&Z&&s.GBs(At,7,s.c1b),2&Z){let _t;s.mGM(_t=s.lsd())&&(je.container=_t.first)}},decls:2,vars:0,consts:[[1,"container"],["dynamicContainer",""]],template:function(Z,je){1&Z&&s.nrm(0,"div",0,1)}})}}return C})()},4796:(tn,Ye,L)=>{L.d(Ye,{u:()=>fe});var s=L(6354),ce=L(7705),r=L(1977),be=L(6814);let fe=(()=>{class Ee{constructor(Te,xe){this.afAuth=Te,this.router=xe,this.user$=Te.authState}login(Te,xe){return this.afAuth.signInWithEmailAndPassword(Te,xe)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,s.T)(Te=>!!Te))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(xe){return new(xe||Ee)(ce.KVO(r.DS),ce.KVO(be.Ix))}}static{this.\u0275prov=ce.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},923:(tn,Ye,L)=>{L.d(Ye,{A:()=>Ee});var s=L(4412),ce=L(6354),r=L(8141),be=L(7705),fe=L(3012);let Ee=(()=>{class Se{constructor(xe){this.businessService=xe,this.businessDataSubject=new s.t(null),this.businessIdSubject=new s.t(null),this.locationsSubject=new s.t([]),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(xe){return console.log("BusinessDataService - loadBusinessData for ID:",xe),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(xe).pipe((0,ce.T)(K=>K?(K.sections||(K.sections=[],console.warn("\u26a0\ufe0f No sections found in Firestore. Initializing empty array.")),K):null),(0,r.M)(K=>{this.businessDataSubject.next(K),this.businessIdSubject.next(xe),this.businessService.getLocations(xe).subscribe(ie=>{this.locationsSubject.next(ie)})}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}getLocations(){return this.locationsSubject.asObservable()}getLocationsForBusiness(xe){return this.businessService.getLocations(xe)}static{this.\u0275fac=function(K){return new(K||Se)(be.KVO(fe.u))}}static{this.\u0275prov=be.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},5743:(tn,Ye,L)=>{L.d(Ye,{W:()=>Ee});var s=L(467),ce=L(6354),r=L(7705),be=L(6340),fe=L(5571);let Ee=(()=>{class Se{constructor(xe,K){this.firestore=xe,this.uploadService=K,this.collectionName="businesses"}generateNewId(){return this.firestore.createId()}getAllBusinesses(){return this.firestore.collection("businesses").valueChanges()}getAllBusinessSections(xe){return this.firestore.collection(this.collectionName).doc(xe).collection("sections").snapshotChanges().pipe((0,ce.T)(K=>K.map(ie=>({...ie.payload.doc.data(),id:ie.payload.doc.id}))))}getBusinessSections(xe,K){return this.firestore.collection(this.collectionName).doc(xe).collection("sections",ie=>ie.where("page","==",K)).snapshotChanges().pipe((0,ce.T)(ie=>ie.map(pe=>({...pe.payload.doc.data(),id:pe.payload.doc.id}))))}saveSection(xe,K){return console.log("\u{1f504} Attempting to save section:",K),K.id&&""!==K.id.trim()?console.log("\u270f\ufe0f Updating existing section with ID:",K.id):K.id=this.firestore.createId(),this.firestore.collection(this.collectionName).doc(xe).collection("sections").doc(K.id).set(K,{merge:!0})}deleteSection(xe,K){return this.firestore.collection(this.collectionName).doc(xe).collection("sections").doc(K).delete()}uploadImage(xe,K,ie,pe="",Pe="",Be="",ve=""){var qe=this;return(0,s.A)(function*(){try{const{downloadUrl:we}=qe.uploadService.uploadFile(xe,K,"sections",pe,Pe,Be,ve);return new Promise((bt,jt)=>{we.subscribe({next:He=>{He?(console.log("\u2705 Image uploaded successfully:",He),bt(He)):jt("\u274c Image URL is undefined.")},error:He=>{console.error("\u274c Error getting image URL:",He),jt(He)}})})}catch(we){return console.error("\u274c Error uploading image:",we),""}})()}mapComponent(xe){return{"center-text":"center-text","left-text":"left-text","right-text":"right-text","list-item":"list-item"}[xe]||"default-component"}static{this.\u0275fac=function(K){return new(K||Se)(r.KVO(be.Qe),r.KVO(fe.B))}}static{this.\u0275prov=r.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},3012:(tn,Ye,L)=>{L.d(Ye,{u:()=>Se});var s=L(7673),ce=L(6354),r=L(5558),be=L(7705),fe=L(6340),Ee=L(8721);let Se=(()=>{class Te{constructor(K,ie){this.afs=K,this.storage=ie,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(K){console.log("Business Created");const ie=this.afs.createId();return this.afs.doc(`${this.basePath}/${ie}`).set({...K,id:ie}),this.afs.doc(`${this.basePath}/${ie}`).valueChanges().pipe((0,ce.T)(pe=>{if(!pe)throw new Error("Business not found after creation");return pe}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ce.T)(K=>K.map(ie=>{const pe=ie.payload.doc.data(),Pe=ie.payload.doc.id,{id:Be,...ve}=pe;return{id:Pe,...ve}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,K=>K.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(K){return this.getBusinessData(K)}getBusinessData(K){const ie=K&&K.trim()?K:"defaultBusinessId";return this.afs.collection("businesses").doc(ie).snapshotChanges().pipe((0,r.n)(pe=>{const Pe=pe.payload.data(),Be=pe.payload.id;if(!Pe)return(0,s.of)(void 0);const ve={...Pe,id:Be};return this.afs.collection("sections",qe=>qe.where("businessId","==",Be)).snapshotChanges().pipe((0,ce.T)(qe=>{const we=qe.map(bt=>({...bt.payload.doc.data(),id:bt.payload.doc.id}));return{...ve,sections:we}}),(0,r.n)(qe=>{const we={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Be}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ce.T)(bt=>{const jt=bt.payload.data()||we;return qe.theme=jt,qe}))}))}))}updateBusiness(K,ie){return this.afs.doc(`${this.basePath}/${K}`).update(ie)}deleteBusiness(K){return this.afs.doc(`${this.basePath}/${K}`).delete()}uploadFile(K,ie){return this.storage.upload(K,ie)}getDownloadURL(K){return this.storage.ref(K).getDownloadURL()}updateThemeFileName(K,ie=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${ie}`).update({"theme.themeFileName":K})}getThemeFileName(K=this.defaultBusinessId){return this.afs.collection(this.basePath).doc(K).collection("theme").doc("themeDoc").get().toPromise().then(Pe=>Pe&&Pe.exists?Pe.data()?.themeFileName||"styles.css":(console.warn(`No theme document found for business ID: ${K}. Using default theme.`),"default.css")).catch(Pe=>(console.error(`Error fetching theme file name for business ID: ${K}`,Pe),"default.css"))}createSection(K,ie){return this.afs.collection(`${this.basePath}/${K}/sections`).add(ie)}getSections(K){return this.afs.collection(`${this.basePath}/${K}/sections`).snapshotChanges().pipe((0,ce.T)(ie=>ie.map(pe=>{const Pe=pe.payload.doc.data();return{sectionId:pe.payload.doc.id,...Pe}})))}updateSection(K,ie,pe){return this.afs.doc(`${this.basePath}/${K}/sections/${ie}`).update(pe)}deleteSection(K,ie){return this.afs.doc(`${this.basePath}/${K}/sections/${ie}`).delete()}addLocation(K,ie){const pe=this.afs.collection(`businesses/${K}/locations`),Pe=this.afs.createId();return pe.doc(Pe).set({id:Pe,...ie})}getLocations(K){return this.afs.collection(`businesses/${K}/locations`).snapshotChanges().pipe((0,ce.T)(ie=>(ie.length||console.warn(`\u26a0\ufe0f No locations found in Firestore for Business ID: ${K}`),ie.map(pe=>{const Pe=pe.payload.doc.data();return"object"==typeof Pe&&null!==Pe?{id:pe.payload.doc.id,...Pe}:(console.error("\u274c Firestore data format error:",Pe),{id:pe.payload.doc.id})}))))}updateLocation(K,ie,pe){return this.afs.doc(`businesses/${K}/locations/${ie}`).update(pe)}deleteLocation(K,ie){return this.afs.doc(`businesses/${K}/locations/${ie}`).delete()}static{this.\u0275fac=function(ie){return new(ie||Te)(be.KVO(fe.Qe),be.KVO(Ee.ap))}}static{this.\u0275prov=be.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},4710:(tn,Ye,L)=>{L.d(Ye,{L:()=>r});var ce=L(7705);let r=(()=>{class be{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Ee,Se)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Ee();const Te=document.createElement("script");Te.id="google-maps-script",Te.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Te.async=!0,Te.defer=!0,Te.onload=()=>{this.scriptLoaded=!0,Ee()},Te.onerror=xe=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,Se(xe)},document.body.appendChild(Te)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(Se){return new(Se||be)}}static{this.\u0275prov=ce.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},6861:(tn,Ye,L)=>{L.d(Ye,{R:()=>be});var s=L(7705),ce=L(345),r=L(923);let be=(()=>{class fe{constructor(Se,Te,xe){this.meta=Se,this.title=Te,this.businessDataService=xe}updateMetaTags(Se){this.title.setTitle(Se.title),this.meta.updateTag({name:"description",content:Se.description}),this.meta.updateTag({name:"keywords",content:Se.keywords}),this.meta.updateTag({property:"og:title",content:Se.title}),this.meta.updateTag({property:"og:description",content:Se.description})}updateFavicon(Se){const Te=document.getElementsByTagName("head")[0];let xe=document.querySelector("link[rel*='icon']");xe||(xe=document.createElement("link"),xe.rel="icon",Te.appendChild(xe)),xe.href=Se}loadAndApplyMeta(Se){this.businessDataService.loadBusinessData(Se).subscribe(Te=>{Te?(this.updateMetaTags({title:Te.metaTitle||"Default Title",description:Te.metaDescription||"Default Description",keywords:Te.metaKeywords||"default, keywords"}),Te.faviconUrl&&this.updateFavicon(Te.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Te){return new(Te||fe)(s.KVO(ce.W8),s.KVO(ce.hE),s.KVO(r.A))}}static{this.\u0275prov=s.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})()},5009:(tn,Ye,L)=>{L.d(Ye,{F:()=>xe});var s=L(8810),ce=L(8455),r=L(7673),be=L(6697),fe=L(5558),Ee=L(9437),Se=L(7705),Te=L(6340);let xe=(()=>{class K{constructor(pe){this.firestore=pe,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(pe){return this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(pe){const Pe=this.firestore.collection("businesses").doc(pe),Be=Pe.collection("theme").doc("themeDoc");return Pe.snapshotChanges().pipe((0,be.s)(1),(0,fe.n)(ve=>ve.payload.exists?Be.get().pipe((0,fe.n)(qe=>qe.exists?(qe.data(),Be.valueChanges()):(0,ce.H)(Be.set(this.defaultTheme)).pipe((0,fe.n)(()=>(this.applyThemeFile(this.defaultTheme.themeFileName),Be.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,s.$)("Theme Service: - Business document does not exist"))),(0,Ee.W)(ve=>(console.error("Error fetching theme:",ve),this.applyThemeFile(this.defaultTheme.themeFileName),(0,r.of)(this.defaultTheme))))}updateColors(pe,Pe){return this.firestore.collection("businesses").doc(pe).collection("theme").doc("themeDoc").set(Pe,{merge:!0}).then(()=>{Pe.themeFileName&&this.applyThemeFile(Pe.themeFileName)}).catch(ve=>{throw console.error("Theme Service: - Error updating colors:",ve),new Error(ve)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(pe){return this.loadCss(`assets/themes/${pe}`)}loadCss(pe){return new Promise((Pe,Be)=>{const ve=document.createElement("link");ve.rel="stylesheet",ve.href=pe,ve.onload=()=>{console.log(`Loaded theme: ${pe}`),Pe()},ve.onerror=qe=>{console.error(`Failed to load theme: ${pe}`,qe),Be(qe)},document.head.appendChild(ve)})}static{this.\u0275fac=function(Pe){return new(Pe||K)(Se.KVO(Te.Qe))}}static{this.\u0275prov=Se.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})()},5571:(tn,Ye,L)=>{L.d(Ye,{B:()=>Se});var s=L(1985),ce=L(6354),r=L(980),be=L(7705),fe=L(8721),Ee=L(6340);let Se=(()=>{class Te{constructor(K,ie){this.storage=K,this.firestore=ie}uploadFile(K,ie,pe,Pe="",Be="",ve="",qe=""){let we;switch(pe){case"testimonail":we=`businesses/${ie}/testimonail/${K.name}`;break;case"employee":we=`businesses/${ie}/employee/${K.name}`;break;case"business":we=`businesses/${ie}/business/${K.name}`;break;case"heroImages":we=`businesses/${ie}/heroImages/${K.name}`;break;case"lifeStyle":we=`businesses/${ie}/lifeStyle/${K.name}`;break;case"sectionsImages":we=`businesses/${ie}/sectionsImages/${K.name}`;break;default:we=`businesses/${ie}/gallery/${K.name}`}const bt=this.storage.ref(we),jt=this.storage.upload(we,K);return{uploadProgress:jt.percentageChanges().pipe((0,ce.T)(Ze=>Ze??0)),downloadUrl:new s.c(Ze=>{jt.snapshotChanges().pipe((0,r.j)(()=>{bt.getDownloadURL().subscribe(Ke=>{this.firestore.collection("businesses").doc(ie).collection(pe).add({url:Ke,title:Pe,description:Be,link:ve,order:qe}),Ze.next(Ke),Ze.complete()})})).subscribe()})}}deleteFile(K,ie,pe){return new Promise((Pe,Be)=>{const ve=decodeURIComponent(K.split("/").pop()?.split("?")[0]||"");this.storage.ref(ve).delete().subscribe({next:()=>{this.firestore.collection("businesses").doc(ie).collection(pe).ref.where("url","==",K).get().then(we=>{we.forEach(bt=>bt.ref.delete()),Pe()}).catch(we=>{console.error("Error deleting from Firestore:",we),Be(we)})},error:we=>{console.error("Error deleting from Storage:",we),Be(we)}})})}static{this.\u0275fac=function(ie){return new(ie||Te)(be.KVO(fe.ap),be.KVO(Ee.Qe))}}static{this.\u0275prov=be.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},8704:(tn,Ye,L)=>{L.d(Ye,{N:()=>Se});var s=L(6354),ce=L(9437),r=L(7673),be=L(7705),fe=L(6340),Ee=L(8721);let Se=(()=>{class Te{constructor(K,ie){this.firestore=K,this.storage=ie,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(K){const ie=K&&K.trim()?K:this.defaultBusinessId;return this.firestore.collection("businesses").doc(ie).snapshotChanges().pipe((0,s.T)(pe=>{const Pe=pe.payload.data(),Be=pe.payload.id;if(Pe){const{id:ve,testimonials:qe=[],...we}=Pe;return{id:Be,testimonials:qe.map(jt=>({...jt,photoURL:jt.photoURL&&jt.photoURL.trim()?jt.photoURL:this.defaultImage})),...we}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(K){return this.storage.ref(K).getDownloadURL().pipe((0,ce.W)(ie=>(console.error("Error fetching photo URL:",ie),(0,r.of)(""))))}getEmployeesByBusinessId(K){return(null==K||""==K||""===K)&&(K=this.defaultBusinessId),this.firestore.collection("businesses").doc(K).get().pipe((0,s.T)(ie=>{if(ie.exists){const pe=ie.data();return pe&&pe.employees?pe.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ce.W)(ie=>(console.error("Error fetching employees:",ie),(0,r.of)([]))))}getBusinessGalleryImagesById(K){return(null==K||""==K||""===K)&&(K=this.defaultBusinessId),this.firestore.collection("businesses").doc(K).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(K){return(null==K||""==K||""===K)&&(K=this.defaultBusinessId),this.firestore.collection("businesses").doc(K).collection("gallery").valueChanges()}getBusinessUploadedImagesById(K,ie){return(null==K||""==K||""===K)&&(K=this.defaultBusinessId),this.firestore.collection("businesses").doc(K).collection(ie).valueChanges()}checkImageExists(K){return this.storage.refFromURL(K).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(ie){return new(ie||Te)(be.KVO(fe.Qe),be.KVO(Ee.ap))}}static{this.\u0275prov=be.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}}return Te})()},2714:(tn,Ye,L)=>{var s={};L.r(s),L.d(s,{afterMain:()=>Li,afterRead:()=>cr,afterWrite:()=>ls,applyStyles:()=>et,arrow:()=>Zl,auto:()=>Kr,basePlacements:()=>ni,beforeMain:()=>Zi,beforeRead:()=>pn,beforeWrite:()=>Bs,bottom:()=>$i,clippingParents:()=>os,computeStyles:()=>_i,createPopper:()=>$,createPopperBase:()=>x,createPopperLite:()=>Ne,detectOverflow:()=>na,end:()=>jr,eventListeners:()=>q,flip:()=>ra,hide:()=>Il,left:()=>qn,main:()=>as,modifierPhases:()=>Ss,offset:()=>Cl,placements:()=>Gr,popper:()=>ki,popperGenerator:()=>sl,popperOffsets:()=>mo,preventOverflow:()=>nl,read:()=>tr,reference:()=>Ts,right:()=>xi,start:()=>Wi,top:()=>gi,variationPlacements:()=>Ds,viewport:()=>qs,write:()=>qr});var ce=L(345),r=L(7705),be=L(7673),fe=L(8455),Ee=L(1985),Se=L(274),Te=L(5964),xe=L(6354),K=L(980),ie=L(5558),pe=L(177);class Pe{}class Be{}class ve{constructor(c){this.normalizedNames=new Map,this.lazyUpdate=null,c?"string"==typeof c?this.lazyInit=()=>{this.headers=new Map,c.split("\n").forEach(a=>{const g=a.indexOf(":");if(g>0){const b=a.slice(0,g),k=b.toLowerCase(),z=a.slice(g+1).trim();this.maybeSetNormalizedName(b,k),this.headers.has(k)?this.headers.get(k).push(z):this.headers.set(k,[z])}})}:typeof Headers<"u"&&c instanceof Headers?(this.headers=new Map,c.forEach((a,g)=>{this.setHeaderEntries(g,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(c).forEach(([a,g])=>{this.setHeaderEntries(a,g)})}:this.headers=new Map}has(c){return this.init(),this.headers.has(c.toLowerCase())}get(c){this.init();const a=this.headers.get(c.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(c){return this.init(),this.headers.get(c.toLowerCase())||null}append(c,a){return this.clone({name:c,value:a,op:"a"})}set(c,a){return this.clone({name:c,value:a,op:"s"})}delete(c,a){return this.clone({name:c,value:a,op:"d"})}maybeSetNormalizedName(c,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,c)}init(){this.lazyInit&&(this.lazyInit instanceof ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(c=>this.applyUpdate(c)),this.lazyUpdate=null))}copyFrom(c){c.init(),Array.from(c.headers.keys()).forEach(a=>{this.headers.set(a,c.headers.get(a)),this.normalizedNames.set(a,c.normalizedNames.get(a))})}clone(c){const a=new ve;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof ve?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([c]),a}applyUpdate(c){const a=c.name.toLowerCase();switch(c.op){case"a":case"s":let g=c.value;if("string"==typeof g&&(g=[g]),0===g.length)return;this.maybeSetNormalizedName(c.name,a);const b=("a"===c.op?this.headers.get(a):void 0)||[];b.push(...g),this.headers.set(a,b);break;case"d":const k=c.value;if(k){let z=this.headers.get(a);if(!z)return;z=z.filter(oe=>-1===k.indexOf(oe)),0===z.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,z)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(c,a){const g=(Array.isArray(a)?a:[a]).map(k=>k.toString()),b=c.toLowerCase();this.headers.set(b,g),this.maybeSetNormalizedName(c,b)}forEach(c){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>c(this.normalizedNames.get(a),this.headers.get(a)))}}class we{encodeKey(c){return Ae(c)}encodeValue(c){return Ae(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const jt=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ae(p){return encodeURIComponent(p).replace(jt,(c,a)=>He[a]??c)}function Ze(p){return`${p}`}class Ke{constructor(c={}){if(this.updates=null,this.cloneFrom=null,this.encoder=c.encoder||new we,c.fromString){if(c.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bt(p,c){const a=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(b=>{const k=b.indexOf("="),[z,oe]=-1==k?[c.decodeKey(b),""]:[c.decodeKey(b.slice(0,k)),c.decodeValue(b.slice(k+1))],_e=a.get(z)||[];_e.push(oe),a.set(z,_e)}),a}(c.fromString,this.encoder)}else c.fromObject?(this.map=new Map,Object.keys(c.fromObject).forEach(a=>{const g=c.fromObject[a],b=Array.isArray(g)?g.map(Ze):[Ze(g)];this.map.set(a,b)})):this.map=null}has(c){return this.init(),this.map.has(c)}get(c){this.init();const a=this.map.get(c);return a?a[0]:null}getAll(c){return this.init(),this.map.get(c)||null}keys(){return this.init(),Array.from(this.map.keys())}append(c,a){return this.clone({param:c,value:a,op:"a"})}appendAll(c){const a=[];return Object.keys(c).forEach(g=>{const b=c[g];Array.isArray(b)?b.forEach(k=>{a.push({param:g,value:k,op:"a"})}):a.push({param:g,value:b,op:"a"})}),this.clone(a)}set(c,a){return this.clone({param:c,value:a,op:"s"})}delete(c,a){return this.clone({param:c,value:a,op:"d"})}toString(){return this.init(),this.keys().map(c=>{const a=this.encoder.encodeKey(c);return this.map.get(c).map(g=>a+"="+this.encoder.encodeValue(g)).join("&")}).filter(c=>""!==c).join("&")}clone(c){const a=new Ke({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(c),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(c=>this.map.set(c,this.cloneFrom.map.get(c))),this.updates.forEach(c=>{switch(c.op){case"a":case"s":const a=("a"===c.op?this.map.get(c.param):void 0)||[];a.push(Ze(c.value)),this.map.set(c.param,a);break;case"d":if(void 0===c.value){this.map.delete(c.param);break}{let g=this.map.get(c.param)||[];const b=g.indexOf(Ze(c.value));-1!==b&&g.splice(b,1),g.length>0?this.map.set(c.param,g):this.map.delete(c.param)}}}),this.cloneFrom=this.updates=null)}}class Pt{constructor(){this.map=new Map}set(c,a){return this.map.set(c,a),this}get(c){return this.map.has(c)||this.map.set(c,c.defaultValue()),this.map.get(c)}delete(c){return this.map.delete(c),this}has(c){return this.map.has(c)}keys(){return this.map.keys()}}function Ie(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function Qe(p){return typeof Blob<"u"&&p instanceof Blob}function Yt(p){return typeof FormData<"u"&&p instanceof FormData}class Mt{constructor(c,a,g,b){let k;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=c.toUpperCase(),function ct(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||b?(this.body=void 0!==g?g:null,k=b):k=g,k&&(this.reportProgress=!!k.reportProgress,this.withCredentials=!!k.withCredentials,k.responseType&&(this.responseType=k.responseType),k.headers&&(this.headers=k.headers),k.context&&(this.context=k.context),k.params&&(this.params=k.params)),this.headers||(this.headers=new ve),this.context||(this.context=new Pt),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=a;else{const oe=a.indexOf("?");this.urlWithParams=a+(-1===oe?"?":oe<a.length-1?"&":"")+z}}else this.params=new Ke,this.urlWithParams=a}serializeBody(){return null===this.body?null:Ie(this.body)||Qe(this.body)||Yt(this.body)||function Mn(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Yt(this.body)?null:Qe(this.body)?this.body.type||null:Ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(c={}){const a=c.method||this.method,g=c.url||this.url,b=c.responseType||this.responseType,k=void 0!==c.body?c.body:this.body,z=void 0!==c.withCredentials?c.withCredentials:this.withCredentials,oe=void 0!==c.reportProgress?c.reportProgress:this.reportProgress;let _e=c.headers||this.headers,Ge=c.params||this.params;const gt=c.context??this.context;return void 0!==c.setHeaders&&(_e=Object.keys(c.setHeaders).reduce(($t,gn)=>$t.set(gn,c.setHeaders[gn]),_e)),c.setParams&&(Ge=Object.keys(c.setParams).reduce(($t,gn)=>$t.set(gn,c.setParams[gn]),Ge)),new Mt(a,g,k,{params:Ge,headers:_e,context:gt,reportProgress:oe,responseType:b,withCredentials:z})}}var Lt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(Lt||{});class Wt{constructor(c,a=200,g="OK"){this.headers=c.headers||new ve,this.status=void 0!==c.status?c.status:a,this.statusText=c.statusText||g,this.url=c.url||null,this.ok=this.status>=200&&this.status<300}}class ht extends Wt{constructor(c={}){super(c),this.type=Lt.ResponseHeader}clone(c={}){return new ht({headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class Ve extends Wt{constructor(c={}){super(c),this.type=Lt.Response,this.body=void 0!==c.body?c.body:null}clone(c={}){return new Ve({body:void 0!==c.body?c.body:this.body,headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class it extends Wt{constructor(c){super(c,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${c.url||"(unknown url)"}`:`Http failure response for ${c.url||"(unknown url)"}: ${c.status} ${c.statusText}`,this.error=c.error||null}}function rt(p,c){return{body:c,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Me=(()=>{class p{constructor(a){this.handler=a}request(a,g,b={}){let k;if(a instanceof Mt)k=a;else{let _e,Ge;_e=b.headers instanceof ve?b.headers:new ve(b.headers),b.params&&(Ge=b.params instanceof Ke?b.params:new Ke({fromObject:b.params})),k=new Mt(a,g,void 0!==b.body?b.body:null,{headers:_e,context:b.context,params:Ge,reportProgress:b.reportProgress,responseType:b.responseType||"json",withCredentials:b.withCredentials})}const z=(0,be.of)(k).pipe((0,Se.H)(_e=>this.handler.handle(_e)));if(a instanceof Mt||"events"===b.observe)return z;const oe=z.pipe((0,Te.p)(_e=>_e instanceof Ve));switch(b.observe||"body"){case"body":switch(k.responseType){case"arraybuffer":return oe.pipe((0,xe.T)(_e=>{if(null!==_e.body&&!(_e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _e.body}));case"blob":return oe.pipe((0,xe.T)(_e=>{if(null!==_e.body&&!(_e.body instanceof Blob))throw new Error("Response is not a Blob.");return _e.body}));case"text":return oe.pipe((0,xe.T)(_e=>{if(null!==_e.body&&"string"!=typeof _e.body)throw new Error("Response is not a string.");return _e.body}));default:return oe.pipe((0,xe.T)(_e=>_e.body))}case"response":return oe;default:throw new Error(`Unreachable: unhandled observe type ${b.observe}}`)}}delete(a,g={}){return this.request("DELETE",a,g)}get(a,g={}){return this.request("GET",a,g)}head(a,g={}){return this.request("HEAD",a,g)}jsonp(a,g){return this.request("JSONP",a,{params:(new Ke).append(g,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,g={}){return this.request("OPTIONS",a,g)}patch(a,g,b={}){return this.request("PATCH",a,rt(b,g))}post(a,g,b={}){return this.request("POST",a,rt(b,g))}put(a,g,b={}){return this.request("PUT",a,rt(b,g))}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(Pe))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})();function er(p,c){return c(p)}function rn(p,c){return(a,g)=>c.intercept(a,{handle:b=>p(b,g)})}const Qt=new r.nKC(""),jn=new r.nKC(""),Pn=new r.nKC("");function Ht(){let p=null;return(c,a)=>{null===p&&(p=((0,r.WQX)(Qt,{optional:!0})??[]).reduceRight(rn,er));const g=(0,r.WQX)(r.$K3),b=g.add();return p(c,a).pipe((0,K.j)(()=>g.remove(b)))}}let Vt=(()=>{class p extends Pe{constructor(a,g){super(),this.backend=a,this.injector=g,this.chain=null,this.pendingTasks=(0,r.WQX)(r.$K3)}handle(a){if(null===this.chain){const b=Array.from(new Set([...this.injector.get(jn),...this.injector.get(Pn,[])]));this.chain=b.reduceRight((k,z)=>function Fn(p,c,a){return(g,b)=>a.runInContext(()=>c(g,k=>p(k,b)))}(k,z,this.injector),er)}const g=this.pendingTasks.add();return this.chain(a,b=>this.backend.handle(b)).pipe((0,K.j)(()=>this.pendingTasks.remove(g)))}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(Be),r.KVO(r.uvJ))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})();const Hn=/^\)\]\}',?\n/;let ys=(()=>{class p{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new r.wOt(-2800,!1);const g=this.xhrFactory;return(g.\u0275loadImpl?(0,fe.H)(g.\u0275loadImpl()):(0,be.of)(null)).pipe((0,ie.n)(()=>new Ee.c(k=>{const z=g.build();if(z.open(a.method,a.urlWithParams),a.withCredentials&&(z.withCredentials=!0),a.headers.forEach((en,Cn)=>z.setRequestHeader(en,Cn.join(","))),a.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const en=a.detectContentTypeHeader();null!==en&&z.setRequestHeader("Content-Type",en)}if(a.responseType){const en=a.responseType.toLowerCase();z.responseType="json"!==en?en:"text"}const oe=a.serializeBody();let _e=null;const Ge=()=>{if(null!==_e)return _e;const en=z.statusText||"OK",Cn=new ve(z.getAllResponseHeaders()),gr=function ui(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||a.url;return _e=new ht({headers:Cn,status:z.status,statusText:en,url:gr}),_e},gt=()=>{let{headers:en,status:Cn,statusText:gr,url:kr}=Ge(),mr=null;204!==Cn&&(mr=typeof z.response>"u"?z.responseText:z.response),0===Cn&&(Cn=mr?200:0);let rr=Cn>=200&&Cn<300;if("json"===a.responseType&&"string"==typeof mr){const Jr=mr;mr=mr.replace(Hn,"");try{mr=""!==mr?JSON.parse(mr):null}catch(Or){mr=Jr,rr&&(rr=!1,mr={error:Or,text:mr})}}rr?(k.next(new Ve({body:mr,headers:en,status:Cn,statusText:gr,url:kr||void 0})),k.complete()):k.error(new it({error:mr,headers:en,status:Cn,statusText:gr,url:kr||void 0}))},$t=en=>{const{url:Cn}=Ge(),gr=new it({error:en,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Cn||void 0});k.error(gr)};let gn=!1;const mn=en=>{gn||(k.next(Ge()),gn=!0);let Cn={type:Lt.DownloadProgress,loaded:en.loaded};en.lengthComputable&&(Cn.total=en.total),"text"===a.responseType&&z.responseText&&(Cn.partialText=z.responseText),k.next(Cn)},vn=en=>{let Cn={type:Lt.UploadProgress,loaded:en.loaded};en.lengthComputable&&(Cn.total=en.total),k.next(Cn)};return z.addEventListener("load",gt),z.addEventListener("error",$t),z.addEventListener("timeout",$t),z.addEventListener("abort",$t),a.reportProgress&&(z.addEventListener("progress",mn),null!==oe&&z.upload&&z.upload.addEventListener("progress",vn)),z.send(oe),k.next({type:Lt.Sent}),()=>{z.removeEventListener("error",$t),z.removeEventListener("abort",$t),z.removeEventListener("load",gt),z.removeEventListener("timeout",$t),a.reportProgress&&(z.removeEventListener("progress",mn),null!==oe&&z.upload&&z.upload.removeEventListener("progress",vn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(pe.N0))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})();const on=new r.nKC("XSRF_ENABLED"),Qn=new r.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gn=new r.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ri{}let ot=(()=>{class p{constructor(a,g,b){this.doc=a,this.platform=g,this.cookieName=b,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe._b)(a,this.cookieName),this.lastCookieString=a),this.lastToken}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(pe.qQ),r.KVO(r.Agw),r.KVO(Qn))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})();function Et(p,c){const a=p.url.toLowerCase();if(!(0,r.WQX)(on)||"GET"===p.method||"HEAD"===p.method||a.startsWith("http://")||a.startsWith("https://"))return c(p);const g=(0,r.WQX)(Ri).getToken(),b=(0,r.WQX)(Gn);return null!=g&&!p.headers.has(b)&&(p=p.clone({headers:p.headers.set(b,g)})),c(p)}var Fe=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(Fe||{});function It(p,c){return{\u0275kind:p,\u0275providers:c}}function Kt(...p){const c=[Me,ys,Vt,{provide:Pe,useExisting:Vt},{provide:Be,useExisting:ys},{provide:jn,useValue:Et,multi:!0},{provide:on,useValue:!0},{provide:Ri,useClass:ot}];for(const a of p)c.push(...a.\u0275providers);return(0,r.EmA)(c)}const Fr=new r.nKC("LEGACY_INTERCEPTOR_FN");let Z=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=r.$C({type:p})}static{this.\u0275inj=r.G2t({providers:[Kt(It(Fe.LegacyInterceptors,[{provide:Fr,useFactory:Ht},{provide:jn,useExisting:Fr,multi:!0}]))]})}}return p})();var ir=L(6814),Us=L(8353),Fi=L(7304),vs=L(4593),Es=L(491),pi=L(1915),sr=L(9483),xs=L(3967),Dt=L(5743),at=L(6861),xt=L(923),cn=L(9437),Vn=L(8704),On=L(4591);function ur(p,c){if(1&p&&(r.j41(0,"div",5),r.nrm(1,"img",6),r.j41(2,"h3"),r.EFF(3),r.k0s(),r.j41(4,"h4"),r.EFF(5),r.k0s(),r.j41(6,"p"),r.EFF(7),r.k0s()()),2&p){const a=c.$implicit;r.R7$(1),r.FS9("alt",a.name),r.Y8G("src",a.photoURL,r.B4B),r.R7$(2),r.JRh(a.name),r.R7$(2),r.JRh(a.role),r.R7$(2),r.JRh(a.bio)}}function Ur(p,c){if(1&p&&(r.j41(0,"div",1),r.nrm(1,"app-section-tilte",2),r.j41(2,"div",3),r.DNE(3,ur,8,5,"div",4),r.nI1(4,"async"),r.k0s()()),2&p){const a=r.XpG();r.R7$(1),r.Y8G("title","Meet the Team")("titleColor","var(--primary-color)"),r.R7$(2),r.Y8G("ngForOf",r.bMT(4,3,a.employees$))}}let zr=(()=>{class p{constructor(a,g){this.route=a,this.employeeService=g}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,xe.T)(a=>a.get("id")||""),(0,ie.n)(a=>this.employeeService.getEmployeesByBusinessId(a)),(0,cn.W)(a=>(console.error("Error fetching employees:",a),(0,be.of)([]))))}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ir.nX),r.rXU(Vn.N))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title","titleColor"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(g,b){1&g&&r.DNE(0,Ur,5,5,"div",0),2&g&&r.Y8G("ngIf",b.employees$)},dependencies:[pe.Sq,pe.bT,On.L,pe.Jj]})}}return p})(),dr=(()=>{class p{constructor(a,g){this.route=a,this.router=g,this.layoutType="demo",this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"},"resident-form":{image:"../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg",message:"Let us make you feel at home"},location:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Come Meet Us"}},this.imagesAndMessagesSB={services:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1455953950-1024x1024.jpg?alt=media&token=f8875a81-4502-4e3f-b9f3-de7efa57d34f",message:"Discover our Services"},gallery:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1735411371-1024x1024.jpg?alt=media&amp;token=03a733b3-0eff-4cda-b06c-108a886f5921",message:"Explore our Gallery"},"about-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Learn About Us"},"contact-us":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1367776831-1024x1024.jpg?alt=media&token=1272b1b2-ad7f-425a-b17e-10ba49234dab",message:"Get in Touch"},testimonials:{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1456339578-1024x1024.jpg?alt=media&token=2e380b78-c7ba-46c4-bd9b-fd8d3cc6e818",message:"What they say about us"},"resident-form":{image:"https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FMGou3rzTVIbP77OLmZa7%2FlifeStyle%2Fistockphoto-1336136316-1024x1024.jpg?alt=media&token=2e625f22-8511-447b-bfb1-18919c2c276b",message:"Les us make you feel at home"}}}ngOnInit(){this.router.events.subscribe(()=>{const g=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",g);const b="sb"===this.layoutType?this.imagesAndMessagesSB:this.imagesAndMessages;g&&b[g]?(this.backgroundImage=`url(${b[g].image})`,this.message=b[g].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ir.nX),r.rXU(ir.Ix))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-hero"]],inputs:{layoutType:"layoutType"},decls:4,vars:3,consts:[[1,"page-hero"],[1,"page-hero-overlay"]],template:function(g,b){1&g&&(r.j41(0,"div",0)(1,"div",1)(2,"h1"),r.EFF(3),r.k0s()()()),2&g&&(r.xc7("background-image",b.backgroundImage),r.R7$(3),r.JRh(b.message))}})}}return p})(),Ji=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(g,b){1&g&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"img",2),r.j41(3,"div",3)(4,"p",4),r.EFF(5),r.k0s(),r.j41(6,"p",5),r.EFF(7),r.k0s()()()()),2&g&&(r.R7$(2),r.FS9("src",b.imageURL,r.B4B),r.R7$(3),r.SpI('" ',b.text,'"'),r.R7$(2),r.SpI("\u2013 ",b.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 1080px),(max-width: 1024px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:50%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();const Ms=["dynamicContainer"];function is(p,c){1&p&&(r.qex(0),r.j41(1,"div",6)(2,"div",7)(3,"h1"),r.EFF(4,"About Us"),r.k0s(),r.j41(5,"div",8)(6,"p"),r.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),r.k0s()()()(),r.bVm())}function Co(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","ae"))}function wo(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function ji(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","sb"))}function jo(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",9),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function oi(p,c){1&p&&(r.j41(0,"div",10),r.nrm(1,"div",11,12),r.k0s())}function ss(p,c){1&p&&(r.j41(0,"div",10),r.nrm(1,"div",13,12),r.k0s())}function bs(p,c){if(1&p&&(r.qex(0),r.nrm(1,"app-testimonial-image",14),r.bVm()),2&p){const a=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote)}}function Wr(p,c){if(1&p&&(r.j41(0,"div")(1,"div",1),r.DNE(2,is,8,0,"ng-container",2),r.DNE(3,Co,2,1,"ng-container",2),r.DNE(4,wo,2,1,"ng-container",2),r.DNE(5,ji,2,1,"ng-container",2),r.DNE(6,jo,2,1,"ng-container",2),r.k0s(),r.DNE(7,oi,3,0,"div",3),r.DNE(8,ss,3,0,"div",3),r.j41(9,"section",4),r.nrm(10,"app-meet-the-team",5),r.k0s(),r.j41(11,"div",1),r.DNE(12,bs,2,3,"ng-container",2),r.k0s()()),2&p){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=a.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==a.business.theme.themeType),r.R7$(2),r.Y8G("businessId",a.business.id),r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let Bi=(()=>{class p{constructor(a,g,b,k,z,oe){this.sectionService=a,this.resolver=g,this.injector=b,this.route=k,this.metaService=z,this.businessDataService=oe,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Fi.W,"right-text":vs.F,"left-text":Es.G,"item-list":pi.j,cta:sr.j,consultation:xs.t}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ie.n)(a=>a?(this.businessId=a,this.metaService.loadAndApplyMeta(a),this.businessDataService.loadBusinessData(a)):[])).subscribe(a=>{a&&(this.business=a,this.loadSections())})}ngAfterViewInit(){this.business&&this.loadComponents()}loadSections(){this.sectionService.getBusinessSections(this.businessId,"aboutus").subscribe(a=>{a&&0!==a.length?(this.sections=a.filter(g=>!1!==g.isActive).sort((g,b)=>(g.order||0)-(b.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((a,g)=>(a.order||0)-(g.order||0)),"hh"===this.business?.theme?.themeType){let oe,a=[],g=null,b=null,k=null,z=[];this.sections.forEach(_e=>{"center-text"===_e.component?g?b=_e:g=_e:"left-text"===_e.component||"right-text"===_e.component?a.push(_e):"cta"===_e.component?k=_e:z.push(_e)}),g&&this.createComponent(g),a.length>0&&(oe=document.createElement("div"),oe.className="text-wrapper",a.sort((_e,Ge)=>"left-text"===_e.component?-1:1),a.forEach(_e=>{const Ge=this.createComponent(_e);Ge&&oe.appendChild(Ge.location.nativeElement)}),this.container.element.nativeElement.appendChild(oe)),b&&this.createComponent(b),z.forEach(_e=>{this.createComponent(_e)}),k&&this.createComponent(k)}else this.sections.sort((a,g)=>(a.order||0)-(g.order||0)),this.sections.forEach(a=>{this.createComponent(a)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(a){if(!a.length)return;const g=document.createElement("div");g.className="text-wrapper",a.sort((b,k)=>"left-text"===b.component?-1:1),a.forEach(b=>{const k=this.createComponent(b);null!==k&&g.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(g)}createComponent(a,g){const b=this.componentsMap[a.component];if(!b)return console.error("\u274c Component Not Found:",a.component),null;const k=this.resolver.resolveComponentFactory(b),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,a),g?this.container.element.nativeElement.insertBefore(z.location.nativeElement,g):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(a,g){Object.assign(a,{isActive:[void 0===g.isActive||g.isActive],title:this.applyReplaceKeyword(g.sectionTitle||""),subTitle:this.applyReplaceKeyword(g.sectionSubTitle||""),content:this.applyReplaceKeyword(g.sectionContent||""),sectionImageUrl:g.sectionImageUrl||"",showBtn:g.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!g.sectionImageUrl,themeType:this.business?.theme?.themeType,items:g.items||[],isMinimal:g.isMinimal||!1,isParallax:g.isParallax??!0,backgroundColor:g.backgroundColor||"#ffffff",textColor:g.textColor||"#000000",titleColor:g.titleColor||"#000000",subtitleColor:g.subtitleColor||"#000000",fullWidth:g.fullWidth||!1,showButton:g.showButton||!1,buttonText:g.buttonText||"Learn More",buttonLink:g.buttonLink||"",titleFontSize:g.titleFontSize||"36",subtitleFontSize:g.subtitleFontSize||"14",alignText:g.alignText||"left",boxShadow:g.boxShadow||!1,borderRadius:g.borderRadius??10,page:g.page,location:g.location})}applyReplaceKeyword(a){return a.replace(/{{\s*businessName\s*}}/g,this.business?.businessName||"")}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(ir.nX),r.rXU(at.R),r.rXU(xt.A))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-about-us"]],viewQuery:function(g,b){if(1&g&&r.GBs(Ms,5,r.c1b),2&g){let k;r.mGM(k=r.lsd())&&(b.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"business-team"],[3,"businessId"],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(g,b){1&g&&r.DNE(0,Wr,13,11,"div",0),2&g&&r.Y8G("ngIf",b.business)},dependencies:[pe.bT,pe.ux,pe.e1,zr,dr,Ji]})}}return p})();var Mi=L(263);const Cr=["dynamicContainer"];function ao(p,c){1&p&&(r.qex(0),r.j41(1,"div",4)(2,"div",5)(3,"h1"),r.EFF(4,"Our Services"),r.k0s(),r.j41(5,"div",6)(6,"p"),r.EFF(7,"Providing exceptional care tailored to your needs"),r.k0s()()()(),r.bVm())}function Ao(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero"),r.bVm())}function di(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function Na(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","sb"))}function Ja(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",7),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function Pi(p,c){1&p&&(r.j41(0,"div",8),r.nrm(1,"div",9,10),r.k0s())}function ma(p,c){1&p&&(r.j41(0,"div",8),r.nrm(1,"div",11,10),r.k0s())}function Ks(p,c){if(1&p&&(r.qex(0),r.nrm(1,"app-testimonial-image",12),r.bVm()),2&p){const a=r.XpG(2);r.R7$(1),r.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[1].name||"")("text",a.business.testimonials[1].quote||"")}}function ti(p,c){if(1&p&&(r.j41(0,"div")(1,"div",1),r.DNE(2,ao,8,0,"ng-container",2),r.DNE(3,Ao,2,0,"ng-container",2),r.DNE(4,di,2,1,"ng-container",2),r.DNE(5,Na,2,1,"ng-container",2),r.DNE(6,Ja,2,1,"ng-container",2),r.k0s(),r.DNE(7,Pi,3,0,"div",3),r.DNE(8,ma,3,0,"div",3),r.j41(9,"div",1),r.DNE(10,Ks,2,3,"ng-container",2),r.k0s()()),2&p){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngIf","prestige"!=a.business.theme.themeType),r.R7$(1),r.Y8G("ngIf","prestige"==a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","ae")}}let js=(()=>{class p{constructor(a,g,b,k,z,oe,_e){this.sectionService=a,this.resolver=g,this.injector=b,this.route=k,this.metaService=z,this.businessDataService=oe,this.router=_e,this.sections=[],this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$,this.componentsMap={"center-text":Fi.W,"right-text":vs.F,"left-text":Es.G,"item-list":pi.j,cta:sr.j,consultatioin:xs.t,"item-list-image":Mi.g}}ngOnInit(){this.businessDataService.getBusinessId().pipe((0,ie.n)(a=>a?(this.businessId=a,this.metaService.loadAndApplyMeta(a),this.businessDataService.loadBusinessData(a)):[])).subscribe(a=>{a&&(this.business=a,this.loadSections())})}ngAfterViewInit(){setTimeout(()=>{this.container?this.business&&this.sections.length?this.loadComponents():(console.warn("\u2757 Sections are not loaded yet, retrying..."),setTimeout(()=>{this.sections.length&&this.loadComponents()},500)):console.error("\u274c ViewContainerRef (container) is still undefined after ViewInit.")},500)}loadSections(){this.sectionService.getBusinessSections(this.businessId,"services").subscribe(a=>{console.log("\u{1f4cc} Retrieved Sections:",a),a&&0!==a.length?(this.sections=a.filter(g=>!1!==g.isActive).sort((g,b)=>(g.order||0)-(b.order||0)),this.loadComponents()):console.warn("\u2757 No sections retrieved from the service.")})}loadComponents(){if(this.container)if(this.container.clear(),this.sections.length)if(this.sections.sort((a,g)=>(a.order||0)-(g.order||0)),"hh"===this.business?.theme?.themeType){console.log("Loading sections for HH layout");let _e,a=[],g=null,b=null,k=null,z=null,oe=[];this.sections.forEach(Ge=>{"item-list"===Ge.component?g?b=Ge:g=Ge:"left-text"===Ge.component||"right-text"===Ge.component?a.push(Ge):"center-text"===Ge.component?k=Ge:"cta"===Ge.component?z=Ge:oe.push(Ge)}),g&&this.createComponent(g),b&&this.createComponent(b),a.length>0&&(_e=document.createElement("div"),_e.className="text-wrapper",a.sort((Ge,gt)=>"left-text"===Ge.component?-1:1),a.forEach(Ge=>{const gt=this.createComponent(Ge);gt&&_e.appendChild(gt.location.nativeElement)}),this.container.element.nativeElement.appendChild(_e)),k&&this.createComponent(k),z&&this.createComponent(z)}else console.log("Loading sections based on order"),this.sections.sort((a,g)=>(a.order||0)-(g.order||0)),this.sections.forEach(a=>{this.createComponent(a)});else console.warn("\u2757 No sections available to load.");else console.error("\u274c ViewContainerRef (container) is undefined.")}createWrapper(a){if(!a.length)return;const g=document.createElement("div");g.className="text-wrapper",a.sort((b,k)=>"left-text"===b.component?-1:1),a.forEach(b=>{const k=this.createComponent(b);null!==k&&g.appendChild(k.location.nativeElement)}),this.container.element.nativeElement.appendChild(g)}createComponent(a,g){const b=this.componentsMap[a.component];if(!b)return console.error("\u274c Component Not Found:",a.component),null;const k=this.resolver.resolveComponentFactory(b),z=this.container.createComponent(k);return this.applyComponentProperties(z.instance,a),g?this.container.element.nativeElement.insertBefore(z.location.nativeElement,g):this.container.element.nativeElement.appendChild(z.location.nativeElement),z}applyComponentProperties(a,g){Object.assign(a,{isActive:[void 0===g.isActive||g.isActive],title:this.applyReplaceKeyword(g.sectionTitle||""),subTitle:this.applyReplaceKeyword(g.sectionSubTitle||""),content:this.applyReplaceKeyword(g.sectionContent||""),sectionImageUrl:g.sectionImageUrl||"",showBtn:g.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!g.sectionImageUrl,themeType:this.business?.theme?.themeType,items:g.items||[],isMinimal:g.isMinimal||!1,isParallax:g.isParallax??!0,backgroundColor:g.backgroundColor||"#ffffff",textColor:g.textColor||"#000000",titleColor:g.titleColor||"#000000",subtitleColor:g.subtitleColor||"#000000",fullWidth:g.fullWidth||!1,showButton:g.showButton||!1,buttonText:g.buttonText||"Learn More",buttonLink:g.buttonLink||"",titleFontSize:g.titleFontSize||"36",subtitleFontSize:g.subtitleFontSize||"14",alignText:g.alignText||"left",boxShadow:g.boxShadow||!1,borderRadius:g.borderRadius??10,page:g.page,location:g.location,order:g.order})}applyReplaceKeyword(a){return a&&this.business?.businessName?a.replace(/{{\s*businessName\s*}}/g,this.business.businessName):a}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(ir.nX),r.rXU(at.R),r.rXU(xt.A),r.rXU(ir.Ix))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-services"]],viewQuery:function(g,b){if(1&g&&r.GBs(Cr,5,r.c1b),2&g){let k;r.mGM(k=r.lsd())&&(b.container=k.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","aboutus-page-main-container",4,"ngIf"],[1,"hero-services"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"aboutus-page-main-container"],[1,"container","text-section"],["dynamicContainer",""],[1,""],[3,"imageURL","author","text"]],template:function(g,b){1&g&&r.DNE(0,ti,11,10,"div",0),2&g&&r.Y8G("ngIf",b.business)},dependencies:[pe.bT,pe.ux,pe.e1,dr,Ji]})}}return p})();var gi="top",$i="bottom",xi="right",qn="left",Kr="auto",ni=[gi,$i,xi,qn],Wi="start",jr="end",os="clippingParents",qs="viewport",ki="popper",Ts="reference",Ds=ni.reduce(function(p,c){return p.concat([c+"-"+Wi,c+"-"+jr])},[]),Gr=[].concat(ni,[Kr]).reduce(function(p,c){return p.concat([c,c+"-"+Wi,c+"-"+jr])},[]),pn="beforeRead",tr="read",cr="afterRead",Zi="beforeMain",as="main",Li="afterMain",Bs="beforeWrite",qr="write",ls="afterWrite",Ss=[pn,tr,cr,Zi,as,Li,Bs,qr,ls];function Un(p){return p?(p.nodeName||"").toLowerCase():null}function mi(p){if(null==p)return window;if("[object Window]"!==p.toString()){var c=p.ownerDocument;return c&&c.defaultView||window}return p}function es(p){return p instanceof mi(p).Element||p instanceof Element}function ne(p){return p instanceof mi(p).HTMLElement||p instanceof HTMLElement}function ee(p){return!(typeof ShadowRoot>"u")&&(p instanceof mi(p).ShadowRoot||p instanceof ShadowRoot)}const et={name:"applyStyles",enabled:!0,phase:"write",fn:function Re(p){var c=p.state;Object.keys(c.elements).forEach(function(a){var g=c.styles[a]||{},b=c.attributes[a]||{},k=c.elements[a];!ne(k)||!Un(k)||(Object.assign(k.style,g),Object.keys(b).forEach(function(z){var oe=b[z];!1===oe?k.removeAttribute(z):k.setAttribute(z,!0===oe?"":oe)}))})},effect:function Le(p){var c=p.state,a={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,a.popper),c.styles=a,c.elements.arrow&&Object.assign(c.elements.arrow.style,a.arrow),function(){Object.keys(c.elements).forEach(function(g){var b=c.elements[g],k=c.attributes[g]||{},oe=Object.keys(c.styles.hasOwnProperty(g)?c.styles[g]:a[g]).reduce(function(_e,Ge){return _e[Ge]="",_e},{});!ne(b)||!Un(b)||(Object.assign(b.style,oe),Object.keys(k).forEach(function(_e){b.removeAttribute(_e)}))})}},requires:["computeStyles"]};function mt(p){return p.split("-")[0]}var qt=Math.max,In=Math.min,hn=Math.round;function Wn(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function wr(){return!/^((?!chrome|android).)*safari/i.test(Wn())}function An(p,c,a){void 0===c&&(c=!1),void 0===a&&(a=!1);var g=p.getBoundingClientRect(),b=1,k=1;c&&ne(p)&&(b=p.offsetWidth>0&&hn(g.width)/p.offsetWidth||1,k=p.offsetHeight>0&&hn(g.height)/p.offsetHeight||1);var oe=(es(p)?mi(p):window).visualViewport,_e=!wr()&&a,Ge=(g.left+(_e&&oe?oe.offsetLeft:0))/b,gt=(g.top+(_e&&oe?oe.offsetTop:0))/k,$t=g.width/b,gn=g.height/k;return{width:$t,height:gn,top:gt,right:Ge+$t,bottom:gt+gn,left:Ge,x:Ge,y:gt}}function Nn(p){var c=An(p),a=p.offsetWidth,g=p.offsetHeight;return Math.abs(c.width-a)<=1&&(a=c.width),Math.abs(c.height-g)<=1&&(g=c.height),{x:p.offsetLeft,y:p.offsetTop,width:a,height:g}}function Jn(p,c){var a=c.getRootNode&&c.getRootNode();if(p.contains(c))return!0;if(a&&ee(a)){var g=c;do{if(g&&p.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function Nr(p){return mi(p).getComputedStyle(p)}function ri(p){return["table","td","th"].indexOf(Un(p))>=0}function Yr(p){return((es(p)?p.ownerDocument:p.document)||window.document).documentElement}function Vi(p){return"html"===Un(p)?p:p.assignedSlot||p.parentNode||(ee(p)?p.host:null)||Yr(p)}function Ci(p){return ne(p)&&"fixed"!==Nr(p).position?p.offsetParent:null}function Ti(p){for(var c=mi(p),a=Ci(p);a&&ri(a)&&"static"===Nr(a).position;)a=Ci(a);return a&&("html"===Un(a)||"body"===Un(a)&&"static"===Nr(a).position)?c:a||function Dr(p){var c=/firefox/i.test(Wn());if(/Trident/i.test(Wn())&&ne(p)&&"fixed"===Nr(p).position)return null;var b=Vi(p);for(ee(b)&&(b=b.host);ne(b)&&["html","body"].indexOf(Un(b))<0;){var k=Nr(b);if("none"!==k.transform||"none"!==k.perspective||"paint"===k.contain||-1!==["transform","perspective"].indexOf(k.willChange)||c&&"filter"===k.willChange||c&&k.filter&&"none"!==k.filter)return b;b=b.parentNode}return null}(p)||c}function wi(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Pr(p,c,a){return qt(p,In(c,a))}function Ys(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function to(p,c){return c.reduce(function(a,g){return a[g]=p,a},{})}const Zl={name:"arrow",enabled:!0,phase:"main",fn:function Za(p){var c,a=p.state,g=p.name,b=p.options,k=a.elements.arrow,z=a.modifiersData.popperOffsets,oe=mt(a.placement),_e=wi(oe),gt=[qn,xi].indexOf(oe)>=0?"height":"width";if(k&&z){var $t=function(c,a){return Ys("number"!=typeof(c="function"==typeof c?c(Object.assign({},a.rects,{placement:a.placement})):c)?c:to(c,ni))}(b.padding,a),gn=Nn(k),mn="y"===_e?gi:qn,vn="y"===_e?$i:xi,en=a.rects.reference[gt]+a.rects.reference[_e]-z[_e]-a.rects.popper[gt],Cn=z[_e]-a.rects.reference[_e],gr=Ti(k),kr=gr?"y"===_e?gr.clientHeight||0:gr.clientWidth||0:0,Or=kr/2-gn[gt]/2+(en/2-Cn/2),fi=Pr($t[mn],Or,kr-gn[gt]-$t[vn]);a.modifiersData[g]=((c={})[_e]=fi,c.centerOffset=fi-Or,c)}},effect:function ta(p){var c=p.state,g=p.options.element,b=void 0===g?"[data-popper-arrow]":g;null!=b&&("string"==typeof b&&!(b=c.elements.popper.querySelector(b))||Jn(c.elements.popper,b)&&(c.elements.arrow=b))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function us(p){return p.split("-")[1]}var Os={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fa(p){var c,a=p.popper,g=p.popperRect,b=p.placement,k=p.variation,z=p.offsets,oe=p.position,_e=p.gpuAcceleration,Ge=p.adaptive,gt=p.roundOffsets,$t=p.isFixed,gn=z.x,mn=void 0===gn?0:gn,vn=z.y,en=void 0===vn?0:vn,Cn="function"==typeof gt?gt({x:mn,y:en}):{x:mn,y:en};mn=Cn.x,en=Cn.y;var gr=z.hasOwnProperty("x"),kr=z.hasOwnProperty("y"),mr=qn,rr=gi,Jr=window;if(Ge){var Or=Ti(a),fi="clientHeight",ps="clientWidth";Or===mi(a)&&"static"!==Nr(Or=Yr(a)).position&&"absolute"===oe&&(fi="scrollHeight",ps="scrollWidth"),(b===gi||(b===qn||b===xi)&&k===jr)&&(rr=$i,en-=($t&&Or===Jr&&Jr.visualViewport?Jr.visualViewport.height:Or[fi])-g.height,en*=_e?1:-1),b!==qn&&(b!==gi&&b!==$i||k!==jr)||(mr=xi,mn-=($t&&Or===Jr&&Jr.visualViewport?Jr.visualViewport.width:Or[ps])-g.width,mn*=_e?1:-1)}var Ws,po=Object.assign({position:oe},Ge&&Os),Uo=!0===gt?function Do(p,c){var g=p.y,b=c.devicePixelRatio||1;return{x:hn(p.x*b)/b||0,y:hn(g*b)/b||0}}({x:mn,y:en},mi(a)):{x:mn,y:en};return mn=Uo.x,en=Uo.y,Object.assign({},po,_e?((Ws={})[rr]=kr?"0":"",Ws[mr]=gr?"0":"",Ws.transform=(Jr.devicePixelRatio||1)<=1?"translate("+mn+"px, "+en+"px)":"translate3d("+mn+"px, "+en+"px, 0)",Ws):((c={})[rr]=kr?en+"px":"",c[mr]=gr?mn+"px":"",c.transform="",c))}const _i={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ka(p){var c=p.state,a=p.options,g=a.gpuAcceleration,b=void 0===g||g,k=a.adaptive,z=void 0===k||k,oe=a.roundOffsets,_e=void 0===oe||oe,Ge={placement:mt(c.placement),variation:us(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:b,isFixed:"fixed"===c.options.strategy};null!=c.modifiersData.popperOffsets&&(c.styles.popper=Object.assign({},c.styles.popper,Fa(Object.assign({},Ge,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:z,roundOffsets:_e})))),null!=c.modifiersData.arrow&&(c.styles.arrow=Object.assign({},c.styles.arrow,Fa(Object.assign({},Ge,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_e})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var So={passive:!0};const q={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function $o(p){var c=p.state,a=p.instance,g=p.options,b=g.scroll,k=void 0===b||b,z=g.resize,oe=void 0===z||z,_e=mi(c.elements.popper),Ge=[].concat(c.scrollParents.reference,c.scrollParents.popper);return k&&Ge.forEach(function(gt){gt.addEventListener("scroll",a.update,So)}),oe&&_e.addEventListener("resize",a.update,So),function(){k&&Ge.forEach(function(gt){gt.removeEventListener("scroll",a.update,So)}),oe&&_e.removeEventListener("resize",a.update,So)}},data:{}};var re={left:"right",right:"left",bottom:"top",top:"bottom"};function B(p){return p.replace(/left|right|bottom|top/g,function(c){return re[c]})}var de={start:"end",end:"start"};function $e(p){return p.replace(/start|end/g,function(c){return de[c]})}function fn(p){var c=mi(p);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function Zn(p){return An(Yr(p)).left+fn(p).scrollLeft}function ts(p){var c=Nr(p);return/auto|scroll|overlay|hidden/.test(c.overflow+c.overflowY+c.overflowX)}function lo(p){return["html","body","#document"].indexOf(Un(p))>=0?p.ownerDocument.body:ne(p)&&ts(p)?p:lo(Vi(p))}function Rs(p,c){var a;void 0===c&&(c=[]);var g=lo(p),b=g===(null==(a=p.ownerDocument)?void 0:a.body),k=mi(g),z=b?[k].concat(k.visualViewport||[],ts(g)?g:[]):g,oe=c.concat(z);return b?oe:oe.concat(Rs(Vi(z)))}function ns(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function ec(p,c,a){return c===qs?ns(function Is(p,c){var a=mi(p),g=Yr(p),b=a.visualViewport,k=g.clientWidth,z=g.clientHeight,oe=0,_e=0;if(b){k=b.width,z=b.height;var Ge=wr();(Ge||!Ge&&"fixed"===c)&&(oe=b.offsetLeft,_e=b.offsetTop)}return{width:k,height:z,x:oe+Zn(p),y:_e}}(p,a)):es(c)?function Go(p,c){var a=An(p,!1,"fixed"===c);return a.top=a.top+p.clientTop,a.left=a.left+p.clientLeft,a.bottom=a.top+p.clientHeight,a.right=a.left+p.clientWidth,a.width=p.clientWidth,a.height=p.clientHeight,a.x=a.left,a.y=a.top,a}(c,a):ns(function Xs(p){var c,a=Yr(p),g=fn(p),b=null==(c=p.ownerDocument)?void 0:c.body,k=qt(a.scrollWidth,a.clientWidth,b?b.scrollWidth:0,b?b.clientWidth:0),z=qt(a.scrollHeight,a.clientHeight,b?b.scrollHeight:0,b?b.clientHeight:0),oe=-g.scrollLeft+Zn(p),_e=-g.scrollTop;return"rtl"===Nr(b||a).direction&&(oe+=qt(a.clientWidth,b?b.clientWidth:0)-k),{width:k,height:z,x:oe,y:_e}}(Yr(p)))}function Ki(p){var _e,c=p.reference,a=p.element,g=p.placement,b=g?mt(g):null,k=g?us(g):null,z=c.x+c.width/2-a.width/2,oe=c.y+c.height/2-a.height/2;switch(b){case gi:_e={x:z,y:c.y-a.height};break;case $i:_e={x:z,y:c.y+c.height};break;case xi:_e={x:c.x+c.width,y:oe};break;case qn:_e={x:c.x-a.width,y:oe};break;default:_e={x:c.x,y:c.y}}var Ge=b?wi(b):null;if(null!=Ge){var gt="y"===Ge?"height":"width";switch(k){case Wi:_e[Ge]=_e[Ge]-(c[gt]/2-a[gt]/2);break;case jr:_e[Ge]=_e[Ge]+(c[gt]/2-a[gt]/2)}}return _e}function na(p,c){void 0===c&&(c={});var g=c.placement,b=void 0===g?p.placement:g,k=c.strategy,z=void 0===k?p.strategy:k,oe=c.boundary,_e=void 0===oe?os:oe,Ge=c.rootBoundary,gt=void 0===Ge?qs:Ge,$t=c.elementContext,gn=void 0===$t?ki:$t,mn=c.altBoundary,vn=void 0!==mn&&mn,en=c.padding,Cn=void 0===en?0:en,gr=Ys("number"!=typeof Cn?Cn:to(Cn,ni)),mr=p.rects.popper,rr=p.elements[vn?gn===ki?Ts:ki:gn],Jr=function _a(p,c,a,g){var b="clippingParents"===c?function Ps(p){var c=Rs(Vi(p)),g=["absolute","fixed"].indexOf(Nr(p).position)>=0&&ne(p)?Ti(p):p;return es(g)?c.filter(function(b){return es(b)&&Jn(b,g)&&"body"!==Un(b)}):[]}(p):[].concat(c),k=[].concat(b,[a]),oe=k.reduce(function(_e,Ge){var gt=ec(p,Ge,g);return _e.top=qt(gt.top,_e.top),_e.right=In(gt.right,_e.right),_e.bottom=In(gt.bottom,_e.bottom),_e.left=qt(gt.left,_e.left),_e},ec(p,k[0],g));return oe.width=oe.right-oe.left,oe.height=oe.bottom-oe.top,oe.x=oe.left,oe.y=oe.top,oe}(es(rr)?rr:rr.contextElement||Yr(p.elements.popper),_e,gt,z),Or=An(p.elements.reference),fi=Ki({reference:Or,element:mr,strategy:"absolute",placement:b}),ps=ns(Object.assign({},mr,fi)),gs=gn===ki?ps:Or,Xi={top:Jr.top-gs.top+gr.top,bottom:gs.bottom-Jr.bottom+gr.bottom,left:Jr.left-gs.left+gr.left,right:gs.right-Jr.right+gr.right},po=p.modifiersData.offset;if(gn===ki&&po){var Uo=po[b];Object.keys(Xi).forEach(function(Ws){var kc=[xi,$i].indexOf(Ws)>=0?1:-1,vu=[gi,$i].indexOf(Ws)>=0?"y":"x";Xi[Ws]+=Uo[vu]*kc})}return Xi}const ra={name:"flip",enabled:!0,phase:"main",fn:function co(p){var c=p.state,a=p.options,g=p.name;if(!c.modifiersData[g]._skip){for(var b=a.mainAxis,k=void 0===b||b,z=a.altAxis,oe=void 0===z||z,_e=a.fallbackPlacements,Ge=a.padding,gt=a.boundary,$t=a.rootBoundary,gn=a.altBoundary,mn=a.flipVariations,vn=void 0===mn||mn,en=a.allowedAutoPlacements,Cn=c.options.placement,gr=mt(Cn),mr=_e||(gr!==Cn&&vn?function el(p){if(mt(p)===Kr)return[];var c=B(p);return[$e(p),c,$e(c)]}(Cn):[B(Cn)]),rr=[Cn].concat(mr).reduce(function(Qi,Xl){return Qi.concat(mt(Xl)===Kr?function ms(p,c){void 0===c&&(c={});var b=c.boundary,k=c.rootBoundary,z=c.padding,oe=c.flipVariations,_e=c.allowedAutoPlacements,Ge=void 0===_e?Gr:_e,gt=us(c.placement),$t=gt?oe?Ds:Ds.filter(function(vn){return us(vn)===gt}):ni,gn=$t.filter(function(vn){return Ge.indexOf(vn)>=0});0===gn.length&&(gn=$t);var mn=gn.reduce(function(vn,en){return vn[en]=na(p,{placement:en,boundary:b,rootBoundary:k,padding:z})[mt(en)],vn},{});return Object.keys(mn).sort(function(vn,en){return mn[vn]-mn[en]})}(c,{placement:Xl,boundary:gt,rootBoundary:$t,padding:Ge,flipVariations:vn,allowedAutoPlacements:en}):Xl)},[]),Jr=c.rects.reference,Or=c.rects.popper,fi=new Map,ps=!0,gs=rr[0],Xi=0;Xi<rr.length;Xi++){var po=rr[Xi],Uo=mt(po),Ws=us(po)===Wi,kc=[gi,$i].indexOf(Uo)>=0,vu=kc?"width":"height",Rn=na(c,{placement:po,boundary:gt,rootBoundary:$t,altBoundary:gn,padding:Ge}),Kn=kc?Ws?xi:qn:Ws?$i:gi;Jr[vu]>Or[vu]&&(Kn=B(Kn));var yr=B(Kn),ci=[];if(k&&ci.push(Rn[Uo]<=0),oe&&ci.push(Rn[Kn]<=0,Rn[yr]<=0),ci.every(function(Qi){return Qi})){gs=po,ps=!1;break}fi.set(po,ci)}if(ps)for(var Ma=function(Xl){var Lc=rr.find(function(oo){var Oa=fi.get(oo);if(Oa)return Oa.slice(0,Xl).every(function(ga){return ga})});if(Lc)return gs=Lc,"break"},eo=vn?3:1;eo>0&&"break"!==Ma(eo);eo--);c.placement!==gs&&(c.modifiersData[g]._skip=!0,c.placement=gs,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Cs(p,c,a){return void 0===a&&(a={x:0,y:0}),{top:p.top-c.height-a.y,right:p.right-c.width+a.x,bottom:p.bottom-c.height+a.y,left:p.left-c.width-a.x}}function ya(p){return[gi,xi,$i,qn].some(function(c){return p[c]>=0})}const Il={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function La(p){var c=p.state,a=p.name,g=c.rects.reference,b=c.rects.popper,k=c.modifiersData.preventOverflow,z=na(c,{elementContext:"reference"}),oe=na(c,{altBoundary:!0}),_e=Cs(z,g),Ge=Cs(oe,b,k),gt=ya(_e),$t=ya(Ge);c.modifiersData[a]={referenceClippingOffsets:_e,popperEscapeOffsets:Ge,isReferenceHidden:gt,hasPopperEscaped:$t},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":gt,"data-popper-escaped":$t})}},Cl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function hr(p){var c=p.state,g=p.name,b=p.options.offset,k=void 0===b?[0,0]:b,z=Gr.reduce(function(gt,$t){return gt[$t]=function Eu(p,c,a){var g=mt(p),b=[qn,gi].indexOf(g)>=0?-1:1,k="function"==typeof a?a(Object.assign({},c,{placement:p})):a,z=k[0],oe=k[1];return z=z||0,oe=(oe||0)*b,[qn,xi].indexOf(g)>=0?{x:oe,y:z}:{x:z,y:oe}}($t,c.rects,k),gt},{}),oe=z[c.placement],Ge=oe.y;null!=c.modifiersData.popperOffsets&&(c.modifiersData.popperOffsets.x+=oe.x,c.modifiersData.popperOffsets.y+=Ge),c.modifiersData[g]=z}},mo={name:"popperOffsets",enabled:!0,phase:"read",fn:function go(p){var c=p.state;c.modifiersData[p.name]=Ki({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})},data:{}},nl={name:"preventOverflow",enabled:!0,phase:"main",fn:function bu(p){var c=p.state,a=p.options,g=p.name,b=a.mainAxis,k=void 0===b||b,z=a.altAxis,oe=void 0!==z&&z,gn=a.tether,mn=void 0===gn||gn,vn=a.tetherOffset,en=void 0===vn?0:vn,Cn=na(c,{boundary:a.boundary,rootBoundary:a.rootBoundary,padding:a.padding,altBoundary:a.altBoundary}),gr=mt(c.placement),kr=us(c.placement),mr=!kr,rr=wi(gr),Jr=function tl(p){return"x"===p?"y":"x"}(rr),Or=c.modifiersData.popperOffsets,fi=c.rects.reference,ps=c.rects.popper,gs="function"==typeof en?en(Object.assign({},c.rects,{placement:c.placement})):en,Xi="number"==typeof gs?{mainAxis:gs,altAxis:gs}:Object.assign({mainAxis:0,altAxis:0},gs),po=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,Uo={x:0,y:0};if(Or){if(k){var Ws,kc="y"===rr?gi:qn,vu="y"===rr?$i:xi,Rn="y"===rr?"height":"width",Kn=Or[rr],yr=Kn+Cn[kc],ci=Kn-Cn[vu],Zs=mn?-ps[Rn]/2:0,Ma=kr===Wi?fi[Rn]:ps[Rn],eo=kr===Wi?-ps[Rn]:-fi[Rn],bl=c.elements.arrow,Qi=mn&&bl?Nn(bl):{width:0,height:0},Xl=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Lc=Xl[kc],oo=Xl[vu],Oa=Pr(0,fi[Rn],Qi[Rn]),ga=mr?fi[Rn]/2-Zs-Oa-Lc-Xi.mainAxis:Ma-Oa-Lc-Xi.mainAxis,Eg=mr?-fi[Rn]/2+Zs+Oa+oo+Xi.mainAxis:eo+Oa+oo+Xi.mainAxis,bg=c.elements.arrow&&Ti(c.elements.arrow),wb=bg?"y"===rr?bg.clientTop||0:bg.clientLeft||0:0,aE=null!=(Ws=po?.[rr])?Ws:0,Db=Kn+Eg-aE,Tg=Pr(mn?In(yr,Kn+ga-aE-wb):yr,Kn,mn?qt(ci,Db):ci);Or[rr]=Tg,Uo[rr]=Tg-Kn}if(oe){var S0,Oh=Or[Jr],Py="y"===Jr?"height":"width",lE=Oh+Cn["x"===rr?gi:qn],P0=Oh-Cn["x"===rr?$i:xi],Jm=-1!==[gi,qn].indexOf(gr),x0=null!=(S0=po?.[Jr])?S0:0,cE=Jm?lE:Oh-fi[Py]-ps[Py]-x0+Xi.altAxis,uE=Jm?Oh+fi[Py]+ps[Py]-x0-Xi.altAxis:P0,M0=mn&&Jm?function Bo(p,c,a){var g=Pr(p,c,a);return g>a?a:g}(cE,Oh,uE):Pr(mn?cE:lE,Oh,mn?uE:P0);Or[Jr]=M0,Uo[Jr]=M0-Oh}c.modifiersData[g]=Uo}},requiresIfExists:["offset"]};function wl(p,c,a){void 0===a&&(a=!1);var g=ne(c),b=ne(c)&&function Tu(p){var c=p.getBoundingClientRect(),a=hn(c.width)/p.offsetWidth||1,g=hn(c.height)/p.offsetHeight||1;return 1!==a||1!==g}(c),k=Yr(c),z=An(p,b,a),oe={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(g||!g&&!a)&&(("body"!==Un(c)||ts(k))&&(oe=function rl(p){return p!==mi(p)&&ne(p)?function Nh(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):fn(p)}(c)),ne(c)?((_e=An(c,!0)).x+=c.clientLeft,_e.y+=c.clientTop):k&&(_e.x=Zn(k))),{x:z.left+oe.scrollLeft-_e.x,y:z.top+oe.scrollTop-_e.y,width:z.width,height:z.height}}function Ho(p){var c=new Map,a=new Set,g=[];function b(k){a.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(oe){if(!a.has(oe)){var _e=c.get(oe);_e&&b(_e)}}),g.push(k)}return p.forEach(function(k){c.set(k.name,k)}),p.forEach(function(k){a.has(k.name)||b(k)}),g}function Va(p){var c;return function(){return c||(c=new Promise(function(a){Promise.resolve().then(function(){c=void 0,a(p())})})),c}}var Ua={placement:"bottom",modifiers:[],strategy:"absolute"};function ja(){for(var p=arguments.length,c=new Array(p),a=0;a<p;a++)c[a]=arguments[a];return!c.some(function(g){return!(g&&"function"==typeof g.getBoundingClientRect)})}function sl(p){void 0===p&&(p={});var a=p.defaultModifiers,g=void 0===a?[]:a,b=p.defaultOptions,k=void 0===b?Ua:b;return function(oe,_e,Ge){void 0===Ge&&(Ge=k);var gt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ua,k),modifiersData:{},elements:{reference:oe,popper:_e},attributes:{},styles:{}},$t=[],gn=!1,mn={state:gt,setOptions:function(gr){var kr="function"==typeof gr?gr(gt.options):gr;en(),gt.options=Object.assign({},k,gt.options,kr),gt.scrollParents={reference:es(oe)?Rs(oe):oe.contextElement?Rs(oe.contextElement):[],popper:Rs(_e)};var mr=function tc(p){var c=Ho(p);return Ss.reduce(function(a,g){return a.concat(c.filter(function(b){return b.phase===g}))},[])}(function il(p){var c=p.reduce(function(a,g){var b=a[g.name];return a[g.name]=b?Object.assign({},b,g,{options:Object.assign({},b.options,g.options),data:Object.assign({},b.data,g.data)}):g,a},{});return Object.keys(c).map(function(a){return c[a]})}([].concat(g,gt.options.modifiers)));return gt.orderedModifiers=mr.filter(function(rr){return rr.enabled}),function vn(){gt.orderedModifiers.forEach(function(Cn){var kr=Cn.options,rr=Cn.effect;if("function"==typeof rr){var Jr=rr({state:gt,name:Cn.name,instance:mn,options:void 0===kr?{}:kr});$t.push(Jr||function(){})}})}(),mn.update()},forceUpdate:function(){if(!gn){var gr=gt.elements,kr=gr.reference,mr=gr.popper;if(ja(kr,mr)){gt.rects={reference:wl(kr,Ti(mr),"fixed"===gt.options.strategy),popper:Nn(mr)},gt.reset=!1,gt.placement=gt.options.placement,gt.orderedModifiers.forEach(function(Xi){return gt.modifiersData[Xi.name]=Object.assign({},Xi.data)});for(var rr=0;rr<gt.orderedModifiers.length;rr++)if(!0!==gt.reset){var Jr=gt.orderedModifiers[rr],Or=Jr.fn,fi=Jr.options;"function"==typeof Or&&(gt=Or({state:gt,options:void 0===fi?{}:fi,name:Jr.name,instance:mn})||gt)}else gt.reset=!1,rr=-1}}},update:Va(function(){return new Promise(function(Cn){mn.forceUpdate(),Cn(gt)})}),destroy:function(){en(),gn=!0}};if(!ja(oe,_e))return mn;function en(){$t.forEach(function(Cn){return Cn()}),$t=[]}return mn.setOptions(Ge).then(function(Cn){!gn&&Ge.onFirstUpdate&&Ge.onFirstUpdate(Cn)}),mn}}var x=sl(),$=sl({defaultModifiers:[q,mo,_i,et,Cl,ra,nl,Zl,Il]}),Ne=sl({defaultModifiers:[q,mo,_i,et]});const Tt=new Map,Nt={set(p,c,a){Tt.has(p)||Tt.set(p,new Map);const g=Tt.get(p);g.has(c)||0===g.size?g.set(c,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`)},get:(p,c)=>Tt.has(p)&&Tt.get(p).get(c)||null,remove(p,c){if(!Tt.has(p))return;const a=Tt.get(p);a.delete(c),0===a.size&&Tt.delete(p)}},ii="transitionend",Xr=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(c,a)=>`#${CSS.escape(a)}`)),p),Di=p=>{p.dispatchEvent(new Event(ii))},ds=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),Gi=p=>ds(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(Xr(p)):null,no=p=>{if(!ds(p)||0===p.getClientRects().length)return!1;const c="visible"===getComputedStyle(p).getPropertyValue("visibility"),a=p.closest("details:not([open])");if(!a)return c;if(a!==p){const g=p.closest("summary");if(g&&g.parentNode!==a||null===g)return!1}return c},qi=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),Ro=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const c=p.getRootNode();return c instanceof ShadowRoot?c:null}return p instanceof ShadowRoot?p:p.parentNode?Ro(p.parentNode):null},rs=()=>{},Td=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Er=[],$s=()=>"rtl"===document.documentElement.dir,Ui=p=>{(p=>{"loading"===document.readyState?(Er.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of Er)c()}),Er.push(p)):p()})(()=>{const c=Td();if(c){const a=p.NAME,g=c.fn[a];c.fn[a]=p.jQueryInterface,c.fn[a].Constructor=p,c.fn[a].noConflict=()=>(c.fn[a]=g,p.jQueryInterface)}})},Js=(p,c=[],a=p)=>"function"==typeof p?p(...c):a,Iu=(p,c,a=!0)=>{if(!a)return void Js(p);const b=(p=>{if(!p)return 0;let{transitionDuration:c,transitionDelay:a}=window.getComputedStyle(p);const g=Number.parseFloat(c),b=Number.parseFloat(a);return g||b?(c=c.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(c)+Number.parseFloat(a))):0})(c)+5;let k=!1;const z=({target:oe})=>{oe===c&&(k=!0,c.removeEventListener(ii,z),Js(p))};c.addEventListener(ii,z),setTimeout(()=>{k||Di(c)},b)},ol=(p,c,a,g)=>{const b=p.length;let k=p.indexOf(c);return-1===k?!a&&g?p[b-1]:p[0]:(k+=a?1:-1,g&&(k=(k+b)%b),p[Math.max(0,Math.min(k,b-1))])},Hi=/[^.]*(?=\..*)\.|.*/,Fh=/\..*/,Cu=/::\d+$/,Po={};let ws=1;const va={mouseenter:"mouseover",mouseleave:"mouseout"},nc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function wu(p,c){return c&&`${c}::${ws++}`||p.uidEvent||ws++}function Au(p){const c=wu(p);return p.uidEvent=c,Po[c]=Po[c]||{},Po[c]}function or(p,c,a=null){return Object.values(p).find(g=>g.callable===c&&g.delegationSelector===a)}function rc(p,c,a){const g="string"==typeof c,b=g?a:c||a;let k=Cd(p);return nc.has(k)||(k=p),[g,b,k]}function Vc(p,c,a,g,b){if("string"!=typeof c||!p)return;let[k,z,oe]=rc(c,a,g);var vn;c in va&&(vn=z,z=function(en){if(!en.relatedTarget||en.relatedTarget!==en.delegateTarget&&!en.delegateTarget.contains(en.relatedTarget))return vn.call(this,en)});const _e=Au(p),Ge=_e[oe]||(_e[oe]={}),gt=or(Ge,z,k?a:null);if(gt)return void(gt.oneOff=gt.oneOff&&b);const $t=wu(z,c.replace(Hi,"")),gn=k?function Du(p,c,a){return function g(b){const k=p.querySelectorAll(c);for(let{target:z}=b;z&&z!==this;z=z.parentNode)for(const oe of k)if(oe===z)return xo(b,{delegateTarget:z}),g.oneOff&&Zt.off(p,b.type,c,a),a.apply(z,[b])}}(p,a,z):function Id(p,c){return function a(g){return xo(g,{delegateTarget:p}),a.oneOff&&Zt.off(p,g.type,c),c.apply(p,[g])}}(p,z);gn.delegationSelector=k?a:null,gn.callable=z,gn.oneOff=b,gn.uidEvent=$t,Ge[$t]=gn,p.addEventListener(oe,gn,k)}function zo(p,c,a,g,b){const k=or(c[a],g,b);k&&(p.removeEventListener(a,k,!!b),delete c[a][k.uidEvent])}function Uc(p,c,a,g){const b=c[a]||{};for(const[k,z]of Object.entries(b))k.includes(g)&&zo(p,c,a,z.callable,z.delegationSelector)}function Cd(p){return p=p.replace(Fh,""),va[p]||p}const Zt={on(p,c,a,g){Vc(p,c,a,g,!1)},one(p,c,a,g){Vc(p,c,a,g,!0)},off(p,c,a,g){if("string"!=typeof c||!p)return;const[b,k,z]=rc(c,a,g),oe=z!==c,_e=Au(p),Ge=_e[z]||{},gt=c.startsWith(".");if(typeof k<"u"){if(!Object.keys(Ge).length)return;zo(p,_e,z,k,b?a:null)}else{if(gt)for(const $t of Object.keys(_e))Uc(p,_e,$t,c.slice(1));for(const[$t,gn]of Object.entries(Ge)){const mn=$t.replace(Cu,"");(!oe||c.includes(mn))&&zo(p,_e,z,gn.callable,gn.delegationSelector)}}},trigger(p,c,a){if("string"!=typeof c||!p)return null;const g=Td();let z=null,oe=!0,_e=!0,Ge=!1;c!==Cd(c)&&g&&(z=g.Event(c,a),g(p).trigger(z),oe=!z.isPropagationStopped(),_e=!z.isImmediatePropagationStopped(),Ge=z.isDefaultPrevented());const gt=xo(new Event(c,{bubbles:oe,cancelable:!0}),a);return Ge&&gt.preventDefault(),_e&&p.dispatchEvent(gt),gt.defaultPrevented&&z&&z.preventDefault(),gt}};function xo(p,c={}){for(const[a,g]of Object.entries(c))try{p[a]=g}catch{Object.defineProperty(p,a,{configurable:!0,get:()=>g})}return p}function Su(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function ic(p){return p.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const Si={setDataAttribute(p,c,a){p.setAttribute(`data-bs-${ic(c)}`,a)},removeDataAttribute(p,c){p.removeAttribute(`data-bs-${ic(c)}`)},getDataAttributes(p){if(!p)return{};const c={},a=Object.keys(p.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of a){let b=g.replace(/^bs/,"");b=b.charAt(0).toLowerCase()+b.slice(1,b.length),c[b]=Su(p.dataset[g])}return c},getDataAttribute:(p,c)=>Su(p.getAttribute(`data-bs-${ic(c)}`))};class Ea{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,a){const g=ds(a)?Si.getDataAttribute(a,"config"):{};return{...this.constructor.Default,..."object"==typeof g?g:{},...ds(a)?Si.getDataAttributes(a):{},..."object"==typeof c?c:{}}}_typeCheckConfig(c,a=this.constructor.DefaultType){for(const[g,b]of Object.entries(a)){const k=c[g],z=ds(k)?"element":null==(p=k)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(b).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${g}" provided type "${z}" but expected type "${b}".`)}var p}}class Ut extends Ea{constructor(c,a){super(),(c=Gi(c))&&(this._element=c,this._config=this._getConfig(a),Nt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Nt.remove(this._element,this.constructor.DATA_KEY),Zt.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,a,g=!0){Iu(c,a,g)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return Nt.get(Gi(c),this.DATA_KEY)}static getOrCreateInstance(c,a={}){return this.getInstance(c)||new this(c,"object"==typeof a?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const Ir=p=>{let c=p.getAttribute("data-bs-target");if(!c||"#"===c){let a=p.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),c=a&&"#"!==a?a.trim():null}return c?c.split(",").map(a=>Xr(a)).join(","):null},Bn={find:(p,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,p)),findOne:(p,c=document.documentElement)=>Element.prototype.querySelector.call(c,p),children:(p,c)=>[].concat(...p.children).filter(a=>a.matches(c)),parents(p,c){const a=[];let g=p.parentNode.closest(c);for(;g;)a.push(g),g=g.parentNode.closest(c);return a},prev(p,c){let a=p.previousElementSibling;for(;a;){if(a.matches(c))return[a];a=a.previousElementSibling}return[]},next(p,c){let a=p.nextElementSibling;for(;a;){if(a.matches(c))return[a];a=a.nextElementSibling}return[]},focusableChildren(p){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(c,p).filter(a=>!qi(a)&&no(a))},getSelectorFromElement(p){const c=Ir(p);return c&&Bn.findOne(c)?c:null},getElementFromSelector(p){const c=Ir(p);return c?Bn.findOne(c):null},getMultipleElementsFromSelector(p){const c=Ir(p);return c?Bn.find(c):[]}},Yi=(p,c="hide")=>{const g=p.NAME;Zt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${g}"]`,function(b){if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),qi(this))return;const k=Bn.getElementFromSelector(this)||this.closest(`.${g}`);p.getOrCreateInstance(k)[c]()})},al=".bs.alert",Mo=`close${al}`,sc=`closed${al}`;class ll extends Ut{static get NAME(){return"alert"}close(){if(Zt.trigger(this._element,Mo).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),Zt.trigger(this._element,sc),this.dispose()}static jQueryInterface(c){return this.each(function(){const a=ll.getOrCreateInstance(this);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c](this)}})}}Yi(ll,"close"),Ui(ll);const ho='[data-bs-toggle="button"]';class dl extends Ut{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const a=dl.getOrCreateInstance(this);"toggle"===c&&a[c]()})}}Zt.on(document,"click.bs.button.data-api",ho,p=>{p.preventDefault();const c=p.target.closest(ho);dl.getOrCreateInstance(c).toggle()}),Ui(dl);const hl=".bs.swipe",xu=`touchstart${hl}`,ba=`touchmove${hl}`,Al=`touchend${hl}`,S=`pointerdown${hl}`,N=`pointerup${hl}`,Oe={endCallback:null,leftCallback:null,rightCallback:null},wt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class yt extends Ea{constructor(c,a){super(),this._element=c,c&&yt.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Oe}static get DefaultType(){return wt}static get NAME(){return"swipe"}dispose(){Zt.off(this._element,hl)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),Js(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const a=c/this._deltaX;this._deltaX=0,a&&Js(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Zt.on(this._element,S,c=>this._start(c)),Zt.on(this._element,N,c=>this._end(c)),this._element.classList.add("pointer-event")):(Zt.on(this._element,xu,c=>this._start(c)),Zt.on(this._element,ba,c=>this._move(c)),Zt.on(this._element,Al,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&("pen"===c.pointerType||"touch"===c.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const nr=".bs.carousel",xr=".data-api",Ta="next",Wo="prev",$a="left",Bc="right",pl=`slide${nr}`,Oo=`slid${nr}`,kh=`keydown${nr}`,Ga=`mouseenter${nr}`,$c=`mouseleave${nr}`,Mu=`dragstart${nr}`,Ou=`load${nr}${xr}`,Nu=`click${nr}${xr}`,Fu="carousel",Sl="active",Cg=".active",Sd=".carousel-item",ku=Cg+Sd,Rd={ArrowLeft:Bc,ArrowRight:$a},oc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Vu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ko extends Ut{constructor(c,a){super(c,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Bn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Fu&&this.cycle()}static get Default(){return oc}static get DefaultType(){return Vu}static get NAME(){return"carousel"}next(){this._slide(Ta)}nextWhenVisible(){!document.hidden&&no(this._element)&&this.next()}prev(){this._slide(Wo)}pause(){this._isSliding&&Di(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Zt.one(this._element,Oo,()=>this.cycle());this.cycle()}}to(c){const a=this._getItems();if(c>a.length-1||c<0)return;if(this._isSliding)return void Zt.one(this._element,Oo,()=>this.to(c));const g=this._getItemIndex(this._getActive());g!==c&&this._slide(c>g?Ta:Wo,a[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&Zt.on(this._element,kh,c=>this._keydown(c)),"hover"===this._config.pause&&(Zt.on(this._element,Ga,()=>this.pause()),Zt.on(this._element,$c,()=>this._maybeEnableCycle())),this._config.touch&&yt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of Bn.find(".carousel-item img",this._element))Zt.on(g,Mu,b=>b.preventDefault());this._swipeHelper=new yt(this._element,{leftCallback:()=>this._slide(this._directionToOrder($a)),rightCallback:()=>this._slide(this._directionToOrder(Bc)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const a=Rd[c.key];a&&(c.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const a=Bn.findOne(Cg,this._indicatorsElement);a.classList.remove(Sl),a.removeAttribute("aria-current");const g=Bn.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);g&&(g.classList.add(Sl),g.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const a=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(c,a=null){if(this._isSliding)return;const g=this._getActive(),b=c===Ta,k=a||ol(this._getItems(),g,b,this._config.wrap);if(k===g)return;const z=this._getItemIndex(k),oe=mn=>Zt.trigger(this._element,mn,{relatedTarget:k,direction:this._orderToDirection(c),from:this._getItemIndex(g),to:z});if(oe(pl).defaultPrevented||!g||!k)return;const Ge=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=k;const gt=b?"carousel-item-start":"carousel-item-end",$t=b?"carousel-item-next":"carousel-item-prev";k.classList.add($t),g.classList.add(gt),k.classList.add(gt),this._queueCallback(()=>{k.classList.remove(gt,$t),k.classList.add(Sl),g.classList.remove(Sl,$t,gt),this._isSliding=!1,oe(Oo)},g,this._isAnimated()),Ge&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Bn.findOne(ku,this._element)}_getItems(){return Bn.find(Sd,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return $s()?c===$a?Wo:Ta:c===$a?Ta:Wo}_orderToDirection(c){return $s()?c===Wo?$a:Bc:c===Wo?Bc:$a}static jQueryInterface(c){return this.each(function(){const a=Ko.getOrCreateInstance(this,c);if("number"!=typeof c){if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}}else a.to(c)})}}Zt.on(document,Nu,"[data-bs-slide], [data-bs-slide-to]",function(p){const c=Bn.getElementFromSelector(this);if(!c||!c.classList.contains(Fu))return;p.preventDefault();const a=Ko.getOrCreateInstance(c),g=this.getAttribute("data-bs-slide-to");return g?(a.to(g),void a._maybeEnableCycle()):"next"===Si.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),Zt.on(window,Ou,()=>{const p=Bn.find('[data-bs-ride="carousel"]');for(const c of p)Ko.getOrCreateInstance(c)}),Ui(Ko);const _o=".bs.collapse",yo=`show${_o}`,Pd=`shown${_o}`,ac=`hide${_o}`,Ns=`hidden${_o}`,Vh=`click${_o}.data-api`,Ha="show",sa="collapse",Gc="collapsing",lc=`:scope .${sa} .${sa}`,za='[data-bs-toggle="collapse"]',Ml={parent:null,toggle:!0},Bu={parent:"(null|element)",toggle:"boolean"};class Hc extends Ut{constructor(c,a){super(c,a),this._isTransitioning=!1,this._triggerArray=[];const g=Bn.find(za);for(const b of g){const k=Bn.getSelectorFromElement(b),z=Bn.find(k).filter(oe=>oe===this._element);null!==k&&z.length&&this._triggerArray.push(b)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ml}static get DefaultType(){return Bu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(oe=>oe!==this._element).map(oe=>Hc.getOrCreateInstance(oe,{toggle:!1}))),c.length&&c[0]._isTransitioning||Zt.trigger(this._element,yo).defaultPrevented)return;for(const oe of c)oe.hide();const g=this._getDimension();this._element.classList.remove(sa),this._element.classList.add(Gc),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gc),this._element.classList.add(sa,Ha),this._element.style[g]="",Zt.trigger(this._element,Pd)},this._element,!0),this._element.style[g]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||Zt.trigger(this._element,ac).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,this._element.classList.add(Gc),this._element.classList.remove(sa,Ha);for(const b of this._triggerArray){const k=Bn.getElementFromSelector(b);k&&!this._isShown(k)&&this._addAriaAndCollapsedClass([b],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gc),this._element.classList.add(sa),Zt.trigger(this._element,Ns)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(Ha)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=Gi(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(za);for(const a of c){const g=Bn.getElementFromSelector(a);g&&this._addAriaAndCollapsedClass([a],this._isShown(g))}}_getFirstLevelChildren(c){const a=Bn.find(lc,this._config.parent);return Bn.find(c,this._config.parent).filter(g=>!a.includes(g))}_addAriaAndCollapsedClass(c,a){if(c.length)for(const g of c)g.classList.toggle("collapsed",!a),g.setAttribute("aria-expanded",a)}static jQueryInterface(c){const a={};return"string"==typeof c&&/show|hide/.test(c)&&(a.toggle=!1),this.each(function(){const g=Hc.getOrCreateInstance(this,a);if("string"==typeof c){if(typeof g[c]>"u")throw new TypeError(`No method named "${c}"`);g[c]()}})}}Zt.on(document,Vh,za,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const c of Bn.getMultipleElementsFromSelector(this))Hc.getOrCreateInstance(c,{toggle:!1}).toggle()}),Ui(Hc);const ml="dropdown",hs=".bs.dropdown",xd=".data-api",ep="ArrowUp",Gu="ArrowDown",uc=`hide${hs}`,qo=`hidden${hs}`,oa=`show${hs}`,Uh=`shown${hs}`,Hu=`click${hs}${xd}`,dc=`keydown${hs}${xd}`,jh=`keyup${hs}${xd}`,zc="show",Wc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Kc=`${Wc}.${zc}`,Od=".dropdown-menu",Ol=$s()?"top-end":"top-start",$h=$s()?"top-start":"top-end",Yo=$s()?"bottom-end":"bottom-start",Nl=$s()?"bottom-start":"bottom-end",Fd=$s()?"left-start":"right-start",Fl=$s()?"right-start":"left-start",np={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Dg={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Wa extends Ut{constructor(c,a){super(c,a),this._popper=null,this._parent=this._element.parentNode,this._menu=Bn.next(this._element,Od)[0]||Bn.prev(this._element,Od)[0]||Bn.findOne(Od,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return np}static get DefaultType(){return Dg}static get NAME(){return ml}toggle(){return this._isShown()?this.hide():this.show()}show(){if(qi(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!Zt.trigger(this._element,oa,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))Zt.on(g,"mouseover",rs);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zc),this._element.classList.add(zc),Zt.trigger(this._element,Uh,c)}}hide(){!qi(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!Zt.trigger(this._element,uc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))Zt.off(g,"mouseover",rs);this._popper&&this._popper.destroy(),this._menu.classList.remove(zc),this._element.classList.remove(zc),this._element.setAttribute("aria-expanded","false"),Si.removeDataAttribute(this._menu,"popper"),Zt.trigger(this._element,qo,c)}}_getConfig(c){if("object"==typeof(c=super._getConfig(c)).reference&&!ds(c.reference)&&"function"!=typeof c.reference.getBoundingClientRect)throw new TypeError(`${ml.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(typeof s>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;"parent"===this._config.reference?c=this._parent:ds(this._config.reference)?c=Gi(this._config.reference):"object"==typeof this._config.reference&&(c=this._config.reference);const a=this._getPopperConfig();this._popper=$(c,this._menu,a)}_isShown(){return this._menu.classList.contains(zc)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return Fd;if(c.classList.contains("dropstart"))return Fl;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const a="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return c.classList.contains("dropup")?a?$h:Ol:a?Nl:Yo}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof c?a=>c(a,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Si.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...Js(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:a}){const g=Bn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(b=>no(b));g.length&&ol(g,a,c===Gu,!g.includes(a)).focus()}static jQueryInterface(c){return this.each(function(){const a=Wa.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}static clearMenus(c){if(2===c.button||"keyup"===c.type&&"Tab"!==c.key)return;const a=Bn.find(Kc);for(const g of a){const b=Wa.getInstance(g);if(!b||!1===b._config.autoClose)continue;const k=c.composedPath(),z=k.includes(b._menu);if(k.includes(b._element)||"inside"===b._config.autoClose&&!z||"outside"===b._config.autoClose&&z||b._menu.contains(c.target)&&("keyup"===c.type&&"Tab"===c.key||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const oe={relatedTarget:b._element};"click"===c.type&&(oe.clickEvent=c),b._completeHide(oe)}}static dataApiKeydownHandler(c){const a=/input|textarea/i.test(c.target.tagName),g="Escape"===c.key,b=[ep,Gu].includes(c.key);if(!b&&!g||a&&!g)return;c.preventDefault();const k=this.matches(Wc)?this:Bn.prev(this,Wc)[0]||Bn.next(this,Wc)[0]||Bn.findOne(Wc,c.delegateTarget.parentNode),z=Wa.getOrCreateInstance(k);if(b)return c.stopPropagation(),z.show(),void z._selectMenuItem(c);z._isShown()&&(c.stopPropagation(),z.hide(),k.focus())}}Zt.on(document,dc,Wc,Wa.dataApiKeydownHandler),Zt.on(document,dc,Od,Wa.dataApiKeydownHandler),Zt.on(document,Hu,Wa.clearMenus),Zt.on(document,jh,Wa.clearMenus),Zt.on(document,Hu,Wc,function(p){p.preventDefault(),Wa.getOrCreateInstance(this).toggle()}),Ui(Wa);const Fo="backdrop",zu=`mousedown.bs.${Fo}`,rp={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Vd={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ip extends Ea{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return rp}static get DefaultType(){return Vd}static get NAME(){return Fo}show(c){if(!this._config.isVisible)return void Js(c);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Js(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Js(c)})):Js(c)}dispose(){this._isAppended&&(Zt.off(this._element,zu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=Gi(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),Zt.on(c,zu,()=>{Js(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){Iu(c,this._getElement(),this._config.isAnimated)}}const Ca=".bs.focustrap",qc=`focusin${Ca}`,Ud=`keydown.tab${Ca}`,yl="backward",zh={autofocus:!0,trapElement:null},Wu={autofocus:"boolean",trapElement:"element"};class jd extends Ea{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zh}static get DefaultType(){return Wu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Zt.off(document,Ca),Zt.on(document,qc,c=>this._handleFocusin(c)),Zt.on(document,Ud,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Zt.off(document,Ca))}_handleFocusin(c){const{trapElement:a}=this._config;if(c.target===document||c.target===a||a.contains(c.target))return;const g=Bn.focusableChildren(a);0===g.length?a.focus():this._lastTabNavDirection===yl?g[g.length-1].focus():g[0].focus()}_handleKeydown(c){"Tab"===c.key&&(this._lastTabNavDirection=c.shiftKey?yl:"forward")}}const Wh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yc=".sticky-top",Ll="padding-right",Bd="margin-right";class Xc{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ll,a=>a+c),this._setElementAttributes(Wh,Ll,a=>a+c),this._setElementAttributes(Yc,Bd,a=>a-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ll),this._resetElementAttributes(Wh,Ll),this._resetElementAttributes(Yc,Bd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,a,g){const b=this.getWidth();this._applyManipulationCallback(c,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+b)return;this._saveInitialAttribute(z,a);const oe=window.getComputedStyle(z).getPropertyValue(a);z.style.setProperty(a,`${g(Number.parseFloat(oe))}px`)})}_saveInitialAttribute(c,a){const g=c.style.getPropertyValue(a);g&&Si.setDataAttribute(c,a,g)}_resetElementAttributes(c,a){this._applyManipulationCallback(c,b=>{const k=Si.getDataAttribute(b,a);null!==k?(Si.removeDataAttribute(b,a),b.style.setProperty(a,k)):b.style.removeProperty(a)})}_applyManipulationCallback(c,a){if(ds(c))a(c);else for(const g of Bn.find(c,this._element))a(g)}}const zs=".bs.modal",v=`hide${zs}`,R=`hidePrevented${zs}`,J=`hidden${zs}`,ge=`show${zs}`,Xe=`shown${zs}`,Rt=`resize${zs}`,zt=`click.dismiss${zs}`,Dn=`mousedown.dismiss${zs}`,Sn=`keydown.dismiss${zs}`,Qr=`click${zs}.data-api`,vo="modal-open",Qc="modal-static",zd={backdrop:!0,focus:!0,keyboard:!0},Pg={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class la extends Ut{constructor(c,a){super(c,a),this._dialog=Bn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Xc,this._addEventListeners()}static get Default(){return zd}static get DefaultType(){return Pg}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||Zt.trigger(this._element,ge,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){!this._isShown||this._isTransitioning||Zt.trigger(this._element,v).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Zt.off(window,zs),Zt.off(this._dialog,zs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ip({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new jd({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=Bn.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Zt.trigger(this._element,Xe,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){Zt.on(this._element,Sn,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Zt.on(window,Rt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Zt.on(this._element,Dn,c=>{Zt.one(this._element,zt,a=>{if(this._element===c.target&&this._element===a.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vo),this._resetAdjustments(),this._scrollBar.reset(),Zt.trigger(this._element,J)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Zt.trigger(this._element,R).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;"hidden"===g||this._element.classList.contains(Qc)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(Qc),this._queueCallback(()=>{this._element.classList.remove(Qc),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),g=a>0;if(g&&!c){const b=$s()?"paddingLeft":"paddingRight";this._element.style[b]=`${a}px`}if(!g&&c){const b=$s()?"paddingRight":"paddingLeft";this._element.style[b]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,a){return this.each(function(){const g=la.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof g[c]>"u")throw new TypeError(`No method named "${c}"`);g[c](a)}})}}Zt.on(document,Qr,'[data-bs-toggle="modal"]',function(p){const c=Bn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),Zt.one(c,ge,b=>{b.defaultPrevented||Zt.one(c,J,()=>{no(this)&&this.focus()})});const a=Bn.findOne(".modal.show");a&&la.getInstance(a).hide(),la.getOrCreateInstance(c).toggle(this)}),Yi(la),Ui(la);const ca=".bs.offcanvas",Ku=".data-api",hc=`load${ca}${Ku}`,qh="showing",ap=".offcanvas.show",r_=`show${ca}`,qd=`shown${ca}`,lp=`hide${ca}`,qu=`hidePrevented${ca}`,i_=`hidden${ca}`,xg=`resize${ca}`,Fy=`click${ca}${Ku}`,cp=`keydown.dismiss${ca}`,Mg={backdrop:!0,keyboard:!0,scroll:!1},s_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Aa extends Ut{constructor(c,a){super(c,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Mg}static get DefaultType(){return s_}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||Zt.trigger(this._element,r_,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Xc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qh),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(qh),Zt.trigger(this._element,qd,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&!Zt.trigger(this._element,lp).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Xc).reset(),Zt.trigger(this._element,i_)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new ip({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{"static"!==this._config.backdrop?this.hide():Zt.trigger(this._element,qu)}:null})}_initializeFocusTrap(){return new jd({trapElement:this._element})}_addEventListeners(){Zt.on(this._element,cp,c=>{if("Escape"===c.key){if(this._config.keyboard)return void this.hide();Zt.trigger(this._element,qu)}})}static jQueryInterface(c){return this.each(function(){const a=Aa.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c](this)}})}}Zt.on(document,Fy,'[data-bs-toggle="offcanvas"]',function(p){const c=Bn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),qi(this))return;Zt.one(c,i_,()=>{no(this)&&this.focus()});const a=Bn.findOne(ap);a&&a!==c&&Aa.getInstance(a).hide(),Aa.getOrCreateInstance(c).toggle(this)}),Zt.on(window,hc,()=>{for(const p of Bn.find(ap))Aa.getOrCreateInstance(p).show()}),Zt.on(window,xg,()=>{for(const p of Bn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&Aa.getOrCreateInstance(p).hide()}),Yi(Aa),Ui(Aa);const o_={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ky=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Xo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,up=(p,c)=>{const a=p.nodeName.toLowerCase();return c.includes(a)?!ky.has(a)||!!Xo.test(p.nodeValue):c.filter(g=>g instanceof RegExp).some(g=>g.test(a))},ko={allowList:o_,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},l_={entry:"(string|element|function|null)",selector:"(string|element)"};class dp extends Ea{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return ko}static get DefaultType(){return Yu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[b,k]of Object.entries(this._config.content))this._setContent(c,k,b);const a=c.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&a.classList.add(...g.split(" ")),a}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[a,g]of Object.entries(c))super._typeCheckConfig({selector:a,entry:g},l_)}_setContent(c,a,g){const b=Bn.findOne(g,c);if(b){if(!(a=this._resolvePossibleFunction(a)))return void b.remove();if(ds(a))return void this._putElementInTemplate(Gi(a),b);if(this._config.html)return void(b.innerHTML=this._maybeSanitize(a));b.textContent=a}}_maybeSanitize(c){return this._config.sanitize?function a_(p,c,a){if(!p.length)return p;if(a&&"function"==typeof a)return a(p);const b=(new window.DOMParser).parseFromString(p,"text/html"),k=[].concat(...b.body.querySelectorAll("*"));for(const z of k){const oe=z.nodeName.toLowerCase();if(!Object.keys(c).includes(oe)){z.remove();continue}const _e=[].concat(...z.attributes),Ge=[].concat(c["*"]||[],c[oe]||[]);for(const gt of _e)up(gt,Ge)||z.removeAttribute(gt.nodeName)}return b.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return Js(c,[this])}_putElementInTemplate(c,a){if(this._config.html)return a.innerHTML="",void a.append(c);a.textContent=c.textContent}}const hp=new Set(["sanitize","allowList","sanitizeFn"]),fp="fade",Xd="show",fc="hide.bs.modal",pc="hover",jl="focus",kg={AUTO:"auto",TOP:"top",RIGHT:$s()?"left":"right",BOTTOM:"bottom",LEFT:$s()?"right":"left"},Lg={allowList:o_,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},u_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zc extends Ut{constructor(c,a){if(typeof s>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Lg}static get DefaultType(){return u_}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Zt.off(this._element.closest(".modal"),fc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=Zt.trigger(this._element,this.constructor.eventName("show")),g=(Ro(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!g)return;this._disposePopper();const b=this._getTipElement();this._element.setAttribute("aria-describedby",b.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(b),Zt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(b),b.classList.add(Xd),"ontouchstart"in document.documentElement)for(const oe of[].concat(...document.body.children))Zt.on(oe,"mouseover",rs);this._queueCallback(()=>{Zt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Zt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Xd),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))Zt.off(b,"mouseover",rs);this._activeTrigger.click=!1,this._activeTrigger[jl]=!1,this._activeTrigger[pc]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Zt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const a=this._getTemplateFactory(c).toHtml();if(!a)return null;a.classList.remove(fp,Xd),a.classList.add(`bs-${this.constructor.NAME}-auto`);const g=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return a.setAttribute("id",g),this._isAnimated()&&a.classList.add(fp),a}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new dp({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(fp)}_isShown(){return this.tip&&this.tip.classList.contains(Xd)}_createPopper(c){const a=Js(this._config.placement,[this,c,this._element]),g=kg[a.toUpperCase()];return $(this._element,c,this._getPopperConfig(g))}_getOffset(){const{offset:c}=this._config;return"string"==typeof c?c.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof c?a=>c(a,this._element):c}_resolvePossibleFunction(c){return Js(c,[this._element])}_getPopperConfig(c){const a={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...a,...Js(this._config.popperConfig,[a])}}_setListeners(){const c=this._config.trigger.split(" ");for(const a of c)if("click"===a)Zt.on(this._element,this.constructor.eventName("click"),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if("manual"!==a){const g=this.constructor.eventName(a===pc?"mouseenter":"focusin"),b=this.constructor.eventName(a===pc?"mouseleave":"focusout");Zt.on(this._element,g,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusin"===k.type?jl:pc]=!0,z._enter()}),Zt.on(this._element,b,this._config.selector,k=>{const z=this._initializeOnDelegatedTarget(k);z._activeTrigger["focusout"===k.type?jl:pc]=z._element.contains(k.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Zt.on(this._element.closest(".modal"),fc,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,a){clearTimeout(this._timeout),this._timeout=setTimeout(c,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const a=Si.getDataAttributes(this._element);for(const g of Object.keys(a))hp.has(g)&&delete a[g];return c={...a,..."object"==typeof c&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=!1===c.container?document.body:Gi(c.container),"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),"number"==typeof c.title&&(c.title=c.title.toString()),"number"==typeof c.content&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[a,g]of Object.entries(this._config))this.constructor.Default[a]!==g&&(c[a]=g);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const a=Zc.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}}Ui(Zc);const Qh={...Zc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},vp={...Zc.DefaultType,content:"(null|string|element|function)"};class th extends Zc{static get Default(){return Qh}static get DefaultType(){return vp}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const a=th.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c]()}})}}Ui(th);const Jh=".bs.scrollspy",Qu=`activate${Jh}`,Zh=`click${Jh}`,g_=`load${Jh}.data-api`,nh="active",ef="[href]",Ug=".nav-link",bp=`${Ug}, .nav-item > ${Ug}, .list-group-item`,Bg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tf={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class eu extends Ut{constructor(c,a){super(c,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Bg}static get DefaultType(){return tf}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=Gi(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,"string"==typeof c.threshold&&(c.threshold=c.threshold.split(",").map(a=>Number.parseFloat(a))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Zt.off(this._config.target,Zh),Zt.on(this._config.target,Zh,ef,c=>{const a=this._observableSections.get(c.target.hash);if(a){c.preventDefault();const g=this._rootElement||window,b=a.offsetTop-this._element.offsetTop;if(g.scrollTo)return void g.scrollTo({top:b,behavior:"smooth"});g.scrollTop=b}}))}_getNewObserver(){return new IntersectionObserver(a=>this._observerCallback(a),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(c){const a=z=>this._targetLinks.get(`#${z.target.id}`),g=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(a(z))},b=(this._rootElement||document.documentElement).scrollTop,k=b>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=b;for(const z of c){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(z));continue}const oe=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&oe){if(g(z),!b)return}else!k&&!oe&&g(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=Bn.find(ef,this._config.target);for(const a of c){if(!a.hash||qi(a))continue;const g=Bn.findOne(decodeURI(a.hash),this._element);no(g)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,g))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(nh),this._activateParents(c),Zt.trigger(this._element,Qu,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))Bn.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(nh);else for(const a of Bn.parents(c,".nav, .list-group"))for(const g of Bn.prev(a,bp))g.classList.add(nh)}_clearActiveClass(c){c.classList.remove(nh);const a=Bn.find(`${ef}.${nh}`,c);for(const g of a)g.classList.remove(nh)}static jQueryInterface(c){return this.each(function(){const a=eu.getOrCreateInstance(this,c);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}})}}Zt.on(window,g_,()=>{for(const p of Bn.find('[data-bs-spy="scroll"]'))eu.getOrCreateInstance(p)}),Ui(eu);const vl=".bs.tab",$g=`hide${vl}`,y_=`hidden${vl}`,Gg=`show${vl}`,jy=`shown${vl}`,Hg=`click${vl}`,Cp=`keydown${vl}`,wp=`load${vl}`,gc="ArrowLeft",nf="ArrowRight",tu="ArrowUp",v_="ArrowDown",rf="Home",mc="End",_c="active",sf="show",af=".dropdown-toggle",Dp=`:not(${af})`,b_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',cf=`.nav-link${Dp}, .list-group-item${Dp}, [role="tab"]${Dp}, ${b_}`,T_=`.${_c}[data-bs-toggle="tab"], .${_c}[data-bs-toggle="pill"], .${_c}[data-bs-toggle="list"]`;class nu extends Ut{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Zt.on(this._element,Cp,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const a=this._getActiveElem(),g=a?Zt.trigger(a,$g,{relatedTarget:c}):null;Zt.trigger(c,Gg,{relatedTarget:a}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(a,c),this._activate(c,a))}_activate(c,a){c&&(c.classList.add(_c),this._activate(Bn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),Zt.trigger(c,jy,{relatedTarget:a})):c.classList.add(sf)},c,c.classList.contains("fade")))}_deactivate(c,a){c&&(c.classList.remove(_c),c.blur(),this._deactivate(Bn.getElementFromSelector(c)),this._queueCallback(()=>{"tab"===c.getAttribute("role")?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),Zt.trigger(c,y_,{relatedTarget:a})):c.classList.remove(sf)},c,c.classList.contains("fade")))}_keydown(c){if(![gc,nf,tu,v_,rf,mc].includes(c.key))return;c.stopPropagation(),c.preventDefault();const a=this._getChildren().filter(b=>!qi(b));let g;if([rf,mc].includes(c.key))g=a[c.key===rf?0:a.length-1];else{const b=[nf,v_].includes(c.key);g=ol(a,c.target,b,!0)}g&&(g.focus({preventScroll:!0}),nu.getOrCreateInstance(g).show())}_getChildren(){return Bn.find(cf,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,a){this._setAttributeIfNotExists(c,"role","tablist");for(const g of a)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const a=this._elemIsActive(c),g=this._getOuterElement(c);c.setAttribute("aria-selected",a),g!==c&&this._setAttributeIfNotExists(g,"role","presentation"),a||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const a=Bn.getElementFromSelector(c);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,a){const g=this._getOuterElement(c);if(!g.classList.contains("dropdown"))return;const b=(k,z)=>{const oe=Bn.findOne(k,g);oe&&oe.classList.toggle(z,a)};b(af,_c),b(".dropdown-menu",sf),g.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(c,a,g){c.hasAttribute(a)||c.setAttribute(a,g)}_elemIsActive(c){return c.classList.contains(_c)}_getInnerElement(c){return c.matches(cf)?c:Bn.findOne(cf,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const a=nu.getOrCreateInstance(this);if("string"==typeof c){if(void 0===a[c]||c.startsWith("_")||"constructor"===c)throw new TypeError(`No method named "${c}"`);a[c]()}})}}Zt.on(document,Hg,b_,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!qi(this)&&nu.getOrCreateInstance(this).show()}),Zt.on(window,wp,()=>{for(const p of Bn.find(T_))nu.getOrCreateInstance(p)}),Ui(nu);const Da=".bs.toast",zg=`mouseover${Da}`,By=`mouseout${Da}`,Wg=`focusin${Da}`,Rp=`focusout${Da}`,Kg=`hide${Da}`,$y=`hidden${Da}`,Zu=`show${Da}`,Gy=`shown${Da}`,vc="show",iu="showing",qa={animation:"boolean",autohide:"boolean",delay:"number"},uf={animation:!0,autohide:!0,delay:5e3};class df extends Ut{constructor(c,a){super(c,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return uf}static get DefaultType(){return qa}static get NAME(){return"toast"}show(){Zt.trigger(this._element,Zu).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(vc,iu),this._queueCallback(()=>{this._element.classList.remove(iu),Zt.trigger(this._element,Gy),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Zt.trigger(this._element,Kg).defaultPrevented&&(this._element.classList.add(iu),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(iu,vc),Zt.trigger(this._element,$y)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(vc),super.dispose()}isShown(){return this._element.classList.contains(vc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,a){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const g=c.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){Zt.on(this._element,zg,c=>this._onInteraction(c,!0)),Zt.on(this._element,By,c=>this._onInteraction(c,!1)),Zt.on(this._element,Wg,c=>this._onInteraction(c,!0)),Zt.on(this._element,Rp,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const a=df.getOrCreateInstance(this,c);if("string"==typeof c){if(typeof a[c]>"u")throw new TypeError(`No method named "${c}"`);a[c](this)}})}}Yi(df),Ui(df);let Xg=(()=>{class p{constructor(a){this.http=a,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(a){return this.http.post(this.emailEndpoint,a)}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(Me))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var yi=L(4341);let C_=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(g,b){1&g&&(r.j41(0,"section",0)(1,"div",1)(2,"div",2),r.nrm(3,"i",3),r.j41(4,"p"),r.EFF(5),r.k0s()(),r.j41(6,"div",2),r.nrm(7,"i",4),r.j41(8,"p"),r.EFF(9),r.k0s()(),r.j41(10,"div",2),r.nrm(11,"i",5),r.j41(12,"p"),r.EFF(13),r.k0s()()()()),2&g&&(r.R7$(5),r.JRh(b.phoneNumber),r.R7$(4),r.JRh(b.address),r.R7$(4),r.JRh(b.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var w_=L(3711),A_=L(3095);let hf=(()=>{class p{transform(a){if(!a)return"";let g=a.toString().replace(/\D/g,"");return 10!==g.length?a.toString():`${g.slice(0,3)}.${g.slice(3,6)}.${g.slice(6)}`}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275pipe=r.EJ8({name:"phoneFormat",type:p,pure:!0})}}return p})();function ff(p,c){if(1&p&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&p){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function D_(p,c){if(1&p&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function Qg(p,c){if(1&p&&(r.j41(0,"div",22)(1,"h3"),r.EFF(2,"Social Media"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&p){const a=r.XpG(3);r.R7$(4),r.FS9("href",a.business.socialMedia,r.B4B),r.R7$(1),r.JRh(a.business.socialMedia)}}function Pp(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"div",13)(2,"div",14)(3,"h1"),r.EFF(4,"Contact Us"),r.k0s(),r.j41(5,"div",15)(6,"p"),r.EFF(7,"We're here to answer any questions you have"),r.k0s()()()(),r.j41(8,"div",16)(9,"section",17)(10,"div",18),r.EFF(11,"Get in Touch"),r.k0s(),r.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),r.EFF(17,"Address"),r.k0s(),r.j41(18,"p"),r.EFF(19),r.k0s()(),r.j41(20,"div",22)(21,"h3"),r.EFF(22,"Phone"),r.k0s(),r.j41(23,"p"),r.EFF(24),r.nI1(25,"phoneFormat"),r.k0s()(),r.DNE(26,ff,6,2,"div",23),r.DNE(27,D_,6,3,"div",23),r.DNE(28,Qg,6,2,"div",23),r.j41(29,"div")(30,"h3"),r.EFF(31,"Visitation Hours"),r.k0s(),r.nrm(32,"div",24),r.k0s()()(),r.j41(33,"div",25)(34,"div",26),r.nrm(35,"img",27),r.k0s()()()(),r.j41(36,"section",28)(37,"div",18),r.EFF(38,"Send Us a Message"),r.k0s(),r.j41(39,"div",29)(40,"div",30)(41,"div",31)(42,"h2",32),r.EFF(43,"How can we help?"),r.k0s(),r.j41(44,"p",33),r.EFF(45," Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help. "),r.k0s()()(),r.j41(46,"div",34)(47,"form",35,36),r.bIt("ngSubmit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(49,"div",37)(50,"label",38),r.EFF(51,"Name"),r.j41(52,"span"),r.EFF(53,"*"),r.k0s()(),r.j41(54,"input",39),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=b)}),r.k0s()(),r.j41(55,"div",37)(56,"label",40),r.EFF(57,"Email"),r.j41(58,"span"),r.EFF(59,"*"),r.k0s()(),r.j41(60,"input",41),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=b)}),r.k0s()(),r.j41(61,"div",37)(62,"label",42),r.EFF(63,"Phone "),r.j41(64,"span"),r.EFF(65,"*"),r.k0s()(),r.j41(66,"input",43),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=b)}),r.k0s()(),r.j41(67,"div",37)(68,"label",44),r.EFF(69,"Message"),r.j41(70,"span"),r.EFF(71,"*"),r.k0s()(),r.j41(72,"textarea",45),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=b)}),r.k0s()(),r.j41(73,"button",46),r.EFF(74," Send "),r.k0s()()()()(),r.nrm(75,"app-information",47),r.nI1(76,"phoneFormat"),r.nrm(77,"app-google-maps",48),r.k0s(),r.nrm(78,"app-faq"),r.bVm()}if(2&p){const a=r.sdS(48),g=r.XpG(2);r.R7$(19),r.LHq("",null==g.location?null:g.location.street,", ",null==g.location?null:g.location.city,", ",null==g.location?null:g.location.state," ",null==g.location?null:g.location.zipcode,""),r.R7$(5),r.JRh(r.bMT(25,20,null==g.location?null:g.location.phone)),r.R7$(2),r.Y8G("ngIf",g.business.email),r.R7$(1),r.Y8G("ngIf",null==g.location?null:g.location.fax),r.R7$(1),r.Y8G("ngIf",g.business.socialMedia),r.R7$(4),r.Y8G("innerHTML",g.sanitizedBusinessHours,r.npT),r.R7$(3),r.Y8G("src",g.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",r.B4B),r.R7$(19),r.Y8G("ngModel",g.formData.name),r.R7$(6),r.Y8G("ngModel",g.formData.email),r.R7$(6),r.Y8G("ngModel",g.formData.phone),r.R7$(6),r.Y8G("ngModel",g.formData.message),r.R7$(1),r.Y8G("disabled",!a.form.valid),r.R7$(2),r.Y8G("phoneNumber",r.bMT(76,22,null==g.location?null:g.location.phone)||"")("address",g.formattedAddress)("email",(null==g.location?null:g.location.email)||""),r.R7$(2),r.Y8G("address",g.formattedAddress||"")("layoutType",g.business.theme.themeType||"demo")}}function S_(p,c){if(1&p&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&p){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function sh(p,c){if(1&p&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function R_(p,c){if(1&p&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function Jg(p,c){if(1&p){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=b)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=b)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=b)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=b)}),r.k0s()(),r.j41(30,"button",59),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,S_,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,sh,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,R_,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&p){const a=r.XpG(2);r.R7$(11),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(5),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.zipcode," ",null==a.location?null:a.location.city,""),r.R7$(2),r.SpI(" ",null==a.location?null:a.location.state,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Zg(p,c){if(1&p&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Email"),r.k0s(),r.j41(3,"p")(4,"a",49),r.EFF(5),r.k0s()()()),2&p){const a=r.XpG(3);r.R7$(4),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function Ec(p,c){if(1&p&&(r.j41(0,"div",62)(1,"h4"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function xp(p,c){if(1&p&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function em(p,c){if(1&p){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",51)(4,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(5,"div",37)(6,"label",53),r.EFF(7,"Name "),r.j41(8,"span"),r.EFF(9,"(required)"),r.k0s()(),r.j41(10,"div",54)(11,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=b)}),r.k0s()()(),r.j41(12,"div",37)(13,"label",40),r.EFF(14,"Email "),r.j41(15,"span"),r.EFF(16,"(required)"),r.k0s()(),r.j41(17,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=b)}),r.k0s()(),r.j41(18,"div",37)(19,"label",42),r.EFF(20,"Phone "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=b)}),r.k0s()(),r.j41(24,"div",37)(25,"label",44),r.EFF(26,"Message "),r.j41(27,"span"),r.EFF(28,"(required)"),r.k0s()(),r.j41(29,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=b)}),r.k0s()(),r.j41(30,"button",68),r.EFF(31,"Send"),r.k0s()()(),r.j41(32,"div",60)(33,"h2"),r.EFF(34,"Let's Talk"),r.k0s(),r.DNE(35,Zg,6,2,"div",61),r.j41(36,"div",62)(37,"h4"),r.EFF(38,"Phone"),r.k0s(),r.j41(39,"p"),r.EFF(40),r.nI1(41,"phoneFormat"),r.k0s()(),r.DNE(42,Ec,6,3,"div",61),r.j41(43,"div",62)(44,"h4"),r.EFF(45,"Address"),r.k0s(),r.j41(46,"p"),r.EFF(47),r.nrm(48,"br"),r.EFF(49),r.nrm(50,"br"),r.EFF(51),r.k0s()(),r.DNE(52,xp,3,1,"div",63),r.k0s()(),r.j41(53,"div",50)(54,"div",60)(55,"h2"),r.EFF(56,"Visitation Hours"),r.k0s(),r.nrm(57,"p",24),r.k0s(),r.j41(58,"div",64),r.nrm(59,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&p){const a=r.XpG(2);r.R7$(11),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(5),r.JRh(r.bMT(41,15,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(5),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.zipcode," ",null==a.location?null:a.location.city,""),r.R7$(2),r.SpI(" ",null==a.location?null:a.location.state,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(5),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Hy(p,c){if(1&p&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&p){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function ed(p,c){if(1&p&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function tm(p,c){if(1&p&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function zy(p,c){if(1&p){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero",69),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Hy,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,ed,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.nrm(15,"br"),r.EFF(16),r.nrm(17,"br"),r.EFF(18),r.k0s()(),r.DNE(19,tm,3,1,"div",63),r.k0s(),r.j41(20,"div",51)(21,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(22,"div",37)(23,"label",53),r.EFF(24,"Name "),r.j41(25,"span"),r.EFF(26,"(required)"),r.k0s()(),r.j41(27,"div",54)(28,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=b)}),r.k0s()()(),r.j41(29,"div",37)(30,"label",40),r.EFF(31,"Email "),r.j41(32,"span"),r.EFF(33,"(required)"),r.k0s()(),r.j41(34,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=b)}),r.k0s()(),r.j41(35,"div",37)(36,"label",42),r.EFF(37,"Phone "),r.j41(38,"span"),r.EFF(39,"(required)"),r.k0s()(),r.j41(40,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=b)}),r.k0s()(),r.j41(41,"div",37)(42,"label",44),r.EFF(43,"Message "),r.j41(44,"span"),r.EFF(45,"(required)"),r.k0s()(),r.j41(46,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=b)}),r.k0s()(),r.j41(47,"button",70),r.EFF(48,"Send"),r.k0s()()()(),r.j41(49,"div",50)(50,"div",60)(51,"div")(52,"h2"),r.EFF(53,"Hours"),r.k0s(),r.nrm(54,"div",24),r.k0s()(),r.j41(55,"div",64),r.nrm(56,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&p){const a=r.XpG(2);r.R7$(1),r.Y8G("layoutType","sb"),r.R7$(5),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.JRh(null==a.location?null:a.location.street),r.R7$(2),r.JRh(null==a.location?null:a.location.city),r.R7$(2),r.Lme(" ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Mp(p,c){if(1&p&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&p){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function P_(p,c){if(1&p&&(r.j41(0,"div",62)(1,"p"),r.EFF(2),r.nI1(3,"phoneFormat"),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(2),r.JRh(r.bMT(3,1,null==a.location?null:a.location.fax))}}function Wy(p,c){if(1&p&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function Ky(p,c){if(1&p){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero",69),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,Mp,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,P_,4,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,Wy,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=b)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=b)}),r.k0s()(),r.j41(31,"div",37)(32,"label",42),r.EFF(33,"Phone "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"input",57),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.phone=b)}),r.k0s()(),r.j41(37,"div",37)(38,"label",44),r.EFF(39,"Message "),r.j41(40,"span"),r.EFF(41,"(required)"),r.k0s()(),r.j41(42,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=b)}),r.k0s()(),r.j41(43,"button",70),r.EFF(44,"Send"),r.k0s()()()(),r.j41(45,"div",50)(46,"div",60)(47,"div")(48,"h2"),r.EFF(49,"Hours"),r.k0s(),r.nrm(50,"div",24),r.k0s()(),r.j41(51,"div",64),r.nrm(52,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&p){const a=r.XpG(2);r.R7$(1),r.Y8G("layoutType","prestige"),r.R7$(5),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,16,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.LHq("",null==a.location?null:a.location.street,", ",null==a.location?null:a.location.city,", ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.phone),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function qy(p,c){if(1&p&&(r.j41(0,"div",62)(1,"p")(2,"a",49),r.EFF(3),r.k0s()()()),2&p){const a=r.XpG(3);r.R7$(2),r.Mz_("href","mailto:",null==a.location?null:a.location.email,"",r.B4B),r.R7$(1),r.JRh(null==a.location?null:a.location.email)}}function Yy(p,c){if(1&p&&(r.j41(0,"div",62)(1,"h3"),r.EFF(2,"Fax"),r.k0s(),r.j41(3,"p"),r.EFF(4),r.nI1(5,"phoneFormat"),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(4),r.JRh(r.bMT(5,1,null==a.location?null:a.location.fax))}}function x_(p,c){if(1&p&&(r.j41(0,"div",65)(1,"a",66),r.nrm(2,"i",67),r.k0s()()),2&p){const a=r.XpG(3);r.R7$(1),r.FS9("href",a.business.socialMedia,r.B4B)}}function _E(p,c){if(1&p){const a=r.RV6();r.qex(0),r.nrm(1,"app-hero"),r.j41(2,"div",50)(3,"div",60)(4,"h2"),r.EFF(5,"Contact us"),r.k0s(),r.DNE(6,qy,4,2,"div",61),r.j41(7,"div",62)(8,"p"),r.EFF(9),r.nI1(10,"phoneFormat"),r.k0s()(),r.DNE(11,Yy,6,3,"div",61),r.j41(12,"div",62)(13,"p"),r.EFF(14),r.k0s()(),r.DNE(15,x_,3,1,"div",63),r.k0s(),r.j41(16,"div",51)(17,"form",52),r.bIt("submit",function(){r.eBV(a);const b=r.XpG(2);return r.Njj(b.onSubmit())}),r.j41(18,"div",37)(19,"label",53),r.EFF(20,"Name "),r.j41(21,"span"),r.EFF(22,"(required)"),r.k0s()(),r.j41(23,"div",54)(24,"input",55),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.name=b)}),r.k0s()()(),r.j41(25,"div",37)(26,"label",40),r.EFF(27,"Email "),r.j41(28,"span"),r.EFF(29,"(required)"),r.k0s()(),r.j41(30,"input",56),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.email=b)}),r.k0s()(),r.j41(31,"div",37)(32,"label",44),r.EFF(33,"Message "),r.j41(34,"span"),r.EFF(35,"(required)"),r.k0s()(),r.j41(36,"textarea",58),r.bIt("ngModelChange",function(b){r.eBV(a);const k=r.XpG(2);return r.Njj(k.formData.message=b)}),r.k0s()(),r.j41(37,"button",59),r.EFF(38,"Send"),r.k0s()()()(),r.j41(39,"div",50)(40,"div",60)(41,"div")(42,"h2"),r.EFF(43,"Visitation Hours"),r.k0s(),r.nrm(44,"div",24),r.k0s()(),r.j41(45,"div",64),r.nrm(46,"app-google-maps",48),r.k0s()(),r.bVm()}if(2&p){const a=r.XpG(2);r.R7$(6),r.Y8G("ngIf",null==a.location?null:a.location.email),r.R7$(3),r.JRh(r.bMT(10,14,null==a.location?null:a.location.phone)),r.R7$(2),r.Y8G("ngIf",null==a.location?null:a.location.fax),r.R7$(3),r.LHq("",null==a.location?null:a.location.street,", ",null==a.location?null:a.location.city,", ",null==a.location?null:a.location.state," ",null==a.location?null:a.location.zipcode,""),r.R7$(1),r.Y8G("ngIf",a.business.socialMedia),r.R7$(9),r.Y8G("ngModel",a.formData.name),r.R7$(6),r.Y8G("ngModel",a.formData.email),r.R7$(6),r.Y8G("ngModel",a.formData.message),r.R7$(8),r.Y8G("innerHTML",a.sanitizedBusinessHours,r.npT),r.R7$(2),r.Y8G("address",a.formattedAddress||"")("layoutType",a.business.theme.themeType||"demo")}}function Xy(p,c){if(1&p&&(r.j41(0,"div")(1,"div",1),r.DNE(2,Pp,79,24,"ng-container",2),r.DNE(3,Jg,60,17,"ng-container",2),r.DNE(4,em,60,17,"ng-container",2),r.DNE(5,zy,57,18,"ng-container",2),r.DNE(6,Ky,53,18,"ng-container",2),r.DNE(7,_E,47,16,"ng-container",3),r.k0s(),r.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5",8),r.EFF(13),r.k0s(),r.nrm(14,"button",9),r.k0s(),r.j41(15,"div",10),r.EFF(16),r.k0s(),r.j41(17,"div",11)(18,"button",12),r.EFF(19," Close "),r.k0s()()()()()()),2&p){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(7),r.JRh(a.modalTitle),r.R7$(3),r.SpI(" ",a.modalMessage," ")}}let oh=(()=>{class p{constructor(a,g,b,k,z,oe,_e,Ge){this.sanitizer=a,this.businessDataService=g,this.webContent=b,this.route=k,this.http=z,this.emailService=oe,this.router=_e,this.metaService=Ge,this.business=null,this.location=null,this.layoutType="demo",this.formData={name:"",email:"",phone:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business?.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{a&&(this.business=a,this.businessDataService.getLocations().subscribe(g=>{g.length>0?(this.location=g[0],console.log("\u{1f4cd} Updated Location [0]:",this.location)):(console.warn("\u26a0\ufe0f No locations available."),this.location=null)}),a?.id&&(this.metaService.loadAndApplyMeta(a.id),this.layoutType=a.theme?.themeType||"demo"))})}ngAfterViewInit(){setTimeout(()=>{const a=document.getElementById("responseModal");a?this.responseModal=new la(a):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(a=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},a=>{console.error("Error sending email",a),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(a){const g=a.split(".");return g.length>2?g.slice(-2).join("."):a}get formattedAddress(){return[this.location?.street,this.location?.city,this.location?.state,this.location?.zipcode].filter(a=>a).join(" ")}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ce.up),r.rXU(xt.A),r.rXU(Vn.N),r.rXU(ir.nX),r.rXU(Me),r.rXU(Xg),r.rXU(ir.Ix),r.rXU(at.R))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","phone"],["type","phone","id","phone","required","","name","phone","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["type","phone","id","phone","required","","name","phone","placeholder","Phone","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"],["type","submit",1,"btn"],[3,"layoutType"],["type","submit",1,"btnSBSend"]],template:function(g,b){1&g&&r.DNE(0,Xy,20,8,"div",0),2&g&&r.Y8G("ngIf",b.business)},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,yi.qT,yi.me,yi.BC,yi.cb,yi.YS,yi.vS,yi.cV,C_,dr,w_.a,A_.C,hf],styles:[".source-indicator[_ngcontent-%COMP%]{font-size:12px;color:#777;font-style:italic;margin-top:2px;display:block}"]})}}return p})();var td=L(467);const nm=["dynamicContainer"],rm=["ctaContainer"];function Op(p,c){1&p&&(r.qex(0),r.j41(1,"div",10)(2,"div",11)(3,"h1"),r.EFF(4,"Our Home"),r.k0s(),r.j41(5,"div",12)(6,"p"),r.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),r.k0s()()()(),r.bVm())}function ah(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","sb"))}function li(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","ae"))}function im(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","clemo"))}function sm(p,c){1&p&&(r.qex(0),r.nrm(1,"app-hero",13),r.bVm()),2&p&&(r.R7$(1),r.Y8G("layoutType","prestige"))}function su(p,c){if(1&p){const a=r.RV6();r.j41(0,"div",14),r.bIt("click",function(){const k=r.eBV(a).$implicit,z=r.XpG(2);return r.Njj(z.onImageClick(k.url))}),r.nrm(1,"img",15),r.j41(2,"div",16)(3,"h3"),r.EFF(4),r.k0s(),r.j41(5,"p"),r.EFF(6),r.k0s()()()}if(2&p){const a=c.$implicit;r.R7$(1),r.Y8G("src",a.url,r.B4B),r.R7$(3),r.JRh(a.title),r.R7$(2),r.JRh(a.description)}}function Qy(p,c){if(1&p&&(r.j41(0,"div")(1,"div",2),r.DNE(2,Op,8,0,"ng-container",3),r.DNE(3,ah,2,1,"ng-container",3),r.DNE(4,li,2,1,"ng-container",3),r.DNE(5,im,2,1,"ng-container",3),r.DNE(6,sm,2,1,"ng-container",3),r.k0s(),r.eu8(7,null,4),r.j41(9,"section",5)(10,"div",6)(11,"h2"),r.EFF(12,"Explore Our Gallery"),r.k0s()(),r.j41(13,"div",7),r.DNE(14,su,7,3,"div",8),r.k0s()(),r.eu8(15,null,9),r.k0s()),2&p){const a=r.XpG();r.R7$(1),r.Y8G("ngSwitch",a.business.theme.themeType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(8),r.Y8G("ngForOf",a.images)}}function io(p,c){if(1&p){const a=r.RV6();r.j41(0,"div",17),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.onCloseModal())}),r.j41(1,"div",18),r.bIt("click",function(b){return b.stopPropagation()}),r.j41(2,"button",19),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.onCloseModal())}),r.EFF(3,"\xd7"),r.k0s(),r.nrm(4,"img",20),r.k0s()()}if(2&p){const a=r.XpG();r.R7$(4),r.Y8G("src",a.selectedImageUrl,r.B4B)}}let ks=(()=>{class p{constructor(a,g,b,k,z,oe,_e,Ge){this.businessDataService=a,this.route=g,this.webContent=b,this.metaService=k,this.router=z,this.sectionService=oe,this.resolver=_e,this.injector=Ge,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.sections=[],this.selectedImageUrl=null,this.layoutType="demo",this.componentsMap={"center-text":Fi.W,"right-text":vs.F,"left-text":Es.G,"item-list":pi.j,cta:sr.j}}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.layoutType=a?.theme.themeType||"",a?.id&&(this.businessId=a.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId),this.loadSections())})}loadSections(){this.sectionService.getBusinessSections(this.businessId,"gallery").subscribe(a=>{a&&0!==a.length?(this.sections=a.filter(g=>!1!==g.isActive).sort((g,b)=>(g.order||0)-(b.order||0)),this.loadComponents(),this.loadCTAComponent()):console.warn("\u2757 No sections retrieved.")})}loadComponents(){this.container?(this.container.clear(),this.sections.length?this.sections.filter(g=>"cta"!==g.component).forEach(g=>{this.createDynamicComponent(g,this.container)}):console.warn("\u2757 No sections available to load.")):console.error("\u274c ViewContainerRef is undefined.")}loadCTAComponent(){if(!this.ctaContainer)return void console.error("\u274c CTA ViewContainerRef is undefined.");this.ctaContainer.clear();const a=this.sections.find(g=>"cta"===g.component);a?this.createDynamicComponent(a,this.ctaContainer):console.warn("\u2757 No CTA section found.")}createDynamicComponent(a,g){const b=this.componentsMap[a.component];if(!b)return void console.error("\u274c Component Not Found:",a.component);const k=this.resolver.resolveComponentFactory(b),z=g.createComponent(k,void 0,this.injector);Object.assign(z.instance,{title:this.applyReplaceKeyword(a.sectionTitle||""),subTitle:this.applyReplaceKeyword(a.sectionSubTitle||""),content:this.applyReplaceKeyword(a.sectionContent||""),imageURL:a.sectionImageUrl||"",showBtn:a.showLearnMore||!1,_businessName:this.business?.businessName||"",showImage:!!a.sectionImageUrl,themeType:this.business?.theme?.themeType,items:a.items||[],isMinimal:a.isMinimal||!1,isParallax:a.isParallax??!0,backgroundColor:a.backgroundColor||"#ffffff",textColor:a.textColor||"#000000",titleColor:a.titleColor||"#000000",subtitleColor:a.subtitleColor||"#000000",fullWidth:a.fullWidth||!1,showButton:a.showButton||!1,buttonText:a.buttonText||"Learn More",buttonLink:a.buttonLink||"",titleFontSize:a.titleFontSize||"36",subtitleFontSize:a.subtitleFontSize||"14",alignText:a.alignText||"left",boxShadow:a.boxShadow||!1,borderRadius:a.borderRadius??10,page:a.page,location:a.location})}applyReplaceKeyword(a){return a&&this.business?.businessName?a.replace(/{{\s*businessName\s*}}/g,this.business.businessName):a}loadImages(){var a=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:b,target:k})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,b).pipe((0,ie.n)(z=>{const oe=z.map(function(){var _e=(0,td.A)(function*(Ge){return(yield a.webContent.checkImageExists(Ge.url))?Ge:null});return function(Ge){return _e.apply(this,arguments)}}());return(0,fe.H)(Promise.all(oe))}),(0,xe.T)(z=>z.filter(oe=>null!==oe)),(0,xe.T)(z=>z.map(oe=>({url:oe.url,title:oe.title||"No Title",description:oe.description||"No Description",link:oe.link||"No Link",order:isNaN(Number(oe.order))?999:Number(oe.order)})).sort((oe,_e)=>oe.order-_e.order))).subscribe(z=>{this[k]||(this[k]=[]),this[k]=z})})}onImageClick(a){this.selectedImageUrl=a}closeLightbox(){this.selectedImageUrl=null}onCloseModal(){this.selectedImageUrl=null}navigateToContact(a){this.router.navigate(["/contact-us"],{queryParams:{id:a}})}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(xt.A),r.rXU(ir.nX),r.rXU(Vn.N),r.rXU(at.R),r.rXU(ir.Ix),r.rXU(Dt.W),r.rXU(r.OM3),r.rXU(r.zZn))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-photo-gallery"]],viewQuery:function(g,b){if(1&g&&(r.GBs(nm,5,r.c1b),r.GBs(rm,5,r.c1b)),2&g){let k;r.mGM(k=r.lsd())&&(b.container=k.first),r.mGM(k=r.lsd())&&(b.ctaContainer=k.first)}},inputs:{businessId:"businessId"},decls:2,vars:2,consts:[[4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["dynamicContainer",""],[1,"gallery"],[1,"section-heading"],[1,"gallery-grid"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],["ctaContainer",""],[1,"hero-about"],[1,"page-hero-overlay"],[1,"hero-subtitle"],[3,"layoutType"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[1,"gallery-item-overlay"],[1,"image-modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],["alt","Full Image",3,"src"]],template:function(g,b){1&g&&(r.DNE(0,Qy,17,7,"div",0),r.DNE(1,io,5,1,"div",1)),2&g&&(r.Y8G("ngIf",b.business),r.R7$(1),r.Y8G("ngIf",b.selectedImageUrl))},dependencies:[pe.Sq,pe.bT,pe.ux,pe.e1,dr],styles:[".gallery[_ngcontent-%COMP%]{padding:20px;max-width:var(--site-max-width);margin:0 auto}.section-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.gallery-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;box-shadow:0 4px 10px #0000001a;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.gallery-item-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:25%;background-color:#0003;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transform:translateY(10%);transition:opacity .3s ease,transform .3s ease;padding:10px}.gallery-item-overlay[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin:.5rem 0;text-align:center}.gallery-item-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.gallery-item[_ngcontent-%COMP%]:hover   .gallery-item-overlay[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;padding:1rem;border-radius:10px;max-width:90%;max-height:90%;box-shadow:0 0 20px #0000004d;overflow:hidden;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80vh}.close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.75rem;background:transparent;border:none;font-size:2rem;color:#333;cursor:pointer;font-weight:700;line-height:1;z-index:1001}.close-btn[_ngcontent-%COMP%]:hover{color:#000}@media (max-width: 600px){.gallery-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return p})();var Sa=L(4796);function M_(p,c){if(1&p&&(r.j41(0,"div",11),r.EFF(1),r.k0s()),2&p){const a=r.XpG();r.R7$(1),r.JRh(a.errorMessage)}}let om=(()=>{class p{constructor(a,g){this.authService=a,this.router=g,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(a=>{this.errorMessage=a.message})}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(Sa.u),r.rXU(ir.Ix))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(g,b){1&g&&(r.j41(0,"div",0)(1,"div",1)(2,"h2",2),r.EFF(3,"Login"),r.k0s(),r.j41(4,"form",3),r.bIt("submit",function(){return b.login()}),r.j41(5,"div",4)(6,"label",5),r.EFF(7,"Email"),r.k0s(),r.j41(8,"input",6),r.bIt("ngModelChange",function(z){return b.email=z}),r.k0s()(),r.j41(9,"div",4)(10,"label",7),r.EFF(11,"Password"),r.k0s(),r.j41(12,"input",8),r.bIt("ngModelChange",function(z){return b.password=z}),r.k0s()(),r.j41(13,"button",9),r.EFF(14,"Login"),r.k0s(),r.DNE(15,M_,2,1,"div",10),r.k0s()()()),2&g&&(r.R7$(8),r.Y8G("ngModel",b.email),r.R7$(4),r.Y8G("ngModel",b.password),r.R7$(3),r.Y8G("ngIf",b.errorMessage))},dependencies:[pe.bT,yi.qT,yi.me,yi.BC,yi.cb,yi.YS,yi.vS,yi.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var bc=L(6340);let Jy=(()=>{class p{constructor(a){this.afs=a,this.basePath="businesses"}saveIntakeForm(a,g){const b=this.afs.createId(),k=this.afs.collection(`${this.basePath}/${g}/intake`).doc(b);return new Ee.c(z=>{k.set(a).then(()=>{z.next(a),z.complete()}).catch(oe=>{console.error("Error saving intake form data",oe),z.error(oe)})})}getIntakeForms(a){return this.afs.collection(`${this.basePath}/${a}/intake`).snapshotChanges().pipe((0,xe.T)(g=>g.map(b=>{const k=b.payload.doc.data();return{id:b.payload.doc.id,...k}})))}getIntakeForm(a,g){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(g).valueChanges().pipe((0,xe.T)(b=>b||void 0))}updateIntakeForm(a,g,b){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(g).update(b)}deleteIntakeForm(a,g){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(g).delete()}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(bc.Qe))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function pf(p,c){if(1&p){const a=r.RV6();r.j41(0,"div"),r.nrm(1,"app-hero",1),r.j41(2,"form",2),r.bIt("ngSubmit",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.onSubmit())}),r.j41(3,"div",3)(4,"h2"),r.EFF(5,"Personal Information"),r.k0s(),r.j41(6,"label",4),r.EFF(7,"Name *"),r.k0s(),r.nrm(8,"input",5),r.j41(9,"label",6),r.EFF(10,"Email *"),r.k0s(),r.nrm(11,"input",7),r.j41(12,"label",8),r.EFF(13,"Phone number *"),r.k0s(),r.nrm(14,"input",9),r.k0s(),r.j41(15,"div",3)(16,"h2"),r.EFF(17,"Referral Source"),r.k0s(),r.j41(18,"label",10),r.EFF(19,"How did you find out about us? *"),r.k0s(),r.j41(20,"select",11)(21,"option",12),r.EFF(22,"Google"),r.k0s(),r.j41(23,"option",13),r.EFF(24,"Facebook"),r.k0s(),r.j41(25,"option",14),r.EFF(26,"Placement Agency"),r.k0s(),r.j41(27,"option",15),r.EFF(28,"Friends and/or Family"),r.k0s(),r.j41(29,"option",16),r.EFF(30,"Other"),r.k0s()(),r.j41(31,"label",17),r.EFF(32,"What is your relation to the resident? *"),r.k0s(),r.nrm(33,"input",18),r.k0s(),r.j41(34,"div",3)(35,"h2"),r.EFF(36,"Resident Information"),r.k0s(),r.j41(37,"label",19),r.EFF(38,"Resident's name *"),r.k0s(),r.nrm(39,"input",20),r.j41(40,"label",21),r.EFF(41,"Age *"),r.k0s(),r.nrm(42,"input",22),r.j41(43,"label",23),r.EFF(44,"Gender *"),r.k0s(),r.j41(45,"select",24)(46,"option",25),r.EFF(47,"Male"),r.k0s(),r.j41(48,"option",26),r.EFF(49,"Female"),r.k0s(),r.j41(50,"option",27),r.EFF(51,"Prefer not to say"),r.k0s(),r.j41(52,"option",16),r.EFF(53,"Other"),r.k0s()()(),r.j41(54,"div",3)(55,"h2"),r.EFF(56,"Medical History"),r.k0s(),r.j41(57,"label",28),r.EFF(58,"Relevant medical and surgical history *"),r.k0s(),r.nrm(59,"textarea",29),r.j41(60,"label",30),r.EFF(61,"Height *"),r.k0s(),r.nrm(62,"input",31),r.j41(63,"label",32),r.EFF(64,"Weight *"),r.k0s(),r.nrm(65,"input",33),r.j41(66,"label",34),r.EFF(67,"Reason for moving to an adult family home *"),r.k0s(),r.nrm(68,"textarea",35),r.j41(69,"label",36),r.EFF(70,'Do you already have an "RN Assessment for AFH"? *'),r.k0s(),r.j41(71,"select",37)(72,"option",38),r.EFF(73,"Yes"),r.k0s(),r.j41(74,"option",39),r.EFF(75,"No"),r.k0s()()(),r.j41(76,"div",3)(77,"h2"),r.EFF(78,"Care Levels"),r.k0s(),r.j41(79,"label",40),r.EFF(80,"Eating *"),r.k0s(),r.j41(81,"select",41)(82,"option",42),r.EFF(83,"Independent"),r.k0s(),r.j41(84,"option",43),r.EFF(85,"Needing Assistance"),r.k0s(),r.j41(86,"option",44),r.EFF(87,"Dependent"),r.k0s()(),r.j41(88,"label",45),r.EFF(89,"Personal Hygiene *"),r.k0s(),r.j41(90,"select",46)(91,"option",42),r.EFF(92,"Independent"),r.k0s(),r.j41(93,"option",43),r.EFF(94,"Needing Assistance"),r.k0s(),r.j41(95,"option",44),r.EFF(96,"Dependent"),r.k0s()(),r.j41(97,"label",47),r.EFF(98,"Bathing *"),r.k0s(),r.j41(99,"select",48)(100,"option",42),r.EFF(101,"Independent"),r.k0s(),r.j41(102,"option",43),r.EFF(103,"Needing Assistance"),r.k0s(),r.j41(104,"option",44),r.EFF(105,"Dependent"),r.k0s()(),r.j41(106,"label",49),r.EFF(107,"Toileting *"),r.k0s(),r.j41(108,"select",50)(109,"option",42),r.EFF(110,"Independent"),r.k0s(),r.j41(111,"option",43),r.EFF(112,"Needing Assistance"),r.k0s(),r.j41(113,"option",44),r.EFF(114,"Dependent"),r.k0s()(),r.j41(115,"label",51),r.EFF(116,"Mobility *"),r.k0s(),r.j41(117,"select",52)(118,"option",42),r.EFF(119,"Independent"),r.k0s(),r.j41(120,"option",43),r.EFF(121,"Needing Assistance"),r.k0s(),r.j41(122,"option",44),r.EFF(123,"Dependent"),r.k0s()(),r.j41(124,"label",53),r.EFF(125,"Transfers *"),r.k0s(),r.j41(126,"select",54)(127,"option",42),r.EFF(128,"Independent"),r.k0s(),r.j41(129,"option",43),r.EFF(130,"Needing Assistance"),r.k0s(),r.j41(131,"option",44),r.EFF(132,"Dependent"),r.k0s()(),r.j41(133,"label",55),r.EFF(134,"Medication Assistance *"),r.k0s(),r.j41(135,"select",56)(136,"option",38),r.EFF(137,"Yes"),r.k0s(),r.j41(138,"option",39),r.EFF(139,"No"),r.k0s()()(),r.j41(140,"div",3)(141,"h2"),r.EFF(142,"Other Medical Information"),r.k0s(),r.j41(143,"label",57),r.EFF(144,"Memory Issues *"),r.k0s(),r.j41(145,"select",58)(146,"option",38),r.EFF(147,"Yes"),r.k0s(),r.j41(148,"option",39),r.EFF(149,"No"),r.k0s()(),r.j41(150,"label",59),r.EFF(151,"Behavior"),r.k0s(),r.nrm(152,"textarea",60),r.j41(153,"label",61),r.EFF(154,"Skin Condition"),r.k0s(),r.nrm(155,"textarea",62),r.j41(156,"label",63),r.EFF(157,"Other information you want us to know"),r.k0s(),r.nrm(158,"textarea",64),r.k0s(),r.j41(159,"div",3)(160,"h2"),r.EFF(161,"Living Situation"),r.k0s(),r.j41(162,"label",65),r.EFF(163,"Current living situation *"),r.k0s(),r.j41(164,"select",66)(165,"option",67),r.EFF(166,"Own Home"),r.k0s(),r.j41(167,"option",68),r.EFF(168,"Relative's Home"),r.k0s(),r.j41(169,"option",69),r.EFF(170,"Hospital"),r.k0s(),r.j41(171,"option",70),r.EFF(172,"Adult Family Home"),r.k0s(),r.j41(173,"option",71),r.EFF(174,"Senior Living"),r.k0s(),r.j41(175,"option",16),r.EFF(176,"Other"),r.k0s()()(),r.j41(177,"div",3)(178,"label",72),r.EFF(179,"Target move in date *"),r.k0s(),r.nrm(180,"input",73),r.k0s(),r.j41(181,"div",3)(182,"label",74),r.EFF(183,"Would you like a summary of disclosures of our rates and services, including itemized services?"),r.k0s(),r.j41(184,"select",75)(185,"option",38),r.EFF(186,"Yes"),r.k0s(),r.j41(187,"option",39),r.EFF(188,"No"),r.k0s()()(),r.j41(189,"div",3)(190,"label",76),r.EFF(191,"Do you have any questions for us?"),r.k0s(),r.nrm(192,"textarea",77),r.k0s(),r.j41(193,"button",78),r.EFF(194,"Submit"),r.k0s()()()}if(2&p){const a=r.XpG();r.R7$(1),r.Y8G("layoutType",a.business.theme.themeType),r.R7$(1),r.Y8G("formGroup",a.intakeForm),r.R7$(191),r.Y8G("disabled",a.intakeForm.invalid)}}let gf=(()=>{class p{constructor(a,g,b,k,z){this.fb=a,this.intakeService=g,this.businessDataService=b,this.emailService=k,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",yi.k0.required],email:["",[yi.k0.required,yi.k0.email]],phoneNumber:["",yi.k0.required],referralSource:["",yi.k0.required],relationToResident:[""],residentName:["",yi.k0.required],age:["",yi.k0.required],gender:["",yi.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const a=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(a,this.businessId).subscribe(b=>{console.log("Intake form saved successfully!",b)},b=>{console.error("Error saving intake form:",b)});const g={name:a.name,email:a.email,message:this.generateEmailMessage(a),website:window.location.hostname};this.emailService.sendEmail(g).subscribe(b=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},b=>{console.error("Error sending email",b),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(a){return`\n      Name: ${a.name}\n      Email: ${a.email}\n      Phone Number: ${a.phoneNumber}\n      Referral Source: ${a.referralSource}\n      Relation to Resident: ${a.relationToResident}\n      Resident Name: ${a.residentName}\n      Age: ${a.age}\n      Gender: ${a.gender}\n      Medical History: ${a.medicalHistory}\n      Height: ${a.height}\n      Weight: ${a.weight}\n      Reason for Moving: ${a.reasonForMoving}\n      RN Assessment: ${a.rnAssessment}\n      Eating: ${a.eating}\n      Personal Hygiene: ${a.personalHygiene}\n      Bathing: ${a.bathing}\n      Toileting: ${a.toileting}\n      Mobility: ${a.mobility}\n      Transfers: ${a.transfers}\n      Medication Assistance: ${a.medicationAssistance}\n      Memory Issues: ${a.memoryIssues}\n      Behavior: ${a.behavior}\n      Skin Condition: ${a.skinCondition}\n      Additional Info: ${a.additionalInfo}\n      Current Living Situation: ${a.currentLivingSituation}\n      Target Move-In Date: ${a.targetMoveInDate}\n      Disclosure Summary: ${a.disclosureSummary}\n      Questions: ${a.questions}\n    `}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(yi.ok),r.rXU(Jy),r.rXU(xt.A),r.rXU(Xg),r.rXU(at.R))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"layoutType"],[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(g,b){1&g&&r.DNE(0,pf,195,3,"div",0),2&g&&r.Y8G("ngIf",b.business)},dependencies:[pe.bT,yi.qT,yi.xH,yi.y7,yi.me,yi.Q0,yi.wz,yi.BC,yi.cb,yi.j4,yi.JD,dr],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})();var Np=L(4710);function am(p,c){1&p&&r.nrm(0,"div",9)}function Fp(p,c){1&p&&(r.j41(0,"p",10),r.EFF(1,"Loading Google Reviews..."),r.k0s())}function vi(p,c){if(1&p&&r.nrm(0,"img",22),2&p){const a=r.XpG().$implicit;r.FS9("alt",a.name),r.Y8G("src",a.photoURL,r.B4B)}}function mf(p,c){if(1&p&&(r.j41(0,"div",23),r.EFF(1),r.k0s()),2&p){const a=r.XpG().$implicit;r.R7$(1),r.SpI(" ",a.name.charAt(0).toUpperCase()," ")}}function lm(p,c){if(1&p&&(r.j41(0,"p",24),r.EFF(1),r.k0s()),2&p){const a=r.XpG().$implicit;r.R7$(1),r.SpI(" ",a.quote," ")}}function As(p,c){if(1&p&&r.nrm(0,"p",25),2&p){const a=r.XpG().$implicit;r.Y8G("innerHTML",a.quote,r.npT)}}function O_(p,c){1&p&&(r.j41(0,"div",26),r.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),r.k0s())}const N_=function(p){return{"full-width":p}};function lh(p,c){if(1&p&&(r.j41(0,"div",11)(1,"div",12),r.DNE(2,vi,1,2,"img",13),r.DNE(3,mf,2,1,"ng-template",null,14,r.C5r),r.k0s(),r.j41(5,"blockquote",15)(6,"div",16),r.EFF(7,"\u201c"),r.k0s(),r.DNE(8,lm,2,1,"p",17),r.DNE(9,As,1,1,"p",18),r.k0s(),r.j41(10,"div",12)(11,"div")(12,"p",19),r.EFF(13),r.k0s(),r.j41(14,"p",20),r.EFF(15),r.k0s(),r.DNE(16,O_,2,0,"div",21),r.k0s()()()),2&p){const a=c.$implicit,g=r.sdS(4);r.Y8G("ngClass",r.eq3(8,N_,a.rawQuote.length>1e3)),r.R7$(2),r.Y8G("ngIf",a.photoURL)("ngIfElse",g),r.R7$(6),r.Y8G("ngIf",a.isGoogle),r.R7$(1),r.Y8G("ngIf",!a.isGoogle),r.R7$(4),r.JRh(a.name),r.R7$(2),r.JRh(a.relationship),r.R7$(1),r.Y8G("ngIf",a.isGoogle)}}function cm(p,c){if(1&p&&(r.j41(0,"a",27),r.EFF(1," Leave us a Google Review "),r.k0s()),2&p){const a=r.XpG();r.Y8G("href",a.googleReviewLink,r.B4B)}}const k_=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Us.B},{path:"about-us",component:Bi},{path:"services",component:js},{path:"contact-us",component:oh},{path:"gallery",component:ks},{path:"login",component:om},{path:"resident-form",component:gf},{path:"testimonials",component:(()=>{class p{constructor(a,g,b,k,z){this.businessDataService=a,this.metaService=g,this.googleMapsLoader=b,this.sanitizer=k,this.route=z,this.testimonials=[],this.themeType=null,this.business=null,this.googleReviewsLoading=!0}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{a?(this.business=a,this.loadData()):this.route.queryParams.subscribe(g=>{const b=g.id;b&&this.businessDataService.loadBusinessData(b).subscribe(k=>{k&&(this.business=k,this.loadData())})})})}loadData(){this.loadTestimonials(),"0"!==this.business?.placeId&&this.loadGoogleReviews()}loadTestimonials(){this.businessDataService.loadBusinessData(this.business?.id||"").subscribe(a=>{if(a&&a.testimonials){const g=a.testimonials.map(b=>({...b,relationship:"Testimonial",rawQuote:b.quote,quote:this.sanitizeHtml(b.quote),isGoogle:!1}));this.testimonials=[...this.testimonials,...g]}})}loadGoogleReviews(){this.business?.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.business?.placeId,fields:["reviews"]},(g,b)=>{if(this.googleReviewsLoading=!1,b===google.maps.places.PlacesServiceStatus.OK){const k=g?.reviews?.map(z=>({name:z.author_name,quote:z.text,rawQuote:z.text,relationship:"Google Review",isGoogle:!0,photoURL:z.profile_photo_url||null}))||[];this.testimonials=[...k,...this.testimonials]}else console.error("Error fetching Google reviews:",b)})}):console.error("Place ID is required to fetch Google reviews.")}get googleReviewLink(){return`https://search.google.com/local/writereview?placeid=${this.business?.placeId}`}sanitizeHtml(a){return this.sanitizer.bypassSecurityTrustHtml(a)}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(xt.A),r.rXU(at.R),r.rXU(Np.L),r.rXU(ce.up),r.rXU(ir.nX))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-testimonials-list"]],decls:12,vars:4,consts:[[1,"testimonial-section"],[1,"section-title"],[1,"section-description"],["class","spinner",4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"testimonial-grid"],["class","testimonial-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"googleReviewLink"],["target","_blank","class","afhBtn",3,"href",4,"ngIf"],[1,"spinner"],[1,"loading-text"],[1,"testimonial-card",3,"ngClass"],[1,"author-info"],["class","author-photo",3,"src","alt",4,"ngIf","ngIfElse"],["fallbackAvatar",""],[1,"testimonial-quote"],[1,"quote-icon"],["class","quote-text-page",4,"ngIf"],["class","quote-text-page",3,"innerHTML",4,"ngIf"],[1,"author-name"],[1,"author-role"],["class","google-stars",4,"ngIf"],[1,"author-photo",3,"src","alt"],[1,"author-photo","placeholder"],[1,"quote-text-page"],[1,"quote-text-page",3,"innerHTML"],[1,"google-stars"],["target","_blank",1,"afhBtn",3,"href"]],template:function(g,b){1&g&&(r.nrm(0,"app-hero"),r.j41(1,"div",0)(2,"h1",1),r.EFF(3,"What Clients Say"),r.k0s(),r.j41(4,"p",2),r.EFF(5," We place huge value on strong relationships and have seen the benefit they bring to our business. Customer feedback is vital in helping us to get it right. "),r.k0s(),r.DNE(6,am,1,0,"div",3),r.DNE(7,Fp,2,0,"p",4),r.j41(8,"div",5),r.DNE(9,lh,17,10,"div",6),r.k0s()(),r.j41(10,"div",7),r.DNE(11,cm,2,1,"a",8),r.k0s()),2&g&&(r.R7$(6),r.Y8G("ngIf",b.googleReviewsLoading&&"0"!=(null==b.business?null:b.business.placeId)),r.R7$(1),r.Y8G("ngIf",b.googleReviewsLoading&&"0"!=(null==b.business?null:b.business.placeId)),r.R7$(2),r.Y8G("ngForOf",b.testimonials),r.R7$(2),r.Y8G("ngIf","0"!=(null==b.business?null:b.business.placeId)))},dependencies:[pe.YU,pe.Sq,pe.bT,dr],styles:['.testimonial-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:80px 20px;text-align:center;background-color:var(--background-color)}.section-subtitle[_ngcontent-%COMP%]{letter-spacing:1px}.section-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-top:10px}.section-description[_ngcontent-%COMP%]{font-size:16px;color:#444;max-width:700px;margin:20px auto 40px;line-height:1.6}.testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:2rem}.testimonial-card.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.testimonial-grid[_ngcontent-%COMP%]   .testimonial-card[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.testimonial-card[_ngcontent-%COMP%]{background-color:#f7f7f7;border-radius:16px;padding:30px 20px;box-shadow:0 4px 12px #0000000d;transition:box-shadow .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;border-radius:50%;overflow:hidden;border:4px solid #fff;box-shadow:0 2px 6px #0000001a}.testimonial-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:#333;font-size:15px;position:relative;padding:0 20px;font-size:.9rem}.testimonial-quote[_ngcontent-%COMP%]:before{content:"";font-size:28px;color:#999;position:absolute;left:10px;top:-10px}.testimonial-author[_ngcontent-%COMP%]{margin-top:20px}.quote-text-page[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.3;margin-bottom:2rem;max-width:1024px;text-align:left}.author-name[_ngcontent-%COMP%]{font-weight:700;color:var(--dark-background-color);margin-bottom:4px}.author-role[_ngcontent-%COMP%]{color:#777;font-size:14px}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #555;border-radius:50%;width:36px;height:36px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:1rem auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#666}.googleReviewLink[_ngcontent-%COMP%]{text-align:center;margin:0 auto}']})}}return p})()},{path:"faq",component:A_.C},{path:"location",component:(()=>{class p{constructor(a,g,b){this.route=a,this.businessDataService=g,this.googleMapsLoader=b,this.business=null,this.location=null,this.layoutType="demo",this.locationIndex=null}ngOnInit(){this.route.queryParams.subscribe(a=>{this.locationIndex=Number(a.locationIndex),null!==this.locationIndex&&this.businessDataService.getBusinessId().pipe((0,ie.n)(g=>g?this.businessDataService.loadBusinessData(g):[])).subscribe(g=>{g&&(this.business=g,this.loadBusinessData())})})}loadBusinessData(){this.businessDataService.getBusinessId().pipe((0,ie.n)(a=>a?this.businessDataService.loadBusinessData(a):[])).subscribe(a=>{a?(console.log("\u2705 Business Data Loaded:",a),this.business=a,this.layoutType=a.theme?.themeType,console.log("\u{1f4cd} Locations in Business Data:",a.locations),console.log("\u{1f522} Requested Location Index:",this.locationIndex),this.businessDataService.getLocations().subscribe(g=>{g&&this.locationIndex<g.length?(this.location=g[this.locationIndex],console.log("\u2705 Loaded Firestore Location:",this.location),this.loadMap()):console.error("\u274c Location index is out of range. Available Firestore locations:",g.length)})):console.error("\u274c Business data is null.")})}loadMap(){this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.showAddressOnMap(`${this.location.street}, ${this.location.city}, ${this.location.state} ${this.location.zipcode}`)}).catch(a=>{console.error("Error loading Google Maps script:",a)})}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(a){this.geocoder.geocode({address:a},(g,b)=>{"OK"===b?(this.map.setCenter(g[0].geometry.location),this.map.setZoom(12),new google.maps.Marker({map:this.map,position:g[0].geometry.location})):console.error("Geocode was not successful: "+b)})}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ir.nX),r.rXU(xt.A),r.rXU(Np.L))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-location-page"]],decls:41,vars:17,consts:[[3,"layoutType"],[1,"location-page-container",2,"text-align","left"],[1,"row"],[1,"col"],["data-item","block-link",1,"map--open-maps-link"],["target","_blank","rel","noreferrer","aria-label","Open in maps",3,"href"],[1,"map-hours"],[3,"href","title"],[3,"src"],["id","map",1,"map-container"]],template:function(g,b){1&g&&(r.nrm(0,"app-hero",0),r.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r.EFF(5),r.k0s(),r.j41(6,"p")(7,"strong"),r.EFF(8,"Address:"),r.k0s(),r.EFF(9),r.k0s(),r.j41(10,"p")(11,"strong"),r.EFF(12,"Email:"),r.k0s(),r.EFF(13),r.k0s(),r.j41(14,"p")(15,"strong"),r.EFF(16,"Phone:"),r.k0s(),r.EFF(17),r.k0s(),r.j41(18,"p")(19,"strong"),r.EFF(20,"Fax:"),r.k0s(),r.EFF(21),r.k0s(),r.j41(22,"div",4)(23,"a",5),r.EFF(24," Open in maps "),r.k0s()(),r.j41(25,"div",6)(26,"p"),r.EFF(27,"Monday - Friday"),r.nrm(28,"br"),r.EFF(29,"9am - 5pm"),r.nrm(30,"br")(31,"br"),r.EFF(32,"Call to schedule an appointment "),r.j41(33,"a",7),r.EFF(34),r.k0s(),r.EFF(35),r.k0s()()(),r.j41(36,"div",3),r.nrm(37,"img",8),r.k0s()(),r.j41(38,"div",2)(39,"div",3),r.nrm(40,"div",9),r.k0s()()()),2&g&&(r.Y8G("layoutType","prestige"),r.R7$(5),r.JRh((null==b.location?null:b.location.locationName)||"Location"),r.R7$(4),r.LHq(" ",null==b.location?null:b.location.street,", ",null==b.location?null:b.location.city,", ",null==b.location?null:b.location.state," ",null==b.location?null:b.location.zipcode," "),r.R7$(4),r.SpI(" ",null==b.location?null:b.location.email,""),r.R7$(4),r.SpI(" ",null==b.location?null:b.location.phone,""),r.R7$(4),r.SpI(" ",null==b.location?null:b.location.fax,""),r.R7$(2),r.yjJ("href","https://google.com/maps/place/'",b.location.street,"+",b.location.city,"+",b.location.zipcode,"'",r.B4B),r.R7$(10),r.Mz_("href","tel:",null==b.location?null:b.location.phone,"",r.B4B)("title","tel:",null==b.location?null:b.location.phone,""),r.R7$(1),r.SpI("",null==b.location?null:b.location.phone,","),r.R7$(1),r.SpI(" text us at: ",null==b.location?null:b.location.phone," "),r.R7$(2),r.FS9("src",null==b.location?null:b.location.image,r.B4B))},dependencies:[dr],styles:[".location-page-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.map-container[_ngcontent-%COMP%]{width:100%;height:400px;border-radius:10px;margin-top:20px}"]})}}return p})()},{path:"login",component:om},{path:"admin",loadChildren:()=>L.e(380).then(L.bind(L,1380)).then(p=>p.AdminModule)},{path:":id",component:Us.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Zy=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=r.$C({type:p})}static{this.\u0275inj=r.G2t({imports:[ir.iI.forRoot(k_),ir.iI]})}}return p})();var dm=L(5009);function hm(p,c){if(1&p&&r.nrm(0,"img",12),2&p){const a=r.XpG();r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function vE(p,c){1&p&&(r.j41(0,"li",18),r.EFF(1,"No locations available"),r.k0s())}function _f(p,c){if(1&p){const a=r.RV6();r.j41(0,"li",18)(1,"span",19),r.bIt("click",function(){const k=r.eBV(a).index,z=r.XpG(2);return r.Njj(z.selectLocation(k))}),r.EFF(2),r.k0s()()}if(2&p){const a=c.$implicit;r.R7$(2),r.JRh(a.locationName||"Unknown City")}}function ev(p,c){if(1&p){const a=r.RV6();r.j41(0,"li",13)(1,"span",14),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleDropdown(0))}),r.EFF(2," Locations "),r.k0s(),r.j41(3,"ul",15),r.DNE(4,vE,2,0,"li",16),r.DNE(5,_f,3,1,"li",17),r.k0s()()}if(2&p){const a=r.XpG();r.R7$(3),r.AVh("show",0===a.expandedDropdownIndex),r.R7$(1),r.Y8G("ngIf",0===a.locations.length),r.R7$(1),r.Y8G("ngForOf",a.locations)}}function ou(p,c){if(1&p){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(2,"Our Home"),r.k0s()()}}function nd(p,c){if(1&p){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(2,"Our Work"),r.k0s()()}}function G0(p,c){if(1&p){const a=r.RV6();r.j41(0,"li",8)(1,"span",9),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(2,"Resident Form"),r.k0s()()}}const Bl=function(p){return{"clemo-shrink":p}},kp=function(){return["/home"]},ch=function(p){return{id:p}},fm=function(p){return{"clemo-show":p}};let uh=(()=>{class p{constructor(a,g,b){this.route=a,this.router=g,this.businessDataService=b,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1,this.locationsOpen=!1,this.selectedLocation=null,this.expandedDropdownIndex=null}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(g=>{this.business=g,this.layoutType=this.business?.theme.themeType}),this.businessDataService.getLocations().subscribe(g=>{this.locations=g}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(a){const g=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:g}).then(b=>{b||console.error("Navigation failed!")})}toggleDropdown(a){this.expandedDropdownIndex=this.expandedDropdownIndex===a?null:a}selectLocation(a){const g={locationIndex:a};this.businessId&&(g.id=this.businessId),this.router.navigate(["/location"],{queryParams:g}).then(b=>{b?this.closeMenu():console.error("\u274c Navigation failed!")})}toggleLocations(){this.locationsOpen=!this.locationsOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ir.nX),r.rXU(ir.Ix),r.rXU(xt.A))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(g,b){1&g&&r.bIt("scroll",function(){return b.onWindowScroll()},!1,r.tSv)},decls:24,vars:16,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-linkitem"],[1,"clemo-nav-link",3,"click"],["class","clemo-nav-linkitem dropdown",4,"ngIf"],["class","clemo-nav-linkitem",4,"ngIf"],["alt","Business Logo",1,"clemo-logo",3,"src"],[1,"clemo-nav-linkitem","dropdown"],[1,"clemo-nav-link","dropdown-toggle",3,"click"],[1,"dropdown-menu"],["class","dropdown-item",4,"ngIf"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"]],template:function(g,b){1&g&&(r.j41(0,"nav",0)(1,"div",1)(2,"a",2),r.DNE(3,hm,1,1,"img",3),r.k0s(),r.j41(4,"button",4),r.bIt("click",function(){return b.toggleMenu()}),r.nrm(5,"span",5),r.k0s(),r.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),r.bIt("click",function(){return b.navigateTo("home")}),r.EFF(10,"Home"),r.k0s()(),r.DNE(11,ev,6,4,"li",10),r.j41(12,"li",8)(13,"span",9),r.bIt("click",function(){return b.navigateTo("about-us")}),r.EFF(14,"About Us"),r.k0s()(),r.j41(15,"li",8)(16,"span",9),r.bIt("click",function(){return b.navigateTo("services")}),r.EFF(17,"Services"),r.k0s()(),r.DNE(18,ou,3,0,"li",11),r.DNE(19,nd,3,0,"li",11),r.DNE(20,G0,3,0,"li",11),r.j41(21,"li",8)(22,"span",9),r.bIt("click",function(){return b.navigateTo("contact-us")}),r.EFF(23,"Contact"),r.k0s()()()()()()),2&g&&(r.Y8G("ngClass",r.eq3(9,Bl,b.isShrunk)),r.R7$(2),r.Y8G("routerLink",r.lJ4(11,kp))("queryParams",r.eq3(12,ch,b.businessId)),r.R7$(1),r.Y8G("ngIf",null==b.business?null:b.business.logoImage),r.R7$(3),r.Y8G("ngClass",r.eq3(14,fm,b.menuOpen)),r.R7$(5),r.Y8G("ngIf",b.locations.length>1),r.R7$(7),r.Y8G("ngIf","sb"!=b.layoutType),r.R7$(1),r.Y8G("ngIf","sb"==b.layoutType),r.R7$(1),r.Y8G("ngIf","sb"!=b.layoutType))},dependencies:[pe.YU,pe.Sq,pe.bT,ir.Wk]})}}return p})();function Lp(p,c){if(1&p&&r.nrm(0,"img",13),2&p){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}const rd=function(){return["/home"]},Ra=function(p){return{id:p}},id=function(p){return{"open-bar1":p}},Qo=function(p){return{"open-bar2":p}},Tc=function(p){return{"open-bar3":p}},$l=function(p){return{active:p}};function yf(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,Lp,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&p){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,rd))("queryParams",r.eq3(8,Ra,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,id,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,Qo,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Tc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,$l,a.menuOpen))}}function L_(p,c){if(1&p&&r.nrm(0,"img",13),2&p){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}const dh=function(){return["/contact-us"]};function sd(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,L_,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("testimonials"))}),r.EFF(20,"Testimonials"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(22,"Contact"),r.k0s(),r.j41(23,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(24,"Resident Form"),r.k0s()(),r.j41(25,"div",4)(26,"a",5)(27,"button",15),r.EFF(28,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&p){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,rd))("queryParams",r.eq3(10,Ra,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,id,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Qo,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Tc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,$l,a.menuOpen)),r.R7$(16),r.Y8G("routerLink",r.lJ4(20,dh))("queryParams",r.eq3(21,Ra,a.businessId))}}function pm(p,c){1&p&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function Vp(p,c){1&p&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function gm(p,c){if(1&p&&r.nrm(0,"img",13),2&p){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function V_(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"nav",16)(2,"div",3)(3,"div",4)(4,"a",5),r.DNE(5,gm,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("gallery"))}),r.EFF(18,"Our Home"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.scrollToSection("contact-us"))}),r.EFF(20,"Contact"),r.k0s()()()(),r.bVm()}if(2&p){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(7,rd))("queryParams",r.eq3(8,Ra,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(10,id,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(12,Qo,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Tc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,$l,a.menuOpen))}}function Ic(p,c){1&p&&(r.qex(0),r.nrm(1,"app-expandable-navigation"),r.bVm())}function mm(p,c){if(1&p&&r.nrm(0,"img",13),2&p){const a=r.XpG(2);r.Y8G("src",null==a.business?null:a.business.logoImage,r.B4B)}}function U_(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),r.DNE(5,mm,1,1,"img",6),r.k0s()(),r.j41(6,"div",7),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.toggleMenu())}),r.nrm(7,"div",8)(8,"div",9)(9,"div",10),r.k0s(),r.j41(10,"ul",11)(11,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(12,"Home"),r.k0s(),r.j41(13,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(14,"Services"),r.k0s(),r.j41(15,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(16,"About Us"),r.k0s(),r.j41(17,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(18,"gallery"),r.k0s(),r.j41(19,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(20,"Contact"),r.k0s(),r.j41(21,"li",12),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(22,"Intake Form"),r.k0s()(),r.j41(23,"div",4)(24,"a",5)(25,"button",15),r.EFF(26,"Schedule a Visit"),r.k0s()()()()(),r.bVm()}if(2&p){const a=r.XpG();r.R7$(4),r.Y8G("routerLink",r.lJ4(9,rd))("queryParams",r.eq3(10,Ra,a.businessId)),r.R7$(1),r.Y8G("ngIf",null==a.business?null:a.business.logoImage),r.R7$(2),r.Y8G("ngClass",r.eq3(12,id,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(14,Qo,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(16,Tc,a.menuOpen)),r.R7$(1),r.Y8G("ngClass",r.eq3(18,$l,a.menuOpen)),r.R7$(14),r.Y8G("routerLink",r.lJ4(20,dh))("queryParams",r.eq3(21,Ra,a.businessId))}}let _m=(()=>{class p{constructor(a,g,b){this.route=a,this.router=g,this.businessDataService=b,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(g=>{this.business=g,this.layoutType=this.business?.theme.themeType}))})}navigateTo(a){const g=this.businessId?{id:this.businessId}:{};this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:g}).then(b=>{b||console.error("Navigation failed!")})}scrollToSection(a){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"}),this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ir.nX),r.rXU(ir.Ix),r.rXU(xt.A))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-navigation"]],decls:8,vars:8,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"],[1,"navbar_sp"]],template:function(g,b){1&g&&(r.j41(0,"div",0),r.DNE(1,yf,21,18,"ng-container",1),r.DNE(2,sd,29,23,"ng-container",1),r.DNE(3,pm,2,0,"ng-container",1),r.DNE(4,Vp,2,0,"ng-container",1),r.DNE(5,V_,21,18,"ng-container",1),r.DNE(6,Ic,2,0,"ng-container",1),r.DNE(7,U_,27,23,"ng-container",1),r.k0s()),2&g&&(r.Y8G("ngSwitch",b.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(1),r.Y8G("ngSwitchCase","sp"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","demo"))},dependencies:[pe.YU,pe.bT,pe.ux,pe.e1,ir.Wk,uh],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;max-width:var(--site-max-width);margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 1081px){.navbar_[_ngcontent-%COMP%]{max-width:100vw}.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.nav-item[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;padding:0}.ae-navbar-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .afhBtn[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;max-width:100vw;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function Up(p,c){if(1&p&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()(),r.j41(34,"div",12)(35,"div",13)(36,"div",14)(37,"p"),r.EFF(38,"DESIGNED BY "),r.j41(39,"a",15),r.EFF(40,"SB MEDIA HUB"),r.k0s()()(),r.j41(41,"div",16)(42,"p"),r.EFF(43," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()(),r.bVm()),2&p){const a=r.XpG();r.R7$(4),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.SpI(" ",null==a.business?null:a.business.address," "),r.R7$(3),r.SpI("Provider:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone)}}function tv(p,c){if(1&p&&(r.qex(0),r.j41(1,"footer",17)(2,"div",18)(3,"div",19),r.nrm(4,"hr",20),r.j41(5,"h2",21),r.EFF(6),r.k0s(),r.nrm(7,"hr",20),r.k0s(),r.j41(8,"div",22)(9,"div",23)(10,"h3",24),r.EFF(11,"Owner:"),r.k0s(),r.j41(12,"p"),r.EFF(13),r.k0s()(),r.j41(14,"div",23)(15,"h3",24),r.EFF(16,"Location:"),r.k0s(),r.j41(17,"p"),r.EFF(18),r.k0s()(),r.j41(19,"div",23)(20,"h3",24),r.EFF(21,"Provider:"),r.k0s(),r.j41(22,"p"),r.EFF(23),r.k0s(),r.j41(24,"p"),r.EFF(25,"Email: "),r.j41(26,"a",11),r.EFF(27),r.k0s()(),r.j41(28,"p"),r.EFF(29,"Phone: "),r.j41(30,"a",11),r.EFF(31),r.k0s()()()(),r.j41(32,"div",12)(33,"div",13)(34,"div",14)(35,"p"),r.EFF(36,"DESIGNED BY "),r.j41(37,"a",15),r.EFF(38,"SB MEDIA HUB"),r.k0s()()(),r.j41(39,"div",16)(40,"p"),r.EFF(41),r.k0s()()()()()(),r.bVm()),2&p){const a=r.XpG();r.R7$(6),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.JRh(null==a.business?null:a.business.providerName),r.R7$(5),r.JRh(null==a.business?null:a.business.address),r.R7$(5),r.JRh(null==a.business?null:a.business.providerName),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.email),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(10),r.Lme("\xa9 ",2024," ",null==a.business?null:a.business.businessName,". All rights reserved.")}}function od(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",29),r.EFF(8),r.k0s(),r.j41(9,"p",30),r.EFF(10),r.k0s()(),r.j41(11,"div",31)(12,"a",32),r.nrm(13,"i",33),r.k0s(),r.j41(14,"a",32),r.nrm(15,"i",34),r.k0s()(),r.j41(16,"nav",35)(17,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("testimonials"))}),r.EFF(26,"TESTIMONIALS"),r.k0s(),r.j41(27,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(28,"RESIDENT FORM"),r.k0s(),r.j41(29,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(30,"CONTACT"),r.k0s()(),r.j41(31,"div",12)(32,"div",13)(33,"div",14)(34,"p"),r.EFF(35,"DESIGNED BY "),r.j41(36,"a",15),r.EFF(37,"SB MEDIA HUB"),r.k0s()()(),r.j41(38,"div",16)(39,"p"),r.EFF(40," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&p){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.businessName),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function hh(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"h4"),r.EFF(6),r.k0s(),r.j41(7,"p",29),r.EFF(8),r.k0s(),r.j41(9,"p",30),r.EFF(10),r.k0s()(),r.j41(11,"div",31)(12,"a",32),r.nrm(13,"i",33),r.k0s(),r.j41(14,"a",32),r.nrm(15,"i",34),r.k0s()(),r.j41(16,"nav",35)(17,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(18,"HOME"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(20,"ABOUT US"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(22,"SERVICES"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(24,"OUR HOME"),r.k0s(),r.j41(25,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("testimonials"))}),r.EFF(26,"TESTIMONIALS"),r.k0s(),r.j41(27,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("resident-form"))}),r.EFF(28,"RESIDENT FORM"),r.k0s(),r.j41(29,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(30,"CONTACT"),r.k0s()(),r.j41(31,"div",12)(32,"div",13)(33,"div",14)(34,"p"),r.EFF(35,"DESIGNED BY "),r.j41(36,"a",15),r.EFF(37,"SB MEDIA HUB"),r.k0s()()(),r.j41(38,"div",16)(39,"p"),r.EFF(40," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&p){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.businessName),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function j_(p,c){if(1&p){const a=r.RV6();r.qex(0),r.j41(1,"footer",25)(2,"div",26)(3,"div",27),r.nrm(4,"img",28),r.j41(5,"p",29),r.EFF(6),r.k0s(),r.j41(7,"p",30),r.EFF(8),r.k0s()(),r.j41(9,"div",31)(10,"a",32),r.nrm(11,"i",33),r.k0s(),r.j41(12,"a",32),r.nrm(13,"i",34),r.k0s()(),r.j41(14,"nav",35)(15,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("home"))}),r.EFF(16,"HOME"),r.k0s(),r.j41(17,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("about-us"))}),r.EFF(18,"ABOUT US"),r.k0s(),r.j41(19,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("services"))}),r.EFF(20,"SERVICES"),r.k0s(),r.j41(21,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("gallery"))}),r.EFF(22,"OUR WORK"),r.k0s(),r.j41(23,"span",36),r.bIt("click",function(){r.eBV(a);const b=r.XpG();return r.Njj(b.navigateTo("contact-us"))}),r.EFF(24,"CONTACT"),r.k0s()(),r.j41(25,"div",12)(26,"div",13)(27,"div",14)(28,"p"),r.EFF(29,"DESIGNED BY "),r.j41(30,"a",15),r.EFF(31,"SB MEDIA HUB"),r.k0s()()(),r.j41(32,"div",16)(33,"p"),r.EFF(34," \xa9 Copyright 2025. All rights reserved."),r.k0s()()()()()(),r.bVm()}if(2&p){const a=r.XpG();r.R7$(4),r.FS9("src",null==a.business?null:a.business.logoImage,r.B4B),r.R7$(2),r.JRh(null==a.business?null:a.business.phone),r.R7$(2),r.JRh(null==a.business?null:a.business.address)}}function fh(p,c){if(1&p&&(r.qex(0),r.j41(1,"footer",4)(2,"div",5)(3,"h2",6),r.EFF(4),r.k0s(),r.nrm(5,"hr",7),r.j41(6,"div",8)(7,"div",9)(8,"h3",10),r.EFF(9,"Location:"),r.k0s(),r.j41(10,"address"),r.EFF(11),r.k0s()(),r.j41(12,"div",9)(13,"h3",10),r.EFF(14),r.k0s(),r.j41(15,"p"),r.EFF(16,"Email: "),r.j41(17,"a",11),r.EFF(18),r.k0s()(),r.j41(19,"p"),r.EFF(20,"Phone: "),r.j41(21,"a",11),r.EFF(22),r.k0s()()(),r.j41(23,"div",9)(24,"h3",10),r.EFF(25),r.k0s(),r.j41(26,"p"),r.EFF(27,"Email: "),r.j41(28,"a",11),r.EFF(29),r.k0s()(),r.j41(30,"p"),r.EFF(31,"Phone: "),r.j41(32,"a",11),r.EFF(33),r.k0s()()()()()(),r.bVm()),2&p){const a=r.XpG();r.R7$(4),r.JRh(null==a.business?null:a.business.businessName),r.R7$(7),r.SpI(" ",null==a.business?null:a.business.address," "),r.R7$(3),r.SpI("Provider:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone),r.R7$(3),r.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),r.R7$(3),r.Mz_("href","mailto:",null==a.business?null:a.business.email,"",r.B4B),r.R7$(1),r.SpI(" ",null==a.business?null:a.business.email,""),r.R7$(3),r.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",r.B4B),r.R7$(1),r.JRh(null==a.business?null:a.business.phone)}}function ym(p,c){if(1&p&&(r.j41(0,"div",37)(1,"h1",38),r.EFF(2,"Debugger:"),r.k0s(),r.j41(3,"div",39)(4,"div",40)(5,"span",41),r.EFF(6,"Theme File:"),r.k0s(),r.j41(7,"span",42),r.EFF(8),r.k0s()(),r.j41(9,"div",40)(10,"span",41),r.EFF(11,"Theme Type:"),r.k0s(),r.j41(12,"span",42),r.EFF(13),r.k0s()(),r.j41(14,"div",40)(15,"span",41),r.EFF(16,"Business ID:"),r.k0s(),r.j41(17,"span",42),r.EFF(18),r.k0s()(),r.j41(19,"div",40)(20,"span",41),r.EFF(21,"Business Name:"),r.k0s(),r.j41(22,"span",42),r.EFF(23),r.k0s()()()()),2&p){const a=r.XpG();r.R7$(8),r.JRh(a.themeFileName),r.R7$(5),r.JRh(null==a.business||null==a.business.theme?null:a.business.theme.themeType),r.R7$(5),r.JRh(null==a.business?null:a.business.id),r.R7$(5),r.JRh(null==a.business?null:a.business.businessName)}}let ad=(()=>{class p{constructor(a,g,b,k,z,oe){this.route=a,this.webContentService=g,this.authService=b,this.themeService=k,this.businessDataService=z,this.router=oe,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(a){this.businessDataService.getBusinessId().subscribe(g=>{const b=g||this.businessId,k=b?{id:b}:{};console.log("Navigating to:",a,"with params:",k),this.router.navigate([`/${a}`],{queryParams:k}).then(z=>{z||console.error("Navigation failed!")})})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(a=>{this.business=a}),this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(g=>{g&&(this.themeFileName=g.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ir.nX),r.rXU(Vn.N),r.rXU(Sa.u),r.rXU(dm.F),r.rXU(xt.A),r.rXU(ir.Ix))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-footer"]],decls:9,vars:9,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"clemo-footer-bottom"],[1,"copy"],[1,"design"],["href","sbmediahub.com"],[1,"rights"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(g,b){1&g&&(r.j41(0,"div",0),r.DNE(1,Up,44,12,"ng-container",1),r.DNE(2,tv,42,10,"ng-container",1),r.DNE(3,od,41,4,"ng-container",1),r.DNE(4,hh,41,4,"ng-container",1),r.DNE(5,j_,35,3,"ng-container",1),r.DNE(6,fh,34,12,"ng-container",2),r.k0s(),r.DNE(7,ym,24,4,"div",3),r.nI1(8,"async")),2&g&&(r.Y8G("ngSwitch",b.layoutType),r.R7$(1),r.Y8G("ngSwitchCase","hh"),r.R7$(1),r.Y8G("ngSwitchCase","ae"),r.R7$(1),r.Y8G("ngSwitchCase","clemo"),r.R7$(1),r.Y8G("ngSwitchCase","prestige"),r.R7$(1),r.Y8G("ngSwitchCase","sb"),r.R7$(2),r.Y8G("ngIf",r.bMT(8,7,b.isAuthenticated$)))},dependencies:[pe.bT,pe.ux,pe.e1,pe.fG,pe.Jj]})}}return p})(),B_=(()=>{class p{constructor(a,g,b,k,z){this.route=a,this.webContent=g,this.metaService=b,this.router=k,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.route.paramMap.subscribe(a=>{this.businessId=a.get("id")||"MGou3rzTVIbP77OLmZa7",this.loadBusinessData()})}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(a=>{a&&(this.business=a)})}static{this.\u0275fac=function(g){return new(g||p)(r.rXU(ir.nX),r.rXU(Vn.N),r.rXU(at.R),r.rXU(ir.Ix),r.rXU(dm.F))}}static{this.\u0275cmp=r.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(g,b){1&g&&r.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[ir.n3,_m,ad]})}}return p})();const vf_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var Ya=L(2214),so=L(5407);class Cc{constructor(c){return c}}class vm{constructor(){return(0,Ya.Dk)()}}const ld=new r.nKC("angularfire2._apps"),cd={provide:Cc,useFactory:function EE(p){return p&&1===p.length?p[0]:new Cc((0,Ya.Sx)())},deps:[[new r.Xx1,ld]]},nv={provide:vm,deps:[[new r.Xx1,ld]]};function Ef(p){return(c,a)=>{const g=c.runOutsideAngular(()=>p(a));return new Cc(g)}}let rv=(()=>{class p{constructor(a){(0,Ya.KO)("angularfire",so.xv.full,"core"),(0,Ya.KO)("angularfire",so.xv.full,"app"),(0,Ya.KO)("angular",r.xvI.full,a.toString())}static \u0275fac=function(g){return new(g||p)(r.KVO(r.Agw))};static \u0275mod=r.$C({type:p});static \u0275inj=r.G2t({providers:[cd,nv]})}return p})();function iv(p,...c){return{ngModule:rv,providers:[{provide:ld,useFactory:Ef(p),multi:!0,deps:[r.SKi,r.zZn,so.u0,...c]}]}}const ph=(0,so.S3)(Ya.Wp,!0);L(5504),L(7852),L(1076),L(8041),L(1362);class uv{constructor(){return(0,so.CA)("auth")}}var Rc=L(9583);class d{constructor(c){return c}}const e="firestore",h=new r.nKC("angularfire2.firestore-instances");function T(p){return(c,a)=>{const g=c.runOutsideAngular(()=>p(a));return new d(g)}}const P={provide:class i{constructor(){return(0,so.CA)(e)}},deps:[[new r.Xx1,h]]},U={provide:d,useFactory:function y(p,c){const a=(0,so.lR)(e,p,c);return a&&new d(a)},deps:[[new r.Xx1,h],Cc]};let Y=(()=>{class p{constructor(){(0,Ya.KO)("angularfire",so.xv.full,"fst")}static \u0275fac=function(g){return new(g||p)};static \u0275mod=r.$C({type:p});static \u0275inj=r.G2t({providers:[U,P]})}return p})();function le(p,...c){return{ngModule:Y,providers:[{provide:h,useFactory:T(p),multi:!0,deps:[r.SKi,r.zZn,so.u0,vm,[new r.Xx1,uv],[new r.Xx1,so.Jv],...c]}]}}const Dm=(0,so.S3)(Rc.aU,!0);var Sf=L(9253),oy=L(8721),Om=L(1977),yh=L(4535);class vh{constructor(c){return c}}const ay="storage",Rf=new r.nKC("angularfire2.storage-instances");function uu(p){return(c,a)=>{const g=c.runOutsideAngular(()=>p(a));return new vh(g)}}const ly={provide:class tg{constructor(){return(0,so.CA)(ay)}},deps:[[new r.Xx1,Rf]]},Nm={provide:vh,useFactory:function ng(p,c){const a=(0,so.lR)(ay,p,c);return a&&new vh(a)},deps:[[new r.Xx1,Rf],Cc]};let rg=(()=>{class p{constructor(){(0,Ya.KO)("angularfire",so.xv.full,"gcs")}static \u0275fac=function(g){return new(g||p)};static \u0275mod=r.$C({type:p});static \u0275inj=r.G2t({providers:[Nm,ly]})}return p})();function Fm(p,...c){return{ngModule:rg,providers:[{provide:Rf,useFactory:uu(p),multi:!0,deps:[r.SKi,r.zZn,so.u0,vm,[new r.Xx1,uv],[new r.Xx1,so.Jv],...c]}]}}const km=(0,so.S3)(yh.c7,!0);var bh=L(3012);let Th=(()=>{class p{constructor(a,g,b){this.http=a,this.themeService=g,this.businessService=b,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(a){return new Promise((g,b)=>{this.themeService.getBusinessTheme(a).subscribe({next:k=>{this.themeService.applyThemeFile(k?k.themeFileName:"default.css").then(()=>g()).catch(oe=>{console.error("Error applying theme file:",oe),g()}),this.themeService.getThemeColors(a).subscribe(oe=>{this.applyTheme(oe),g()},oe=>{console.error("Error loading theme:",oe),g()})},error:k=>{console.error("Error loading business theme:",k),this.themeService.applyThemeFile("default.css").then(()=>g()).catch(z=>{console.error("Error applying default theme file:",z),g()})}})})}applyTheme(a){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",a.primaryColor),document.documentElement.style.setProperty("--secondary-color",a.secondaryColor),document.documentElement.style.setProperty("--accent-color",a.accentColor),document.documentElement.style.setProperty("--background-color",a.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",a.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",a.textColor),document.documentElement.style.setProperty("--nav-background-color",a.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",a.navTextColor),document.documentElement.style.setProperty("--nav-active-background",a.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",a.navActiveText),document.documentElement.style.setProperty("--button-color",a.buttonColor),document.documentElement.style.setProperty("--button-hover-color",a.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(a){return a.primaryColor&&a.secondaryColor&&a.accentColor&&a.backgroundColor&&a.darkBackgroundColor&&a.textColor&&a.navBackgroundColor&&a.navTextColor&&a.navActiveBackground&&a.navActiveText&&a.buttonColor&&a.buttonHoverColor}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(Me),r.KVO(dm.F),r.KVO(bh.u))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Ni=L(9969);function pd(p){return new r.wOt(3e3,!1)}function pu(p){switch(p.length){case 0:return new Ni.sf;case 1:return p[0];default:return new Ni.ui(p)}}function Vf(p,c,a=new Map,g=new Map){const b=[],k=[];let z=-1,oe=null;if(c.forEach(_e=>{const Ge=_e.get("offset"),gt=Ge==z,$t=gt&&oe||new Map;_e.forEach((gn,mn)=>{let vn=mn,en=gn;if("offset"!==mn)switch(vn=p.normalizePropertyName(vn,b),en){case Ni.FX:en=a.get(mn);break;case Ni.kp:en=g.get(mn);break;default:en=p.normalizeStyleValue(mn,vn,en,b)}$t.set(vn,en)}),gt||k.push($t),oe=$t,z=Ge}),b.length)throw function Uv(p){return new r.wOt(3502,!1)}();return k}function gd(p,c,a,g){switch(c){case"start":p.onStart(()=>g(a&&md(a,"start",p)));break;case"done":p.onDone(()=>g(a&&md(a,"done",p)));break;case"destroy":p.onDestroy(()=>g(a&&md(a,"destroy",p)))}}function md(p,c,a){const k=Uf(p.element,p.triggerName,p.fromState,p.toState,c||p.phaseName,a.totalTime??p.totalTime,!!a.disabled),z=p._data;return null!=z&&(k._data=z),k}function Uf(p,c,a,g,b="",k=0,z){return{element:p,triggerName:c,fromState:a,toState:g,phaseName:b,totalTime:k,disabled:!!z}}function ha(p,c,a){let g=p.get(c);return g||p.set(c,g=a),g}function Wl(p){const c=p.indexOf(":");return[p.substring(1,c),p.slice(c+1)]}const ag=(()=>typeof document>"u"?null:document.documentElement)();function Bm(p){const c=p.parentNode||p.host||null;return c===ag?null:c}let gu=null,lg=!1;function vy(p,c){for(;c;){if(c===p)return!0;c=Bm(c)}return!1}function $m(p,c,a){if(a)return Array.from(p.querySelectorAll(c));const g=p.querySelector(c);return g?[g]:[]}let ug=(()=>{class p{validateStyleProperty(a){return function jf(p){gu||(gu=function Bf(){return typeof document<"u"?document.body:null}()||{},lg=!!gu.style&&"WebkitAppearance"in gu.style);let c=!0;return gu.style&&!function Rh(p){return"ebkit"==p.substring(1,6)}(p)&&(c=p in gu.style,!c&&lg&&(c="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in gu.style)),c}(a)}matchesElement(a,g){return!1}containsElement(a,g){return vy(a,g)}getParentElement(a){return Bm(a)}query(a,g,b){return $m(a,g,b)}computeStyle(a,g,b){return b||""}animate(a,g,b,k,z,oe=[],_e){return new Ni.sf(b,k)}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})(),Ph=(()=>{class p{static{this.NOOP=new ug}}return p})();const $f=1e3,Oc="ng-enter",_d="ng-leave",xh="ng-trigger",Kl=".ng-trigger",Gm="ng-animating",hg=".ng-animating";function xa(p){if("number"==typeof p)return p;const c=p.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:yd(parseFloat(c[1]),c[2])}function yd(p,c){return"s"===c?p*$f:p}function Nc(p,c,a){return p.hasOwnProperty("duration")?p:function fa(p,c,a){let b,k=0,z="";if("string"==typeof p){const oe=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===oe)return c.push(pd()),{duration:0,delay:0,easing:""};b=yd(parseFloat(oe[1]),oe[2]);const _e=oe[3];null!=_e&&(k=yd(parseFloat(_e),oe[4]));const Ge=oe[5];Ge&&(z=Ge)}else b=p;if(!a){let oe=!1,_e=c.length;b<0&&(c.push(function Qa(){return new r.wOt(3100,!1)}()),oe=!0),k<0&&(c.push(function da(){return new r.wOt(3101,!1)}()),oe=!0),oe&&c.splice(_e,0,pd())}return{duration:b,delay:k,easing:z}}(p,c,a)}function Mh(p,c={}){return Object.keys(p).forEach(a=>{c[a]=p[a]}),c}function Hm(p){const c=new Map;return Object.keys(p).forEach(a=>{c.set(a,p[a])}),c}function j(p,c=new Map,a){if(a)for(let[g,b]of a)c.set(g,b);for(let[g,b]of p)c.set(g,b);return c}function X(p,c,a){c.forEach((g,b)=>{const k=fo(b);a&&!a.has(b)&&a.set(b,p.style[k]),p.style[k]=g})}function me(p,c){c.forEach((a,g)=>{const b=fo(g);p.style[b]=""})}function pt(p){return Array.isArray(p)?1==p.length?p[0]:(0,Ni.K2)(p):p}const yn=new RegExp("{{\\s*(.+?)\\s*}}","g");function zi(p){let c=[];if("string"==typeof p){let a;for(;a=yn.exec(p);)c.push(a[1]);yn.lastIndex=0}return c}function Vs(p,c,a){const g=p.toString(),b=g.replace(yn,(k,z)=>{let oe=c[z];return null==oe&&(a.push(function Mf(p){return new r.wOt(3003,!1)}()),oe=""),oe.toString()});return b==g?p:b}function Ii(p){const c=[];let a=p.next();for(;!a.done;)c.push(a.value),a=p.next();return c}const Vo=/-+([a-z0-9])/g;function fo(p){return p.replace(Vo,(...c)=>c[1].toUpperCase())}function To(p,c,a){switch(c.type){case 7:return p.visitTrigger(c,a);case 0:return p.visitState(c,a);case 1:return p.visitTransition(c,a);case 2:return p.visitSequence(c,a);case 3:return p.visitGroup(c,a);case 4:return p.visitAnimate(c,a);case 5:return p.visitKeyframes(c,a);case 6:return p.visitStyle(c,a);case 8:return p.visitReference(c,a);case 9:return p.visitAnimateChild(c,a);case 10:return p.visitAnimateRef(c,a);case 11:return p.visitQuery(c,a);case 12:return p.visitStagger(c,a);default:throw function Vm(p){return new r.wOt(3004,!1)}()}}function Bv(p,c){return window.getComputedStyle(p)[c]}const Fc="*";function tb(p,c){const a=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(g=>function nb(p,c,a){if(":"==p[0]){const _e=function Gv(p,c){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,g)=>parseFloat(g)>parseFloat(a);case":decrement":return(a,g)=>parseFloat(g)<parseFloat(a);default:return c.push(function my(p){return new r.wOt(3016,!1)}()),"* => *"}}(p,a);if("function"==typeof _e)return void c.push(_e);p=_e}const g=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return a.push(function kv(p){return new r.wOt(3015,!1)}()),c;const b=g[1],k=g[2],z=g[3];c.push(YE(b,z));"<"==k[0]&&!(b==Fc&&z==Fc)&&c.push(YE(z,b))}(g,a,c)):a.push(p),a}const mu=new Set(["true","1"]),fg=new Set(["false","0"]);function YE(p,c){const a=mu.has(p)||fg.has(p),g=mu.has(c)||fg.has(c);return(b,k)=>{let z=p==Fc||p==b,oe=c==Fc||c==k;return!z&&a&&"boolean"==typeof b&&(z=b?mu.has(p):fg.has(p)),!oe&&g&&"boolean"==typeof k&&(oe=k?mu.has(c):fg.has(c)),z&&oe}}const fT=new RegExp("s*:selfs*,?","g");function XE(p,c,a,g){return new rb(p).build(c,a,g)}class rb{constructor(c){this._driver=c}build(c,a,g){const b=new Io(a);return this._resetContextStyleTimingState(b),To(this,pt(c),b)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let g=a.queryCount=0,b=a.depCount=0;const k=[],z=[];return"@"==c.name.charAt(0)&&a.errors.push(function Of(){return new r.wOt(3006,!1)}()),c.definitions.forEach(oe=>{if(this._resetContextStyleTimingState(a),0==oe.type){const _e=oe,Ge=_e.name;Ge.toString().split(/\s*,\s*/).forEach(gt=>{_e.name=gt,k.push(this.visitState(_e,a))}),_e.name=Ge}else if(1==oe.type){const _e=this.visitTransition(oe,a);g+=_e.queryCount,b+=_e.depCount,z.push(_e)}else a.errors.push(function Ch(){return new r.wOt(3007,!1)}())}),{type:7,name:c.name,states:k,transitions:z,queryCount:g,depCount:b,options:null}}visitState(c,a){const g=this.visitStyle(c.styles,a),b=c.options&&c.options.params||null;if(g.containsDynamicStyles){const k=new Set,z=b||{};g.styles.forEach(oe=>{oe instanceof Map&&oe.forEach(_e=>{zi(_e).forEach(Ge=>{z.hasOwnProperty(Ge)||k.add(Ge)})})}),k.size&&(Ii(k.values()),a.errors.push(function wh(p,c){return new r.wOt(3008,!1)}()))}return{type:0,name:c.name,style:g,options:b?{params:b}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const g=To(this,pt(c.animation),a);return{type:1,matchers:tb(c.expr,a.errors),animation:g,queryCount:a.queryCount,depCount:a.depCount,options:zf(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(g=>To(this,g,a)),options:zf(c.options)}}visitGroup(c,a){const g=a.currentTime;let b=0;const k=c.steps.map(z=>{a.currentTime=g;const oe=To(this,z,a);return b=Math.max(b,a.currentTime),oe});return a.currentTime=b,{type:3,steps:k,options:zf(c.options)}}visitAnimate(c,a){const g=function sb(p,c){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return by(Nc(p,c).duration,0,"");const a=p;if(a.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=by(0,0,"");return k.dynamic=!0,k.strValue=a,k}const b=Nc(a,c);return by(b.duration,b.delay,b.easing)}(c.timings,a.errors);a.currentAnimateTimings=g;let b,k=c.styles?c.styles:(0,Ni.iF)({});if(5==k.type)b=this.visitKeyframes(k,a);else{let z=c.styles,oe=!1;if(!z){oe=!0;const Ge={};g.easing&&(Ge.easing=g.easing),z=(0,Ni.iF)(Ge)}a.currentTime+=g.duration+g.delay;const _e=this.visitStyle(z,a);_e.isEmptyStep=oe,b=_e}return a.currentAnimateTimings=null,{type:4,timings:g,style:b,options:null}}visitStyle(c,a){const g=this._makeStyleAst(c,a);return this._validateStyleAst(g,a),g}_makeStyleAst(c,a){const g=[],b=Array.isArray(c.styles)?c.styles:[c.styles];for(let oe of b)"string"==typeof oe?oe===Ni.kp?g.push(oe):a.errors.push(new r.wOt(3002,!1)):g.push(Hm(oe));let k=!1,z=null;return g.forEach(oe=>{if(oe instanceof Map&&(oe.has("easing")&&(z=oe.get("easing"),oe.delete("easing")),!k))for(let _e of oe.values())if(_e.toString().indexOf("{{")>=0){k=!0;break}}),{type:6,styles:g,easing:z,offset:c.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(c,a){const g=a.currentAnimateTimings;let b=a.currentTime,k=a.currentTime;g&&k>0&&(k-=g.duration+g.delay),c.styles.forEach(z=>{"string"!=typeof z&&z.forEach((oe,_e)=>{const Ge=a.collectedStyles.get(a.currentQuerySelector),gt=Ge.get(_e);let $t=!0;gt&&(k!=b&&k>=gt.startTime&&b<=gt.endTime&&(a.errors.push(function py(p,c,a,g,b){return new r.wOt(3010,!1)}()),$t=!1),k=gt.startTime),$t&&Ge.set(_e,{startTime:k,endTime:b}),a.options&&function Ot(p,c,a){const g=c.params||{},b=zi(p);b.length&&b.forEach(k=>{g.hasOwnProperty(k)||a.push(function Mc(p){return new r.wOt(3001,!1)}())})}(oe,a.options,a.errors)})})}visitKeyframes(c,a){const g={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Um(){return new r.wOt(3011,!1)}()),g;let k=0;const z=[];let oe=!1,_e=!1,Ge=0;const gt=c.steps.map(gr=>{const kr=this._makeStyleAst(gr,a);let mr=null!=kr.offset?kr.offset:function ZE(p){if("string"==typeof p)return null;let c=null;if(Array.isArray(p))p.forEach(a=>{if(a instanceof Map&&a.has("offset")){const g=a;c=parseFloat(g.get("offset")),g.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const a=p;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(kr.styles),rr=0;return null!=mr&&(k++,rr=kr.offset=mr),_e=_e||rr<0||rr>1,oe=oe||rr<Ge,Ge=rr,z.push(rr),kr});_e&&a.errors.push(function Fv(){return new r.wOt(3012,!1)}()),oe&&a.errors.push(function qE(){return new r.wOt(3200,!1)}());const $t=c.steps.length;let gn=0;k>0&&k<$t?a.errors.push(function og(){return new r.wOt(3202,!1)}()):0==k&&(gn=1/($t-1));const mn=$t-1,vn=a.currentTime,en=a.currentAnimateTimings,Cn=en.duration;return gt.forEach((gr,kr)=>{const mr=gn>0?kr==mn?1:gn*kr:z[kr],rr=mr*Cn;a.currentTime=vn+en.delay+rr,en.duration=rr,this._validateStyleAst(gr,a),gr.offset=mr,g.styles.push(gr)}),g}visitReference(c,a){return{type:8,animation:To(this,pt(c.animation),a),options:zf(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:zf(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:zf(c.options)}}visitQuery(c,a){const g=a.currentQuerySelector,b=c.options||{};a.queryCount++,a.currentQuery=c;const[k,z]=function JE(p){const c=!!p.split(/\s*,\s*/).find(a=>":self"==a);return c&&(p=p.replace(fT,"")),p=p.replace(/@\*/g,Kl).replace(/@\w+/g,a=>Kl+"-"+a.slice(1)).replace(/:animating/g,hg),[p,c]}(c.selector);a.currentQuerySelector=g.length?g+" "+k:k,ha(a.collectedStyles,a.currentQuerySelector,new Map);const oe=To(this,pt(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=g,{type:11,selector:k,limit:b.limit||0,optional:!!b.optional,includeSelf:z,animation:oe,originalSelector:c.selector,options:zf(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function hu(){return new r.wOt(3013,!1)}());const g="full"===c.timings?{duration:0,delay:0,easing:"full"}:Nc(c.timings,a.errors,!0);return{type:12,animation:To(this,pt(c.animation),a),timings:g,options:null}}}class Io{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zf(p){return p?(p=Mh(p)).params&&(p.params=function ib(p){return p?Mh(p):null}(p.params)):p={},p}function by(p,c,a){return{duration:p,delay:c,easing:a}}function Hv(p,c,a,g,b,k,z=null,oe=!1){return{type:1,element:p,keyframes:c,preStyleProps:a,postStyleProps:g,duration:b,delay:k,totalTime:b+k,easing:z,subTimeline:oe}}class zm{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let g=this._map.get(c);g||this._map.set(c,g=[]),g.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const ob=new RegExp(":enter","g"),t0=new RegExp(":leave","g");function zv(p,c,a,g,b,k=new Map,z=new Map,oe,_e,Ge=[]){return(new n0).buildKeyframes(p,c,a,g,b,k,z,oe,_e,Ge)}class n0{buildKeyframes(c,a,g,b,k,z,oe,_e,Ge,gt=[]){Ge=Ge||new zm;const $t=new Wm(c,a,Ge,b,k,gt,[]);$t.options=_e;const gn=_e.delay?xa(_e.delay):0;$t.currentTimeline.delayNextStep(gn),$t.currentTimeline.setStyles([z],null,$t.errors,_e),To(this,g,$t);const mn=$t.timelines.filter(vn=>vn.containsAnimation());if(mn.length&&oe.size){let vn;for(let en=mn.length-1;en>=0;en--){const Cn=mn[en];if(Cn.element===a){vn=Cn;break}}vn&&!vn.allowOnlyTimelineStyles()&&vn.setStyles([oe],null,$t.errors,_e)}return mn.length?mn.map(vn=>vn.buildKeyframes()):[Hv(a,[],[],[],0,gn,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const g=a.subInstructions.get(a.element);if(g){const b=a.createSubContext(c.options),k=a.currentTimeline.currentTime,z=this._visitSubInstructions(g,b,b.options);k!=z&&a.transformIntoNewTimeline(z)}a.previousNode=c}visitAnimateRef(c,a){const g=a.createSubContext(c.options);g.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,g),this.visitReference(c.animation,g),a.transformIntoNewTimeline(g.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,g){for(const b of c){const k=b?.delay;if(k){const z="number"==typeof k?k:xa(Vs(k,b?.params??{},a.errors));g.delayNextStep(z)}}}_visitSubInstructions(c,a,g){let k=a.currentTimeline.currentTime;const z=null!=g.duration?xa(g.duration):null,oe=null!=g.delay?xa(g.delay):null;return 0!==z&&c.forEach(_e=>{const Ge=a.appendInstructionToTimeline(_e,z,oe);k=Math.max(k,Ge.duration+Ge.delay)}),k}visitReference(c,a){a.updateOptions(c.options,!0),To(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const g=a.subContextCount;let b=a;const k=c.options;if(k&&(k.params||k.delay)&&(b=a.createSubContext(k),b.transformIntoNewTimeline(),null!=k.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=Wv);const z=xa(k.delay);b.delayNextStep(z)}c.steps.length&&(c.steps.forEach(z=>To(this,z,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>g&&b.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const g=[];let b=a.currentTimeline.currentTime;const k=c.options&&c.options.delay?xa(c.options.delay):0;c.steps.forEach(z=>{const oe=a.createSubContext(c.options);k&&oe.delayNextStep(k),To(this,z,oe),b=Math.max(b,oe.currentTimeline.currentTime),g.push(oe.currentTimeline)}),g.forEach(z=>a.currentTimeline.mergeTimelineCollectedStyles(z)),a.transformIntoNewTimeline(b),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const g=c.strValue;return Nc(a.params?Vs(g,a.params,a.errors):g,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const g=a.currentAnimateTimings=this._visitTiming(c.timings,a),b=a.currentTimeline;g.delay&&(a.incrementTime(g.delay),b.snapshotCurrentStyles());const k=c.style;5==k.type?this.visitKeyframes(k,a):(a.incrementTime(g.duration),this.visitStyle(k,a),b.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const g=a.currentTimeline,b=a.currentAnimateTimings;!b&&g.hasCurrentStyleProperties()&&g.forwardFrame();const k=b&&b.easing||c.easing;c.isEmptyStep?g.applyEmptyStep(k):g.setStyles(c.styles,k,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const g=a.currentAnimateTimings,b=a.currentTimeline.duration,k=g.duration,oe=a.createSubContext().currentTimeline;oe.easing=g.easing,c.styles.forEach(_e=>{oe.forwardTime((_e.offset||0)*k),oe.setStyles(_e.styles,_e.easing,a.errors,a.options),oe.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(oe),a.transformIntoNewTimeline(b+k),a.previousNode=c}visitQuery(c,a){const g=a.currentTimeline.currentTime,b=c.options||{},k=b.delay?xa(b.delay):0;k&&(6===a.previousNode.type||0==g&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Wv);let z=g;const oe=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!b.optional,a.errors);a.currentQueryTotal=oe.length;let _e=null;oe.forEach((Ge,gt)=>{a.currentQueryIndex=gt;const $t=a.createSubContext(c.options,Ge);k&&$t.delayNextStep(k),Ge===a.element&&(_e=$t.currentTimeline),To(this,c.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,$t.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(z),_e&&(a.currentTimeline.mergeTimelineCollectedStyles(_e),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const g=a.parentContext,b=a.currentTimeline,k=c.timings,z=Math.abs(k.duration),oe=z*(a.currentQueryTotal-1);let _e=z*a.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":_e=oe-_e;break;case"full":_e=g.currentStaggerTime}const gt=a.currentTimeline;_e&&gt.delayNextStep(_e);const $t=gt.currentTime;To(this,c.animation,a),a.previousNode=c,g.currentStaggerTime=b.currentTime-$t+(b.startTime-g.currentTimeline.startTime)}}const Wv={};class Wm{constructor(c,a,g,b,k,z,oe,_e){this._driver=c,this.element=a,this.subInstructions=g,this._enterClassName=b,this._leaveClassName=k,this.errors=z,this.timelines=oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_e||new gg(this._driver,a,0),oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const g=c;let b=this.options;null!=g.duration&&(b.duration=xa(g.duration)),null!=g.delay&&(b.delay=xa(g.delay));const k=g.params;if(k){let z=b.params;z||(z=this.options.params={}),Object.keys(k).forEach(oe=>{(!a||!z.hasOwnProperty(oe))&&(z[oe]=Vs(k[oe],z,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const g=c.params={};Object.keys(a).forEach(b=>{g[b]=a[b]})}}return c}createSubContext(c=null,a,g){const b=a||this.element,k=new Wm(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,g||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(c),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(c){return this.previousNode=Wv,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,g){const b={duration:a??c.duration,delay:this.currentTimeline.currentTime+(g??0)+c.delay,easing:""},k=new _u(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,b,c.stretchStartingKeyframe);return this.timelines.push(k),b}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,g,b,k,z){let oe=[];if(b&&oe.push(this.element),c.length>0){c=(c=c.replace(ob,"."+this._enterClassName)).replace(t0,"."+this._leaveClassName);let Ge=this._driver.query(this.element,c,1!=g);0!==g&&(Ge=g<0?Ge.slice(Ge.length+g,Ge.length):Ge.slice(0,g)),oe.push(...Ge)}return!k&&0==oe.length&&z.push(function gy(p){return new r.wOt(3014,!1)}()),oe}}class gg{constructor(c,a,g,b){this._driver=c,this.element=a,this.startTime=g,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new gg(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,g]of this._globalTimelineStyles)this._backFill.set(a,g||Ni.kp),this._currentKeyframe.set(a,Ni.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,g,b){a&&this._previousKeyframe.set("easing",a);const k=b&&b.params||{},z=function s0(p,c){const a=new Map;let g;return p.forEach(b=>{if("*"===b){g=g||c.keys();for(let k of g)a.set(k,Ni.kp)}else j(b,a)}),a}(c,this._globalTimelineStyles);for(let[oe,_e]of z){const Ge=Vs(_e,k,g);this._pendingStyles.set(oe,Ge),this._localTimelineStyles.has(oe)||this._backFill.set(oe,this._globalTimelineStyles.get(oe)??Ni.kp),this._updateStyle(oe,Ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,g)=>{const b=this._styleSummary.get(g);(!b||a.time>b.time)&&this._updateStyle(g,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,g=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((oe,_e)=>{const Ge=j(oe,new Map,this._backFill);Ge.forEach((gt,$t)=>{gt===Ni.FX?c.add($t):gt===Ni.kp&&a.add($t)}),g||Ge.set("offset",_e/this.duration),b.push(Ge)});const k=c.size?Ii(c.values()):[],z=a.size?Ii(a.values()):[];if(g){const oe=b[0],_e=new Map(oe);oe.set("offset",0),_e.set("offset",1),b=[oe,_e]}return Hv(this.element,b,k,z,this.duration,this.startTime,this.easing,!1)}}class _u extends gg{constructor(c,a,g,b,k,z,oe=!1){super(c,a,z.delay),this.keyframes=g,this.preStyleProps=b,this.postStyleProps=k,this._stretchStartingKeyframe=oe,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:g,easing:b}=this.timings;if(this._stretchStartingKeyframe&&a){const k=[],z=g+a,oe=a/z,_e=j(c[0]);_e.set("offset",0),k.push(_e);const Ge=j(c[0]);Ge.set("offset",r0(oe)),k.push(Ge);const gt=c.length-1;for(let $t=1;$t<=gt;$t++){let gn=j(c[$t]);const mn=gn.get("offset");gn.set("offset",r0((a+mn*g)/z)),k.push(gn)}g=z,a=0,b="",c=k}return Hv(this.element,c,this.preStyleProps,this.postStyleProps,g,a,b,!0)}}function r0(p,c=3){const a=Math.pow(10,c-1);return Math.round(p*a)/a}class El{}const o0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class a0 extends El{normalizePropertyName(c,a){return fo(c)}normalizeStyleValue(c,a,g,b){let k="";const z=g.toString().trim();if(o0.has(a)&&0!==g&&"0"!==g)if("number"==typeof g)k="px";else{const oe=g.match(/^[+-]?[\d\.]+([a-z]*)$/);oe&&0==oe[1].length&&b.push(function fs(p,c){return new r.wOt(3005,!1)}())}return z+k}}function l0(p,c,a,g,b,k,z,oe,_e,Ge,gt,$t,gn){return{type:0,element:p,triggerName:c,isRemovalTransition:b,fromState:a,fromStyles:k,toState:g,toStyles:z,timelines:oe,queriedElements:_e,preStyleProps:Ge,postStyleProps:gt,totalTime:$t,errors:gn}}const Kv={};class c0{constructor(c,a,g){this._triggerName=c,this.ast=a,this._stateStyles=g}match(c,a,g,b){return function qv(p,c,a,g,b){return p.some(k=>k(c,a,g,b))}(this.ast.matchers,c,a,g,b)}buildStyles(c,a,g){let b=this._stateStyles.get("*");return void 0!==c&&(b=this._stateStyles.get(c?.toString())||b),b?b.buildStyles(a,g):new Map}build(c,a,g,b,k,z,oe,_e,Ge,gt){const $t=[],gn=this.ast.options&&this.ast.options.params||Kv,vn=this.buildStyles(g,oe&&oe.params||Kv,$t),en=_e&&_e.params||Kv,Cn=this.buildStyles(b,en,$t),gr=new Set,kr=new Map,mr=new Map,rr="void"===b,Jr={params:Km(en,gn),delay:this.ast.options?.delay},Or=gt?[]:zv(c,a,this.ast.animation,k,z,vn,Cn,Jr,Ge,$t);let fi=0;if(Or.forEach(gs=>{fi=Math.max(gs.duration+gs.delay,fi)}),$t.length)return l0(a,this._triggerName,g,b,rr,vn,Cn,[],[],kr,mr,fi,$t);Or.forEach(gs=>{const Xi=gs.element,po=ha(kr,Xi,new Set);gs.preStyleProps.forEach(Ws=>po.add(Ws));const Uo=ha(mr,Xi,new Set);gs.postStyleProps.forEach(Ws=>Uo.add(Ws)),Xi!==a&&gr.add(Xi)});const ps=Ii(gr.values());return l0(a,this._triggerName,g,b,rr,vn,Cn,Or,ps,kr,mr,fi)}}function Km(p,c){const a=Mh(c);for(const g in p)p.hasOwnProperty(g)&&null!=p[g]&&(a[g]=p[g]);return a}class lb{constructor(c,a,g){this.styles=c,this.defaultParams=a,this.normalizer=g}buildStyles(c,a){const g=new Map,b=Mh(this.defaultParams);return Object.keys(c).forEach(k=>{const z=c[k];null!==z&&(b[k]=z)}),this.styles.styles.forEach(k=>{"string"!=typeof k&&k.forEach((z,oe)=>{z&&(z=Vs(z,b,a));const _e=this.normalizer.normalizePropertyName(oe,a);z=this.normalizer.normalizeStyleValue(oe,_e,z,a),g.set(oe,z)})}),g}}class cb{constructor(c,a,g){this.name=c,this.ast=a,this._normalizer=g,this.transitionFactories=[],this.states=new Map,a.states.forEach(b=>{this.states.set(b.name,new lb(b.style,b.options&&b.options.params||{},g))}),Yv(this.states,"true","1"),Yv(this.states,"false","0"),a.transitions.forEach(b=>{this.transitionFactories.push(new c0(c,b,this.states))}),this.fallbackTransition=function ub(p,c,a){return new c0(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,oe)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,g,b){return this.transitionFactories.find(z=>z.match(c,a,g,b))||null}matchStyles(c,a,g){return this.fallbackTransition.buildStyles(c,a,g)}}function Yv(p,c,a){p.has(c)?p.has(a)||p.set(a,p.get(c)):p.has(a)&&p.set(c,p.get(a))}const d0=new zm;class Ty{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,a){const g=[],k=XE(this._driver,a,g,[]);if(g.length)throw function zl(p){return new r.wOt(3503,!1)}();this._animations.set(c,k)}_buildPlayer(c,a,g){const b=c.element,k=Vf(this._normalizer,c.keyframes,a,g);return this._driver.animate(b,k,c.duration,c.delay,c.easing,[],!0)}create(c,a,g={}){const b=[],k=this._animations.get(c);let z;const oe=new Map;if(k?(z=zv(this._driver,a,k,Oc,_d,new Map,new Map,g,d0,b),z.forEach(gt=>{const $t=ha(oe,gt.element,new Map);gt.postStyleProps.forEach(gn=>$t.set(gn,null))})):(b.push(function Ff(){return new r.wOt(3300,!1)}()),z=[]),b.length)throw function jm(p){return new r.wOt(3504,!1)}();oe.forEach((gt,$t)=>{gt.forEach((gn,mn)=>{gt.set(mn,this._driver.computeStyle($t,mn,Ni.kp))})});const Ge=pu(z.map(gt=>{const $t=oe.get(gt.element);return this._buildPlayer(gt,new Map,$t)}));return this._playersById.set(c,Ge),Ge.onDestroy(()=>this.destroy(c)),this.players.push(Ge),Ge}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const g=this.players.indexOf(a);g>=0&&this.players.splice(g,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function fu(p){return new r.wOt(3301,!1)}();return a}listen(c,a,g,b){const k=Uf(a,"","","");return gd(this._getPlayer(c),g,k,b),()=>{}}command(c,a,g,b){if("register"==g)return void this.register(c,b[0]);if("create"==g)return void this.create(c,a,b[0]||{});const k=this._getPlayer(c);switch(g){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(c)}}}const h0="ng-animate-queued",Iy="ng-animate-disabled",Xv=[],qm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ql="__ng_removed";class Ym{get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const g=c&&c.hasOwnProperty("value");if(this.value=function pb(p){return p??null}(g?c.value:c),g){const k=Mh(c);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const g=this.options.params;Object.keys(a).forEach(b=>{null==g[b]&&(g[b]=a[b])})}}}const mg="void",Cy=new Ym(mg);class g0{constructor(c,a,g){this.id=c,this.hostElement=a,this._engine=g,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Yl(a,this._hostClassName)}listen(c,a,g,b){if(!this._triggers.has(a))throw function kf(p,c){return new r.wOt(3302,!1)}();if(null==g||0==g.length)throw function Ah(p){return new r.wOt(3303,!1)}();if(!function gb(p){return"start"==p||"done"==p}(g))throw function Dh(p,c){return new r.wOt(3400,!1)}();const k=ha(this._elementListeners,c,[]),z={name:a,phase:g,callback:b};k.push(z);const oe=ha(this._engine.statesByElement,c,new Map);return oe.has(a)||(Yl(c,xh),Yl(c,xh+"-"+a),oe.set(a,Cy)),()=>{this._engine.afterFlush(()=>{const _e=k.indexOf(z);_e>=0&&k.splice(_e,1),this._triggers.has(a)||oe.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function Lf(p){return new r.wOt(3401,!1)}();return a}trigger(c,a,g,b=!0){const k=this._getTrigger(a),z=new wy(this.id,a,c);let oe=this._engine.statesByElement.get(c);oe||(Yl(c,xh),Yl(c,xh+"-"+a),this._engine.statesByElement.set(c,oe=new Map));let _e=oe.get(a);const Ge=new Ym(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&_e&&Ge.absorbOptions(_e.options),oe.set(a,Ge),_e||(_e=Cy),Ge.value!==mg&&_e.value===Ge.value){if(!function yb(p,c){const a=Object.keys(p),g=Object.keys(c);if(a.length!=g.length)return!1;for(let b=0;b<a.length;b++){const k=a[b];if(!c.hasOwnProperty(k)||p[k]!==c[k])return!1}return!0}(_e.params,Ge.params)){const en=[],Cn=k.matchStyles(_e.value,_e.params,en),gr=k.matchStyles(Ge.value,Ge.params,en);en.length?this._engine.reportError(en):this._engine.afterFlush(()=>{me(c,Cn),X(c,gr)})}return}const gn=ha(this._engine.playersByElement,c,[]);gn.forEach(en=>{en.namespaceId==this.id&&en.triggerName==a&&en.queued&&en.destroy()});let mn=k.matchTransition(_e.value,Ge.value,c,Ge.params),vn=!1;if(!mn){if(!b)return;mn=k.fallbackTransition,vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:mn,fromState:_e,toState:Ge,player:z,isFallbackTransition:vn}),vn||(Yl(c,h0),z.onStart(()=>{_g(c,h0)})),z.onDone(()=>{let en=this.players.indexOf(z);en>=0&&this.players.splice(en,1);const Cn=this._engine.playersByElement.get(c);if(Cn){let gr=Cn.indexOf(z);gr>=0&&Cn.splice(gr,1)}}),this.players.push(z),gn.push(z),z}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,g)=>{this._elementListeners.set(g,a.filter(b=>b.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(g=>g.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const g=this._engine.driver.query(c,Kl,!0);g.forEach(b=>{if(b[ql])return;const k=this._engine.fetchNamespacesByElement(b);k.size?k.forEach(z=>z.triggerLeaveAnimation(b,a,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(c,a,g,b){const k=this._engine.statesByElement.get(c),z=new Map;if(k){const oe=[];if(k.forEach((_e,Ge)=>{if(z.set(Ge,_e.value),this._triggers.has(Ge)){const gt=this.trigger(c,Ge,mg,b);gt&&oe.push(gt)}}),oe.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,z),g&&pu(oe).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),g=this._engine.statesByElement.get(c);if(a&&g){const b=new Set;a.forEach(k=>{const z=k.name;if(b.has(z))return;b.add(z);const _e=this._triggers.get(z).fallbackTransition,Ge=g.get(z)||Cy,gt=new Ym(mg),$t=new wy(this.id,z,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:z,transition:_e,fromState:Ge,toState:gt,player:$t,isFallbackTransition:!0})})}}removeNode(c,a){const g=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let b=!1;if(g.totalAnimations){const k=g.players.length?g.playersByQueriedElement.get(c):[];if(k&&k.length)b=!0;else{let z=c;for(;z=z.parentNode;)if(g.statesByElement.get(z)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(c),b)g.markElementAsRemoved(this.id,c,!1,a);else{const k=c[ql];(!k||k===qm)&&(g.afterFlush(()=>this.clearElementCache(c)),g.destroyInnerAnimations(c),g._onRemovalComplete(c,a))}}insertNode(c,a){Yl(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(g=>{const b=g.player;if(b.destroyed)return;const k=g.element,z=this._elementListeners.get(k);z&&z.forEach(oe=>{if(oe.name==g.triggerName){const _e=Uf(k,g.triggerName,g.fromState.value,g.toState.value);_e._data=c,gd(g.player,oe.phase,_e,oe.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):a.push(g)}),this._queue=[],a.sort((g,b)=>{const k=g.transition.ast.depCount,z=b.transition.ast.depCount;return 0==k||0==z?k-z:this._engine.driver.containsElement(g.element,b.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class m0{_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,g){this.bodyNode=c,this.driver=a,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,k)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(g=>{g.queued&&c.push(g)})}),c}createNamespace(c,a){const g=new g0(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(g,a):(this.newHostElements.set(a,g),this.collectEnterElement(a)),this._namespaceLookup[c]=g}_balanceNamespaceList(c,a){const g=this._namespaceList,b=this.namespacesByHostElement;if(g.length-1>=0){let z=!1,oe=this.driver.getParentElement(a);for(;oe;){const _e=b.get(oe);if(_e){const Ge=g.indexOf(_e);g.splice(Ge+1,0,c),z=!0;break}oe=this.driver.getParentElement(oe)}z||g.unshift(c)}else g.push(c);return b.set(a,c),c}register(c,a){let g=this._namespaceLookup[c];return g||(g=this.createNamespace(c,a)),g}registerTrigger(c,a,g){let b=this._namespaceLookup[c];b&&b.register(a,g)&&this.totalAnimations++}destroy(c,a){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const g=this._fetchNamespace(c);this.namespacesByHostElement.delete(g.hostElement);const b=this._namespaceList.indexOf(g);b>=0&&this._namespaceList.splice(b,1),g.destroy(a),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,g=this.statesByElement.get(c);if(g)for(let b of g.values())if(b.namespaceId){const k=this._fetchNamespace(b.namespaceId);k&&a.add(k)}return a}trigger(c,a,g,b){if(Ay(a)){const k=this._fetchNamespace(c);if(k)return k.trigger(a,g,b),!0}return!1}insertNode(c,a,g,b){if(!Ay(a))return;const k=a[ql];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const z=this.collectedLeaveElements.indexOf(a);z>=0&&this.collectedLeaveElements.splice(z,1)}if(c){const z=this._fetchNamespace(c);z&&z.insertNode(a,g)}b&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Yl(c,Iy)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),_g(c,Iy))}removeNode(c,a,g){if(Ay(a)){const b=c?this._fetchNamespace(c):null;b?b.removeNode(a,g):this.markElementAsRemoved(c,a,!1,g);const k=this.namespacesByHostElement.get(a);k&&k.id!==c&&k.removeNode(a,g)}else this._onRemovalComplete(a,g)}markElementAsRemoved(c,a,g,b,k){this.collectedLeaveElements.push(a),a[ql]={namespaceId:c,setForRemoval:b,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:k}}listen(c,a,g,b,k){return Ay(a)?this._fetchNamespace(c).listen(a,g,b,k):()=>{}}_buildInstruction(c,a,g,b,k){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,g,b,c.fromState.options,c.toState.options,a,k)}destroyInnerAnimations(c){let a=this.driver.query(c,Kl,!0);a.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,hg,!0),a.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return pu(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[ql];if(a&&a.setForRemoval){if(c[ql]=qm,a.namespaceId){this.destroyInnerAnimations(c);const g=this._fetchNamespace(a.namespaceId);g&&g.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(Iy)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,b)=>this._balanceNamespaceList(g,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)Yl(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{a=this._flushAnimations(g,c)}finally{for(let b=0;b<g.length;b++)g[b]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],a.length?pu(a).onDone(()=>{g.forEach(b=>b())}):g.forEach(b=>b())}}reportError(c){throw function Sh(p){return new r.wOt(3402,!1)}()}_flushAnimations(c,a){const g=new zm,b=[],k=new Map,z=[],oe=new Map,_e=new Map,Ge=new Map,gt=new Set;this.disabledNodes.forEach(Rn=>{gt.add(Rn);const Kn=this.driver.query(Rn,".ng-animate-queued",!0);for(let yr=0;yr<Kn.length;yr++)gt.add(Kn[yr])});const $t=this.bodyNode,gn=Array.from(this.statesByElement.keys()),mn=v0(gn,this.collectedEnterElements),vn=new Map;let en=0;mn.forEach((Rn,Kn)=>{const yr=Oc+en++;vn.set(Kn,yr),Rn.forEach(ci=>Yl(ci,yr))});const Cn=[],gr=new Set,kr=new Set;for(let Rn=0;Rn<this.collectedLeaveElements.length;Rn++){const Kn=this.collectedLeaveElements[Rn],yr=Kn[ql];yr&&yr.setForRemoval&&(Cn.push(Kn),gr.add(Kn),yr.hasAnimation?this.driver.query(Kn,".ng-star-inserted",!0).forEach(ci=>gr.add(ci)):kr.add(Kn))}const mr=new Map,rr=v0(gn,Array.from(gr));rr.forEach((Rn,Kn)=>{const yr=_d+en++;mr.set(Kn,yr),Rn.forEach(ci=>Yl(ci,yr))}),c.push(()=>{mn.forEach((Rn,Kn)=>{const yr=vn.get(Kn);Rn.forEach(ci=>_g(ci,yr))}),rr.forEach((Rn,Kn)=>{const yr=mr.get(Kn);Rn.forEach(ci=>_g(ci,yr))}),Cn.forEach(Rn=>{this.processLeaveNode(Rn)})});const Jr=[],Or=[];for(let Rn=this._namespaceList.length-1;Rn>=0;Rn--)this._namespaceList[Rn].drainQueuedTransitions(a).forEach(yr=>{const ci=yr.player,Zs=yr.element;if(Jr.push(ci),this.collectedEnterElements.length){const oo=Zs[ql];if(oo&&oo.setForMove){if(oo.previousTriggersValues&&oo.previousTriggersValues.has(yr.triggerName)){const Oa=oo.previousTriggersValues.get(yr.triggerName),ga=this.statesByElement.get(yr.element);if(ga&&ga.has(yr.triggerName)){const Eg=ga.get(yr.triggerName);Eg.value=Oa,ga.set(yr.triggerName,Eg)}}return void ci.destroy()}}const Ma=!$t||!this.driver.containsElement($t,Zs),eo=mr.get(Zs),bl=vn.get(Zs),Qi=this._buildInstruction(yr,g,bl,eo,Ma);if(Qi.errors&&Qi.errors.length)return void Or.push(Qi);if(Ma)return ci.onStart(()=>me(Zs,Qi.fromStyles)),ci.onDestroy(()=>X(Zs,Qi.toStyles)),void b.push(ci);if(yr.isFallbackTransition)return ci.onStart(()=>me(Zs,Qi.fromStyles)),ci.onDestroy(()=>X(Zs,Qi.toStyles)),void b.push(ci);const Xl=[];Qi.timelines.forEach(oo=>{oo.stretchStartingKeyframe=!0,this.disabledNodes.has(oo.element)||Xl.push(oo)}),Qi.timelines=Xl,g.append(Zs,Qi.timelines),z.push({instruction:Qi,player:ci,element:Zs}),Qi.queriedElements.forEach(oo=>ha(oe,oo,[]).push(ci)),Qi.preStyleProps.forEach((oo,Oa)=>{if(oo.size){let ga=_e.get(Oa);ga||_e.set(Oa,ga=new Set),oo.forEach((Eg,bg)=>ga.add(bg))}}),Qi.postStyleProps.forEach((oo,Oa)=>{let ga=Ge.get(Oa);ga||Ge.set(Oa,ga=new Set),oo.forEach((Eg,bg)=>ga.add(bg))})});if(Or.length){const Rn=[];Or.forEach(Kn=>{Rn.push(function Ls(p,c){return new r.wOt(3505,!1)}())}),Jr.forEach(Kn=>Kn.destroy()),this.reportError(Rn)}const fi=new Map,ps=new Map;z.forEach(Rn=>{const Kn=Rn.element;g.has(Kn)&&(ps.set(Kn,Kn),this._beforeAnimationBuild(Rn.player.namespaceId,Rn.instruction,fi))}),b.forEach(Rn=>{const Kn=Rn.element;this._getPreviousPlayers(Kn,!1,Rn.namespaceId,Rn.triggerName,null).forEach(ci=>{ha(fi,Kn,[]).push(ci),ci.destroy()})});const gs=Cn.filter(Rn=>b0(Rn,_e,Ge)),Xi=new Map;y0(Xi,this.driver,kr,Ge,Ni.kp).forEach(Rn=>{b0(Rn,_e,Ge)&&gs.push(Rn)});const Uo=new Map;mn.forEach((Rn,Kn)=>{y0(Uo,this.driver,new Set(Rn),_e,Ni.FX)}),gs.forEach(Rn=>{const Kn=Xi.get(Rn),yr=Uo.get(Rn);Xi.set(Rn,new Map([...Kn?.entries()??[],...yr?.entries()??[]]))});const Ws=[],kc=[],vu={};z.forEach(Rn=>{const{element:Kn,player:yr,instruction:ci}=Rn;if(g.has(Kn)){if(gt.has(Kn))return yr.onDestroy(()=>X(Kn,ci.toStyles)),yr.disabled=!0,yr.overrideTotalTime(ci.totalTime),void b.push(yr);let Zs=vu;if(ps.size>1){let eo=Kn;const bl=[];for(;eo=eo.parentNode;){const Qi=ps.get(eo);if(Qi){Zs=Qi;break}bl.push(eo)}bl.forEach(Qi=>ps.set(Qi,Zs))}const Ma=this._buildAnimation(yr.namespaceId,ci,fi,k,Uo,Xi);if(yr.setRealPlayer(Ma),Zs===vu)Ws.push(yr);else{const eo=this.playersByElement.get(Zs);eo&&eo.length&&(yr.parentPlayer=pu(eo)),b.push(yr)}}else me(Kn,ci.fromStyles),yr.onDestroy(()=>X(Kn,ci.toStyles)),kc.push(yr),gt.has(Kn)&&b.push(yr)}),kc.forEach(Rn=>{const Kn=k.get(Rn.element);if(Kn&&Kn.length){const yr=pu(Kn);Rn.setRealPlayer(yr)}}),b.forEach(Rn=>{Rn.parentPlayer?Rn.syncPlayerEvents(Rn.parentPlayer):Rn.destroy()});for(let Rn=0;Rn<Cn.length;Rn++){const Kn=Cn[Rn],yr=Kn[ql];if(_g(Kn,_d),yr&&yr.hasAnimation)continue;let ci=[];if(oe.size){let Ma=oe.get(Kn);Ma&&Ma.length&&ci.push(...Ma);let eo=this.driver.query(Kn,hg,!0);for(let bl=0;bl<eo.length;bl++){let Qi=oe.get(eo[bl]);Qi&&Qi.length&&ci.push(...Qi)}}const Zs=ci.filter(Ma=>!Ma.destroyed);Zs.length?mb(this,Kn,Zs):this.processLeaveNode(Kn)}return Cn.length=0,Ws.forEach(Rn=>{this.players.push(Rn),Rn.onDone(()=>{Rn.destroy();const Kn=this.players.indexOf(Rn);this.players.splice(Kn,1)}),Rn.play()}),Ws}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,g,b,k){let z=[];if(a){const oe=this.playersByQueriedElement.get(c);oe&&(z=oe)}else{const oe=this.playersByElement.get(c);if(oe){const _e=!k||k==mg;oe.forEach(Ge=>{Ge.queued||!_e&&Ge.triggerName!=b||z.push(Ge)})}}return(g||b)&&(z=z.filter(oe=>!(g&&g!=oe.namespaceId||b&&b!=oe.triggerName))),z}_beforeAnimationBuild(c,a,g){const k=a.element,z=a.isRemovalTransition?void 0:c,oe=a.isRemovalTransition?void 0:a.triggerName;for(const _e of a.timelines){const Ge=_e.element,gt=Ge!==k,$t=ha(g,Ge,[]);this._getPreviousPlayers(Ge,gt,z,oe,a.toState).forEach(mn=>{const vn=mn.getRealPlayer();vn.beforeDestroy&&vn.beforeDestroy(),mn.destroy(),$t.push(mn)})}me(k,a.fromStyles)}_buildAnimation(c,a,g,b,k,z){const oe=a.triggerName,_e=a.element,Ge=[],gt=new Set,$t=new Set,gn=a.timelines.map(vn=>{const en=vn.element;gt.add(en);const Cn=en[ql];if(Cn&&Cn.removedBeforeQueried)return new Ni.sf(vn.duration,vn.delay);const gr=en!==_e,kr=function _b(p){const c=[];return E0(p,c),c}((g.get(en)||Xv).map(fi=>fi.getRealPlayer())).filter(fi=>!!fi.element&&fi.element===en),mr=k.get(en),rr=z.get(en),Jr=Vf(this._normalizer,vn.keyframes,mr,rr),Or=this._buildPlayer(vn,Jr,kr);if(vn.subTimeline&&b&&$t.add(en),gr){const fi=new wy(c,oe,en);fi.setRealPlayer(Or),Ge.push(fi)}return Or});Ge.forEach(vn=>{ha(this.playersByQueriedElement,vn.element,[]).push(vn),vn.onDone(()=>function fb(p,c,a){let g=p.get(c);if(g){if(g.length){const b=g.indexOf(a);g.splice(b,1)}0==g.length&&p.delete(c)}return g}(this.playersByQueriedElement,vn.element,vn))}),gt.forEach(vn=>Yl(vn,Gm));const mn=pu(gn);return mn.onDestroy(()=>{gt.forEach(vn=>_g(vn,Gm)),X(_e,a.toStyles)}),$t.forEach(vn=>{ha(b,vn,[]).push(mn)}),mn}_buildPlayer(c,a,g){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,g):new Ni.sf(c.duration,c.delay)}}class wy{constructor(c,a,g){this.namespaceId=c,this.triggerName=a,this.element=g,this._player=new Ni.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,g)=>{a.forEach(b=>gd(c,g,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){ha(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function Ay(p){return p&&1===p.nodeType}function _0(p,c){const a=p.style.display;return p.style.display=c??"none",a}function y0(p,c,a,g,b){const k=[];a.forEach(_e=>k.push(_0(_e)));const z=[];g.forEach((_e,Ge)=>{const gt=new Map;_e.forEach($t=>{const gn=c.computeStyle(Ge,$t,b);gt.set($t,gn),(!gn||0==gn.length)&&(Ge[ql]=Qv,z.push(Ge))}),p.set(Ge,gt)});let oe=0;return a.forEach(_e=>_0(_e,k[oe++])),z}function v0(p,c){const a=new Map;if(p.forEach(oe=>a.set(oe,[])),0==c.length)return a;const b=new Set(c),k=new Map;function z(oe){if(!oe)return 1;let _e=k.get(oe);if(_e)return _e;const Ge=oe.parentNode;return _e=a.has(Ge)?Ge:b.has(Ge)?1:z(Ge),k.set(oe,_e),_e}return c.forEach(oe=>{const _e=z(oe);1!==_e&&a.get(_e).push(oe)}),a}function Yl(p,c){p.classList?.add(c)}function _g(p,c){p.classList?.remove(c)}function mb(p,c,a){pu(a).onDone(()=>p.processLeaveNode(c))}function E0(p,c){for(let a=0;a<p.length;a++){const g=p[a];g instanceof Ni.ui?E0(g.players,c):c.push(g)}}function b0(p,c,a){const g=a.get(p);if(!g)return!1;let b=c.get(p);return b?g.forEach(k=>b.add(k)):c.set(p,g),a.delete(p),!0}class Dy{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(b,k)=>{},this._transitionEngine=new m0(c,a,g),this._timelineEngine=new Ty(c,a,g),this._transitionEngine.onRemovalComplete=(b,k)=>this.onRemovalComplete(b,k)}registerTrigger(c,a,g,b,k){const z=c+"-"+b;let oe=this._triggerCache[z];if(!oe){const _e=[],gt=XE(this._driver,k,_e,[]);if(_e.length)throw function Vv(p,c){return new r.wOt(3404,!1)}();oe=function u0(p,c,a){return new cb(p,c,a)}(b,gt,this._normalizer),this._triggerCache[z]=oe}this._transitionEngine.registerTrigger(a,b,oe)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,g,b){this._transitionEngine.insertNode(c,a,g,b)}onRemove(c,a,g){this._transitionEngine.removeNode(c,a,g)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,g,b){if("@"==g.charAt(0)){const[k,z]=Wl(g);this._timelineEngine.command(k,a,z,b)}else this._transitionEngine.trigger(c,a,g,b)}listen(c,a,g,b,k){if("@"==g.charAt(0)){const[z,oe]=Wl(g);return this._timelineEngine.listen(z,a,oe,k)}return this._transitionEngine.listen(c,a,g,b,k)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let Eb=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(a,g,b){this._element=a,this._startStyles=g,this._endStyles=b,this._state=0;let k=p.initialStylesByElement.get(a);k||p.initialStylesByElement.set(a,k=new Map),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&X(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(X(this._element,this._initialStyles),this._endStyles&&(X(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(me(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(me(this._element,this._endStyles),this._endStyles=null),X(this._element,this._initialStyles),this._state=3)}}return p})();function Jv(p){let c=null;return p.forEach((a,g)=>{(function T0(p){return"display"===p||"position"===p})(g)&&(c=c||new Map,c.set(g,a))}),c}class Zv{constructor(c,a,g,b){this.element=c,this.keyframes=a,this.options=g,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(g=>{a.push(Object.fromEntries(g))}),a}_triggerWebAnimation(c,a,g){return c.animate(this._convertKeyframesToObject(a),g)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((g,b)=>{"offset"!==b&&c.set(b,this._finished?g:Bv(this.element,b))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(g=>g()),a.length=0}}class I0{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,a){return!1}containsElement(c,a){return vy(c,a)}getParentElement(c){return Bm(c)}query(c,a,g){return $m(c,a,g)}computeStyle(c,a,g){return window.getComputedStyle(c)[a]}animate(c,a,g,b,k,z=[]){const _e={duration:g,delay:b,fill:0==b?"both":"forwards"};k&&(_e.easing=k);const Ge=new Map,gt=z.filter(mn=>mn instanceof Zv);(function pa(p,c){return 0===p||0===c})(g,b)&&gt.forEach(mn=>{mn.currentSnapshot.forEach((vn,en)=>Ge.set(en,vn))});let $t=function vd(p){return p.length?p[0]instanceof Map?p:p.map(c=>Hm(c)):[]}(a).map(mn=>j(mn));$t=function Hf(p,c,a){if(a.size&&c.length){let g=c[0],b=[];if(a.forEach((k,z)=>{g.has(z)||b.push(z),g.set(z,k)}),b.length)for(let k=1;k<c.length;k++){let z=c[k];b.forEach(oe=>z.set(oe,Bv(p,oe)))}}return c}(c,$t,Ge);const gn=function vb(p,c){let a=null,g=null;return Array.isArray(c)&&c.length?(a=Jv(c[0]),c.length>1&&(g=Jv(c[c.length-1]))):c instanceof Map&&(a=Jv(c)),a||g?new Eb(p,a,g):null}(c,$t);return new Zv(c,$t,_e,gn)}}let C0=(()=>{class p extends Ni.S6{constructor(a,g){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(g.body,{id:"0",encapsulation:r.gXe.None,styles:[],data:{animation:[]}})}build(a){const g=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(a)?(0,Ni.K2)(a):a;return eE(this._renderer,null,g,"register",[b]),new w0(g,this._renderer)}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(r._9s),r.KVO(pe.qQ))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})();class w0 extends Ni.Ro{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new A0(this._id,c,a||{},this._renderer)}}class A0{constructor(c,a,g,b){this.id=c,this.element=a,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return eE(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eE(p,c,a,g,b){return p.setProperty(c,`@@${a}:${g}`,b)}const tE="@.disabled";let D0=(()=>{class p{constructor(a,g,b){this.delegate=a,this.engine=g,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,g.onRemovalComplete=(k,z)=>{const oe=z?.parentNode(k);oe&&z.removeChild(oe,k)}}createRenderer(a,g){const k=this.delegate.createRenderer(a,g);if(!(a&&g&&g.data&&g.data.animation)){let gt=this._rendererCache.get(k);return gt||(gt=new nE("",k,this.engine,()=>this._rendererCache.delete(k)),this._rendererCache.set(k,gt)),gt}const z=g.id,oe=g.id+"-"+this._currentId;this._currentId++,this.engine.register(oe,a);const _e=gt=>{Array.isArray(gt)?gt.forEach(_e):this.engine.registerTrigger(z,oe,a,gt.name,gt)};return g.data.animation.forEach(_e),new Wf(this,oe,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,g,b){a>=0&&a<this._microtaskId?this._zone.run(()=>g(b)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[z,oe]=k;z(oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(r._9s),r.KVO(Dy),r.KVO(r.SKi))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})();class nE{constructor(c,a,g,b){this.namespaceId=c,this.delegate=a,this.engine=g,this._onDestroy=b}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,g,b=!0){this.delegate.insertBefore(c,a,g),this.engine.onInsert(this.namespaceId,a,c,b)}removeChild(c,a,g){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,g,b){this.delegate.setAttribute(c,a,g,b)}removeAttribute(c,a,g){this.delegate.removeAttribute(c,a,g)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,g,b){this.delegate.setStyle(c,a,g,b)}removeStyle(c,a,g){this.delegate.removeStyle(c,a,g)}setProperty(c,a,g){"@"==a.charAt(0)&&a==tE?this.disableAnimations(c,!!g):this.delegate.setProperty(c,a,g)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,g){return this.delegate.listen(c,a,g)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class Wf extends nE{constructor(c,a,g,b,k){super(a,g,b,k),this.factory=c,this.namespaceId=a}setProperty(c,a,g){"@"==a.charAt(0)?"."==a.charAt(1)&&a==tE?this.disableAnimations(c,g=void 0===g||!!g):this.engine.process(this.namespaceId,c,a.slice(1),g):this.delegate.setProperty(c,a,g)}listen(c,a,g){if("@"==a.charAt(0)){const b=function bb(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(c);let k=a.slice(1),z="";return"@"!=k.charAt(0)&&([k,z]=function Tb(p){const c=p.indexOf(".");return[p.substring(0,c),p.slice(c+1)]}(k)),this.engine.listen(this.namespaceId,b,k,z,oe=>{this.factory.scheduleListenerCallback(oe._data||-1,g,oe)})}return this.delegate.listen(c,a,g)}}const Ib=[{provide:Ni.S6,useClass:C0},{provide:El,useFactory:function gT(){return new a0}},{provide:Dy,useClass:(()=>{class p extends Dy{constructor(a,g,b,k){super(a.body,g,b)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(g){return new(g||p)(r.KVO(pe.qQ),r.KVO(Ph),r.KVO(El),r.KVO(r.o8S))}}static{this.\u0275prov=r.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:r._9s,useFactory:function rE(p,c,a){return new D0(p,c,a)},deps:[ce.B7,Dy,r.SKi]}],Sy=[{provide:Ph,useFactory:()=>new I0},{provide:r.bc$,useValue:"BrowserAnimations"},...Ib],iE=[{provide:Ph,useClass:ug},{provide:r.bc$,useValue:"NoopAnimations"},...Ib];let mT=(()=>{class p{static withConfig(a){return{ngModule:p,providers:a.disableAnimations?iE:Sy}}static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=r.$C({type:p})}static{this.\u0275inj=r.G2t({providers:Sy,imports:[ce.Bb]})}}return p})();const sE={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","sbmediahub.com":"MGou3rzTVIbP77OLmZa7","sp.sbmediahub.com":"KyQfU7hjez0uXRfAjqcu","elderlyhc.sbmediahub.com":"SJgFxBYkopnPR4WibCAf","prestige.sbmediahub.com":"pDJgpl34XUnRblyIlBA7","prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","www.prestigecareafh.com":"pDJgpl34XUnRblyIlBA7","cc.sbmediahub.com":"yrNc50SvfPqwTSkvvygA","hh.sbmediahub.com":"vfCMoPjAu2ROVBbKvk0D","ae.sbmediahub.com":"UiSDf9elSjwcbQs2HZb1","www.sbmediahub.com":"MGou3rzTVIbP77OLmZa7","countrycrestafh.com":"yrNc50SvfPqwTSkvvygA","www.countrycrestafh.com":"yrNc50SvfPqwTSkvvygA"};function vg(p,c,a){return()=>{const g=window.location.hostname,b=new URL(window.location.href);let k=sE[g]||b.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return p.loadTheme(k)}}function Cb(p,c,a){const g=window.location.hostname,b=new URL(window.location.href);let k=sE[g]||b.searchParams.get("id")||"MGou3rzTVIbP77OLmZa7";return()=>{p.loadBusinessData(k).toPromise().then(()=>{}).catch(z=>{console.error("Error loading business data:",z)})}}let Ry=(()=>{class p{static{this.\u0275fac=function(g){return new(g||p)}}static{this.\u0275mod=r.$C({type:p,bootstrap:[B_]})}static{this.\u0275inj=r.G2t({providers:[{provide:r.hnV,useFactory:vg,deps:[Th,pe.aZ,ir.Ix],multi:!0},{provide:r.hnV,useFactory:Cb,deps:[xt.A,pe.aZ,ir.Ix],multi:!0}],imports:[ce.Bb,ir.iI,Zy,bc.cM,oy.y5,Om.X8,Sf.bf.initializeApp(vf_firebase),iv(()=>ph(vf_firebase)),le(()=>Dm()),Fm(()=>km()),yi.X1,yi.YN,Z,mT]})}}return p})();ce.sG().bootstrapModule(Ry).catch(p=>console.error(p))},4412:(tn,Ye,L)=>{L.d(Ye,{t:()=>ce});var s=L(1413);class ce extends s.B{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const fe=super._subscribe(be);return!fe.closed&&be.next(this._value),fe}getValue(){const{hasError:be,thrownError:fe,_value:Ee}=this;if(be)throw fe;return this._throwIfClosed(),Ee}next(be){super.next(this._value=be)}}},1985:(tn,Ye,L)=>{L.d(Ye,{c:()=>Te});var s=L(7707),ce=L(8359),r=L(3494),be=L(1203),fe=L(1026),Ee=L(8071),Se=L(9786);let Te=(()=>{class pe{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const ve=new pe;return ve.source=this,ve.operator=Be,ve}subscribe(Be,ve,qe){const we=function ie(pe){return pe&&pe instanceof s.vU||function K(pe){return pe&&(0,Ee.T)(pe.next)&&(0,Ee.T)(pe.error)&&(0,Ee.T)(pe.complete)}(pe)&&(0,ce.Uv)(pe)}(Be)?Be:new s.Ms(Be,ve,qe);return(0,Se.Y)(()=>{const{operator:bt,source:jt}=this;we.add(bt?bt.call(we,jt):jt?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Be){try{return this._subscribe(Be)}catch(ve){Be.error(ve)}}forEach(Be,ve){return new(ve=xe(ve))((qe,we)=>{const bt=new s.Ms({next:jt=>{try{Be(jt)}catch(He){we(He),bt.unsubscribe()}},error:we,complete:qe});this.subscribe(bt)})}_subscribe(Be){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(Be)}[r.s](){return this}pipe(...Be){return(0,be.m)(Be)(this)}toPromise(Be){return new(Be=xe(Be))((ve,qe)=>{let we;this.subscribe(bt=>we=bt,bt=>qe(bt),()=>ve(we))})}}return pe.create=Pe=>new pe(Pe),pe})();function xe(pe){var Pe;return null!==(Pe=pe??fe.$.Promise)&&void 0!==Pe?Pe:Promise}},1413:(tn,Ye,L)=>{L.d(Ye,{B:()=>Se});var s=L(1985),ce=L(8359);const be=(0,L(1853).L)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=L(7908),Ee=L(9786);let Se=(()=>{class xe extends s.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const pe=new Te(this,this);return pe.operator=ie,pe}_throwIfClosed(){if(this.closed)throw new be}next(ie){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(ie)}})}error(ie){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:pe}=this;for(;pe.length;)pe.shift().error(ie)}})}complete(){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:pe,isStopped:Pe,observers:Be}=this;return pe||Pe?ce.Kn:(this.currentObservers=null,Be.push(ie),new ce.yU(()=>{this.currentObservers=null,(0,fe.o)(Be,ie)}))}_checkFinalizedStatuses(ie){const{hasError:pe,thrownError:Pe,isStopped:Be}=this;pe?ie.error(Pe):Be&&ie.complete()}asObservable(){const ie=new s.c;return ie.source=this,ie}}return xe.create=(K,ie)=>new Te(K,ie),xe})();class Te extends Se{constructor(K,ie){super(),this.destination=K,this.source=ie}next(K){var ie,pe;null===(pe=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===pe||pe.call(ie,K)}error(K){var ie,pe;null===(pe=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===pe||pe.call(ie,K)}complete(){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ie||ie.call(K)}_subscribe(K){var ie,pe;return null!==(pe=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(K))&&void 0!==pe?pe:ce.Kn}}},7707:(tn,Ye,L)=>{L.d(Ye,{Ms:()=>qe,vU:()=>pe});var s=L(8071),ce=L(8359),r=L(1026),be=L(5334),fe=L(5343);const Ee=xe("C",void 0,void 0);function xe(Ae,Ze,Ke){return{kind:Ae,value:Ze,error:Ke}}var K=L(9270),ie=L(9786);class pe extends ce.yU{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,ce.Uv)(Ze)&&Ze.add(this)):this.destination=He}static create(Ze,Ke,lt){return new qe(Ze,Ke,lt)}next(Ze){this.isStopped?jt(function Te(Ae){return xe("N",Ae,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?jt(function Se(Ae){return xe("E",void 0,Ae)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?jt(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Be(Ae,Ze){return Pe.call(Ae,Ze)}class ve{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(Ze)}catch(lt){we(lt)}}error(Ze){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(Ze)}catch(lt){we(lt)}else we(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Ke){we(Ke)}}}class qe extends pe{constructor(Ze,Ke,lt){let Pt;if(super(),(0,s.T)(Ze)||!Ze)Pt={next:Ze??void 0,error:Ke??void 0,complete:lt??void 0};else{let ct;this&&r.$.useDeprecatedNextContext?(ct=Object.create(Ze),ct.unsubscribe=()=>this.unsubscribe(),Pt={next:Ze.next&&Be(Ze.next,ct),error:Ze.error&&Be(Ze.error,ct),complete:Ze.complete&&Be(Ze.complete,ct)}):Pt=Ze}this.destination=new ve(Pt)}}function we(Ae){r.$.useDeprecatedSynchronousErrorHandling?(0,ie.l)(Ae):(0,be.m)(Ae)}function jt(Ae,Ze){const{onStoppedNotification:Ke}=r.$;Ke&&K.f.setTimeout(()=>Ke(Ae,Ze))}const He={closed:!0,next:fe.l,error:function bt(Ae){throw Ae},complete:fe.l}},8359:(tn,Ye,L)=>{L.d(Ye,{Kn:()=>Ee,yU:()=>fe,Uv:()=>Se});var s=L(8071);const r=(0,L(1853).L)(xe=>function(ie){xe(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((pe,Pe)=>`${Pe+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var be=L(7908);class fe{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Be of ie)Be.remove(this);else ie.remove(this);const{initialTeardown:pe}=this;if((0,s.T)(pe))try{pe()}catch(Be){K=Be instanceof r?Be.errors:[Be]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Be of Pe)try{Te(Be)}catch(ve){K=K??[],ve instanceof r?K=[...K,...ve.errors]:K.push(ve)}}if(K)throw new r(K)}}add(K){var ie;if(K&&K!==this)if(this.closed)Te(K);else{if(K instanceof fe){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(K)}}_hasParent(K){const{_parentage:ie}=this;return ie===K||Array.isArray(ie)&&ie.includes(K)}_addParent(K){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(K),ie):ie?[ie,K]:K}_removeParent(K){const{_parentage:ie}=this;ie===K?this._parentage=null:Array.isArray(ie)&&(0,be.o)(ie,K)}remove(K){const{_finalizers:ie}=this;ie&&(0,be.o)(ie,K),K instanceof fe&&K._removeParent(this)}}fe.EMPTY=(()=>{const xe=new fe;return xe.closed=!0,xe})();const Ee=fe.EMPTY;function Se(xe){return xe instanceof fe||xe&&"closed"in xe&&(0,s.T)(xe.remove)&&(0,s.T)(xe.add)&&(0,s.T)(xe.unsubscribe)}function Te(xe){(0,s.T)(xe)?xe():xe.unsubscribe()}},1026:(tn,Ye,L)=>{L.d(Ye,{$:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(tn,Ye,L)=>{L.d(Ye,{x:()=>fe});var s=L(6365),r=L(3794),be=L(8455);function fe(...Ee){return function ce(){return(0,s.U)(1)}()((0,be.H)(Ee,(0,r.lI)(Ee)))}},983:(tn,Ye,L)=>{L.d(Ye,{w:()=>ce});const ce=new(L(1985).c)(fe=>fe.complete())},8455:(tn,Ye,L)=>{L.d(Ye,{H:()=>Ze});var s=L(8750),ce=L(941),r=L(6745),Ee=L(1985),Te=L(4761),xe=L(8071),K=L(5225);function pe(Ke,lt){if(!Ke)throw new Error("Iterable cannot be null");return new Ee.c(Pt=>{(0,K.N)(Pt,lt,()=>{const ct=Ke[Symbol.asyncIterator]();(0,K.N)(Pt,lt,()=>{ct.next().then(Ie=>{Ie.done?Pt.complete():Pt.next(Ie.value)})},0,!0)})})}var Pe=L(5055),Be=L(9858),ve=L(7441),qe=L(5397),we=L(7953),bt=L(591),jt=L(5196);function Ze(Ke,lt){return lt?function Ae(Ke,lt){if(null!=Ke){if((0,Pe.l)(Ke))return function be(Ke,lt){return(0,s.Tg)(Ke).pipe((0,r._)(lt),(0,ce.Q)(lt))}(Ke,lt);if((0,ve.X)(Ke))return function Se(Ke,lt){return new Ee.c(Pt=>{let ct=0;return lt.schedule(function(){ct===Ke.length?Pt.complete():(Pt.next(Ke[ct++]),Pt.closed||this.schedule())})})}(Ke,lt);if((0,Be.y)(Ke))return function fe(Ke,lt){return(0,s.Tg)(Ke).pipe((0,r._)(lt),(0,ce.Q)(lt))}(Ke,lt);if((0,we.T)(Ke))return pe(Ke,lt);if((0,qe.x)(Ke))return function ie(Ke,lt){return new Ee.c(Pt=>{let ct;return(0,K.N)(Pt,lt,()=>{ct=Ke[Te.l](),(0,K.N)(Pt,lt,()=>{let Ie,Qe;try{({value:Ie,done:Qe}=ct.next())}catch(Yt){return void Pt.error(Yt)}Qe?Pt.complete():Pt.next(Ie)},0,!0)}),()=>(0,xe.T)(ct?.return)&&ct.return()})}(Ke,lt);if((0,jt.U)(Ke))return function He(Ke,lt){return pe((0,jt.C)(Ke),lt)}(Ke,lt)}throw(0,bt.L)(Ke)}(Ke,lt):(0,s.Tg)(Ke)}},8750:(tn,Ye,L)=>{L.d(Ye,{Tg:()=>Pe});var s=L(1635),ce=L(7441),r=L(9858),be=L(1985),fe=L(5055),Ee=L(7953),Se=L(591),Te=L(5397),xe=L(5196),K=L(8071),ie=L(5334),pe=L(3494);function Pe(Ae){if(Ae instanceof be.c)return Ae;if(null!=Ae){if((0,fe.l)(Ae))return function Be(Ae){return new be.c(Ze=>{const Ke=Ae[pe.s]();if((0,K.T)(Ke.subscribe))return Ke.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ce.X)(Ae))return function ve(Ae){return new be.c(Ze=>{for(let Ke=0;Ke<Ae.length&&!Ze.closed;Ke++)Ze.next(Ae[Ke]);Ze.complete()})}(Ae);if((0,r.y)(Ae))return function qe(Ae){return new be.c(Ze=>{Ae.then(Ke=>{Ze.closed||(Ze.next(Ke),Ze.complete())},Ke=>Ze.error(Ke)).then(null,ie.m)})}(Ae);if((0,Ee.T)(Ae))return bt(Ae);if((0,Te.x)(Ae))return function we(Ae){return new be.c(Ze=>{for(const Ke of Ae)if(Ze.next(Ke),Ze.closed)return;Ze.complete()})}(Ae);if((0,xe.U)(Ae))return function jt(Ae){return bt((0,xe.C)(Ae))}(Ae)}throw(0,Se.L)(Ae)}function bt(Ae){return new be.c(Ze=>{(function He(Ae,Ze){var Ke,lt,Pt,ct;return(0,s.sH)(this,void 0,void 0,function*(){try{for(Ke=(0,s.xN)(Ae);!(lt=yield Ke.next()).done;)if(Ze.next(lt.value),Ze.closed)return}catch(Ie){Pt={error:Ie}}finally{try{lt&&!lt.done&&(ct=Ke.return)&&(yield ct.call(Ke))}finally{if(Pt)throw Pt.error}}Ze.complete()})})(Ae,Ze).catch(Ke=>Ze.error(Ke))})}},7786:(tn,Ye,L)=>{L.d(Ye,{h:()=>Ee});var s=L(6365),ce=L(8750),r=L(983),be=L(3794),fe=L(8455);function Ee(...Se){const Te=(0,be.lI)(Se),xe=(0,be.R0)(Se,1/0),K=Se;return K.length?1===K.length?(0,ce.Tg)(K[0]):(0,s.U)(xe)((0,fe.H)(K,Te)):r.w}},7673:(tn,Ye,L)=>{L.d(Ye,{of:()=>r});var s=L(3794),ce=L(8455);function r(...be){const fe=(0,s.lI)(be);return(0,ce.H)(be,fe)}},8810:(tn,Ye,L)=>{L.d(Ye,{$:()=>r});var s=L(1985),ce=L(8071);function r(be,fe){const Ee=(0,ce.T)(be)?be:()=>be,Se=Te=>Te.error(Ee());return new s.c(fe?Te=>fe.schedule(Se,0,Te):Se)}},4360:(tn,Ye,L)=>{L.d(Ye,{_:()=>ce});var s=L(7707);function ce(be,fe,Ee,Se,Te){return new r(be,fe,Ee,Se,Te)}class r extends s.vU{constructor(fe,Ee,Se,Te,xe,K){super(fe),this.onFinalize=xe,this.shouldUnsubscribe=K,this._next=Ee?function(ie){try{Ee(ie)}catch(pe){fe.error(pe)}}:super._next,this._error=Te?function(ie){try{Te(ie)}catch(pe){fe.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(ie){fe.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},9437:(tn,Ye,L)=>{L.d(Ye,{W:()=>be});var s=L(8750),ce=L(4360),r=L(9974);function be(fe){return(0,r.N)((Ee,Se)=>{let K,Te=null,xe=!1;Te=Ee.subscribe((0,ce._)(Se,void 0,void 0,ie=>{K=(0,s.Tg)(fe(ie,be(fe)(Ee))),Te?(Te.unsubscribe(),Te=null,K.subscribe(Se)):xe=!0})),xe&&(Te.unsubscribe(),Te=null,K.subscribe(Se))})}},274:(tn,Ye,L)=>{L.d(Ye,{H:()=>r});var s=L(1397),ce=L(8071);function r(be,fe){return(0,ce.T)(fe)?(0,s.Z)(be,fe,1):(0,s.Z)(be,1)}},9901:(tn,Ye,L)=>{L.d(Ye,{U:()=>r});var s=L(9974),ce=L(4360);function r(be){return(0,s.N)((fe,Ee)=>{let Se=!1;fe.subscribe((0,ce._)(Ee,Te=>{Se=!0,Ee.next(Te)},()=>{Se||Ee.next(be),Ee.complete()}))})}},3294:(tn,Ye,L)=>{L.d(Ye,{F:()=>be});var s=L(3669),ce=L(9974),r=L(4360);function be(Ee,Se=s.D){return Ee=Ee??fe,(0,ce.N)((Te,xe)=>{let K,ie=!0;Te.subscribe((0,r._)(xe,pe=>{const Pe=Se(pe);(ie||!Ee(K,Pe))&&(ie=!1,K=Pe,xe.next(pe))}))})}function fe(Ee,Se){return Ee===Se}},5964:(tn,Ye,L)=>{L.d(Ye,{p:()=>r});var s=L(9974),ce=L(4360);function r(be,fe){return(0,s.N)((Ee,Se)=>{let Te=0;Ee.subscribe((0,ce._)(Se,xe=>be.call(fe,xe,Te++)&&Se.next(xe)))})}},980:(tn,Ye,L)=>{L.d(Ye,{j:()=>ce});var s=L(9974);function ce(r){return(0,s.N)((be,fe)=>{try{be.subscribe(fe)}finally{fe.add(r)}})}},1594:(tn,Ye,L)=>{L.d(Ye,{$:()=>Se});var s=L(9350),ce=L(5964),r=L(6697),be=L(9901),fe=L(3774),Ee=L(3669);function Se(Te,xe){const K=arguments.length>=2;return ie=>ie.pipe(Te?(0,ce.p)((pe,Pe)=>Te(pe,Pe,ie)):Ee.D,(0,r.s)(1),K?(0,be.U)(xe):(0,fe.v)(()=>new s.G))}},6354:(tn,Ye,L)=>{L.d(Ye,{T:()=>r});var s=L(9974),ce=L(4360);function r(be,fe){return(0,s.N)((Ee,Se)=>{let Te=0;Ee.subscribe((0,ce._)(Se,xe=>{Se.next(be.call(fe,xe,Te++))}))})}},6365:(tn,Ye,L)=>{L.d(Ye,{U:()=>r});var s=L(1397),ce=L(3669);function r(be=1/0){return(0,s.Z)(ce.D,be)}},1397:(tn,Ye,L)=>{L.d(Ye,{Z:()=>Te});var s=L(6354),ce=L(8750),r=L(9974),be=L(5225),fe=L(4360),Se=L(8071);function Te(xe,K,ie=1/0){return(0,Se.T)(K)?Te((pe,Pe)=>(0,s.T)((Be,ve)=>K(pe,Be,Pe,ve))((0,ce.Tg)(xe(pe,Pe))),ie):("number"==typeof K&&(ie=K),(0,r.N)((pe,Pe)=>function Ee(xe,K,ie,pe,Pe,Be,ve,qe){const we=[];let bt=0,jt=0,He=!1;const Ae=()=>{He&&!we.length&&!bt&&K.complete()},Ze=lt=>bt<pe?Ke(lt):we.push(lt),Ke=lt=>{Be&&K.next(lt),bt++;let Pt=!1;(0,ce.Tg)(ie(lt,jt++)).subscribe((0,fe._)(K,ct=>{Pe?.(ct),Be?Ze(ct):K.next(ct)},()=>{Pt=!0},void 0,()=>{if(Pt)try{for(bt--;we.length&&bt<pe;){const ct=we.shift();ve?(0,be.N)(K,ve,()=>Ke(ct)):Ke(ct)}Ae()}catch(ct){K.error(ct)}}))};return xe.subscribe((0,fe._)(K,Ze,()=>{He=!0,Ae()})),()=>{qe?.()}}(pe,Pe,xe,ie)))}},941:(tn,Ye,L)=>{L.d(Ye,{Q:()=>be});var s=L(5225),ce=L(9974),r=L(4360);function be(fe,Ee=0){return(0,ce.N)((Se,Te)=>{Se.subscribe((0,r._)(Te,xe=>(0,s.N)(Te,fe,()=>Te.next(xe),Ee),()=>(0,s.N)(Te,fe,()=>Te.complete(),Ee),xe=>(0,s.N)(Te,fe,()=>Te.error(xe),Ee)))})}},2816:(tn,Ye,L)=>{L.d(Ye,{S:()=>be});var s=L(9974),ce=L(4360);function be(fe,Ee){return(0,s.N)(function r(fe,Ee,Se,Te,xe){return(K,ie)=>{let pe=Se,Pe=Ee,Be=0;K.subscribe((0,ce._)(ie,ve=>{const qe=Be++;Pe=pe?fe(Pe,ve,qe):(pe=!0,ve),Te&&ie.next(Pe)},xe&&(()=>{pe&&ie.next(Pe),ie.complete()})))}}(fe,Ee,arguments.length>=2,!0))}},7647:(tn,Ye,L)=>{L.d(Ye,{u:()=>fe});var s=L(8750),ce=L(1413),r=L(7707),be=L(9974);function fe(Se={}){const{connector:Te=(()=>new ce.B),resetOnError:xe=!0,resetOnComplete:K=!0,resetOnRefCountZero:ie=!0}=Se;return pe=>{let Pe,Be,ve,qe=0,we=!1,bt=!1;const jt=()=>{Be?.unsubscribe(),Be=void 0},He=()=>{jt(),Pe=ve=void 0,we=bt=!1},Ae=()=>{const Ze=Pe;He(),Ze?.unsubscribe()};return(0,be.N)((Ze,Ke)=>{qe++,!bt&&!we&&jt();const lt=ve=ve??Te();Ke.add(()=>{qe--,0===qe&&!bt&&!we&&(Be=Ee(Ae,ie))}),lt.subscribe(Ke),!Pe&&qe>0&&(Pe=new r.Ms({next:Pt=>lt.next(Pt),error:Pt=>{bt=!0,jt(),Be=Ee(He,xe,Pt),lt.error(Pt)},complete:()=>{we=!0,jt(),Be=Ee(He,K),lt.complete()}}),(0,s.Tg)(Ze).subscribe(Pe))})(pe)}}function Ee(Se,Te,...xe){if(!0===Te)return void Se();if(!1===Te)return;const K=new r.Ms({next:()=>{K.unsubscribe(),Se()}});return(0,s.Tg)(Te(...xe)).subscribe(K)}},9172:(tn,Ye,L)=>{L.d(Ye,{Z:()=>be});var s=L(8793),ce=L(3794),r=L(9974);function be(...fe){const Ee=(0,ce.lI)(fe);return(0,r.N)((Se,Te)=>{(Ee?(0,s.x)(fe,Se,Ee):(0,s.x)(fe,Se)).subscribe(Te)})}},6745:(tn,Ye,L)=>{L.d(Ye,{_:()=>ce});var s=L(9974);function ce(r,be=0){return(0,s.N)((fe,Ee)=>{Ee.add(r.schedule(()=>fe.subscribe(Ee),be))})}},5558:(tn,Ye,L)=>{L.d(Ye,{n:()=>be});var s=L(8750),ce=L(9974),r=L(4360);function be(fe,Ee){return(0,ce.N)((Se,Te)=>{let xe=null,K=0,ie=!1;const pe=()=>ie&&!xe&&Te.complete();Se.subscribe((0,r._)(Te,Pe=>{xe?.unsubscribe();let Be=0;const ve=K++;(0,s.Tg)(fe(Pe,ve)).subscribe(xe=(0,r._)(Te,qe=>Te.next(Ee?Ee(Pe,qe,ve,Be++):qe),()=>{xe=null,pe()}))},()=>{ie=!0,pe()}))})}},6697:(tn,Ye,L)=>{L.d(Ye,{s:()=>be});var s=L(983),ce=L(9974),r=L(4360);function be(fe){return fe<=0?()=>s.w:(0,ce.N)((Ee,Se)=>{let Te=0;Ee.subscribe((0,r._)(Se,xe=>{++Te<=fe&&(Se.next(xe),fe<=Te&&Se.complete())}))})}},8141:(tn,Ye,L)=>{L.d(Ye,{M:()=>fe});var s=L(8071),ce=L(9974),r=L(4360),be=L(3669);function fe(Ee,Se,Te){const xe=(0,s.T)(Ee)||Se||Te?{next:Ee,error:Se,complete:Te}:Ee;return xe?(0,ce.N)((K,ie)=>{var pe;null===(pe=xe.subscribe)||void 0===pe||pe.call(xe);let Pe=!0;K.subscribe((0,r._)(ie,Be=>{var ve;null===(ve=xe.next)||void 0===ve||ve.call(xe,Be),ie.next(Be)},()=>{var Be;Pe=!1,null===(Be=xe.complete)||void 0===Be||Be.call(xe),ie.complete()},Be=>{var ve;Pe=!1,null===(ve=xe.error)||void 0===ve||ve.call(xe,Be),ie.error(Be)},()=>{var Be,ve;Pe&&(null===(Be=xe.unsubscribe)||void 0===Be||Be.call(xe)),null===(ve=xe.finalize)||void 0===ve||ve.call(xe)}))}):be.D}},3774:(tn,Ye,L)=>{L.d(Ye,{v:()=>be});var s=L(9350),ce=L(9974),r=L(4360);function be(Ee=fe){return(0,ce.N)((Se,Te)=>{let xe=!1;Se.subscribe((0,r._)(Te,K=>{xe=!0,Te.next(K)},()=>xe?Te.complete():Te.error(Ee())))})}function fe(){return new s.G}},6780:(tn,Ye,L)=>{L.d(Ye,{R:()=>fe});var s=L(8359);class ce extends s.yU{constructor(Se,Te){super()}schedule(Se,Te=0){return this}}const r={setInterval(Ee,Se,...Te){const{delegate:xe}=r;return xe?.setInterval?xe.setInterval(Ee,Se,...Te):setInterval(Ee,Se,...Te)},clearInterval(Ee){const{delegate:Se}=r;return(Se?.clearInterval||clearInterval)(Ee)},delegate:void 0};var be=L(7908);class fe extends ce{constructor(Se,Te){super(Se,Te),this.scheduler=Se,this.work=Te,this.pending=!1}schedule(Se,Te=0){var xe;if(this.closed)return this;this.state=Se;const K=this.id,ie=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(ie,K,Te)),this.pending=!0,this.delay=Te,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(ie,this.id,Te),this}requestAsyncId(Se,Te,xe=0){return r.setInterval(Se.flush.bind(Se,this),xe)}recycleAsyncId(Se,Te,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Te;null!=Te&&r.clearInterval(Te)}execute(Se,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Se,Te);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Te){let K,xe=!1;try{this.work(Se)}catch(ie){xe=!0,K=ie||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Te}=this,{actions:xe}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.o)(xe,this),null!=Se&&(this.id=this.recycleAsyncId(Te,Se,null)),this.delay=null,super.unsubscribe()}}}},9687:(tn,Ye,L)=>{L.d(Ye,{q:()=>r});var s=L(6129);class ce{constructor(fe,Ee=ce.now){this.schedulerActionCtor=fe,this.now=Ee}schedule(fe,Ee=0,Se){return new this.schedulerActionCtor(this,fe).schedule(Se,Ee)}}ce.now=s.U.now;class r extends ce{constructor(fe,Ee=ce.now){super(fe,Ee),this.actions=[],this._active=!1}flush(fe){const{actions:Ee}=this;if(this._active)return void Ee.push(fe);let Se;this._active=!0;do{if(Se=fe.execute(fe.state,fe.delay))break}while(fe=Ee.shift());if(this._active=!1,Se){for(;fe=Ee.shift();)fe.unsubscribe();throw Se}}}},3236:(tn,Ye,L)=>{L.d(Ye,{E:()=>r});var s=L(6780);const r=new(L(9687).q)(s.R)},6129:(tn,Ye,L)=>{L.d(Ye,{U:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},9270:(tn,Ye,L)=>{L.d(Ye,{f:()=>s});const s={setTimeout(ce,r,...be){const{delegate:fe}=s;return fe?.setTimeout?fe.setTimeout(ce,r,...be):setTimeout(ce,r,...be)},clearTimeout(ce){const{delegate:r}=s;return(r?.clearTimeout||clearTimeout)(ce)},delegate:void 0}},4761:(tn,Ye,L)=>{L.d(Ye,{l:()=>ce});const ce=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(tn,Ye,L)=>{L.d(Ye,{s:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(tn,Ye,L)=>{L.d(Ye,{G:()=>ce});const ce=(0,L(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(tn,Ye,L)=>{L.d(Ye,{R0:()=>Ee,ms:()=>be,lI:()=>fe});var s=L(8071);function r(Se){return Se[Se.length-1]}function be(Se){return(0,s.T)(r(Se))?Se.pop():void 0}function fe(Se){return function ce(Se){return Se&&(0,s.T)(Se.schedule)}(r(Se))?Se.pop():void 0}function Ee(Se,Te){return"number"==typeof r(Se)?Se.pop():Te}},3073:(tn,Ye,L)=>{L.d(Ye,{D:()=>fe});const{isArray:s}=Array,{getPrototypeOf:ce,prototype:r,keys:be}=Object;function fe(Se){if(1===Se.length){const Te=Se[0];if(s(Te))return{args:Te,keys:null};if(function Ee(Se){return Se&&"object"==typeof Se&&ce(Se)===r}(Te)){const xe=be(Te);return{args:xe.map(K=>Te[K]),keys:xe}}}return{args:Se,keys:null}}},7908:(tn,Ye,L)=>{function s(ce,r){if(ce){const be=ce.indexOf(r);0<=be&&ce.splice(be,1)}}L.d(Ye,{o:()=>s})},1853:(tn,Ye,L)=>{function s(ce){const be=ce(fe=>{Error.call(fe),fe.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}L.d(Ye,{L:()=>s})},8496:(tn,Ye,L)=>{function s(ce,r){return ce.reduce((be,fe,Ee)=>(be[fe]=r[Ee],be),{})}L.d(Ye,{e:()=>s})},9786:(tn,Ye,L)=>{L.d(Ye,{Y:()=>r,l:()=>be});var s=L(1026);let ce=null;function r(fe){if(s.$.useDeprecatedSynchronousErrorHandling){const Ee=!ce;if(Ee&&(ce={errorThrown:!1,error:null}),fe(),Ee){const{errorThrown:Se,error:Te}=ce;if(ce=null,Se)throw Te}}else fe()}function be(fe){s.$.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=fe)}},5225:(tn,Ye,L)=>{function s(ce,r,be,fe=0,Ee=!1){const Se=r.schedule(function(){be(),Ee?ce.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ce.add(Se),!Ee)return Se}L.d(Ye,{N:()=>s})},3669:(tn,Ye,L)=>{function s(ce){return ce}L.d(Ye,{D:()=>s})},7441:(tn,Ye,L)=>{L.d(Ye,{X:()=>s});const s=ce=>ce&&"number"==typeof ce.length&&"function"!=typeof ce},7953:(tn,Ye,L)=>{L.d(Ye,{T:()=>ce});var s=L(8071);function ce(r){return Symbol.asyncIterator&&(0,s.T)(r?.[Symbol.asyncIterator])}},8071:(tn,Ye,L)=>{function s(ce){return"function"==typeof ce}L.d(Ye,{T:()=>s})},5055:(tn,Ye,L)=>{L.d(Ye,{l:()=>r});var s=L(3494),ce=L(8071);function r(be){return(0,ce.T)(be[s.s])}},5397:(tn,Ye,L)=>{L.d(Ye,{x:()=>r});var s=L(4761),ce=L(8071);function r(be){return(0,ce.T)(be?.[s.l])}},9858:(tn,Ye,L)=>{L.d(Ye,{y:()=>ce});var s=L(8071);function ce(r){return(0,s.T)(r?.then)}},5196:(tn,Ye,L)=>{L.d(Ye,{C:()=>r,U:()=>be});var s=L(1635),ce=L(8071);function r(fe){return(0,s.AQ)(this,arguments,function*(){const Se=fe.getReader();try{for(;;){const{value:Te,done:xe}=yield(0,s.N3)(Se.read());if(xe)return yield(0,s.N3)(void 0);yield yield(0,s.N3)(Te)}}finally{Se.releaseLock()}})}function be(fe){return(0,ce.T)(fe?.getReader)}},9974:(tn,Ye,L)=>{L.d(Ye,{N:()=>r,S:()=>ce});var s=L(8071);function ce(be){return(0,s.T)(be?.lift)}function r(be){return fe=>{if(ce(fe))return fe.lift(function(Ee){try{return be(Ee,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(tn,Ye,L)=>{L.d(Ye,{I:()=>be});var s=L(6354);const{isArray:ce}=Array;function be(fe){return(0,s.T)(Ee=>function r(fe,Ee){return ce(Ee)?fe(...Ee):fe(Ee)}(fe,Ee))}},5343:(tn,Ye,L)=>{function s(){}L.d(Ye,{l:()=>s})},1203:(tn,Ye,L)=>{L.d(Ye,{F:()=>ce,m:()=>r});var s=L(3669);function ce(...be){return r(be)}function r(be){return 0===be.length?s.D:1===be.length?be[0]:function(Ee){return be.reduce((Se,Te)=>Te(Se),Ee)}}},5334:(tn,Ye,L)=>{L.d(Ye,{m:()=>r});var s=L(1026),ce=L(9270);function r(be){ce.f.setTimeout(()=>{const{onUnhandledError:fe}=s.$;if(!fe)throw be;fe(be)})}},591:(tn,Ye,L)=>{function s(ce){return new TypeError(`You provided ${null!==ce&&"object"==typeof ce?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ye,{L:()=>s})},9969:(tn,Ye,L)=>{L.d(Ye,{FX:()=>jt,K2:()=>Se,Os:()=>Ee,P:()=>ve,Ro:()=>ce,S6:()=>s,hZ:()=>be,i0:()=>fe,iF:()=>Te,kY:()=>ie,kp:()=>r,sf:()=>we,ui:()=>bt,yc:()=>qe});class s{}class ce{}const r="*";function be(He,Ae){return{type:7,name:He,definitions:Ae,options:{}}}function fe(He,Ae=null){return{type:4,styles:Ae,timings:He}}function Ee(He,Ae=null){return{type:3,steps:He,options:Ae}}function Se(He,Ae=null){return{type:2,steps:He,options:Ae}}function Te(He){return{type:6,styles:He,offset:null}}function ie(He,Ae,Ze=null){return{type:1,expr:He,animation:Ae,options:Ze}}function ve(He,Ae,Ze=null){return{type:11,selector:He,animation:Ae,options:Ze}}function qe(He,Ae){return{type:12,timings:He,animation:Ae}}class we{constructor(Ae=0,Ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+Ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const Ze="start"==Ae?this._onStartFns:this._onDoneFns;Ze.forEach(Ke=>Ke()),Ze.length=0}}class bt{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let Ze=0,Ke=0,lt=0;const Pt=this.players.length;0==Pt?queueMicrotask(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++Ze==Pt&&this._onFinish()}),ct.onDestroy(()=>{++Ke==Pt&&this._onDestroy()}),ct.onStart(()=>{++lt==Pt&&this._onStart()})}),this.totalTime=this.players.reduce((ct,Ie)=>Math.max(ct,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const Ze=Ae*this.totalTime;this.players.forEach(Ke=>{const lt=Ke.totalTime?Math.min(1,Ze/Ke.totalTime):1;Ke.setPosition(lt)})}getPosition(){const Ae=this.players.reduce((Ze,Ke)=>null===Ze||Ke.totalTime>Ze.totalTime?Ke:Ze,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const Ze="start"==Ae?this._onStartFns:this._onDoneFns;Ze.forEach(Ke=>Ke()),Ze.length=0}}const jt="!"},177:(tn,Ye,L)=>{L.d(Ye,{AJ:()=>qr,B3:()=>Cr,Jj:()=>Ks,MD:()=>Bs,N0:()=>In,P9:()=>as,PV:()=>gi,QT:()=>r,QX:()=>Gr,Sm:()=>ve,Sq:()=>Ji,VF:()=>fe,Vy:()=>es,Xr:()=>Le,YU:()=>ur,ZD:()=>be,_b:()=>cn,aZ:()=>we,bT:()=>Co,e1:()=>ss,fG:()=>bs,fw:()=>qe,hb:()=>Pe,hj:()=>Te,lG:()=>Ts,qQ:()=>Ee,ux:()=>oi});var s=L(7705);let ce=null;function r(){return ce}function be(x){ce||(ce=x)}class fe{}const Ee=new s.nKC("DocumentToken");let Se=(()=>{class x{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||x)}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return(0,s.WQX)(xe)},providedIn:"platform"})}}return x})();const Te=new s.nKC("Location Initialized");let xe=(()=>{class x extends Se{constructor(){super(),this._doc=(0,s.WQX)(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState($){const Q=r().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",$,!1),()=>Q.removeEventListener("popstate",$)}onHashChange($){const Q=r().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",$,!1),()=>Q.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,Q,Ne){this._history.pushState($,Q,Ne)}replaceState($,Q,Ne){this._history.replaceState($,Q,Ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}static{this.\u0275fac=function(Q){return new(Q||x)}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return new x},providedIn:"platform"})}}return x})();function K(x,se){if(0==x.length)return se;if(0==se.length)return x;let $=0;return x.endsWith("/")&&$++,se.startsWith("/")&&$++,2==$?x+se.substring(1):1==$?x+se:x+"/"+se}function ie(x){const se=x.match(/#|\?|$/),$=se&&se.index||x.length;return x.slice(0,$-("/"===x[$-1]?1:0))+x.slice($)}function pe(x){return x&&"?"!==x[0]?"?"+x:x}let Pe=(()=>{class x{historyGo($){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||x)}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return(0,s.WQX)(ve)},providedIn:"root"})}}return x})();const Be=new s.nKC("appBaseHref");let ve=(()=>{class x extends Pe{constructor($,Q){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,s.WQX)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return K(this._baseHref,$)}path($=!1){const Q=this._platformLocation.pathname+pe(this._platformLocation.search),Ne=this._platformLocation.hash;return Ne&&$?`${Q}${Ne}`:Q}pushState($,Q,Ne,Tt){const Nt=this.prepareExternalUrl(Ne+pe(Tt));this._platformLocation.pushState($,Q,Nt)}replaceState($,Q,Ne,Tt){const Nt=this.prepareExternalUrl(Ne+pe(Tt));this._platformLocation.replaceState($,Q,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Q){return new(Q||x)(s.KVO(Se),s.KVO(Be,8))}}static{this.\u0275prov=s.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})(),qe=(()=>{class x extends Pe{constructor($,Q){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl($){const Q=K(this._baseHref,$);return Q.length>0?"#"+Q:Q}pushState($,Q,Ne,Tt){let Nt=this.prepareExternalUrl(Ne+pe(Tt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState($,Q,Nt)}replaceState($,Q,Ne,Tt){let Nt=this.prepareExternalUrl(Ne+pe(Tt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState($,Q,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}static{this.\u0275fac=function(Q){return new(Q||x)(s.KVO(Se),s.KVO(Be,8))}}static{this.\u0275prov=s.jDH({token:x,factory:x.\u0275fac})}}return x})(),we=(()=>{class x{constructor($){this._subject=new s.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const Q=this._locationStrategy.getBaseHref();this._basePath=function Ae(x){if(new RegExp("^(https?:)?//").test(x)){const[,$]=x.split(/\/\/[^\/]+/);return $}return x}(ie(He(Q))),this._locationStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,Q=""){return this.path()==this.normalize($+pe(Q))}normalize($){return x.stripTrailingSlash(function jt(x,se){if(!x||!se.startsWith(x))return se;const $=se.substring(x.length);return""===$||["/",";","?","#"].includes($[0])?$:se}(this._basePath,He($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,Q="",Ne=null){this._locationStrategy.pushState(Ne,"",$,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pe(Q)),Ne)}replaceState($,Q="",Ne=null){this._locationStrategy.replaceState(Ne,"",$,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl($+pe(Q)),Ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",Q){this._urlChangeListeners.forEach(Ne=>Ne($,Q))}subscribe($,Q,Ne){return this._subject.subscribe({next:$,error:Q,complete:Ne})}static{this.normalizeQueryParams=pe}static{this.joinWithSlash=K}static{this.stripTrailingSlash=ie}static{this.\u0275fac=function(Q){return new(Q||x)(s.KVO(Pe))}}static{this.\u0275prov=s.jDH({token:x,factory:function(){return function bt(){return new we((0,s.KVO)(Pe))}()},providedIn:"root"})}}return x})();function He(x){return x.replace(/\/index.html$/,"")}var Ke=function(x){return x[x.Decimal=0]="Decimal",x[x.Percent=1]="Percent",x[x.Currency=2]="Currency",x[x.Scientific=3]="Scientific",x}(Ke||{}),Qe=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(Qe||{});function ye(x,se){const $=(0,s.H5H)(x),Q=$[s.KH2.NumberSymbols][se];if(typeof Q>"u"){if(se===Qe.CurrencyDecimal)return $[s.KH2.NumberSymbols][Qe.Decimal];if(se===Qe.CurrencyGroup)return $[s.KH2.NumberSymbols][Qe.Group]}return Q}const M=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Z=".";function sr(x){const se=parseInt(x);if(isNaN(se))throw new Error("Invalid integer literal when parsing "+x);return se}function cn(x,se){se=encodeURIComponent(se);for(const $ of x.split(";")){const Q=$.indexOf("="),[Ne,Tt]=-1==Q?[$,""]:[$.slice(0,Q),$.slice(Q+1)];if(Ne.trim()===se)return decodeURIComponent(Tt)}return null}const Vn=/\s+/,On=[];let ur=(()=>{class x{constructor($,Q,Ne,Tt){this._iterableDiffers=$,this._keyValueDiffers=Q,this._ngEl=Ne,this._renderer=Tt,this.initialClasses=On,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(Vn):On}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(Vn):$}ngDoCheck(){for(const Q of this.initialClasses)this._updateState(Q,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const Q of $)this._updateState(Q,!0);else if(null!=$)for(const Q of Object.keys($))this._updateState(Q,!!$[Q]);this._applyStateDiff()}_updateState($,Q){const Ne=this.stateMap.get($);void 0!==Ne?(Ne.enabled!==Q&&(Ne.changed=!0,Ne.enabled=Q),Ne.touched=!0):this.stateMap.set($,{enabled:Q,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const Q=$[0],Ne=$[1];Ne.changed?(this._toggleClass(Q,Ne.enabled),Ne.changed=!1):Ne.touched||(Ne.enabled&&this._toggleClass(Q,!1),this.stateMap.delete(Q)),Ne.touched=!1}}_toggleClass($,Q){($=$.trim()).length>0&&$.split(Vn).forEach(Ne=>{Q?this._renderer.addClass(this._ngEl.nativeElement,Ne):this._renderer.removeClass(this._ngEl.nativeElement,Ne)})}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s._q3),s.rXU(s.MKu),s.rXU(s.aKT),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return x})();class dr{constructor(se,$,Q,Ne){this.$implicit=se,this.ngForOf=$,this.index=Q,this.count=Ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class x{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,Q,Ne){this._viewContainer=$,this._template=Q,this._differs=Ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const Q=this._viewContainer;$.forEachOperation((Ne,Tt,Nt)=>{if(null==Ne.previousIndex)Q.createEmbeddedView(this._template,new dr(Ne.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)Q.remove(null===Tt?void 0:Tt);else if(null!==Tt){const kn=Q.get(Tt);Q.move(kn,Nt),Ms(kn,Ne)}});for(let Ne=0,Tt=Q.length;Ne<Tt;Ne++){const kn=Q.get(Ne).context;kn.index=Ne,kn.count=Tt,kn.ngForOf=this._ngForOf}$.forEachIdentityChange(Ne=>{Ms(Q.get(Ne.currentIndex),Ne)})}static ngTemplateContextGuard($,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return x})();function Ms(x,se){x.context.$implicit=se.item}let Co=(()=>{class x{constructor($,Q){this._viewContainer=$,this._context=new wo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){ji("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){ji("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.c1b),s.rXU(s.C4Q))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return x})();class wo{constructor(){this.$implicit=null,this.ngIf=null}}function ji(x,se){if(se&&!se.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,s.Tbb)(se)}'.`)}class jo{constructor(se,$){this._viewContainerRef=se,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(se){se&&!this._created?this.create():!se&&this._created&&this.destroy()}}let oi=(()=>{class x{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const Q=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const Q of this._defaultViews)Q.enforceState($)}}static{this.\u0275fac=function(Q){return new(Q||x)}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return x})(),ss=(()=>{class x{constructor($,Q,Ne){this.ngSwitch=Ne,Ne._addCase(),this._view=new jo($,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(oi,9))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return x})(),bs=(()=>{class x{constructor($,Q,Ne){Ne._addDefault(new jo($,Q))}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(oi,9))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return x})(),Cr=(()=>{class x{constructor($,Q,Ne){this._ngEl=$,this._differs=Q,this._renderer=Ne,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,Q){const[Ne,Tt]=$.split("."),Nt=-1===Ne.indexOf("-")?void 0:s.czy.DashCase;null!=Q?this._renderer.setStyle(this._ngEl.nativeElement,Ne,Tt?`${Q}${Tt}`:Q,Nt):this._renderer.removeStyle(this._ngEl.nativeElement,Ne,Nt)}_applyChanges($){$.forEachRemovedItem(Q=>this._setStyle(Q.key,null)),$.forEachAddedItem(Q=>this._setStyle(Q.key,Q.currentValue)),$.forEachChangedItem(Q=>this._setStyle(Q.key,Q.currentValue))}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.aKT),s.rXU(s.MKu),s.rXU(s.sFG))}}static{this.\u0275dir=s.FsC({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return x})();function di(x,se){return new s.wOt(2100,!1)}class Na{createSubscription(se,$){return(0,s.O8t)(()=>se.subscribe({next:$,error:Q=>{throw Q}}))}dispose(se){(0,s.O8t)(()=>se.unsubscribe())}}class Ja{createSubscription(se,$){return se.then($,Q=>{throw Q})}dispose(se){}}const Pi=new Ja,ma=new Na;let Ks=(()=>{class x{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,Q=>this._updateLatestValue($,Q))}_selectStrategy($){if((0,s.jNT)($))return Pi;if((0,s.zjR)($))return ma;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,Q){$===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.gRc,16))}}static{this.\u0275pipe=s.EJ8({name:"async",type:x,pure:!1,standalone:!0})}}return x})();const js=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let gi=(()=>{class x{transform($){if(null==$)return null;if("string"!=typeof $)throw di();return $.replace(js,Q=>Q[0].toUpperCase()+Q.slice(1).toLowerCase())}static{this.\u0275fac=function(Q){return new(Q||x)}}static{this.\u0275pipe=s.EJ8({name:"titlecase",type:x,pure:!0,standalone:!0})}}return x})(),Ts=(()=>{class x{constructor($){this.differs=$,this.keyValues=[],this.compareFn=Ds}transform($,Q=Ds){if(!$||!($ instanceof Map)&&"object"!=typeof $)return null;this.differ||(this.differ=this.differs.find($).create());const Ne=this.differ.diff($),Tt=Q!==this.compareFn;return Ne&&(this.keyValues=[],Ne.forEachItem(Nt=>{this.keyValues.push(function ki(x,se){return{key:x,value:se}}(Nt.key,Nt.currentValue))})),(Ne||Tt)&&(this.keyValues.sort(Q),this.compareFn=Q),this.keyValues}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.MKu,16))}}static{this.\u0275pipe=s.EJ8({name:"keyvalue",type:x,pure:!1,standalone:!0})}}return x})();function Ds(x,se){const $=x.key,Q=se.key;if($===Q)return 0;if(void 0===$)return 1;if(void 0===Q)return-1;if(null===$)return 1;if(null===Q)return-1;if("string"==typeof $&&"string"==typeof Q)return $<Q?-1:1;if("number"==typeof $&&"number"==typeof Q)return $-Q;if("boolean"==typeof $&&"boolean"==typeof Q)return $<Q?-1:1;const Ne=String($),Tt=String(Q);return Ne==Tt?0:Ne<Tt?-1:1}let Gr=(()=>{class x{constructor($){this._locale=$}transform($,Q,Ne){if(!function cr(x){return!(null==x||""===x||x!=x)}($))return null;Ne=Ne||this._locale;try{return function Us(x,se,$){return function ln(x,se,$,Q,Ne,Tt,Nt=!1){let kn="",Hr=!1;if(isFinite(x)){let ii=function Es(x){let Q,Ne,Tt,Nt,kn,se=Math.abs(x)+"",$=0;for((Ne=se.indexOf(Z))>-1&&(se=se.replace(Z,"")),(Tt=se.search(/e/i))>0?(Ne<0&&(Ne=Tt),Ne+=+se.slice(Tt+1),se=se.substring(0,Tt)):Ne<0&&(Ne=se.length),Tt=0;"0"===se.charAt(Tt);Tt++);if(Tt===(kn=se.length))Q=[0],Ne=1;else{for(kn--;"0"===se.charAt(kn);)kn--;for(Ne-=Tt,Q=[],Nt=0;Tt<=kn;Tt++,Nt++)Q[Nt]=Number(se.charAt(Tt))}return Ne>22&&(Q=Q.splice(0,21),$=Ne-1,Ne=1),{digits:Q,exponent:$,integerLen:Ne}}(x);Nt&&(ii=function vs(x){if(0===x.digits[0])return x;const se=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===se?x.digits.push(0,0):1===se&&x.digits.push(0),x.integerLen+=2),x}(ii));let Xr=se.minInt,fr=se.minFrac,ai=se.maxFrac;if(Tt){const qi=Tt.match(M);if(null===qi)throw new Error(`${Tt} is not a valid digit info`);const Ro=qi[1],rs=qi[3],Qs=qi[5];null!=Ro&&(Xr=sr(Ro)),null!=rs&&(fr=sr(rs)),null!=Qs?ai=sr(Qs):null!=rs&&fr>ai&&(ai=fr)}!function pi(x,se,$){if(se>$)throw new Error(`The minimum number of digits after fraction (${se}) is higher than the maximum (${$}).`);let Q=x.digits,Ne=Q.length-x.integerLen;const Tt=Math.min(Math.max(se,Ne),$);let Nt=Tt+x.integerLen,kn=Q[Nt];if(Nt>0){Q.splice(Math.max(x.integerLen,Nt));for(let fr=Nt;fr<Q.length;fr++)Q[fr]=0}else{Ne=Math.max(0,Ne),x.integerLen=1,Q.length=Math.max(1,Nt=Tt+1),Q[0]=0;for(let fr=1;fr<Nt;fr++)Q[fr]=0}if(kn>=5)if(Nt-1<0){for(let fr=0;fr>Nt;fr--)Q.unshift(0),x.integerLen++;Q.unshift(1),x.integerLen++}else Q[Nt-1]++;for(;Ne<Math.max(0,Tt);Ne++)Q.push(0);let Hr=0!==Tt;const ii=se+x.integerLen,Xr=Q.reduceRight(function(fr,ai,Ai,Di){return Di[Ai]=(ai+=fr)<10?ai:ai-10,Hr&&(0===Di[Ai]&&Ai>=ii?Di.pop():Hr=!1),ai>=10?1:0},0);Xr&&(Q.unshift(Xr),x.integerLen++)}(ii,fr,ai);let Ai=ii.digits,Di=ii.integerLen;const ds=ii.exponent;let Gi=[];for(Hr=Ai.every(qi=>!qi);Di<Xr;Di++)Ai.unshift(0);for(;Di<0;Di++)Ai.unshift(0);Di>0?Gi=Ai.splice(Di,Ai.length):(Gi=Ai,Ai=[0]);const no=[];for(Ai.length>=se.lgSize&&no.unshift(Ai.splice(-se.lgSize,Ai.length).join(""));Ai.length>se.gSize;)no.unshift(Ai.splice(-se.gSize,Ai.length).join(""));Ai.length&&no.unshift(Ai.join("")),kn=no.join(ye($,Q)),Gi.length&&(kn+=ye($,Ne)+Gi.join("")),ds&&(kn+=ye($,Qe.Exponential)+"+"+ds)}else kn=ye($,Qe.Infinity);return kn=x<0&&!Hr?se.negPre+kn+se.negSuf:se.posPre+kn+se.posSuf,kn}(x,function Fi(x,se="-"){const $={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Q=x.split(";"),Ne=Q[0],Tt=Q[1],Nt=-1!==Ne.indexOf(Z)?Ne.split(Z):[Ne.substring(0,Ne.lastIndexOf("0")+1),Ne.substring(Ne.lastIndexOf("0")+1)],kn=Nt[0],Hr=Nt[1]||"";$.posPre=kn.substring(0,kn.indexOf("#"));for(let Xr=0;Xr<Hr.length;Xr++){const fr=Hr.charAt(Xr);"0"===fr?$.minFrac=$.maxFrac=Xr+1:"#"===fr?$.maxFrac=Xr+1:$.posSuf+=fr}const ii=kn.split(",");if($.gSize=ii[1]?ii[1].length:0,$.lgSize=ii[2]||ii[1]?(ii[2]||ii[1]).length:0,Tt){const Xr=Ne.length-$.posPre.length-$.posSuf.length,fr=Tt.indexOf("#");$.negPre=Tt.substring(0,fr).replace(/'/g,""),$.negSuf=Tt.slice(fr+Xr).replace(/'/g,"")}else $.negPre=se+$.posPre,$.negSuf=$.posSuf;return $}(function ke(x,se){return(0,s.H5H)(x)[s.KH2.NumberFormats][se]}(se,Ke.Decimal),ye(se,Qe.MinusSign)),se,Qe.Group,Qe.Decimal,$)}(function Zi(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}($),Ne,Q)}catch(Tt){throw di()}}static{this.\u0275fac=function(Q){return new(Q||x)(s.rXU(s.xe9,16))}}static{this.\u0275pipe=s.EJ8({name:"number",type:x,pure:!0,standalone:!0})}}return x})();let as=(()=>{class x{transform($,Q,Ne){if(null==$)return null;if(!this.supports($))throw di();return $.slice(Q,Ne)}supports($){return"string"==typeof $||Array.isArray($)}static{this.\u0275fac=function(Q){return new(Q||x)}}static{this.\u0275pipe=s.EJ8({name:"slice",type:x,pure:!1,standalone:!0})}}return x})(),Bs=(()=>{class x{static{this.\u0275fac=function(Q){return new(Q||x)}}static{this.\u0275mod=s.$C({type:x})}static{this.\u0275inj=s.G2t({})}}return x})();const qr="browser",ls="server";function es(x){return x===ls}let Le=(()=>{class x{static{this.\u0275prov=(0,s.jDH)({token:x,providedIn:"root",factory:()=>new et((0,s.KVO)(Ee),window)})}}return x})();class et{constructor(se,$){this.document=se,this.window=$,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const $=function mt(x,se){const $=x.getElementById(se)||x.getElementsByName(se)[0];if($)return $;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const Q=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let Ne=Q.currentNode;for(;Ne;){const Tt=Ne.shadowRoot;if(Tt){const Nt=Tt.getElementById(se)||Tt.querySelector(`[name="${se}"]`);if(Nt)return Nt}Ne=Q.nextNode()}}return null}(this.document,se);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(se){this.supportsScrolling()&&(this.window.history.scrollRestoration=se)}scrollToElement(se){const $=se.getBoundingClientRect(),Q=$.left+this.window.pageXOffset,Ne=$.top+this.window.pageYOffset,Tt=this.offset();this.window.scrollTo(Q-Tt[0],Ne-Tt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class In{}},7705:(tn,Ye,L)=>{L.d(Ye,{$C:()=>ti,$GK:()=>En,$K3:()=>NI,$MX:()=>iu,AVh:()=>gg,Agw:()=>hm,B4B:()=>Mp,BIS:()=>ev,BMQ:()=>Lm,C4Q:()=>fE,C5r:()=>gI,Co$:()=>wT,DNE:()=>jf,EFF:()=>Iy,EJ8:()=>xi,EmA:()=>ah,FS9:()=>Ed,FsC:()=>$i,G2t:()=>Qt,GBs:()=>cI,GFd:()=>Nv,H3F:()=>OI,H5H:()=>rE,H8p:()=>pf,HJs:()=>tA,HbH:()=>s0,Hbi:()=>$1,JRh:()=>Xv,JZv:()=>Hn,Jv_:()=>CT,KH2:()=>Qm,KVO:()=>_t,Kcf:()=>By,L39:()=>Z1,LHq:()=>Ym,LfX:()=>Pn,Lme:()=>Qv,MKu:()=>aT,Mz_:()=>pa,NEm:()=>y1,NYb:()=>p1,Njj:()=>Yi,O8t:()=>Tt,OA$:()=>fr,OM3:()=>wc,Ocv:()=>Gw,Ol2:()=>DT,PLl:()=>dm,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>Wi,R7$:()=>jE,RV6:()=>vd,Rfq:()=>ve,RxE:()=>sv,SKi:()=>Eo,SpI:()=>qm,TL$:()=>sf,Tbb:()=>pe,UyX:()=>Rp,VBU:()=>Ja,Vns:()=>Zm,Vt3:()=>Om,WHO:()=>VI,WPN:()=>ed,WQX:()=>an,XpG:()=>Vs,Xx1:()=>yl,Y8G:()=>Ph,Z63:()=>td,ZF7:()=>Da,_9s:()=>Ef,_q3:()=>oT,aKT:()=>cd,aNF:()=>ST,bIt:()=>X,bMT:()=>qT,bVm:()=>yd,bc$:()=>_f,bkB:()=>Sc,brH:()=>XT,c1b:()=>F0,cWb:()=>Wg,czy:()=>qu,e01:()=>UI,e5t:()=>$y,eBV:()=>Bn,eq3:()=>kT,eu8:()=>Nc,fpN:()=>B1,gRc:()=>D1,gXe:()=>Es,giA:()=>jI,h9k:()=>xp,hnV:()=>MI,i5U:()=>YT,iLQ:()=>eT,j41:()=>Gf,jDH:()=>rn,jNT:()=>E,k0s:()=>Oc,kS0:()=>Md,kdw:()=>Wu,l4e:()=>BT,lJ4:()=>FT,lNU:()=>He,l_i:()=>LT,lsd:()=>dI,mGM:()=>lI,mq5:()=>Sy,n$t:()=>x_,nI1:()=>KT,nKC:()=>on,naY:()=>A1,npT:()=>tm,nrm:()=>_d,o8S:()=>Oy,oH4:()=>HI,osQ:()=>Kg,plB:()=>Hb,qex:()=>xa,rXU:()=>Rc,rcV:()=>ru,s1E:()=>jT,sFG:()=>rv,sMw:()=>VT,sZ2:()=>k_,sdS:()=>ug,tSv:()=>gv,uvJ:()=>vi,w6W:()=>LC,wOt:()=>Ae,wni:()=>uI,xGo:()=>cc,xc7:()=>Wm,xe9:()=>L0,xvI:()=>ov,yjJ:()=>To,zZn:()=>Gl,zcH:()=>Xa,ziG:()=>UT,zjR:()=>j});var s=L(1413),ce=L(8359),r=L(1985),be=L(7786),fe=L(4412),Ee=L(7673),Se=L(7647),Te=L(5558),xe=L(3294);function K(t){for(let n in t)if(t[n]===K)return n;throw Error("Could not find renamed property on target object.")}function ie(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Pe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Be=K({__forward_ref__:K});function ve(t){return t.__forward_ref__=ve,t.toString=function(){return pe(this())},t}function qe(t){return we(t)?t():t}function we(t){return"function"==typeof t&&t.hasOwnProperty(Be)&&t.__forward_ref__===ve}function bt(t){return t&&!!t.\u0275providers}const He="https://g.co/ng/security#xss";class Ae extends Error{constructor(n,o){super(function Ze(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function Ke(t){return"string"==typeof t?t:null==t?"":String(t)}function Qe(t,n){throw new Ae(-201,!1)}function st(t,n){null==t&&function nt(t,n,o,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${o} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function rn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function jn(t){return Ht(t,sn)||Ht(t,Yn)}function Pn(t){return null!==jn(t)}function Ht(t,n){return t.hasOwnProperty(n)?t[n]:null}function _r(t){return t&&(t.hasOwnProperty(Rr)||t.hasOwnProperty(Bt))?t[Rr]:null}const sn=K({\u0275prov:K}),Rr=K({\u0275inj:K}),Yn=K({ngInjectableDef:K}),Bt=K({ngInjectorDef:K});var En=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(En||{});let $n;function Vr(t){const n=$n;return $n=t,n}function Ar(t,n,o){const u=jn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&En.Optional?null:void 0!==n?n:void Qe(pe(t))}const Hn=globalThis;class on{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=rn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ln={},Fr="__NG_DI_FLAG__",Tr="ngTempTokenPath",At=/\n/gm,C="__source";let M;function Z(t){const n=M;return M=t,n}function je(t,n=En.Default){if(void 0===M)throw new Ae(-203,!1);return null===M?Ar(t,void 0,n):M.get(t,n&En.Optional?null:void 0,n)}function _t(t,n=En.Default){return(function Tn(){return $n}()||je)(qe(t),n)}function an(t,n=En.Default){return _t(t,wn(n))}function wn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vr(t){const n=[];for(let o=0;o<t.length;o++){const u=qe(t[o]);if(Array.isArray(u)){if(0===u.length)throw new Ae(900,!1);let f,m=En.Default;for(let I=0;I<u.length;I++){const D=u[I],O=$r(D);"number"==typeof O?-1===O?f=D.token:m|=O:f=D}n.push(_t(f,m))}else n.push(_t(u))}return n}function ln(t,n){return t[Fr]=n,t.prototype[Fr]=n,t}function $r(t){return t[Fr]}function Fi(t){return{toString:t}.toString()}var vs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vs||{}),Es=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Es||{});const pi={},sr=[],xs=K({\u0275cmp:K}),Dt=K({\u0275dir:K}),at=K({\u0275pipe:K}),xt=K({\u0275mod:K}),cn=K({\u0275fac:K}),Vn=K({__NG_ELEMENT_ID__:K}),On=K({__NG_ENV_ID__:K});function ur(t,n,o){let u=t.length;for(;;){const f=t.indexOf(n,o);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===u||t.charCodeAt(f+m)<=32)return f}o=f+1}}function Ur(t,n,o){let u=0;for(;u<o.length;){const f=o[u];if("number"==typeof f){if(0!==f)break;u++;const m=o[u++],I=o[u++],D=o[u++];t.setAttribute(n,I,D,m)}else{const m=f,I=o[++u];dr(m)?t.setProperty(n,m,I):t.setAttribute(n,m,I),u++}}return u}function zr(t){return 3===t||4===t||6===t}function dr(t){return 64===t.charCodeAt(0)}function Ji(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?o=f:0===o||Ms(t,o,f,null,-1===o||2===o?n[++u]:null)}}return t}function Ms(t,n,o,u,f){let m=0,I=t.length;if(-1===n)I=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){I=-1;break}if(D>n){I=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===o){if(null===u)return void(null!==f&&(t[m+1]=f));if(u===t[m+1])return void(t[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==I&&(t.splice(I,0,n),m=I+1),t.splice(m++,0,o),null!==u&&t.splice(m++,0,u),null!==f&&t.splice(m++,0,f)}const is="ng-template";function Co(t,n,o){let u=0,f=!0;for(;u<t.length;){let m=t[u++];if("string"==typeof m&&f){const I=t[u++];if(o&&"class"===m&&-1!==ur(I.toLowerCase(),n,0))return!0}else{if(1===m){for(;u<t.length&&"string"==typeof(m=t[u++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function wo(t){return 4===t.type&&t.value!==is}function ji(t,n,o){return n===(4!==t.type||o?t.value:is)}function jo(t,n,o){let u=4;const f=t.attrs||[],m=function Bi(t){for(let n=0;n<t.length;n++)if(zr(t[n]))return n;return t.length}(f);let I=!1;for(let D=0;D<n.length;D++){const O=n[D];if("number"!=typeof O){if(!I)if(4&u){if(u=2|1&u,""!==O&&!ji(t,O,o)||""===O&&1===n.length){if(oi(u))return!1;I=!0}}else{const W=8&u?O:n[++D];if(8&u&&null!==t.attrs){if(!Co(t.attrs,W,o)){if(oi(u))return!1;I=!0}continue}const De=ss(8&u?"class":O,f,wo(t),o);if(-1===De){if(oi(u))return!1;I=!0;continue}if(""!==W){let tt;tt=De>m?"":f[De+1].toLowerCase();const ft=8&u?tt:null;if(ft&&-1!==ur(ft,W,0)||2&u&&W!==tt){if(oi(u))return!1;I=!0}}}}else{if(!I&&!oi(u)&&!oi(O))return!1;if(I&&oi(O))continue;I=!1,u=O|1&u}}return oi(u)||I}function oi(t){return 0==(1&t)}function ss(t,n,o,u){if(null===n)return-1;let f=0;if(u||!o){let m=!1;for(;f<n.length;){const I=n[f];if(I===t)return f;if(3===I||6===I)m=!0;else{if(1===I||2===I){let D=n[++f];for(;"string"==typeof D;)D=n[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=m?1:2}return-1}return function Mi(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const u=t[o];if("number"==typeof u)return-1;if(u===n)return o;o++}return-1}(n,t)}function bs(t,n,o=!1){for(let u=0;u<n.length;u++)if(jo(t,n[u],o))return!0;return!1}function ao(t,n){return t?":not("+n.trim()+")":n}function Ao(t){let n=t[0],o=1,u=2,f="",m=!1;for(;o<t.length;){let I=t[o];if("string"==typeof I)if(2&u){const D=t[++o];f+="["+I+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?f+="."+I:4&u&&(f+=" "+I);else""!==f&&!oi(I)&&(n+=ao(m,f),f=""),u=I,m=m||!oi(u);o++}return""!==f&&(n+=ao(m,f)),n}function Ja(t){return Fi(()=>{const n=os(t),o={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Es.Emulated,styles:t.styles||sr,_:null,schemas:t.schemas||null,tView:null,id:""};qs(o);const u=t.dependencies;return o.directiveDefs=ki(u,!1),o.pipeDefs=ki(u,!0),o.id=function Ds(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of o)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function ma(t){return qn(t)||Kr(t)}function Ks(t){return null!==t}function ti(t){return Fi(()=>({type:t.type,bootstrap:t.bootstrap||sr,declarations:t.declarations||sr,imports:t.imports||sr,exports:t.exports||sr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gi(t,n){if(null==t)return pi;const o={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),o[f]=u,n&&(n[f]=m)}return o}function $i(t){return Fi(()=>{const n=os(t);return qs(n),n})}function xi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qn(t){return t[xs]||null}function Kr(t){return t[Dt]||null}function ni(t){return t[at]||null}function Wi(t){const n=qn(t)||Kr(t)||ni(t);return null!==n&&n.standalone}function jr(t,n){const o=t[xt]||null;if(!o&&!0===n)throw new Error(`Type ${pe(t)} does not have '\u0275mod' property.`);return o}function os(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||pi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||sr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gi(t.inputs,n),outputs:gi(t.outputs)}}function qs(t){t.features?.forEach(n=>n(t))}function ki(t,n){if(!t)return null;const o=n?ni:ma;return()=>("function"==typeof t?t():t).map(u=>o(u)).filter(Ks)}const Gr=0,pn=1,tr=2,cr=3,Zi=4,as=5,Li=6,Bs=7,qr=8,ls=9,Ss=10,Un=11,mi=12,es=13,ne=14,ee=15,Re=16,Le=17,et=18,mt=19,qt=20,In=21,hn=22,Wn=23,wr=24,An=25,Jn=1,Nr=2,ri=7,Vi=9,Dr=11;function wi(t){return Array.isArray(t)&&"object"==typeof t[Jn]}function Pr(t){return Array.isArray(t)&&!0===t[Jn]}function Bo(t){return 0!=(4&t.flags)}function cs(t){return t.componentOffset>-1}function Ys(t){return 1==(1&t.flags)}function to(t){return!!t.template}function ea(t){return 0!=(512&t[tr])}function Rs(t,n){return t.hasOwnProperty(cn)?t[cn]:null}let Ps=null,_a=!1;function Ki(t){const n=Ps;return Ps=t,n}const na={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function el(t){if(!go(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Il(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Cs(t){t.dirty=!0,function co(t){if(void 0===t.liveConsumerNode)return;const n=_a;_a=!0;try{for(const o of t.liveConsumerNode)o.dirty||Cs(o)}finally{_a=n}}(t),t.consumerMarkedDirty?.(t)}function ya(t){return t&&(t.nextProducerIndex=0),Ki(t)}function La(t,n){if(Ki(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(go(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Cl(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Il(t){mo(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==o.version||(el(o),u!==o.version))return!0}return!1}function Eu(t){if(mo(t),go(t))for(let n=0;n<t.producerNode.length;n++)Cl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cl(t,n){if(function tl(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),mo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)Cl(t.producerNode[u],t.producerIndexOfThis[u]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];mo(f),f.producerIndexOfThis[u]=n}}function go(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function mo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ho=null;function Tt(t){const n=Ki(null);try{return t()}finally{Ki(n)}}const kn=()=>{},Hr=(()=>({...na,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:kn}))();class Xr{constructor(n,o,u){this.previousValue=n,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function fr(){return ai}function ai(t){return t.type.prototype.ngOnChanges&&(t.setInput=Di),Ai}function Ai(){const t=Gi(this),n=t?.current;if(n){const o=t.previous;if(o===pi)t.previous=n;else for(let u in n)o[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Di(t,n,o,u){const f=this.declaredInputs[o],m=Gi(t)||function no(t,n){return t[ds]=n}(t,{previous:pi,current:null}),I=m.current||(m.current={}),D=m.previous,O=D[f];I[f]=new Xr(O&&O.currentValue,n,D===pi),t[u]=n}fr.ngInherit=!0;const ds="__ngSimpleChanges__";function Gi(t){return t[ds]||null}const rs=function(t,n,o){};function Er(t){for(;Array.isArray(t);)t=t[Gr];return t}function $s(t,n){return Er(n[t])}function Ui(t,n){return Er(n[t.index])}function Iu(t,n){return t.data[n]}function ol(t,n){return t[n]}function Hi(t,n){const o=n[t];return wi(o)?o:o[Gr]}function ws(t,n){return null==n?null:t[n]}function va(t){t[Le]=0}function nc(t){1024&t[tr]||(t[tr]|=1024,Au(t,1))}function wu(t){1024&t[tr]&&(t[tr]&=-1025,Au(t,-1))}function Au(t,n){let o=t[cr];if(null===o)return;o[as]+=n;let u=o;for(o=o[cr];null!==o&&(1===n&&1===u[as]||-1===n&&0===u[as]);)o[as]+=n,u=o,o=o[cr]}const or={lFrame:ue(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zt(){return or.bindingsEnabled}function Ut(){return or.lFrame.lView}function Ir(){return or.lFrame.tView}function Bn(t){return or.lFrame.contextLView=t,t[qr]}function Yi(t){return or.lFrame.contextLView=null,t}function Gs(){let t=jc();for(;null!==t&&64===t.type;)t=t.parent;return t}function jc(){return or.lFrame.currentTNode}function Mo(t,n){const o=or.lFrame;o.currentTNode=t,o.isParent=n}function sc(){return or.lFrame.isParent}function Pu(){or.lFrame.isParent=!1}function ro(){const t=or.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function uo(){return or.lFrame.bindingIndex}function ul(){return or.lFrame.bindingIndex++}function ho(t){const n=or.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function qf(t,n){const o=or.lFrame;o.bindingIndex=o.bindingRootIndex=t,xu(n)}function xu(t){or.lFrame.currentDirectiveIndex=t}function Al(){return or.lFrame.currentQueryIndex}function S(t){or.lFrame.currentQueryIndex=t}function N(t){const n=t[pn];return 2===n.type?n.declTNode:1===n.type?t[Li]:null}function A(t,n,o){if(o&En.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||o&En.Host||(f=N(m),null===f||(m=m[ne],10&f.type))););if(null===f)return!1;n=f,t=m}const u=or.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function F(t){const n=H(),o=t[pn];or.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function H(){const t=or.lFrame,n=null===t?null:t.child;return null===n?ue(t):n}function ue(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Oe(){const t=or.lFrame;return or.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const wt=Oe;function yt(){const t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nr(){return or.lFrame.selectedIndex}function xr(t){or.lFrame.selectedIndex=t}function hi(){const t=or.lFrame;return Iu(t.tView,t.selectedIndex)}let Bc=!0;function pl(){return Bc}function Oo(t){Bc=t}function Ga(t,n){for(let o=n.directiveStart,u=n.directiveEnd;o<u;o++){const m=t.data[o].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:W,ngOnDestroy:ae}=m;I&&(t.contentHooks??=[]).push(-o,I),D&&((t.contentHooks??=[]).push(o,D),(t.contentCheckHooks??=[]).push(o,D)),O&&(t.viewHooks??=[]).push(-o,O),W&&((t.viewHooks??=[]).push(o,W),(t.viewCheckHooks??=[]).push(o,W)),null!=ae&&(t.destroyHooks??=[]).push(o,ae)}}function $c(t,n,o){Nu(t,n,3,o)}function Mu(t,n,o,u){(3&t[tr])===o&&Nu(t,n,o,u)}function Ou(t,n){let o=t[tr];(3&o)===n&&(o&=8191,o+=1,t[tr]=o)}function Nu(t,n,o,u){const m=u??-1,I=n.length-1;let D=0;for(let O=void 0!==u?65535&t[Le]:0;O<I;O++)if("number"==typeof n[O+1]){if(D=n[O],null!=u&&D>=u)break}else n[O]<0&&(t[Le]+=65536),(D<m||-1==m)&&(Sl(t,o,n,O),t[Le]=(4294901760&t[Le])+O+2),O++}function Fu(t,n){rs(4,t,n);const o=Ki(null);try{n.call(t)}finally{Ki(o),rs(5,t,n)}}function Sl(t,n,o,u){const f=o[u]<0,m=o[u+1],D=t[f?-o[u]:o[u]];f?t[tr]>>13<t[Le]>>16&&(3&t[tr])===n&&(t[tr]+=8192,Fu(D,m)):Fu(D,m)}const No=-1;class ia{constructor(n,o,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Lu(t){return t!==No}function Pl(t){return 32767&t}function oc(t,n){let o=function Rd(t){return t>>16}(t),u=n;for(;o>0;)u=u[ne],o--;return u}let Vu=!0;function Ko(t){const n=Vu;return Vu=t,n}const Jf=255,_o=5;let Uu=0;const yo={};function ac(t,n){const o=Vh(t,n);if(-1!==o)return o;const u=n[pn];u.firstCreatePass&&(t.injectorIndex=n.length,Ns(u.data,t),Ns(n,null),Ns(u.blueprint,null));const f=Ha(t,n),m=t.injectorIndex;if(Lu(f)){const I=Pl(f),D=oc(f,n),O=D[pn].data;for(let W=0;W<8;W++)n[m+W]=D[I+W]|O[I+W]}return n[m+8]=f,m}function Ns(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Vh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ha(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,u=null,f=n;for(;null!==f;){if(u=Gu(f),null===u)return No;if(o++,f=f[ne],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return No}function sa(t,n,o){!function Pd(t,n,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Vn)&&(u=o[Vn]),null==u&&(u=o[Vn]=Uu++);const f=u&Jf;n.data[t+(f>>_o)]|=1<<f}(t,n,o)}function gl(t,n,o){if(o&En.Optional||void 0!==t)return t;Qe()}function lc(t,n,o,u){if(o&En.Optional&&void 0===u&&(u=null),!(o&(En.Self|En.Host))){const f=t[ls],m=Vr(void 0);try{return f?f.get(n,u,o&En.Optional):Ar(n,u,o&En.Optional)}finally{Vr(m)}}return gl(u,0,o)}function ju(t,n,o,u=En.Default,f){if(null!==t){if(2048&n[tr]&&!(u&En.Self)){const I=function ep(t,n,o,u,f){let m=t,I=n;for(;null!==m&&null!==I&&2048&I[tr]&&!(512&I[tr]);){const D=xl(m,I,o,u|En.Self,yo);if(D!==yo)return D;let O=m.parent;if(!O){const W=I[qt];if(W){const ae=W.get(o,yo,u);if(ae!==yo)return ae}O=Gu(I),I=I[ne]}m=O}return f}(t,n,o,u,yo);if(I!==yo)return I}const m=xl(t,n,o,u,yo);if(m!==yo)return m}return lc(n,o,u,f)}function xl(t,n,o,u,f){const m=function Ml(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof n?n>=0?n&Jf:xd:n}(o);if("function"==typeof m){if(!A(n,t,u))return u&En.Host?gl(f,0,u):lc(n,o,u,f);try{let I;if(I=m(u),null!=I||u&En.Optional)return I;Qe()}finally{wt()}}else if("number"==typeof m){let I=null,D=Vh(t,n),O=No,W=u&En.Host?n[ee][Li]:null;for((-1===D||u&En.SkipSelf)&&(O=-1===D?Ha(t,n):n[D+8],O!==No&&Hc(u,!1)?(I=n[pn],D=Pl(O),n=oc(O,n)):D=-1);-1!==D;){const ae=n[pn];if(Bu(m,D,ae.data)){const De=wg(D,n,o,I,u,W);if(De!==yo)return De}O=n[D+8],O!==No&&Hc(u,n[pn].data[D+8]===W)&&Bu(m,D,n)?(I=ae,D=Pl(O),n=oc(O,n)):D=-1}}return f}function wg(t,n,o,u,f,m){const I=n[pn],D=I.data[t+8],ae=Ia(D,I,o,null==u?cs(D)&&Vu:u!=I&&0!=(3&D.type),f&En.Host&&m===D);return null!==ae?za(n,I,ae,D):yo}function Ia(t,n,o,u,f){const m=t.providerIndexes,I=n.data,D=1048575&m,O=t.directiveStart,ae=m>>20,tt=f?D+ae:t.directiveEnd;for(let ft=u?D:D+ae;ft<tt;ft++){const kt=I[ft];if(ft<O&&o===kt||ft>=O&&kt.type===o)return ft}if(f){const ft=I[O];if(ft&&to(ft)&&ft.type===o)return O}return null}function za(t,n,o,u){let f=t[o];const m=n.data;if(function Rl(t){return t instanceof ia}(f)){const I=f;I.resolving&&function Pt(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${t}${o}`)}(function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}(m[o]));const D=Ko(I.canSeeViewProviders);I.resolving=!0;const W=I.injectImpl?Vr(I.injectImpl):null;A(t,u,En.Default);try{f=t[o]=I.factory(void 0,m,t,u),n.firstCreatePass&&o>=u.directiveStart&&function kh(t,n,o){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(u){const I=ai(n);(o.preOrderHooks??=[]).push(t,I),(o.preOrderCheckHooks??=[]).push(t,I)}f&&(o.preOrderHooks??=[]).push(0-t,f),m&&((o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m))}(o,m[o],n)}finally{null!==W&&Vr(W),Ko(D),I.resolving=!1,wt()}}return f}function Bu(t,n,o){return!!(o[n+(t>>_o)]&1<<t)}function Hc(t,n){return!(t&En.Self||t&En.Host&&n)}class hs{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,u){return ju(this._tNode,this._lView,n,wn(u),o)}}function xd(){return new hs(Gs(),Ut())}function cc(t){return Fi(()=>{const n=t.prototype.constructor,o=n[cn]||$u(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const m=f[cn]||$u(f);if(m&&m!==o)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function $u(t){return we(t)?()=>{const n=$u(qe(t));return n&&n()}:Rs(t)}function Gu(t){const n=t[pn],o=n.type;return 2===o?n.declTNode:1===o?t[Li]:null}function Md(t){return function Gc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const u=o.length;let f=0;for(;f<u;){const m=o[f];if(zr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof o[f];)f++;else{if(m===n)return o[f+1];f+=2}}}return null}(Gs(),t)}const qo="__parameters__";function dc(t,n,o){return Fi(()=>{const u=function Hu(t){return function(...o){if(t){const u=t(...o);for(const f in u)this[f]=u[f]}}}(n);function f(...m){if(this instanceof f)return u.apply(this,m),this;const I=new f(...m);return D.annotation=I,D;function D(O,W,ae){const De=O.hasOwnProperty(qo)?O[qo]:Object.defineProperty(O,qo,{value:[]})[qo];for(;De.length<=ae;)De.push(null);return(De[ae]=De[ae]||[]).push(I),O}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Nl(t,n){t.forEach(o=>Array.isArray(o)?Nl(o,n):n(o))}function Fd(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function Fl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Fo(t,n,o){let u=Ka(t,n);return u>=0?t[1|u]=o:(u=~u,function Dg(t,n,o,u){let f=t.length;if(f==n)t.push(o,u);else if(1===f)t.push(u,t[0]),t[0]=o;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=o,t[n+1]=u}}(t,u,n,o)),u}function Ld(t,n){const o=Ka(t,n);if(o>=0)return t[1|o]}function Ka(t,n){return function rp(t,n,o){let u=0,f=t.length>>o;for(;f!==u;){const m=u+(f-u>>1),I=t[m<<o];if(n===I)return m<<o;I>n?f=m:u=m+1}return~(f<<o)}(t,n,1)}const yl=ln(dc("Optional"),8),Wu=ln(dc("SkipSelf"),4);function qd(t){return 128==(128&t.flags)}var qu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qu||{});const i_=/^>|^->|<!--|-->|--!>|<!-$/g,xg=/(<|>)/g,Fy="\u200b$1\u200b";const Yd=new Map;let Mg=0;const Xh="__ngContext__";function ko(t,n){wi(n)?(t[Xh]=n[mt],function Aa(t){Yd.set(t[mt],t)}(n)):t[Xh]=n}let pc;function jl(t,n){return pc(t,n)}function Jd(t){const n=t[cr];return Pr(n)?n[cr]:n}function c_(t){return mp(t[mi])}function Ng(t){return mp(t[Zi])}function mp(t){for(;null!==t&&!Pr(t);)t=t[Zi];return t}function Jc(t,n,o,u,f){if(null!=u){let m,I=!1;Pr(u)?m=u:wi(u)&&(I=!0,u=u[Gr]);const D=Er(u);0===t&&null!==o?null==f?Zh(n,o,D):Qu(n,o,D,f||null,!0):1===t&&null!==o?Qu(n,o,D,f||null,!0):2===t?function eu(t,n,o){const u=rh(t,n);u&&function Vg(t,n,o,u){t.removeChild(n,o,u)}(t,u,n,o)}(n,D,I):3===t&&n.destroyNode(D),null!=m&&function Gg(t,n,o,u,f){const m=o[ri];m!==Er(o)&&Jc(n,t,u,m,f);for(let D=Dr;D<o.length;D++){const O=o[D];vl(O[pn],O,t,n,u,m)}}(n,t,m,o,f)}}function Fg(t,n){return t.createComment(function cp(t){return t.replace(i_,n=>n.replace(xg,Fy))}(n))}function yp(t,n,o){return t.createElement(n,o)}function h_(t,n){const o=t[Vi],u=o.indexOf(n);wu(n),o.splice(u,1)}function Qh(t,n){if(t.length<=Dr)return;const o=Dr+n,u=t[o];if(u){const f=u[Re];null!==f&&f!==t&&h_(f,u),n>0&&(t[o-1][Zi]=u[Zi]);const m=Fl(t,Dr+n);!function kg(t,n){vl(t,n,n[Un],2,null,null),n[Gr]=null,n[Li]=null}(u[pn],u);const I=m[et];null!==I&&I.detachView(m[pn]),u[cr]=null,u[Zi]=null,u[tr]&=-129}return u}function vp(t,n){if(!(256&n[tr])){const o=n[Un];n[Wn]&&Eu(n[Wn]),n[wr]&&Eu(n[wr]),o.destroyNode&&vl(t,n,o,3,null,null),function Zc(t){let n=t[mi];if(!n)return th(t[pn],t);for(;n;){let o=null;if(wi(n))o=n[mi];else{const u=n[Dr];u&&(o=u)}if(!o){for(;n&&!n[Zi]&&n!==t;)wi(n)&&th(n[pn],n),n=n[cr];null===n&&(n=t),wi(n)&&th(n[pn],n),o=n&&n[Zi]}n=o}}(n)}}function th(t,n){if(!(256&n[tr])){n[tr]&=-129,n[tr]|=256,function mE(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let u=0;u<o.length;u+=2){const f=n[o[u]];if(!(f instanceof ia)){const m=o[u+1];if(Array.isArray(m))for(let I=0;I<m.length;I+=2){const D=f[m[I]],O=m[I+1];rs(4,D,O);try{O.call(D)}finally{rs(5,D,O)}}else{rs(4,f,m);try{m.call(f)}finally{rs(5,f,m)}}}}}(t,n),function f_(t,n){const o=t.cleanup,u=n[Bs];if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const I=o[m+3];I>=0?u[I]():u[-I].unsubscribe(),m+=2}else o[m].call(u[o[m+1]]);null!==u&&(n[Bs]=null);const f=n[In];if(null!==f){n[In]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[pn].type&&n[Un].destroy();const o=n[Re];if(null!==o&&Pr(n[cr])){o!==n[cr]&&h_(o,n);const u=n[et];null!==u&&u.detachView(t)}!function o_(t){Yd.delete(t[mt])}(n)}}function Jh(t,n,o){return function p_(t,n,o){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return o[Gr];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:m}=t.data[u.directiveStart+f];if(m===Es.None||m===Es.Emulated)return null}return Ui(u,o)}}(t,n.parent,o)}function Qu(t,n,o,u,f){t.insertBefore(n,o,u,f)}function Zh(t,n,o){t.appendChild(n,o)}function g_(t,n,o,u,f){null!==u?Qu(t,n,o,u,f):Zh(t,n,o)}function rh(t,n){return t.parentNode(n)}let m_,gc,Ap,af,jg=function Ug(t,n,o){return 40&t.type?Ui(t,o):null};function Tp(t,n,o,u){const f=Jh(t,u,n),m=n[Un],D=function Ep(t,n,o){return jg(t,n,o)}(u.parent||n[Li],u,n);if(null!=f)if(Array.isArray(o))for(let O=0;O<o.length;O++)g_(m,f,o[O],D,!1);else g_(m,f,o,D,!1);void 0!==m_&&m_(m,u,n,o,f)}function Ju(t,n){if(null!==n){const o=n.type;if(3&o)return Ui(n,t);if(4&o)return tf(-1,t[n.index]);if(8&o){const u=n.child;if(null!==u)return Ju(t,u);{const f=t[n.index];return Pr(f)?tf(-1,f):Er(f)}}if(32&o)return jl(n,t)()||Er(t[n.index]);{const u=Bg(t,n);return null!==u?Array.isArray(u)?u[0]:Ju(Jd(t[ee]),u):Ju(t,n.next)}}return null}function Bg(t,n){return null!==n?t[ee][Li].projection[n.projection]:null}function tf(t,n){const o=Dr+t+1;if(o<n.length){const u=n[o],f=u[pn].firstChild;if(null!==f)return Ju(u,f)}return n[ri]}function Ip(t,n,o,u,f,m,I){for(;null!=o;){const D=u[o.index],O=o.type;if(I&&0===n&&(D&&ko(Er(D),u),o.flags|=2),32!=(32&o.flags))if(8&O)Ip(t,n,o.child,u,f,m,!1),Jc(n,t,f,D,m);else if(32&O){const W=jl(o,u);let ae;for(;ae=W();)Jc(n,t,f,ae,m);Jc(n,t,f,D,m)}else 16&O?y_(t,n,u,o,f,m):Jc(n,t,f,D,m);o=I?o.projectionNext:o.next}}function vl(t,n,o,u,f,m){Ip(o,u,t.firstChild,n,f,m,!1)}function y_(t,n,o,u,f,m){const I=o[ee],O=I[Li].projection[u.projection];if(Array.isArray(O))for(let W=0;W<O.length;W++)Jc(n,t,f,O[W],m);else{let W=O;const ae=I[cr];qd(u)&&(W.flags|=128),Ip(t,n,W,ae,f,m,!0)}}function Cp(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function wp(t,n,o){const{mergedAttrs:u,classes:f,styles:m}=o;null!==u&&Ur(t,n,u),null!==f&&Cp(t,n,f),null!==m&&function Hg(t,n,o){t.setAttribute(n,"style",o)}(t,n,m)}function tu(t){return function nf(){if(void 0===gc&&(gc=null,Hn.trustedTypes))try{gc=Hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gc}()?.createHTML(t)||t}function sf(t){Ap=t}function ih(){if(void 0!==Ap)return Ap;if(typeof document<"u")return document;throw new Ae(210,!1)}function lf(){if(void 0===af&&(af=null,Hn.trustedTypes))try{af=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return af}function Dp(t){return lf()?.createHTML(t)||t}function E_(t){return lf()?.createScriptURL(t)||t}class yc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}class b_ extends yc{getTypeName(){return"HTML"}}class cf extends yc{getTypeName(){return"Style"}}class T_ extends yc{getTypeName(){return"Script"}}class nu extends yc{getTypeName(){return"URL"}}class I_ extends yc{getTypeName(){return"ResourceURL"}}function ru(t){return t instanceof yc?t.changingThisBreaksApplicationSecurity:t}function Da(t,n){const o=function zg(t){return t instanceof yc&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${He})`)}return o===n}function By(t){return new b_(t)}function Wg(t){return new cf(t)}function Rp(t){return new T_(t)}function Kg(t){return new nu(t)}function $y(t){return new I_(t)}class Gy{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(tu(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class qg{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=tu(n),o}}const vc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iu(t){return(t=String(t)).match(vc)?t:"unsafe:"+t}function qa(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function uf(...t){const n={};for(const o of t)for(const u in o)o.hasOwnProperty(u)&&(n[u]=!0);return n}const df=qa("area,br,col,hr,img,wbr"),Xg=qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yi=qa("rp,rt"),hf=uf(df,uf(Xg,qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uf(yi,qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uf(yi,Xg)),ff=qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pp=uf(ff,qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),S_=qa("script,style,template");class sh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!hf.hasOwnProperty(o))return this.sanitizedSomething=!0,!S_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=n.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),I=m.name,D=I.toLowerCase();if(!Pp.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=m.value;ff[D]&&(O=iu(O)),this.buf.push(" ",I,'="',Zg(O),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();hf.hasOwnProperty(o)&&!df.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(Zg(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const R_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jg=/([^\#-~ |!])/g;function Zg(t){return t.replace(/&/g,"&amp;").replace(R_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Jg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ec;function xp(t,n){let o=null;try{Ec=Ec||function Zu(t){const n=new qg(t);return function Yg(){try{return!!(new window.DOMParser).parseFromString(tu(""),"text/html")}catch{return!1}}()?new Gy(n):n}(t);let u=n?String(n):"";o=Ec.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=o.innerHTML,o=Ec.getInertBodyElement(u)}while(u!==m);return tu((new sh).sanitizeChildren(em(o)||o))}finally{if(o){const u=em(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function em(t){return"content"in t&&function Hy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ed=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ed||{});function tm(t){const n=oh();return n?Dp(n.sanitize(ed.HTML,t)||""):Da(t,"HTML")?Dp(ru(t)):xp(ih(),Ke(t))}function Mp(t){const n=oh();return n?n.sanitize(ed.URL,t)||"":Da(t,"URL")?ru(t):iu(Ke(t))}function P_(t){const n=oh();if(n)return E_(n.sanitize(ed.RESOURCE_URL,t)||"");if(Da(t,"ResourceURL"))return E_(ru(t));throw new Ae(904,!1)}function x_(t,n,o){return function Yy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?P_:Mp}(n,o)(t)}function oh(){const t=Ut();return t&&t[Ss].sanitizer}const td=new on("ENVIRONMENT_INITIALIZER"),nm=new on("INJECTOR",-1),rm=new on("INJECTOR_DEF_TYPES");class Op{get(n,o=Ln){if(o===Ln){const u=new Error(`NullInjectorError: No provider for ${pe(n)}!`);throw u.name="NullInjectorError",u}return o}}function ah(t){return{\u0275providers:t}}function li(...t){return{\u0275providers:im(0,t),\u0275fromNgModule:!0}}function im(t,...n){const o=[],u=new Set;let f;const m=I=>{o.push(I)};return Nl(n,I=>{const D=I;su(D,m,[],u)&&(f||=[],f.push(D))}),void 0!==f&&sm(f,m),o}function sm(t,n){for(let o=0;o<t.length;o++){const{ngModule:u,providers:f}=t[o];io(f,m=>{n(m,u)})}}function su(t,n,o,u){if(!(t=qe(t)))return!1;let f=null,m=_r(t);const I=!m&&qn(t);if(m||I){if(I&&!I.standalone)return!1;f=t}else{const O=t.ngModule;if(m=_r(O),!m)return!1;f=O}const D=u.has(f);if(I){if(D)return!1;if(u.add(f),I.dependencies){const O="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const W of O)su(W,n,o,u)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let W;u.add(f);try{Nl(m.imports,ae=>{su(ae,n,o,u)&&(W||=[],W.push(ae))})}finally{}void 0!==W&&sm(W,n)}if(!D){const W=Rs(f)||(()=>new f);n({provide:f,useFactory:W,deps:sr},f),n({provide:rm,useValue:f,multi:!0},f),n({provide:td,useValue:()=>_t(f),multi:!0},f)}const O=m.providers;if(null!=O&&!D){const W=t;io(O,ae=>{n(ae,W)})}}}return f!==t&&void 0!==t.providers}function io(t,n){for(let o of t)bt(o)&&(o=o.\u0275providers),Array.isArray(o)?io(o,n):n(o)}const ks=K({provide:String,useValue:K});function Sa(t){return null!==t&&"object"==typeof t&&ks in t}function bc(t){return"function"==typeof t}const pf=new on("Set Injector scope."),gf={},Np={};let am;function Fp(){return void 0===am&&(am=new Op),am}class vi{}class mf extends vi{get destroyed(){return this._destroyed}constructor(n,o,u,f){super(),this.parent=o,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,um(n,I=>this.processProvider(I)),this.records.set(nm,lh(void 0,this)),f.has("environment")&&this.records.set(vi,lh(void 0,this));const m=this.records.get(pf);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(rm.multi,sr,En.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=Z(this),u=Vr(void 0);try{return n()}finally{Z(o),Vr(u)}}get(n,o=Ln,u=En.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(On))return n[On](this);u=wn(u);const m=Z(this),I=Vr(void 0);try{if(!(u&En.SkipSelf)){let O=this.records.get(n);if(void 0===O){const W=function yE(t){return"function"==typeof t||"object"==typeof t&&t instanceof on}(n)&&jn(n);O=W&&this.injectableDefInScope(W)?lh(lm(n),gf):null,this.records.set(n,O)}if(null!=O)return this.hydrate(n,O)}return(u&En.Self?Fp():this.parent).get(n,o=u&En.Optional&&o===Ln?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[Tr]=D[Tr]||[]).unshift(pe(n)),m)throw D;return function ir(t,n,o,u){const f=t[Tr];throw n[C]&&f.unshift(n[C]),t.message=function Us(t,n,o,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=pe(n);if(Array.isArray(n))f=n.map(pe).join(" -> ");else if("object"==typeof n){let m=[];for(let I in n)if(n.hasOwnProperty(I)){let D=n[I];m.push(I+":"+("string"==typeof D?JSON.stringify(D):pe(D)))}f=`{${m.join(", ")}}`}return`${o}${u?"("+u+")":""}[${f}]: ${t.replace(At,"\n  ")}`}("\n"+t.message,f,o,u),t.ngTokenPath=f,t[Tr]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Vr(I),Z(m)}}resolveInjectorInitializers(){const n=Z(this),o=Vr(void 0);try{const f=this.get(td.multi,sr,En.Self);for(const m of f)m()}finally{Z(n),Vr(o)}}toString(){const n=[],o=this.records;for(const u of o.keys())n.push(pe(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(n){let o=bc(n=qe(n))?n:qe(n&&n.provide);const u=function O_(t){return Sa(t)?lh(void 0,t.useValue):lh(N_(t),gf)}(n);if(bc(n)||!0!==n.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=lh(void 0,gf,!0),f.factory=()=>vr(f.multi),this.records.set(o,f)),o=n,f.multi.push(n)}this.records.set(o,u)}hydrate(n,o){return o.value===gf&&(o.value=Np,o.value=o.factory()),"object"==typeof o.value&&o.value&&function F_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=qe(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function lm(t){const n=jn(t),o=null!==n?n.factory:Rs(t);if(null!==o)return o;if(t instanceof on)throw new Ae(204,!1);if(t instanceof Function)return function As(t){const n=t.length;if(n>0)throw function kl(t,n){const o=[];for(let u=0;u<t;u++)o.push(n);return o}(n,"?"),new Ae(204,!1);const o=function Vt(t){return t&&(t[sn]||t[Yn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Ae(204,!1)}function N_(t,n,o){let u;if(bc(t)){const f=qe(t);return Rs(f)||lm(f)}if(Sa(t))u=()=>qe(t.useValue);else if(function om(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...vr(t.deps||[]));else if(function M_(t){return!(!t||!t.useExisting)}(t))u=()=>_t(qe(t.useExisting));else{const f=qe(t&&(t.useClass||t.provide));if(!function cm(t){return!!t.deps}(t))return Rs(f)||lm(f);u=()=>new f(...vr(t.deps))}return u}function lh(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function um(t,n){for(const o of t)Array.isArray(o)?um(o,n):o&&bt(o)?um(o.\u0275providers,n):n(o)}const k_=new on("AppId",{providedIn:"root",factory:()=>Zy}),Zy="ng",dm=new on("Platform Initializer"),hm=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_f=new on("AnimationModuleType"),ev=new on("CSP nonce",{providedIn:"root",factory:()=>ih().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Vp=(t,n,o)=>null;function Ic(t,n,o=!1){return Vp(t,n,o)}class B_{}class vf{}class vm{resolveComponentFactory(n){throw function Ya(t){const n=Error(`No component factory found for ${pe(t)}.`);return n.ngComponent=t,n}(n)}}let wc=(()=>{class t{static{this.NULL=new vm}}return t})();function EE(){return ld(Gs(),Ut())}function ld(t,n){return new cd(Ui(t,n))}let cd=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=EE}}return t})();function nv(t){return t instanceof cd?t.nativeElement:t}class Ef{}let rv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function iv(){const t=Ut(),o=Hi(Gs().index,t);return(wi(o)?o:t)[Un]}()}}return t})(),Em=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>null})}}return t})();class sv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const ov=new sv("16.2.12"),ph={};function bE(t,n=null,o=null,u){const f=jp(t,n,o,u);return f.resolveInjectorInitializers(),f}function jp(t,n=null,o=null,u,f=new Set){const m=[o||sr,li(t)];return u=u||("object"==typeof t?void 0:pe(t)),new mf(m,n||Fp(),u||null,f)}let Gl=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ln}static{this.NULL=new Op}static create(o,u){if(Array.isArray(o))return bE({name:""},u,o,"");{const f=o.name??"";return bE({name:f},o.parent,o.providers,f)}}static{this.\u0275prov=rn({token:t,providedIn:"any",factory:()=>_t(nm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function au(t){return t.ngOriginalError}class Xa{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&au(n);for(;o&&au(o);)o=au(o);return o||null}}function Dc(t){return n=>{setTimeout(t,void 0,n)}}const Sc=class CE extends s.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,u){let f=n,m=o||(()=>null),I=u;if(n&&"object"==typeof n){const O=n;f=O.next?.bind(O),m=O.error?.bind(O),I=O.complete?.bind(O)}this.__isAsync&&(m=Dc(m),f&&(f=Dc(f)),I&&(I=Dc(I)));const D=super.subscribe({next:f,error:m,complete:I});return n instanceof ce.yU&&n.add(D),D}};function hv(...t){}class Eo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sc(!1),this.onMicrotaskEmpty=new Sc(!1),this.onStable=new Sc(!1),this.onError=new Sc(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&o,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function wE(){const t="function"==typeof Hn.requestAnimationFrame;let n=Hn[t?"requestAnimationFrame":"setTimeout"],o=Hn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function SE(t){const n=()=>{!function DE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Hn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,W_(t),t.isCheckStableRunning=!0,z_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),W_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,f,m,I,D)=>{if(function PE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return o.invokeTask(f,m,I,D);try{return fv(t),o.invokeTask(f,m,I,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),gh(t)}},onInvoke:(o,u,f,m,I,D,O)=>{try{return fv(t),o.invoke(f,m,I,D,O)}finally{t.shouldCoalesceRunChangeDetection&&n(),gh(t)}},onHasTask:(o,u,f,m)=>{o.hasTask(f,m),u===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,W_(t),z_(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,u,f,m)=>(o.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new Ae(909,!1)}run(n,o,u){return this._inner.run(n,o,u)}runTask(n,o,u,f){const m=this._inner,I=m.scheduleEventTask("NgZoneEvent: "+f,n,AE,hv,hv);try{return m.runTask(I,o,u)}finally{m.cancelTask(I)}}runGuarded(n,o,u){return this._inner.runGuarded(n,o,u)}runOutsideAngular(n){return this._outer.run(n)}}const AE={};function z_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function W_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gh(t){t._nesting--,z_(t)}class K_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sc,this.onMicrotaskEmpty=new Sc,this.onStable=new Sc,this.onError=new Sc}run(n,o,u){return n.apply(o,u)}runGuarded(n,o,u){return n.apply(o,u)}runOutsideAngular(n){return n()}runTask(n,o,u,f){return n.apply(o,u)}}const RE=new on("",{providedIn:"root",factory:pv});function pv(){const t=an(Eo);let n=!0;const o=new r.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new r.c(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const I=t.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),I.unsubscribe()}});return(0,be.h)(o,u.pipe((0,Se.u)()))}function gv(t){return t.ownerDocument.defaultView}function ud(t){return t instanceof Function?t():t}let vv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Gp(t){for(;t;){t[tr]|=64;const n=Jd(t);if(ea(t)&&!n)return t;t=n}return null}const Ev=new on("",{providedIn:"root",factory:()=>!1});let Y_=null;function LE(t,n){return t[n]??UE()}function VE(t,n){const o=UE();o.producerNode?.length&&(t[n]=Y_,o.lView=t,Y_=X_())}const Iv={...na,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gp(t.lView)},lView:null};function X_(){return Object.create(Iv)}function UE(){return Y_??=X_(),Y_}const Br={};function jE(t){Im(Ir(),Ut(),nr()+t,!1)}function Im(t,n,o,u){if(!u)if(3==(3&n[tr])){const m=t.preOrderCheckHooks;null!==m&&$c(n,m,o)}else{const m=t.preOrderHooks;null!==m&&Mu(n,m,0,o)}xr(o)}function Rc(t,n=En.Default){const o=Ut();return null===o?_t(t,n):ju(Gs(),o,qe(t),n)}function d(){throw new Error("invalid")}function i(t,n,o,u,f,m,I,D,O,W,ae){const De=n.blueprint.slice();return De[Gr]=f,De[tr]=140|u,(null!==W||t&&2048&t[tr])&&(De[tr]|=2048),va(De),De[cr]=De[ne]=t,De[qr]=o,De[Ss]=I||t&&t[Ss],De[Un]=D||t&&t[Un],De[ls]=O||t&&t[ls]||null,De[Li]=m,De[mt]=function s_(){return Mg++}(),De[hn]=ae,De[qt]=W,De[ee]=2==n.type?t[ee]:De,De}function l(t,n,o,u,f){let m=t.data[n];if(null===m)m=function h(t,n,o,u,f){const m=jc(),I=sc(),O=t.data[n]=function Xn(t,n,o,u,f,m){let I=n?n.injectorIndex:-1,D=0;return function xo(){return null!==or.skipHydrationRootTNode}()&&(D|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?m:m&&m.parent,o,n,u,f);return null===t.firstChild&&(t.firstChild=O),null!==m&&(I?null==m.child&&null!==O.parent&&(m.child=O):null===m.next&&(m.next=O,O.prev=m)),O}(t,n,o,u,f),function Ad(){return or.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=o,m.value=u,m.attrs=f;const I=function al(){const t=or.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===I?-1:I.injectorIndex}return Mo(m,!0),m}function y(t,n,o,u){if(0===o)return-1;const f=n.length;for(let m=0;m<o;m++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function T(t,n,o,u,f){const m=LE(n,Wn),I=nr(),D=2&u;try{xr(-1),D&&n.length>An&&Im(t,n,An,!1),rs(D?2:0,f);const W=D?m:null,ae=ya(W);try{null!==W&&(W.dirty=!1),o(u,f)}finally{La(W,ae)}}finally{D&&null===n[Wn]&&VE(n,Wn),xr(I),rs(D?3:1,f)}}function P(t,n,o){if(Bo(n)){const u=Ki(null);try{const m=n.directiveEnd;for(let I=n.directiveStart;I<m;I++){const D=t.data[I];D.contentQueries&&D.contentQueries(1,o[I],I)}}finally{Ki(u)}}}function U(t,n,o){Zt()&&(function BE(t,n,o,u){const f=o.directiveStart,m=o.directiveEnd;cs(o)&&function Kp(t,n,o){const u=Ui(n,t),f=le(o);let I=16;o.signals?I=4096:o.onPush&&(I=64);const D=Cf(t,i(t,f,null,I,u,n,null,t[Ss].rendererFactory.createRenderer(u,o),null,null,null));t[n.index]=D}(n,o,t.data[f+o.componentOffset]),t.firstCreatePass||ac(o,n),ko(u,n);const I=o.initialInputs;for(let D=f;D<m;D++){const O=t.data[D],W=za(n,t,D,o);ko(W,n),null!==I&&HE(0,D-f,W,O,0,I),to(O)&&(Hi(o.index,n)[qr]=za(n,t,D,o))}}(t,n,o,Ui(o,n)),64==(64&o.flags)&&If(t,n,o))}function Y(t,n,o=Ui){const u=n.localNames;if(null!==u){let f=n.index+1;for(let m=0;m<u.length;m+=2){const I=u[m+1],D=-1===I?o(n,t):t[I];t[f++]=D}}}function le(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ce(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ce(t,n,o,u,f,m,I,D,O,W,ae){const De=An+u,tt=De+f,ft=function ze(t,n){const o=[];for(let u=0;u<n;u++)o.push(u<t?null:Br);return o}(De,tt),kt="function"==typeof W?W():W;return ft[pn]={type:t,blueprint:ft,template:o,queries:null,viewQuery:D,declTNode:n,data:ft.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:O,consts:kt,incompleteFirstPass:!1,ssrId:ae}}let un=t=>null;function Mr(t,n,o,u){for(let f in t)if(t.hasOwnProperty(f)){o=null===o?{}:o;const m=t[f];null===u?Oi(o,n,f,m):u.hasOwnProperty(f)&&Oi(o,n,u[f],m)}return o}function Oi(t,n,o,u){t.hasOwnProperty(o)?t[o].push(n,u):t[o]=[n,u]}function Ue(t,n,o,u,f,m,I,D){const O=Ui(n,o);let ae,W=n.inputs;!D&&null!=W&&(ae=W[u])?(Sm(t,o,ae,u,f),cs(n)&&function Je(t,n){const o=Hi(n,t);16&o[tr]||(o[tr]|=64)}(o,n.index)):3&n.type&&(u=function ut(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=I?I(f,n.value||"",u):f,m.setProperty(O,u,f))}function St(t,n,o,u){if(Zt()){const f=null===u?null:{"":-1},m=function Q_(t,n){const o=t.directiveRegistry;let u=null,f=null;if(o)for(let m=0;m<o.length;m++){const I=o[m];if(bs(n,I.selectors,!1))if(u||(u=[]),to(I))if(null!==I.findHostDirectiveDefs){const D=[];f=f||new Map,I.findHostDirectiveDefs(I,D,f),u.unshift(...D,I),Cm(t,n,D.length)}else u.unshift(I),Cm(t,n,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,u,f),u.push(I)}return null===u?null:[u,f]}(t,o);let I,D;null===m?I=D=null:[I,D]=m,null!==I&&We(t,n,o,I,f,D),f&&function $E(t,n,o){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=o[n[f+1]];if(null==m)throw new Ae(-301,!1);u.push(n[f],m)}}}(o,u,f)}o.mergedAttrs=Ji(o.mergedAttrs,o.attrs)}function We(t,n,o,u,f,m){for(let W=0;W<u.length;W++)sa(ac(o,n),t,u[W].type);!function Jo(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,u.length);for(let W=0;W<u.length;W++){const ae=u[W];ae.providersResolver&&ae.providersResolver(ae)}let I=!1,D=!1,O=y(t,n,u.length,null);for(let W=0;W<u.length;W++){const ae=u[W];o.mergedAttrs=Ji(o.mergedAttrs,ae.hostAttrs),GE(t,o,n,O,ae),dd(O,ae,f),null!==ae.contentQueries&&(o.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(o.flags|=64);const De=ae.type.prototype;!I&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),I=!0),!D&&(De.ngOnChanges||De.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),D=!0),O++}!function si(t,n,o){const f=n.directiveEnd,m=t.data,I=n.attrs,D=[];let O=null,W=null;for(let ae=n.directiveStart;ae<f;ae++){const De=m[ae],tt=o?o.get(De):null,kt=tt?tt.outputs:null;O=Mr(De.inputs,ae,O,tt?tt.inputs:null),W=Mr(De.outputs,ae,W,kt);const dn=null===O||null===I||wo(n)?null:wm(O,ae,I);D.push(dn)}null!==O&&(O.hasOwnProperty("class")&&(n.flags|=8),O.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=O,n.outputs=W}(t,o,m)}function If(t,n,o){const u=o.directiveStart,f=o.directiveEnd,m=o.index,I=function hl(){return or.lFrame.currentDirectiveIndex}();try{xr(m);for(let D=u;D<f;D++){const O=t.data[D],W=n[D];xu(D),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&Wp(O,W)}}finally{xr(-1),xu(I)}}function Wp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Cm(t,n,o){n.componentOffset=o,(t.components??=[]).push(n.index)}function dd(t,n,o){if(o){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)o[n.exportAs[u]]=t;to(n)&&(o[""]=t)}}function GE(t,n,o,u,f){t.data[u]=f;const m=f.factory||(f.factory=Rs(f.type)),I=new ia(m,to(f),Rc);t.blueprint[u]=I,o[u]=I,function cu(t,n,o,u,f){const m=f.hostBindings;if(m){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const D=~n.index;(function zp(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(I)!=D&&I.push(D),I.push(o,u,m)}}(t,n,u,y(t,o,f.hostVars,Br),f)}function Pc(t,n,o,u,f,m){const I=Ui(t,n);!function mh(t,n,o,u,f,m,I){if(null==m)t.removeAttribute(n,f,o);else{const D=null==I?Ke(m):I(m,u||"",f);t.setAttribute(n,f,D,o)}}(n[Un],I,m,t.value,o,u,f)}function HE(t,n,o,u,f,m){const I=m[n];if(null!==I)for(let D=0;D<I.length;)Cv(u,o,I[D++],I[D++],I[D++])}function Cv(t,n,o,u,f){const m=Ki(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(u)&&(f=I[u].call(n,f)),null!==t.setInput?t.setInput(n,f,o,u):n[u]=f}finally{Ki(m)}}function wm(t,n,o){let u=null,f=0;for(;f<o.length;){const m=o[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===u&&(u=[]);const I=t[m];for(let D=0;D<I.length;D+=2)if(I[D]===n){u.push(m,I[D+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function qp(t,n,o,u){return[t,!0,!1,n,null,0,u,o,null,null,null]}function Am(t,n){const o=t.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const m=o[u+1];if(-1!==m){const I=t.data[m];S(o[u]),I.contentQueries(2,n[m],m)}}}function Cf(t,n){return t[mi]?t[es][Zi]=n:t[mi]=n,t[es]=n,n}function Yp(t,n,o){S(0);const u=Ki(null);try{n(t,o)}finally{Ki(u)}}function J_(t){return t[Bs]||(t[Bs]=[])}function Z_(t){return t.cleanup||(t.cleanup=[])}function Dm(t,n){const o=t[ls],u=o?o.get(Xa,null):null;u&&u.handleError(n)}function Sm(t,n,o,u,f){for(let m=0;m<o.length;){const I=o[m++],D=o[m++];Cv(t.data[I],n[I],u,D,f)}}function Hl(t,n,o){const u=$s(n,t);!function _p(t,n,o){t.setValue(n,o)}(t[Un],u,o)}function Dv(t,n){const o=Hi(n,t),u=o[pn];!function zE(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(u,o);const f=o[Gr];null!==f&&null===o[hn]&&(o[hn]=Ic(f,o[ls])),Xp(u,o,o[qr])}function Xp(t,n,o){F(n);try{const u=t.viewQuery;null!==u&&Yp(1,u,o);const f=t.template;null!==f&&T(t,n,f,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Am(t,n),t.staticViewQueries&&Yp(2,t.viewQuery,o);const m=t.components;null!==m&&function ey(t,n){for(let o=0;o<n.length;o++)Dv(t,n[o])}(n,m)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[tr]&=-5,yt()}}let Rm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,u,f){const m=typeof Zone>"u"?null:Zone.current,I=function Nt(t,n,o){const u=Object.create(Hr);o&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=I=>{u.cleanupFn=I};return u.ref={notify:()=>Cs(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Il(u))return;u.hasRun=!0;const I=ya(u);try{u.cleanupFn(),u.cleanupFn=kn,u.fn(f)}finally{La(u,I)}},cleanup:()=>u.cleanupFn()},u.ref}(o,W=>{this.all.has(W)&&this.queue.set(W,m)},f);let D;this.all.add(I),I.notify();const O=()=>{I.cleanup(),D?.(),this.all.delete(I),this.queue.delete(I)};return D=u?.onDestroy(O),{destroy:O}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function bo(t,n,o){let u=o?t.styles:null,f=o?t.classes:null,m=0;if(null!==n)for(let I=0;I<n.length;I++){const D=n[I];"number"==typeof D?m=D:1==m?f=Pe(f,D):2==m&&(u=Pe(u,D+": "+n[++I]+";"))}o?t.styles=u:t.stylesWithoutHost=u,o?t.classes=f:t.classesWithoutHost=f}function hd(t,n,o,u,f=!1){for(;null!==o;){const m=n[o.index];null!==m&&u.push(Er(m)),Pr(m)&&ty(m,u);const I=o.type;if(8&I)hd(t,n,o.child,u);else if(32&I){const D=jl(o,n);let O;for(;O=D();)u.push(O)}else if(16&I){const D=Bg(n,o);if(Array.isArray(D))u.push(...D);else{const O=Jd(n[ee]);hd(O[pn],O,D,u,!0)}}o=f?o.projectionNext:o.next}return u}function ty(t,n){for(let o=Dr;o<t.length;o++){const u=t[o],f=u[pn].firstChild;null!==f&&hd(u[pn],u,f,n)}t[ri]!==t[Gr]&&n.push(t[ri])}function Qp(t,n,o,u=!0){const f=n[Ss],m=f.rendererFactory,I=f.afterRenderEventManager;m.begin?.(),I?.begin();try{ny(t,n,t.template,o)}catch(O){throw u&&Dm(n,O),O}finally{m.end?.(),f.effectManager?.flush(),I?.end()}}function ny(t,n,o,u){const f=n[tr];if(256!=(256&f)){n[Ss].effectManager?.flush(),F(n);try{va(n),function Ba(t){return or.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&T(t,n,o,2,u);const I=3==(3&f);if(I){const W=t.preOrderCheckHooks;null!==W&&$c(n,W,null)}else{const W=t.preOrderHooks;null!==W&&Mu(n,W,0,null),Ou(n,0)}if(function iy(t){for(let n=c_(t);null!==n;n=Ng(n)){if(!n[Nr])continue;const o=n[Vi];for(let u=0;u<o.length;u++){nc(o[u])}}}(n),ry(n,2),null!==t.contentQueries&&Am(t,n),I){const W=t.contentCheckHooks;null!==W&&$c(n,W)}else{const W=t.contentHooks;null!==W&&Mu(n,W,1),Ou(n,1)}!function e(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const u=LE(n,wr);try{for(let f=0;f<o.length;f++){const m=o[f];if(m<0)xr(~m);else{const I=m,D=o[++f],O=o[++f];qf(D,I),u.dirty=!1;const W=ya(u);try{O(2,n[I])}finally{La(u,W)}}}}finally{null===n[wr]&&VE(n,wr),xr(-1)}}(t,n);const D=t.components;null!==D&&Pm(n,D,0);const O=t.viewQuery;if(null!==O&&Yp(2,O,u),I){const W=t.viewCheckHooks;null!==W&&$c(n,W)}else{const W=t.viewHooks;null!==W&&Mu(n,W,2),Ou(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[tr]&=-73,wu(n)}finally{yt()}}}function ry(t,n){for(let o=c_(t);null!==o;o=Ng(o))for(let u=Dr;u<o.length;u++)Sv(o[u],n)}function WE(t,n,o){Sv(Hi(n,t),o)}function Sv(t,n){if(!function Cu(t){return 128==(128&t[tr])}(t))return;const o=t[pn],u=t[tr];if(80&u&&0===n||1024&u||2===n)ny(o,t,o.template,t[qr]);else if(t[as]>0){ry(t,1);const f=o.components;null!==f&&Pm(t,f,1)}}function Pm(t,n,o){for(let u=0;u<n.length;u++)WE(t,n[u],o)}class wf{get rootNodes(){const n=this._lView,o=n[pn];return hd(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qr]}set context(n){this._lView[qr]=n}get destroyed(){return 256==(256&this._lView[tr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[cr];if(Pr(n)){const o=n[8],u=o?o.indexOf(this):-1;u>-1&&(Qh(n,u),Fl(o,u))}this._attachedToViewContainer=!1}vp(this._lView[pn],this._lView)}onDestroy(n){!function Id(t,n){if(256==(256&t[tr]))throw new Ae(911,!1);null===t[In]&&(t[In]=[]),t[In].push(n)}(this._lView,n)}markForCheck(){Gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[tr]&=-129}reattach(){this._lView[tr]|=128}detectChanges(){Qp(this._lView[pn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function u_(t,n){vl(t,n,n[Un],2,null,null)}(this._lView[pn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=n}}class Rv extends wf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Qp(n[pn],n,n[qr],!1)}checkNoChanges(){}get context(){return null}}class Af extends wc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=qn(n);return new Df(o,this.ngModule)}}function xm(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class _h{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,u){u=wn(u);const f=this.injector.get(n,ph,u);return f!==ph||o===ph?f:this.parentInjector.get(n,o,u)}}class Df extends vf{get inputs(){const n=this.componentDef,o=n.inputTransforms,u=xm(n.inputs);if(null!==o)for(const f of u)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return u}get outputs(){return xm(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function di(t){return t.map(Ao).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,u,f){let m=(f=f||this.ngModule)instanceof vi?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new _h(n,m):n,D=I.get(Ef,null);if(null===D)throw new Ae(407,!1);const De={rendererFactory:D,sanitizer:I.get(Em,null),effectManager:I.get(Rm,null),afterRenderEventManager:I.get(vv,null)},tt=D.createRenderer(null,this.componentDef),ft=this.componentDef.selectors[0][0]||"div",kt=u?function Ct(t,n,o,u){const m=u.get(Ev,!1)||o===Es.ShadowDom,I=t.selectRootElement(n,m);return function Gt(t){un(t)}(I),I}(tt,u,this.componentDef.encapsulation,I):yp(tt,ft,function sy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ft)),lr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Jt=null;null!==kt&&(Jt=Ic(kt,I,!0));const Lr=Ce(0,null,null,1,0,null,null,null,null,null,null),Ei=i(null,Lr,null,lr,null,null,De,tt,I,null,Jt);let _s,Jl;F(Ei);try{const Kf=this.componentDef;let Ny,cT=null;Kf.findHostDirectiveDefs?(Ny=[],cT=new Map,Kf.findHostDirectiveDefs(Kf,Ny,cT),Ny.push(Kf)):Ny=[Kf];const nA=function Pv(t,n){const o=t[pn],u=An;return t[u]=n,l(o,u,2,"#host",null)}(Ei,kt),rA=function Zp(t,n,o,u,f,m,I){const D=f[pn];!function xv(t,n,o,u){for(const f of t)n.mergedAttrs=Ji(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(bo(n,n.mergedAttrs,!0),null!==o&&wp(u,o,n))}(u,t,n,I);let O=null;null!==n&&(O=Ic(n,f[ls]));const W=m.rendererFactory.createRenderer(n,o);let ae=16;o.signals?ae=4096:o.onPush&&(ae=64);const De=i(f,le(o),null,ae,f[t.index],t,m,W,null,null,O);return D.firstCreatePass&&Cm(D,t,u.length-1),Cf(f,De),f[t.index]=De}(nA,kt,Kf,Ny,Ei,De,tt);Jl=Iu(Lr,An),kt&&function Mv(t,n,o,u){if(u)Ur(t,o,["ng-version",ov.full]);else{const{attrs:f,classes:m}=function Na(t){const n=[],o=[];let u=1,f=2;for(;u<t.length;){let m=t[u];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++u]):8===f&&o.push(m);else{if(!oi(f))break;f=m}u++}return{attrs:n,classes:o}}(n.selectors[0]);f&&Ur(t,o,f),m&&m.length>0&&Cp(t,o,m.join(" "))}}(tt,Kf,kt,u),void 0!==o&&function eg(t,n,o){const u=t.projection=[];for(let f=0;f<n.length;f++){const m=o[f];u.push(null!=m?Array.from(m):null)}}(Jl,this.ngContentSelectors,o),_s=function ua(t,n,o,u,f,m){const I=Gs(),D=f[pn],O=Ui(I,f);We(D,f,I,o,null,u);for(let ae=0;ae<o.length;ae++)ko(za(f,D,I.directiveStart+ae,I),f);If(D,f,I),O&&ko(O,f);const W=za(f,D,I.directiveStart+I.componentOffset,I);if(t[qr]=f[qr]=W,null!==m)for(const ae of m)ae(W,n);return P(D,I,t),W}(rA,Kf,Ny,cT,Ei,[Sf]),Xp(Lr,Ei,null)}finally{yt()}return new Mm(this.componentType,_s,ld(Jl,Ei),Ei,Jl)}}class Mm extends B_{constructor(n,o,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Rv(f),this.componentType=n}setInput(n,o){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;Sm(m[pn],m,f,n,o),this.previousInputValues.set(n,o),Gp(Hi(this._tNode.index,m))}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Sf(){const t=Gs();Ga(Ut()[pn],t)}function Om(t){let n=function oy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const u=[t];for(;n;){let f;if(to(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ae(903,!1);f=n.\u0275dir}if(f){if(o){u.push(f);const I=t;I.inputs=vh(t.inputs),I.inputTransforms=vh(t.inputTransforms),I.declaredInputs=vh(t.declaredInputs),I.outputs=vh(t.outputs);const D=f.hostBindings;D&&Ov(t,D);const O=f.viewQuery,W=f.contentQueries;if(O&&ay(t,O),W&&tg(t,W),ie(t.inputs,f.inputs),ie(t.declaredInputs,f.declaredInputs),ie(t.outputs,f.outputs),null!==f.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),ie(I.inputTransforms,f.inputTransforms)),to(f)&&f.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let I=0;I<m.length;I++){const D=m[I];D&&D.ngInherit&&D(t),D===Om&&(o=!1)}}n=Object.getPrototypeOf(n)}!function yh(t){let n=0,o=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Ji(f.hostAttrs,o=Ji(o,f.hostAttrs))}}(u)}function vh(t){return t===pi?{}:t===sr?[]:t}function ay(t,n){const o=t.viewQuery;t.viewQuery=o?(u,f)=>{n(u,f),o(u,f)}:n}function tg(t,n){const o=t.contentQueries;t.contentQueries=o?(u,f,m)=>{n(u,f,m),o(u,f,m)}:n}function Ov(t,n){const o=t.hostBindings;t.hostBindings=o?(u,f)=>{n(u,f),o(u,f)}:n}function Nv(t){const n=t.inputConfig,o={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(o[u]=f[2])}t.inputTransforms=o}function ig(t){return!!du(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function du(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xc(t,n,o){return t[n]=o}function Pf(t,n){return t[n]}function Lo(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function fd(t,n,o,u){const f=Lo(t,n,o);return Lo(t,n+1,u)||f}function xf(t,n,o,u,f){const m=fd(t,n,o,u);return Lo(t,n+2,f)||m}function Pa(t,n,o,u,f,m){const I=fd(t,n,o,u);return fd(t,n+2,f,m)||I}function Lm(t,n,o,u){const f=Ut();return Lo(f,ul(),n)&&(Ir(),Pc(hi(),f,t,n,o,u)),Lm}function bh(t,n,o,u){return Lo(t,ul(),o)?n+Ke(o)+u:Br}function jf(t,n,o,u,f,m,I,D){const O=Ut(),W=Ir(),ae=t+An,De=W.firstCreatePass?function lg(t,n,o,u,f,m,I,D,O){const W=n.consts,ae=l(n,t,4,I||null,ws(W,D));St(n,o,ae,ws(W,O)),Ga(n,ae);const De=ae.tView=Ce(2,ae,u,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,W,null);return null!==n.queries&&(n.queries.template(n,ae),De.queries=n.queries.embeddedTView(ae)),ae}(ae,W,O,n,o,u,f,m,I):W.data[ae];Mo(De,!1);const tt=yy(W,O,De,t);pl()&&Tp(W,O,tt,De),ko(tt,O),Cf(O,O[ae]=qp(tt,O,tt,De)),Ys(De)&&U(W,O,De),null!=I&&Y(O,De,D)}let yy=function Bf(t,n,o,u){return Oo(!0),n[Un].createComment("")};function ug(t){return ol(function wd(){return or.lFrame.contextLView}(),An+t)}function Ph(t,n,o){const u=Ut();return Lo(u,ul(),n)&&Ue(Ir(),hi(),u,t,n,u[Un],o,!1),Ph}function $f(t,n,o,u,f){const I=f?"class":"style";Sm(t,o,n.inputs[I],I,u)}function Gf(t,n,o,u){const f=Ut(),m=Ir(),I=An+t,D=f[Un],O=m.firstCreatePass?function dg(t,n,o,u,f,m){const I=n.consts,O=l(n,t,2,u,ws(I,f));return St(n,o,O,ws(I,m)),null!==O.attrs&&bo(O,O.attrs,!1),null!==O.mergedAttrs&&bo(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(I,m,f,n,o,u):m.data[I],W=xh(m,f,O,D,n,t);f[I]=W;const ae=Ys(O);return Mo(O,!0),wp(D,W,O),32!=(32&O.flags)&&pl()&&Tp(m,f,W,O),0===function zo(){return or.lFrame.elementDepthCount}()&&ko(W,f),function Uc(){or.lFrame.elementDepthCount++}(),ae&&(U(m,f,O),P(m,O,f)),null!==u&&Y(f,O),Gf}function Oc(){let t=Gs();sc()?Pu():(t=t.parent,Mo(t,!1));const n=t;(function Su(t){return or.skipHydrationRootTNode===t})(n)&&function Ru(){or.skipHydrationRootTNode=null}(),function Cd(){or.lFrame.elementDepthCount--}();const o=Ir();return o.firstCreatePass&&(Ga(o,t),Bo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Sd(t){return 0!=(8&t.flags)}(n)&&$f(o,n,Ut(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ku(t){return 0!=(16&t.flags)}(n)&&$f(o,n,Ut(),n.stylesWithoutHost,!1),Oc}function _d(t,n,o,u){return Gf(t,n,o,u),Oc(),_d}let xh=(t,n,o,u,f,m)=>(Oo(!0),yp(u,f,function $a(){return or.lFrame.currentNamespace}()));function xa(t,n,o){const u=Ut(),f=Ir(),m=t+An,I=f.firstCreatePass?function hg(t,n,o,u,f){const m=n.consts,I=ws(m,u),D=l(n,t,8,"ng-container",I);return null!==I&&bo(D,I,!0),St(n,o,D,ws(m,f)),null!==n.queries&&n.queries.elementStart(n,D),D}(m,f,u,n,o):f.data[m];Mo(I,!0);const D=fa(f,u,I,t);return u[m]=D,pl()&&Tp(f,u,D,I),ko(D,u),Ys(I)&&(U(f,u,I),P(f,I,u)),null!=o&&Y(u,I),xa}function yd(){let t=Gs();const n=Ir();return sc()?Pu():(t=t.parent,Mo(t,!1)),n.firstCreatePass&&(Ga(n,t),Bo(t)&&n.queries.elementEnd(t)),yd}function Nc(t,n,o){return xa(t,n,o),yd(),Nc}let fa=(t,n,o,u)=>(Oo(!0),Fg(n[Un],""));function vd(){return Ut()}function E(t){return!!t&&"function"==typeof t.then}function j(t){return!!t&&"function"==typeof t.subscribe}function X(t,n,o,u){const f=Ut(),m=Ir(),I=Gs();return function Ot(t,n,o,u,f,m,I){const D=Ys(u),W=t.firstCreatePass&&Z_(t),ae=n[qr],De=J_(n);let tt=!0;if(3&u.type||I){const dn=Ui(u,n),xn=I?I(dn):dn,lr=De.length,Jt=I?Ei=>I(Er(Ei[u.index])):u.index;let Lr=null;if(!I&&D&&(Lr=function pt(t,n,o,u){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const I=f[m];if(I===o&&f[m+1]===u){const D=n[Bs],O=f[m+2];return D.length>O?D[O]:null}"string"==typeof I&&(m+=2)}return null}(t,n,f,u.index)),null!==Lr)(Lr.__ngLastListenerFn__||Lr).__ngNextListenerFn__=m,Lr.__ngLastListenerFn__=m,tt=!1;else{m=zi(u,n,ae,m,!1);const Ei=o.listen(xn,f,m);De.push(m,Ei),W&&W.push(f,Jt,lr,lr+1)}}else m=zi(u,n,ae,m,!1);const ft=u.outputs;let kt;if(tt&&null!==ft&&(kt=ft[f])){const dn=kt.length;if(dn)for(let xn=0;xn<dn;xn+=2){const _s=n[kt[xn]][kt[xn+1]].subscribe(m),Jl=De.length;De.push(m,_s),W&&W.push(f,u.index,Jl,-(Jl+1))}}}(m,f,f[Un],I,t,n,u),X}function yn(t,n,o,u){try{return rs(6,n,o),!1!==o(u)}catch(f){return Dm(t,f),!1}finally{rs(7,n,o)}}function zi(t,n,o,u,f){return function m(I){if(I===Function)return u;Gp(t.componentOffset>-1?Hi(t.index,n):n);let O=yn(n,o,u,I),W=m.__ngNextListenerFn__;for(;W;)O=yn(n,o,W,I)&&O,W=W.__ngNextListenerFn__;return f&&!1===O&&I.preventDefault(),O}}function Vs(t=1){return function _n(t){return(or.lFrame.contextLView=function pr(t,n){for(;t>0;)n=n[ne],t--;return n}(t,or.lFrame.contextLView))[qr]}(t)}function Ed(t,n,o){return pa(t,"",n,"",o),Ed}function pa(t,n,o,u,f){const m=Ut(),I=bh(m,n,o,u);return I!==Br&&Ue(Ir(),hi(),m,t,I,m[Un],f,!1),pa}function To(t,n,o,u,f,m,I,D,O){const W=Ut(),ae=function Ni(t,n,o,u,f,m,I,D){const W=xf(t,uo(),o,f,I);return ho(3),W?n+Ke(o)+u+Ke(f)+m+Ke(I)+D:Br}(W,n,o,u,f,m,I,D);return ae!==Br&&Ue(Ir(),hi(),W,t,ae,W[Un],O,!1),To}function $v(t,n){return t<<17|n<<2}function Fc(t){return t>>17&32767}function Gv(t){return 2|t}function mu(t){return(131068&t)>>2}function fg(t,n){return-131069&t|n<<2}function Ey(t){return 1|t}function JE(t,n,o,u,f){const m=t[o+1],I=null===n;let D=u?Fc(m):mu(m),O=!1;for(;0!==D&&(!1===O||I);){const ae=t[D+1];ib(t[D],n)&&(O=!0,t[D+1]=u?Ey(ae):Gv(ae)),D=u?Fc(ae):mu(ae)}O&&(t[o+1]=u?Gv(m):Ey(m))}function ib(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ka(t,n)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZE(t){return t.substring(Io.key,Io.keyEnd)}function by(t,n){const o=Io.textEnd;return o===n?-1:(n=Io.keyEnd=function ob(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,Io.key=n,o),pg(t,n,o))}function pg(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function Wm(t,n,o){return El(t,n,o,!1),Wm}function gg(t,n){return El(t,n,null,!0),gg}function s0(t){!function yu(t,n,o,u){const f=Ir(),m=ho(2);f.firstUpdatePass&&a0(f,null,m,u);const I=Ut();if(o!==Br&&Lo(I,m,o)){const D=f.data[nr()];if(f0(D,u)&&!o0(f,m)){let O=u?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(o=Pe(O,o||"")),$f(f,D,I,o,u)}else!function ub(t,n,o,u,f,m,I,D){f===Br&&(f=sr);let O=0,W=0,ae=0<f.length?f[0]:null,De=0<m.length?m[0]:null;for(;null!==ae||null!==De;){const tt=O<f.length?f[O+1]:void 0,ft=W<m.length?m[W+1]:void 0;let dn,kt=null;ae===De?(O+=2,W+=2,tt!==ft&&(kt=De,dn=ft)):null===De||null!==ae&&ae<De?(O+=2,kt=ae):(W+=2,kt=De,dn=ft),null!==kt&&Yv(t,n,o,u,kt,dn,I,D),ae=O<f.length?f[O]:null,De=W<m.length?m[W]:null}}(f,D,I,I[Un],I[m+1],I[m+1]=function lb(t,n,o){if(null==o||""===o)return sr;const u=[],f=ru(o);if(Array.isArray(f))for(let m=0;m<f.length;m++)t(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&t(u,m,f[m]);else"string"==typeof f&&n(u,f);return u}(t,n,o),u,m)}}(cb,bd,t,!0)}function bd(t,n){for(let o=function zf(t){return function e0(t){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=t.length}(t),by(t,pg(t,0,Io.textEnd))}(n);o>=0;o=by(n,o))Fo(t,ZE(n),!0)}function El(t,n,o,u){const f=Ut(),m=Ir(),I=ho(2);m.firstUpdatePass&&a0(m,t,I,u),n!==Br&&Lo(f,I,n)&&Yv(m,m.data[nr()],f,f[Un],t,f[I+1]=function h0(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=pe(ru(t)))),t}(n,o),u,I)}function o0(t,n){return n>=t.expandoStartIndex}function a0(t,n,o,u){const f=t.data;if(null===f[o+1]){const m=f[nr()],I=o0(t,o);f0(m,u)&&null===n&&!I&&(n=!1),n=function l0(t,n,o,u){const f=function ba(t){const n=or.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(o=Km(o=qv(null,t,n,o,u),n.attrs,u),m=null);else{const I=n.directiveStylingLast;if(-1===I||t[I]!==f)if(o=qv(f,t,n,o,u),null===m){let O=function Kv(t,n,o){const u=o?n.classBindings:n.styleBindings;if(0!==mu(u))return t[Fc(u)]}(t,n,u);void 0!==O&&Array.isArray(O)&&(O=qv(null,t,n,O[1],u),O=Km(O,n.attrs,u),function c0(t,n,o,u){t[Fc(o?n.classBindings:n.styleBindings)]=u}(t,n,u,O))}else m=function pT(t,n,o){let u;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)u=Km(u,t[m].hostAttrs,o);return Km(u,n.attrs,o)}(t,n,u)}return void 0!==m&&(u?n.residualClasses=m:n.residualStyles=m),o}(f,m,n,u),function QE(t,n,o,u,f,m){let I=m?n.classBindings:n.styleBindings,D=Fc(I),O=mu(I);t[u]=o;let ae,W=!1;if(Array.isArray(o)?(ae=o[1],(null===ae||Ka(o,ae)>0)&&(W=!0)):ae=o,f)if(0!==O){const tt=Fc(t[D+1]);t[u+1]=$v(tt,D),0!==tt&&(t[tt+1]=fg(t[tt+1],u)),t[D+1]=function nb(t,n){return 131071&t|n<<17}(t[D+1],u)}else t[u+1]=$v(D,0),0!==D&&(t[D+1]=fg(t[D+1],u)),D=u;else t[u+1]=$v(O,0),0===D?D=u:t[O+1]=fg(t[O+1],u),O=u;W&&(t[u+1]=Gv(t[u+1])),JE(t,ae,u,!0),JE(t,ae,u,!1),function rb(t,n,o,u,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&Ka(m,n)>=0&&(o[u+1]=Ey(o[u+1]))}(n,ae,t,u,m),I=$v(D,O),m?n.classBindings=I:n.styleBindings=I}(f,m,n,o,I,u)}}function qv(t,n,o,u,f){let m=null;const I=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<I&&(m=n[D],u=Km(u,m.hostAttrs,f),m!==t);)D++;return null!==t&&(o.directiveStylingLast=D),u}function Km(t,n,o){const u=o?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?f=I:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fo(t,I,!!o||n[++m]))}return void 0===t?null:t}function cb(t,n,o){const u=String(n);""!==u&&!u.includes(" ")&&Fo(t,u,o)}function Yv(t,n,o,u,f,m,I,D){if(!(3&n.type))return;const O=t.data,W=O[D+1],ae=function YE(t){return 1==(1&t)}(W)?d0(O,n,o,f,mu(W),I):void 0;Ty(ae)||(Ty(m)||function tb(t){return 2==(2&t)}(W)&&(m=d0(O,null,o,f,D,I)),function jy(t,n,o,u,f){if(n)f?t.addClass(o,u):t.removeClass(o,u);else{let m=-1===u.indexOf("-")?void 0:qu.DashCase;null==f?t.removeStyle(o,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=qu.Important),t.setStyle(o,u,f,m))}}(u,I,$s(nr(),o),f,m))}function d0(t,n,o,u,f,m){const I=null===n;let D;for(;f>0;){const O=t[f],W=Array.isArray(O),ae=W?O[1]:O,De=null===ae;let tt=o[f+1];tt===Br&&(tt=De?sr:void 0);let ft=De?Ld(tt,u):ae===u?tt:void 0;if(W&&!Ty(ft)&&(ft=Ld(O,u)),Ty(ft)&&(D=ft,I))return D;const kt=t[f+1];f=I?Fc(kt):mu(kt)}if(null!==n){let O=m?n.residualClasses:n.residualStyles;null!=O&&(D=Ld(O,u))}return D}function Ty(t){return void 0!==t}function f0(t,n){return 0!=(t.flags&(n?8:16))}function Iy(t,n=""){const o=Ut(),u=Ir(),f=t+An,m=u.firstCreatePass?l(u,f,1,n,null):u.data[f],I=p0(u,o,m,n,t);o[f]=I,pl()&&Tp(u,o,I,m),Mo(m,!1)}let p0=(t,n,o,u,f)=>(Oo(!0),function eh(t,n){return t.createText(n)}(n[Un],u));function Xv(t){return qm("",t,""),Xv}function qm(t,n,o){const u=Ut(),f=bh(u,t,n,o);return f!==Br&&Hl(u,nr(),f),qm}function Qv(t,n,o,u,f){const m=Ut(),I=function Th(t,n,o,u,f,m){const D=fd(t,uo(),o,f);return ho(2),D?n+Ke(o)+u+Ke(f)+m:Br}(m,t,n,o,u,f);return I!==Br&&Hl(m,nr(),I),Qv}function Ym(t,n,o,u,f,m,I,D,O){const W=Ut(),ae=function Ih(t,n,o,u,f,m,I,D,O,W){const De=Pa(t,uo(),o,f,I,O);return ho(4),De?n+Ke(o)+u+Ke(f)+m+Ke(I)+D+Ke(O)+W:Br}(W,t,n,o,u,f,m,I,D,O);return ae!==Br&&Hl(W,nr(),ae),Ym}const Wf=void 0;var Tb=["en",[["a","p"],["AM","PM"],Wf],[["AM","PM"],Wf,Wf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wf,"{1} 'at' {0}",Wf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bb(t){const o=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let yg={};function rE(t){const n=function _T(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=iE(n);if(o)return o;const u=n.split("-")[0];if(o=iE(u),o)return o;if("en"===u)return Tb;throw new Ae(701,!1)}function Sy(t){return rE(t)[Qm.PluralCase]}function iE(t){return t in yg||(yg[t]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[t]),yg[t]}var Qm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qm||{});const vg="en-US";let a=vg;function Pb(t,n,o,u,f){if(t=qe(t),Array.isArray(t))for(let m=0;m<t.length;m++)Pb(t[m],n,o,u,f);else{const m=Ir(),I=Ut(),D=Gs();let O=bc(t)?t:qe(t.provide);const W=N_(t),ae=1048575&D.providerIndexes,De=D.directiveStart,tt=D.providerIndexes>>20;if(bc(t)||!t.multi){const ft=new ia(W,f,Rc),kt=Mb(O,n,f?ae:ae+tt,De);-1===kt?(sa(ac(D,I),m,O),xb(m,t,n.length),n.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),o.push(ft),I.push(ft)):(o[kt]=ft,I[kt]=ft)}else{const ft=Mb(O,n,ae+tt,De),kt=Mb(O,n,ae,ae+tt),xn=kt>=0&&o[kt];if(f&&!xn||!f&&!(ft>=0&&o[ft])){sa(ac(D,I),m,O);const lr=function kC(t,n,o,u,f){const m=new ia(t,o,Rc);return m.multi=[],m.index=n,m.componentProviders=0,IT(m,f,u&&!o),m}(f?FC:NC,o.length,f,u,W);!f&&xn&&(o[kt].providerFactory=lr),xb(m,t,n.length,0),n.push(O),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),o.push(lr),I.push(lr)}else xb(m,t,ft>-1?ft:kt,IT(o[f?kt:ft],W,!f&&u));!f&&u&&xn&&o[kt].componentProviders++}}}function xb(t,n,o,u){const f=bc(n),m=function Jy(t){return!!t.useClass}(n);if(f||m){const O=(m?qe(n.useClass):n).prototype.ngOnDestroy;if(O){const W=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const ae=W.indexOf(o);-1===ae?W.push(o,[u,O]):W[ae+1].push(u,O)}else W.push(o,O)}}}function IT(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function Mb(t,n,o,u){for(let f=o;f<u;f++)if(n[f]===t)return f;return-1}function NC(t,n,o,u){return Ob(this.multi,[])}function FC(t,n,o,u){const f=this.multi;let m;if(this.providerFactory){const I=this.providerFactory.componentProviders,D=za(o,o[pn],this.providerFactory.index,u);m=D.slice(0,I),Ob(f,m);for(let O=I;O<D.length;O++)m.push(D[O])}else m=[],Ob(f,m);return m}function Ob(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function CT(t,n=[]){return o=>{o.providersResolver=(u,f)=>function OC(t,n,o){const u=Ir();if(u.firstCreatePass){const f=to(t);Pb(o,u.data,u.blueprint,f,!0),Pb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Zm{}class wT{}function LC(t,n){return new Nb(t,n??null,[])}class Nb extends Zm{constructor(n,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Af(this);const f=jr(n);this._bootstrapComponents=ud(f.bootstrap),this._r3Injector=jp(n,o,[{provide:Zm,useValue:this},{provide:wc,useValue:this.componentFactoryResolver},...u],pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Fb extends wT{constructor(n){super(),this.moduleType=n}create(n){return new Nb(this.moduleType,n,[])}}class AT extends Zm{constructor(n){super(),this.componentFactoryResolver=new Af(this),this.instance=null;const o=new mf([...n.providers,{provide:Zm,useValue:this},{provide:wc,useValue:this.componentFactoryResolver}],n.parent||Fp(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function DT(t,n,o=null){return new AT({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let UC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const u=im(0,o.type),f=u.length>0?DT([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=rn({token:t,providedIn:"environment",factory:()=>new t(_t(vi))})}}return t})();function ST(t){t.getStandaloneInjector=n=>n.get(UC).getOrCreateStandaloneInjector(t)}function FT(t,n,o){const u=ro()+t,f=Ut();return f[u]===Br?xc(f,u,o?n.call(o):n()):Pf(f,u)}function kT(t,n,o,u){return $T(Ut(),ro(),t,n,o,u)}function LT(t,n,o,u,f){return GT(Ut(),ro(),t,n,o,u,f)}function VT(t,n,o,u,f,m){return HT(Ut(),ro(),t,n,o,u,f,m)}function UT(t,n,o,u,f,m,I){return function zT(t,n,o,u,f,m,I,D,O){const W=n+o;return Pa(t,W,f,m,I,D)?xc(t,W+4,O?u.call(O,f,m,I,D):u(f,m,I,D)):dE(t,W+4)}(Ut(),ro(),t,n,o,u,f,m,I)}function jT(t,n,o,u,f,m,I,D){const O=ro()+t,W=Ut(),ae=Pa(W,O,o,u,f,m);return Lo(W,O+4,I)||ae?xc(W,O+5,D?n.call(D,o,u,f,m,I):n(o,u,f,m,I)):Pf(W,O+5)}function BT(t,n,o,u,f,m,I,D,O){const W=ro()+t,ae=Ut(),De=Pa(ae,W,o,u,f,m);return fd(ae,W+4,I,D)||De?xc(ae,W+6,O?n.call(O,o,u,f,m,I,D):n(o,u,f,m,I,D)):Pf(ae,W+6)}function dE(t,n){const o=t[n];return o===Br?void 0:o}function $T(t,n,o,u,f,m){const I=n+o;return Lo(t,I,f)?xc(t,I+1,m?u.call(m,f):u(f)):dE(t,I+1)}function GT(t,n,o,u,f,m,I){const D=n+o;return fd(t,D,f,m)?xc(t,D+2,I?u.call(I,f,m):u(f,m)):dE(t,D+2)}function HT(t,n,o,u,f,m,I,D){const O=n+o;return xf(t,O,f,m,I)?xc(t,O+3,D?u.call(D,f,m,I):u(f,m,I)):dE(t,O+3)}function KT(t,n){const o=Ir();let u;const f=t+An;o.firstCreatePass?(u=function QC(t,n){if(n)for(let o=n.length-1;o>=0;o--){const u=n[o];if(t===u.name)return u}}(n,o.pipeRegistry),o.data[f]=u,u.onDestroy&&(o.destroyHooks??=[]).push(f,u.onDestroy)):u=o.data[f];const m=u.factory||(u.factory=Rs(u.type)),D=Vr(Rc);try{const O=Ko(!1),W=m();return Ko(O),function cg(t,n,o,u){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=u}(o,Ut(),f,W),W}finally{Vr(D)}}function qT(t,n,o){const u=t+An,f=Ut(),m=ol(f,u);return hE(f,u)?$T(f,ro(),n,m.transform,o,m):m.transform(o)}function YT(t,n,o,u){const f=t+An,m=Ut(),I=ol(m,f);return hE(m,f)?GT(m,ro(),n,I.transform,o,u,I):I.transform(o,u)}function XT(t,n,o,u,f){const m=t+An,I=Ut(),D=ol(I,m);return hE(I,m)?HT(I,ro(),n,D.transform,o,u,f,D):D.transform(o,u,f)}function hE(t,n){return t[pn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Lb{get changes(){return this._changes||(this._changes=new Sc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Lb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const u=this;u.dirty=!1;const f=function Yo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function $h(t,n,o){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],m=n[u];if(o&&(f=o(f),m=o(m)),m!==f)return!1}return!0}(u._results,f,o))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,o,u=!0){const f=n[pn];if(function Uy(t,n,o,u){const f=Dr+u,m=o.length;u>0&&(o[f-1][Zi]=n),u<m-Dr?(n[Zi]=o[f],Fd(o,Dr+u,n)):(o.push(n),n[Zi]=null),n[cr]=o;const I=n[Re];null!==I&&o!==I&&function d_(t,n){const o=t[Vi];n[ee]!==n[cr][cr][ee]&&(t[Nr]=!0),null===o?t[Vi]=[n]:o.push(n)}(I,n);const D=n[et];null!==D&&D.insertView(t),n[tr]|=128}(f,n,t,o),u){const m=tf(o,t),I=n[Un],D=rh(I,t[ri]);null!==D&&function Lg(t,n,o,u,f,m){u[Gr]=f,u[Li]=n,vl(t,u,o,1,f,m)}(f,t[Li],I,n,D,m)}}let fE=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=fE,iw=class extends rw{constructor(n,o,u){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,u){const f=function tw(t,n,o,u){const f=n.tView,D=i(t,f,o,4096&t[tr]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);D[Re]=t[n.index];const W=t[et];return null!==W&&(D[et]=W.createEmbeddedView(f)),Xp(f,D,o),D}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:u});return new wf(f)}};function sw(){return O0(Gs(),Ut())}function O0(t,n){return 4&t.type?new iw(n,t,ld(t,n)):null}let F0=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return rI(Gs(),Ut())}const hw=F0,tI=class extends hw{constructor(n,o,u){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=u}get element(){return ld(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ha(this._hostTNode,this._hostLView);if(Lu(n)){const o=oc(n,this._hostLView),u=Pl(n);return new hs(o[pn].data[u+8],o)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=nI(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Dr}createEmbeddedView(n,o,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const D=n.createEmbeddedViewImpl(o||{},m,null);return this.insertImpl(D,f,false),D}createComponent(n,o,u,f,m){const I=n&&!function Ol(t){return"function"==typeof t}(n);let D;if(I)D=o;else{const dn=o||{};D=dn.index,u=dn.injector,f=dn.projectableNodes,m=dn.environmentInjector||dn.ngModuleRef}const O=I?n:new Df(qn(n)),W=u||this.parentInjector;if(!m&&null==O.ngModule){const xn=(I?W:this.parentInjector).get(vi,null);xn&&(m=xn)}qn(O.componentType??{});const ft=O.create(W,f,null,m);return this.insertImpl(ft.hostView,D,false),ft}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,u){const f=n._lView;if(function Po(t){return Pr(t[cr])}(f)){const O=this.indexOf(n);if(-1!==O)this.detach(O);else{const W=f[cr],ae=new tI(W,W[Li],W[cr]);ae.detach(ae.indexOf(n))}}const I=this._adjustIndex(o),D=this._lContainer;return nw(D,f,I,!u),n.attachToViewContainerRef(),Fd(Vb(D),I,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=nI(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),u=Qh(this._lContainer,o);u&&(Fl(Vb(this._lContainer),o),vp(u[pn],u))}detach(n){const o=this._adjustIndex(n,-1),u=Qh(this._lContainer,o);return u&&null!=Fl(Vb(this._lContainer),o)?new wf(u):null}_adjustIndex(n,o=0){return n??this.length+o}};function nI(t){return t[8]}function Vb(t){return t[8]||(t[8]=[])}function rI(t,n){let o;const u=n[t.index];return Pr(u)?o=u:(o=qp(u,n,null,t),n[t.index]=o,Cf(n,o)),iI(o,n,t,u),new tI(o,t,n)}let iI=function sI(t,n,o,u){if(t[ri])return;let f;f=8&o.type?Er(u):function fw(t,n){const o=t[Un],u=o.createComment(""),f=Ui(n,t);return Qu(o,rh(o,f),u,function ef(t,n){return t.nextSibling(n)}(o,f),!1),u}(n,o),t[ri]=f};class Ub{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ub(this.queryList)}setDirty(){this.queryList.setDirty()}}class jb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const u=null!==n.contentQueries?n.contentQueries[0]:o.length,f=[];for(let m=0;m<u;m++){const I=o.getByIndex(m);f.push(this.queries[I.indexInDeclarationView].clone())}return new jb(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==pI(n,o).matches&&this.queries[o].setDirty()}}class oI{constructor(n,o,u=null){this.predicate=n,this.flags=o,this.read=u}}class Bb{constructor(n=[]){this.queries=n}elementStart(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let u=0;u<this.length;u++){const f=null!==o?o.length:0,m=this.getByIndex(u).embeddedTView(n,f);m&&(m.indexInDeclarationView=u,null!==o?o.push(m):o=[m])}return null!==o?new Bb(o):null}template(n,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class $b{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new $b(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(n,o,mw(o,m)),this.matchTNodeWithReadOption(n,o,Ia(o,n,m,!1,!1))}else u===fE?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Ia(o,n,u,!1,!1))}matchTNodeWithReadOption(n,o,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===cd||f===F0||f===fE&&4&o.type)this.addMatch(o.index,-2);else{const m=Ia(o,n,f,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,u)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function mw(t,n){const o=t.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===n)return o[u+1];return null}function yw(t,n,o,u){return-1===o?function _w(t,n){return 11&t.type?ld(t,n):4&t.type?O0(t,n):null}(n,t):-2===o?function vw(t,n,o){return o===cd?ld(n,t):o===fE?O0(n,t):o===F0?rI(n,t):void 0}(t,n,u):za(t,t[pn],o,n)}function aI(t,n,o,u){const f=n[et].queries[u];if(null===f.matches){const m=t.data,I=o.matches,D=[];for(let O=0;O<I.length;O+=2){const W=I[O];D.push(W<0?null:yw(n,m[W],I[O+1],o.metadata.read))}f.matches=D}return f.matches}function Gb(t,n,o,u){const f=t.queries.getByIndex(o),m=f.matches;if(null!==m){const I=aI(t,n,f,o);for(let D=0;D<m.length;D+=2){const O=m[D];if(O>0)u.push(I[D/2]);else{const W=m[D+1],ae=n[-O];for(let De=Dr;De<ae.length;De++){const tt=ae[De];tt[Re]===tt[cr]&&Gb(tt[pn],tt,W,u)}if(null!==ae[Vi]){const De=ae[Vi];for(let tt=0;tt<De.length;tt++){const ft=De[tt];Gb(ft[pn],ft,W,u)}}}}}return u}function lI(t){const n=Ut(),o=Ir(),u=Al();S(u+1);const f=pI(o,u);if(t.dirty&&function Fh(t){return 4==(4&t[tr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?Gb(o,n,u,[]):aI(o,n,f,u);t.reset(m,nv),t.notifyOnChanges()}return!0}return!1}function cI(t,n,o){const u=Ir();u.firstCreatePass&&(fI(u,new oI(t,n,o),-1),2==(2&n)&&(u.staticViewQueries=!0)),hI(u,Ut(),n)}function uI(t,n,o,u){const f=Ir();if(f.firstCreatePass){const m=Gs();fI(f,new oI(n,o,u),m.index),function bw(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(f,t),2==(2&o)&&(f.staticContentQueries=!0)}hI(f,Ut(),o)}function dI(){return function Ew(t,n){return t[et].queries[n].queryList}(Ut(),Al())}function hI(t,n,o){const u=new Lb(4==(4&o));(function ar(t,n,o,u){const f=J_(n);f.push(o),t.firstCreatePass&&Z_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[et]&&(n[et]=new jb),n[et].queries.push(new Ub(u))}function fI(t,n,o){null===t.queries&&(t.queries=new Bb),t.queries.track(new $b(n,o))}function pI(t,n){return t.queries.getByIndex(n)}function gI(t,n){return O0(t,n)}function Hb(t){return!!jr(t)}const MI=new on("Application Initializer");let Yb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u}),this.appInits=an(MI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const m=f();if(E(m))o.push(m);else if(j(m)){const I=new Promise((D,O)=>{m.subscribe({complete:D,error:O})});o.push(I)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(f=>{this.reject(f)}),0===o.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OI=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const L0=new on("LocaleId",{providedIn:"root",factory:()=>an(L0,En.Optional|En.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||vg}()}),Gw=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let NI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let Ww=(()=>{class t{compileModuleSync(o){return new Fb(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),m=ud(jr(o).declarations).reduce((I,D)=>{const O=qn(D);return O&&I.push(new Df(O)),I},[]);return new zw(u,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const VI=new on(""),UI=new on("");let Jb,p1=(()=>{class t{constructor(o,u,f){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jb||(function g1(t){Jb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:f})}whenStable(o,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(_t(Eo),_t(jI),_t(UI))}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac})}}return t})(),jI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Jb?.findTestabilityInTree(this,o,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Ig=null;const BI=new on("AllowMultipleToken"),Zb=new on("PlatformDestroyListeners"),eT=new on("appBootstrapListener");class y1{constructor(n,o){this.name=n,this.token=o}}function HI(t,n,o=[]){const u=`Platform: ${n}`,f=new on(u);return(m=[])=>{let I=tT();if(!I||I.injector.get(BI,!1)){const D=[...o,...m,{provide:f,useValue:!0}];t?t(D):function v1(t){if(Ig&&!Ig.get(BI,!1))throw new Ae(400,!1);(function $I(){!function Va(t){Ho=t}(()=>{throw new Ae(600,!1)})})(),Ig=t;const n=t.get(WI);(function GI(t){t.get(dm,null)?.forEach(o=>o())})(t)}(function zI(t=[],n){return Gl.create({name:n,providers:[{provide:pf,useValue:"platform"},{provide:Zb,useValue:new Set([()=>Ig=null])},...t]})}(D,u))}return function b1(t){const n=tT();if(!n)throw new Ae(401,!1);return n}()}}function tT(){return Ig?.get(WI)??null}let WI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const f=function T1(t="zone.js",n){return"noop"===t?new K_:"zone.js"===t?new Eo(n):t}(u?.ngZone,function KI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const m=function VC(t,n,o){return new Nb(t,n,o)}(o.moduleType,this.injector,function JI(t){return[{provide:Eo,useFactory:t},{provide:td,multi:!0,useFactory:()=>{const n=an(C1,{optional:!0});return()=>n.initialize()}},{provide:QI,useFactory:I1},{provide:RE,useFactory:pv}]}(()=>f)),I=m.injector.get(Xa,null);return f.runOutsideAngular(()=>{const D=f.onError.subscribe({next:O=>{I.handleError(O)}});m.onDestroy(()=>{U0(this._modules,m),D.unsubscribe()})}),function qI(t,n,o){try{const u=o();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(I,f,()=>{const D=m.injector.get(Yb);return D.runInitializers(),D.donePromise.then(()=>(function g(t){st(t,"Expected localeId to be defined"),"string"==typeof t&&(a=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(L0,vg)||vg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(o,u=[]){const f=YI({},u);return function m1(t,n,o){const u=new Fb(o);return Promise.resolve(u)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(o){const u=o.injector.get(Oy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new Ae(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Zb,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(_t(Gl))}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function YI(t,n){return Array.isArray(n)?n.reduce(YI,t):{...t,...n}}let Oy=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=an(QI),this.zoneIsStable=an(RE),this.componentTypes=[],this.components=[],this.isStable=an(NI).hasPendingTasks.pipe((0,Te.n)(o=>o?(0,Ee.of)(!1):this.zoneIsStable),(0,xe.F)(),(0,Se.u)()),this._injector=an(vi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const f=o instanceof vf;if(!this._injector.get(Yb).done)throw!f&&Wi(o),new Ae(405,!1);let I;I=f?o:this._injector.get(wc).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const D=function _1(t){return t.isBoundToModule}(I)?void 0:this._injector.get(Zm),W=I.create(Gl.NULL,[],u||I.selector,D),ae=W.location.nativeElement,De=W.injector.get(VI,null);return De?.registerApplication(ae),W.onDestroy(()=>{this.detachView(W.hostView),U0(this.components,W),De?.unregisterApplication(ae)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;U0(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(eT,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>U0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function U0(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const QI=new on("",{providedIn:"root",factory:()=>an(Xa).handleError.bind(void 0)});function I1(){const t=an(Eo),n=an(Xa);return o=>t.runOutsideAngular(()=>n.handleError(o))}let C1=(()=>{class t{constructor(){this.zone=an(Eo),this.applicationRef=an(Oy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function A1(){return!1}let D1=(()=>{class t{static{this.__NG_ELEMENT_ID__=S1}}return t})();function S1(t){return function R1(t,n,o){if(cs(t)&&!o){const u=Hi(t.index,n);return new wf(u,u)}return 47&t.type?new wf(n[ee],n):null}(Gs(),Ut(),16==(16&t))}class rC{constructor(){}supports(n){return ig(n)}create(n){return new N1(n)}}const O1=(t,n)=>n;class N1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||O1}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,u=this._removalsHead,f=0,m=null;for(;o||u;){const I=!u||o&&o.currentIndex<sC(u,f,m)?o:u,D=sC(I,f,m),O=I.currentIndex;if(I===u)f--,u=u._nextRemoved;else if(o=o._next,null==I.previousIndex)f++;else{m||(m=[]);const W=D-f,ae=O-f;if(W!=ae){for(let tt=0;tt<W;tt++){const ft=tt<m.length?m[tt]:m[tt]=0,kt=ft+tt;ae<=kt&&kt<W&&(m[tt]=ft+1)}m[I.previousIndex]=ae-W}}D!==O&&n(I,D,O)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!ig(n))throw new Ae(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,I,o=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],I=this._trackByFn(D,m),null!==o&&Object.is(o.trackById,I)?(u&&(o=this._verifyReinsertion(o,m,I,D)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,I,D),u=!0),o=o._next}else f=0,function sg(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let u;for(;!(u=o.next()).done;)n(u.value)}}(n,D=>{I=this._trackByFn(f,D),null!==o&&Object.is(o.trackById,I)?(u&&(o=this._verifyReinsertion(o,D,I,f)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,I,f),u=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,u,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,m,f)):n=this._addAfter(new F1(o,u),m,f),n}_verifyReinsertion(n,o,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,o,u),this._addToMoves(n,u),n}_moveAfter(n,o,u){return this._unlink(n),this._insertAfter(n,o,u),this._addToMoves(n,u),n}_addAfter(n,o,u){return this._insertAfter(n,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,u){const f=null===o?this._itHead:o._next;return n._next=f,n._prev=o,null===f?this._itTail=n:f._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new iC),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,u=n._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class F1{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class k1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const o=n._prevDup,u=n._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class iC{constructor(){this.map=new Map}put(n){const o=n.trackById;let u=this.map.get(o);u||(u=new k1,this.map.set(o,u)),u.add(n)}get(n,o){const f=this.map.get(n);return f?f.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sC(t,n,o){const u=t.previousIndex;if(null===u)return u;let f=0;return o&&u<o.length&&(f=o[u]),u+n+f}class oC{constructor(){}supports(n){return n instanceof Map||du(n)}create(){return new L1}}class L1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||du(n)))throw new Ae(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(f,u);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const u=n._prev;return o._next=n,o._prev=u,n._prev=o,u&&(u._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,o);const m=f._prev,I=f._next;return m&&(m._next=I),I&&(I._prev=m),f._next=null,f._prev=null,f}const u=new V1(n);return this._records.set(n,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(u=>o(n[u],u))}}class V1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aC(){return new oT([new rC])}let oT=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:aC})}constructor(o){this.factories=o}static create(o,u){if(null!=u){const f=u.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||aC()),deps:[[t,new Wu,new yl]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(null!=u)return u;throw new Ae(901,!1)}}return t})();function lC(){return new aT([new oC])}let aT=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:lC})}constructor(o){this.factories=o}static create(o,u){if(u){const f=u.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:u=>t.create(o,u||lC()),deps:[[t,new Wu,new yl]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(u)return u;throw new Ae(901,!1)}}return t})();const B1=HI(null,"core",[]);let $1=(()=>{class t{constructor(o){}static{this.\u0275fac=function(u){return new(u||t)(_t(Oy))}}static{this.\u0275mod=ti({type:t})}static{this.\u0275inj=Qt({})}}return t})();function Z1(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tA(t){const n=qn(t);if(!n)return null;const o=new Df(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(tn,Ye,L)=>{L.d(Ye,{DS:()=>Lt,X8:()=>Wt,$z:()=>Qe,UB:()=>Mn,yy:()=>ct,ZP:()=>Ie,AU:()=>Yt,CP:()=>Pt,gF:()=>Mt}),L(2438);var ce=L(177),r=L(7705),be=L(5407),fe=L(9253),Ee=L(1413),Se=L(7673),Te=L(1985),xe=L(8455),K=L(7786),ie=L(941),pe=L(5558),Pe=L(6354),Be=L(6129);class ve extends Ee.B{constructor(Ve=1/0,it=1/0,rt=Be.U){super(),this._bufferSize=Ve,this._windowTime=it,this._timestampProvider=rt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=it===1/0,this._bufferSize=Math.max(1,Ve),this._windowTime=Math.max(1,it)}next(Ve){const{isStopped:it,_buffer:rt,_infiniteTimeWindow:Me,_timestampProvider:te,_windowTime:ye}=this;it||(rt.push(Ve),!Me&&rt.push(te.now()+ye)),this._trimBuffer(),super.next(Ve)}_subscribe(Ve){this._throwIfClosed(),this._trimBuffer();const it=this._innerSubscribe(Ve),{_infiniteTimeWindow:rt,_buffer:Me}=this,te=Me.slice();for(let ye=0;ye<te.length&&!Ve.closed;ye+=rt?1:2)Ve.next(te[ye]);return this._checkFinalizedStatuses(Ve),it}_trimBuffer(){const{_bufferSize:Ve,_timestampProvider:it,_buffer:rt,_infiniteTimeWindow:Me}=this,te=(Me?1:2)*Ve;if(Ve<1/0&&te<rt.length&&rt.splice(0,rt.length-te),!Me){const ye=it.now();let ke=0;for(let st=1;st<rt.length&&rt[st]<=ye;st+=2)ke=st;ke&&rt.splice(0,ke+1)}}}var qe=L(7647);function we(ht,Ve,it){let rt,Me=!1;return ht&&"object"==typeof ht?({bufferSize:rt=1/0,windowTime:Ve=1/0,refCount:Me=!1,scheduler:it}=ht):rt=ht??1/0,(0,qe.u)({connector:()=>new ve(rt,Ve,it),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Me})}var bt=L(1594),jt=L(8071);function He(ht,Ve){return(0,jt.T)(Ve)?(0,pe.n)(()=>ht,Ve):(0,pe.n)(()=>ht)}var Ae=L(6745),Ze=L(5964),Ke=L(7935);const Pt=new r.nKC("angularfire2.auth.use-emulator"),ct=new r.nKC("angularfire2.auth.settings"),Ie=new r.nKC("angularfire2.auth.tenant-id"),Qe=new r.nKC("angularfire2.auth.langugage-code"),Yt=new r.nKC("angularfire2.auth.use-device-language"),Mn=new r.nKC("angularfire.auth.persistence"),Mt=(ht,Ve,it,rt,Me,te,ye,ke)=>(0,fe.BM)(`${ht.name}.auth`,"AngularFireAuth",ht.name,()=>{const st=Ve.runOutsideAngular(()=>ht.auth());if(it&&st.useEmulator(...it),rt&&(st.tenantId=rt),st.languageCode=Me,te&&st.useDeviceLanguage(),ye)for(const[nt,Ft]of Object.entries(ye))st.settings[nt]=Ft;return ke&&st.setPersistence(ke),st},[it,rt,Me,te,ye,ke]);let Lt=(()=>{class ht{authState;idToken;user;idTokenResult;credential;constructor(it,rt,Me,te,ye,ke,st,nt,Ft,bn,er,rn){const Fn=new Ee.B,Qt=(0,Se.of)(void 0).pipe((0,ie.Q)(ye.outsideAngular),(0,pe.n)(()=>te.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,Pe.T)(()=>(0,fe.iB)(it,te,rt)),(0,Pe.T)(jn=>Mt(jn,te,ke,nt,Ft,bn,st,er)),we({bufferSize:1,refCount:!1}));if((0,ce.Vy)(Me))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Se.of)(null);else{Qt.pipe((0,bt.$)()).subscribe();const jn=Qt.pipe((0,pe.n)(Vt=>Vt.getRedirectResult().then(_r=>_r,()=>null)),be.U0,we({bufferSize:1,refCount:!1})),Pn=Qt.pipe((0,pe.n)(Vt=>new Te.c(_r=>({unsubscribe:te.runOutsideAngular(()=>Vt.onAuthStateChanged(sn=>_r.next(sn),sn=>_r.error(sn),()=>_r.complete()))})))),Ht=Qt.pipe((0,pe.n)(Vt=>new Te.c(_r=>({unsubscribe:te.runOutsideAngular(()=>Vt.onIdTokenChanged(sn=>_r.next(sn),sn=>_r.error(sn),()=>_r.complete()))}))));this.authState=jn.pipe(He(Pn),(0,Ae._)(ye.outsideAngular),(0,ie.Q)(ye.insideAngular)),this.user=jn.pipe(He(Ht),(0,Ae._)(ye.outsideAngular),(0,ie.Q)(ye.insideAngular)),this.idToken=this.user.pipe((0,pe.n)(Vt=>Vt?(0,xe.H)(Vt.getIdToken()):(0,Se.of)(null))),this.idTokenResult=this.user.pipe((0,pe.n)(Vt=>Vt?(0,xe.H)(Vt.getIdTokenResult()):(0,Se.of)(null))),this.credential=(0,K.h)(jn,Fn,this.authState.pipe((0,Ze.p)(Vt=>!Vt))).pipe((0,Pe.T)(Vt=>Vt?.user?Vt:null),(0,Ae._)(ye.outsideAngular),(0,ie.Q)(ye.insideAngular))}return(0,fe.Gt)(this,Qt,te,{spy:{apply:(jn,Pn,Ht)=>{(jn.startsWith("signIn")||jn.startsWith("createUser"))&&Ht.then(Vt=>Fn.next(Vt))}}})}static \u0275fac=function(rt){return new(rt||ht)(r.KVO(fe.rx),r.KVO(fe.uP,8),r.KVO(r.Agw),r.KVO(r.SKi),r.KVO(be.u0),r.KVO(Pt,8),r.KVO(ct,8),r.KVO(Ie,8),r.KVO(Qe,8),r.KVO(Yt,8),r.KVO(Mn,8),r.KVO(be.Jv,8))};static \u0275prov=r.jDH({token:ht,factory:ht.\u0275fac,providedIn:"any"})}return ht})(),Wt=(()=>{class ht{constructor(){Ke.A.registerVersion("angularfire",be.xv.full,"auth-compat")}static \u0275fac=function(rt){return new(rt||ht)};static \u0275mod=r.$C({type:ht});static \u0275inj=r.G2t({providers:[Lt]})}return ht})()},6340:(tn,Ye,L)=>{L.d(Ye,{Qe:()=>Ri,cM:()=>ot});var s=L(177),ce=L(7705),r=L(5407),be=L(9253),fe=L(1977),Ee=L(3236),Se=L(1985),Te=L(8455),xe=L(7673),K=L(9172),ie=L(9974),pe=L(4360);function Pe(){return(0,ie.N)((Et,he)=>{let Fe,It=!1;Et.subscribe((0,pe._)(he,Kt=>{const Ln=Fe;Fe=Kt,It&&he.next([Ln,Kt]),It=!0}))})}var Be=L(6354),ve=L(2816),qe=L(3294),we=L(5964),jt=(L(2438),L(3345)),He=L(9583),Ae=L(1076),Ze=L(1362);function Pt(Et,he){if(void 0===he)return{merge:!1};if(void 0!==he.mergeFields&&void 0!==he.merge)throw new He.W6("invalid-argument",`Invalid options passed to function ${Et}(): You cannot specify both "merge" and "mergeFields".`);return he}function ct(){if(typeof Uint8Array>"u")throw new He.W6("unimplemented","Uint8Arrays are not available in this environment.")}function Ie(){if(!(0,He.qG)())throw new He.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Qe{constructor(he){this._delegate=he}static fromBase64String(he){return Ie(),new Qe(He.Ix.fromBase64String(he))}static fromUint8Array(he){return ct(),new Qe(He.Ix.fromUint8Array(he))}toBase64(){return Ie(),this._delegate.toBase64()}toUint8Array(){return ct(),this._delegate.toUint8Array()}isEqual(he){return this._delegate.isEqual(he._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Yt(Et){return function Mn(Et,he){if("object"!=typeof Et||null===Et)return!1;const Fe=Et;for(const It of he)if(It in Fe&&"function"==typeof Fe[It])return!0;return!1}(Et,["next","error","complete"])}class Mt{enableIndexedDbPersistence(he,Fe){return(0,He.ol)(he._delegate,{forceOwnership:Fe})}enableMultiTabIndexedDbPersistence(he){return(0,He.Q5)(he._delegate)}clearIndexedDbPersistence(he){return(0,He.me)(he._delegate)}}class Lt{constructor(he,Fe,It){this._delegate=Fe,this._persistenceProvider=It,this.INTERNAL={delete:()=>this.terminate()},he instanceof He.cm||(this._appCompat=he)}get _databaseId(){return this._delegate._databaseId}settings(he){const Fe=this._delegate._getSettings();!he.merge&&Fe.host!==he.host&&(0,He.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),he.merge&&delete(he=Object.assign(Object.assign({},Fe),he)).merge,this._delegate._setSettings(he)}useEmulator(he,Fe,It={}){(0,He.vN)(this._delegate,he,Fe,It)}enableNetwork(){return(0,He.Os)(this._delegate)}disableNetwork(){return(0,He.LA)(this._delegate)}enablePersistence(he){let Fe=!1,It=!1;return he&&(Fe=!!he.synchronizeTabs,It=!!he.experimentalForceOwningTab,(0,He.c8)("synchronizeTabs",Fe,"experimentalForceOwningTab",It)),Fe?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,It)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,He.iB)(this._delegate)}onSnapshotsInSync(he){return(0,He.FC)(this._delegate,he)}get app(){if(!this._appCompat)throw new He.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(he){try{return new rn(this,(0,He.rJ)(this._delegate,he))}catch(Fe){throw te(Fe,"collection()","Firestore.collection()")}}doc(he){try{return new Me(this,(0,He.H9)(this._delegate,he))}catch(Fe){throw te(Fe,"doc()","Firestore.doc()")}}collectionGroup(he){try{return new Ft(this,(0,He.Cs)(this._delegate,he))}catch(Fe){throw te(Fe,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(he){return(0,He.c4)(this._delegate,Fe=>he(new Ve(this,Fe)))}batch(){return(0,He.Ws)(this._delegate),new it(new He.GA(this._delegate,he=>(0,He.z6)(this._delegate,he)))}loadBundle(he){return(0,He.po)(this._delegate,he)}namedQuery(he){return(0,He.St)(this._delegate,he).then(Fe=>Fe?new Ft(this,Fe):null)}}class Wt extends He.fS{constructor(he){super(),this.firestore=he}convertBytes(he){return new Qe(new He.Ix(he))}convertReference(he){const Fe=this.convertDocumentKey(he,this.firestore._databaseId);return Me.forKey(Fe,this.firestore,null)}}class Ve{constructor(he,Fe){this._firestore=he,this._delegate=Fe,this._userDataWriter=new Wt(he)}get(he){const Fe=Fn(he);return this._delegate.get(Fe).then(It=>new st(this._firestore,new He.Wq(this._firestore._delegate,this._userDataWriter,It._key,It._document,It.metadata,Fe.converter)))}set(he,Fe,It){const Kt=Fn(he);return It?(Pt("Transaction.set",It),this._delegate.set(Kt,Fe,It)):this._delegate.set(Kt,Fe),this}update(he,Fe,It,...Kt){const Ln=Fn(he);return 2===arguments.length?this._delegate.update(Ln,Fe):this._delegate.update(Ln,Fe,It,...Kt),this}delete(he){const Fe=Fn(he);return this._delegate.delete(Fe),this}}class it{constructor(he){this._delegate=he}set(he,Fe,It){const Kt=Fn(he);return It?(Pt("WriteBatch.set",It),this._delegate.set(Kt,Fe,It)):this._delegate.set(Kt,Fe),this}update(he,Fe,It,...Kt){const Ln=Fn(he);return 2===arguments.length?this._delegate.update(Ln,Fe):this._delegate.update(Ln,Fe,It,...Kt),this}delete(he){const Fe=Fn(he);return this._delegate.delete(Fe),this}commit(){return this._delegate.commit()}}class rt{constructor(he,Fe,It){this._firestore=he,this._userDataWriter=Fe,this._delegate=It}fromFirestore(he,Fe){const It=new He.YQ(this._firestore._delegate,this._userDataWriter,he._key,he._document,he.metadata,null);return this._delegate.fromFirestore(new nt(this._firestore,It),Fe??{})}toFirestore(he,Fe){return Fe?this._delegate.toFirestore(he,Fe):this._delegate.toFirestore(he)}static getInstance(he,Fe){const It=rt.INSTANCES;let Kt=It.get(he);Kt||(Kt=new WeakMap,It.set(he,Kt));let Ln=Kt.get(Fe);return Ln||(Ln=new rt(he,new Wt(he),Fe),Kt.set(Fe,Ln)),Ln}}rt.INSTANCES=new WeakMap;class Me{constructor(he,Fe){this.firestore=he,this._delegate=Fe,this._userDataWriter=new Wt(he)}static forPath(he,Fe,It){if(he.length%2!=0)throw new He.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${he.canonicalString()} has ${he.length}`);return new Me(Fe,new He.T1(Fe._delegate,It,new He.K$(he)))}static forKey(he,Fe,It){return new Me(Fe,new He.T1(Fe._delegate,It,he))}get id(){return this._delegate.id}get parent(){return new rn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(he){try{return new rn(this.firestore,(0,He.rJ)(this._delegate,he))}catch(Fe){throw te(Fe,"collection()","DocumentReference.collection()")}}isEqual(he){return(he=(0,Ae.Ku)(he))instanceof He.T1&&(0,He.yx)(this._delegate,he)}set(he,Fe){Fe=Pt("DocumentReference.set",Fe);try{return Fe?(0,He.BN)(this._delegate,he,Fe):(0,He.BN)(this._delegate,he)}catch(It){throw te(It,"setDoc()","DocumentReference.set()")}}update(he,Fe,...It){try{return 1===arguments.length?(0,He.mZ)(this._delegate,he):(0,He.mZ)(this._delegate,he,Fe,...It)}catch(Kt){throw te(Kt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,He.kd)(this._delegate)}onSnapshot(...he){const Fe=ye(he),It=ke(he,Kt=>new st(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,Kt._key,Kt._document,Kt.metadata,this._delegate.converter)));return(0,He.aQ)(this._delegate,Fe,It)}get(he){let Fe;return Fe="cache"===he?.source?(0,He.nY)(this._delegate):"server"===he?.source?(0,He._e)(this._delegate):(0,He.x7)(this._delegate),Fe.then(It=>new st(this.firestore,new He.Wq(this.firestore._delegate,this._userDataWriter,It._key,It._document,It.metadata,this._delegate.converter)))}withConverter(he){return new Me(this.firestore,this._delegate.withConverter(he?rt.getInstance(this.firestore,he):null))}}function te(Et,he,Fe){return Et.message=Et.message.replace(he,Fe),Et}function ye(Et){for(const he of Et)if("object"==typeof he&&!Yt(he))return he;return{}}function ke(Et,he){var Fe,It;let Kt;return Kt=Yt(Et[0])?Et[0]:Yt(Et[1])?Et[1]:"function"==typeof Et[0]?{next:Et[0],error:Et[1],complete:Et[2]}:{next:Et[1],error:Et[2],complete:Et[3]},{next:Ln=>{Kt.next&&Kt.next(he(Ln))},error:null===(Fe=Kt.error)||void 0===Fe?void 0:Fe.bind(Kt),complete:null===(It=Kt.complete)||void 0===It?void 0:It.bind(Kt)}}class st{constructor(he,Fe){this._firestore=he,this._delegate=Fe}get ref(){return new Me(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(he){return this._delegate.data(he)}get(he,Fe){return this._delegate.get(he,Fe)}isEqual(he){return(0,He.lN)(this._delegate,he._delegate)}}class nt extends st{data(he){const Fe=this._delegate.data(he);return this._delegate._converter||(0,He.bI)(void 0!==Fe,"Document in a QueryDocumentSnapshot should exist"),Fe}}class Ft{constructor(he,Fe){this.firestore=he,this._delegate=Fe,this._userDataWriter=new Wt(he)}where(he,Fe,It){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He._M)(he,Fe,It)))}catch(Kt){throw te(Kt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(he,Fe){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.My)(he,Fe)))}catch(It){throw te(It,/(orderBy|where)\(\)/,"Query.$1()")}}limit(he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.AB)(he)))}catch(Fe){throw te(Fe,"limit()","Query.limit()")}}limitToLast(he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.$1)(he)))}catch(Fe){throw te(Fe,"limitToLast()","Query.limitToLast()")}}startAt(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.EO)(...he)))}catch(Fe){throw te(Fe,"startAt()","Query.startAt()")}}startAfter(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.HM)(...he)))}catch(Fe){throw te(Fe,"startAfter()","Query.startAfter()")}}endBefore(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.rf)(...he)))}catch(Fe){throw te(Fe,"endBefore()","Query.endBefore()")}}endAt(...he){try{return new Ft(this.firestore,(0,He.P)(this._delegate,(0,He.FD)(...he)))}catch(Fe){throw te(Fe,"endAt()","Query.endAt()")}}isEqual(he){return(0,He.B)(this._delegate,he._delegate)}get(he){let Fe;return Fe="cache"===he?.source?(0,He.kU)(this._delegate):"server"===he?.source?(0,He.Rr)(this._delegate):(0,He.GG)(this._delegate),Fe.then(It=>new er(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,It._snapshot)))}onSnapshot(...he){const Fe=ye(he),It=ke(he,Kt=>new er(this.firestore,new He.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Kt._snapshot)));return(0,He.aQ)(this._delegate,Fe,It)}withConverter(he){return new Ft(this.firestore,this._delegate.withConverter(he?rt.getInstance(this.firestore,he):null))}}class bn{constructor(he,Fe){this._firestore=he,this._delegate=Fe}get type(){return this._delegate.type}get doc(){return new nt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class er{constructor(he,Fe){this._firestore=he,this._delegate=Fe}get query(){return new Ft(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(he=>new nt(this._firestore,he))}docChanges(he){return this._delegate.docChanges(he).map(Fe=>new bn(this._firestore,Fe))}forEach(he,Fe){this._delegate.forEach(It=>{he.call(Fe,new nt(this._firestore,It))})}isEqual(he){return(0,He.lN)(this._delegate,he._delegate)}}class rn extends Ft{constructor(he,Fe){super(he,Fe),this.firestore=he,this._delegate=Fe}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const he=this._delegate.parent;return he?new Me(this.firestore,he):null}doc(he){try{return new Me(this.firestore,void 0===he?(0,He.H9)(this._delegate):(0,He.H9)(this._delegate,he))}catch(Fe){throw te(Fe,"doc()","CollectionReference.doc()")}}add(he){return(0,He.gS)(this._delegate,he).then(Fe=>new Me(this.firestore,Fe))}isEqual(he){return(0,He.yx)(this._delegate,he._delegate)}withConverter(he){return new rn(this.firestore,this._delegate.withConverter(he?rt.getInstance(this.firestore,he):null))}}function Fn(Et){return(0,He.lo)(Et,He.T1)}class Qt{constructor(...he){this._delegate=new He.uY(...he)}static documentId(){return new Qt(He.FA.keyField().canonicalString())}isEqual(he){return(he=(0,Ae.Ku)(he))instanceof He.uY&&this._delegate._internalPath.isEqual(he._internalPath)}}class jn{constructor(he){this._delegate=he}static serverTimestamp(){const he=(0,He.O5)();return he._methodName="FieldValue.serverTimestamp",new jn(he)}static delete(){const he=(0,He.CL)();return he._methodName="FieldValue.delete",new jn(he)}static arrayUnion(...he){const Fe=(0,He.hq)(...he);return Fe._methodName="FieldValue.arrayUnion",new jn(Fe)}static arrayRemove(...he){const Fe=(0,He.C3)(...he);return Fe._methodName="FieldValue.arrayRemove",new jn(Fe)}static increment(he){const Fe=(0,He.GV)(he);return Fe._methodName="FieldValue.increment",new jn(Fe)}isEqual(he){return this._delegate.isEqual(he._delegate)}}const Pn={Firestore:Lt,GeoPoint:He.Ci,Timestamp:He.Dc,Blob:Qe,Transaction:Ve,WriteBatch:it,DocumentReference:Me,DocumentSnapshot:st,Query:Ft,QueryDocumentSnapshot:nt,QuerySnapshot:er,CollectionReference:rn,FieldPath:Qt,FieldValue:jn,setLogLevel:function ht(Et){(0,He.He)(Et)},CACHE_SIZE_UNLIMITED:He.H6};!function Vt(Et){(function Ht(Et,he){Et.INTERNAL.registerComponent(new Ze.uA("firestore-compat",Fe=>{const It=Fe.getProvider("app-compat").getImmediate(),Kt=Fe.getProvider("firestore").getImmediate();return he(It,Kt)},"PUBLIC").setServiceProps(Object.assign({},Pn)))})(Et,(he,Fe)=>new Lt(he,Fe,new Mt)),Et.registerVersion("@firebase/firestore-compat","0.3.38")}(jt.A);var _r=L(7935);function Rr(Et,he){return function sn(Et,he=Ee.E){return new Se.c(Fe=>{let It;return null!=he?he.schedule(()=>{It=Et.onSnapshot({includeMetadataChanges:!0},Fe)}):It=Et.onSnapshot({includeMetadataChanges:!0},Fe),()=>{It?.()}})}(Et,he)}function Bt(Et,he){return Rr(Et,he).pipe((0,Be.T)(Fe=>({payload:Fe,type:"query"})))}class En{ref;afs;constructor(he,Fe){this.ref=he,this.afs=Fe}set(he,Fe){return this.ref.set(he,Fe)}update(he){return this.ref.update(he)}delete(){return this.ref.delete()}collection(he,Fe){const It=this.ref.collection(he),{ref:Kt,query:Ln}=Gn(It,Fe);return new ui(Kt,Ln,this.afs)}snapshotChanges(){return function Yn(Et,he){return Rr(Et,he).pipe((0,K.Z)(void 0),Pe(),(0,Be.T)(Fe=>{const[It,Kt]=Fe;return Kt.exists?It?.exists?{payload:Kt,type:"modified"}:{payload:Kt,type:"added"}:{payload:Kt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return this.snapshotChanges().pipe((0,Be.T)(({payload:Fe})=>he.idField?{...Fe.data(),[he.idField]:Fe.id}:Fe.data()))}get(he){return(0,Te.H)(this.ref.get(he)).pipe(r.U0)}}function $n(Et,he){return Bt(Et,he).pipe((0,K.Z)(void 0),Pe(),(0,Be.T)(Fe=>{const[It,Kt]=Fe,Ln=Kt.payload.docChanges(),Fr=Ln.map(Tr=>({type:Tr.type,payload:Tr}));return It&&JSON.stringify(It.payload.metadata)!==JSON.stringify(Kt.payload.metadata)&&Kt.payload.docs.forEach((Tr,bi)=>{const At=Ln.find(C=>C.doc.ref.isEqual(Tr.ref)),G=It?.payload.docs.find(C=>C.ref.isEqual(Tr.ref));At&&JSON.stringify(At.doc.metadata)===JSON.stringify(Tr.metadata)||!At&&G&&JSON.stringify(G.metadata)===JSON.stringify(Tr.metadata)||Fr.push({type:"modified",payload:{oldIndex:bi,newIndex:bi,type:"modified",doc:Tr}})}),Fr}))}function Tn(Et,he,Fe){return $n(Et,Fe).pipe((0,ve.S)((It,Kt)=>function Vr(Et,he,Fe){return he.forEach(It=>{Fe.indexOf(It.type)>-1&&(Et=function Zr(Et,he){switch(he.type){case"added":if(!Et[he.newIndex]||!Et[he.newIndex].doc.ref.isEqual(he.doc.ref))return Ar(Et,he.newIndex,0,he);break;case"modified":if(null==Et[he.oldIndex]||Et[he.oldIndex].doc.ref.isEqual(he.doc.ref)){if(he.oldIndex!==he.newIndex){const Fe=Et.slice();return Fe.splice(he.oldIndex,1),Fe.splice(he.newIndex,0,he),Fe}return Ar(Et,he.newIndex,1,he)}break;case"removed":if(Et[he.oldIndex]&&Et[he.oldIndex].doc.ref.isEqual(he.doc.ref))return Ar(Et,he.oldIndex,1)}return Et}(Et,It))}),Et}(It,Kt.map(Ln=>Ln.payload),he),[]),(0,qe.F)(),(0,Be.T)(It=>It.map(Kt=>({type:Kt.type,payload:Kt}))))}function Ar(Et,he,Fe,...It){const Kt=Et.slice();return Kt.splice(he,Fe,...It),Kt}function Hn(Et){return(!Et||0===Et.length)&&(Et=["added","removed","modified"]),Et}class ui{ref;query;afs;constructor(he,Fe,It){this.ref=he,this.query=Fe,this.afs=It}stateChanges(he){let Fe=$n(this.query,this.afs.schedulers.outsideAngular);return he&&he.length>0&&(Fe=Fe.pipe((0,Be.T)(It=>It.filter(Kt=>he.indexOf(Kt.type)>-1)))),Fe.pipe((0,K.Z)(void 0),Pe(),(0,we.p)(([It,Kt])=>Kt.length>0||!It),(0,Be.T)(([,It])=>It),r.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,ve.S)((Fe,It)=>[...Fe,...It],[]))}snapshotChanges(he){const Fe=Hn(he);return Tn(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Fe=>Fe.payload.docs.map(It=>he.idField?{...It.data(),[he.idField]:It.id}:It.data())),r.U0)}get(he){return(0,Te.H)(this.query.get(he)).pipe(r.U0)}add(he){return this.ref.add(he)}doc(he){return new En(this.ref.doc(he),this.afs)}}class ys{query;afs;constructor(he,Fe){this.query=he,this.afs=Fe}stateChanges(he){return he&&0!==he.length?$n(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(Fe=>Fe.filter(It=>he.indexOf(It.type)>-1)),(0,we.p)(Fe=>Fe.length>0),r.U0):$n(this.query,this.afs.schedulers.outsideAngular).pipe(r.U0)}auditTrail(he){return this.stateChanges(he).pipe((0,ve.S)((Fe,It)=>[...Fe,...It],[]))}snapshotChanges(he){const Fe=Hn(he);return Tn(this.query,Fe,this.afs.schedulers.outsideAngular).pipe(r.U0)}valueChanges(he={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.T)(It=>It.payload.docs.map(Kt=>he.idField?{[he.idField]:Kt.id,...Kt.data()}:Kt.data())),r.U0)}get(he){return(0,Te.H)(this.query.get(he)).pipe(r.U0)}}const on=new ce.nKC("angularfire2.enableFirestorePersistence"),ei=new ce.nKC("angularfire2.firestore.persistenceSettings"),Qn=new ce.nKC("angularfire2.firestore.settings"),br=new ce.nKC("angularfire2.firestore.use-emulator");function Gn(Et,he=(Fe=>Fe)){return{query:he(Et),ref:Et}}let Ri=(()=>{class Et{schedulers;firestore;persistenceEnabled$;constructor(Fe,It,Kt,Ln,Fr,Tr,bi,At,G,C,M,V,Z,je,_t,Xt,an){this.schedulers=bi;const wn=(0,be.iB)(Fe,Tr,It),vr=G;C&&(0,fe.gF)(wn,Tr,M,Z,je,_t,V,Xt),[this.firestore,this.persistenceEnabled$]=(0,be.BM)(`${wn.name}.firestore`,"AngularFirestore",wn.name,()=>{const ln=Tr.runOutsideAngular(()=>wn.firestore());if(Ln&&ln.settings(Ln),vr&&ln.useEmulator(...vr),Kt&&!(0,s.Vy)(Fr)){const $r=()=>{try{return(0,Te.H)(ln.enablePersistence(At||void 0).then(()=>!0,()=>!1))}catch(ir){return typeof console<"u"&&console.warn(ir),(0,xe.of)(!1)}};return[ln,Tr.runOutsideAngular($r)]}return[ln,(0,xe.of)(!1)]},[Ln,vr,Kt])}collection(Fe,It){let Kt;Kt="string"==typeof Fe?this.firestore.collection(Fe):Fe;const{ref:Ln,query:Fr}=Gn(Kt,It),Tr=this.schedulers.ngZone.run(()=>Ln);return new ui(Tr,Fr,this)}collectionGroup(Fe,It){const Kt=It||(Fr=>Fr),Ln=this.firestore.collectionGroup(Fe);return new ys(Kt(Ln),this)}doc(Fe){let It;It="string"==typeof Fe?this.firestore.doc(Fe):Fe;const Kt=this.schedulers.ngZone.run(()=>It);return new En(Kt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(It){return new(It||Et)(ce.KVO(be.rx),ce.KVO(be.uP,8),ce.KVO(on,8),ce.KVO(Qn,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(r.u0),ce.KVO(ei,8),ce.KVO(br,8),ce.KVO(fe.DS,8),ce.KVO(fe.CP,8),ce.KVO(fe.yy,8),ce.KVO(fe.ZP,8),ce.KVO(fe.$z,8),ce.KVO(fe.AU,8),ce.KVO(fe.UB,8),ce.KVO(r.Jv,8))};static \u0275prov=ce.jDH({token:Et,factory:Et.\u0275fac,providedIn:"any"})}return Et})(),ot=(()=>{class Et{constructor(){_r.A.registerVersion("angularfire",r.xv.full,"fst-compat")}static enablePersistence(Fe){return{ngModule:Et,providers:[{provide:on,useValue:!0},{provide:ei,useValue:Fe}]}}static \u0275fac=function(It){return new(It||Et)};static \u0275mod=ce.$C({type:Et});static \u0275inj=ce.G2t({providers:[Ri]})}return Et})()},8721:(tn,Ye,L)=>{L.d(Ye,{ap:()=>Ve,y5:()=>Me});var s=L(5407),ce=L(1985),r=L(7673),be=L(8455),fe=L(3236),Ee=L(9974),Se=L(4360),xe=L(6354),K=L(5558),ie=L(7705),pe=L(9253),Pe=L(3345),Be=L(4535),ve=L(1362);class qe{constructor(ye,ke,st){this._delegate=ye,this.task=ke,this.ref=st}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class we{constructor(ye,ke){this._delegate=ye,this._ref=ke,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qe(this._delegate.snapshot,this,this._ref)}then(ye,ke){return this._delegate.then(st=>{if(ye)return ye(new qe(st,this,this._ref))},ke)}on(ye,ke,st,nt){let Ft;return ke&&(Ft="function"==typeof ke?bn=>ke(new qe(bn,this,this._ref)):{next:ke.next?bn=>ke.next(new qe(bn,this,this._ref)):void 0,complete:ke.complete||void 0,error:ke.error||void 0}),this._delegate.on(ye,Ft,st||void 0,nt||void 0)}}class bt{constructor(ye,ke){this._delegate=ye,this._service=ke}get prefixes(){return this._delegate.prefixes.map(ye=>new jt(ye,this._service))}get items(){return this._delegate.items.map(ye=>new jt(ye,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class jt{constructor(ye,ke){this._delegate=ye,this.storage=ke}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(ye){const ke=(0,Be.Mp)(this._delegate,ye);return new jt(ke,this.storage)}get root(){return new jt(this._delegate.root,this.storage)}get parent(){const ye=this._delegate.parent;return null==ye?null:new jt(ye,this.storage)}put(ye,ke){return this._throwIfRoot("put"),new we((0,Be.bp)(this._delegate,ye,ke),this)}putString(ye,ke=Be.nw.RAW,st){this._throwIfRoot("putString");const nt=(0,Be.ZH)(ke,ye),Ft=Object.assign({},st);return null==Ft.contentType&&null!=nt.contentType&&(Ft.contentType=nt.contentType),new we(new Be.UC(this._delegate,new Be.Mx(nt.data,!0),Ft),this)}listAll(){return(0,Be._w)(this._delegate).then(ye=>new bt(ye,this.storage))}list(ye){return(0,Be.p_)(this._delegate,ye||void 0).then(ke=>new bt(ke,this.storage))}getMetadata(){return(0,Be.yb)(this._delegate)}updateMetadata(ye){return(0,Be.D5)(this._delegate,ye)}getDownloadURL(){return(0,Be.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Be.XR)(this._delegate)}_throwIfRoot(ye){if(""===this._delegate._location.path)throw(0,Be.UY)(ye)}}class He{constructor(ye,ke){this.app=ye,this._delegate=ke}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(ye){if(Ae(ye))throw(0,Be.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new jt((0,Be.KR)(this._delegate,ye),this)}refFromURL(ye){if(!Ae(ye))throw(0,Be.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Be.TZ.makeFromUrl(ye,this._delegate.host)}catch{throw(0,Be.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new jt((0,Be.KR)(this._delegate,ye),this)}setMaxUploadRetryTime(ye){this._delegate.maxUploadRetryTime=ye}setMaxOperationRetryTime(ye){this._delegate.maxOperationRetryTime=ye}useEmulator(ye,ke,st={}){(0,Be.nb)(this._delegate,ye,ke,st)}}function Ae(te){return/^[A-Za-z]+:\/\//.test(te)}function Pt(te,{instanceIdentifier:ye}){const ke=te.getProvider("app-compat").getImmediate(),st=te.getProvider("storage").getImmediate({identifier:ye});return new He(ke,st)}!function ct(te){const ye={TaskState:Be.Ad,TaskEvent:Be.xc,StringFormat:Be.nw,Storage:He,Reference:jt};te.INTERNAL.registerComponent(new ve.uA("storage-compat",Pt,"PUBLIC").setServiceProps(ye).setMultipleInstances(!0)),te.registerVersion("@firebase/storage-compat","0.3.12")}(Pe.A);var Ie=L(7935);function Yt(te){const ye=function Qe(te){return new ce.c(ye=>{const ke=bn=>ye.next(bn);ke(te.snapshot);const Ft=te.on("state_changed",ke);return te.then(bn=>{ke(bn),ye.complete()},bn=>{ke(te.snapshot),(bn=>{ye.error(bn)})(bn)}),function(){Ft()}}).pipe(function Te(te,ye=fe.E){return(0,Ee.N)((ke,st)=>{let nt=null,Ft=null,bn=null;const er=()=>{if(nt){nt.unsubscribe(),nt=null;const Fn=Ft;Ft=null,st.next(Fn)}};function rn(){const Fn=bn+te,Qt=ye.now();if(Qt<Fn)return nt=this.schedule(void 0,Fn-Qt),void st.add(nt);er()}ke.subscribe((0,Se._)(st,Fn=>{Ft=Fn,bn=ye.now(),nt||(nt=ye.schedule(rn,te),st.add(nt))},()=>{er(),st.complete()},void 0,()=>{Ft=nt=null}))})}(0))}(te);return{task:te,then:te.then.bind(te),catch:te.catch.bind(te),pause:te.pause.bind(te),cancel:te.cancel.bind(te),resume:te.resume.bind(te),snapshotChanges:()=>ye,percentageChanges:()=>ye.pipe((0,xe.T)(ke=>ke.bytesTransferred/ke.totalBytes*100))}}function Mn(te){return{getDownloadURL:()=>(0,r.of)(void 0).pipe(s.Oe,(0,K.n)(()=>te.getDownloadURL()),s.U0),getMetadata:()=>(0,r.of)(void 0).pipe(s.Oe,(0,K.n)(()=>te.getMetadata()),s.U0),delete:()=>(0,be.H)(te.delete()),child:ye=>Mn(te.child(ye)),updateMetadata:ye=>(0,be.H)(te.updateMetadata(ye)),put:(ye,ke)=>Yt(te.put(ye,ke)),putString:(ye,ke,st)=>Yt(te.putString(ye,ke,st)),list:ye=>(0,be.H)(te.list(ye)),listAll:()=>(0,be.H)(te.listAll())}}const Mt=new ie.nKC("angularfire2.storageBucket"),Lt=new ie.nKC("angularfire2.storage.maxUploadRetryTime"),Wt=new ie.nKC("angularfire2.storage.maxOperationRetryTime"),ht=new ie.nKC("angularfire2.storage.use-emulator");let Ve=(()=>{class te{storage;constructor(ke,st,nt,Ft,bn,er,rn,Fn,Qt,jn){const Pn=(0,pe.iB)(ke,bn,st);this.storage=(0,pe.BM)(`${Pn.name}.storage.${nt}`,"AngularFireStorage",Pn.name,()=>{const Ht=bn.runOutsideAngular(()=>Pn.storage(nt||void 0)),Vt=Qt;return Vt&&Ht.useEmulator(...Vt),rn&&Ht.setMaxUploadRetryTime(rn),Fn&&Ht.setMaxOperationRetryTime(Fn),Ht},[rn,Fn])}ref(ke){return Mn(this.storage.ref(ke))}refFromURL(ke){return Mn(this.storage.refFromURL(ke))}upload(ke,st,nt){return Mn(this.storage.ref(ke)).put(st,nt)}static \u0275fac=function(st){return new(st||te)(ie.KVO(pe.rx),ie.KVO(pe.uP,8),ie.KVO(Mt,8),ie.KVO(ie.Agw),ie.KVO(ie.SKi),ie.KVO(s.u0),ie.KVO(Lt,8),ie.KVO(Wt,8),ie.KVO(ht,8),ie.KVO(s.Jv,8))};static \u0275prov=ie.jDH({token:te,factory:te.\u0275fac,providedIn:"any"})}return te})(),rt=(()=>{class te{static \u0275fac=function(st){return new(st||te)};static \u0275mod=ie.$C({type:te});static \u0275inj=ie.G2t({})}return te})(),Me=(()=>{class te{constructor(){Ie.A.registerVersion("angularfire",s.xv.full,"gcs-compat")}static \u0275fac=function(st){return new(st||te)};static \u0275mod=ie.$C({type:te});static \u0275inj=ie.G2t({providers:[Ve],imports:[rt]})}return te})()},9253:(tn,Ye,L)=>{L.d(Ye,{BM:()=>Be,Gt:()=>fe,bf:()=>Pe,e7:()=>Ee,iB:()=>K,rx:()=>Te,uP:()=>xe});var s=L(7705),ce=L(5407),r=L(7935);const be=["ngOnDestroy"],fe=(bt,jt,He,Ae={})=>new Proxy(bt,{get:(Ze,Ke)=>He.runOutsideAngular(()=>{if(bt[Ke])return Ae?.spy?.get&&Ae.spy.get(Ke,bt[Ke]),bt[Ke];if(be.indexOf(Ke)>-1)return()=>{};const lt=jt.toPromise().then(Pt=>{const ct=Pt?.[Ke];return"function"==typeof ct?ct.bind(Pt):ct?.then?ct.then(Ie=>He.run(()=>Ie)):He.run(()=>ct)});return new Proxy(()=>{},{get:(Pt,ct)=>lt[ct],apply:(Pt,ct,Ie)=>lt.then(Qe=>{const Yt=Qe?.(...Ie);return Ae?.spy?.apply&&Ae.spy.apply(Ke,Ie,Yt),Yt})})})}),Ee=(bt,jt)=>{jt.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Ae=>{Object.defineProperty(bt.prototype,Ae,Object.getOwnPropertyDescriptor(He.prototype||He,Ae))})})};class Se{constructor(jt){return jt}}const Te=new s.nKC("angularfire2.app.options"),xe=new s.nKC("angularfire2.app.name");function K(bt,jt,He){const Ze="object"==typeof He&&He||{};Ze.name=Ze.name||"string"==typeof He&&He||"[DEFAULT]";const lt=r.A.apps.filter(Pt=>Pt&&Pt.name===Ze.name)[0]||jt.runOutsideAngular(()=>r.A.initializeApp(bt,Ze));try{if(JSON.stringify(bt)!==JSON.stringify(lt.options)){const Pt=!!module.hot;ie("error",`${lt.name} Firebase App already initialized with different options${Pt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Se(lt)}const ie=(bt,...jt)=>{(0,s.naY)()&&typeof console<"u"&&console[bt](...jt)},pe={provide:Se,useFactory:K,deps:[Te,s.SKi,[new s.Xx1,xe]]};let Pe=(()=>{class bt{static initializeApp(He,Ae){return{ngModule:bt,providers:[{provide:Te,useValue:He},{provide:xe,useValue:Ae}]}}constructor(He){r.A.registerVersion("angularfire",ce.xv.full,"core"),r.A.registerVersion("angularfire",ce.xv.full,"app-compat"),r.A.registerVersion("angular",s.xvI.full,He.toString())}static \u0275fac=function(Ae){return new(Ae||bt)(s.KVO(s.Agw))};static \u0275mod=s.$C({type:bt});static \u0275inj=s.G2t({providers:[pe]})}return bt})();function Be(bt,jt,He,Ae,Ze){const[,Ke,lt]=globalThis.\u0275AngularfireInstanceCache.find(Pt=>Pt[0]===bt)||[];if(Ke)return function ve(bt,jt){try{return bt.toString()===jt.toString()}catch{return bt===jt}}(Ze,lt)||(we("error",`${jt} was already initialized on the ${He} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Ze,was:lt})),Ke;{const Pt=Ae();return globalThis.\u0275AngularfireInstanceCache.push([bt,Pt,Ze]),Pt}}const qe=typeof module<"u"&&!!module.hot,we=(bt,...jt)=>{(0,s.naY)()&&typeof console<"u"&&console[bt](...jt)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(tn,Ye,L)=>{L.d(Ye,{xv:()=>Be,U0:()=>Yt,Oe:()=>Ie,u0:()=>Ke,Jv:()=>bt,CA:()=>we,lR:()=>qe,S3:()=>Lt});var s=L(7705),ce=L(2214),r=L(6780),fe=L(9687);const Se=new class Ee extends fe.q{}(class be extends r.R{constructor(ht,Ve){super(ht,Ve),this.scheduler=ht,this.work=Ve}schedule(ht,Ve=0){return Ve>0?super.schedule(ht,Ve):(this.delay=Ve,this.state=ht,this.scheduler.flush(this),this)}execute(ht,Ve){return Ve>0||this.closed?super.execute(ht,Ve):this._execute(ht,Ve)}requestAsyncId(ht,Ve,it=0){return null!=it&&it>0||null==it&&this.delay>0?super.requestAsyncId(ht,Ve,it):(ht.flush(this),0)}});var xe=L(3236),K=L(1985),ie=L(8141),pe=L(941),Pe=L(6745);const Be=new s.RxE("ANGULARFIRE2_VERSION");function qe(Wt,ht,Ve){if(ht){if(1===ht.length)return ht[0];const Me=ht.filter(te=>te.app===Ve);if(1===Me.length)return Me[0]}return Ve.container.getProvider(Wt).getImmediate({optional:!0})}const we=(Wt,ht)=>{const Ve=ht?[ht]:(0,ce.Dk)(),it=[];return Ve.forEach(rt=>{rt.container.getProvider(Wt).instances.forEach(te=>{it.includes(te)||it.push(te)})}),it};class bt{constructor(){return we(jt)}}const jt="app-check";function He(){}class Ae{zone;delegate;constructor(ht,Ve=Se){this.zone=ht,this.delegate=Ve}now(){return this.delegate.now()}schedule(ht,Ve,it){const rt=this.zone;return this.delegate.schedule(function(te){rt.runGuarded(()=>{ht.apply(this,[te])})},Ve,it)}}class Ze{zone;task=null;constructor(ht){this.zone=ht}call(ht,Ve){const it=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),Ve.pipe((0,ie.M)({next:it,complete:it,error:it})).subscribe(ht).add(it)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ke=(()=>{class Wt{ngZone;outsideAngular;insideAngular;constructor(Ve){this.ngZone=Ve,this.outsideAngular=Ve.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=Ve.run(()=>new Ae(Zone.current,xe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(it){return new(it||Wt)(s.KVO(s.SKi))};static \u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})();function lt(){const Wt=globalThis.\u0275AngularFireScheduler;if(!Wt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Wt}function ct(Wt){return lt().ngZone.run(()=>Wt())}function Ie(Wt){return Wt.pipe((0,pe.Q)(lt().outsideAngular))}function Yt(Wt){return function Mn(Wt){return function(Ve){return(Ve=Ve.lift(new Ze(Wt.ngZone))).pipe((0,Pe._)(Wt.outsideAngular),(0,pe.Q)(Wt.insideAngular))}}(lt())(Wt)}const Mt=(Wt,ht)=>function(){const it=arguments;return ht&&setTimeout(()=>{"scheduled"===ht.state&&ht.invoke()},10),ct(()=>Wt.apply(void 0,it))},Lt=(Wt,ht)=>function(){let Ve;const it=arguments;for(let Me=0;Me<arguments.length;Me++)"function"==typeof it[Me]&&(ht&&(Ve||=ct(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),it[Me]=Mt(it[Me],Ve));const rt=function Pt(Wt){return lt().ngZone.runOutsideAngular(()=>Wt())}(()=>Wt.apply(this,it));if(!ht){if(rt instanceof K.c){const Me=lt();return rt.pipe((0,Pe._)(Me.outsideAngular),(0,pe.Q)(Me.insideAngular))}return ct(()=>rt)}return rt instanceof K.c?rt.pipe(Yt):rt instanceof Promise?ct(()=>new Promise((Me,te)=>rt.then(ye=>ct(()=>Me(ye)),ye=>ct(()=>te(ye))))):"function"==typeof rt&&Ve?function(){return setTimeout(()=>{Ve&&"scheduled"===Ve.state&&Ve.invoke()},10),rt.apply(this,arguments)}:ct(()=>rt)}},4341:(tn,Ye,L)=>{L.d(Ye,{Zm:()=>we,me:()=>Ae,Yp:()=>ta,v8:()=>as,ok:()=>Do,MJ:()=>Bi,JD:()=>qr,gE:()=>_t,j4:()=>pn,$R:()=>cr,YN:()=>So,BC:()=>$n,cb:()=>Tn,cV:()=>ss,vS:()=>js,xH:()=>es,Q0:()=>xi,Fm:()=>jr,X1:()=>$o,YS:()=>ri,wz:()=>mi,k0:()=>Ie,qT:()=>gi,y7:()=>mt});var s=L(7705),ce=L(177),r=L(8455),be=L(1985),fe=L(3073),Ee=L(8750),Se=L(3794),Te=L(4360),xe=L(6450),K=L(8496),pe=L(6354);let Pe=(()=>{class q{constructor(B,de){this._renderer=B,this._elementRef=de,this.onChange=$e=>{},this.onTouched=()=>{}}setProperty(B,de){this._renderer.setProperty(this._elementRef.nativeElement,B,de)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(s.sFG),s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:q})}}return q})(),Be=(()=>{class q extends Pe{static{this.\u0275fac=function(){let B;return function($e){return(B||(B=s.xGo(q)))($e||q)}}()}static{this.\u0275dir=s.FsC({type:q,features:[s.Vt3]})}}return q})();const ve=new s.nKC("NgValueAccessor"),qe={provide:ve,useExisting:(0,s.Rfq)(()=>we),multi:!0};let we=(()=>{class q extends Be{writeValue(B){this.setProperty("checked",B)}static{this.\u0275fac=function(){let B;return function($e){return(B||(B=s.xGo(q)))($e||q)}}()}static{this.\u0275dir=s.FsC({type:q,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(de,$e){1&de&&s.bIt("change",function(Zn){return $e.onChange(Zn.target.checked)})("blur",function(){return $e.onTouched()})},features:[s.Jv_([qe]),s.Vt3]})}}return q})();const bt={provide:ve,useExisting:(0,s.Rfq)(()=>Ae),multi:!0},He=new s.nKC("CompositionEventMode");let Ae=(()=>{class q extends Pe{constructor(B,de,$e){super(B,de),this._compositionMode=$e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jt(){const q=(0,ce.QT)()?(0,ce.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(B){this.setProperty("value",B??"")}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(He,8))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(de,$e){1&de&&s.bIt("input",function(Zn){return $e._handleInput(Zn.target.value)})("blur",function(){return $e.onTouched()})("compositionstart",function(){return $e._compositionStart()})("compositionend",function(Zn){return $e._compositionEnd(Zn.target.value)})},features:[s.Jv_([bt]),s.Vt3]})}}return q})();function Ze(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Ke(q){return null!=q&&"number"==typeof q.length}const lt=new s.nKC("NgValidators"),Pt=new s.nKC("NgAsyncValidators"),ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ie{static min(re){return function Qe(q){return re=>{if(Ze(re.value)||Ze(q))return null;const B=parseFloat(re.value);return!isNaN(B)&&B<q?{min:{min:q,actual:re.value}}:null}}(re)}static max(re){return function Yt(q){return re=>{if(Ze(re.value)||Ze(q))return null;const B=parseFloat(re.value);return!isNaN(B)&&B>q?{max:{max:q,actual:re.value}}:null}}(re)}static required(re){return Mn(re)}static requiredTrue(re){return function Mt(q){return!0===q.value?null:{required:!0}}(re)}static email(re){return function Lt(q){return Ze(q.value)||ct.test(q.value)?null:{email:!0}}(re)}static minLength(re){return function Wt(q){return re=>Ze(re.value)||!Ke(re.value)?null:re.value.length<q?{minlength:{requiredLength:q,actualLength:re.value.length}}:null}(re)}static maxLength(re){return function ht(q){return re=>Ke(re.value)&&re.value.length>q?{maxlength:{requiredLength:q,actualLength:re.value.length}}:null}(re)}static pattern(re){return function Ve(q){if(!q)return it;let re,B;return"string"==typeof q?(B="","^"!==q.charAt(0)&&(B+="^"),B+=q,"$"!==q.charAt(q.length-1)&&(B+="$"),re=new RegExp(B)):(B=q.toString(),re=q),de=>{if(Ze(de.value))return null;const $e=de.value;return re.test($e)?null:{pattern:{requiredPattern:B,actualValue:$e}}}}(re)}static nullValidator(re){return null}static compose(re){return nt(re)}static composeAsync(re){return bn(re)}}function Mn(q){return Ze(q.value)?{required:!0}:null}function it(q){return null}function rt(q){return null!=q}function Me(q){return(0,s.jNT)(q)?(0,r.H)(q):q}function te(q){let re={};return q.forEach(B=>{re=null!=B?{...re,...B}:re}),0===Object.keys(re).length?null:re}function ye(q,re){return re.map(B=>B(q))}function st(q){return q.map(re=>function ke(q){return!q.validate}(re)?re:B=>re.validate(B))}function nt(q){if(!q)return null;const re=q.filter(rt);return 0==re.length?null:function(B){return te(ye(B,re))}}function Ft(q){return null!=q?nt(st(q)):null}function bn(q){if(!q)return null;const re=q.filter(rt);return 0==re.length?null:function(B){return function ie(...q){const re=(0,Se.ms)(q),{args:B,keys:de}=(0,fe.D)(q),$e=new be.c(fn=>{const{length:Zn}=B;if(!Zn)return void fn.complete();const Is=new Array(Zn);let Xs=Zn,ts=Zn;for(let lo=0;lo<Zn;lo++){let Rs=!1;(0,Ee.Tg)(B[lo]).subscribe((0,Te._)(fn,ns=>{Rs||(Rs=!0,ts--),Is[lo]=ns},()=>Xs--,void 0,()=>{(!Xs||!Rs)&&(ts||fn.next(de?(0,K.e)(de,Is):Is),fn.complete())}))}});return re?$e.pipe((0,xe.I)(re)):$e}(ye(B,re).map(Me)).pipe((0,pe.T)(te))}}function er(q){return null!=q?bn(st(q)):null}function rn(q,re){return null===q?[re]:Array.isArray(q)?[...q,re]:[q,re]}function Fn(q){return q._rawValidators}function Qt(q){return q._rawAsyncValidators}function jn(q){return q?Array.isArray(q)?q:[q]:[]}function Pn(q,re){return Array.isArray(q)?q.includes(re):q===re}function Ht(q,re){const B=jn(re);return jn(q).forEach($e=>{Pn(B,$e)||B.push($e)}),B}function Vt(q,re){return jn(re).filter(B=>!Pn(q,B))}class _r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(re){this._rawValidators=re||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(re){this._rawAsyncValidators=re||[],this._composedAsyncValidatorFn=er(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(re){this._onDestroyCallbacks.push(re)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(re=>re()),this._onDestroyCallbacks=[]}reset(re=void 0){this.control&&this.control.reset(re)}hasError(re,B){return!!this.control&&this.control.hasError(re,B)}getError(re,B){return this.control?this.control.getError(re,B):null}}class sn extends _r{get formDirective(){return null}get path(){return null}}class Rr extends _r{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn{constructor(re){this._cd=re}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $n=(()=>{class q extends Yn{constructor(B){super(B)}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(Rr,2))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(de,$e){2&de&&s.AVh("ng-untouched",$e.isUntouched)("ng-touched",$e.isTouched)("ng-pristine",$e.isPristine)("ng-dirty",$e.isDirty)("ng-valid",$e.isValid)("ng-invalid",$e.isInvalid)("ng-pending",$e.isPending)},features:[s.Vt3]})}}return q})(),Tn=(()=>{class q extends Yn{constructor(B){super(B)}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(sn,10))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(de,$e){2&de&&s.AVh("ng-untouched",$e.isUntouched)("ng-touched",$e.isTouched)("ng-pristine",$e.isPristine)("ng-dirty",$e.isDirty)("ng-valid",$e.isValid)("ng-invalid",$e.isInvalid)("ng-pending",$e.isPending)("ng-submitted",$e.isSubmitted)},features:[s.Vt3]})}}return q})();const Kt="VALID",Ln="INVALID",Fr="PENDING",Tr="DISABLED";function bi(q){return(M(q)?q.validators:q)||null}function G(q,re){return(M(re)?re.asyncValidators:q)||null}function M(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function V(q,re,B){const de=q.controls;if(!(re?Object.keys(de):de).length)throw new s.wOt(1e3,"");if(!de[B])throw new s.wOt(1001,"")}function Z(q,re,B){q._forEachChild((de,$e)=>{if(void 0===B[$e])throw new s.wOt(1002,"")})}class je{constructor(re,B){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(re),this._assignAsyncValidators(B)}get validator(){return this._composedValidatorFn}set validator(re){this._rawValidators=this._composedValidatorFn=re}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(re){this._rawAsyncValidators=this._composedAsyncValidatorFn=re}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===Ln}get pending(){return this.status==Fr}get disabled(){return this.status===Tr}get enabled(){return this.status!==Tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(re){this._assignValidators(re)}setAsyncValidators(re){this._assignAsyncValidators(re)}addValidators(re){this.setValidators(Ht(re,this._rawValidators))}addAsyncValidators(re){this.setAsyncValidators(Ht(re,this._rawAsyncValidators))}removeValidators(re){this.setValidators(Vt(re,this._rawValidators))}removeAsyncValidators(re){this.setAsyncValidators(Vt(re,this._rawAsyncValidators))}hasValidator(re){return Pn(this._rawValidators,re)}hasAsyncValidator(re){return Pn(this._rawAsyncValidators,re)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(re={}){this.touched=!0,this._parent&&!re.onlySelf&&this._parent.markAsTouched(re)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(re=>re.markAllAsTouched())}markAsUntouched(re={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(B=>{B.markAsUntouched({onlySelf:!0})}),this._parent&&!re.onlySelf&&this._parent._updateTouched(re)}markAsDirty(re={}){this.pristine=!1,this._parent&&!re.onlySelf&&this._parent.markAsDirty(re)}markAsPristine(re={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(B=>{B.markAsPristine({onlySelf:!0})}),this._parent&&!re.onlySelf&&this._parent._updatePristine(re)}markAsPending(re={}){this.status=Fr,!1!==re.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!re.onlySelf&&this._parent.markAsPending(re)}disable(re={}){const B=this._parentMarkedDirty(re.onlySelf);this.status=Tr,this.errors=null,this._forEachChild(de=>{de.disable({...re,onlySelf:!0})}),this._updateValue(),!1!==re.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...re,skipPristineCheck:B}),this._onDisabledChange.forEach(de=>de(!0))}enable(re={}){const B=this._parentMarkedDirty(re.onlySelf);this.status=Kt,this._forEachChild(de=>{de.enable({...re,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:re.emitEvent}),this._updateAncestors({...re,skipPristineCheck:B}),this._onDisabledChange.forEach(de=>de(!1))}_updateAncestors(re){this._parent&&!re.onlySelf&&(this._parent.updateValueAndValidity(re),re.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(re){this._parent=re}getRawValue(){return this.value}updateValueAndValidity(re={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Fr)&&this._runAsyncValidator(re.emitEvent)),!1!==re.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!re.onlySelf&&this._parent.updateValueAndValidity(re)}_updateTreeValidity(re={emitEvent:!0}){this._forEachChild(B=>B._updateTreeValidity(re)),this.updateValueAndValidity({onlySelf:!0,emitEvent:re.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tr:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(re){if(this.asyncValidator){this.status=Fr,this._hasOwnPendingAsyncValidator=!0;const B=Me(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(de=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(de,{emitEvent:re})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(re,B={}){this.errors=re,this._updateControlsErrors(!1!==B.emitEvent)}get(re){let B=re;return null==B||(Array.isArray(B)||(B=B.split(".")),0===B.length)?null:B.reduce((de,$e)=>de&&de._find($e),this)}getError(re,B){const de=B?this.get(B):this;return de&&de.errors?de.errors[re]:null}hasError(re,B){return!!this.getError(re,B)}get root(){let re=this;for(;re._parent;)re=re._parent;return re}_updateControlsErrors(re){this.status=this._calculateStatus(),re&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(re)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?Tr:this.errors?Ln:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fr)?Fr:this._anyControlsHaveStatus(Ln)?Ln:Kt}_anyControlsHaveStatus(re){return this._anyControls(B=>B.status===re)}_anyControlsDirty(){return this._anyControls(re=>re.dirty)}_anyControlsTouched(){return this._anyControls(re=>re.touched)}_updatePristine(re={}){this.pristine=!this._anyControlsDirty(),this._parent&&!re.onlySelf&&this._parent._updatePristine(re)}_updateTouched(re={}){this.touched=this._anyControlsTouched(),this._parent&&!re.onlySelf&&this._parent._updateTouched(re)}_registerOnCollectionChange(re){this._onCollectionChange=re}_setUpdateStrategy(re){M(re)&&null!=re.updateOn&&(this._updateOn=re.updateOn)}_parentMarkedDirty(re){return!re&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(re){return null}_assignValidators(re){this._rawValidators=Array.isArray(re)?re.slice():re,this._composedValidatorFn=function At(q){return Array.isArray(q)?Ft(q):q||null}(this._rawValidators)}_assignAsyncValidators(re){this._rawAsyncValidators=Array.isArray(re)?re.slice():re,this._composedAsyncValidatorFn=function C(q){return Array.isArray(q)?er(q):q||null}(this._rawAsyncValidators)}}class _t extends je{constructor(re,B,de){super(bi(B),G(de,B)),this.controls=re,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(re,B){return this.controls[re]?this.controls[re]:(this.controls[re]=B,B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange),B)}addControl(re,B,de={}){this.registerControl(re,B),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}removeControl(re,B={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),delete this.controls[re],this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}setControl(re,B,de={}){this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),delete this.controls[re],B&&this.registerControl(re,B),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}contains(re){return this.controls.hasOwnProperty(re)&&this.controls[re].enabled}setValue(re,B={}){Z(this,0,re),Object.keys(re).forEach(de=>{V(this,!0,de),this.controls[de].setValue(re[de],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(re,B={}){null!=re&&(Object.keys(re).forEach(de=>{const $e=this.controls[de];$e&&$e.patchValue(re[de],{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(re={},B={}){this._forEachChild((de,$e)=>{de.reset(re?re[$e]:null,{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this._reduceChildren({},(re,B,de)=>(re[de]=B.getRawValue(),re))}_syncPendingControls(){let re=this._reduceChildren(!1,(B,de)=>!!de._syncPendingControls()||B);return re&&this.updateValueAndValidity({onlySelf:!0}),re}_forEachChild(re){Object.keys(this.controls).forEach(B=>{const de=this.controls[B];de&&re(de,B)})}_setUpControls(){this._forEachChild(re=>{re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(re){for(const[B,de]of Object.entries(this.controls))if(this.contains(B)&&re(de))return!0;return!1}_reduceValue(){return this._reduceChildren({},(B,de,$e)=>((de.enabled||this.disabled)&&(B[$e]=de.value),B))}_reduceChildren(re,B){let de=re;return this._forEachChild(($e,fn)=>{de=B(de,$e,fn)}),de}_allControlsDisabled(){for(const re of Object.keys(this.controls))if(this.controls[re].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(re){return this.controls.hasOwnProperty(re)?this.controls[re]:null}}class wn extends _t{}const ln=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$r}),$r="always";function ir(q,re){return[...re.path,q]}function Us(q,re,B=$r){pi(q,re),re.valueAccessor.writeValue(q.value),(q.disabled||"always"===B)&&re.valueAccessor.setDisabledState?.(q.disabled),function xs(q,re){re.valueAccessor.registerOnChange(B=>{q._pendingValue=B,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&at(q,re)})}(q,re),function xt(q,re){const B=(de,$e)=>{re.valueAccessor.writeValue(de),$e&&re.viewToModelUpdate(de)};q.registerOnChange(B),re._registerOnDestroy(()=>{q._unregisterOnChange(B)})}(q,re),function Dt(q,re){re.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&at(q,re),"submit"!==q.updateOn&&q.markAsTouched()})}(q,re),function Es(q,re){if(re.valueAccessor.setDisabledState){const B=de=>{re.valueAccessor.setDisabledState(de)};q.registerOnDisabledChange(B),re._registerOnDestroy(()=>{q._unregisterOnDisabledChange(B)})}}(q,re)}function Fi(q,re,B=!0){const de=()=>{};re.valueAccessor&&(re.valueAccessor.registerOnChange(de),re.valueAccessor.registerOnTouched(de)),sr(q,re),q&&(re._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function vs(q,re){q.forEach(B=>{B.registerOnValidatorChange&&B.registerOnValidatorChange(re)})}function pi(q,re){const B=Fn(q);null!==re.validator?q.setValidators(rn(B,re.validator)):"function"==typeof B&&q.setValidators([B]);const de=Qt(q);null!==re.asyncValidator?q.setAsyncValidators(rn(de,re.asyncValidator)):"function"==typeof de&&q.setAsyncValidators([de]);const $e=()=>q.updateValueAndValidity();vs(re._rawValidators,$e),vs(re._rawAsyncValidators,$e)}function sr(q,re){let B=!1;if(null!==q){if(null!==re.validator){const $e=Fn(q);if(Array.isArray($e)&&$e.length>0){const fn=$e.filter(Zn=>Zn!==re.validator);fn.length!==$e.length&&(B=!0,q.setValidators(fn))}}if(null!==re.asyncValidator){const $e=Qt(q);if(Array.isArray($e)&&$e.length>0){const fn=$e.filter(Zn=>Zn!==re.asyncValidator);fn.length!==$e.length&&(B=!0,q.setAsyncValidators(fn))}}}const de=()=>{};return vs(re._rawValidators,de),vs(re._rawAsyncValidators,de),B}function at(q,re){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),re.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function cn(q,re){pi(q,re)}function Ji(q,re){if(!q.hasOwnProperty("model"))return!1;const B=q.model;return!!B.isFirstChange()||!Object.is(re,B.currentValue)}function is(q,re){q._syncPendingControls(),re.forEach(B=>{const de=B.control;"submit"===de.updateOn&&de._pendingChange&&(B.viewToModelUpdate(de._pendingValue),de._pendingChange=!1)})}function Co(q,re){if(!re)return null;let B,de,$e;return Array.isArray(re),re.forEach(fn=>{fn.constructor===Ae?B=fn:function Ms(q){return Object.getPrototypeOf(q.constructor)===Be}(fn)?de=fn:$e=fn}),$e||de||B||null}const jo={provide:sn,useExisting:(0,s.Rfq)(()=>ss)},oi=(()=>Promise.resolve())();let ss=(()=>{class q extends sn{constructor(B,de,$e){super(),this.callSetDisabledState=$e,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.bkB,this.form=new _t({},Ft(B),er(de))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(B){oi.then(()=>{const de=this._findContainer(B.path);B.control=de.registerControl(B.name,B.control),Us(B.control,B,this.callSetDisabledState),B.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(B)})}getControl(B){return this.form.get(B.path)}removeControl(B){oi.then(()=>{const de=this._findContainer(B.path);de&&de.removeControl(B.name),this._directives.delete(B)})}addFormGroup(B){oi.then(()=>{const de=this._findContainer(B.path),$e=new _t({});cn($e,B),de.registerControl(B.name,$e),$e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(B){oi.then(()=>{const de=this._findContainer(B.path);de&&de.removeControl(B.name)})}getFormGroup(B){return this.form.get(B.path)}updateModel(B,de){oi.then(()=>{this.form.get(B.path).setValue(de)})}setValue(B){this.control.setValue(B)}onSubmit(B){return this.submitted=!0,is(this.form,this._directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(B){return B.pop(),B.length?this.form.get(B):this.form}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(lt,10),s.rXU(Pt,10),s.rXU(ln,8))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(de,$e){1&de&&s.bIt("submit",function(Zn){return $e.onSubmit(Zn)})("reset",function(){return $e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([jo]),s.Vt3]})}}return q})();function bs(q,re){const B=q.indexOf(re);B>-1&&q.splice(B,1)}function Wr(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Bi=class extends je{constructor(re=null,B,de){super(bi(B),G(de,B)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(re),this._setUpdateStrategy(B),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),M(B)&&(B.nonNullable||B.initialValueIsDefault)&&(this.defaultValue=Wr(re)?re.value:re)}setValue(re,B={}){this.value=this._pendingValue=re,this._onChange.length&&!1!==B.emitModelToViewChange&&this._onChange.forEach(de=>de(this.value,!1!==B.emitViewToModelChange)),this.updateValueAndValidity(B)}patchValue(re,B={}){this.setValue(re,B)}reset(re=this.defaultValue,B={}){this._applyFormState(re),this.markAsPristine(B),this.markAsUntouched(B),this.setValue(this.value,B),this._pendingChange=!1}_updateValue(){}_anyControls(re){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(re){this._onChange.push(re)}_unregisterOnChange(re){bs(this._onChange,re)}registerOnDisabledChange(re){this._onDisabledChange.push(re)}_unregisterOnDisabledChange(re){bs(this._onDisabledChange,re)}_forEachChild(re){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(re){Wr(re)?(this.value=this._pendingValue=re.value,re.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=re}};let ao=(()=>{class q extends sn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ir(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let B;return function($e){return(B||(B=s.xGo(q)))($e||q)}}()}static{this.\u0275dir=s.FsC({type:q,features:[s.Vt3]})}}return q})();const Ks={provide:Rr,useExisting:(0,s.Rfq)(()=>js)},ti=(()=>Promise.resolve())();let js=(()=>{class q extends Rr{constructor(B,de,$e,fn,Zn,Is){super(),this._changeDetectorRef=Zn,this.callSetDisabledState=Is,this.control=new Bi,this._registered=!1,this.name="",this.update=new s.bkB,this._parent=B,this._setValidators(de),this._setAsyncValidators($e),this.valueAccessor=Co(0,fn)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const de=B.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),Ji(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Us(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){ti.then(()=>{this.control.setValue(B,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(B){const de=B.isDisabled.currentValue,$e=0!==de&&(0,s.L39)(de);ti.then(()=>{$e&&!this.control.disabled?this.control.disable():!$e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(B){return this._parent?ir(B,this._parent):[B]}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(sn,9),s.rXU(lt,10),s.rXU(Pt,10),s.rXU(ve,10),s.rXU(s.gRc,8),s.rXU(ln,8))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Jv_([Ks]),s.Vt3,s.OA$]})}}return q})(),gi=(()=>{class q{static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275dir=s.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return q})();const $i={provide:ve,useExisting:(0,s.Rfq)(()=>xi),multi:!0};let xi=(()=>{class q extends Be{writeValue(B){this.setProperty("value",B??"")}registerOnChange(B){this.onChange=de=>{B(""==de?null:parseFloat(de))}}static{this.\u0275fac=function(){let B;return function($e){return(B||(B=s.xGo(q)))($e||q)}}()}static{this.\u0275dir=s.FsC({type:q,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(de,$e){1&de&&s.bIt("input",function(Zn){return $e.onChange(Zn.target.value)})("blur",function(){return $e.onTouched()})},features:[s.Jv_([$i]),s.Vt3]})}}return q})();const qn={provide:ve,useExisting:(0,s.Rfq)(()=>jr),multi:!0};let ni=(()=>{class q{static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275mod=s.$C({type:q})}static{this.\u0275inj=s.G2t({})}}return q})(),Wi=(()=>{class q{constructor(){this._accessors=[]}add(B,de){this._accessors.push([B,de])}remove(B){for(let de=this._accessors.length-1;de>=0;--de)if(this._accessors[de][1]===B)return void this._accessors.splice(de,1)}select(B){this._accessors.forEach(de=>{this._isSameGroup(de,B)&&de[1]!==B&&de[1].fireUncheck(B.value)})}_isSameGroup(B,de){return!!B[0].control&&B[0]._parent===de._control._parent&&B[1].name===de.name}static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275prov=s.jDH({token:q,factory:q.\u0275fac,providedIn:ni})}}return q})(),jr=(()=>{class q extends Be{constructor(B,de,$e,fn){super(B,de),this._registry=$e,this._injector=fn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,s.WQX)(ln,{optional:!0})??$r}ngOnInit(){this._control=this._injector.get(Rr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(B){this._state=B===this.value,this.setProperty("checked",this._state)}registerOnChange(B){this._fn=B,this.onChange=()=>{B(this.value),this._registry.select(this)}}setDisabledState(B){(this.setDisabledStateFired||B||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",B),this.setDisabledStateFired=!0}fireUncheck(B){this.writeValue(B)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Wi),s.rXU(s.zZn))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(de,$e){1&de&&s.bIt("change",function(){return $e.onChange()})("blur",function(){return $e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s.Jv_([qn]),s.Vt3]})}}return q})();const ki=new s.nKC("NgModelWithFormControlWarning"),Gr={provide:sn,useExisting:(0,s.Rfq)(()=>pn)};let pn=(()=>{class q extends sn{constructor(B,de,$e){super(),this.callSetDisabledState=$e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.bkB,this._setValidators(B),this._setAsyncValidators(de)}ngOnChanges(B){this._checkFormPresent(),B.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(B){const de=this.form.get(B.path);return Us(de,B,this.callSetDisabledState),de.updateValueAndValidity({emitEvent:!1}),this.directives.push(B),de}getControl(B){return this.form.get(B.path)}removeControl(B){Fi(B.control||null,B,!1),function wo(q,re){const B=q.indexOf(re);B>-1&&q.splice(B,1)}(this.directives,B)}addFormGroup(B){this._setUpFormContainer(B)}removeFormGroup(B){this._cleanUpFormContainer(B)}getFormGroup(B){return this.form.get(B.path)}addFormArray(B){this._setUpFormContainer(B)}removeFormArray(B){this._cleanUpFormContainer(B)}getFormArray(B){return this.form.get(B.path)}updateModel(B,de){this.form.get(B.path).setValue(de)}onSubmit(B){return this.submitted=!0,is(this.form,this.directives),this.ngSubmit.emit(B),"dialog"===B?.target?.method}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submitted=!1}_updateDomValue(){this.directives.forEach(B=>{const de=B.control,$e=this.form.get(B.path);de!==$e&&(Fi(de||null,B),(q=>q instanceof Bi)($e)&&(Us($e,B,this.callSetDisabledState),B.control=$e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(B){const de=this.form.get(B.path);cn(de,B),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(B){if(this.form){const de=this.form.get(B.path);de&&function Vn(q,re){return sr(q,re)}(de,B)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pi(this.form,this),this._oldForm&&sr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(lt,10),s.rXU(Pt,10),s.rXU(ln,8))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(de,$e){1&de&&s.bIt("submit",function(Zn){return $e.onSubmit(Zn)})("reset",function(){return $e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([Gr]),s.Vt3,s.OA$]})}}return q})();const tr={provide:sn,useExisting:(0,s.Rfq)(()=>cr)};let cr=(()=>{class q extends ao{constructor(B,de,$e){super(),this.name=null,this._parent=B,this._setValidators(de),this._setAsyncValidators($e)}_checkParentType(){Li(this._parent)}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(sn,13),s.rXU(lt,10),s.rXU(Pt,10))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[s.Jv_([tr]),s.Vt3]})}}return q})();const Zi={provide:sn,useExisting:(0,s.Rfq)(()=>as)};let as=(()=>{class q extends sn{constructor(B,de,$e){super(),this.name=null,this._parent=B,this._setValidators(de),this._setAsyncValidators($e)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ir(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Li(this._parent)}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(sn,13),s.rXU(lt,10),s.rXU(Pt,10))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[s.Jv_([Zi]),s.Vt3]})}}return q})();function Li(q){return!(q instanceof cr||q instanceof pn||q instanceof as)}const Bs={provide:Rr,useExisting:(0,s.Rfq)(()=>qr)};let qr=(()=>{class q extends Rr{set isDisabled(B){}static{this._ngModelWarningSentOnce=!1}constructor(B,de,$e,fn,Zn){super(),this._ngModelWarningConfig=Zn,this._added=!1,this.name=null,this.update=new s.bkB,this._ngModelWarningSent=!1,this._parent=B,this._setValidators(de),this._setAsyncValidators($e),this.valueAccessor=Co(0,fn)}ngOnChanges(B){this._added||this._setUpControl(),Ji(B,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}get path(){return ir(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(sn,13),s.rXU(lt,10),s.rXU(Pt,10),s.rXU(ve,10),s.rXU(ki,8))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Jv_([Bs]),s.Vt3,s.OA$]})}}return q})();const ls={provide:ve,useExisting:(0,s.Rfq)(()=>mi),multi:!0};function Ss(q,re){return null==q?`${re}`:(re&&"object"==typeof re&&(re="Object"),`${q}: ${re}`.slice(0,50))}let mi=(()=>{class q extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){this.value=B;const $e=Ss(this._getOptionId(B),B);this.setProperty("value",$e)}registerOnChange(B){this.onChange=de=>{this.value=this._getOptionValue(de),B(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(B){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de),B))return de;return null}_getOptionValue(B){const de=function Un(q){return q.split(":")[0]}(B);return this._optionMap.has(de)?this._optionMap.get(de):B}static{this.\u0275fac=function(){let B;return function($e){return(B||(B=s.xGo(q)))($e||q)}}()}static{this.\u0275dir=s.FsC({type:q,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(de,$e){1&de&&s.bIt("change",function(Zn){return $e.onChange(Zn.target.value)})("blur",function(){return $e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Jv_([ls]),s.Vt3]})}}return q})(),es=(()=>{class q{constructor(B,de,$e){this._element=B,this._renderer=de,this._select=$e,this._select&&(this.id=this._select._registerOption())}set ngValue(B){null!=this._select&&(this._select._optionMap.set(this.id,B),this._setElementValue(Ss(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._setElementValue(B),this._select&&this._select.writeValue(this._select.value)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(mi,9))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})();const ne={provide:ve,useExisting:(0,s.Rfq)(()=>et),multi:!0};function ee(q,re){return null==q?`${re}`:("string"==typeof re&&(re=`'${re}'`),re&&"object"==typeof re&&(re="Object"),`${q}: ${re}`.slice(0,50))}let et=(()=>{class q extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(B){this._compareWith=B}writeValue(B){let de;if(this.value=B,Array.isArray(B)){const $e=B.map(fn=>this._getOptionId(fn));de=(fn,Zn)=>{fn._setSelected($e.indexOf(Zn.toString())>-1)}}else de=($e,fn)=>{$e._setSelected(!1)};this._optionMap.forEach(de)}registerOnChange(B){this.onChange=de=>{const $e=[],fn=de.selectedOptions;if(void 0!==fn){const Zn=fn;for(let Is=0;Is<Zn.length;Is++){const ts=this._getOptionValue(Zn[Is].value);$e.push(ts)}}else{const Zn=de.options;for(let Is=0;Is<Zn.length;Is++){const Xs=Zn[Is];if(Xs.selected){const ts=this._getOptionValue(Xs.value);$e.push(ts)}}}this.value=$e,B($e)}}_registerOption(B){const de=(this._idCounter++).toString();return this._optionMap.set(de,B),de}_getOptionId(B){for(const de of this._optionMap.keys())if(this._compareWith(this._optionMap.get(de)._value,B))return de;return null}_getOptionValue(B){const de=function Re(q){return q.split(":")[0]}(B);return this._optionMap.has(de)?this._optionMap.get(de)._value:B}static{this.\u0275fac=function(){let B;return function($e){return(B||(B=s.xGo(q)))($e||q)}}()}static{this.\u0275dir=s.FsC({type:q,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(de,$e){1&de&&s.bIt("change",function(Zn){return $e.onChange(Zn.target)})("blur",function(){return $e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Jv_([ne]),s.Vt3]})}}return q})(),mt=(()=>{class q{constructor(B,de,$e){this._element=B,this._renderer=de,this._select=$e,this._select&&(this.id=this._select._registerOption(this))}set ngValue(B){null!=this._select&&(this._value=B,this._setElementValue(ee(this.id,B)),this._select.writeValue(this._select.value))}set value(B){this._select?(this._value=B,this._setElementValue(ee(this.id,B)),this._select.writeValue(this._select.value)):this._setElementValue(B)}_setElementValue(B){this._renderer.setProperty(this._element.nativeElement,"value",B)}_setSelected(B){this._renderer.setProperty(this._element.nativeElement,"selected",B)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(de){return new(de||q)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(et,9))}}static{this.\u0275dir=s.FsC({type:q,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return q})(),hn=(()=>{class q{constructor(){this._validator=it}ngOnChanges(B){if(this.inputName in B){const de=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):it,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275dir=s.FsC({type:q,features:[s.OA$]})}}return q})();const Jn={provide:lt,useExisting:(0,s.Rfq)(()=>ri),multi:!0};let ri=(()=>{class q extends hn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.L39,this.createValidator=B=>Mn}enabled(B){return B}static{this.\u0275fac=function(){let B;return function($e){return(B||(B=s.xGo(q)))($e||q)}}()}static{this.\u0275dir=s.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(de,$e){2&de&&s.BMQ("required",$e._enabled?"":null)},inputs:{required:"required"},features:[s.Jv_([Jn]),s.Vt3]})}}return q})(),Za=(()=>{class q{static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275mod=s.$C({type:q})}static{this.\u0275inj=s.G2t({imports:[ni]})}}return q})();class ta extends je{constructor(re,B,de){super(bi(B),G(de,B)),this.controls=re,this._initObservables(),this._setUpdateStrategy(B),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(re){return this.controls[this._adjustIndex(re)]}push(re,B={}){this.controls.push(re),this._registerControl(re),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}insert(re,B,de={}){this.controls.splice(re,0,B),this._registerControl(B),this.updateValueAndValidity({emitEvent:de.emitEvent})}removeAt(re,B={}){let de=this._adjustIndex(re);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),this.updateValueAndValidity({emitEvent:B.emitEvent})}setControl(re,B,de={}){let $e=this._adjustIndex(re);$e<0&&($e=0),this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),this.controls.splice($e,1),B&&(this.controls.splice($e,0,B),this._registerControl(B)),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(re,B={}){Z(this,0,re),re.forEach((de,$e)=>{V(this,!1,$e),this.at($e).setValue(de,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B)}patchValue(re,B={}){null!=re&&(re.forEach((de,$e)=>{this.at($e)&&this.at($e).patchValue(de,{onlySelf:!0,emitEvent:B.emitEvent})}),this.updateValueAndValidity(B))}reset(re=[],B={}){this._forEachChild((de,$e)=>{de.reset(re[$e],{onlySelf:!0,emitEvent:B.emitEvent})}),this._updatePristine(B),this._updateTouched(B),this.updateValueAndValidity(B)}getRawValue(){return this.controls.map(re=>re.getRawValue())}clear(re={}){this.controls.length<1||(this._forEachChild(B=>B._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:re.emitEvent}))}_adjustIndex(re){return re<0?re+this.length:re}_syncPendingControls(){let re=this.controls.reduce((B,de)=>!!de._syncPendingControls()||B,!1);return re&&this.updateValueAndValidity({onlySelf:!0}),re}_forEachChild(re){this.controls.forEach((B,de)=>{re(B,de)})}_updateValue(){this.value=this.controls.filter(re=>re.enabled||this.disabled).map(re=>re.value)}_anyControls(re){return this.controls.some(B=>B.enabled&&re(B))}_setUpControls(){this._forEachChild(re=>this._registerControl(re))}_allControlsDisabled(){for(const re of this.controls)if(re.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(re){re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange)}_find(re){return this.at(re)??null}}function Os(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Do=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const B=new q;return B.useNonNullable=!0,B}group(B,de=null){const $e=this._reduceControls(B);let fn={};return Os(de)?fn=de:null!==de&&(fn.validators=de.validator,fn.asyncValidators=de.asyncValidator),new _t($e,fn)}record(B,de=null){const $e=this._reduceControls(B);return new wn($e,de)}control(B,de,$e){let fn={};return this.useNonNullable?(Os(de)?fn=de:(fn.validators=de,fn.asyncValidators=$e),new Bi(B,{...fn,nonNullable:!0})):new Bi(B,de,$e)}array(B,de,$e){const fn=B.map(Zn=>this._createControl(Zn));return new ta(fn,de,$e)}_reduceControls(B){const de={};return Object.keys(B).forEach($e=>{de[$e]=this._createControl(B[$e])}),de}_createControl(B){return B instanceof Bi||B instanceof je?B:Array.isArray(B)?this.control(B[0],B.length>1?B[1]:null,B.length>2?B[2]:null):this.control(B)}static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275prov=s.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),So=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:ln,useValue:B.callSetDisabledState??$r}]}}static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275mod=s.$C({type:q})}static{this.\u0275inj=s.G2t({imports:[Za]})}}return q})(),$o=(()=>{class q{static withConfig(B){return{ngModule:q,providers:[{provide:ki,useValue:B.warnOnNgModelWithFormControl??"always"},{provide:ln,useValue:B.callSetDisabledState??$r}]}}static{this.\u0275fac=function(de){return new(de||q)}}static{this.\u0275mod=s.$C({type:q})}static{this.\u0275inj=s.G2t({imports:[Za]})}}return q})()},345:(tn,Ye,L)=>{L.d(Ye,{B7:()=>ct,Bb:()=>Pn,W8:()=>Vt,hE:()=>Rr,sG:()=>rn,up:()=>Ri});var s=L(7705),ce=L(177);class r extends ce.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends r{static makeCurrent(){(0,ce.ZD)(new be)}onAndCancel(G,C,M){return G.addEventListener(C,M),()=>{G.removeEventListener(C,M)}}dispatchEvent(G,C){G.dispatchEvent(C)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,C){return(C=C||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,C){return"window"===C?window:"document"===C?G:"body"===C?G.body:null}getBaseHref(G){const C=function Ee(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==C?null:function Te(At){Se=Se||document.createElement("a"),Se.setAttribute("href",At);const G=Se.pathname;return"/"===G.charAt(0)?G:`/${G}`}(C)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ce._b)(document.cookie,G)}}let Se,fe=null,K=(()=>{class At{build(){return new XMLHttpRequest}static{this.\u0275fac=function(M){return new(M||At)}}static{this.\u0275prov=s.jDH({token:At,factory:At.\u0275fac})}}return At})();const ie=new s.nKC("EventManagerPlugins");let pe=(()=>{class At{constructor(C,M){this._zone=M,this._eventNameToPlugin=new Map,C.forEach(V=>{V.manager=this}),this._plugins=C.slice().reverse()}addEventListener(C,M,V){return this._findPluginFor(M).addEventListener(C,M,V)}getZone(){return this._zone}_findPluginFor(C){let M=this._eventNameToPlugin.get(C);if(M)return M;if(M=this._plugins.find(Z=>Z.supports(C)),!M)throw new s.wOt(5101,!1);return this._eventNameToPlugin.set(C,M),M}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(ie),s.KVO(s.SKi))}}static{this.\u0275prov=s.jDH({token:At,factory:At.\u0275fac})}}return At})();class Pe{constructor(G){this._doc=G}}const Be="ng-app-id";let ve=(()=>{class At{constructor(C,M,V,Z={}){this.doc=C,this.appId=M,this.nonce=V,this.platformId=Z,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ce.Vy)(Z),this.resetHostNodes()}addStyles(C){for(const M of C)1===this.changeUsageCount(M,1)&&this.onStyleAdded(M)}removeStyles(C){for(const M of C)this.changeUsageCount(M,-1)<=0&&this.onStyleRemoved(M)}ngOnDestroy(){const C=this.styleNodesInDOM;C&&(C.forEach(M=>M.remove()),C.clear());for(const M of this.getAllStyles())this.onStyleRemoved(M);this.resetHostNodes()}addHost(C){this.hostNodes.add(C);for(const M of this.getAllStyles())this.addStyleToHost(C,M)}removeHost(C){this.hostNodes.delete(C)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(C){for(const M of this.hostNodes)this.addStyleToHost(M,C)}onStyleRemoved(C){const M=this.styleRef;M.get(C)?.elements?.forEach(V=>V.remove()),M.delete(C)}collectServerRenderedStyles(){const C=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(C?.length){const M=new Map;return C.forEach(V=>{null!=V.textContent&&M.set(V.textContent,V)}),M}return null}changeUsageCount(C,M){const V=this.styleRef;if(V.has(C)){const Z=V.get(C);return Z.usage+=M,Z.usage}return V.set(C,{usage:M,elements:[]}),M}getStyleElement(C,M){const V=this.styleNodesInDOM,Z=V?.get(M);if(Z?.parentNode===C)return V.delete(M),Z.removeAttribute(Be),Z;{const je=this.doc.createElement("style");return this.nonce&&je.setAttribute("nonce",this.nonce),je.textContent=M,this.platformIsServer&&je.setAttribute(Be,this.appId),je}}addStyleToHost(C,M){const V=this.getStyleElement(C,M);C.appendChild(V);const Z=this.styleRef,je=Z.get(M)?.elements;je?je.push(V):Z.set(M,{elements:[V],usage:1})}resetHostNodes(){const C=this.hostNodes;C.clear(),C.add(this.doc.head)}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(ce.qQ),s.KVO(s.sZ2),s.KVO(s.BIS,8),s.KVO(s.Agw))}}static{this.\u0275prov=s.jDH({token:At,factory:At.\u0275fac})}}return At})();const qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},we=/%COMP%/g,Ze=new s.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Pt(At,G){return G.map(C=>C.replace(we,At))}let ct=(()=>{class At{constructor(C,M,V,Z,je,_t,Xt,an=null){this.eventManager=C,this.sharedStylesHost=M,this.appId=V,this.removeStylesOnCompDestroy=Z,this.doc=je,this.platformId=_t,this.ngZone=Xt,this.nonce=an,this.rendererByCompId=new Map,this.platformIsServer=(0,ce.Vy)(_t),this.defaultRenderer=new Ie(C,je,Xt,this.platformIsServer)}createRenderer(C,M){if(!C||!M)return this.defaultRenderer;this.platformIsServer&&M.encapsulation===s.gXe.ShadowDom&&(M={...M,encapsulation:s.gXe.Emulated});const V=this.getOrCreateRenderer(C,M);return V instanceof Wt?V.applyToHost(C):V instanceof Lt&&V.applyStyles(),V}getOrCreateRenderer(C,M){const V=this.rendererByCompId;let Z=V.get(M.id);if(!Z){const je=this.doc,_t=this.ngZone,Xt=this.eventManager,an=this.sharedStylesHost,wn=this.removeStylesOnCompDestroy,vr=this.platformIsServer;switch(M.encapsulation){case s.gXe.Emulated:Z=new Wt(Xt,an,M,this.appId,wn,je,_t,vr);break;case s.gXe.ShadowDom:return new Mt(Xt,an,C,M,je,_t,this.nonce,vr);default:Z=new Lt(Xt,an,M,wn,je,_t,vr)}V.set(M.id,Z)}return Z}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(pe),s.KVO(ve),s.KVO(s.sZ2),s.KVO(Ze),s.KVO(ce.qQ),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(s.BIS))}}static{this.\u0275prov=s.jDH({token:At,factory:At.\u0275fac})}}return At})();class Ie{constructor(G,C,M,V){this.eventManager=G,this.doc=C,this.ngZone=M,this.platformIsServer=V,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,C){return C?this.doc.createElementNS(qe[C]||C,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,C){(Mn(G)?G.content:G).appendChild(C)}insertBefore(G,C,M){G&&(Mn(G)?G.content:G).insertBefore(C,M)}removeChild(G,C){G&&G.removeChild(C)}selectRootElement(G,C){let M="string"==typeof G?this.doc.querySelector(G):G;if(!M)throw new s.wOt(-5104,!1);return C||(M.textContent=""),M}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,C,M,V){if(V){C=V+":"+C;const Z=qe[V];Z?G.setAttributeNS(Z,C,M):G.setAttribute(C,M)}else G.setAttribute(C,M)}removeAttribute(G,C,M){if(M){const V=qe[M];V?G.removeAttributeNS(V,C):G.removeAttribute(`${M}:${C}`)}else G.removeAttribute(C)}addClass(G,C){G.classList.add(C)}removeClass(G,C){G.classList.remove(C)}setStyle(G,C,M,V){V&(s.czy.DashCase|s.czy.Important)?G.style.setProperty(C,M,V&s.czy.Important?"important":""):G.style[C]=M}removeStyle(G,C,M){M&s.czy.DashCase?G.style.removeProperty(C):G.style[C]=""}setProperty(G,C,M){G[C]=M}setValue(G,C){G.nodeValue=C}listen(G,C,M){if("string"==typeof G&&!(G=(0,ce.QT)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${C}`);return this.eventManager.addEventListener(G,C,this.decoratePreventDefault(M))}decoratePreventDefault(G){return C=>{if("__ngUnwrap__"===C)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(C)):G(C))&&C.preventDefault()}}}function Mn(At){return"TEMPLATE"===At.tagName&&void 0!==At.content}class Mt extends Ie{constructor(G,C,M,V,Z,je,_t,Xt){super(G,Z,je,Xt),this.sharedStylesHost=C,this.hostEl=M,this.shadowRoot=M.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const an=Pt(V.id,V.styles);for(const wn of an){const vr=document.createElement("style");_t&&vr.setAttribute("nonce",_t),vr.textContent=wn,this.shadowRoot.appendChild(vr)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,C){return super.appendChild(this.nodeOrShadowRoot(G),C)}insertBefore(G,C,M){return super.insertBefore(this.nodeOrShadowRoot(G),C,M)}removeChild(G,C){return super.removeChild(this.nodeOrShadowRoot(G),C)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lt extends Ie{constructor(G,C,M,V,Z,je,_t,Xt){super(G,Z,je,_t),this.sharedStylesHost=C,this.removeStylesOnCompDestroy=V,this.styles=Xt?Pt(Xt,M.styles):M.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wt extends Lt{constructor(G,C,M,V,Z,je,_t,Xt){const an=V+"-"+M.id;super(G,C,M,Z,je,_t,Xt,an),this.contentAttr=function Ke(At){return"_ngcontent-%COMP%".replace(we,At)}(an),this.hostAttr=function lt(At){return"_nghost-%COMP%".replace(we,At)}(an)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,C){const M=super.createElement(G,C);return super.setAttribute(M,this.contentAttr,""),M}}let ht=(()=>{class At extends Pe{constructor(C){super(C)}supports(C){return!0}addEventListener(C,M,V){return C.addEventListener(M,V,!1),()=>this.removeEventListener(C,M,V)}removeEventListener(C,M,V){return C.removeEventListener(M,V)}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:At,factory:At.\u0275fac})}}return At})();const Ve=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rt={alt:At=>At.altKey,control:At=>At.ctrlKey,meta:At=>At.metaKey,shift:At=>At.shiftKey};let Me=(()=>{class At extends Pe{constructor(C){super(C)}supports(C){return null!=At.parseEventName(C)}addEventListener(C,M,V){const Z=At.parseEventName(M),je=At.eventCallback(Z.fullKey,V,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ce.QT)().onAndCancel(C,Z.domEventName,je))}static parseEventName(C){const M=C.toLowerCase().split("."),V=M.shift();if(0===M.length||"keydown"!==V&&"keyup"!==V)return null;const Z=At._normalizeKey(M.pop());let je="",_t=M.indexOf("code");if(_t>-1&&(M.splice(_t,1),je="code."),Ve.forEach(an=>{const wn=M.indexOf(an);wn>-1&&(M.splice(wn,1),je+=an+".")}),je+=Z,0!=M.length||0===Z.length)return null;const Xt={};return Xt.domEventName=V,Xt.fullKey=je,Xt}static matchEventFullKeyCode(C,M){let V=it[C.key]||C.key,Z="";return M.indexOf("code.")>-1&&(V=C.code,Z="code."),!(null==V||!V)&&(V=V.toLowerCase()," "===V?V="space":"."===V&&(V="dot"),Ve.forEach(je=>{je!==V&&(0,rt[je])(C)&&(Z+=je+".")}),Z+=V,Z===M)}static eventCallback(C,M,V){return Z=>{At.matchEventFullKeyCode(Z,C)&&V.runGuarded(()=>M(Z))}}static _normalizeKey(C){return"esc"===C?"escape":C}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:At,factory:At.\u0275fac})}}return At})();const rn=(0,s.oH4)(s.fpN,"browser",[{provide:s.Agw,useValue:ce.AJ},{provide:s.PLl,useValue:function nt(){be.makeCurrent()},multi:!0},{provide:ce.qQ,useFactory:function bn(){return(0,s.TL$)(document),document},deps:[]}]),Fn=new s.nKC(""),Qt=[{provide:s.e01,useClass:class xe{addToWindow(G){s.JZv.getAngularTestability=(M,V=!0)=>{const Z=G.findTestabilityInTree(M,V);if(null==Z)throw new s.wOt(5103,!1);return Z},s.JZv.getAllAngularTestabilities=()=>G.getAllTestabilities(),s.JZv.getAllAngularRootElements=()=>G.getAllRootElements(),s.JZv.frameworkStabilizers||(s.JZv.frameworkStabilizers=[]),s.JZv.frameworkStabilizers.push(M=>{const V=s.JZv.getAllAngularTestabilities();let Z=V.length,je=!1;const _t=function(Xt){je=je||Xt,Z--,0==Z&&M(je)};V.forEach(Xt=>{Xt.whenStable(_t)})})}findTestabilityInTree(G,C,M){return null==C?null:G.getTestability(C)??(M?(0,ce.QT)().isShadowRoot(C)?this.findTestabilityInTree(G,C.host,!0):this.findTestabilityInTree(G,C.parentElement,!0):null)}},deps:[]},{provide:s.WHO,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]},{provide:s.NYb,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]}],jn=[{provide:s.H8p,useValue:"root"},{provide:s.zcH,useFactory:function Ft(){return new s.zcH},deps:[]},{provide:ie,useClass:ht,multi:!0,deps:[ce.qQ,s.SKi,s.Agw]},{provide:ie,useClass:Me,multi:!0,deps:[ce.qQ]},ct,ve,pe,{provide:s._9s,useExisting:ct},{provide:ce.N0,useClass:K,deps:[]},[]];let Pn=(()=>{class At{constructor(C){}static withServerTransition(C){return{ngModule:At,providers:[{provide:s.sZ2,useValue:C.appId}]}}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(Fn,12))}}static{this.\u0275mod=s.$C({type:At})}static{this.\u0275inj=s.G2t({providers:[...jn,...Qt],imports:[ce.MD,s.Hbi]})}}return At})(),Vt=(()=>{class At{constructor(C){this._doc=C,this._dom=(0,ce.QT)()}addTag(C,M=!1){return C?this._getOrCreateElement(C,M):null}addTags(C,M=!1){return C?C.reduce((V,Z)=>(Z&&V.push(this._getOrCreateElement(Z,M)),V),[]):[]}getTag(C){return C&&this._doc.querySelector(`meta[${C}]`)||null}getTags(C){if(!C)return[];const M=this._doc.querySelectorAll(`meta[${C}]`);return M?[].slice.call(M):[]}updateTag(C,M){if(!C)return null;M=M||this._parseSelector(C);const V=this.getTag(M);return V?this._setMetaElementAttributes(C,V):this._getOrCreateElement(C,!0)}removeTag(C){this.removeTagElement(this.getTag(C))}removeTagElement(C){C&&this._dom.remove(C)}_getOrCreateElement(C,M=!1){if(!M){const je=this._parseSelector(C),_t=this.getTags(je).filter(Xt=>this._containsAttributes(C,Xt))[0];if(void 0!==_t)return _t}const V=this._dom.createElement("meta");return this._setMetaElementAttributes(C,V),this._doc.getElementsByTagName("head")[0].appendChild(V),V}_setMetaElementAttributes(C,M){return Object.keys(C).forEach(V=>M.setAttribute(this._getMetaKeyMap(V),C[V])),M}_parseSelector(C){const M=C.name?"name":"property";return`${M}="${C[M]}"`}_containsAttributes(C,M){return Object.keys(C).every(V=>M.getAttribute(this._getMetaKeyMap(V))===C[V])}_getMetaKeyMap(C){return _r[C]||C}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:At,factory:function(M){let V=null;return V=M?new M:function Ht(){return new Vt((0,s.KVO)(ce.qQ))}(),V},providedIn:"root"})}}return At})();const _r={httpEquiv:"http-equiv"};let Rr=(()=>{class At{constructor(C){this._doc=C}getTitle(){return this._doc.title}setTitle(C){this._doc.title=C||""}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:At,factory:function(M){let V=null;return V=M?new M:function sn(){return new Rr((0,s.KVO)(ce.qQ))}(),V},providedIn:"root"})}}return At})();typeof window<"u"&&window;let Ri=(()=>{class At{static{this.\u0275fac=function(M){return new(M||At)}}static{this.\u0275prov=s.jDH({token:At,factory:function(M){let V=null;return V=M?new(M||At):s.KVO(Et),V},providedIn:"root"})}}return At})(),Et=(()=>{class At extends Ri{constructor(C){super(),this._doc=C}sanitize(C,M){if(null==M)return null;switch(C){case s.WPN.NONE:return M;case s.WPN.HTML:return(0,s.ZF7)(M,"HTML")?(0,s.rcV)(M):(0,s.h9k)(this._doc,String(M)).toString();case s.WPN.STYLE:return(0,s.ZF7)(M,"Style")?(0,s.rcV)(M):M;case s.WPN.SCRIPT:if((0,s.ZF7)(M,"Script"))return(0,s.rcV)(M);throw new s.wOt(5200,!1);case s.WPN.URL:return(0,s.ZF7)(M,"URL")?(0,s.rcV)(M):(0,s.$MX)(String(M));case s.WPN.RESOURCE_URL:if((0,s.ZF7)(M,"ResourceURL"))return(0,s.rcV)(M);throw new s.wOt(5201,!1);default:throw new s.wOt(5202,!1)}}bypassSecurityTrustHtml(C){return(0,s.Kcf)(C)}bypassSecurityTrustStyle(C){return(0,s.cWb)(C)}bypassSecurityTrustScript(C){return(0,s.UyX)(C)}bypassSecurityTrustUrl(C){return(0,s.osQ)(C)}bypassSecurityTrustResourceUrl(C){return(0,s.e5t)(C)}static{this.\u0275fac=function(M){return new(M||At)(s.KVO(ce.qQ))}}static{this.\u0275prov=s.jDH({token:At,factory:function(M){let V=null;return V=M?new M:function ot(At){return new Et(At.get(ce.qQ))}(s.KVO(s.zZn)),V},providedIn:"root"})}}return At})()},6814:(tn,Ye,L)=>{L.d(Ye,{nX:()=>cr,Ix:()=>Hi,Wk:()=>Po,wQ:()=>ws,iI:()=>ll,n3:()=>mi});var s=L(7705),ce=L(1985),r=L(8071),fe=L(8455),Ee=L(7673),Se=L(4412),Te=L(3073),xe=L(3669),K=L(6450),ie=L(3794),pe=L(8496),Pe=L(4360),Be=L(5225);function ve(...S){const N=(0,ie.lI)(S),A=(0,ie.ms)(S),{args:F,keys:H}=(0,Te.D)(S);if(0===F.length)return(0,fe.H)([],N);const ue=new ce.c(function qe(S,N,A=xe.D){return F=>{we(N,()=>{const{length:H}=S,ue=new Array(H);let Oe=H,wt=H;for(let yt=0;yt<H;yt++)we(N,()=>{const _n=(0,fe.H)(S[yt],N);let pr=!1;_n.subscribe((0,Pe._)(F,nr=>{ue[yt]=nr,pr||(pr=!0,wt--),wt||F.next(A(ue.slice()))},()=>{--Oe||F.complete()}))},F)},F)}}(F,N,H?Oe=>(0,pe.e)(H,Oe):xe.D));return A?ue.pipe((0,K.I)(A)):ue}function we(S,N,A){S?(0,Be.N)(A,S,N):N()}var bt=L(9350),jt=L(8793),He=L(8750);function Ae(S){return new ce.c(N=>{(0,He.Tg)(S()).subscribe(N)})}var Ze=L(1203),Ke=L(8810),lt=L(983),Pt=L(8359),ct=L(9974);function Ie(){return(0,ct.N)((S,N)=>{let A=null;S._refCount++;const F=(0,Pe._)(N,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(A=null);const H=S._connection,ue=A;A=null,H&&(!ue||H===ue)&&H.unsubscribe(),N.unsubscribe()});S.subscribe(F),F.closed||(A=S.connect())})}class Qe extends ce.c{constructor(N,A){super(),this.source=N,this.subjectFactory=A,this._subject=null,this._refCount=0,this._connection=null,(0,ct.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Pt.yU;const A=this.getSubject();N.add(this.source.subscribe((0,Pe._)(A,void 0,()=>{this._teardown(),A.complete()},F=>{this._teardown(),A.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Pt.yU.EMPTY)}return N}refCount(){return Ie()(this)}}var Yt=L(1413),Mn=L(177),Mt=L(6354),Lt=L(5558),Wt=L(6697),ht=L(9172),Ve=L(5964),it=L(1397),rt=L(1594),Me=L(274),te=L(8141),ye=L(9437),ke=L(2816),st=L(9901);function nt(S){return S<=0?()=>lt.w:(0,ct.N)((N,A)=>{let F=[];N.subscribe((0,Pe._)(A,H=>{F.push(H),S<F.length&&F.shift()},()=>{for(const H of F)A.next(H);A.complete()},void 0,()=>{F=null}))})}var Ft=L(3774),rn=L(980),Fn=L(5343),jn=L(6365),Pn=L(345);const Ht="primary",Vt=Symbol("RouteTitle");class _r{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const A=this.params[N];return Array.isArray(A)?A[0]:A}return null}getAll(N){if(this.has(N)){const A=this.params[N];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function sn(S){return new _r(S)}function Rr(S,N,A){const F=A.path.split("/");if(F.length>S.length||"full"===A.pathMatch&&(N.hasChildren()||F.length<S.length))return null;const H={};for(let ue=0;ue<F.length;ue++){const Oe=F[ue],wt=S[ue];if(Oe.startsWith(":"))H[Oe.substring(1)]=wt;else if(Oe!==wt.path)return null}return{consumed:S.slice(0,F.length),posParams:H}}function Bt(S,N){const A=S?Object.keys(S):void 0,F=N?Object.keys(N):void 0;if(!A||!F||A.length!=F.length)return!1;let H;for(let ue=0;ue<A.length;ue++)if(H=A[ue],!En(S[H],N[H]))return!1;return!0}function En(S,N){if(Array.isArray(S)&&Array.isArray(N)){if(S.length!==N.length)return!1;const A=[...S].sort(),F=[...N].sort();return A.every((H,ue)=>F[ue]===H)}return S===N}function $n(S){return S.length>0?S[S.length-1]:null}function Tn(S){return function be(S){return!!S&&(S instanceof ce.c||(0,r.T)(S.lift)&&(0,r.T)(S.subscribe))}(S)?S:(0,s.jNT)(S)?(0,fe.H)(Promise.resolve(S)):(0,Ee.of)(S)}const Vr={exact:function ui(S,N,A){if(!Et(S.segments,N.segments)||!Qn(S.segments,N.segments,A)||S.numberOfChildren!==N.numberOfChildren)return!1;for(const F in N.children)if(!S.children[F]||!ui(S.children[F],N.children[F],A))return!1;return!0},subset:on},Ar={exact:function Hn(S,N){return Bt(S,N)},subset:function ys(S,N){return Object.keys(N).length<=Object.keys(S).length&&Object.keys(N).every(A=>En(S[A],N[A]))},ignored:()=>!0};function Zr(S,N,A){return Vr[A.paths](S.root,N.root,A.matrixParams)&&Ar[A.queryParams](S.queryParams,N.queryParams)&&!("exact"===A.fragment&&S.fragment!==N.fragment)}function on(S,N,A){return ei(S,N,N.segments,A)}function ei(S,N,A,F){if(S.segments.length>A.length){const H=S.segments.slice(0,A.length);return!(!Et(H,A)||N.hasChildren()||!Qn(H,A,F))}if(S.segments.length===A.length){if(!Et(S.segments,A)||!Qn(S.segments,A,F))return!1;for(const H in N.children)if(!S.children[H]||!on(S.children[H],N.children[H],F))return!1;return!0}{const H=A.slice(0,S.segments.length),ue=A.slice(S.segments.length);return!!(Et(S.segments,H)&&Qn(S.segments,H,F)&&S.children[Ht])&&ei(S.children[Ht],N,ue,F)}}function Qn(S,N,A){return N.every((F,H)=>Ar[A](S[H].parameters,F.parameters))}class br{constructor(N=new Gn([],{}),A={},F=null){this.root=N,this.queryParams=A,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class Gn{constructor(N,A){this.segments=N,this.children=A,this.parent=null,Object.values(A).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ln(this)}}class Ri{constructor(N,A){this.path=N,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return V(this)}}function Et(S,N){return S.length===N.length&&S.every((A,F)=>A.path===N[F].path)}let Fe=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return new It},providedIn:"root"})}}return S})();class It{parse(N){const A=new Us(N);return new br(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(N){const A=`/${Fr(N.root,!0)}`,F=function je(S){const N=Object.keys(S).map(A=>{const F=S[A];return Array.isArray(F)?F.map(H=>`${bi(A)}=${bi(H)}`).join("&"):`${bi(A)}=${bi(F)}`}).filter(A=>!!A);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${A}${F}${"string"==typeof N.fragment?`#${function At(S){return encodeURI(S)}(N.fragment)}`:""}`}}const Kt=new It;function Ln(S){return S.segments.map(N=>V(N)).join("/")}function Fr(S,N){if(!S.hasChildren())return Ln(S);if(N){const A=S.children[Ht]?Fr(S.children[Ht],!1):"",F=[];return Object.entries(S.children).forEach(([H,ue])=>{H!==Ht&&F.push(`${H}:${Fr(ue,!1)}`)}),F.length>0?`${A}(${F.join("//")})`:A}{const A=function he(S,N){let A=[];return Object.entries(S.children).forEach(([F,H])=>{F===Ht&&(A=A.concat(N(H,F)))}),Object.entries(S.children).forEach(([F,H])=>{F!==Ht&&(A=A.concat(N(H,F)))}),A}(S,(F,H)=>H===Ht?[Fr(S.children[Ht],!1)]:[`${H}:${Fr(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Ht]?`${Ln(S)}/${A[0]}`:`${Ln(S)}/(${A.join("//")})`}}function Tr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bi(S){return Tr(S).replace(/%3B/gi,";")}function G(S){return Tr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function C(S){return decodeURIComponent(S)}function M(S){return C(S.replace(/\+/g,"%20"))}function V(S){return`${G(S.path)}${function Z(S){return Object.keys(S).map(N=>`;${G(N)}=${G(S[N])}`).join("")}(S.parameters)}`}const _t=/^[^\/()?;#]+/;function Xt(S){const N=S.match(_t);return N?N[0]:""}const an=/^[^\/()?;=#]+/,vr=/^[^=?&#]+/,$r=/^[^&#]+/;class Us{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(N.length>0||Object.keys(A).length>0)&&(F[Ht]=new Gn(N,A)),F}parseSegment(){const N=Xt(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(N),new Ri(C(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const A=function wn(S){const N=S.match(an);return N?N[0]:""}(this.remaining);if(!A)return;this.capture(A);let F="";if(this.consumeOptional("=")){const H=Xt(this.remaining);H&&(F=H,this.capture(F))}N[C(A)]=C(F)}parseQueryParam(N){const A=function ln(S){const N=S.match(vr);return N?N[0]:""}(this.remaining);if(!A)return;this.capture(A);let F="";if(this.consumeOptional("=")){const Oe=function ir(S){const N=S.match($r);return N?N[0]:""}(this.remaining);Oe&&(F=Oe,this.capture(F))}const H=M(A),ue=M(F);if(N.hasOwnProperty(H)){let Oe=N[H];Array.isArray(Oe)||(Oe=[Oe],N[H]=Oe),Oe.push(ue)}else N[H]=ue}parseParens(N){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Xt(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new s.wOt(4010,!1);let ue;F.indexOf(":")>-1?(ue=F.slice(0,F.indexOf(":")),this.capture(ue),this.capture(":")):N&&(ue=Ht);const Oe=this.parseChildren();A[ue]=1===Object.keys(Oe).length?Oe[Ht]:new Gn([],Oe),this.consumeOptional("//")}return A}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new s.wOt(4011,!1)}}function Fi(S){return S.segments.length>0?new Gn([],{[Ht]:S}):S}function vs(S){const N={};for(const F of Object.keys(S.children)){const ue=vs(S.children[F]);if(F===Ht&&0===ue.segments.length&&ue.hasChildren())for(const[Oe,wt]of Object.entries(ue.children))N[Oe]=wt;else(ue.segments.length>0||ue.hasChildren())&&(N[F]=ue)}return function Es(S){if(1===S.numberOfChildren&&S.children[Ht]){const N=S.children[Ht];return new Gn(S.segments.concat(N.segments),N.children)}return S}(new Gn(S.segments,N))}function pi(S){return S instanceof br}function xs(S){let N;const H=Fi(function A(ue){const Oe={};for(const yt of ue.children){const _n=A(yt);Oe[yt.outlet]=_n}const wt=new Gn(ue.url,Oe);return ue===S&&(N=wt),wt}(S.root));return N??H}function Dt(S,N,A,F){let H=S;for(;H.parent;)H=H.parent;if(0===N.length)return cn(H,H,H,A,F);const ue=function ur(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new On(!0,0,S);let N=0,A=!1;const F=S.reduce((H,ue,Oe)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const wt={};return Object.entries(ue.outlets).forEach(([yt,_n])=>{wt[yt]="string"==typeof _n?_n.split("/"):_n}),[...H,{outlets:wt}]}if(ue.segmentPath)return[...H,ue.segmentPath]}return"string"!=typeof ue?[...H,ue]:0===Oe?(ue.split("/").forEach((wt,yt)=>{0==yt&&"."===wt||(0==yt&&""===wt?A=!0:".."===wt?N++:""!=wt&&H.push(wt))}),H):[...H,ue]},[]);return new On(A,N,F)}(N);if(ue.toRoot())return cn(H,H,new Gn([],{}),A,F);const Oe=function zr(S,N,A){if(S.isAbsolute)return new Ur(N,!0,0);if(!A)return new Ur(N,!1,NaN);if(null===A.parent)return new Ur(A,!0,0);const F=at(S.commands[0])?0:1;return function dr(S,N,A){let F=S,H=N,ue=A;for(;ue>H;){if(ue-=H,F=F.parent,!F)throw new s.wOt(4005,!1);H=F.segments.length}return new Ur(F,!1,H-ue)}(A,A.segments.length-1+F,S.numberOfDoubleDots)}(ue,H,S),wt=Oe.processChildren?is(Oe.segmentGroup,Oe.index,ue.commands):Ms(Oe.segmentGroup,Oe.index,ue.commands);return cn(H,Oe.segmentGroup,wt,A,F)}function at(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function xt(S){return"object"==typeof S&&null!=S&&S.outlets}function cn(S,N,A,F,H){let Oe,ue={};F&&Object.entries(F).forEach(([yt,_n])=>{ue[yt]=Array.isArray(_n)?_n.map(pr=>`${pr}`):`${_n}`}),Oe=S===N?A:Vn(S,N,A);const wt=Fi(vs(Oe));return new br(wt,ue,H)}function Vn(S,N,A){const F={};return Object.entries(S.children).forEach(([H,ue])=>{F[H]=ue===N?A:Vn(ue,N,A)}),new Gn(S.segments,F)}class On{constructor(N,A,F){if(this.isAbsolute=N,this.numberOfDoubleDots=A,this.commands=F,N&&F.length>0&&at(F[0]))throw new s.wOt(4003,!1);const H=F.find(xt);if(H&&H!==$n(F))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(N,A,F){this.segmentGroup=N,this.processChildren=A,this.index=F}}function Ms(S,N,A){if(S||(S=new Gn([],{})),0===S.segments.length&&S.hasChildren())return is(S,N,A);const F=function Co(S,N,A){let F=0,H=N;const ue={match:!1,pathIndex:0,commandIndex:0};for(;H<S.segments.length;){if(F>=A.length)return ue;const Oe=S.segments[H],wt=A[F];if(xt(wt))break;const yt=`${wt}`,_n=F<A.length-1?A[F+1]:null;if(H>0&&void 0===yt)break;if(yt&&_n&&"object"==typeof _n&&void 0===_n.outlets){if(!oi(yt,_n,Oe))return ue;F+=2}else{if(!oi(yt,{},Oe))return ue;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(S,N,A),H=A.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const ue=new Gn(S.segments.slice(0,F.pathIndex),{});return ue.children[Ht]=new Gn(S.segments.slice(F.pathIndex),S.children),is(ue,0,H)}return F.match&&0===H.length?new Gn(S.segments,{}):F.match&&!S.hasChildren()?wo(S,N,A):F.match?is(S,0,H):wo(S,N,A)}function is(S,N,A){if(0===A.length)return new Gn(S.segments,{});{const F=function Ji(S){return xt(S[0])?S[0].outlets:{[Ht]:S}}(A),H={};if(Object.keys(F).some(ue=>ue!==Ht)&&S.children[Ht]&&1===S.numberOfChildren&&0===S.children[Ht].segments.length){const ue=is(S.children[Ht],N,A);return new Gn(S.segments,ue.children)}return Object.entries(F).forEach(([ue,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(H[ue]=Ms(S.children[ue],N,Oe))}),Object.entries(S.children).forEach(([ue,Oe])=>{void 0===F[ue]&&(H[ue]=Oe)}),new Gn(S.segments,H)}}function wo(S,N,A){const F=S.segments.slice(0,N);let H=0;for(;H<A.length;){const ue=A[H];if(xt(ue)){const yt=ji(ue.outlets);return new Gn(F,yt)}if(0===H&&at(A[0])){F.push(new Ri(S.segments[N].path,jo(A[0]))),H++;continue}const Oe=xt(ue)?ue.outlets[Ht]:`${ue}`,wt=H<A.length-1?A[H+1]:null;Oe&&wt&&at(wt)?(F.push(new Ri(Oe,jo(wt))),H+=2):(F.push(new Ri(Oe,{})),H++)}return new Gn(F,{})}function ji(S){const N={};return Object.entries(S).forEach(([A,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(N[A]=wo(new Gn([],{}),0,F))}),N}function jo(S){const N={};return Object.entries(S).forEach(([A,F])=>N[A]=`${F}`),N}function oi(S,N,A){return S==A.path&&Bt(N,A.parameters)}const ss="imperative";class bs{constructor(N,A){this.id=N,this.url=A}}class Wr extends bs{constructor(N,A,F="imperative",H=null){super(N,A),this.type=0,this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends bs{constructor(N,A,F){super(N,A),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends bs{constructor(N,A,F,H){super(N,A),this.reason=F,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cr extends bs{constructor(N,A,F,H){super(N,A),this.reason=F,this.code=H,this.type=16}}class ao extends bs{constructor(N,A,F,H){super(N,A),this.error=F,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ao extends bs{constructor(N,A,F,H){super(N,A),this.urlAfterRedirects=F,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends bs{constructor(N,A,F,H){super(N,A),this.urlAfterRedirects=F,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Na extends bs{constructor(N,A,F,H,ue){super(N,A),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=ue,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ja extends bs{constructor(N,A,F,H){super(N,A),this.urlAfterRedirects=F,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends bs{constructor(N,A,F,H){super(N,A),this.urlAfterRedirects=F,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ma{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ks{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ti{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(N,A,F){this.routerEvent=N,this.position=A,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qn{}class Kr{constructor(N){this.url=N}}class Wi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jr,this.attachRef=null}}let jr=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(A,F){const H=this.getOrCreateContext(A);H.outlet=F,this.contexts.set(A,H)}onChildOutletDestroyed(A){const F=this.getContext(A);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let F=this.getContext(A);return F||(F=new Wi,this.contexts.set(A,F)),F}getContext(A){return this.contexts.get(A)||null}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();class os{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const A=this.pathFromRoot(N);return A.length>1?A[A.length-2]:null}children(N){const A=qs(N,this._root);return A?A.children.map(F=>F.value):[]}firstChild(N){const A=qs(N,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(N){const A=ki(N,this._root);return A.length<2?[]:A[A.length-2].children.map(H=>H.value).filter(H=>H!==N)}pathFromRoot(N){return ki(N,this._root).map(A=>A.value)}}function qs(S,N){if(S===N.value)return N;for(const A of N.children){const F=qs(S,A);if(F)return F}return null}function ki(S,N){if(S===N.value)return[N];for(const A of N.children){const F=ki(S,A);if(F.length)return F.unshift(N),F}return[]}class Ts{constructor(N,A){this.value=N,this.children=A}toString(){return`TreeNode(${this.value})`}}function Ds(S){const N={};return S&&S.children.forEach(A=>N[A.value.outlet]=A),N}class Gr extends os{constructor(N,A){super(N),this.snapshot=A,qr(this,N)}toString(){return this.snapshot.toString()}}function pn(S,N){const A=function tr(S,N){const Oe=new Li([],{},{},"",{},Ht,N,null,{});return new Bs("",new Ts(Oe,[]))}(0,N),F=new Se.t([new Ri("",{})]),H=new Se.t({}),ue=new Se.t({}),Oe=new Se.t({}),wt=new Se.t(""),yt=new cr(F,H,Oe,wt,ue,Ht,N,A.root);return yt.snapshot=A.root,new Gr(new Ts(yt,[]),A)}class cr{constructor(N,A,F,H,ue,Oe,wt,yt){this.urlSubject=N,this.paramsSubject=A,this.queryParamsSubject=F,this.fragmentSubject=H,this.dataSubject=ue,this.outlet=Oe,this.component=wt,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,Mt.T)(_n=>_n[Vt]))??(0,Ee.of)(void 0),this.url=N,this.params=A,this.queryParams=F,this.fragment=H,this.data=ue}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.T)(N=>sn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.T)(N=>sn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zi(S,N="emptyOnly"){const A=S.pathFromRoot;let F=0;if("always"!==N)for(F=A.length-1;F>=1;){const H=A[F],ue=A[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(ue.component)break;F--}}return function as(S){return S.reduce((N,A)=>({params:{...N.params,...A.params},data:{...N.data,...A.data},resolve:{...A.data,...N.resolve,...A.routeConfig?.data,...A._resolvedData}}),{params:{},data:{},resolve:{}})}(A.slice(F))}class Li{get title(){return this.data?.[Vt]}constructor(N,A,F,H,ue,Oe,wt,yt,_n){this.url=N,this.params=A,this.queryParams=F,this.fragment=H,this.data=ue,this.outlet=Oe,this.component=wt,this.routeConfig=yt,this._resolve=_n}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bs extends os{constructor(N,A){super(A),this.url=N,qr(this,A)}toString(){return ls(this._root)}}function qr(S,N){N.value._routerState=S,N.children.forEach(A=>qr(S,A))}function ls(S){const N=S.children.length>0?` { ${S.children.map(ls).join(", ")} } `:"";return`${S.value}${N}`}function Ss(S){if(S.snapshot){const N=S.snapshot,A=S._futureSnapshot;S.snapshot=A,Bt(N.queryParams,A.queryParams)||S.queryParamsSubject.next(A.queryParams),N.fragment!==A.fragment&&S.fragmentSubject.next(A.fragment),Bt(N.params,A.params)||S.paramsSubject.next(A.params),function Yn(S,N){if(S.length!==N.length)return!1;for(let A=0;A<S.length;++A)if(!Bt(S[A],N[A]))return!1;return!0}(N.url,A.url)||S.urlSubject.next(A.url),Bt(N.data,A.data)||S.dataSubject.next(A.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function Un(S,N){const A=Bt(S.params,N.params)&&function ot(S,N){return Et(S,N)&&S.every((A,F)=>Bt(A.parameters,N[F].parameters))}(S.url,N.url);return A&&!(!S.parent!=!N.parent)&&(!S.parent||Un(S.parent,N.parent))}let mi=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(jr),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(ne,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:F,previousValue:H}=A.name;if(F)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){return this.parentContexts.getContext(A)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);A?.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,F){this.activated=A,this._activatedRoute=F,this.location.insert(A.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,F){if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=A;const H=this.location,Oe=A.snapshot.component,wt=this.parentContexts.getOrCreateContext(this.name).children,yt=new es(A,wt,H.injector);this.activated=H.createComponent(Oe,{index:H.length,injector:yt,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275dir=s.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]})}}return S})();class es{constructor(N,A,F){this.route=N,this.childContexts=A,this.parent=F}get(N,A){return N===cr?this.route:N===jr?this.childContexts:this.parent.get(N,A)}}const ne=new s.nKC("");let ee=(()=>{class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){this.outletDataSubscriptions.get(A)?.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:F}=A,H=ve([F.queryParams,F.params,F.data]).pipe((0,Lt.n)(([ue,Oe,wt],yt)=>(wt={...ue,...Oe,...wt},0===yt?(0,Ee.of)(wt):Promise.resolve(wt)))).subscribe(ue=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(A);const Oe=(0,s.HJs)(F.component);if(Oe)for(const{templateName:wt}of Oe.inputs)A.activatedComponentRef.setInput(wt,ue[wt]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,H)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac})}}return S})();function Le(S,N,A){if(A&&S.shouldReuseRoute(N.value,A.value.snapshot)){const F=A.value;F._futureSnapshot=N.value;const H=function et(S,N,A){return N.children.map(F=>{for(const H of A.children)if(S.shouldReuseRoute(F.value,H.value.snapshot))return Le(S,F,H);return Le(S,F)})}(S,N,A);return new Ts(F,H)}{if(S.shouldAttach(N.value)){const ue=S.retrieve(N.value);if(null!==ue){const Oe=ue.route;return Oe.value._futureSnapshot=N.value,Oe.children=N.children.map(wt=>Le(S,wt)),Oe}}const F=function mt(S){return new cr(new Se.t(S.url),new Se.t(S.params),new Se.t(S.queryParams),new Se.t(S.fragment),new Se.t(S.data),S.outlet,S.component,S)}(N.value),H=N.children.map(ue=>Le(S,ue));return new Ts(F,H)}}const qt="ngNavigationCancelingError";function In(S,N){const{redirectTo:A,navigationBehaviorOptions:F}=pi(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,H=hn(!1,0,N);return H.url=A,H.navigationBehaviorOptions=F,H}function hn(S,N,A){const F=new Error("NavigationCancelingError: "+(S||""));return F[qt]=!0,F.cancellationCode=N,A&&(F.url=A),F}function wr(S){return S&&S[qt]}let An=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275cmp=s.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(F,H){1&F&&s.nrm(0,"router-outlet")},dependencies:[mi],encapsulation:2})}}return S})();function wi(S){const N=S.children&&S.children.map(wi),A=N?{...S,children:N}:{...S};return!A.component&&!A.loadComponent&&(N||A.loadChildren)&&A.outlet&&A.outlet!==Ht&&(A.component=An),A}function Pr(S){return S.outlet||Ht}function cs(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let N=S.parent;N;N=N.parent){const A=N.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class ea{constructor(N,A,F,H,ue){this.routeReuseStrategy=N,this.futureState=A,this.currState=F,this.forwardEvent=H,this.inputBindingEnabled=ue}activate(N){const A=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,F,N),Ss(this.futureState.root),this.activateChildRoutes(A,F,N)}deactivateChildRoutes(N,A,F){const H=Ds(A);N.children.forEach(ue=>{const Oe=ue.value.outlet;this.deactivateRoutes(ue,H[Oe],F),delete H[Oe]}),Object.values(H).forEach(ue=>{this.deactivateRouteAndItsChildren(ue,F)})}deactivateRoutes(N,A,F){const H=N.value,ue=A?A.value:null;if(H===ue)if(H.component){const Oe=F.getContext(H.outlet);Oe&&this.deactivateChildRoutes(N,A,Oe.children)}else this.deactivateChildRoutes(N,A,F);else ue&&this.deactivateRouteAndItsChildren(A,F)}deactivateRouteAndItsChildren(N,A){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,A):this.deactivateRouteAndOutlet(N,A)}detachAndStoreRouteSubtree(N,A){const F=A.getContext(N.value.outlet),H=F&&N.value.component?F.children:A,ue=Ds(N);for(const Oe of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Oe],H);if(F&&F.outlet){const Oe=F.outlet.detach(),wt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Oe,route:N,contexts:wt})}}deactivateRouteAndOutlet(N,A){const F=A.getContext(N.value.outlet),H=F&&N.value.component?F.children:A,ue=Ds(N);for(const Oe of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Oe],H);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(N,A,F){const H=Ds(A);N.children.forEach(ue=>{this.activateRoutes(ue,H[ue.value.outlet],F),this.forwardEvent(new $i(ue.value.snapshot))}),N.children.length&&this.forwardEvent(new js(N.value.snapshot))}activateRoutes(N,A,F){const H=N.value,ue=A?A.value:null;if(Ss(H),H===ue)if(H.component){const Oe=F.getOrCreateContext(H.outlet);this.activateChildRoutes(N,A,Oe.children)}else this.activateChildRoutes(N,A,F);else if(H.component){const Oe=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const wt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Oe.children.onOutletReAttached(wt.contexts),Oe.attachRef=wt.componentRef,Oe.route=wt.route.value,Oe.outlet&&Oe.outlet.attach(wt.componentRef,wt.route.value),Ss(wt.route.value),this.activateChildRoutes(N,null,Oe.children)}else{const wt=cs(H.snapshot);Oe.attachRef=null,Oe.route=H,Oe.injector=wt,Oe.outlet&&Oe.outlet.activateWith(H,Oe.injector),this.activateChildRoutes(N,null,Oe.children)}}else this.activateChildRoutes(N,null,F)}}class Za{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class ta{constructor(N,A){this.component=N,this.route=A}}function Zl(S,N,A){const F=S._root;return Do(F,N?N._root:null,A,[F.value])}function Os(S,N){const A=Symbol(),F=N.get(S,A);return F===A?"function"!=typeof S||(0,s.LfX)(S)?N.get(S):S:F}function Do(S,N,A,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ue=Ds(N);return S.children.forEach(Oe=>{(function Fa(S,N,A,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const ue=S.value,Oe=N?N.value:null,wt=A?A.getContext(S.value.outlet):null;if(Oe&&ue.routeConfig===Oe.routeConfig){const yt=function ka(S,N,A){if("function"==typeof A)return A(S,N);switch(A){case"pathParamsChange":return!Et(S.url,N.url);case"pathParamsOrQueryParamsChange":return!Et(S.url,N.url)||!Bt(S.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(S,N)||!Bt(S.queryParams,N.queryParams);default:return!Un(S,N)}}(Oe,ue,ue.routeConfig.runGuardsAndResolvers);yt?H.canActivateChecks.push(new Za(F)):(ue.data=Oe.data,ue._resolvedData=Oe._resolvedData),Do(S,N,ue.component?wt?wt.children:null:A,F,H),yt&&wt&&wt.outlet&&wt.outlet.isActivated&&H.canDeactivateChecks.push(new ta(wt.outlet.component,Oe))}else Oe&&_i(N,wt,H),H.canActivateChecks.push(new Za(F)),Do(S,null,ue.component?wt?wt.children:null:A,F,H)})(Oe,ue[Oe.value.outlet],A,F.concat([Oe.value]),H),delete ue[Oe.value.outlet]}),Object.entries(ue).forEach(([Oe,wt])=>_i(wt,A.getContext(Oe),H)),H}function _i(S,N,A){const F=Ds(S),H=S.value;Object.entries(F).forEach(([ue,Oe])=>{_i(Oe,H.component?N?N.children.getContext(ue):null:N,A)}),A.canDeactivateChecks.push(new ta(H.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,H))}function So(S){return"function"==typeof S}function Is(S){return S instanceof bt.G||"EmptyError"===S?.name}const Xs=Symbol("INITIAL_VALUE");function ts(){return(0,Lt.n)(S=>ve(S.map(N=>N.pipe((0,Wt.s)(1),(0,ht.Z)(Xs)))).pipe((0,Mt.T)(N=>{for(const A of N)if(!0!==A){if(A===Xs)return Xs;if(!1===A||A instanceof br)return A}return!0}),(0,Ve.p)(N=>N!==Xs),(0,Wt.s)(1)))}function ms(S){return(0,Ze.F)((0,te.M)(N=>{if(pi(N))throw In(0,N)}),(0,Mt.T)(N=>!0===N))}class co{constructor(N){this.segmentGroup=N||null}}class ra{constructor(N){this.urlTree=N}}function Cs(S){return(0,Ke.$)(new co(S))}function ya(S){return(0,Ke.$)(new ra(S))}class Eu{constructor(N,A){this.urlSerializer=N,this.urlTree=A}noMatchError(N){return new s.wOt(4002,!1)}lineralizeSegments(N,A){let F=[],H=A.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,Ee.of)(F);if(H.numberOfChildren>1||!H.children[Ht])return(0,Ke.$)(new s.wOt(4e3,!1));H=H.children[Ht]}}applyRedirectCommands(N,A,F){return this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),N,F)}applyRedirectCreateUrlTree(N,A,F,H){const ue=this.createSegmentGroup(N,A.root,F,H);return new br(ue,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(N,A){const F={};return Object.entries(N).forEach(([H,ue])=>{if("string"==typeof ue&&ue.startsWith(":")){const wt=ue.substring(1);F[H]=A[wt]}else F[H]=ue}),F}createSegmentGroup(N,A,F,H){const ue=this.createSegments(N,A.segments,F,H);let Oe={};return Object.entries(A.children).forEach(([wt,yt])=>{Oe[wt]=this.createSegmentGroup(N,yt,F,H)}),new Gn(ue,Oe)}createSegments(N,A,F,H){return A.map(ue=>ue.path.startsWith(":")?this.findPosParam(N,ue,H):this.findOrReturn(ue,F))}findPosParam(N,A,F){const H=F[A.path.substring(1)];if(!H)throw new s.wOt(4001,!1);return H}findOrReturn(N,A){let F=0;for(const H of A){if(H.path===N.path)return A.splice(F),H;F++}return N}}const hr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cl(S,N,A,F,H){const ue=go(S,N,A);return ue.matched?(F=function Nn(S,N){return S.providers&&!S._injector&&(S._injector=(0,s.Ol2)(S.providers,N,`Route: ${S.path}`)),S._injector??N}(N,F),function el(S,N,A,F){const H=N.canMatch;if(!H||0===H.length)return(0,Ee.of)(!0);const ue=H.map(Oe=>{const wt=Os(Oe,S);return Tn(function $e(S){return S&&So(S.canMatch)}(wt)?wt.canMatch(N,A):S.runInContext(()=>wt(N,A)))});return(0,Ee.of)(ue).pipe(ts(),ms())}(F,N,A).pipe((0,Mt.T)(Oe=>!0===Oe?ue:{...hr}))):(0,Ee.of)(ue)}function go(S,N,A){if(""===N.path)return"full"===N.pathMatch&&(S.hasChildren()||A.length>0)?{...hr}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const H=(N.matcher||Rr)(A,S,N);if(!H)return{...hr};const ue={};Object.entries(H.posParams??{}).forEach(([wt,yt])=>{ue[wt]=yt.path});const Oe=H.consumed.length>0?{...ue,...H.consumed[H.consumed.length-1].parameters}:ue;return{matched:!0,consumedSegments:H.consumed,remainingSegments:A.slice(H.consumed.length),parameters:Oe,positionalParamSegments:H.posParams??{}}}function mo(S,N,A,F){return A.length>0&&function nl(S,N,A){return A.some(F=>rl(S,N,F)&&Pr(F)!==Ht)}(S,A,F)?{segmentGroup:new Gn(N,bu(F,new Gn(A,S.children))),slicedSegments:[]}:0===A.length&&function Nh(S,N,A){return A.some(F=>rl(S,N,F))}(S,A,F)?{segmentGroup:new Gn(S.segments,tl(S,0,A,F,S.children)),slicedSegments:A}:{segmentGroup:new Gn(S.segments,S.children),slicedSegments:A}}function tl(S,N,A,F,H){const ue={};for(const Oe of F)if(rl(S,A,Oe)&&!H[Pr(Oe)]){const wt=new Gn([],{});ue[Pr(Oe)]=wt}return{...H,...ue}}function bu(S,N){const A={};A[Ht]=N;for(const F of S)if(""===F.path&&Pr(F)!==Ht){const H=new Gn([],{});A[Pr(F)]=H}return A}function rl(S,N,A){return(!(S.hasChildren()||N.length>0)||"full"!==A.pathMatch)&&""===A.path}class tc{constructor(N,A,F,H,ue,Oe,wt){this.injector=N,this.configLoader=A,this.rootComponentType=F,this.config=H,this.urlTree=ue,this.paramsInheritanceStrategy=Oe,this.urlSerializer=wt,this.allowRedirects=!0,this.applyRedirects=new Eu(this.urlSerializer,this.urlTree)}noMatchError(N){return new s.wOt(4002,!1)}recognize(){const N=mo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Ht).pipe((0,ye.W)(A=>{if(A instanceof ra)return this.allowRedirects=!1,this.urlTree=A.urlTree,this.match(A.urlTree);throw A instanceof co?this.noMatchError(A):A}),(0,Mt.T)(A=>{const F=new Li([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),H=new Ts(F,A),ue=new Bs("",H),Oe=function sr(S,N,A=null,F=null){return Dt(xs(S),N,A,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Oe.queryParams=this.urlTree.queryParams,ue.url=this.urlSerializer.serialize(Oe),this.inheritParamsAndData(ue._root),{state:ue,tree:Oe}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Ht).pipe((0,ye.W)(F=>{throw F instanceof co?this.noMatchError(F):F}))}inheritParamsAndData(N){const A=N.value,F=Zi(A,this.paramsInheritanceStrategy);A.params=Object.freeze(F.params),A.data=Object.freeze(F.data),N.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(N,A,F,H){return 0===F.segments.length&&F.hasChildren()?this.processChildren(N,A,F):this.processSegment(N,A,F,F.segments,H,!0)}processChildren(N,A,F){const H=[];for(const ue of Object.keys(F.children))"primary"===ue?H.unshift(ue):H.push(ue);return(0,fe.H)(H).pipe((0,Me.H)(ue=>{const Oe=F.children[ue],wt=function Bo(S,N){const A=S.filter(F=>Pr(F)===N);return A.push(...S.filter(F=>Pr(F)!==N)),A}(A,ue);return this.processSegmentGroup(N,wt,Oe,ue)}),(0,ke.S)((ue,Oe)=>(ue.push(...Oe),ue)),(0,st.U)(null),function bn(S,N){const A=arguments.length>=2;return F=>F.pipe(S?(0,Ve.p)((H,ue)=>S(H,ue,F)):xe.D,nt(1),A?(0,st.U)(N):(0,Ft.v)(()=>new bt.G))}(),(0,it.Z)(ue=>{if(null===ue)return Cs(F);const Oe=Ua(ue);return function Va(S){S.sort((N,A)=>N.value.outlet===Ht?-1:A.value.outlet===Ht?1:N.value.outlet.localeCompare(A.value.outlet))}(Oe),(0,Ee.of)(Oe)}))}processSegment(N,A,F,H,ue,Oe){return(0,fe.H)(A).pipe((0,Me.H)(wt=>this.processSegmentAgainstRoute(wt._injector??N,A,wt,F,H,ue,Oe).pipe((0,ye.W)(yt=>{if(yt instanceof co)return(0,Ee.of)(null);throw yt}))),(0,rt.$)(wt=>!!wt),(0,ye.W)(wt=>{if(Is(wt))return function wl(S,N,A){return 0===N.length&&!S.children[A]}(F,H,ue)?(0,Ee.of)([]):Cs(F);throw wt}))}processSegmentAgainstRoute(N,A,F,H,ue,Oe,wt){return function Tu(S,N,A,F){return!!(Pr(S)===F||F!==Ht&&rl(N,A,S))&&("**"===S.path||go(N,S,A).matched)}(F,H,ue,Oe)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(N,H,F,ue,Oe,wt):wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,H,A,F,ue,Oe):Cs(H):Cs(H)}expandSegmentAgainstRouteUsingRedirect(N,A,F,H,ue,Oe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,F,H,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(N,A,F,H,ue,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,A,F,H){const ue=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?ya(ue):this.applyRedirects.lineralizeSegments(F,ue).pipe((0,it.Z)(Oe=>{const wt=new Gn(Oe,{});return this.processSegment(N,A,wt,Oe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,A,F,H,ue,Oe){const{matched:wt,consumedSegments:yt,remainingSegments:_n,positionalParamSegments:pr}=go(A,H,ue);if(!wt)return Cs(A);const nr=this.applyRedirects.applyRedirectCommands(yt,H.redirectTo,pr);return H.redirectTo.startsWith("/")?ya(nr):this.applyRedirects.lineralizeSegments(H,nr).pipe((0,it.Z)(xr=>this.processSegment(N,F,A,xr.concat(_n),Oe,!1)))}matchSegmentAgainstRoute(N,A,F,H,ue,Oe){let wt;if("**"===F.path){const yt=H.length>0?$n(H).parameters:{},_n=new Li(H,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sl(F),Pr(F),F.component??F._loadedComponent??null,F,x(F));wt=(0,Ee.of)({snapshot:_n,consumedSegments:[],remainingSegments:[]}),A.children={}}else wt=Cl(A,F,H,N).pipe((0,Mt.T)(({matched:yt,consumedSegments:_n,remainingSegments:pr,parameters:nr})=>yt?{snapshot:new Li(_n,nr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sl(F),Pr(F),F.component??F._loadedComponent??null,F,x(F)),consumedSegments:_n,remainingSegments:pr}:null));return wt.pipe((0,Lt.n)(yt=>null===yt?Cs(A):this.getChildConfig(N=F._injector??N,F,H).pipe((0,Lt.n)(({routes:_n})=>{const pr=F._loadedInjector??N,{snapshot:nr,consumedSegments:xr,remainingSegments:hi}=yt,{segmentGroup:fl,slicedSegments:Dl}=mo(A,xr,hi,_n);if(0===Dl.length&&fl.hasChildren())return this.processChildren(pr,_n,fl).pipe((0,Mt.T)(Wo=>null===Wo?null:[new Ts(nr,Wo)]));if(0===_n.length&&0===Dl.length)return(0,Ee.of)([new Ts(nr,[])]);const Ta=Pr(F)===ue;return this.processSegment(pr,_n,fl,Dl,Ta?Ht:ue,!0).pipe((0,Mt.T)(Wo=>[new Ts(nr,Wo)]))}))))}getChildConfig(N,A,F){return A.children?(0,Ee.of)({routes:A.children,injector:N}):A.loadChildren?void 0!==A._loadedRoutes?(0,Ee.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function na(S,N,A,F){const H=N.canLoad;if(void 0===H||0===H.length)return(0,Ee.of)(!0);const ue=H.map(Oe=>{const wt=Os(Oe,S);return Tn(function q(S){return S&&So(S.canLoad)}(wt)?wt.canLoad(N,A):S.runInContext(()=>wt(N,A)))});return(0,Ee.of)(ue).pipe(ts(),ms())}(N,A,F).pipe((0,it.Z)(H=>H?this.configLoader.loadChildren(N,A).pipe((0,te.M)(ue=>{A._loadedRoutes=ue.routes,A._loadedInjector=ue.injector})):function Il(S){return(0,Ke.$)(hn(!1,3))}())):(0,Ee.of)({routes:[],injector:N})}}function il(S){const N=S.value.routeConfig;return N&&""===N.path}function Ua(S){const N=[],A=new Set;for(const F of S){if(!il(F)){N.push(F);continue}const H=N.find(ue=>F.value.routeConfig===ue.value.routeConfig);void 0!==H?(H.children.push(...F.children),A.add(H)):N.push(F)}for(const F of A){const H=Ua(F.children);N.push(new Ts(F.value,H))}return N.filter(F=>!A.has(F))}function sl(S){return S.data||{}}function x(S){return S.resolve||{}}function kn(S){return"string"==typeof S.title||null===S.title}function Hr(S){return(0,Lt.n)(N=>{const A=S(N);return A?(0,fe.H)(A).pipe((0,Mt.T)(()=>N)):(0,Ee.of)(N)})}const ii=new s.nKC("ROUTES");let Xr=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,Ee.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const F=Tn(A.loadComponent()).pipe((0,Mt.T)(Ai),(0,te.M)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=ue}),(0,rn.j)(()=>{this.componentLoaders.delete(A)})),H=new Qe(F,()=>new Yt.B).pipe(Ie());return this.componentLoaders.set(A,H),H}loadChildren(A,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Ee.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ue=function fr(S,N,A,F){return Tn(S.loadChildren()).pipe((0,Mt.T)(Ai),(0,it.Z)(H=>H instanceof s.Co$||Array.isArray(H)?(0,Ee.of)(H):(0,fe.H)(N.compileModuleAsync(H))),(0,Mt.T)(H=>{F&&F(S);let ue,Oe,wt=!1;return Array.isArray(H)?(Oe=H,!0):(ue=H.create(A).injector,Oe=ue.get(ii,[],{optional:!0,self:!0}).flat()),{routes:Oe.map(wi),injector:ue}}))}(F,this.compiler,A,this.onLoadEndListener).pipe((0,rn.j)(()=>{this.childrenLoaders.delete(F)})),Oe=new Qe(ue,()=>new Yt.B).pipe(Ie());return this.childrenLoaders.set(F,Oe),Oe}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Ai(S){return function ai(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Di=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Yt.B,this.transitionAbortSubject=new Yt.B,this.configLoader=(0,s.WQX)(Xr),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(Fe),this.rootContexts=(0,s.WQX)(jr),this.inputBindingEnabled=null!==(0,s.WQX)(ne,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ks(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new ma(H))}complete(){this.transitions?.complete()}handleNavigationRequest(A){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...A,id:F})}setupNavigations(A,F,H){return this.transitions=new Se.t({id:0,currentUrlTree:F,currentRawUrl:F,currentBrowserUrl:F,extractedUrl:A.urlHandlingStrategy.extract(F),urlAfterRedirects:A.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ss,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.p)(ue=>0!==ue.id),(0,Mt.T)(ue=>({...ue,extractedUrl:A.urlHandlingStrategy.extract(ue.rawUrl)})),(0,Lt.n)(ue=>{this.currentTransition=ue;let Oe=!1,wt=!1;return(0,Ee.of)(ue).pipe((0,te.M)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Lt.n)(yt=>{const _n=yt.currentBrowserUrl.toString(),pr=!A.navigated||yt.extractedUrl.toString()!==_n||_n!==yt.currentUrlTree.toString();if(!pr&&"reload"!==(yt.extras.onSameUrlNavigation??A.onSameUrlNavigation)){const xr="";return this.events.next(new Cr(yt.id,this.urlSerializer.serialize(yt.rawUrl),xr,0)),yt.resolve(null),lt.w}if(A.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,Ee.of)(yt).pipe((0,Lt.n)(xr=>{const hi=this.transitions?.getValue();return this.events.next(new Wr(xr.id,this.urlSerializer.serialize(xr.extractedUrl),xr.source,xr.restoredState)),hi!==this.transitions?.getValue()?lt.w:Promise.resolve(xr)}),function se(S,N,A,F,H,ue){return(0,it.Z)(Oe=>function Ho(S,N,A,F,H,ue,Oe="emptyOnly"){return new tc(S,N,A,F,H,Oe,ue).recognize()}(S,N,A,F,Oe.extractedUrl,H,ue).pipe((0,Mt.T)(({state:wt,tree:yt})=>({...Oe,targetSnapshot:wt,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,A.paramsInheritanceStrategy),(0,te.M)(xr=>{ue.targetSnapshot=xr.targetSnapshot,ue.urlAfterRedirects=xr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xr.urlAfterRedirects};const hi=new Ao(xr.id,this.urlSerializer.serialize(xr.extractedUrl),this.urlSerializer.serialize(xr.urlAfterRedirects),xr.targetSnapshot);this.events.next(hi)}));if(pr&&A.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:xr,extractedUrl:hi,source:fl,restoredState:Dl,extras:Ta}=yt,Wo=new Wr(xr,this.urlSerializer.serialize(hi),fl,Dl);this.events.next(Wo);const $a=pn(0,this.rootComponentType).snapshot;return this.currentTransition=ue={...yt,targetSnapshot:$a,urlAfterRedirects:hi,extras:{...Ta,skipLocationChange:!1,replaceUrl:!1}},(0,Ee.of)(ue)}{const xr="";return this.events.next(new Cr(yt.id,this.urlSerializer.serialize(yt.extractedUrl),xr,1)),yt.resolve(null),lt.w}}),(0,te.M)(yt=>{const _n=new di(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(_n)}),(0,Mt.T)(yt=>(this.currentTransition=ue={...yt,guards:Zl(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},ue)),function lo(S,N){return(0,it.Z)(A=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:ue,canDeactivateChecks:Oe}}=A;return 0===Oe.length&&0===ue.length?(0,Ee.of)({...A,guardsResult:!0}):function Rs(S,N,A,F){return(0,fe.H)(S).pipe((0,it.Z)(H=>function Ki(S,N,A,F,H){const ue=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,Ee.of)(!0);const Oe=ue.map(wt=>{const yt=cs(N)??H,_n=Os(wt,yt);return Tn(function de(S){return S&&So(S.canDeactivate)}(_n)?_n.canDeactivate(S,N,A,F):yt.runInContext(()=>_n(S,N,A,F))).pipe((0,rt.$)())});return(0,Ee.of)(Oe).pipe(ts())}(H.component,H.route,A,N,F)),(0,rt.$)(H=>!0!==H,!0))}(Oe,F,H,S).pipe((0,it.Z)(wt=>wt&&function $o(S){return"boolean"==typeof S}(wt)?function ns(S,N,A,F){return(0,fe.H)(N).pipe((0,Me.H)(H=>(0,jt.x)(function ec(S,N){return null!==S&&N&&N(new ti(S)),(0,Ee.of)(!0)}(H.route.parent,F),function Go(S,N){return null!==S&&N&&N(new gi(S)),(0,Ee.of)(!0)}(H.route,F),function _a(S,N,A){const F=N[N.length-1],ue=N.slice(0,N.length-1).reverse().map(Oe=>function us(S){const N=S.routeConfig?S.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:S,guards:N}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>Ae(()=>{const wt=Oe.guards.map(yt=>{const _n=cs(Oe.node)??A,pr=Os(yt,_n);return Tn(function B(S){return S&&So(S.canActivateChild)}(pr)?pr.canActivateChild(F,S):_n.runInContext(()=>pr(F,S))).pipe((0,rt.$)())});return(0,Ee.of)(wt).pipe(ts())}));return(0,Ee.of)(ue).pipe(ts())}(S,H.path,A),function Ps(S,N,A){const F=N.routeConfig?N.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Ee.of)(!0);const H=F.map(ue=>Ae(()=>{const Oe=cs(N)??A,wt=Os(ue,Oe);return Tn(function re(S){return S&&So(S.canActivate)}(wt)?wt.canActivate(N,S):Oe.runInContext(()=>wt(N,S))).pipe((0,rt.$)())}));return(0,Ee.of)(H).pipe(ts())}(S,H.route,A))),(0,rt.$)(H=>!0!==H,!0))}(F,ue,S,N):(0,Ee.of)(wt)),(0,Mt.T)(wt=>({...A,guardsResult:wt})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,te.M)(yt=>{if(ue.guardsResult=yt.guardsResult,pi(yt.guardsResult))throw In(0,yt.guardsResult);const _n=new Na(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(_n)}),(0,Ve.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),Hr(yt=>{if(yt.guards.canActivateChecks.length)return(0,Ee.of)(yt).pipe((0,te.M)(_n=>{const pr=new Ja(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(pr)}),(0,Lt.n)(_n=>{let pr=!1;return(0,Ee.of)(_n).pipe(function $(S,N){return(0,it.Z)(A=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=A;if(!H.length)return(0,Ee.of)(A);let ue=0;return(0,fe.H)(H).pipe((0,Me.H)(Oe=>function Q(S,N,A,F){const H=S.routeConfig,ue=S._resolve;return void 0!==H?.title&&!kn(H)&&(ue[Vt]=H.title),function Ne(S,N,A,F){const H=function Tt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===H.length)return(0,Ee.of)({});const ue={};return(0,fe.H)(H).pipe((0,it.Z)(Oe=>function Nt(S,N,A,F){const H=cs(N)??F,ue=Os(S,H);return Tn(ue.resolve?ue.resolve(N,A):H.runInContext(()=>ue(N,A)))}(S[Oe],N,A,F).pipe((0,rt.$)(),(0,te.M)(wt=>{ue[Oe]=wt}))),nt(1),function er(S){return(0,Mt.T)(()=>S)}(ue),(0,ye.W)(Oe=>Is(Oe)?lt.w:(0,Ke.$)(Oe)))}(ue,S,N,F).pipe((0,Mt.T)(Oe=>(S._resolvedData=Oe,S.data=Zi(S,A).resolve,H&&kn(H)&&(S.data[Vt]=H.title),null)))}(Oe.route,F,S,N)),(0,te.M)(()=>ue++),nt(1),(0,it.Z)(Oe=>ue===H.length?(0,Ee.of)(A):lt.w))})}(A.paramsInheritanceStrategy,this.environmentInjector),(0,te.M)({next:()=>pr=!0,complete:()=>{pr||this.cancelNavigationTransition(_n,"",2)}}))}),(0,te.M)(_n=>{const pr=new Pi(_n.id,this.urlSerializer.serialize(_n.extractedUrl),this.urlSerializer.serialize(_n.urlAfterRedirects),_n.targetSnapshot);this.events.next(pr)}))}),Hr(yt=>{const _n=pr=>{const nr=[];pr.routeConfig?.loadComponent&&!pr.routeConfig._loadedComponent&&nr.push(this.configLoader.loadComponent(pr.routeConfig).pipe((0,te.M)(xr=>{pr.component=xr}),(0,Mt.T)(()=>{})));for(const xr of pr.children)nr.push(..._n(xr));return nr};return ve(_n(yt.targetSnapshot.root)).pipe((0,st.U)(),(0,Wt.s)(1))}),Hr(()=>this.afterPreactivation()),(0,Mt.T)(yt=>{const _n=function Re(S,N,A){const F=Le(S,N._root,A?A._root:void 0);return new Gr(F,N)}(A.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=ue={...yt,targetRouterState:_n},ue}),(0,te.M)(()=>{this.events.next(new qn)}),((S,N,A,F)=>(0,Mt.T)(H=>(new ea(N,H.targetRouterState,H.currentRouterState,A,F).activate(S),H)))(this.rootContexts,A.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,Wt.s)(1),(0,te.M)({next:yt=>{Oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),A.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Oe=!0}}),function Qt(S){return(0,ct.N)((N,A)=>{(0,He.Tg)(S).subscribe((0,Pe._)(A,()=>A.complete(),Fn.l)),!A.closed&&N.subscribe(A)})}(this.transitionAbortSubject.pipe((0,te.M)(yt=>{throw yt}))),(0,rn.j)(()=>{Oe||wt||this.cancelNavigationTransition(ue,"",1),this.currentNavigation?.id===ue.id&&(this.currentNavigation=null)}),(0,ye.W)(yt=>{if(wt=!0,wr(yt))this.events.next(new Mi(ue.id,this.urlSerializer.serialize(ue.extractedUrl),yt.message,yt.cancellationCode)),function Wn(S){return wr(S)&&pi(S.url)}(yt)?this.events.next(new Kr(yt.url)):ue.resolve(!1);else{this.events.next(new ao(ue.id,this.urlSerializer.serialize(ue.extractedUrl),yt,ue.targetSnapshot??void 0));try{ue.resolve(A.errorHandler(yt))}catch(_n){ue.reject(_n)}}return lt.w}))}))}cancelNavigationTransition(A,F,H){const ue=new Mi(A.id,this.urlSerializer.serialize(A.extractedUrl),F,H);this.events.next(ue),A.resolve(!1)}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function ds(S){return S!==ss}let Gi=(()=>{class S{buildTitle(A){let F,H=A.root;for(;void 0!==H;)F=this.getResolvedTitleForRoute(H)??F,H=H.children.find(ue=>ue.outlet===Ht);return F}getResolvedTitleForRoute(A){return A.data[Vt]}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return(0,s.WQX)(no)},providedIn:"root"})}}return S})(),no=(()=>{class S extends Gi{constructor(A){super(),this.title=A}updateTitle(A){const F=this.buildTitle(A);void 0!==F&&this.title.setTitle(F)}static{this.\u0275fac=function(F){return new(F||S)(s.KVO(Pn.hE))}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})(),qi=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return(0,s.WQX)(rs)},providedIn:"root"})}}return S})();class Ro{shouldDetach(N){return!1}store(N,A){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,A){return N.routeConfig===A.routeConfig}}let rs=(()=>{class S extends Ro{static{this.\u0275fac=function(){let A;return function(H){return(A||(A=s.xGo(S)))(H||S)}}()}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Qs=new s.nKC("",{providedIn:"root",factory:()=>({})});let Td=(()=>{class S{static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:function(){return(0,s.WQX)(Er)},providedIn:"root"})}}return S})(),Er=(()=>{class S{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,F){return A}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();var Sr=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(Sr||{});function $s(S,N){S.events.pipe((0,Ve.p)(A=>A instanceof Bi||A instanceof Mi||A instanceof ao||A instanceof Cr),(0,Mt.T)(A=>A instanceof Bi||A instanceof Cr?Sr.COMPLETE:A instanceof Mi&&(0===A.code||1===A.code)?Sr.REDIRECTING:Sr.FAILED),(0,Ve.p)(A=>A!==Sr.REDIRECTING),(0,Wt.s)(1)).subscribe(()=>{N()})}function Ui(S){throw S}function Js(S,N,A){return N.parse("/")}const Iu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.WQX)(s.H3F),this.isNgZoneEnabled=!1,this._events=new Yt.B,this.options=(0,s.WQX)(Qs,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.$K3),this.errorHandler=this.options.errorHandler||Ui,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Js,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.WQX)(Td),this.routeReuseStrategy=(0,s.WQX)(qi),this.titleStrategy=(0,s.WQX)(Gi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.WQX)(ii,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.WQX)(Di),this.urlSerializer=(0,s.WQX)(Fe),this.location=(0,s.WQX)(Mn.aZ),this.componentInputBindingEnabled=!!(0,s.WQX)(ne,{optional:!0}),this.eventsSubscription=new Pt.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(A=>{this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(F=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(Cu(F)&&this._events.next(F));if(F instanceof Wr)ds(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(F instanceof Cr)this.rawUrlTree=H.rawUrl;else if(F instanceof Ao){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ue=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ue,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(F instanceof qn)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(F instanceof Mi)0!==F.code&&1!==F.code&&(this.navigated=!0),(3===F.code||2===F.code)&&this.restoreHistory(H);else if(F instanceof Kr){const ue=this.urlHandlingStrategy.merge(F.url,H.currentRawUrl),Oe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ds(H.source)};this.scheduleNavigation(ue,ss,null,Oe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}F instanceof ao&&this.restoreHistory(H,!0),F instanceof Bi&&(this.navigated=!0),Cu(F)&&this._events.next(F)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const A=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ss,A)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const F="popstate"===A.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(A.url,F,A.state)},0)}))}navigateToSyncWithBrowser(A,F,H){const ue={replaceUrl:!0},Oe=H?.navigationId?H:null;if(H){const yt={...H};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(ue.state=yt)}const wt=this.parseUrl(A);this.scheduleNavigation(wt,F,Oe,ue)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,F={}){const{relativeTo:H,queryParams:ue,fragment:Oe,queryParamsHandling:wt,preserveFragment:yt}=F,_n=yt?this.currentUrlTree.fragment:Oe;let nr,pr=null;switch(wt){case"merge":pr={...this.currentUrlTree.queryParams,...ue};break;case"preserve":pr=this.currentUrlTree.queryParams;break;default:pr=ue||null}null!==pr&&(pr=this.removeEmptyProps(pr));try{nr=xs(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),nr=this.currentUrlTree.root}return Dt(nr,A,pr,_n??null)}navigateByUrl(A,F={skipLocationChange:!1}){const H=pi(A)?A:this.parseUrl(A),ue=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ue,ss,null,F)}navigate(A,F={skipLocationChange:!1}){return function Fh(S){for(let N=0;N<S.length;N++)if(null==S[N])throw new s.wOt(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,F),F)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let F;try{F=this.urlSerializer.parse(A)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,A)}return F}isActive(A,F){let H;if(H=!0===F?{...Iu}:!1===F?{...ol}:F,pi(A))return Zr(this.currentUrlTree,A,H);const ue=this.parseUrl(A);return Zr(this.currentUrlTree,ue,H)}removeEmptyProps(A){return Object.keys(A).reduce((F,H)=>{const ue=A[H];return null!=ue&&(F[H]=ue),F},{})}scheduleNavigation(A,F,H,ue,Oe){if(this.disposed)return Promise.resolve(!1);let wt,yt,_n;Oe?(wt=Oe.resolve,yt=Oe.reject,_n=Oe.promise):_n=new Promise((nr,xr)=>{wt=nr,yt=xr});const pr=this.pendingTasks.add();return $s(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(pr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:A,extras:ue,resolve:wt,reject:yt,promise:_n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_n.catch(nr=>Promise.reject(nr))}setBrowserUrl(A,F){const H=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl){const Oe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(H,"",Oe)}else{const ue={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(H,"",ue)}}restoreHistory(A,F=!1){if("computed"===this.canceledNavigationResolution){const ue=this.currentPageId-this.browserPageId;0!==ue?this.location.historyGo(ue):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ue&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,F){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:F}:{navigationId:A}}static{this.\u0275fac=function(F){return new(F||S)}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();function Cu(S){return!(S instanceof qn||S instanceof Kr)}let Po=(()=>{class S{constructor(A,F,H,ue,Oe,wt){this.router=A,this.route=F,this.tabIndexAttribute=H,this.renderer=ue,this.el=Oe,this.locationStrategy=wt,this.href=null,this.commands=null,this.onChanges=new Yt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=Oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=A.events.subscribe(_n=>{_n instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,F,H,ue,Oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==A||F||H||ue||Oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const A=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",A)}applyAttributeValue(A,F){const H=this.renderer,ue=this.el.nativeElement;null!==F?H.setAttribute(ue,A,F):H.removeAttribute(ue,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(F){return new(F||S)(s.rXU(Hi),s.rXU(cr),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Mn.hb))}}static{this.\u0275dir=s.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,H){1&F&&s.bIt("click",function(Oe){return H.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&F&&s.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.L39],skipLocationChange:["skipLocationChange","skipLocationChange",s.L39],replaceUrl:["replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]})}}return S})(),ws=(()=>{class S{get isActive(){return this._isActive}constructor(A,F,H,ue,Oe){this.router=A,this.element=F,this.renderer=H,this.cdr=ue,this.link=Oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.bkB,this.routerEventsSubscription=A.events.subscribe(wt=>{wt instanceof Bi&&this.update()})}ngAfterContentInit(){(0,Ee.of)(this.links.changes,(0,Ee.of)(null)).pipe((0,jn.U)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const A=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,fe.H)(A).pipe((0,jn.U)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(A){const F=Array.isArray(A)?A:A.split(" ");this.classes=F.filter(H=>!!H)}ngOnChanges(A){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const A=this.hasActiveLinks();this._isActive!==A&&(this._isActive=A,this.cdr.markForCheck(),this.classes.forEach(F=>{A?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),A&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(A))})}isLinkActive(A){const F=function va(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&A.isActive(H.urlTree,F)}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.links.some(A)}static{this.\u0275fac=function(F){return new(F||S)(s.rXU(Hi),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(Po,8))}}static{this.\u0275dir=s.FsC({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(F,H,ue){if(1&F&&s.wni(ue,Po,5),2&F){let Oe;s.mGM(Oe=s.lsd())&&(H.links=Oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.OA$]})}}return S})();class nc{}let Id=(()=>{class S{constructor(A,F,H,ue,Oe){this.router=A,this.injector=H,this.preloadingStrategy=ue,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.p)(A=>A instanceof Bi),(0,Me.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,F){const H=[];for(const ue of F){ue.providers&&!ue._injector&&(ue._injector=(0,s.Ol2)(ue.providers,A,`Route: ${ue.path}`));const Oe=ue._injector??A,wt=ue._loadedInjector??Oe;(ue.loadChildren&&!ue._loadedRoutes&&void 0===ue.canLoad||ue.loadComponent&&!ue._loadedComponent)&&H.push(this.preloadConfig(Oe,ue)),(ue.children||ue._loadedRoutes)&&H.push(this.processRoutes(wt,ue.children??ue._loadedRoutes))}return(0,fe.H)(H).pipe((0,jn.U)())}preloadConfig(A,F){return this.preloadingStrategy.preload(F,()=>{let H;H=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(A,F):(0,Ee.of)(null);const ue=H.pipe((0,it.Z)(Oe=>null===Oe?(0,Ee.of)(void 0):(F._loadedRoutes=Oe.routes,F._loadedInjector=Oe.injector,this.processRoutes(Oe.injector??A,Oe.routes))));if(F.loadComponent&&!F._loadedComponent){const Oe=this.loader.loadComponent(F);return(0,fe.H)([ue,Oe]).pipe((0,jn.U)())}return ue})}static{this.\u0275fac=function(F){return new(F||S)(s.KVO(Hi),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(nc),s.KVO(Xr))}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})();const Du=new s.nKC("");let or=(()=>{class S{constructor(A,F,H,ue,Oe={}){this.urlSerializer=A,this.transitions=F,this.viewportScroller=H,this.zone=ue,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration=Oe.scrollPositionRestoration||"disabled",Oe.anchorScrolling=Oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof Wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof Bi?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Cr&&0===A.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof xi&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xi(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(F){s.QTQ()}}static{this.\u0275prov=s.jDH({token:S,factory:S.\u0275fac})}}return S})();function zo(S,N){return{\u0275kind:S,\u0275providers:N}}function Su(){const S=(0,s.WQX)(s.zZn);return N=>{const A=S.get(s.o8S);if(N!==A.components[0])return;const F=S.get(Hi),H=S.get(ic);1===S.get(Si)&&F.initialNavigation(),S.get(Ir,null,s.$GK.Optional)?.setUpPreloading(),S.get(Du,null,s.$GK.Optional)?.init(),F.resetRootComponentType(A.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const ic=new s.nKC("",{factory:()=>new Yt.B}),Si=new s.nKC("",{providedIn:"root",factory:()=>1}),Ir=new s.nKC("");function Bn(S){return zo(0,[{provide:Ir,useExisting:Id},{provide:nc,useExisting:S}])}const sc=new s.nKC("ROUTER_FORROOT_GUARD"),Pu=[Mn.aZ,{provide:Fe,useClass:It},Hi,jr,{provide:cr,useFactory:function Vc(S){return S.routerState.root},deps:[Hi]},Xr,[]];function wd(){return new s.NEm("Router",Hi)}let ll=(()=>{class S{constructor(A){}static forRoot(A,F){return{ngModule:S,providers:[Pu,[],{provide:ii,multi:!0,useValue:A},{provide:sc,useFactory:Ba,deps:[[Hi,new s.Xx1,new s.kdw]]},{provide:Qs,useValue:F||{}},F?.useHash?{provide:Mn.hb,useClass:Mn.fw}:{provide:Mn.hb,useClass:Mn.Sm},{provide:Du,useFactory:()=>{const S=(0,s.WQX)(Mn.Xr),N=(0,s.WQX)(s.SKi),A=(0,s.WQX)(Qs),F=(0,s.WQX)(Di),H=(0,s.WQX)(Fe);return A.scrollOffset&&S.setOffset(A.scrollOffset),new or(H,F,S,N,A)}},F?.preloadingStrategy?Bn(F.preloadingStrategy).\u0275providers:[],{provide:s.NEm,multi:!0,useFactory:wd},F?.initialNavigation?ul(F):[],F?.bindToComponentInputs?zo(8,[ee,{provide:ne,useExisting:ee}]).\u0275providers:[],[{provide:ho,useFactory:Su},{provide:s.iLQ,multi:!0,useExisting:ho}]]}}static forChild(A){return{ngModule:S,providers:[{provide:ii,multi:!0,useValue:A}]}}static{this.\u0275fac=function(F){return new(F||S)(s.KVO(sc,8))}}static{this.\u0275mod=s.$C({type:S})}static{this.\u0275inj=s.G2t({})}}return S})();function Ba(S){return"guarded"}function ul(S){return["disabled"===S.initialNavigation?zo(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const N=(0,s.WQX)(Hi);return()=>{N.setUpLocationChangeListener()}}},{provide:Si,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?zo(2,[{provide:Si,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:N=>{const A=N.get(Mn.hj,Promise.resolve());return()=>A.then(()=>new Promise(F=>{const H=N.get(Hi),ue=N.get(ic);$s(H,()=>{F(!0)}),N.get(Di).afterPreactivation=()=>(F(!0),ue.closed?(0,Ee.of)(void 0):ue),H.initialNavigation()}))}}]).\u0275providers:[]]}const ho=new s.nKC("")},3345:(tn,Ye,L)=>{L.d(Ye,{A:()=>ve});var s=L(1076),ce=L(1362),r=L(7852),be=L(8041);class fe{constructor(we,bt){this._delegate=we,this.firebase=bt,(0,r._addComponent)(we,new ce.uA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate)))}_getService(we,bt=r._DEFAULT_ENTRY_NAME){var jt;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(we);return!He.isInitialized()&&"EXPLICIT"===(null===(jt=He.getComponent())||void 0===jt?void 0:jt.instantiationMode)&&He.initialize(),He.getImmediate({identifier:bt})}_removeServiceInstance(we,bt=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(bt)}_addComponent(we){(0,r._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,r._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new s.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function xe(){const qe=function Te(qe){const we={},bt={__esModule:!0,initializeApp:function Ae(Pt,ct={}){const Ie=r.initializeApp(Pt,ct);if((0,s.gR)(we,Ie.name))return we[Ie.name];const Qe=new qe(Ie,bt);return we[Ie.name]=Qe,Qe},app:He,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:function Ke(Pt){const ct=Pt.name,Ie=ct.replace("-compat","");if(r._registerComponent(Pt)&&"PUBLIC"===Pt.type){const Qe=(Yt=He())=>{if("function"!=typeof Yt[Ie])throw Se.create("invalid-app-argument",{appName:ct});return Yt[Ie]()};void 0!==Pt.serviceProps&&(0,s.zw)(Qe,Pt.serviceProps),bt[Ie]=Qe,qe.prototype[Ie]=function(...Yt){return this._getService.bind(this,ct).apply(this,Pt.multipleInstances?Yt:[])}}return"PUBLIC"===Pt.type?bt[Ie]:null},removeApp:function jt(Pt){delete we[Pt]},useAsService:function lt(Pt,ct){return"serverAuth"===ct?null:ct},modularAPIs:r}};function He(Pt){if(!(0,s.gR)(we,Pt=Pt||r._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:Pt});return we[Pt]}return bt.default=bt,Object.defineProperty(bt,"apps",{get:function Ze(){return Object.keys(we).map(Pt=>we[Pt])}}),He.App=qe,bt}(fe);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function we(bt){(0,s.zw)(qe,bt)},createSubscribe:s.tD,ErrorFactory:s.FA,deepExtend:s.zw}),qe}(),ie=new be.Vy("@firebase/app-compat");try{const qe=(0,s.mS)();if(void 0!==qe.firebase){ie.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const we=qe.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&ie.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ve=K;!function Be(qe){(0,r.registerVersion)("@firebase/app-compat","0.2.43",qe)}()},7852:(tn,Ye,L)=>{L.r(Ye),L.d(Ye,{FirebaseError:()=>be.g,SDK_VERSION:()=>It,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>ui,_addOrOverwriteComponent:()=>ys,_apps:()=>Ar,_clearComponents:()=>Ri,_components:()=>Hn,_getProvider:()=>ei,_isFirebaseApp:()=>br,_isFirebaseServerApp:()=>Gn,_registerComponent:()=>on,_removeServiceInstance:()=>Qn,_serverApps:()=>Zr,deleteApp:()=>bi,getApp:()=>Fr,getApps:()=>Tr,initializeApp:()=>Kt,initializeServerApp:()=>Ln,onLog:()=>C,registerVersion:()=>G,setLogLevel:()=>M});var s=L(467),ce=L(1362),r=L(8041),be=L(1076);const fe=(Dt,at)=>at.some(xt=>Dt instanceof xt);let Ee,Se;const K=new WeakMap,ie=new WeakMap,pe=new WeakMap,Pe=new WeakMap,Be=new WeakMap;let we={get(Dt,at,xt){if(Dt instanceof IDBTransaction){if("done"===at)return ie.get(Dt);if("objectStoreNames"===at)return Dt.objectStoreNames||pe.get(Dt);if("store"===at)return xt.objectStoreNames[1]?void 0:xt.objectStore(xt.objectStoreNames[0])}return Ae(Dt[at])},set:(Dt,at,xt)=>(Dt[at]=xt,!0),has:(Dt,at)=>Dt instanceof IDBTransaction&&("done"===at||"store"===at)||at in Dt};function He(Dt){return"function"==typeof Dt?function jt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...at){return Dt.apply(Ze(this),at),Ae(K.get(this))}:function(...at){return Ae(Dt.apply(Ze(this),at))}:function(at,...xt){const cn=Dt.call(Ze(this),at,...xt);return pe.set(cn,at.sort?at.sort():[at]),Ae(cn)}}(Dt):(Dt instanceof IDBTransaction&&function qe(Dt){if(ie.has(Dt))return;const at=new Promise((xt,cn)=>{const Vn=()=>{Dt.removeEventListener("complete",On),Dt.removeEventListener("error",ur),Dt.removeEventListener("abort",ur)},On=()=>{xt(),Vn()},ur=()=>{cn(Dt.error||new DOMException("AbortError","AbortError")),Vn()};Dt.addEventListener("complete",On),Dt.addEventListener("error",ur),Dt.addEventListener("abort",ur)});ie.set(Dt,at)}(Dt),fe(Dt,function Te(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,we):Dt)}function Ae(Dt){if(Dt instanceof IDBRequest)return function ve(Dt){const at=new Promise((xt,cn)=>{const Vn=()=>{Dt.removeEventListener("success",On),Dt.removeEventListener("error",ur)},On=()=>{xt(Ae(Dt.result)),Vn()},ur=()=>{cn(Dt.error),Vn()};Dt.addEventListener("success",On),Dt.addEventListener("error",ur)});return at.then(xt=>{xt instanceof IDBCursor&&K.set(xt,Dt)}).catch(()=>{}),Be.set(at,Dt),at}(Dt);if(Pe.has(Dt))return Pe.get(Dt);const at=He(Dt);return at!==Dt&&(Pe.set(Dt,at),Be.set(at,Dt)),at}const Ze=Dt=>Be.get(Dt),Pt=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],Ie=new Map;function Qe(Dt,at){if(!(Dt instanceof IDBDatabase)||at in Dt||"string"!=typeof at)return;if(Ie.get(at))return Ie.get(at);const xt=at.replace(/FromIndex$/,""),cn=at!==xt,Vn=ct.includes(xt);if(!(xt in(cn?IDBIndex:IDBObjectStore).prototype)||!Vn&&!Pt.includes(xt))return;const On=function(){var ur=(0,s.A)(function*(Ur,...zr){const dr=this.transaction(Ur,Vn?"readwrite":"readonly");let Ji=dr.store;return cn&&(Ji=Ji.index(zr.shift())),(yield Promise.all([Ji[xt](...zr),Vn&&dr.done]))[0]});return function(zr){return ur.apply(this,arguments)}}();return Ie.set(at,On),On}!function bt(Dt){we=Dt(we)}(Dt=>({...Dt,get:(at,xt,cn)=>Qe(at,xt)||Dt.get(at,xt,cn),has:(at,xt)=>!!Qe(at,xt)||Dt.has(at,xt)}));class Yt{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function Mn(Dt){const at=Dt.getComponent();return"VERSION"===at?.type}(xt)){const cn=xt.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(xt=>xt).join(" ")}}const Mt="@firebase/app",Lt="0.10.13",Wt=new r.Vy("@firebase/app"),Tn="[DEFAULT]",Vr={[Mt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ar=new Map,Zr=new Map,Hn=new Map;function ui(Dt,at){try{Dt.container.addComponent(at)}catch(xt){Wt.debug(`Component ${at.name} failed to register with FirebaseApp ${Dt.name}`,xt)}}function ys(Dt,at){Dt.container.addOrOverwriteComponent(at)}function on(Dt){const at=Dt.name;if(Hn.has(at))return Wt.debug(`There were multiple attempts to register component ${at}.`),!1;Hn.set(at,Dt);for(const xt of Ar.values())ui(xt,Dt);for(const xt of Zr.values())ui(xt,Dt);return!0}function ei(Dt,at){const xt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return xt&&xt.triggerHeartbeat(),Dt.container.getProvider(at)}function Qn(Dt,at,xt=Tn){ei(Dt,at).clearInstance(xt)}function br(Dt){return void 0!==Dt.options}function Gn(Dt){return void 0!==Dt.settings}function Ri(){Hn.clear()}const Et=new be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class he{constructor(at,xt,cn){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new ce.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}class Fe extends he{constructor(at,xt,cn,Vn){const On=void 0!==xt.automaticDataCollectionEnabled&&xt.automaticDataCollectionEnabled,ur={name:cn,automaticDataCollectionEnabled:On};super(void 0!==at.apiKey?at:at.options,ur,Vn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:On},xt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,xt.releaseOnDeref=void 0,G(Mt,Lt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(at){this.isDeleted||(this._refCount++,void 0!==at&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(at,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){bi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Et.create("server-app-deleted")}}const It="10.14.1";function Kt(Dt,at={}){let xt=Dt;"object"!=typeof at&&(at={name:at});const cn=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},at),Vn=cn.name;if("string"!=typeof Vn||!Vn)throw Et.create("bad-app-name",{appName:String(Vn)});if(xt||(xt=(0,be.T9)()),!xt)throw Et.create("no-options");const On=Ar.get(Vn);if(On){if((0,be.bD)(xt,On.options)&&(0,be.bD)(cn,On.config))return On;throw Et.create("duplicate-app",{appName:Vn})}const ur=new ce.h1(Vn);for(const zr of Hn.values())ur.addComponent(zr);const Ur=new he(xt,cn,ur);return Ar.set(Vn,Ur),Ur}function Ln(Dt,at){if((0,be.Bd)()&&!(0,be.p7)())throw Et.create("invalid-server-app-environment");let xt;void 0===at.automaticDataCollectionEnabled&&(at.automaticDataCollectionEnabled=!1),xt=br(Dt)?Dt.options:Dt;const cn=Object.assign(Object.assign({},at),xt);if(void 0!==cn.releaseOnDeref&&delete cn.releaseOnDeref,void 0!==at.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Et.create("finalization-registry-not-supported",{});const On=""+(dr=JSON.stringify(cn),[...dr].reduce((Ji,Ms)=>Math.imul(31,Ji)+Ms.charCodeAt(0)|0,0)),ur=Zr.get(On);var dr;if(ur)return ur.incRefCount(at.releaseOnDeref),ur;const Ur=new ce.h1(On);for(const dr of Hn.values())Ur.addComponent(dr);const zr=new Fe(xt,at,On,Ur);return Zr.set(On,zr),zr}function Fr(Dt=Tn){const at=Ar.get(Dt);if(!at&&Dt===Tn&&(0,be.T9)())return Kt();if(!at)throw Et.create("no-app",{appName:Dt});return at}function Tr(){return Array.from(Ar.values())}function bi(Dt){return At.apply(this,arguments)}function At(){return(At=(0,s.A)(function*(Dt){let at=!1;const xt=Dt.name;Ar.has(xt)?(at=!0,Ar.delete(xt)):Zr.has(xt)&&Dt.decRefCount()<=0&&(Zr.delete(xt),at=!0),at&&(yield Promise.all(Dt.container.getProviders().map(cn=>cn.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function G(Dt,at,xt){var cn;let Vn=null!==(cn=Vr[Dt])&&void 0!==cn?cn:Dt;xt&&(Vn+=`-${xt}`);const On=Vn.match(/\s|\//),ur=at.match(/\s|\//);if(On||ur){const Ur=[`Unable to register library "${Vn}" with version "${at}":`];return On&&Ur.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),On&&ur&&Ur.push("and"),ur&&Ur.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Wt.warn(Ur.join(" "))}on(new ce.uA(`${Vn}-version`,()=>({library:Vn,version:at}),"VERSION"))}function C(Dt,at){if(null!==Dt&&"function"!=typeof Dt)throw Et.create("invalid-log-argument");(0,r.Ey)(Dt,at)}function M(Dt){(0,r.He)(Dt)}const V="firebase-heartbeat-database",Z=1,je="firebase-heartbeat-store";let _t=null;function Xt(){return _t||(_t=function Ke(Dt,at,{blocked:xt,upgrade:cn,blocking:Vn,terminated:On}={}){const ur=indexedDB.open(Dt,at),Ur=Ae(ur);return cn&&ur.addEventListener("upgradeneeded",zr=>{cn(Ae(ur.result),zr.oldVersion,zr.newVersion,Ae(ur.transaction),zr)}),xt&&ur.addEventListener("blocked",zr=>xt(zr.oldVersion,zr.newVersion,zr)),Ur.then(zr=>{On&&zr.addEventListener("close",()=>On()),Vn&&zr.addEventListener("versionchange",dr=>Vn(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),Ur}(V,Z,{upgrade:(Dt,at)=>{if(0===at)try{Dt.createObjectStore(je)}catch(xt){console.warn(xt)}}}).catch(Dt=>{throw Et.create("idb-open",{originalErrorMessage:Dt.message})})),_t}function wn(){return(wn=(0,s.A)(function*(Dt){try{const xt=(yield Xt()).transaction(je),cn=yield xt.objectStore(je).get($r(Dt));return yield xt.done,cn}catch(at){if(at instanceof be.g)Wt.warn(at.message);else{const xt=Et.create("idb-get",{originalErrorMessage:at?.message});Wt.warn(xt.message)}}})).apply(this,arguments)}function vr(Dt,at){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.A)(function*(Dt,at){try{const cn=(yield Xt()).transaction(je,"readwrite");yield cn.objectStore(je).put(at,$r(Dt)),yield cn.done}catch(xt){if(xt instanceof be.g)Wt.warn(xt.message);else{const cn=Et.create("idb-set",{originalErrorMessage:xt?.message});Wt.warn(cn.message)}}})).apply(this,arguments)}function $r(Dt){return`${Dt.name}!${Dt.options.appId}`}class Fi{constructor(at){this.container=at,this._heartbeatsCache=null;const xt=this.container.getProvider("app").getImmediate();this._storage=new pi(xt),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var at=this;return(0,s.A)(function*(){var xt,cn;try{const On=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ur=vs();return null==(null===(xt=at._heartbeatsCache)||void 0===xt?void 0:xt.heartbeats)&&(at._heartbeatsCache=yield at._heartbeatsCachePromise,null==(null===(cn=at._heartbeatsCache)||void 0===cn?void 0:cn.heartbeats))||at._heartbeatsCache.lastSentHeartbeatDate===ur||at._heartbeatsCache.heartbeats.some(Ur=>Ur.date===ur)?void 0:(at._heartbeatsCache.heartbeats.push({date:ur,agent:On}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(Ur=>{const zr=new Date(Ur.date).valueOf();return Date.now()-zr<=2592e6}),at._storage.overwrite(at._heartbeatsCache))}catch(Vn){Wt.warn(Vn)}})()}getHeartbeatsHeader(){var at=this;return(0,s.A)(function*(){var xt;try{if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null==(null===(xt=at._heartbeatsCache)||void 0===xt?void 0:xt.heartbeats)||0===at._heartbeatsCache.heartbeats.length)return"";const cn=vs(),{heartbeatsToSend:Vn,unsentEntries:On}=function Es(Dt,at=1024){const xt=[];let cn=Dt.slice();for(const Vn of Dt){const On=xt.find(ur=>ur.agent===Vn.agent);if(On){if(On.dates.push(Vn.date),sr(xt)>at){On.dates.pop();break}}else if(xt.push({agent:Vn.agent,dates:[Vn.date]}),sr(xt)>at){xt.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:xt,unsentEntries:cn}}(at._heartbeatsCache.heartbeats),ur=(0,be.Uj)(JSON.stringify({version:2,heartbeats:Vn}));return at._heartbeatsCache.lastSentHeartbeatDate=cn,On.length>0?(at._heartbeatsCache.heartbeats=On,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),ur}catch(cn){return Wt.warn(cn),""}})()}}function vs(){return(new Date).toISOString().substring(0,10)}class pi{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.A)(function*(){return!!(0,be.zW)()&&(0,be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,s.A)(function*(){if(yield at._canUseIndexedDBPromise){const cn=yield function an(Dt){return wn.apply(this,arguments)}(at.app);return cn?.heartbeats?cn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(at){var xt=this;return(0,s.A)(function*(){var cn;if(yield xt._canUseIndexedDBPromise){const On=yield xt.read();return vr(xt.app,{lastSentHeartbeatDate:null!==(cn=at.lastSentHeartbeatDate)&&void 0!==cn?cn:On.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var xt=this;return(0,s.A)(function*(){var cn;if(yield xt._canUseIndexedDBPromise){const On=yield xt.read();return vr(xt.app,{lastSentHeartbeatDate:null!==(cn=at.lastSentHeartbeatDate)&&void 0!==cn?cn:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...at.heartbeats]})}})()}}function sr(Dt){return(0,be.Uj)(JSON.stringify({version:2,heartbeats:Dt})).length}!function xs(Dt){on(new ce.uA("platform-logger",at=>new Yt(at),"PRIVATE")),on(new ce.uA("heartbeat",at=>new Fi(at),"PRIVATE")),G(Mt,Lt,Dt),G(Mt,Lt,"esm2017"),G("fire-js","")}("")},1362:(tn,Ye,L)=>{L.d(Ye,{h1:()=>Te,uA:()=>r});var s=L(467),ce=L(1076);class r{constructor(K,ie,pe){this.name=K,this.instanceFactory=ie,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const be="[DEFAULT]";class fe{constructor(K,ie){this.name=K,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ie=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ie)){const pe=new ce.cY;if(this.instancesDeferred.set(ie,pe),this.isInitialized(ie)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:ie});Pe&&pe.resolve(Pe)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(K){var ie;const pe=this.normalizeInstanceIdentifier(K?.identifier),Pe=null!==(ie=K?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Be){if(Pe)return null;throw Be}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Se(xe){return"EAGER"===xe.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:be})}catch{}for(const[ie,pe]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(ie);try{const Be=this.getOrInitializeService({instanceIdentifier:Pe});pe.resolve(Be)}catch{}}}}clearInstance(K=be){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,s.A)(function*(){const ie=Array.from(K.instances.values());yield Promise.all([...ie.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...ie.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=be){return this.instances.has(K)}getOptions(K=be){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ie={}}=K,pe=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:pe,options:ie});for(const[Be,ve]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Be)&&ve.resolve(Pe);return Pe}onInit(K,ie){var pe;const Pe=this.normalizeInstanceIdentifier(ie),Be=null!==(pe=this.onInitCallbacks.get(Pe))&&void 0!==pe?pe:new Set;Be.add(K),this.onInitCallbacks.set(Pe,Be);const ve=this.instances.get(Pe);return ve&&K(ve,Pe),()=>{Be.delete(K)}}invokeOnInitCallbacks(K,ie){const pe=this.onInitCallbacks.get(ie);if(pe)for(const Pe of pe)try{Pe(K,ie)}catch{}}getOrInitializeService({instanceIdentifier:K,options:ie={}}){let pe=this.instances.get(K);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=K,xe===be?void 0:xe),options:ie}),this.instances.set(K,pe),this.instancesOptions.set(K,ie),this.invokeOnInitCallbacks(pe,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,pe)}catch{}var xe;return pe||null}normalizeInstanceIdentifier(K=be){return this.component?this.component.multipleInstances?K:be:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ie=this.getProvider(K.name);if(ie.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ie.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ie=new fe(K,this);return this.providers.set(K,ie),ie}getProviders(){return Array.from(this.providers.values())}}},8041:(tn,Ye,L)=>{L.d(Ye,{$b:()=>ce,Ey:()=>xe,He:()=>Te,Vy:()=>Se});const s=[];var ce=function(K){return K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K}(ce||{});const r={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},be=ce.INFO,fe={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Ee=(K,ie,...pe)=>{if(ie<K.logLevel)return;const Pe=(new Date).toISOString(),Be=fe[ie];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Be](`[${Pe}]  ${K.name}:`,...pe)};class Se{constructor(ie){this.name=ie,this._logLevel=be,this._logHandler=Ee,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in ce))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?r[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...ie),this._logHandler(this,ce.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...ie),this._logHandler(this,ce.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...ie),this._logHandler(this,ce.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...ie),this._logHandler(this,ce.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...ie),this._logHandler(this,ce.ERROR,...ie)}}function Te(K){s.forEach(ie=>{ie.setLogLevel(K)})}function xe(K,ie){for(const pe of s){let Pe=null;ie&&ie.level&&(Pe=r[ie.level]),pe.userLogHandler=null===K?null:(Be,ve,...qe)=>{const we=qe.map(bt=>{if(null==bt)return null;if("string"==typeof bt)return bt;if("number"==typeof bt||"boolean"==typeof bt)return bt.toString();if(bt instanceof Error)return bt.message;try{return JSON.stringify(bt)}catch{return null}}).filter(bt=>bt).join(" ");ve>=(Pe??Be.logLevel)&&K({level:ce[ve].toLowerCase(),message:we,args:qe,type:Be.name})}}}},2214:(tn,Ye,L)=>{L.d(Ye,{Dk:()=>s.getApps,KO:()=>s.registerVersion,Sx:()=>s.getApp,Wp:()=>s.initializeApp});var s=L(7852);(0,s.registerVersion)("firebase","10.14.1","app")},7935:(tn,Ye,L)=>{L.d(Ye,{A:()=>s.A});var s=L(3345);s.A.registerVersion("firebase","10.14.1","app-compat")},2438:(tn,Ye,L)=>{var s=L(467),ce=L(3345),r=L(5504),be=L(1076),Se=(L(7852),L(8041),L(1362));function Te(){return window}function ie(){return ie=(0,s.A)(function*(G,C,M){var V;const{BuildInfo:Z}=Te();(0,r.au)(C.sessionId,"AuthEvent did not contain a session ID");const je=yield function bt(G){return jt.apply(this,arguments)}(C.sessionId),_t={};return(0,r.av)()?_t.ibi=Z.packageName:(0,r.aw)()?_t.apn=Z.packageName:(0,r.ax)(G,"operation-not-supported-in-this-environment"),Z.displayName&&(_t.appDisplayName=Z.displayName),_t.sessionId=je,(0,r.ay)(G,M,C.type,void 0,null!==(V=C.eventId)&&void 0!==V?V:void 0,_t)}),ie.apply(this,arguments)}function Pe(){return(Pe=(0,s.A)(function*(G){const{BuildInfo:C}=Te(),M={};(0,r.av)()?M.iosBundleId=C.packageName:(0,r.aw)()?M.androidPackageName=C.packageName:(0,r.ax)(G,"operation-not-supported-in-this-environment"),yield(0,r.az)(G,M)})).apply(this,arguments)}function qe(){return(qe=(0,s.A)(function*(G,C,M){const{cordova:V}=Te();let Z=()=>{};try{yield new Promise((je,_t)=>{let Xt=null;function an(){var ln;je();const $r=null===(ln=V.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof $r&&$r(),"function"==typeof M?.close&&M.close()}function wn(){Xt||(Xt=window.setTimeout(()=>{_t((0,r.aB)(G,"redirect-cancelled-by-user"))},2e3))}function vr(){"visible"===document?.visibilityState&&wn()}C.addPassiveListener(an),document.addEventListener("resume",wn,!1),(0,r.aw)()&&document.addEventListener("visibilitychange",vr,!1),Z=()=>{C.removePassiveListener(an),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",vr,!1),Xt&&window.clearTimeout(Xt)}})}finally{Z()}})).apply(this,arguments)}function jt(){return(jt=(0,s.A)(function*(G){const C=function He(G){if((0,r.au)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const C=new ArrayBuffer(G.length),M=new Uint8Array(C);for(let V=0;V<G.length;V++)M[V]=G.charCodeAt(V);return M}(G),M=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(M)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ze extends r.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInitialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInitialized(),this.passiveListeners.forEach(M=>M(C)),super.onEvent(C)}initialized(){var C=this;return(0,s.A)(function*(){yield C.initPromise})()}}function Pt(G){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.A)(function*(G){const C=yield Yt()._get(Mn(G));return C&&(yield Yt()._remove(Mn(G))),C})).apply(this,arguments)}function Qe(){const G=[];for(let M=0;M<20;M++){const V=Math.floor(62*Math.random());G.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(V))}return G.join("")}function Yt(){return(0,r.aE)(r.b)}function Mn(G){return(0,r.aF)("authEvent",G.config.apiKey,G.name)}function Wt(G){if(!G?.includes("?"))return{};const[C,...M]=G.split("?");return(0,be.I9)(M.join("?"))}const it=class Ve{constructor(){this._redirectPersistence=r.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(C){var M=this;return(0,s.A)(function*(){const V=C._key();let Z=M.eventManagers.get(V);return Z||(Z=new Ze(C),M.eventManagers.set(V,Z),M.attachCallbackListeners(C,Z)),Z})()}_openPopup(C){(0,r.ax)(C,"operation-not-supported-in-this-environment")}_openRedirect(C,M,V,Z){var je=this;return(0,s.A)(function*(){!function we(G){var C,M,V,Z,je,_t,Xt,an,wn,vr;const ln=Te();(0,r.aC)("function"==typeof(null===(C=ln?.universalLinks)||void 0===C?void 0:C.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,r.aC)(typeof(null===(M=ln?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,r.aC)("function"==typeof(null===(je=null===(Z=null===(V=ln?.cordova)||void 0===V?void 0:V.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===je?void 0:je.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(an=null===(Xt=null===(_t=ln?.cordova)||void 0===_t?void 0:_t.plugins)||void 0===Xt?void 0:Xt.browsertab)||void 0===an?void 0:an.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,r.aC)("function"==typeof(null===(vr=null===(wn=ln?.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===vr?void 0:vr.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const _t=yield je._initialize(C);yield _t.initialized(),_t.resetRedirect(),(0,r.aI)(),yield je._originValidation(C);const Xt=function Ke(G,C,M=null){return{type:C,eventId:M,urlResponse:null,sessionId:Qe(),postBody:null,tenantId:G.tenantId,error:(0,r.aB)(G,"no-auth-event")}}(C,V,Z);yield function lt(G,C){return Yt()._set(Mn(G),C)}(C,Xt);const an=yield function K(G,C,M){return ie.apply(this,arguments)}(C,Xt,M),wn=yield function Be(G){const{cordova:C}=Te();return new Promise(M=>{C.plugins.browsertab.isAvailable(V=>{let Z=null;V?C.plugins.browsertab.openUrl(G):Z=C.InAppBrowser.open(G,(0,r.aA)()?"_blank":"_system","location=yes"),M(Z)})})}(an);return function ve(G,C,M){return qe.apply(this,arguments)}(C,_t,wn)})()}_isIframeWebStorageSupported(C,M){throw new Error("Method not implemented.")}_originValidation(C){const M=C._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function pe(G){return Pe.apply(this,arguments)}(C)),this.originValidationPromises[M]}attachCallbackListeners(C,M){const{universalLinks:V,handleOpenURL:Z,BuildInfo:je}=Te(),_t=setTimeout((0,s.A)(function*(){yield Pt(C),M.onEvent(rt())}),500),Xt=function(){var vr=(0,s.A)(function*(ln){clearTimeout(_t);const $r=yield Pt(C);let ir=null;$r&&ln?.url&&(ir=function Ie(G,C){var M,V;const Z=function Lt(G){const C=Wt(G),M=C.link?decodeURIComponent(C.link):void 0,V=Wt(M).link,Z=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return Wt(Z).link||Z||V||M||G}(C);if(Z.includes("/__/auth/callback")){const je=Wt(Z),_t=je.firebaseError?function Mt(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(je.firebaseError)):null,Xt=null===(V=null===(M=_t?.code)||void 0===M?void 0:M.split("auth/"))||void 0===V?void 0:V[1],an=Xt?(0,r.aB)(Xt):null;return an?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:an,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:Z,postBody:null}}return null}($r,ln.url)),M.onEvent(ir||rt())});return function($r){return vr.apply(this,arguments)}}();typeof V<"u"&&"function"==typeof V.subscribe&&V.subscribe(null,Xt);const an=Z,wn=`${je.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var vr=(0,s.A)(function*(ln){if(ln.toLowerCase().startsWith(wn)&&Xt({url:ln}),"function"==typeof an)try{an(ln)}catch($r){console.error($r)}});return function(ln){return vr.apply(this,arguments)}}()}};function rt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,r.aB)("no-auth-event")}}function st(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function Ft(G=(0,be.ZQ)()){return!("file:"!==st()&&"ionic:"!==st()&&"capacitor:"!==st()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qt(){try{const G=self.localStorage,C=r.aN();if(G)return G.setItem(C,"1"),G.removeItem(C),!function Fn(G=(0,be.ZQ)()){return function er(){return(0,be.lT)()&&11===document?.documentMode}()||function rn(G=(0,be.ZQ)()){return/Edge\/\d+/.test(G)}(G)}()||(0,be.zW)()}catch{return jn()&&(0,be.zW)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pn(){return(function nt(){return"http:"===st()||"https:"===st()}()||(0,be.sr)()||Ft())&&!function bn(){return(0,be.lV)()||(0,be.Ll)()}()&&Qt()&&!jn()}function Ht(){return Ft()&&typeof document<"u"}function _r(){return(_r=(0,s.A)(function*(){return!!Ht()&&new Promise(G=>{const C=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(C),G(!0)})})})).apply(this,arguments)}const Rr={LOCAL:"local",NONE:"none",SESSION:"session"},Yn=r.aC,Bt="persistence";function $n(G){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.A)(function*(G){yield G._initializationPromise;const C=Ar(),M=r.aF(Bt,G.config.apiKey,G.name);C&&C.setItem(M,G._getPersistence())})).apply(this,arguments)}function Ar(){var G;try{return(null===(G=function sn(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const Zr=r.aC;class Hn{constructor(){this.browserResolver=r.aE(r.k),this.cordovaResolver=r.aE(it),this.underlyingResolver=null,this._redirectPersistence=r.a,this._completeRedirectFn=r.aG,this._overrideRedirectResult=r.aH}_initialize(C){var M=this;return(0,s.A)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,M,V,Z){var je=this;return(0,s.A)(function*(){return yield je.selectUnderlyingResolver(),je.assertedUnderlyingResolver._openPopup(C,M,V,Z)})()}_openRedirect(C,M,V,Z){var je=this;return(0,s.A)(function*(){return yield je.selectUnderlyingResolver(),je.assertedUnderlyingResolver._openRedirect(C,M,V,Z)})()}_isIframeWebStorageSupported(C,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,M)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return Ht()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,s.A)(function*(){if(C.underlyingResolver)return;const M=yield function Vt(){return _r.apply(this,arguments)}();C.underlyingResolver=M?C.cordovaResolver:C.browserResolver})()}}function ui(G){return G.unwrap()}function on(G){return Qn(G)}function Qn(G){const{_tokenResponse:C}=G instanceof be.g?G.customData:G;if(!C)return null;if(!(G instanceof be.g)&&"temporaryProof"in C&&"phoneNumber"in C)return r.P.credentialFromResult(G);const M=C.providerId;if(!M||M===r.p.PASSWORD)return null;let V;switch(M){case r.p.GOOGLE:V=r.X;break;case r.p.FACEBOOK:V=r.W;break;case r.p.GITHUB:V=r.Y;break;case r.p.TWITTER:V=r.$;break;default:const{oauthIdToken:Z,oauthAccessToken:je,oauthTokenSecret:_t,pendingToken:Xt,nonce:an}=C;return je||_t||Z||Xt?Xt?M.startsWith("saml.")?r.aQ._create(M,Xt):r.N._fromParams({providerId:M,signInMethod:M,pendingToken:Xt,idToken:Z,accessToken:je}):new r.Z(M).credential({idToken:Z,accessToken:je,rawNonce:an}):null}return G instanceof be.g?V.credentialFromError(G):V.credentialFromResult(G)}function br(G,C){return C.catch(M=>{throw M instanceof be.g&&function ei(G,C){var M;const V=null===(M=C.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===C?.code)C.resolver=new ot(G,r.as(G,C));else if(V){const Z=Qn(C),je=C;Z&&(je.credential=Z,je.tenantId=V.tenantId||void 0,je.email=V.email||void 0,je.phoneNumber=V.phoneNumber||void 0)}}(G,M),M}).then(M=>{const Z=M.user;return{operationType:M.operationType,credential:on(M),additionalUserInfo:r.aq(M),user:Et.getOrCreate(Z)}})}function Gn(G,C){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.A)(function*(G,C){const M=yield C;return{verificationId:M.verificationId,confirm:V=>br(G,M.confirm(V))}})).apply(this,arguments)}class ot{constructor(C,M){this.resolver=M,this.auth=function ys(G){return G.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return br(ui(this.auth),this.resolver.resolveSignIn(C))}}class Et{constructor(C){this._delegate=C,this.multiFactor=r.at(C)}static getOrCreate(C){return Et.USER_MAP.has(C)||Et.USER_MAP.set(C,new Et(C)),Et.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var M=this;return(0,s.A)(function*(){return br(M.auth,r.a2(M._delegate,C))})()}linkWithPhoneNumber(C,M){var V=this;return(0,s.A)(function*(){return Gn(V.auth,r.l(V._delegate,C,M))})()}linkWithPopup(C){var M=this;return(0,s.A)(function*(){return br(M.auth,r.d(M._delegate,C,Hn))})()}linkWithRedirect(C){var M=this;return(0,s.A)(function*(){return yield $n(r.aJ(M.auth)),r.g(M._delegate,C,Hn)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var M=this;return(0,s.A)(function*(){return br(M.auth,r.a3(M._delegate,C))})()}reauthenticateWithPhoneNumber(C,M){return Gn(this.auth,r.r(this._delegate,C,M))}reauthenticateWithPopup(C){return br(this.auth,r.e(this._delegate,C,Hn))}reauthenticateWithRedirect(C){var M=this;return(0,s.A)(function*(){return yield $n(r.aJ(M.auth)),r.h(M._delegate,C,Hn)})()}sendEmailVerification(C){return r.ag(this._delegate,C)}unlink(C){var M=this;return(0,s.A)(function*(){return yield r.ap(M._delegate,C),M})()}updateEmail(C){return r.al(this._delegate,C)}updatePassword(C){return r.am(this._delegate,C)}updatePhoneNumber(C){return r.u(this._delegate,C)}updateProfile(C){return r.ak(this._delegate,C)}verifyBeforeUpdateEmail(C,M){return r.ah(this._delegate,C,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Et.USER_MAP=new WeakMap;const he=r.aC;let Fe=(()=>{class G{constructor(M,V){if(this.app=M,V.isInitialized())return this._delegate=V.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=M.options;he(Z,"invalid-api-key",{appName:M.name}),he(Z,"invalid-api-key",{appName:M.name});const je=typeof window<"u"?Hn:void 0;this._delegate=V.initialize({options:{persistence:Kt(Z,M.name),popupRedirectResolver:je}}),this._delegate._updateErrorMap(r.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Et.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,V){r.K(this._delegate,M,V)}applyActionCode(M){return r.a7(this._delegate,M)}checkActionCode(M){return r.a8(this._delegate,M)}confirmPasswordReset(M,V){return r.a6(this._delegate,M,V)}createUserWithEmailAndPassword(M,V){var Z=this;return(0,s.A)(function*(){return br(Z._delegate,r.aa(Z._delegate,M,V))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return r.af(this._delegate,M)}isSignInWithEmailLink(M){return r.ad(this._delegate,M)}getRedirectResult(){var M=this;return(0,s.A)(function*(){he(Pn(),M._delegate,"operation-not-supported-in-this-environment");const V=yield r.j(M._delegate,Hn);return V?br(M._delegate,Promise.resolve(V)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function Me(G,C){(0,r.aJ)(G)._logFramework(C)}(this._delegate,M)}onAuthStateChanged(M,V,Z){const{next:je,error:_t,complete:Xt}=It(M,V,Z);return this._delegate.onAuthStateChanged(je,_t,Xt)}onIdTokenChanged(M,V,Z){const{next:je,error:_t,complete:Xt}=It(M,V,Z);return this._delegate.onIdTokenChanged(je,_t,Xt)}sendSignInLinkToEmail(M,V){return r.ac(this._delegate,M,V)}sendPasswordResetEmail(M,V){return r.a5(this._delegate,M,V||void 0)}setPersistence(M){var V=this;return(0,s.A)(function*(){let Z;switch(function En(G,C){Yn(Object.values(Rr).includes(C),G,"invalid-persistence-type"),(0,be.lV)()?Yn(C!==Rr.SESSION,G,"unsupported-persistence-type"):(0,be.Ll)()?Yn(C===Rr.NONE,G,"unsupported-persistence-type"):jn()?Yn(C===Rr.NONE||C===Rr.LOCAL&&(0,be.zW)(),G,"unsupported-persistence-type"):Yn(C===Rr.NONE||Qt(),G,"unsupported-persistence-type")}(V._delegate,M),M){case Rr.SESSION:Z=r.a;break;case Rr.LOCAL:Z=(yield r.aE(r.i)._isAvailable())?r.i:r.b;break;case Rr.NONE:Z=r.U;break;default:return r.ax("argument-error",{appName:V._delegate.name})}return V._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return br(this._delegate,r.a0(this._delegate))}signInWithCredential(M){return br(this._delegate,r.a1(this._delegate,M))}signInWithCustomToken(M){return br(this._delegate,r.a4(this._delegate,M))}signInWithEmailAndPassword(M,V){return br(this._delegate,r.ab(this._delegate,M,V))}signInWithEmailLink(M,V){return br(this._delegate,r.ae(this._delegate,M,V))}signInWithPhoneNumber(M,V){return Gn(this._delegate,r.s(this._delegate,M,V))}signInWithPopup(M){var V=this;return(0,s.A)(function*(){return he(Pn(),V._delegate,"operation-not-supported-in-this-environment"),br(V._delegate,r.c(V._delegate,M,Hn))})()}signInWithRedirect(M){var V=this;return(0,s.A)(function*(){return he(Pn(),V._delegate,"operation-not-supported-in-this-environment"),yield $n(V._delegate),r.f(V._delegate,M,Hn)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return r.a9(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=Rr,G})();function It(G,C,M){let V=G;"function"!=typeof G&&({next:V,error:C,complete:M}=G);const Z=V;return{next:_t=>Z(_t&&Et.getOrCreate(_t)),error:C,complete:M}}function Kt(G,C){const M=function Vr(G,C){const M=Ar();if(!M)return[];const V=r.aF(Bt,G,C);switch(M.getItem(V)){case Rr.NONE:return[r.U];case Rr.LOCAL:return[r.i,r.a];case Rr.SESSION:return[r.a];default:return[]}}(G,C);if(typeof self<"u"&&!M.includes(r.i)&&M.push(r.i),typeof window<"u")for(const V of[r.b,r.a])M.includes(V)||M.push(V);return M.includes(r.U)||M.push(r.U),M}class Ln{constructor(){this.providerId="phone",this._delegate=new r.P(ui(ce.A.auth()))}static credential(C,M){return r.P.credential(C,M)}verifyPhoneNumber(C,M){return this._delegate.verifyPhoneNumber(C,M)}unwrap(){return this._delegate}}Ln.PHONE_SIGN_IN_METHOD=r.P.PHONE_SIGN_IN_METHOD,Ln.PROVIDER_ID=r.P.PROVIDER_ID;const Fr=r.aC;class Tr{constructor(C,M,V=ce.A.app()){var Z;Fr(null===(Z=V.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:V.name}),this._delegate=new r.R(V.auth(),C,M),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function At(G){G.INTERNAL.registerComponent(new Se.uA("auth-compat",C=>{const M=C.getProvider("app-compat").getImmediate(),V=C.getProvider("auth");return new Fe(M,V)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:r.A.EMAIL_SIGNIN,PASSWORD_RESET:r.A.PASSWORD_RESET,RECOVER_EMAIL:r.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:r.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:r.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:r.A.VERIFY_EMAIL}},EmailAuthProvider:r.V,FacebookAuthProvider:r.W,GithubAuthProvider:r.Y,GoogleAuthProvider:r.X,OAuthProvider:r.Z,SAMLAuthProvider:r._,PhoneAuthProvider:Ln,PhoneMultiFactorGenerator:r.m,RecaptchaVerifier:Tr,TwitterAuthProvider:r.$,Auth:Fe,AuthCredential:r.L,Error:be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.5.14")}(ce.A)},467:(tn,Ye,L)=>{function s(r,be,fe,Ee,Se,Te,xe){try{var K=r[Te](xe),ie=K.value}catch(pe){return void fe(pe)}K.done?be(ie):Promise.resolve(ie).then(Ee,Se)}function ce(r){return function(){var be=this,fe=arguments;return new Promise(function(Ee,Se){var Te=r.apply(be,fe);function xe(ie){s(Te,Ee,Se,xe,K,"next",ie)}function K(ie){s(Te,Ee,Se,xe,K,"throw",ie)}xe(void 0)})}}L.d(Ye,{A:()=>ce})},1635:(tn,Ye,L)=>{function be(Me,te){var ye={};for(var ke in Me)Object.prototype.hasOwnProperty.call(Me,ke)&&te.indexOf(ke)<0&&(ye[ke]=Me[ke]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(ke=Object.getOwnPropertySymbols(Me);st<ke.length;st++)te.indexOf(ke[st])<0&&Object.prototype.propertyIsEnumerable.call(Me,ke[st])&&(ye[ke[st]]=Me[ke[st]])}return ye}function pe(Me,te,ye,ke){return new(ye||(ye=Promise))(function(nt,Ft){function bn(Fn){try{rn(ke.next(Fn))}catch(Qt){Ft(Qt)}}function er(Fn){try{rn(ke.throw(Fn))}catch(Qt){Ft(Qt)}}function rn(Fn){Fn.done?nt(Fn.value):function st(nt){return nt instanceof ye?nt:new ye(function(Ft){Ft(nt)})}(Fn.value).then(bn,er)}rn((ke=ke.apply(Me,te||[])).next())})}function Ae(Me){return this instanceof Ae?(this.v=Me,this):new Ae(Me)}function Ze(Me,te,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,ke=ye.apply(Me,te||[]),nt=[];return st=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),bn("next"),bn("throw"),bn("return",function Ft(Pn){return function(Ht){return Promise.resolve(Ht).then(Pn,Qt)}}),st[Symbol.asyncIterator]=function(){return this},st;function bn(Pn,Ht){ke[Pn]&&(st[Pn]=function(Vt){return new Promise(function(_r,sn){nt.push([Pn,Vt,_r,sn])>1||er(Pn,Vt)})},Ht&&(st[Pn]=Ht(st[Pn])))}function er(Pn,Ht){try{!function rn(Pn){Pn.value instanceof Ae?Promise.resolve(Pn.value.v).then(Fn,Qt):jn(nt[0][2],Pn)}(ke[Pn](Ht))}catch(Vt){jn(nt[0][3],Vt)}}function Fn(Pn){er("next",Pn)}function Qt(Pn){er("throw",Pn)}function jn(Pn,Ht){Pn(Ht),nt.shift(),nt.length&&er(nt[0][0],nt[0][1])}}function lt(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,te=Me[Symbol.asyncIterator];return te?te.call(Me):(Me=function qe(Me){var te="function"==typeof Symbol&&Symbol.iterator,ye=te&&Me[te],ke=0;if(ye)return ye.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&ke>=Me.length&&(Me=void 0),{value:Me&&Me[ke++],done:!Me}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),ye={},ke("next"),ke("throw"),ke("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ke(nt){ye[nt]=Me[nt]&&function(Ft){return new Promise(function(bn,er){!function st(nt,Ft,bn,er){Promise.resolve(er).then(function(rn){nt({value:rn,done:bn})},Ft)}(bn,er,(Ft=Me[nt](Ft)).done,Ft.value)})}}}L.d(Ye,{AQ:()=>Ze,N3:()=>Ae,Tt:()=>be,sH:()=>pe,xN:()=>lt}),"function"==typeof SuppressedError&&SuppressedError}},tn=>{tn(tn.s=2714)}]);