"use strict";(self.webpackChunkadult_family_home=self.webpackChunkadult_family_home||[]).push([[792],{5504:(on,Je,j)=>{j.d(Je,{$:()=>eo,A:()=>oe,G:()=>Ze,K:()=>Pi,L:()=>Bs,N:()=>Ae,P:()=>no,R:()=>Lu,U:()=>an,V:()=>Ki,W:()=>Di,X:()=>Rr,Y:()=>go,Z:()=>pi,_:()=>Ho,a:()=>xc,a0:()=>xo,a1:()=>ss,a2:()=>Gs,a3:()=>Wo,a4:()=>qi,a5:()=>Ro,a6:()=>Su,a7:()=>il,a8:()=>Oo,a9:()=>xu,aA:()=>Mt,aB:()=>et,aC:()=>xe,aD:()=>np,aE:()=>st,aF:()=>dn,aG:()=>qu,aH:()=>Nc,aI:()=>Wh,aJ:()=>Ir,aN:()=>Sr,aQ:()=>Es,aa:()=>Uh,ab:()=>Bl,ac:()=>Ja,ad:()=>Ic,ae:()=>Va,af:()=>wc,ag:()=>te,ah:()=>Y,ak:()=>Un,al:()=>gi,am:()=>ri,ap:()=>Po,aq:()=>os,as:()=>Sc,at:()=>wa,au:()=>yn,av:()=>Ne,aw:()=>vi,ax:()=>Ce,ay:()=>cc,az:()=>Eo,b:()=>Ou,c:()=>$u,d:()=>Gu,e:()=>Hu,f:()=>oc,g:()=>kc,h:()=>hl,i:()=>O,j:()=>tp,k:()=>Jh,l:()=>ja,m:()=>Ql,p:()=>Ue,r:()=>ha,s:()=>da,u:()=>ju});var c=j(467),ue=j(7852),i=j(1076),Ie=j(8041),pe=j(1635),Oe=j(1362);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ze=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Dt=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rt=new Ie.Vy("@firebase/auth");function Ge(I,...m){Rt.logLevel<=Ie.$b.ERROR&&Rt.error(`Auth (${ue.SDK_VERSION}): ${I}`,...m)}function Ce(I,...m){throw Ot(I,...m)}function et(I,...m){return Ot(I,...m)}function qe(I,m,v){const S=Object.assign(Object.assign({},Dt()),{[m]:v});return new i.FA("auth","Firebase",S).create(m,{appName:I.name})}function it(I){return qe(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function St(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&Ce(I,"argument-error"),qe(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(I,...m){if("string"!=typeof I){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(v,...S)}return At.create(I,...m)}function xe(I,m,...v){if(!I)throw Ot(m,...v)}function rn(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Ge(m),new Error(m)}function yn(I,m){I||rn(m)}function ur(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Pt(){return"http:"===jt()||"https:"===jt()}function jt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Le{constructor(m,v){this.shortDelay=m,this.longDelay=v,yn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,i.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(I,m){yn(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class en{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},De=new Le(3e4,6e4);function Ee(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Ve(I,m,v,S){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.A)(function*(I,m,v,S,X={}){return Xe(I,X,(0,c.A)(function*(){let de={},We={};S&&("GET"===m?We=S:de={body:JSON.stringify(S)});const Tt=(0,i.Am)(Object.assign({key:I.config.apiKey},We)).slice(1),Ht=yield I._getAdditionalHeaders();Ht["Content-Type"]="application/json",I.languageCode&&(Ht["X-Firebase-Locale"]=I.languageCode);const Rn=Object.assign({method:m,headers:Ht},de);return(0,i.c1)()||(Rn.referrerPolicy="no-referrer"),en.fetch()(sn(I,I.config.apiHost,v,Tt),Rn)}))})).apply(this,arguments)}function Xe(I,m,v){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.A)(function*(I,m,v){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},Be),m);try{const X=new Xt(I),de=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const We=yield de.json();if("needConfirmation"in We)throw $n(I,"account-exists-with-different-credential",We);if(de.ok&&!("errorMessage"in We))return We;{const Tt=de.ok?We.errorMessage:We.error.message,[Ht,Rn]=Tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw $n(I,"credential-already-in-use",We);if("EMAIL_EXISTS"===Ht)throw $n(I,"email-already-in-use",We);if("USER_DISABLED"===Ht)throw $n(I,"user-disabled",We);const Mn=S[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw qe(I,Mn,Rn);Ce(I,Mn)}}catch(X){if(X instanceof i.g)throw X;Ce(I,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function An(I,m,v,S){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.A)(function*(I,m,v,S,X={}){const de=yield Ve(I,m,v,S,X);return"mfaPendingCredential"in de&&Ce(I,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function sn(I,m,v,S){const X=`${m}${v}?${S}`;return I.config.emulator?tt(I.config,X):`${I.config.apiScheme}://${X}`}function Ln(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(et(this.auth,"network-request-failed")),De.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(I,m,v){const S={appName:I.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const X=et(I,m,S);return X.customData._tokenResponse=v,X}function kn(I){return void 0!==I&&void 0!==I.getResponse}function Gt(I){return void 0!==I&&void 0!==I.enterprise}class Lt{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return Ln(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function un(){return(un=(0,c.A)(function*(I){return(yield Ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Or(I,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.A)(function*(I,m){return Ve(I,"GET","/v2/recaptchaConfig",Ee(I,m))})).apply(this,arguments)}function In(){return(In=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ln(){return(ln=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function $r(I,m){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ei(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function _s(){return(_s=(0,c.A)(function*(I,m=!1){const v=(0,i.Ku)(I),S=yield v.getIdToken(m),X=ti(S);xe(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const de="object"==typeof X.firebase?X.firebase:void 0,We=de?.sign_in_provider;return{claims:X,token:S,authTime:ei(gn(X.auth_time)),issuedAtTime:ei(gn(X.iat)),expirationTime:ei(gn(X.exp)),signInProvider:We||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(I){return 1e3*Number(I)}function ti(I){const[m,v,S]=I.split(".");if(void 0===m||void 0===v||void 0===S)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,i.u)(v);return X?JSON.parse(X):(Ge("Failed to decode base64 JWT payload"),null)}catch(X){return Ge("Caught error parsing JWT payload as JSON",X?.toString()),null}}function rr(I){const m=ti(I);return xe(m,"internal-error"),xe(typeof m.exp<"u","internal-error"),xe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}function Cr(I,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.A)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof i.g&&function Si({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class nt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,c.A)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,c.A)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class gt{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function le(I){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.A)(function*(I){var m;const v=I.auth,S=yield I.getIdToken(),X=yield Cr(I,$r(v,{idToken:S}));xe(X?.users.length,v,"internal-error");const de=X.users[0];I._notifyReloadListener(de);const We=null!==(m=de.providerUserInfo)&&void 0!==m&&m.length?Lr(de.providerUserInfo):[],Tt=function jn(I,m){return[...I.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(I.providerData,We),Mn=!!I.isAnonymous&&!(I.email&&de.passwordHash||Tt?.length),Qr={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:Tt,metadata:new gt(de.createdAt,de.lastLoginAt),isAnonymous:Mn};Object.assign(I,Qr)})).apply(this,arguments)}function Kt(){return(Kt=(0,c.A)(function*(I){const m=(0,i.Ku)(I);yield le(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Lr(I){return I.map(m=>{var{providerId:v}=m,S=(0,pe.Tt)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Ti(){return(Ti=(0,c.A)(function*(I,m){const v=yield Xe(I,{},(0,c.A)(function*(){const S=(0,i.Am)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:de}=I.config,We=sn(I,X,"/v1/token",`key=${de}`),Tt=yield I._getAdditionalHeaders();return Tt["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(We,{method:"POST",headers:Tt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function $(){return($=(0,c.A)(function*(I,m){return Ve(I,"POST","/v2/accounts:revokeToken",Ee(I,m))})).apply(this,arguments)}class M{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){xe(m.idToken,"internal-error"),xe(typeof m.idToken<"u","internal-error"),xe(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):rr(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}updateFromIdToken(m){xe(0!==m.length,"internal-error");const v=rr(m);this.updateTokensAndExpiration(m,null,v)}getToken(m,v=!1){var S=this;return(0,c.A)(function*(){return v||!S.accessToken||S.isExpired?(xe(S.refreshToken,m,"user-token-expired"),S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null):S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,c.A)(function*(){const{accessToken:X,refreshToken:de,expiresIn:We}=yield function Tr(I,m){return Ti.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(X,de,Number(We))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:X,expirationTime:de}=v,We=new M;return S&&(xe("string"==typeof S,"internal-error",{appName:m}),We.refreshToken=S),X&&(xe("string"==typeof X,"internal-error",{appName:m}),We.accessToken=X),de&&(xe("number"==typeof de,"internal-error",{appName:m}),We.expirationTime=de),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new M,this.toJSON())}_performRefresh(){return rn("not implemented")}}function k(I,m){xe("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class ne{constructor(m){var{uid:v,auth:S,stsTokenManager:X}=m,de=(0,pe.Tt)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new gt(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,c.A)(function*(){const S=yield Cr(v,v.stsTokenManager.getToken(v.auth,m));return xe(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function di(I){return _s.apply(this,arguments)}(this,m)}reload(){return function vt(I){return Kt.apply(this,arguments)}(this)}_assign(m){this!==m&&(xe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new ne(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,c.A)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),v&&(yield le(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,c.A)(function*(){if((0,ue._isFirebaseServerApp)(m.auth.app))return Promise.reject(it(m.auth));const v=yield m.getIdToken();return yield Cr(m,function Bt(I,m){return In.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,X,de,We,Tt,Ht,Rn,Mn;const Qr=null!==(S=v.displayName)&&void 0!==S?S:void 0,Zo=null!==(X=v.email)&&void 0!==X?X:void 0,ps=null!==(de=v.phoneNumber)&&void 0!==de?de:void 0,yl=null!==(We=v.photoURL)&&void 0!==We?We:void 0,Jd=null!==(Tt=v.tenantId)&&void 0!==Tt?Tt:void 0,Zd=null!==(Ht=v._redirectEventId)&&void 0!==Ht?Ht:void 0,eh=null!==(Rn=v.createdAt)&&void 0!==Rn?Rn:void 0,cp=null!==(Mn=v.lastLoginAt)&&void 0!==Mn?Mn:void 0,{uid:nf,emailVerified:th,isAnonymous:Ng,providerData:eu,stsTokenManager:rf}=v;xe(nf&&rf,m,"internal-error");const Ju=M.fromJSON(this.name,rf);xe("string"==typeof nf,m,"internal-error"),k(Qr,m.name),k(Zo,m.name),xe("boolean"==typeof th,m,"internal-error"),xe("boolean"==typeof Ng,m,"internal-error"),k(ps,m.name),k(yl,m.name),k(Jd,m.name),k(Zd,m.name),k(eh,m.name),k(cp,m.name);const nh=new ne({uid:nf,auth:m,email:Zo,emailVerified:th,displayName:Qr,isAnonymous:Ng,photoURL:yl,phoneNumber:ps,tenantId:Jd,stsTokenManager:Ju,createdAt:eh,lastLoginAt:cp});return eu&&Array.isArray(eu)&&(nh.providerData=eu.map(Zu=>Object.assign({},Zu))),Zd&&(nh._redirectEventId=Zd),nh}static _fromIdTokenResponse(m,v,S=!1){return(0,c.A)(function*(){const X=new M;X.updateFromServerResponse(v);const de=new ne({uid:v.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield le(de),de})()}static _fromGetAccountInfoResponse(m,v,S){return(0,c.A)(function*(){const X=v.users[0];xe(void 0!==X.localId,"internal-error");const de=void 0!==X.providerUserInfo?Lr(X.providerUserInfo):[],We=!(X.email&&X.passwordHash||de?.length),Tt=new M;Tt.updateFromIdToken(S);const Ht=new ne({uid:X.localId,auth:m,stsTokenManager:Tt,isAnonymous:We}),Rn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:de,metadata:new gt(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||de?.length)};return Object.assign(Ht,Rn),Ht})()}}const fe=new Map;function st(I){yn(I instanceof Function,"Expected a class definition");let m=fe.get(I);return m?(yn(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,fe.set(I,m),m)}const an=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(v,S){var X=this;return(0,c.A)(function*(){X.storage[v]=S})()}_get(v){var S=this;return(0,c.A)(function*(){const X=S.storage[v];return void 0===X?null:X})()}_remove(v){var S=this;return(0,c.A)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return I.type="NONE",I})();function dn(I,m,v){return`firebase:${I}:${m}:${v}`}class Dn{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:X,name:de}=this.auth;this.fullUserKey=dn(this.userKey,X.apiKey,de),this.fullPersistenceKey=dn("persistence",X.apiKey,de),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.A)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?ne._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,c.A)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,c.A)(function*(){if(!v.length)return new Dn(st(an),m,S);const X=(yield Promise.all(v.map(function(){var Rn=(0,c.A)(function*(Mn){if(yield Mn._isAvailable())return Mn});return function(Mn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let de=X[0]||st(an);const We=dn(S,m.config.apiKey,m.name);let Tt=null;for(const Rn of v)try{const Mn=yield Rn._get(We);if(Mn){const Qr=ne._fromJSON(m,Mn);Rn!==de&&(Tt=Qr),de=Rn;break}}catch{}const Ht=X.filter(Rn=>Rn._shouldAllowMigration);return de._shouldAllowMigration&&Ht.length?(de=Ht[0],Tt&&(yield de._set(We,Tt.toJSON())),yield Promise.all(v.map(function(){var Rn=(0,c.A)(function*(Mn){if(Mn!==de)try{yield Mn._remove(We)}catch{}});return function(Mn){return Rn.apply(this,arguments)}}())),new Dn(de,m,S)):new Dn(de,m,S)})()}}function gr(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ws(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(cn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Li(m))return"Blackberry";if(xi(m))return"Webos";if(Vr(m))return"Safari";if((m.includes("chrome/")||dr(m))&&!m.includes("edge/"))return"Chrome";if(vi(m))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function cn(I=(0,i.ZQ)()){return/firefox\//i.test(I)}function Vr(I=(0,i.ZQ)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function dr(I=(0,i.ZQ)()){return/crios\//i.test(I)}function ws(I=(0,i.ZQ)()){return/iemobile/i.test(I)}function vi(I=(0,i.ZQ)()){return/android/i.test(I)}function Li(I=(0,i.ZQ)()){return/blackberry/i.test(I)}function xi(I=(0,i.ZQ)()){return/webos/i.test(I)}function Ne(I=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Mt(I=(0,i.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function we(I=(0,i.ZQ)()){return Ne(I)||vi(I)||xi(I)||Li(I)||/windows phone/i.test(I)||ws(I)}function wt(I,m=[]){let v;switch(I){case"Browser":v=gr((0,i.ZQ)());break;case"Worker":v=`${gr((0,i.ZQ)())}-${I}`;break;default:v=I}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ue.SDK_VERSION}/${S}`}class qt{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=de=>new Promise((We,Tt)=>{try{We(m(de))}catch(Ht){Tt(Ht)}});S.onAbort=v,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,c.A)(function*(){if(v.auth.currentUser===m)return;const S=[];try{for(const X of v.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const de of S)try{de()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}function On(){return(On=(0,c.A)(function*(I,m={}){return Ve(I,"GET","/v2/passwordPolicy",Ee(I,m))})).apply(this,arguments)}class Hr{constructor(m){var v,S,X,de;const We=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=We.minPasswordLength)&&void 0!==v?v:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(de=m.forceUpgradeOnSignin)&&void 0!==de&&de,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,S,X,de,We,Tt;const Ht={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Ht),this.validatePasswordCharacterOptions(m,Ht),Ht.isValid&&(Ht.isValid=null===(v=Ht.meetsMinPasswordLength)||void 0===v||v),Ht.isValid&&(Ht.isValid=null===(S=Ht.meetsMaxPasswordLength)||void 0===S||S),Ht.isValid&&(Ht.isValid=null===(X=Ht.containsLowercaseLetter)||void 0===X||X),Ht.isValid&&(Ht.isValid=null===(de=Ht.containsUppercaseLetter)||void 0===de||de),Ht.isValid&&(Ht.isValid=null===(We=Ht.containsNumericCharacter)||void 0===We||We),Ht.isValid&&(Ht.isValid=null===(Tt=Ht.containsNonAlphanumericCharacter)||void 0===Tt||Tt),Ht}validatePasswordLengthOptions(m,v){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(v.meetsMinPasswordLength=m.length>=S),X&&(v.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,v){let S;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,v,S,X,de){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=de))}}class qr{constructor(m,v,S,X){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=st(v)),this._initializationPromise=this.queue((0,c.A)(function*(){var X,de;if(!S._deleted&&(S.persistenceManager=yield Dn.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(de=S.currentUser)||void 0===de?void 0:de.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.A)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(m){var v=this;return(0,c.A)(function*(){try{const S=yield $r(v,{idToken:m}),X=yield ne._fromGetAccountInfoResponse(v,S,m);yield v.directlySetCurrentUser(X)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(m){var v=this;return(0,c.A)(function*(){var S;if((0,ue._isFirebaseServerApp)(v.app)){const Tt=v.app.settings.authIdToken;return Tt?new Promise(Ht=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Tt).then(Ht,Ht))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let de=X,We=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Tt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,Ht=de?._redirectEventId,Rn=yield v.tryRedirectSignIn(m);(!Tt||Tt===Ht)&&Rn?.user&&(de=Rn.user,We=!0)}if(!de)return v.directlySetCurrentUser(null);if(!de._redirectEventId){if(We)try{yield v.beforeStateQueue.runMiddleware(de)}catch(Tt){de=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Tt))}return de?v.reloadAndSetCurrentUserOrClear(de):v.directlySetCurrentUser(null)}return xe(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===de._redirectEventId?v.directlySetCurrentUser(de):v.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(m){var v=this;return(0,c.A)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,c.A)(function*(){try{yield le(m)}catch(S){if("auth/network-request-failed"!==S?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,c.A)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,c.A)(function*(){if((0,ue._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const S=m?(0,i.Ku)(m):null;return S&&xe(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,c.A)(function*(){if(!S._deleted)return m&&xe(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,c.A)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.A)(function*(){return(0,ue._isFirebaseServerApp)(m.app)?Promise.reject(it(m)):(yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0))})()}setPersistence(m){var v=this;return(0,ue._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,c.A)(function*(){yield v.assertedPersistence.setPersistence(st(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,c.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const S=v._getPasswordPolicyInternal();return S.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,c.A)(function*(){const v=yield function Vn(I){return On.apply(this,arguments)}(m),S=new Hr(v);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new i.FA("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},v)}})}revokeAccessToken(m){var v=this;return(0,c.A)(function*(){if(v.currentUser){const S=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function Et(I,m){return $.apply(this,arguments)}(v,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,c.A)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(v);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,c.A)(function*(){if(!v.redirectPersistenceManager){const S=m&&st(m)||v._popupRedirectResolver;xe(S,v,"argument-error"),v.redirectPersistenceManager=yield Dn.create(v,[st(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,c.A)(function*(){var S,X;return v._isInitialized&&(yield v.queue((0,c.A)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,c.A)(function*(){if(m===v.currentUser)return v.queue((0,c.A)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,X){if(this._deleted)return()=>{};const de="function"==typeof v?v:v.next.bind(v);let We=!1;const Tt=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(Tt,this,"internal-error"),Tt.then(()=>{We||de(this.currentUser)}),"function"==typeof v){const Ht=m.addObserver(v,S,X);return()=>{We=!0,Ht()}}{const Ht=m.addObserver(v);return()=>{We=!0,Ht()}}}directlySetCurrentUser(m){var v=this;return(0,c.A)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.A)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const de=yield m._getAppCheckToken();return de&&(S["X-Firebase-AppCheck"]=de),S})()}_getAppCheckToken(){var m=this;return(0,c.A)(function*(){var v;const S=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return S?.error&&function pn(I,...m){Rt.logLevel<=Ie.$b.WARN&&Rt.warn(`Auth (${ue.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function Ir(I){return(0,i.Ku)(I)}class Qi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,i.tD)(v=>this.observer=v)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ms={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ao(I){return Ms.loadJS(I)}function oi(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Yr{constructor(m){this.type="recaptcha-enterprise",this.auth=Ir(m)}verify(m="verify",v=!1){var S=this;return(0,c.A)(function*(){function de(){return de=(0,c.A)(function*(Tt){if(!v){if(null==Tt.tenantId&&null!=Tt._agentRecaptchaConfig)return Tt._agentRecaptchaConfig.siteKey;if(null!=Tt.tenantId&&void 0!==Tt._tenantRecaptchaConfigs[Tt.tenantId])return Tt._tenantRecaptchaConfigs[Tt.tenantId].siteKey}return new Promise(function(){var Ht=(0,c.A)(function*(Rn,Mn){Or(Tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qr=>{if(void 0!==Qr.recaptchaKey){const Zo=new Lt(Qr);return null==Tt.tenantId?Tt._agentRecaptchaConfig=Zo:Tt._tenantRecaptchaConfigs[Tt.tenantId]=Zo,Rn(Zo.siteKey)}Mn(new Error("recaptcha Enterprise site key undefined"))}).catch(Qr=>{Mn(Qr)})});return function(Rn,Mn){return Ht.apply(this,arguments)}}())}),de.apply(this,arguments)}function We(Tt,Ht,Rn){const Mn=window.grecaptcha;Gt(Mn)?Mn.enterprise.ready(()=>{Mn.enterprise.execute(Tt,{action:m}).then(Qr=>{Ht(Qr)}).catch(()=>{Ht("NO_RECAPTCHA")})}):Rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Tt,Ht)=>{(function X(Tt){return de.apply(this,arguments)})(S.auth).then(Rn=>{if(!v&&Gt(window.grecaptcha))We(Rn,Tt,Ht);else{if(typeof window>"u")return void Ht(new Error("RecaptchaVerifier is only supported in browser"));let Mn=function Vi(){return Ms.recaptchaEnterpriseScript}();0!==Mn.length&&(Mn+=Rn),Ao(Mn).then(()=>{We(Rn,Tt,Ht)}).catch(Qr=>{Ht(Qr)})}}).catch(Rn=>{Ht(Rn)})})})()}}function Bi(I,m,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.A)(function*(I,m,v,S=!1){const X=new Yr(I);let de;try{de=yield X.verify(v)}catch{de=yield X.verify(v,!0)}const We=Object.assign({},m);return Object.assign(We,S?{captchaResp:de}:{captchaResponse:de}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function wr(I,m,v,S){return io.apply(this,arguments)}function io(){return io=(0,c.A)(function*(I,m,v,S){var X;if(null!==(X=I._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const de=yield Bi(I,m,v,"getOobCode"===v);return S(I,de)}return S(I,m).catch(function(){var de=(0,c.A)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Tt=yield Bi(I,m,v,"getOobCode"===v);return S(I,Tt)}return Promise.reject(We)});return function(We){return de.apply(this,arguments)}}())}),io.apply(this,arguments)}function Pi(I,m,v){const S=Ir(I);xe(S._canInitEmulator,S,"emulator-config-failed"),xe(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!!v?.disableWarnings,de=va(m),{host:We,port:Tt}=function js(I){const m=va(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const de=X[1];return{host:de,port:ni(S.substr(de.length+1))}}{const[de,We]=S.split(":");return{host:de,port:ni(We)}}}(m);S.config.emulator={url:`${de}//${We}${null===Tt?"":`:${Tt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:We,port:Tt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Rs(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function va(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function ni(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Bs{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return rn("not implemented")}_getIdTokenResponse(m){return rn("not implemented")}_linkToIdToken(m,v){return rn("not implemented")}_getReauthenticationResolver(m){return rn("not implemented")}}function so(I,m){return $s.apply(this,arguments)}function $s(){return($s=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:resetPassword",Ee(I,m))})).apply(this,arguments)}function fi(){return(fi=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ii(I,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function es(){return(es=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",Ee(I,m))})).apply(this,arguments)}function oo(I,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signInWithPassword",Ee(I,m))})).apply(this,arguments)}function As(I,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendOobCode",Ee(I,m))})).apply(this,arguments)}function tn(){return(tn=(0,c.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function Bn(I,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function Xr(I,m){return $i.apply(this,arguments)}function $i(){return($i=(0,c.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function ns(){return(ns=(0,c.A)(function*(I,m){return As(I,m)})).apply(this,arguments)}function rs(){return(rs=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,m))})).apply(this,arguments)}function qn(){return(qn=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signInWithEmailLink",Ee(I,m))})).apply(this,arguments)}class ds extends Bs{constructor(m,v,S,X=null){super("password",S),this._email=m,this._password=v,this._tenantId=X}static _fromEmailAndPassword(m,v){return new ds(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new ds(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,c.A)(function*(){switch(v.signInMethod){case"password":return wr(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oo);case"emailLink":return function kr(I,m){return rs.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:Ce(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,c.A)(function*(){switch(S.signInMethod){case"password":return wr(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ii);case"emailLink":return function vs(I,m){return qn.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:Ce(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ds(I,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signInWithIdp",Ee(I,m))})).apply(this,arguments)}class Ae extends Bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ae(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):Ce("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=v,de=(0,pe.Tt)(v,["providerId","signInMethod"]);if(!S||!X)return null;const We=new Ae(S,X);return We.idToken=de.idToken||void 0,We.accessToken=de.accessToken||void 0,We.secret=de.secret,We.nonce=de.nonce,We.pendingToken=de.pendingToken||null,We}_getIdTokenResponse(m){return Ds(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Ds(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ds(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,i.Am)(v)}return m}}function Qe(){return(Qe=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:sendVerificationCode",Ee(I,m))})).apply(this,arguments)}function Qt(){return(Qt=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,m))})).apply(this,arguments)}function vn(){return(vn=(0,c.A)(function*(I,m){const v=yield An(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,m));if(v.temporaryProof)throw $n(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Zn={USER_NOT_FOUND:"user-not-found"};function xn(){return(xn=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signInWithPhoneNumber",Ee(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Zn)})).apply(this,arguments)}class wn extends Bs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new wn({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new wn({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function mt(I,m){return Qt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function Sn(I,m){return vn.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Dr(I,m){return xn.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:X}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:de}=m;return S||v||X||de?new wn({verificationId:v,verificationCode:S,phoneNumber:X,temporaryProof:de}):null}}class zr{constructor(m){var v,S,X,de,We,Tt;const Ht=(0,i.I9)((0,i.hp)(m)),Rn=null!==(v=Ht.apiKey)&&void 0!==v?v:null,Mn=null!==(S=Ht.oobCode)&&void 0!==S?S:null,Qr=function Yn(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=Ht.mode)&&void 0!==X?X:null);xe(Rn&&Mn&&Qr,"argument-error"),this.apiKey=Rn,this.operation=Qr,this.code=Mn,this.continueUrl=null!==(de=Ht.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(We=Ht.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(Tt=Ht.tenantId)&&void 0!==Tt?Tt:null}static parseLink(m){const v=function Pr(I){const m=(0,i.I9)((0,i.hp)(I)).link,v=m?(0,i.I9)((0,i.hp)(m)).deep_link_id:null,S=(0,i.I9)((0,i.hp)(I)).deep_link_id;return(S?(0,i.I9)((0,i.hp)(S)).link:null)||S||v||m||I}(m);try{return new zr(v)}catch{return null}}}let Ki=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,S){return ds._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const X=zr.parseLink(S);return xe(X,"argument-error"),ds._fromEmailAndCode(v,X.code,X.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ai{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ar extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class pi extends ar{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return xe("providerId"in v&&"signInMethod"in v,"argument-error"),Ae._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return xe(m.idToken||m.accessToken,"argument-error"),Ae._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return pi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return pi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:de,nonce:We,providerId:Tt}=m;if(!S&&!X&&!v&&!de||!Tt)return null;try{return new pi(Tt)._credential({idToken:v,accessToken:S,nonce:We,pendingToken:de})}catch{return null}}}let Di=(()=>{class I extends ar{constructor(){super("facebook.com")}static credential(v){return Ae._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Rr=(()=>{class I extends ar{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Ae._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:X}=v;if(!S&&!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),go=(()=>{class I extends ar{constructor(){super("github.com")}static credential(v){return Ae._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Es extends Bs{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Ds(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Ds(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Ds(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:de}=v;return S&&X&&de&&S===X?new Es(S,de):null}static _create(m,v){return new Es(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ho extends Ai{constructor(m){xe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ho.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ho.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Es.fromJSON(m);return xe(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return Es._create(S,v)}catch{return null}}}let eo=(()=>{class I extends ar{constructor(){super("twitter.com")}static credential(v,S){return Ae._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=v;if(!S||!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Ea(I,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signUp",Ee(I,m))})).apply(this,arguments)}class bs{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,X=!1){return(0,c.A)(function*(){const de=yield ne._fromIdTokenResponse(m,S,X),We=Ss(S);return new bs({user:de,providerId:We,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,c.A)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=Ss(S);return new bs({user:m,providerId:X,_tokenResponse:S,operationType:v})})()}}function Ss(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function xo(I){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.A)(function*(I){var m;if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const v=Ir(I);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new bs({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Ea(v,{returnSecureToken:!0}),X=yield bs._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class aa extends i.g{constructor(m,v,S,X){var de;super(v.code,v.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,aa.prototype),this.customData={appName:m.name,tenantId:null!==(de=m.tenantId)&&void 0!==de?de:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,X){return new aa(m,v,S,X)}}function li(I,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?aa._fromErrorAndOperation(I,de,m,S):de})}function ba(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Po(I,m){return W.apply(this,arguments)}function W(){return W=(0,c.A)(function*(I,m){const v=(0,i.Ku)(I);yield ce(!0,v,m);const{providerUserInfo:S}=yield function Gn(I,m){return ln.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),X=ba(S||[]);return v.providerData=v.providerData.filter(de=>X.has(de.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),W.apply(this,arguments)}function J(I,m){return V.apply(this,arguments)}function V(){return(V=(0,c.A)(function*(I,m,v=!1){const S=yield Cr(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return bs._forOperation(I,"link",S)})).apply(this,arguments)}function ce(I,m,v){return je.apply(this,arguments)}function je(){return(je=(0,c.A)(function*(I,m,v){yield le(m);const X=!1===I?"provider-already-linked":"no-such-provider";xe(ba(m.providerData).has(v)===I,m.auth,X)})).apply(this,arguments)}function _n(I,m){return er.apply(this,arguments)}function er(){return(er=(0,c.A)(function*(I,m,v=!1){const{auth:S}=I;if((0,ue._isFirebaseServerApp)(S.app))return Promise.reject(it(S));const X="reauthenticate";try{const de=yield Cr(I,li(S,X,m,I),v);xe(de.idToken,S,"internal-error");const We=ti(de.idToken);xe(We,S,"internal-error");const{sub:Tt}=We;return xe(I.uid===Tt,S,"user-mismatch"),bs._forOperation(I,X,de)}catch(de){throw"auth/user-not-found"===de?.code&&Ce(S,"user-mismatch"),de}})).apply(this,arguments)}function Cs(I,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.A)(function*(I,m,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S="signIn",X=yield li(I,S,m),de=yield bs._fromIdTokenResponse(I,S,X);return v||(yield I._updateCurrentUser(de.user)),de})).apply(this,arguments)}function ss(I,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.A)(function*(I,m){return Cs(Ir(I),m)})).apply(this,arguments)}function Gs(I,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,c.A)(function*(I,m){const v=(0,i.Ku)(I);return yield ce(!1,v,m.providerId),J(v,m)})).apply(this,arguments)}function Wo(I,m){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.A)(function*(I,m){return _n((0,i.Ku)(I),m)})).apply(this,arguments)}function Mo(){return(Mo=(0,c.A)(function*(I,m){return An(I,"POST","/v1/accounts:signInWithCustomToken",Ee(I,m))})).apply(this,arguments)}function qi(I,m){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,c.A)(function*(I,m){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const v=Ir(I),S=yield function xs(I,m){return Mo.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),X=yield bs._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(X.user),X}),Cc.apply(this,arguments)}class Yi{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Ca._fromServerResponse(m,v):"totpInfo"in v?ao._fromServerResponse(m,v):Ce(m,"internal-error")}}class Ca extends Yi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Ca(v)}}class ao extends Yi{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new ao(v)}}function Ta(I,m,v){var S;xe((null===(S=v.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),xe(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(xe(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(xe(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function hs(I){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.A)(function*(I){const m=Ir(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Ro(I,m,v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.A)(function*(I,m,v){const S=Ir(I),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&Ta(S,X,v),yield wr(S,X,"getOobCode",Bn)})).apply(this,arguments)}function Su(I,m,v){return fr.apply(this,arguments)}function fr(){return fr=(0,c.A)(function*(I,m,v){yield so((0,i.Ku)(I),{oobCode:m,newPassword:v}).catch(function(){var S=(0,c.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&hs(I),X});return function(X){return S.apply(this,arguments)}}())}),fr.apply(this,arguments)}function il(I,m){return _o.apply(this,arguments)}function _o(){return _o=(0,c.A)(function*(I,m){yield function ai(I,m){return es.apply(this,arguments)}((0,i.Ku)(I),{oobCode:m})}),_o.apply(this,arguments)}function Oo(I,m){return No.apply(this,arguments)}function No(){return(No=(0,c.A)(function*(I,m){const v=(0,i.Ku)(I),S=yield so(v,{oobCode:m}),X=S.requestType;switch(xe(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(S.mfaInfo,v,"internal-error");default:xe(S.email,v,"internal-error")}let de=null;return S.mfaInfo&&(de=Yi._fromServerResponse(Ir(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:de},operation:X}})).apply(this,arguments)}function xu(I,m){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.A)(function*(I,m){const{data:v}=yield Oo((0,i.Ku)(I),m);return v.email})).apply(this,arguments)}function Uh(I,m,v){return La.apply(this,arguments)}function La(){return(La=(0,c.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Ir(I),We=yield wr(S,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ea).catch(Ht=>{throw"auth/password-does-not-meet-requirements"===Ht.code&&hs(I),Ht}),Tt=yield bs._fromIdTokenResponse(S,"signIn",We);return yield S._updateCurrentUser(Tt.user),Tt})).apply(this,arguments)}function Bl(I,m,v){return(0,ue._isFirebaseServerApp)(I.app)?Promise.reject(it(I)):ss((0,i.Ku)(I),Ki.credential(m,v)).catch(function(){var S=(0,c.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&hs(I),X});return function(X){return S.apply(this,arguments)}}())}function Ja(I,m,v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.A)(function*(I,m,v){const S=Ir(I),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function de(We,Tt){xe(Tt.handleCodeInApp,S,"argument-error"),Tt&&Ta(S,We,Tt)})(X,v),yield wr(S,X,"getOobCode",Xr)})).apply(this,arguments)}function Ic(I,m){const v=zr.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function Va(I,m,v){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=(0,i.Ku)(I),X=Ki.credentialWithLink(m,v||ur());return xe(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),ss(S,X)})).apply(this,arguments)}function ec(){return(ec=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:createAuthUri",Ee(I,m))})).apply(this,arguments)}function wc(I,m){return P.apply(this,arguments)}function P(){return P=(0,c.A)(function*(I,m){const S={identifier:m,continueUri:Pt()?ur():"http://localhost"},{signinMethods:X}=yield function Ua(I,m){return ec.apply(this,arguments)}((0,i.Ku)(I),S);return X||[]}),P.apply(this,arguments)}function te(I,m){return B.apply(this,arguments)}function B(){return B=(0,c.A)(function*(I,m){const v=(0,i.Ku)(I),X={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&Ta(v.auth,X,m);const{email:de}=yield function ci(I,m){return tn.apply(this,arguments)}(v.auth,X);de!==I.email&&(yield I.reload())}),B.apply(this,arguments)}function Y(I,m,v){return Me.apply(this,arguments)}function Me(){return Me=(0,c.A)(function*(I,m,v){const S=(0,i.Ku)(I),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&Ta(S.auth,de,v);const{email:We}=yield function wi(I,m){return ns.apply(this,arguments)}(S.auth,de);We!==I.email&&(yield I.reload())}),Me.apply(this,arguments)}function kt(){return(kt=(0,c.A)(function*(I,m){return Ve(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Un(I,m){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,c.A)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,i.Ku)(I),de={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},We=yield Cr(S,function Ct(I,m){return kt.apply(this,arguments)}(S.auth,de));S.displayName=We.displayName||null,S.photoURL=We.photoUrl||null;const Tt=S.providerData.find(({providerId:Ht})=>"password"===Ht);Tt&&(Tt.displayName=S.displayName,Tt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(We)}),Wr.apply(this,arguments)}function gi(I,m){const v=(0,i.Ku)(I);return(0,ue._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):pr(v,m,null)}function ri(I,m){return pr((0,i.Ku)(I),null,m)}function pr(I,m,v){return ii.apply(this,arguments)}function ii(){return ii=(0,c.A)(function*(I,m,v){const{auth:S}=I,de={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(de.email=m),v&&(de.password=v);const We=yield Cr(I,function Ar(I,m){return fi.apply(this,arguments)}(S,de));yield I._updateTokensIfNecessary(We,!0)}),ii.apply(this,arguments)}class Ri{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class co extends Ri{constructor(m,v,S,X){super(m,v,S),this.username=X}}class Ts extends Ri{constructor(m,v){super(m,"facebook.com",v)}}class ca extends co{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class zs extends Ri{constructor(m,v){super(m,"google.com",v)}}class Ns extends co{constructor(m,v,S){super(m,"twitter.com",v,S)}}function os(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function mi(I){var m,v;if(!I)return null;const{providerId:S}=I,X=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},de=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const We=null===(v=null===(m=ti(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(We)return new Ri(de,"anonymous"!==We&&"custom"!==We?We:null)}if(!S)return null;switch(S){case"facebook.com":return new Ts(de,X);case"github.com":return new ca(de,X);case"google.com":return new zs(de,X);case"twitter.com":return new Ns(de,X,I.screenName||null);case"custom":case"anonymous":return new Ri(de,null);default:return new Ri(de,S,X)}}(v)}class as{constructor(m,v,S){this.type=m,this.credential=v,this.user=S}static _fromIdtoken(m,v){return new as("enroll",m,v)}static _fromMfaPendingCredential(m){return new as("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return as._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return as._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Fo{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Ir(m),X=v.customData._serverResponse,de=(X.mfaInfo||[]).map(Tt=>Yi._fromServerResponse(S,Tt));xe(X.mfaPendingCredential,S,"internal-error");const We=as._fromMfaPendingCredential(X.mfaPendingCredential);return new Fo(We,de,function(){var Tt=(0,c.A)(function*(Ht){const Rn=yield Ht._process(S,We);delete X.mfaInfo,delete X.mfaPendingCredential;const Mn=Object.assign(Object.assign({},X),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(v.operationType){case"signIn":const Qr=yield bs._fromIdTokenResponse(S,v.operationType,Mn);return yield S._updateCurrentUser(Qr.user),Qr;case"reauthenticate":return xe(v.user,S,"internal-error"),bs._forOperation(v.user,v.operationType,Mn);default:Ce(S,"internal-error")}});return function(Ht){return Tt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,c.A)(function*(){return v.signInResolver(m)})()}}function Sc(I,m){var v;const S=(0,i.Ku)(I),X=m;return xe(m.customData.operationType,S,"argument-error"),xe(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),Fo._fromError(S,X)}class sl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>Yi._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new sl(m)}getSession(){var m=this;return(0,c.A)(function*(){return as._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var S=this;return(0,c.A)(function*(){const X=m,de=yield S.getSession(),We=yield Cr(S.user,X._process(S.user.auth,de,v));return yield S.user._updateTokensIfNecessary(We),S.user.reload()})()}unenroll(m){var v=this;return(0,c.A)(function*(){const S="string"==typeof m?m:m.uid,X=yield v.user.getIdToken();try{const de=yield Cr(v.user,function Hn(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(I,m))}(v.user.auth,{idToken:X,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:We})=>We!==S),yield v.user._updateTokensIfNecessary(de),yield v.user.reload()}catch(de){throw de}})()}}const ol=new WeakMap;function wa(I){const m=(0,i.Ku)(I);return ol.has(m)||ol.set(m,sl._fromUser(m)),ol.get(m)}const Hl="__sak";class Bh{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Hl,"1"),this.storage.removeItem(Hl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ou=(()=>{class I extends Bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),de=this.localCache[S];X!==de&&v(S,de,X)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Tt,Ht,Rn)=>{this.notifyListeners(Tt,Rn)});const X=v.key;S?this.detachListener():this.stopPolling();const de=()=>{const Tt=this.storage.getItem(X);!S&&this.localCache[X]===Tt||this.notifyListeners(X,Tt)},We=this.storage.getItem(X);!function me(){return(0,i.lT)()&&10===document.documentMode}()||We===v.newValue||v.newValue===v.oldValue?de():setTimeout(de,10)}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const de of Array.from(X))de(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var X=()=>super._set,de=this;return(0,c.A)(function*(){yield X().call(de,v,S),de.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,X=this;return(0,c.A)(function*(){const de=yield S().call(X,v);return X.localCache[v]=JSON.stringify(de),de})()}_remove(v){var S=()=>super._remove,X=this;return(0,c.A)(function*(){yield S().call(X,v),delete X.localCache[v]})()}}return I.type="LOCAL",I})(),xc=(()=>{class I extends Bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return I.type="SESSION",I})();let Wt=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(de=>de.isListeningto(v));if(S)return S;const X=new I(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,c.A)(function*(){const X=v,{eventId:de,eventType:We,data:Tt}=X.data,Ht=S.handlersMap[We];if(!Ht?.size)return;X.ports[0].postMessage({status:"ack",eventId:de,eventType:We});const Rn=Array.from(Ht).map(function(){var Qr=(0,c.A)(function*(Zo){return Zo(X.origin,Tt)});return function(Zo){return Qr.apply(this,arguments)}}()),Mn=yield function Nu(I){return Promise.all(I.map(function(){var m=(0,c.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Rn);X.ports[0].postMessage({status:"done",eventId:de,eventType:We,response:Mn})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Sr(I="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return I+v}class Lo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var X=this;return(0,c.A)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let We,Tt;return new Promise((Ht,Rn)=>{const Mn=Sr("",20);de.port1.start();const Qr=setTimeout(()=>{Rn(new Error("unsupported_event"))},S);Tt={messageChannel:de,onMessage(Zo){const ps=Zo;if(ps.data.eventId===Mn)switch(ps.data.status){case"ack":clearTimeout(Qr),We=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),Ht(ps.data.response);break;default:clearTimeout(Qr),clearTimeout(We),Rn(new Error("invalid_response"))}}},X.handlers.add(Tt),de.port1.addEventListener("message",Tt.onMessage),X.target.postMessage({eventType:m,eventId:Mn,data:v},[de.port2])}).finally(()=>{Tt&&X.removeMessageHandler(Tt)})})()}}function cs(){return window}function cl(){return typeof cs().WorkerGlobalScope<"u"&&"function"==typeof cs().importScripts}function zt(){return(zt=(0,c.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zl="firebaseLocalStorageDb",Xo="firebaseLocalStorage",Xs="fbase_key";class Gi{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ua(I,m){return I.transaction([Xo],m?"readwrite":"readonly").objectStore(Xo)}function Qs(){const I=indexedDB.open(zl,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Xo,{keyPath:Xs})}catch(X){v(X)}}),I.addEventListener("success",(0,c.A)(function*(){const S=I.result;S.objectStoreNames.contains(Xo)?m(S):(S.close(),yield function Xn(){const I=indexedDB.deleteDatabase(zl);return new Gi(I).toPromise()}(),m(yield Qs()))}))})}function Fd(I,m,v){return ku.apply(this,arguments)}function ku(){return(ku=(0,c.A)(function*(I,m,v){const S=ua(I,!0).put({[Xs]:m,value:v});return new Gi(S).toPromise()})).apply(this,arguments)}function Ld(){return(Ld=(0,c.A)(function*(I,m){const v=ua(I,!1).get(m),S=yield new Gi(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Fu(I,m){const v=ua(I,!0).delete(m);return new Gi(v).toPromise()}const O=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.A)(function*(){return v.db||(v.db=yield Qs()),v.db})()}_withRetries(v){var S=this;return(0,c.A)(function*(){let X=0;for(;;)try{const de=yield S._openDb();return yield v(de)}catch(de){if(X++>3)throw de;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.A)(function*(){return cl()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.A)(function*(){v.receiver=Wt._getInstance(function Gl(){return cl()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,c.A)(function*(X,de){return{keyProcessed:(yield v._poll()).includes(de.key)}});return function(X,de){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,c.A)(function*(X,de){return["keyChanged"]});return function(X,de){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.A)(function*(){var S,X;if(v.activeServiceWorker=yield function tc(){return zt.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Lo(v.activeServiceWorker);const de=yield v.sender._send("ping",{},800);de&&null!==(S=de[0])&&void 0!==S&&S.fulfilled&&null!==(X=de[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,c.A)(function*(){if(S.sender&&S.activeServiceWorker&&function nc(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const v=yield Qs();return yield Fd(v,Hl,"1"),yield Fu(v,Hl),!0}catch{}return!1})()}_withPendingWrite(v){var S=this;return(0,c.A)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var X=this;return(0,c.A)(function*(){return X._withPendingWrite((0,c.A)(function*(){return yield X._withRetries(de=>Fd(de,v,S)),X.localCache[v]=S,X.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,c.A)(function*(){const X=yield S._withRetries(de=>function $h(I,m){return Ld.apply(this,arguments)}(de,v));return S.localCache[v]=X,X})()}_remove(v){var S=this;return(0,c.A)(function*(){return S._withPendingWrite((0,c.A)(function*(){return yield S._withRetries(X=>Fu(X,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.A)(function*(){const S=yield v._withRetries(We=>{const Tt=ua(We,!1).getAll();return new Gi(Tt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const X=[],de=new Set;if(0!==S.length)for(const{fbase_key:We,value:Tt}of S)de.add(We),JSON.stringify(v.localCache[We])!==JSON.stringify(Tt)&&(v.notifyListeners(We,Tt),X.push(We));for(const We of Object.keys(v.localCache))v.localCache[We]&&!de.has(We)&&(v.notifyListeners(We,null),X.push(We));return X})()}notifyListeners(v,S){this.localCache[v]=S;const X=this.listeners[v];if(X)for(const de of Array.from(X))de(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),yt=1e12;class dt{constructor(m){this.auth=m,this.counter=yt,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new Cn(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||yt;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||yt))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,c.A)(function*(){var S;return null===(S=v._widgets.get(m||yt))||void 0===S||S.execute(),""})()}}class Cn{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;xe(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ir(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const br=oi("rcb"),Fr=new Le(3e4,6e4);class _i{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=cs().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return xe(function rc(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&kn(cs().grecaptcha)?Promise.resolve(cs().grecaptcha):new Promise((S,X)=>{const de=cs().setTimeout(()=>{X(et(m,"network-request-failed"))},Fr.get());cs()[br]=()=>{cs().clearTimeout(de),delete cs()[br];const Tt=cs().grecaptcha;if(!Tt||!kn(Tt))return void X(et(m,"internal-error"));const Ht=Tt.render;Tt.render=(Rn,Mn)=>{const Qr=Ht(Rn,Mn);return this.counter++,Qr},this.hostLanguage=v,S(Tt)},Ao(`${function Do(){return Ms.recaptchaV2Script}()}?${(0,i.Am)({onload:br,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(de),X(et(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=cs().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mc{load(m){return(0,c.A)(function*(){return new dt(m)})()}clearedOneInstance(){}}const ll="recaptcha",Rc={theme:"light",type:"image"};class Lu{constructor(m,v,S=Object.assign({},Rc)){this.parameters=S,this.type=ll,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ir(m),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;xe(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mc:new _i,this.validateStartingState()}verify(){var m=this;return(0,c.A)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(de=>{const We=Tt=>{Tt&&(m.tokenChangeListeners.delete(We),de(Tt))};m.tokenChangeListeners.add(We),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=cs()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.A)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.A)(function*(){xe(Pt()&&!cl(),m.auth,"internal-error"),yield function Hh(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function yr(I){return un.apply(this,arguments)}(m.auth);xe(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ic{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=wn._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function da(I,m,v){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Ir(I),X=yield Uu(S,m,(0,i.Ku)(v));return new ic(X,de=>ss(S,de))})).apply(this,arguments)}function ja(I,m,v){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,c.A)(function*(I,m,v){const S=(0,i.Ku)(I);yield ce(!1,S,"phone");const X=yield Uu(S.auth,m,(0,i.Ku)(v));return new ic(X,de=>Gs(S,de))})).apply(this,arguments)}function ha(I,m,v){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.A)(function*(I,m,v){const S=(0,i.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));const X=yield Uu(S.auth,m,(0,i.Ku)(v));return new ic(X,de=>Wo(S,de))})).apply(this,arguments)}function Uu(I,m,v){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,c.A)(function*(I,m,v){var S;const X=yield v.verify();try{let de;if(xe("string"==typeof X,I,"argument-error"),xe(v.type===ll,I,"argument-error"),de="string"==typeof m?{phoneNumber:m}:m,"session"in de){const We=de.session;if("phoneNumber"in de)return xe("enroll"===We.type,I,"internal-error"),(yield function $l(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:start",Ee(I,m))}(I,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{xe("signin"===We.type,I,"internal-error");const Tt=(null===(S=de.multiFactorHint)||void 0===S?void 0:S.uid)||de.multiFactorUid;return xe(Tt,I,"missing-multi-factor-info"),(yield function w(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:start",Ee(I,m))}(I,{mfaPendingCredential:We.credential,mfaEnrollmentId:Tt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function ke(I,m){return Qe.apply(this,arguments)}(I,{phoneNumber:de.phoneNumber,recaptchaToken:X});return We}}finally{v._reset()}}),Vd.apply(this,arguments)}function ju(I,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.A)(function*(I,m){const v=(0,i.Ku)(I);if((0,ue._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield J(v,m)})).apply(this,arguments)}let no=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Ir(v)}verifyPhoneNumber(v,S){return Uu(this.auth,v,(0,i.Ku)(S))}static credential(v,S){return wn._fromVerification(v,S)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:X}=v;return S&&X?wn._fromTokenResponse(S,X):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Qo(I,m){return m?st(m):(xe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ql extends Bs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ds(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Ds(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Ds(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Ud(I){return Cs(I.auth,new ql(I),I.bypassAuthState)}function Qf(I){const{auth:m,user:v}=I;return xe(v,m,"internal-error"),_n(v,new ql(I),I.bypassAuthState)}function Gh(I){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,c.A)(function*(I){const{auth:m,user:v}=I;return xe(v,m,"internal-error"),J(v,new ql(I),I.bypassAuthState)})).apply(this,arguments)}class Jf{constructor(m,v,S,X,de=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,c.A)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(de){m.reject(de)}});return function(S,X){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,c.A)(function*(){const{urlResponse:S,sessionId:X,postBody:de,tenantId:We,error:Tt,type:Ht}=m;if(Tt)return void v.reject(Tt);const Rn={auth:v.auth,requestUri:S,sessionId:X,tenantId:We||void 0,postBody:de||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ht)(Rn))}catch(Mn){v.reject(Mn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ud;case"linkViaPopup":case"linkViaRedirect":return Gh;case"reauthViaPopup":case"reauthViaRedirect":return Qf;default:Ce(this.auth,"internal-error")}}resolve(m){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zf=new Le(2e3,1e4);function $u(I,m,v){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(et(I,"operation-not-supported-in-this-environment"));const S=Ir(I);St(I,m,Ai);const X=Qo(S,v);return new ep(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function Hu(I,m,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,c.A)(function*(I,m,v){const S=(0,i.Ku)(I);if((0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(et(S.auth,"operation-not-supported-in-this-environment"));St(S.auth,m,Ai);const X=Qo(S.auth,v);return new ep(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function Gu(I,m,v){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.A)(function*(I,m,v){const S=(0,i.Ku)(I);St(S.auth,m,Ai);const X=Qo(S.auth,v);return new ep(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let ep=(()=>{class I extends Jf{constructor(v,S,X,de,We){super(v,S,de,We),this.provider=X,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.A)(function*(){const S=yield v.execute();return xe(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,c.A)(function*(){yn(1===v.filter.length,"Popup operations only handle one event");const S=Sr();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(et(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Zf.get())};v()}}return I.currentPopupAction=null,I})();const zh="pendingRedirect",Da=new Map;class Yl extends Jf{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,c.A)(function*(){let S=Da.get(v.auth._key());if(!S){try{const de=(yield function uo(I,m){return jd.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(de)}catch(X){S=()=>Promise.reject(X)}Da.set(v.auth._key(),S)}return v.bypassAuthState||Da.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,c.A)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function jd(){return(jd=(0,c.A)(function*(I,m){const v=Kh(m),S=dl(I);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(v));return yield S._remove(v),X})).apply(this,arguments)}function ul(I,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.A)(function*(I,m){return dl(I)._set(Kh(m),"true")})).apply(this,arguments)}function Wh(){Da.clear()}function Nc(I,m){Da.set(I._key(),m)}function dl(I){return st(I._redirectPersistence)}function Kh(I){return dn(zh,I.config.apiKey,I.name)}function oc(I,m,v){return function Sa(I,m,v){return zu.apply(this,arguments)}(I,m,v)}function zu(){return(zu=(0,c.A)(function*(I,m,v){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Ir(I);St(I,m,Ai),yield S._initializationPromise;const X=Qo(S,v);return yield ul(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function hl(I,m,v){return function Wu(I,m,v){return xa.apply(this,arguments)}(I,m,v)}function xa(){return(xa=(0,c.A)(function*(I,m,v){const S=(0,i.Ku)(I);if(St(S.auth,m,Ai),(0,ue._isFirebaseServerApp)(S.auth.app))return Promise.reject(it(S.auth));yield S.auth._initializationPromise;const X=Qo(S.auth,v);yield ul(X,S.auth);const de=yield Yu(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",de)})).apply(this,arguments)}function kc(I,m,v){return function Fc(I,m,v){return Ku.apply(this,arguments)}(I,m,v)}function Ku(){return(Ku=(0,c.A)(function*(I,m,v){const S=(0,i.Ku)(I);St(S.auth,m,Ai),yield S.auth._initializationPromise;const X=Qo(S.auth,v);yield ce(!1,S,m.providerId),yield ul(X,S.auth);const de=yield Yu(S);return X._openRedirect(S.auth,m,"linkViaRedirect",de)})).apply(this,arguments)}function tp(I,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.A)(function*(I,m){return yield Ir(I)._initializationPromise,qu(I,m,!1)})).apply(this,arguments)}function qu(I,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.A)(function*(I,m,v=!1){if((0,ue._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const S=Ir(I),X=Qo(S,m),We=yield new Yl(S,X,v).execute();return We&&!v&&(delete We.user._redirectEventId,yield S._persistUserIfCurrent(We.user),yield S._setRedirectUser(null,m)),We})).apply(this,arguments)}function Yu(I){return fl.apply(this,arguments)}function fl(){return(fl=(0,c.A)(function*(I){const m=Sr(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class np{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function pl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hd(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!Hd(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(et(this.auth,X))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($d(m))}saveEventToCache(m){this.cachedEventUids.add($d(m)),this.lastProcessedEventTime=Date.now()}}function $d(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Hd({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===m?.code}function Eo(I){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.A)(function*(I,m={}){return Ve(I,"GET","/v1/projects",m)})).apply(this,arguments)}const qh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vc=/^https?/;function rp(){return(rp=(0,c.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield Eo(I);for(const v of m)try{if(ml(v))return}catch{}Ce(I,"unauthorized-domain")})).apply(this,arguments)}function ml(I){const m=ur(),{protocol:v,hostname:S}=new URL(m);if(I.startsWith("chrome-extension://")){const We=new URL(I);return""===We.hostname&&""===S?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&We.hostname===S}if(!Vc.test(v))return!1;if(qh.test(I))return S===I;const X=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const ip=new Le(3e4,6e4);function xg(){const I=cs().___jsl;if(I?.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let Fs=null;const Zm=new Le(5e3,15e3),Xl="__/auth/iframe",Mg="emulator/auth/iframe",Xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ws=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xu(I){const m=I.config;xe(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?tt(m,Mg):`https://${I.config.authDomain}/${Xl}`,S={apiKey:m.apiKey,appName:I.name,v:ue.SDK_VERSION},X=Ws.get(I.config.apiHost);X&&(S.eid=X);const de=I._getFrameworks();return de.length&&(S.fw=de.join(",")),`${v}?${(0,i.Am)(S).slice(1)}`}function Qh(){return Qh=(0,c.A)(function*(I){const m=yield function Pg(I){return Fs=Fs||function Yh(I){return new Promise((m,v)=>{var S,X,de;function We(){xg(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{xg(),v(et(I,"network-request-failed"))},timeout:ip.get()})}if(null!==(X=null===(S=cs().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(de=cs().gapi)||void 0===de||!de.load){const Tt=oi("iframefcb");return cs()[Tt]=()=>{gapi.load?We():v(et(I,"network-request-failed"))},Ao(`${function $o(){return Ms.gapiScript}()}?onload=${Tt}`).catch(Ht=>v(Ht))}We()}}).catch(m=>{throw Fs=null,m})}(I),Fs}(I),v=cs().gapi;return xe(v,I,"internal-error"),m.open({where:document.body,url:Xu(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xh,dontclear:!0},S=>new Promise(function(){var X=(0,c.A)(function*(de,We){yield S.restyle({setHideOnLeave:!1});const Tt=et(I,"network-request-failed"),Ht=cs().setTimeout(()=>{We(Tt)},Zm.get());function Rn(){cs().clearTimeout(Ht),de(S)}S.ping(Rn).then(Rn,()=>{We(Tt)})});return function(de,We){return X.apply(this,arguments)}}()))}),Qh.apply(this,arguments)}const Zs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wd="__/auth/handler",Jo="emulator/auth/handler",Kd=encodeURIComponent("fac");function cc(I,m,v,S,X,de){return qd.apply(this,arguments)}function qd(){return(qd=(0,c.A)(function*(I,m,v,S,X,de){xe(I.config.authDomain,I,"auth-domain-config-required"),xe(I.config.apiKey,I,"invalid-api-key");const We={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:S,v:ue.SDK_VERSION,eventId:X};if(m instanceof Ai){m.setDefaultLanguage(I.languageCode),We.providerId=m.providerId||"",(0,i.Im)(m.getCustomParameters())||(We.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Mn,Qr]of Object.entries(de||{}))We[Mn]=Qr}if(m instanceof ar){const Mn=m.getScopes().filter(Qr=>""!==Qr);Mn.length>0&&(We.scopes=Mn.join(","))}I.tenantId&&(We.tid=I.tenantId);const Tt=We;for(const Mn of Object.keys(Tt))void 0===Tt[Mn]&&delete Tt[Mn];const Ht=yield I._getAppCheckToken(),Rn=Ht?`#${Kd}=${encodeURIComponent(Ht)}`:"";return`${function sp({config:I}){return I.emulator?tt(I,Jo):`https://${I.authDomain}/${Wd}`}(I)}?${(0,i.Am)(Tt).slice(1)}${Rn}`})).apply(this,arguments)}const Yd="webStorageSupport",Jh=class Og{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xc,this._completeRedirectFn=qu,this._overrideRedirectResult=Nc}_openPopup(m,v,S,X){var de=this;return(0,c.A)(function*(){var We;yn(null===(We=de.eventManagers[m._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const Tt=yield cc(m,v,S,ur(),X);return function $c(I,m,v,S=500,X=600){const de=Math.max((window.screen.availHeight-X)/2,0).toString(),We=Math.max((window.screen.availWidth-S)/2,0).toString();let Tt="";const Ht=Object.assign(Object.assign({},Zs),{width:S.toString(),height:X.toString(),top:de,left:We}),Rn=(0,i.ZQ)().toLowerCase();v&&(Tt=dr(Rn)?"_blank":v),cn(Rn)&&(m=m||"http://localhost",Ht.scrollbars="yes");const Mn=Object.entries(Ht).reduce((Zo,[ps,yl])=>`${Zo}${ps}=${yl},`,"");if(function ge(I=(0,i.ZQ)()){var m;return Ne(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Rn)&&"_self"!==Tt)return function Rg(I,m){const v=document.createElement("a");v.href=I,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",Tt),new zd(null);const Qr=window.open(m||"",Tt,Mn);xe(Qr,I,"popup-blocked");try{Qr.focus()}catch{}return new zd(Qr)}(m,Tt,Sr())})()}_openRedirect(m,v,S,X){var de=this;return(0,c.A)(function*(){return yield de._originValidation(m),function Ps(I){cs().location.href=I}(yield cc(m,v,S,ur(),X)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:X,promise:de}=this.eventManagers[v];return X?Promise.resolve(X):(yn(de,"If manager is not set, promise should be"),de)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,c.A)(function*(){const S=yield function ac(I){return Qh.apply(this,arguments)}(m),X=new np(m);return S.register("authEvent",de=>(xe(de?.authEvent,m,"invalid-auth-event"),{status:X.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:X},v.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Yd,{type:Yd},X=>{var de;const We=null===(de=X?.[0])||void 0===de?void 0:de[Yd];void 0!==We&&v(!!We),Ce(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function gl(I){return rp.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return we()||Vr()||Ne()}};class op{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return rn("unexpected MultiFactorSessionType")}}}class Hc extends op{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Hc(m)}_finalizeEnroll(m,v,S){return function kd(I,m){return Ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(I,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function N(I,m){return Ve(I,"POST","/v2/accounts/mfaSignIn:finalize",Ee(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ql=(()=>{class I{constructor(){}static assertion(v){return Hc._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Zh="@firebase/auth";class Qd{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,c.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{m(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,i.XA)("authIdTokenMaxAge"),function Ji(I){Ms=I}({loadJS:I=>new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=m,S.onerror=X=>{const de=et("internal-error");de.customData=X,v(de)},S.type="text/javascript",S.charset="UTF-8",function Gc(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Qu(I){(0,ue._registerComponent)(new Oe.uA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),de=m.getProvider("app-check-internal"),{apiKey:We,authDomain:Tt}=S.options;xe(We&&!We.includes(":"),"invalid-api-key",{appName:S.name});const Ht={apiKey:We,authDomain:Tt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wt(I)},Rn=new qr(S,X,de,Ht);return function Xa(I,m){const v=m?.persistence||[],S=(Array.isArray(v)?v:[v]).map(st);m?.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(S,m?.popupRedirectResolver)}(Rn,v),Rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Oe.uA("auth-internal",m=>{const v=Ir(m.getProvider("auth").getImmediate());return new Qd(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Zh,"1.7.9",function ap(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,ue.registerVersion)(Zh,"1.7.9","esm2017")}("Browser")},9583:(on,Je,j)=>{j.d(Je,{fS:()=>_m,Ix:()=>uu,H6:()=>jp,T1:()=>Ls,Wq:()=>pu,uY:()=>hd,W6:()=>tt,Ci:()=>fd,YQ:()=>mc,NJ:()=>Sl,Dc:()=>Gt,GA:()=>Jp,cm:()=>fi,K$:()=>Bt,FA:()=>tr,lo:()=>ui,bI:()=>Yt,qG:()=>Xa,qi:()=>yn,c8:()=>em,gS:()=>x0,C3:()=>_v,hq:()=>L0,me:()=>ev,rJ:()=>x_,Cs:()=>P_,vN:()=>Jy,kd:()=>S0,CL:()=>k0,LA:()=>tv,H9:()=>lu,ol:()=>am,Q5:()=>dd,Os:()=>O_,FD:()=>Mf,rf:()=>U_,Ws:()=>gs,z6:()=>wh,x7:()=>w0,nY:()=>Pl,_e:()=>cv,GG:()=>A0,kU:()=>BE,Rr:()=>bo,aU:()=>om,GV:()=>HE,AB:()=>y0,$1:()=>v0,po:()=>Tf,St:()=>g0,aQ:()=>H_,FC:()=>lv,My:()=>_0,P:()=>V_,B:()=>Ef,yx:()=>Zy,c4:()=>N0,O5:()=>F0,BN:()=>D0,He:()=>Ot,lN:()=>I0,HM:()=>sv,EO:()=>iv,mZ:()=>$_,iB:()=>lm,_M:()=>m0});var Ue,Se,c=j(467),ue=j(7852),i=j(1362),Ie=j(8041),pe=j(1076),Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={};(function(){var d;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function h(ot,Fe,Ke){Ke||(Ke=0);var at=Array(16);if("string"==typeof Fe)for(var ht=0;16>ht;++ht)at[ht]=Fe.charCodeAt(Ke++)|Fe.charCodeAt(Ke++)<<8|Fe.charCodeAt(Ke++)<<16|Fe.charCodeAt(Ke++)<<24;else for(ht=0;16>ht;++ht)at[ht]=Fe[Ke++]|Fe[Ke++]<<8|Fe[Ke++]<<16|Fe[Ke++]<<24;var bt=ot.g[3],ze=(Fe=ot.g[0])+(bt^(Ke=ot.g[1])&((ht=ot.g[2])^bt))+at[0]+3614090360&4294967295;ze=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=(Ke=(ht=(bt=(Fe=Ke+(ze<<7&4294967295|ze>>>25))+((ze=bt+(ht^Fe&(Ke^ht))+at[1]+3905402710&4294967295)<<12&4294967295|ze>>>20))+((ze=ht+(Ke^bt&(Fe^Ke))+at[2]+606105819&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(Fe^ht&(bt^Fe))+at[3]+3250441966&4294967295)<<22&4294967295|ze>>>10))+((ze=Fe+(bt^Ke&(ht^bt))+at[4]+4118548399&4294967295)<<7&4294967295|ze>>>25))+((ze=bt+(ht^Fe&(Ke^ht))+at[5]+1200080426&4294967295)<<12&4294967295|ze>>>20))+((ze=ht+(Ke^bt&(Fe^Ke))+at[6]+2821735955&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(Fe^ht&(bt^Fe))+at[7]+4249261313&4294967295)<<22&4294967295|ze>>>10))+((ze=Fe+(bt^Ke&(ht^bt))+at[8]+1770035416&4294967295)<<7&4294967295|ze>>>25))+((ze=bt+(ht^Fe&(Ke^ht))+at[9]+2336552879&4294967295)<<12&4294967295|ze>>>20))+((ze=ht+(Ke^bt&(Fe^Ke))+at[10]+4294925233&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(Fe^ht&(bt^Fe))+at[11]+2304563134&4294967295)<<22&4294967295|ze>>>10))+((ze=Fe+(bt^Ke&(ht^bt))+at[12]+1804603682&4294967295)<<7&4294967295|ze>>>25))+((ze=bt+(ht^Fe&(Ke^ht))+at[13]+4254626195&4294967295)<<12&4294967295|ze>>>20))+((ze=ht+(Ke^bt&(Fe^Ke))+at[14]+2792965006&4294967295)<<17&4294967295|ze>>>15))+((ze=Ke+(Fe^ht&(bt^Fe))+at[15]+1236535329&4294967295)<<22&4294967295|ze>>>10))+((ze=Fe+(ht^bt&(Ke^ht))+at[1]+4129170786&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^ht&(Fe^Ke))+at[6]+3225465664&4294967295)<<9&4294967295|ze>>>23))+((ze=ht+(Fe^Ke&(bt^Fe))+at[11]+643717713&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^Fe&(ht^bt))+at[0]+3921069994&4294967295)<<20&4294967295|ze>>>12))+((ze=Fe+(ht^bt&(Ke^ht))+at[5]+3593408605&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^ht&(Fe^Ke))+at[10]+38016083&4294967295)<<9&4294967295|ze>>>23))+((ze=ht+(Fe^Ke&(bt^Fe))+at[15]+3634488961&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^Fe&(ht^bt))+at[4]+3889429448&4294967295)<<20&4294967295|ze>>>12))+((ze=Fe+(ht^bt&(Ke^ht))+at[9]+568446438&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^ht&(Fe^Ke))+at[14]+3275163606&4294967295)<<9&4294967295|ze>>>23))+((ze=ht+(Fe^Ke&(bt^Fe))+at[3]+4107603335&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^Fe&(ht^bt))+at[8]+1163531501&4294967295)<<20&4294967295|ze>>>12))+((ze=Fe+(ht^bt&(Ke^ht))+at[13]+2850285829&4294967295)<<5&4294967295|ze>>>27))+((ze=bt+(Ke^ht&(Fe^Ke))+at[2]+4243563512&4294967295)<<9&4294967295|ze>>>23))+((ze=ht+(Fe^Ke&(bt^Fe))+at[7]+1735328473&4294967295)<<14&4294967295|ze>>>18))+((ze=Ke+(bt^Fe&(ht^bt))+at[12]+2368359562&4294967295)<<20&4294967295|ze>>>12))+((ze=Fe+(Ke^ht^bt)+at[5]+4294588738&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(Fe^Ke^ht)+at[8]+2272392833&4294967295)<<11&4294967295|ze>>>21))+((ze=ht+(bt^Fe^Ke)+at[11]+1839030562&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(ht^bt^Fe)+at[14]+4259657740&4294967295)<<23&4294967295|ze>>>9))+((ze=Fe+(Ke^ht^bt)+at[1]+2763975236&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(Fe^Ke^ht)+at[4]+1272893353&4294967295)<<11&4294967295|ze>>>21))+((ze=ht+(bt^Fe^Ke)+at[7]+4139469664&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(ht^bt^Fe)+at[10]+3200236656&4294967295)<<23&4294967295|ze>>>9))+((ze=Fe+(Ke^ht^bt)+at[13]+681279174&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(Fe^Ke^ht)+at[0]+3936430074&4294967295)<<11&4294967295|ze>>>21))+((ze=ht+(bt^Fe^Ke)+at[3]+3572445317&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(ht^bt^Fe)+at[6]+76029189&4294967295)<<23&4294967295|ze>>>9))+((ze=Fe+(Ke^ht^bt)+at[9]+3654602809&4294967295)<<4&4294967295|ze>>>28))+((ze=bt+(Fe^Ke^ht)+at[12]+3873151461&4294967295)<<11&4294967295|ze>>>21))+((ze=ht+(bt^Fe^Ke)+at[15]+530742520&4294967295)<<16&4294967295|ze>>>16))+((ze=Ke+(ht^bt^Fe)+at[2]+3299628645&4294967295)<<23&4294967295|ze>>>9))+((ze=Fe+(ht^(Ke|~bt))+at[0]+4096336452&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(Fe|~ht))+at[7]+1126891415&4294967295)<<10&4294967295|ze>>>22))+((ze=ht+(Fe^(bt|~Ke))+at[14]+2878612391&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(bt^(ht|~Fe))+at[5]+4237533241&4294967295)<<21&4294967295|ze>>>11))+((ze=Fe+(ht^(Ke|~bt))+at[12]+1700485571&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(Fe|~ht))+at[3]+2399980690&4294967295)<<10&4294967295|ze>>>22))+((ze=ht+(Fe^(bt|~Ke))+at[10]+4293915773&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(bt^(ht|~Fe))+at[1]+2240044497&4294967295)<<21&4294967295|ze>>>11))+((ze=Fe+(ht^(Ke|~bt))+at[8]+1873313359&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(Fe|~ht))+at[15]+4264355552&4294967295)<<10&4294967295|ze>>>22))+((ze=ht+(Fe^(bt|~Ke))+at[6]+2734768916&4294967295)<<15&4294967295|ze>>>17))+((ze=Ke+(bt^(ht|~Fe))+at[13]+1309151649&4294967295)<<21&4294967295|ze>>>11))+((bt=(Fe=Ke+((ze=Fe+(ht^(Ke|~bt))+at[4]+4149444226&4294967295)<<6&4294967295|ze>>>26))+((ze=bt+(Ke^(Fe|~ht))+at[11]+3174756917&4294967295)<<10&4294967295|ze>>>22))^((ht=bt+((ze=ht+(Fe^(bt|~Ke))+at[2]+718787259&4294967295)<<15&4294967295|ze>>>17))|~Fe))+at[9]+3951481745&4294967295,ot.g[0]=ot.g[0]+Fe&4294967295,ot.g[1]=ot.g[1]+(ht+(ze<<21&4294967295|ze>>>11))&4294967295,ot.g[2]=ot.g[2]+ht&4294967295,ot.g[3]=ot.g[3]+bt&4294967295}function b(ot,Fe){this.h=Fe;for(var Ke=[],at=!0,ht=ot.length-1;0<=ht;ht--){var bt=0|ot[ht];at&&bt==Fe||(Ke[ht]=bt,at=!1)}this.g=Ke}(function e(ot,Fe){function Ke(){}Ke.prototype=Fe.prototype,ot.D=Fe.prototype,ot.prototype=new Ke,ot.prototype.constructor=ot,ot.C=function(at,ht,bt){for(var ze=Array(arguments.length-2),mu=2;mu<arguments.length;mu++)ze[mu-2]=arguments[mu];return Fe.prototype[ht].apply(at,ze)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ot,Fe){void 0===Fe&&(Fe=ot.length);for(var Ke=Fe-this.blockSize,at=this.B,ht=this.h,bt=0;bt<Fe;){if(0==ht)for(;bt<=Ke;)h(this,ot,bt),bt+=this.blockSize;if("string"==typeof ot){for(;bt<Fe;)if(at[ht++]=ot.charCodeAt(bt++),ht==this.blockSize){h(this,at),ht=0;break}}else for(;bt<Fe;)if(at[ht++]=ot[bt++],ht==this.blockSize){h(this,at),ht=0;break}}this.h=ht,this.o+=Fe},o.prototype.v=function(){var ot=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ot[0]=128;for(var Fe=1;Fe<ot.length-8;++Fe)ot[Fe]=0;var Ke=8*this.o;for(Fe=ot.length-8;Fe<ot.length;++Fe)ot[Fe]=255&Ke,Ke/=256;for(this.u(ot),ot=Array(16),Fe=Ke=0;4>Fe;++Fe)for(var at=0;32>at;at+=8)ot[Ke++]=this.g[Fe]>>>at&255;return ot};var x={};function F(ot){return-128<=ot&&128>ot?function _(ot,Fe){var Ke=x;return Object.prototype.hasOwnProperty.call(Ke,ot)?Ke[ot]:Ke[ot]=Fe(ot)}(ot,function(Fe){return new b([0|Fe],0>Fe?-1:0)}):new b([0|ot],0>ot?-1:0)}function K(ot){if(isNaN(ot)||!isFinite(ot))return ve;if(0>ot)return nn(K(-ot));for(var Fe=[],Ke=1,at=0;ot>=Ke;at++)Fe[at]=ot/Ke|0,Ke*=4294967296;return new b(Fe,0)}var ve=F(0),$e=F(1),_t=F(16777216);function $t(ot){if(0!=ot.h)return!1;for(var Fe=0;Fe<ot.g.length;Fe++)if(0!=ot.g[Fe])return!1;return!0}function hn(ot){return-1==ot.h}function nn(ot){for(var Fe=ot.g.length,Ke=[],at=0;at<Fe;at++)Ke[at]=~ot.g[at];return new b(Ke,~ot.h).add($e)}function Qn(ot,Fe){return ot.add(nn(Fe))}function cr(ot,Fe){for(;(65535&ot[Fe])!=ot[Fe];)ot[Fe+1]+=ot[Fe]>>>16,ot[Fe]&=65535,Fe++}function nr(ot,Fe){this.g=ot,this.h=Fe}function Nr(ot,Fe){if($t(Fe))throw Error("division by zero");if($t(ot))return new nr(ve,ve);if(hn(ot))return Fe=Nr(nn(ot),Fe),new nr(nn(Fe.g),nn(Fe.h));if(hn(Fe))return Fe=Nr(ot,nn(Fe)),new nr(nn(Fe.g),Fe.h);if(30<ot.g.length){if(hn(ot)||hn(Fe))throw Error("slowDivide_ only works with positive integers.");for(var Ke=$e,at=Fe;0>=at.l(ot);)Ke=Ni(Ke),at=Ni(at);var ht=si(Ke,1),bt=si(at,1);for(at=si(at,2),Ke=si(Ke,2);!$t(at);){var ze=bt.add(at);0>=ze.l(ot)&&(ht=ht.add(Ke),bt=ze),at=si(at,1),Ke=si(Ke,1)}return Fe=Qn(ot,ht.j(Fe)),new nr(ht,Fe)}for(ht=ve;0<=ot.l(Fe);){for(Ke=Math.max(1,Math.floor(ot.m()/Fe.m())),at=48>=(at=Math.ceil(Math.log(Ke)/Math.LN2))?1:Math.pow(2,at-48),ze=(bt=K(Ke)).j(Fe);hn(ze)||0<ze.l(ot);)ze=(bt=K(Ke-=at)).j(Fe);$t(bt)&&(bt=$e),ht=ht.add(bt),ot=Qn(ot,ze)}return new nr(ht,ot)}function Ni(ot){for(var Fe=ot.g.length+1,Ke=[],at=0;at<Fe;at++)Ke[at]=ot.i(at)<<1|ot.i(at-1)>>>31;return new b(Ke,ot.h)}function si(ot,Fe){var Ke=Fe>>5;Fe%=32;for(var at=ot.g.length-Ke,ht=[],bt=0;bt<at;bt++)ht[bt]=0<Fe?ot.i(bt+Ke)>>>Fe|ot.i(bt+Ke+1)<<32-Fe:ot.i(bt+Ke);return new b(ht,ot.h)}(d=b.prototype).m=function(){if(hn(this))return-nn(this).m();for(var ot=0,Fe=1,Ke=0;Ke<this.g.length;Ke++){var at=this.i(Ke);ot+=(0<=at?at:4294967296+at)*Fe,Fe*=4294967296}return ot},d.toString=function(ot){if(2>(ot=ot||10)||36<ot)throw Error("radix out of range: "+ot);if($t(this))return"0";if(hn(this))return"-"+nn(this).toString(ot);for(var Fe=K(Math.pow(ot,6)),Ke=this,at="";;){var ht=Nr(Ke,Fe).g,bt=((0<(Ke=Qn(Ke,ht.j(Fe))).g.length?Ke.g[0]:Ke.h)>>>0).toString(ot);if($t(Ke=ht))return bt+at;for(;6>bt.length;)bt="0"+bt;at=bt+at}},d.i=function(ot){return 0>ot?0:ot<this.g.length?this.g[ot]:this.h},d.l=function(ot){return hn(ot=Qn(this,ot))?-1:$t(ot)?0:1},d.abs=function(){return hn(this)?nn(this):this},d.add=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ke=[],at=0,ht=0;ht<=Fe;ht++){var bt=at+(65535&this.i(ht))+(65535&ot.i(ht)),ze=(bt>>>16)+(this.i(ht)>>>16)+(ot.i(ht)>>>16);at=ze>>>16,Ke[ht]=(ze&=65535)<<16|(bt&=65535)}return new b(Ke,-2147483648&Ke[Ke.length-1]?-1:0)},d.j=function(ot){if($t(this)||$t(ot))return ve;if(hn(this))return hn(ot)?nn(this).j(nn(ot)):nn(nn(this).j(ot));if(hn(ot))return nn(this.j(nn(ot)));if(0>this.l(_t)&&0>ot.l(_t))return K(this.m()*ot.m());for(var Fe=this.g.length+ot.g.length,Ke=[],at=0;at<2*Fe;at++)Ke[at]=0;for(at=0;at<this.g.length;at++)for(var ht=0;ht<ot.g.length;ht++){var bt=this.i(at)>>>16,ze=65535&this.i(at),mu=ot.i(ht)>>>16,eg=65535&ot.i(ht);Ke[2*at+2*ht]+=ze*eg,cr(Ke,2*at+2*ht),Ke[2*at+2*ht+1]+=bt*eg,cr(Ke,2*at+2*ht+1),Ke[2*at+2*ht+1]+=ze*mu,cr(Ke,2*at+2*ht+1),Ke[2*at+2*ht+2]+=bt*mu,cr(Ke,2*at+2*ht+2)}for(at=0;at<Fe;at++)Ke[at]=Ke[2*at+1]<<16|Ke[2*at];for(at=Fe;at<2*Fe;at++)Ke[at]=0;return new b(Ke,0)},d.A=function(ot){return Nr(this,ot).h},d.and=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ke=[],at=0;at<Fe;at++)Ke[at]=this.i(at)&ot.i(at);return new b(Ke,this.h&ot.h)},d.or=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ke=[],at=0;at<Fe;at++)Ke[at]=this.i(at)|ot.i(at);return new b(Ke,this.h|ot.h)},d.xor=function(ot){for(var Fe=Math.max(this.g.length,ot.g.length),Ke=[],at=0;at<Fe;at++)Ke[at]=this.i(at)^ot.i(at);return new b(Ke,this.h^ot.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Se=be.Md5=o,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=K,b.fromString=function ie(ot,Fe){if(0==ot.length)throw Error("number format error: empty string");if(2>(Fe=Fe||10)||36<Fe)throw Error("radix out of range: "+Fe);if("-"==ot.charAt(0))return nn(ie(ot.substring(1),Fe));if(0<=ot.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ke=K(Math.pow(Fe,8)),at=ve,ht=0;ht<ot.length;ht+=8){var bt=Math.min(8,ot.length-ht),ze=parseInt(ot.substring(ht,ht+bt),Fe);8>bt?(bt=K(Math.pow(Fe,bt)),at=at.j(bt).add(K(ze))):at=(at=at.j(Ke)).add(K(ze))}return at},Ue=be.Integer=b}).apply(typeof Oe<"u"?Oe:typeof self<"u"?self:typeof window<"u"?window:{});var _e,Ze,Dt,At,Ut,Rt,pn,Ge,ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe={};(function(){var d,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,U,q){return E==Array.prototype||E==Object.prototype||(E[U]=q.value),E},o=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ee&&ee];for(var U=0;U<E.length;++U){var q=E[U];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function h(E,U){if(U)e:{var q=o;E=E.split(".");for(var he=0;he<E.length-1;he++){var ft=E[he];if(!(ft in q))break e;q=q[ft]}(U=U(he=q[E=E[E.length-1]]))!=he&&null!=U&&e(q,E,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(E){return E||function(){return function _(E,U){E instanceof String&&(E+="");var q=0,he=!1,ft={next:function(){if(!he&&q<E.length){var xt=q++;return{value:U(xt,E[xt]),done:!1}}return he=!0,{done:!0,value:void 0}}};return ft[Symbol.iterator]=function(){return ft},ft}(this,function(U,q){return q})}});var b=b||{},x=this||self;function F(E){var U=typeof E;return"array"==(U="object"!=U?U:E?Array.isArray(E)?"array":U:"null")||"object"==U&&"number"==typeof E.length}function K(E){var U=typeof E;return"object"==U&&null!=E||"function"==U}function ie(E,U,q){return E.call.apply(E.bind,arguments)}function ve(E,U,q){if(!E)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ft,he),E.apply(U,ft)}}return function(){return E.apply(U,arguments)}}function $e(E,U,q){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ve).apply(null,arguments)}function _t(E,U){var q=Array.prototype.slice.call(arguments,1);return function(){var he=q.slice();return he.push.apply(he,arguments),E.apply(this,he)}}function $t(E,U){function q(){}q.prototype=U.prototype,E.aa=U.prototype,E.prototype=new q,E.prototype.constructor=E,E.Qb=function(he,ft,xt){for(var mn=Array(arguments.length-2),Ui=2;Ui<arguments.length;Ui++)mn[Ui-2]=arguments[Ui];return U.prototype[ft].apply(he,mn)}}function hn(E){const U=E.length;if(0<U){const q=Array(U);for(let he=0;he<U;he++)q[he]=E[he];return q}return[]}function nn(E,U){for(let q=1;q<arguments.length;q++){const he=arguments[q];if(F(he)){const ft=E.length||0,xt=he.length||0;E.length=ft+xt;for(let mn=0;mn<xt;mn++)E[ft+mn]=he[mn]}else E.push(he)}}function cr(E){return/^[\s\xa0]*$/.test(E)}function nr(){var E=x.navigator;return E&&(E=E.userAgent)?E:""}function Nr(E){return Nr[" "](E),E}Nr[" "]=function(){};var Ni=!(-1==nr().indexOf("Gecko")||-1!=nr().toLowerCase().indexOf("webkit")&&-1==nr().indexOf("Edge")||-1!=nr().indexOf("Trident")||-1!=nr().indexOf("MSIE")||-1!=nr().indexOf("Edge"));function si(E,U,q){for(const he in E)U.call(q,E[he],he,E)}function Fe(E){const U={};for(const q in E)U[q]=E[q];return U}const Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(E,U){let q,he;for(let ft=1;ft<arguments.length;ft++){for(q in he=arguments[ft],he)E[q]=he[q];for(let xt=0;xt<Ke.length;xt++)q=Ke[xt],Object.prototype.hasOwnProperty.call(he,q)&&(E[q]=he[q])}}function ht(E){var U=1;E=E.split(":");const q=[];for(;0<U&&E.length;)q.push(E.shift()),U--;return E.length&&q.push(E.join(":")),q}function bt(E){x.setTimeout(()=>{throw E},0)}function ze(){var E=Y_;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}var eg=new class Qn{constructor(U,q){this.i=U,this.j=q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new V0,E=>E.reset());class V0{constructor(){this.next=this.g=this.h=null}set(U,q){this.h=U,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Of,tg=!1,Y_=new class mu{constructor(){this.h=this.g=null}add(U,q){const he=eg.get();he.set(U,q),this.h?this.h.next=he:this.g=he,this.h=he}},bm=()=>{const E=x.Promise.resolve(void 0);Of=()=>{E.then(U0)}};var U0=()=>{for(var E;E=ze();){try{E.h.call(E.g)}catch(q){bt(q)}var U=eg;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}tg=!1};function Ed(){this.s=this.s,this.C=this.C}function ta(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}Ed.prototype.s=!1,Ed.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ed.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ta.prototype.h=function(){this.defaultPrevented=!0};var j0=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const q=()=>{};x.addEventListener("test",q,U),x.removeEventListener("test",q,U)}catch{}return E}();function ng(E,U){if(ta.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var q=this.type=E.type,he=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if(Ni){e:{try{Nr(U.nodeName);var ft=!0;break e}catch{}ft=!1}ft||(U=null)}}else"mouseover"==q?U=E.fromElement:"mouseout"==q&&(U=E.toElement);this.relatedTarget=U,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Rl[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&ng.aa.h.call(this)}}$t(ng,ta);var Rl={2:"touch",3:"pen",4:"mouse"};ng.prototype.h=function(){ng.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Ah="closure_listenable_"+(1e6*Math.random()|0),B0=0;function Ev(E,U,q,he,ft){this.listener=E,this.proxy=null,this.src=U,this.type=q,this.capture=!!he,this.ha=ft,this.key=++B0,this.da=this.fa=!1}function rg(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function ig(E){this.src=E,this.g={},this.h=0}function Cm(E,U){var q=U.type;if(q in E.g){var xt,he=E.g[q],ft=Array.prototype.indexOf.call(he,U,void 0);(xt=0<=ft)&&Array.prototype.splice.call(he,ft,1),xt&&(rg(U),0==E.g[q].length&&(delete E.g[q],E.h--))}}function Nf(E,U,q,he){for(var ft=0;ft<E.length;++ft){var xt=E[ft];if(!xt.da&&xt.listener==U&&xt.capture==!!q&&xt.ha==he)return ft}return-1}ig.prototype.add=function(E,U,q,he,ft){var xt=E.toString();(E=this.g[xt])||(E=this.g[xt]=[],this.h++);var mn=Nf(E,U,he,ft);return-1<mn?(U=E[mn],q||(U.fa=!1)):((U=new Ev(U,this.src,xt,!!he,ft)).fa=q,E.push(U)),U};var sg="closure_lm_"+(1e6*Math.random()|0),bv={};function X_(E,U,q,he,ft){if(he&&he.once)return J_(E,U,q,he,ft);if(Array.isArray(U)){for(var xt=0;xt<U.length;xt++)X_(E,U[xt],q,he,ft);return null}return q=Im(q),E&&E[Ah]?E.K(U,q,K(he)?!!he.capture:!!he,ft):Q_(E,U,q,!1,he,ft)}function Q_(E,U,q,he,ft,xt){if(!U)throw Error("Invalid event type");var mn=K(ft)?!!ft.capture:!!ft,Ui=og(E);if(Ui||(E[sg]=Ui=new ig(E)),(q=Ui.add(U,q,he,mn,xt)).proxy)return q;if(he=function Cv(){const U=$0;return function E(q){return U.call(E.src,E.listener,q)}}(),q.proxy=he,he.src=E,he.listener=q,E.addEventListener)j0||(ft=mn),void 0===ft&&(ft=!1),E.addEventListener(U.toString(),he,ft);else if(E.attachEvent)E.attachEvent(Tv(U.toString()),he);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(he)}return q}function J_(E,U,q,he,ft){if(Array.isArray(U)){for(var xt=0;xt<U.length;xt++)J_(E,U[xt],q,he,ft);return null}return q=Im(q),E&&E[Ah]?E.L(U,q,K(he)?!!he.capture:!!he,ft):Q_(E,U,q,!0,he,ft)}function Tm(E,U,q,he,ft){if(Array.isArray(U))for(var xt=0;xt<U.length;xt++)Tm(E,U[xt],q,he,ft);else he=K(he)?!!he.capture:!!he,q=Im(q),E&&E[Ah]?(E=E.i,(U=String(U).toString())in E.g&&-1<(q=Nf(xt=E.g[U],q,he,ft))&&(rg(xt[q]),Array.prototype.splice.call(xt,q,1),0==xt.length&&(delete E.g[U],E.h--))):E&&(E=og(E))&&(U=E.g[U.toString()],E=-1,U&&(E=Nf(U,q,he,ft)),(q=-1<E?U[E]:null)&&Xc(q))}function Xc(E){if("number"!=typeof E&&E&&!E.da){var U=E.src;if(U&&U[Ah])Cm(U.i,E);else{var q=E.type,he=E.proxy;U.removeEventListener?U.removeEventListener(q,he,E.capture):U.detachEvent?U.detachEvent(Tv(q),he):U.addListener&&U.removeListener&&U.removeListener(he),(q=og(U))?(Cm(q,E),0==q.h&&(q.src=null,U[sg]=null)):rg(E)}}}function Tv(E){return E in bv?bv[E]:bv[E]="on"+E}function $0(E,U){if(E.da)E=!0;else{U=new ng(U,this);var q=E.listener,he=E.ha||E.src;E.fa&&Xc(E),E=q.call(he,U)}return E}function og(E){return(E=E[sg])instanceof ig?E:null}var Z_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Im(E){return"function"==typeof E?E:(E[Z_]||(E[Z_]=function(U){return E.handleEvent(U)}),E[Z_])}function na(){Ed.call(this),this.i=new ig(this),this.M=this,this.F=null}function Co(E,U){var q,he=E.F;if(he)for(q=[];he;he=he.F)q.push(he);if(E=E.M,he=U.type||U,"string"==typeof U)U=new ta(U,E);else if(U instanceof ta)U.target=U.target||E;else{var ft=U;at(U=new ta(he,E),ft)}if(ft=!0,q)for(var xt=q.length-1;0<=xt;xt--){var mn=U.g=q[xt];ft=bd(mn,he,!0,U)&&ft}if(ft=bd(mn=U.g=E,he,!0,U)&&ft,ft=bd(mn,he,!1,U)&&ft,q)for(xt=0;xt<q.length;xt++)ft=bd(mn=U.g=q[xt],he,!1,U)&&ft}function bd(E,U,q,he){if(!(U=E.i.g[String(U)]))return!0;U=U.concat();for(var ft=!0,xt=0;xt<U.length;++xt){var mn=U[xt];if(mn&&!mn.da&&mn.capture==q){var Ui=mn.listener,To=mn.ha||mn.src;mn.fa&&Cm(E.i,mn),ft=!1!==Ui.call(To,he)&&ft}}return ft&&!he.defaultPrevented}function ey(E,U,q){if("function"==typeof E)q&&(E=$e(E,q));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=$e(E.handleEvent,E)}return 2147483647<Number(U)?-1:x.setTimeout(E,U||0)}function ag(E){E.g=ey(()=>{E.g=null,E.i&&(E.i=!1,ag(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}$t(na,Ed),na.prototype[Ah]=!0,na.prototype.removeEventListener=function(E,U,q,he){Tm(this,E,U,q,he)},na.prototype.N=function(){if(na.aa.N.call(this),this.i){var U,E=this.i;for(U in E.g){for(var q=E.g[U],he=0;he<q.length;he++)rg(q[he]);delete E.g[U],E.h--}}this.F=null},na.prototype.K=function(E,U,q,he){return this.i.add(String(E),U,!1,q,he)},na.prototype.L=function(E,U,q,he){return this.i.add(String(E),U,!0,q,he)};class zE extends Ed{constructor(U,q){super(),this.m=U,this.l=q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:ag(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cg(E){Ed.call(this),this.h=E,this.g={}}$t(cg,Ed);var ty=[];function ny(E){si(E.g,function(U,q){this.g.hasOwnProperty(q)&&Xc(U)},E),E.g={}}cg.prototype.N=function(){cg.aa.N.call(this),ny(this)},cg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ry=x.JSON.stringify,H0=x.JSON.parse,Iv=class{stringify(E){return x.JSON.stringify(E,void 0)}parse(E){return x.JSON.parse(E,void 0)}};function wm(){}function wv(){}wm.prototype.h=null;var Ff={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Am(){ta.call(this,"d")}function iy(){ta.call(this,"c")}$t(Am,ta),$t(iy,ta);var Cd={},Dh=null;function lg(){return Dh=Dh||new na}function sy(E){ta.call(this,Cd.La,E)}function Td(E){const U=lg();Co(U,new sy(U))}function Dm(E,U){ta.call(this,Cd.STAT_EVENT,E),this.stat=U}function ra(E){const U=lg();Co(U,new Dm(U,E))}function Av(E,U){ta.call(this,Cd.Ma,E),this.size=U}function Id(E,U){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){E()},U)}function Lf(){this.g=!0}function Sh(E,U,q,he){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+function Dv(E,U){if(!E.g)return U;if(!U)return null;try{var q=JSON.parse(U);if(q)for(E=0;E<q.length;E++)if(Array.isArray(q[E])){var he=q[E];if(!(2>he.length)){var ft=he[1];if(Array.isArray(ft)&&!(1>ft.length)){var xt=ft[0];if("noop"!=xt&&"stop"!=xt&&"close"!=xt)for(var mn=1;mn<ft.length;mn++)ft[mn]=""}}}return ry(q)}catch{return U}}(E,q)+(he?" "+he:"")})}Cd.La="serverreachability",$t(sy,ta),Cd.STAT_EVENT="statevent",$t(Dm,ta),Cd.Ma="timingevent",$t(Av,ta),Lf.prototype.xa=function(){this.g=!1},Lf.prototype.info=function(){};var ay,xm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pm(){}function wd(E,U,q,he){this.j=E,this.i=U,this.l=q,this.R=he||1,this.U=new cg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}$t(Pm,wm),Pm.prototype.g=function(){return new XMLHttpRequest},Pm.prototype.i=function(){return{}},ay=new Pm;var cy={},Mm={};function Rm(E,U,q){E.L=1,E.v=Uf(Ma(U)),E.m=q,E.P=!0,G0(E,null)}function G0(E,U){E.F=Date.now(),uy(E),E.A=Ma(E.v);var q=E.A,he=E.R;Array.isArray(he)||(he=[String(he)]),gy(q.i,"t",he),E.C=0,q=E.j.J,E.h=new xv,E.g=_a(E.j,q?U:null,!E.m),0<E.O&&(E.M=new zE($e(E.Y,E,E.g),E.O)),U=E.U,q=E.g,he=E.ca;var ft="readystatechange";Array.isArray(ft)||(ft&&(ty[0]=ft.toString()),ft=ty);for(var xt=0;xt<ft.length;xt++){var mn=X_(q,ft[xt],he||U.handleEvent,!1,U.h||U);if(!mn)break;U.g[mn.key]=mn}U=E.H?Fe(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),Td(),function oy(E,U,q,he,ft,xt){E.info(function(){if(E.g)if(xt)for(var mn="",Ui=xt.split("&"),To=0;To<Ui.length;To++){var Fi=Ui[To].split("=");if(1<Fi.length){var sa=Fi[0];Fi=Fi[1];var oa=sa.split("_");mn=2<=oa.length&&"type"==oa[1]?mn+(sa+"=")+Fi+"&":mn+(sa+"=redacted&")}}else mn=null;else mn=xt;return"XMLHTTP REQ ("+he+") [attempt "+ft+"]: "+U+"\n"+q+"\n"+mn})}(E.i,E.u,E.A,E.l,E.R,E.m)}function ly(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function Pv(E,U){var q=E.C,he=U.indexOf("\n",q);return-1==he?Mm:(q=Number(U.substring(q,he)),isNaN(q)?cy:(he+=1)+q>U.length?Mm:(U=U.slice(he,he+q),E.C=he+q,U))}function uy(E){E.S=Date.now()+E.I,dg(E,E.I)}function dg(E,U){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Id($e(E.ba,E),U)}function dy(E){E.B&&(x.clearTimeout(E.B),E.B=null)}function hg(E){0==E.j.G||E.J||Tu(E.j,E)}function _u(E){dy(E);var U=E.M;U&&"function"==typeof U.ma&&U.ma(),E.M=null,ny(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function Om(E,U){try{var q=E.j;if(0!=q.G&&(q.g==E||xh(q.h,E)))if(!E.K&&xh(q.h,E)&&3==q.G){try{var he=q.Da.g.parse(U)}catch{he=null}if(Array.isArray(he)&&3==he.length){var ft=he;if(0==ft[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<E.F))break e;Rd(q),Lh(q)}Ra(q),ra(18)}}else q.za=ft[1],0<q.za-q.T&&37500>ft[2]&&q.F&&0==q.v&&!q.C&&(q.C=Id($e(q.Za,q),6e3));if(1>=Ol(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Od(q,11)}else if((E.K||q.g==E)&&Rd(q),!cr(U))for(ft=q.Da.g.parse(U),U=0;U<ft.length;U++){let Fi=ft[U];if(q.T=Fi[0],Fi=Fi[1],2==q.G)if("c"==Fi[0]){q.K=Fi[1],q.ia=Fi[2];const sa=Fi[3];null!=sa&&(q.la=sa,q.j.info("VER="+q.la));const oa=Fi[4];null!=oa&&(q.Aa=oa,q.j.info("SVER="+q.Aa));const Nd=Fi[5];null!=Nd&&"number"==typeof Nd&&0<Nd&&(q.L=he=1.5*Nd,q.j.info("backChannelRequestTimeoutMs_="+he)),he=q;const Oa=E.g;if(Oa){const Iu=Oa.g?Oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var xt=he.h;xt.g||-1==Iu.indexOf("spdy")&&-1==Iu.indexOf("quic")&&-1==Iu.indexOf("h2")||(xt.j=xt.l,xt.g=new Set,xt.h&&(ma(xt,xt.h),xt.h=null))}if(he.D){const bg=Oa.g?Oa.g.getResponseHeader("X-HTTP-Session-Id"):null;bg&&(he.ya=bg,ls(he.I,he.D,bg))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-E.F,q.j.info("Handshake RTT: "+q.R+"ms"));var mn=E;if((he=q).qa=Fl(he,he.J?he.ia:null,he.W),mn.K){fg(he.h,mn);var Ui=mn,To=he.L;To&&(Ui.I=To),Ui.B&&(dy(Ui),uy(Ui)),he.g=mn}else Vh(he);0<q.i.length&&Md(q)}else"stop"!=Fi[0]&&"close"!=Fi[0]||Od(q,7);else 3==q.G&&("stop"==Fi[0]||"close"==Fi[0]?"stop"==Fi[0]?Od(q,7):Um(q):"noop"!=Fi[0]&&q.l&&q.l.ta(Fi),q.v=0)}Td()}catch{}}function ki(E){this.l=E||10,E=x.PerformanceNavigationTiming?0<(E=x.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jo(E){return!!E.h||!!E.g&&E.g.size>=E.j}function Ol(E){return E.h?1:E.g?E.g.size:0}function xh(E,U){return E.h?E.h==U:!!E.g&&E.g.has(U)}function ma(E,U){E.g?E.g.add(U):E.h=U}function fg(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}function Ad(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let U=E.i;for(const q of E.g.values())U=U.concat(q.D);return U}return hn(E.i)}function Dd(E,U){if(E.forEach&&"function"==typeof E.forEach)E.forEach(U,void 0);else if(F(E)||"string"==typeof E)Array.prototype.forEach.call(E,U,void 0);else for(var q=function Mh(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(F(E)||"string"==typeof E){var U=[];E=E.length;for(var q=0;q<E;q++)U.push(q);return U}U=[],q=0;for(const he in E)U[q++]=he;return U}}}(E),he=function Ph(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(F(E)){for(var U=[],q=E.length,he=0;he<q;he++)U.push(E[he]);return U}for(he in U=[],q=0,E)U[q++]=E[he];return U}(E),ft=he.length,xt=0;xt<ft;xt++)U.call(void 0,he[xt],q&&q[xt],E)}wd.prototype.ca=function(E){E=E.target;const U=this.M;U&&3==Zc(E)?U.j():this.Y(E)},wd.prototype.Y=function(E){try{if(E==this.g)e:{const oa=Zc(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>oa)&&(3!=oa||this.g&&(this.h.h||this.g.oa()||Hf(this.g)))){this.J||4!=oa||7==U||Td(),dy(this);var q=this.g.Z();this.X=q;t:if(ly(this)){var he=Hf(this.g);E="";var ft=he.length,xt=4==Zc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_u(this),hg(this);var mn="";break t}this.h.i=new x.TextDecoder}for(U=0;U<ft;U++)this.h.h=!0,E+=this.h.i.decode(he[U],{stream:!(xt&&U==ft-1)});he.length=0,this.h.g+=E,this.C=0,mn=this.h.g}else mn=this.g.oa();if(this.o=200==q,function Sm(E,U,q,he,ft,xt,mn){E.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+ft+"]: "+U+"\n"+q+"\n"+xt+" "+mn})}(this.i,this.u,this.A,this.l,this.R,oa,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Ui,To=this.g;if((Ui=To.g?To.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(Ui)){var Fi=Ui;break t}}Fi=null}if(!(q=Fi)){this.o=!1,this.s=3,ra(12),_u(this),hg(this);break e}Sh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Om(this,q)}if(this.P){let Oa;for(q=!0;!this.J&&this.C<mn.length;){if(Oa=Pv(this,mn),Oa==Mm){4==oa&&(this.s=4,ra(14),q=!1),Sh(this.i,this.l,null,"[Incomplete Response]");break}if(Oa==cy){this.s=4,ra(15),Sh(this.i,this.l,mn,"[Invalid Chunk]"),q=!1;break}Sh(this.i,this.l,Oa,null),Om(this,Oa)}if(ly(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=oa||0!=mn.length||this.h.h||(this.s=1,ra(16),q=!1),this.o=this.o&&q,q){if(0<mn.length&&!this.W){this.W=!0;var sa=this.j;sa.g==this&&sa.ba&&!sa.M&&(sa.j.info("Great, no buffering proxy detected. Bytes received: "+mn.length),zf(sa),sa.M=!0,ra(11))}}else Sh(this.i,this.l,mn,"[Invalid Chunked Response]"),_u(this),hg(this)}else Sh(this.i,this.l,mn,null),Om(this,mn);4==oa&&_u(this),this.o&&!this.J&&(4==oa?Tu(this.j,this):(this.o=!1,uy(this)))}else(function W0(E){const U={};E=(E.g&&2<=Zc(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<E.length;he++){if(cr(E[he]))continue;var q=ht(E[he]);const ft=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const xt=U[ft]||[];U[ft]=xt,xt.push(q)}!function ot(E,U){for(const q in E)U.call(void 0,E[q],q,E)}(U,function(he){return he.join(", ")})})(this.g),400==q&&0<mn.indexOf("Unknown SID")?(this.s=3,ra(12)):(this.s=0,ra(13)),_u(this),hg(this)}}}catch{}},wd.prototype.cancel=function(){this.J=!0,_u(this)},wd.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function ug(E,U){E.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(Td(),ra(17)),_u(this),this.s=2,hg(this)):dg(this,this.S-E)},ki.prototype.cancel=function(){if(this.i=Ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var Sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof za){this.h=E.h,Nl(this,E.j),this.o=E.o,this.g=E.g,Vf(this,E.s),this.l=E.l;var U=E.i,q=new pg;q.i=U.i,U.g&&(q.g=new Map(U.g),q.h=U.h),Nm(this,q),this.m=E.m}else E&&(U=String(E).match(Sd))?(this.h=!1,Nl(this,U[1]||"",!0),this.o=Oh(U[2]||""),this.g=Oh(U[3]||"",!0),Vf(this,U[4]),this.l=Oh(U[5]||"",!0),Nm(this,U[6]||"",!0),this.m=Oh(U[7]||"")):(this.h=!1,this.i=new pg(null,this.h))}function Ma(E){return new za(E)}function Nl(E,U,q){E.j=q?Oh(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function Vf(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function Nm(E,U,q){U instanceof pg?(E.i=U,function Ov(E,U){U&&!E.j&&(yu(E),E.i=null,E.g.forEach(function(q,he){var ft=he.toLowerCase();he!=ft&&(py(this,he),gy(this,ft,q))},E)),E.j=U}(E.i,E.h)):(q||(U=Nh(U,Mv)),E.i=new pg(U,E.h))}function ls(E,U,q){E.i.set(U,q)}function Uf(E){return ls(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Oh(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Nh(E,U,q){return"string"==typeof E?(E=encodeURI(E).replace(U,hy),q&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function hy(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}za.prototype.toString=function(){var E=[],U=this.j;U&&E.push(Nh(U,km,!0),":");var q=this.g;return(q||"file"==U)&&(E.push("//"),(U=this.o)&&E.push(Nh(U,km,!0),"@"),E.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&E.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&E.push("/"),E.push(Nh(q,"/"==q.charAt(0)?Fm:fy,!0))),(q=this.i.toString())&&E.push("?",q),(q=this.m)&&E.push("#",Nh(q,z0)),E.join("")};var E,km=/[#\/\?@]/g,fy=/[#\?:]/g,Fm=/[#\?]/g,Mv=/[#\?@]/g,z0=/#/g;function pg(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function yu(E){E.g||(E.g=new Map,E.h=0,E.i&&function Rh(E,U){if(E){E=E.split("&");for(var q=0;q<E.length;q++){var he=E[q].indexOf("="),ft=null;if(0<=he){var xt=E[q].substring(0,he);ft=E[q].substring(he+1)}else xt=E[q];U(xt,ft?decodeURIComponent(ft.replace(/\+/g," ")):"")}}}(E.i,function(U,q){E.add(decodeURIComponent(U.replace(/\+/g," ")),q)}))}function py(E,U){yu(E),U=jf(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function Rv(E,U){return yu(E),U=jf(E,U),E.g.has(U)}function gy(E,U,q){py(E,U),0<q.length&&(E.i=null,E.g.set(jf(E,U),hn(q)),E.h+=q.length)}function jf(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function kl(E,U,q,he,ft){try{ft&&(ft.onload=null,ft.onerror=null,ft.onabort=null,ft.ontimeout=null),he(q)}catch{}}function Bf(){this.g=new Iv}function Lm(E,U,q){const he=q||"";try{Dd(E,function(ft,xt){let mn=ft;K(ft)&&(mn=ry(ft)),U.push(he+xt+"="+encodeURIComponent(mn))})}catch(ft){throw U.push(he+"type="+encodeURIComponent("_badmap")),ft}}function ia(E){this.l=E.Ub||null,this.j=E.eb||!1}function kh(E,U){na.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function vu(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Eu(E){E.readyState=4,E.l=null,E.j=null,E.v=null,xd(E)}function xd(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function ho(E){let U="";return si(E,function(q,he){U+=he,U+=":",U+=q,U+="\r\n"}),U}function gg(E,U,q){e:{for(he in q){var he=!1;break e}he=!0}he||(q=ho(q),"string"==typeof E?null!=q&&encodeURIComponent(String(q)):ls(E,U,q))}function Vs(E){na.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(d=pg.prototype).add=function(E,U){yu(this),this.i=null,E=jf(this,E);var q=this.g.get(E);return q||this.g.set(E,q=[]),q.push(U),this.h+=1,this},d.forEach=function(E,U){yu(this),this.g.forEach(function(q,he){q.forEach(function(ft){E.call(U,ft,he,this)},this)},this)},d.na=function(){yu(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),q=[];for(let he=0;he<U.length;he++){const ft=E[he];for(let xt=0;xt<ft.length;xt++)q.push(U[he])}return q},d.V=function(E){yu(this);let U=[];if("string"==typeof E)Rv(this,E)&&(U=U.concat(this.g.get(jf(this,E))));else{E=Array.from(this.g.values());for(let q=0;q<E.length;q++)U=U.concat(E[q])}return U},d.set=function(E,U){return yu(this),this.i=null,Rv(this,E=jf(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},d.get=function(E,U){return E&&0<(E=this.V(E)).length?String(E[0]):U},d.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var q=0;q<U.length;q++){var he=U[q];const xt=encodeURIComponent(String(he)),mn=this.V(he);for(he=0;he<mn.length;he++){var ft=xt;""!==mn[he]&&(ft+="="+encodeURIComponent(String(mn[he]))),E.push(ft)}}return this.i=E.join("&")},$t(ia,wm),ia.prototype.g=function(){return new kh(this.l,this.j)},ia.prototype.i=(E={},function(){return E}),$t(kh,na),(d=kh.prototype).open=function(E,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,xd(this)},d.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||x).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},d.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eu(this)),this.readyState=0},d.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},d.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?Eu(this):xd(this),3==this.readyState&&vu(this)}},d.Ra=function(E){this.g&&(this.response=this.responseText=E,Eu(this))},d.Qa=function(E){this.g&&(this.response=E,Eu(this))},d.ga=function(){this.g&&Eu(this)},d.setRequestHeader=function(E,U){this.u.append(E,U)},d.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},d.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var q=U.next();!q.done;)E.push((q=q.value)[0]+": "+q[1]),q=U.next();return E.join("\r\n")},Object.defineProperty(kh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),$t(Vs,na);var Vm=/^https?$/i,Fv=["POST","PUT"];function Jc(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,Fh(E),my(E)}function Fh(E){E.A||(E.A=!0,Co(E,"complete"),Co(E,"error"))}function $f(E){if(E.h&&typeof b<"u"&&(!E.v[1]||4!=Zc(E)||2!=E.Z()))if(E.u&&4==Zc(E))ey(E.Ea,0,E);else if(Co(E,"readystatechange"),4==Zc(E)){E.h=!1;try{const mn=E.Z();e:switch(mn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var q;if(!(q=U)){var he;if(he=0===mn){var ft=String(E.D).match(Sd)[1]||null;!ft&&x.self&&x.self.location&&(ft=x.self.location.protocol.slice(0,-1)),he=!Vm.test(ft?ft.toLowerCase():"")}q=he}if(q)Co(E,"complete"),Co(E,"success");else{E.m=6;try{var xt=2<Zc(E)?E.g.statusText:""}catch{xt=""}E.l=xt+" ["+E.Z()+"]",Fh(E)}}finally{my(E)}}}function my(E,U){if(E.g){_y(E);const q=E.g,he=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||Co(E,"ready");try{q.onreadystatechange=he}catch{}}}function _y(E){E.I&&(x.clearTimeout(E.I),E.I=null)}function Zc(E){return E.g?E.g.readyState:0}function Hf(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Pd(E,U,q){return q&&q.internalChannelParams&&q.internalChannelParams[E]||U}function mg(E){this.Aa=0,this.i=[],this.j=new Lf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pd("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pd("baseRetryDelayMs",5e3,E),this.cb=Pd("retryDelaySeedMs",1e4,E),this.Wa=Pd("forwardChannelMaxRetries",2,E),this.wa=Pd("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(E&&E.concurrentRequestLimit),this.Da=new Bf,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Um(E){if(jm(E),3==E.G){var U=E.U++,q=Ma(E.I);if(ls(q,"SID",E.K),ls(q,"RID",U),ls(q,"TYPE","terminate"),bu(E,q),(U=new wd(E,E.j,U)).L=2,U.v=Uf(Ma(q)),q=!1,x.navigator&&x.navigator.sendBeacon)try{q=x.navigator.sendBeacon(U.v.toString(),"")}catch{}!q&&x.Image&&((new Image).src=U.v,q=!0),q||(U.g=_a(U.j,null),U.g.ea(U.v)),U.F=Date.now(),uy(U)}Bm(E)}function Lh(E){E.g&&(zf(E),E.g.cancel(),E.g=null)}function jm(E){Lh(E),E.u&&(x.clearTimeout(E.u),E.u=null),Rd(E),E.h.cancel(),E.s&&("number"==typeof E.s&&x.clearTimeout(E.s),E.s=null)}function Md(E){if(!jo(E.h)&&!E.s){E.s=!0;var U=E.Ga;Of||bm(),tg||(Of(),tg=!0),Y_.add(U,E),E.B=0}}function Gf(E,U){var q;q=U?U.l:E.U++;const he=Ma(E.I);ls(he,"SID",E.K),ls(he,"RID",q),ls(he,"AID",E.T),bu(E,he),E.m&&E.o&&gg(he,E.m,E.o),q=new wd(E,E.j,q,E.B+1),null===E.m&&(q.H=E.o),U&&(E.i=U.D.concat(E.i)),U=yg(E,q,1e3),q.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),ma(E.h,q),Rm(q,he,U)}function bu(E,U){E.H&&si(E.H,function(q,he){ls(U,he,q)}),E.l&&Dd({},function(q,he){ls(U,he,q)})}function yg(E,U,q){q=Math.min(E.i.length,q);var he=E.l?$e(E.l.Na,E.l,E):null;e:{var ft=E.i;let xt=-1;for(;;){const mn=["count="+q];-1==xt?0<q?(xt=ft[0].g,mn.push("ofs="+xt)):xt=0:mn.push("ofs="+xt);let Ui=!0;for(let To=0;To<q;To++){let Fi=ft[To].g;const sa=ft[To].map;if(Fi-=xt,0>Fi)xt=Math.max(0,ft[To].g-100),Ui=!1;else try{Lm(sa,mn,"req"+Fi+"_")}catch{he&&he(sa)}}if(Ui){he=mn.join("&");break e}}}return E=E.i.splice(0,q),U.D=E,he}function Vh(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;Of||bm(),tg||(Of(),tg=!0),Y_.add(U,E),E.v=0}}function Ra(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Id($e(E.Fa,E),vg(E,E.v)),E.v++,0))}function zf(E){null!=E.A&&(x.clearTimeout(E.A),E.A=null)}function Cu(E){E.g=new wd(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var U=Ma(E.qa);ls(U,"RID","rpc"),ls(U,"SID",E.K),ls(U,"AID",E.T),ls(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&ls(U,"TO",E.ja),ls(U,"TYPE","xmlhttp"),bu(E,U),E.m&&E.o&&gg(U,E.m,E.o),E.L&&(E.g.I=E.L);var q=E.g;E=E.ia,q.L=1,q.v=Uf(Ma(U)),q.m=null,q.P=!0,G0(q,E)}function Rd(E){null!=E.C&&(x.clearTimeout(E.C),E.C=null)}function Tu(E,U){var q=null;if(E.g==U){Rd(E),zf(E),E.g=null;var he=2}else{if(!xh(E.h,U))return;q=U.D,fg(E.h,U),he=1}if(0!=E.G)if(U.o)if(1==he){q=U.m?U.m.length:0,U=Date.now()-U.F;var ft=E.B;Co(he=lg(),new Av(he,q)),Md(E)}else Vh(E);else if(3==(ft=U.s)||0==ft&&0<U.X||!(1==he&&function _g(E,U){return!(Ol(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=U.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Id($e(E.Ga,E,U),vg(E,E.B)),E.B++,0)))}(E,U)||2==he&&Ra(E)))switch(q&&0<q.length&&(U=E.h,U.i=U.i.concat(q)),ft){case 1:Od(E,5);break;case 4:Od(E,10);break;case 3:Od(E,6);break;default:Od(E,2)}}function vg(E,U){let q=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(q*=2),q*U}function Od(E,U){if(E.j.info("Error code "+U),2==U){var q=$e(E.fb,E),he=E.Xa;const ft=!he;he=new za(he||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Nl(he,"https"),Uf(he),ft?function Nv(E,U){const q=new Lf;if(x.Image){const he=new Image;he.onload=_t(kl,q,"TestLoadImage: loaded",!0,U,he),he.onerror=_t(kl,q,"TestLoadImage: error",!1,U,he),he.onabort=_t(kl,q,"TestLoadImage: abort",!1,U,he),he.ontimeout=_t(kl,q,"TestLoadImage: timeout",!1,U,he),x.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=E}else U(!1)}(he.toString(),q):function kv(E,U){new Lf;const he=new AbortController,ft=setTimeout(()=>{he.abort(),kl(0,0,!1,U)},1e4);fetch(E,{signal:he.signal}).then(xt=>{clearTimeout(ft),kl(0,0,!!xt.ok,U)}).catch(()=>{clearTimeout(ft),kl(0,0,!1,U)})}(he.toString(),q)}else ra(2);E.G=0,E.l&&E.l.sa(U),Bm(E),jm(E)}function Bm(E){if(E.G=0,E.ka=[],E.l){const U=Ad(E.h);(0!=U.length||0!=E.i.length)&&(nn(E.ka,U),nn(E.ka,E.i),E.h.i.length=0,hn(E.i),E.i.length=0),E.l.ra()}}function Fl(E,U,q){var he=q instanceof za?Ma(q):new za(q);if(""!=he.g)U&&(he.g=U+"."+he.g),Vf(he,he.s);else{var ft=x.location;he=ft.protocol,U=U?U+"."+ft.hostname:ft.hostname,ft=+ft.port;var xt=new za(null);he&&Nl(xt,he),U&&(xt.g=U),ft&&Vf(xt,ft),q&&(xt.l=q),he=xt}return U=E.ya,(q=E.D)&&U&&ls(he,q,U),ls(he,"VER",E.la),bu(E,he),he}function _a(E,U,q){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Vs(E.Ca&&!E.pa?new ia({eb:q}):E.pa)).Ha(E.J),U}function _c(){}function el(){}function ya(E,U){na.call(this),this.g=new mg(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!cr(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!cr(U)&&(this.g.D=U,null!==(E=this.h)&&U in E&&U in(E=this.h)&&delete E[U]),this.j=new yc(this)}function Eg(E){Am.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const q in U){E=q;break e}E=void 0}(this.i=E)&&(E=this.i,U=null!==U&&E in U?U[E]:void 0),this.data=U}else this.data=E}function $m(){iy.call(this),this.status=1}function yc(E){this.g=E}(d=Vs.prototype).Ha=function(E){this.J=E},d.ea=function(E,U,q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ay.g(),this.v=function kf(E){return E.h||(E.h=E.i())}(this.o?this.o:ay),this.g.onreadystatechange=$e(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(xt){return void Jc(this,xt)}if(E=q||"",q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var ft in he)q.set(ft,he[ft]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const xt of he.keys())q.set(xt,he.get(xt))}he=Array.from(q.keys()).find(xt=>"content-type"==xt.toLowerCase()),ft=x.FormData&&E instanceof x.FormData,!(0<=Array.prototype.indexOf.call(Fv,U,void 0))||he||ft||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xt,mn]of q)this.g.setRequestHeader(xt,mn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_y(this),this.u=!0,this.g.send(E),this.u=!1}catch(xt){Jc(this,xt)}},d.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Co(this,"complete"),Co(this,"abort"),my(this))},d.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),my(this,!0)),Vs.aa.N.call(this)},d.Ea=function(){this.s||(this.B||this.u||this.j?$f(this):this.bb())},d.bb=function(){$f(this)},d.isActive=function(){return!!this.g},d.Z=function(){try{return 2<Zc(this)?this.g.status:-1}catch{return-1}},d.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},d.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&0==U.indexOf(E)&&(U=U.substring(E.length)),H0(U)}},d.Ba=function(){return this.m},d.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(d=mg.prototype).la=8,d.G=1,d.connect=function(E,U,q,he){ra(0),this.W=E,this.H=U||{},q&&void 0!==he&&(this.H.OSID=q,this.H.OAID=he),this.F=this.X,this.I=Fl(this,null,this.W),Md(this)},d.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const ft=new wd(this,this.j,E);let xt=this.o;if(this.S&&(xt?(xt=Fe(xt),at(xt,this.S)):xt=this.S),null!==this.m||this.O||(ft.H=xt,xt=null),this.P)e:{for(var U=0,q=0;q<this.i.length;q++){var he=this.i[q];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(U+=he)){U=q;break e}if(4096===U||q===this.i.length-1){U=q+1;break e}}U=1e3}else U=1e3;U=yg(this,ft,U),ls(q=Ma(this.I),"RID",E),ls(q,"CVER",22),this.D&&ls(q,"X-HTTP-Session-Id",this.D),bu(this,q),xt&&(this.O?U="headers="+encodeURIComponent(String(ho(xt)))+"&"+U:this.m&&gg(q,this.m,xt)),ma(this.h,ft),this.Ua&&ls(q,"TYPE","init"),this.P?(ls(q,"$req",U),ls(q,"SID","null"),ft.T=!0,Rm(ft,q,null)):Rm(ft,q,U),this.G=2}}else 3==this.G&&(E?Gf(this,E):0==this.i.length||jo(this.h)||Gf(this))},d.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Id($e(this.ab,this),E)}},d.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ra(10),Lh(this),Cu(this))},d.Za=function(){null!=this.C&&(this.C=null,Lh(this),Ra(this),ra(19))},d.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ra(2)):(this.j.info("Failed to ping google.com"),ra(1))},d.isActive=function(){return!!this.l&&this.l.isActive(this)},(d=_c.prototype).ua=function(){},d.ta=function(){},d.sa=function(){},d.ra=function(){},d.isActive=function(){return!0},d.Na=function(){},el.prototype.g=function(E,U){return new ya(E,U)},$t(ya,na),ya.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ya.prototype.close=function(){Um(this.g)},ya.prototype.o=function(E){var U=this.g;if("string"==typeof E){var q={};q.__data__=E,E=q}else this.u&&((q={}).__data__=ry(E),E=q);U.i.push(new class{constructor(E,U){this.g=E,this.map=U}}(U.Ya++,E)),3==U.G&&Md(U)},ya.prototype.N=function(){this.g.l=null,delete this.j,Um(this.g),delete this.g,ya.aa.N.call(this)},$t(Eg,Am),$t($m,iy),$t(yc,_c),yc.prototype.ua=function(){Co(this.g,"a")},yc.prototype.ta=function(E){Co(this.g,new Eg(E))},yc.prototype.sa=function(E){Co(this.g,new $m)},yc.prototype.ra=function(){Co(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,ya.prototype.send=ya.prototype.o,ya.prototype.open=ya.prototype.m,ya.prototype.close=ya.prototype.close,Ge=oe.createWebChannelTransport=function(){return new el},pn=oe.getStatEventTarget=function(){return lg()},Rt=oe.Event=Cd,Ut=oe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xm.NO_ERROR=0,xm.TIMEOUT=8,xm.HTTP_ERROR=6,At=oe.ErrorCode=xm,Sv.COMPLETE="complete",Dt=oe.EventType=Sv,wv.EventType=Ff,Ff.OPEN="a",Ff.CLOSE="b",Ff.ERROR="c",Ff.MESSAGE="d",na.prototype.listen=na.prototype.K,Ze=oe.WebChannel=wv,oe.FetchXmlHttpFactory=ia,Vs.prototype.listenOnce=Vs.prototype.L,Vs.prototype.getLastError=Vs.prototype.Ka,Vs.prototype.getLastErrorCode=Vs.prototype.Ba,Vs.prototype.getStatus=Vs.prototype.Z,Vs.prototype.getResponseJson=Vs.prototype.Oa,Vs.prototype.getResponseText=Vs.prototype.oa,Vs.prototype.send=Vs.prototype.ea,Vs.prototype.setWithCredentials=Vs.prototype.Ha,_e=oe.XhrIo=Vs}).apply(typeof ee<"u"?ee:typeof self<"u"?self:typeof window<"u"?window:{});const Ce="@firebase/firestore";class et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");let qe="10.14.0";const it=new Ie.Vy("@firebase/firestore");function St(){return it.logLevel}function Ot(d){it.setLogLevel(d)}function xe(d,...e){if(it.logLevel<=Ie.$b.DEBUG){const r=e.map(ur);it.debug(`Firestore (${qe}): ${d}`,...r)}}function rn(d,...e){if(it.logLevel<=Ie.$b.ERROR){const r=e.map(ur);it.error(`Firestore (${qe}): ${d}`,...r)}}function yn(d,...e){if(it.logLevel<=Ie.$b.WARN){const r=e.map(ur);it.warn(`Firestore (${qe}): ${d}`,...r)}}function ur(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch{return d}}function Pt(d="Unexpected state"){const e=`FIRESTORE (${qe}) INTERNAL ASSERTION FAILED: `+d;throw rn(e),new Error(e)}function jt(d,e){d||Pt()}function Yt(d,e){d||Pt()}function ut(d,e){return d}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends pe.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class en{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Be{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class De{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(et.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ve{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;jt(void 0===this.o);let h=this.i;const _=K=>this.i!==h?(h=this.i,r(K)):Promise.resolve();let b=new en;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new en,e.enqueueRetryable(()=>_(this.currentUser))};const x=()=>{const K=b;e.enqueueRetryable((0,c.A)(function*(){yield K.promise,yield _(o.currentUser)}))},F=K=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(K=>F(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?F(K):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new en)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(jt("string"==typeof o.accessToken),new Be(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new et(e)}}class rt{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xe{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new rt(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class An{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){jt(void 0===this.o);const o=_=>{null!=_.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const b=_.token!==this.R;return this.R=_.token,xe("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>o(_))};const h=_=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(_=>h(_)),setTimeout(()=>{if(!this.appCheck){const _=this.A.getImmediate({optional:!0});_?h(_):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(jt("string"==typeof r.token),this.R=r.token,new Nt(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sn(d){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(d);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<d;o++)r[o]=Math.floor(256*Math.random());return r}class Ln{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const h=sn(40);for(let _=0;_<h.length;++_)o.length<20&&h[_]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[_]%62))}return o}}function Xt(d,e){return d<e?-1:d>e?1:0}function $n(d,e,r){return d.length===e.length&&d.every((o,h)=>r(o,e[h]))}function kn(d){return d+"\0"}class Gt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new tt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new tt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new tt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Gt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Gt(0,0))}static max(){return new Lt(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yr{constructor(e,r,o){void 0===r?r=0:r>e.length&&Pt(),void 0===o?o=e.length-r:o>e.length-r&&Pt(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===yr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let h=0;h<o;h++){const _=e.get(h),b=r.get(h);if(_<b)return-1;if(_>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class un extends yr{construct(e,r,o){return new un(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new tt(Le.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(h=>h.length>0))}return new un(r)}static emptyPath(){return new un([])}}const Or=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends yr{construct(e,r,o){return new tr(e,r,o)}static isValidIdentifier(e){return Or.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const r=[];let o="",h=0;const _=()=>{if(0===o.length)throw new tt(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let b=!1;for(;h<e.length;){const x=e[h];if("\\"===x){if(h+1===e.length)throw new tt(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[h+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new tt(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=F,h+=2}else"`"===x?(b=!b,h++):"."!==x||b?(o+=x,h++):(_(),h++)}if(_(),b)throw new tt(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(r)}static emptyPath(){return new tr([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(un.fromString(e))}static fromName(e){return new Bt(un.fromString(e).popFirst(5))}static empty(){return new Bt(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return un.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new un(e.slice()))}}class In{constructor(e,r,o,h){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=h}}function Gn(d){return d.fields.find(e=>2===e.kind)}function ln(d){return d.fields.filter(e=>2!==e.kind)}In.UNKNOWN_ID=-1;class xr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Kn{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Kn(0,gn.min())}}function di(d,e){const r=d.toTimestamp().seconds,o=d.toTimestamp().nanoseconds+1,h=Lt.fromTimestamp(1e9===o?new Gt(r+1,0):new Gt(r,o));return new gn(h,Bt.empty(),e)}function _s(d){return new gn(d.readTime,d.key,-1)}class gn{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new gn(Lt.min(),Bt.empty(),-1)}static max(){return new gn(Lt.max(),Bt.empty(),-1)}}function ti(d,e){let r=d.readTime.compareTo(e.readTime);return 0!==r?r:(r=Bt.comparator(d.documentKey,e.documentKey),0!==r?r:Xt(d.largestBatchId,e.largestBatchId))}const rr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zn(d){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.A)(function*(d){if(d.code!==Le.FAILED_PRECONDITION||d.message!==rr)throw d;xe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new nt((o,h)=>{this.nextCallback=_=>{this.wrapSuccess(e,_).next(o,h)},this.catchCallback=_=>{this.wrapFailure(r,_).next(o,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof nt?r:nt.resolve(r)}catch(r){return nt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):nt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):nt.reject(r)}static resolve(e){return new nt((r,o)=>{r(e)})}static reject(e){return new nt((r,o)=>{o(e)})}static waitFor(e){return new nt((r,o)=>{let h=0,_=0,b=!1;e.forEach(x=>{++h,x.next(()=>{++_,b&&_===h&&r()},F=>o(F))}),b=!0,_===h&&r()})}static or(e){let r=nt.resolve(!1);for(const o of e)r=r.next(h=>h?nt.resolve(h):o());return r}static forEach(e,r){const o=[];return e.forEach((h,_)=>{o.push(r.call(this,h,_))}),this.waitFor(o)}static mapArray(e,r){return new nt((o,h)=>{const _=e.length,b=new Array(_);let x=0;for(let F=0;F<_;F++){const K=F;r(e[K]).next(ie=>{b[K]=ie,++x,x===_&&o(b)},ie=>h(ie))}})}static doWhile(e,r){return new nt((o,h)=>{const _=()=>{!0===e()?r().next(()=>{_()},h):o()};_()})}}class gt{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new en,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Kt(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const h=Et(o.target.error);this.V.reject(new Kt(e,h))}}static open(e,r,o,h){try{return new gt(r,e.transaction(h,o))}catch(_){throw new Kt(r,_)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Lr(r)}}class le{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===le.S((0,pe.ZQ)())&&rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xe("SimpleDb","Removing database:",e),Tr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,pe.zW)())return!1;if(le.v())return!0;const e=(0,pe.ZQ)(),r=le.S(e),o=0<r&&r<10,h=Re(e),_=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||_)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,c.A)(function*(){return r.db||(xe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,h)=>{const _=indexedDB.open(r.name,r.version);_.onsuccess=b=>{o(b.target.result)},_.onblocked=()=>{h(new Kt(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=b=>{const x=b.target.error;h("VersionError"===x.name?new tt(Le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new tt(Le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Kt(e,x))},_.onupgradeneeded=b=>{xe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.p.O(b.target.result,_.transaction,b.oldVersion,r.version).next(()=>{xe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,h){var _=this;return(0,c.A)(function*(){const b="readonly"===r;let x=0;for(;;){++x;try{_.db=yield _.M(e);const F=gt.open(_.db,e,b?"readonly":"readwrite",o),K=h(F).next(ie=>(F.g(),ie)).catch(ie=>(F.abort(ie),nt.reject(ie))).toPromise();return K.catch(()=>{}),yield F.m,K}catch(F){const K=F,ie="FirebaseError"!==K.name&&x<3;if(xe("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ie),_.close(),!ie)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Re(d){const e=d.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class vt{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Tr(this.B.delete())}}class Kt extends tt{constructor(e,r){super(Le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function jn(d){return"IndexedDbTransactionError"===d.name}class Lr{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(xe("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Tr(o)}add(e){return xe("SimpleDb","ADD",this.store.name,e,e),Tr(this.store.add(e))}get(e){return Tr(this.store.get(e)).next(r=>(void 0===r&&(r=null),xe("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return xe("SimpleDb","DELETE",this.store.name,e),Tr(this.store.delete(e))}count(){return xe("SimpleDb","COUNT",this.store.name),Tr(this.store.count())}U(e,r){const o=this.options(e,r),h=o.index?this.store.index(o.index):this.store;if("function"==typeof h.getAll){const _=h.getAll(o.range);return new nt((b,x)=>{_.onerror=F=>{x(F.target.error)},_.onsuccess=F=>{b(F.target.result)}})}{const _=this.cursor(o),b=[];return this.W(_,(x,F)=>{b.push(F)}).next(()=>b)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new nt((h,_)=>{o.onerror=b=>{_(b.target.error)},o.onsuccess=b=>{h(b.target.result)}})}j(e,r){xe("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const h=this.cursor(o);return this.W(h,(_,b,x)=>x.delete())}J(e,r){let o;r?o=e:(o={},r=e);const h=this.cursor(o);return this.W(h,r)}Y(e){const r=this.cursor({});return new nt((o,h)=>{r.onerror=_=>{const b=Et(_.target.error);h(b)},r.onsuccess=_=>{const b=_.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():o()}):o()}})}W(e,r){const o=[];return new nt((h,_)=>{e.onerror=b=>{_(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void h();const F=new vt(x),K=r(x.primaryKey,x.value,F);if(K instanceof nt){const ie=K.catch(ve=>(F.done(),nt.reject(ve)));o.push(ie)}F.isDone?h():null===F.K?x.continue():x.continue(F.K)}}).next(()=>nt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Tr(d){return new nt((e,r)=>{d.onsuccess=o=>{e(o.target.result)},d.onerror=o=>{const h=Et(o.target.error);r(h)}})}let Ti=!1;function Et(d){const e=le.S((0,pe.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(r)>=0){const o=new tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ti||(Ti=!0,setTimeout(()=>{throw o},0)),o}}return d}class ${constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;xe("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,c.A)(function*(){r.task=null;try{xe("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){jn(o)?xe("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield zn(o)}yield r.X(6e4)}))}}class M{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let h=r,_=!0;return nt.doWhile(()=>!0===_&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return xe("IndexBackfiller",`Processing collection: ${b}`),this.ne(e,b,h).next(x=>{h-=x,o.add(b)});_=!1})).next(()=>r-h)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(h=>this.localStore.localDocuments.getNextDocuments(e,r,h,o).next(_=>{const b=_.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.re(h,_)).next(x=>(xe("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>b.size)}))}re(e,r){let o=e;return r.changes.forEach((h,_)=>{const b=_s(_);ti(b,o)>0&&(o=b)}),new gn(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let k=(()=>{class d{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=h=>this.ie(h),this.se=h=>o.writeSequenceNumber(h))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return d.oe=-1,d})();function ne(d){return null==d}function fe(d){return 0===d&&1/d==-1/0}function st(d){return"number"==typeof d&&Number.isInteger(d)&&!fe(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}function It(d){let e="";for(let r=0;r<d.length;r++)e.length>0&&(e=dn(e)),e=an(d.get(r),e);return dn(e)}function an(d,e){let r=e;const o=d.length;for(let h=0;h<o;h++){const _=d.charAt(h);switch(_){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=_}}return r}function dn(d){return d+"\x01\x01"}function Dn(d){const e=d.length;if(jt(e>=2),2===e)return jt("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),un.emptyPath();const r=e-2,o=[];let h="";for(let _=0;_<e;){const b=d.indexOf("\x01",_);switch((b<0||b>r)&&Pt(),d.charAt(b+1)){case"\x01":const x=d.substring(_,b);let F;0===h.length?F=x:(h+=x,F=h,h=""),o.push(F);break;case"\x10":h+=d.substring(_,b),h+="\0";break;case"\x11":h+=d.substring(_,b+1);break;default:Pt()}_=b+2}return new un(o)}const gr=["userId","batchId"];function cn(d,e){return[d,It(e)]}function Vr(d,e,r){return[d,It(e),r]}const dr={},ws=["prefixPath","collectionGroup","readTime","documentId"],vi=["prefixPath","collectionGroup","documentId"],Li=["collectionGroup","readTime","prefixPath","documentId"],xi=["canonicalId","targetId"],Ne=["targetId","path"],Mt=["path","targetId"],ge=["collectionId","parent"],me=["indexId","uid"],we=["uid","sequenceNumber"],wt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qt=["indexId","uid","orderedDocumentKey"],Vn=["userId","collectionPath","documentId"],On=["userId","collectionPath","largestBatchId"],hr=["userId","collectionGroup","largestBatchId"],Hr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qr=[...Hr,"documentOverlays"],Ir=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qi=Ir,Ms=[...Qi,"indexConfiguration","indexState","indexEntries"],Ji=Ms,Ao=[...Ms,"globals"];class Do extends Cr{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Vi(d,e){const r=ut(d);return le.F(r._e,e)}function $o(d){let e=0;for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e++;return e}function oi(d,e){for(const r in d)Object.prototype.hasOwnProperty.call(d,r)&&e(r,d[r])}function ys(d){for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e))return!1;return!0}class Yr{constructor(e,r){this.comparator=e,this.root=r||Oi.EMPTY}insert(e,r){return new Yr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return r+o.left.size;h<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,r,o,h){this.isReverse=h,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=r?o(e.key,r):1,r&&h&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(0===_){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,r,o,h,_){this.key=e,this.value=r,this.color=o??Oi.RED,this.left=h??Oi.EMPTY,this.right=_??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,h,_){return new Oi(e??this.key,r??this.value,o??this.color,h??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let h=this;const _=o(e,h.key);return h=_<0?h.copy(null,null,null,h.left.insert(e,r,o),null):0===_?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===r(e,h.key)){if(h.right.isEmpty())return Oi.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,r,o,h,_){return this}insert(e,r,o){return new Oi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new io(this.data.getIterator())}getIteratorFrom(e){return new io(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(0!==this.comparator(h,_))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wr(this.comparator);return r.data=e,r}}class io{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function So(d){return d.hasNext()?d.getNext():void 0}class hi{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new hi([])}unionWith(e){let r=new wr(tr.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new hi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $n(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Fa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Xa(){return typeof atob<"u"}class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new Fa("Invalid base64 string: "+_):_}}(e);return new Pi(r)}static fromUint8Array(e){const r=function(h){let _="";for(let b=0;b<h.length;++b)_+=String.fromCharCode(h[b]);return _}(e);return new Pi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let h=0;h<r.length;h++)o[h]=r.charCodeAt(h);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const va=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(d){if(jt(!!d),"string"==typeof d){let e=0;const r=va.exec(d);if(jt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(d);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ni(d.seconds),nanos:ni(d.nanos)}}function ni(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Rs(d){return"string"==typeof d?Pi.fromBase64String(d):Pi.fromUint8Array(d)}function Bs(d){var e,r;return"server_timestamp"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function so(d){const e=d.mapValue.fields.__previous_value__;return Bs(e)?so(e):e}function $s(d){const e=js(d.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}class Ar{constructor(e,r,o,h,_,b,x,F,K){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=h,this.ssl=_,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.longPollingOptions=F,this.useFetchStreams=K}}class fi{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new fi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fi&&e.projectId===this.projectId&&e.database===this.database}}const Ii={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Os={nullValue:"NULL_VALUE"};function ai(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?Bs(d)?4:qn(d)?9007199254740991:rs(d)?10:11:Pt()}function es(d,e){if(d===e)return!0;const r=ai(d);if(r!==ai(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===e.booleanValue;case 4:return $s(d).isEqual($s(e));case 3:return function(h,_){if("string"==typeof h.timestampValue&&"string"==typeof _.timestampValue&&h.timestampValue.length===_.timestampValue.length)return h.timestampValue===_.timestampValue;const b=js(h.timestampValue),x=js(_.timestampValue);return b.seconds===x.seconds&&b.nanos===x.nanos}(d,e);case 5:return d.stringValue===e.stringValue;case 6:return _=e,Rs(d.bytesValue).isEqual(Rs(_.bytesValue));case 7:return d.referenceValue===e.referenceValue;case 8:return function(h,_){return ni(h.geoPointValue.latitude)===ni(_.geoPointValue.latitude)&&ni(h.geoPointValue.longitude)===ni(_.geoPointValue.longitude)}(d,e);case 2:return function(h,_){if("integerValue"in h&&"integerValue"in _)return ni(h.integerValue)===ni(_.integerValue);if("doubleValue"in h&&"doubleValue"in _){const b=ni(h.doubleValue),x=ni(_.doubleValue);return b===x?fe(b)===fe(x):isNaN(b)&&isNaN(x)}return!1}(d,e);case 9:return $n(d.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(h,_){const b=h.mapValue.fields||{},x=_.mapValue.fields||{};if($o(b)!==$o(x))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===x[F]||!es(b[F],x[F])))return!1;return!0}(d,e);default:return Pt()}var _}function oo(d,e){return void 0!==(d.values||[]).find(r=>es(r,e))}function ts(d,e){if(d===e)return 0;const r=ai(d),o=ai(e);if(r!==o)return Xt(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Xt(d.booleanValue,e.booleanValue);case 2:return function(_,b){const x=ni(_.integerValue||_.doubleValue),F=ni(b.integerValue||b.doubleValue);return x<F?-1:x>F?1:x===F?0:isNaN(x)?isNaN(F)?0:-1:1}(d,e);case 3:return As(d.timestampValue,e.timestampValue);case 4:return As($s(d),$s(e));case 5:return Xt(d.stringValue,e.stringValue);case 6:return function(_,b){const x=Rs(_),F=Rs(b);return x.compareTo(F)}(d.bytesValue,e.bytesValue);case 7:return function(_,b){const x=_.split("/"),F=b.split("/");for(let K=0;K<x.length&&K<F.length;K++){const ie=Xt(x[K],F[K]);if(0!==ie)return ie}return Xt(x.length,F.length)}(d.referenceValue,e.referenceValue);case 8:return function(_,b){const x=Xt(ni(_.latitude),ni(b.latitude));return 0!==x?x:Xt(ni(_.longitude),ni(b.longitude))}(d.geoPointValue,e.geoPointValue);case 9:return Hs(d.arrayValue,e.arrayValue);case 10:return function(_,b){var x,F,K,ie;const _t=null===(x=(_.fields||{}).value)||void 0===x?void 0:x.arrayValue,$t=null===(F=(b.fields||{}).value)||void 0===F?void 0:F.arrayValue,hn=Xt((null===(K=_t?.values)||void 0===K?void 0:K.length)||0,(null===(ie=$t?.values)||void 0===ie?void 0:ie.length)||0);return 0!==hn?hn:Hs(_t,$t)}(d.mapValue,e.mapValue);case 11:return function(_,b){if(_===Ii.mapValue&&b===Ii.mapValue)return 0;if(_===Ii.mapValue)return 1;if(b===Ii.mapValue)return-1;const x=_.fields||{},F=Object.keys(x),K=b.fields||{},ie=Object.keys(K);F.sort(),ie.sort();for(let ve=0;ve<F.length&&ve<ie.length;++ve){const $e=Xt(F[ve],ie[ve]);if(0!==$e)return $e;const _t=ts(x[F[ve]],K[ie[ve]]);if(0!==_t)return _t}return Xt(F.length,ie.length)}(d.mapValue,e.mapValue);default:throw Pt()}}function As(d,e){if("string"==typeof d&&"string"==typeof e&&d.length===e.length)return Xt(d,e);const r=js(d),o=js(e),h=Xt(r.seconds,o.seconds);return 0!==h?h:Xt(r.nanos,o.nanos)}function Hs(d,e){const r=d.values||[],o=e.values||[];for(let h=0;h<r.length&&h<o.length;++h){const _=ts(r[h],o[h]);if(_)return _}return Xt(r.length,o.length)}function ci(d){return tn(d)}function tn(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(r){const o=js(r);return`time(${o.seconds},${o.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Rs(d.bytesValue).toBase64():"referenceValue"in d?Bt.fromName(d.referenceValue).toString():"geoPointValue"in d?function(r){return`geo(${r.latitude},${r.longitude})`}(d.geoPointValue):"arrayValue"in d?function(r){let o="[",h=!0;for(const _ of r.values||[])h?h=!1:o+=",",o+=tn(_);return o+"]"}(d.arrayValue):"mapValue"in d?function(r){const o=Object.keys(r.fields||{}).sort();let h="{",_=!0;for(const b of o)_?_=!1:h+=",",h+=`${b}:${tn(r.fields[b])}`;return h+"}"}(d.mapValue):Pt()}function Wn(d,e){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${e.path.canonicalString()}`}}function Xr(d){return!!d&&"integerValue"in d}function $i(d){return!!d&&"arrayValue"in d}function wi(d){return!!d&&"nullValue"in d}function ns(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function kr(d){return!!d&&"mapValue"in d}function rs(d){var e,r;return"__vector__"===(null===(r=((null===(e=d?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function vs(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const e={mapValue:{fields:{}}};return oi(d.mapValue.fields,(r,o)=>e.mapValue.fields[r]=vs(o)),e}if(d.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(d.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=vs(d.arrayValue.values[r]);return e}return Object.assign({},d)}function qn(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}const ds={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ds(d){return"nullValue"in d?Os:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?Wn(fi.empty(),Bt.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?rs(d)?ds:{mapValue:{}}:Pt()}function Z(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?Wn(fi.empty(),Bt.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?ds:"mapValue"in d?rs(d)?{mapValue:{}}:Ii:Pt()}function Q(d,e){const r=ts(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?-1:!d.inclusive&&e.inclusive?1:0}function Ae(d,e){const r=ts(d.value,e.value);return 0!==r?r:d.inclusive&&!e.inclusive?1:!d.inclusive&&e.inclusive?-1:0}class ke{constructor(e){this.value=e}static empty(){return new ke({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!kr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=vs(r)}setAll(e){let r=tr.emptyPath(),o={},h=[];e.forEach((b,x)=>{if(!r.isImmediateParentOf(x)){const F=this.getFieldsMap(r);this.applyChanges(F,o,h),o={},h=[],r=x.popLast()}b?o[x.lastSegment()]=vs(b):h.push(x.lastSegment())});const _=this.getFieldsMap(r);this.applyChanges(_,o,h)}delete(e){const r=this.field(e.popLast());kr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=r.mapValue.fields[e.get(o)];kr(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,o){oi(r,(h,_)=>e[h]=_);for(const h of o)delete e[h]}clone(){return new ke(vs(this.value))}}function Qe(d){const e=[];return oi(d.fields,(r,o)=>{const h=new tr([r]);if(kr(o)){const _=Qe(o.mapValue).fields;if(0===_.length)e.push(h);else for(const b of _)e.push(h.child(b))}else e.push(h)}),new hi(e)}class mt{constructor(e,r,o,h,_,b,x){this.key=e,this.documentType=r,this.version=o,this.readTime=h,this.createTime=_,this.data=b,this.documentState=x}static newInvalidDocument(e){return new mt(e,0,Lt.min(),Lt.min(),Lt.min(),ke.empty(),0)}static newFoundDocument(e,r,o,h){return new mt(e,1,r,Lt.min(),o,h,0)}static newNoDocument(e,r){return new mt(e,2,r,Lt.min(),Lt.min(),ke.empty(),0)}static newUnknownDocument(e,r){return new mt(e,3,r,Lt.min(),Lt.min(),ke.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ke.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ke.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qt{constructor(e,r){this.position=e,this.inclusive=r}}function Sn(d,e,r){let o=0;for(let h=0;h<d.position.length;h++){const _=e[h],b=d.position[h];if(o=_.field.isKeyField()?Bt.comparator(Bt.fromName(b.referenceValue),r.key):ts(b,r.data.field(_.field)),"desc"===_.dir&&(o*=-1),0!==o)break}return o}function vn(d,e){if(null===d)return null===e;if(null===e||d.inclusive!==e.inclusive||d.position.length!==e.position.length)return!1;for(let r=0;r<d.position.length;r++)if(!es(d.position[r],e.position[r]))return!1;return!0}class Zn{constructor(e,r="asc"){this.field=e,this.dir=r}}function Dr(d,e){return d.dir===e.dir&&d.field.isEqual(e.field)}class xn{}class wn extends xn{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new Rr(e,r,o):"array-contains"===r?new qs(e,o):"in"===r?new Ho(e,o):"not-in"===r?new eo(e,o):"array-contains-any"===r?new Ea(e,o):new wn(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new go(e,o):new is(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ts(r,this.value)):null!==r&&ai(this.value)===ai(r)&&this.matchesComparison(ts(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends xn{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Yn(e,r)}matches(e){return Pr(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Pr(d){return"and"===d.op}function zr(d){return"or"===d.op}function Mi(d){return Ki(d)&&Pr(d)}function Ki(d){for(const e of d.filters)if(e instanceof Yn)return!1;return!0}function Ai(d){if(d instanceof wn)return d.field.canonicalString()+d.op.toString()+ci(d.value);if(Mi(d))return d.filters.map(e=>Ai(e)).join(",");{const e=d.filters.map(r=>Ai(r)).join(",");return`${d.op}(${e})`}}function ar(d,e){return d instanceof wn?(o=d,(h=e)instanceof wn&&o.op===h.op&&o.field.isEqual(h.field)&&es(o.value,h.value)):d instanceof Yn?function(o,h){return h instanceof Yn&&o.op===h.op&&o.filters.length===h.filters.length&&o.filters.reduce((_,b,x)=>_&&ar(b,h.filters[x]),!0)}(d,e):void Pt();var o,h}function pi(d,e){const r=d.filters.concat(e);return Yn.create(r,d.op)}function Di(d){return d instanceof wn?`${(r=d).field.canonicalString()} ${r.op} ${ci(r.value)}`:d instanceof Yn?function(r){return r.op.toString()+" {"+r.getFilters().map(Di).join(" ,")+"}"}(d):"Filter";var r}class Rr extends wn{constructor(e,r,o){super(e,r,o),this.key=Bt.fromName(o.referenceValue)}matches(e){const r=Bt.comparator(e.key,this.key);return this.matchesComparison(r)}}class go extends wn{constructor(e,r){super(e,"in",r),this.keys=Es(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class is extends wn{constructor(e,r){super(e,"not-in",r),this.keys=Es(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Es(d,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Bt.fromName(o.referenceValue))}class qs extends wn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return $i(r)&&oo(r.arrayValue,this.value)}}class Ho extends wn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&oo(this.value.arrayValue,r)}}class eo extends wn{constructor(e,r){super(e,"not-in",r)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!oo(this.value.arrayValue,r)}}class Ea extends wn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!$i(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>oo(this.value.arrayValue,o))}}class Go{constructor(e,r=null,o=[],h=[],_=null,b=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=h,this.limit=_,this.startAt=b,this.endAt=x,this.ue=null}}function bs(d,e=null,r=[],o=[],h=null,_=null,b=null){return new Go(d,e,r,o,h,_,b)}function Ss(d){const e=ut(d);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Ai(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(_=o).field.canonicalString()+_.dir;var _}).join(","),ne(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>ci(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>ci(o)).join(",")),e.ue=r}return e.ue}function xo(d,e){if(d.limit!==e.limit||d.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<d.orderBy.length;r++)if(!Dr(d.orderBy[r],e.orderBy[r]))return!1;if(d.filters.length!==e.filters.length)return!1;for(let r=0;r<d.filters.length;r++)if(!ar(d.filters[r],e.filters[r]))return!1;return d.collectionGroup===e.collectionGroup&&!!d.path.isEqual(e.path)&&!!vn(d.startAt,e.startAt)&&vn(d.endAt,e.endAt)}function zo(d){return Bt.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function aa(d,e){return d.filters.filter(r=>r instanceof wn&&r.field.isEqual(e))}function li(d,e,r){let o=Os,h=!0;for(const _ of aa(d,e)){let b=Os,x=!0;switch(_.op){case"<":case"<=":b=Ds(_.value);break;case"==":case"in":case">=":b=_.value;break;case">":b=_.value,x=!1;break;case"!=":case"not-in":b=Os}Q({value:o,inclusive:h},{value:b,inclusive:x})<0&&(o=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Q({value:o,inclusive:h},{value:b,inclusive:r.inclusive})<0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}function ba(d,e,r){let o=Ii,h=!0;for(const _ of aa(d,e)){let b=Ii,x=!0;switch(_.op){case">=":case">":b=Z(_.value),x=!1;break;case"==":case"in":case"<=":b=_.value;break;case"<":b=_.value,x=!1;break;case"!=":case"not-in":b=Ii}Ae({value:o,inclusive:h},{value:b,inclusive:x})>0&&(o=b,h=x)}if(null!==r)for(let _=0;_<d.orderBy.length;++_)if(d.orderBy[_].field.isEqual(e)){const b=r.position[_];Ae({value:o,inclusive:h},{value:b,inclusive:r.inclusive})>0&&(o=b,h=r.inclusive);break}return{value:o,inclusive:h}}class Po{constructor(e,r=null,o=[],h=[],_=null,b="F",x=null,F=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=h,this.limit=_,this.limitType=b,this.startAt=x,this.endAt=F,this.ce=null,this.le=null,this.he=null}}function W(d,e,r,o,h,_,b,x){return new Po(d,e,r,o,h,_,b,x)}function J(d){return new Po(d)}function V(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function ce(d){return null!==d.collectionGroup}function je(d){const e=ut(d);if(null===e.ce){e.ce=[];const r=new Set;for(const _ of e.explicitOrderBy)e.ce.push(_),r.add(_.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let x=new wr(tr.comparator);return b.filters.forEach(F=>{F.getFlattenedFilters().forEach(K=>{K.isInequality()&&(x=x.add(K.field))})}),x})(e).forEach(_=>{r.has(_.canonicalString())||_.isKeyField()||e.ce.push(new Zn(_,o))}),r.has(tr.keyField().canonicalString())||e.ce.push(new Zn(tr.keyField(),o))}return e.ce}function _n(d){const e=ut(d);return e.le||(e.le=function Cs(d,e){if("F"===d.limitType)return bs(d.path,d.collectionGroup,e,d.filters,d.limit,d.startAt,d.endAt);{e=e.map(h=>new Zn(h.field,"desc"===h.dir?"asc":"desc"));const r=d.endAt?new Qt(d.endAt.position,d.endAt.inclusive):null,o=d.startAt?new Qt(d.startAt.position,d.startAt.inclusive):null;return bs(d.path,d.collectionGroup,e,d.filters,d.limit,r,o)}}(e,je(d))),e.le}function Ys(d,e){const r=d.filters.concat([e]);return new Po(d.path,d.collectionGroup,d.explicitOrderBy.slice(),r,d.limit,d.limitType,d.startAt,d.endAt)}function ss(d,e,r){return new Po(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),e,r,d.startAt,d.endAt)}function mo(d,e){return xo(_n(d),_n(e))&&d.limitType===e.limitType}function Gs(d){return`${Ss(_n(d))}|lt:${d.limitType}`}function Hi(d){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(h=>Di(h)).join(", ")}]`),ne(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(h=>{return`${(b=h).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(h=>ci(h)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(h=>ci(h)).join(",")),`Target(${o})`}(_n(d))}; limitType=${d.limitType})`}function Wo(d,e){return e.isFoundDocument()&&function(o,h){const _=h.key.path;return null!==o.collectionGroup?h.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(_):Bt.isDocumentKey(o.path)?o.path.isEqual(_):o.path.isImmediateParentOf(_)}(d,e)&&function(o,h){for(const _ of je(o))if(!_.field.isKeyField()&&null===h.data.field(_.field))return!1;return!0}(d,e)&&function(o,h){for(const _ of o.filters)if(!_.matches(h))return!1;return!0}(d,e)&&(h=e,!((o=d).startAt&&!function(b,x,F){const K=Sn(b,x,F);return b.inclusive?K<=0:K<0}(o.startAt,je(o),h)||o.endAt&&!function(b,x,F){const K=Sn(b,x,F);return b.inclusive?K>=0:K>0}(o.endAt,je(o),h)));var o,h}function bc(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function xs(d){return(e,r)=>{let o=!1;for(const h of je(d)){const _=Mo(h,e,r);if(0!==_)return _;o=o||h.field.isKeyField()}return 0}}function Mo(d,e,r){const o=d.field.isKeyField()?Bt.comparator(e.key,r.key):function(_,b,x){const F=b.data.field(_),K=x.data.field(_);return null!==F&&null!==K?ts(F,K):Pt()}(d.field,e,r);switch(d.dir){case"asc":return o;case"desc":return-1*o;default:return Pt()}}class qi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[h,_]of o)if(this.equalsFn(h,e))return _}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,r]],void this.innerSize++;for(let _=0;_<h.length;_++)if(this.equalsFn(h[_][0],e))return void(h[_]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[r]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(r,o)=>{for(const[h,_]of o)e(h,_)})}isEmpty(){return ys(this.inner)}size(){return this.innerSize}}const Cc=new Yr(Bt.comparator);function Yi(){return Cc}const Ca=new Yr(Bt.comparator);function ao(...d){let e=Ca;for(const r of d)e=e.insert(r.key,r);return e}function Ta(d){let e=Ca;return d.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function hs(){return Ro()}function Ia(){return Ro()}function Ro(){return new qi(d=>d.toString(),(d,e)=>d.isEqual(e))}const Qa=new Yr(Bt.comparator),Su=new wr(Bt.comparator);function fr(...d){let e=Su;for(const r of d)e=e.add(r);return e}const il=new wr(Xt);function _o(){return il}function Oo(d,e){if(d.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fe(e)?"-0":e}}function No(d){return{integerValue:""+d}}function xu(d,e){return st(e)?No(e):Oo(d,e)}class Tc{constructor(){this._=void 0}}function Uh(d,e,r){return d instanceof Ja?function(h,_){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return _&&Bs(_)&&(_=so(_)),_&&(b.fields.__previous_value__=_),{mapValue:b}}(r,e):d instanceof Ko?Ic(d,e):d instanceof Va?Za(d,e):function(h,_){const b=Bl(h,_),x=ec(b)+ec(h.Pe);return Xr(b)&&Xr(h.Pe)?No(x):Oo(h.serializer,x)}(d,e)}function La(d,e,r){return d instanceof Ko?Ic(d,e):d instanceof Va?Za(d,e):r}function Bl(d,e){return d instanceof Ua?Xr(o=e)||(_=o)&&"doubleValue"in _?e:{integerValue:0}:null;var o,_}class Ja extends Tc{}class Ko extends Tc{constructor(e){super(),this.elements=e}}function Ic(d,e){const r=wc(e);for(const o of d.elements)r.some(h=>es(h,o))||r.push(o);return{arrayValue:{values:r}}}class Va extends Tc{constructor(e){super(),this.elements=e}}function Za(d,e){let r=wc(e);for(const o of d.elements)r=r.filter(h=>!es(h,o));return{arrayValue:{values:r}}}class Ua extends Tc{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ec(d){return ni(d.integerValue||d.doubleValue)}function wc(d){return $i(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class P{constructor(e,r){this.field=e,this.transform=r}}class B{constructor(e,r){this.version=e,this.transformResults=r}}class Y{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Y}static exists(e){return new Y(void 0,e)}static updateTime(e){return new Y(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Me(d,e){return void 0!==d.updateTime?e.isFoundDocument()&&e.version.isEqual(d.updateTime):void 0===d.exists||d.exists===e.isFoundDocument()}class Ct{}function kt(d,e){if(!d.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return d.isNoDocument()?new Ts(d.key,Y.none()):new pr(d.key,d.data,Y.none());{const r=d.data,o=ke.empty();let h=new wr(tr.comparator);for(let _ of e.fields)if(!h.has(_)){let b=r.field(_);null===b&&_.length>1&&(_=_.popLast(),b=r.field(_)),null===b?o.delete(_):o.set(_,b),h=h.add(_)}return new ii(d.key,o,new hi(h.toArray()),Y.none())}}function Un(d,e,r){d instanceof pr?function(h,_,b){const x=h.value.clone(),F=Ri(h.fieldTransforms,_,b.transformResults);x.setAll(F),_.convertToFoundDocument(b.version,x).setHasCommittedMutations()}(d,e,r):d instanceof ii?function(h,_,b){if(!Me(h.precondition,_))return void _.convertToUnknownDocument(b.version);const x=Ri(h.fieldTransforms,_,b.transformResults),F=_.data;F.setAll(mi(h)),F.setAll(x),_.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(d,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Wr(d,e,r,o){return d instanceof pr?function(_,b,x,F){if(!Me(_.precondition,b))return x;const K=_.value.clone(),ie=co(_.fieldTransforms,F,b);return K.setAll(ie),b.convertToFoundDocument(b.version,K).setHasLocalMutations(),null}(d,e,r,o):d instanceof ii?function(_,b,x,F){if(!Me(_.precondition,b))return x;const K=co(_.fieldTransforms,F,b),ie=b.data;return ie.setAll(mi(_)),ie.setAll(K),b.convertToFoundDocument(b.version,ie).setHasLocalMutations(),null===x?null:x.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(ve=>ve.field))}(d,e,r,o):(x=r,Me(d.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):x);var b,x}function gi(d,e){let r=null;for(const o of d.fieldTransforms){const h=e.data.field(o.field),_=Bl(o.transform,h||null);null!=_&&(null===r&&(r=ke.empty()),r.set(o.field,_))}return r||null}function ri(d,e){return d.type===e.type&&!!d.key.isEqual(e.key)&&!!d.precondition.isEqual(e.precondition)&&(h=e.fieldTransforms,!!(void 0===(o=d.fieldTransforms)&&void 0===h||o&&h&&$n(o,h,(_,b)=>function te(d,e){return d.field.isEqual(e.field)&&(h=e.transform,(o=d.transform)instanceof Ko&&h instanceof Ko||o instanceof Va&&h instanceof Va?$n(o.elements,h.elements,es):o instanceof Ua&&h instanceof Ua?es(o.Pe,h.Pe):o instanceof Ja&&h instanceof Ja);var o,h}(_,b))))&&(0===d.type?d.value.isEqual(e.value):1!==d.type||d.data.isEqual(e.data)&&d.fieldMask.isEqual(e.fieldMask));var o,h}class pr extends Ct{constructor(e,r,o,h=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ii extends Ct{constructor(e,r,o,h,_=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=h,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function mi(d){const e=new Map;return d.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=d.data.field(r);e.set(r,o)}}),e}function Ri(d,e,r){const o=new Map;jt(d.length===r.length);for(let h=0;h<r.length;h++){const _=d[h],b=_.transform,x=e.data.field(_.field);o.set(_.field,La(b,x,r[h]))}return o}function co(d,e,r){const o=new Map;for(const h of d){const _=h.transform,b=r.data.field(h.field);o.set(h.field,Uh(_,b,e))}return o}class Ts extends Ct{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ca extends Ct{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zs{constructor(e,r,o,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const _=this.mutations[h];_.key.isEqual(e.key)&&Un(_,e,o[h])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Wr(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Wr(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Ia();return this.mutations.forEach(h=>{const _=e.get(h.key),b=_.overlayedDocument;let x=this.applyToLocalView(b,_.mutatedFields);x=r.has(h.key)?null:x;const F=kt(b,x);null!==F&&o.set(h.key,F),b.isValidDocument()||b.convertToNoDocument(Lt.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),fr())}isEqual(e){return this.batchId===e.batchId&&$n(this.mutations,e.mutations,(r,o)=>ri(r,o))&&$n(this.baseMutations,e.baseMutations,(r,o)=>ri(r,o))}}class Ns{constructor(e,r,o,h){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=h}static from(e,r,o){jt(e.mutations.length===o.length);let h=Qa;const _=e.mutations;for(let b=0;b<_.length;b++)h=h.insert(_[b].key,o[b].version);return new Ns(e,r,o,h)}}class os{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jh{constructor(e,r){this.count=e,this.unchangedNames=r}}var Er,Mr;function Ac(d){switch(d){default:return Pt();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function to(d){if(void 0===d)return rn("GRPC error has no .code"),Le.UNKNOWN;switch(d){case Er.OK:return Le.OK;case Er.CANCELLED:return Le.CANCELLED;case Er.UNKNOWN:return Le.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Le.INTERNAL;case Er.UNAVAILABLE:return Le.UNAVAILABLE;case Er.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Er.NOT_FOUND:return Le.NOT_FOUND;case Er.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Er.ABORTED:return Le.ABORTED;case Er.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Er.DATA_LOSS:return Le.DATA_LOSS;default:return Pt()}}(Mr=Er||(Er={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";function Mu(){return new TextEncoder}const yo=new Ue([4294967295,4294967295],0);function Ei(d){const e=Mu().encode(d),r=new Se;return r.update(e),new Uint8Array(r.digest())}function Dc(d){const e=new DataView(d.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),h=e.getUint32(8,!0),_=e.getUint32(12,!0);return[new Ue([r,o],0),new Ue([h,_],0)]}class la{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new qo(`Invalid padding: ${r}`);if(o<0)throw new qo(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new qo(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new qo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ue.fromNumber(this.Ie)}Ee(e,r,o){let h=e.add(r.multiply(Ue.fromNumber(o)));return 1===h.compare(yo)&&(h=new Ue([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Ei(e),[o,h]=Dc(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);if(!this.de(b))return!1}return!0}static create(e,r,o){const h=e%8==0?0:8-e%8,_=new Uint8Array(Math.ceil(e/8)),b=new la(_,h,r);return o.forEach(x=>b.insert(x)),b}insert(e){if(0===this.Ie)return;const r=Ei(e),[o,h]=Dc(r);for(let _=0;_<this.hashCount;_++){const b=this.Ee(o,h,_);this.Ae(b)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class as{constructor(e,r,o,h,_){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const h=new Map;return h.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new as(Lt.min(),h,new Yr(Xt),Yi(),fr())}}class Fo{constructor(e,r,o,h,_){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Fo(o,r,fr(),fr(),fr())}}class Sc{constructor(e,r,o,h){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=h}}class $l{constructor(e,r){this.targetId=e,this.me=r}}class kd{constructor(e,r,o=Pi.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=h}}class vo{constructor(){this.fe=0,this.ge=sl(),this.pe=Pi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fr(),r=fr(),o=fr();return this.ge.forEach((h,_)=>{switch(_){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:o=o.add(h);break;default:Pt()}}),new Fo(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=sl()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lo{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yi(),this.qe=Hn(),this.Qe=new Yr(Xt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,h)=>{this.ze(h)&&r(h)})}He(e){const r=e.targetId,o=e.me.count,h=this.Je(r);if(h){const _=h.target;if(zo(_))if(0===o){const b=new Bt(_.path);this.Ue(r,b,mt.newNoDocument(b,Lt.min()))}else jt(1===o);else{const b=this.Ye(r);if(b!==o){const x=this.Ze(e),F=x?this.Xe(x,e,b):1;0!==F&&(this.je(r),this.Qe=this.Qe.insert(r,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:h=0},hashCount:_=0}=r;let b,x;try{b=Rs(o).toUint8Array()}catch(F){if(F instanceof Fa)return yn("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{x=new la(b,h,_)}catch(F){return yn(F instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===x.Ie?null:x}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let h=0;return o.forEach(_=>{const b=this.Le.tt(),x=`projects/${b.projectId}/databases/${b.database}/documents/${_.path.canonicalString()}`;e.mightContain(x)||(this.Ue(r,_,null),h++)}),h}rt(e){const r=new Map;this.Be.forEach((_,b)=>{const x=this.Je(b);if(x){if(_.current&&zo(x.target)){const F=new Bt(x.target.path);null!==this.ke.get(F)||this.it(b,F)||this.Ue(b,F,mt.newNoDocument(F,e))}_.be&&(r.set(b,_.ve()),_.Ce())}});let o=fr();this.qe.forEach((_,b)=>{let x=!0;b.forEachWhile(F=>{const K=this.Je(F);return!K||"TargetPurposeLimboResolution"===K.purpose||(x=!1,!1)}),x&&(o=o.add(_))}),this.ke.forEach((_,b)=>b.setReadTime(e));const h=new as(e,r,this.Qe,this.ke,o);return this.ke=Yi(),this.qe=Hn(),this.Qe=new Yr(Xt),h}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const h=this.Ge(e);this.it(e,r)?h.Fe(r,1):h.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new vo,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new wr(Xt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||xe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vo),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Hn(){return new Yr(Bt.comparator)}function sl(){return new Yr(Bt.comparator)}const ol={asc:"ASCENDING",desc:"DESCENDING"},wa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hl={and:"AND",or:"OR"};class Bh{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function al(d,e){return d.useProto3Json||ne(e)?e:{value:e}}function Yo(d,e){return d.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ru(d,e){return d.useProto3Json?e.toBase64():e.toUint8Array()}function Ou(d,e){return Yo(d,e.toTimestamp())}function Xi(d){return jt(!!d),Lt.fromTimestamp(function(r){const o=js(r);return new Gt(o.seconds,o.nanos)}(d))}function xc(d,e){return Nu(d,e).canonicalString()}function Nu(d,e){const r=(h=d,new un(["projects",h.projectId,"databases",h.database])).child("documents");var h;return void 0===e?r:r.child(e)}function Wt(d){const e=un.fromString(d);return jt(w(e)),e}function Sr(d,e){return xc(d.databaseId,e.path)}function Lo(d,e){const r=Wt(e);if(r.get(1)!==d.databaseId.projectId)throw new tt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+d.databaseId.projectId);if(r.get(3)!==d.databaseId.database)throw new tt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+d.databaseId.database);return new Bt(tc(r))}function cs(d,e){return xc(d.databaseId,e)}function Ps(d){const e=Wt(d);return 4===e.length?un.emptyPath():tc(e)}function cl(d){return new un(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function tc(d){return jt(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function zt(d,e,r){return{name:Sr(d,e),fields:r.value.mapValue.fields}}function nc(d,e,r){const o=Lo(d,e.name),h=Xi(e.updateTime),_=e.createTime?Xi(e.createTime):Lt.min(),b=new ke({mapValue:{fields:e.fields}}),x=mt.newFoundDocument(o,h,_,b);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function Vo(d,e){let r;if(e instanceof pr)r={update:zt(d,e.key,e.value)};else if(e instanceof Ts)r={delete:Sr(d,e.key)};else if(e instanceof ii)r={update:zt(d,e.key,e.data),updateMask:O(e.fieldMask)};else{if(!(e instanceof ca))return Pt();r={verify:Sr(d,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(_,b){const x=b.transform;if(x instanceof Ja)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Ko)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Va)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof Ua)return{fieldPath:b.field.canonicalString(),increment:x.Pe};throw Pt()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(_=e.precondition).updateTime?{updateTime:Ou(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:Pt()),r;var _}function Xo(d,e){const r=e.currentDocument?void 0!==(_=e.currentDocument).updateTime?Y.updateTime(Xi(_.updateTime)):void 0!==_.exists?Y.exists(_.exists):Y.none():Y.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(b,x){let F=null;"setToServerValue"in x?(jt("REQUEST_TIME"===x.setToServerValue),F=new Ja):"appendMissingElements"in x?F=new Ko(x.appendMissingElements.values||[]):"removeAllFromArray"in x?F=new Va(x.removeAllFromArray.values||[]):"increment"in x?F=new Ua(b,x.increment):Pt();const K=tr.fromServerFormat(x.fieldPath);return new P(K,F)}(d,h)):[];var _;if(e.update){const h=Lo(d,e.update.name),_=new ke({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new hi((e.updateMask.fieldPaths||[]).map(ie=>tr.fromServerFormat(ie)));return new ii(h,_,b,r,o)}return new pr(h,_,r,o)}if(e.delete){const h=Lo(d,e.delete);return new Ts(h,r)}if(e.verify){const h=Lo(d,e.verify);return new ca(h,r)}return Pt()}function Gi(d,e){return{documents:[cs(d,e.path)]}}function ua(d,e){const r={structuredQuery:{}},o=e.path;let h;null!==e.collectionGroup?(h=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=cs(d,h);const _=function(K){if(0!==K.length)return D(Yn.create(K,"and"))}(e.filters);_&&(r.structuredQuery.where=_);const b=function(K){if(0!==K.length)return K.map(ie=>{return{field:Aa(($e=ie).field),direction:$h($e.dir)};var $e})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const x=al(d,e.limit);return null!==x&&(r.structuredQuery.limit=x),e.startAt&&(r.structuredQuery.startAt={before:(K=e.startAt).inclusive,values:K.position}),e.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(e.endAt)),{_t:r,parent:h};var K}function Qs(d){let e=Ps(d.parent);const r=d.structuredQuery,o=r.from?r.from.length:0;let h=null;if(o>0){jt(1===o);const ie=r.from[0];ie.allDescendants?h=ie.collectionId:e=e.child(ie.collectionId)}let _=[];r.where&&(_=function(ve){const $e=ku(ve);return $e instanceof Yn&&Mi($e)?$e.getFilters():[$e]}(r.where));let b=[];r.orderBy&&(b=r.orderBy.map($e=>{return new Zn(Pc(($t=$e).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));let x=null;r.limit&&(x=function(ve){let $e;return $e="object"==typeof ve?ve.value:ve,ne($e)?null:$e}(r.limit));let F=null;var ve;r.startAt&&(F=new Qt((ve=r.startAt).values||[],!!ve.before));let K=null;return r.endAt&&(K=function(ve){return new Qt(ve.values||[],!ve.before)}(r.endAt)),W(e,h,b,_,x,"F",F,K)}function ku(d){return void 0!==d.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Pc(r.unaryFilter.field);return wn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const h=Pc(r.unaryFilter.field);return wn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const _=Pc(r.unaryFilter.field);return wn.create(_,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=Pc(r.unaryFilter.field);return wn.create(b,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(d):void 0!==d.fieldFilter?wn.create(Pc((r=d).fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==d.compositeFilter?function(r){return Yn.create(r.compositeFilter.filters.map(o=>ku(o)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Pt()}}(r.compositeFilter.op))}(d):Pt();var r}function $h(d){return ol[d]}function Ld(d){return wa[d]}function Fu(d){return Hl[d]}function Aa(d){return{fieldPath:d.canonicalString()}}function Pc(d){return tr.fromServerFormat(d.fieldPath)}function D(d){return d instanceof wn?function(r){if("=="===r.op){if(ns(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NAN"}};if(wi(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ns(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NOT_NAN"}};if(wi(r.value))return{unaryFilter:{field:Aa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(r.field),op:Ld(r.op),value:r.value}}}(d):d instanceof Yn?function(r){const o=r.getFilters().map(h=>D(h));return 1===o.length?o[0]:{compositeFilter:{op:Fu(r.op),filters:o}}}(d):Pt()}function O(d){const e=[];return d.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}class N{constructor(e,r,o,h,_=Lt.min(),b=Lt.min(),x=Pi.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x,this.expectedCount=F}withSequenceNumber(e){return new N(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new N(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H{constructor(e){this.ct=e}}function Pe(d,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:yt(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Sr(_=d.ct,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Yo(_,b.version.toTimestamp()),createTime:Yo(_,b.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:dt(e.version)};else{if(!e.isUnknownDocument())return Pt();o.unknownDocument={path:r.path.toArray(),version:dt(e.version)}}var _,b;return o}function yt(d){const e=d.toTimestamp();return[e.seconds,e.nanoseconds]}function dt(d){const e=d.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cn(d){const e=new Gt(d.seconds,d.nanoseconds);return Lt.fromTimestamp(e)}function ir(d,e){const r=(e.baseMutations||[]).map(_=>Xo(d.ct,_));for(let _=0;_<e.mutations.length-1;++_)_+1<e.mutations.length&&void 0!==e.mutations[_+1].transform&&(e.mutations[_].updateTransforms=e.mutations[_+1].transform.fieldTransforms,e.mutations.splice(_+1,1),++_);const o=e.mutations.map(_=>Xo(d.ct,_)),h=Gt.fromMillis(e.localWriteTimeMs);return new zs(e.batchId,h,r,o)}function br(d){const e=Cn(d.readTime),r=void 0!==d.lastLimboFreeSnapshotVersion?Cn(d.lastLimboFreeSnapshotVersion):Lt.min();let o;return o=void 0!==d.query.documents?(jt(1===(_=d.query).documents.length),_n(J(Ps(_.documents[0])))):function(_){return _n(Qs(_))}(d.query),new N(o,d.targetId,"TargetPurposeListen",d.lastListenSequenceNumber,e,r,Pi.fromBase64String(d.resumeToken));var _}function Fr(d,e){const r=dt(e.snapshotVersion),o=dt(e.lastLimboFreeSnapshotVersion);let h;h=zo(e.target)?Gi(d.ct,e.target):ua(d.ct,e.target)._t;const _=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ss(e.target),readTime:r,resumeToken:_,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function _i(d){const e=Qs({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?ss(e,e.limit,"L"):e}function rc(d,e){return new os(e.largestBatchId,Xo(d.ct,e.overlayMutation))}function Mc(d,e){const r=e.path.lastSegment();return[d,It(e.path.popLast()),r]}function ll(d,e,r,o){return{indexId:d,uid:e,sequenceNumber:r,readTime:dt(o.readTime),documentKey:It(o.documentKey.path),largestBatchId:o.largestBatchId}}class Rc{getBundleMetadata(e,r){return Lu(e).get(r).next(o=>{if(o)return{id:(_=o).bundleId,createTime:Cn(_.createTime),version:_.version};var _})}saveBundleMetadata(e,r){return Lu(e).put({bundleId:(h=r).id,createTime:dt(Xi(h.createTime)),version:h.version});var h}getNamedQuery(e,r){return Hh(e).get(r).next(o=>{if(o)return{name:(_=o).name,query:_i(_.bundledQuery),readTime:Cn(_.readTime)};var _})}saveNamedQuery(e,r){return Hh(e).put({name:(h=r).name,readTime:dt(Xi(h.readTime)),bundledQuery:h.bundledQuery});var h}}function Lu(d){return Vi(d,"bundles")}function Hh(d){return Vi(d,"namedQueries")}class ic{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new ic(e,r.uid||"")}getOverlay(e,r){return da(e).get(Mc(this.userId,r)).next(o=>o?rc(this.serializer,o):null)}getOverlays(e,r){const o=hs();return nt.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){const h=[];return o.forEach((_,b)=>{const x=new os(r,b);h.push(this.ht(e,x))}),nt.waitFor(h)}removeOverlaysForBatchId(e,r,o){const h=new Set;r.forEach(b=>h.add(It(b.getCollectionPath())));const _=[];return h.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);_.push(da(e).j("collectionPathOverlayIndex",x))}),nt.waitFor(_)}getOverlaysForCollection(e,r,o){const h=hs(),_=It(r),b=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,Number.POSITIVE_INFINITY],!0);return da(e).U("collectionPathOverlayIndex",b).next(x=>{for(const F of x){const K=rc(this.serializer,F);h.set(K.getKey(),K)}return h})}getOverlaysForCollectionGroup(e,r,o,h){const _=hs();let b;const x=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return da(e).J({index:"collectionGroupOverlayIndex",range:x},(F,K,ie)=>{const ve=rc(this.serializer,K);_.size()<h||ve.largestBatchId===b?(_.set(ve.getKey(),ve),b=ve.largestBatchId):ie.done()}).next(()=>_)}ht(e,r){return da(e).put(function(h,_,b){const[x,F,K]=Mc(_,b.mutation.key);return{userId:_,collectionPath:F,documentId:K,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Vo(h.ct,b.mutation)}}(this.serializer,this.userId,r))}}function da(d){return Vi(d,"documentOverlays")}class Wl{Pt(e){return Vi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const o=r?.value;return o?Pi.fromUint8Array(o):Pi.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class ja{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(ni(e.integerValue));else if("doubleValue"in e){const o=ni(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),fe(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=js(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Rs(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?qn(e)?this.dt(r,Number.MAX_SAFE_INTEGER):rs(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Pt()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const h of Object.keys(o))this.Vt(h,r),this.Tt(o[h],r)}wt(e,r){var o,h;const _=e.fields||{};this.dt(r,53);const b="value",x=(null===(h=null===(o=_[b].arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.length)||0;this.dt(r,15),r.At(ni(x)),this.Vt(b,r),this.Tt(_[b],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const h of o)this.Tt(h,r)}yt(e,r){this.dt(r,37),Bt.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function Vu(d){if(0===d)return 8;let e=0;return!(d>>4)&&(e+=4,d<<=4),!(d>>6)&&(e+=2,d<<=2),!(d>>7)&&(e+=1),e}function ha(d){const e=64-function(o){let h=0;for(let _=0;_<8;++_){const b=Vu(255&o[_]);if(h+=b,8!==b)break}return h}(d);return Math.ceil(e/8)}ja.vt=new ja;class Kl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const h=r.codePointAt(0);this.Ft(240|h>>>18),this.Ft(128|63&h>>>12),this.Ft(128|63&h>>>6),this.Ft(128|63&h)}}this.Mt()}Bt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const h=r.codePointAt(0);this.Ot(240|h>>>18),this.Ot(128|63&h>>>12),this.Ot(128|63&h>>>6),this.Ot(128|63&h)}}this.Nt()}kt(e){const r=this.qt(e),o=ha(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=255&r[h]}Kt(e){const r=this.qt(e),o=ha(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let h=r.length-o;h<r.length;++h)this.buffer[this.position++]=~(255&r[h])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(_){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,_,!1),new Uint8Array(b.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let h=1;h<r.length;++h)r[h]^=o?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Uu{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Vd{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ju{constructor(){this.jt=new Kl,this.Ht=new Uu(this.jt),this.Jt=new Vd(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Js{constructor(e,r,o,h){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=h}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Js(this.indexId,this.documentKey,this.arrayValue,o)}}function no(d,e){let r=d.indexId-e.indexId;return 0!==r?r:(r=Qo(d.arrayValue,e.arrayValue),0!==r?r:(r=Qo(d.directionalValue,e.directionalValue),0!==r?r:Bt.comparator(d.documentKey,e.documentKey)))}function Qo(d,e){for(let r=0;r<d.length&&r<e.length;++r){const o=d[r]-e[r];if(0!==o)return o}return d.length-e.length}class ql{constructor(e){this.Xt=new wr((r,o)=>tr.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(jt(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Gn(e);if(void 0!==r&&!this.sn(r))return!1;const o=ln(e);let h=new Set,_=0,b=0;for(;_<o.length&&this.sn(o[_]);++_)h=h.add(o[_].fieldPath.canonicalString());if(_===o.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!h.has(x.field.canonicalString())){const F=o[_];if(!this.on(x,F)||!this._n(this.en[b++],F))return!1}++_}for(;_<o.length;++_)if(b>=this.en.length||!this._n(this.en[b++],o[_]))return!1;return!0}an(){if(this.nn)return null;let e=new wr(tr.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new xr(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new xr(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new xr(o.field,"asc"===o.dir?0:1)));return new In(In.UNKNOWN_ID,this.collectionId,r,Kn.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Ud(d){var e,r;if(jt(d instanceof wn||d instanceof Yn),d instanceof wn){if(d instanceof Ho){const h=(null===(r=null===(e=d.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(_=>wn.create(d.field,"==",_)))||[];return Yn.create(h,"or")}return d}const o=d.filters.map(h=>Ud(h));return Yn.create(o,d.op)}function Qf(d){if(0===d.getFilters().length)return[];const e=Zf(Ud(d));return jt(Jf(e)),Gh(e)||Bu(e)?[e]:e.getFilters()}function Gh(d){return d instanceof wn}function Bu(d){return d instanceof Yn&&Mi(d)}function Jf(d){return Gh(d)||Bu(d)||function(r){if(r instanceof Yn&&zr(r)){for(const o of r.getFilters())if(!Gh(o)&&!Bu(o))return!1;return!0}return!1}(d)}function Zf(d){if(jt(d instanceof wn||d instanceof Yn),d instanceof wn)return d;if(1===d.filters.length)return Zf(d.filters[0]);const e=d.filters.map(o=>Zf(o));let r=Yn.create(e,d.op);return r=Hu(r),Jf(r)?r:(jt(r instanceof Yn),jt(Pr(r)),jt(r.filters.length>1),r.filters.reduce((o,h)=>$u(o,h)))}function $u(d,e){let r;return jt(d instanceof wn||d instanceof Yn),jt(e instanceof wn||e instanceof Yn),r=d instanceof wn?e instanceof wn?Yn.create([d,e],"and"):Oc(d,e):e instanceof wn?Oc(e,d):function(h,_){if(jt(h.filters.length>0&&_.filters.length>0),Pr(h)&&Pr(_))return pi(h,_.getFilters());const b=zr(h)?h:_,x=zr(h)?_:h,F=b.filters.map(K=>$u(K,x));return Yn.create(F,"or")}(d,e),Hu(r)}function Oc(d,e){if(Pr(e))return pi(e,d.getFilters());{const r=e.filters.map(o=>$u(d,o));return Yn.create(r,"or")}}function Hu(d){if(jt(d instanceof wn||d instanceof Yn),d instanceof wn)return d;const e=d.getFilters();if(1===e.length)return Hu(e[0]);if(Ki(d))return d;const r=e.map(h=>Hu(h)),o=[];return r.forEach(h=>{h instanceof wn?o.push(h):h instanceof Yn&&(h.op===d.op?o.push(...h.filters):o.push(h))}),1===o.length?o[0]:Yn.create(o,d.op)}class Ba{constructor(){this.un=new Gu}addToCollectionParentIndex(e,r){return this.un.add(r),nt.resolve()}getCollectionParents(e,r){return nt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return nt.resolve()}deleteFieldIndex(e,r){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,r){return nt.resolve()}getDocumentsMatchingTarget(e,r){return nt.resolve(null)}getIndexType(e,r){return nt.resolve(0)}getFieldIndexes(e,r){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,r){return nt.resolve(gn.min())}getMinOffsetFromCollectionGroup(e,r){return nt.resolve(gn.min())}updateCollectionGroup(e,r,o){return nt.resolve()}updateIndexEntries(e,r){return nt.resolve()}}class Gu{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r]||new wr(un.comparator),_=!h.has(o);return this.index[r]=h.add(o),_}has(e){const r=e.lastSegment(),o=e.popLast(),h=this.index[r];return h&&h.has(o)}getEntries(e){return(this.index[e]||new wr(un.comparator)).toArray()}}const sc=new Uint8Array(0);class ep{constructor(e,r){this.databaseId=r,this.cn=new Gu,this.ln=new qi(o=>Ss(o),(o,h)=>xo(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const o=r.lastSegment(),h=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const _={collectionId:o,parent:It(h)};return zh(e).put(_)}return nt.resolve()}getCollectionParents(e,r){const o=[],h=IDBKeyRange.bound([r,""],[kn(r),""],!1,!0);return zh(e).U(h).next(_=>{for(const b of _){if(b.collectionId!==r)break;o.push(Dn(b.parent))}return o})}addFieldIndex(e,r){const o=Yl(e),h={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var x;delete h.indexId;const _=o.add(h);if(r.indexState){const b=uo(e);return _.next(x=>{b.put(ll(x,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return _.next()}deleteFieldIndex(e,r){const o=Yl(e),h=uo(e),_=Da(e);return o.delete(r.indexId).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Yl(e),o=Da(e),h=uo(e);return r.j().next(()=>o.j()).next(()=>h.j())}createTargetIndexes(e,r){return nt.forEach(this.hn(r),o=>this.getIndexType(e,o).next(h=>{if(0===h||1===h){const _=new ql(o).an();if(null!=_)return this.addFieldIndex(e,_)}}))}getDocumentsMatchingTarget(e,r){const o=Da(e);let h=!0;const _=new Map;return nt.forEach(this.hn(r),b=>this.Pn(e,b).next(x=>{h&&(h=!!x),_.set(b,x)})).next(()=>{if(h){let b=fr();const x=[];return nt.forEach(_,(F,K)=>{var nr;xe("IndexedDbIndexManager",`Using index ${nr=F,`id=${nr.indexId}|cg=${nr.collectionGroup}|f=${nr.fields.map(Nr=>`${Nr.fieldPath}:${Nr.kind}`).join(",")}`} to execute ${Ss(r)}`);const ie=function(nr,Nr){const Ni=Gn(Nr);if(void 0===Ni)return null;for(const si of aa(nr,Ni.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(K,F),ve=function(nr,Nr){const Ni=new Map;for(const si of ln(Nr))for(const ot of aa(nr,si.fieldPath))switch(ot.op){case"==":case"in":Ni.set(si.fieldPath.canonicalString(),ot.value);break;case"not-in":case"!=":return Ni.set(si.fieldPath.canonicalString(),ot.value),Array.from(Ni.values())}return null}(K,F),$e=function(nr,Nr){const Ni=[];let si=!0;for(const ot of ln(Nr)){const Fe=0===ot.kind?li(nr,ot.fieldPath,nr.startAt):ba(nr,ot.fieldPath,nr.startAt);Ni.push(Fe.value),si&&(si=Fe.inclusive)}return new Qt(Ni,si)}(K,F),_t=function(nr,Nr){const Ni=[];let si=!0;for(const ot of ln(Nr)){const Fe=0===ot.kind?ba(nr,ot.fieldPath,nr.endAt):li(nr,ot.fieldPath,nr.endAt);Ni.push(Fe.value),si&&(si=Fe.inclusive)}return new Qt(Ni,si)}(K,F),$t=this.In(F,K,$e),hn=this.In(F,K,_t),nn=this.Tn(F,K,ve),Qn=this.En(F.indexId,ie,$t,$e.inclusive,hn,_t.inclusive,nn);return nt.forEach(Qn,cr=>o.G(cr,r.limit).next(nr=>{nr.forEach(Nr=>{const Ni=Bt.fromSegments(Nr.documentKey);b.has(Ni)||(b=b.add(Ni),x.push(Ni))})}))}).next(()=>x)}return nt.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:Qf(Yn.create(e.filters,"and")).map(o=>bs(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,o,h,_,b,x){const F=(null!=r?r.length:1)*Math.max(o.length,_.length),K=F/(null!=r?r.length:1),ie=[];for(let ve=0;ve<F;++ve){const $e=r?this.dn(r[ve/K]):sc,_t=this.An(e,$e,o[ve%K],h),$t=this.Rn(e,$e,_[ve%K],b),hn=x.map(nn=>this.An(e,$e,nn,!0));ie.push(...this.createRange(_t,$t,hn))}return ie}An(e,r,o,h){const _=new Js(e,Bt.empty(),r,o);return h?_:_.Zt()}Rn(e,r,o,h){const _=new Js(e,Bt.empty(),r,o);return h?_.Zt():_}Pn(e,r){const o=new ql(r),h=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,h).next(_=>{let b=null;for(const x of _)o.rn(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,r){let o=2;const h=this.hn(r);return nt.forEach(h,_=>this.Pn(e,_).next(b=>{b?0!==o&&b.fields.length<function(F){let K=new wr(tr.comparator),ie=!1;for(const ve of F.filters)for(const $e of ve.getFlattenedFilters())$e.field.isKeyField()||("array-contains"===$e.op||"array-contains-any"===$e.op?ie=!0:K=K.add($e.field));for(const ve of F.orderBy)ve.field.isKeyField()||(K=K.add(ve.field));return K.size+(ie?1:0)}(_)&&(o=1):o=0})).next(()=>null!==r.limit&&h.length>1&&2===o?1:o)}Vn(e,r){const o=new ju;for(const h of ln(e)){const _=r.data.field(h.fieldPath);if(null==_)return null;const b=o.Yt(h.kind);ja.vt.It(_,b)}return o.zt()}dn(e){const r=new ju;return ja.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const o=new ju;return ja.vt.It(Wn(this.databaseId,r),o.Yt(function(_){const b=ln(_);return 0===b.length?0:b[b.length-1].kind}(e))),o.zt()}Tn(e,r,o){if(null===o)return[];let h=[];h.push(new ju);let _=0;for(const b of ln(e)){const x=o[_++];for(const F of h)if(this.fn(r,b.fieldPath)&&$i(x))h=this.gn(h,b,x);else{const K=F.Yt(b.kind);ja.vt.It(x,K)}}return this.pn(h)}In(e,r,o){return this.Tn(e,r,o.position)}pn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].zt();return r}gn(e,r,o){const h=[...e],_=[];for(const b of o.arrayValue.values||[])for(const x of h){const F=new ju;F.seed(x.zt()),ja.vt.It(b,F.Yt(r.kind)),_.push(F)}return _}fn(e,r){return!!e.filters.find(o=>o instanceof wn&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Yl(e),h=uo(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(_=>{const b=[];return nt.forEach(_,x=>h.get([x.indexId,this.uid]).next(F=>{b.push(function(ie,ve){const $e=ve?new Kn(ve.sequenceNumber,new gn(Cn(ve.readTime),new Bt(Dn(ve.documentKey)),ve.largestBatchId)):Kn.empty(),_t=ie.fields.map(([$t,hn])=>new xr(tr.fromServerFormat($t),hn));return new In(ie.indexId,ie.collectionGroup,_t,$e)}(x,F))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,h)=>{const _=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==_?_:Xt(o.collectionGroup,h.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const h=Yl(e),_=uo(e);return this.yn(e).next(b=>h.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>nt.forEach(x,F=>_.put(ll(F.indexId,this.uid,b,o)))))}updateIndexEntries(e,r){const o=new Map;return nt.forEach(r,(h,_)=>{const b=o.get(h.collectionGroup);return(b?nt.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(x=>(o.set(h.collectionGroup,x),nt.forEach(x,F=>this.wn(e,h,F).next(K=>{const ie=this.Sn(_,F);return K.isEqual(ie)?nt.resolve():this.bn(e,_,F,K,ie)}))))})}Dn(e,r,o,h){return Da(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(e,r,o,h){return Da(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const h=Da(e);let _=new wr(no);return h.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(b,x)=>{_=_.add(new Js(o.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>_)}Sn(e,r){let o=new wr(no);const h=this.Vn(r,e);if(null==h)return o;const _=Gn(r);if(null!=_){const b=e.data.field(_.fieldPath);if($i(b))for(const x of b.arrayValue.values||[])o=o.add(new Js(r.indexId,e.key,this.dn(x),h))}else o=o.add(new Js(r.indexId,e.key,sc,h));return o}bn(e,r,o,h,_){xe("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(F,K,ie,ve,$e){const _t=F.getIterator(),$t=K.getIterator();let hn=So(_t),nn=So($t);for(;hn||nn;){let Qn=!1,cr=!1;if(hn&&nn){const nr=ie(hn,nn);nr<0?cr=!0:nr>0&&(Qn=!0)}else null!=hn?cr=!0:Qn=!0;Qn?(ve(nn),nn=So($t)):cr?($e(hn),hn=So(_t)):(hn=So(_t),nn=So($t))}}(h,_,no,x=>{b.push(this.Dn(e,r,o,x))},x=>{b.push(this.vn(e,r,o,x))}),nt.waitFor(b)}yn(e){let r=1;return uo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,_)=>{_.done(),r=h.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((b,x)=>no(b,x)).filter((b,x,F)=>!x||0!==no(b,F[x-1]));const h=[];h.push(e);for(const b of o){const x=no(b,e),F=no(b,r);if(0===x)h[0]=e.Zt();else if(x>0&&F<0)h.push(b),h.push(b.Zt());else if(F>0)break}h.push(r);const _=[];for(let b=0;b<h.length;b+=2){if(this.Cn(h[b],h[b+1]))return[];_.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,sc,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,sc,[]]))}return _}Cn(e,r){return no(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(jd)}getMinOffset(e,r){return nt.mapArray(this.hn(r),o=>this.Pn(e,o).next(h=>h||Pt())).next(jd)}}function zh(d){return Vi(d,"collectionParents")}function Da(d){return Vi(d,"indexEntries")}function Yl(d){return Vi(d,"indexConfiguration")}function uo(d){return Vi(d,"indexState")}function jd(d){jt(0!==d.length);let e=d[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<d.length;o++){const h=d[o].indexState.offset;ti(h,e)<0&&(e=h),r<h.largestBatchId&&(r=h.largestBatchId)}return new gn(e.readTime,e.documentKey,r)}const ul={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wh(d,e,r){const o=d.store("mutations"),h=d.store("documentMutations"),_=[],b=IDBKeyRange.only(r.batchId);let x=0;const F=o.J({range:b},(ie,ve,$e)=>(x++,$e.delete()));_.push(F.next(()=>{jt(1===x)}));const K=[];for(const ie of r.mutations){const ve=Vr(e,ie.key.path,r.batchId);_.push(h.delete(ve)),K.push(ie.key)}return nt.waitFor(_).next(()=>K)}function Nc(d){if(!d)return 0;let e;if(d.document)e=d.document;else if(d.unknownDocument)e=d.unknownDocument;else{if(!d.noDocument)throw Pt();e=d.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class dl{constructor(e,r,o,h){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=h,this.Fn={}}static lt(e,r,o,h){jt(""!==e.uid);const _=e.isAuthenticated()?e.uid:"";return new dl(_,r,o,h)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oc(e).J({index:"userMutationsIndex",range:o},(h,_,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,o,h){const _=Sa(e),b=oc(e);return b.add({}).next(x=>{jt("number"==typeof x);const F=new zs(x,r,o,h),K=function(_t,$t,hn){const nn=hn.baseMutations.map(cr=>Vo(_t.ct,cr)),Qn=hn.mutations.map(cr=>Vo(_t.ct,cr));return{userId:$t,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:nn,mutations:Qn}}(this.serializer,this.userId,F),ie=[];let ve=new wr(($e,_t)=>Xt($e.canonicalString(),_t.canonicalString()));for(const $e of h){const _t=Vr(this.userId,$e.key.path,x);ve=ve.add($e.key.path.popLast()),ie.push(b.put(K)),ie.push(_.put(_t,dr))}return ve.forEach($e=>{ie.push(this.indexManager.addToCollectionParentIndex(e,$e))}),e.addOnCommittedListener(()=>{this.Fn[x]=F.keys()}),nt.waitFor(ie).next(()=>F)})}lookupMutationBatch(e,r){return oc(e).get(r).next(o=>o?(jt(o.userId===this.userId),ir(this.serializer,o)):null)}Mn(e,r){return this.Fn[r]?nt.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const h=o.keys();return this.Fn[r]=h,h}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,h=IDBKeyRange.lowerBound([this.userId,o]);let _=null;return oc(e).J({index:"userMutationsIndex",range:h},(b,x,F)=>{x.userId===this.userId&&(jt(x.batchId>=o),_=ir(this.serializer,x)),F.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return oc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(h,_,b)=>{o=_.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oc(e).U("userMutationsIndex",r).next(o=>o.map(h=>ir(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=cn(this.userId,r.path),h=IDBKeyRange.lowerBound(o),_=[];return Sa(e).J({range:h},(b,x,F)=>{const[K,ie,ve]=b,$e=Dn(ie);if(K===this.userId&&r.path.isEqual($e))return oc(e).get(ve).next(_t=>{if(!_t)throw Pt();jt(_t.userId===this.userId),_.push(ir(this.serializer,_t))});F.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new wr(Xt);const h=[];return r.forEach(_=>{const b=cn(this.userId,_.path),x=IDBKeyRange.lowerBound(b),F=Sa(e).J({range:x},(K,ie,ve)=>{const[$e,_t,$t]=K,hn=Dn(_t);$e===this.userId&&_.path.isEqual(hn)?o=o.add($t):ve.done()});h.push(F)}),nt.waitFor(h).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1,_=cn(this.userId,o),b=IDBKeyRange.lowerBound(_);let x=new wr(Xt);return Sa(e).J({range:b},(F,K,ie)=>{const[ve,$e,_t]=F,$t=Dn($e);ve===this.userId&&o.isPrefixOf($t)?$t.length===h&&(x=x.add(_t)):ie.done()}).next(()=>this.xn(e,x))}xn(e,r){const o=[],h=[];return r.forEach(_=>{h.push(oc(e).get(_).next(b=>{if(null===b)throw Pt();jt(b.userId===this.userId),o.push(ir(this.serializer,b))}))}),nt.waitFor(h).next(()=>o)}removeMutationBatch(e,r){return Wh(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),nt.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return nt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return Sa(e).J({range:o},(_,b,x)=>{if(_[0]===this.userId){const F=Dn(_[1]);h.push(F)}else x.done()}).next(()=>{jt(0===h.length)})})}containsKey(e,r){return Kh(e,this.userId,r)}Nn(e){return zu(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kh(d,e,r){const o=cn(e,r.path),h=o[1],_=IDBKeyRange.lowerBound(o);let b=!1;return Sa(d).J({range:_,H:!0},(x,F,K)=>{const[ie,ve,$e]=x;ie===e&&ve===h&&(b=!0),K.done()}).next(()=>b)}function oc(d){return Vi(d,"mutations")}function Sa(d){return Vi(d,"documentMutations")}function zu(d){return Vi(d,"mutationQueues")}class hl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hl(0)}static kn(){return new hl(-1)}}class Wu{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const o=new hl(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Lt.fromTimestamp(new Gt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.qn(e).next(h=>(h.highestListenSequenceNumber=r,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),r>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=r),this.Qn(e,h)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(e,o))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>xa(e).delete(r.targetId)).next(()=>this.qn(e)).next(o=>(jt(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,r,o){let h=0;const _=[];return xa(e).J((b,x)=>{const F=br(x);F.sequenceNumber<=r&&null===o.get(F.targetId)&&(h++,_.push(this.removeTargetData(e,F)))}).next(()=>nt.waitFor(_)).next(()=>h)}forEachTarget(e,r){return xa(e).J((o,h)=>{const _=br(h);r(_)})}qn(e){return kc(e).get("targetGlobalKey").next(r=>(jt(null!==r),r))}Qn(e,r){return kc(e).put("targetGlobalKey",r)}Kn(e,r){return xa(e).put(Fr(this.serializer,r))}$n(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Ss(r),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let _=null;return xa(e).J({range:h,index:"queryTargetsIndex"},(b,x,F)=>{const K=br(x);xo(r,K.target)&&(_=K,F.done())}).next(()=>_)}addMatchingKeys(e,r,o){const h=[],_=Fc(e);return r.forEach(b=>{const x=It(b.path);h.push(_.put({targetId:o,path:x})),h.push(this.referenceDelegate.addReference(e,o,b))}),nt.waitFor(h)}removeMatchingKeys(e,r,o){const h=Fc(e);return nt.forEach(r,_=>{const b=It(_.path);return nt.waitFor([h.delete([o,b]),this.referenceDelegate.removeReference(e,o,_)])})}removeMatchingKeysForTargetId(e,r){const o=Fc(e),h=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),h=Fc(e);let _=fr();return h.J({range:o,H:!0},(b,x,F)=>{const K=Dn(b[1]),ie=new Bt(K);_=_.add(ie)}).next(()=>_)}containsKey(e,r){const o=It(r.path),h=IDBKeyRange.bound([o],[kn(o)],!1,!0);let _=0;return Fc(e).J({index:"documentTargetsIndex",H:!0,range:h},([b,x],F,K)=>{0!==b&&(_++,K.done())}).next(()=>_>0)}ot(e,r){return xa(e).get(r).next(o=>o?br(o):null)}}function xa(d){return Vi(d,"targets")}function kc(d){return Vi(d,"targetGlobal")}function Fc(d){return Vi(d,"targetDocuments")}function Ku([d,e],[r,o]){const h=Xt(d,r);return 0===h?Xt(e,o):h}class tp{constructor(e){this.Un=e,this.buffer=new wr(Ku),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Ku(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Lc{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,c.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){jn(o)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield zn(o)}yield r.Hn(3e5)}))}}class qu{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return nt.resolve(k.oe);const o=new tp(r);return this.Jn.forEachTarget(e,h=>o.zn(h.sequenceNumber)).next(()=>this.Jn.Zn(e,h=>o.zn(h))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(ul)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ul):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let o,h,_,b,x,F,K;const ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),h=this.params.maximumSequenceNumbersToCollect):h=ve,b=Date.now(),this.nthSequenceNumber(e,h))).next(ve=>(o=ve,x=Date.now(),this.removeTargets(e,o,r))).next(ve=>(_=ve,F=Date.now(),this.removeOrphanedDocuments(e,o))).next(ve=>(K=Date.now(),St()<=Ie.$b.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ie}ms\n\tDetermined least recently used ${h} in `+(x-b)+`ms\n\tRemoved ${_} targets in `+(F-x)+`ms\n\tRemoved ${ve} documents in `+(K-F)+`ms\nTotal Duration: ${K-ie}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:_,documentsRemoved:ve})))}}class Yu{constructor(e,r){this.db=e,this.garbageCollector=function fs(d,e){return new qu(d,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(h=>o+h))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(o,h)=>r(h))}addReference(e,r,o){return fl(e,o)}removeReference(e,r,o){return fl(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return fl(e,r)}nr(e,r){return function(h,_){let b=!1;return zu(h).Y(x=>Kh(h,x,_).next(F=>(F&&(b=!0),nt.resolve(!F)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let _=0;return this.tr(e,(b,x)=>{if(x<=r){const F=this.nr(e,b).next(K=>{if(!K)return _++,o.getEntry(e,b).next(()=>(o.removeEntry(b,Lt.min()),Fc(e).delete([0,It(b.path)])))});h.push(F)}}).next(()=>nt.waitFor(h)).next(()=>o.apply(e)).next(()=>_)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return fl(e,r)}tr(e,r){const o=Fc(e);let h,_=k.oe;return o.J({index:"documentTargetsIndex"},([b,x],{path:F,sequenceNumber:K})=>{0===b?(_!==k.oe&&r(new Bt(Dn(h)),_),_=K,h=F):_=k.oe}).next(()=>{_!==k.oe&&r(new Bt(Dn(h)),_)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fl(d,e){return Fc(d).put((h=d.currentSequenceNumber,{targetId:0,path:It(e.path),sequenceNumber:h}));var h}class Bd{constructor(){this.changes=new qi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?nt.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class np{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Eo(e).put(o)}removeEntry(e,r,o){return Eo(e).delete(function(_,b){const x=_.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],yt(b),x[x.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.rr(e,o)))}getEntry(e,r){let o=mt.newInvalidDocument(r);return Eo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fa(r))},(h,_)=>{o=this.ir(r,_)}).next(()=>o)}sr(e,r){let o={size:0,document:mt.newInvalidDocument(r)};return Eo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fa(r))},(h,_)=>{o={document:this.ir(r,_),size:Nc(_)}}).next(()=>o)}getEntries(e,r){let o=Yi();return this._r(e,r,(h,_)=>{const b=this.ir(h,_);o=o.insert(h,b)}).next(()=>o)}ar(e,r){let o=Yi(),h=new Yr(Bt.comparator);return this._r(e,r,(_,b)=>{const x=this.ir(_,b);o=o.insert(_,x),h=h.insert(_,Nc(b))}).next(()=>({documents:o,ur:h}))}_r(e,r,o){if(r.isEmpty())return nt.resolve();let h=new wr(Vc);r.forEach(F=>h=h.add(F));const _=IDBKeyRange.bound(fa(h.first()),fa(h.last())),b=h.getIterator();let x=b.getNext();return Eo(e).J({index:"documentKeyIndex",range:_},(F,K,ie)=>{const ve=Bt.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;x&&Vc(x,ve)<0;)o(x,null),x=b.getNext();x&&x.isEqual(ve)&&(o(x,K),x=b.hasNext()?b.getNext():null),x?ie.$(fa(x)):ie.done()}).next(()=>{for(;x;)o(x,null),x=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,r,o,h,_){const b=r.path,x=[b.popLast().toArray(),b.lastSegment(),yt(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],F=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eo(e).U(IDBKeyRange.bound(x,F,!0)).next(K=>{_?.incrementDocumentReadCount(K.length);let ie=Yi();for(const ve of K){const $e=this.ir(Bt.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);$e.isFoundDocument()&&(Wo(r,$e)||h.has($e.key))&&(ie=ie.insert($e.key,$e))}return ie})}getAllFromCollectionGroup(e,r,o,h){let _=Yi();const b=qh(r,o),x=qh(r,gn.max());return Eo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(F,K,ie)=>{const ve=this.ir(Bt.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(ve.key,ve),_.size===h&&ie.done()}).next(()=>_)}newChangeBuffer(e){return new Hd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return pl(e).get("remoteDocumentGlobalKey").next(r=>(jt(!!r),r))}rr(e,r){return pl(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const o=function ae(d,e){let r;if(e.document)r=nc(d.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Bt.fromSegments(e.noDocument.path),h=Cn(e.noDocument.readTime);r=mt.newNoDocument(o,h),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pt();{const o=Bt.fromSegments(e.unknownDocument.path),h=Cn(e.unknownDocument.version);r=mt.newUnknownDocument(o,h)}}return e.readTime&&r.setReadTime(function(h){const _=new Gt(h[0],h[1]);return Lt.fromTimestamp(_)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(Lt.min()))return o}return mt.newInvalidDocument(e)}}function $d(d){return new np(d)}class Hd extends Bd{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new qi(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const r=[];let o=0,h=new wr((_,b)=>Xt(_.canonicalString(),b.canonicalString()));return this.changes.forEach((_,b)=>{const x=this.lr.get(_);if(r.push(this.cr.removeEntry(e,_,x.readTime)),b.isValidDocument()){const F=Pe(this.cr.serializer,b);h=h.add(_.path.popLast());const K=Nc(F);o+=K-x.size,r.push(this.cr.addEntry(e,_,F))}else if(o-=x.size,this.trackRemovals){const F=Pe(this.cr.serializer,b.convertToNoDocument(Lt.min()));r.push(this.cr.addEntry(e,_,F))}}),h.forEach(_=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,_))}),r.push(this.cr.updateMetadata(e,o)),nt.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:o,ur:h})=>(h.forEach((_,b)=>{this.lr.set(_,{size:b,readTime:o.get(_).readTime})}),o))}}function pl(d){return Vi(d,"remoteDocumentGlobal")}function Eo(d){return Vi(d,"remoteDocumentsV14")}function fa(d){const e=d.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qh(d,e){const r=e.documentKey.path.toArray();return[d,yt(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Vc(d,e){const r=d.path.toArray(),o=e.path.toArray();let h=0;for(let _=0;_<r.length-2&&_<o.length-2;++_)if(h=Xt(r[_],o[_]),h)return h;return h=Xt(r.length,o.length),h||(h=Xt(r[r.length-2],o[o.length-2]),h||Xt(r[r.length-1],o[o.length-1]))}class gl{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class rp{constructor(e,r,o,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(o=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(null!==o&&Wr(o.mutation,h,hi.empty(),Gt.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,fr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=fr()){const h=hs();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,o).next(_=>{let b=ao();return _.forEach((x,F)=>{b=b.insert(x,F.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const o=hs();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,fr()))}populateOverlays(e,r,o){const h=[];return o.forEach(_=>{r.has(_)||h.push(_)}),this.documentOverlayCache.getOverlays(e,h).next(_=>{_.forEach((b,x)=>{r.set(b,x)})})}computeViews(e,r,o,h){let _=Yi();const b=Ro(),x=Ro();return r.forEach((F,K)=>{const ie=o.get(K.key);h.has(K.key)&&(void 0===ie||ie.mutation instanceof ii)?_=_.insert(K.key,K):void 0!==ie?(b.set(K.key,ie.mutation.getFieldMask()),Wr(ie.mutation,K,ie.mutation.getFieldMask(),Gt.now())):b.set(K.key,hi.empty())}),this.recalculateAndSaveOverlays(e,_).next(F=>(F.forEach((K,ie)=>b.set(K,ie)),r.forEach((K,ie)=>{var ve;return x.set(K,new gl(ie,null!==(ve=b.get(K))&&void 0!==ve?ve:null))}),x))}recalculateAndSaveOverlays(e,r){const o=Ro();let h=new Yr((b,x)=>b-x),_=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const x of b)x.keys().forEach(F=>{const K=r.get(F);if(null===K)return;let ie=o.get(F)||hi.empty();ie=x.applyToLocalView(K,ie),o.set(F,ie);const ve=(h.get(x.batchId)||fr()).add(F);h=h.insert(x.batchId,ve)})}).next(()=>{const b=[],x=h.getReverseIterator();for(;x.hasNext();){const F=x.getNext(),K=F.key,ie=F.value,ve=Ia();ie.forEach($e=>{if(!_.has($e)){const _t=kt(r.get($e),o.get($e));null!==_t&&ve.set($e,_t),_=_.add($e)}}),b.push(this.documentOverlayCache.saveOverlays(e,K,ve))}return nt.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,h){return Bt.isDocumentKey((b=r).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ce(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,h):this.getDocumentsMatchingCollectionQuery(e,r,o,h);var b}getNextDocuments(e,r,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,h).next(_=>{const b=h-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,h-_.size):nt.resolve(hs());let x=-1,F=_;return b.next(K=>nt.forEach(K,(ie,ve)=>(x<ve.largestBatchId&&(x=ve.largestBatchId),_.get(ie)?nt.resolve():this.remoteDocumentCache.getEntry(e,ie).next($e=>{F=F.insert(ie,$e)}))).next(()=>this.populateOverlays(e,K,_)).next(()=>this.computeViews(e,F,K,fr())).next(ie=>({batchId:x,changes:Ta(ie)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Bt(r)).next(o=>{let h=ao();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,o,h){const _=r.collectionGroup;let b=ao();return this.indexManager.getCollectionParents(e,_).next(x=>nt.forEach(x,F=>{const K=(ve=r,$e=F.child(_),new Po($e,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,$e;return this.getDocumentsMatchingCollectionQuery(e,K,o,h).next(ie=>{ie.forEach((ve,$e)=>{b=b.insert(ve,$e)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,o,h){let _;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(b=>(_=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,_,h))).next(b=>{_.forEach((F,K)=>{const ie=K.getKey();null===b.get(ie)&&(b=b.insert(ie,mt.newInvalidDocument(ie)))});let x=ao();return b.forEach((F,K)=>{const ie=_.get(F);void 0!==ie&&Wr(ie.mutation,K,hi.empty(),Gt.now()),Wo(r,K)&&(x=x.insert(F,K))}),x})}}class ml{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return nt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(h=r).id,version:h.version,createTime:Xi(h.createTime)}),nt.resolve();var h}getNamedQuery(e,r){return nt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(h=r).name,query:_i(h.bundledQuery),readTime:Xi(h.readTime)}),nt.resolve();var h}}class ip{constructor(){this.overlays=new Yr(Bt.comparator),this.Ir=new Map}getOverlay(e,r){return nt.resolve(this.overlays.get(r))}getOverlays(e,r){const o=hs();return nt.forEach(r,h=>this.getOverlay(e,h).next(_=>{null!==_&&o.set(h,_)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((h,_)=>{this.ht(e,r,_)}),nt.resolve()}removeOverlaysForBatchId(e,r,o){const h=this.Ir.get(o);return void 0!==h&&(h.forEach(_=>this.overlays=this.overlays.remove(_)),this.Ir.delete(o)),nt.resolve()}getOverlaysForCollection(e,r,o){const h=hs(),_=r.length+1,b=new Bt(r.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const F=x.getNext().value,K=F.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===_&&F.largestBatchId>o&&h.set(F.getKey(),F)}return nt.resolve(h)}getOverlaysForCollectionGroup(e,r,o,h){let _=new Yr((K,ie)=>K-ie);const b=this.overlays.getIterator();for(;b.hasNext();){const K=b.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>o){let ie=_.get(K.largestBatchId);null===ie&&(ie=hs(),_=_.insert(K.largestBatchId,ie)),ie.set(K.getKey(),K)}}const x=hs(),F=_.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((K,ie)=>x.set(K,ie)),!(x.size()>=h)););return nt.resolve(x)}ht(e,r,o){const h=this.overlays.get(o.key);if(null!==h){const b=this.Ir.get(h.largestBatchId).delete(o.key);this.Ir.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new os(r,o));let _=this.Ir.get(r);void 0===_&&(_=fr(),this.Ir.set(r,_)),this.Ir.set(r,_.add(o.key))}}class xg{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,nt.resolve()}}class Yh{constructor(){this.Tr=new wr(Fs.Er),this.dr=new wr(Fs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new Fs(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new Fs(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new Bt(new un([])),o=new Fs(r,e),h=new Fs(r,e+1),_=[];return this.dr.forEachInRange([o,h],b=>{this.Vr(b),_.push(b.key)}),_}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Bt(new un([])),o=new Fs(r,e),h=new Fs(r,e+1);let _=fr();return this.dr.forEachInRange([o,h],b=>{_=_.add(b.key)}),_}containsKey(e){const r=new Fs(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Fs{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Bt.comparator(e.key,r.key)||Xt(e.wr,r.wr)}static Ar(e,r){return Xt(e.wr,r.wr)||Bt.comparator(e.key,r.key)}}class Pg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new wr(Fs.Er)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,h){const _=this.Sr;this.Sr++;const b=new zs(_,r,o,h);this.mutationQueue.push(b);for(const x of h)this.br=this.br.add(new Fs(x.key,_)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return nt.resolve(b)}lookupMutationBatch(e,r){return nt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const h=this.vr(r+1),_=h<0?0:h;return nt.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Fs(r,0),h=new Fs(r,Number.POSITIVE_INFINITY),_=[];return this.br.forEachInRange([o,h],b=>{const x=this.Dr(b.wr);_.push(x)}),nt.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new wr(Xt);return r.forEach(h=>{const _=new Fs(h,0),b=new Fs(h,Number.POSITIVE_INFINITY);this.br.forEachInRange([_,b],x=>{o=o.add(x.wr)})}),nt.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,h=o.length+1;let _=o;Bt.isDocumentKey(_)||(_=_.child(""));const b=new Fs(new Bt(_),0);let x=new wr(Xt);return this.br.forEachWhile(F=>{const K=F.key.path;return!!o.isPrefixOf(K)&&(K.length===h&&(x=x.add(F.wr)),!0)},b),nt.resolve(this.Cr(x))}Cr(e){const r=[];return e.forEach(o=>{const h=this.Dr(o);null!==h&&r.push(h)}),r}removeMutationBatch(e,r){jt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return nt.forEach(r.mutations,h=>{const _=new Fs(h.key,r.batchId);return o=o.delete(_),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new Fs(r,0),h=this.br.firstAfterOrEqual(o);return nt.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return nt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Zm{constructor(e){this.Mr=e,this.docs=new Yr(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,h=this.docs.get(o),_=h?h.size:0,b=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:b}),this.size+=b-_,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return nt.resolve(o?o.document.mutableCopy():mt.newInvalidDocument(r))}getEntries(e,r){let o=Yi();return r.forEach(h=>{const _=this.docs.get(h);o=o.insert(h,_?_.document.mutableCopy():mt.newInvalidDocument(h))}),nt.resolve(o)}getDocumentsMatchingQuery(e,r,o,h){let _=Yi();const b=r.path,x=new Bt(b.child("")),F=this.docs.getIteratorFrom(x);for(;F.hasNext();){const{key:K,value:{document:ie}}=F.getNext();if(!b.isPrefixOf(K.path))break;K.path.length>b.length+1||ti(_s(ie),o)<=0||(h.has(ie.key)||Wo(r,ie))&&(_=_.insert(ie.key,ie.mutableCopy()))}return nt.resolve(_)}getAllFromCollectionGroup(e,r,o,h){Pt()}Or(e,r){return nt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Xl(this)}getSize(e){return nt.resolve(this.size)}}class Xl extends Bd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?r.push(this.cr.addEntry(e,h)):this.cr.removeEntry(o)}),nt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class Mg{constructor(e){this.persistence=e,this.Nr=new qi(r=>Ss(r),xo),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yh,this.targetCount=0,this.kr=hl.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,h)=>r(h)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),nt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new hl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,nt.resolve()}updateTargetData(e,r){return this.Kn(r),nt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,r,o){let h=0;const _=[];return this.Nr.forEach((b,x)=>{x.sequenceNumber<=r&&null===o.get(x.targetId)&&(this.Nr.delete(b),_.push(this.removeMatchingKeysForTargetId(e,x.targetId)),h++)}),nt.waitFor(_).next(()=>h)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return nt.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),nt.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const h=this.persistence.referenceDelegate,_=[];return h&&r.forEach(b=>{_.push(h.markPotentiallyOrphaned(e,b))}),nt.waitFor(_)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),nt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return nt.resolve(o)}containsKey(e,r){return nt.resolve(this.Br.containsKey(r))}}class Xh{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k(0),this.Kr=!1,this.Kr=!0,this.$r=new xg,this.referenceDelegate=e(this),this.Ur=new Mg(this),this.indexManager=new Ba,this.remoteDocumentCache=new Zm(o=>this.referenceDelegate.Wr(o)),this.serializer=new H(r),this.Gr=new ml(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ip,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new Pg(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){xe("MemoryPersistence","Starting transaction:",e);const h=new Ws(this.Qr.next());return this.referenceDelegate.zr(),o(h).next(_=>this.referenceDelegate.jr(h).next(()=>_)).toPromise().then(_=>(h.raiseOnCommittedEvent(),_))}Hr(e,r){return nt.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class Ws extends Cr{constructor(e){super(),this.currentSequenceNumber=e}}class Xu{constructor(e){this.persistence=e,this.Jr=new Yh,this.Yr=null}static Zr(e){return new Xu(e)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),nt.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),nt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),nt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(h=>this.Xr.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(_=>this.Xr.add(_.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Xr,o=>{const h=Bt.fromPath(o);return this.ei(e,h).next(_=>{_||r.removeEntry(h,Lt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return nt.or([()=>nt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Qh{constructor(e){this.serializer=e}O(e,r,o,h){const _=new gt("createOrUpgrade",r);var F;o<1&&h>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gr,{unique:!0}),F.createObjectStore("documentMutations"),Zs(e),function(F){F.createObjectStore("remoteDocuments")}(e));let b=nt.resolve();return o<3&&h>=3&&(0!==o&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),Zs(e)),b=b.next(()=>function(F){const K=F.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ie)}(_))),o<4&&h>=4&&(0!==o&&(b=b.next(()=>function(F,K){return K.store("mutations").U().next(ie=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gr,{unique:!0});const ve=K.store("mutations"),$e=ie.map(_t=>ve.put(_t));return nt.waitFor($e)})}(e,_))),b=b.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(b=b.next(()=>this.ni(_))),o<6&&h>=6&&(b=b.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.ri(_)))),o<7&&h>=7&&(b=b.next(()=>this.ii(_))),o<8&&h>=8&&(b=b.next(()=>this.si(e,_))),o<9&&h>=9&&(b=b.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(b=b.next(()=>this.oi(_))),o<11&&h>=11&&(b=b.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(b=b.next(()=>{!function(F){const K=F.createObjectStore("documentOverlays",{keyPath:Vn});K.createIndex("collectionPathOverlayIndex",On,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",hr,{unique:!1})}(e)})),o<13&&h>=13&&(b=b.next(()=>function(F){const K=F.createObjectStore("remoteDocumentsV14",{keyPath:ws});K.createIndex("documentKeyIndex",vi),K.createIndex("collectionGroupIndex",Li)}(e)).next(()=>this._i(e,_)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(b=b.next(()=>this.ai(e,_))),o<15&&h>=15&&(b=b.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:me}).createIndex("sequenceNumberIndex",we,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:wt}).createIndex("documentKeyIndex",qt,{unique:!1})}(e))),o<16&&h>=16&&(b=b.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&h>=17&&(b=b.next(()=>{!function(F){F.createObjectStore("globals",{keyPath:"name"})}(e)})),b}ri(e){let r=0;return e.store("remoteDocuments").J((o,h)=>{r+=Nc(h)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(h=>nt.forEach(h,_=>{const b=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",b).next(x=>nt.forEach(x,F=>{jt(F.userId===_.userId);const K=ir(this.serializer,F);return Wh(e,_.userId,K).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const _=[];return o.J((b,x)=>{const F=new un(b),K=[0,It(F)];_.push(r.get(K).next(ie=>ie?nt.resolve():r.put({targetId:0,path:It(F),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>nt.waitFor(_))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:ge});const o=r.store("collectionParents"),h=new Gu,_=b=>{if(h.add(b)){const x=b.lastSegment(),F=b.popLast();return o.put({collectionId:x,parent:It(F)})}};return r.store("remoteDocuments").J({H:!0},(b,x)=>{const F=new un(b);return _(F.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,x,F],K)=>{const ie=Dn(x);return _(ie.popLast())}))}oi(e){const r=e.store("targets");return r.J((o,h)=>{const _=br(h),b=Fr(this.serializer,_);return r.put(b)})}_i(e,r){const o=r.store("remoteDocuments"),h=[];return o.J((_,b)=>{const x=r.store("remoteDocumentsV14"),F=(ve=b,ve.document?new Bt(un.fromString(ve.document.name).popFirst(5)):ve.noDocument?Bt.fromSegments(ve.noDocument.path):ve.unknownDocument?Bt.fromSegments(ve.unknownDocument.path):Pt()).path.toArray(),K={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var ve;h.push(x.put(K))}).next(()=>nt.waitFor(h))}ai(e,r){const o=r.store("mutations"),h=$d(this.serializer),_=new Xh(Xu.Zr,this.serializer.ct);return o.U().next(b=>{const x=new Map;return b.forEach(F=>{var K;let ie=null!==(K=x.get(F.userId))&&void 0!==K?K:fr();ir(this.serializer,F).keys().forEach(ve=>ie=ie.add(ve)),x.set(F.userId,ie)}),nt.forEach(x,(F,K)=>{const ie=new et(K),ve=ic.lt(this.serializer,ie),$e=_.getIndexManager(ie),_t=dl.lt(ie,this.serializer,$e,_.referenceDelegate);return new rp(h,_t,ve,$e).recalculateAndSaveOverlaysForDocumentKeys(new Do(r,k.oe),F).next()})})}}function Zs(d){d.createObjectStore("targetDocuments",{keyPath:Ne}).createIndex("documentTargetsIndex",Mt,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xi,{unique:!0}),d.createObjectStore("targetGlobal")}const Uc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gd{constructor(e,r,o,h,_,b,x,F,K,ie,ve=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.ui=_,this.window=b,this.document=x,this.ci=K,this.li=ie,this.hi=ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=$e=>Promise.resolve(),!Gd.D())throw new tt(Le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yu(this,h),this.Ai=r+"main",this.serializer=new H(F),this.Ri=new le(this.Ai,this.hi,new Qh(this.serializer)),this.$r=new Wl,this.Ur=new Wu(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$d(this.serializer),this.Gr=new Rc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ie&&rn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tt(Le.FAILED_PRECONDITION,Uc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new k(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var o=(0,c.A)(function*(h){if(r.started)return e(h)});return function(h){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,c.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(jn(e))return xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return jc(e).get("owner").next(r=>nt.resolve(this.vi(r)))}Ci(e){return Bc(e).delete(this.clientId)}Fi(){var e=this;return(0,c.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=Vi(o,"clientMetadata");return h.U().next(_=>{const b=e.xi(_,18e5),x=_.filter(F=>-1===b.indexOf(F));return nt.forEach(x,F=>h.delete(F.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const o of r)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?nt.resolve(!0):jc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new tt(Le.FAILED_PRECONDITION,Uc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bc(e).U().next(o=>void 0===this.xi(o,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(r=>(this.isPrimary!==r&&xe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,c.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Do(r,k.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Bc(e).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return dl.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ep(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ic.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,o){xe("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===r?"readonly":"readwrite",_=17===(F=this.hi)?Ao:16===F?Ji:15===F?Ms:14===F?Qi:13===F?Ir:12===F?qr:11===F?Hr:void Pt();var F;let b;return this.Ri.runTransaction(e,h,_,x=>(b=new Do(x,this.Qr?this.Qr.next():k.oe),"readwrite-primary"===r?this.wi(b).next(F=>!!F||this.Si(b)).next(F=>{if(!F)throw rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new tt(Le.FAILED_PRECONDITION,rr);return o(b)}).next(F=>this.Di(b).next(()=>F)):this.Ki(b).next(()=>o(b)))).then(x=>(b.raiseOnCommittedEvent(),x))}Ki(e){return jc(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new tt(Le.FAILED_PRECONDITION,Uc)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jc(e).put("owner",r)}static D(){return le.D()}bi(e){const r=jc(e);return r.get("owner").next(o=>this.vi(o)?(xe("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):nt.resolve())}Mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(rn(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,pe.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return xe("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return rn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){rn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jc(d){return Vi(d,"owner")}function Bc(d){return Vi(d,"clientMetadata")}function zd(d,e){let r=d.projectId;return d.isDefaultDatabase||(r+="."+d.database),"firestore/"+e+"/"+r+"/"}class $c{constructor(e,r,o,h){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=h}static Wi(e,r){let o=fr(),h=fr();for(const _ of r.docChanges)switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:h=h.add(_.doc.key)}return new $c(e,r.fromCache,o,h)}}class Rg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wd{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,pe.nr)()?8:Re((0,pe.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,h){const _={result:null};return this.Yi(e,r).next(b=>{_.result=b}).next(()=>{if(!_.result)return this.Zi(e,r,h,o).next(b=>{_.result=b})}).next(()=>{if(_.result)return;const b=new Rg;return this.Xi(e,r,b).next(x=>{if(_.result=x,this.zi)return this.es(e,r,b,x.size)})}).next(()=>_.result)}es(e,r,o,h){return o.documentReadCount<this.ji?(St()<=Ie.$b.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Hi(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),nt.resolve()):(St()<=Ie.$b.DEBUG&&xe("QueryEngine","Query:",Hi(r),"scans",o.documentReadCount,"local documents and returns",h,"documents as results."),o.documentReadCount>this.Hi*h?(St()<=Ie.$b.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Hi(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(r))):nt.resolve())}Yi(e,r){if(V(r))return nt.resolve(null);let o=_n(r);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==r.limit&&1===h&&(r=ss(r,null,"F"),o=_n(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(_=>{const b=fr(..._);return this.Ji.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,o).next(F=>{const K=this.ts(r,x);return this.ns(r,K,b,F.readTime)?this.Yi(e,ss(r,null,"F")):this.rs(e,K,r,F)}))})))}Zi(e,r,o,h){return V(r)||h.isEqual(Lt.min())?nt.resolve(null):this.Ji.getDocuments(e,o).next(_=>{const b=this.ts(r,_);return this.ns(r,b,o,h)?nt.resolve(null):(St()<=Ie.$b.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Hi(r)),this.rs(e,b,r,di(h,-1)).next(x=>x))})}ts(e,r){let o=new wr(xs(e));return r.forEach((h,_)=>{Wo(e,_)&&(o=o.add(_))}),o}ns(e,r,o,h){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const _="F"===e.limitType?r.last():r.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(h)>0)}Xi(e,r,o){return St()<=Ie.$b.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Hi(r)),this.Ji.getDocumentsMatchingQuery(e,r,gn.min(),o)}rs(e,r,o,h){return this.Ji.getDocumentsMatchingQuery(e,o,h).next(_=>(r.forEach(b=>{_=_.insert(b.key,b)}),_))}}class Jo{constructor(e,r,o,h){this.persistence=e,this.ss=r,this.serializer=h,this.os=new Yr(Xt),this._s=new qi(_=>Ss(_),xo),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Kd(d,e,r,o){return new Jo(d,e,r,o)}function cc(d,e){return qd.apply(this,arguments)}function qd(){return(qd=(0,c.A)(function*(d,e){const r=ut(d);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let h;return r.mutationQueue.getAllMutationBatches(o).next(_=>(h=_,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(_=>{const b=[],x=[];let F=fr();for(const K of h){b.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}for(const K of _){x.push(K.batchId);for(const ie of K.mutations)F=F.add(ie.key)}return r.localDocuments.getDocuments(o,F).next(K=>({hs:K,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function Yd(d){const e=ut(d);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function Jh(d,e,r){let o=fr(),h=fr();return r.forEach(_=>o=o.add(_)),e.getEntries(d,o).next(_=>{let b=Yi();return r.forEach((x,F)=>{const K=_.get(x);F.isFoundDocument()!==K.isFoundDocument()&&(h=h.add(x)),F.isNoDocument()&&F.version.isEqual(Lt.min())?(e.removeEntry(x,F.readTime),b=b.insert(x,F)):!K.isValidDocument()||F.version.compareTo(K.version)>0||0===F.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(F),b=b.insert(x,F)):xe("LocalStore","Ignoring outdated watch update for ",x,". Current version:",K.version," Watch version:",F.version)}),{Ps:b,Is:h}})}function op(d,e){const r=ut(d);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Hc(d,e){const r=ut(d);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return r.Ur.getTargetData(o,e).next(_=>_?(h=_,nt.resolve(h)):r.Ur.allocateTargetId(o).next(b=>(h=new N(e,b,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=r.os.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}function Ql(d,e,r){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,c.A)(function*(d,e,r){const o=ut(d),h=o.os.get(e),_=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",_,b=>o.persistence.referenceDelegate.removeTarget(b,h)))}catch(b){if(!jn(b))throw b;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.os=o.os.remove(e),o._s.delete(h.target)})).apply(this,arguments)}function lc(d,e,r){const o=ut(d);let h=Lt.min(),_=fr();return o.persistence.runTransaction("Execute query","readwrite",b=>function(F,K,ie){const ve=ut(F),$e=ve._s.get(ie);return void 0!==$e?nt.resolve(ve.os.get($e)):ve.Ur.getTargetData(K,ie)}(o,b,_n(e)).next(x=>{if(x)return h=x.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(b,x.targetId).next(F=>{_=F})}).next(()=>o.ss.getDocumentsMatchingQuery(b,e,r?h:Lt.min(),r?_:fr())).next(x=>(Zh(o,bc(e),x),{documents:x,Ts:_})))}function pa(d,e){const r=ut(d),o=ut(r.Ur),h=r.os.get(e);return h?Promise.resolve(h.target):r.persistence.runTransaction("Get target data","readonly",_=>o.ot(_,e).next(b=>b?b.target:null))}function uc(d,e){const r=ut(d),o=r.us.get(e)||Lt.min();return r.persistence.runTransaction("Get new document changes","readonly",h=>r.cs.getAllFromCollectionGroup(h,e,di(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Zh(r,e,h),h))}function Zh(d,e,r){let o=d.us.get(e)||Lt.min();r.forEach((h,_)=>{_.readTime.compareTo(o)>0&&(o=_.readTime)}),d.us.set(e,o)}function Qd(){return(Qd=(0,c.A)(function*(d,e,r,o){const h=ut(d);let _=fr(),b=Yi();for(const K of r){const ie=e.Es(K.metadata.name);K.document&&(_=_.add(ie));const ve=e.ds(K);ve.setReadTime(e.As(K.metadata.readTime)),b=b.insert(ie,ve)}const x=h.cs.newChangeBuffer({trackRemovals:!0}),F=yield Hc(h,(ie=o,_n(J(un.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",K=>Jh(K,x,b).next(ie=>(x.apply(K),ie)).next(ie=>h.Ur.removeMatchingKeysForTargetId(K,F.targetId).next(()=>h.Ur.addMatchingKeys(K,_,F.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(K,ie.Ps,ie.Is)).next(()=>ie.Ps)))})).apply(this,arguments)}function ap(d,e){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,c.A)(function*(d,e,r=fr()){const o=yield Hc(d,_n(_i(e.bundledQuery))),h=ut(d);return h.persistence.runTransaction("Save named query","readwrite",_=>{const b=Xi(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return h.Gr.saveNamedQuery(_,e);const x=o.withResumeToken(Pi.EMPTY_BYTE_STRING,b);return h.os=h.os.insert(x.targetId,x),h.Ur.updateTargetData(_,x).next(()=>h.Ur.removeMatchingKeysForTargetId(_,o.targetId)).next(()=>h.Ur.addMatchingKeys(_,r,o.targetId)).next(()=>h.Gr.saveNamedQuery(_,e))})})).apply(this,arguments)}function Zl(d,e){return`firestore_clients_${d}_${e}`}function ef(d,e,r){let o=`firestore_mutations_${d}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function tf(d,e){return`firestore_targets_${d}_${e}`}class _l{constructor(e,r,o,h){this.user=e,this.batchId=r,this.state=o,this.error=h}static Rs(e,r,o){const h=JSON.parse(o);let _,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(_=new tt(h.error.code,h.error.message))),b?new _l(e,r,h.state,_):(rn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dc{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Rs(e,r){const o=JSON.parse(r);let h,_="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(h=new tt(o.error.code,o.error.message))),_?new dc(e,o.state,h):(rn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gc{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const o=JSON.parse(r);let h="object"==typeof o&&o.activeTargetIds instanceof Array,_=_o();for(let b=0;h&&b<o.activeTargetIds.length;++b)h=st(o.activeTargetIds[b]),_=_.add(o.activeTargetIds[b]);return h?new Gc(e,_):(rn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class I{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new I(r.clientId,r.onlineState):(rn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class m{constructor(){this.activeTargetIds=_o()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v{constructor(e,r,o,h,_){this.window=e,this.ui=r,this.persistenceKey=o,this.ps=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Yr(Xt),this.started=!1,this.bs=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.Ds=Zl(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new m),this.Cs=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,c.A)(function*(){const r=yield e.syncEngine.Qi();for(const h of r){if(h===e.ps)continue;const _=e.getItem(Zl(e.persistenceKey,h));if(_){const b=Gc.Rs(h,_);b&&(e.Ss=e.Ss.insert(b.clientId,b))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const h=e.Ls(o);h&&e.Bs(h)}for(const h of e.bs)e.ws(h);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((o,h)=>{h.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,o){this.qs(e,r,o),this.Qs(e)}addLocalQueryTarget(e,r=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const h=this.storage.getItem(tf(this.persistenceKey,e));if(h){const _=dc.Rs(e,h);_&&(o=_.state)}}return r&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tf(this.persistenceKey,e))}updateQueryState(e,r,o){this.$s(e,r,o)}handleUserChange(e,r,o){r.forEach(h=>{this.Qs(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return xe("SharedClientState","READ",e,r),r}setItem(e,r){xe("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const o=e;if(o.storageArea===this.storage){if(xe("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const h=r.Gs(o.key);return r.zs(h,null)}{const h=r.js(o.key,o.newValue);if(h)return r.zs(h.clientId,h)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const h=r.Hs(o.key,o.newValue);if(h)return r.Js(h)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const h=r.Ys(o.key,o.newValue);if(h)return r.Zs(h)}}else if(o.key===r.xs){if(null!==o.newValue){const h=r.Ls(o.newValue);if(h)return r.Bs(h)}}else if(o.key===r.vs){const h=function(b){let x=k.oe;if(null!=b)try{const F=JSON.parse(b);jt("number"==typeof F),x=F}catch(F){rn("SharedClientState","Failed to read sequence number from WebStorage",F)}return x}(o.newValue);h!==k.oe&&r.sequenceNumberHandler(h)}else if(o.key===r.Os){const h=r.Xs(o.newValue);yield Promise.all(h.map(_=>r.syncEngine.eo(_)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,o){const h=new _l(this.currentUser,e,r,o),_=ef(this.persistenceKey,this.currentUser,e);this.setItem(_,h.Vs())}Qs(e){const r=ef(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,o){const h=tf(this.persistenceKey,e),_=new dc(e,r,o);this.setItem(h,_.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const o=this.Gs(e);return Gc.Rs(o,r)}Hs(e,r){const o=this.Fs.exec(e),h=Number(o[1]);return _l.Rs(new et(void 0!==o[2]?o[2]:null),h,r)}Ys(e,r){const o=this.Ms.exec(e),h=Number(o[1]);return dc.Rs(h,r)}Ls(e){return I.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,c.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const o=r?this.Ss.insert(e,r):this.Ss.remove(e),h=this.ks(this.Ss),_=this.ks(o),b=[],x=[];return _.forEach(F=>{h.has(F)||b.push(F)}),h.forEach(F=>{_.has(F)||x.push(F)}),this.syncEngine.io(b,x).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=_o();return e.forEach((o,h)=>{r=r.unionWith(h.activeTargetIds)}),r}}class S{constructor(){this.so=new m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class X{_o(e){}shutdown(){}}class de{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let We=null;function Tt(){return null===We?We=268435456+Math.round(2147483648*Math.random()):We++,"0x"+We.toString(16)}const Ht={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rn{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Mn="WebChannelConnection";class Qr extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",h=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${h}/databases/${_}`,this.Co="(default)"===this.databaseId.database?`project_id=${h}`:`project_id=${h}&database_id=${_}`}get Fo(){return!1}Mo(r,o,h,_,b){const x=Tt(),F=this.xo(r,o.toUriEncodedString());xe("RestConnection",`Sending RPC '${r}' ${x}:`,F,h);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,_,b),this.No(r,F,K,h).then(ie=>(xe("RestConnection",`Received RPC '${r}' ${x}: `,ie),ie),ie=>{throw yn("RestConnection",`RPC '${r}' ${x} failed with error: `,ie,"url: ",F,"request:",h),ie})}Lo(r,o,h,_,b,x){return this.Mo(r,o,h,_,b)}Oo(r,o,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+qe,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((_,b)=>r[b]=_),h&&h.headers.forEach((_,b)=>r[b]=_)}xo(r,o){return`${this.Do}/v1/${o}:${Ht[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,h){const _=Tt();return new Promise((b,x)=>{const F=new _e;F.setWithCredentials(!0),F.listenOnce(Dt.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case At.NO_ERROR:const ie=F.getResponseJson();xe(Mn,`XHR for RPC '${e}' ${_} received:`,JSON.stringify(ie)),b(ie);break;case At.TIMEOUT:xe(Mn,`RPC '${e}' ${_} timed out`),x(new tt(Le.DEADLINE_EXCEEDED,"Request time out"));break;case At.HTTP_ERROR:const ve=F.getStatus();if(xe(Mn,`RPC '${e}' ${_} failed with status:`,ve,"response text:",F.getResponseText()),ve>0){let $e=F.getResponseJson();Array.isArray($e)&&($e=$e[0]);const _t=$e?.error;if(_t&&_t.status&&_t.message){const $t=function(nn){const Qn=nn.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(Qn)>=0?Qn:Le.UNKNOWN}(_t.status);x(new tt($t,_t.message))}else x(new tt(Le.UNKNOWN,"Server responded with status "+F.getStatus()))}else x(new tt(Le.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{xe(Mn,`RPC '${e}' ${_} completed.`)}});const K=JSON.stringify(h);xe(Mn,`RPC '${e}' ${_} sending request:`,h),F.send(r,"POST",K,o,15)})}Bo(e,r,o){const h=Tt(),_=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=Ge(),x=pn(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(F.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(F.useFetchStreams=!0),this.Oo(F.initMessageHeaders,r,o),F.encodeInitMessageHeaders=!0;const ie=_.join("");xe(Mn,`Creating RPC '${e}' stream ${h}: ${ie}`,F);const ve=b.createWebChannel(ie,F);let $e=!1,_t=!1;const $t=new Rn({Io:nn=>{_t?xe(Mn,`Not sending because RPC '${e}' stream ${h} is closed:`,nn):($e||(xe(Mn,`Opening RPC '${e}' stream ${h} transport.`),ve.open(),$e=!0),xe(Mn,`RPC '${e}' stream ${h} sending:`,nn),ve.send(nn))},To:()=>ve.close()}),hn=(nn,Qn,cr)=>{nn.listen(Qn,nr=>{try{cr(nr)}catch(Nr){setTimeout(()=>{throw Nr},0)}})};return hn(ve,Ze.EventType.OPEN,()=>{_t||(xe(Mn,`RPC '${e}' stream ${h} transport opened.`),$t.yo())}),hn(ve,Ze.EventType.CLOSE,()=>{_t||(_t=!0,xe(Mn,`RPC '${e}' stream ${h} transport closed`),$t.So())}),hn(ve,Ze.EventType.ERROR,nn=>{_t||(_t=!0,yn(Mn,`RPC '${e}' stream ${h} transport errored:`,nn),$t.So(new tt(Le.UNAVAILABLE,"The operation could not be completed")))}),hn(ve,Ze.EventType.MESSAGE,nn=>{var Qn;if(!_t){const cr=nn.data[0];jt(!!cr);const Nr=cr.error||(null===(Qn=cr[0])||void 0===Qn?void 0:Qn.error);if(Nr){xe(Mn,`RPC '${e}' stream ${h} received error:`,Nr);const Ni=Nr.status;let si=function(Ke){const at=Er[Ke];if(void 0!==at)return to(at)}(Ni),ot=Nr.message;void 0===si&&(si=Le.INTERNAL,ot="Unknown error status: "+Ni+" with message "+Nr.message),_t=!0,$t.So(new tt(si,ot)),ve.close()}else xe(Mn,`RPC '${e}' stream ${h} received:`,cr),$t.bo(cr)}}),hn(x,Rt.STAT_EVENT,nn=>{nn.stat===Ut.PROXY?xe(Mn,`RPC '${e}' stream ${h} detected buffering proxy`):nn.stat===Ut.NOPROXY&&xe(Mn,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{$t.wo()},0),$t}}function Zo(){return typeof window<"u"?window:null}function ps(){return typeof document<"u"?document:null}function yl(d){return new Bh(d,!0)}class Jd{constructor(e,r,o=1e3,h=1.5,_=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=h,this.Qo=_,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),h=Math.max(0,r-o);h>0&&xe("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,h,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Zd{constructor(e,r,o,h,_,b,x,F){this.ui=e,this.Ho=o,this.Jo=h,this.connection=_,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=F,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jd(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,c.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,c.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,c.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===Le.RESOURCE_EXHAUSTED?(rn(r.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===Le.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Yo===r&&this.P_(o,h)},o=>{e(()=>{const h=new tt(Le.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(h)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(h=>{o(()=>this.I_(h))}),this.stream.onMessage(h=>{o(()=>1==++this.e_?this.E_(h):this.onNext(h))})}i_(){var e=this;this.state=5,this.t_.Go((0,c.A)(function*(){e.state=0,e.start()}))}I_(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eh extends Zd{constructor(e,r,o,h,_,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function zl(d,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Pt(),h=e.targetChange.targetIds||[],_=function(K,ie){return K.useProto3Json?(jt(void 0===ie||"string"==typeof ie),Pi.fromBase64String(ie||"")):(jt(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),Pi.fromUint8Array(ie||new Uint8Array))}(d,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(K){const ie=void 0===K.code?Le.UNKNOWN:to(K.code);return new tt(ie,K.message||"")}(b);r=new kd(o,h,_,x||null)}else if("documentChange"in e){const o=e.documentChange,h=Lo(d,o.document.name),_=Xi(o.document.updateTime),b=o.document.createTime?Xi(o.document.createTime):Lt.min(),x=new ke({mapValue:{fields:o.document.fields}}),F=mt.newFoundDocument(h,_,b,x);r=new Sc(o.targetIds||[],o.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const o=e.documentDelete,h=Lo(d,o.document),_=o.readTime?Xi(o.readTime):Lt.min(),b=mt.newNoDocument(h,_);r=new Sc([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,h=Lo(d,o.document);r=new Sc([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Pt();{const o=e.filter,{count:h=0,unchangedNames:_}=o,b=new jh(h,_);r=new $l(o.targetId,b)}}var K;return r}(this.serializer,e),o=function(_){if(!("targetChange"in _))return Lt.min();const b=_.targetChange;return b.targetIds&&b.targetIds.length?Lt.min():b.readTime?Xi(b.readTime):Lt.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=cl(this.serializer),r.addTarget=function(_,b){let x;const F=b.target;if(x=zo(F)?{documents:Gi(_,F)}:{query:ua(_,F)._t},x.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){x.resumeToken=Ru(_,b.resumeToken);const K=al(_,b.expectedCount);null!==K&&(x.expectedCount=K)}else if(b.snapshotVersion.compareTo(Lt.min())>0){x.readTime=Yo(_,b.snapshotVersion.toTimestamp());const K=al(_,b.expectedCount);null!==K&&(x.expectedCount=K)}return x}(this.serializer,e);const o=function Fd(d,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=cl(this.serializer),r.removeTarget=e,this.a_(r)}}class cp extends Zd{constructor(e,r,o,h,_,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,h,b),this.serializer=_}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function Xs(d,e){return d&&d.length>0?(jt(void 0!==e),d.map(r=>function(h,_){let b=Xi(h.updateTime?h.updateTime:_);return b.isEqual(Lt.min())&&(b=Xi(_)),new B(b,h.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Xi(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=cl(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Vo(this.serializer,o))};this.a_(r)}}class nf extends class{}{constructor(e,r,o,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=h,this.y_=!1}w_(){if(this.y_)throw new tt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,b])=>this.connection.Mo(e,Nu(r,o),h,_,b)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new tt(Le.UNKNOWN,_.toString())})}Lo(e,r,o,h,_){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,x])=>this.connection.Lo(e,Nu(r,o),h,b,x,_)).catch(b=>{throw"FirebaseError"===b.name?(b.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new tt(Le.UNKNOWN,b.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class th{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rn(r),this.D_=!1):xe("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ng{constructor(e,r,o,h,_){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=_,this.k_._o(x=>{o.enqueueAndForget((0,c.A)(function*(){var F;Pa(b)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,c.A)(function*(ie){const ve=ut(ie);ve.L_.add(4),yield Ju(ve),ve.q_.set("Unknown"),ve.L_.delete(4),yield eu(ve)}),function K(ie){return F.apply(this,arguments)})(b))}))}),this.q_=new th(o,h)}}function eu(d){return rf.apply(this,arguments)}function rf(){return(rf=(0,c.A)(function*(d){if(Pa(d))for(const e of d.B_)yield e(!0)})).apply(this,arguments)}function Ju(d){return nh.apply(this,arguments)}function nh(){return(nh=(0,c.A)(function*(d){for(const e of d.B_)yield e(!1)})).apply(this,arguments)}function Zu(d,e){const r=ut(d);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),up(r)?lp(r):ah(r).r_()&&ed(r,e))}function vl(d,e){const r=ut(d),o=ah(r);r.N_.delete(e),o.r_()&&sf(r,e),0===r.N_.size&&(o.r_()?o.o_():Pa(r)&&r.q_.set("Unknown"))}function ed(d,e){if(d.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const r=d.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ah(d).A_(e)}function sf(d,e){d.Q_.xe(e),ah(d).R_(e)}function lp(d){d.Q_=new lo({getRemoteKeysForTarget:e=>d.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>d.N_.get(e)||null,tt:()=>d.datastore.serializer.databaseId}),ah(d).start(),d.q_.v_()}function up(d){return Pa(d)&&!ah(d).n_()&&d.N_.size>0}function Pa(d){return 0===ut(d).L_.size}function kg(d){d.Q_=void 0}function e_(d){return rh.apply(this,arguments)}function rh(){return(rh=(0,c.A)(function*(d){d.q_.set("Online")})).apply(this,arguments)}function zc(d){return ih.apply(this,arguments)}function ih(){return(ih=(0,c.A)(function*(d){d.N_.forEach((e,r)=>{ed(d,e)})})).apply(this,arguments)}function h0(d,e){return hc.apply(this,arguments)}function hc(){return(hc=(0,c.A)(function*(d,e){kg(d),up(d)?(d.q_.M_(e),lp(d)):d.q_.set("Unknown")})).apply(this,arguments)}function t_(d,e,r){return dp.apply(this,arguments)}function dp(){return dp=(0,c.A)(function*(d,e,r){if(d.q_.set("Online"),e instanceof kd&&2===e.state&&e.cause)try{yield(o=(0,c.A)(function*(_,b){const x=b.cause;for(const F of b.targetIds)_.N_.has(F)&&(yield _.remoteSyncer.rejectListen(F,x),_.N_.delete(F),_.Q_.removeTarget(F))}),function h(_,b){return o.apply(this,arguments)})(d,e)}catch(o){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield sh(d,o)}else if(e instanceof Sc?d.Q_.Ke(e):e instanceof $l?d.Q_.He(e):d.Q_.We(e),!r.isEqual(Lt.min()))try{const o=yield Yd(d.localStore);r.compareTo(o)>=0&&(yield function(_,b){const x=_.Q_.rt(b);return x.targetChanges.forEach((F,K)=>{if(F.resumeToken.approximateByteSize()>0){const ie=_.N_.get(K);ie&&_.N_.set(K,ie.withResumeToken(F.resumeToken,b))}}),x.targetMismatches.forEach((F,K)=>{const ie=_.N_.get(F);if(!ie)return;_.N_.set(F,ie.withResumeToken(Pi.EMPTY_BYTE_STRING,ie.snapshotVersion)),sf(_,F);const ve=new N(ie.target,F,K,ie.sequenceNumber);ed(_,ve)}),_.remoteSyncer.applyRemoteEvent(x)}(d,r))}catch(o){xe("RemoteStore","Failed to raise snapshot:",o),yield sh(d,o)}var o}),dp.apply(this,arguments)}function sh(d,e,r){return hp.apply(this,arguments)}function hp(){return(hp=(0,c.A)(function*(d,e,r){if(!jn(e))throw e;d.L_.add(1),yield Ju(d),d.q_.set("Offline"),r||(r=()=>Yd(d.localStore)),d.asyncQueue.enqueueRetryable((0,c.A)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield r(),d.L_.delete(1),yield eu(d)}))})).apply(this,arguments)}function Fg(d,e){return e().catch(r=>sh(d,r,e))}function td(d){return fp.apply(this,arguments)}function fp(){return(fp=(0,c.A)(function*(d){const e=ut(d),r=tu(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;n_(e);)try{const h=yield op(e.localStore,o);if(null===h){0===e.O_.length&&r.o_();break}o=h.batchId,Fy(e,h)}catch(h){yield sh(e,h)}ea(e)&&pp(e)})).apply(this,arguments)}function n_(d){return Pa(d)&&d.O_.length<10}function Fy(d,e){d.O_.push(e);const r=tu(d);r.r_()&&r.V_&&r.m_(e.mutations)}function ea(d){return Pa(d)&&!tu(d).n_()&&d.O_.length>0}function pp(d){tu(d).start()}function Lg(d){return oh.apply(this,arguments)}function oh(){return(oh=(0,c.A)(function*(d){tu(d).p_()})).apply(this,arguments)}function Uo(d){return nd.apply(this,arguments)}function nd(){return(nd=(0,c.A)(function*(d){const e=tu(d);for(const r of d.O_)e.m_(r.mutations)})).apply(this,arguments)}function r_(d,e,r){return gp.apply(this,arguments)}function gp(){return(gp=(0,c.A)(function*(d,e,r){const o=d.O_.shift(),h=Ns.from(o,e,r);yield Fg(d,()=>d.remoteSyncer.applySuccessfulWrite(h)),yield td(d)})).apply(this,arguments)}function Ly(d,e){return mp.apply(this,arguments)}function mp(){return mp=(0,c.A)(function*(d,e){var r;e&&tu(d).V_&&(yield(r=(0,c.A)(function*(h,_){if(Ac(x=_.code)&&x!==Le.ABORTED){const b=h.O_.shift();tu(h).s_(),yield Fg(h,()=>h.remoteSyncer.rejectFailedWrite(b.batchId,_)),yield td(h)}var x}),function o(h,_){return r.apply(this,arguments)})(d,e)),ea(d)&&pp(d)}),mp.apply(this,arguments)}function El(d,e){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,c.A)(function*(d,e){const r=ut(d);r.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const o=Pa(r);r.L_.add(3),yield Ju(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield eu(r)})).apply(this,arguments)}function _p(d,e){return yp.apply(this,arguments)}function yp(){return(yp=(0,c.A)(function*(d,e){const r=ut(d);e?(r.L_.delete(2),yield eu(r)):e||(r.L_.add(2),yield Ju(r),r.q_.set("Unknown"))})).apply(this,arguments)}function ah(d){return d.K_||(d.K_=function(r,o,h){const _=ut(r);return _.w_(),new eh(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:e_.bind(null,d),Ro:zc.bind(null,d),mo:h0.bind(null,d),d_:t_.bind(null,d)}),d.B_.push(function(){var e=(0,c.A)(function*(r){r?(d.K_.s_(),up(d)?lp(d):d.q_.set("Unknown")):(yield d.K_.stop(),kg(d))});return function(r){return e.apply(this,arguments)}}())),d.K_}function tu(d){return d.U_||(d.U_=function(r,o,h){const _=ut(r);return _.w_(),new cp(o,_.connection,_.authCredentials,_.appCheckCredentials,_.serializer,h)}(d.datastore,d.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Lg.bind(null,d),mo:Ly.bind(null,d),f_:Uo.bind(null,d),g_:r_.bind(null,d)}),d.B_.push(function(){var e=(0,c.A)(function*(r){r?(d.U_.s_(),yield td(d)):(yield d.U_.stop(),d.O_.length>0&&(xe("RemoteStore",`Stopping write stream with ${d.O_.length} pending writes`),d.O_=[]))});return function(r){return e.apply(this,arguments)}}())),d.U_}class af{constructor(e,r,o,h,_){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=h,this.removalCallback=_,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,h,_){const b=Date.now()+o,x=new af(e,r,b,h,_);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(d,e){if(rn("AsyncQueue",`${e}: ${d}`),jn(d))return new tt(Le.UNAVAILABLE,`${e}: ${d}`);throw d}class ch{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Bt.comparator(r.key,o.key):(r,o)=>Bt.comparator(r.key,o.key),this.keyedMap=ao(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new ch(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ch)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,_=o.getNext().key;if(!h.isEqual(_))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new ch;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class lh{constructor(){this.W_=new Yr(Bt.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Pt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class uh{constructor(e,r,o,h,_,b,x,F,K){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=_,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=F,this.hasCachedResults=K}static fromInitialDocuments(e,r,o,h,_){const b=[];return r.forEach(x=>{b.push({type:0,doc:x})}),new uh(e,r,ch.emptySet(r),b,o,h,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==o[h].type||!r[h].doc.isEqual(o[h].doc))return!1;return!0}}class Vy{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class i_{constructor(){this.queries=Ug(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const h=ut(r),_=h.queries;h.queries=Ug(),_.forEach((b,x)=>{for(const F of x.j_)F.onError(o)})}(this,new tt(Le.ABORTED,"Firestore shutting down"))}}function Ug(){return new qi(d=>Gs(d),mo)}function dh(d,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.A)(function*(d,e){const r=ut(d);let o=3;const h=e.query;let _=r.queries.get(h);_?!_.H_()&&e.J_()&&(o=2):(_=new Vy,o=e.J_()?0:1);try{switch(o){case 0:_.z_=yield r.onListen(h,!0);break;case 1:_.z_=yield r.onListen(h,!1);break;case 2:yield r.onFirstRemoteStoreListen(h)}}catch(b){const x=nu(b,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(x)}r.queries.set(h,_),_.j_.push(e),e.Z_(r.onlineState),_.z_&&e.X_(_.z_)&&rd(r)})).apply(this,arguments)}function bl(d,e){return vp.apply(this,arguments)}function vp(){return(vp=(0,c.A)(function*(d,e){const r=ut(d),o=e.query;let h=3;const _=r.queries.get(o);if(_){const b=_.j_.indexOf(e);b>=0&&(_.j_.splice(b,1),0===_.j_.length?h=e.J_()?0:1:!_.H_()&&e.J_()&&(h=2))}switch(h){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Ep(d,e){const r=ut(d);let o=!1;for(const h of e){const b=r.queries.get(h.query);if(b){for(const x of b.j_)x.X_(h)&&(o=!0);b.z_=h}}o&&rd(r)}function cf(d,e,r){const o=ut(d),h=o.queries.get(e);if(h)for(const _ of h.j_)_.onError(r);o.queries.delete(e)}function rd(d){d.Y_.forEach(e=>{e.next()})}var lf,s_;(s_=lf||(lf={})).ea="default",s_.Cache="cache";class jg{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new uh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lf.Cache}}class Uy{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class o_{constructor(e){this.serializer=e}Es(e){return Lo(this.serializer,e)}ds(e){return e.metadata.exists?nc(this.serializer,e.document,!1):mt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Xi(e)}}class a_{constructor(e,r,o){this.ca=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uf(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const o=un.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,o=new o_(this.serializer);for(const h of e)if(h.metadata.queries){const _=o.Es(h.metadata.name);for(const b of h.metadata.queries){const x=(r.get(b)||fr()).add(_);r.set(b,x)}}return r}complete(){var e=this;return(0,c.A)(function*(){const r=yield function Jl(d,e,r,o){return Qd.apply(this,arguments)}(e.localStore,new o_(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const h of e.queries)yield ap(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function uf(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class bp{constructor(e){this.key=e}}class Cp{constructor(e){this.key=e}}class c_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fr(),this.mutatedKeys=fr(),this.Aa=xs(e),this.Ra=new ch(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new lh,h=r?r.Ra:this.Ra;let _=r?r.mutatedKeys:this.mutatedKeys,b=h,x=!1;const F="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,K="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ie,ve)=>{const $e=h.get(ie),_t=Wo(this.query,ve)?ve:null,$t=!!$e&&this.mutatedKeys.has($e.key),hn=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let nn=!1;$e&&_t?$e.data.isEqual(_t.data)?$t!==hn&&(o.track({type:3,doc:_t}),nn=!0):this.ga($e,_t)||(o.track({type:2,doc:_t}),nn=!0,(F&&this.Aa(_t,F)>0||K&&this.Aa(_t,K)<0)&&(x=!0)):!$e&&_t?(o.track({type:0,doc:_t}),nn=!0):$e&&!_t&&(o.track({type:1,doc:$e}),nn=!0,(F||K)&&(x=!0)),nn&&(_t?(b=b.add(_t),_=hn?_.add(ie):_.delete(ie)):(b=b.delete(ie),_=_.delete(ie)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ie="F"===this.query.limitType?b.last():b.first();b=b.delete(ie.key),_=_.delete(ie.key),o.track({type:1,doc:ie})}return{Ra:b,fa:o,ns:x,mutatedKeys:_}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,h){const _=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const b=e.fa.G_();b.sort((ie,ve)=>function(_t,$t){const hn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return hn(_t)-hn($t)}(ie.type,ve.type)||this.Aa(ie.doc,ve.doc)),this.pa(o),h=null!=h&&h;const x=r&&!h?this.ya():[],F=0===this.da.size&&this.current&&!h?1:0,K=F!==this.Ea;return this.Ea=F,0!==b.length||K?{snapshot:new uh(this.query,e.Ra,_,b,e.mutatedKeys,0===F,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=fr(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new Cp(o))}),this.da.forEach(o=>{e.has(o)||r.push(new bp(o))}),r}ba(e){this.Ta=e.Ts,this.da=fr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return uh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class jy{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class Bg{constructor(e){this.key=e,this.va=!1}}class l_{constructor(e,r,o,h,_,b){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=h,this.currentUser=_,this.maxConcurrentLimboResolutions=b,this.Ca={},this.Fa=new qi(x=>Gs(x),mo),this.Ma=new Map,this.xa=new Set,this.Oa=new Yr(Bt.comparator),this.Na=new Map,this.La=new Yh,this.Ba={},this.ka=new Map,this.qa=hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function id(d,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,c.A)(function*(d,e,r=!0){const o=_h(d);let h;const _=o.Fa.get(e);return _?(o.sharedClientState.addLocalQueryTarget(_.targetId),h=_.view.Da()):h=yield By(o,e,r,!0),h})).apply(this,arguments)}function u_(d,e){return iu.apply(this,arguments)}function iu(){return(iu=(0,c.A)(function*(d,e){const r=_h(d);yield By(r,e,!0,!1)})).apply(this,arguments)}function By(d,e,r,o){return hh.apply(this,arguments)}function hh(){return(hh=(0,c.A)(function*(d,e,r,o){const h=yield Hc(d.localStore,_n(e)),_=h.targetId,b=d.sharedClientState.addLocalQueryTarget(_,r);let x;return o&&(x=yield $g(d,e,_,"current"===b,h.resumeToken)),d.isPrimaryClient&&r&&Zu(d.remoteStore,h),x})).apply(this,arguments)}function $g(d,e,r,o,h){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,c.A)(function*(d,e,r,o,h){d.Ka=(ve,$e,_t)=>{return($t=(0,c.A)(function*(nn,Qn,cr,nr){let Nr=Qn.view.ma(cr);Nr.ns&&(Nr=yield lc(nn.localStore,Qn.query,!1).then(({documents:Fe})=>Qn.view.ma(Fe,Nr)));const Ni=nr&&nr.targetChanges.get(Qn.targetId),si=nr&&null!=nr.targetMismatches.get(Qn.targetId),ot=Qn.view.applyChanges(Nr,nn.isPrimaryClient,Ni,si);return su(nn,Qn.targetId,ot.wa),ot.snapshot}),function hn(nn,Qn,cr,nr){return $t.apply(this,arguments)})(d,ve,$e,_t);var $t};const _=yield lc(d.localStore,e,!0),b=new c_(e,_.Ts),x=b.ma(_.documents),F=Fo.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==d.onlineState,h),K=b.applyChanges(x,d.isPrimaryClient,F);su(d,r,K.wa);const ie=new jy(e,r,b);return d.Fa.set(e,ie),d.Ma.has(r)?d.Ma.get(r).push(e):d.Ma.set(r,[e]),K.snapshot}),Ip.apply(this,arguments)}function d_(d,e,r){return fh.apply(this,arguments)}function fh(){return(fh=(0,c.A)(function*(d,e,r){const o=ut(d),h=o.Fa.get(e),_=o.Ma.get(h.targetId);if(_.length>1)return o.Ma.set(h.targetId,_.filter(b=>!mo(b,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(h.targetId),o.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Ql(o.localStore,h.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(h.targetId),r&&vl(o.remoteStore,h.targetId),Cl(o,h.targetId)}).catch(zn))):(Cl(o,h.targetId),yield Ql(o.localStore,h.targetId,!0))})).apply(this,arguments)}function Hg(d,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,c.A)(function*(d,e){const r=ut(d),o=r.Fa.get(e),h=r.Ma.get(o.targetId);r.isPrimaryClient&&1===h.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),vl(r.remoteStore,o.targetId))})).apply(this,arguments)}function sd(){return(sd=(0,c.A)(function*(d,e,r){const o=Qg(d);try{const h=yield function(b,x){const F=ut(b),K=Gt.now(),ie=x.reduce((_t,$t)=>_t.add($t.key),fr());let ve,$e;return F.persistence.runTransaction("Locally write mutations","readwrite",_t=>{let $t=Yi(),hn=fr();return F.cs.getEntries(_t,ie).next(nn=>{$t=nn,$t.forEach((Qn,cr)=>{cr.isValidDocument()||(hn=hn.add(Qn))})}).next(()=>F.localDocuments.getOverlayedDocuments(_t,$t)).next(nn=>{ve=nn;const Qn=[];for(const cr of x){const nr=gi(cr,ve.get(cr.key).overlayedDocument);null!=nr&&Qn.push(new ii(cr.key,nr,Qe(nr.value.mapValue),Y.exists(!0)))}return F.mutationQueue.addMutationBatch(_t,K,Qn,x)}).next(nn=>{$e=nn;const Qn=nn.applyToLocalDocumentSet(ve,hn);return F.documentOverlayCache.saveOverlays(_t,nn.batchId,Qn)})}).then(()=>({batchId:$e.batchId,changes:Ta(ve)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(h.batchId),function(b,x,F){let K=b.Ba[b.currentUser.toKey()];K||(K=new Yr(Xt)),K=K.insert(x,F),b.Ba[b.currentUser.toKey()]=K}(o,h.batchId,r),yield od(o,h.changes),yield td(o.remoteStore)}catch(h){const _=nu(h,"Failed to persist write");r.reject(_)}})).apply(this,arguments)}function zg(d,e){return gh.apply(this,arguments)}function gh(){return(gh=(0,c.A)(function*(d,e){const r=ut(d);try{const o=yield function Og(d,e){const r=ut(d),o=e.snapshotVersion;let h=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const b=r.cs.newChangeBuffer({trackRemovals:!0});h=r.os;const x=[];e.targetChanges.forEach((ie,ve)=>{const $e=h.get(ve);if(!$e)return;x.push(r.Ur.removeMatchingKeys(_,ie.removedDocuments,ve).next(()=>r.Ur.addMatchingKeys(_,ie.addedDocuments,ve)));let _t=$e.withSequenceNumber(_.currentSequenceNumber);var hn,nn,Qn;null!==e.targetMismatches.get(ve)?_t=_t.withResumeToken(Pi.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):ie.resumeToken.approximateByteSize()>0&&(_t=_t.withResumeToken(ie.resumeToken,o)),h=h.insert(ve,_t),nn=_t,Qn=ie,(0===(hn=$e).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&x.push(r.Ur.updateTargetData(_,_t))});let F=Yi(),K=fr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(_,ie))}),x.push(Jh(_,b,e.documentUpdates).next(ie=>{F=ie.Ps,K=ie.Is})),!o.isEqual(Lt.min())){const ie=r.Ur.getLastRemoteSnapshotVersion(_).next(ve=>r.Ur.setTargetsMetadata(_,_.currentSequenceNumber,o));x.push(ie)}return nt.waitFor(x).next(()=>b.apply(_)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,F,K)).next(()=>F)}).then(_=>(r.os=h,_))}(r.localStore,e);e.targetChanges.forEach((h,_)=>{const b=r.Na.get(_);b&&(jt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?b.va=!0:h.modifiedDocuments.size>0?jt(b.va):h.removedDocuments.size>0&&(jt(b.va),b.va=!1))}),yield od(r,o,e)}catch(o){yield zn(o)}})).apply(this,arguments)}function df(d,e,r){const o=ut(d);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const h=[];o.Fa.forEach((_,b)=>{const x=b.view.Z_(e);x.snapshot&&h.push(x.snapshot)}),function(b,x){const F=ut(b);F.onlineState=x;let K=!1;F.queries.forEach((ie,ve)=>{for(const $e of ve.j_)$e.Z_(x)&&(K=!0)}),K&&rd(F)}(o.eventManager,e),h.length&&o.Ca.d_(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function h_(d,e,r){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,c.A)(function*(d,e,r){const o=ut(d);o.sharedClientState.updateQueryState(e,"rejected",r);const h=o.Na.get(e),_=h&&h.key;if(_){let b=new Yr(Bt.comparator);b=b.insert(_,mt.newNoDocument(_,Lt.min()));const x=fr().add(_),F=new as(Lt.min(),new Map,new Yr(Xt),b,x);yield zg(o,F),o.Oa=o.Oa.remove(_),o.Na.delete(e),Wg(o)}else yield Ql(o.localStore,e,!1).then(()=>Cl(o,e,r)).catch(zn)})).apply(this,arguments)}function hf(d,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,c.A)(function*(d,e){const r=ut(d),o=e.batch.batchId;try{const h=yield function sp(d,e){const r=ut(d);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),_=r.cs.newChangeBuffer({trackRemovals:!0});return function(x,F,K,ie){const ve=K.batch,$e=ve.keys();let _t=nt.resolve();return $e.forEach($t=>{_t=_t.next(()=>ie.getEntry(F,$t)).next(hn=>{const nn=K.docVersions.get($t);jt(null!==nn),hn.version.compareTo(nn)<0&&(ve.applyToRemoteDocument(hn,K),hn.isValidDocument()&&(hn.setReadTime(K.commitVersion),ie.addEntry(hn)))})}),_t.next(()=>x.mutationQueue.removeMutationBatch(F,ve))}(r,o,e,_).next(()=>_.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(x){let F=fr();for(let K=0;K<x.mutationResults.length;++K)x.mutationResults[K].transformResults.length>0&&(F=F.add(x.batch.mutations[K].key));return F}(e))).next(()=>r.localDocuments.getDocuments(o,h))})}(r.localStore,e);Dp(r,o,null),Ap(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield od(r,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function f_(d,e,r){return wp.apply(this,arguments)}function wp(){return(wp=(0,c.A)(function*(d,e,r){const o=ut(d);try{const h=yield function(b,x){const F=ut(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ie;return F.mutationQueue.lookupMutationBatch(K,x).next(ve=>(jt(null!==ve),ie=ve.keys(),F.mutationQueue.removeMutationBatch(K,ve))).next(()=>F.mutationQueue.performConsistencyCheck(K)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(K,ie,x)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ie)).next(()=>F.localDocuments.getDocuments(K,ie))})}(o.localStore,e);Dp(o,e,r),Ap(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield od(o,h)}catch(h){yield zn(h)}})).apply(this,arguments)}function p_(){return(p_=(0,c.A)(function*(d,e){const r=ut(d);Pa(r.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(b){const x=ut(b);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>x.mutationQueue.getHighestUnacknowledgedBatchId(F))}(r.localStore);if(-1===o)return void e.resolve();const h=r.ka.get(o)||[];h.push(e),r.ka.set(o,h)}catch(o){const h=nu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}})).apply(this,arguments)}function Ap(d,e){(d.ka.get(e)||[]).forEach(r=>{r.resolve()}),d.ka.delete(e)}function Dp(d,e,r){const o=ut(d);let h=o.Ba[o.currentUser.toKey()];if(h){const _=h.get(e);_&&(r?_.reject(r):_.resolve(),h=h.remove(e)),o.Ba[o.currentUser.toKey()]=h}}function Cl(d,e,r=null){d.sharedClientState.removeLocalQueryTarget(e);for(const o of d.Ma.get(e))d.Fa.delete(o),r&&d.Ca.$a(o,r);d.Ma.delete(e),d.isPrimaryClient&&d.La.gr(e).forEach(o=>{d.La.containsKey(o)||Sp(d,o)})}function Sp(d,e){d.xa.delete(e.path.canonicalString());const r=d.Oa.get(e);null!==r&&(vl(d.remoteStore,r),d.Oa=d.Oa.remove(e),d.Na.delete(r),Wg(d))}function su(d,e,r){for(const o of r)o instanceof bp?(d.La.addReference(o.key,e),xp(d,o)):o instanceof Cp?(xe("SyncEngine","Document no longer in limbo: "+o.key),d.La.removeReference(o.key,e),d.La.containsKey(o.key)||Sp(d,o.key)):Pt()}function xp(d,e){const r=e.key,o=r.path.canonicalString();d.Oa.get(r)||d.xa.has(o)||(xe("SyncEngine","New document in limbo: "+r),d.xa.add(o),Wg(d))}function Wg(d){for(;d.xa.size>0&&d.Oa.size<d.maxConcurrentLimboResolutions;){const e=d.xa.values().next().value;d.xa.delete(e);const r=new Bt(un.fromString(e)),o=d.qa.next();d.Na.set(o,new Bg(r)),d.Oa=d.Oa.insert(r,o),Zu(d.remoteStore,new N(_n(J(r.path)),o,"TargetPurposeLimboResolution",k.oe))}}function od(d,e,r){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,c.A)(function*(d,e,r){const o=ut(d),h=[],_=[],b=[];var x;o.Fa.isEmpty()||(o.Fa.forEach((x,F)=>{b.push(o.Ka(F,e,r).then(K=>{var ie;if((K||r)&&o.isPrimaryClient){const ve=K?!K.fromCache:null===(ie=r?.targetChanges.get(F.targetId))||void 0===ie?void 0:ie.current;o.sharedClientState.updateQueryState(F.targetId,ve?"current":"not-current")}if(K){h.push(K);const ve=$c.Wi(F.targetId,K);_.push(ve)}}))}),yield Promise.all(b),o.Ca.d_(h),yield(x=(0,c.A)(function*(K,ie){const ve=ut(K);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",$e=>nt.forEach(ie,_t=>nt.forEach(_t.$i,$t=>ve.persistence.referenceDelegate.addReference($e,_t.targetId,$t)).next(()=>nt.forEach(_t.Ui,$t=>ve.persistence.referenceDelegate.removeReference($e,_t.targetId,$t)))))}catch($e){if(!jn($e))throw $e;xe("LocalStore","Failed to update sequence numbers: "+$e)}for(const $e of ie){const _t=$e.targetId;if(!$e.fromCache){const $t=ve.os.get(_t),nn=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);ve.os=ve.os.insert(_t,nn)}}}),function F(K,ie){return x.apply(this,arguments)})(o.localStore,_))}),Tl.apply(this,arguments)}function Kg(d,e){return qg.apply(this,arguments)}function qg(){return(qg=(0,c.A)(function*(d,e){const r=ut(d);if(!r.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const o=yield cc(r.localStore,e);r.currentUser=e,(_=r).ka.forEach(x=>{x.forEach(F=>{F.reject(new tt(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield od(r,o.hs)}var _})).apply(this,arguments)}function mh(d,e){const r=ut(d),o=r.Na.get(e);if(o&&o.va)return fr().add(o.key);{let h=fr();const _=r.Ma.get(e);if(!_)return h;for(const b of _){const x=r.Fa.get(b);h=h.unionWith(x.view.Va)}return h}}function Pp(d,e){return pf.apply(this,arguments)}function pf(){return(pf=(0,c.A)(function*(d,e){const r=ut(d),o=yield lc(r.localStore,e.query,!0),h=e.view.ba(o);return r.isPrimaryClient&&su(r,e.targetId,h.wa),h})).apply(this,arguments)}function g_(d,e){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,c.A)(function*(d,e){const r=ut(d);return uc(r.localStore,e).then(o=>od(r,o))})).apply(this,arguments)}function m_(d,e,r,o){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.A)(function*(d,e,r,o){const h=ut(d),_=yield function(x,F){const K=ut(x),ie=ut(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ve=>ie.Mn(ve,F).next($e=>$e?K.localDocuments.getDocuments(ve,$e):nt.resolve(null)))}(h.localStore,e);var F;null!==_?("pending"===r?yield td(h.remoteStore):"acknowledged"===r||"rejected"===r?(Dp(h,e,o||null),Ap(h,e),F=e,ut(ut(h.localStore).mutationQueue).On(F)):Pt(),yield od(h,_)):xe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Rp(){return(Rp=(0,c.A)(function*(d,e){const r=ut(d);if(_h(r),Qg(r),!0===e&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),h=yield Op(r,o.toArray());r.Qa=!0,yield _p(r.remoteStore,!0);for(const _ of h)Zu(r.remoteStore,_)}else if(!1===e&&!1!==r.Qa){const o=[];let h=Promise.resolve();r.Ma.forEach((_,b)=>{r.sharedClientState.isLocalQueryTarget(b)?o.push(b):h=h.then(()=>(Cl(r,b),Ql(r.localStore,b,!0))),vl(r.remoteStore,b)}),yield h,yield Op(r,o),function(b){const x=ut(b);x.Na.forEach((F,K)=>{vl(x.remoteStore,K)}),x.La.pr(),x.Na=new Map,x.Oa=new Yr(Bt.comparator)}(r),r.Qa=!1,yield _p(r.remoteStore,!1)}})).apply(this,arguments)}function Op(d,e,r){return Np.apply(this,arguments)}function Np(){return(Np=(0,c.A)(function*(d,e,r){const o=ut(d),h=[],_=[];for(const b of e){let x;const F=o.Ma.get(b);if(F&&0!==F.length){x=yield Hc(o.localStore,_n(F[0]));for(const K of F){const ie=o.Fa.get(K),ve=yield Pp(o,ie);ve.snapshot&&_.push(ve.snapshot)}}else{const K=yield pa(o.localStore,b);x=yield Hc(o.localStore,K),yield $g(o,ou(K),b,!1,x.resumeToken)}h.push(x)}return o.Ca.d_(_),h})).apply(this,arguments)}function ou(d){return W(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function qc(d){return r=ut(d).localStore,ut(ut(r).persistence).Qi();var r}function au(d,e,r,o){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,c.A)(function*(d,e,r,o){const h=ut(d);if(h.Qa)return void xe("SyncEngine","Ignoring unexpected query state notification.");const _=h.Ma.get(e);if(_&&_.length>0)switch(r){case"current":case"not-current":{const b=yield uc(h.localStore,bc(_[0])),x=as.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Pi.EMPTY_BYTE_STRING);yield od(h,b,x);break}case"rejected":yield Ql(h.localStore,e,!0),Cl(h,e,o);break;default:Pt()}})).apply(this,arguments)}function __(d,e,r){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,c.A)(function*(d,e,r){const o=_h(d);if(o.Qa){for(const h of e){if(o.Ma.has(h)&&o.sharedClientState.isActiveQueryTarget(h)){xe("SyncEngine","Adding an already active target "+h);continue}const _=yield pa(o.localStore,h),b=yield Hc(o.localStore,_);yield $g(o,ou(_),b.targetId,!1,b.resumeToken),Zu(o.remoteStore,b)}for(const h of r)o.Ma.has(h)&&(yield Ql(o.localStore,h,!1).then(()=>{vl(o.remoteStore,h),Cl(o,h)}).catch(zn))}})).apply(this,arguments)}function _h(d){const e=ut(d);return e.remoteStore.remoteSyncer.applyRemoteEvent=zg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h_.bind(null,e),e.Ca.d_=Ep.bind(null,e.eventManager),e.Ca.$a=cf.bind(null,e.eventManager),e}function Qg(d){const e=ut(d);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f_.bind(null,e),e}let ad=(()=>{class d{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,c.A)(function*(){o.serializer=yl(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return Kd(this.persistence,new Wd,r.initialUser,this.serializer)}Ga(r){return new Xh(Xu.Zr,this.serializer)}Wa(r){return new S}terminate(){var r=this;return(0,c.A)(function*(){var o,h;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(h=r.indexBackfillerScheduler)||void 0===h||h.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return d.provider={build:()=>new d},d})();class gf extends ad{constructor(e,r,o){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,c.A)(function*(){yield r().call(o,e),yield o.Ja.initialize(o,e),yield Qg(o.Ja.syncEngine),yield td(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return Kd(this.persistence,new Wd,e.initialUser,this.serializer)}ja(e,r){return new Lc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const o=new M(r,this.persistence);return new $(e.asyncQueue,o)}Ga(e){const r=zd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new Gd(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,Zo(),ps(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new S}}class v_ extends gf{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,c.A)(function*(){yield r().call(o,e);const h=o.Ja.syncEngine;o.sharedClientState instanceof v&&(o.sharedClientState.syncEngine={no:m_.bind(null,h),ro:au.bind(null,h),io:__.bind(null,h),Qi:qc.bind(null,h),eo:g_.bind(null,h)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var _=(0,c.A)(function*(b){yield function $y(d,e){return Rp.apply(this,arguments)}(o.Ja.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return _.apply(this,arguments)}}())})()}Wa(e){const r=Zo();if(!v.D(r))throw new tt(Le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=zd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new v(r,e.asyncQueue,o,e.clientId,e.initialUser)}}let fc=(()=>{class d{initialize(r,o){var h=this;return(0,c.A)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(o),h.remoteStore=h.createRemoteStore(o),h.eventManager=h.createEventManager(o),h.syncEngine=h.createSyncEngine(o,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=_=>df(h.syncEngine,_,1),h.remoteStore.remoteSyncer.handleCredentialChange=Kg.bind(null,h.syncEngine),yield _p(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new i_}createDatastore(r){const o=yl(r.databaseInfo.databaseId),h=new Qr(r.databaseInfo);return new nf(r.authCredentials,r.appCheckCredentials,h,o)}createRemoteStore(r){return h=this.localStore,_=this.datastore,b=r.asyncQueue,x=o=>df(this.syncEngine,o,0),F=de.D()?new de:new X,new Ng(h,_,b,x,F);var h,_,b,x,F}createSyncEngine(r,o){return function(_,b,x,F,K,ie,ve){const $e=new l_(_,b,x,F,K,ie);return ve&&($e.Qa=!0),$e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,c.A)(function*(){var o,h,_;yield(_=(0,c.A)(function*(x){const F=ut(x);xe("RemoteStore","RemoteStore shutting down."),F.L_.add(5),yield Ju(F),F.k_.shutdown(),F.q_.set("Unknown")}),function b(x){return _.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(h=r.eventManager)||void 0===h||h.terminate()})()}}return d.provider={build:()=>new d},d})();function mf(d,e=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<d.byteLength){const o={value:d.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class pc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class $a{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new en,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,c.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,c.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,c.A)(function*(){const r=yield e.nu();if(null===r)return null;const o=e.eu.decode(r),h=Number(o);isNaN(h)&&e.ru(`length string (${o}) is not valid number`);const _=yield e.iu(h);return new Uy(JSON.parse(_),r.length+h)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}nu(){var e=this;return(0,c.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}iu(e){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,c.A)(function*(){const r=yield e.Xa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class E_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new tt(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(h=(0,c.A)(function*(b,x){const F=ut(b),K={documents:x.map(_t=>Sr(F.serializer,_t))},ie=yield F.Lo("BatchGetDocuments",F.serializer.databaseId,un.emptyPath(),K,x.length),ve=new Map;ie.forEach(_t=>{const $t=function Gl(d,e){return"found"in e?function(o,h){jt(!!h.found);const _=Lo(o,h.found.name),b=Xi(h.found.updateTime),x=h.found.createTime?Xi(h.found.createTime):Lt.min(),F=new ke({mapValue:{fields:h.found.fields}});return mt.newFoundDocument(_,b,x,F)}(d,e):"missing"in e?function(o,h){jt(!!h.missing),jt(!!h.readTime);const _=Lo(o,h.missing),b=Xi(h.readTime);return mt.newNoDocument(_,b)}(d,e):Pt()}(F.serializer,_t);ve.set($t.key.toString(),$t)});const $e=[];return x.forEach(_t=>{const $t=ve.get(_t.toString());jt(!!$t),$e.push($t)}),$e}),function _(b,x){return h.apply(this,arguments)})(r.datastore,e);var h;return o.forEach(h=>r.recordVersion(h)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ts(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,c.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,h)=>{const _=Bt.fromPath(h);e.mutations.push(new ca(_,e.precondition(_)))}),yield(o=(0,c.A)(function*(_,b){const x=ut(_),F={writes:b.map(K=>Vo(x.serializer,K))};yield x.Mo("Commit",x.serializer.databaseId,un.emptyPath(),F)}),function h(_,b){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Pt();r=Lt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new tt(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Lt.min())?Y.exists(!1):Y.updateTime(r):Y.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Lt.min()))throw new tt(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y.updateTime(r)}return Y.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class b_{constructor(e,r,o,h,_){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=h,this.deferred=_,this._u=o.maxAttempts,this.t_=new Jd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,c.A)(function*(){const r=new E_(e.datastore),o=e.cu(r);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(h)}).catch(_=>{e.lu(_)}))}).catch(h=>{e.lu(h)})}))}cu(e){try{const r=this.updateFunction(e);return!ne(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Ac(r)}return!1}}class C_{constructor(e,r,o,h,_){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=h,this.user=et.UNAUTHENTICATED,this.clientId=Ln.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=_,this.authCredentials.start(o,function(){var x=(0,c.A)(function*(F){xe("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return x.apply(this,arguments)}}()),this.appCheckCredentials.start(o,x=>(xe("FirestoreClient","Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const h=nu(o,"Failed to shutdown persistence");r.reject(h)}})),r.promise}}function T_(d,e){return I_.apply(this,arguments)}function I_(){return I_=(0,c.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const r=d.configuration;yield e.initialize(r);let o=r.initialUser;d.setCredentialChangeListener(function(){var h=(0,c.A)(function*(_){o.isEqual(_)||(yield cc(e.localStore,_),o=_)});return function(_){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>d.terminate()),d._offlineComponents=e}),I_.apply(this,arguments)}function Gy(d,e){return _f.apply(this,arguments)}function _f(){return(_f=(0,c.A)(function*(d,e){d.asyncQueue.verifyOperationInProgress();const r=yield yf(d);xe("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,d.configuration),d.setCredentialChangeListener(o=>El(e.remoteStore,o)),d.setAppCheckTokenChangeListener((o,h)=>El(e.remoteStore,h)),d._onlineComponents=e})).apply(this,arguments)}function yf(d){return w_.apply(this,arguments)}function w_(){return(w_=(0,c.A)(function*(d){if(!d._offlineComponents)if(d._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield T_(d,d._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(h=e).name?h.code===Le.FAILED_PRECONDITION||h.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw e;yn("Error using user provided cache. Falling back to memory cache: "+e),yield T_(d,new ad)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield T_(d,new ad);var h;return d._offlineComponents})).apply(this,arguments)}function kp(d){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.A)(function*(d){return d._onlineComponents||(d._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gy(d,d._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield Gy(d,new fc))),d._onlineComponents})).apply(this,arguments)}function vf(d){return yf(d).then(e=>e.persistence)}function yh(d){return yf(d).then(e=>e.localStore)}function A_(d){return kp(d).then(e=>e.remoteStore)}function vh(d){return kp(d).then(e=>e.syncEngine)}function Ur(d){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,c.A)(function*(d){const e=yield kp(d),r=e.eventManager;return r.onListen=id.bind(null,e.syncEngine),r.onUnlisten=d_.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=u_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Hg.bind(null,e.syncEngine),r})).apply(this,arguments)}function Zg(d,e,r={}){const o=new en;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(_,b,x,F,K){const ie=new pc({next:$e=>{ie.Za(),b.enqueueAndForget(()=>bl(_,ve));const _t=$e.docs.has(x);!_t&&$e.fromCache?K.reject(new tt(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&$e.fromCache&&F&&"server"===F.source?K.reject(new tt(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve($e)},error:$e=>K.reject($e)}),ve=new jg(J(x.path),ie,{includeMetadataChanges:!0,_a:!0});return dh(_,ve)}(yield Ur(d),d.asyncQueue,e,r,o)})),o.promise}function Vp(d,e,r={}){const o=new en;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(_,b,x,F,K){const ie=new pc({next:$e=>{ie.Za(),b.enqueueAndForget(()=>bl(_,ve)),$e.fromCache&&"server"===F.source?K.reject(new tt(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve($e)},error:$e=>K.reject($e)}),ve=new jg(x,ie,{includeMetadataChanges:!0,_a:!0});return dh(_,ve)}(yield Ur(d),d.asyncQueue,e,r,o)})),o.promise}function Qy(d){const e={};return void 0!==d.timeoutSeconds&&(e.timeoutSeconds=d.timeoutSeconds),e}const Eh=new Map;function ud(d,e,r){if(!r)throw new tt(Le.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${e}.`)}function em(d,e,r,o){if(!0===e&&!0===o)throw new tt(Le.INVALID_ARGUMENT,`${d} and ${r} cannot be used together.`)}function tm(d){if(!Bt.isDocumentKey(d))throw new tt(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Up(d){if(Bt.isDocumentKey(d))throw new tt(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function bh(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const e=(o=d).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof d?"a function":Pt()}function ui(d,e){if("_delegate"in d&&(d=d._delegate),!(d instanceof e)){if(e.name===d.constructor.name)throw new tt(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=bh(d);throw new tt(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return d}function nm(d,e){if(e<=0)throw new tt(Le.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${e}.`)}class rm{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}em("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Qy(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(_){if(void 0!==_.timeoutSeconds){if(isNaN(_.timeoutSeconds))throw new tt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new tt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new tt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cu{constructor(e,r,o,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new De;switch(o.type){case"firstParty":return new Xe(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new tt(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,c.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Eh.get(r);o&&(xe("ComponentProvider","Removing Datastore"),Eh.delete(r),o.terminate())}(this),Promise.resolve()}}function Jy(d,e,r,o={}){var h;const _=(d=ui(d,cu))._getSettings(),b=`${e}:${r}`;if("firestore.googleapis.com"!==_.host&&_.host!==b&&yn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),d._setSettings(Object.assign(Object.assign({},_),{host:b,ssl:!1})),o.mockUserToken){let x,F;if("string"==typeof o.mockUserToken)x=o.mockUserToken,F=et.MOCK_USER;else{x=(0,pe.Fy)(o.mockUserToken,null===(h=d._app)||void 0===h?void 0:h.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new tt(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new et(K)}d._authCredentials=new Ee(new Be(x,F))}}class ro{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class Ls{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Ha extends ro{constructor(e,r,o){super(e,r,J(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new Bt(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function x_(d,e,...r){if(d=(0,pe.Ku)(d),ud("collection","path",e),d instanceof cu){const o=un.fromString(e,...r);return Up(o),new Ha(d,null,o)}{if(!(d instanceof Ls||d instanceof Ha))throw new tt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(un.fromString(e,...r));return Up(o),new Ha(d.firestore,null,o)}}function P_(d,e){if(d=ui(d,cu),ud("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tt(Le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(d,null,(o=e,new Po(un.emptyPath(),o)));var o}function lu(d,e,...r){if(d=(0,pe.Ku)(d),1===arguments.length&&(e=Ln.newId()),ud("doc","path",e),d instanceof cu){const o=un.fromString(e,...r);return tm(o),new Ls(d,null,new Bt(o))}{if(!(d instanceof Ls||d instanceof Ha))throw new tt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=d._path.child(un.fromString(e,...r));return tm(o),new Ls(d.firestore,d instanceof Ha?d.converter:null,new Bt(o))}}function Zy(d,e){return d=(0,pe.Ku)(d),e=(0,pe.Ku)(e),(d instanceof Ls||d instanceof Ha)&&(e instanceof Ls||e instanceof Ha)&&d.firestore===e.firestore&&d.path===e.path&&d.converter===e.converter}function Ef(d,e){return d=(0,pe.Ku)(d),e=(0,pe.Ku)(e),d instanceof ro&&e instanceof ro&&d.firestore===e.firestore&&mo(d._query,e._query)&&d.converter===e.converter}class bf{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jd(this,"async_queue_retry"),this.Vu=()=>{const o=ps();o&&xe("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=ps();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=ps();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new en;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,c.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!jn(r))throw r;xe("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,rn("INTERNAL UNHANDLED ERROR: ",function(b){let x=b.message||"";return b.stack&&(x=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),x}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const h=af.createAndSchedule(this,e,r,o,_=>this.yu(_));return this.Tu.push(h),h}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}wu(){var e=this;return(0,c.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function im(d){return function(r,o){if("object"!=typeof r||null===r)return!1;const h=r;for(const _ of["next","error","complete"])if(_ in h&&"function"==typeof h[_])return!0;return!1}(d)}class sm{constructor(){this._progressObserver={},this._taskCompletionResolver=new en,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const jp=-1;class bi extends cu{constructor(e,r,o,h){super(e,r,o,h),this.type="firestore",this._queue=new bf,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,c.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new bf(r),e._firestoreClient=void 0,yield r}})()}}function om(d,e){const r="object"==typeof d?d:(0,ue.getApp)(),o="string"==typeof d?d:e||"(default)",h=(0,ue._getProvider)(r,"firestore").getImmediate({identifier:o});if(!h._initialized){const _=(0,pe.yU)("firestore");_&&Jy(h,..._)}return h}function gs(d){if(d._terminated)throw new tt(Le.FAILED_PRECONDITION,"The client has already been terminated.");return d._firestoreClient||M_(d),d._firestoreClient}function M_(d){var e,r,o;const h=d._freezeSettings(),_=(F=(null===(e=d._app)||void 0===e?void 0:e.options.appId)||"",new Ar(d._databaseId,F,d._persistenceKey,(ie=h).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,Qy(ie.experimentalLongPollingOptions),ie.useFetchStreams));var F,ie;d._componentsProvider||!(null===(r=h.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=h.localCache)||void 0===o)&&o._onlineComponentProvider&&(d._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),d._firestoreClient=new C_(d._authCredentials,d._appCheckCredentials,d._queue,_,d._componentsProvider&&function(x){const F=x?._online.build();return{_offline:x?._offline.build(F),_online:F}}(d._componentsProvider))}function am(d,e){yn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=d._freezeSettings();return R_(d,fc.provider,{build:o=>new gf(o,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function dd(d){return cm.apply(this,arguments)}function cm(){return(cm=(0,c.A)(function*(d){yn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=d._freezeSettings();R_(d,fc.provider,{build:r=>new v_(r,e.cacheSizeBytes)})})).apply(this,arguments)}function R_(d,e,r){if((d=ui(d,bi))._firestoreClient||d._terminated)throw new tt(Le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(d._componentsProvider||d._getSettings().localCache)throw new tt(Le.FAILED_PRECONDITION,"SDK cache is already specified.");d._componentsProvider={_online:e,_offline:r},M_(d)}function ev(d){if(d._initialized&&!d._terminated)throw new tt(Le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new en;return d._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(h){if(!le.D())return Promise.resolve();const _=h+"main";yield le.delete(_)}),function o(h){return r.apply(this,arguments)})(zd(d._databaseId,d._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function lm(d){return function(r){const o=new en;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function f0(d,e){return p_.apply(this,arguments)}(yield vh(r),o)})),o.promise}(gs(d=ui(d,bi)))}function O_(d){return function Jg(d){return d.asyncQueue.enqueue((0,c.A)(function*(){const e=yield vf(d),r=yield A_(d);return e.setNetworkEnabled(!0),function(h){const _=ut(h);return _.L_.delete(0),eu(_)}(r)}))}(gs(d=ui(d,bi)))}function tv(d){return function zy(d){return d.asyncQueue.enqueue((0,c.A)(function*(){const e=yield vf(d),r=yield A_(d);return e.setNetworkEnabled(!1),(o=(0,c.A)(function*(_){const b=ut(_);b.L_.add(0),yield Ju(b),b.q_.set("Offline")}),function h(_){return o.apply(this,arguments)})(r);var o}))}(gs(d=ui(d,bi)))}function Tf(d,e){const r=gs(d=ui(d,bi)),o=new sm;return function qy(d,e,r,o){const h=function(b,x){let F;return F="string"==typeof b?Mu().encode(b):b,ie=function(ie,ve){if(ie instanceof Uint8Array)return mf(ie,void 0);if(ie instanceof ArrayBuffer)return mf(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new $a(ie,x);var ie}(r,yl(e));d.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function Hy(d,e,r){const o=ut(d);var h;(h=(0,c.A)(function*(b,x,F){try{const K=yield x.getMetadata();if(yield function($t,hn){const nn=ut($t),Qn=Xi(hn.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",cr=>nn.Gr.getBundleMetadata(cr,hn.id)).then(cr=>!!cr&&cr.createTime.compareTo(Qn)>=0)}(b.localStore,K))return yield x.close(),F._completeWith({taskState:"Success",documentsLoaded:($t=K).totalDocuments,bytesLoaded:$t.totalBytes,totalDocuments:$t.totalDocuments,totalBytes:$t.totalBytes}),Promise.resolve(new Set);F._updateProgress(uf(K));const ie=new a_(K,b.localStore,x.serializer);let ve=yield x.Ua();for(;ve;){const _t=yield ie.la(ve);_t&&F._updateProgress(_t),ve=yield x.Ua()}const $e=yield ie.complete();return yield od(b,$e.Ia,void 0),yield function($t,hn){const nn=ut($t);return nn.persistence.runTransaction("Save bundle","readwrite",Qn=>nn.Gr.saveBundleMetadata(Qn,hn))}(b.localStore,K),F._completeWith($e.progress),Promise.resolve($e.Pa)}catch(K){return yn("SyncEngine",`Loading bundle failed with ${K}`),F._failWith(K),Promise.resolve(new Set)}var $t}),function _(b,x,F){return h.apply(this,arguments)})(o,e,r).then(h=>{o.sharedClientState.notifyBundleLoaded(h)})}(yield vh(d),h,o)}))}(r,d._databaseId,e,o),o}function g0(d,e){return function Yy(d,e){return d.asyncQueue.enqueue((0,c.A)(function*(){return function(o,h){const _=ut(o);return _.persistence.runTransaction("Get named query","readonly",b=>_.Gr.getNamedQuery(b,h))}(yield yh(d),e)}))}(gs(d=ui(d,bi)),e).then(r=>r?new ro(d,null,r.query):null)}class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Pi.fromBase64String(e))}catch(r){throw new tt(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new uu(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new tt(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yc{constructor(e){this._methodName=e}}class fd{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new tt(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new tt(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}class Ga{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,h){if(o.length!==h.length)return!1;for(let _=0;_<o.length;++_)if(o[_]!==h[_])return!1;return!0}(this._values,e._values)}}const Ch=/^__.*__$/;class Il{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new ii(e,this.data,this.fieldMask,r,this.fieldTransforms):new pr(e,this.data,r,this.fieldTransforms)}}class pd{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ii(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function gd(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class du{constructor(e,r,o,h,_,b){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=h,void 0===_&&this.vu(),this.fieldTransforms=_||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new du(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.Ou(e),h}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),h=this.Fu({path:o,xu:!1});return h.vu(),h}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(gd(this.Cu)&&Ch.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Bp{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||yl(e)}Qu(e,r,o,h=!1){return new du({Cu:e,methodName:r,qu:o,path:tr.emptyPath(),xu:!1,ku:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ga(d){const e=d._freezeSettings(),r=yl(d._databaseId);return new Bp(d._databaseId,!!e.ignoreUndefinedProperties,r)}function Th(d,e,r,o,h,_={}){const b=d.Qu(_.merge||_.mergeFields?2:0,e,r,h);fm("Data must be an object, but it was:",b,o);const x=hm(o,b);let F,K;if(_.merge)F=new hi(b.fieldMask),K=b.fieldTransforms;else if(_.mergeFields){const ie=[];for(const ve of _.mergeFields){const $e=Df(e,ve,r);if(!b.contains($e))throw new tt(Le.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);Hp(ie,$e)||ie.push($e)}F=new hi(ie),K=b.fieldTransforms.filter(ve=>F.covers(ve.field))}else F=null,K=b.fieldTransforms;return new Il(new ke(x),F,K)}class md extends Yc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function wf(d,e,r){return new du({Cu:3,qu:e.settings.qu,methodName:d._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class N_ extends Yc{_toFieldTransform(e){return new P(e.path,new Ja)}isEqual(e){return e instanceof N_}}class Af extends Yc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=wf(this,e,!0),o=this.Ku.map(_=>wl(_,r)),h=new Ko(o);return new P(e.path,h)}isEqual(e){return e instanceof Af&&(0,pe.bD)(this.Ku,e.Ku)}}class _d extends Yc{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=wf(this,e,!0),o=this.Ku.map(_=>wl(_,r)),h=new Va(o);return new P(e.path,h)}isEqual(e){return e instanceof _d&&(0,pe.bD)(this.Ku,e.Ku)}}class um extends Yc{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Ua(e.serializer,xu(e.serializer,this.$u));return new P(e.path,r)}isEqual(e){return e instanceof um&&this.$u===e.$u}}function $p(d,e,r,o){const h=d.Qu(1,e,r);fm("Data must be an object, but it was:",h,o);const _=[],b=ke.empty();oi(o,(F,K)=>{const ie=Is(e,F,r);K=(0,pe.Ku)(K);const ve=h.Nu(ie);if(K instanceof md)_.push(ie);else{const $e=wl(K,ve);null!=$e&&(_.push(ie),b.set(ie,$e))}});const x=new hi(_);return new pd(b,x,h.fieldTransforms)}function dm(d,e,r,o,h,_){const b=d.Qu(1,e,r),x=[Df(e,o,r)],F=[h];if(_.length%2!=0)throw new tt(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<_.length;$e+=2)x.push(Df(e,_[$e])),F.push(_[$e+1]);const K=[],ie=ke.empty();for(let $e=x.length-1;$e>=0;--$e)if(!Hp(K,x[$e])){const _t=x[$e];let $t=F[$e];$t=(0,pe.Ku)($t);const hn=b.Nu(_t);if($t instanceof md)K.push(_t);else{const nn=wl($t,hn);null!=nn&&(K.push(_t),ie.set(_t,nn))}}const ve=new hi(K);return new pd(ie,ve,b.fieldTransforms)}function k_(d,e,r,o=!1){return wl(r,d.Qu(o?4:3,e))}function wl(d,e){if(F_(d=(0,pe.Ku)(d)))return fm("Unsupported field value:",e,d),hm(d,e);if(d instanceof Yc)return function(o,h){if(!gd(h.Cu))throw h.Bu(`${o._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Bu(`${o._methodName}() is not currently supported inside arrays`);const _=o._toFieldTransform(h);_&&h.fieldTransforms.push(_)}(d,e),null;if(void 0===d&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),d instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,h){const _=[];let b=0;for(const x of o){let F=wl(x,h.Lu(b));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),b++}return{arrayValue:{values:_}}}(d,e)}return function(o,h){if(null===(o=(0,pe.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return xu(h.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const _=Gt.fromDate(o);return{timestampValue:Yo(h.serializer,_)}}if(o instanceof Gt){const _=new Gt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Yo(h.serializer,_)}}if(o instanceof fd)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof uu)return{bytesValue:Ru(h.serializer,o._byteString)};if(o instanceof Ls){const _=h.databaseId,b=o.firestore._databaseId;if(!b.isEqual(_))throw h.Bu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:xc(o.firestore._databaseId||h.databaseId,o._key.path)}}if(o instanceof Ga)return x=h,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(F=>{if("number"!=typeof F)throw x.Bu("VectorValues must only contain numeric values.");return Oo(x.serializer,F)})}}}}};var x;throw h.Bu(`Unsupported field value: ${bh(o)}`)}(d,e)}function hm(d,e){const r={};return ys(d)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(d,(o,h)=>{const _=wl(h,e.Mu(o));null!=_&&(r[o]=_)}),{mapValue:{fields:r}}}function F_(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof Gt||d instanceof fd||d instanceof uu||d instanceof Ls||d instanceof Yc||d instanceof Ga)}function fm(d,e,r){if(!F_(r)||"object"!=typeof(h=r)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const o=bh(r);throw e.Bu("an object"===o?d+" a custom object":d+" "+o)}var h}function Df(d,e,r){if((e=(0,pe.Ku)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return Is(d,e);throw gc("Field path arguments must be of type string or ",d,!1,void 0,r)}const hu=new RegExp("[~\\*/\\[\\]]");function Is(d,e,r){if(e.search(hu)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,r);try{return new hd(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,r)}}function gc(d,e,r,o,h){const _=o&&!o.isEmpty(),b=void 0!==h;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let F="";return(_||b)&&(F+=" (found",_&&(F+=` in field ${o}`),b&&(F+=` in document ${h}`),F+=")"),new tt(Le.INVALID_ARGUMENT,x+d+F)}function Hp(d,e){return d.some(r=>r.isEqual(e))}class Sf{constructor(e,r,o,h,_){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=h,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Al("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class pm extends Sf{data(){return super.data()}}function Al(d,e){return"string"==typeof e?Is(d,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function L_(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new tt(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gp{}class xf extends Gp{}function V_(d,e,...r){let o=[];e instanceof Gp&&o.push(e),o=o.concat(r),function(_){const b=_.filter(F=>F instanceof fu).length,x=_.filter(F=>F instanceof zp).length;if(b>1||b>0&&x>0)throw new tt(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const h of o)d=h._apply(d);return d}class zp extends xf{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new zp(e,r,o)}_apply(e){const r=this._parse(e);return mm(e._query,r),new ro(e.firestore,e.converter,Ys(e._query,r))}_parse(e){const r=ga(e.firestore);return function(_,b,x,F,K,ie,ve){let $e;if(K.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new tt(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){B_(ve,ie);const _t=[];for(const $t of ve)_t.push(Kp(F,_,$t));$e={arrayValue:{values:_t}}}else $e=Kp(F,_,ve)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||B_(ve,ie),$e=k_(x,"where",ve,"in"===ie||"not-in"===ie);return wn.create(K,ie,$e)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function m0(d,e,r){const o=e,h=Al("where",d);return zp._create(h,o,r)}class fu extends Gp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new fu(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Yn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(h,_){let b=h;const x=_.getFlattenedFilters();for(const F of x)mm(b,F),b=Ys(b,F)}(e._query,r),new ro(e.firestore,e.converter,Ys(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ih extends xf{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ih(e,r)}_apply(e){const r=function(h,_,b){if(null!==h.startAt)throw new tt(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==h.endAt)throw new tt(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zn(_,b)}(e._query,this._field,this._direction);return new ro(e.firestore,e.converter,function(h,_){const b=h.explicitOrderBy.concat([_]);return new Po(h.path,h.collectionGroup,b,h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(e._query,r))}}function _0(d,e="asc"){const r=e,o=Al("orderBy",d);return Ih._create(o,r)}class Wp extends xf{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new Wp(e,r,o)}_apply(e){return new ro(e.firestore,e.converter,ss(e._query,this._limit,this._limitType))}}function y0(d){return nm("limit",d),Wp._create("limit",d,"F")}function v0(d){return nm("limitToLast",d),Wp._create("limitToLast",d,"L")}class gm extends xf{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new gm(e,r,o)}_apply(e){const r=j_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(_=r,new Po((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,_,h.endAt)));var h,_}}function iv(...d){return gm._create("startAt",d,!0)}function sv(...d){return gm._create("startAfter",d,!1)}class yd extends xf{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new yd(e,r,o)}_apply(e){const r=j_(e,this.type,this._docOrFields,this._inclusive);return new ro(e.firestore,e.converter,(_=r,new Po((h=e._query).path,h.collectionGroup,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,_)));var h,_}}function U_(...d){return yd._create("endBefore",d,!1)}function Mf(...d){return yd._create("endAt",d,!0)}function j_(d,e,r,o){if(r[0]=(0,pe.Ku)(r[0]),r[0]instanceof Sf)return function(_,b,x,F,K){if(!F)throw new tt(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const ie=[];for(const ve of je(_))if(ve.field.isKeyField())ie.push(Wn(b,F.key));else{const $e=F.data.field(ve.field);if(Bs($e))throw new tt(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$e){const _t=ve.field.canonicalString();throw new tt(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_t}' (used as the orderBy) does not exist.`)}ie.push($e)}return new Qt(ie,K)}(d._query,d.firestore._databaseId,e,r[0]._document,o);{const h=ga(d.firestore);return function(b,x,F,K,ie,ve){const $e=b.explicitOrderBy;if(ie.length>$e.length)throw new tt(Le.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _t=[];for(let $t=0;$t<ie.length;$t++){const hn=ie[$t];if($e[$t].field.isKeyField()){if("string"!=typeof hn)throw new tt(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof hn}`);if(!ce(b)&&-1!==hn.indexOf("/"))throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${hn}' contains a slash.`);const nn=b.path.child(un.fromString(hn));if(!Bt.isDocumentKey(nn))throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${nn}' is not because it contains an odd number of segments.`);const Qn=new Bt(nn);_t.push(Wn(x,Qn))}else{const nn=k_(F,K,hn);_t.push(nn)}}return new Qt(_t,ve)}(d._query,d.firestore._databaseId,h,e,r,o)}}function Kp(d,e,r){if("string"==typeof(r=(0,pe.Ku)(r))){if(""===r)throw new tt(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ce(e)&&-1!==r.indexOf("/"))throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(un.fromString(r));if(!Bt.isDocumentKey(o))throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Wn(d,new Bt(o))}if(r instanceof Ls)return Wn(d,r._key);throw new tt(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(r)}.`)}function B_(d,e){if(!Array.isArray(d)||0===d.length)throw new tt(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mm(d,e){const r=function(h,_){for(const b of h)for(const x of b.getFlattenedFilters())if(_.indexOf(x.op)>=0)return x.op;return null}(d.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new tt(Le.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _m{convertValue(e,r="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return oi(e,(h,_)=>{o[h]=this.convertValue(_,r)}),o}convertVectorValue(e){var r,o,h;const _=null===(h=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===h?void 0:h.map(b=>ni(b.doubleValue));return new Ga(_)}convertGeoPoint(e){return new fd(ni(e.latitude),ni(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=so(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp($s(e));default:return null}}convertTimestamp(e){const r=js(e);return new Gt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=un.fromString(e);jt(w(o));const h=new fi(o.get(1),o.get(3)),_=new Bt(o.popFirst(5));return h.isEqual(r)||rn(`Document ${_} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),_}}function qp(d,e,r){let o;return o=d?r&&(r.merge||r.mergeFields)?d.toFirestore(e,r):d.toFirestore(e):e,o}class E0 extends _m{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,r)}}class Rf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pu extends Sf{constructor(e,r,o,h,_,b){super(e,r,o,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Al("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class mc extends pu{data(e={}){return super.data(e)}}class Sl{constructor(e,r,o,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Rf(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new mc(this._firestore,this._userDataWriter,o.key,o,new Rf(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new tt(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,_){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(x=>({type:"added",doc:new mc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Rf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(x=>_||3!==x.type).map(x=>{const F=new mc(h._firestore,h._userDataWriter,x.doc.key,x.doc,new Rf(h._snapshot.mutatedKeys.has(x.doc.key),h._snapshot.fromCache),h.query.converter);let K=-1,ie=-1;return 0!==x.type&&(K=b.indexOf(x.doc.key),b=b.delete(x.doc.key)),1!==x.type&&(b=b.add(x.doc),ie=b.indexOf(x.doc.key)),{type:T0(x.type),doc:F,oldIndex:K,newIndex:ie}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function T0(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function I0(d,e){return d instanceof pu&&e instanceof pu?d._firestore===e._firestore&&d._key.isEqual(e._key)&&(null===d._document?null===e._document:d._document.isEqual(e._document))&&d._converter===e._converter:d instanceof Sl&&e instanceof Sl&&d._firestore===e._firestore&&Ef(d.query,e.query)&&d.metadata.isEqual(e.metadata)&&d._snapshot.isEqual(e._snapshot)}function w0(d){d=ui(d,Ls);const e=ui(d.firestore,bi);return Zg(gs(e),d._key).then(r=>G_(e,d,r))}class xl extends _m{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,r)}}function Pl(d){d=ui(d,Ls);const e=ui(d.firestore,bi),r=gs(e),o=new xl(e);return function ld(d,e){const r=new en;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(o=(0,c.A)(function*(_,b,x){try{const F=yield function(ie,ve){const $e=ut(ie);return $e.persistence.runTransaction("read document","readonly",_t=>$e.localDocuments.getDocument(_t,ve))}(_,b);F.isFoundDocument()?x.resolve(F):F.isNoDocument()?x.resolve(null):x.reject(new tt(Le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const K=nu(F,`Failed to get document '${b} from cache`);x.reject(K)}}),function h(_,b,x){return o.apply(this,arguments)})(yield yh(d),e,r);var o})),r.promise}(r,d._key).then(h=>new pu(e,o,d._key,h,new Rf(null!==h&&h.hasLocalMutations,!0),d.converter))}function cv(d){d=ui(d,Ls);const e=ui(d.firestore,bi);return Zg(gs(e),d._key,{source:"server"}).then(r=>G_(e,d,r))}function A0(d){d=ui(d,ro);const e=ui(d.firestore,bi),r=gs(e),o=new xl(e);return L_(d._query),Vp(r,d._query).then(h=>new Sl(e,o,d,h))}function BE(d){d=ui(d,ro);const e=ui(d.firestore,bi),r=gs(e),o=new xl(e);return function Wy(d,e){const r=new en;return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(o=(0,c.A)(function*(_,b,x){try{const F=yield lc(_,b,!0),K=new c_(b,F.Ts),ie=K.ma(F.documents),ve=K.applyChanges(ie,!1);x.resolve(ve.snapshot)}catch(F){const K=nu(F,`Failed to execute query '${b} against cache`);x.reject(K)}}),function h(_,b,x){return o.apply(this,arguments)})(yield yh(d),e,r);var o})),r.promise}(r,d._query).then(h=>new Sl(e,o,d,h))}function bo(d){d=ui(d,ro);const e=ui(d.firestore,bi),r=gs(e),o=new xl(e);return Vp(r,d._query,{source:"server"}).then(h=>new Sl(e,o,d,h))}function D0(d,e,r){d=ui(d,Ls);const o=ui(d.firestore,bi),h=qp(d.converter,e,r);return wh(o,[Th(ga(o),"setDoc",d._key,h,null!==d.converter,r).toMutation(d._key,Y.none())])}function $_(d,e,r,...o){d=ui(d,Ls);const h=ui(d.firestore,bi),_=ga(h);let b;return b="string"==typeof(e=(0,pe.Ku)(e))||e instanceof hd?dm(_,"updateDoc",d._key,e,r,o):$p(_,"updateDoc",d._key,e),wh(h,[b.toMutation(d._key,Y.exists(!0))])}function S0(d){return wh(ui(d.firestore,bi),[new Ts(d._key,Y.none())])}function x0(d,e){const r=ui(d.firestore,bi),o=lu(d),h=qp(d.converter,e);return wh(r,[Th(ga(d.firestore),"addDoc",o._key,h,null!==d.converter,{}).toMutation(o._key,Y.exists(!1))]).then(()=>o)}function H_(d,...e){var r,o,h;d=(0,pe.Ku)(d);let _={includeMetadataChanges:!1,source:"default"},b=0;"object"!=typeof e[b]||im(e[b])||(_=e[b],b++);const x={includeMetadataChanges:_.includeMetadataChanges,source:_.source};if(im(e[b])){const ve=e[b];e[b]=null===(r=ve.next)||void 0===r?void 0:r.bind(ve),e[b+1]=null===(o=ve.error)||void 0===o?void 0:o.bind(ve),e[b+2]=null===(h=ve.complete)||void 0===h?void 0:h.bind(ve)}let F,K,ie;if(d instanceof Ls)K=ui(d.firestore,bi),ie=J(d._key.path),F={next:ve=>{e[b]&&e[b](G_(K,d,ve))},error:e[b+1],complete:e[b+2]};else{const ve=ui(d,ro);K=ui(ve.firestore,bi),ie=ve._query;const $e=new xl(K);F={next:_t=>{e[b]&&e[b](new Sl(K,$e,ve,_t))},error:e[b+1],complete:e[b+2]},L_(d._query)}return function($e,_t,$t,hn){const nn=new pc(hn),Qn=new jg(_t,nn,$t);return $e.asyncQueue.enqueueAndForget((0,c.A)(function*(){return dh(yield Ur($e),Qn)})),()=>{nn.Za(),$e.asyncQueue.enqueueAndForget((0,c.A)(function*(){return bl(yield Ur($e),Qn)}))}}(gs(K),ie,x,F)}function lv(d,e){return function Ky(d,e){const r=new pc(e);return d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return h=yield Ur(d),_=r,ut(h).Y_.add(_),void _.next();var h,_})),()=>{r.Za(),d.asyncQueue.enqueueAndForget((0,c.A)(function*(){return h=yield Ur(d),_=r,void ut(h).Y_.delete(_);var h,_}))}}(gs(d=ui(d,bi)),im(e)?e:{next:e})}function wh(d,e){return function(o,h){const _=new en;return o.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function ph(d,e,r){return sd.apply(this,arguments)}(yield vh(o),h,_)})),_.promise}(gs(d),e)}function G_(d,e,r){const o=r.docs.get(e._key),h=new xl(d);return new pu(d,h,e._key,o,new Rf(r.hasPendingWrites,r.fromCache),e.converter)}const Qp={maxAttempts:5};class Jp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ga(e)}set(e,r,o){this._verifyNotCommitted();const h=gu(e,this._firestore),_=qp(h.converter,r,o),b=Th(this._dataReader,"WriteBatch.set",h._key,_,null!==h.converter,o);return this._mutations.push(b.toMutation(h._key,Y.none())),this}update(e,r,o,...h){this._verifyNotCommitted();const _=gu(e,this._firestore);let b;return b="string"==typeof(r=(0,pe.Ku)(r))||r instanceof hd?dm(this._dataReader,"WriteBatch.update",_._key,r,o,h):$p(this._dataReader,"WriteBatch.update",_._key,r),this._mutations.push(b.toMutation(_._key,Y.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=gu(e,this._firestore);return this._mutations=this._mutations.concat(new Ts(r._key,Y.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tt(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gu(d,e){if((d=(0,pe.Ku)(d)).firestore!==e)throw new tt(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class mv extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=ga(r)}get(r){const o=gu(r,this._firestore),h=new E0(this._firestore);return this._transaction.lookup([o._key]).then(_=>{if(!_||1!==_.length)return Pt();const b=_[0];if(b.isFoundDocument())return new Sf(this._firestore,h,b.key,b,o.converter);if(b.isNoDocument())return new Sf(this._firestore,h,o._key,null,o.converter);throw Pt()})}set(r,o,h){const _=gu(r,this._firestore),b=qp(_.converter,o,h),x=Th(this._dataReader,"Transaction.set",_._key,b,null!==_.converter,h);return this._transaction.set(_._key,x),this}update(r,o,h,..._){const b=gu(r,this._firestore);let x;return x="string"==typeof(o=(0,pe.Ku)(o))||o instanceof hd?dm(this._dataReader,"Transaction.update",b._key,o,h,_):$p(this._dataReader,"Transaction.update",b._key,o),this._transaction.update(b._key,x),this}delete(r){const o=gu(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=gu(e,this._firestore),o=new xl(this._firestore);return super.get(e).then(h=>new pu(this._firestore,o,r._key,h._document,new Rf(!1,!1),r.converter))}}function N0(d,e,r){d=ui(d,bi);const o=Object.assign(Object.assign({},Qp),r);return function(_){if(_.maxAttempts<1)throw new tt(Le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(_,b,x){const F=new en;return _.asyncQueue.enqueueAndForget((0,c.A)(function*(){const K=yield function Fp(d){return kp(d).then(e=>e.datastore)}(_);new b_(_.asyncQueue,K,x,b,F).au()})),F.promise}(gs(d),h=>e(new mv(d,h)),o)}function k0(){return new md("deleteField")}function F0(){return new N_("serverTimestamp")}function L0(...d){return new Af("arrayUnion",d)}function _v(...d){return new _d("arrayRemove",d)}function HE(d){return new um("increment",d)}!function(e,r=!0){qe=ue.SDK_VERSION,(0,ue._registerComponent)(new i.uA("firestore",(o,{instanceIdentifier:h,options:_})=>{const b=o.getProvider("app").getImmediate(),x=new bi(new Ve(o.getProvider("auth-internal")),new An(o.getProvider("app-check-internal")),function(K,ie){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new tt(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fi(K.options.projectId,ie)}(b,h),b);return _=Object.assign({useFetchStreams:r},_),x._setSettings(_),x},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Ce,"4.7.3",e),(0,ue.registerVersion)(Ce,"4.7.3","esm2017")}()},4535:(on,Je,j)=>{j.d(Je,{Ad:()=>On,D5:()=>tn,KR:()=>wi,Mp:()=>ns,Mx:()=>ti,TZ:()=>Yt,UC:()=>oi,UY:()=>ur,XR:()=>$i,ZH:()=>ln,_w:()=>Wn,bp:()=>Hs,c7:()=>kr,nb:()=>rs,nw:()=>In,p_:()=>Bn,qk:()=>Xr,uj:()=>rn,xc:()=>Vn,yb:()=>ci});var c=j(467),ue=j(7852),i=j(1076),Ie=j(1362);const pe="firebasestorage.googleapis.com",Oe="storageBucket";class ee extends i.g{constructor(Q,Ae,ke=0){super(_e(Q),`Firebase Storage: ${Ae} (${_e(Q)})`),this.status_=ke,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ee.prototype)}get status(){return this.status_}set status(Q){this.status_=Q}_codeEquals(Q){return _e(Q)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Q){this.customData.serverResponse=Q,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var oe=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(oe||{});function _e(Z){return"storage/"+Z}function lt(){return new ee(oe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function pn(){return new ee(oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ge(){return new ee(oe.CANCELED,"User canceled the upload/download.")}function it(){return new ee(oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rn(Z){return new ee(oe.INVALID_ARGUMENT,Z)}function yn(){return new ee(oe.APP_DELETED,"The Firebase app was deleted.")}function ur(Z){return new ee(oe.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pt(Z,Q){return new ee(oe.INVALID_FORMAT,"String does not match format '"+Z+"': "+Q)}function jt(Z){throw new ee(oe.INTERNAL_ERROR,"Internal error: "+Z)}class Yt{constructor(Q,Ae){this.bucket=Q,this.path_=Ae}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const Q=encodeURIComponent;return"/b/"+Q(this.bucket)+"/o/"+Q(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Q,Ae){let ke;try{ke=Yt.makeFromUrl(Q,Ae)}catch{return new Yt(Q,"")}if(""===ke.path)return ke;throw function et(Z){return new ee(oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(Q)}static makeFromUrl(Q,Ae){let ke=null;const Qe="([A-Za-z0-9.\\-_]+)",Sn=new RegExp("^gs://"+Qe+"(/(.*))?$","i");function Zn(pi){pi.path_=decodeURIComponent(pi.path)}const xn=Ae.replace(/[.]/g,"\\."),ar=[{regex:Sn,indices:{bucket:1,path:3},postModify:function mt(pi){"/"===pi.path.charAt(pi.path.length-1)&&(pi.path_=pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${xn}/v[A-Za-z0-9_]+/b/${Qe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Zn},{regex:new RegExp(`^https?://${Ae===pe?"(?:storage.googleapis.com|storage.cloud.google.com)":Ae}/${Qe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Zn}];for(let pi=0;pi<ar.length;pi++){const Di=ar[pi],Rr=Di.regex.exec(Q);if(Rr){let is=Rr[Di.indices.path];is||(is=""),ke=new Yt(Rr[Di.indices.bucket],is),Di.postModify(ke);break}}if(null==ke)throw function Ce(Z){return new ee(oe.INVALID_URL,"Invalid URL '"+Z+"'.")}(Q);return ke}}class ut{constructor(Q){this.promise_=Promise.reject(Q)}getPromise(){return this.promise_}cancel(Q=!1){}}function Ee(Z){return"string"==typeof Z||Z instanceof String}function Ve(Z){return rt()&&Z instanceof Blob}function rt(){return typeof Blob<"u"}function Xe(Z,Q,Ae,ke){if(ke<Q)throw rn(`Invalid value for '${Z}'. Expected ${Q} or greater.`);if(ke>Ae)throw rn(`Invalid value for '${Z}'. Expected ${Ae} or less.`)}function Nt(Z,Q,Ae){let ke=Q;return null==Ae&&(ke=`https://${Q}`),`${Ae}://${ke}/v0${Z}`}function An(Z){const Q=encodeURIComponent;let Ae="?";for(const ke in Z)Z.hasOwnProperty(ke)&&(Ae=Ae+(Q(ke)+"=")+Q(Z[ke])+"&");return Ae=Ae.slice(0,-1),Ae}var sr=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(sr||{});function sn(Z,Q){const Ae=Z>=500&&Z<600,Qe=-1!==[408,429].indexOf(Z),mt=-1!==Q.indexOf(Z);return Ae||Qe||mt}class Ln{constructor(Q,Ae,ke,Qe,mt,Qt,Sn,vn,Zn,Dr,xn,wn=!0){this.url_=Q,this.method_=Ae,this.headers_=ke,this.body_=Qe,this.successCodes_=mt,this.additionalRetryCodes_=Qt,this.callback_=Sn,this.errorCallback_=vn,this.timeout_=Zn,this.progressCallback_=Dr,this.connectionFactory_=xn,this.retry=wn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Yn,Pr)=>{this.resolve_=Yn,this.reject_=Pr,this.start_()})}start_(){const Ae=(ke,Qe)=>{const mt=this.resolve_,Qt=this.reject_,Sn=Qe.connection;if(Qe.wasSuccessCode)try{const vn=this.callback_(Sn,Sn.getResponse());!function en(Z){return void 0!==Z}(vn)?mt():mt(vn)}catch(vn){Qt(vn)}else if(null!==Sn){const vn=lt();vn.serverResponse=Sn.getErrorText(),Qt(this.errorCallback_?this.errorCallback_(Sn,vn):vn)}else Qt(Qe.canceled?this.appDelete_?yn():Ge():pn())};this.canceled_?Ae(0,new Xt(!1,null,!0)):this.backoffId_=function Le(Z,Q,Ae){let ke=1,Qe=null,mt=null,Qt=!1,Sn=0;function vn(){return 2===Sn}let Zn=!1;function Dr(...Mi){Zn||(Zn=!0,Q.apply(null,Mi))}function xn(Mi){Qe=setTimeout(()=>{Qe=null,Z(Yn,vn())},Mi)}function wn(){mt&&clearTimeout(mt)}function Yn(Mi,...Ki){if(Zn)return void wn();if(Mi)return wn(),void Dr.call(null,Mi,...Ki);if(vn()||Qt)return wn(),void Dr.call(null,Mi,...Ki);let ar;ke<64&&(ke*=2),1===Sn?(Sn=2,ar=0):ar=1e3*(ke+Math.random()),xn(ar)}let Pr=!1;function zr(Mi){Pr||(Pr=!0,wn(),!Zn&&(null!==Qe?(Mi||(Sn=2),clearTimeout(Qe),xn(0)):Mi||(Sn=1)))}return xn(0),mt=setTimeout(()=>{Qt=!0,zr(!0)},Ae),zr}((ke,Qe)=>{if(Qe)return void ke(!1,new Xt(!1,null,!0));const mt=this.connectionFactory_();this.pendingConnection_=mt;const Qt=Sn=>{null!==this.progressCallback_&&this.progressCallback_(Sn.loaded,Sn.lengthComputable?Sn.total:-1)};null!==this.progressCallback_&&mt.addUploadProgressListener(Qt),mt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&mt.removeUploadProgressListener(Qt),this.pendingConnection_=null;const Sn=mt.getErrorCode()===sr.NO_ERROR,vn=mt.getStatus();if(!Sn||sn(vn,this.additionalRetryCodes_)&&this.retry){const Dr=mt.getErrorCode()===sr.ABORT;return void ke(!1,new Xt(!1,null,Dr))}const Zn=-1!==this.successCodes_.indexOf(vn);ke(!0,new Xt(Zn,mt))})},Ae,this.timeout_)}getPromise(){return this.promise_}cancel(Q){this.canceled_=!0,this.appDelete_=Q||!1,null!==this.backoffId_&&function tt(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xt{constructor(Q,Ae,ke){this.wasSuccessCode=Q,this.connection=Ae,this.canceled=!!ke}}function Or(...Z){const Q=function un(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==Q){const Ae=new Q;for(let ke=0;ke<Z.length;ke++)Ae.append(Z[ke]);return Ae.getBlob()}if(rt())return new Blob(Z);throw new ee(oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gn{constructor(Q,Ae){this.data=Q,this.contentType=Ae||null}}function ln(Z,Q){switch(Z){case In.RAW:return new Gn($r(Q));case In.BASE64:case In.BASE64URL:return new Gn(ei(Z,Q));case In.DATA_URL:return new Gn(function di(Z){const Q=new Kn(Z);return Q.base64?ei(In.BASE64,Q.rest):function xr(Z){let Q;try{Q=decodeURIComponent(Z)}catch{throw Pt(In.DATA_URL,"Malformed data URL.")}return $r(Q)}(Q.rest)}(Q),function _s(Z){return new Kn(Z).contentType}(Q))}throw lt()}function $r(Z){const Q=[];for(let Ae=0;Ae<Z.length;Ae++){let ke=Z.charCodeAt(Ae);ke<=127?Q.push(ke):ke<=2047?Q.push(192|ke>>6,128|63&ke):55296==(64512&ke)?Ae<Z.length-1&&56320==(64512&Z.charCodeAt(Ae+1))?(ke=65536|(1023&ke)<<10|1023&Z.charCodeAt(++Ae),Q.push(240|ke>>18,128|ke>>12&63,128|ke>>6&63,128|63&ke)):Q.push(239,191,189):56320==(64512&ke)?Q.push(239,191,189):Q.push(224|ke>>12,128|ke>>6&63,128|63&ke)}return new Uint8Array(Q)}function ei(Z,Q){switch(Z){case In.BASE64:{const Qe=-1!==Q.indexOf("-"),mt=-1!==Q.indexOf("_");if(Qe||mt)throw Pt(Z,"Invalid character '"+(Qe?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const Qe=-1!==Q.indexOf("+"),mt=-1!==Q.indexOf("/");if(Qe||mt)throw Pt(Z,"Invalid character '"+(Qe?"+":"/")+"' found: is it base64 encoded?");Q=Q.replace(/-/g,"+").replace(/_/g,"/");break}}let Ae;try{Ae=function Bt(Z){if(typeof atob>"u")throw function xe(Z){return new ee(oe.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(Q)}catch(Qe){throw Qe.message.includes("polyfill")?Qe:Pt(Z,"Invalid character found")}const ke=new Uint8Array(Ae.length);for(let Qe=0;Qe<Ae.length;Qe++)ke[Qe]=Ae.charCodeAt(Qe);return ke}class Kn{constructor(Q){this.base64=!1,this.contentType=null;const Ae=Q.match(/^data:([^,]+)?,/);if(null===Ae)throw Pt(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ke=Ae[1]||null;null!=ke&&(this.base64=function gn(Z,Q){return Z.length>=Q.length&&Z.substring(Z.length-Q.length)===Q}(ke,";base64"),this.contentType=this.base64?ke.substring(0,ke.length-7):ke),this.rest=Q.substring(Q.indexOf(",")+1)}}class ti{constructor(Q,Ae){let ke=0,Qe="";Ve(Q)?(this.data_=Q,ke=Q.size,Qe=Q.type):Q instanceof ArrayBuffer?(Ae?this.data_=new Uint8Array(Q):(this.data_=new Uint8Array(Q.byteLength),this.data_.set(new Uint8Array(Q))),ke=this.data_.length):Q instanceof Uint8Array&&(Ae?this.data_=Q:(this.data_=new Uint8Array(Q.length),this.data_.set(Q)),ke=Q.length),this.size_=ke,this.type_=Qe}size(){return this.size_}type(){return this.type_}slice(Q,Ae){if(Ve(this.data_)){const Qe=function tr(Z,Q,Ae){return Z.webkitSlice?Z.webkitSlice(Q,Ae):Z.mozSlice?Z.mozSlice(Q,Ae):Z.slice?Z.slice(Q,Ae):null}(this.data_,Q,Ae);return null===Qe?null:new ti(Qe)}{const ke=new Uint8Array(this.data_.buffer,Q,Ae-Q);return new ti(ke,!0)}}static getBlob(...Q){if(rt()){const Ae=Q.map(ke=>ke instanceof ti?ke.data_:ke);return new ti(Or.apply(null,Ae))}{const Ae=Q.map(Qt=>Ee(Qt)?ln(In.RAW,Qt).data:Qt.data_);let ke=0;Ae.forEach(Qt=>{ke+=Qt.byteLength});const Qe=new Uint8Array(ke);let mt=0;return Ae.forEach(Qt=>{for(let Sn=0;Sn<Qt.length;Sn++)Qe[mt++]=Qt[Sn]}),new ti(Qe,!0)}}uploadData(){return this.data_}}function rr(Z){let Q;try{Q=JSON.parse(Z)}catch{return null}return function De(Z){return"object"==typeof Z&&!Array.isArray(Z)}(Q)?Q:null}function Si(Z){const Q=Z.lastIndexOf("/",Z.length-2);return-1===Q?Z:Z.slice(Q+1)}function nt(Z,Q){return Q}class gt{constructor(Q,Ae,ke,Qe){this.server=Q,this.local=Ae||Q,this.writable=!!ke,this.xform=Qe||nt}}let le=null;function vt(){if(le)return le;const Z=[];Z.push(new gt("bucket")),Z.push(new gt("generation")),Z.push(new gt("metageneration")),Z.push(new gt("name","fullPath",!0));const Ae=new gt("name");Ae.xform=function Q(mt,Qt){return function Re(Z){return!Ee(Z)||Z.length<2?Z:Si(Z)}(Qt)},Z.push(Ae);const Qe=new gt("size");return Qe.xform=function ke(mt,Qt){return void 0!==Qt?Number(Qt):Qt},Z.push(Qe),Z.push(new gt("timeCreated")),Z.push(new gt("updated")),Z.push(new gt("md5Hash",null,!0)),Z.push(new gt("cacheControl",null,!0)),Z.push(new gt("contentDisposition",null,!0)),Z.push(new gt("contentEncoding",null,!0)),Z.push(new gt("contentLanguage",null,!0)),Z.push(new gt("contentType",null,!0)),Z.push(new gt("metadata","customMetadata",!0)),le=Z,le}function Lr(Z,Q,Ae){const ke=rr(Q);return null===ke?null:function jn(Z,Q,Ae){const ke={type:"file"},Qe=Ae.length;for(let mt=0;mt<Qe;mt++){const Qt=Ae[mt];ke[Qt.local]=Qt.xform(ke,Q[Qt.server])}return function Kt(Z,Q){Object.defineProperty(Z,"ref",{get:function Ae(){const mt=new Yt(Z.bucket,Z.fullPath);return Q._makeStorageReference(mt)}})}(ke,Z),ke}(Z,ke,Ae)}function Ti(Z,Q){const Ae={},ke=Q.length;for(let Qe=0;Qe<ke;Qe++){const mt=Q[Qe];mt.writable&&(Ae[mt.server]=Z[mt.local])}return JSON.stringify(Ae)}const Et="prefixes",$="items";class ne{constructor(Q,Ae,ke,Qe){this.url=Q,this.method=Ae,this.handler=ke,this.timeout=Qe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fe(Z){if(!Z)throw lt()}function st(Z,Q){return function Ae(ke,Qe){const mt=Lr(Z,Qe,Q);return fe(null!==mt),mt}}function dn(Z){return function Q(Ae,ke){let Qe;return Qe=401===Ae.getStatus()?Ae.getErrorText().includes("Firebase App Check token is invalid")?function Ut(){return new ee(oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function At(){return new ee(oe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Ae.getStatus()?function Dt(Z){return new ee(oe.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===Ae.getStatus()?function Rt(Z){return new ee(oe.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):ke,Qe.status=Ae.getStatus(),Qe.serverResponse=ke.serverResponse,Qe}}function Dn(Z){const Q=dn(Z);return function Ae(ke,Qe){let mt=Q(ke,Qe);return 404===ke.getStatus()&&(mt=function Ze(Z){return new ee(oe.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),mt.serverResponse=Qe.serverResponse,mt}}function gr(Z,Q,Ae){const Qe=Nt(Q.fullServerUrl(),Z.host,Z._protocol),Qt=Z.maxOperationRetryTime,Sn=new ne(Qe,"GET",st(Z,Ae),Qt);return Sn.errorHandler=Dn(Q),Sn}function cn(Z,Q,Ae,ke,Qe){const mt={};mt.prefix=Q.isRoot?"":Q.path+"/",Ae&&Ae.length>0&&(mt.delimiter=Ae),ke&&(mt.pageToken=ke),Qe&&(mt.maxResults=Qe);const Sn=Nt(Q.bucketOnlyServerUrl(),Z.host,Z._protocol),Zn=Z.maxOperationRetryTime,Dr=new ne(Sn,"GET",function It(Z,Q){return function Ae(ke,Qe){const mt=function k(Z,Q,Ae){const ke=rr(Ae);return null===ke?null:function M(Z,Q,Ae){const ke={prefixes:[],items:[],nextPageToken:Ae.nextPageToken};if(Ae[Et])for(const Qe of Ae[Et]){const mt=Qe.replace(/\/$/,""),Qt=Z._makeStorageReference(new Yt(Q,mt));ke.prefixes.push(Qt)}if(Ae[$])for(const Qe of Ae[$]){const mt=Z._makeStorageReference(new Yt(Q,Qe.name));ke.items.push(mt)}return ke}(Z,Q,ke)}(Z,Q,Qe);return fe(null!==mt),mt}}(Z,Q.bucket),Zn);return Dr.urlParams=mt,Dr.errorHandler=dn(Q),Dr}function xi(Z,Q,Ae){const ke=Object.assign({},Ae);return ke.fullPath=Z.path,ke.size=Q.size(),ke.contentType||(ke.contentType=function Li(Z,Q){return Z&&Z.contentType||Q&&Q.type()||"application/octet-stream"}(null,Q)),ke}class Mt{constructor(Q,Ae,ke,Qe){this.current=Q,this.total=Ae,this.finalized=!!ke,this.metadata=Qe||null}}function ge(Z,Q){let Ae=null;try{Ae=Z.getResponseHeader("X-Goog-Upload-Status")}catch{fe(!1)}return fe(!!Ae&&-1!==(Q||["active"]).indexOf(Ae)),Ae}const Vn={STATE_CHANGED:"state_changed"},On={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hr(Z){switch(Z){case"running":case"pausing":case"canceling":return On.RUNNING;case"paused":return On.PAUSED;case"success":return On.SUCCESS;case"canceled":return On.CANCELED;default:return On.ERROR}}class Hr{constructor(Q,Ae,ke){if(function Be(Z){return"function"==typeof Z}(Q)||null!=Ae||null!=ke)this.next=Q,this.error=Ae??void 0,this.complete=ke??void 0;else{const mt=Q;this.next=mt.next,this.error=mt.error,this.complete=mt.complete}}}function qr(Z){return(...Q)=>{Promise.resolve().then(()=>Z(...Q))}}let Ir=null;class Qi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sr.NO_ERROR,this.sendPromise_=new Promise(Q=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sr.ABORT,Q()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sr.NETWORK_ERROR,Q()}),this.xhr_.addEventListener("load",()=>{Q()})})}send(Q,Ae,ke,Qe){if(this.sent_)throw jt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Ae,Q,!0),void 0!==Qe)for(const mt in Qe)Qe.hasOwnProperty(mt)&&this.xhr_.setRequestHeader(mt,Qe[mt].toString());return void 0!==ke?this.xhr_.send(ke):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Q){return this.xhr_.getResponseHeader(Q)}addUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",Q)}removeUploadProgressListener(Q){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",Q)}}class Ms extends Qi{initXhr(){this.xhr_.responseType="text"}}function Ji(){return Ir?Ir():new Ms}class oi{constructor(Q,Ae,ke=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=Q,this._blob=Ae,this._metadata=ke,this._mappings=vt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Qe=>{if(this._request=void 0,this._chunkMultiplier=1,Qe._codeEquals(oe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const mt=this.isExponentialBackoffExpired();if(sn(Qe.status,[])){if(!mt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Qe=pn()}this._error=Qe,this._transition("error")}},this._metadataErrorHandler=Qe=>{this._request=void 0,Qe._codeEquals(oe.CANCELED)?this.completeTransitions_():(this._error=Qe,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Qe,mt)=>{this._resolve=Qe,this._reject=mt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const Q=this._transferred;return Ae=>this._updateProgress(Q+Ae)}_shouldDoResumable(Q){return Q.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(Q){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Ae,ke])=>{switch(this._state){case"running":Q(Ae,ke);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((Q,Ae)=>{const ke=function me(Z,Q,Ae,ke,Qe){const mt=Q.bucketOnlyServerUrl(),Qt=xi(Q,ke,Qe),Sn={name:Qt.fullPath},vn=Nt(mt,Z.host,Z._protocol),Dr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ke.size()}`,"X-Goog-Upload-Header-Content-Type":Qt.contentType,"Content-Type":"application/json; charset=utf-8"},xn=Ti(Qt,Ae),Pr=new ne(vn,"POST",function Yn(zr){let Mi;ge(zr);try{Mi=zr.getResponseHeader("X-Goog-Upload-URL")}catch{fe(!1)}return fe(Ee(Mi)),Mi},Z.maxUploadRetryTime);return Pr.urlParams=Sn,Pr.headers=Dr,Pr.body=xn,Pr.errorHandler=dn(Q),Pr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(ke,Ji,Q,Ae);this._request=Qe,Qe.getPromise().then(mt=>{this._request=void 0,this._uploadUrl=mt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const Q=this._uploadUrl;this._resolveToken((Ae,ke)=>{const Qe=function we(Z,Q,Ae,ke){const vn=new ne(Ae,"POST",function mt(Zn){const Dr=ge(Zn,["active","final"]);let xn=null;try{xn=Zn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fe(!1)}xn||fe(!1);const wn=Number(xn);return fe(!isNaN(wn)),new Mt(wn,ke.size(),"final"===Dr)},Z.maxUploadRetryTime);return vn.headers={"X-Goog-Upload-Command":"query"},vn.errorHandler=dn(Q),vn}(this._ref.storage,this._ref._location,Q,this._blob),mt=this._ref.storage._makeRequest(Qe,Ji,Ae,ke);this._request=mt,mt.getPromise().then(Qt=>{this._request=void 0,this._updateProgress(Qt.current),this._needToFetchStatus=!1,Qt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const Q=262144*this._chunkMultiplier,Ae=new Mt(this._transferred,this._blob.size()),ke=this._uploadUrl;this._resolveToken((Qe,mt)=>{let Qt;try{Qt=function qt(Z,Q,Ae,ke,Qe,mt,Qt,Sn){const vn=new Mt(0,0);if(Qt?(vn.current=Qt.current,vn.total=Qt.total):(vn.current=0,vn.total=ke.size()),ke.size()!==vn.total)throw function St(){return new ee(oe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Zn=vn.total-vn.current;let Dr=Zn;Qe>0&&(Dr=Math.min(Dr,Qe));const xn=vn.current;let Yn="";Yn=0===Dr?"finalize":Zn===Dr?"upload, finalize":"upload";const Pr={"X-Goog-Upload-Command":Yn,"X-Goog-Upload-Offset":`${vn.current}`},zr=ke.slice(xn,xn+Dr);if(null===zr)throw it();const ar=new ne(Ae,"POST",function Mi(pi,Di){const Rr=ge(pi,["active","final"]),go=vn.current+Dr,is=ke.size();let Es;return Es="final"===Rr?st(Q,mt)(pi,Di):null,new Mt(go,is,"final"===Rr,Es)},Q.maxUploadRetryTime);return ar.headers=Pr,ar.body=zr.uploadData(),ar.progressCallback=Sn||null,ar.errorHandler=dn(Z),ar}(this._ref._location,this._ref.storage,ke,this._blob,Q,this._mappings,Ae,this._makeProgressCallback())}catch(vn){return this._error=vn,void this._transition("error")}const Sn=this._ref.storage._makeRequest(Qt,Ji,Qe,mt,!1);this._request=Sn,Sn.getPromise().then(vn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(vn.current),vn.finalized?(this._metadata=vn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((Q,Ae)=>{const ke=gr(this._ref.storage,this._ref._location,this._mappings),Qe=this._ref.storage._makeRequest(ke,Ji,Q,Ae);this._request=Qe,Qe.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((Q,Ae)=>{const ke=function Ne(Z,Q,Ae,ke,Qe){const mt=Q.bucketOnlyServerUrl(),Qt={"X-Goog-Upload-Protocol":"multipart"},vn=function Sn(){let ar="";for(let pi=0;pi<2;pi++)ar+=Math.random().toString().slice(2);return ar}();Qt["Content-Type"]="multipart/related; boundary="+vn;const Zn=xi(Q,ke,Qe),Dr=Ti(Zn,Ae),Yn=ti.getBlob("--"+vn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dr+"\r\n--"+vn+"\r\nContent-Type: "+Zn.contentType+"\r\n\r\n",ke,"\r\n--"+vn+"--");if(null===Yn)throw it();const Pr={name:Zn.fullPath},zr=Nt(mt,Z.host,Z._protocol),Ki=Z.maxUploadRetryTime,Ai=new ne(zr,"POST",st(Z,Ae),Ki);return Ai.urlParams=Pr,Ai.headers=Qt,Ai.body=Yn.uploadData(),Ai.errorHandler=dn(Q),Ai}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Qe=this._ref.storage._makeRequest(ke,Ji,Q,Ae);this._request=Qe,Qe.getPromise().then(mt=>{this._request=void 0,this._metadata=mt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(Q){const Ae=this._transferred;this._transferred=Q,this._transferred!==Ae&&this._notifyObservers()}_transition(Q){if(this._state!==Q)switch(Q){case"canceling":case"pausing":this._state=Q,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Ae="paused"===this._state;this._state=Q,Ae&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=Q,this._notifyObservers();break;case"canceled":this._error=Ge(),this._state=Q,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const Q=hr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:Q,metadata:this._metadata,task:this,ref:this._ref}}on(Q,Ae,ke,Qe){const mt=new Hr(Ae||void 0,ke||void 0,Qe||void 0);return this._addObserver(mt),()=>{this._removeObserver(mt)}}then(Q,Ae){return this._promise.then(Q,Ae)}catch(Q){return this.then(null,Q)}_addObserver(Q){this._observers.push(Q),this._notifyObserver(Q)}_removeObserver(Q){const Ae=this._observers.indexOf(Q);-1!==Ae&&this._observers.splice(Ae,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Ae=>{this._notifyObserver(Ae)})}_finishPromise(){if(void 0!==this._resolve){let Q=!0;switch(hr(this._state)){case On.SUCCESS:qr(this._resolve.bind(null,this.snapshot))();break;case On.CANCELED:case On.ERROR:qr(this._reject.bind(null,this._error))();break;default:Q=!1}Q&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(Q){switch(hr(this._state)){case On.RUNNING:case On.PAUSED:Q.next&&qr(Q.next.bind(Q,this.snapshot))();break;case On.SUCCESS:Q.complete&&qr(Q.complete.bind(Q))();break;default:Q.error&&qr(Q.error.bind(Q,this._error))()}}resume(){const Q="paused"===this._state||"pausing"===this._state;return Q&&this._transition("running"),Q}pause(){const Q="running"===this._state;return Q&&this._transition("pausing"),Q}cancel(){const Q="running"===this._state||"pausing"===this._state;return Q&&this._transition("canceling"),Q}}class Zi{constructor(Q,Ae){this._service=Q,this._location=Ae instanceof Yt?Ae:Yt.makeFromUrl(Ae,Q.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Q,Ae){return new Zi(Q,Ae)}get root(){const Q=new Yt(this._location.bucket,"");return this._newRef(this._service,Q)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Si(this._location.path)}get storage(){return this._service}get parent(){const Q=function Cr(Z){if(0===Z.length)return null;const Q=Z.lastIndexOf("/");return-1===Q?"":Z.slice(0,Q)}(this._location.path);if(null===Q)return null;const Ae=new Yt(this._location.bucket,Q);return new Zi(this._service,Ae)}_throwIfRoot(Q){if(""===this._location.path)throw ur(Q)}}function So(Z,Q,Ae){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.A)(function*(Z,Q,Ae){const Qe=yield Fa(Z,{pageToken:Ae});Q.prefixes.push(...Qe.prefixes),Q.items.push(...Qe.items),null!=Qe.nextPageToken&&(yield So(Z,Q,Qe.nextPageToken))})).apply(this,arguments)}function Fa(Z,Q){null!=Q&&"number"==typeof Q.maxResults&&Xe("options.maxResults",1,1e3,Q.maxResults);const Ae=Q||{},ke=cn(Z.storage,Z._location,"/",Ae.pageToken,Ae.maxResults);return Z.storage.makeRequestWithTokens(ke,Ji)}function va(Z){Z._throwIfRoot("getDownloadURL");const Q=function dr(Z,Q,Ae){const Qe=Nt(Q.fullServerUrl(),Z.host,Z._protocol),Qt=Z.maxOperationRetryTime,Sn=new ne(Qe,"GET",function an(Z,Q){return function Ae(ke,Qe){const mt=Lr(Z,Qe,Q);return fe(null!==mt),function Tr(Z,Q,Ae,ke){const Qe=rr(Q);if(null===Qe||!Ee(Qe.downloadTokens))return null;const mt=Qe.downloadTokens;if(0===mt.length)return null;const Qt=encodeURIComponent;return mt.split(",").map(Zn=>{const xn=Z.fullPath;return Nt("/b/"+Qt(Z.bucket)+"/o/"+Qt(xn),Ae,ke)+An({alt:"media",token:Zn})})[0]}(mt,Qe,Z.host,Z._protocol)}}(Z,Ae),Qt);return Sn.errorHandler=Dn(Q),Sn}(Z.storage,Z._location,vt());return Z.storage.makeRequestWithTokens(Q,Ji).then(Ae=>{if(null===Ae)throw function Ot(){return new ee(oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Ae})}function ni(Z,Q){const Ae=function zn(Z,Q){const Ae=Q.split("/").filter(ke=>ke.length>0).join("/");return 0===Z.length?Ae:Z+"/"+Ae}(Z._location.path,Q),ke=new Yt(Z._location.bucket,Ae);return new Zi(Z.storage,ke)}function so(Z,Q){if(Z instanceof Ii){const Ae=Z;if(null==Ae._bucket)throw function qe(){return new ee(oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Oe+"' property when initializing the app?")}();const ke=new Zi(Ae,Ae._bucket);return null!=Q?so(ke,Q):ke}return void 0!==Q?ni(Z,Q):Z}function $s(Z,Q){if(Q&&function Rs(Z){return/^[A-Za-z]+:\/\//.test(Z)}(Q)){if(Z instanceof Ii)return function Bs(Z,Q){return new Zi(Z,Q)}(Z,Q);throw rn("To use ref(service, url), the first argument must be a Storage instance.")}return so(Z,Q)}function Ar(Z,Q){const Ae=Q?.[Oe];return null==Ae?null:Yt.makeFromBucketSpec(Ae,Z)}class Ii{constructor(Q,Ae,ke,Qe,mt){this.app=Q,this._authProvider=Ae,this._appCheckProvider=ke,this._url=Qe,this._firebaseVersion=mt,this._bucket=null,this._host=pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Qe?Yt.makeFromBucketSpec(Qe,this._host):Ar(this._host,this.app.options)}get host(){return this._host}set host(Q){this._host=Q,this._bucket=null!=this._url?Yt.makeFromBucketSpec(this._url,Q):Ar(Q,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Q){Xe("time",0,Number.POSITIVE_INFINITY,Q),this._maxUploadRetryTime=Q}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Q){Xe("time",0,Number.POSITIVE_INFINITY,Q),this._maxOperationRetryTime=Q}_getAuthToken(){var Q=this;return(0,c.A)(function*(){if(Q._overrideAuthToken)return Q._overrideAuthToken;const Ae=Q._authProvider.getImmediate({optional:!0});if(Ae){const ke=yield Ae.getToken();if(null!==ke)return ke.accessToken}return null})()}_getAppCheckToken(){var Q=this;return(0,c.A)(function*(){const Ae=Q._appCheckProvider.getImmediate({optional:!0});return Ae?(yield Ae.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Q=>Q.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Q){return new Zi(this,Q)}_makeRequest(Q,Ae,ke,Qe,mt=!0){if(this._deleted)return new ut(yn());{const Qt=function yr(Z,Q,Ae,ke,Qe,mt,Qt=!0){const Sn=An(Z.urlParams),vn=Z.url+Sn,Zn=Object.assign({},Z.headers);return function Gt(Z,Q){Q&&(Z["X-Firebase-GMPID"]=Q)}(Zn,Q),function $n(Z,Q){null!==Q&&Q.length>0&&(Z.Authorization="Firebase "+Q)}(Zn,Ae),function kn(Z,Q){Z["X-Firebase-Storage-Version"]="webjs/"+(Q??"AppManager")}(Zn,mt),function Lt(Z,Q){null!==Q&&(Z["X-Firebase-AppCheck"]=Q)}(Zn,ke),new Ln(vn,Z.method,Zn,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,Qe,Qt)}(Q,this._appId,ke,Qe,Ae,this._firebaseVersion,mt);return this._requests.add(Qt),Qt.getPromise().then(()=>this._requests.delete(Qt),()=>this._requests.delete(Qt)),Qt}}makeRequestWithTokens(Q,Ae){var ke=this;return(0,c.A)(function*(){const[Qe,mt]=yield Promise.all([ke._getAuthToken(),ke._getAppCheckToken()]);return ke._makeRequest(Q,Ae,Qe,mt).getPromise()})()}}const Os="@firebase/storage",es="storage";function Hs(Z,Q,Ae){return function Oi(Z,Q,Ae){return Z._throwIfRoot("uploadBytesResumable"),new oi(Z,new ti(Q),Ae)}(Z=(0,i.Ku)(Z),Q,Ae)}function ci(Z){return function Xa(Z){Z._throwIfRoot("getMetadata");const Q=gr(Z.storage,Z._location,vt());return Z.storage.makeRequestWithTokens(Q,Ji)}(Z=(0,i.Ku)(Z))}function tn(Z,Q){return function Pi(Z,Q){Z._throwIfRoot("updateMetadata");const Ae=function ws(Z,Q,Ae,ke){const mt=Nt(Q.fullServerUrl(),Z.host,Z._protocol),Sn=Ti(Ae,ke),Zn=Z.maxOperationRetryTime,Dr=new ne(mt,"PATCH",st(Z,ke),Zn);return Dr.headers={"Content-Type":"application/json; charset=utf-8"},Dr.body=Sn,Dr.errorHandler=Dn(Q),Dr}(Z.storage,Z._location,Q,vt());return Z.storage.makeRequestWithTokens(Ae,Ji)}(Z=(0,i.Ku)(Z),Q)}function Bn(Z,Q){return Fa(Z=(0,i.Ku)(Z),Q)}function Wn(Z){return function io(Z){const Q={prefixes:[],items:[]};return So(Z,Q).then(()=>Q)}(Z=(0,i.Ku)(Z))}function Xr(Z){return va(Z=(0,i.Ku)(Z))}function $i(Z){return function js(Z){Z._throwIfRoot("deleteObject");const Q=function vi(Z,Q){const ke=Nt(Q.fullServerUrl(),Z.host,Z._protocol),Sn=new ne(ke,"DELETE",function Qt(vn,Zn){},Z.maxOperationRetryTime);return Sn.successCodes=[200,204],Sn.errorHandler=Dn(Q),Sn}(Z.storage,Z._location);return Z.storage.makeRequestWithTokens(Q,Ji)}(Z=(0,i.Ku)(Z))}function wi(Z,Q){return $s(Z=(0,i.Ku)(Z),Q)}function ns(Z,Q){return ni(Z,Q)}function kr(Z=(0,ue.getApp)(),Q){Z=(0,i.Ku)(Z);const ke=(0,ue._getProvider)(Z,es).getImmediate({identifier:Q}),Qe=(0,i.yU)("storage");return Qe&&rs(ke,...Qe),ke}function rs(Z,Q,Ae,ke={}){!function fi(Z,Q,Ae,ke={}){Z.host=`${Q}:${Ae}`,Z._protocol="http";const{mockUserToken:Qe}=ke;Qe&&(Z._overrideAuthToken="string"==typeof Qe?Qe:(0,i.Fy)(Qe,Z.app.options.projectId))}(Z,Q,Ae,ke)}function ds(Z,{instanceIdentifier:Q}){const Ae=Z.getProvider("app").getImmediate(),ke=Z.getProvider("auth-internal"),Qe=Z.getProvider("app-check-internal");return new Ii(Ae,ke,Qe,Q,ue.SDK_VERSION)}!function Ds(){(0,ue._registerComponent)(new Ie.uA(es,ds,"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Os,"0.13.2",""),(0,ue.registerVersion)(Os,"0.13.2","esm2017")}()},1076:(on,Je,j)=>{j.d(Je,{Am:()=>Gn,Bd:()=>rn,FA:()=>Xe,Fy:()=>it,I9:()=>ln,Im:()=>un,Ku:()=>Et,Ll:()=>xe,T9:()=>Ce,Uj:()=>Se,XA:()=>et,ZQ:()=>St,bD:()=>tr,c1:()=>ur,cY:()=>qe,eX:()=>De,g:()=>rt,gR:()=>Lt,hp:()=>$r,jZ:()=>Ot,lT:()=>ut,lV:()=>jt,mS:()=>Ze,nr:()=>en,p7:()=>yn,sr:()=>Pt,tD:()=>ei,u:()=>ee,yU:()=>Ge,zW:()=>Be,zw:()=>_e});const Ie=function($){const M=[];let k=0;for(let ne=0;ne<$.length;ne++){let fe=$.charCodeAt(ne);fe<128?M[k++]=fe:fe<2048?(M[k++]=fe>>6|192,M[k++]=63&fe|128):55296==(64512&fe)&&ne+1<$.length&&56320==(64512&$.charCodeAt(ne+1))?(fe=65536+((1023&fe)<<10)+(1023&$.charCodeAt(++ne)),M[k++]=fe>>18|240,M[k++]=fe>>12&63|128,M[k++]=fe>>6&63|128,M[k++]=63&fe|128):(M[k++]=fe>>12|224,M[k++]=fe>>6&63|128,M[k++]=63&fe|128)}return M},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,M){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let fe=0;fe<$.length;fe+=3){const st=$[fe],It=fe+1<$.length,an=It?$[fe+1]:0,dn=fe+2<$.length,Dn=dn?$[fe+2]:0;let Vr=(15&an)<<2|Dn>>6,dr=63&Dn;dn||(dr=64,It||(Vr=64)),ne.push(k[st>>2],k[(3&st)<<4|an>>4],k[Vr],k[dr])}return ne.join("")},encodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa($):this.encodeByteArray(Ie($),M)},decodeString($,M){return this.HAS_NATIVE_SUPPORT&&!M?atob($):function($){const M=[];let k=0,ne=0;for(;k<$.length;){const fe=$[k++];if(fe<128)M[ne++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const st=$[k++];M[ne++]=String.fromCharCode((31&fe)<<6|63&st)}else if(fe>239&&fe<365){const dn=((7&fe)<<18|(63&$[k++])<<12|(63&$[k++])<<6|63&$[k++])-65536;M[ne++]=String.fromCharCode(55296+(dn>>10)),M[ne++]=String.fromCharCode(56320+(1023&dn))}else{const st=$[k++],It=$[k++];M[ne++]=String.fromCharCode((15&fe)<<12|(63&st)<<6|63&It)}}return M.join("")}(this.decodeStringToByteArray($,M))},decodeStringToByteArray($,M){this.init_();const k=M?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let fe=0;fe<$.length;){const st=k[$.charAt(fe++)],an=fe<$.length?k[$.charAt(fe)]:0;++fe;const Dn=fe<$.length?k[$.charAt(fe)]:64;++fe;const cn=fe<$.length?k[$.charAt(fe)]:64;if(++fe,null==st||null==an||null==Dn||null==cn)throw new be;ne.push(st<<2|an>>4),64!==Dn&&(ne.push(an<<4&240|Dn>>2),64!==cn&&ne.push(Dn<<6&192|cn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function($){return function($){const M=Ie($);return Oe.encodeByteArray(M,!0)}($).replace(/\./g,"")},ee=function($){try{return Oe.decodeString($,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function _e($,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return M}for(const k in M)!M.hasOwnProperty(k)||!lt(k)||($[k]=_e($[k],M[k]));return $}function lt($){return"__proto__"!==$}function Ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rt=()=>{try{return Ze().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=$&&ee($[1]);return M&&JSON.parse(M)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Ge=$=>{const M=($=>{var M,k;return null===(k=null===(M=Rt())||void 0===M?void 0:M.emulatorHosts)||void 0===k?void 0:k[$]})($);if(!M)return;const k=M.lastIndexOf(":");if(k<=0||k+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const ne=parseInt(M.substring(k+1),10);return"["===M[0]?[M.substring(1,k-1),ne]:[M.substring(0,k),ne]},Ce=()=>{var $;return null===($=Rt())||void 0===$?void 0:$.config},et=$=>{var M;return null===(M=Rt())||void 0===M?void 0:M[`_${$}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,k)=>{this.resolve=M,this.reject=k})}wrapCallback(M){return(k,ne)=>{k?this.reject(k):this.resolve(ne),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(k):M(k,ne))}}}function it($,M){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=M||"demo-project",fe=$.iat||0,st=$.sub||$.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const It=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:fe,exp:fe+3600,auth_time:fe,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(It)),""].join(".")}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function xe(){var $;const M=null===($=Rt())||void 0===$?void 0:$.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rn(){return typeof window<"u"||yn()}function yn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ur(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Pt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const $=St();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function en(){return!xe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise(($,M)=>{try{let k=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(ne);fe.onsuccess=()=>{fe.result.close(),k||self.indexedDB.deleteDatabase(ne),$(!0)},fe.onupgradeneeded=()=>{k=!1},fe.onerror=()=>{var st;M((null===(st=fe.error)||void 0===st?void 0:st.message)||"")}}catch(k){M(k)}})}class rt extends Error{constructor(M,k,ne){super(k),this.code=M,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(M,k,ne){this.service=M,this.serviceName=k,this.errors=ne}create(M,...k){const ne=k[0]||{},fe=`${this.service}/${M}`,st=this.errors[M],It=st?function Nt($,M){return $.replace(An,(k,ne)=>{const fe=M[ne];return null!=fe?String(fe):`<${ne}?>`})}(st,ne):"Error";return new rt(fe,`${this.serviceName}: ${It} (${fe}).`,ne)}}const An=/\{\$([^}]+)}/g;function Lt($,M){return Object.prototype.hasOwnProperty.call($,M)}function un($){for(const M in $)if(Object.prototype.hasOwnProperty.call($,M))return!1;return!0}function tr($,M){if($===M)return!0;const k=Object.keys($),ne=Object.keys(M);for(const fe of k){if(!ne.includes(fe))return!1;const st=$[fe],It=M[fe];if(Bt(st)&&Bt(It)){if(!tr(st,It))return!1}else if(st!==It)return!1}for(const fe of ne)if(!k.includes(fe))return!1;return!0}function Bt($){return null!==$&&"object"==typeof $}function Gn($){const M=[];for(const[k,ne]of Object.entries($))Array.isArray(ne)?ne.forEach(fe=>{M.push(encodeURIComponent(k)+"="+encodeURIComponent(fe))}):M.push(encodeURIComponent(k)+"="+encodeURIComponent(ne));return M.length?"&"+M.join("&"):""}function ln($){const M={};return $.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[fe,st]=ne.split("=");M[decodeURIComponent(fe)]=decodeURIComponent(st)}}),M}function $r($){const M=$.indexOf("?");if(!M)return"";const k=$.indexOf("#",M);return $.substring(M,k>0?k:void 0)}function ei($,M){const k=new Kn($,M);return k.subscribe.bind(k)}class Kn{constructor(M,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{M(this)}).catch(ne=>{this.error(ne)})}next(M){this.forEachObserver(k=>{k.next(M)})}error(M){this.forEachObserver(k=>{k.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,k,ne){let fe;if(void 0===M&&void 0===k&&void 0===ne)throw new Error("Missing Observer.");fe=function _s($,M){if("object"!=typeof $||null===$)return!1;for(const k of M)if(k in $&&"function"==typeof $[k])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:k,complete:ne},void 0===fe.next&&(fe.next=gn),void 0===fe.error&&(fe.error=gn),void 0===fe.complete&&(fe.complete=gn);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),st}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,M)}sendOne(M,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{k(this.observers[M])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gn(){}function Et($){return $&&$._delegate?$._delegate:$}},3739:(on,Je,j)=>{j.d(Je,{W:()=>Oe});var c=j(7705),ue=j(345),i=j(177);function Ie(be,Ue){if(1&be&&c.nrm(0,"img",5),2&be){const Se=c.XpG();c.Y8G("src",Se.imageURL,c.B4B)}}function pe(be,Ue){1&be&&(c.j41(0,"button",6),c.EFF(1,"Schedule A Visit"),c.k0s())}let Oe=(()=>{class be{constructor(Se){this.sanitizer=Se,this.showBtn=!1}set content(Se){this._content=Se,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(Se)}get content(){return this._content}static{this.\u0275fac=function(ee){return new(ee||be)(c.rXU(ue.up))}}static{this.\u0275cmp=c.VBU({type:be,selectors:[["app-center-text"]],inputs:{themeType:"themeType",title:"title",imageURL:"imageURL",showBtn:"showBtn",content:"content"},decls:6,vars:5,consts:[[1,"center-text-section",3,"ngClass"],["alt","Section Image","class","center-text-image",3,"src",4,"ngIf"],[1,"center-text-title"],[1,"center-text-description",3,"innerHTML"],["class","afhBtn",4,"ngIf"],["alt","Section Image",1,"center-text-image",3,"src"],[1,"afhBtn"]],template:function(ee,oe){1&ee&&(c.j41(0,"div",0),c.DNE(1,Ie,1,1,"img",1),c.j41(2,"h2",2),c.EFF(3),c.k0s(),c.nrm(4,"h4",3),c.DNE(5,pe,2,0,"button",4),c.k0s()),2&ee&&(c.Y8G("ngClass",oe.themeType),c.R7$(1),c.Y8G("ngIf",oe.imageURL),c.R7$(2),c.JRh(oe.title),c.R7$(1),c.Y8G("innerHTML",oe.sanitizedContent,c.npT),c.R7$(1),c.Y8G("ngIf",oe.showBtn))},dependencies:[i.YU,i.bT],styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-top:6.6vmax;padding-bottom:6.6vmax}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}.center-text-description[_ngcontent-%COMP%]{padding:0 5rem 5rem}@media (max-width: 768px){.center-text-section[_ngcontent-%COMP%]{padding:1.5rem 1rem}.center-text-title[_ngcontent-%COMP%]{font-size:1.25rem}.center-text-description[_ngcontent-%COMP%]{padding:0 1rem;font-size:.9rem}}"]})}}return be})()},3711:(on,Je,j)=>{j.d(Je,{a:()=>Oe});var c=j(7705),ue=j(4710),i=j(177);function Ie(be,Ue){1&be&&(c.qex(0),c.nrm(1,"div",3),c.bVm())}function pe(be,Ue){1&be&&(c.qex(0),c.nrm(1,"div",4),c.bVm())}let Oe=(()=>{class be{constructor(Se){this.googleMapsLoader=Se,this.address="",this.layoutType="demo"}ngOnInit(){console.log("Google Map Address:",this.address),this.googleMapsLoader.loadScript().then(()=>{this.initializeMap(),this.address&&this.showAddressOnMap(this.address)}).catch(Se=>{console.error("Error loading Google Maps script:",Se)})}ngOnChanges(Se){Se.address&&!Se.address.firstChange&&this.showAddressOnMap(Se.address.currentValue)}initializeMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},zoom:8}),this.geocoder=new google.maps.Geocoder}showAddressOnMap(Se){this.geocoder.geocode({address:Se},(ee,oe)=>{if("OK"===oe){this.map.setCenter(ee[0].geometry.location);const _e=new google.maps.LatLngBounds;_e.extend(ee[0].geometry.location),this.map.fitBounds(_e),this.map.setZoom(this.getZoomLevel(16093.4)),new google.maps.Marker({map:this.map,position:ee[0].geometry.location})}else console.error("Geocode was not successful for the following reason: "+oe)})}getZoomLevel(Se){document.getElementById("map");const _e=40075004/(256*Math.pow(2,this.map.getZoom()));return Math.floor(Math.log2(40075004/(Se*_e)))}static{this.\u0275fac=function(ee){return new(ee||be)(c.rXU(ue.L))}}static{this.\u0275cmp=c.VBU({type:be,selectors:[["app-google-maps"]],inputs:{address:"address",layoutType:"layoutType"},features:[c.OA$],decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","map",2,"width","100%","height","600px"],["id","map",2,"width","100%","height","400px"]],template:function(ee,oe){1&ee&&(c.j41(0,"div",0),c.qex(1),c.DNE(2,Ie,2,0,"ng-container",1),c.DNE(3,pe,2,0,"ng-container",2),c.bVm(),c.k0s()),2&ee&&(c.Y8G("ngSwitch",oe.layoutType),c.R7$(2),c.Y8G("ngSwitchCase","clemo"))},dependencies:[i.ux,i.e1,i.fG]})}}return be})()},491:(on,Je,j)=>{j.d(Je,{G:()=>Oe});var c=j(7705),ue=j(177);function i(be,Ue){if(1&be&&(c.j41(0,"section",2)(1,"div",3)(2,"h2"),c.EFF(3),c.k0s(),c.j41(4,"h4"),c.EFF(5),c.k0s()(),c.j41(6,"div",4),c.nrm(7,"img",5),c.k0s()()),2&be){const Se=c.XpG();c.R7$(3),c.JRh(Se.title),c.R7$(2),c.JRh(Se.content),c.R7$(2),c.FS9("src",Se.imageURL,c.B4B),c.FS9("alt",Se.title)}}function Ie(be,Ue){if(1&be&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&be){const Se=c.XpG(2);c.R7$(1),c.SpI(" ",Se.titleParts.part2,"")}}function pe(be,Ue){if(1&be&&(c.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",3)(4,"h3"),c.EFF(5),c.k0s(),c.j41(6,"h2"),c.DNE(7,Ie,2,1,"span",9),c.k0s(),c.nrm(8,"div",10),c.j41(9,"p"),c.EFF(10),c.k0s(),c.j41(11,"a",11),c.EFF(12,"learn more"),c.k0s()(),c.j41(13,"div",12),c.nrm(14,"img",5),c.k0s()()()()),2&be){const Se=c.XpG();c.R7$(5),c.SpI(" ",Se.titleParts.part1,""),c.R7$(2),c.Y8G("ngIf",Se.titleParts.part2),c.R7$(3),c.JRh(Se.content),c.R7$(4),c.FS9("src",Se.imageURL,c.B4B),c.FS9("alt",Se.title)}}let Oe=(()=>{class be{get titleParts(){if(this.title.includes("|")){const[Se,ee]=this.title.split("|").map(oe=>oe.trim());return{part1:Se,part2:ee}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(ee){return new(ee||be)}}static{this.\u0275cmp=c.VBU({type:be,selectors:[["app-left-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","left-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"left-text-section"],[1,"text-container"],[1,"image-container"],[3,"src","alt"],[1,"content-container"],[1,"content-area"],[1,"row"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"],[1,"left-image-container"]],template:function(ee,oe){1&ee&&(c.DNE(0,i,8,4,"section",0),c.DNE(1,pe,15,5,"section",1)),2&ee&&(c.Y8G("ngIf","clemo"!=oe.themeType),c.R7$(1),c.Y8G("ngIf","clemo"==oe.themeType))},dependencies:[ue.bT],styles:[".left-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.left-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return be})()},4593:(on,Je,j)=>{j.d(Je,{F:()=>Oe});var c=j(7705),ue=j(177);function i(be,Ue){if(1&be&&(c.j41(0,"section",2)(1,"div",3),c.nrm(2,"img",4),c.k0s(),c.j41(3,"div",5)(4,"h2"),c.EFF(5),c.k0s(),c.j41(6,"h4"),c.EFF(7),c.k0s()()()),2&be){const Se=c.XpG();c.R7$(2),c.FS9("src",Se.imageURL,c.B4B),c.FS9("alt",Se.title),c.R7$(3),c.JRh(Se.title),c.R7$(2),c.JRh(Se.content)}}function Ie(be,Ue){if(1&be&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&be){const Se=c.XpG(2);c.R7$(1),c.SpI(" ",Se.titleParts.part2,"")}}function pe(be,Ue){if(1&be&&(c.j41(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9),c.nrm(4,"img",4),c.k0s(),c.j41(5,"div",5)(6,"h3"),c.EFF(7),c.k0s(),c.j41(8,"h2"),c.DNE(9,Ie,2,1,"span",10),c.k0s(),c.nrm(10,"div",11),c.j41(11,"p"),c.EFF(12),c.k0s(),c.j41(13,"a",12),c.EFF(14,"learn more"),c.k0s()()()()()),2&be){const Se=c.XpG();c.R7$(4),c.FS9("src",Se.imageURL,c.B4B),c.FS9("alt",Se.title),c.R7$(3),c.SpI(" ",Se.titleParts.part1,""),c.R7$(2),c.Y8G("ngIf",Se.titleParts.part2),c.R7$(3),c.JRh(Se.content)}}let Oe=(()=>{class be{get titleParts(){if(this.title.includes("|")){const[Se,ee]=this.title.split("|").map(oe=>oe.trim());return{part1:Se,part2:ee}}return{part1:this.title,part2:null}}static{this.\u0275fac=function(ee){return new(ee||be)}}static{this.\u0275cmp=c.VBU({type:be,selectors:[["app-right-text"]],inputs:{title:"title",content:"content",imageURL:"imageURL",themeType:"themeType"},decls:2,vars:2,consts:[["class","right-text-section",4,"ngIf"],["class","content-container",4,"ngIf"],[1,"right-text-section"],[1,"image-container"],[3,"src","alt"],[1,"text-container"],[1,"content-container"],[1,"content-area"],[1,"row"],[1,"left-image-container"],[4,"ngIf"],[1,"separator2"],["href","#",1,"btn"]],template:function(ee,oe){1&ee&&(c.DNE(0,i,8,4,"section",0),c.DNE(1,pe,15,5,"section",1)),2&ee&&(c.Y8G("ngIf","clemo"!=oe.themeType),c.R7$(1),c.Y8G("ngIf","clemo"==oe.themeType))},dependencies:[ue.bT],styles:[".right-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:3rem;padding-left:5rem;padding-right:5rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto;padding-bottom:6.6vmax}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 11)}.image-container[_ngcontent-%COMP%]{width:100%;max-width:500px;aspect-ratio:1 / 1;overflow:hidden;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.right-text-section[_ngcontent-%COMP%]{flex-direction:column;padding:1.5rem 1rem}.text-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{max-width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{margin:1rem 0}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem}.text-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:0 auto}.content-area[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:80px;flex-wrap:wrap;gap:40px}.content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.9}.content-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;padding-top:6.6vmax}.left-image-container[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:80px}.left-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:600px;aspect-ratio:1 / 1;object-fit:cover}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.left-image-container[_ngcontent-%COMP%]{padding:20px}.content-area[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.text-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.btn[_ngcontent-%COMP%]{font-size:1rem;padding:.8rem 1.2rem}}.btn[_ngcontent-%COMP%]{border:solid 1px black;color:#000;padding:.8rem 1.5rem;text-transform:uppercase;display:inline-block;transition:all .3s ease}"]})}}return be})()},3349:(on,Je,j)=>{j.d(Je,{N:()=>ue});var c=j(7705);let ue=(()=>{class i{static{this.\u0275fac=function(Oe){return new(Oe||i)}}static{this.\u0275cmp=c.VBU({type:i,selectors:[["app-section-tile"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"center-text-section"],[1,"center-text-title"]],template:function(Oe,be){1&Oe&&(c.j41(0,"div",0)(1,"h2",1),c.EFF(2),c.k0s()()),2&Oe&&(c.R7$(2),c.JRh(be.title))},styles:[".center-text-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.center-text-title[_ngcontent-%COMP%]{color:var(--text-color)}"]})}}return i})()},2359:(on,Je,j)=>{j.d(Je,{B:()=>xi});var c=j(7705),ue=j(6814),i=j(6861),Ie=j(923),pe=j(177);function Oe(Ne,Mt){if(1&Ne&&(c.j41(0,"div",8)(1,"div")(2,"div",9)(3,"div",10)(4,"p"),c.EFF(5),c.k0s(),c.j41(6,"strong"),c.EFF(7),c.k0s()()()()()),2&Ne){const ge=Mt.$implicit;c.R7$(5),c.SpI('" ',ge.quote,' "'),c.R7$(2),c.JRh(ge.name)}}function be(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Testimonials"),c.k0s()(),c.j41(5,"div",6),c.DNE(6,Oe,8,2,"div",7),c.k0s()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(6),c.Y8G("ngForOf",ge.testimonials)}}function Ue(Ne,Mt){if(1&Ne&&(c.j41(0,"div",21)(1,"div",22)(2,"div",23),c.EFF(3,"\u275d"),c.k0s(),c.j41(4,"p",24),c.EFF(5),c.k0s(),c.j41(6,"h4",25),c.EFF(7),c.k0s()()()),2&Ne){const ge=Mt.$implicit;c.R7$(5),c.JRh(ge.quote),c.R7$(2),c.JRh(ge.name)}}function Se(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"div",11)(2,"section",12)(3,"div",13)(4,"h2",14),c.EFF(5,"Word of mouth"),c.k0s(),c.j41(6,"p",15),c.EFF(7,"You should hear what people have to say about us"),c.k0s()(),c.j41(8,"div",16)(9,"div",17),c.DNE(10,Ue,8,2,"div",18),c.nI1(11,"slice"),c.k0s(),c.j41(12,"div",19)(13,"button",20),c.EFF(14," View All Testimonials "),c.k0s()()()()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(10),c.Y8G("ngForOf",c.brH(11,1,ge.testimonials,0,4))}}function ee(Ne,Mt){if(1&Ne&&(c.j41(0,"div",36)(1,"p",37),c.EFF(2),c.k0s(),c.j41(3,"div",38)(4,"span"),c.EFF(5),c.k0s()()()),2&Ne){const ge=Mt.$implicit,me=Mt.index,we=c.XpG(3);c.AVh("active",we.currentIndex===me)("inactive",we.currentIndex!==me),c.R7$(2),c.SpI("\u201c",ge.quote,"\u201d"),c.R7$(3),c.JRh(ge.name)}}function oe(Ne,Mt){if(1&Ne){const ge=c.RV6();c.j41(0,"button",39),c.bIt("click",function(){const wt=c.eBV(ge).index,qt=c.XpG(3);return c.Njj(qt.setSlide(wt))}),c.k0s()}if(2&Ne){const ge=Mt.index,me=c.XpG(3);c.AVh("active",me.currentIndex===ge)}}function _e(Ne,Mt){if(1&Ne&&(c.j41(0,"div",30)(1,"div",31),c.DNE(2,ee,6,6,"div",32),c.k0s(),c.j41(3,"div",33),c.DNE(4,oe,1,2,"button",34),c.k0s(),c.j41(5,"div",35)(6,"button",20),c.EFF(7," View All Testimonials "),c.k0s()()()),2&Ne){const ge=c.XpG(2);c.R7$(1),c.xc7("transform","translateX(-"+100*ge.currentIndex+"%)"),c.R7$(1),c.Y8G("ngForOf",ge.testimonials),c.R7$(2),c.Y8G("ngForOf",ge.testimonials)}}function lt(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"div",11)(2,"section",26)(3,"div",27)(4,"h2",28),c.EFF(5,"Testimonials"),c.k0s()(),c.DNE(6,_e,8,4,"div",29),c.k0s()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(6),c.Y8G("ngIf",ge.testimonials&&ge.testimonials.length>0)}}function Ze(Ne,Mt){if(1&Ne&&(c.j41(0,"div",47)(1,"div",48),c.nrm(2,"div",49),c.j41(3,"p",50),c.EFF(4),c.k0s()(),c.j41(5,"div",51)(6,"p",52),c.EFF(7),c.k0s()()()),2&Ne){const ge=Mt.$implicit;c.R7$(4),c.JRh(ge.quote),c.R7$(3),c.JRh(ge.name)}}function Dt(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"section",40)(2,"div",41)(3,"h2",42),c.EFF(4,"Word of Mouth"),c.k0s(),c.j41(5,"p",43),c.EFF(6,"You should hear what people have to say about us"),c.k0s()(),c.j41(7,"div",44)(8,"div",45),c.DNE(9,Ze,8,2,"div",46),c.k0s()()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(9),c.Y8G("ngForOf",ge.testimonials)}}let At=(()=>{class Ne{constructor(){this.layoutType="demo",this.currentIndex=0}ngOnInit(){this.startAutoAdvance()}ngOnDestroy(){this.stopAutoAdvance()}setSlide(ge){this.currentIndex=ge,this.restartAutoAdvance()}startAutoAdvance(){this.autoAdvanceInterval=setInterval(()=>{Array.isArray(this.testimonials)&&(this.currentIndex=(this.currentIndex+1)%this.testimonials.length)},5e3)}stopAutoAdvance(){this.autoAdvanceInterval&&clearInterval(this.autoAdvanceInterval)}restartAutoAdvance(){this.stopAutoAdvance(),this.startAutoAdvance()}static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-testimonials"]],inputs:{testimonials:"testimonials",layoutType:"layoutType"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"testimonial-comp"],[1,"testimonial-section-heading"],[1,"testimonial-section-title","main"],[1,"testimonial"],["class","testimonial-container",4,"ngFor","ngForOf"],[1,"testimonial-container"],[1,"testimonial-content","garamond"],[1,""],[1,"content-wrapper"],[1,"ae-testimonial-comp"],[1,"ae-testimonial-heading"],[1,"ae-testimonial-section-heading"],[1,"ae-testimonial-subheading"],[1,"ae-testimonial-container"],[1,"ae-testimonial-grid"],["class","ae-testimonial-card",4,"ngFor","ngForOf"],[1,"ae-testimonials-button"],["routerLink","/testimonials",1,"view-all-testimonials"],[1,"ae-testimonial-card"],[1,"ae-testimonial-content"],[1,"ae-testimonial-quote-icon"],[1,"ae-testimonial-quote"],[1,"ae-testimonial-author"],[1,"ehc-testimonial-comp"],[1,"ehc-testimonial-heading"],[1,"ehc-testimonial-section-heading"],["class","ehc-testimonial-carousel",4,"ngIf"],[1,"ehc-testimonial-carousel"],[1,"ehc-carousel-container"],["class","ehc-testimonial-card",3,"active","inactive",4,"ngFor","ngForOf"],[1,"ehc-carousel-indicators"],["class","ehc-indicator",3,"active","click",4,"ngFor","ngForOf"],[1,"ehc-testimonials-button"],[1,"ehc-testimonial-card"],[1,"ehc-testimonial-quote"],[1,"ehc-testimonial-author"],[1,"ehc-indicator",3,"click"],[1,"demo-testimonial-comp"],[1,"demo-testimonial-heading"],[1,"demo-testimonial-section-heading"],[1,"demo-testimonial-subheading"],[1,"demo-testimonial-container"],[1,"demo-testimonial-grid"],["class","demo-testimonial-card",4,"ngFor","ngForOf"],[1,"demo-testimonial-card"],[1,"demo-testimonial-background"],[1,"demo-quote-symbol"],[1,"demo-testimonial-quote"],[1,"demo-testimonial-author-details"],[1,"demo-testimonial-author"]],template:function(me,we){1&me&&(c.j41(0,"div",0),c.DNE(1,be,7,1,"ng-container",1),c.DNE(2,Se,15,5,"ng-container",1),c.DNE(3,lt,7,1,"ng-container",1),c.DNE(4,Dt,10,1,"ng-container",2),c.k0s()),2&me&&(c.Y8G("ngSwitch",we.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"),c.R7$(1),c.Y8G("ngSwitchCase","ehc"))},dependencies:[pe.Sq,pe.bT,pe.ux,pe.e1,pe.fG,ue.Wk,pe.P9],styles:['.testimonial-comp[_ngcontent-%COMP%]{padding:50px 0}.testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:50px;background-color:var(--background-color);gap:50px;max-width:1200px;margin:0 auto}.testimonial-heading[_ngcontent-%COMP%]{width:100%;text-align:center}.testimonial-section-heading[_ngcontent-%COMP%]{text-align:center}.testimonial-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.testimonial-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.testimonial-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.testimonial-image[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:25%}.testimonial-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:1200px;gap:30px;align-items:center;padding:20px;background-color:var(--primary-color);border-radius:10px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.testimonial-container[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:20px;gap:20px}.testimonial-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.testimonial-content[_ngcontent-%COMP%]{width:100%}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.testimonial[_ngcontent-%COMP%]{flex-direction:column;padding:10px;gap:10px}.testimonial-container[_ngcontent-%COMP%]{padding:10px;flex-direction:column;gap:15px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1rem}}.ae-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:var(--background-color)}.ae-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ae-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333}.ae-testimonial-subheading[_ngcontent-%COMP%]{font-size:1.2rem;color:#666}.ae-testimonial-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.ae-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;align-items:start}.ae-testimonial-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 4px 6px #0000001a;text-align:left;min-height:450px}.ae-testimonial-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ae-testimonial-quote-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--dark-background-color);margin-bottom:10px}.ae-testimonial-quote[_ngcontent-%COMP%]{font-size:1rem;font-style:italic;color:var(--text-color);margin:10px 0;height:250px}.ae-testimonial-author[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--dark-background-color);margin-top:10px;height:50px}.ae-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box;opacity:.2;transform:scale(.95);transition:opacity .5s ease,transform .5s ease}.ehc-testimonial-card.active[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.ehc-testimonial-card.inactive[_ngcontent-%COMP%]{opacity:.2}.ehc-testimonial-comp[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;background-color:#fff;width:100%;max-width:100vw;overflow:hidden}.ehc-testimonial-heading[_ngcontent-%COMP%]{margin-bottom:20px}.ehc-testimonial-section-heading[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.ehc-testimonial-carousel[_ngcontent-%COMP%]{position:relative;max-width:800px;margin:0 auto}.ehc-carousel-container[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.ehc-testimonial-card[_ngcontent-%COMP%]{min-width:100%;padding:20px;box-sizing:border-box}.ehc-testimonial-quote[_ngcontent-%COMP%]{font-size:1.2rem;font-style:italic;color:#555;margin:20px 0;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3}.ehc-testimonial-author[_ngcontent-%COMP%]{margin-top:10px;font-size:1rem;font-weight:700;color:#333}.ehc-carousel-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.ehc-indicator[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;background-color:#d3d3d3;border:none;border-radius:10px;cursor:pointer;transition:background-color .3s ease}.ehc-indicator.active[_ngcontent-%COMP%]{background-color:var(--dark-background-color)}.ehc-testimonials-button[_ngcontent-%COMP%]{padding-top:3rem}.demo-testimonial-comp[_ngcontent-%COMP%]{padding:60px 20px;background-color:var(--background-color)}.demo-testimonial-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.demo-testimonial-section-heading[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin:0}.demo-testimonial-subheading[_ngcontent-%COMP%]{font-size:1rem;color:#666}.demo-testimonial-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.demo-testimonial-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:20px;max-width:1200px;width:100%}.demo-testimonial-card[_ngcontent-%COMP%]{position:relative;width:500px;height:500px;background-color:var(--background-color);overflow:hidden;padding:20px;text-align:center;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff}.demo-testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(quote.75ce3635f7fecd0d.png);background-size:cover;background-position:center;opacity:.7;z-index:1}.demo-testimonial-quote[_ngcontent-%COMP%]{position:absolute;font-size:1rem;font-style:italic;max-width:55%;text-align:center;z-index:2;color:#333;top:25px;left:160px;color:var(--primary-color)}.demo-testimonial-author-details[_ngcontent-%COMP%]{position:relative;margin-top:20px;z-index:2}.demo-testimonial-author[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin:0;position:absolute;top:50px;left:-160px}.demo-testimonial-title[_ngcontent-%COMP%]{font-size:.9rem;color:#555}']})}}return Ne})();function Ut(Ne,Mt){if(1&Ne&&(c.j41(0,"div",9),c.nrm(1,"i",10),c.j41(2,"h3",11),c.EFF(3),c.k0s(),c.j41(4,"div",12)(5,"p"),c.EFF(6),c.k0s()()()),2&Ne){const ge=Mt.$implicit;c.R7$(1),c.Y8G("ngClass",ge.icon),c.R7$(2),c.JRh(ge.title),c.R7$(3),c.JRh(ge.description)}}function Rt(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our "),c.k0s(),c.j41(5,"span",5),c.EFF(6,"Services"),c.k0s()(),c.j41(7,"h3",6),c.EFF(8,"Home Care From Trained Professionals"),c.k0s(),c.j41(9,"div",7),c.DNE(10,Ut,7,3,"div",8),c.k0s()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(10),c.Y8G("ngForOf",ge.services)}}function pn(Ne,Mt){if(1&Ne&&(c.j41(0,"div",31)(1,"p"),c.EFF(2),c.k0s()()),2&Ne){const ge=c.XpG().$implicit;c.R7$(2),c.JRh(ge.description)}}function Ge(Ne,Mt){if(1&Ne){const ge=c.RV6();c.j41(0,"div",26),c.bIt("click",function(){const wt=c.eBV(ge).index,qt=c.XpG(2);return c.Njj(qt.toggleService(wt))}),c.j41(1,"div",27)(2,"span",28),c.EFF(3),c.k0s(),c.j41(4,"span",29),c.EFF(5),c.k0s()(),c.DNE(6,pn,3,1,"div",30),c.k0s()}if(2&Ne){const ge=Mt.$implicit,me=Mt.index,we=c.XpG(2);c.R7$(3),c.JRh(ge.title),c.R7$(2),c.JRh(we.expandedServiceIndex===me?"-":"+"),c.R7$(1),c.Y8G("ngIf",we.expandedServiceIndex===me)}}function Ce(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"section",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"span",17),c.EFF(6,"Our "),c.k0s(),c.j41(7,"span",18),c.EFF(8,"Services"),c.k0s()(),c.j41(9,"div",19),c.DNE(10,Ge,7,3,"div",20),c.k0s()(),c.j41(11,"div",21)(12,"div",22),c.nrm(13,"img",23),c.k0s(),c.j41(14,"div",24),c.nrm(15,"img",25),c.k0s()()()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(10),c.Y8G("ngForOf",ge.services)}}let et=(()=>{class Ne{constructor(){this.layoutType="demo",this.expandedServiceIndex=null}toggleService(ge){this.expandedServiceIndex=this.expandedServiceIndex===ge?null:ge}static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-our-services-home"]],inputs:{services:"services",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"our-services-section"],[1,"our-services-section-heading"],[1,"our-services-title","main"],[1,"our-services-title","highlight"],[1,"our-services-description"],[1,"our-services-container"],["class","our-services-item",4,"ngFor","ngForOf"],[1,"our-services-item"],[1,"our-services-item-icon",3,"ngClass"],[1,"our-services-item-title"],[1,"our-services-item-description"],[1,"ae-modern-services-section"],[1,"ae-our-services-container"],[1,"ae-services-content"],[1,"ae-our-services-section-heading"],[1,"ae-our-services-title","main"],[1,"ae-our-services-title","highlight"],[1,"ae-services-list"],[3,"click",4,"ngFor","ngForOf"],[1,"ae-services-images"],[1,"ae-image-placeholder","ae-image-large"],["src","../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg","alt","Welcome Image"],[1,"ae-image-placeholder","ae-image-small"],["src","../../../assets/sharedAssets/istockphoto-1097353864-2048x2048.jpg","alt","Welcome Image"],[3,"click"],[1,"ae-service-item"],[1,"ae-service-title"],[1,"ae-service-expand"],["class","ae-service-description",4,"ngIf"],[1,"ae-service-description"]],template:function(me,we){1&me&&(c.j41(0,"div",0),c.DNE(1,Rt,11,1,"ng-container",1),c.DNE(2,Ce,16,1,"ng-container",1),c.k0s()),2&me&&(c.Y8G("ngSwitch",we.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[pe.YU,pe.Sq,pe.bT,pe.ux,pe.e1],styles:[".our-services-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.our-services-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.our-services-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;justify-items:center;align-items:center;width:100%;margin:0 auto}.our-services-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;width:100%;max-width:400px;padding:20px;color:var(--primary-color);border-radius:10px}.our-services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px;text-align:center}.our-services-item-title[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.our-services-container[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}.our-services-item[_ngcontent-%COMP%]{margin-bottom:20px}.our-services-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1em}.our-services-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.our-services-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}}.ae-modern-services-section[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center;background-color:var(--dark-background-color);padding:10rem 0}.ae-our-services-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;display:flex;align-items:flex-start;justify-content:space-between;padding:50px;background-color:var(--dark-background-color);gap:20px}.ae-services-content[_ngcontent-%COMP%]{flex:1;max-width:50%}.ae-services-heading[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:var(--primary-color);margin-bottom:20px}.ae-our-services-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-our-services-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.ae-our-services-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.ae-service-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;font-size:1.2rem;color:var(--background-color);border-bottom:1px solid var(--primary-color);cursor:pointer}.ae-service-description[_ngcontent-%COMP%]{padding:15px;font-size:1rem;color:var(--background-color);background-color:var(--dark-background-color);border-left:3px solid var(--accent-color);margin:10px 0;transition:max-height .3s ease-in-out}.ae-service-title[_ngcontent-%COMP%]{font-weight:500;font-style:3rem}.ae-service-expand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.ae-services-images[_ngcontent-%COMP%]{flex:1;position:relative;max-width:50%;display:flex;align-items:center;justify-content:center}.ae-image-large[_ngcontent-%COMP%]{width:90%;height:550px;position:relative;z-index:1;overflow:hidden;padding-bottom:20%}.ae-image-small[_ngcontent-%COMP%]{width:60%;height:350px;position:absolute;top:70%;left:70%;transform:translate(-50%,-50%);z-index:2;overflow:hidden;padding-left:10%}.ae-image-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:15px}"]})}}return Ne})();var qe=j(3739);function it(Ne,Mt){if(1&Ne){const ge=c.RV6();c.qex(0),c.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3"),c.EFF(5,"We Are "),c.j41(6,"span",6),c.EFF(7),c.k0s()(),c.j41(8,"h1"),c.EFF(9),c.k0s(),c.j41(10,"p"),c.EFF(11),c.k0s(),c.j41(12,"div",7)(13,"button",8),c.bIt("click",function(){c.eBV(ge);const we=c.XpG();return c.Njj(we.navigateToContact())}),c.EFF(14,"Contact Us"),c.k0s()()()()(),c.bVm()}if(2&Ne){const ge=c.XpG();c.R7$(7),c.JRh(null==ge.business?null:ge.business.businessName),c.R7$(2),c.JRh(null==ge.business?null:ge.business.welcomeMessage),c.R7$(2),c.JRh(null==ge.business?null:ge.business.keyServicesHighlights)}}function St(Ne,Mt){if(1&Ne&&(c.qex(0),c.nrm(1,"app-center-text",9),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(1),c.Y8G("title","Discover Us")("content",(null==ge.business?null:ge.business.businessStory)||"")}}function Ot(Ne,Mt){1&Ne&&c.eu8(0)}function xe(Ne,Mt){if(1&Ne&&(c.qex(0),c.nrm(1,"app-center-text",9),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(1),c.Y8G("title","Who We Are")("content",(null==ge.business?null:ge.business.businessStory)||"")}}let rn=(()=>{class Ne{constructor(ge,me){this.router=ge,this.businessDataService=me,this.layoutType="demo",this.businessId="",this.business=null}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.businessData$.subscribe(ge=>{ge&&(console.log("HomeComponent - Using cached business data:",ge),this.business=ge)})}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}static{this.\u0275fac=function(me){return new(me||Ne)(c.rXU(ue.Ix),c.rXU(Ie.A))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-welcome"]],inputs:{layoutType:"layoutType",businessId:"businessId"},decls:5,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"welcome-info-container"],[1,"welcome-overlay"],[1,"welcome-content","garamond"],[1,"brand-name"],[1,"buttons"],["type","button",1,"afhBtn",3,"click"],[3,"title","content"]],template:function(me,we){1&me&&(c.j41(0,"div",0),c.DNE(1,it,15,3,"ng-container",1),c.DNE(2,St,2,2,"ng-container",1),c.DNE(3,Ot,1,0,"ng-container",1),c.DNE(4,xe,2,2,"ng-container",2),c.k0s()),2&me&&(c.Y8G("ngSwitch",we.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ehc"),c.R7$(1),c.Y8G("ngSwitchCase","clemo"))},dependencies:[pe.ux,pe.e1,pe.fG,qe.W],styles:['.welcome-info-container[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--background-color);color:var(--text-color);display:flex;align-items:center;justify-content:center;padding:20px;min-height:600px}.welcome-overlay[_ngcontent-%COMP%]{position:absolute;inset:0}.welcome-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.brand-name[_ngcontent-%COMP%]{color:var(--button-color)}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;line-height:1.2}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem}.buttons[_ngcontent-%COMP%]{margin-top:30px;padding:20px}.contact-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--button-color);color:var(--button-text-color);font-size:1.4rem}@media (max-width: 768px){.welcome-info-container[_ngcontent-%COMP%]{min-height:500px;padding:20px}.welcome-content[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;padding:20px}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:1.3}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-top:15px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.contact-btn[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6rem}p[_ngcontent-%COMP%]{font-size:.9rem}.buttons[_ngcontent-%COMP%]{margin-top:15px}.contact-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 14px}}.ae-welcome-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.ae-welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.ae-text-content[_ngcontent-%COMP%], .ae-image-content[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.ae-image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px}.ae-brand-name[_ngcontent-%COMP%]{font-style:italic;color:var(--button-color)}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}}return Ne})();function yn(Ne,Mt){if(1&Ne){const ge=c.RV6();c.qex(0),c.j41(1,"div",2)(2,"div",3)(3,"span",4),c.EFF(4,"Book a "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Consultation"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," We would love to meet you! Contact us to schedule a tour. "),c.k0s(),c.j41(9,"button",7),c.bIt("click",function(){c.eBV(ge);const we=c.XpG();return c.Njj(we.navigateToContact(we.id))}),c.EFF(10,"Book Consultation"),c.k0s()(),c.bVm()}}function ur(Ne,Mt){if(1&Ne){const ge=c.RV6();c.qex(0),c.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"span",12),c.EFF(6,"Ready to experience "),c.k0s(),c.j41(7,"span",13),c.EFF(8),c.k0s()(),c.j41(9,"p"),c.EFF(10,"Discover what makes our services unique and tailored to your needs."),c.k0s(),c.j41(11,"div",14)(12,"button",15),c.bIt("click",function(){c.eBV(ge);const we=c.XpG();return c.Njj(we.navigateToContact(we.id))}),c.EFF(13,"Schedule a Visit"),c.k0s()()()()(),c.bVm()}if(2&Ne){const ge=c.XpG();c.R7$(8),c.SpI("",ge.businessName,"?")}}let Pt=(()=>{class Ne{constructor(ge){this.router=ge,this.id=null,this.layoutType="demo"}navigateToContact(ge){this.router.navigate(["/contact-us"],{queryParams:{id:ge}})}static{this.\u0275fac=function(me){return new(me||Ne)(c.rXU(ue.Ix))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-consultation"]],inputs:{id:"id",layoutType:"layoutType",businessName:"businessName"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"section-container"],[1,"section-heading"],[1,"section-title-main"],[1,"section-title-highlight"],[1,"section-description"],["type","button",1,"afhBtn",3,"click"],[1,"ae-section-container"],[1,"cta-container"],[1,"cta-content"],[1,"our-services-section-heading"],[1,"consultation-title","main"],[1,"consultation-title","highlight"],[1,"cta-buttons"],[1,"afhBtn",3,"click"]],template:function(me,we){1&me&&(c.j41(0,"div",0),c.DNE(1,yn,11,0,"ng-container",1),c.DNE(2,ur,14,1,"ng-container",1),c.k0s()),2&me&&(c.Y8G("ngSwitch",we.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[pe.ux,pe.e1],styles:[".section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);color:var(--primary-color)}.section-heading[_ngcontent-%COMP%]{text-align:center}.section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px;color:var(--primary-color)}.section-title-main[_ngcontent-%COMP%]{color:var(--primary-color)}.section-title-highlight[_ngcontent-%COMP%]{color:var(--button-color)}.section-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.section-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:var(--primary-color)}.btn-book-consultation[_ngcontent-%COMP%]{padding:20px;background-color:var(--button-color);font-size:1.4rem;border:none;color:var(--button-text-color);border-radius:5px;cursor:pointer}.btn-book-consultation[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color);color:var(--button-text-color)}@media (max-width: 768px){.consultation-container[_ngcontent-%COMP%]{padding:20px;min-height:400px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:15px;font-size:1.2rem}}@media (max-width: 480px){.consultation-container[_ngcontent-%COMP%]{min-height:350px;padding:10px}.consultation-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.consultation-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.section-description[_ngcontent-%COMP%]{padding:20px}.btn-book-consultation[_ngcontent-%COMP%]{padding:10px;font-size:1rem}}.ae-section-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 0;min-height:600px;background-color:var(--dark-background-color);width:100%}.cta-container[_ngcontent-%COMP%]{background-color:var(--dark-background-color);color:#fff;padding:40px;display:flex;align-items:center;justify-content:center;text-align:center}.cta-content[_ngcontent-%COMP%]{max-width:600px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;margin-bottom:10px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px;color:var(--primary-color)}.cta-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center}.cta-button[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;border-radius:10px;cursor:pointer;transition:all .3s ease}.consultation-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.consultation-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.consultation-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}"]})}}return Ne})();var jt=j(8704);function Yt(Ne,Mt){if(1&Ne&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&Ne){const ge=Mt.$implicit;c.R7$(1),c.Y8G("innerHTML",ge.name,c.npT),c.R7$(1),c.Y8G("innerHTML",ge.description,c.npT)}}function ut(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"section",2)(2,"div",3)(3,"span",4),c.EFF(4,"Our Unique "),c.k0s(),c.j41(5,"span",5),c.EFF(6," Features"),c.k0s()(),c.j41(7,"p",6),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,Yt,3,2,"div",9),c.k0s()()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(11),c.Y8G("ngForOf",ge.uniqueService)}}function Le(Ne,Mt){1&Ne&&c.eu8(0)}let tt=(()=>{class Ne{constructor(ge,me){this.webContent=ge,this.route=me,this.layoutType="demo"}static{this.\u0275fac=function(me){return new(me||Ne)(c.rXU(jt.N),c.rXU(ue.nX))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-features"]],inputs:{uniqueService:"uniqueService",layoutType:"layoutType"},decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"features-section"],[1,"features-section-heading"],[1,"features-section-title","main"],[1,"features-section-title","highlight"],[1,"features-section-description"],[1,"features-container"],[1,"feature-list"],["class","feature-item",4,"ngFor","ngForOf"],[1,"feature-item"],[1,"feature-list-item-title",3,"innerHTML"],[1,"feature-list-item-description",3,"innerHTML"]],template:function(me,we){1&me&&(c.j41(0,"div",0),c.DNE(1,ut,12,1,"ng-container",1),c.DNE(2,Le,1,0,"ng-container",1),c.k0s()),2&me&&(c.Y8G("ngSwitch",we.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[pe.Sq,pe.ux,pe.e1],styles:[".features-section[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px 0;text-align:center;position:relative;width:100%}.features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.features-section-title.main[_ngcontent-%COMP%]{color:var(--primary-color)}.features-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.features-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.features-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.feature-item[_ngcontent-%COMP%]{text-align:center;color:var(--primary-color)}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.features-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;max-width:1200px;border-radius:12px}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.features-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.feature-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.feature-item[_ngcontent-%COMP%]{background:var(--primary-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.feature-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--dark-background-color)}.feature-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color)}.feature-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.feature-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.feature-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.features-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.feature-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.features-section[_ngcontent-%COMP%]{min-width:100%}}.ae-features-section[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.ae-features-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.ae-features-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.ae-features-section-title.highlight[_ngcontent-%COMP%]{color:var(--accent-color)}.ae-features-section-description[_ngcontent-%COMP%]{font-size:1.2em;color:var(--dark-background-color);margin-bottom:2em}.ae-features-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:400px;overflow:hidden;border-radius:15px;margin:0 auto}.ae-features-background[_ngcontent-%COMP%]{background-image:url(9676303919_32372bf834_o.26e737c4d7f957b6.jpg);background-size:cover;background-position:center;width:100%;height:100%}.ae-features-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center}.ae-features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1em;width:90%}.ae-feature-item[_ngcontent-%COMP%]{background-color:#fffc;padding:1em;border-radius:10px;text-align:left;color:var(--text-color)}.ae-feature-item-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5em;text-align:center;font-weight:700}.ae-feature-item-description[_ngcontent-%COMP%]{font-size:1rem}"]})}}return Ne})();function en(Ne,Mt){if(1&Ne&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&Ne){const ge=Mt.$implicit;c.R7$(1),c.Y8G("innerHTML",ge.name,c.npT),c.R7$(1),c.Y8G("innerHTML",ge.description,c.npT)}}function Be(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6," US "),c.k0s()(),c.j41(7,"div",7)(8,"div",8),c.DNE(9,en,3,2,"div",9),c.k0s()()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(9),c.Y8G("ngForOf",ge.whyChooseUs)}}function De(Ne,Mt){1&Ne&&c.eu8(0)}function Ee(Ne,Mt){if(1&Ne&&(c.j41(0,"div",10),c.nrm(1,"div",11)(2,"div",12),c.k0s()),2&Ne){const ge=Mt.$implicit;c.R7$(1),c.Y8G("innerHTML",ge.name,c.npT),c.R7$(1),c.Y8G("innerHTML",ge.description,c.npT)}}function Ve(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"section",3)(2,"div",4)(3,"span",5),c.EFF(4,"Why Choose "),c.k0s(),c.j41(5,"span",6),c.EFF(6),c.k0s()(),c.j41(7,"p",13),c.EFF(8," What sets us appart. "),c.k0s(),c.j41(9,"div",7)(10,"div",8),c.DNE(11,Ee,3,2,"div",9),c.k0s()()(),c.bVm()),2&Ne){const ge=c.XpG();c.R7$(6),c.SpI(" ",ge.businessName,""),c.R7$(5),c.Y8G("ngForOf",ge.whyChooseUs)}}let rt=(()=>{class Ne{constructor(ge,me){this.webContent=ge,this.route=me,this.layoutType="demo"}static{this.\u0275fac=function(me){return new(me||Ne)(c.rXU(jt.N),c.rXU(ue.nX))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-why-us"]],inputs:{whyChooseUs:"whyChooseUs",layoutType:"layoutType",businessName:"businessName"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"whychoose-section"],[1,"whychoose-section-heading"],[1,"whychoose-section-title","main"],[1,"whychoose-section-title","highlight"],[1,"whychoose-container"],[1,"whychoose-list"],["class","whychoose-item",4,"ngFor","ngForOf"],[1,"whychoose-item"],[1,"whychoose-list-item-title",3,"innerHTML"],[1,"whychoose-list-item-description",3,"innerHTML"],[1,"whychoose-section-description"]],template:function(me,we){1&me&&(c.j41(0,"div",0),c.DNE(1,Be,10,1,"ng-container",1),c.DNE(2,De,1,0,"ng-container",1),c.DNE(3,Ve,12,2,"ng-container",2),c.k0s()),2&me&&(c.Y8G("ngSwitch",we.layoutType),c.R7$(1),c.Y8G("ngSwitchCase","hh"),c.R7$(1),c.Y8G("ngSwitchCase","ae"))},dependencies:[pe.Sq,pe.ux,pe.e1,pe.fG],styles:[".whychoose-section[_ngcontent-%COMP%]{background-color:var(--background-color);padding:50px 0;text-align:center;position:relative;width:100%}.whychoose-section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:15px}.whychoose-section-title.main[_ngcontent-%COMP%]{color:var(--text-color)}.whychoose-section-title.highlight[_ngcontent-%COMP%]{color:var(--button-color)}.whychoose-section-description[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:40px}.whychoose-section-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}.whychoose-item[_ngcontent-%COMP%]{text-align:center;background-color:var(--dark-background-color);color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color);margin-bottom:10px}.whychoose-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--primary-color);font-size:16px}.whychoose-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px;margin:50px auto;border-radius:12px;max-width:1200px}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;border-radius:12px;padding:50px 20px;text-align:center;box-sizing:border-box;margin-bottom:20px}.whychoose-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:#333}.whychoose-list[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.whychoose-item[_ngcontent-%COMP%]{background:var(--dark-background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;padding:20px;flex:1 1 100%;box-sizing:border-box;transition:transform .3s;max-width:100%}.whychoose-list-item-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:var(--button-color)}.whychoose-list-item-description[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--primary-color)}.whychoose-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.whychoose-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--text-color);margin:0}@media (min-width: 1024px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);max-width:calc(33.333% - 20px)}}@media (max-width: 768px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}.whychoose-section[_ngcontent-%COMP%]{flex:1 1 100%;min-width:100%;margin-bottom:20px}}@media (max-width: 480px){.whychoose-item[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.whychoose-section[_ngcontent-%COMP%]{min-width:100%}}"]})}}return Ne})();var Xe=j(4593),Nt=j(491);function An(Ne,Mt){if(1&Ne&&(c.j41(0,"div",7),c.nrm(1,"i",8),c.j41(2,"h3",9),c.EFF(3),c.k0s()()),2&Ne){const ge=Mt.$implicit;c.R7$(1),c.HbH(ge.icon),c.R7$(2),c.JRh(ge.title)}}let sr=(()=>{class Ne{constructor(){this.services=[]}static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-icon-list"]],inputs:{services:"services"},decls:9,vars:1,consts:[[1,"parallax-container"],[1,"content"],[1,"services-container"],[1,"services-title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],["routerLink","/services",1,"afhBtn"],[1,"service-item"],["aria-hidden","true"],[1,"service-title"]],template:function(me,we){1&me&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c.EFF(4,"Our Services"),c.k0s(),c.j41(5,"div",4),c.DNE(6,An,4,3,"div",5),c.k0s(),c.j41(7,"button",6),c.EFF(8,"Learn More"),c.k0s()()()()),2&me&&(c.R7$(6),c.Y8G("ngForOf",we.services))},dependencies:[pe.Sq,ue.Wk],styles:['.services-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#333;padding-top:6.6vmax;padding-bottom:6.6vmax}.services-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10rem;padding:3rem 0}.service-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:1.5rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem}.service-title[_ngcontent-%COMP%]{margin-top:.5rem;font-size:1.25rem}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{gap:1.5rem}.service-item[_ngcontent-%COMP%]{max-width:100%;font-size:1.25rem}.service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.service-title[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.services-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.services-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}}.parallax-container[_ngcontent-%COMP%]{background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffff80;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Ne})(),sn=(()=>{class Ne{static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-parallax-text"]],decls:6,vars:0,consts:[[1,"parallax-container"],[1,"content"]],template:function(me,we){1&me&&(c.j41(0,"div",0)(1,"div",1)(2,"h1"),c.EFF(3,"Our Motto"),c.k0s(),c.j41(4,"h4"),c.EFF(5,' "Compassion in our hearts, excellent care in our hands. Serving and making a difference in our seniors\' lives is our true passion." '),c.k0s()()())},styles:['.parallax-container[_ngcontent-%COMP%]{height:400px;background-image:url(istockphoto-1319783351-2048x2048.ec18763b5e215bc4.jpg);background-attachment:fixed;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#000;position:relative;padding:20px}.parallax-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff9;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.5;font-style:italic}']})}}return Ne})(),Ln=(()=>{class Ne{constructor(){this.backgroundImage="",this.yearsOfExperience=0,this.happyFamilies=0,this.servicesOffered=0,this.trainedStaff=0}static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-parallax-stats"]],inputs:{backgroundImage:"backgroundImage",yearsOfExperience:"yearsOfExperience",happyFamilies:"happyFamilies",servicesOffered:"servicesOffered",trainedStaff:"trainedStaff"},decls:22,vars:6,consts:[[1,"parallax-container"],[1,"stats-overlay"],[1,"stat"],[1,"number"],[1,"label"]],template:function(me,we){1&me&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),c.EFF(4),c.k0s(),c.j41(5,"span",4),c.EFF(6,"Years of Experience"),c.k0s()(),c.j41(7,"div",2)(8,"span",3),c.EFF(9),c.k0s(),c.j41(10,"span",4),c.EFF(11,"Happy Families"),c.k0s()(),c.j41(12,"div",2)(13,"span",3),c.EFF(14),c.k0s(),c.j41(15,"span",4),c.EFF(16,"Services Offered"),c.k0s()(),c.j41(17,"div",2)(18,"span",3),c.EFF(19),c.k0s(),c.j41(20,"span",4),c.EFF(21,"Trained Staff"),c.k0s()()()()),2&me&&(c.xc7("background-image","url("+we.backgroundImage+")"),c.R7$(4),c.JRh(we.yearsOfExperience),c.R7$(5),c.JRh(we.happyFamilies),c.R7$(5),c.JRh(we.servicesOffered),c.R7$(5),c.JRh(we.trainedStaff))},styles:[".parallax-container[_ngcontent-%COMP%]{width:100vw;background-size:cover;background-attachment:fixed;background-position:center;display:flex;justify-content:center;align-items:center;position:relative;color:#fff;box-sizing:border-box}.stats-overlay[_ngcontent-%COMP%]{display:flex;gap:150px;text-align:center;background:rgba(0,0,0,.5);padding:150px;width:100vw;height:100%;height:auto;justify-content:center;flex-wrap:wrap}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:10px}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:5.5rem}@media (max-width: 768px){.parallax-container[_ngcontent-%COMP%]{height:auto;background-attachment:scroll}.stats-overlay[_ngcontent-%COMP%]{gap:20px;padding:15px;flex-direction:column;align-items:center;width:100%}.stat[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:3rem}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return Ne})();const Xt=function(Ne,Mt){return{"clemo-btn":Ne,"clemo-btn-outline":Mt}};function $n(Ne,Mt){if(1&Ne&&(c.qex(0),c.j41(1,"a",17),c.EFF(2),c.k0s(),c.bVm()),2&Ne){const ge=Mt.$implicit;c.R7$(1),c.Y8G("routerLink",ge.link)("ngClass",c.l_i(3,Xt,!ge.outline,ge.outline)),c.R7$(1),c.SpI(" ",ge.text," ")}}function kn(Ne,Mt){if(1&Ne&&(c.j41(0,"div",9)(1,"h1"),c.EFF(2),c.k0s(),c.nrm(3,"div",10)(4,"h2",11),c.j41(5,"div",12),c.DNE(6,$n,3,6,"ng-container",13),c.k0s(),c.j41(7,"div",14)(8,"div",15),c.nrm(9,"div",16),c.k0s(),c.j41(10,"p"),c.EFF(11,"Scroll down"),c.k0s()()()),2&Ne){const ge=c.XpG().$implicit;c.R7$(2),c.JRh(ge.title),c.R7$(2),c.Y8G("innerHTML",ge.subtitle,c.npT),c.R7$(2),c.Y8G("ngForOf",ge.buttons)}}const Gt=function(Ne){return{background:Ne,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}};function Lt(Ne,Mt){if(1&Ne&&(c.j41(0,"div",6),c.nrm(1,"div",7),c.DNE(2,kn,12,3,"div",8),c.k0s()),2&Ne){const ge=Mt.$implicit,me=Mt.index,we=c.XpG();c.AVh("clemo-active",me===we.currentSlide),c.R7$(1),c.Y8G("ngStyle",c.eq3(4,Gt,"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("+ge.backgroundImage+")")),c.R7$(1),c.Y8G("ngIf",null==ge.title?null:ge.title.trim())}}const yr=function(Ne){return{"line-style":Ne}};function un(Ne,Mt){if(1&Ne){const ge=c.RV6();c.j41(0,"div",18),c.bIt("click",function(){const wt=c.eBV(ge).index,qt=c.XpG();return c.Njj(qt.navigateToSlide(wt))}),c.k0s()}if(2&Ne){const ge=Mt.index,me=c.XpG();c.AVh("clemo-active",ge===me.currentSlide),c.Y8G("ngClass",c.eq3(3,yr,"bottom"===me.navigation))}}function Or(Ne,Mt){if(1&Ne){const ge=c.RV6();c.j41(0,"button",19),c.bIt("click",function(){c.eBV(ge);const we=c.XpG();return c.Njj(we.prevSlide())}),c.nrm(1,"span",20),c.j41(2,"span",21),c.EFF(3,"Previous"),c.k0s()()}}function tr(Ne,Mt){if(1&Ne){const ge=c.RV6();c.j41(0,"button",22),c.bIt("click",function(){c.eBV(ge);const we=c.XpG();return c.Njj(we.nextSlide())}),c.nrm(1,"span",23),c.j41(2,"span",21),c.EFF(3,"Next"),c.k0s()()}}const Bt=function(Ne,Mt){return{"--slider-opacity":Ne,height:Mt}},In=function(Ne){return{"bottom-nav":Ne}};let Gn=(()=>{class Ne{constructor(ge,me){this.router=ge,this.businessDataService=me,this.business=null,this.slides=[],this.navigation="side",this.sideButtons=!0,this.sliderHeight="100vh",this.currentSlide=0,this.sliderOpacity=1,this.autoSlide()}ngOnInit(){console.log("HeroSliderComponent - ngOnInit"),this.fetchHeroSliderData(),this.autoSlide()}fetchHeroSliderData(){this.businessDataService.businessData$.subscribe(ge=>{ge?(console.log("HeroSliderComponent - Retrieved business data:",ge),this.business=ge,this.business.heroSlider&&Array.isArray(this.business.heroSlider)?this.slides=this.business.heroSlider.map(me=>({title:this.replaceKeywords(me.title),subtitle:this.replaceKeywords(me.subtitle),backgroundImage:me.backgroundImage,buttons:me.buttons||[]})):(console.warn("HeroSliderComponent - No heroSlider data available in the business data."),this.slides=[])):console.error("HeroSliderComponent - No business data available.")})}replaceKeywords(ge){return ge&&this.business?.businessName?ge.replace(/{{businessName}}/g,this.business.businessName):ge}navigateToSlide(ge){this.currentSlide=ge}autoSlide(){setInterval(()=>{this.currentSlide=(this.currentSlide+1)%this.slides.length},15e3)}prevSlide(){this.currentSlide=0===this.currentSlide?this.slides.length-1:this.currentSlide-1}nextSlide(){this.currentSlide=this.currentSlide===this.slides.length-1?0:this.currentSlide+1}onScroll(){const ge=window.scrollY,me=window.innerHeight;this.sliderOpacity=Math.max(1-ge/me,0)}static{this.\u0275fac=function(me){return new(me||Ne)(c.rXU(ue.Ix),c.rXU(Ie.A))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-hero-slider"]],hostBindings:function(me,we){1&me&&c.bIt("scroll",function(qt){return we.onScroll(qt)},!1,c.tSv)},inputs:{navigation:"navigation",sideButtons:"sideButtons",sliderHeight:"sliderHeight"},decls:6,vars:11,consts:[["id","carousel",1,"clemo-slider-container",3,"ngStyle"],["class","clemo-slides clemo-single-home-slider",3,"clemo-active",4,"ngFor","ngForOf"],[1,"clemo-slider-navigation",3,"ngClass"],["class","clemo-nav-item",3,"clemo-active","ngClass","click",4,"ngFor","ngForOf"],["class","carousel-control-prev hh-prev","type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",3,"click",4,"ngIf"],["class","carousel-control-next hh-next","type","button","data-bs-target","#heroCarousel","data-bs-slide","next",3,"click",4,"ngIf"],[1,"clemo-slides","clemo-single-home-slider"],[1,"clemo-home-overlay",3,"ngStyle"],["class","clemo-main-home",4,"ngIf"],[1,"clemo-main-home"],[1,"clemo-separator"],[1,"clemo-subtitle",3,"innerHTML"],[1,"clemo-home-btn"],[4,"ngFor","ngForOf"],[1,"mouse-scroll"],[1,"mouse"],[1,"scroll"],["routerLinkActive","active",3,"routerLink","ngClass"],[1,"clemo-nav-item",3,"ngClass","click"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev","hh-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next","hh-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(me,we){1&me&&(c.j41(0,"div",0),c.DNE(1,Lt,3,6,"div",1),c.j41(2,"div",2),c.DNE(3,un,1,5,"div",3),c.k0s(),c.DNE(4,Or,4,0,"button",4),c.DNE(5,tr,4,0,"button",5),c.k0s()),2&me&&(c.Y8G("ngStyle",c.l_i(6,Bt,we.sliderOpacity,we.sliderHeight)),c.R7$(1),c.Y8G("ngForOf",we.slides),c.R7$(1),c.Y8G("ngClass",c.eq3(9,In,"bottom"===we.navigation)),c.R7$(1),c.Y8G("ngForOf",we.slides),c.R7$(1),c.Y8G("ngIf",we.sideButtons),c.R7$(1),c.Y8G("ngIf",we.sideButtons))},dependencies:[pe.YU,pe.Sq,pe.bT,pe.B3,ue.Wk,ue.wQ],styles:[".clemo-slider-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden;opacity:var(--slider-opacity, 1);transition:opacity .3s ease;pointer-events:auto}.clemo-slider-container.hidden[_ngcontent-%COMP%]{pointer-events:none}.clemo-slides[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;opacity:0;transition:opacity 1s ease-in-out}.clemo-slides.clemo-active[_ngcontent-%COMP%]{display:block;opacity:1}.clemo-single-home-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.clemo-home-overlay[_ngcontent-%COMP%]{outline:2px solid blue;position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.9;z-index:1}.clemo-main-home[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:2;color:#000;animation:_ngcontent-%COMP%_fade-in-opacity 1s ease-in-out}.clemo-main-home[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;font-weight:700;margin:0;color:#fff}.clemo-main-home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin:0;color:#fff}.clemo-separator[_ngcontent-%COMP%]{width:50px;height:2px;background-color:#fff;margin:20px auto}.clemo-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin:20px 0;line-height:1.5}.clemo-home-btn[_ngcontent-%COMP%]{margin-top:20px}.clemo-btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#000;background-color:#fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out;margin-right:50px}.clemo-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:1rem;font-weight:700;text-transform:uppercase;color:#fff;background-color:transparent;border:2px solid #fff;border-radius:25px;text-decoration:none;transition:all .3s ease-in-out}.clemo-btn-outline[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.clemo-slider-navigation[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:10px;z-index:10}.clemo-slider-navigation.bottom-nav[_ngcontent-%COMP%]{inset:auto auto 20px 50%;transform:translate(-50%);flex-direction:row}.clemo-nav-item[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#fff;border-radius:50%;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.clemo-nav-item[_ngcontent-%COMP%]:hover{background-color:#555}.clemo-nav-item.clemo-active[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.clemo-nav-item.line-style[_ngcontent-%COMP%]{width:30px;height:4px;background-color:#fff;clip-path:none;border-radius:2px}@keyframes _ngcontent-%COMP%_fade-in-opacity{0%{opacity:0}to{opacity:1}}.mouse-scroll[_ngcontent-%COMP%]{position:absolute;bottom:-220px;left:50%;transform:translate(-50%);text-align:center;z-index:100;font-family:Arial,sans-serif}.mouse[_ngcontent-%COMP%]{width:30px;height:50px;border:2px solid #fff;border-radius:15px;display:flex;justify-content:center;align-items:center;margin:0 auto 10px;position:relative}.scroll[_ngcontent-%COMP%]{width:6px;height:10px;background-color:#fff;border-radius:3px;animation:_ngcontent-%COMP%_scroll 1.5s infinite}.mouse-scroll[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin:0;opacity:.8}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:0;transform:translateY(-5px)}50%{opacity:1;transform:translateY(5px)}to{opacity:0;transform:translateY(10px)}}"]})}}return Ne})();var ln=j(9969),$r=j(4710);function xr(Ne,Mt){1&Ne&&(c.j41(0,"div",13),c.EFF(1,"\u2605\u2605\u2605\u2605\u2605"),c.k0s())}function ei(Ne,Mt){if(1&Ne){const ge=c.RV6();c.j41(0,"button",15),c.bIt("click",function(){c.eBV(ge);const we=c.XpG(3);return c.Njj(we.navigateToTestimonials())}),c.EFF(1," Read More "),c.k0s()}}function Kn(Ne,Mt){if(1&Ne&&(c.j41(0,"span"),c.EFF(1,"[...]"),c.DNE(2,ei,2,0,"button",14),c.k0s()),2&Ne){const ge=c.XpG().$implicit,me=c.XpG();c.R7$(2),c.Y8G("ngIf",me.isTruncated(ge.quote))}}function di(Ne,Mt){if(1&Ne&&(c.j41(0,"div",5)(1,"div",6)(2,"h3",7),c.EFF(3),c.k0s(),c.nrm(4,"div",8),c.j41(5,"p",9),c.EFF(6),c.k0s(),c.DNE(7,xr,2,0,"div",10),c.k0s(),c.j41(8,"div",11)(9,"p"),c.EFF(10),c.DNE(11,Kn,3,1,"span",12),c.k0s()()()),2&Ne){const ge=Mt.$implicit,me=c.XpG();c.Y8G("@slideIn",void 0),c.R7$(1),c.Y8G("@fadeInRight",void 0),c.R7$(2),c.JRh(ge.name),c.R7$(3),c.JRh(ge.relationship),c.R7$(1),c.Y8G("ngIf",ge.isGoogle),c.R7$(1),c.Y8G("@fadeInLeft",void 0),c.R7$(2),c.SpI(" ",me.truncateText(ge.quote)," "),c.R7$(1),c.Y8G("ngIf",me.isTruncated(ge.quote))}}function _s(Ne,Mt){if(1&Ne){const ge=c.RV6();c.j41(0,"button",16),c.bIt("click",function(){const wt=c.eBV(ge).index,qt=c.XpG();return c.Njj(qt.goToSlide(wt))}),c.EFF(1," \u25cf "),c.k0s()}if(2&Ne){const ge=Mt.index,me=c.XpG();c.AVh("active",ge===me.currentIndex)}}const gn=function(Ne){return[Ne]};let ti=(()=>{class Ne{constructor(ge,me,we){this.businessDataService=ge,this.googleMapsLoader=me,this.router=we,this.testimonials=[],this.currentIndex=0,this.maxTextLength=300}ngOnInit(){this.loadGoogleReviews(),this.loadTestimonials(),this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}loadTestimonials(){this.businessDataService.loadBusinessData(this.businessId).subscribe(ge=>{if(ge&&ge.testimonials){const me=ge.testimonials.map(we=>({...we,relationship:"Testimonial"}));this.testimonials=[...this.testimonials,...me]}})}loadGoogleReviews(){this.placeId?this.googleMapsLoader.loadScript().then(()=>{new google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:this.placeId,fields:["reviews"]},(me,we)=>{if(we===google.maps.places.PlacesServiceStatus.OK){const wt=me?.reviews?.map(qt=>({name:qt.author_name,quote:qt.text,relationship:"Google Review",isGoogle:!0}))||[];this.testimonials=[...wt,...this.testimonials],this.currentIndex=0}else console.error("Error fetching Google reviews:",we)})}):console.error("Place ID is required to fetch Google reviews.")}get currentTestimonial(){return this.testimonials[this.currentIndex]}goToSlide(ge){this.currentIndex=ge}startAutoPlay(){this.autoPlayInterval=setInterval(()=>{this.nextSlide()},15e3)}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.testimonials.length}trackByIndex(ge,me){return ge}truncateText(ge){return ge.length>this.maxTextLength?ge.slice(0,this.maxTextLength):ge}isTruncated(ge){return ge.length>this.maxTextLength}navigateToTestimonials(){this.router.navigate(["/testimonials"])}static{this.\u0275fac=function(me){return new(me||Ne)(c.rXU(Ie.A),c.rXU($r.L),c.rXU(ue.Ix))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-testimonial-carousel"]],inputs:{businessId:"businessId",placeId:"placeId"},decls:6,vars:5,consts:[[1,"testimonials-container"],[1,"clemo-head-title","clemo-text-center"],["class","testimonial-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"carousel-navigation"],[3,"active","click",4,"ngFor","ngForOf"],[1,"testimonial-row"],[1,"author"],[1,"name"],[1,"separator5"],[1,"role"],["class","google-stars",4,"ngIf"],[1,"feedback"],[4,"ngIf"],[1,"google-stars"],["class","btn read-more",3,"click",4,"ngIf"],[1,"btn","read-more",3,"click"],[3,"click"]],template:function(me,we){1&me&&(c.j41(0,"div",0)(1,"h1",1),c.EFF(2,"clients say\u2019s"),c.k0s(),c.DNE(3,di,12,8,"div",2),c.j41(4,"div",3),c.DNE(5,_s,2,2,"button",4),c.k0s()()),2&me&&(c.R7$(3),c.Y8G("ngForOf",c.eq3(3,gn,we.currentTestimonial))("ngForTrackBy",we.trackByIndex),c.R7$(2),c.Y8G("ngForOf",we.testimonials))},dependencies:[pe.Sq,pe.bT],styles:[".testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:6.6vmax;padding-top:6.6vmax}.testimonials-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:400;margin-bottom:30px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;max-width:800px;width:100%;gap:80px}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;text-align:right}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#000;margin:5px 0}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:1rem;color:gray;text-transform:lowercase}.testimonials-container[_ngcontent-%COMP%]   .testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]{flex:2;text-align:left;p {font-size: 1rem; line-height: 1.6; color: #555;}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;button {background: none; border: none; font-size: 1.2rem; margin: 0 5px; cursor: pointer; color: #000; &:hover {color: #007bff;}}}.testimonials-container[_ngcontent-%COMP%]   .carousel-navigation[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#000;font-weight:700}.read-more[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-color);cursor:pointer;text-decoration:underline;font-size:.9rem;padding:0;margin-left:5px}.read-more[_ngcontent-%COMP%]:hover{color:#007bff}.google-stars[_ngcontent-%COMP%]{color:gold;font-size:1.2rem;margin-top:5px}@media (max-width: 768px){.testimonials-container[_ngcontent-%COMP%]{padding:3rem 1rem}.testimonial-row[_ngcontent-%COMP%]{gap:15px;flex-direction:column}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.3rem}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .separator5[_ngcontent-%COMP%]{width:60%}.testimonial-row[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .google-stars[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-row[_ngcontent-%COMP%]   .feedback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.carousel-navigation[_ngcontent-%COMP%]{flex-wrap:wrap;gap:2px;button {font-size: 1rem; margin: 0 1px;}}}"],data:{animation:[(0,ln.hZ)("slideIn",[(0,ln.kY)(":enter",[(0,ln.iF)({opacity:0,transform:"translateX(-100%)"}),(0,ln.i0)("0.5s ease-in",(0,ln.iF)({opacity:1,transform:"translateX(0)"}))]),(0,ln.kY)(":leave",[(0,ln.i0)("0.5s ease-out",(0,ln.iF)({opacity:0,transform:"translateX(-100%)"}))])]),(0,ln.hZ)("fadeInLeft",[(0,ln.kY)(":enter",[(0,ln.iF)({opacity:0,transform:"translateX(-100%)"}),(0,ln.i0)("0.5s ease-in",(0,ln.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,ln.hZ)("fadeInRight",[(0,ln.kY)(":enter",[(0,ln.iF)({opacity:0,transform:"translateX(100%)"}),(0,ln.i0)("0.5s ease-in",(0,ln.iF)({opacity:1,transform:"translateX(0)"}))])])]}})}}return Ne})();var rr=j(3711),Cr=j(3349);let zn=(()=>{class Ne{constructor(){this.videoSource="",this.autoplay=!1,this.controls=!0,this.loop=!1,this.muted=!1}static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-video"]],inputs:{videoSource:"videoSource",autoplay:"autoplay",controls:"controls",loop:"loop",muted:"muted"},decls:3,vars:1,consts:[[3,"title"],[1,"video-container"],["width","1024","height","560","src","https://www.youtube.com/embed/rVBHH5DwYFA?si=H-h0ymBehDKZAubx","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen",""]],template:function(me,we){1&me&&(c.nrm(0,"app-section-tile",0),c.j41(1,"div",1),c.nrm(2,"iframe",2),c.k0s()),2&me&&c.Y8G("title","Video")},dependencies:[Cr.N],styles:[".video-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color);padding:20px;box-sizing:border-box}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border:1px solid #ccc;border-radius:8px;aspect-ratio:16 / 9}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]{height:auto;padding:10px}video[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;max-height:60vh}}"]})}}return Ne})(),Si=(()=>{class Ne{transform(ge,me){return ge&&me&&ge.find(we=>we.sectionName===me)||null}static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275pipe=c.EJ8({name:"sectionFilter",type:Ne,pure:!0})}}return Ne})();const nt=function(){return{icon:"fas fa-heart",title:"Mobility Assistance",description:"Hands On, Stand by Assist."}},gt=function(){return{icon:"fas fa-users",title:"Companionship Care",description:"24 hours care and close supervision."}},Re=function(){return{icon:"fas fa-utensils",title:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Kt=function(){return{icon:"fas fa-pills",title:"Medication",description:"24 hours medication administration, management and reminders."}},Lr=function(){return{icon:"fas fa-bath",title:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},Ti=function(){return{icon:"fas fa-briefcase-medical",title:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},Et=function(Ne,Mt,ge,me,we,wt){return[Ne,Mt,ge,me,we,wt]},$=function(){return[]};function M(Ne,Mt){if(1&Ne&&(c.j41(0,"section"),c.nrm(1,"app-hero-slider",2)(2,"app-welcome",3)(3,"app-our-services-home",4)(4,"app-why-us",5)(5,"app-features",6)(6,"app-testimonials",7),c.k0s()),2&Ne){const ge=c.XpG();c.R7$(1),c.Y8G("navigation","bottom")("sideButtons",!0),c.R7$(1),c.Y8G("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo")("businessId",(null==ge.business?null:ge.business.id)||""),c.R7$(1),c.Y8G("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo")("services",c.l4e(19,Et,c.lJ4(13,nt),c.lJ4(14,gt),c.lJ4(15,Re),c.lJ4(16,Kt),c.lJ4(17,Lr),c.lJ4(18,Ti))),c.R7$(1),c.Y8G("whyChooseUs",(null==ge.business?null:ge.business.whyChoose)||c.lJ4(26,$))("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo")("businessName",(null==ge.business?null:ge.business.businessName)||"Demo"),c.R7$(1),c.Y8G("uniqueService",(null==ge.business?null:ge.business.uniqueService)||c.lJ4(27,$))("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo"),c.R7$(1),c.Y8G("testimonials",null==ge.business?null:ge.business.testimonials)("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo")}}function k(Ne,Mt){if(1&Ne&&c.nrm(0,"app-center-text",12),2&Ne){const ge=Mt.ngIf,me=c.XpG(2);c.Y8G("themeType",(null==me.business||null==me.business.theme?null:me.business.theme.themeType)||"")("imageURL",(null==ge?null:ge.sectionImageUrl)||"")("title",(null==ge?null:ge.sectionTitle)||"")("content",(null==ge?null:ge.sectionContent)||"")("showBtn",!1)}}function ne(Ne,Mt){if(1&Ne&&c.nrm(0,"app-right-text",13),2&Ne){const ge=Mt.ngIf,me=c.XpG(2);c.Y8G("themeType",(null==me.business||null==me.business.theme?null:me.business.theme.themeType)||"")("imageURL",(null==ge?null:ge.sectionImageUrl)||"")("title",(null==ge?null:ge.sectionTitle)||"")("content",(null==ge?null:ge.sectionContent)||"")}}function fe(Ne,Mt){if(1&Ne&&c.nrm(0,"app-left-text",13),2&Ne){const ge=Mt.ngIf,me=c.XpG(2);c.Y8G("themeType",(null==me.business||null==me.business.theme?null:me.business.theme.themeType)||"")("imageURL",(null==ge?null:ge.sectionImageUrl)||"")("title",(null==ge?null:ge.sectionTitle)||"")("content",(null==ge?null:ge.sectionContent)||"")}}const st=function(){return{icon:"fas fa-dove",title:"Hospice Care",description:"..."}},It=function(){return{icon:"fas fa-person-cane",title:"Mobility Assistance",description:"..."}},an=function(){return{icon:"fas fa-people-group",title:"Companionship Care",description:"..."}},dn=function(){return{icon:"fas fa-bowl-food",title:"Meal Planning",description:"..."}},Dn=function(){return{icon:"fas fa-prescription-bottle",title:"Medication",description:"..."}},gr=function(){return{icon:"fas fa-shower",title:"Personal Hygiene",description:"..."}},cn=function(){return{icon:"fas fa-bed-pulse",title:"Medical Care",description:"..."}},Vr=function(Ne,Mt,ge,me,we,wt,qt){return[Ne,Mt,ge,me,we,wt,qt]};function dr(Ne,Mt){if(1&Ne&&(c.j41(0,"section"),c.nrm(1,"app-hero-slider",8),c.DNE(2,k,1,5,"app-center-text",9),c.nI1(3,"sectionFilter"),c.DNE(4,ne,1,4,"app-right-text",10),c.nI1(5,"sectionFilter"),c.DNE(6,fe,1,4,"app-left-text",10),c.nI1(7,"sectionFilter"),c.nrm(8,"app-icon-list",11)(9,"app-testimonials",7),c.k0s()),2&Ne){const ge=c.XpG();c.R7$(1),c.Y8G("navigation","side")("sideButtons",!1),c.R7$(1),c.Y8G("ngIf",c.i5U(3,8,null==ge.business?null:ge.business.sections,"HomeWelcomeText")),c.R7$(2),c.Y8G("ngIf",c.i5U(5,11,null==ge.business?null:ge.business.sections,"HomeRightText")),c.R7$(2),c.Y8G("ngIf",c.i5U(7,14,null==ge.business?null:ge.business.sections,"HomeLeftText")),c.R7$(2),c.Y8G("services",c.sGs(24,Vr,c.lJ4(17,st),c.lJ4(18,It),c.lJ4(19,an),c.lJ4(20,dn),c.lJ4(21,Dn),c.lJ4(22,gr),c.lJ4(23,cn))),c.R7$(1),c.Y8G("testimonials",null==ge.business?null:ge.business.testimonials)("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo")}}function ws(Ne,Mt){if(1&Ne&&c.nrm(0,"app-google-maps",19),2&Ne){const ge=c.XpG(2);c.Y8G("address",(null==ge.business?null:ge.business.address)||"")("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo")}}function vi(Ne,Mt){if(1&Ne&&(c.j41(0,"section"),c.nrm(1,"app-hero-slider",14)(2,"app-right-text",13)(3,"app-video",15)(4,"app-parallax-stats",16)(5,"app-testimonial-carousel",17)(6,"app-parallax-text"),c.DNE(7,ws,1,2,"app-google-maps",18),c.k0s()),2&Ne){const ge=c.XpG();c.R7$(1),c.Y8G("navigation","side")("sideButtons",!1),c.R7$(1),c.Y8G("themeType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"")("imageURL",(null==ge.business?null:ge.business.businessStoryImageUrl)||"")("title",(null==ge.business?null:ge.business.businessStoryTitle)||"")("content",(null==ge.business?null:ge.business.businessStory)||""),c.R7$(1),c.Y8G("videoSource","https://youtu.be/rVBHH5DwYFA?si=Cr3AncNVTaxqHsfX"),c.R7$(1),c.Y8G("backgroundImage","https://firebasestorage.googleapis.com/v0/b/afhdynamicwebsite.appspot.com/o/businesses%2FSJgFxBYkopnPR4WibCAf%2Fgallery%2F13.jpg?alt=media&token=cc737375-bdbf-4ba3-95d9-66b63a73b45a")("yearsOfExperience",20)("happyFamilies",55)("servicesOffered",36)("trainedStaff",4),c.R7$(1),c.Y8G("placeId",(null==ge.business?null:ge.business.placeId)||""),c.R7$(2),c.Y8G("ngIf","clemo"==(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType))}}function Li(Ne,Mt){if(1&Ne&&c.nrm(0,"app-consultation",20),2&Ne){const ge=c.XpG();c.Y8G("id",(null==ge.business?null:ge.business.id)||"")("layoutType",(null==ge.business||null==ge.business.theme?null:ge.business.theme.themeType)||"demo")("businessName",(null==ge.business?null:ge.business.businessName)||"Demo")}}let xi=(()=>{class Ne{constructor(ge,me,we){this.route=ge,this.metaService=me,this.businessDataService=we,this.businessId="",this.business=null,this.business$=this.businessDataService.businessData$}ngOnInit(){console.log("HomeComponent - ngOnInit"),this.businessDataService.getBusinessId().subscribe(ge=>{ge&&(this.businessId=ge,this.businessDataService.getBusinessData().subscribe(me=>{this.business=me}),this.metaService.loadAndApplyMeta(this.businessId))})}getSectionByName(ge){return this.business?.sections?.find(me=>me.sectionName===ge)||null}static{this.\u0275fac=function(me){return new(me||Ne)(c.rXU(ue.nX),c.rXU(i.R),c.rXU(Ie.A))}}static{this.\u0275cmp=c.VBU({type:Ne,selectors:[["app-home"]],decls:4,vars:4,consts:[[4,"ngIf"],[3,"id","layoutType","businessName",4,"ngIf"],["sliderHeight","70vh",3,"navigation","sideButtons"],[3,"layoutType","businessId"],[3,"layoutType","services"],[3,"whyChooseUs","layoutType","businessName"],[3,"uniqueService","layoutType"],[3,"testimonials","layoutType"],["sliderHeight","80vh",3,"navigation","sideButtons"],[3,"themeType","imageURL","title","content","showBtn",4,"ngIf"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"services"],[3,"themeType","imageURL","title","content","showBtn"],[3,"themeType","imageURL","title","content"],["sliderHeight","100vh",3,"navigation","sideButtons"],[3,"videoSource"],[3,"backgroundImage","yearsOfExperience","happyFamilies","servicesOffered","trainedStaff"],[3,"placeId"],[3,"address","layoutType",4,"ngIf"],[3,"address","layoutType"],[3,"id","layoutType","businessName"]],template:function(me,we){1&me&&(c.DNE(0,M,7,28,"section",0),c.DNE(1,dr,10,32,"section",0),c.DNE(2,vi,8,14,"section",0),c.DNE(3,Li,1,3,"app-consultation",1)),2&me&&(c.Y8G("ngIf","hh"===(null==we.business||null==we.business.theme?null:we.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","ae"===(null==we.business||null==we.business.theme?null:we.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","clemo"===(null==we.business||null==we.business.theme?null:we.business.theme.themeType)),c.R7$(1),c.Y8G("ngIf","clemo"!=(null==we.business||null==we.business.theme?null:we.business.theme.themeType)))},dependencies:[pe.bT,At,et,rn,Pt,tt,rt,qe.W,Xe.F,Nt.G,sr,sn,Ln,Gn,ti,rr.a,zn,Si]})}}return Ne})()},214:(on,Je,j)=>{j.d(Je,{W:()=>ue});var c=j(7705);let ue=(()=>{class i{constructor(){this.closeModal=new c.bkB}close(){this.closeModal.emit()}static{this.\u0275fac=function(Oe){return new(Oe||i)}}static{this.\u0275cmp=c.VBU({type:i,selectors:[["app-image-viewer-modal"]],inputs:{imageUrl:"imageUrl"},outputs:{closeModal:"closeModal"},decls:5,vars:1,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","button",1,"afhBtn",3,"click"],["alt","Full Size Image",3,"src"]],template:function(Oe,be){1&Oe&&(c.j41(0,"div",0),c.bIt("click",function(){return be.close()}),c.j41(1,"div",1),c.bIt("click",function(Se){return Se.stopPropagation()}),c.j41(2,"button",2),c.bIt("click",function(){return be.close()}),c.EFF(3,"Close"),c.k0s(),c.nrm(4,"img",3),c.k0s()()),2&Oe&&(c.R7$(4),c.Y8G("src",be.imageUrl,c.B4B))},styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:var(--primary-color);padding:10px;max-width:90%;max-height:90%;border-radius:5px;box-shadow:0 2px 10px #00000080}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:800px;object-fit:contain}.close-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:10px;cursor:pointer;color:#333}"]})}}return i})()},4796:(on,Je,j)=>{j.d(Je,{u:()=>pe});var c=j(6354),ue=j(7705),i=j(1977),Ie=j(6814);let pe=(()=>{class Oe{constructor(Ue,Se){this.afAuth=Ue,this.router=Se,this.user$=Ue.authState}login(Ue,Se){return this.afAuth.signInWithEmailAndPassword(Ue,Se)}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}isAuthenticated(){return this.user$.pipe((0,c.T)(Ue=>!!Ue))}isLoggedIn(){return!!localStorage.getItem("user")}static{this.\u0275fac=function(Se){return new(Se||Oe)(ue.KVO(i.DS),ue.KVO(Ie.Ix))}}static{this.\u0275prov=ue.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}}return Oe})()},923:(on,Je,j)=>{j.d(Je,{A:()=>Oe});var c=j(4412),ue=j(6354),i=j(8141),Ie=j(7705),pe=j(3012);let Oe=(()=>{class be{constructor(Se){this.businessService=Se,this.businessDataSubject=new c.t(null),this.businessIdSubject=new c.t(null),this.businessData$=this.businessDataSubject.asObservable()}loadBusinessData(Se){return console.log("BusinessDataService - loadBusinessData for ID:",Se),this.businessDataSubject.value?this.businessDataSubject.asObservable():this.businessService.getBusinessData(Se).pipe((0,ue.T)(ee=>ee??null),(0,i.M)(ee=>{console.log("BusinessDataService - Business fetched:",ee),this.businessDataSubject.next(ee),this.businessIdSubject.next(Se)}))}getBusinessData(){return this.businessDataSubject.asObservable()}getBusinessId(){return this.businessIdSubject.asObservable()}static{this.\u0275fac=function(ee){return new(ee||be)(Ie.KVO(pe.u))}}static{this.\u0275prov=Ie.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}}return be})()},3012:(on,Je,j)=>{j.d(Je,{u:()=>be});var c=j(7673),ue=j(6354),i=j(5558),Ie=j(7705),pe=j(6340),Oe=j(8721);let be=(()=>{class Ue{constructor(ee,oe){this.afs=ee,this.storage=oe,this.basePath="businesses",this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB"}createBusiness(ee){console.log("Business Created");const oe=this.afs.createId();return this.afs.doc(`${this.basePath}/${oe}`).set({...ee,id:oe}),this.afs.doc(`${this.basePath}/${oe}`).valueChanges().pipe((0,ue.T)(_e=>{if(!_e)throw new Error("Business not found after creation");return _e}))}getBusinesses(){return this.afs.collection(this.basePath).snapshotChanges().pipe((0,ue.T)(ee=>ee.map(oe=>{const _e=oe.payload.doc.data(),lt=oe.payload.doc.id,{id:Ze,...Dt}=_e;return{id:lt,...Dt}})))}getAllBusinesses(){return this.afs.collection(this.basePath).valueChanges({idField:"id"})}getActiveBusinesses(){return this.afs.collection(this.basePath,ee=>ee.where("isActive","==",!0)).valueChanges({idField:"id"})}getBusiness(ee){return this.getBusinessData(ee)}getBusinessData(ee){const oe=ee&&ee.trim()?ee:this.defaultBusinessId;return this.afs.collection("businesses").doc(oe).snapshotChanges().pipe((0,i.n)(_e=>{const lt=_e.payload.data(),Ze=_e.payload.id;if(!lt)return(0,c.of)(void 0);const{id:Dt,...At}=lt,Ut={id:Ze,...At},Rt={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b",themeType:"demo"};return this.afs.collection(`businesses/${Ze}/theme`).doc("themeDoc").snapshotChanges().pipe((0,ue.T)(Ge=>{const Ce=Ge.payload.data()||Rt;return Ut.theme=Ce,Ut}))}))}updateBusiness(ee,oe){return this.afs.doc(`${this.basePath}/${ee}`).update(oe)}deleteBusiness(ee){return this.afs.doc(`${this.basePath}/${ee}`).delete()}uploadFile(ee,oe){return this.storage.upload(ee,oe)}getDownloadURL(ee){return this.storage.ref(ee).getDownloadURL()}updateThemeFileName(ee,oe=this.defaultBusinessId){return this.afs.doc(`${this.basePath}/${oe}`).update({"theme.themeFileName":ee})}getThemeFileName(ee=this.defaultBusinessId){const _e=this.afs.collection(this.basePath).doc(ee).collection("theme").doc("themeDoc");return console.log(`Fetching theme for business ID: ${ee}`),_e.get().toPromise().then(lt=>{if(lt&&lt.exists){const Ze=lt.data();console.log("Theme document found:",Ze);const Dt=Ze?.themeFileName||"styles.css";return console.log(`Retrieved themeFileName: ${Dt}`),Dt}return console.warn(`No theme document found for business ID: ${ee}. Using default theme.`),"default.css"}).catch(lt=>(console.error(`Error fetching theme file name for business ID: ${ee}`,lt),"default.css"))}static{this.\u0275fac=function(oe){return new(oe||Ue)(Ie.KVO(pe.Qe),Ie.KVO(Oe.ap))}}static{this.\u0275prov=Ie.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})()},4710:(on,Je,j)=>{j.d(Je,{L:()=>i});var ue=j(7705);let i=(()=>{class Ie{constructor(){this.scriptLoaded=!1,this.scriptLoadingPromise=null}loadScript(){return this.scriptLoaded?Promise.resolve():(this.scriptLoadingPromise||(this.scriptLoadingPromise=new Promise((Oe,be)=>{if(document.getElementById("google-maps-script"))return this.scriptLoaded=!0,void Oe();const Ue=document.createElement("script");Ue.id="google-maps-script",Ue.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz4F7dRDEir2krVB8HvALNq-HhRdqqvK4&libraries=places",Ue.async=!0,Ue.defer=!0,Ue.onload=()=>{this.scriptLoaded=!0,Oe()},Ue.onerror=Se=>{this.scriptLoaded=!1,this.scriptLoadingPromise=null,be(Se)},document.body.appendChild(Ue)})),this.scriptLoadingPromise)}static{this.\u0275fac=function(be){return new(be||Ie)}}static{this.\u0275prov=ue.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}return Ie})()},6861:(on,Je,j)=>{j.d(Je,{R:()=>Ie});var c=j(7705),ue=j(345),i=j(923);let Ie=(()=>{class pe{constructor(be,Ue,Se){this.meta=be,this.title=Ue,this.businessDataService=Se}updateMetaTags(be){this.title.setTitle(be.title),this.meta.updateTag({name:"description",content:be.description}),this.meta.updateTag({name:"keywords",content:be.keywords}),this.meta.updateTag({property:"og:title",content:be.title}),this.meta.updateTag({property:"og:description",content:be.description})}updateFavicon(be){const Ue=document.getElementsByTagName("head")[0];let Se=document.querySelector("link[rel*='icon']");Se||(Se=document.createElement("link"),Se.rel="icon",Ue.appendChild(Se)),Se.href=be}loadAndApplyMeta(be){this.businessDataService.loadBusinessData(be).subscribe(Ue=>{Ue?(this.updateMetaTags({title:Ue.metaTitle||"Default Title",description:Ue.metaDescription||"Default Description",keywords:Ue.metaKeywords||"default, keywords"}),Ue.faviconUrl&&this.updateFavicon(Ue.faviconUrl)):console.warn("MetaService: No business data found for the given ID.")})}static{this.\u0275fac=function(Ue){return new(Ue||pe)(c.KVO(ue.W8),c.KVO(ue.hE),c.KVO(i.A))}}static{this.\u0275prov=c.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}}return pe})()},5009:(on,Je,j)=>{j.d(Je,{F:()=>Se});var c=j(8810),ue=j(8455),i=j(7673),Ie=j(6697),pe=j(5558),Oe=j(9437),be=j(7705),Ue=j(6340);let Se=(()=>{class ee{constructor(_e){this.firestore=_e,this.defaultTheme={themeFileName:"styles.css",primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"},this.themeLink=document.createElement("link"),this.themeLink.rel="stylesheet",document.head.appendChild(this.themeLink)}getBusinessTheme(_e){return this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc").valueChanges()}getThemeColors(_e){console.log("Theme Service: - Fetching theme for business ID:",_e);const lt=this.firestore.collection("businesses").doc(_e),Ze=lt.collection("theme").doc("themeDoc");return lt.snapshotChanges().pipe((0,Ie.s)(1),(0,pe.n)(Dt=>Dt.payload.exists?Ze.get().pipe((0,pe.n)(At=>At.exists?(At.data(),Ze.valueChanges()):(0,ue.H)(Ze.set(this.defaultTheme)).pipe((0,pe.n)(()=>(console.log("Theme Service: - Created new theme with default values."),this.applyThemeFile(this.defaultTheme.themeFileName),Ze.valueChanges()))))):(console.error("Theme Service: - Business document does not exist!"),(0,c.$)("Theme Service: - Business document does not exist"))),(0,Oe.W)(Dt=>(console.error("Error fetching theme:",Dt),this.applyThemeFile(this.defaultTheme.themeFileName),(0,i.of)(this.defaultTheme))))}updateColors(_e,lt){const Ze=this.firestore.collection("businesses").doc(_e).collection("theme").doc("themeDoc");return console.log("Theme Service: - BusinessId: "+_e+" theme service updateColors: ",lt),Ze.set(lt,{merge:!0}).then(()=>{console.log("Theme Service: - Colors updated successfully"),lt.themeFileName&&this.applyThemeFile(lt.themeFileName)}).catch(Dt=>{throw console.error("Theme Service: - Error updating colors:",Dt),new Error(Dt)})}resetToDefaultColors(){return this.firestore.collection("defaultSettings").doc("colors").valueChanges()}applyThemeFile(_e){return this.loadCss(`assets/themes/${_e}`)}loadCss(_e){return new Promise((lt,Ze)=>{console.log("Load css from  file:",_e);const Dt=document.createElement("link");Dt.rel="stylesheet",Dt.href=_e,Dt.onload=()=>{console.log(`Loaded theme: ${_e}`),lt()},Dt.onerror=At=>{console.error(`Failed to load theme: ${_e}`,At),Ze(At)},document.head.appendChild(Dt)})}static{this.\u0275fac=function(lt){return new(lt||ee)(be.KVO(Ue.Qe))}}static{this.\u0275prov=be.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})()},8704:(on,Je,j)=>{j.d(Je,{N:()=>be});var c=j(6354),ue=j(9437),i=j(7673),Ie=j(7705),pe=j(6340),Oe=j(8721);let be=(()=>{class Ue{constructor(ee,oe){this.firestore=ee,this.storage=oe,this.defaultBusinessId="Z93oAAVwFAwhmdH2lLtB",this.defaultImage="assets/sharedAssets/missingTestimonialImage.png"}getBusinessData(ee){const oe=ee&&ee.trim()?ee:this.defaultBusinessId;return this.firestore.collection("businesses").doc(oe).snapshotChanges().pipe((0,c.T)(_e=>{const lt=_e.payload.data(),Ze=_e.payload.id;if(lt){const{id:Dt,testimonials:At=[],...Ut}=lt;return{id:Ze,testimonials:At.map(pn=>({...pn,photoURL:pn.photoURL&&pn.photoURL.trim()?pn.photoURL:this.defaultImage})),...Ut}}}))}getDefaultBusinessData(){return this.getBusinessData(this.defaultBusinessId)}getEmployees(){return this.firestore.collection("employees").valueChanges({idField:"id"})}getEmployeePhoto(ee){return this.storage.ref(ee).getDownloadURL().pipe((0,ue.W)(oe=>(console.error("Error fetching photo URL:",oe),(0,i.of)(""))))}getEmployeesByBusinessId(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).get().pipe((0,c.T)(oe=>{if(oe.exists){const _e=oe.data();return _e&&_e.employees?_e.employees:(console.warn("No employees found in the document."),[])}return console.warn("Business document does not exist."),[]}),(0,ue.W)(oe=>(console.error("Error fetching employees:",oe),(0,i.of)([]))))}getBusinessGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessLifeStyleGalleryImagesById(ee){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection("gallery").valueChanges()}getBusinessUploadedImagesById(ee,oe){return(null==ee||""==ee||""===ee)&&(ee=this.defaultBusinessId),this.firestore.collection("businesses").doc(ee).collection(oe).valueChanges()}checkImageExists(ee){return this.storage.refFromURL(ee).getDownloadURL().toPromise().then(()=>!0).catch(()=>!1)}static{this.\u0275fac=function(oe){return new(oe||Ue)(Ie.KVO(pe.Qe),Ie.KVO(Oe.ap))}}static{this.\u0275prov=Ie.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})()},8889:(on,Je,j)=>{var c={};j.r(c),j.d(c,{afterMain:()=>Qt,afterRead:()=>ke,afterWrite:()=>Zn,applyStyles:()=>Ai,arrow:()=>_n,auto:()=>$i,basePlacements:()=>wi,beforeMain:()=>Qe,beforeRead:()=>Q,beforeWrite:()=>Sn,bottom:()=>Bn,clippingParents:()=>rs,computeStyles:()=>Gs,createPopper:()=>Ts,createPopperBase:()=>Ri,createPopperLite:()=>zs,detectOverflow:()=>No,end:()=>kr,eventListeners:()=>bc,flip:()=>La,hide:()=>Ic,left:()=>Xr,main:()=>mt,modifierPhases:()=>Dr,offset:()=>Ua,placements:()=>Z,popper:()=>qn,popperGenerator:()=>mi,popperOffsets:()=>wc,preventOverflow:()=>B,read:()=>Ae,reference:()=>ds,right:()=>Wn,start:()=>ns,top:()=>tn,variationPlacements:()=>Ds,viewport:()=>vs,write:()=>vn});var ue=j(345),i=j(7705),Ie=j(7673),pe=j(8455),Oe=j(1985),be=j(274),Ue=j(5964),Se=j(6354),ee=j(980),oe=j(5558),_e=j(177);class lt{}class Ze{}class Dt{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(a=>{const y=a.indexOf(":");if(y>0){const T=a.slice(0,y),L=T.toLowerCase(),z=a.slice(y+1).trim();this.maybeSetNormalizedName(T,L),this.headers.has(L)?this.headers.get(L).push(z):this.headers.set(L,[z])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((a,y)=>{this.setHeaderEntries(y,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([a,y])=>{this.setHeaderEntries(a,y)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const a=this.headers.get(l.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,a){return this.clone({name:l,value:a,op:"a"})}set(l,a){return this.clone({name:l,value:a,op:"s"})}delete(l,a){return this.clone({name:l,value:a,op:"d"})}maybeSetNormalizedName(l,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,l)}init(){this.lazyInit&&(this.lazyInit instanceof Dt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(a=>{this.headers.set(a,l.headers.get(a)),this.normalizedNames.set(a,l.normalizedNames.get(a))})}clone(l){const a=new Dt;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof Dt?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([l]),a}applyUpdate(l){const a=l.name.toLowerCase();switch(l.op){case"a":case"s":let y=l.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(l.name,a);const T=("a"===l.op?this.headers.get(a):void 0)||[];T.push(...y),this.headers.set(a,T);break;case"d":const L=l.value;if(L){let z=this.headers.get(a);if(!z)return;z=z.filter(se=>-1===L.indexOf(se)),0===z.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,z)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(l,a){const y=(Array.isArray(a)?a:[a]).map(L=>L.toString()),T=l.toLowerCase();this.headers.set(T,y),this.maybeSetNormalizedName(l,T)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>l(this.normalizedNames.get(a),this.headers.get(a)))}}class Ut{encodeKey(l){return Ce(l)}encodeValue(l){return Ce(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const pn=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ce(p){return encodeURIComponent(p).replace(pn,(l,a)=>Ge[a]??l)}function et(p){return`${p}`}class qe{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new Ut,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Rt(p,l){const a=new Map;return p.length>0&&p.replace(/^\?/,"").split("&").forEach(T=>{const L=T.indexOf("="),[z,se]=-1==L?[l.decodeKey(T),""]:[l.decodeKey(T.slice(0,L)),l.decodeValue(T.slice(L+1))],ye=a.get(z)||[];ye.push(se),a.set(z,ye)}),a}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(a=>{const y=l.fromObject[a],T=Array.isArray(y)?y.map(et):[et(y)];this.map.set(a,T)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const a=this.map.get(l);return a?a[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,a){return this.clone({param:l,value:a,op:"a"})}appendAll(l){const a=[];return Object.keys(l).forEach(y=>{const T=l[y];Array.isArray(T)?T.forEach(L=>{a.push({param:y,value:L,op:"a"})}):a.push({param:y,value:T,op:"a"})}),this.clone(a)}set(l,a){return this.clone({param:l,value:a,op:"s"})}delete(l,a){return this.clone({param:l,value:a,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const a=this.encoder.encodeKey(l);return this.map.get(l).map(y=>a+"="+this.encoder.encodeValue(y)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const a=new qe({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(l),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const a=("a"===l.op?this.map.get(l.param):void 0)||[];a.push(et(l.value)),this.map.set(l.param,a);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let y=this.map.get(l.param)||[];const T=y.indexOf(et(l.value));-1!==T&&y.splice(T,1),y.length>0?this.map.set(l.param,y):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class St{constructor(){this.map=new Map}set(l,a){return this.map.set(l,a),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function xe(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer}function rn(p){return typeof Blob<"u"&&p instanceof Blob}function yn(p){return typeof FormData<"u"&&p instanceof FormData}class Pt{constructor(l,a,y,T){let L;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Ot(p){switch(p){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==y?y:null,L=T):L=y,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new Dt),this.context||(this.context=new St),this.params){const z=this.params.toString();if(0===z.length)this.urlWithParams=a;else{const se=a.indexOf("?");this.urlWithParams=a+(-1===se?"?":se<a.length-1?"&":"")+z}}else this.params=new qe,this.urlWithParams=a}serializeBody(){return null===this.body?null:xe(this.body)||rn(this.body)||yn(this.body)||function ur(p){return typeof URLSearchParams<"u"&&p instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yn(this.body)?null:rn(this.body)?this.body.type||null:xe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const a=l.method||this.method,y=l.url||this.url,T=l.responseType||this.responseType,L=void 0!==l.body?l.body:this.body,z=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,se=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let ye=l.headers||this.headers,He=l.params||this.params;const pt=l.context??this.context;return void 0!==l.setHeaders&&(ye=Object.keys(l.setHeaders).reduce((Vt,bn)=>Vt.set(bn,l.setHeaders[bn]),ye)),l.setParams&&(He=Object.keys(l.setParams).reduce((Vt,bn)=>Vt.set(bn,l.setParams[bn]),He)),new Pt(a,y,L,{params:He,headers:ye,context:pt,reportProgress:se,responseType:T,withCredentials:z})}}var jt=function(p){return p[p.Sent=0]="Sent",p[p.UploadProgress=1]="UploadProgress",p[p.ResponseHeader=2]="ResponseHeader",p[p.DownloadProgress=3]="DownloadProgress",p[p.Response=4]="Response",p[p.User=5]="User",p}(jt||{});class Yt{constructor(l,a=200,y="OK"){this.headers=l.headers||new Dt,this.status=void 0!==l.status?l.status:a,this.statusText=l.statusText||y,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class ut extends Yt{constructor(l={}){super(l),this.type=jt.ResponseHeader}clone(l={}){return new ut({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Le extends Yt{constructor(l={}){super(l),this.type=jt.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new Le({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class tt extends Yt{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function en(p,l){return{body:l,headers:p.headers,context:p.context,observe:p.observe,params:p.params,reportProgress:p.reportProgress,responseType:p.responseType,withCredentials:p.withCredentials}}let Be=(()=>{class p{constructor(a){this.handler=a}request(a,y,T={}){let L;if(a instanceof Pt)L=a;else{let ye,He;ye=T.headers instanceof Dt?T.headers:new Dt(T.headers),T.params&&(He=T.params instanceof qe?T.params:new qe({fromObject:T.params})),L=new Pt(a,y,void 0!==T.body?T.body:null,{headers:ye,context:T.context,params:He,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const z=(0,Ie.of)(L).pipe((0,be.H)(ye=>this.handler.handle(ye)));if(a instanceof Pt||"events"===T.observe)return z;const se=z.pipe((0,Ue.p)(ye=>ye instanceof Le));switch(T.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return se.pipe((0,Se.T)(ye=>{if(null!==ye.body&&!(ye.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ye.body}));case"blob":return se.pipe((0,Se.T)(ye=>{if(null!==ye.body&&!(ye.body instanceof Blob))throw new Error("Response is not a Blob.");return ye.body}));case"text":return se.pipe((0,Se.T)(ye=>{if(null!==ye.body&&"string"!=typeof ye.body)throw new Error("Response is not a string.");return ye.body}));default:return se.pipe((0,Se.T)(ye=>ye.body))}case"response":return se;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(a,y={}){return this.request("DELETE",a,y)}get(a,y={}){return this.request("GET",a,y)}head(a,y={}){return this.request("HEAD",a,y)}jsonp(a,y){return this.request("JSONP",a,{params:(new qe).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,y={}){return this.request("OPTIONS",a,y)}patch(a,y,T={}){return this.request("PATCH",a,en(T,y))}post(a,y,T={}){return this.request("POST",a,en(T,y))}put(a,y,T={}){return this.request("PUT",a,en(T,y))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(lt))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function sr(p,l){return l(p)}function sn(p,l){return(a,y)=>l.intercept(a,{handle:T=>p(T,y)})}const Xt=new i.nKC(""),$n=new i.nKC(""),kn=new i.nKC("");function Gt(){let p=null;return(l,a)=>{null===p&&(p=((0,i.WQX)(Xt,{optional:!0})??[]).reduceRight(sn,sr));const y=(0,i.WQX)(i.$K3),T=y.add();return p(l,a).pipe((0,ee.j)(()=>y.remove(T)))}}let Lt=(()=>{class p extends lt{constructor(a,y){super(),this.backend=a,this.injector=y,this.chain=null,this.pendingTasks=(0,i.WQX)(i.$K3)}handle(a){if(null===this.chain){const T=Array.from(new Set([...this.injector.get($n),...this.injector.get(kn,[])]));this.chain=T.reduceRight((L,z)=>function Ln(p,l,a){return(y,T)=>a.runInContext(()=>l(y,L=>p(L,T)))}(L,z,this.injector),sr)}const y=this.pendingTasks.add();return this.chain(a,T=>this.backend.handle(T)).pipe((0,ee.j)(()=>this.pendingTasks.remove(y)))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Ze),i.KVO(i.uvJ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const Kn=/^\)\]\}',?\n/;let _s=(()=>{class p{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new i.wOt(-2800,!1);const y=this.xhrFactory;return(y.\u0275loadImpl?(0,pe.H)(y.\u0275loadImpl()):(0,Ie.of)(null)).pipe((0,oe.n)(()=>new Oe.c(L=>{const z=y.build();if(z.open(a.method,a.urlWithParams),a.withCredentials&&(z.withCredentials=!0),a.headers.forEach((Jt,Pn)=>z.setRequestHeader(Jt,Pn.join(","))),a.headers.has("Accept")||z.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const Jt=a.detectContentTypeHeader();null!==Jt&&z.setRequestHeader("Content-Type",Jt)}if(a.responseType){const Jt=a.responseType.toLowerCase();z.responseType="json"!==Jt?Jt:"text"}const se=a.serializeBody();let ye=null;const He=()=>{if(null!==ye)return ye;const Jt=z.statusText||"OK",Pn=new Dt(z.getAllResponseHeaders()),mr=function di(p){return"responseURL"in p&&p.responseURL?p.responseURL:/^X-Request-URL:/m.test(p.getAllResponseHeaders())?p.getResponseHeader("X-Request-URL"):null}(z)||a.url;return ye=new ut({headers:Pn,status:z.status,statusText:Jt,url:mr}),ye},pt=()=>{let{headers:Jt,status:Pn,statusText:mr,url:Gr}=He(),vr=null;204!==Pn&&(vr=typeof z.response>"u"?z.responseText:z.response),0===Pn&&(Pn=vr?200:0);let or=Pn>=200&&Pn<300;if("json"===a.responseType&&"string"==typeof vr){const Jr=vr;vr=vr.replace(Kn,"");try{vr=""!==vr?JSON.parse(vr):null}catch(Kr){vr=Jr,or&&(or=!1,vr={error:Kr,text:vr})}}or?(L.next(new Le({body:vr,headers:Jt,status:Pn,statusText:mr,url:Gr||void 0})),L.complete()):L.error(new tt({error:vr,headers:Jt,status:Pn,statusText:mr,url:Gr||void 0}))},Vt=Jt=>{const{url:Pn}=He(),mr=new tt({error:Jt,status:z.status||0,statusText:z.statusText||"Unknown Error",url:Pn||void 0});L.error(mr)};let bn=!1;const En=Jt=>{bn||(L.next(He()),bn=!0);let Pn={type:jt.DownloadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(Pn.total=Jt.total),"text"===a.responseType&&z.responseText&&(Pn.partialText=z.responseText),L.next(Pn)},Tn=Jt=>{let Pn={type:jt.UploadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(Pn.total=Jt.total),L.next(Pn)};return z.addEventListener("load",pt),z.addEventListener("error",Vt),z.addEventListener("timeout",Vt),z.addEventListener("abort",Vt),a.reportProgress&&(z.addEventListener("progress",En),null!==se&&z.upload&&z.upload.addEventListener("progress",Tn)),z.send(se),L.next({type:jt.Sent}),()=>{z.removeEventListener("error",Vt),z.removeEventListener("abort",Vt),z.removeEventListener("load",pt),z.removeEventListener("timeout",Vt),a.reportProgress&&(z.removeEventListener("progress",En),null!==se&&z.upload&&z.upload.removeEventListener("progress",Tn)),z.readyState!==z.DONE&&z.abort()}})))}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.N0))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();const gn=new i.nKC("XSRF_ENABLED"),rr=new i.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zn=new i.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Si{}let nt=(()=>{class p{constructor(a,y,T){this.doc=a,this.platform=y,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_e._b)(a,this.cookieName),this.lastCookieString=a),this.lastToken}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(i.Agw),i.KVO(rr))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();function gt(p,l){const a=p.url.toLowerCase();if(!(0,i.WQX)(gn)||"GET"===p.method||"HEAD"===p.method||a.startsWith("http://")||a.startsWith("https://"))return l(p);const y=(0,i.WQX)(Si).getToken(),T=(0,i.WQX)(zn);return null!=y&&!p.headers.has(T)&&(p=p.clone({headers:p.headers.set(T,y)})),l(p)}var Re=function(p){return p[p.Interceptors=0]="Interceptors",p[p.LegacyInterceptors=1]="LegacyInterceptors",p[p.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",p[p.NoXsrfProtection=3]="NoXsrfProtection",p[p.JsonpSupport=4]="JsonpSupport",p[p.RequestsMadeViaParent=5]="RequestsMadeViaParent",p[p.Fetch=6]="Fetch",p}(Re||{});function vt(p,l){return{\u0275kind:p,\u0275providers:l}}function Kt(...p){const l=[Be,_s,Lt,{provide:lt,useExisting:Lt},{provide:Ze,useExisting:_s},{provide:$n,useValue:gt,multi:!0},{provide:gn,useValue:!0},{provide:Si,useClass:nt}];for(const a of p)l.push(...a.\u0275providers);return(0,i.EmA)(l)}const Lr=new i.nKC("LEGACY_INTERCEPTOR_FN");let fe=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:[Kt(vt(Re.LegacyInterceptors,[{provide:Lr,useFactory:Gt},{provide:$n,useExisting:Lr,multi:!0}]))]})}}return p})();var dr=j(6814),ws=j(2359),vi=j(8704),Li=j(6861),xi=j(923),Ne=j(9437),Mt=j(3349);function ge(p,l){if(1&p&&(i.j41(0,"div",5),i.nrm(1,"img",6),i.j41(2,"h3"),i.EFF(3),i.k0s(),i.j41(4,"h4"),i.EFF(5),i.k0s(),i.j41(6,"p"),i.EFF(7),i.k0s()()),2&p){const a=l.$implicit;i.R7$(1),i.FS9("alt",a.name),i.Y8G("src",a.photoURL,i.B4B),i.R7$(2),i.JRh(a.name),i.R7$(2),i.JRh(a.role),i.R7$(2),i.JRh(a.bio)}}function me(p,l){if(1&p&&(i.j41(0,"div",1),i.nrm(1,"app-section-tile",2),i.j41(2,"div",3),i.DNE(3,ge,8,5,"div",4),i.nI1(4,"async"),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("title","Meet the Team"),i.R7$(2),i.Y8G("ngForOf",i.bMT(4,2,a.employees$))}}let we=(()=>{class p{constructor(a,y){this.route=a,this.employeeService=y}ngOnInit(){this.employees$=this.route.queryParamMap.pipe((0,Se.T)(a=>a.get("id")||""),(0,oe.n)(a=>this.employeeService.getEmployeesByBusinessId(a)),(0,Ne.W)(a=>(console.error("Error fetching employees:",a),(0,Ie.of)([]))))}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(dr.nX),i.rXU(vi.N))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-meet-the-team"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[["class","meet-the-team",4,"ngIf"],[1,"meet-the-team"],[3,"title"],[1,"team-list"],["class","team-member",4,"ngFor","ngForOf"],[1,"team-member"],[1,"team-photo",3,"src","alt"]],template:function(y,T){1&y&&i.DNE(0,me,5,4,"div",0),2&y&&i.Y8G("ngIf",T.employees$)},dependencies:[_e.Sq,_e.bT,Mt.N,_e.Jj],styles:[".meet-the-team[_ngcontent-%COMP%]{padding:50px 20px;background-color:var(--dark-background-color);text-align:center}.meet-the-team[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:30px;color:var(--primary-color)}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-member[_ngcontent-%COMP%]{background:var(--background-color);border-radius:10px;box-shadow:0 4px 6px #0000001a;margin:10px;padding:20px;flex:1 1 calc(33.333% - 20px);box-sizing:border-box;max-width:calc(33.333% - 20px);text-align:center;transition:transform .3s}.team-member[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.team-photo[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;border-radius:50%;margin-bottom:15px}.team-member[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--dark-background-color);margin:0}.team-member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:#555;margin:0}.team-member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:#666;margin:15px 0 0}@media (max-width: 768px){.team-member[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px);max-width:calc(50% - 20px)}}@media (max-width: 480px){.team-member[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}}"]})}}return p})();var wt=j(4593),qt=j(491);let Vn=(()=>{class p{constructor(a,y){this.route=a,this.router=y,this.backgroundImage="",this.message="",this.imagesAndMessages={services:{image:"../../../../assets/sharedAssets/istockphoto-1344063915-2048x2048.jpg",message:"Discover our Services"},gallery:{image:"../../../../assets/sharedAssets/istockphoto-1551967154-2048x2048.jpg",message:"Explore our Gallery"},"about-us":{image:"../../../../assets/sharedAssets/istockphoto-1162510523-2048x2048.jpg",message:"Learn About Us"},"contact-us":{image:"../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg",message:"Get in Touch"},testimonials:{image:"../../../../assets/sharedAssets/istockphoto-653191338-2048x2048.jpg",message:"What they say about us"}}}ngOnInit(){this.router.events.subscribe(()=>{const y=this.router.url.split("?")[0].replace("/","");console.log("UI - Hero, page: ",y),y&&this.imagesAndMessages[y]?(this.backgroundImage=`url(${this.imagesAndMessages[y].image})`,this.message=this.imagesAndMessages[y].message):(this.backgroundImage="url(../../../../assets/sharedAssets/istockphoto-1066099806-2048x2048.jpg)",this.message="Welcome")})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(dr.nX),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-hero"]],decls:4,vars:3,consts:[[1,"hero"],[1,"hero-overlay"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3),i.k0s()()()),2&y&&(i.xc7("background-image",T.backgroundImage),i.R7$(3),i.JRh(T.message))},styles:[".hero[_ngcontent-%COMP%]{height:600px;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;position:relative}.hero-overlay[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(66,99,51,.8),rgba(66,99,51,0));color:#fff;text-align:center;padding:20px;width:100%;height:100%;display:flex;justify-content:left;vertical-align:bottom}h1[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:20px;color:var(--primary-color)}@media (max-width: 768px){.hero[_ngcontent-%COMP%]{height:400px}.hero-overlay[_ngcontent-%COMP%]{padding:15px;align-items:flex-end}h1[_ngcontent-%COMP%]{font-size:2rem;bottom:8px;left:15px}}@media (max-width: 480px){.hero[_ngcontent-%COMP%]{height:300px}h1[_ngcontent-%COMP%]{font-size:1.5rem;bottom:5px;left:10px}}"]})}}return p})(),On=(()=>{class p{constructor(){this.text="",this.author="",this.imageURL=""}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonial-image"]],inputs:{text:"text",author:"author",imageURL:"imageURL"},decls:8,vars:3,consts:[[1,"testimonial"],[1,"testimonial-image"],["alt","Testimonial Image",3,"src"],[1,"testimonial-content"],[1,"testimonial-text"],[1,"testimonial-name"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"div",3)(4,"p",4),i.EFF(5),i.k0s(),i.j41(6,"p",5),i.EFF(7),i.k0s()()()()),2&y&&(i.R7$(2),i.FS9("src",T.imageURL,i.B4B),i.R7$(3),i.SpI('" ',T.text,'"'),i.R7$(2),i.SpI("\u2013 ",T.author,""))},styles:[".testimonial[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--dark-background-color);padding:2rem;padding-top:6.6vmax;padding-bottom:6.6vmax}.testimonial-image[_ngcontent-%COMP%]{position:relative;max-width:800px}.testimonial-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover}.testimonial-content[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translate(70%,-50%);background-color:var(--primary-color);padding:1.5rem 3rem;max-width:80%}.testimonial-text[_ngcontent-%COMP%]{font-size:2rem;line-height:1.4;color:var(--text-color)}.testimonial-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#777;margin-top:.5rem}@media (max-width: 768px){.testimonial[_ngcontent-%COMP%]{padding:1.5rem}.testimonial-image[_ngcontent-%COMP%]{position:static;max-width:100%;text-align:center}.testimonial-content[_ngcontent-%COMP%]{position:static;transform:none;margin-top:1rem;max-width:100%;text-align:center;padding:1rem 1.5rem}.testimonial-text[_ngcontent-%COMP%]{font-size:1.5rem}.testimonial-name[_ngcontent-%COMP%]{font-size:.8rem;margin-top:.5rem}}"]})}}return p})();function hr(p,l){if(1&p&&(i.qex(0),i.j41(1,"button",3),i.EFF(2),i.k0s(),i.bVm()),2&p){const a=i.XpG();i.R7$(2),i.JRh(a.buttonText)}}function Hr(p,l){if(1&p&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&p){const a=i.XpG();i.R7$(1),i.JRh(a.buttonText)}}const qr=function(p,l){return{"background-color":p,color:l}};let Ir=(()=>{class p{constructor(){this.text="Questions before getting started?",this.buttonText="Get in touch",this.isButton=!1,this.bgColor="#344E5C",this.textColor="#FFFFFF"}ngOnInit(){console.log("CTA, background color: ",this.bgColor),console.log("CTA, text color: ",this.textColor)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-call-to-action"]],inputs:{text:"text",buttonText:"buttonText",isButton:"isButton",bgColor:"bgColor",textColor:"textColor"},decls:6,vars:7,consts:[[1,"cta-container",3,"ngStyle"],[4,"ngIf","ngIfElse"],["linkTemplate",""],[1,"cta-button"],["href","#",1,"afhBtn"]],template:function(y,T){if(1&y&&(i.j41(0,"div",0)(1,"h2"),i.EFF(2),i.k0s(),i.DNE(3,hr,3,1,"ng-container",1),i.DNE(4,Hr,2,1,"ng-template",null,2,i.C5r),i.k0s()),2&y){const L=i.sdS(5);i.Y8G("ngStyle",i.l_i(4,qr,T.bgColor,T.textColor)),i.R7$(2),i.JRh(T.text),i.R7$(1),i.Y8G("ngIf",T.isButton)("ngIfElse",L)}},dependencies:[_e.bT,_e.B3],styles:[".cta-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.cta-button[_ngcontent-%COMP%], .cta-link[_ngcontent-%COMP%]{margin-top:10px;text-decoration:none;color:inherit}.cta-link[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 768px){.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem}}@media (max-width: 480px){.cta-container[_ngcontent-%COMP%]{padding:15px;text-align:center}.cta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return p})();function Qi(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"About Us"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Where Compassion Meets Care: Your Loved Ones, Our Family."),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Story"),i.k0s()(),i.nrm(13,"div",11),i.k0s(),i.j41(14,"section",12)(15,"div",13),i.nrm(16,"img",14),i.j41(17,"div",9)(18,"h2",10),i.EFF(19,"Our Mission"),i.k0s()(),i.nrm(20,"div",11),i.k0s(),i.j41(21,"div",15),i.nrm(22,"img",14),i.j41(23,"div",9)(24,"h2",10),i.EFF(25,"Our Vision"),i.k0s()(),i.nrm(26,"div",11),i.k0s()(),i.j41(27,"section",16),i.nrm(28,"app-meet-the-team",17),i.k0s()(),i.j41(29,"div",18)(30,"div",19)(31,"h2"),i.EFF(32,"Come Meet Our Family"),i.k0s(),i.j41(33,"p"),i.EFF(34," We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home. "),i.k0s(),i.j41(35,"button",20),i.bIt("click",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.navigateToContact())}),i.EFF(36," Schedule a Visit "),i.k0s()()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(13),i.Y8G("innerHTML",a.business.businessStory,i.npT),i.R7$(3),i.Y8G("src",a.business.missionImageUrl||"assets/sharedAssets/image_fx_(1).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",a.business.mission,i.npT),i.R7$(2),i.Y8G("src",a.business.visionImageUrl||"assets/sharedAssets/image_fx_(3).jpg",i.B4B),i.R7$(4),i.Y8G("innerHTML",a.business.vision,i.npT),i.R7$(2),i.Y8G("businessId",a.business.id)}}function Ms(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.missionImageUrl)("title",a.business.missionTitle)("content",a.business.mission)}}function Ji(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.visionImageUrl)("title",a.business.visionTitle)("content",a.business.vision)}}function Ao(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",21)(3,"section",22),i.DNE(4,Ms,1,4,"app-right-text",23),i.DNE(5,Ji,1,4,"app-left-text",23),i.k0s(),i.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(4),i.Y8G("ngIf","ae"===a.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ae"===a.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Do(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.missionImageUrl)("title",a.business.missionTitle)("content",a.business.mission)}}function Vi(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.visionImageUrl)("title",a.business.visionTitle)("content",a.business.vision)}}function $o(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,Do,1,4,"app-right-text",23),i.DNE(4,Vi,1,4,"app-left-text",23),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25)(7,"app-meet-the-team"),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("ngIf","ehc"===a.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","ehc"===a.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[0].name)("text",a.business.testimonials[0].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function oi(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.missionImageUrl)("title",a.business.missionTitle)("content",a.business.mission)}}function Zi(p,l){if(1&p&&i.nrm(0,"app-left-text",26),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.visionImageUrl)("title",a.business.visionTitle)("content",a.business.vision)}}function ys(p,l){if(1&p&&i.nrm(0,"app-right-text",26),2&p){const a=i.XpG(3);i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.motivationImageUrl)("title",a.business.motivationTitle)("content",a.business.motivation)}}function Yr(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.DNE(3,oi,1,4,"app-right-text",23),i.DNE(4,Zi,1,4,"app-left-text",23),i.DNE(5,ys,1,4,"app-right-text",23),i.k0s(),i.nrm(6,"app-testimonial-image",24)(7,"app-call-to-action",25)(8,"app-meet-the-team"),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("ngIf","clemo"===a.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===a.business.theme.themeType),i.R7$(1),i.Y8G("ngIf","clemo"===a.business.theme.themeType),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[2].name)("text",a.business.testimonials[2].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Bi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"section",22),i.nrm(3,"app-right-text",26)(4,"app-left-text",26),i.k0s(),i.nrm(5,"app-testimonial-image",24)(6,"app-call-to-action",25),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.missionImageUrl)("title",a.business.missionTitle)("content",a.business.mission),i.R7$(1),i.Y8G("themeType",a.business.theme.themeType||"")("imageURL",a.business.visionImageUrl)("title",a.business.visionTitle)("content",a.business.vision),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-480743801-2048x2048.jpg")("author",a.business.testimonials[5].name)("text",a.business.testimonials[5].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!1)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Oi(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Qi,37,6,"ng-container",2),i.DNE(3,Ao,9,10,"ng-container",2),i.DNE(4,$o,8,10,"ng-container",2),i.DNE(5,Yr,9,11,"ng-container",2),i.DNE(6,Bi,7,16,"ng-container",3),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let wr=(()=>{class p{constructor(a,y,T,L,z){this.webContent=a,this.route=y,this.router=T,this.metaService=L,this.businessDataService=z,this.business=null,this.businessId=null}navigateToContact(){this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.businessId=a?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(vi.N),i.rXU(dr.nX),i.rXU(dr.Ix),i.rXU(Li.R),i.rXU(xi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-about-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-about"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"business-story"],[1,"heading-container"],[1,"styled-heading"],[1,"services_txt","garamond",3,"innerHTML"],[1,"mission-vision"],[1,"mission"],["alt","Contact Image",3,"src"],[1,"vision"],[1,"business-team"],[3,"businessId"],[1,"cta-section","about-cta"],[1,"cta-content"],[1,"cta-btn",3,"click"],[1,"content-wrapper"],[1,"our-approach"],[3,"themeType","imageURL","title","content",4,"ngIf"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"],[3,"themeType","imageURL","title","content"]],template:function(y,T){1&y&&i.DNE(0,Oi,7,5,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,we,wt.F,qt.G,Vn,On,Ir],styles:['.hero-about[_ngcontent-%COMP%]{background:url(istockphoto-1207318385-2048x2048.d8e6c744c314dbde.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}section[_ngcontent-%COMP%]{margin-bottom:40px}.business-story[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px 20px;border-radius:8px}.business-team[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px}.mission-vision[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:50px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:8px;margin:10px;padding:50px 20px;box-shadow:0 2px 5px #0000001a;flex:1 1 calc(50% - 20px);box-sizing:border-box}.mission[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:30px;color:#333}.mission[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666}.team[_ngcontent-%COMP%]{text-align:center}.team-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.team-item[_ngcontent-%COMP%]{width:250px;margin:10px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 0 10px #0000001a;text-align:center}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.team-info[_ngcontent-%COMP%]{margin-top:10px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px;font-size:1.2rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.mission-vision[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{width:100%;padding:30px 20px;margin:20px 0}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.2rem}.mission-vision[_ngcontent-%COMP%]{margin-bottom:20px}.mission[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]{padding:20px 10px}.business-story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .mission[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vision[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.team-item[_ngcontent-%COMP%]{width:100%;margin:10px 0}.team-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}.team-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.team-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;width:400px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:var(--primary-color);z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.our-approach[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:0 auto}.approach-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin:4rem 0;padding:2rem 0}.approach-text[_ngcontent-%COMP%], .approach-image[_ngcontent-%COMP%]{flex:1;max-width:calc(var(--cell-max-width) * 12)}.approach-text[_ngcontent-%COMP%]{padding:3rem}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:10px}.approach-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;object-fit:cover}.learn-more-btn[_ngcontent-%COMP%]{background-color:#d49a89;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;margin-top:1rem;transition:background-color .3s ease}.learn-more-btn[_ngcontent-%COMP%]:hover{background-color:#c38773}@media (max-width: 768px){.approach-row[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}']})}}return p})();function io(p,l){if(1&p&&(i.j41(0,"div",4),i.nrm(1,"i",5),i.j41(2,"h2"),i.EFF(3),i.k0s(),i.j41(4,"p"),i.EFF(5),i.k0s()()),2&p){const a=l.$implicit;i.R7$(1),i.Y8G("ngClass",a.icon),i.R7$(2),i.JRh(a.name),i.R7$(2),i.JRh(a.description)}}let So=(()=>{class p{constructor(){this.layoutType="demo"}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-item-list"]],inputs:{services:"services",layoutType:"layoutType"},decls:4,vars:2,consts:[[1,"services-section"],[3,"title"],[1,"services-grid"],["class","service-item",4,"ngFor","ngForOf"],[1,"service-item"],[1,"services-item-icon",3,"ngClass"]],template:function(y,T){1&y&&(i.j41(0,"section",0),i.nrm(1,"app-section-tile",1),i.j41(2,"div",2),i.DNE(3,io,6,3,"div",3),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("title","Our Services"),i.R7$(2),i.Y8G("ngForOf",T.services))},dependencies:[_e.YU,_e.Sq,Mt.N],styles:[".services-section[_ngcontent-%COMP%]{text-align:center;padding:2rem;max-width:calc(var(--cell-max-width) * 24);margin:auto}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}.service-item[_ngcontent-%COMP%]{border-radius:8px;padding:2.5rem;text-align:center}.services-item-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:10px}@media (max-width: 600px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.service-item[_ngcontent-%COMP%]{padding:1.5rem}.services-item-icon[_ngcontent-%COMP%]{font-size:40px}}@media (max-width: 480px){.services-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.service-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();function hi(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const a=l.$implicit;i.R7$(2),i.JRh(a.name)}}function Fa(p,l){if(1&p&&(i.j41(0,"li")(1,"h3"),i.EFF(2),i.k0s()()),2&p){const a=l.$implicit;i.R7$(2),i.JRh(a.name)}}function Xa(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",4)(2,"div",5)(3,"h1"),i.EFF(4,"Our Services"),i.k0s(),i.j41(5,"div",6)(6,"p"),i.EFF(7,"Providing exceptional care tailored to your needs"),i.k0s()()()(),i.j41(8,"div",7)(9,"section",8)(10,"div",9)(11,"h2",10),i.EFF(12,"Our Services"),i.k0s()(),i.j41(13,"ul"),i.DNE(14,hi,3,1,"li",11),i.k0s()(),i.j41(15,"section",8)(16,"div",9)(17,"h2",10),i.EFF(18,"Our Benefits"),i.k0s()(),i.j41(19,"ul"),i.DNE(20,Fa,3,1,"li",11),i.k0s()(),i.j41(21,"section",12)(22,"div",9)(23,"h2",10),i.EFF(24,"Special Programs"),i.k0s()(),i.j41(25,"h3"),i.EFF(26),i.k0s()(),i.j41(27,"section",13)(28,"div",14),i.nrm(29,"img",15),i.j41(30,"div",9)(31,"h2",10),i.EFF(32,"Tours"),i.k0s()(),i.nrm(33,"div",16),i.k0s(),i.j41(34,"div",17),i.nrm(35,"img",18),i.j41(36,"div",9)(37,"h2",10),i.EFF(38,"Free Consulting"),i.k0s()(),i.nrm(39,"div",16),i.k0s()()(),i.j41(40,"div",19)(41,"div",20)(42,"h2"),i.EFF(43,"Ready to Experience Exceptional Care?"),i.k0s(),i.j41(44,"p"),i.EFF(45," Schedule a free consultation today and let\u2019s discuss how we can meet your needs with our personalized services. "),i.k0s(),i.j41(46,"button",21),i.bIt("click",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.navigateToContact())}),i.EFF(47," Book a Consultation "),i.k0s()()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(14),i.Y8G("ngForOf",a.business.services),i.R7$(6),i.Y8G("ngForOf",a.business.benefits),i.R7$(6),i.JRh(a.business.specialPrograms),i.R7$(7),i.Y8G("innerHTML",a.business.tours,i.npT),i.R7$(6),i.Y8G("innerHTML",a.business.freeConsulting,i.npT)}}function Pi(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[1].name)("text",a.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}const js=function(){return{icon:"fas fa-person-cane",name:"Mobility Assistance",description:"Gentle, reliable support to help residents move safely and confidently, enhancing independence and comfort in their daily lives"}},Rs=function(){return{icon:"fas fa-people-group",name:"Companionship Care",description:"We provide 24-hour care and close supervision, ensuring residents receive attentive, around-the-clock support for their safety and well-being."}},so=function(){return{icon:"fas fa-bowl-food",name:"Meal Planning",description:"3 delicious homemade cooked meals with snacks available, dietary accommodations per doctor orders and preferences."}},Ar=function(){return{icon:"fas fa-prescription-bottle",name:"Medication",description:"24-hour medication administration, management, and reminders to ensure residents receive their medications safely and on time."}},Ii=function(){return{icon:"fas fa-shower",name:"Personal Hygiene",description:"All inclusive personal care including: bathing, grooming, laundry, incontinence support etc. Also available: hair styling, manicure, pedicure, podiatrist."}},ai=function(){return{icon:"fas fa-bed-pulse",name:"Medical Care",description:"All the necessary care for Aging In Place. Able to provide a High Level of Care, including Diabetic Care."}},es=function(p,l,a,y,T,L){return[p,l,a,y,T,L]};function oo(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",i.l4e(16,es,i.lJ4(10,js),i.lJ4(11,Rs),i.lJ4(12,so),i.lJ4(13,Ar),i.lJ4(14,Ii),i.lJ4(15,ai))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[1].name)("text",a.business.testimonials[1].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function ts(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",a.business.services),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function As(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",22),i.nrm(3,"app-item-list",23)(4,"app-testimonial-image",24)(5,"app-call-to-action",25),i.k0s(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(3),i.Y8G("layoutType",a.business.theme.themeType)("services",i.l4e(16,es,i.lJ4(10,js),i.lJ4(11,Rs),i.lJ4(12,so),i.lJ4(13,Ar),i.lJ4(14,Ii),i.lJ4(15,ai))),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[6].name)("text",a.business.testimonials[6].quote),i.R7$(1),i.Y8G("text","Have more questions?")("buttonText","Contact Us")("isButton",!0)("bgColor",a.business.theme.backgroundColor)("textColor",a.business.theme.textColor)}}function Hs(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Xa,48,5,"ng-container",2),i.DNE(3,Pi,6,10,"ng-container",2),i.DNE(4,oo,6,23,"ng-container",2),i.DNE(5,ts,6,10,"ng-container",2),i.DNE(6,As,6,23,"ng-container",3),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.business.theme.themeType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo")}}let ci=(()=>{class p{constructor(a,y,T){this.router=a,this.businessDataService=y,this.metaService=T,this.business=null,this.businessId=null}navigateToContact(){this.businessId&&this.router.navigate(["/contact-us"],{queryParams:{id:this.businessId}})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.businessId=a?.id||null,this.businessId&&this.metaService.loadAndApplyMeta(this.businessId)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(dr.Ix),i.rXU(xi.A),i.rXU(Li.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-services"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"hero-services"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"services-list"],[1,"heading-container"],[1,"styled-heading"],[4,"ngFor","ngForOf"],[1,"special-programs"],[1,"tours-consulting"],[1,"tours"],["src","../../../assets/sharedAssets/image_fx_(3).jpg",1,"service_image"],[1,"services_txt","garamond",3,"innerHTML"],[1,"consulting"],["src","../../../assets/sharedAssets/image_fx_(1).jpg",1,"service_image"],[1,"cta-section","services-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"content-wrapper"],[3,"layoutType","services"],[3,"imageURL","author","text"],[3,"text","buttonText","isButton","bgColor","textColor"]],template:function(y,T){1&y&&i.DNE(0,Hs,7,5,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.Sq,_e.bT,_e.ux,_e.e1,_e.fG,So,Vn,On,Ir],styles:['.hero-services[_ngcontent-%COMP%]{background:url(istockphoto-1335866199-2048x2048.e588b8992a5787c5.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.5rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.services-list[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:12px;margin-bottom:40px}.service-item[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;margin-bottom:20px;border-radius:8px;box-shadow:0 2px 5px #0000001a;display:flex;align-items:center}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:30px;border-radius:8px;margin-bottom:40px}.tours-consulting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{flex:1;margin-right:40px}.tours[_ngcontent-%COMP%]:last-child, .consulting[_ngcontent-%COMP%]:last-child{margin-right:0}.service-icon[_ngcontent-%COMP%]{flex:0 0 50px;margin-right:20px}.service-content[_ngcontent-%COMP%]{flex:1}.service_heading[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:1rem}.services-page[_ngcontent-%COMP%]{text-align:center}.service_image[_ngcontent-%COMP%]{max-width:100%}.heading-container[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:10px;position:relative;overflow:hidden}.styled-heading[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:2rem;font-weight:700;color:#333;position:relative;display:inline-block;padding:10px 20px;background-color:var(--background-color);box-shadow:0 4px 6px #0000001a}.styled-heading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:0;right:0;height:2px;background-color:#e0e0e0;z-index:0;transform:translateY(-50%)}.styled-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;width:100px;height:5px;background-color:var(--accent-color);transform:translate(-50%)}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.special-programs[_ngcontent-%COMP%], .tours-consulting[_ngcontent-%COMP%]{padding:20px}.tours-consulting[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.tours[_ngcontent-%COMP%], .consulting[_ngcontent-%COMP%]{margin-right:0;min-width:100%}.service-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.service_heading[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.5rem;padding:8px 16px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tours-consulting[_ngcontent-%COMP%], .special-programs[_ngcontent-%COMP%]{padding:10px}.service_heading[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.25rem}.styled-heading[_ngcontent-%COMP%]{font-size:1.25rem;padding:6px 12px}.service-item[_ngcontent-%COMP%]{padding:15px}}.services-cta[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:50px;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}']})}}return p})();var tn="top",Bn="bottom",Wn="right",Xr="left",$i="auto",wi=[tn,Bn,Wn,Xr],ns="start",kr="end",rs="clippingParents",vs="viewport",qn="popper",ds="reference",Ds=wi.reduce(function(p,l){return p.concat([l+"-"+ns,l+"-"+kr])},[]),Z=[].concat(wi,[$i]).reduce(function(p,l){return p.concat([l,l+"-"+ns,l+"-"+kr])},[]),Q="beforeRead",Ae="read",ke="afterRead",Qe="beforeMain",mt="main",Qt="afterMain",Sn="beforeWrite",vn="write",Zn="afterWrite",Dr=[Q,Ae,ke,Qe,mt,Qt,Sn,vn,Zn];function xn(p){return p?(p.nodeName||"").toLowerCase():null}function wn(p){if(null==p)return window;if("[object Window]"!==p.toString()){var l=p.ownerDocument;return l&&l.defaultView||window}return p}function Yn(p){return p instanceof wn(p).Element||p instanceof Element}function Pr(p){return p instanceof wn(p).HTMLElement||p instanceof HTMLElement}function zr(p){return!(typeof ShadowRoot>"u")&&(p instanceof wn(p).ShadowRoot||p instanceof ShadowRoot)}const Ai={name:"applyStyles",enabled:!0,phase:"write",fn:function Mi(p){var l=p.state;Object.keys(l.elements).forEach(function(a){var y=l.styles[a]||{},T=l.attributes[a]||{},L=l.elements[a];!Pr(L)||!xn(L)||(Object.assign(L.style,y),Object.keys(T).forEach(function(z){var se=T[z];!1===se?L.removeAttribute(z):L.setAttribute(z,!0===se?"":se)}))})},effect:function Ki(p){var l=p.state,a={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,a.popper),l.styles=a,l.elements.arrow&&Object.assign(l.elements.arrow.style,a.arrow),function(){Object.keys(l.elements).forEach(function(y){var T=l.elements[y],L=l.attributes[y]||{},se=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:a[y]).reduce(function(ye,He){return ye[He]="",ye},{});!Pr(T)||!xn(T)||(Object.assign(T.style,se),Object.keys(L).forEach(function(ye){T.removeAttribute(ye)}))})}},requires:["computeStyles"]};function ar(p){return p.split("-")[0]}var pi=Math.max,Di=Math.min,Rr=Math.round;function go(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function is(){return!/^((?!chrome|android).)*safari/i.test(go())}function Es(p,l,a){void 0===l&&(l=!1),void 0===a&&(a=!1);var y=p.getBoundingClientRect(),T=1,L=1;l&&Pr(p)&&(T=p.offsetWidth>0&&Rr(y.width)/p.offsetWidth||1,L=p.offsetHeight>0&&Rr(y.height)/p.offsetHeight||1);var se=(Yn(p)?wn(p):window).visualViewport,ye=!is()&&a,He=(y.left+(ye&&se?se.offsetLeft:0))/T,pt=(y.top+(ye&&se?se.offsetTop:0))/L,Vt=y.width/T,bn=y.height/L;return{width:Vt,height:bn,top:pt,right:He+Vt,bottom:pt+bn,left:He,x:He,y:pt}}function qs(p){var l=Es(p),a=p.offsetWidth,y=p.offsetHeight;return Math.abs(l.width-a)<=1&&(a=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:p.offsetLeft,y:p.offsetTop,width:a,height:y}}function Ho(p,l){var a=l.getRootNode&&l.getRootNode();if(p.contains(l))return!0;if(a&&zr(a)){var y=l;do{if(y&&p.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function eo(p){return wn(p).getComputedStyle(p)}function Ea(p){return["table","td","th"].indexOf(xn(p))>=0}function Go(p){return((Yn(p)?p.ownerDocument:p.document)||window.document).documentElement}function bs(p){return"html"===xn(p)?p:p.assignedSlot||p.parentNode||(zr(p)?p.host:null)||Go(p)}function Ss(p){return Pr(p)&&"fixed"!==eo(p).position?p.offsetParent:null}function zo(p){for(var l=wn(p),a=Ss(p);a&&Ea(a)&&"static"===eo(a).position;)a=Ss(a);return a&&("html"===xn(a)||"body"===xn(a)&&"static"===eo(a).position)?l:a||function xo(p){var l=/firefox/i.test(go());if(/Trident/i.test(go())&&Pr(p)&&"fixed"===eo(p).position)return null;var T=bs(p);for(zr(T)&&(T=T.host);Pr(T)&&["html","body"].indexOf(xn(T))<0;){var L=eo(T);if("none"!==L.transform||"none"!==L.perspective||"paint"===L.contain||-1!==["transform","perspective"].indexOf(L.willChange)||l&&"filter"===L.willChange||l&&L.filter&&"none"!==L.filter)return T;T=T.parentNode}return null}(p)||l}function aa(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function li(p,l,a){return pi(p,Di(l,a))}function W(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function J(p,l){return l.reduce(function(a,y){return a[y]=p,a},{})}const _n={name:"arrow",enabled:!0,phase:"main",fn:function ce(p){var l,a=p.state,y=p.name,T=p.options,L=a.elements.arrow,z=a.modifiersData.popperOffsets,se=ar(a.placement),ye=aa(se),pt=[Xr,Wn].indexOf(se)>=0?"height":"width";if(L&&z){var Vt=function(l,a){return W("number"!=typeof(l="function"==typeof l?l(Object.assign({},a.rects,{placement:a.placement})):l)?l:J(l,wi))}(T.padding,a),bn=qs(L),En="y"===ye?tn:Xr,Tn="y"===ye?Bn:Wn,Jt=a.rects.reference[pt]+a.rects.reference[ye]-z[ye]-a.rects.popper[pt],Pn=z[ye]-a.rects.reference[ye],mr=zo(L),Gr=mr?"y"===ye?mr.clientHeight||0:mr.clientWidth||0:0,Kr=Gr/2-bn[pt]/2+(Jt/2-Pn/2),yi=li(Vt[En],Kr,Gr-bn[pt]-Vt[Tn]);a.modifiersData[y]=((l={})[ye]=yi,l.centerOffset=yi-Kr,l)}},effect:function je(p){var l=p.state,y=p.options.element,T=void 0===y?"[data-popper-arrow]":y;null!=T&&("string"==typeof T&&!(T=l.elements.popper.querySelector(T))||Ho(l.elements.popper,T)&&(l.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function er(p){return p.split("-")[1]}var Cs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ss(p){var l,a=p.popper,y=p.popperRect,T=p.placement,L=p.variation,z=p.offsets,se=p.position,ye=p.gpuAcceleration,He=p.adaptive,pt=p.roundOffsets,Vt=p.isFixed,bn=z.x,En=void 0===bn?0:bn,Tn=z.y,Jt=void 0===Tn?0:Tn,Pn="function"==typeof pt?pt({x:En,y:Jt}):{x:En,y:Jt};En=Pn.x,Jt=Pn.y;var mr=z.hasOwnProperty("x"),Gr=z.hasOwnProperty("y"),vr=Xr,or=tn,Jr=window;if(He){var Kr=zo(a),yi="clientHeight",us="clientWidth";Kr===wn(a)&&"static"!==eo(Kr=Go(a)).position&&"absolute"===se&&(yi="scrollHeight",us="scrollWidth"),(T===tn||(T===Xr||T===Wn)&&L===kr)&&(or=Bn,Jt-=(Vt&&Kr===Jr&&Jr.visualViewport?Jr.visualViewport.height:Kr[yi])-y.height,Jt*=ye?1:-1),T!==Xr&&(T!==tn&&T!==Bn||L!==kr)||(vr=Wn,En-=(Vt&&Kr===Jr&&Jr.visualViewport?Jr.visualViewport.width:Kr[us])-y.width,En*=ye?1:-1)}var Ks,fo=Object.assign({position:se},He&&Cs),Bo=!0===pt?function Ys(p,l){var y=p.y,T=l.devicePixelRatio||1;return{x:Rr(p.x*T)/T||0,y:Rr(y*T)/T||0}}({x:En,y:Jt},wn(a)):{x:En,y:Jt};return En=Bo.x,Jt=Bo.y,Object.assign({},fo,ye?((Ks={})[or]=Gr?"0":"",Ks[vr]=mr?"0":"",Ks.transform=(Jr.devicePixelRatio||1)<=1?"translate("+En+"px, "+Jt+"px)":"translate3d("+En+"px, "+Jt+"px, 0)",Ks):((l={})[or]=Gr?Jt+"px":"",l[vr]=mr?En+"px":"",l.transform="",l))}const Gs={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function mo(p){var l=p.state,a=p.options,y=a.gpuAcceleration,T=void 0===y||y,L=a.adaptive,z=void 0===L||L,se=a.roundOffsets,ye=void 0===se||se,He={placement:ar(l.placement),variation:er(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:T,isFixed:"fixed"===l.options.strategy};null!=l.modifiersData.popperOffsets&&(l.styles.popper=Object.assign({},l.styles.popper,ss(Object.assign({},He,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:z,roundOffsets:ye})))),null!=l.modifiersData.arrow&&(l.styles.arrow=Object.assign({},l.styles.arrow,ss(Object.assign({},He,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ye})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var Hi={passive:!0};const bc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Wo(p){var l=p.state,a=p.instance,y=p.options,T=y.scroll,L=void 0===T||T,z=y.resize,se=void 0===z||z,ye=wn(l.elements.popper),He=[].concat(l.scrollParents.reference,l.scrollParents.popper);return L&&He.forEach(function(pt){pt.addEventListener("scroll",a.update,Hi)}),se&&ye.addEventListener("resize",a.update,Hi),function(){L&&He.forEach(function(pt){pt.removeEventListener("scroll",a.update,Hi)}),se&&ye.removeEventListener("resize",a.update,Hi)}},data:{}};var xs={left:"right",right:"left",bottom:"top",top:"bottom"};function Mo(p){return p.replace(/left|right|bottom|top/g,function(l){return xs[l]})}var qi={start:"end",end:"start"};function Cc(p){return p.replace(/start|end/g,function(l){return qi[l]})}function Yi(p){var l=wn(p);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Ca(p){return Es(Go(p)).left+Yi(p).scrollLeft}function hs(p){var l=eo(p);return/auto|scroll|overlay|hidden/.test(l.overflow+l.overflowY+l.overflowX)}function Ia(p){return["html","body","#document"].indexOf(xn(p))>=0?p.ownerDocument.body:Pr(p)&&hs(p)?p:Ia(bs(p))}function Ro(p,l){var a;void 0===l&&(l=[]);var y=Ia(p),T=y===(null==(a=p.ownerDocument)?void 0:a.body),L=wn(y),z=T?[L].concat(L.visualViewport||[],hs(y)?y:[]):y,se=l.concat(z);return T?se:se.concat(Ro(bs(z)))}function Qa(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function fr(p,l,a){return l===vs?Qa(function ao(p,l){var a=wn(p),y=Go(p),T=a.visualViewport,L=y.clientWidth,z=y.clientHeight,se=0,ye=0;if(T){L=T.width,z=T.height;var He=is();(He||!He&&"fixed"===l)&&(se=T.offsetLeft,ye=T.offsetTop)}return{width:L,height:z,x:se+Ca(p),y:ye}}(p,a)):Yn(l)?function Su(p,l){var a=Es(p,!1,"fixed"===l);return a.top=a.top+p.clientTop,a.left=a.left+p.clientLeft,a.bottom=a.top+p.clientHeight,a.right=a.left+p.clientWidth,a.width=p.clientWidth,a.height=p.clientHeight,a.x=a.left,a.y=a.top,a}(l,a):Qa(function Ta(p){var l,a=Go(p),y=Yi(p),T=null==(l=p.ownerDocument)?void 0:l.body,L=pi(a.scrollWidth,a.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),z=pi(a.scrollHeight,a.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),se=-y.scrollLeft+Ca(p),ye=-y.scrollTop;return"rtl"===eo(T||a).direction&&(se+=pi(a.clientWidth,T?T.clientWidth:0)-L),{width:L,height:z,x:se,y:ye}}(Go(p)))}function Oo(p){var ye,l=p.reference,a=p.element,y=p.placement,T=y?ar(y):null,L=y?er(y):null,z=l.x+l.width/2-a.width/2,se=l.y+l.height/2-a.height/2;switch(T){case tn:ye={x:z,y:l.y-a.height};break;case Bn:ye={x:z,y:l.y+l.height};break;case Wn:ye={x:l.x+l.width,y:se};break;case Xr:ye={x:l.x-a.width,y:se};break;default:ye={x:l.x,y:l.y}}var He=T?aa(T):null;if(null!=He){var pt="y"===He?"height":"width";switch(L){case ns:ye[He]=ye[He]-(l[pt]/2-a[pt]/2);break;case kr:ye[He]=ye[He]+(l[pt]/2-a[pt]/2)}}return ye}function No(p,l){void 0===l&&(l={});var y=l.placement,T=void 0===y?p.placement:y,L=l.strategy,z=void 0===L?p.strategy:L,se=l.boundary,ye=void 0===se?rs:se,He=l.rootBoundary,pt=void 0===He?vs:He,Vt=l.elementContext,bn=void 0===Vt?qn:Vt,En=l.altBoundary,Tn=void 0!==En&&En,Jt=l.padding,Pn=void 0===Jt?0:Jt,mr=W("number"!=typeof Pn?Pn:J(Pn,wi)),vr=p.rects.popper,or=p.elements[Tn?bn===qn?ds:qn:bn],Jr=function _o(p,l,a,y){var T="clippingParents"===l?function il(p){var l=Ro(bs(p)),y=["absolute","fixed"].indexOf(eo(p).position)>=0&&Pr(p)?zo(p):p;return Yn(y)?l.filter(function(T){return Yn(T)&&Ho(T,y)&&"body"!==xn(T)}):[]}(p):[].concat(l),L=[].concat(T,[a]),se=L.reduce(function(ye,He){var pt=fr(p,He,y);return ye.top=pi(pt.top,ye.top),ye.right=Di(pt.right,ye.right),ye.bottom=Di(pt.bottom,ye.bottom),ye.left=pi(pt.left,ye.left),ye},fr(p,L[0],y));return se.width=se.right-se.left,se.height=se.bottom-se.top,se.x=se.left,se.y=se.top,se}(Yn(or)?or:or.contextElement||Go(p.elements.popper),ye,pt,z),Kr=Es(p.elements.reference),yi=Oo({reference:Kr,element:vr,strategy:"absolute",placement:T}),us=Qa(Object.assign({},vr,yi)),ji=bn===qn?us:Kr,zi={top:Jr.top-ji.top+mr.top,bottom:ji.bottom-Jr.bottom+mr.bottom,left:Jr.left-ji.left+mr.left,right:ji.right-Jr.right+mr.right},fo=p.modifiersData.offset;if(bn===qn&&fo){var Bo=fo[T];Object.keys(zi).forEach(function(Ks){var Wa=[Wn,Bn].indexOf(Ks)>=0?1:-1,Ka=[tn,Bn].indexOf(Ks)>=0?"y":"x";zi[Ks]+=Bo[Ka]*Wa})}return zi}const La={name:"flip",enabled:!0,phase:"main",fn:function Uh(p){var l=p.state,a=p.options,y=p.name;if(!l.modifiersData[y]._skip){for(var T=a.mainAxis,L=void 0===T||T,z=a.altAxis,se=void 0===z||z,ye=a.fallbackPlacements,He=a.padding,pt=a.boundary,Vt=a.rootBoundary,bn=a.altBoundary,En=a.flipVariations,Tn=void 0===En||En,Jt=a.allowedAutoPlacements,Pn=l.options.placement,mr=ar(Pn),vr=ye||(mr!==Pn&&Tn?function Tc(p){if(ar(p)===$i)return[];var l=Mo(p);return[Cc(p),l,Cc(l)]}(Pn):[Mo(Pn)]),or=[Pn].concat(vr).reduce(function(Wi,jl){return Wi.concat(ar(jl)===$i?function xu(p,l){void 0===l&&(l={});var T=l.boundary,L=l.rootBoundary,z=l.padding,se=l.flipVariations,ye=l.allowedAutoPlacements,He=void 0===ye?Z:ye,pt=er(l.placement),Vt=pt?se?Ds:Ds.filter(function(Tn){return er(Tn)===pt}):wi,bn=Vt.filter(function(Tn){return He.indexOf(Tn)>=0});0===bn.length&&(bn=Vt);var En=bn.reduce(function(Tn,Jt){return Tn[Jt]=No(p,{placement:Jt,boundary:T,rootBoundary:L,padding:z})[ar(Jt)],Tn},{});return Object.keys(En).sort(function(Tn,Jt){return En[Tn]-En[Jt]})}(l,{placement:jl,boundary:pt,rootBoundary:Vt,padding:He,flipVariations:Tn,allowedAutoPlacements:Jt}):jl)},[]),Jr=l.rects.reference,Kr=l.rects.popper,yi=new Map,us=!0,ji=or[0],zi=0;zi<or.length;zi++){var fo=or[zi],Bo=ar(fo),Ks=er(fo)===ns,Wa=[tn,Bn].indexOf(Bo)>=0,Ka=Wa?"width":"height",Nn=No(l,{placement:fo,boundary:pt,rootBoundary:Vt,altBoundary:bn,padding:He}),Jn=Wa?Ks?Wn:Xr:Ks?Bn:tn;Jr[Ka]>Kr[Ka]&&(Jn=Mo(Jn));var _r=Mo(Jn),Zr=[];if(L&&Zr.push(Nn[Bo]<=0),se&&Zr.push(Nn[Jn]<=0,Nn[_r]<=0),Zr.every(function(Wi){return Wi})){ji=fo,us=!1;break}yi.set(fo,Zr)}if(us)for(var Na=function(jl){var wg=or.find(function(po){var Ya=yi.get(po);if(Ya)return Ya.slice(0,jl).every(function(ka){return ka})});if(wg)return ji=wg,"break"},wo=Tn?3:1;wo>0&&"break"!==Na(wo);wo--);l.placement!==ji&&(l.modifiersData[y]._skip=!0,l.placement=ji,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Bl(p,l,a){return void 0===a&&(a={x:0,y:0}),{top:p.top-l.height-a.y,right:p.right-l.width+a.x,bottom:p.bottom-l.height+a.y,left:p.left-l.width-a.x}}function Ja(p){return[tn,Wn,Bn,Xr].some(function(l){return p[l]>=0})}const Ic={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function Ko(p){var l=p.state,a=p.name,y=l.rects.reference,T=l.rects.popper,L=l.modifiersData.preventOverflow,z=No(l,{elementContext:"reference"}),se=No(l,{altBoundary:!0}),ye=Bl(z,y),He=Bl(se,T,L),pt=Ja(ye),Vt=Ja(He);l.modifiersData[a]={referenceClippingOffsets:ye,popperEscapeOffsets:He,isReferenceHidden:pt,hasPopperEscaped:Vt},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":pt,"data-popper-escaped":Vt})}},Ua={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Za(p){var l=p.state,y=p.name,T=p.options.offset,L=void 0===T?[0,0]:T,z=Z.reduce(function(pt,Vt){return pt[Vt]=function Va(p,l,a){var y=ar(p),T=[Xr,tn].indexOf(y)>=0?-1:1,L="function"==typeof a?a(Object.assign({},l,{placement:p})):a,z=L[0],se=L[1];return z=z||0,se=(se||0)*T,[Xr,Wn].indexOf(y)>=0?{x:se,y:z}:{x:z,y:se}}(Vt,l.rects,L),pt},{}),se=z[l.placement],He=se.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=se.x,l.modifiersData.popperOffsets.y+=He),l.modifiersData[y]=z}},wc={name:"popperOffsets",enabled:!0,phase:"read",fn:function ec(p){var l=p.state;l.modifiersData[p.name]=Oo({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},B={name:"preventOverflow",enabled:!0,phase:"main",fn:function te(p){var l=p.state,a=p.options,y=p.name,T=a.mainAxis,L=void 0===T||T,z=a.altAxis,se=void 0!==z&&z,bn=a.tether,En=void 0===bn||bn,Tn=a.tetherOffset,Jt=void 0===Tn?0:Tn,Pn=No(l,{boundary:a.boundary,rootBoundary:a.rootBoundary,padding:a.padding,altBoundary:a.altBoundary}),mr=ar(l.placement),Gr=er(l.placement),vr=!Gr,or=aa(mr),Jr=function P(p){return"x"===p?"y":"x"}(or),Kr=l.modifiersData.popperOffsets,yi=l.rects.reference,us=l.rects.popper,ji="function"==typeof Jt?Jt(Object.assign({},l.rects,{placement:l.placement})):Jt,zi="number"==typeof ji?{mainAxis:ji,altAxis:ji}:Object.assign({mainAxis:0,altAxis:0},ji),fo=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,Bo={x:0,y:0};if(Kr){if(L){var Ks,Wa="y"===or?tn:Xr,Ka="y"===or?Bn:Wn,Nn="y"===or?"height":"width",Jn=Kr[or],_r=Jn+Pn[Wa],Zr=Jn-Pn[Ka],Us=En?-us[Nn]/2:0,Na=Gr===ns?yi[Nn]:us[Nn],wo=Gr===ns?-us[Nn]:-yi[Nn],qa=l.elements.arrow,Wi=En&&qa?qs(qa):{width:0,height:0},jl=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wg=jl[Wa],po=jl[Ka],Ya=li(0,yi[Nn],Wi[Nn]),ka=vr?yi[Nn]/2-Us-Ya-wg-zi.mainAxis:Na-Ya-wg-zi.mainAxis,Yf=vr?-yi[Nn]/2+Us+Ya+po+zi.mainAxis:wo+Ya+po+zi.mainAxis,Du=l.elements.arrow&&zo(l.elements.arrow),yb=Du?"y"===or?Du.clientTop||0:Du.clientLeft||0:0,CE=null!=(Ks=fo?.[or])?Ks:0,Xm=Jn+Yf-CE,IE=li(En?Di(_r,Jn+ka-CE-yb):_r,Jn,En?pi(Zr,Xm):Zr);Kr[or]=IE,Bo[or]=IE-Jn}if(se){var wE,Ag=Kr[Jr],My="y"===Jr?"height":"width",r0=Ag+Pn["x"===or?tn:Xr],AE=Ag-Pn["x"===or?Bn:Wn],s0=-1!==[tn,Xr].indexOf(mr),Dg=null!=(wE=fo?.[Jr])?wE:0,DE=s0?r0:Ag-yi[My]-us[My]-Dg+zi.altAxis,o0=s0?Ag+yi[My]+us[My]-Dg-zi.altAxis:AE,SE=En&&s0?function ba(p,l,a){var y=li(p,l,a);return y>a?a:y}(DE,Ag,o0):li(En?DE:r0,Ag,En?o0:AE);Kr[Jr]=SE,Bo[Jr]=SE-Ag}l.modifiersData[y]=Bo}},requiresIfExists:["offset"]};function kt(p,l,a){void 0===a&&(a=!1);var y=Pr(l),T=Pr(l)&&function Ct(p){var l=p.getBoundingClientRect(),a=Rr(l.width)/p.offsetWidth||1,y=Rr(l.height)/p.offsetHeight||1;return 1!==a||1!==y}(l),L=Go(l),z=Es(p,T,a),se={scrollLeft:0,scrollTop:0},ye={x:0,y:0};return(y||!y&&!a)&&(("body"!==xn(l)||hs(L))&&(se=function Me(p){return p!==wn(p)&&Pr(p)?function Y(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):Yi(p)}(l)),Pr(l)?((ye=Es(l,!0)).x+=l.clientLeft,ye.y+=l.clientTop):L&&(ye.x=Ca(L))),{x:z.left+se.scrollLeft-ye.x,y:z.top+se.scrollTop-ye.y,width:z.width,height:z.height}}function Un(p){var l=new Map,a=new Set,y=[];function T(L){a.add(L.name),[].concat(L.requires||[],L.requiresIfExists||[]).forEach(function(se){if(!a.has(se)){var ye=l.get(se);ye&&T(ye)}}),y.push(L)}return p.forEach(function(L){l.set(L.name,L)}),p.forEach(function(L){a.has(L.name)||T(L)}),y}function gi(p){var l;return function(){return l||(l=new Promise(function(a){Promise.resolve().then(function(){l=void 0,a(p())})})),l}}var pr={placement:"bottom",modifiers:[],strategy:"absolute"};function ii(){for(var p=arguments.length,l=new Array(p),a=0;a<p;a++)l[a]=arguments[a];return!l.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function mi(p){void 0===p&&(p={});var a=p.defaultModifiers,y=void 0===a?[]:a,T=p.defaultOptions,L=void 0===T?pr:T;return function(se,ye,He){void 0===He&&(He=L);var pt={placement:"bottom",orderedModifiers:[],options:Object.assign({},pr,L),modifiersData:{},elements:{reference:se,popper:ye},attributes:{},styles:{}},Vt=[],bn=!1,En={state:pt,setOptions:function(mr){var Gr="function"==typeof mr?mr(pt.options):mr;Jt(),pt.options=Object.assign({},L,pt.options,Gr),pt.scrollParents={reference:Yn(se)?Ro(se):se.contextElement?Ro(se.contextElement):[],popper:Ro(ye)};var vr=function Wr(p){var l=Un(p);return Dr.reduce(function(a,y){return a.concat(l.filter(function(T){return T.phase===y}))},[])}(function ri(p){var l=p.reduce(function(a,y){var T=a[y.name];return a[y.name]=T?Object.assign({},T,y,{options:Object.assign({},T.options,y.options),data:Object.assign({},T.data,y.data)}):y,a},{});return Object.keys(l).map(function(a){return l[a]})}([].concat(y,pt.options.modifiers)));return pt.orderedModifiers=vr.filter(function(or){return or.enabled}),function Tn(){pt.orderedModifiers.forEach(function(Pn){var Gr=Pn.options,or=Pn.effect;if("function"==typeof or){var Jr=or({state:pt,name:Pn.name,instance:En,options:void 0===Gr?{}:Gr});Vt.push(Jr||function(){})}})}(),En.update()},forceUpdate:function(){if(!bn){var mr=pt.elements,Gr=mr.reference,vr=mr.popper;if(ii(Gr,vr)){pt.rects={reference:kt(Gr,zo(vr),"fixed"===pt.options.strategy),popper:qs(vr)},pt.reset=!1,pt.placement=pt.options.placement,pt.orderedModifiers.forEach(function(zi){return pt.modifiersData[zi.name]=Object.assign({},zi.data)});for(var or=0;or<pt.orderedModifiers.length;or++)if(!0!==pt.reset){var Jr=pt.orderedModifiers[or],Kr=Jr.fn,yi=Jr.options;"function"==typeof Kr&&(pt=Kr({state:pt,options:void 0===yi?{}:yi,name:Jr.name,instance:En})||pt)}else pt.reset=!1,or=-1}}},update:gi(function(){return new Promise(function(Pn){En.forceUpdate(),Pn(pt)})}),destroy:function(){Jt(),bn=!0}};if(!ii(se,ye))return En;function Jt(){Vt.forEach(function(Pn){return Pn()}),Vt=[]}return En.setOptions(He).then(function(Pn){!bn&&He.onFirstUpdate&&He.onFirstUpdate(Pn)}),En}}var Ri=mi(),Ts=mi({defaultModifiers:[bc,wc,Gs,Ai,Ua,La,B,_n,Ic]}),zs=mi({defaultModifiers:[bc,wc,Gs,Ai]});const Ns=new Map,os={set(p,l,a){Ns.has(p)||Ns.set(p,new Map);const y=Ns.get(p);y.has(l)||0===y.size?y.set(l,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(p,l)=>Ns.has(p)&&Ns.get(p).get(l)||null,remove(p,l){if(!Ns.has(p))return;const a=Ns.get(p);a.delete(l),0===a.size&&Ns.delete(p)}},Er="transitionend",Mr=p=>(p&&window.CSS&&window.CSS.escape&&(p=p.replace(/#([^\s"#']+)/g,(l,a)=>`#${CSS.escape(a)}`)),p),Mu=p=>{p.dispatchEvent(new Event(Er))},yo=p=>!(!p||"object"!=typeof p)&&(typeof p.jquery<"u"&&(p=p[0]),typeof p.nodeType<"u"),Ei=p=>yo(p)?p.jquery?p[0]:p:"string"==typeof p&&p.length>0?document.querySelector(Mr(p)):null,Dc=p=>{if(!yo(p)||0===p.getClientRects().length)return!1;const l="visible"===getComputedStyle(p).getPropertyValue("visibility"),a=p.closest("details:not([open])");if(!a)return l;if(a!==p){const y=p.closest("summary");if(y&&y.parentNode!==a||null===y)return!1}return l},la=p=>!(p&&p.nodeType===Node.ELEMENT_NODE&&!p.classList.contains("disabled"))||(typeof p.disabled<"u"?p.disabled:p.hasAttribute("disabled")&&"false"!==p.getAttribute("disabled")),qo=p=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof p.getRootNode){const l=p.getRootNode();return l instanceof ShadowRoot?l:null}return p instanceof ShadowRoot?p:p.parentNode?qo(p.parentNode):null},as=()=>{},Sc=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$l=[],vo=()=>"rtl"===document.documentElement.dir,lo=p=>{(p=>{"loading"===document.readyState?($l.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of $l)l()}),$l.push(p)):p()})(()=>{const l=Sc();if(l){const a=p.NAME,y=l.fn[a];l.fn[a]=p.jQueryInterface,l.fn[a].Constructor=p,l.fn[a].noConflict=()=>(l.fn[a]=y,p.jQueryInterface)}})},Hn=(p,l=[],a=p)=>"function"==typeof p?p(...l):a,sl=(p,l,a=!0)=>{if(!a)return void Hn(p);const T=(p=>{if(!p)return 0;let{transitionDuration:l,transitionDelay:a}=window.getComputedStyle(p);const y=Number.parseFloat(l),T=Number.parseFloat(a);return y||T?(l=l.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(l)+Number.parseFloat(a))):0})(l)+5;let L=!1;const z=({target:se})=>{se===l&&(L=!0,l.removeEventListener(Er,z),Hn(p))};l.addEventListener(Er,z),setTimeout(()=>{L||Mu(l)},T)},ol=(p,l,a,y)=>{const T=p.length;let L=p.indexOf(l);return-1===L?!a&&y?p[T-1]:p[0]:(L+=a?1:-1,y&&(L=(L+T)%T),p[Math.max(0,Math.min(L,T-1))])},wa=/[^.]*(?=\..*)\.|.*/,Hl=/\..*/,Bh=/::\d+$/,al={};let Yo=1;const Ru={mouseenter:"mouseover",mouseleave:"mouseout"},Ou=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Xi(p,l){return l&&`${l}::${Yo++}`||p.uidEvent||Yo++}function xc(p){const l=Xi(p);return p.uidEvent=l,al[l]=al[l]||{},al[l]}function Sr(p,l,a=null){return Object.values(p).find(y=>y.callable===l&&y.delegationSelector===a)}function Lo(p,l,a){const y="string"==typeof l,T=y?a:l||a;let L=tc(p);return Ou.has(L)||(L=p),[y,T,L]}function cs(p,l,a,y,T){if("string"!=typeof l||!p)return;let[L,z,se]=Lo(l,a,y);var Tn;l in Ru&&(Tn=z,z=function(Jt){if(!Jt.relatedTarget||Jt.relatedTarget!==Jt.delegateTarget&&!Jt.delegateTarget.contains(Jt.relatedTarget))return Tn.call(this,Jt)});const ye=xc(p),He=ye[se]||(ye[se]={}),pt=Sr(He,z,L?a:null);if(pt)return void(pt.oneOff=pt.oneOff&&T);const Vt=Xi(z,l.replace(wa,"")),bn=L?function Wt(p,l,a){return function y(T){const L=p.querySelectorAll(l);for(let{target:z}=T;z&&z!==this;z=z.parentNode)for(const se of L)if(se===z)return nc(T,{delegateTarget:z}),y.oneOff&&zt.off(p,T.type,l,a),a.apply(z,[T])}}(p,a,z):function Nu(p,l){return function a(y){return nc(y,{delegateTarget:p}),a.oneOff&&zt.off(p,y.type,l),l.apply(p,[y])}}(p,z);bn.delegationSelector=L?a:null,bn.callable=z,bn.oneOff=T,bn.uidEvent=Vt,He[Vt]=bn,p.addEventListener(se,bn,L)}function Ps(p,l,a,y,T){const L=Sr(l[a],y,T);L&&(p.removeEventListener(a,L,!!T),delete l[a][L.uidEvent])}function cl(p,l,a,y){const T=l[a]||{};for(const[L,z]of Object.entries(T))L.includes(y)&&Ps(p,l,a,z.callable,z.delegationSelector)}function tc(p){return p=p.replace(Hl,""),Ru[p]||p}const zt={on(p,l,a,y){cs(p,l,a,y,!1)},one(p,l,a,y){cs(p,l,a,y,!0)},off(p,l,a,y){if("string"!=typeof l||!p)return;const[T,L,z]=Lo(l,a,y),se=z!==l,ye=xc(p),He=ye[z]||{},pt=l.startsWith(".");if(typeof L<"u"){if(!Object.keys(He).length)return;Ps(p,ye,z,L,T?a:null)}else{if(pt)for(const Vt of Object.keys(ye))cl(p,ye,Vt,l.slice(1));for(const[Vt,bn]of Object.entries(He)){const En=Vt.replace(Bh,"");(!se||l.includes(En))&&Ps(p,ye,z,bn.callable,bn.delegationSelector)}}},trigger(p,l,a){if("string"!=typeof l||!p)return null;const y=Sc();let z=null,se=!0,ye=!0,He=!1;l!==tc(l)&&y&&(z=y.Event(l,a),y(p).trigger(z),se=!z.isPropagationStopped(),ye=!z.isImmediatePropagationStopped(),He=z.isDefaultPrevented());const pt=nc(new Event(l,{bubbles:se,cancelable:!0}),a);return He&&pt.preventDefault(),ye&&p.dispatchEvent(pt),pt.defaultPrevented&&z&&z.preventDefault(),pt}};function nc(p,l={}){for(const[a,y]of Object.entries(l))try{p[a]=y}catch{Object.defineProperty(p,a,{configurable:!0,get:()=>y})}return p}function Gl(p){if("true"===p)return!0;if("false"===p)return!1;if(p===Number(p).toString())return Number(p);if(""===p||"null"===p)return null;if("string"!=typeof p)return p;try{return JSON.parse(decodeURIComponent(p))}catch{return p}}function zl(p){return p.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const Vo={setDataAttribute(p,l,a){p.setAttribute(`data-bs-${zl(l)}`,a)},removeDataAttribute(p,l){p.removeAttribute(`data-bs-${zl(l)}`)},getDataAttributes(p){if(!p)return{};const l={},a=Object.keys(p.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of a){let T=y.replace(/^bs/,"");T=T.charAt(0).toLowerCase()+T.slice(1,T.length),l[T]=Gl(p.dataset[y])}return l},getDataAttribute:(p,l)=>Gl(p.getAttribute(`data-bs-${zl(l)}`))};class Xo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,a){const y=yo(a)?Vo.getDataAttribute(a,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...yo(a)?Vo.getDataAttributes(a):{},..."object"==typeof l?l:{}}}_typeCheckConfig(l,a=this.constructor.DefaultType){for(const[y,T]of Object.entries(a)){const L=l[y],z=yo(L)?"element":null==(p=L)?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(T).test(z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${z}" but expected type "${T}".`)}var p}}class Gi extends Xo{constructor(l,a){super(),(l=Ei(l))&&(this._element=l,this._config=this._getConfig(a),os.set(this._element,this.constructor.DATA_KEY,this))}dispose(){os.remove(this._element,this.constructor.DATA_KEY),zt.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,a,y=!0){sl(l,a,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return os.get(Ei(l),this.DATA_KEY)}static getOrCreateInstance(l,a={}){return this.getInstance(l)||new this(l,"object"==typeof a?a:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const ua=p=>{let l=p.getAttribute("data-bs-target");if(!l||"#"===l){let a=p.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),l=a&&"#"!==a?a.trim():null}return l?l.split(",").map(a=>Mr(a)).join(","):null},Xn={find:(p,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,p)),findOne:(p,l=document.documentElement)=>Element.prototype.querySelector.call(l,p),children:(p,l)=>[].concat(...p.children).filter(a=>a.matches(l)),parents(p,l){const a=[];let y=p.parentNode.closest(l);for(;y;)a.push(y),y=y.parentNode.closest(l);return a},prev(p,l){let a=p.previousElementSibling;for(;a;){if(a.matches(l))return[a];a=a.previousElementSibling}return[]},next(p,l){let a=p.nextElementSibling;for(;a;){if(a.matches(l))return[a];a=a.nextElementSibling}return[]},focusableChildren(p){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(l,p).filter(a=>!la(a)&&Dc(a))},getSelectorFromElement(p){const l=ua(p);return l&&Xn.findOne(l)?l:null},getElementFromSelector(p){const l=ua(p);return l?Xn.findOne(l):null},getMultipleElementsFromSelector(p){const l=ua(p);return l?Xn.find(l):[]}},Qs=(p,l="hide")=>{const y=p.NAME;zt.on(document,`click.dismiss${p.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),la(this))return;const L=Xn.getElementFromSelector(this)||this.closest(`.${y}`);p.getOrCreateInstance(L)[l]()})},$h=".bs.alert",Ld=`close${$h}`,Fu=`closed${$h}`;class D extends Gi{static get NAME(){return"alert"}close(){if(zt.trigger(this._element,Ld).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),zt.trigger(this._element,Fu),this.dispose()}static jQueryInterface(l){return this.each(function(){const a=D.getOrCreateInstance(this);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l](this)}})}}Qs(D,"close"),lo(D);const Pe='[data-bs-toggle="button"]';class dt extends Gi{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const a=dt.getOrCreateInstance(this);"toggle"===l&&a[l]()})}}zt.on(document,"click.bs.button.data-api",Pe,p=>{p.preventDefault();const l=p.target.closest(Pe);dt.getOrCreateInstance(l).toggle()}),lo(dt);const ir=".bs.swipe",br=`touchstart${ir}`,Fr=`touchmove${ir}`,_i=`touchend${ir}`,rc=`pointerdown${ir}`,Mc=`pointerup${ir}`,ic={endCallback:null,leftCallback:null,rightCallback:null},da={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Wl extends Xo{constructor(l,a){super(),this._element=l,l&&Wl.isSupported()&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ic}static get DefaultType(){return da}static get NAME(){return"swipe"}dispose(){zt.off(this._element,ir)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),Hn(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const a=l/this._deltaX;this._deltaX=0,a&&Hn(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(zt.on(this._element,rc,l=>this._start(l)),zt.on(this._element,Mc,l=>this._end(l)),this._element.classList.add("pointer-event")):(zt.on(this._element,br,l=>this._start(l)),zt.on(this._element,Fr,l=>this._move(l)),zt.on(this._element,_i,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&("pen"===l.pointerType||"touch"===l.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ha=".bs.carousel",Kl=".data-api",Js="next",no="prev",Qo="left",ql="right",Ud=`slide${ha}`,Qf=`slid${ha}`,Gh=`keydown${ha}`,Bu=`mouseenter${ha}`,Jf=`mouseleave${ha}`,Zf=`dragstart${ha}`,$u=`load${ha}${Kl}`,Oc=`click${ha}${Kl}`,Hu="carousel",Ba="active",Yl=".active",uo=".carousel-item",jd=Yl+uo,dl={ArrowLeft:ql,ArrowRight:Qo},Kh={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},oc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Sa extends Gi{constructor(l,a){super(l,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Xn.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Hu&&this.cycle()}static get Default(){return Kh}static get DefaultType(){return oc}static get NAME(){return"carousel"}next(){this._slide(Js)}nextWhenVisible(){!document.hidden&&Dc(this._element)&&this.next()}prev(){this._slide(no)}pause(){this._isSliding&&Mu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void zt.one(this._element,Qf,()=>this.cycle());this.cycle()}}to(l){const a=this._getItems();if(l>a.length-1||l<0)return;if(this._isSliding)return void zt.one(this._element,Qf,()=>this.to(l));const y=this._getItemIndex(this._getActive());y!==l&&this._slide(l>y?Js:no,a[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&zt.on(this._element,Gh,l=>this._keydown(l)),"hover"===this._config.pause&&(zt.on(this._element,Bu,()=>this.pause()),zt.on(this._element,Jf,()=>this._maybeEnableCycle())),this._config.touch&&Wl.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Xn.find(".carousel-item img",this._element))zt.on(y,Zf,T=>T.preventDefault());this._swipeHelper=new Wl(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Qo)),rightCallback:()=>this._slide(this._directionToOrder(ql)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const a=dl[l.key];a&&(l.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const a=Xn.findOne(Yl,this._indicatorsElement);a.classList.remove(Ba),a.removeAttribute("aria-current");const y=Xn.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(Ba),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const a=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(l,a=null){if(this._isSliding)return;const y=this._getActive(),T=l===Js,L=a||ol(this._getItems(),y,T,this._config.wrap);if(L===y)return;const z=this._getItemIndex(L),se=En=>zt.trigger(this._element,En,{relatedTarget:L,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:z});if(se(Ud).defaultPrevented||!y||!L)return;const He=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(z),this._activeElement=L;const pt=T?"carousel-item-start":"carousel-item-end",Vt=T?"carousel-item-next":"carousel-item-prev";L.classList.add(Vt),y.classList.add(pt),L.classList.add(pt),this._queueCallback(()=>{L.classList.remove(pt,Vt),L.classList.add(Ba),y.classList.remove(Ba,Vt,pt),this._isSliding=!1,se(Qf)},y,this._isAnimated()),He&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Xn.findOne(jd,this._element)}_getItems(){return Xn.find(uo,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return vo()?l===Qo?no:Js:l===Qo?Js:no}_orderToDirection(l){return vo()?l===no?Qo:ql:l===no?ql:Qo}static jQueryInterface(l){return this.each(function(){const a=Sa.getOrCreateInstance(this,l);if("number"!=typeof l){if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}}else a.to(l)})}}zt.on(document,Oc,"[data-bs-slide], [data-bs-slide-to]",function(p){const l=Xn.getElementFromSelector(this);if(!l||!l.classList.contains(Hu))return;p.preventDefault();const a=Sa.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(a.to(y),void a._maybeEnableCycle()):"next"===Vo.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())}),zt.on(window,$u,()=>{const p=Xn.find('[data-bs-ride="carousel"]');for(const l of p)Sa.getOrCreateInstance(l)}),lo(Sa);const Wu=".bs.collapse",kc=`show${Wu}`,Fc=`shown${Wu}`,Ku=`hide${Wu}`,tp=`hidden${Wu}`,Lc=`click${Wu}.data-api`,qu="show",fs="collapse",Yu="collapsing",Bd=`:scope .${fs} .${fs}`,Eo='[data-bs-toggle="collapse"]',fa={parent:null,toggle:!0},qh={parent:"(null|element)",toggle:"boolean"};class Vc extends Gi{constructor(l,a){super(l,a),this._isTransitioning=!1,this._triggerArray=[];const y=Xn.find(Eo);for(const T of y){const L=Xn.getSelectorFromElement(T),z=Xn.find(L).filter(se=>se===this._element);null!==L&&z.length&&this._triggerArray.push(T)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return fa}static get DefaultType(){return qh}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(se=>se!==this._element).map(se=>Vc.getOrCreateInstance(se,{toggle:!1}))),l.length&&l[0]._isTransitioning||zt.trigger(this._element,kc).defaultPrevented)return;for(const se of l)se.hide();const y=this._getDimension();this._element.classList.remove(fs),this._element.classList.add(Yu),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const z=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Yu),this._element.classList.add(fs,qu),this._element.style[y]="",zt.trigger(this._element,Fc)},this._element,!0),this._element.style[y]=`${this._element[z]}px`}hide(){if(this._isTransitioning||!this._isShown()||zt.trigger(this._element,Ku).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,this._element.classList.add(Yu),this._element.classList.remove(fs,qu);for(const T of this._triggerArray){const L=Xn.getElementFromSelector(T);L&&!this._isShown(L)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Yu),this._element.classList.add(fs),zt.trigger(this._element,tp)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(qu)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=Ei(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Eo);for(const a of l){const y=Xn.getElementFromSelector(a);y&&this._addAriaAndCollapsedClass([a],this._isShown(y))}}_getFirstLevelChildren(l){const a=Xn.find(Bd,this._config.parent);return Xn.find(l,this._config.parent).filter(y=>!a.includes(y))}_addAriaAndCollapsedClass(l,a){if(l.length)for(const y of l)y.classList.toggle("collapsed",!a),y.setAttribute("aria-expanded",a)}static jQueryInterface(l){const a={};return"string"==typeof l&&/show|hide/.test(l)&&(a.toggle=!1),this.each(function(){const y=Vc.getOrCreateInstance(this,a);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l]()}})}}zt.on(document,Lc,Eo,function(p){("A"===p.target.tagName||p.delegateTarget&&"A"===p.delegateTarget.tagName)&&p.preventDefault();for(const l of Xn.getMultipleElementsFromSelector(this))Vc.getOrCreateInstance(l,{toggle:!1}).toggle()}),lo(Vc);const gl="dropdown",ml=".bs.dropdown",ip=".data-api",Fs="ArrowUp",Pg="ArrowDown",Xl=`hide${ml}`,Mg=`hidden${ml}`,Xh=`show${ml}`,Ws=`shown${ml}`,Xu=`click${ml}${ip}`,ac=`keydown${ml}${ip}`,Qh=`keyup${ml}${ip}`,Zs="show",$c='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Rg=`${$c}.${Zs}`,Wd=".dropdown-menu",qd=vo()?"top-end":"top-start",sp=vo()?"top-start":"top-end",Yd=vo()?"bottom-end":"bottom-start",Og=vo()?"bottom-start":"bottom-end",Jh=vo()?"left-start":"right-start",op=vo()?"right-start":"left-start",Xd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class pa extends Gi{constructor(l,a){super(l,a),this._popper=null,this._parent=this._element.parentNode,this._menu=Xn.next(this._element,Wd)[0]||Xn.prev(this._element,Wd)[0]||Xn.findOne(Wd,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Xd}static get DefaultType(){return lc}static get NAME(){return gl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(la(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!zt.trigger(this._element,Xh,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))zt.on(y,"mouseover",as);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zs),this._element.classList.add(Zs),zt.trigger(this._element,Ws,l)}}hide(){!la(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!zt.trigger(this._element,Xl,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))zt.off(y,"mouseover",as);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zs),this._element.classList.remove(Zs),this._element.setAttribute("aria-expanded","false"),Vo.removeDataAttribute(this._menu,"popper"),zt.trigger(this._element,Mg,l)}}_getConfig(l){if("object"==typeof(l=super._getConfig(l)).reference&&!yo(l.reference)&&"function"!=typeof l.reference.getBoundingClientRect)throw new TypeError(`${gl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;"parent"===this._config.reference?l=this._parent:yo(this._config.reference)?l=Ei(this._config.reference):"object"==typeof this._config.reference&&(l=this._config.reference);const a=this._getPopperConfig();this._popper=Ts(l,this._menu,a)}_isShown(){return this._menu.classList.contains(Zs)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return Jh;if(l.classList.contains("dropstart"))return op;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const a="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return l.classList.contains("dropup")?a?sp:qd:a?Og:Yd}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof l?a=>l(a,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Vo.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...Hn(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:a}){const y=Xn.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(T=>Dc(T));y.length&&ol(y,a,l===Pg,!y.includes(a)).focus()}static jQueryInterface(l){return this.each(function(){const a=pa.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}static clearMenus(l){if(2===l.button||"keyup"===l.type&&"Tab"!==l.key)return;const a=Xn.find(Rg);for(const y of a){const T=pa.getInstance(y);if(!T||!1===T._config.autoClose)continue;const L=l.composedPath(),z=L.includes(T._menu);if(L.includes(T._element)||"inside"===T._config.autoClose&&!z||"outside"===T._config.autoClose&&z||T._menu.contains(l.target)&&("keyup"===l.type&&"Tab"===l.key||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const se={relatedTarget:T._element};"click"===l.type&&(se.clickEvent=l),T._completeHide(se)}}static dataApiKeydownHandler(l){const a=/input|textarea/i.test(l.target.tagName),y="Escape"===l.key,T=[Fs,Pg].includes(l.key);if(!T&&!y||a&&!y)return;l.preventDefault();const L=this.matches($c)?this:Xn.prev(this,$c)[0]||Xn.next(this,$c)[0]||Xn.findOne($c,l.delegateTarget.parentNode),z=pa.getOrCreateInstance(L);if(T)return l.stopPropagation(),z.show(),void z._selectMenuItem(l);z._isShown()&&(l.stopPropagation(),z.hide(),L.focus())}}zt.on(document,ac,$c,pa.dataApiKeydownHandler),zt.on(document,ac,Wd,pa.dataApiKeydownHandler),zt.on(document,Xu,pa.clearMenus),zt.on(document,Qh,pa.clearMenus),zt.on(document,Xu,$c,function(p){p.preventDefault(),pa.getOrCreateInstance(this).toggle()}),lo(pa);const uc="backdrop",Qd=`mousedown.bs.${uc}`,ap={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Qu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Zl extends Xo{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return ap}static get DefaultType(){return Qu}static get NAME(){return uc}show(l){if(!this._config.isVisible)return void Hn(l);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Hn(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Hn(l)})):Hn(l)}dispose(){this._isAppended&&(zt.off(this._element,Qd),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=Ei(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),zt.on(l,Qd,()=>{Hn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){sl(l,this._getElement(),this._config.isAnimated)}}const _l=".bs.focustrap",dc=`focusin${_l}`,Gc=`keydown.tab${_l}`,v="backward",S={autofocus:!0,trapElement:null},X={autofocus:"boolean",trapElement:"element"};class de extends Xo{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return S}static get DefaultType(){return X}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),zt.off(document,_l),zt.on(document,dc,l=>this._handleFocusin(l)),zt.on(document,Gc,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,zt.off(document,_l))}_handleFocusin(l){const{trapElement:a}=this._config;if(l.target===document||l.target===a||a.contains(l.target))return;const y=Xn.focusableChildren(a);0===y.length?a.focus():this._lastTabNavDirection===v?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){"Tab"===l.key&&(this._lastTabNavDirection=l.shiftKey?v:"forward")}}const We=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Tt=".sticky-top",Ht="padding-right",Rn="margin-right";class Mn{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ht,a=>a+l),this._setElementAttributes(We,Ht,a=>a+l),this._setElementAttributes(Tt,Rn,a=>a-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ht),this._resetElementAttributes(We,Ht),this._resetElementAttributes(Tt,Rn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,a,y){const T=this.getWidth();this._applyManipulationCallback(l,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+T)return;this._saveInitialAttribute(z,a);const se=window.getComputedStyle(z).getPropertyValue(a);z.style.setProperty(a,`${y(Number.parseFloat(se))}px`)})}_saveInitialAttribute(l,a){const y=l.style.getPropertyValue(a);y&&Vo.setDataAttribute(l,a,y)}_resetElementAttributes(l,a){this._applyManipulationCallback(l,T=>{const L=Vo.getDataAttribute(T,a);null!==L?(Vo.removeDataAttribute(T,a),T.style.setProperty(a,L)):T.style.removeProperty(a)})}_applyManipulationCallback(l,a){if(yo(l))a(l);else for(const y of Xn.find(l,this._element))a(y)}}const ps=".bs.modal",Zd=`hide${ps}`,eh=`hidePrevented${ps}`,cp=`hidden${ps}`,nf=`show${ps}`,th=`shown${ps}`,Ng=`resize${ps}`,eu=`click.dismiss${ps}`,rf=`mousedown.dismiss${ps}`,Ju=`keydown.dismiss${ps}`,nh=`click${ps}.data-api`,Zu="modal-open",sf="modal-static",e_={backdrop:!0,focus:!0,keyboard:!0},rh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class zc extends Gi{constructor(l,a){super(l,a),this._dialog=Xn.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Mn,this._addEventListeners()}static get Default(){return e_}static get DefaultType(){return rh}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||zt.trigger(this._element,nf,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Zu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){!this._isShown||this._isTransitioning||zt.trigger(this._element,Zd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){zt.off(window,ps),zt.off(this._dialog,ps),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new de({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=Xn.findOne(".modal-body",this._dialog);a&&(a.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,zt.trigger(this._element,th,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){zt.on(this._element,Ju,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),zt.on(window,Ng,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),zt.on(this._element,rf,l=>{zt.one(this._element,eu,a=>{if(this._element===l.target&&this._element===a.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Zu),this._resetAdjustments(),this._scrollBar.reset(),zt.trigger(this._element,cp)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(zt.trigger(this._element,eh).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(sf)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(sf),this._queueCallback(()=>{this._element.classList.remove(sf),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),y=a>0;if(y&&!l){const T=vo()?"paddingLeft":"paddingRight";this._element.style[T]=`${a}px`}if(!y&&l){const T=vo()?"paddingRight":"paddingLeft";this._element.style[T]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,a){return this.each(function(){const y=zc.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof y[l]>"u")throw new TypeError(`No method named "${l}"`);y[l](a)}})}}zt.on(document,nh,'[data-bs-toggle="modal"]',function(p){const l=Xn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&p.preventDefault(),zt.one(l,nf,T=>{T.defaultPrevented||zt.one(l,cp,()=>{Dc(this)&&this.focus()})});const a=Xn.findOne(".modal.show");a&&zc.getInstance(a).hide(),zc.getOrCreateInstance(l).toggle(this)}),Qs(zc),lo(zc);const hc=".bs.offcanvas",t_=".data-api",dp=`load${hc}${t_}`,Fg="showing",n_=".offcanvas.show",Fy=`show${hc}`,ea=`shown${hc}`,pp=`hide${hc}`,Lg=`hidePrevented${hc}`,oh=`hidden${hc}`,Uo=`resize${hc}`,nd=`click${hc}${t_}`,r_=`keydown.dismiss${hc}`,Ly={backdrop:!0,keyboard:!0,scroll:!1},mp={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class El extends Gi{constructor(l,a){super(l,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ly}static get DefaultType(){return mp}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||zt.trigger(this._element,Fy,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Mn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Fg),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Fg),zt.trigger(this._element,ea,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&!zt.trigger(this._element,pp).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Mn).reset(),zt.trigger(this._element,oh)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new Zl({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{"static"!==this._config.backdrop?this.hide():zt.trigger(this._element,Lg)}:null})}_initializeFocusTrap(){return new de({trapElement:this._element})}_addEventListeners(){zt.on(this._element,r_,l=>{if("Escape"===l.key){if(this._config.keyboard)return void this.hide();zt.trigger(this._element,Lg)}})}static jQueryInterface(l){return this.each(function(){const a=El.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l](this)}})}}zt.on(document,nd,'[data-bs-toggle="offcanvas"]',function(p){const l=Xn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&p.preventDefault(),la(this))return;zt.one(l,oh,()=>{Dc(this)&&this.focus()});const a=Xn.findOne(n_);a&&a!==l&&El.getInstance(a).hide(),El.getOrCreateInstance(l).toggle(this)}),zt.on(window,dp,()=>{for(const p of Xn.find(n_))El.getOrCreateInstance(p).show()}),zt.on(window,Uo,()=>{for(const p of Xn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(p).position&&El.getOrCreateInstance(p).hide()}),Qs(El),lo(El);const _p={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yp=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ah=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,tu=(p,l)=>{const a=p.nodeName.toLowerCase();return l.includes(a)?!yp.has(a)||!!ah.test(p.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(a))},ch={allowList:_p,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},lh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},uh={entry:"(string|element|function|null)",selector:"(string|element)"};class Vy extends Xo{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return ch}static get DefaultType(){return lh}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[T,L]of Object.entries(this._config.content))this._setContent(l,L,T);const a=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&a.classList.add(...y.split(" ")),a}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[a,y]of Object.entries(l))super._typeCheckConfig({selector:a,entry:y},uh)}_setContent(l,a,y){const T=Xn.findOne(y,l);if(T){if(!(a=this._resolvePossibleFunction(a)))return void T.remove();if(yo(a))return void this._putElementInTemplate(Ei(a),T);if(this._config.html)return void(T.innerHTML=this._maybeSanitize(a));T.textContent=a}}_maybeSanitize(l){return this._config.sanitize?function af(p,l,a){if(!p.length)return p;if(a&&"function"==typeof a)return a(p);const T=(new window.DOMParser).parseFromString(p,"text/html"),L=[].concat(...T.body.querySelectorAll("*"));for(const z of L){const se=z.nodeName.toLowerCase();if(!Object.keys(l).includes(se)){z.remove();continue}const ye=[].concat(...z.attributes),He=[].concat(l["*"]||[],l[se]||[]);for(const pt of ye)tu(pt,He)||z.removeAttribute(pt.nodeName)}return T.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return Hn(l,[this])}_putElementInTemplate(l,a){if(this._config.html)return a.innerHTML="",void a.append(l);a.textContent=l.textContent}}const Ug=new Set(["sanitize","allowList","sanitizeFn"]),dh="fade",bl="show",cf="hide.bs.modal",rd="hover",lf="focus",id={AUTO:"auto",TOP:"top",RIGHT:vo()?"left":"right",BOTTOM:"bottom",LEFT:vo()?"right":"left"},Tp={allowList:_p,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},u_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class iu extends Gi{constructor(l,a){if(typeof c>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Tp}static get DefaultType(){return u_}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),zt.off(this._element.closest(".modal"),cf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=zt.trigger(this._element,this.constructor.eventName("show")),y=(qo(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!y)return;this._disposePopper();const T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(T),zt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(bl),"ontouchstart"in document.documentElement)for(const se of[].concat(...document.body.children))zt.on(se,"mouseover",as);this._queueCallback(()=>{zt.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!zt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(bl),"ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))zt.off(T,"mouseover",as);this._activeTrigger.click=!1,this._activeTrigger[lf]=!1,this._activeTrigger[rd]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),zt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const a=this._getTemplateFactory(l).toHtml();if(!a)return null;a.classList.remove(dh,bl),a.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(p=>{do{p+=Math.floor(1e6*Math.random())}while(document.getElementById(p));return p})(this.constructor.NAME).toString();return a.setAttribute("id",y),this._isAnimated()&&a.classList.add(dh),a}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new Vy({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(dh)}_isShown(){return this.tip&&this.tip.classList.contains(bl)}_createPopper(l){const a=Hn(this._config.placement,[this,l,this._element]),y=id[a.toUpperCase()];return Ts(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return"string"==typeof l?l.split(",").map(a=>Number.parseInt(a,10)):"function"==typeof l?a=>l(a,this._element):l}_resolvePossibleFunction(l){return Hn(l,[this._element])}_getPopperConfig(l){const a={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...a,...Hn(this._config.popperConfig,[a])}}_setListeners(){const l=this._config.trigger.split(" ");for(const a of l)if("click"===a)zt.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if("manual"!==a){const y=this.constructor.eventName(a===rd?"mouseenter":"focusin"),T=this.constructor.eventName(a===rd?"mouseleave":"focusout");zt.on(this._element,y,this._config.selector,L=>{const z=this._initializeOnDelegatedTarget(L);z._activeTrigger["focusin"===L.type?lf:rd]=!0,z._enter()}),zt.on(this._element,T,this._config.selector,L=>{const z=this._initializeOnDelegatedTarget(L);z._activeTrigger["focusout"===L.type?lf:rd]=z._element.contains(L.relatedTarget),z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},zt.on(this._element.closest(".modal"),cf,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,a){clearTimeout(this._timeout),this._timeout=setTimeout(l,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const a=Vo.getDataAttributes(this._element);for(const y of Object.keys(a))Ug.has(y)&&delete a[y];return l={...a,..."object"==typeof l&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=!1===l.container?document.body:Ei(l.container),"number"==typeof l.delay&&(l.delay={show:l.delay,hide:l.delay}),"number"==typeof l.title&&(l.title=l.title.toString()),"number"==typeof l.content&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[a,y]of Object.entries(this._config))this.constructor.Default[a]!==y&&(l[a]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const a=iu.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}}lo(iu);const Ip={...iu.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},d_={...iu.DefaultType,content:"(null|string|element|function)"};class fh extends iu{static get Default(){return Ip}static get DefaultType(){return d_}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const a=fh.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l]()}})}}lo(fh);const ph=".bs.scrollspy",zg=`activate${ph}`,gh=`click${ph}`,df=`load${ph}.data-api`,Wc="active",ff="[href]",wp=".nav-link",Ap=`${wp}, .nav-item > ${wp}, .list-group-item`,Sp={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},su={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class xp extends Gi{constructor(l,a){super(l,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Sp}static get DefaultType(){return su}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=Ei(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,"string"==typeof l.threshold&&(l.threshold=l.threshold.split(",").map(a=>Number.parseFloat(a))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(zt.off(this._config.target,gh),zt.on(this._config.target,gh,ff,l=>{const a=this._observableSections.get(l.target.hash);if(a){l.preventDefault();const y=this._rootElement||window,T=a.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:T,behavior:"smooth"});y.scrollTop=T}}))}_getNewObserver(){return new IntersectionObserver(a=>this._observerCallback(a),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(l){const a=z=>this._targetLinks.get(`#${z.target.id}`),y=z=>{this._previousScrollData.visibleEntryTop=z.target.offsetTop,this._process(a(z))},T=(this._rootElement||document.documentElement).scrollTop,L=T>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=T;for(const z of l){if(!z.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(z));continue}const se=z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(L&&se){if(y(z),!T)return}else!L&&!se&&y(z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=Xn.find(ff,this._config.target);for(const a of l){if(!a.hash||la(a))continue;const y=Xn.findOne(decodeURI(a.hash),this._element);Dc(y)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Wc),this._activateParents(l),zt.trigger(this._element,zg,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))Xn.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Wc);else for(const a of Xn.parents(l,".nav, .list-group"))for(const y of Xn.prev(a,Ap))y.classList.add(Wc)}_clearActiveClass(l){l.classList.remove(Wc);const a=Xn.find(`${ff}.${Wc}`,l);for(const y of a)y.classList.remove(Wc)}static jQueryInterface(l){return this.each(function(){const a=xp.getOrCreateInstance(this,l);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}})}}zt.on(window,df,()=>{for(const p of Xn.find('[data-bs-spy="scroll"]'))xp.getOrCreateInstance(p)}),lo(xp);const Tl=".bs.tab",Kg=`hide${Tl}`,qg=`hidden${Tl}`,mh=`show${Tl}`,Pp=`shown${Tl}`,pf=`click${Tl}`,g_=`keydown${Tl}`,Mp=`load${Tl}`,m_="ArrowLeft",Kc="ArrowRight",$y="ArrowUp",Rp="ArrowDown",Op="Home",Np="End",ou="active",au="show",__=".dropdown-toggle",_h=`:not(${__})`,y_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gf=`.nav-link${_h}, .list-group-item${_h}, [role="tab"]${_h}, ${y_}`,v_=`.${ou}[data-bs-toggle="tab"], .${ou}[data-bs-toggle="pill"], .${ou}[data-bs-toggle="list"]`;class fc extends Gi{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),zt.on(this._element,g_,a=>this._keydown(a)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const a=this._getActiveElem(),y=a?zt.trigger(a,Kg,{relatedTarget:l}):null;zt.trigger(l,mh,{relatedTarget:a}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(a,l),this._activate(l,a))}_activate(l,a){l&&(l.classList.add(ou),this._activate(Xn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),zt.trigger(l,Pp,{relatedTarget:a})):l.classList.add(au)},l,l.classList.contains("fade")))}_deactivate(l,a){l&&(l.classList.remove(ou),l.blur(),this._deactivate(Xn.getElementFromSelector(l)),this._queueCallback(()=>{"tab"===l.getAttribute("role")?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),zt.trigger(l,qg,{relatedTarget:a})):l.classList.remove(au)},l,l.classList.contains("fade")))}_keydown(l){if(![m_,Kc,$y,Rp,Op,Np].includes(l.key))return;l.stopPropagation(),l.preventDefault();const a=this._getChildren().filter(T=>!la(T));let y;if([Op,Np].includes(l.key))y=a[l.key===Op?0:a.length-1];else{const T=[Kc,Rp].includes(l.key);y=ol(a,l.target,T,!0)}y&&(y.focus({preventScroll:!0}),fc.getOrCreateInstance(y).show())}_getChildren(){return Xn.find(gf,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,a){this._setAttributeIfNotExists(l,"role","tablist");for(const y of a)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const a=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",a),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),a||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const a=Xn.getElementFromSelector(l);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,a){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const T=(L,z)=>{const se=Xn.findOne(L,y);se&&se.classList.toggle(z,a)};T(__,ou),T(".dropdown-menu",au),y.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(l,a,y){l.hasAttribute(a)||l.setAttribute(a,y)}_elemIsActive(l){return l.classList.contains(ou)}_getInnerElement(l){return l.matches(gf)?l:Xn.findOne(gf,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const a=fc.getOrCreateInstance(this);if("string"==typeof l){if(void 0===a[l]||l.startsWith("_")||"constructor"===l)throw new TypeError(`No method named "${l}"`);a[l]()}})}}zt.on(document,pf,y_,function(p){["A","AREA"].includes(this.tagName)&&p.preventDefault(),!la(this)&&fc.getOrCreateInstance(this).show()}),zt.on(window,Mp,()=>{for(const p of Xn.find(v_))fc.getOrCreateInstance(p)}),lo(fc);const $a=".bs.toast",E_=`mouseover${$a}`,b_=`mouseout${$a}`,C_=`focusin${$a}`,T_=`focusout${$a}`,I_=`hide${$a}`,Gy=`hidden${$a}`,_f=`show${$a}`,yf=`shown${$a}`,cd="show",vf="showing",yh={animation:"boolean",autohide:"boolean",delay:"number"},A_={animation:!0,autohide:!0,delay:5e3};class vh extends Gi{constructor(l,a){super(l,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return A_}static get DefaultType(){return yh}static get NAME(){return"toast"}show(){zt.trigger(this._element,_f).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(cd,vf),this._queueCallback(()=>{this._element.classList.remove(vf),zt.trigger(this._element,yf),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!zt.trigger(this._element,I_).defaultPrevented&&(this._element.classList.add(vf),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(vf,cd),zt.trigger(this._element,Gy)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(cd),super.dispose()}isShown(){return this._element.classList.contains(cd)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,a){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=a;break;case"focusin":case"focusout":this._hasKeyboardInteraction=a}if(a)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){zt.on(this._element,E_,l=>this._onInteraction(l,!0)),zt.on(this._element,b_,l=>this._onInteraction(l,!1)),zt.on(this._element,C_,l=>this._onInteraction(l,!0)),zt.on(this._element,T_,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const a=vh.getOrCreateInstance(this,l);if("string"==typeof l){if(typeof a[l]>"u")throw new TypeError(`No method named "${l}"`);a[l](this)}})}}Qs(vh),lo(vh);let Fp=(()=>{class p{constructor(a){this.http=a,this.emailEndpoint="https://us-central1-afhdynamicwebsite.cloudfunctions.net/sendContactEmail"}sendEmail(a){return this.http.post(this.emailEndpoint,a)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Be))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var Ur=j(4341);let Lp=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-information"]],inputs:{phoneNumber:"phoneNumber",address:"address",email:"email"},decls:14,vars:3,consts:[[1,"information-section"],[1,"information-container"],[1,"info-item"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"]],template:function(y,T){1&y&&(i.j41(0,"section",0)(1,"div",1)(2,"div",2),i.nrm(3,"i",3),i.j41(4,"p"),i.EFF(5),i.k0s()(),i.j41(6,"div",2),i.nrm(7,"i",4),i.j41(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",2),i.nrm(11,"i",5),i.j41(12,"p"),i.EFF(13),i.k0s()()()()),2&y&&(i.R7$(5),i.JRh(T.phoneNumber),i.R7$(4),i.JRh(T.address),i.R7$(4),i.JRh(T.email))},styles:[".information-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background-color:var(--background-color);min-height:400px}.information-container[_ngcontent-%COMP%]{display:flex;gap:100px;align-items:center}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;color:var(--accent-color);margin-bottom:10px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;margin-top:8px}@media (max-width: 768px){.information-container[_ngcontent-%COMP%]{flex-direction:column;gap:40px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.information-section[_ngcontent-%COMP%]{padding:10px;min-height:300px}.information-container[_ngcontent-%COMP%]{gap:30px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.6em}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return p})();var Jg=j(3711);function zy(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Email"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(4),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function ld(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Fax"),i.k0s(),i.j41(3,"p"),i.EFF(4),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(4),i.JRh(a.business.fax)}}function Zg(p,l){if(1&p&&(i.j41(0,"div",22)(1,"h3"),i.EFF(2,"Social Media"),i.k0s(),i.j41(3,"p")(4,"a",47),i.EFF(5),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(4),i.FS9("href",a.business.socialMedia,i.B4B),i.R7$(1),i.JRh(a.business.socialMedia)}}function Wy(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",13)(2,"div",14)(3,"h1"),i.EFF(4,"Contact Us"),i.k0s(),i.j41(5,"div",15)(6,"p"),i.EFF(7,"We're here to answer any questions you have"),i.k0s()()()(),i.j41(8,"div",16)(9,"section",17)(10,"div",18),i.EFF(11,"Get in Touch"),i.k0s(),i.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"div",22)(16,"h3"),i.EFF(17,"Address"),i.k0s(),i.j41(18,"p"),i.EFF(19),i.k0s()(),i.j41(20,"div",22)(21,"h3"),i.EFF(22,"Phone"),i.k0s(),i.j41(23,"p"),i.EFF(24),i.k0s()(),i.DNE(25,zy,6,2,"div",23),i.DNE(26,ld,5,1,"div",23),i.DNE(27,Zg,6,2,"div",23),i.j41(28,"div")(29,"h3"),i.EFF(30,"Visitation Hours"),i.k0s(),i.nrm(31,"div",24),i.k0s()()(),i.j41(32,"div",25)(33,"div",26),i.nrm(34,"img",27),i.k0s()()()(),i.j41(35,"section",28)(36,"div",18),i.EFF(37,"Send Us a Message"),i.k0s(),i.j41(38,"div",29)(39,"div",30)(40,"div",31)(41,"h2",32),i.EFF(42,"How can we help?"),i.k0s(),i.j41(43,"p",33),i.EFF(44,"Send us a message now for a tour of our facilities, or simply send us your questions using the form. We would love to help."),i.k0s()()(),i.j41(45,"div",34)(46,"form",35,36),i.bIt("ngSubmit",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(48,"div",37)(49,"label",38),i.EFF(50,"Name"),i.k0s(),i.j41(51,"input",39),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()(),i.j41(52,"div",37)(53,"label",40),i.EFF(54,"Email"),i.k0s(),i.j41(55,"input",41),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(56,"div",37)(57,"label",42),i.EFF(58,"Message"),i.k0s(),i.j41(59,"textarea",43),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(60,"button",44),i.EFF(61,"Submit"),i.k0s()()()()(),i.nrm(62,"app-information",45)(63,"app-google-maps",46),i.k0s(),i.bVm()}if(2&p){const a=i.sdS(47),y=i.XpG(2);i.R7$(19),i.JRh(y.business.address),i.R7$(5),i.JRh(y.business.phone),i.R7$(1),i.Y8G("ngIf",y.business.email),i.R7$(1),i.Y8G("ngIf",y.business.fax),i.R7$(1),i.Y8G("ngIf",y.business.socialMedia),i.R7$(4),i.Y8G("innerHTML",y.sanitizedBusinessHours,i.npT),i.R7$(3),i.Y8G("src",y.business.contactUsImageUrl||"assets/sharedAssets/image_fx_(5).jpg",i.B4B),i.R7$(17),i.Y8G("ngModel",y.formData.name),i.R7$(4),i.Y8G("ngModel",y.formData.email),i.R7$(4),i.Y8G("ngModel",y.formData.message),i.R7$(1),i.Y8G("disabled",!a.form.valid),i.R7$(2),i.Y8G("phoneNumber",y.business.phone)("address",y.business.address)("email",y.business.email),i.R7$(1),i.Y8G("address",y.business.address||"")("layoutType",y.business.theme.themeType||"demo")}}function Vp(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function D_(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function Ky(p,l){if(1&p){const a=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,Vp,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,D_,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(6),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(8),i.Y8G("innerHTML",a.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function qy(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function Yy(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function Xy(p,l){if(1&p){const a=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,qy,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,Yy,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(6),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(8),i.Y8G("innerHTML",a.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function S_(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function p0(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function Qy(p,l){if(1&p){const a=i.RV6();i.qex(0),i.nrm(1,"app-hero"),i.j41(2,"div",48)(3,"div",49)(4,"h2"),i.EFF(5,"Contact us"),i.k0s(),i.DNE(6,S_,4,2,"div",50),i.j41(7,"div",51)(8,"p"),i.EFF(9),i.k0s()(),i.j41(10,"div",51)(11,"p"),i.EFF(12),i.k0s()(),i.DNE(13,p0,3,1,"div",52),i.k0s(),i.j41(14,"div",53)(15,"form",54),i.bIt("submit",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(16,"div",37)(17,"label",55),i.EFF(18,"Name "),i.j41(19,"span"),i.EFF(20,"(required)"),i.k0s()(),i.j41(21,"div",56)(22,"input",57),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(23,"div",37)(24,"label",40),i.EFF(25,"Email "),i.j41(26,"span"),i.EFF(27,"(required)"),i.k0s()(),i.j41(28,"input",58),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(29,"div",37)(30,"label",42),i.EFF(31,"Message "),i.j41(32,"span"),i.EFF(33,"(required)"),i.k0s()(),i.j41(34,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(35,"button",60),i.EFF(36,"Send"),i.k0s()()()(),i.j41(37,"div",48)(38,"div",49)(39,"div")(40,"h2"),i.EFF(41,"Visitation Hours"),i.k0s(),i.nrm(42,"div",24),i.k0s()(),i.j41(43,"div",61),i.nrm(44,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(6),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(8),i.Y8G("innerHTML",a.sanitizedBusinessHours,i.npT),i.R7$(2),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function Eh(p,l){if(1&p&&(i.j41(0,"div",51)(1,"p")(2,"a",47),i.EFF(3),i.k0s()()()),2&p){const a=i.XpG(3);i.R7$(2),i.Mz_("href","mailto:",a.business.email,"",i.B4B),i.R7$(1),i.JRh(a.business.email)}}function ud(p,l){if(1&p&&(i.j41(0,"div",62)(1,"a",63),i.nrm(2,"i",64),i.k0s()()),2&p){const a=i.XpG(3);i.R7$(1),i.FS9("href",a.business.socialMedia,i.B4B)}}function em(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",48)(2,"div",49)(3,"h2"),i.EFF(4,"Contact us"),i.k0s(),i.DNE(5,Eh,4,2,"div",50),i.j41(6,"div",51)(7,"p"),i.EFF(8),i.k0s()(),i.j41(9,"div",51)(10,"p"),i.EFF(11),i.k0s()(),i.DNE(12,ud,3,1,"div",52),i.k0s(),i.j41(13,"div",53)(14,"form",54),i.bIt("submit",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.onSubmit())}),i.j41(15,"div",37)(16,"label",55),i.EFF(17,"Name "),i.j41(18,"span"),i.EFF(19,"(required)"),i.k0s()(),i.j41(20,"div",56)(21,"input",57),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.name=T)}),i.k0s()()(),i.j41(22,"div",37)(23,"label",40),i.EFF(24,"Email "),i.j41(25,"span"),i.EFF(26,"(required)"),i.k0s()(),i.j41(27,"input",58),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.email=T)}),i.k0s()(),i.j41(28,"div",37)(29,"label",42),i.EFF(30,"Message "),i.j41(31,"span"),i.EFF(32,"(required)"),i.k0s()(),i.j41(33,"textarea",59),i.bIt("ngModelChange",function(T){i.eBV(a);const L=i.XpG(2);return i.Njj(L.formData.message=T)}),i.k0s()(),i.j41(34,"button",60),i.EFF(35,"Send"),i.k0s()()()(),i.j41(36,"div",48)(37,"div",49)(38,"div")(39,"h2"),i.EFF(40,"Visitation Hours"),i.k0s(),i.j41(41,"ul")(42,"li")(43,"strong"),i.EFF(44,"Monday:"),i.k0s(),i.EFF(45," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(46,"li")(47,"strong"),i.EFF(48,"Tuesday:"),i.k0s(),i.EFF(49," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(50,"li")(51,"strong"),i.EFF(52,"Wednesday:"),i.k0s(),i.EFF(53," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(54,"li")(55,"strong"),i.EFF(56,"Thursday:"),i.k0s(),i.EFF(57," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(58,"li")(59,"strong"),i.EFF(60,"Friday:"),i.k0s(),i.EFF(61," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(62,"li")(63,"strong"),i.EFF(64,"Saturday:"),i.k0s(),i.EFF(65," 7:00am \u2013 7:00pm"),i.k0s(),i.j41(66,"li")(67,"strong"),i.EFF(68,"Sunday:"),i.k0s(),i.EFF(69," 7:00am \u2013 7:00pm"),i.k0s()()()(),i.j41(70,"div",61),i.nrm(71,"app-google-maps",46),i.k0s()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(5),i.Y8G("ngIf",a.business.email),i.R7$(3),i.JRh(a.business.phone),i.R7$(3),i.JRh(a.business.address),i.R7$(1),i.Y8G("ngIf",a.business.socialMedia),i.R7$(9),i.Y8G("ngModel",a.formData.name),i.R7$(6),i.Y8G("ngModel",a.formData.email),i.R7$(6),i.Y8G("ngModel",a.formData.message),i.R7$(38),i.Y8G("address",a.business.address||"")("layoutType",a.business.theme.themeType||"demo")}}function tm(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Wy,64,16,"ng-container",2),i.DNE(3,Ky,45,10,"ng-container",2),i.DNE(4,Xy,45,10,"ng-container",2),i.DNE(5,Qy,45,10,"ng-container",2),i.DNE(6,em,72,9,"ng-container",3),i.k0s(),i.j41(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),i.EFF(12),i.k0s(),i.nrm(13,"button",9),i.k0s(),i.j41(14,"div",10),i.EFF(15),i.k0s(),i.j41(16,"div",11)(17,"button",12),i.EFF(18,"Close"),i.k0s()()()()()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(7),i.JRh(a.modalTitle),i.R7$(3),i.SpI(" ",a.modalMessage," ")}}let Up=(()=>{class p{constructor(a,y,T,L,z,se,ye){this.sanitizer=a,this.businessDataService=y,this.webContent=T,this.route=L,this.http=z,this.emailService=se,this.metaService=ye,this.business=null,this.layoutType="demo",this.formData={name:"",email:"",message:"",website:this.extractBaseDomain(window.location.hostname)},this.modalTitle="",this.modalMessage=""}get sanitizedBusinessHours(){return this.business?.businessHours?this.sanitizer.bypassSecurityTrustHtml(this.business.businessHours):""}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType)})}ngAfterViewInit(){setTimeout(()=>{const a=document.getElementById("responseModal");a?this.responseModal=new zc(a):console.error("Modal element not found.")},0)}onSubmit(){console.log(this.formData),this.emailService.sendEmail(this.formData).subscribe(a=>{this.modalTitle="Message Sent",this.modalMessage="Thank you for your message! We will get back to you soon.",this.showModal()},a=>{console.error("Error sending email",a),this.modalTitle="Error",this.modalMessage="There was an issue sending your message. Please try again later.",this.showModal()})}extractBaseDomain(a){const y=a.split(".");return y.length>2?y.slice(-2).join("."):a}showModal(){this.responseModal&&this.responseModal.show()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(ue.up),i.rXU(xi.A),i.rXU(vi.N),i.rXU(dr.nX),i.rXU(Be),i.rXU(Fp),i.rXU(Li.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-contact-us"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","responseModal","tabindex","-1","aria-labelledby","responseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","responseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"afhBtn"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"afhBtn"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"contact-info"],[1,"section-heading"],[1,"split-container-info"],[1,"left-info"],[1,"contact-details"],[1,"contact-item"],["class","contact-item",4,"ngIf"],[3,"innerHTML"],[1,"right-info"],[1,"right-image"],["alt","Contact Image",3,"src"],[1,"contact-form"],[1,"split-container"],[1,"left"],[1,"content-wrapper"],[1,"title"],[1,"description"],[1,"right"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","required","","name","email",3,"ngModel","ngModelChange"],["for","message"],["id","message","rows","5","required","","name","message",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn",3,"disabled"],[3,"phoneNumber","address","email"],[3,"address","layoutType"],[3,"href"],[1,"ae-contact-us-container"],[1,"ae-contact-details"],["class","ae-contact-item",4,"ngIf"],[1,"ae-contact-item"],["class","ae-social-media",4,"ngIf"],[1,"ae-contact-form"],[3,"submit"],["for","firstName"],[1,"name-fields"],["type","text","id","name","required","","name","name","placeholder","First and Last Name","required","",3,"ngModel","ngModelChange"],["type","email","id","email","required","","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["id","message","rows","5","required","","name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],[1,"ae-map-container"],[1,"ae-social-media"],["target","_blank",3,"href"],[1,"fab","fa-facebook"]],template:function(y,T){1&y&&i.DNE(0,tm,19,7,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,Ur.qT,Ur.me,Ur.BC,Ur.cb,Ur.YS,Ur.vS,Ur.cV,Lp,Vn,Jg.a],styles:[".hero-contact[_ngcontent-%COMP%]{background:url(istockphoto-2032240867-2048x2048.cde864ede533a861.jpg) no-repeat center center/cover;background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.contact-info[_ngcontent-%COMP%]{padding:50px 0;background-color:#f7f7f7}.split-container-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;max-width:1200px;margin:0 auto;padding:0 20px}.left-info[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]{flex:1}.left-info[_ngcontent-%COMP%]{max-width:50%}.right-info[_ngcontent-%COMP%]{margin-left:40px}.section-heading[_ngcontent-%COMP%]{font-size:36px;color:#333;margin-bottom:20px}.contact-details[_ngcontent-%COMP%]{font-size:18px;line-height:1.6;color:#555}.contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#333;margin-bottom:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#555;text-decoration:none}.contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:tomato}.right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;color:#555}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.contact-info[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.contact-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.contact-item[_ngcontent-%COMP%]{flex:1 1 45%;margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{background-color:var(--primary-color);padding:20px;border-radius:8px;margin-bottom:40px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px}.split-container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1;padding:20px}.left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 768px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;letter-spacing:.2rem}.contact-details[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.map-section[_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 480px){.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;letter-spacing:.1rem}.contact-item[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px}.button[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}}.ae-contact-us-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:40px;padding:40px;align-items:flex-start;max-width:var(--site-max-width);margin:0 auto}.ae-contact-details[_ngcontent-%COMP%], .ae-contact-form[_ngcontent-%COMP%], .ae-map-container[_ngcontent-%COMP%]{flex:1 1 48%;max-width:calc(var(--site-max-width) / 2 - 20px)}.ae-contact-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;margin-bottom:0}.ae-contact-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin:5px 0}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;margin:0}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--link-color)}.ae-contact-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.ae-contact-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.ae-map-container[_ngcontent-%COMP%]{height:400px}.ae-contact-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.ae-contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.ae-contact-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:0}.ae-contact-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:1em}.ae-contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.ae-social-media[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.ae-social-media[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return p})();var bh=j(467),ui=j(214),nm=j(3739);let rm=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-tour-3-d"]],decls:3,vars:1,consts:[[3,"title"],[1,"tour-container"],["width","853","height","480","src","https://my.matterport.com/show/?m=sxoFqpwFyex","frameborder","0","allowfullscreen","","allow","autoplay; fullscreen; web-share; xr-spatial-tracking;"]],template:function(y,T){1&y&&(i.nrm(0,"app-section-tile",0),i.j41(1,"div",1),i.nrm(2,"iframe",2),i.k0s()),2&y&&i.Y8G("title","Virtual Tour")},dependencies:[Mt.N],styles:[".tour-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}"]})}}return p})();function cu(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function Jy(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"div",5)(2,"div",6)(3,"h1"),i.EFF(4,"Our Home"),i.k0s(),i.j41(5,"div",7)(6,"p"),i.EFF(7,"Feel at Home: A Peek into Our Caring Environment"),i.k0s()()()(),i.j41(8,"div",8)(9,"section",9)(10,"div",10),i.EFF(11,"Welcome to Our Home"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"section",11)(15,"div",10),i.EFF(16,"Explore Our Gallery"),i.k0s(),i.j41(17,"div",12),i.DNE(18,cu,2,1,"div",13),i.k0s()(),i.j41(19,"div",14)(20,"div",15)(21,"h2"),i.EFF(22,"Come Meet Our Family"),i.k0s(),i.j41(23,"p"),i.EFF(24,"We\u2019d love to meet you! Schedule a visit and see firsthand how our caring environment feels like home."),i.k0s(),i.j41(25,"button",16),i.bIt("click",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.navigateToContact(T.business.id))}),i.EFF(26,"Schedule a Visit"),i.k0s()()()(),i.bVm()}if(2&p){const a=i.XpG(2);i.R7$(13),i.SpI(" ",a.business.photoGalleryText," "),i.R7$(5),i.Y8G("ngForOf",a.images)}}function ro(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function Ls(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function Ha(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",20)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",22),i.DNE(7,ro,2,1,"div",13),i.k0s()(),i.j41(8,"section",20)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",22),i.DNE(12,Ls,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const a=i.XpG(2);i.R7$(2),i.Y8G("content",a.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",a.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",a.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[5].quote)}}function x_(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function P_(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function lu(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",11)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",12),i.DNE(7,x_,2,1,"div",13),i.k0s()(),i.j41(8,"section",11)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",12),i.DNE(12,P_,2,1,"div",13),i.k0s()(),i.nrm(13,"app-testimonial-image",23),i.bVm()),2&p){const a=i.XpG(2);i.R7$(2),i.Y8G("content",a.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",a.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",a.lifeStyleImages),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote)}}function Zy(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function Ef(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",24),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function bf(p,l){1&p&&i.nrm(0,"app-tour-3-d")}function im(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text",19),i.j41(3,"section",20)(4,"div",10),i.nrm(5,"app-section-tile",21),i.k0s(),i.j41(6,"div",22),i.DNE(7,Zy,2,1,"div",13),i.k0s()(),i.j41(8,"section",20)(9,"div",10),i.nrm(10,"app-section-tile",21),i.k0s(),i.j41(11,"div",22),i.DNE(12,Ef,2,1,"div",13),i.k0s()(),i.DNE(13,bf,1,0,"app-tour-3-d",0),i.nrm(14,"app-testimonial-image",23),i.bVm()),2&p){const a=i.XpG(2);i.R7$(2),i.Y8G("content",a.business.photoGalleryText)("title","Welcome to our home")("showBtn",!1),i.R7$(3),i.Y8G("title","Gallery"),i.R7$(2),i.Y8G("ngForOf",a.images),i.R7$(3),i.Y8G("title","Lifestyle Images"),i.R7$(2),i.Y8G("ngForOf",a.lifeStyleImages),i.R7$(1),i.Y8G("ngIf","clemo"===(null==a.business||null==a.business.theme?null:a.business.theme.themeType)),i.R7$(1),i.Y8G("imageURL","../../../../assets/sharedAssets/istockphoto-1453597643-2048x2048.jpg")("author",a.business.testimonials[4].name)("text",a.business.testimonials[4].quote)}}function sm(p,l){if(1&p){const a=i.RV6();i.j41(0,"div",17),i.bIt("click",function(){const L=i.eBV(a).$implicit,z=i.XpG(3);return i.Njj(z.onImageClick(L.url))}),i.nrm(1,"img",18),i.k0s()}if(2&p){const a=l.$implicit;i.R7$(1),i.Y8G("src",a.url,i.B4B)}}function jp(p,l){if(1&p&&(i.qex(0),i.nrm(1,"app-hero")(2,"app-center-text"),i.j41(3,"section",11)(4,"div",10)(5,"h2"),i.EFF(6,"Explore Our Gallery"),i.k0s()(),i.j41(7,"div",12),i.DNE(8,sm,2,1,"div",13),i.k0s()(),i.bVm()),2&p){const a=i.XpG(2);i.R7$(8),i.Y8G("ngForOf",a.images)}}function bi(p,l){if(1&p){const a=i.RV6();i.j41(0,"app-image-viewer-modal",25),i.bIt("closeModal",function(){i.eBV(a);const T=i.XpG(2);return i.Njj(T.onCloseModal())}),i.k0s()}if(2&p){const a=i.XpG(2);i.Y8G("imageUrl",a.selectedImageUrl)}}function Cf(p,l){if(1&p&&(i.j41(0,"div")(1,"div",1),i.DNE(2,Jy,27,2,"ng-container",2),i.DNE(3,Ha,14,10,"ng-container",2),i.DNE(4,lu,14,10,"ng-container",2),i.DNE(5,im,15,11,"ng-container",2),i.DNE(6,jp,9,1,"ng-container",3),i.DNE(7,bi,1,1,"app-image-viewer-modal",4),i.k0s()()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngSwitch",a.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",a.selectedImageUrl)}}let om=(()=>{class p{constructor(a,y,T,L,z){this.businessDataService=a,this.route=y,this.webContent=T,this.metaService=L,this.router=z,this.heroImages=[],this.images=[],this.businessImages=[],this.lifeStyleImages=[],this.employeeImages=[],this.business=null,this.selectedImageUrl=null,this.layoutType="demo"}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,this.layoutType=a?.theme.themeType||"",a?.id&&(this.businessId=a.id,this.loadImages(),this.metaService.loadAndApplyMeta(this.businessId))})}closeLightbox(){this.selectedImageUrl=null}loadImages(){var a=this;[{key:"heroImages",target:"heroImages"},{key:"gallery",target:"images"},{key:"business",target:"businessImages"},{key:"lifeStyle",target:"lifeStyleImages"},{key:"employee",target:"employeeImages"}].forEach(({key:T,target:L})=>{this.webContent.getBusinessUploadedImagesById(this.businessId,T).pipe((0,oe.n)(z=>{const se=z.map(function(){var ye=(0,bh.A)(function*(He){return(yield a.webContent.checkImageExists(He.url))?He:null});return function(He){return ye.apply(this,arguments)}}());return(0,pe.H)(Promise.all(se))}),(0,Se.T)(z=>z.filter(se=>null!==se))).subscribe(z=>{this[L]=z})})}onImageClick(a){this.selectedImageUrl=a}onCloseModal(){this.selectedImageUrl=null}navigateToContact(a){this.router.navigate(["/contact-us"],{queryParams:{id:a}})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(xi.A),i.rXU(dr.nX),i.rXU(vi.N),i.rXU(Li.R),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-photo-gallery"]],inputs:{businessId:"businessId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"imageUrl","closeModal",4,"ngIf"],[1,"hero-contact"],[1,"hero-overlay"],[1,"hero-subtitle"],[1,"container"],[1,"home-description"],[1,"section-heading"],[1,"gallery"],[1,"gallery-grid","gallery-container"],["class","gallery-item",3,"click",4,"ngFor","ngForOf"],[1,"cta-section","about-cta"],[1,"cta-content"],["type","button",1,"afhBtn",3,"click"],[1,"gallery-item",3,"click"],["alt","Gallery Image",3,"src"],[3,"content","title","showBtn"],[1,"gallery","ae-gallery"],[3,"title"],[1,"gallery-grid","gallery-container","ae-gallery-container"],[3,"imageURL","author","text"],["alt","Lifestyle Image",3,"src"],[3,"imageUrl","closeModal"]],template:function(y,T){1&y&&i.DNE(0,Cf,8,6,"div",0),2&y&&i.Y8G("ngIf",T.business)},dependencies:[_e.Sq,_e.bT,_e.ux,_e.e1,_e.fG,ui.W,nm.W,Vn,On,Mt.N,rm],styles:[".hero-contact[_ngcontent-%COMP%]{background-image:url(istockphoto-1022730404-2048x2048.31cbbafdcadfda2a.jpg);background-size:cover;background-position:center;position:relative;height:400px;display:flex;align-items:center;justify-content:center;color:var(--primary-color);text-align:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(0,0,0,.5);color:var(--primary-color);font-family:Playfair Display,serif}.hero-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;letter-spacing:.3rem;text-transform:uppercase;font-weight:700;margin:0;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.hero-subtitle[_ngcontent-%COMP%]{font-size:2rem;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.home-description[_ngcontent-%COMP%]{margin-bottom:40px;background-color:var(--primary-color);padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.home-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px;color:#333}.home-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.6;color:#555}.gallery[_ngcontent-%COMP%]{margin-bottom:40px}.gallery[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:20px;color:#333}.gallery-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px;border-radius:10px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;box-shadow:0 4px 8px #0000001a;transition:transform .3s,box-shadow .3s}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;display:block}.gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #0003}.about-cta[_ngcontent-%COMP%]{background-color:var(--dark-background-color);padding:50px;text-align:center;color:var(--primary-color);border-radius:10px;box-shadow:0 4px 8px #0003}.about-cta[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:var(--primary-color);margin-bottom:15px}.about-cta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#ddd;margin-bottom:30px}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]{background-color:var(--button-color);color:var(--primary-color);padding:15px 30px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.about-cta[_ngcontent-%COMP%]   .cta-btn[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;padding:20px}.ae-gallery[_ngcontent-%COMP%]{padding:40px 120px}.gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px}.gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.ae-gallery-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:40px;padding:20px}.ae-gallery-item[_ngcontent-%COMP%]{overflow:hidden;border-radius:8px;transition:transform .3s,box-shadow .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0003}.ae-gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:opacity .3s}.ae-gallery-item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.9}.ae-lightbox[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.ae-lightbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.ae-section-heading[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;position:relative}.ae-gallery-item[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);animation:_ngcontent-%COMP%_ae-fadeInUp .5s ease-in-out forwards}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.ae-gallery-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}@keyframes _ngcontent-%COMP%_ae-fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ae-gallery[_ngcontent-%COMP%]{padding:40px 20px}}"]})}}return p})();var gs=j(4796);function M_(p,l){if(1&p&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&p){const a=i.XpG();i.R7$(1),i.JRh(a.errorMessage)}}let am=(()=>{class p{constructor(a,y){this.authService=a,this.router=y,this.email="",this.password="",this.errorMessage=""}login(){this.authService.login(this.email,this.password).then(()=>{this.router.navigate(["/admin"])}).catch(a=>{this.errorMessage=a.message})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(gs.u),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"submit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","name","email","id","email","required","",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","name","password","id","password","required","",1,"form-input",3,"ngModel","ngModelChange"],["type","submit",1,"afhBtn"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(y,T){1&y&&(i.j41(0,"div",0)(1,"div",1)(2,"h2",2),i.EFF(3,"Login"),i.k0s(),i.j41(4,"form",3),i.bIt("submit",function(){return T.login()}),i.j41(5,"div",4)(6,"label",5),i.EFF(7,"Email"),i.k0s(),i.j41(8,"input",6),i.bIt("ngModelChange",function(z){return T.email=z}),i.k0s()(),i.j41(9,"div",4)(10,"label",7),i.EFF(11,"Password"),i.k0s(),i.j41(12,"input",8),i.bIt("ngModelChange",function(z){return T.password=z}),i.k0s()(),i.j41(13,"button",9),i.EFF(14,"Login"),i.k0s(),i.DNE(15,M_,2,1,"div",10),i.k0s()()()),2&y&&(i.R7$(8),i.Y8G("ngModel",T.email),i.R7$(4),i.Y8G("ngModel",T.password),i.R7$(3),i.Y8G("ngIf",T.errorMessage))},dependencies:[_e.bT,Ur.qT,Ur.me,Ur.BC,Ur.cb,Ur.YS,Ur.vS,Ur.cV],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:var(--background-color)}.login-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;color:#555}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px;border:1px solid #ddd;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:4px;background-color:var(--button-color);color:var(--primary-color);cursor:pointer;transition:background-color .3s}.login-button[_ngcontent-%COMP%]:hover{background-color:var(--button-hover-color)}.error-message[_ngcontent-%COMP%]{margin-top:15px;color:#ff4d4d;text-align:center}"]})}}return p})();var dd=j(6340);let cm=(()=>{class p{constructor(a){this.afs=a,this.basePath="businesses"}saveIntakeForm(a,y){const T=this.afs.createId(),L=this.afs.collection(`${this.basePath}/${y}/intake`).doc(T);return new Oe.c(z=>{L.set(a).then(()=>{z.next(a),z.complete()}).catch(se=>{console.error("Error saving intake form data",se),z.error(se)})})}getIntakeForms(a){return this.afs.collection(`${this.basePath}/${a}/intake`).snapshotChanges().pipe((0,Se.T)(y=>y.map(T=>{const L=T.payload.doc.data();return{id:T.payload.doc.id,...L}})))}getIntakeForm(a,y){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(y).valueChanges().pipe((0,Se.T)(T=>T||void 0))}updateIntakeForm(a,y,T){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(y).update(T)}deleteIntakeForm(a,y){return this.afs.collection(`${this.basePath}/${a}/intake`).doc(y).delete()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(dd.Qe))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function ev(p,l){if(1&p&&(i.j41(0,"div",4)(1,"blockquote",5)(2,"h4"),i.EFF(3),i.k0s()(),i.j41(4,"div",6)(5,"p"),i.EFF(6),i.k0s()()()),2&p){const a=l.$implicit;i.R7$(3),i.SpI('"',a.quote,'"'),i.R7$(3),i.JRh(a.name)}}function lm(p,l){if(1&p&&(i.j41(0,"div",2),i.DNE(1,ev,7,2,"div",3),i.k0s()),2&p){const a=i.XpG();i.R7$(1),i.Y8G("ngForOf",a.testimonials)}}const tv=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ws.B},{path:"about-us",component:wr},{path:"services",component:ci},{path:"contact-us",component:Up},{path:"gallery",component:om},{path:"login",component:am},{path:"resident-form",component:(()=>{class p{constructor(a,y,T,L,z){this.fb=a,this.intakeService=y,this.businessDataService=T,this.emailService=L,this.metaService=z,this.businessId=null,this.business=null,this.layoutType="demo",this.modalTitle="",this.modalMessage="",this.intakeForm=this.fb.group({name:["",Ur.k0.required],email:["",[Ur.k0.required,Ur.k0.email]],phoneNumber:["",Ur.k0.required],referralSource:["",Ur.k0.required],relationToResident:[""],residentName:["",Ur.k0.required],age:["",Ur.k0.required],gender:["",Ur.k0.required],medicalHistory:[""],height:[""],weight:[""],reasonForMoving:[""],rnAssessment:[""],eating:[""],personalHygiene:[""],bathing:[""],toileting:[""],mobility:[""],transfers:[""],medicationAssistance:[""],memoryIssues:[""],behavior:[""],skinCondition:[""],additionalInfo:[""],currentLivingSituation:[""],targetMoveInDate:[""],disclosureSummary:[""],questions:[""]})}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{this.business=a,a?.id&&(this.metaService.loadAndApplyMeta(a?.id),this.layoutType=this.business?.theme.themeType,this.businessId=this.business?.id||"")})}onSubmit(){if(this.intakeForm.valid){const a=this.intakeForm.value;console.log(this.intakeForm.value),this.businessId&&this.intakeService.saveIntakeForm(a,this.businessId).subscribe(T=>{console.log("Intake form saved successfully!",T)},T=>{console.error("Error saving intake form:",T)});const y={name:a.name,email:a.email,message:this.generateEmailMessage(a),website:window.location.hostname};this.emailService.sendEmail(y).subscribe(T=>{this.modalTitle="Form Submitted",this.modalMessage="Thank you for submitting the form! We will get back to you soon."},T=>{console.error("Error sending email",T),this.modalTitle="Error",this.modalMessage="There was an issue submitting the form. Please try again later."})}}generateEmailMessage(a){return`\n      Name: ${a.name}\n      Email: ${a.email}\n      Phone Number: ${a.phoneNumber}\n      Referral Source: ${a.referralSource}\n      Relation to Resident: ${a.relationToResident}\n      Resident Name: ${a.residentName}\n      Age: ${a.age}\n      Gender: ${a.gender}\n      Medical History: ${a.medicalHistory}\n      Height: ${a.height}\n      Weight: ${a.weight}\n      Reason for Moving: ${a.reasonForMoving}\n      RN Assessment: ${a.rnAssessment}\n      Eating: ${a.eating}\n      Personal Hygiene: ${a.personalHygiene}\n      Bathing: ${a.bathing}\n      Toileting: ${a.toileting}\n      Mobility: ${a.mobility}\n      Transfers: ${a.transfers}\n      Medication Assistance: ${a.medicationAssistance}\n      Memory Issues: ${a.memoryIssues}\n      Behavior: ${a.behavior}\n      Skin Condition: ${a.skinCondition}\n      Additional Info: ${a.additionalInfo}\n      Current Living Situation: ${a.currentLivingSituation}\n      Target Move-In Date: ${a.targetMoveInDate}\n      Disclosure Summary: ${a.disclosureSummary}\n      Questions: ${a.questions}\n    `}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(Ur.ok),i.rXU(cm),i.rXU(xi.A),i.rXU(Fp),i.rXU(Li.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-resident-intake-form"]],decls:194,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-section"],["for","name"],["formControlName","name","placeholder","First and last name","id","name"],["for","email"],["formControlName","email","type","email","id","email"],["for","phoneNumber"],["formControlName","phoneNumber","id","phoneNumber"],["for","referralSource"],["formControlName","referralSource","id","referralSource"],["value","google"],["value","facebook"],["value","placementAgency"],["value","friendsFamily"],["value","other"],["for","relationToResident"],["formControlName","relationToResident","id","relationToResident"],["for","residentName"],["formControlName","residentName","id","residentName"],["for","age"],["formControlName","age","type","number","id","age"],["for","gender"],["formControlName","gender","id","gender"],["value","male"],["value","female"],["value","preferNotToSay"],["for","medicalHistory"],["formControlName","medicalHistory","id","medicalHistory"],["for","height"],["formControlName","height","type","number","id","height"],["for","weight"],["formControlName","weight","type","number","id","weight"],["for","reasonForMoving"],["formControlName","reasonForMoving","id","reasonForMoving"],["for","rnAssessment"],["formControlName","rnAssessment","id","rnAssessment"],["value","yes"],["value","no"],["for","eating"],["formControlName","eating","id","eating"],["value","independent"],["value","needingAssistance"],["value","dependent"],["for","personalHygiene"],["formControlName","personalHygiene","id","personalHygiene"],["for","bathing"],["formControlName","bathing","id","bathing"],["for","toileting"],["formControlName","toileting","id","toileting"],["for","mobility"],["formControlName","mobility","id","mobility"],["for","transfers"],["formControlName","transfers","id","transfers"],["for","medicationAssistance"],["formControlName","medicationAssistance","id","medicationAssistance"],["for","memoryIssues"],["formControlName","memoryIssues","id","memoryIssues"],["for","behavior"],["formControlName","behavior","id","behavior"],["for","skinCondition"],["formControlName","skinCondition","id","skinCondition"],["for","additionalInfo"],["formControlName","additionalInfo","id","additionalInfo"],["for","currentLivingSituation"],["formControlName","currentLivingSituation","id","currentLivingSituation"],["value","ownHome"],["value","relativesHome"],["value","hospital"],["value","adultFamilyHome"],["value","seniorLiving"],["for","targetMoveInDate"],["formControlName","targetMoveInDate","type","date","id","targetMoveInDate"],["for","disclosureSummary"],["formControlName","disclosureSummary","id","disclosureSummary"],["for","questions"],["formControlName","questions","id","questions"],["type","submit",3,"disabled"]],template:function(y,T){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"form",0),i.bIt("ngSubmit",function(){return T.onSubmit()}),i.j41(2,"div",1)(3,"h2"),i.EFF(4,"Personal Information"),i.k0s(),i.j41(5,"label",2),i.EFF(6,"Name *"),i.k0s(),i.nrm(7,"input",3),i.j41(8,"label",4),i.EFF(9,"Email *"),i.k0s(),i.nrm(10,"input",5),i.j41(11,"label",6),i.EFF(12,"Phone number *"),i.k0s(),i.nrm(13,"input",7),i.k0s(),i.j41(14,"div",1)(15,"h2"),i.EFF(16,"Referral Source"),i.k0s(),i.j41(17,"label",8),i.EFF(18,"How did you find out about us? *"),i.k0s(),i.j41(19,"select",9)(20,"option",10),i.EFF(21,"Google"),i.k0s(),i.j41(22,"option",11),i.EFF(23,"Facebook"),i.k0s(),i.j41(24,"option",12),i.EFF(25,"Placement Agency"),i.k0s(),i.j41(26,"option",13),i.EFF(27,"Friends and/or Family"),i.k0s(),i.j41(28,"option",14),i.EFF(29,"Other"),i.k0s()(),i.j41(30,"label",15),i.EFF(31,"What is your relation to the resident? *"),i.k0s(),i.nrm(32,"input",16),i.k0s(),i.j41(33,"div",1)(34,"h2"),i.EFF(35,"Resident Information"),i.k0s(),i.j41(36,"label",17),i.EFF(37,"Resident's name *"),i.k0s(),i.nrm(38,"input",18),i.j41(39,"label",19),i.EFF(40,"Age *"),i.k0s(),i.nrm(41,"input",20),i.j41(42,"label",21),i.EFF(43,"Gender *"),i.k0s(),i.j41(44,"select",22)(45,"option",23),i.EFF(46,"Male"),i.k0s(),i.j41(47,"option",24),i.EFF(48,"Female"),i.k0s(),i.j41(49,"option",25),i.EFF(50,"Prefer not to say"),i.k0s(),i.j41(51,"option",14),i.EFF(52,"Other"),i.k0s()()(),i.j41(53,"div",1)(54,"h2"),i.EFF(55,"Medical History"),i.k0s(),i.j41(56,"label",26),i.EFF(57,"Relevant medical and surgical history *"),i.k0s(),i.nrm(58,"textarea",27),i.j41(59,"label",28),i.EFF(60,"Height *"),i.k0s(),i.nrm(61,"input",29),i.j41(62,"label",30),i.EFF(63,"Weight *"),i.k0s(),i.nrm(64,"input",31),i.j41(65,"label",32),i.EFF(66,"Reason for moving to an adult family home *"),i.k0s(),i.nrm(67,"textarea",33),i.j41(68,"label",34),i.EFF(69,'Do you already have an "RN Assessment for AFH"? *'),i.k0s(),i.j41(70,"select",35)(71,"option",36),i.EFF(72,"Yes"),i.k0s(),i.j41(73,"option",37),i.EFF(74,"No"),i.k0s()()(),i.j41(75,"div",1)(76,"h2"),i.EFF(77,"Care Levels"),i.k0s(),i.j41(78,"label",38),i.EFF(79,"Eating *"),i.k0s(),i.j41(80,"select",39)(81,"option",40),i.EFF(82,"Independent"),i.k0s(),i.j41(83,"option",41),i.EFF(84,"Needing Assistance"),i.k0s(),i.j41(85,"option",42),i.EFF(86,"Dependent"),i.k0s()(),i.j41(87,"label",43),i.EFF(88,"Personal Hygiene *"),i.k0s(),i.j41(89,"select",44)(90,"option",40),i.EFF(91,"Independent"),i.k0s(),i.j41(92,"option",41),i.EFF(93,"Needing Assistance"),i.k0s(),i.j41(94,"option",42),i.EFF(95,"Dependent"),i.k0s()(),i.j41(96,"label",45),i.EFF(97,"Bathing *"),i.k0s(),i.j41(98,"select",46)(99,"option",40),i.EFF(100,"Independent"),i.k0s(),i.j41(101,"option",41),i.EFF(102,"Needing Assistance"),i.k0s(),i.j41(103,"option",42),i.EFF(104,"Dependent"),i.k0s()(),i.j41(105,"label",47),i.EFF(106,"Toileting *"),i.k0s(),i.j41(107,"select",48)(108,"option",40),i.EFF(109,"Independent"),i.k0s(),i.j41(110,"option",41),i.EFF(111,"Needing Assistance"),i.k0s(),i.j41(112,"option",42),i.EFF(113,"Dependent"),i.k0s()(),i.j41(114,"label",49),i.EFF(115,"Mobility *"),i.k0s(),i.j41(116,"select",50)(117,"option",40),i.EFF(118,"Independent"),i.k0s(),i.j41(119,"option",41),i.EFF(120,"Needing Assistance"),i.k0s(),i.j41(121,"option",42),i.EFF(122,"Dependent"),i.k0s()(),i.j41(123,"label",51),i.EFF(124,"Transfers *"),i.k0s(),i.j41(125,"select",52)(126,"option",40),i.EFF(127,"Independent"),i.k0s(),i.j41(128,"option",41),i.EFF(129,"Needing Assistance"),i.k0s(),i.j41(130,"option",42),i.EFF(131,"Dependent"),i.k0s()(),i.j41(132,"label",53),i.EFF(133,"Medication Assistance *"),i.k0s(),i.j41(134,"select",54)(135,"option",36),i.EFF(136,"Yes"),i.k0s(),i.j41(137,"option",37),i.EFF(138,"No"),i.k0s()()(),i.j41(139,"div",1)(140,"h2"),i.EFF(141,"Other Medical Information"),i.k0s(),i.j41(142,"label",55),i.EFF(143,"Memory Issues *"),i.k0s(),i.j41(144,"select",56)(145,"option",36),i.EFF(146,"Yes"),i.k0s(),i.j41(147,"option",37),i.EFF(148,"No"),i.k0s()(),i.j41(149,"label",57),i.EFF(150,"Behavior"),i.k0s(),i.nrm(151,"textarea",58),i.j41(152,"label",59),i.EFF(153,"Skin Condition"),i.k0s(),i.nrm(154,"textarea",60),i.j41(155,"label",61),i.EFF(156,"Other information you want us to know"),i.k0s(),i.nrm(157,"textarea",62),i.k0s(),i.j41(158,"div",1)(159,"h2"),i.EFF(160,"Living Situation"),i.k0s(),i.j41(161,"label",63),i.EFF(162,"Current living situation *"),i.k0s(),i.j41(163,"select",64)(164,"option",65),i.EFF(165,"Own Home"),i.k0s(),i.j41(166,"option",66),i.EFF(167,"Relative's Home"),i.k0s(),i.j41(168,"option",67),i.EFF(169,"Hospital"),i.k0s(),i.j41(170,"option",68),i.EFF(171,"Adult Family Home"),i.k0s(),i.j41(172,"option",69),i.EFF(173,"Senior Living"),i.k0s(),i.j41(174,"option",14),i.EFF(175,"Other"),i.k0s()()(),i.j41(176,"div",1)(177,"label",70),i.EFF(178,"Target move in date *"),i.k0s(),i.nrm(179,"input",71),i.k0s(),i.j41(180,"div",1)(181,"label",72),i.EFF(182,"Would you like a summary of disclosures of our rates and services, including itemized services?"),i.k0s(),i.j41(183,"select",73)(184,"option",36),i.EFF(185,"Yes"),i.k0s(),i.j41(186,"option",37),i.EFF(187,"No"),i.k0s()()(),i.j41(188,"div",1)(189,"label",74),i.EFF(190,"Do you have any questions for us?"),i.k0s(),i.nrm(191,"textarea",75),i.k0s(),i.j41(192,"button",76),i.EFF(193,"Submit"),i.k0s()()),2&y&&(i.R7$(1),i.Y8G("formGroup",T.intakeForm),i.R7$(191),i.Y8G("disabled",T.intakeForm.invalid))},dependencies:[Ur.qT,Ur.xH,Ur.y7,Ur.me,Ur.Q0,Ur.wz,Ur.BC,Ur.cb,Ur.j4,Ur.JD,Vn],styles:["form[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:30px;background-color:#fafafa;border-radius:12px;box-shadow:0 8px 15px #0000001a}h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.5em;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#34495e;margin-bottom:8px;font-size:16px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:4px;border:1px solid #ccc;border-radius:8px;font-size:16px;box-sizing:border-box;transition:border-color .3s ease}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:15px;background-color:#007bff;color:#fff;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:20px}}"]})}}return p})()},{path:"testimonials",component:(()=>{class p{constructor(a,y){this.businessDataService=a,this.metaService=y,this.testimonials=[],this.themeType=null}ngOnInit(){this.businessDataService.businessData$.subscribe(a=>{console.log("Testimonial List - :",a),a&&(this.testimonials=a.testimonials||[],this.themeType=a.theme.themeType,this.metaService.loadAndApplyMeta(a?.id))})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(xi.A),i.rXU(Li.R))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-testimonials-list"]],decls:3,vars:1,consts:[[1,"content-wrapper"],["class","testimonials-container",4,"ngIf"],[1,"testimonials-container"],["class","testimonial-card",4,"ngFor","ngForOf"],[1,"testimonial-card"],[1,"testimonial-quote"],[1,"testimonial-author"]],template:function(y,T){1&y&&(i.nrm(0,"app-hero"),i.j41(1,"div",0),i.DNE(2,lm,2,1,"div",1),i.k0s()),2&y&&(i.R7$(2),i.Y8G("ngIf",T.testimonials.length>0))},dependencies:[_e.Sq,_e.bT,Vn],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(to bottom,#f0f4f8,#ffffff)}.testimonials-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px;max-width:var(--site-max-width);margin:0 auto}.testimonial-card[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ffffff,#e9f0f5);border:1px solid #ddd;border-radius:16px;padding:24px;box-shadow:0 6px 12px #00000026;transition:transform .3s ease,box-shadow .3s ease;position:relative;overflow:hidden}.testimonial-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:linear-gradient(90deg,var(--button-color),var(--dark-background-color));border-radius:16px 16px 0 0}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0003}.testimonial-quote[_ngcontent-%COMP%]{font-style:italic;color:var(--text-primary-color, #333);margin-bottom:16px;font-size:1.5rem;line-height:1.5;text-align:center;position:relative}.testimonial-quote[_ngcontent-%COMP%]:before{content:"\\201c";font-size:3rem;color:#007bff;position:absolute;top:-20px;left:10px}.testimonial-quote[_ngcontent-%COMP%]:after{content:"\\201d";font-size:3rem;color:#007bff;position:absolute;bottom:-20px;right:10px}.testimonial-author[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--text-secondary-color, #555);font-size:1.1rem;margin-top:10px;text-transform:uppercase}@media (max-width: 768px){.testimonial-quote[_ngcontent-%COMP%]{font-size:1.25rem}.testimonial-author[_ngcontent-%COMP%]{font-size:.9rem}.testimonial-card[_ngcontent-%COMP%]{padding:16px}}']})}}return p})()},{path:"login",component:am},{path:"admin",loadChildren:()=>j.e(655).then(j.bind(j,9655)).then(p=>p.AdminModule)},{path:":id",component:ws.B},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let nv=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({imports:[dr.iI.forRoot(tv),dr.iI]})}}return p})();var Tf=j(5009);function g0(p,l){if(1&p&&i.nrm(0,"img",10),2&p){const a=i.XpG();i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}const If=function(p){return{"clemo-shrink":p}},rv=function(){return["/home"]},uu=function(p){return{id:p}},hd=function(p){return{"clemo-show":p}};let UE=(()=>{class p{constructor(a,y,T){this.route=a,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.layoutType="demo",this.isShrunk=!1,this.menuOpen=!1}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))}),this.checkScroll()}onWindowScroll(){this.checkScroll()}checkScroll(){this.isShrunk=window.scrollY>100}toggleMenu(){this.menuOpen=!this.menuOpen}navigateTo(a){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(dr.nX),i.rXU(dr.Ix),i.rXU(xi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-expandable-navigation"]],hostBindings:function(y,T){1&y&&i.bIt("scroll",function(){return T.onWindowScroll()},!1,i.tSv)},decls:26,vars:12,consts:[[1,"clemo-header",3,"ngClass"],[1,"clemo-container"],["href","#",1,"clemo-navbar-brand",3,"routerLink","queryParams"],["class","clemo-logo","alt","Business Logo",3,"src",4,"ngIf"],[1,"clemo-navbar-toggler",3,"click"],[1,"clemo-navbar-toggler-icon"],[1,"clemo-navbar-collapse",3,"ngClass"],[1,"clemo-navbar-nav"],[1,"clemo-nav-item"],[1,"clemo-nav-link",3,"click"],["alt","Business Logo",1,"clemo-logo",3,"src"]],template:function(y,T){1&y&&(i.j41(0,"nav",0)(1,"div",1)(2,"a",2),i.DNE(3,g0,1,1,"img",3),i.k0s(),i.j41(4,"button",4),i.bIt("click",function(){return T.toggleMenu()}),i.nrm(5,"span",5),i.k0s(),i.j41(6,"div",6)(7,"ul",7)(8,"li",8)(9,"span",9),i.bIt("click",function(){return T.navigateTo("home")}),i.EFF(10,"Home"),i.k0s()(),i.j41(11,"li",8)(12,"span",9),i.bIt("click",function(){return T.navigateTo("about-us")}),i.EFF(13,"About Us"),i.k0s()(),i.j41(14,"li",8)(15,"span",9),i.bIt("click",function(){return T.navigateTo("services")}),i.EFF(16,"Services"),i.k0s()(),i.j41(17,"li",8)(18,"span",9),i.bIt("click",function(){return T.navigateTo("gallery")}),i.EFF(19,"Our Home"),i.k0s()(),i.j41(20,"li",8)(21,"span",9),i.bIt("click",function(){return T.navigateTo("resident-form")}),i.EFF(22,"Resident Form"),i.k0s()(),i.j41(23,"li",8)(24,"span",9),i.bIt("click",function(){return T.navigateTo("contact-us")}),i.EFF(25,"Contact"),i.k0s()()()()()()),2&y&&(i.Y8G("ngClass",i.eq3(5,If,T.isShrunk)),i.R7$(2),i.Y8G("routerLink",i.lJ4(7,rv))("queryParams",i.eq3(8,uu,T.businessId)),i.R7$(1),i.Y8G("ngIf",null==T.business?null:T.business.logoImage),i.R7$(3),i.Y8G("ngClass",i.eq3(10,hd,T.menuOpen)))},dependencies:[_e.YU,_e.bT,dr.Wk],styles:['.clemo-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:9999;background-color:#fff;transition:all .3s ease;height:150px;display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-shadow:0 6px 12px #0000001a}.clemo-header.clemo-shrink[_ngcontent-%COMP%]{height:70px;box-shadow:none}.clemo-logo[_ngcontent-%COMP%]{max-height:100px;transition:max-height .3s ease}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-logo[_ngcontent-%COMP%]{max-height:40px}.clemo-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.clemo-navbar-brand[_ngcontent-%COMP%]{margin-left:0;display:flex;align-items:center}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;transition:max-height .3s ease;align-items:center}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-nav[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0}.clemo-nav-item[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.clemo-nav-link[_ngcontent-%COMP%]{color:#333;font-size:1.3rem;text-transform:uppercase;padding:15px 0;display:block;transition:font-size .3s ease,color .3s ease;cursor:pointer}.clemo-header.clemo-shrink[_ngcontent-%COMP%]   .clemo-nav-link[_ngcontent-%COMP%]{font-size:1rem}.clemo-nav-link[_ngcontent-%COMP%]:hover{color:var(--dark-background-color)}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:none}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]{width:25px;height:2px;background-color:#333;display:block;position:relative}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before, .clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{content:"";width:25px;height:2px;background-color:#333;position:absolute;left:0;transition:transform .3s ease}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:before{top:-7px}.clemo-navbar-toggler-icon[_ngcontent-%COMP%]:after{top:7px}@media (max-width: 991px){.clemo-navbar-nav[_ngcontent-%COMP%]{display:block;height:80vh}.clemo-navbar-collapse[_ngcontent-%COMP%]{display:none;flex-direction:column;background-color:var(--background-color);position:absolute;top:170px;left:0;width:100%;z-index:1000}.clemo-nav-item[_ngcontent-%COMP%]{width:100%;text-align:center;padding:30px}.clemo-nav-link[_ngcontent-%COMP%]{padding:10px;font-size:1.25rem}.clemo-navbar-toggler[_ngcontent-%COMP%]{display:block;padding:20px;background-color:transparent;border:0px}.clemo-navbar-collapse.clemo-show[_ngcontent-%COMP%]{display:flex}.clemo-navbar-collapse[_ngcontent-%COMP%]{top:170px}}']})}}return p})();function Yc(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}const fd=function(){return["/home"]},Ga=function(p){return{id:p}},Ch=function(p){return{"open-bar1":p}},Il=function(p){return{"open-bar2":p}},pd=function(p){return{"open-bar3":p}},gd=function(p){return{active:p}};function du(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),i.DNE(5,Yc,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(7,fd))("queryParams",i.eq3(8,Ga,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(10,Ch,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(12,Il,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,pd,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,gd,a.menuOpen))}}function Bp(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}const ga=function(){return["/contact-us"]};function Th(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Bp,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,fd))("queryParams",i.eq3(10,Ga,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Ch,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Il,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,pd,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,gd,a.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,ga))("queryParams",i.eq3(21,Ga,a.businessId))}}function md(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}function wf(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,md,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"Our Home"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("testimonials"))}),i.EFF(20,"Testimonials"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(22,"Contact"),i.k0s(),i.j41(23,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(24,"Resident Form"),i.k0s()(),i.j41(25,"div",4)(26,"a",5)(27,"button",15),i.EFF(28,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,fd))("queryParams",i.eq3(10,Ga,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Ch,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Il,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,pd,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,gd,a.menuOpen)),i.R7$(16),i.Y8G("routerLink",i.lJ4(20,ga))("queryParams",i.eq3(21,Ga,a.businessId))}}function N_(p,l){1&p&&(i.qex(0),i.nrm(1,"app-expandable-navigation"),i.bVm())}function Af(p,l){if(1&p&&i.nrm(0,"img",13),2&p){const a=i.XpG(2);i.Y8G("src",null==a.business?null:a.business.logoImage,i.B4B)}}function _d(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"nav",2)(2,"div",14)(3,"div",4)(4,"a",5),i.DNE(5,Af,1,1,"img",6),i.k0s()(),i.j41(6,"div",7),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.toggleMenu())}),i.nrm(7,"div",8)(8,"div",9)(9,"div",10),i.k0s(),i.j41(10,"ul",11)(11,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(12,"Home"),i.k0s(),i.j41(13,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(14,"Services"),i.k0s(),i.j41(15,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(16,"About Us"),i.k0s(),i.j41(17,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(18,"gallery"),i.k0s(),i.j41(19,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(20,"Contact"),i.k0s(),i.j41(21,"li",12),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(22,"Intake Form"),i.k0s()(),i.j41(23,"div",4)(24,"a",5)(25,"button",15),i.EFF(26,"Schedule a Visit"),i.k0s()()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.Y8G("routerLink",i.lJ4(9,fd))("queryParams",i.eq3(10,Ga,a.businessId)),i.R7$(1),i.Y8G("ngIf",null==a.business?null:a.business.logoImage),i.R7$(2),i.Y8G("ngClass",i.eq3(12,Ch,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(14,Il,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(16,pd,a.menuOpen)),i.R7$(1),i.Y8G("ngClass",i.eq3(18,gd,a.menuOpen)),i.R7$(14),i.Y8G("routerLink",i.lJ4(20,ga))("queryParams",i.eq3(21,Ga,a.businessId))}}let um=(()=>{class p{constructor(a,y,T){this.route=a,this.router=y,this.businessDataService=T,this.businessId="",this.business=null,this.menuActive=!1,this.menuOpen=!1,this.layoutType="demo"}ngOnInit(){this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.businessDataService.getBusinessData().subscribe(y=>{this.business=y,this.layoutType=this.business?.theme.themeType,console.log("Navigation Logo",this.business?.logoImage),console.log("Navigation ID",this.business?.id)}))})}navigateTo(a){const y=this.businessId?{id:this.businessId}:{};console.log("This Business id from query string:",this.businessId),this.closeMenu(),this.router.navigate([`/${a}`],{queryParams:y}).then(T=>{T||console.error("Navigation failed!")})}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(dr.nX),i.rXU(dr.Ix),i.rXU(xi.A))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-navigation"]],decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"navbar_"],[1,"navbar-container"],[1,"logo"],["href","#",3,"routerLink","queryParams"],["class","logoImage","alt","Business Logo",3,"src",4,"ngIf"],[1,"menu-icon",3,"click"],[1,"bar1",3,"ngClass"],[1,"bar2",3,"ngClass"],[1,"bar3",3,"ngClass"],[1,"nav-menu",3,"ngClass"],[1,"nav-item",3,"click"],["alt","Business Logo",1,"logoImage",3,"src"],[1,"ae-navbar-container"],[1,"afhBtn"]],template:function(y,T){1&y&&(i.j41(0,"div",0),i.DNE(1,du,21,18,"ng-container",1),i.DNE(2,Th,29,23,"ng-container",1),i.DNE(3,wf,29,23,"ng-container",1),i.DNE(4,N_,2,0,"ng-container",1),i.DNE(5,_d,27,23,"ng-container",1),i.k0s()),2&y&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","ehc"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(1),i.Y8G("ngSwitchCase","demo"))},dependencies:[_e.YU,_e.bT,_e.ux,_e.e1,dr.Wk,UE],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:70px;max-width:1200px;margin:0 auto}.ae-navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;height:100px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-height:70px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:70px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:var(--button-color)}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:700;color:var(--nav-text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--nva-text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:700}.top[_ngcontent-%COMP%]{font-size:2rem}.bottom[_ngcontent-%COMP%]{margin-top:-10px;font-size:1rem;letter-spacing:.3rem;color:var(--accent-color)}.navbar_[_ngcontent-%COMP%]{background-color:var(--nav-background-color);width:100%;top:0;left:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.nav-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.nav-item[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 20px}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-text-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:2rem;font-family:Montserrat,sans-serif;font-weight:500}.menu-icon[_ngcontent-%COMP%]{position:absolute;display:none;cursor:pointer;flex-direction:column;justify-content:space-around;width:30px;height:30px;z-index:1}.menu-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:4px;background-color:var(--nav-text-color);transition:all .3s}.menu-icon.open[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%], .menu-icon.open[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{background-color:var(--nav-active-text)}.menu-icon[_ngcontent-%COMP%]   .open-bar1[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-5px,5px);background-color:var(--primary-color)}.menu-icon[_ngcontent-%COMP%]   .open-bar2[_ngcontent-%COMP%]{opacity:0}.menu-icon[_ngcontent-%COMP%]   .open-bar3[_ngcontent-%COMP%]{transform:rotate(45deg) translate(-5px,-5px);background-color:var(--primary-color)}.nav-menu.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:var(--nav-active-background);opacity:.9;flex-direction:column;justify-content:center;align-items:center;transition:left .3s}.nav-menu.active[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:24px;margin:20px 0}@media (max-width: 768px){.navbar-container[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.logo[_ngcontent-%COMP%]{order:2;margin-left:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;margin-left:0}.menu-icon[_ngcontent-%COMP%]{display:flex;order:1;margin-right:auto;z-index:20001}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;width:100%;height:100vh;background-color:var(--nav-active-background);flex-direction:column;justify-content:center;align-items:center;transition:left .3s;z-index:1999}.nav-item[_ngcontent-%COMP%]{color:var(--primary-color);cursor:pointer;text-decoration:none;text-transform:uppercase;font-size:1.2rem;font-family:Montserrat,sans-serif;font-weight:500;z-index:2000}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--nav-active-text);font-size:2em}.number[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:4rem;font-weight:500;color:var(--text-color);margin-right:.5rem;line-height:1}.text[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;display:flex;flex-direction:column;align-items:flex-start;color:var(--text-color)}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{font-weight:400}.top[_ngcontent-%COMP%]{font-size:1.5rem}.bottom[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.2rem;color:var(--accent-color)}}"]})}}return p})();function $p(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const a=i.XpG();i.R7$(4),i.JRh(null==a.business?null:a.business.businessName),i.R7$(7),i.SpI(" ",null==a.business?null:a.business.address," "),i.R7$(3),i.SpI("Provider:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone)}}function dm(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",12)(2,"div",13)(3,"div",14),i.nrm(4,"hr",15),i.j41(5,"h2",16),i.EFF(6),i.k0s(),i.nrm(7,"hr",15),i.k0s(),i.j41(8,"div",17)(9,"div",18)(10,"h3",19),i.EFF(11,"Owner:"),i.k0s(),i.j41(12,"p"),i.EFF(13),i.k0s()(),i.j41(14,"div",18)(15,"h3",19),i.EFF(16,"Location:"),i.k0s(),i.j41(17,"p"),i.EFF(18),i.k0s()(),i.j41(19,"div",18)(20,"h3",19),i.EFF(21,"Provider:"),i.k0s(),i.j41(22,"p"),i.EFF(23),i.k0s(),i.j41(24,"p"),i.EFF(25,"Email: "),i.j41(26,"a",11),i.EFF(27),i.k0s()(),i.j41(28,"p"),i.EFF(29,"Phone: "),i.j41(30,"a",11),i.EFF(31),i.k0s()()()(),i.j41(32,"div",20)(33,"p"),i.EFF(34),i.k0s()()()(),i.bVm()),2&p){const a=i.XpG();i.R7$(6),i.JRh(null==a.business?null:a.business.businessName),i.R7$(7),i.JRh(null==a.business?null:a.business.providerName),i.R7$(5),i.JRh(null==a.business?null:a.business.address),i.R7$(5),i.JRh(null==a.business?null:a.business.providerName),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.email),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone),i.R7$(3),i.Lme("\xa9 ",2024," ",null==a.business?null:a.business.businessName,". All rights reserved.")}}function k_(p,l){if(1&p){const a=i.RV6();i.qex(0),i.j41(1,"footer",21)(2,"div",22)(3,"div",23),i.nrm(4,"img",24),i.j41(5,"h4"),i.EFF(6),i.k0s(),i.j41(7,"p",25),i.EFF(8),i.k0s(),i.j41(9,"p",26),i.EFF(10),i.k0s()(),i.j41(11,"div",27)(12,"a",28),i.nrm(13,"i",29),i.k0s(),i.j41(14,"a",28),i.nrm(15,"i",30),i.k0s()(),i.j41(16,"nav",31)(17,"span",32),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("home"))}),i.EFF(18,"HOME"),i.k0s(),i.j41(19,"span",32),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("about-us"))}),i.EFF(20,"ABOUT US"),i.k0s(),i.j41(21,"span",32),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("services"))}),i.EFF(22,"SERVICES"),i.k0s(),i.j41(23,"span",32),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("gallery"))}),i.EFF(24,"OUR HOME"),i.k0s(),i.j41(25,"span",32),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("resident-form"))}),i.EFF(26,"RESIDENT FORM"),i.k0s(),i.j41(27,"span",32),i.bIt("click",function(){i.eBV(a);const T=i.XpG();return i.Njj(T.navigateTo("contact-us"))}),i.EFF(28,"CONTACT"),i.k0s()(),i.j41(29,"div",33)(30,"p"),i.EFF(31,"\xa9 Copyright. All rights reserved."),i.k0s()()()(),i.bVm()}if(2&p){const a=i.XpG();i.R7$(4),i.FS9("src",null==a.business?null:a.business.logoImage,i.B4B),i.R7$(2),i.JRh(null==a.business?null:a.business.businessName),i.R7$(2),i.JRh(null==a.business?null:a.business.phone),i.R7$(2),i.JRh(null==a.business?null:a.business.address)}}function wl(p,l){if(1&p&&(i.qex(0),i.j41(1,"footer",4)(2,"div",5)(3,"h2",6),i.EFF(4),i.k0s(),i.nrm(5,"hr",7),i.j41(6,"div",8)(7,"div",9)(8,"h3",10),i.EFF(9,"Location:"),i.k0s(),i.j41(10,"address"),i.EFF(11),i.k0s()(),i.j41(12,"div",9)(13,"h3",10),i.EFF(14),i.k0s(),i.j41(15,"p"),i.EFF(16,"Email: "),i.j41(17,"a",11),i.EFF(18),i.k0s()(),i.j41(19,"p"),i.EFF(20,"Phone: "),i.j41(21,"a",11),i.EFF(22),i.k0s()()(),i.j41(23,"div",9)(24,"h3",10),i.EFF(25),i.k0s(),i.j41(26,"p"),i.EFF(27,"Email: "),i.j41(28,"a",11),i.EFF(29),i.k0s()(),i.j41(30,"p"),i.EFF(31,"Phone: "),i.j41(32,"a",11),i.EFF(33),i.k0s()()()()()(),i.bVm()),2&p){const a=i.XpG();i.R7$(4),i.JRh(null==a.business?null:a.business.businessName),i.R7$(7),i.SpI(" ",null==a.business?null:a.business.address," "),i.R7$(3),i.SpI("Provider:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone),i.R7$(3),i.SpI("Resident Manager:",null==a.business?null:a.business.providerName,""),i.R7$(3),i.Mz_("href","mailto:",null==a.business?null:a.business.email,"",i.B4B),i.R7$(1),i.SpI(" ",null==a.business?null:a.business.email,""),i.R7$(3),i.Mz_("href","tel:+",null==a.business?null:a.business.phone,"",i.B4B),i.R7$(1),i.JRh(null==a.business?null:a.business.phone)}}function hm(p,l){if(1&p&&(i.j41(0,"div",34)(1,"h1",35),i.EFF(2,"Debugger:"),i.k0s(),i.j41(3,"div",36)(4,"div",37)(5,"span",38),i.EFF(6,"Theme File:"),i.k0s(),i.j41(7,"span",39),i.EFF(8),i.k0s()(),i.j41(9,"div",37)(10,"span",38),i.EFF(11,"Business ID:"),i.k0s(),i.j41(12,"span",39),i.EFF(13),i.k0s()(),i.j41(14,"div",37)(15,"span",38),i.EFF(16,"Business Name:"),i.k0s(),i.j41(17,"span",39),i.EFF(18),i.k0s()()()()),2&p){const a=i.XpG();i.R7$(8),i.JRh(a.themeFileName),i.R7$(5),i.JRh(null==a.business?null:a.business.id),i.R7$(5),i.JRh(null==a.business?null:a.business.businessName)}}let F_=(()=>{class p{constructor(a,y,T,L,z,se){this.route=a,this.webContentService=y,this.authService=T,this.themeService=L,this.businessDataService=z,this.router=se,this.business=null,this.businessId=null,this.isAdmin=!1,this.layoutType="demo"}navigateToIntakeForm(){this.router.navigate(["/resident-form"],{queryParams:{id:this.businessId}})}navigateTo(a){this.router.navigate([`/${a}`],{queryParams:this.businessId?{id:this.businessId}:{}}).then(T=>{T||console.error("Navigation failed!")})}ngOnInit(){this.businessDataService.getBusinessData().subscribe(a=>{this.business=a}),this.businessDataService.getBusinessId().subscribe(a=>{a&&(this.businessId=a,this.layoutType=this.business?.theme.themeType,this.themeService.getBusinessTheme(this.businessId).subscribe(y=>{y&&(this.themeFileName=y.themeFileName)}))}),this.isAuthenticated$=this.authService.isAuthenticated()}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(dr.nX),i.rXU(vi.N),i.rXU(gs.u),i.rXU(Tf.F),i.rXU(xi.A),i.rXU(dr.Ix))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-footer"]],decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","footer-theme-file",4,"ngIf"],[1,"footer"],[1,"footer-content"],[1,"footer-title"],[1,"footer-divider"],[1,"footer-info"],[1,"footer-column"],[1,"footer-column-title"],[3,"href"],[1,"ae-footer"],[1,"ae-footer-content"],[1,"ae-footer-business"],[1,"ae-footer-line"],[1,"ae-footer-business-text"],[1,"ae-footer-columns"],[1,"ae-footer-column"],[1,"ae-footer-column-title"],[1,"ae-footer-bottom"],[1,"clemo-footer"],[1,"clemo-footer-content"],[1,"clemo-footer-logo"],["alt","",3,"src"],[1,"clemo-footer-phone"],[1,"clemo-footer-address"],[1,"clemo-footer-social"],["href","#",1,"clemo-social-icon"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-google"],[1,"clemo-footer-nav"],[1,"clemo-footer-link",3,"click"],[1,"clemo-footer-bottom"],[1,"footer-theme-file"],[1,"debugger-title"],[1,"debugger-info"],[1,"debugger-item"],[1,"debugger-label"],[1,"debugger-value"]],template:function(y,T){1&y&&(i.j41(0,"div",0),i.DNE(1,$p,34,12,"ng-container",1),i.DNE(2,dm,35,10,"ng-container",1),i.DNE(3,k_,32,4,"ng-container",1),i.DNE(4,wl,34,12,"ng-container",2),i.k0s(),i.DNE(5,hm,19,3,"div",3),i.nI1(6,"async")),2&y&&(i.Y8G("ngSwitch",T.layoutType),i.R7$(1),i.Y8G("ngSwitchCase","hh"),i.R7$(1),i.Y8G("ngSwitchCase","ae"),i.R7$(1),i.Y8G("ngSwitchCase","clemo"),i.R7$(2),i.Y8G("ngIf",i.bMT(6,5,T.isAuthenticated$)))},dependencies:[_e.bT,_e.ux,_e.e1,_e.fG,_e.Jj],styles:[".footer[_ngcontent-%COMP%]{text-align:center;padding-top:6.6vmax;padding-bottom:6.6vmax}.footer-title[_ngcontent-%COMP%]{color:var(--button-color);font-size:28px;font-weight:700}.footer-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:var(--button-color);margin:20px auto;width:60%}.footer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;width:100%;margin:0 auto}.footer-column[_ngcontent-%COMP%]{flex:1;margin:10px;min-width:250px}.footer-column-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;font-size:18px;margin-bottom:10px}.footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%], .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:16px;margin:5px 0}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.footer-info[_ngcontent-%COMP%]{flex-direction:column}}.ae-footer[_ngcontent-%COMP%]{background-color:var(--background-color);color:var(--text-color);padding:40px 20px;padding-top:6.6vmax;padding-bottom:6.6vmax}.ae-footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.ae-footer-business[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.ae-footer-line[_ngcontent-%COMP%]{flex:1;border:none;border-top:2px solid var(--dark-background-color);margin:0 10px}.ae-footer-business-text[_ngcontent-%COMP%]{color:var(--dark-background-color)}.ae-footer-columns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:20px;text-align:left;flex-wrap:wrap}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.ae-footer-column[_ngcontent-%COMP%]{flex:1;min-width:250px}.ae-footer-column-title[_ngcontent-%COMP%]{color:var(--dark-background-color);margin-bottom:10px}.ae-footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .ae-footer-column[_ngcontent-%COMP%]   address[_ngcontent-%COMP%]{line-height:1.6}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--dark-background-color);text-decoration:none}.ae-footer-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-footer-bottom[_ngcontent-%COMP%]{margin-top:20px;font-size:.8rem;color:#aaa;text-align:center}.clemo-footer[_ngcontent-%COMP%]{background-color:var(--background-color);text-align:center;padding:40px 20px;font-family:Arial,sans-serif;color:var(--text-color)}.clemo-footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.clemo-footer-logo-text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--text-color);margin-bottom:10px}.clemo-footer-phone[_ngcontent-%COMP%], .clemo-footer-address[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}.clemo-footer-social[_ngcontent-%COMP%]{margin:15px 0}.clemo-social-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 10px;font-size:18px;color:var(--text-color);text-decoration:none}.clemo-social-icon[_ngcontent-%COMP%]:hover{color:var(--text-color)}.clemo-footer-nav[_ngcontent-%COMP%]{margin:20px 0}.clemo-footer-link[_ngcontent-%COMP%]{font-size:14px;color:#333;text-decoration:none;margin:0 15px;font-weight:700;cursor:pointer}.clemo-footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.clemo-footer-bottom[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:20px}.footer-theme-file[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--dark-background-color);padding:10px;border-radius:12px;box-shadow:0 4px 8px #0000001a;max-width:1200px;margin:0 auto}.debugger-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--accent-color);margin-bottom:20px;text-align:center}.debugger-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:100%}.debugger-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border:1px solid var(--dark-background-color);border-radius:4px;background-color:var(--background-color);box-shadow:0 2px 4px #0000000d}.debugger-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.debugger-value[_ngcontent-%COMP%]{color:var(--dark-background-color);word-break:break-word}"]})}}return p})(),fm=(()=>{class p{constructor(a,y,T,L,z){this.route=a,this.webContent=y,this.metaService=T,this.router=L,this.themeService=z,this.title="adult-family-home"}ngOnInit(){this.loadBusinessData()}loadBusinessData(){this.webContent.getBusinessData(this.businessId).subscribe(a=>{a&&(this.business=a)})}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(dr.nX),i.rXU(vi.N),i.rXU(Li.R),i.rXU(dr.Ix),i.rXU(Tf.F))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-root"]],decls:3,vars:0,template:function(y,T){1&y&&i.nrm(0,"app-navigation")(1,"router-outlet")(2,"app-footer")},dependencies:[dr.n3,um,F_]})}}return p})();const Df_firebase={apiKey:"AIzaSyDABajs8rbYwBKsW74SRQbGQKyJ_GdU1tY",authDomain:"afhdynamicwebsite.firebaseapp.com",projectId:"afhdynamicwebsite",storageBucket:"afhdynamicwebsite.appspot.com",messagingSenderId:"692885221546",appId:"1:692885221546:web:23317a318f6e277a0520d3",measurementId:"G-JREGNTXHB6"};var hu=j(2214),Is=j(5407);class gc{constructor(l){return l}}class Hp{constructor(){return(0,hu.Dk)()}}const Al=new i.nKC("angularfire2._apps"),L_={provide:gc,useFactory:function pm(p){return p&&1===p.length?p[0]:new gc((0,hu.Sx)())},deps:[[new i.Xx1,Al]]},Gp={provide:Hp,deps:[[new i.Xx1,Al]]};function xf(p){return(l,a)=>{const y=l.runOutsideAngular(()=>p(a));return new gc(y)}}let V_=(()=>{class p{constructor(a){(0,hu.KO)("angularfire",Is.xv.full,"core"),(0,hu.KO)("angularfire",Is.xv.full,"app"),(0,hu.KO)("angular",i.xvI.full,a.toString())}static \u0275fac=function(y){return new(y||p)(i.KVO(i.Agw))};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[L_,Gp]})}return p})();function zp(p,...l){return{ngModule:V_,providers:[{provide:Al,useFactory:xf(p),multi:!0,deps:[i.SKi,i.zZn,Is.u0,...l]}]}}const Pf=(0,Is.S3)(hu.Wp,!0);j(5504),j(7852),j(1076),j(8041),j(1362);class Mf{constructor(){return(0,Is.CA)("auth")}}var ym=j(9583);class vm{constructor(l){return l}}const W_="firestore",Em=new i.nKC("angularfire2.firestore-instances");function vv(p){return(l,a)=>{const y=l.runOutsideAngular(()=>p(a));return new vm(y)}}const Zp={provide:class K_{constructor(){return(0,Is.CA)(W_)}},deps:[[new i.Xx1,Em]]},Ml={provide:vm,useFactory:function jr(p,l){const a=(0,Is.lR)(W_,p,l);return a&&new vm(a)},deps:[[new i.Xx1,Em],gc]};let d=(()=>{class p{constructor(){(0,hu.KO)("angularfire",Is.xv.full,"fst")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[Ml,Zp]})}return p})();function e(p,...l){return{ngModule:d,providers:[{provide:Em,useFactory:vv(p),multi:!0,deps:[i.SKi,i.zZn,Is.u0,Hp,[new i.Xx1,Mf],[new i.Xx1,Is.Jv],...l]}]}}const rg=(0,Is.S3)(ym.aU,!0);var Cd=j(9253),Dh=j(8721),lg=j(1977),sy=j(4535);class Td{constructor(l){return l}}const Dm="storage",Id=new i.nKC("angularfire2.storage-instances");function oy(p){return(l,a)=>{const y=l.runOutsideAngular(()=>p(a));return new Td(y)}}const Sm={provide:class ra{constructor(){return(0,Is.CA)(Dm)}},deps:[[new i.Xx1,Id]]},Sh={provide:Td,useFactory:function Lf(p,l){const a=(0,Is.lR)(Dm,p,l);return a&&new Td(a)},deps:[[new i.Xx1,Id],gc]};let ug=(()=>{class p{constructor(){(0,hu.KO)("angularfire",Is.xv.full,"gcs")}static \u0275fac=function(y){return new(y||p)};static \u0275mod=i.$C({type:p});static \u0275inj=i.G2t({providers:[Sh,Sm]})}return p})();function Dv(p,...l){return{ngModule:ug,providers:[{provide:Id,useFactory:oy(p),multi:!0,deps:[i.SKi,i.zZn,Is.u0,Hp,[new i.Xx1,Mf],[new i.Xx1,Is.Jv],...l]}]}}const Rm=(0,Is.S3)(sy.c7,!0);var Om=j(3012);let Qc=(()=>{class p{constructor(a,y,T){this.http=a,this.themeService=y,this.businessService=T,this.colors={primaryColor:"#fffaf2",secondaryColor:"#f8f3f0",accentColor:"#F0C987",backgroundColor:"#F5F3E7",darkBackgroundColor:"#4C6A56",textColor:"#2F2F2F",navBackgroundColor:"#F5F3E7",navTextColor:"#33372C",navActiveBackground:"#33372C",navActiveText:"#ffffff",buttonColor:"#D9A064",buttonHoverColor:"#c9605b"}}loadTheme(a){return new Promise((y,T)=>{this.themeService.getBusinessTheme(a).subscribe({next:L=>{this.themeService.applyThemeFile(L?L.themeFileName:"default.css").then(()=>y()).catch(se=>{console.error("Error applying theme file:",se),y()}),this.themeService.getThemeColors(a).subscribe(se=>{this.applyTheme(se),y()},se=>{console.error("Error loading theme:",se),y()})},error:L=>{console.error("Error loading business theme:",L),this.themeService.applyThemeFile("default.css").then(()=>y()).catch(z=>{console.error("Error applying default theme file:",z),y()})}})})}applyTheme(a){this.colors&&this.hasValidColors(this.colors)?(document.documentElement.style.setProperty("--primary-color",a.primaryColor),document.documentElement.style.setProperty("--secondary-color",a.secondaryColor),document.documentElement.style.setProperty("--accent-color",a.accentColor),document.documentElement.style.setProperty("--background-color",a.backgroundColor),document.documentElement.style.setProperty("--dark-background-color",a.darkBackgroundColor),document.documentElement.style.setProperty("--text-color",a.textColor),document.documentElement.style.setProperty("--nav-background-color",a.navBackgroundColor),document.documentElement.style.setProperty("--nav-text-color",a.navTextColor),document.documentElement.style.setProperty("--nav-active-background",a.navActiveBackground),document.documentElement.style.setProperty("--nav-active-text",a.navActiveText),document.documentElement.style.setProperty("--button-color",a.buttonColor),document.documentElement.style.setProperty("--button-hover-color",a.buttonHoverColor)):console.warn("Theme colors are not properly defined.")}hasValidColors(a){return a.primaryColor&&a.secondaryColor&&a.accentColor&&a.backgroundColor&&a.darkBackgroundColor&&a.textColor&&a.navBackgroundColor&&a.navTextColor&&a.navActiveBackground&&a.navActiveText&&a.buttonColor&&a.buttonHoverColor}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(Be),i.KVO(Tf.F),i.KVO(Om.u))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var ki=j(9969);function Ol(p){return new i.wOt(3e3,!1)}function ia(p){switch(p.length){case 0:return new ki.sf;case 1:return p[0];default:return new ki.ui(p)}}function kh(p,l,a=new Map,y=new Map){const T=[],L=[];let z=-1,se=null;if(l.forEach(ye=>{const He=ye.get("offset"),pt=He==z,Vt=pt&&se||new Map;ye.forEach((bn,En)=>{let Tn=En,Jt=bn;if("offset"!==En)switch(Tn=p.normalizePropertyName(Tn,T),Jt){case ki.FX:Jt=a.get(En);break;case ki.kp:Jt=y.get(En);break;default:Jt=p.normalizeStyleValue(En,Tn,Jt,T)}Vt.set(Tn,Jt)}),pt||L.push(Vt),se=Vt,z=He}),T.length)throw function z0(p){return new i.wOt(3502,!1)}();return L}function vu(p,l,a,y){switch(l){case"start":p.onStart(()=>y(a&&Eu(a,"start",p)));break;case"done":p.onDone(()=>y(a&&Eu(a,"done",p)));break;case"destroy":p.onDestroy(()=>y(a&&Eu(a,"destroy",p)))}}function Eu(p,l,a){const L=xd(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,a.totalTime??p.totalTime,!!a.disabled),z=p._data;return null!=z&&(L._data=z),L}function xd(p,l,a,y,T="",L=0,z){return{element:p,triggerName:l,fromState:a,toState:y,phaseName:T,totalTime:L,disabled:!!z}}function ho(p,l,a){let y=p.get(l);return y||p.set(l,y=a),y}function gg(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}const Vs=(()=>typeof document>"u"?null:document.documentElement)();function Vm(p){const l=p.parentNode||p.host||null;return l===Vs?null:l}let Jc=null,Fh=!1;function Zc(p,l){for(;l;){if(l===p)return!0;l=Vm(l)}return!1}function Hf(p,l,a){if(a)return Array.from(p.querySelectorAll(l));const y=p.querySelector(l);return y?[y]:[]}let Pd=(()=>{class p{validateStyleProperty(a){return function $f(p){Jc||(Jc=function _y(){return typeof document<"u"?document.body:null}()||{},Fh=!!Jc.style&&"WebkitAppearance"in Jc.style);let l=!0;return Jc.style&&!function Fv(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in Jc.style,!l&&Fh&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in Jc.style)),l}(a)}matchesElement(a,y){return!1}containsElement(a,y){return Zc(a,y)}getParentElement(a){return Vm(a)}query(a,y,T){return Hf(a,y,T)}computeStyle(a,y,T){return T||""}animate(a,y,T,L,z,se=[],ye){return new ki.sf(T,L)}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})(),mg=(()=>{class p{static{this.NOOP=new Pd}}return p})();const Um=1e3,Md="ng-enter",_g="ng-leave",Gf="ng-trigger",bu=".ng-trigger",yg="ng-animating",Vh=".ng-animating";function Ra(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:zf(parseFloat(l[1]),l[2])}function zf(p,l){return"s"===l?p*Um:p}function Cu(p,l,a){return p.hasOwnProperty("duration")?p:function Rd(p,l,a){let T,L=0,z="";if("string"==typeof p){const se=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===se)return l.push(Ol()),{duration:0,delay:0,easing:""};T=zf(parseFloat(se[1]),se[2]);const ye=se[3];null!=ye&&(L=zf(parseFloat(ye),se[4]));const He=se[5];He&&(z=He)}else T=p;if(!a){let se=!1,ye=l.length;T<0&&(l.push(function xh(){return new i.wOt(3100,!1)}()),se=!0),L<0&&(l.push(function ma(){return new i.wOt(3101,!1)}()),se=!0),se&&l.splice(ye,0,Ol())}return{duration:T,delay:L,easing:z}}(p,l,a)}function Tu(p,l={}){return Object.keys(p).forEach(a=>{l[a]=p[a]}),l}function vg(p){const l=new Map;return Object.keys(p).forEach(a=>{l.set(a,p[a])}),l}function Fl(p,l=new Map,a){if(a)for(let[y,T]of a)l.set(y,T);for(let[y,T]of p)l.set(y,T);return l}function _a(p,l,a){l.forEach((y,T)=>{const L=q(T);a&&!a.has(T)&&a.set(T,p.style[L]),p.style[L]=y})}function _c(p,l){l.forEach((a,y)=>{const T=q(y);p.style[T]=""})}function el(p){return Array.isArray(p)?1==p.length?p[0]:(0,ki.K2)(p):p}const Eg=new RegExp("{{\\s*(.+?)\\s*}}","g");function $m(p){let l=[];if("string"==typeof p){let a;for(;a=Eg.exec(p);)l.push(a[1]);Eg.lastIndex=0}return l}function yc(p,l,a){const y=p.toString(),T=y.replace(Eg,(L,z)=>{let se=l[z];return null==se&&(a.push(function Ad(p){return new i.wOt(3003,!1)}()),se=""),se.toString()});return T==y?p:T}function E(p){const l=[];let a=p.next();for(;!a.done;)l.push(a.value),a=p.next();return l}const U=/-+([a-z0-9])/g;function q(p){return p.replace(U,(...l)=>l[1].toUpperCase())}function mn(p,l,a){switch(l.type){case 7:return p.visitTrigger(l,a);case 0:return p.visitState(l,a);case 1:return p.visitTransition(l,a);case 2:return p.visitSequence(l,a);case 3:return p.visitGroup(l,a);case 4:return p.visitAnimate(l,a);case 5:return p.visitKeyframes(l,a);case 6:return p.visitStyle(l,a);case 8:return p.visitReference(l,a);case 9:return p.visitAnimateChild(l,a);case 10:return p.visitAnimateRef(l,a);case 11:return p.visitQuery(l,a);case 12:return p.visitStagger(l,a);default:throw function Ph(p){return new i.wOt(3004,!1)}()}}function Ui(p,l){return window.getComputedStyle(p)[l]}const Iu="*";function bg(p,l){const a=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(y=>function K0(p,l,a){if(":"==p[0]){const ye=function q0(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,y)=>parseFloat(y)>parseFloat(a);case":decrement":return(a,y)=>parseFloat(y)<parseFloat(a);default:return l.push(function km(p){return new i.wOt(3016,!1)}()),"* => *"}}(p,a);if("function"==typeof ye)return void l.push(ye);p=ye}const y=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return a.push(function hy(p){return new i.wOt(3015,!1)}()),l;const T=y[1],L=y[2],z=y[3];l.push(Lv(T,z));"<"==L[0]&&!(T==Iu&&z==Iu)&&l.push(Lv(z,T))}(y,a,l)):a.push(p),a}const Hm=new Set(["true","1"]),Gm=new Set(["false","0"]);function Lv(p,l){const a=Hm.has(p)||Gm.has(p),y=Hm.has(l)||Gm.has(l);return(T,L)=>{let z=p==Iu||p==T,se=l==Iu||l==L;return!z&&a&&"boolean"==typeof T&&(z=T?Hm.has(p):Gm.has(p)),!se&&y&&"boolean"==typeof L&&(se=L?Hm.has(l):Gm.has(l)),z&&se}}const yy=new RegExp("s*:selfs*,?","g");function wu(p,l,a,y){return new WE(p).build(l,a,y)}class WE{constructor(l){this._driver=l}build(l,a,y){const T=new jv(a);return this._resetContextStyleTimingState(T),mn(this,el(l),T)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,a){let y=a.queryCount=0,T=a.depCount=0;const L=[],z=[];return"@"==l.name.charAt(0)&&a.errors.push(function Dd(){return new i.wOt(3006,!1)}()),l.definitions.forEach(se=>{if(this._resetContextStyleTimingState(a),0==se.type){const ye=se,He=ye.name;He.toString().split(/\s*,\s*/).forEach(pt=>{ye.name=pt,L.push(this.visitState(ye,a))}),ye.name=He}else if(1==se.type){const ye=this.visitTransition(se,a);y+=ye.queryCount,T+=ye.depCount,z.push(ye)}else a.errors.push(function Sd(){return new i.wOt(3007,!1)}())}),{type:7,name:l.name,states:L,transitions:z,queryCount:y,depCount:T,options:null}}visitState(l,a){const y=this.visitStyle(l.styles,a),T=l.options&&l.options.params||null;if(y.containsDynamicStyles){const L=new Set,z=T||{};y.styles.forEach(se=>{se instanceof Map&&se.forEach(ye=>{$m(ye).forEach(He=>{z.hasOwnProperty(He)||L.add(He)})})}),L.size&&(E(L.values()),a.errors.push(function Rh(p,l){return new i.wOt(3008,!1)}()))}return{type:0,name:l.name,style:y,options:T?{params:T}:null}}visitTransition(l,a){a.queryCount=0,a.depCount=0;const y=mn(this,el(l.animation),a);return{type:1,matchers:bg(l.expr,a.errors),animation:y,queryCount:a.queryCount,depCount:a.depCount,options:Cg(l.options)}}visitSequence(l,a){return{type:2,steps:l.steps.map(y=>mn(this,y,a)),options:Cg(l.options)}}visitGroup(l,a){const y=a.currentTime;let T=0;const L=l.steps.map(z=>{a.currentTime=y;const se=mn(this,z,a);return T=Math.max(T,a.currentTime),se});return a.currentTime=T,{type:3,steps:L,options:Cg(l.options)}}visitAnimate(l,a){const y=function Bv(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return X0(Cu(p,l).duration,0,"");const a=p;if(a.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=X0(0,0,"");return L.dynamic=!0,L.strValue=a,L}const T=Cu(a,l);return X0(T.duration,T.delay,T.easing)}(l.timings,a.errors);a.currentAnimateTimings=y;let T,L=l.styles?l.styles:(0,ki.iF)({});if(5==L.type)T=this.visitKeyframes(L,a);else{let z=l.styles,se=!1;if(!z){se=!0;const He={};y.easing&&(He.easing=y.easing),z=(0,ki.iF)(He)}a.currentTime+=y.duration+y.delay;const ye=this.visitStyle(z,a);ye.isEmptyStep=se,T=ye}return a.currentAnimateTimings=null,{type:4,timings:y,style:T,options:null}}visitStyle(l,a){const y=this._makeStyleAst(l,a);return this._validateStyleAst(y,a),y}_makeStyleAst(l,a){const y=[],T=Array.isArray(l.styles)?l.styles:[l.styles];for(let se of T)"string"==typeof se?se===ki.kp?y.push(se):a.errors.push(new i.wOt(3002,!1)):y.push(vg(se));let L=!1,z=null;return y.forEach(se=>{if(se instanceof Map&&(se.has("easing")&&(z=se.get("easing"),se.delete("easing")),!L))for(let ye of se.values())if(ye.toString().indexOf("{{")>=0){L=!0;break}}),{type:6,styles:y,easing:z,offset:l.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(l,a){const y=a.currentAnimateTimings;let T=a.currentTime,L=a.currentTime;y&&L>0&&(L-=y.duration+y.delay),l.styles.forEach(z=>{"string"!=typeof z&&z.forEach((se,ye)=>{const He=a.collectedStyles.get(a.currentQuerySelector),pt=He.get(ye);let Vt=!0;pt&&(L!=T&&L>=pt.startTime&&T<=pt.endTime&&(a.errors.push(function Nl(p,l,a,y,T){return new i.wOt(3010,!1)}()),Vt=!1),L=pt.startTime),Vt&&He.set(ye,{startTime:L,endTime:T}),a.options&&function ya(p,l,a){const y=l.params||{},T=$m(p);T.length&&T.forEach(L=>{y.hasOwnProperty(L)||a.push(function fg(p){return new i.wOt(3001,!1)}())})}(se,a.options,a.errors)})})}visitKeyframes(l,a){const y={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Vf(){return new i.wOt(3011,!1)}()),y;let L=0;const z=[];let se=!1,ye=!1,He=0;const pt=l.steps.map(mr=>{const Gr=this._makeStyleAst(mr,a);let vr=null!=Gr.offset?Gr.offset:function KE(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(a=>{if(a instanceof Map&&a.has("offset")){const y=a;l=parseFloat(y.get("offset")),y.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const a=p;l=parseFloat(a.get("offset")),a.delete("offset")}return l}(Gr.styles),or=0;return null!=vr&&(L++,or=Gr.offset=vr),ye=ye||or<0||or>1,se=se||or<He,He=or,z.push(or),Gr});ye&&a.errors.push(function Nm(){return new i.wOt(3012,!1)}()),se&&a.errors.push(function ls(){return new i.wOt(3200,!1)}());const Vt=l.steps.length;let bn=0;L>0&&L<Vt?a.errors.push(function Uf(){return new i.wOt(3202,!1)}()):0==L&&(bn=1/(Vt-1));const En=Vt-1,Tn=a.currentTime,Jt=a.currentAnimateTimings,Pn=Jt.duration;return pt.forEach((mr,Gr)=>{const vr=bn>0?Gr==En?1:bn*Gr:z[Gr],or=vr*Pn;a.currentTime=Tn+Jt.delay+or,Jt.duration=or,this._validateStyleAst(mr,a),mr.offset=vr,y.styles.push(mr)}),y}visitReference(l,a){return{type:8,animation:mn(this,el(l.animation),a),options:Cg(l.options)}}visitAnimateChild(l,a){return a.depCount++,{type:9,options:Cg(l.options)}}visitAnimateRef(l,a){return{type:10,animation:this.visitReference(l.animation,a),options:Cg(l.options)}}visitQuery(l,a){const y=a.currentQuerySelector,T=l.options||{};a.queryCount++,a.currentQuery=l;const[L,z]=function Uv(p){const l=!!p.split(/\s*,\s*/).find(a=>":self"==a);return l&&(p=p.replace(yy,"")),p=p.replace(/@\*/g,bu).replace(/@\w+/g,a=>bu+"-"+a.slice(1)).replace(/:animating/g,Vh),[p,l]}(l.selector);a.currentQuerySelector=y.length?y+" "+L:L,ho(a.collectedStyles,a.currentQuerySelector,new Map);const se=mn(this,el(l.animation),a);return a.currentQuery=null,a.currentQuerySelector=y,{type:11,selector:L,limit:T.limit||0,optional:!!T.optional,includeSelf:z,animation:se,originalSelector:l.selector,options:Cg(l.options)}}visitStagger(l,a){a.currentQuery||a.errors.push(function Oh(){return new i.wOt(3013,!1)}());const y="full"===l.timings?{duration:0,delay:0,easing:"full"}:Cu(l.timings,a.errors,!0);return{type:12,animation:mn(this,el(l.animation),a),timings:y,options:null}}}class jv{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cg(p){return p?(p=Tu(p)).params&&(p.params=function Wf(p){return p?Tu(p):null}(p.params)):p={},p}function X0(p,l,a){return{duration:p,delay:l,easing:a}}function $v(p,l,a,y,T,L,z=null,se=!1){return{type:1,element:p,keyframes:l,preStyleProps:a,postStyleProps:y,duration:T,delay:L,totalTime:T+L,easing:z,subTimeline:se}}class vy{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,a){let y=this._map.get(l);y||this._map.set(l,y=[]),y.push(...a)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Io=new RegExp(":enter","g"),YE=new RegExp(":leave","g");function Hv(p,l,a,y,T,L=new Map,z=new Map,se,ye,He=[]){return(new Z0).buildKeyframes(p,l,a,y,T,L,z,se,ye,He)}class Z0{buildKeyframes(l,a,y,T,L,z,se,ye,He,pt=[]){He=He||new vy;const Vt=new by(l,a,He,T,L,pt,[]);Vt.options=ye;const bn=ye.delay?Ra(ye.delay):0;Vt.currentTimeline.delayNextStep(bn),Vt.currentTimeline.setStyles([z],null,Vt.errors,ye),mn(this,y,Vt);const En=Vt.timelines.filter(Tn=>Tn.containsAnimation());if(En.length&&se.size){let Tn;for(let Jt=En.length-1;Jt>=0;Jt--){const Pn=En[Jt];if(Pn.element===a){Tn=Pn;break}}Tn&&!Tn.allowOnlyTimelineStyles()&&Tn.setStyles([se],null,Vt.errors,ye)}return En.length?En.map(Tn=>Tn.buildKeyframes()):[$v(a,[],[],[],0,bn,"",!1)]}visitTrigger(l,a){}visitState(l,a){}visitTransition(l,a){}visitAnimateChild(l,a){const y=a.subInstructions.get(a.element);if(y){const T=a.createSubContext(l.options),L=a.currentTimeline.currentTime,z=this._visitSubInstructions(y,T,T.options);L!=z&&a.transformIntoNewTimeline(z)}a.previousNode=l}visitAnimateRef(l,a){const y=a.createSubContext(l.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],a,y),this.visitReference(l.animation,y),a.transformIntoNewTimeline(y.currentTimeline.currentTime),a.previousNode=l}_applyAnimationRefDelays(l,a,y){for(const T of l){const L=T?.delay;if(L){const z="number"==typeof L?L:Ra(yc(L,T?.params??{},a.errors));y.delayNextStep(z)}}}_visitSubInstructions(l,a,y){let L=a.currentTimeline.currentTime;const z=null!=y.duration?Ra(y.duration):null,se=null!=y.delay?Ra(y.delay):null;return 0!==z&&l.forEach(ye=>{const He=a.appendInstructionToTimeline(ye,z,se);L=Math.max(L,He.duration+He.delay)}),L}visitReference(l,a){a.updateOptions(l.options,!0),mn(this,l.animation,a),a.previousNode=l}visitSequence(l,a){const y=a.subContextCount;let T=a;const L=l.options;if(L&&(L.params||L.delay)&&(T=a.createSubContext(L),T.transformIntoNewTimeline(),null!=L.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Ey);const z=Ra(L.delay);T.delayNextStep(z)}l.steps.length&&(l.steps.forEach(z=>mn(this,z,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>y&&T.transformIntoNewTimeline()),a.previousNode=l}visitGroup(l,a){const y=[];let T=a.currentTimeline.currentTime;const L=l.options&&l.options.delay?Ra(l.options.delay):0;l.steps.forEach(z=>{const se=a.createSubContext(l.options);L&&se.delayNextStep(L),mn(this,z,se),T=Math.max(T,se.currentTimeline.currentTime),y.push(se.currentTimeline)}),y.forEach(z=>a.currentTimeline.mergeTimelineCollectedStyles(z)),a.transformIntoNewTimeline(T),a.previousNode=l}_visitTiming(l,a){if(l.dynamic){const y=l.strValue;return Cu(a.params?yc(y,a.params,a.errors):y,a.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,a){const y=a.currentAnimateTimings=this._visitTiming(l.timings,a),T=a.currentTimeline;y.delay&&(a.incrementTime(y.delay),T.snapshotCurrentStyles());const L=l.style;5==L.type?this.visitKeyframes(L,a):(a.incrementTime(y.duration),this.visitStyle(L,a),T.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=l}visitStyle(l,a){const y=a.currentTimeline,T=a.currentAnimateTimings;!T&&y.hasCurrentStyleProperties()&&y.forwardFrame();const L=T&&T.easing||l.easing;l.isEmptyStep?y.applyEmptyStep(L):y.setStyles(l.styles,L,a.errors,a.options),a.previousNode=l}visitKeyframes(l,a){const y=a.currentAnimateTimings,T=a.currentTimeline.duration,L=y.duration,se=a.createSubContext().currentTimeline;se.easing=y.easing,l.styles.forEach(ye=>{se.forwardTime((ye.offset||0)*L),se.setStyles(ye.styles,ye.easing,a.errors,a.options),se.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(se),a.transformIntoNewTimeline(T+L),a.previousNode=l}visitQuery(l,a){const y=a.currentTimeline.currentTime,T=l.options||{},L=T.delay?Ra(T.delay):0;L&&(6===a.previousNode.type||0==y&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ey);let z=y;const se=a.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!T.optional,a.errors);a.currentQueryTotal=se.length;let ye=null;se.forEach((He,pt)=>{a.currentQueryIndex=pt;const Vt=a.createSubContext(l.options,He);L&&Vt.delayNextStep(L),He===a.element&&(ye=Vt.currentTimeline),mn(this,l.animation,Vt),Vt.currentTimeline.applyStylesToKeyframe(),z=Math.max(z,Vt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(z),ye&&(a.currentTimeline.mergeTimelineCollectedStyles(ye),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=l}visitStagger(l,a){const y=a.parentContext,T=a.currentTimeline,L=l.timings,z=Math.abs(L.duration),se=z*(a.currentQueryTotal-1);let ye=z*a.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":ye=se-ye;break;case"full":ye=y.currentStaggerTime}const pt=a.currentTimeline;ye&&pt.delayNextStep(ye);const Vt=pt.currentTime;mn(this,l.animation,a),a.previousNode=l,y.currentStaggerTime=T.currentTime-Vt+(T.startTime-y.currentTimeline.startTime)}}const Ey={};class by{constructor(l,a,y,T,L,z,se,ye){this._driver=l,this.element=a,this.subInstructions=y,this._enterClassName=T,this._leaveClassName=L,this.errors=z,this.timelines=se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ey,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ye||new zm(this._driver,a,0),se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,a){if(!l)return;const y=l;let T=this.options;null!=y.duration&&(T.duration=Ra(y.duration)),null!=y.delay&&(T.delay=Ra(y.delay));const L=y.params;if(L){let z=T.params;z||(z=this.options.params={}),Object.keys(L).forEach(se=>{(!a||!z.hasOwnProperty(se))&&(z[se]=yc(L[se],z,this.errors))})}}_copyOptions(){const l={};if(this.options){const a=this.options.params;if(a){const y=l.params={};Object.keys(a).forEach(T=>{y[T]=a[T]})}}return l}createSubContext(l=null,a,y){const T=a||this.element,L=new by(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,y||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(l),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(l){return this.previousNode=Ey,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,a,y){const T={duration:a??l.duration,delay:this.currentTimeline.currentTime+(y??0)+l.delay,easing:""},L=new Tg(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,T,l.stretchStartingKeyframe);return this.timelines.push(L),T}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,a,y,T,L,z){let se=[];if(T&&se.push(this.element),l.length>0){l=(l=l.replace(Io,"."+this._enterClassName)).replace(YE,"."+this._leaveClassName);let He=this._driver.query(this.element,l,1!=y);0!==y&&(He=y<0?He.slice(He.length+y,He.length):He.slice(0,y)),se.push(...He)}return!L&&0==se.length&&z.push(function Nh(p){return new i.wOt(3014,!1)}()),se}}class zm{constructor(l,a,y,T){this._driver=l,this.element=a,this.startTime=y,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+l),a&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,a){return this.applyStylesToKeyframe(),new zm(this._driver,l,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,a){this._localTimelineStyles.set(l,a),this._globalTimelineStyles.set(l,a),this._styleSummary.set(l,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[a,y]of this._globalTimelineStyles)this._backFill.set(a,y||ki.kp),this._currentKeyframe.set(a,ki.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,a,y,T){a&&this._previousKeyframe.set("easing",a);const L=T&&T.params||{},z=function XE(p,l){const a=new Map;let y;return p.forEach(T=>{if("*"===T){y=y||l.keys();for(let L of y)a.set(L,ki.kp)}else Fl(T,a)}),a}(l,this._globalTimelineStyles);for(let[se,ye]of z){const He=yc(ye,L,y);this._pendingStyles.set(se,He),this._localTimelineStyles.has(se)||this._backFill.set(se,this._globalTimelineStyles.get(se)??ki.kp),this._updateStyle(se,He)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,a)=>{this._currentKeyframe.set(a,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,l)}))}snapshotCurrentStyles(){for(let[l,a]of this._localTimelineStyles)this._pendingStyles.set(l,a),this._updateStyle(l,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let a in this._currentKeyframe)l.push(a);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((a,y)=>{const T=this._styleSummary.get(y);(!T||a.time>T.time)&&this._updateStyle(y,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,a=new Set,y=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((se,ye)=>{const He=Fl(se,new Map,this._backFill);He.forEach((pt,Vt)=>{pt===ki.FX?l.add(Vt):pt===ki.kp&&a.add(Vt)}),y||He.set("offset",ye/this.duration),T.push(He)});const L=l.size?E(l.values()):[],z=a.size?E(a.values()):[];if(y){const se=T[0],ye=new Map(se);se.set("offset",0),ye.set("offset",1),T=[se,ye]}return $v(this.element,T,L,z,this.duration,this.startTime,this.easing,!1)}}class Tg extends zm{constructor(l,a,y,T,L,z,se=!1){super(l,a,z.delay),this.keyframes=y,this.preStyleProps=T,this.postStyleProps=L,this._stretchStartingKeyframe=se,this.timings={duration:z.duration,delay:z.delay,easing:z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:a,duration:y,easing:T}=this.timings;if(this._stretchStartingKeyframe&&a){const L=[],z=y+a,se=a/z,ye=Fl(l[0]);ye.set("offset",0),L.push(ye);const He=Fl(l[0]);He.set("offset",eE(se)),L.push(He);const pt=l.length-1;for(let Vt=1;Vt<=pt;Vt++){let bn=Fl(l[Vt]);const En=bn.get("offset");bn.set("offset",eE((a+En*y)/z)),L.push(bn)}y=z,a=0,T="",l=L}return $v(this.element,l,this.preStyleProps,this.postStyleProps,y,a,T,!0)}}function eE(p,l=3){const a=Math.pow(10,l-1);return Math.round(p*a)/a}class Gv{}const aC=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zv extends Gv{normalizePropertyName(l,a){return q(l)}normalizeStyleValue(l,a,y,T){let L="";const z=y.toString().trim();if(aC.has(a)&&0!==y&&"0"!==y)if("number"==typeof y)L="px";else{const se=y.match(/^[+-]?[\d\.]+([a-z]*)$/);se&&0==se[1].length&&T.push(function Mh(p,l){return new i.wOt(3005,!1)}())}return z+L}}function Cy(p,l,a,y,T,L,z,se,ye,He,pt,Vt,bn){return{type:0,element:p,triggerName:l,isRemovalTransition:T,fromState:a,fromStyles:L,toState:y,toStyles:z,timelines:se,queriedElements:ye,preStyleProps:He,postStyleProps:pt,totalTime:Vt,errors:bn}}const tl={};class tE{constructor(l,a,y){this._triggerName=l,this.ast=a,this._stateStyles=y}match(l,a,y,T){return function Au(p,l,a,y,T){return p.some(L=>L(l,a,y,T))}(this.ast.matchers,l,a,y,T)}buildStyles(l,a,y){let T=this._stateStyles.get("*");return void 0!==l&&(T=this._stateStyles.get(l?.toString())||T),T?T.buildStyles(a,y):new Map}build(l,a,y,T,L,z,se,ye,He,pt){const Vt=[],bn=this.ast.options&&this.ast.options.params||tl,Tn=this.buildStyles(y,se&&se.params||tl,Vt),Jt=ye&&ye.params||tl,Pn=this.buildStyles(T,Jt,Vt),mr=new Set,Gr=new Map,vr=new Map,or="void"===T,Jr={params:Ll(Jt,bn),delay:this.ast.options?.delay},Kr=pt?[]:Hv(l,a,this.ast.animation,L,z,Tn,Pn,Jr,He,Vt);let yi=0;if(Kr.forEach(ji=>{yi=Math.max(ji.duration+ji.delay,yi)}),Vt.length)return Cy(a,this._triggerName,y,T,or,Tn,Pn,[],[],Gr,vr,yi,Vt);Kr.forEach(ji=>{const zi=ji.element,fo=ho(Gr,zi,new Set);ji.preStyleProps.forEach(Ks=>fo.add(Ks));const Bo=ho(vr,zi,new Set);ji.postStyleProps.forEach(Ks=>Bo.add(Ks)),zi!==a&&mr.add(zi)});const us=E(mr.values());return Cy(a,this._triggerName,y,T,or,Tn,Pn,Kr,us,Gr,vr,yi)}}function Ll(p,l){const a=Tu(l);for(const y in p)p.hasOwnProperty(y)&&null!=p[y]&&(a[y]=p[y]);return a}class Vl{constructor(l,a,y){this.styles=l,this.defaultParams=a,this.normalizer=y}buildStyles(l,a){const y=new Map,T=Tu(this.defaultParams);return Object.keys(l).forEach(L=>{const z=l[L];null!==z&&(T[L]=z)}),this.styles.styles.forEach(L=>{"string"!=typeof L&&L.forEach((z,se)=>{z&&(z=yc(z,T,a));const ye=this.normalizer.normalizePropertyName(se,a);z=this.normalizer.normalizeStyleValue(se,ye,z,a),y.set(se,z)})}),y}}class rE{constructor(l,a,y){this.name=l,this.ast=a,this._normalizer=y,this.transitionFactories=[],this.states=new Map,a.states.forEach(T=>{this.states.set(T.name,new Vl(T.style,T.options&&T.options.params||{},y))}),iE(this.states,"true","1"),iE(this.states,"false","0"),a.transitions.forEach(T=>{this.transitionFactories.push(new tE(l,T,this.states))}),this.fallbackTransition=function eb(p,l,a){return new tE(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(z,se)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,a,y,T){return this.transitionFactories.find(z=>z.match(l,a,y,T))||null}matchStyles(l,a,y){return this.fallbackTransition.buildStyles(l,a,y)}}function iE(p,l,a){p.has(l)?p.has(a)||p.set(a,p.get(l)):p.has(a)&&p.set(l,p.get(a))}const tb=new vy;class nb{constructor(l,a,y){this.bodyNode=l,this._driver=a,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,a){const y=[],L=wu(this._driver,a,y,[]);if(y.length)throw function pg(p){return new i.wOt(3503,!1)}();this._animations.set(l,L)}_buildPlayer(l,a,y){const T=l.element,L=kh(this._normalizer,l.keyframes,a,y);return this._driver.animate(T,L,l.duration,l.delay,l.easing,[],!0)}create(l,a,y={}){const T=[],L=this._animations.get(l);let z;const se=new Map;if(L?(z=Hv(this._driver,a,L,Md,_g,new Map,new Map,y,tb,T),z.forEach(pt=>{const Vt=ho(se,pt.element,new Map);pt.postStyleProps.forEach(bn=>Vt.set(bn,null))})):(T.push(function yu(){return new i.wOt(3300,!1)}()),z=[]),T.length)throw function py(p){return new i.wOt(3504,!1)}();se.forEach((pt,Vt)=>{pt.forEach((bn,En)=>{pt.set(En,this._driver.computeStyle(Vt,En,ki.kp))})});const He=ia(z.map(pt=>{const Vt=se.get(pt.element);return this._buildPlayer(pt,new Map,Vt)}));return this._playersById.set(l,He),He.onDestroy(()=>this.destroy(l)),this.players.push(He),He}destroy(l){const a=this._getPlayer(l);a.destroy(),this._playersById.delete(l);const y=this.players.indexOf(a);y>=0&&this.players.splice(y,1)}_getPlayer(l){const a=this._playersById.get(l);if(!a)throw function Rv(p){return new i.wOt(3301,!1)}();return a}listen(l,a,y,T){const L=xd(a,"","","");return vu(this._getPlayer(l),y,L,T),()=>{}}command(l,a,y,T){if("register"==y)return void this.register(l,T[0]);if("create"==y)return void this.create(l,a,T[0]||{});const L=this._getPlayer(l);switch(y){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(l)}}}const Ty="ng-animate-queued",Wv="ng-animate-disabled",oE=[],Kv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ul="__ng_removed";class wy{get params(){return this.options.params}constructor(l,a=""){this.namespaceId=a;const y=l&&l.hasOwnProperty("value");if(this.value=function qv(p){return p??null}(y?l.value:l),y){const L=Tu(l);delete L.value,this.options=L}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const a=l.params;if(a){const y=this.options.params;Object.keys(a).forEach(T=>{null==y[T]&&(y[T]=a[T])})}}}const Ig="void",Ay=new wy(Ig);class sb{constructor(l,a,y){this.id=l,this.hostElement=a,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,vc(a,this._hostClassName)}listen(l,a,y,T){if(!this._triggers.has(a))throw function gy(p,l){return new i.wOt(3302,!1)}();if(null==y||0==y.length)throw function jf(p){return new i.wOt(3303,!1)}();if(!function aE(p){return"start"==p||"done"==p}(y))throw function Ov(p,l){return new i.wOt(3400,!1)}();const L=ho(this._elementListeners,l,[]),z={name:a,phase:y,callback:T};L.push(z);const se=ho(this._engine.statesByElement,l,new Map);return se.has(a)||(vc(l,Gf),vc(l,Gf+"-"+a),se.set(a,Ay)),()=>{this._engine.afterFlush(()=>{const ye=L.indexOf(z);ye>=0&&L.splice(ye,1),this._triggers.has(a)||se.delete(a)})}}register(l,a){return!this._triggers.has(l)&&(this._triggers.set(l,a),!0)}_getTrigger(l){const a=this._triggers.get(l);if(!a)throw function Nv(p){return new i.wOt(3401,!1)}();return a}trigger(l,a,y,T=!0){const L=this._getTrigger(a),z=new Km(this.id,a,l);let se=this._engine.statesByElement.get(l);se||(vc(l,Gf),vc(l,Gf+"-"+a),this._engine.statesByElement.set(l,se=new Map));let ye=se.get(a);const He=new wy(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&ye&&He.absorbOptions(ye.options),se.set(a,He),ye||(ye=Ay),He.value!==Ig&&ye.value===He.value){if(!function lb(p,l){const a=Object.keys(p),y=Object.keys(l);if(a.length!=y.length)return!1;for(let T=0;T<a.length;T++){const L=a[T];if(!l.hasOwnProperty(L)||p[L]!==l[L])return!1}return!0}(ye.params,He.params)){const Jt=[],Pn=L.matchStyles(ye.value,ye.params,Jt),mr=L.matchStyles(He.value,He.params,Jt);Jt.length?this._engine.reportError(Jt):this._engine.afterFlush(()=>{_c(l,Pn),_a(l,mr)})}return}const bn=ho(this._engine.playersByElement,l,[]);bn.forEach(Jt=>{Jt.namespaceId==this.id&&Jt.triggerName==a&&Jt.queued&&Jt.destroy()});let En=L.matchTransition(ye.value,He.value,l,He.params),Tn=!1;if(!En){if(!T)return;En=L.fallbackTransition,Tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:a,transition:En,fromState:ye,toState:He,player:z,isFallbackTransition:Tn}),Tn||(vc(l,Ty),z.onStart(()=>{Kf(l,Ty)})),z.onDone(()=>{let Jt=this.players.indexOf(z);Jt>=0&&this.players.splice(Jt,1);const Pn=this._engine.playersByElement.get(l);if(Pn){let mr=Pn.indexOf(z);mr>=0&&Pn.splice(mr,1)}}),this.players.push(z),bn.push(z),z}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(a=>a.delete(l)),this._elementListeners.forEach((a,y)=>{this._elementListeners.set(y,a.filter(T=>T.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const a=this._engine.playersByElement.get(l);a&&(a.forEach(y=>y.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,a){const y=this._engine.driver.query(l,bu,!0);y.forEach(T=>{if(T[Ul])return;const L=this._engine.fetchNamespacesByElement(T);L.size?L.forEach(z=>z.triggerLeaveAnimation(T,a,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(l,a,y,T){const L=this._engine.statesByElement.get(l),z=new Map;if(L){const se=[];if(L.forEach((ye,He)=>{if(z.set(He,ye.value),this._triggers.has(He)){const pt=this.trigger(l,He,Ig,T);pt&&se.push(pt)}}),se.length)return this._engine.markElementAsRemoved(this.id,l,!0,a,z),y&&ia(se).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const a=this._elementListeners.get(l),y=this._engine.statesByElement.get(l);if(a&&y){const T=new Set;a.forEach(L=>{const z=L.name;if(T.has(z))return;T.add(z);const ye=this._triggers.get(z).fallbackTransition,He=y.get(z)||Ay,pt=new wy(Ig),Vt=new Km(this.id,z,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:z,transition:ye,fromState:He,toState:pt,player:Vt,isFallbackTransition:!0})})}}removeNode(l,a){const y=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,a),this.triggerLeaveAnimation(l,a,!0))return;let T=!1;if(y.totalAnimations){const L=y.players.length?y.playersByQueriedElement.get(l):[];if(L&&L.length)T=!0;else{let z=l;for(;z=z.parentNode;)if(y.statesByElement.get(z)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(l),T)y.markElementAsRemoved(this.id,l,!1,a);else{const L=l[Ul];(!L||L===Kv)&&(y.afterFlush(()=>this.clearElementCache(l)),y.destroyInnerAnimations(l),y._onRemovalComplete(l,a))}}insertNode(l,a){vc(l,this._hostClassName)}drainQueuedTransitions(l){const a=[];return this._queue.forEach(y=>{const T=y.player;if(T.destroyed)return;const L=y.element,z=this._elementListeners.get(L);z&&z.forEach(se=>{if(se.name==y.triggerName){const ye=xd(L,y.triggerName,y.fromState.value,y.toState.value);ye._data=l,vu(y.player,se.phase,ye,se.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):a.push(y)}),this._queue=[],a.sort((y,T)=>{const L=y.transition.ast.depCount,z=T.transition.ast.depCount;return 0==L||0==z?L-z:this._engine.driver.containsElement(y.element,T.element)?1:-1})}destroy(l){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class ob{_onRemovalComplete(l,a){this.onRemovalComplete(l,a)}constructor(l,a,y){this.bodyNode=l,this.driver=a,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,L)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(a=>{a.players.forEach(y=>{y.queued&&l.push(y)})}),l}createNamespace(l,a){const y=new sb(l,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(y,a):(this.newHostElements.set(a,y),this.collectEnterElement(a)),this._namespaceLookup[l]=y}_balanceNamespaceList(l,a){const y=this._namespaceList,T=this.namespacesByHostElement;if(y.length-1>=0){let z=!1,se=this.driver.getParentElement(a);for(;se;){const ye=T.get(se);if(ye){const He=y.indexOf(ye);y.splice(He+1,0,l),z=!0;break}se=this.driver.getParentElement(se)}z||y.unshift(l)}else y.push(l);return T.set(a,l),l}register(l,a){let y=this._namespaceLookup[l];return y||(y=this.createNamespace(l,a)),y}registerTrigger(l,a,y){let T=this._namespaceLookup[l];T&&T.register(a,y)&&this.totalAnimations++}destroy(l,a){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const y=this._fetchNamespace(l);this.namespacesByHostElement.delete(y.hostElement);const T=this._namespaceList.indexOf(y);T>=0&&this._namespaceList.splice(T,1),y.destroy(a),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const a=new Set,y=this.statesByElement.get(l);if(y)for(let T of y.values())if(T.namespaceId){const L=this._fetchNamespace(T.namespaceId);L&&a.add(L)}return a}trigger(l,a,y,T){if(qm(a)){const L=this._fetchNamespace(l);if(L)return L.trigger(a,y,T),!0}return!1}insertNode(l,a,y,T){if(!qm(a))return;const L=a[Ul];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const z=this.collectedLeaveElements.indexOf(a);z>=0&&this.collectedLeaveElements.splice(z,1)}if(l){const z=this._fetchNamespace(l);z&&z.insertNode(a,y)}T&&this.collectEnterElement(a)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,a){a?this.disabledNodes.has(l)||(this.disabledNodes.add(l),vc(l,Wv)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Kf(l,Wv))}removeNode(l,a,y){if(qm(a)){const T=l?this._fetchNamespace(l):null;T?T.removeNode(a,y):this.markElementAsRemoved(l,a,!1,y);const L=this.namespacesByHostElement.get(a);L&&L.id!==l&&L.removeNode(a,y)}else this._onRemovalComplete(a,y)}markElementAsRemoved(l,a,y,T,L){this.collectedLeaveElements.push(a),a[Ul]={namespaceId:l,setForRemoval:T,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:L}}listen(l,a,y,T,L){return qm(a)?this._fetchNamespace(l).listen(a,y,T,L):()=>{}}_buildInstruction(l,a,y,T,L){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,y,T,l.fromState.options,l.toState.options,a,L)}destroyInnerAnimations(l){let a=this.driver.query(l,bu,!0);a.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(l,Vh,!0),a.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(l){const a=this.playersByElement.get(l);a&&a.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(l){const a=this.playersByQueriedElement.get(l);a&&a.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return ia(this.players).onDone(()=>l());l()})}processLeaveNode(l){const a=l[Ul];if(a&&a.setForRemoval){if(l[Ul]=Kv,a.namespaceId){this.destroyInnerAnimations(l);const y=this._fetchNamespace(a.namespaceId);y&&y.clearElementCache(l)}this._onRemovalComplete(l,a.setForRemoval)}l.classList?.contains(Wv)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(l=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,T)=>this._balanceNamespaceList(y,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)vc(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{a=this._flushAnimations(y,l)}finally{for(let T=0;T<y.length;T++)y[T]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],a.length?ia(a).onDone(()=>{y.forEach(T=>T())}):y.forEach(T=>T())}}reportError(l){throw function kv(p){return new i.wOt(3402,!1)}()}_flushAnimations(l,a){const y=new vy,T=[],L=new Map,z=[],se=new Map,ye=new Map,He=new Map,pt=new Set;this.disabledNodes.forEach(Nn=>{pt.add(Nn);const Jn=this.driver.query(Nn,".ng-animate-queued",!0);for(let _r=0;_r<Jn.length;_r++)pt.add(Jn[_r])});const Vt=this.bodyNode,bn=Array.from(this.statesByElement.keys()),En=Qv(bn,this.collectedEnterElements),Tn=new Map;let Jt=0;En.forEach((Nn,Jn)=>{const _r=Md+Jt++;Tn.set(Jn,_r),Nn.forEach(Zr=>vc(Zr,_r))});const Pn=[],mr=new Set,Gr=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const Jn=this.collectedLeaveElements[Nn],_r=Jn[Ul];_r&&_r.setForRemoval&&(Pn.push(Jn),mr.add(Jn),_r.hasAnimation?this.driver.query(Jn,".ng-star-inserted",!0).forEach(Zr=>mr.add(Zr)):Gr.add(Jn))}const vr=new Map,or=Qv(bn,Array.from(mr));or.forEach((Nn,Jn)=>{const _r=_g+Jt++;vr.set(Jn,_r),Nn.forEach(Zr=>vc(Zr,_r))}),l.push(()=>{En.forEach((Nn,Jn)=>{const _r=Tn.get(Jn);Nn.forEach(Zr=>Kf(Zr,_r))}),or.forEach((Nn,Jn)=>{const _r=vr.get(Jn);Nn.forEach(Zr=>Kf(Zr,_r))}),Pn.forEach(Nn=>{this.processLeaveNode(Nn)})});const Jr=[],Kr=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(a).forEach(_r=>{const Zr=_r.player,Us=_r.element;if(Jr.push(Zr),this.collectedEnterElements.length){const po=Us[Ul];if(po&&po.setForMove){if(po.previousTriggersValues&&po.previousTriggersValues.has(_r.triggerName)){const Ya=po.previousTriggersValues.get(_r.triggerName),ka=this.statesByElement.get(_r.element);if(ka&&ka.has(_r.triggerName)){const Yf=ka.get(_r.triggerName);Yf.value=Ya,ka.set(_r.triggerName,Yf)}}return void Zr.destroy()}}const Na=!Vt||!this.driver.containsElement(Vt,Us),wo=vr.get(Us),qa=Tn.get(Us),Wi=this._buildInstruction(_r,y,qa,wo,Na);if(Wi.errors&&Wi.errors.length)return void Kr.push(Wi);if(Na)return Zr.onStart(()=>_c(Us,Wi.fromStyles)),Zr.onDestroy(()=>_a(Us,Wi.toStyles)),void T.push(Zr);if(_r.isFallbackTransition)return Zr.onStart(()=>_c(Us,Wi.fromStyles)),Zr.onDestroy(()=>_a(Us,Wi.toStyles)),void T.push(Zr);const jl=[];Wi.timelines.forEach(po=>{po.stretchStartingKeyframe=!0,this.disabledNodes.has(po.element)||jl.push(po)}),Wi.timelines=jl,y.append(Us,Wi.timelines),z.push({instruction:Wi,player:Zr,element:Us}),Wi.queriedElements.forEach(po=>ho(se,po,[]).push(Zr)),Wi.preStyleProps.forEach((po,Ya)=>{if(po.size){let ka=ye.get(Ya);ka||ye.set(Ya,ka=new Set),po.forEach((Yf,Du)=>ka.add(Du))}}),Wi.postStyleProps.forEach((po,Ya)=>{let ka=He.get(Ya);ka||He.set(Ya,ka=new Set),po.forEach((Yf,Du)=>ka.add(Du))})});if(Kr.length){const Nn=[];Kr.forEach(Jn=>{Nn.push(function Bf(p,l){return new i.wOt(3505,!1)}())}),Jr.forEach(Jn=>Jn.destroy()),this.reportError(Nn)}const yi=new Map,us=new Map;z.forEach(Nn=>{const Jn=Nn.element;y.has(Jn)&&(us.set(Jn,Jn),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,yi))}),T.forEach(Nn=>{const Jn=Nn.element;this._getPreviousPlayers(Jn,!1,Nn.namespaceId,Nn.triggerName,null).forEach(Zr=>{ho(yi,Jn,[]).push(Zr),Zr.destroy()})});const ji=Pn.filter(Nn=>lE(Nn,ye,He)),zi=new Map;Xv(zi,this.driver,Gr,He,ki.kp).forEach(Nn=>{lE(Nn,ye,He)&&ji.push(Nn)});const Bo=new Map;En.forEach((Nn,Jn)=>{Xv(Bo,this.driver,new Set(Nn),ye,ki.FX)}),ji.forEach(Nn=>{const Jn=zi.get(Nn),_r=Bo.get(Nn);zi.set(Nn,new Map([...Jn?.entries()??[],..._r?.entries()??[]]))});const Ks=[],Wa=[],Ka={};z.forEach(Nn=>{const{element:Jn,player:_r,instruction:Zr}=Nn;if(y.has(Jn)){if(pt.has(Jn))return _r.onDestroy(()=>_a(Jn,Zr.toStyles)),_r.disabled=!0,_r.overrideTotalTime(Zr.totalTime),void T.push(_r);let Us=Ka;if(us.size>1){let wo=Jn;const qa=[];for(;wo=wo.parentNode;){const Wi=us.get(wo);if(Wi){Us=Wi;break}qa.push(wo)}qa.forEach(Wi=>us.set(Wi,Us))}const Na=this._buildAnimation(_r.namespaceId,Zr,yi,L,Bo,zi);if(_r.setRealPlayer(Na),Us===Ka)Ks.push(_r);else{const wo=this.playersByElement.get(Us);wo&&wo.length&&(_r.parentPlayer=ia(wo)),T.push(_r)}}else _c(Jn,Zr.fromStyles),_r.onDestroy(()=>_a(Jn,Zr.toStyles)),Wa.push(_r),pt.has(Jn)&&T.push(_r)}),Wa.forEach(Nn=>{const Jn=L.get(Nn.element);if(Jn&&Jn.length){const _r=ia(Jn);Nn.setRealPlayer(_r)}}),T.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Pn.length;Nn++){const Jn=Pn[Nn],_r=Jn[Ul];if(Kf(Jn,_g),_r&&_r.hasAnimation)continue;let Zr=[];if(se.size){let Na=se.get(Jn);Na&&Na.length&&Zr.push(...Na);let wo=this.driver.query(Jn,Vh,!0);for(let qa=0;qa<wo.length;qa++){let Wi=se.get(wo[qa]);Wi&&Wi.length&&Zr.push(...Wi)}}const Us=Zr.filter(Na=>!Na.destroyed);Us.length?ab(this,Jn,Us):this.processLeaveNode(Jn)}return Pn.length=0,Ks.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const Jn=this.players.indexOf(Nn);this.players.splice(Jn,1)}),Nn.play()}),Ks}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,a,y,T,L){let z=[];if(a){const se=this.playersByQueriedElement.get(l);se&&(z=se)}else{const se=this.playersByElement.get(l);if(se){const ye=!L||L==Ig;se.forEach(He=>{He.queued||!ye&&He.triggerName!=T||z.push(He)})}}return(y||T)&&(z=z.filter(se=>!(y&&y!=se.namespaceId||T&&T!=se.triggerName))),z}_beforeAnimationBuild(l,a,y){const L=a.element,z=a.isRemovalTransition?void 0:l,se=a.isRemovalTransition?void 0:a.triggerName;for(const ye of a.timelines){const He=ye.element,pt=He!==L,Vt=ho(y,He,[]);this._getPreviousPlayers(He,pt,z,se,a.toState).forEach(En=>{const Tn=En.getRealPlayer();Tn.beforeDestroy&&Tn.beforeDestroy(),En.destroy(),Vt.push(En)})}_c(L,a.fromStyles)}_buildAnimation(l,a,y,T,L,z){const se=a.triggerName,ye=a.element,He=[],pt=new Set,Vt=new Set,bn=a.timelines.map(Tn=>{const Jt=Tn.element;pt.add(Jt);const Pn=Jt[Ul];if(Pn&&Pn.removedBeforeQueried)return new ki.sf(Tn.duration,Tn.delay);const mr=Jt!==ye,Gr=function cb(p){const l=[];return cE(p,l),l}((y.get(Jt)||oE).map(yi=>yi.getRealPlayer())).filter(yi=>!!yi.element&&yi.element===Jt),vr=L.get(Jt),or=z.get(Jt),Jr=kh(this._normalizer,Tn.keyframes,vr,or),Kr=this._buildPlayer(Tn,Jr,Gr);if(Tn.subTimeline&&T&&Vt.add(Jt),mr){const yi=new Km(l,se,Jt);yi.setRealPlayer(Kr),He.push(yi)}return Kr});He.forEach(Tn=>{ho(this.playersByQueriedElement,Tn.element,[]).push(Tn),Tn.onDone(()=>function Dy(p,l,a){let y=p.get(l);if(y){if(y.length){const T=y.indexOf(a);y.splice(T,1)}0==y.length&&p.delete(l)}return y}(this.playersByQueriedElement,Tn.element,Tn))}),pt.forEach(Tn=>vc(Tn,yg));const En=ia(bn);return En.onDestroy(()=>{pt.forEach(Tn=>Kf(Tn,yg)),_a(ye,a.toStyles)}),Vt.forEach(Tn=>{ho(T,Tn,[]).push(En)}),En}_buildPlayer(l,a,y){return a.length>0?this.driver.animate(l.element,a,l.duration,l.delay,l.easing,y):new ki.sf(l.duration,l.delay)}}class Km{constructor(l,a,y){this.namespaceId=l,this.triggerName=a,this.element=y,this._player=new ki.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((a,y)=>{a.forEach(T=>vu(l,y,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const a=this._player;a.triggerCallback&&l.onStart(()=>a.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,a){ho(this._queuedCallbacks,l,[]).push(a)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const a=this._player;a.triggerCallback&&a.triggerCallback(l)}}function qm(p){return p&&1===p.nodeType}function Yv(p,l){const a=p.style.display;return p.style.display=l??"none",a}function Xv(p,l,a,y,T){const L=[];a.forEach(ye=>L.push(Yv(ye)));const z=[];y.forEach((ye,He)=>{const pt=new Map;ye.forEach(Vt=>{const bn=l.computeStyle(He,Vt,T);pt.set(Vt,bn),(!bn||0==bn.length)&&(He[Ul]=Iy,z.push(He))}),p.set(He,pt)});let se=0;return a.forEach(ye=>Yv(ye,L[se++])),z}function Qv(p,l){const a=new Map;if(p.forEach(se=>a.set(se,[])),0==l.length)return a;const T=new Set(l),L=new Map;function z(se){if(!se)return 1;let ye=L.get(se);if(ye)return ye;const He=se.parentNode;return ye=a.has(He)?He:T.has(He)?1:z(He),L.set(se,ye),ye}return l.forEach(se=>{const ye=z(se);1!==ye&&a.get(ye).push(se)}),a}function vc(p,l){p.classList?.add(l)}function Kf(p,l){p.classList?.remove(l)}function ab(p,l,a){ia(a).onDone(()=>p.processLeaveNode(l))}function cE(p,l){for(let a=0;a<p.length;a++){const y=p[a];y instanceof ki.ui?cE(y.players,l):l.push(y)}}function lE(p,l,a){const y=a.get(p);if(!y)return!1;let T=l.get(p);return T?y.forEach(L=>T.add(L)):l.set(p,y),a.delete(p),!0}class Sy{constructor(l,a,y){this.bodyNode=l,this._driver=a,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(T,L)=>{},this._transitionEngine=new ob(l,a,y),this._timelineEngine=new nb(l,a,y),this._transitionEngine.onRemovalComplete=(T,L)=>this.onRemovalComplete(T,L)}registerTrigger(l,a,y,T,L){const z=l+"-"+T;let se=this._triggerCache[z];if(!se){const ye=[],pt=wu(this._driver,L,ye,[]);if(ye.length)throw function Mv(p,l){return new i.wOt(3404,!1)}();se=function nE(p,l,a){return new rE(p,l,a)}(T,pt,this._normalizer),this._triggerCache[z]=se}this._transitionEngine.registerTrigger(a,T,se)}register(l,a){this._transitionEngine.register(l,a)}destroy(l,a){this._transitionEngine.destroy(l,a)}onInsert(l,a,y,T){this._transitionEngine.insertNode(l,a,y,T)}onRemove(l,a,y){this._transitionEngine.removeNode(l,a,y)}disableAnimations(l,a){this._transitionEngine.markElementAsDisabled(l,a)}process(l,a,y,T){if("@"==y.charAt(0)){const[L,z]=gg(y);this._timelineEngine.command(L,a,z,T)}else this._transitionEngine.trigger(l,a,y,T)}listen(l,a,y,T,L){if("@"==y.charAt(0)){const[z,se]=gg(y);return this._timelineEngine.listen(z,a,se,L)}return this._transitionEngine.listen(l,a,y,T,L)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let db=(()=>{class p{static{this.initialStylesByElement=new WeakMap}constructor(a,y,T){this._element=a,this._startStyles=y,this._endStyles=T,this._state=0;let L=p.initialStylesByElement.get(a);L||p.initialStylesByElement.set(a,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&_a(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_a(this._element,this._initialStyles),this._endStyles&&(_a(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(_c(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_c(this._element,this._endStyles),this._endStyles=null),_a(this._element,this._initialStyles),this._state=3)}}return p})();function Jv(p){let l=null;return p.forEach((a,y)=>{(function hb(p){return"display"===p||"position"===p})(y)&&(l=l||new Map,l.set(y,a))}),l}class uE{constructor(l,a,y,T){this.element=l,this.keyframes=a,this.options=y,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const a=[];return l.forEach(y=>{a.push(Object.fromEntries(y))}),a}_triggerWebAnimation(l,a,y){return l.animate(this._convertKeyframesToObject(a),y)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,T)=>{"offset"!==T&&l.set(T,this._finished?y:Ui(this.element,T))}),this.currentSnapshot=l}triggerCallback(l){const a="start"===l?this._onStartFns:this._onDoneFns;a.forEach(y=>y()),a.length=0}}class fb{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,a){return!1}containsElement(l,a){return Zc(l,a)}getParentElement(l){return Vm(l)}query(l,a,y){return Hf(l,a,y)}computeStyle(l,a,y){return window.getComputedStyle(l)[a]}animate(l,a,y,T,L,z=[]){const ye={duration:y,delay:T,fill:0==T?"both":"forwards"};L&&(ye.easing=L);const He=new Map,pt=z.filter(En=>En instanceof uE);(function ft(p,l){return 0===p||0===l})(y,T)&&pt.forEach(En=>{En.currentSnapshot.forEach((Tn,Jt)=>He.set(Jt,Tn))});let Vt=function Od(p){return p.length?p[0]instanceof Map?p:p.map(l=>vg(l)):[]}(a).map(En=>Fl(En));Vt=function xt(p,l,a){if(a.size&&l.length){let y=l[0],T=[];if(a.forEach((L,z)=>{y.has(z)||T.push(z),y.set(z,L)}),T.length)for(let L=1;L<l.length;L++){let z=l[L];T.forEach(se=>z.set(se,Ui(p,se)))}}return l}(l,Vt,He);const bn=function ub(p,l){let a=null,y=null;return Array.isArray(l)&&l.length?(a=Jv(l[0]),l.length>1&&(y=Jv(l[l.length-1]))):l instanceof Map&&(a=Jv(l)),a||y?new db(p,a,y):null}(l,Vt);return new uE(l,Vt,ye,bn)}}let pb=(()=>{class p extends ki.S6{constructor(a,y){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(y.body,{id:"0",encapsulation:i.gXe.None,styles:[],data:{animation:[]}})}build(a){const y=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(a)?(0,ki.K2)(a):a;return dE(this._renderer,null,y,"register",[T]),new gb(y,this._renderer)}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(_e.qQ))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class gb extends ki.Ro{constructor(l,a){super(),this._id=l,this._renderer=a}create(l,a){return new mb(this._id,l,a||{},this._renderer)}}class mb{constructor(l,a,y,T){this.id=l,this.element=a,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(l,a){return this._renderer.listen(this.element,`@@${this.id}:${l}`,a)}_command(l,...a){return dE(this._renderer,this.element,this.id,l,a)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function dE(p,l,a,y,T){return p.setProperty(l,`@@${a}:${y}`,T)}const hE="@.disabled";let fE=(()=>{class p{constructor(a,y,T){this.delegate=a,this.engine=y,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,y.onRemovalComplete=(L,z)=>{const se=z?.parentNode(L);se&&z.removeChild(se,L)}}createRenderer(a,y){const L=this.delegate.createRenderer(a,y);if(!(a&&y&&y.data&&y.data.animation)){let pt=this._rendererCache.get(L);return pt||(pt=new Zv("",L,this.engine,()=>this._rendererCache.delete(L)),this._rendererCache.set(L,pt)),pt}const z=y.id,se=y.id+"-"+this._currentId;this._currentId++,this.engine.register(se,a);const ye=pt=>{Array.isArray(pt)?pt.forEach(ye):this.engine.registerTrigger(z,se,a,pt.name,pt)};return y.data.animation.forEach(ye),new pE(this,se,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,y,T){a>=0&&a<this._microtaskId?this._zone.run(()=>y(T)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[z,se]=L;z(se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(i._9s),i.KVO(Sy),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})();class Zv{constructor(l,a,y,T){this.namespaceId=l,this.delegate=a,this.engine=y,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,a){return this.delegate.createElement(l,a)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,a){this.delegate.appendChild(l,a),this.engine.onInsert(this.namespaceId,a,l,!1)}insertBefore(l,a,y,T=!0){this.delegate.insertBefore(l,a,y),this.engine.onInsert(this.namespaceId,a,l,T)}removeChild(l,a,y){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(l,a){return this.delegate.selectRootElement(l,a)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,a,y,T){this.delegate.setAttribute(l,a,y,T)}removeAttribute(l,a,y){this.delegate.removeAttribute(l,a,y)}addClass(l,a){this.delegate.addClass(l,a)}removeClass(l,a){this.delegate.removeClass(l,a)}setStyle(l,a,y,T){this.delegate.setStyle(l,a,y,T)}removeStyle(l,a,y){this.delegate.removeStyle(l,a,y)}setProperty(l,a,y){"@"==a.charAt(0)&&a==hE?this.disableAnimations(l,!!y):this.delegate.setProperty(l,a,y)}setValue(l,a){this.delegate.setValue(l,a)}listen(l,a,y){return this.delegate.listen(l,a,y)}disableAnimations(l,a){this.engine.disableAnimations(l,a)}}class pE extends Zv{constructor(l,a,y,T,L){super(a,y,T,L),this.factory=l,this.namespaceId=a}setProperty(l,a,y){"@"==a.charAt(0)?"."==a.charAt(1)&&a==hE?this.disableAnimations(l,y=void 0===y||!!y):this.engine.process(this.namespaceId,l,a.slice(1),y):this.delegate.setProperty(l,a,y)}listen(l,a,y){if("@"==a.charAt(0)){const T=function gE(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let L=a.slice(1),z="";return"@"!=L.charAt(0)&&([L,z]=function mE(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(L)),this.engine.listen(this.namespaceId,T,L,z,se=>{this.factory.scheduleListenerCallback(se._data||-1,y,se)})}return this.delegate.listen(l,a,y)}}const e0=[{provide:ki.S6,useClass:pb},{provide:Gv,useFactory:function yE(){return new zv}},{provide:Sy,useClass:(()=>{class p extends Sy{constructor(a,y,T,L){super(a.body,y,T)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(y){return new(y||p)(i.KVO(_e.qQ),i.KVO(mg),i.KVO(Gv),i.KVO(i.o8S))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},{provide:i._9s,useFactory:function vE(p,l,a){return new fE(p,l,a)},deps:[ue.B7,Sy,i.SKi]}],Py=[{provide:mg,useFactory:()=>new fb},{provide:i.bc$,useValue:"BrowserAnimations"},...e0],t0=[{provide:mg,useClass:Pd},{provide:i.bc$,useValue:"NoopAnimations"},...e0];let qf=(()=>{class p{static withConfig(a){return{ngModule:p,providers:a.disableAnimations?t0:Py}}static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p})}static{this.\u0275inj=i.G2t({providers:Py,imports:[ue.Bb]})}}return p})();const EE={"helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","www.helpinghandafh.com":"vfCMoPjAu2ROVBbKvk0D","aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1","www.aefamilyhome.com":"UiSDf9elSjwcbQs2HZb1"};function n0(p,l,a){return()=>{const y=window.location.hostname,T=new URL(window.location.href);let L=EE[y]||T.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("themeInitializerFactory app.module businessId: "+L+" - hostname: "+y),p.loadTheme(L)}}function uC(p,l,a){const y=window.location.hostname,T=new URL(window.location.href);let L=EE[y]||T.searchParams.get("id")||"Z93oAAVwFAwhmdH2lLtB";return console.log("initializeBusinessData app.module businessId:: "+L+" - hostname: "+y),()=>{p.loadBusinessData(L).toPromise().then(()=>{console.log("Business data loaded successfully")}).catch(z=>{console.error("Error loading business data:",z)})}}let bE=(()=>{class p{static{this.\u0275fac=function(y){return new(y||p)}}static{this.\u0275mod=i.$C({type:p,bootstrap:[fm]})}static{this.\u0275inj=i.G2t({providers:[{provide:i.hnV,useFactory:n0,deps:[Qc,_e.aZ,dr.Ix],multi:!0},{provide:i.hnV,useFactory:uC,deps:[xi.A,_e.aZ,dr.Ix],multi:!0}],imports:[ue.Bb,dr.iI,nv,dd.cM,Dh.y5,lg.X8,Cd.bf.initializeApp(Df_firebase),zp(()=>Pf(Df_firebase)),e(()=>rg()),Dv(()=>Rm()),Ur.X1,Ur.YN,fe,qf]})}}return p})();ue.sG().bootstrapModule(bE).catch(p=>console.error(p))},4412:(on,Je,j)=>{j.d(Je,{t:()=>ue});var c=j(1413);class ue extends c.B{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const pe=super._subscribe(Ie);return!pe.closed&&Ie.next(this._value),pe}getValue(){const{hasError:Ie,thrownError:pe,_value:Oe}=this;if(Ie)throw pe;return this._throwIfClosed(),Oe}next(Ie){super.next(this._value=Ie)}}},1985:(on,Je,j)=>{j.d(Je,{c:()=>Ue});var c=j(7707),ue=j(8359),i=j(3494),Ie=j(1203),pe=j(1026),Oe=j(8071),be=j(9786);let Ue=(()=>{class _e{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const Dt=new _e;return Dt.source=this,Dt.operator=Ze,Dt}subscribe(Ze,Dt,At){const Ut=function oe(_e){return _e&&_e instanceof c.vU||function ee(_e){return _e&&(0,Oe.T)(_e.next)&&(0,Oe.T)(_e.error)&&(0,Oe.T)(_e.complete)}(_e)&&(0,ue.Uv)(_e)}(Ze)?Ze:new c.Ms(Ze,Dt,At);return(0,be.Y)(()=>{const{operator:Rt,source:pn}=this;Ut.add(Rt?Rt.call(Ut,pn):pn?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(Dt){Ze.error(Dt)}}forEach(Ze,Dt){return new(Dt=Se(Dt))((At,Ut)=>{const Rt=new c.Ms({next:pn=>{try{Ze(pn)}catch(Ge){Ut(Ge),Rt.unsubscribe()}},error:Ut,complete:At});this.subscribe(Rt)})}_subscribe(Ze){var Dt;return null===(Dt=this.source)||void 0===Dt?void 0:Dt.subscribe(Ze)}[i.s](){return this}pipe(...Ze){return(0,Ie.m)(Ze)(this)}toPromise(Ze){return new(Ze=Se(Ze))((Dt,At)=>{let Ut;this.subscribe(Rt=>Ut=Rt,Rt=>At(Rt),()=>Dt(Ut))})}}return _e.create=lt=>new _e(lt),_e})();function Se(_e){var lt;return null!==(lt=_e??pe.$.Promise)&&void 0!==lt?lt:Promise}},1413:(on,Je,j)=>{j.d(Je,{B:()=>be});var c=j(1985),ue=j(8359);const Ie=(0,j(1853).L)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=j(7908),Oe=j(9786);let be=(()=>{class Se extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const _e=new Ue(this,this);return _e.operator=oe,_e}_throwIfClosed(){if(this.closed)throw new Ie}next(oe){(0,Oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(oe)}})}error(oe){(0,Oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:_e}=this;for(;_e.length;)_e.shift().error(oe)}})}complete(){(0,Oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:_e,isStopped:lt,observers:Ze}=this;return _e||lt?ue.Kn:(this.currentObservers=null,Ze.push(oe),new ue.yU(()=>{this.currentObservers=null,(0,pe.o)(Ze,oe)}))}_checkFinalizedStatuses(oe){const{hasError:_e,thrownError:lt,isStopped:Ze}=this;_e?oe.error(lt):Ze&&oe.complete()}asObservable(){const oe=new c.c;return oe.source=this,oe}}return Se.create=(ee,oe)=>new Ue(ee,oe),Se})();class Ue extends be{constructor(ee,oe){super(),this.destination=ee,this.source=oe}next(ee){var oe,_e;null===(_e=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===_e||_e.call(oe,ee)}error(ee){var oe,_e;null===(_e=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===_e||_e.call(oe,ee)}complete(){var ee,oe;null===(oe=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===oe||oe.call(ee)}_subscribe(ee){var oe,_e;return null!==(_e=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ee))&&void 0!==_e?_e:ue.Kn}}},7707:(on,Je,j)=>{j.d(Je,{Ms:()=>At,vU:()=>_e});var c=j(8071),ue=j(8359),i=j(1026),Ie=j(5334),pe=j(5343);const Oe=Se("C",void 0,void 0);function Se(Ce,et,qe){return{kind:Ce,value:et,error:qe}}var ee=j(9270),oe=j(9786);class _e extends ue.yU{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,ue.Uv)(et)&&et.add(this)):this.destination=Ge}static create(et,qe,it){return new At(et,qe,it)}next(et){this.isStopped?pn(function Ue(Ce){return Se("N",Ce,void 0)}(et),this):this._next(et)}error(et){this.isStopped?pn(function be(Ce){return Se("E",void 0,Ce)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?pn(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function Ze(Ce,et){return lt.call(Ce,et)}class Dt{constructor(et){this.partialObserver=et}next(et){const{partialObserver:qe}=this;if(qe.next)try{qe.next(et)}catch(it){Ut(it)}}error(et){const{partialObserver:qe}=this;if(qe.error)try{qe.error(et)}catch(it){Ut(it)}else Ut(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(qe){Ut(qe)}}}class At extends _e{constructor(et,qe,it){let St;if(super(),(0,c.T)(et)||!et)St={next:et??void 0,error:qe??void 0,complete:it??void 0};else{let Ot;this&&i.$.useDeprecatedNextContext?(Ot=Object.create(et),Ot.unsubscribe=()=>this.unsubscribe(),St={next:et.next&&Ze(et.next,Ot),error:et.error&&Ze(et.error,Ot),complete:et.complete&&Ze(et.complete,Ot)}):St=et}this.destination=new Dt(St)}}function Ut(Ce){i.$.useDeprecatedSynchronousErrorHandling?(0,oe.l)(Ce):(0,Ie.m)(Ce)}function pn(Ce,et){const{onStoppedNotification:qe}=i.$;qe&&ee.f.setTimeout(()=>qe(Ce,et))}const Ge={closed:!0,next:pe.l,error:function Rt(Ce){throw Ce},complete:pe.l}},8359:(on,Je,j)=>{j.d(Je,{Kn:()=>Oe,yU:()=>pe,Uv:()=>be});var c=j(8071);const i=(0,j(1853).L)(Se=>function(oe){Se(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((_e,lt)=>`${lt+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var Ie=j(7908);class pe{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Ze of oe)Ze.remove(this);else oe.remove(this);const{initialTeardown:_e}=this;if((0,c.T)(_e))try{_e()}catch(Ze){ee=Ze instanceof i?Ze.errors:[Ze]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const Ze of lt)try{Ue(Ze)}catch(Dt){ee=ee??[],Dt instanceof i?ee=[...ee,...Dt.errors]:ee.push(Dt)}}if(ee)throw new i(ee)}}add(ee){var oe;if(ee&&ee!==this)if(this.closed)Ue(ee);else{if(ee instanceof pe){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ee)}}_hasParent(ee){const{_parentage:oe}=this;return oe===ee||Array.isArray(oe)&&oe.includes(ee)}_addParent(ee){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ee),oe):oe?[oe,ee]:ee}_removeParent(ee){const{_parentage:oe}=this;oe===ee?this._parentage=null:Array.isArray(oe)&&(0,Ie.o)(oe,ee)}remove(ee){const{_finalizers:oe}=this;oe&&(0,Ie.o)(oe,ee),ee instanceof pe&&ee._removeParent(this)}}pe.EMPTY=(()=>{const Se=new pe;return Se.closed=!0,Se})();const Oe=pe.EMPTY;function be(Se){return Se instanceof pe||Se&&"closed"in Se&&(0,c.T)(Se.remove)&&(0,c.T)(Se.add)&&(0,c.T)(Se.unsubscribe)}function Ue(Se){(0,c.T)(Se)?Se():Se.unsubscribe()}},1026:(on,Je,j)=>{j.d(Je,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(on,Je,j)=>{j.d(Je,{x:()=>pe});var c=j(6365),i=j(3794),Ie=j(8455);function pe(...Oe){return function ue(){return(0,c.U)(1)}()((0,Ie.H)(Oe,(0,i.lI)(Oe)))}},983:(on,Je,j)=>{j.d(Je,{w:()=>ue});const ue=new(j(1985).c)(pe=>pe.complete())},8455:(on,Je,j)=>{j.d(Je,{H:()=>et});var c=j(8750),ue=j(941),i=j(6745),Oe=j(1985),Ue=j(4761),Se=j(8071),ee=j(5225);function _e(qe,it){if(!qe)throw new Error("Iterable cannot be null");return new Oe.c(St=>{(0,ee.N)(St,it,()=>{const Ot=qe[Symbol.asyncIterator]();(0,ee.N)(St,it,()=>{Ot.next().then(xe=>{xe.done?St.complete():St.next(xe.value)})},0,!0)})})}var lt=j(5055),Ze=j(9858),Dt=j(7441),At=j(5397),Ut=j(7953),Rt=j(591),pn=j(5196);function et(qe,it){return it?function Ce(qe,it){if(null!=qe){if((0,lt.l)(qe))return function Ie(qe,it){return(0,c.Tg)(qe).pipe((0,i._)(it),(0,ue.Q)(it))}(qe,it);if((0,Dt.X)(qe))return function be(qe,it){return new Oe.c(St=>{let Ot=0;return it.schedule(function(){Ot===qe.length?St.complete():(St.next(qe[Ot++]),St.closed||this.schedule())})})}(qe,it);if((0,Ze.y)(qe))return function pe(qe,it){return(0,c.Tg)(qe).pipe((0,i._)(it),(0,ue.Q)(it))}(qe,it);if((0,Ut.T)(qe))return _e(qe,it);if((0,At.x)(qe))return function oe(qe,it){return new Oe.c(St=>{let Ot;return(0,ee.N)(St,it,()=>{Ot=qe[Ue.l](),(0,ee.N)(St,it,()=>{let xe,rn;try{({value:xe,done:rn}=Ot.next())}catch(yn){return void St.error(yn)}rn?St.complete():St.next(xe)},0,!0)}),()=>(0,Se.T)(Ot?.return)&&Ot.return()})}(qe,it);if((0,pn.U)(qe))return function Ge(qe,it){return _e((0,pn.C)(qe),it)}(qe,it)}throw(0,Rt.L)(qe)}(qe,it):(0,c.Tg)(qe)}},8750:(on,Je,j)=>{j.d(Je,{Tg:()=>lt});var c=j(1635),ue=j(7441),i=j(9858),Ie=j(1985),pe=j(5055),Oe=j(7953),be=j(591),Ue=j(5397),Se=j(5196),ee=j(8071),oe=j(5334),_e=j(3494);function lt(Ce){if(Ce instanceof Ie.c)return Ce;if(null!=Ce){if((0,pe.l)(Ce))return function Ze(Ce){return new Ie.c(et=>{const qe=Ce[_e.s]();if((0,ee.T)(qe.subscribe))return qe.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,ue.X)(Ce))return function Dt(Ce){return new Ie.c(et=>{for(let qe=0;qe<Ce.length&&!et.closed;qe++)et.next(Ce[qe]);et.complete()})}(Ce);if((0,i.y)(Ce))return function At(Ce){return new Ie.c(et=>{Ce.then(qe=>{et.closed||(et.next(qe),et.complete())},qe=>et.error(qe)).then(null,oe.m)})}(Ce);if((0,Oe.T)(Ce))return Rt(Ce);if((0,Ue.x)(Ce))return function Ut(Ce){return new Ie.c(et=>{for(const qe of Ce)if(et.next(qe),et.closed)return;et.complete()})}(Ce);if((0,Se.U)(Ce))return function pn(Ce){return Rt((0,Se.C)(Ce))}(Ce)}throw(0,be.L)(Ce)}function Rt(Ce){return new Ie.c(et=>{(function Ge(Ce,et){var qe,it,St,Ot;return(0,c.sH)(this,void 0,void 0,function*(){try{for(qe=(0,c.xN)(Ce);!(it=yield qe.next()).done;)if(et.next(it.value),et.closed)return}catch(xe){St={error:xe}}finally{try{it&&!it.done&&(Ot=qe.return)&&(yield Ot.call(qe))}finally{if(St)throw St.error}}et.complete()})})(Ce,et).catch(qe=>et.error(qe))})}},7786:(on,Je,j)=>{j.d(Je,{h:()=>Oe});var c=j(6365),ue=j(8750),i=j(983),Ie=j(3794),pe=j(8455);function Oe(...be){const Ue=(0,Ie.lI)(be),Se=(0,Ie.R0)(be,1/0),ee=be;return ee.length?1===ee.length?(0,ue.Tg)(ee[0]):(0,c.U)(Se)((0,pe.H)(ee,Ue)):i.w}},7673:(on,Je,j)=>{j.d(Je,{of:()=>i});var c=j(3794),ue=j(8455);function i(...Ie){const pe=(0,c.lI)(Ie);return(0,ue.H)(Ie,pe)}},8810:(on,Je,j)=>{j.d(Je,{$:()=>i});var c=j(1985),ue=j(8071);function i(Ie,pe){const Oe=(0,ue.T)(Ie)?Ie:()=>Ie,be=Ue=>Ue.error(Oe());return new c.c(pe?Ue=>pe.schedule(be,0,Ue):be)}},4360:(on,Je,j)=>{j.d(Je,{_:()=>ue});var c=j(7707);function ue(Ie,pe,Oe,be,Ue){return new i(Ie,pe,Oe,be,Ue)}class i extends c.vU{constructor(pe,Oe,be,Ue,Se,ee){super(pe),this.onFinalize=Se,this.shouldUnsubscribe=ee,this._next=Oe?function(oe){try{Oe(oe)}catch(_e){pe.error(_e)}}:super._next,this._error=Ue?function(oe){try{Ue(oe)}catch(_e){pe.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(oe){pe.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Oe}=this;super.unsubscribe(),!Oe&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},9437:(on,Je,j)=>{j.d(Je,{W:()=>Ie});var c=j(8750),ue=j(4360),i=j(9974);function Ie(pe){return(0,i.N)((Oe,be)=>{let ee,Ue=null,Se=!1;Ue=Oe.subscribe((0,ue._)(be,void 0,void 0,oe=>{ee=(0,c.Tg)(pe(oe,Ie(pe)(Oe))),Ue?(Ue.unsubscribe(),Ue=null,ee.subscribe(be)):Se=!0})),Se&&(Ue.unsubscribe(),Ue=null,ee.subscribe(be))})}},274:(on,Je,j)=>{j.d(Je,{H:()=>i});var c=j(1397),ue=j(8071);function i(Ie,pe){return(0,ue.T)(pe)?(0,c.Z)(Ie,pe,1):(0,c.Z)(Ie,1)}},9901:(on,Je,j)=>{j.d(Je,{U:()=>i});var c=j(9974),ue=j(4360);function i(Ie){return(0,c.N)((pe,Oe)=>{let be=!1;pe.subscribe((0,ue._)(Oe,Ue=>{be=!0,Oe.next(Ue)},()=>{be||Oe.next(Ie),Oe.complete()}))})}},3294:(on,Je,j)=>{j.d(Je,{F:()=>Ie});var c=j(3669),ue=j(9974),i=j(4360);function Ie(Oe,be=c.D){return Oe=Oe??pe,(0,ue.N)((Ue,Se)=>{let ee,oe=!0;Ue.subscribe((0,i._)(Se,_e=>{const lt=be(_e);(oe||!Oe(ee,lt))&&(oe=!1,ee=lt,Se.next(_e))}))})}function pe(Oe,be){return Oe===be}},5964:(on,Je,j)=>{j.d(Je,{p:()=>i});var c=j(9974),ue=j(4360);function i(Ie,pe){return(0,c.N)((Oe,be)=>{let Ue=0;Oe.subscribe((0,ue._)(be,Se=>Ie.call(pe,Se,Ue++)&&be.next(Se)))})}},980:(on,Je,j)=>{j.d(Je,{j:()=>ue});var c=j(9974);function ue(i){return(0,c.N)((Ie,pe)=>{try{Ie.subscribe(pe)}finally{pe.add(i)}})}},1594:(on,Je,j)=>{j.d(Je,{$:()=>be});var c=j(9350),ue=j(5964),i=j(6697),Ie=j(9901),pe=j(3774),Oe=j(3669);function be(Ue,Se){const ee=arguments.length>=2;return oe=>oe.pipe(Ue?(0,ue.p)((_e,lt)=>Ue(_e,lt,oe)):Oe.D,(0,i.s)(1),ee?(0,Ie.U)(Se):(0,pe.v)(()=>new c.G))}},6354:(on,Je,j)=>{j.d(Je,{T:()=>i});var c=j(9974),ue=j(4360);function i(Ie,pe){return(0,c.N)((Oe,be)=>{let Ue=0;Oe.subscribe((0,ue._)(be,Se=>{be.next(Ie.call(pe,Se,Ue++))}))})}},6365:(on,Je,j)=>{j.d(Je,{U:()=>i});var c=j(1397),ue=j(3669);function i(Ie=1/0){return(0,c.Z)(ue.D,Ie)}},1397:(on,Je,j)=>{j.d(Je,{Z:()=>Ue});var c=j(6354),ue=j(8750),i=j(9974),Ie=j(5225),pe=j(4360),be=j(8071);function Ue(Se,ee,oe=1/0){return(0,be.T)(ee)?Ue((_e,lt)=>(0,c.T)((Ze,Dt)=>ee(_e,Ze,lt,Dt))((0,ue.Tg)(Se(_e,lt))),oe):("number"==typeof ee&&(oe=ee),(0,i.N)((_e,lt)=>function Oe(Se,ee,oe,_e,lt,Ze,Dt,At){const Ut=[];let Rt=0,pn=0,Ge=!1;const Ce=()=>{Ge&&!Ut.length&&!Rt&&ee.complete()},et=it=>Rt<_e?qe(it):Ut.push(it),qe=it=>{Ze&&ee.next(it),Rt++;let St=!1;(0,ue.Tg)(oe(it,pn++)).subscribe((0,pe._)(ee,Ot=>{lt?.(Ot),Ze?et(Ot):ee.next(Ot)},()=>{St=!0},void 0,()=>{if(St)try{for(Rt--;Ut.length&&Rt<_e;){const Ot=Ut.shift();Dt?(0,Ie.N)(ee,Dt,()=>qe(Ot)):qe(Ot)}Ce()}catch(Ot){ee.error(Ot)}}))};return Se.subscribe((0,pe._)(ee,et,()=>{Ge=!0,Ce()})),()=>{At?.()}}(_e,lt,Se,oe)))}},941:(on,Je,j)=>{j.d(Je,{Q:()=>Ie});var c=j(5225),ue=j(9974),i=j(4360);function Ie(pe,Oe=0){return(0,ue.N)((be,Ue)=>{be.subscribe((0,i._)(Ue,Se=>(0,c.N)(Ue,pe,()=>Ue.next(Se),Oe),()=>(0,c.N)(Ue,pe,()=>Ue.complete(),Oe),Se=>(0,c.N)(Ue,pe,()=>Ue.error(Se),Oe)))})}},2816:(on,Je,j)=>{j.d(Je,{S:()=>Ie});var c=j(9974),ue=j(4360);function Ie(pe,Oe){return(0,c.N)(function i(pe,Oe,be,Ue,Se){return(ee,oe)=>{let _e=be,lt=Oe,Ze=0;ee.subscribe((0,ue._)(oe,Dt=>{const At=Ze++;lt=_e?pe(lt,Dt,At):(_e=!0,Dt),Ue&&oe.next(lt)},Se&&(()=>{_e&&oe.next(lt),oe.complete()})))}}(pe,Oe,arguments.length>=2,!0))}},7647:(on,Je,j)=>{j.d(Je,{u:()=>pe});var c=j(8750),ue=j(1413),i=j(7707),Ie=j(9974);function pe(be={}){const{connector:Ue=(()=>new ue.B),resetOnError:Se=!0,resetOnComplete:ee=!0,resetOnRefCountZero:oe=!0}=be;return _e=>{let lt,Ze,Dt,At=0,Ut=!1,Rt=!1;const pn=()=>{Ze?.unsubscribe(),Ze=void 0},Ge=()=>{pn(),lt=Dt=void 0,Ut=Rt=!1},Ce=()=>{const et=lt;Ge(),et?.unsubscribe()};return(0,Ie.N)((et,qe)=>{At++,!Rt&&!Ut&&pn();const it=Dt=Dt??Ue();qe.add(()=>{At--,0===At&&!Rt&&!Ut&&(Ze=Oe(Ce,oe))}),it.subscribe(qe),!lt&&At>0&&(lt=new i.Ms({next:St=>it.next(St),error:St=>{Rt=!0,pn(),Ze=Oe(Ge,Se,St),it.error(St)},complete:()=>{Ut=!0,pn(),Ze=Oe(Ge,ee),it.complete()}}),(0,c.Tg)(et).subscribe(lt))})(_e)}}function Oe(be,Ue,...Se){if(!0===Ue)return void be();if(!1===Ue)return;const ee=new i.Ms({next:()=>{ee.unsubscribe(),be()}});return(0,c.Tg)(Ue(...Se)).subscribe(ee)}},9172:(on,Je,j)=>{j.d(Je,{Z:()=>Ie});var c=j(8793),ue=j(3794),i=j(9974);function Ie(...pe){const Oe=(0,ue.lI)(pe);return(0,i.N)((be,Ue)=>{(Oe?(0,c.x)(pe,be,Oe):(0,c.x)(pe,be)).subscribe(Ue)})}},6745:(on,Je,j)=>{j.d(Je,{_:()=>ue});var c=j(9974);function ue(i,Ie=0){return(0,c.N)((pe,Oe)=>{Oe.add(i.schedule(()=>pe.subscribe(Oe),Ie))})}},5558:(on,Je,j)=>{j.d(Je,{n:()=>Ie});var c=j(8750),ue=j(9974),i=j(4360);function Ie(pe,Oe){return(0,ue.N)((be,Ue)=>{let Se=null,ee=0,oe=!1;const _e=()=>oe&&!Se&&Ue.complete();be.subscribe((0,i._)(Ue,lt=>{Se?.unsubscribe();let Ze=0;const Dt=ee++;(0,c.Tg)(pe(lt,Dt)).subscribe(Se=(0,i._)(Ue,At=>Ue.next(Oe?Oe(lt,At,Dt,Ze++):At),()=>{Se=null,_e()}))},()=>{oe=!0,_e()}))})}},6697:(on,Je,j)=>{j.d(Je,{s:()=>Ie});var c=j(983),ue=j(9974),i=j(4360);function Ie(pe){return pe<=0?()=>c.w:(0,ue.N)((Oe,be)=>{let Ue=0;Oe.subscribe((0,i._)(be,Se=>{++Ue<=pe&&(be.next(Se),pe<=Ue&&be.complete())}))})}},8141:(on,Je,j)=>{j.d(Je,{M:()=>pe});var c=j(8071),ue=j(9974),i=j(4360),Ie=j(3669);function pe(Oe,be,Ue){const Se=(0,c.T)(Oe)||be||Ue?{next:Oe,error:be,complete:Ue}:Oe;return Se?(0,ue.N)((ee,oe)=>{var _e;null===(_e=Se.subscribe)||void 0===_e||_e.call(Se);let lt=!0;ee.subscribe((0,i._)(oe,Ze=>{var Dt;null===(Dt=Se.next)||void 0===Dt||Dt.call(Se,Ze),oe.next(Ze)},()=>{var Ze;lt=!1,null===(Ze=Se.complete)||void 0===Ze||Ze.call(Se),oe.complete()},Ze=>{var Dt;lt=!1,null===(Dt=Se.error)||void 0===Dt||Dt.call(Se,Ze),oe.error(Ze)},()=>{var Ze,Dt;lt&&(null===(Ze=Se.unsubscribe)||void 0===Ze||Ze.call(Se)),null===(Dt=Se.finalize)||void 0===Dt||Dt.call(Se)}))}):Ie.D}},3774:(on,Je,j)=>{j.d(Je,{v:()=>Ie});var c=j(9350),ue=j(9974),i=j(4360);function Ie(Oe=pe){return(0,ue.N)((be,Ue)=>{let Se=!1;be.subscribe((0,i._)(Ue,ee=>{Se=!0,Ue.next(ee)},()=>Se?Ue.complete():Ue.error(Oe())))})}function pe(){return new c.G}},6780:(on,Je,j)=>{j.d(Je,{R:()=>pe});var c=j(8359);class ue extends c.yU{constructor(be,Ue){super()}schedule(be,Ue=0){return this}}const i={setInterval(Oe,be,...Ue){const{delegate:Se}=i;return Se?.setInterval?Se.setInterval(Oe,be,...Ue):setInterval(Oe,be,...Ue)},clearInterval(Oe){const{delegate:be}=i;return(be?.clearInterval||clearInterval)(Oe)},delegate:void 0};var Ie=j(7908);class pe extends ue{constructor(be,Ue){super(be,Ue),this.scheduler=be,this.work=Ue,this.pending=!1}schedule(be,Ue=0){var Se;if(this.closed)return this;this.state=be;const ee=this.id,oe=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(oe,ee,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(oe,this.id,Ue),this}requestAsyncId(be,Ue,Se=0){return i.setInterval(be.flush.bind(be,this),Se)}recycleAsyncId(be,Ue,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return Ue;null!=Ue&&i.clearInterval(Ue)}execute(be,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(be,Ue);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Ue){let ee,Se=!1;try{this.work(be)}catch(oe){Se=!0,ee=oe||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:be,scheduler:Ue}=this,{actions:Se}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.o)(Se,this),null!=be&&(this.id=this.recycleAsyncId(Ue,be,null)),this.delay=null,super.unsubscribe()}}}},9687:(on,Je,j)=>{j.d(Je,{q:()=>i});var c=j(6129);class ue{constructor(pe,Oe=ue.now){this.schedulerActionCtor=pe,this.now=Oe}schedule(pe,Oe=0,be){return new this.schedulerActionCtor(this,pe).schedule(be,Oe)}}ue.now=c.U.now;class i extends ue{constructor(pe,Oe=ue.now){super(pe,Oe),this.actions=[],this._active=!1}flush(pe){const{actions:Oe}=this;if(this._active)return void Oe.push(pe);let be;this._active=!0;do{if(be=pe.execute(pe.state,pe.delay))break}while(pe=Oe.shift());if(this._active=!1,be){for(;pe=Oe.shift();)pe.unsubscribe();throw be}}}},3236:(on,Je,j)=>{j.d(Je,{E:()=>i});var c=j(6780);const i=new(j(9687).q)(c.R)},6129:(on,Je,j)=>{j.d(Je,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(on,Je,j)=>{j.d(Je,{f:()=>c});const c={setTimeout(ue,i,...Ie){const{delegate:pe}=c;return pe?.setTimeout?pe.setTimeout(ue,i,...Ie):setTimeout(ue,i,...Ie)},clearTimeout(ue){const{delegate:i}=c;return(i?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(on,Je,j)=>{j.d(Je,{l:()=>ue});const ue=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(on,Je,j)=>{j.d(Je,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(on,Je,j)=>{j.d(Je,{G:()=>ue});const ue=(0,j(1853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(on,Je,j)=>{j.d(Je,{R0:()=>Oe,ms:()=>Ie,lI:()=>pe});var c=j(8071);function i(be){return be[be.length-1]}function Ie(be){return(0,c.T)(i(be))?be.pop():void 0}function pe(be){return function ue(be){return be&&(0,c.T)(be.schedule)}(i(be))?be.pop():void 0}function Oe(be,Ue){return"number"==typeof i(be)?be.pop():Ue}},3073:(on,Je,j)=>{j.d(Je,{D:()=>pe});const{isArray:c}=Array,{getPrototypeOf:ue,prototype:i,keys:Ie}=Object;function pe(be){if(1===be.length){const Ue=be[0];if(c(Ue))return{args:Ue,keys:null};if(function Oe(be){return be&&"object"==typeof be&&ue(be)===i}(Ue)){const Se=Ie(Ue);return{args:Se.map(ee=>Ue[ee]),keys:Se}}}return{args:be,keys:null}}},7908:(on,Je,j)=>{function c(ue,i){if(ue){const Ie=ue.indexOf(i);0<=Ie&&ue.splice(Ie,1)}}j.d(Je,{o:()=>c})},1853:(on,Je,j)=>{function c(ue){const Ie=ue(pe=>{Error.call(pe),pe.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}j.d(Je,{L:()=>c})},8496:(on,Je,j)=>{function c(ue,i){return ue.reduce((Ie,pe,Oe)=>(Ie[pe]=i[Oe],Ie),{})}j.d(Je,{e:()=>c})},9786:(on,Je,j)=>{j.d(Je,{Y:()=>i,l:()=>Ie});var c=j(1026);let ue=null;function i(pe){if(c.$.useDeprecatedSynchronousErrorHandling){const Oe=!ue;if(Oe&&(ue={errorThrown:!1,error:null}),pe(),Oe){const{errorThrown:be,error:Ue}=ue;if(ue=null,be)throw Ue}}else pe()}function Ie(pe){c.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=pe)}},5225:(on,Je,j)=>{function c(ue,i,Ie,pe=0,Oe=!1){const be=i.schedule(function(){Ie(),Oe?ue.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(ue.add(be),!Oe)return be}j.d(Je,{N:()=>c})},3669:(on,Je,j)=>{function c(ue){return ue}j.d(Je,{D:()=>c})},7441:(on,Je,j)=>{j.d(Je,{X:()=>c});const c=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(on,Je,j)=>{j.d(Je,{T:()=>ue});var c=j(8071);function ue(i){return Symbol.asyncIterator&&(0,c.T)(i?.[Symbol.asyncIterator])}},8071:(on,Je,j)=>{function c(ue){return"function"==typeof ue}j.d(Je,{T:()=>c})},5055:(on,Je,j)=>{j.d(Je,{l:()=>i});var c=j(3494),ue=j(8071);function i(Ie){return(0,ue.T)(Ie[c.s])}},5397:(on,Je,j)=>{j.d(Je,{x:()=>i});var c=j(4761),ue=j(8071);function i(Ie){return(0,ue.T)(Ie?.[c.l])}},9858:(on,Je,j)=>{j.d(Je,{y:()=>ue});var c=j(8071);function ue(i){return(0,c.T)(i?.then)}},5196:(on,Je,j)=>{j.d(Je,{C:()=>i,U:()=>Ie});var c=j(1635),ue=j(8071);function i(pe){return(0,c.AQ)(this,arguments,function*(){const be=pe.getReader();try{for(;;){const{value:Ue,done:Se}=yield(0,c.N3)(be.read());if(Se)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Ue)}}finally{be.releaseLock()}})}function Ie(pe){return(0,ue.T)(pe?.getReader)}},9974:(on,Je,j)=>{j.d(Je,{N:()=>i,S:()=>ue});var c=j(8071);function ue(Ie){return(0,c.T)(Ie?.lift)}function i(Ie){return pe=>{if(ue(pe))return pe.lift(function(Oe){try{return Ie(Oe,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(on,Je,j)=>{j.d(Je,{I:()=>Ie});var c=j(6354);const{isArray:ue}=Array;function Ie(pe){return(0,c.T)(Oe=>function i(pe,Oe){return ue(Oe)?pe(...Oe):pe(Oe)}(pe,Oe))}},5343:(on,Je,j)=>{function c(){}j.d(Je,{l:()=>c})},1203:(on,Je,j)=>{j.d(Je,{F:()=>ue,m:()=>i});var c=j(3669);function ue(...Ie){return i(Ie)}function i(Ie){return 0===Ie.length?c.D:1===Ie.length?Ie[0]:function(Oe){return Ie.reduce((be,Ue)=>Ue(be),Oe)}}},5334:(on,Je,j)=>{j.d(Je,{m:()=>i});var c=j(1026),ue=j(9270);function i(Ie){ue.f.setTimeout(()=>{const{onUnhandledError:pe}=c.$;if(!pe)throw Ie;pe(Ie)})}},591:(on,Je,j)=>{function c(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Je,{L:()=>c})},9969:(on,Je,j)=>{j.d(Je,{FX:()=>pn,K2:()=>be,Ro:()=>ue,S6:()=>c,hZ:()=>Ie,i0:()=>pe,iF:()=>Ue,kY:()=>oe,kp:()=>i,sf:()=>Ut,ui:()=>Rt});class c{}class ue{}const i="*";function Ie(Ge,Ce){return{type:7,name:Ge,definitions:Ce,options:{}}}function pe(Ge,Ce=null){return{type:4,styles:Ce,timings:Ge}}function be(Ge,Ce=null){return{type:2,steps:Ge,options:Ce}}function Ue(Ge){return{type:6,styles:Ge,offset:null}}function oe(Ge,Ce,et=null){return{type:1,expr:Ge,animation:Ce,options:et}}class Ut{constructor(Ce=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ce+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}onStart(Ce){this._originalOnStartFns.push(Ce),this._onStartFns.push(Ce)}onDone(Ce){this._originalOnDoneFns.push(Ce),this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ce){this._position=this.totalTime?Ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ce){const et="start"==Ce?this._onStartFns:this._onDoneFns;et.forEach(qe=>qe()),et.length=0}}class Rt{constructor(Ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ce;let et=0,qe=0,it=0;const St=this.players.length;0==St?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++et==St&&this._onFinish()}),Ot.onDestroy(()=>{++qe==St&&this._onDestroy()}),Ot.onStart(()=>{++it==St&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,xe)=>Math.max(Ot,xe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}init(){this.players.forEach(Ce=>Ce.init())}onStart(Ce){this._onStartFns.push(Ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[])}onDone(Ce){this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ce=>Ce.play())}pause(){this.players.forEach(Ce=>Ce.pause())}restart(){this.players.forEach(Ce=>Ce.restart())}finish(){this._onFinish(),this.players.forEach(Ce=>Ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ce=>Ce.destroy()),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this.players.forEach(Ce=>Ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ce){const et=Ce*this.totalTime;this.players.forEach(qe=>{const it=qe.totalTime?Math.min(1,et/qe.totalTime):1;qe.setPosition(it)})}getPosition(){const Ce=this.players.reduce((et,qe)=>null===et||qe.totalTime>et.totalTime?qe:et,null);return null!=Ce?Ce.getPosition():0}beforeDestroy(){this.players.forEach(Ce=>{Ce.beforeDestroy&&Ce.beforeDestroy()})}triggerCallback(Ce){const et="start"==Ce?this._onStartFns:this._onDoneFns;et.forEach(qe=>qe()),et.length=0}}const pn="!"},177:(on,Je,j)=>{j.d(Je,{AJ:()=>kr,B3:()=>wr,Jj:()=>js,MD:()=>ns,N0:()=>Sn,P9:()=>$i,QT:()=>i,Sm:()=>Dt,Sq:()=>Qi,VF:()=>pe,Vy:()=>Ds,Xr:()=>ke,YU:()=>hr,ZD:()=>Ie,_b:()=>qt,aZ:()=>Ut,bT:()=>Ao,e1:()=>Zi,fG:()=>ys,fw:()=>At,hb:()=>lt,hj:()=>Ue,lG:()=>As,qQ:()=>Oe,ux:()=>oi});var c=j(7705);let ue=null;function i(){return ue}function Ie(P){ue||(ue=P)}class pe{}const Oe=new c.nKC("DocumentToken");let be=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=c.jDH({token:P,factory:function(){return(0,c.WQX)(Se)},providedIn:"platform"})}}return P})();const Ue=new c.nKC("Location Initialized");let Se=(()=>{class P extends be{constructor(){super(),this._doc=(0,c.WQX)(Oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",B,!1),()=>Y.removeEventListener("popstate",B)}onHashChange(B){const Y=i().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",B,!1),()=>Y.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,Y,Me){this._history.pushState(B,Y,Me)}replaceState(B,Y,Me){this._history.replaceState(B,Y,Me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=c.jDH({token:P,factory:function(){return new P},providedIn:"platform"})}}return P})();function ee(P,te){if(0==P.length)return te;if(0==te.length)return P;let B=0;return P.endsWith("/")&&B++,te.startsWith("/")&&B++,2==B?P+te.substring(1):1==B?P+te:P+"/"+te}function oe(P){const te=P.match(/#|\?|$/),B=te&&te.index||P.length;return P.slice(0,B-("/"===P[B-1]?1:0))+P.slice(B)}function _e(P){return P&&"?"!==P[0]?"?"+P:P}let lt=(()=>{class P{historyGo(B){throw new Error("Not implemented")}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275prov=c.jDH({token:P,factory:function(){return(0,c.WQX)(Dt)},providedIn:"root"})}}return P})();const Ze=new c.nKC("appBaseHref");let Dt=(()=>{class P extends lt{constructor(B,Y){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return ee(this._baseHref,B)}path(B=!1){const Y=this._platformLocation.pathname+_e(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&B?`${Y}${Me}`:Y}pushState(B,Y,Me,Ct){const kt=this.prepareExternalUrl(Me+_e(Ct));this._platformLocation.pushState(B,Y,kt)}replaceState(B,Y,Me,Ct){const kt=this.prepareExternalUrl(Me+_e(Ct));this._platformLocation.replaceState(B,Y,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||P)(c.KVO(be),c.KVO(Ze,8))}}static{this.\u0275prov=c.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})(),At=(()=>{class P extends lt{constructor(B,Y){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(B){const Y=ee(this._baseHref,B);return Y.length>0?"#"+Y:Y}pushState(B,Y,Me,Ct){let kt=this.prepareExternalUrl(Me+_e(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.pushState(B,Y,kt)}replaceState(B,Y,Me,Ct){let kt=this.prepareExternalUrl(Me+_e(Ct));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.replaceState(B,Y,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}static{this.\u0275fac=function(Y){return new(Y||P)(c.KVO(be),c.KVO(Ze,8))}}static{this.\u0275prov=c.jDH({token:P,factory:P.\u0275fac})}}return P})(),Ut=(()=>{class P{constructor(B){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const Y=this._locationStrategy.getBaseHref();this._basePath=function Ce(P){if(new RegExp("^(https?:)?//").test(P)){const[,B]=P.split(/\/\/[^\/]+/);return B}return P}(oe(Ge(Y))),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,Y=""){return this.path()==this.normalize(B+_e(Y))}normalize(B){return P.stripTrailingSlash(function pn(P,te){if(!P||!te.startsWith(P))return te;const B=te.substring(P.length);return""===B||["/",";","?","#"].includes(B[0])?B:te}(this._basePath,Ge(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,Y="",Me=null){this._locationStrategy.pushState(Me,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(Y)),Me)}replaceState(B,Y="",Me=null){this._locationStrategy.replaceState(Me,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+_e(Y)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",Y){this._urlChangeListeners.forEach(Me=>Me(B,Y))}subscribe(B,Y,Me){return this._subject.subscribe({next:B,error:Y,complete:Me})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=ee}static{this.stripTrailingSlash=oe}static{this.\u0275fac=function(Y){return new(Y||P)(c.KVO(lt))}}static{this.\u0275prov=c.jDH({token:P,factory:function(){return function Rt(){return new Ut((0,c.KVO)(lt))}()},providedIn:"root"})}}return P})();function Ge(P){return P.replace(/\/index.html$/,"")}function qt(P,te){te=encodeURIComponent(te);for(const B of P.split(";")){const Y=B.indexOf("="),[Me,Ct]=-1==Y?[B,""]:[B.slice(0,Y),B.slice(Y+1)];if(Me.trim()===te)return decodeURIComponent(Ct)}return null}const Vn=/\s+/,On=[];let hr=(()=>{class P{constructor(B,Y,Me,Ct){this._iterableDiffers=B,this._keyValueDiffers=Y,this._ngEl=Me,this._renderer=Ct,this.initialClasses=On,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Vn):On}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Vn):B}ngDoCheck(){for(const Y of this.initialClasses)this._updateState(Y,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const Y of B)this._updateState(Y,!0);else if(null!=B)for(const Y of Object.keys(B))this._updateState(Y,!!B[Y]);this._applyStateDiff()}_updateState(B,Y){const Me=this.stateMap.get(B);void 0!==Me?(Me.enabled!==Y&&(Me.changed=!0,Me.enabled=Y),Me.touched=!0):this.stateMap.set(B,{enabled:Y,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const Y=B[0],Me=B[1];Me.changed?(this._toggleClass(Y,Me.enabled),Me.changed=!1):Me.touched||(Me.enabled&&this._toggleClass(Y,!1),this.stateMap.delete(Y)),Me.touched=!1}}_toggleClass(B,Y){(B=B.trim()).length>0&&B.split(Vn).forEach(Me=>{Y?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c._q3),c.rXU(c.MKu),c.rXU(c.aKT),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return P})();class Ir{constructor(te,B,Y,Me){this.$implicit=te,this.ngForOf=B,this.index=Y,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class P{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,Y,Me){this._viewContainer=B,this._template=Y,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const Y=this._viewContainer;B.forEachOperation((Me,Ct,kt)=>{if(null==Me.previousIndex)Y.createEmbeddedView(this._template,new Ir(Me.item,this._ngForOf,-1,-1),null===kt?void 0:kt);else if(null==kt)Y.remove(null===Ct?void 0:Ct);else if(null!==Ct){const Un=Y.get(Ct);Y.move(Un,kt),Ms(Un,Me)}});for(let Me=0,Ct=Y.length;Me<Ct;Me++){const Un=Y.get(Me).context;Un.index=Me,Un.count=Ct,Un.ngForOf=this._ngForOf}B.forEachIdentityChange(Me=>{Ms(Y.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))}}static{this.\u0275dir=c.FsC({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return P})();function Ms(P,te){P.context.$implicit=te.item}let Ao=(()=>{class P{constructor(B,Y){this._viewContainer=B,this._context=new Do,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Vi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Vi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,Y){return!0}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c.c1b),c.rXU(c.C4Q))}}static{this.\u0275dir=c.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return P})();class Do{constructor(){this.$implicit=null,this.ngIf=null}}function Vi(P,te){if(te&&!te.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,c.Tbb)(te)}'.`)}class $o{constructor(te,B){this._viewContainerRef=te,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let oi=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const Y=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const Y of this._defaultViews)Y.enforceState(B)}}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275dir=c.FsC({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return P})(),Zi=(()=>{class P{constructor(B,Y,Me){this.ngSwitch=Me,Me._addCase(),this._view=new $o(B,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(oi,9))}}static{this.\u0275dir=c.FsC({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return P})(),ys=(()=>{class P{constructor(B,Y,Me){Me._addDefault(new $o(B,Y))}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(oi,9))}}static{this.\u0275dir=c.FsC({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return P})(),wr=(()=>{class P{constructor(B,Y,Me){this._ngEl=B,this._differs=Y,this._renderer=Me,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,Y){const[Me,Ct]=B.split("."),kt=-1===Me.indexOf("-")?void 0:c.czy.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,Me,Ct?`${Y}${Ct}`:Y,kt):this._renderer.removeStyle(this._ngEl.nativeElement,Me,kt)}_applyChanges(B){B.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),B.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),B.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c.aKT),c.rXU(c.MKu),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return P})();function hi(P,te){return new c.wOt(2100,!1)}class Fa{createSubscription(te,B){return(0,c.O8t)(()=>te.subscribe({next:B,error:Y=>{throw Y}}))}dispose(te){(0,c.O8t)(()=>te.unsubscribe())}}class Xa{createSubscription(te,B){return te.then(B,Y=>{throw Y})}dispose(te){}}const Pi=new Xa,va=new Fa;let js=(()=>{class P{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,Y=>this._updateLatestValue(B,Y))}_selectStrategy(B){if((0,c.jNT)(B))return Pi;if((0,c.zjR)(B))return va;throw hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,Y){B===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c.gRc,16))}}static{this.\u0275pipe=c.EJ8({name:"async",type:P,pure:!1,standalone:!0})}}return P})(),As=(()=>{class P{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=Hs}transform(B,Y=Hs){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Me=this.differ.diff(B),Ct=Y!==this.compareFn;return Me&&(this.keyValues=[],Me.forEachItem(kt=>{this.keyValues.push(function ts(P,te){return{key:P,value:te}}(kt.key,kt.currentValue))})),(Me||Ct)&&(this.keyValues.sort(Y),this.compareFn=Y),this.keyValues}static{this.\u0275fac=function(Y){return new(Y||P)(c.rXU(c.MKu,16))}}static{this.\u0275pipe=c.EJ8({name:"keyvalue",type:P,pure:!1,standalone:!0})}}return P})();function Hs(P,te){const B=P.key,Y=te.key;if(B===Y)return 0;if(void 0===B)return 1;if(void 0===Y)return-1;if(null===B)return 1;if(null===Y)return-1;if("string"==typeof B&&"string"==typeof Y)return B<Y?-1:1;if("number"==typeof B&&"number"==typeof Y)return B-Y;if("boolean"==typeof B&&"boolean"==typeof Y)return B<Y?-1:1;const Me=String(B),Ct=String(Y);return Me==Ct?0:Me<Ct?-1:1}let $i=(()=>{class P{transform(B,Y,Me){if(null==B)return null;if(!this.supports(B))throw hi();return B.slice(Y,Me)}supports(B){return"string"==typeof B||Array.isArray(B)}static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275pipe=c.EJ8({name:"slice",type:P,pure:!1,standalone:!0})}}return P})(),ns=(()=>{class P{static{this.\u0275fac=function(Y){return new(Y||P)}}static{this.\u0275mod=c.$C({type:P})}static{this.\u0275inj=c.G2t({})}}return P})();const kr="browser",rs="server";function Ds(P){return P===rs}let ke=(()=>{class P{static{this.\u0275prov=(0,c.jDH)({token:P,providedIn:"root",factory:()=>new Qe((0,c.KVO)(Oe),window)})}}return P})();class Qe{constructor(te,B){this.document=te,this.window=B,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const B=function mt(P,te){const B=P.getElementById(te)||P.getElementsByName(te)[0];if(B)return B;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Me=Y.currentNode;for(;Me;){const Ct=Me.shadowRoot;if(Ct){const kt=Ct.getElementById(te)||Ct.querySelector(`[name="${te}"]`);if(kt)return kt}Me=Y.nextNode()}}return null}(this.document,te);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const B=te.getBoundingClientRect(),Y=B.left+this.window.pageXOffset,Me=B.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(Y-Ct[0],Me-Ct[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Sn{}},7705:(on,Je,j)=>{j.d(Je,{$C:()=>ni,$GK:()=>In,$K3:()=>ST,$MX:()=>mf,AVh:()=>Cy,Agw:()=>Tf,B4B:()=>Vp,BIS:()=>rv,BMQ:()=>fg,C4Q:()=>l0,C5r:()=>lT,Co$:()=>bC,DNE:()=>Lh,EFF:()=>Ig,EJ8:()=>$s,EmA:()=>bh,FS9:()=>Nd,FsC:()=>so,G2t:()=>Xt,GBs:()=>rT,GFd:()=>Pv,H3F:()=>DT,H5H:()=>n0,H8p:()=>Ef,HJs:()=>t1,HbH:()=>ZE,Hbi:()=>$A,JRh:()=>Km,JZv:()=>Kn,Jv_:()=>EC,KH2:()=>l,KVO:()=>It,Kcf:()=>__,L39:()=>ZA,LfX:()=>kn,Lme:()=>qv,MKu:()=>eC,Mz_:()=>Oa,NEm:()=>yA,NYb:()=>pA,Njj:()=>cs,O8t:()=>Ct,OA$:()=>pr,Ocv:()=>Hw,Ol2:()=>TC,PLl:()=>nv,QTQ:()=>d,Ql9:()=>Ww,QuC:()=>Os,R7$:()=>vv,RV6:()=>yc,Rfq:()=>Dt,RxE:()=>iv,SKi:()=>bo,SpI:()=>Dy,TL$:()=>qg,Tbb:()=>_e,UyX:()=>_h,VBU:()=>Xa,Vns:()=>Qm,Vt3:()=>Sm,WHO:()=>RT,WPN:()=>ld,WQX:()=>dn,XpG:()=>To,Xx1:()=>uc,Y8G:()=>Vh,Z63:()=>ud,ZF7:()=>au,_9s:()=>Wp,_q3:()=>Zb,aKT:()=>Ih,aNF:()=>IC,bIt:()=>q,bMT:()=>$C,bVm:()=>_c,bc$:()=>If,bkB:()=>Pl,brH:()=>GC,c1b:()=>ME,cWb:()=>Xg,czy:()=>ih,e01:()=>OT,e5t:()=>Hy,eBV:()=>Lo,eq3:()=>RC,eu8:()=>el,fpN:()=>BA,gRc:()=>DA,gXe:()=>xi,giA:()=>NT,h9k:()=>Lp,hnV:()=>AT,i5U:()=>HC,iLQ:()=>Kb,j41:()=>Cu,jDH:()=>sn,jNT:()=>E,k0s:()=>Rd,kS0:()=>Hd,kdw:()=>Jl,l4e:()=>NC,lJ4:()=>MC,lNU:()=>Ge,l_i:()=>OC,lsd:()=>sT,mGM:()=>nT,mq5:()=>_b,n$t:()=>S_,nI1:()=>BC,nKC:()=>gn,naY:()=>AA,npT:()=>Zg,nrm:()=>Tu,o8S:()=>Ny,oH4:()=>VT,osQ:()=>Qg,plB:()=>Lb,qex:()=>_a,rXU:()=>Ml,rcV:()=>qc,sFG:()=>y0,sGs:()=>kC,sZ2:()=>O_,sdS:()=>yg,tSv:()=>dv,uvJ:()=>bi,w6W:()=>kI,wOt:()=>Ce,wni:()=>iT,xGo:()=>fl,xc7:()=>zv,xe9:()=>OE,xvI:()=>sv,zZn:()=>Dl,zcH:()=>mc,zjR:()=>U});var c=j(1413),ue=j(8359),i=j(1985),Ie=j(7786),pe=j(4412),Oe=j(7673),be=j(7647),Ue=j(5558),Se=j(3294);function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function oe(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function _e(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_e).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function lt(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ze=ee({__forward_ref__:ee});function Dt(t){return t.__forward_ref__=Dt,t.toString=function(){return _e(this())},t}function At(t){return Ut(t)?t():t}function Ut(t){return"function"==typeof t&&t.hasOwnProperty(Ze)&&t.__forward_ref__===Dt}function Rt(t){return t&&!!t.\u0275providers}const Ge="https://g.co/ng/security#xss";class Ce extends Error{constructor(n,s){super(function et(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function qe(t){return"string"==typeof t?t:null==t?"":String(t)}function rn(t,n){throw new Ce(-201,!1)}function rt(t,n){null==t&&function Xe(t,n,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function sn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function $n(t){return Gt(t,un)||Gt(t,tr)}function kn(t){return null!==$n(t)}function Gt(t,n){return t.hasOwnProperty(n)?t[n]:null}function yr(t){return t&&(t.hasOwnProperty(Or)||t.hasOwnProperty(Bt))?t[Or]:null}const un=ee({\u0275prov:ee}),Or=ee({\u0275inj:ee}),tr=ee({ngInjectableDef:ee}),Bt=ee({ngInjectorDef:ee});var In=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(In||{});let Gn;function $r(t){const n=Gn;return Gn=t,n}function xr(t,n,s){const u=$n(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&In.Optional?null:void 0!==n?n:void rn(_e(t))}const Kn=globalThis;class gn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=sn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jn={},Lr="__NG_DI_FLAG__",Tr="ngTempTokenPath",Et=/\n/gm,M="__source";let k;function fe(t){const n=k;return k=t,n}function st(t,n=In.Default){if(void 0===k)throw new Ce(-203,!1);return null===k?xr(t,void 0,n):k.get(t,n&In.Optional?null:void 0,n)}function It(t,n=In.Default){return(function ln(){return Gn}()||st)(At(t),n)}function dn(t,n=In.Default){return It(t,Dn(n))}function Dn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gr(t){const n=[];for(let s=0;s<t.length;s++){const u=At(t[s]);if(Array.isArray(u)){if(0===u.length)throw new Ce(900,!1);let f,g=In.Default;for(let C=0;C<u.length;C++){const A=u[C],R=Vr(A);"number"==typeof R?-1===R?f=A.token:g|=R:f=A}n.push(It(f,g))}else n.push(It(u))}return n}function cn(t,n){return t[Lr]=n,t.prototype[Lr]=n,t}function Vr(t){return t[Lr]}function vi(t){return{toString:t}.toString()}var Li=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Li||{}),xi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xi||{});const Ne={},Mt=[],ge=ee({\u0275cmp:ee}),me=ee({\u0275dir:ee}),we=ee({\u0275pipe:ee}),wt=ee({\u0275mod:ee}),qt=ee({\u0275fac:ee}),Vn=ee({__NG_ELEMENT_ID__:ee}),On=ee({__NG_ENV_ID__:ee});function hr(t,n,s){let u=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const g=n.length;if(f+g===u||t.charCodeAt(f+g)<=32)return f}s=f+1}}function Hr(t,n,s){let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const g=s[u++],C=s[u++],A=s[u++];t.setAttribute(n,C,A,g)}else{const g=f,C=s[++u];Ir(g)?t.setProperty(n,g,C):t.setAttribute(n,g,C),u++}}return u}function qr(t){return 3===t||4===t||6===t}function Ir(t){return 64===t.charCodeAt(0)}function Qi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?s=f:0===s||Ms(t,s,f,null,-1===s||2===s?n[++u]:null)}}return t}function Ms(t,n,s,u,f){let g=0,C=t.length;if(-1===n)C=-1;else for(;g<t.length;){const A=t[g++];if("number"==typeof A){if(A===n){C=-1;break}if(A>n){C=g-1;break}}}for(;g<t.length;){const A=t[g];if("number"==typeof A)break;if(A===s){if(null===u)return void(null!==f&&(t[g+1]=f));if(u===t[g+1])return void(t[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==C&&(t.splice(C,0,n),g=C+1),t.splice(g++,0,s),null!==u&&t.splice(g++,0,u),null!==f&&t.splice(g++,0,f)}const Ji="ng-template";function Ao(t,n,s){let u=0,f=!0;for(;u<t.length;){let g=t[u++];if("string"==typeof g&&f){const C=t[u++];if(s&&"class"===g&&-1!==hr(C.toLowerCase(),n,0))return!0}else{if(1===g){for(;u<t.length&&"string"==typeof(g=t[u++]);)if(g.toLowerCase()===n)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Do(t){return 4===t.type&&t.value!==Ji}function Vi(t,n,s){return n===(4!==t.type||s?t.value:Ji)}function $o(t,n,s){let u=4;const f=t.attrs||[],g=function Bi(t){for(let n=0;n<t.length;n++)if(qr(t[n]))return n;return t.length}(f);let C=!1;for(let A=0;A<n.length;A++){const R=n[A];if("number"!=typeof R){if(!C)if(4&u){if(u=2|1&u,""!==R&&!Vi(t,R,s)||""===R&&1===n.length){if(oi(u))return!1;C=!0}}else{const G=8&u?R:n[++A];if(8&u&&null!==t.attrs){if(!Ao(t.attrs,G,s)){if(oi(u))return!1;C=!0}continue}const Te=Zi(8&u?"class":R,f,Do(t),s);if(-1===Te){if(oi(u))return!1;C=!0;continue}if(""!==G){let Ye;Ye=Te>g?"":f[Te+1].toLowerCase();const ct=8&u?Ye:null;if(ct&&-1!==hr(ct,G,0)||2&u&&G!==Ye){if(oi(u))return!1;C=!0}}}}else{if(!C&&!oi(u)&&!oi(R))return!1;if(C&&oi(R))continue;C=!1,u=R|1&u}}return oi(u)||C}function oi(t){return 0==(1&t)}function Zi(t,n,s,u){if(null===n)return-1;let f=0;if(u||!s){let g=!1;for(;f<n.length;){const C=n[f];if(C===t)return f;if(3===C||6===C)g=!0;else{if(1===C||2===C){let A=n[++f];for(;"string"==typeof A;)A=n[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=g?1:2}return-1}return function Oi(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,t)}function ys(t,n,s=!1){for(let u=0;u<n.length;u++)if($o(t,n[u],s))return!0;return!1}function io(t,n){return t?":not("+n.trim()+")":n}function So(t){let n=t[0],s=1,u=2,f="",g=!1;for(;s<t.length;){let C=t[s];if("string"==typeof C)if(2&u){const A=t[++s];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!oi(C)&&(n+=io(g,f),f=""),u=C,g=g||!oi(u);s++}return""!==f&&(n+=io(g,f)),n}function Xa(t){return vi(()=>{const n=es(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Li.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xi.Emulated,styles:t.styles||Mt,_:null,schemas:t.schemas||null,tView:null,id:""};oo(s);const u=t.dependencies;return s.directiveDefs=ts(u,!1),s.pipeDefs=ts(u,!0),s.id=function Hs(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function va(t){return Ar(t)||fi(t)}function js(t){return null!==t}function ni(t){return vi(()=>({type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bs(t,n){if(null==t)return Ne;const s={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),s[f]=u,n&&(n[f]=g)}return s}function so(t){return vi(()=>{const n=es(t);return oo(n),n})}function $s(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ar(t){return t[ge]||null}function fi(t){return t[me]||null}function Ii(t){return t[we]||null}function Os(t){const n=Ar(t)||fi(t)||Ii(t);return null!==n&&n.standalone}function ai(t,n){const s=t[wt]||null;if(!s&&!0===n)throw new Error(`Type ${_e(t)} does not have '\u0275mod' property.`);return s}function es(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ne,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bs(t.inputs,n),outputs:Bs(t.outputs)}}function oo(t){t.features?.forEach(n=>n(t))}function ts(t,n){if(!t)return null;const s=n?Ii:va;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(js)}const ci=0,tn=1,Bn=2,Wn=3,Xr=4,$i=5,wi=6,ns=7,kr=8,rs=9,vs=10,qn=11,ds=12,Ds=13,Z=14,Q=15,Ae=16,ke=17,Qe=18,mt=19,Qt=20,Sn=21,vn=22,Zn=23,Dr=24,xn=25,Yn=1,Pr=2,zr=7,Ki=9,ar=11;function Di(t){return Array.isArray(t)&&"object"==typeof t[Yn]}function Rr(t){return Array.isArray(t)&&!0===t[Yn]}function go(t){return 0!=(4&t.flags)}function is(t){return t.componentOffset>-1}function Es(t){return 1==(1&t.flags)}function qs(t){return!!t.template}function Ho(t){return 0!=(512&t[Bn])}function Gs(t,n){return t.hasOwnProperty(qt)?t[qt]:null}let xs=null,Mo=!1;function qi(t){const n=xs;return xs=t,n}const Cc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ca(t){if(!_o(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Qa(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function hs(t){t.dirty=!0,function ao(t){if(void 0===t.liveConsumerNode)return;const n=Mo;Mo=!0;try{for(const s of t.liveConsumerNode)s.dirty||hs(s)}finally{Mo=n}}(t),t.consumerMarkedDirty?.(t)}function Ia(t){return t&&(t.nextProducerIndex=0),qi(t)}function Ro(t,n){if(qi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_o(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)il(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qa(t){Oo(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],u=t.producerLastReadVersion[n];if(u!==s.version||(Ca(s),u!==s.version))return!0}return!1}function Su(t){if(Oo(t),_o(t))for(let n=0;n<t.producerNode.length;n++)il(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function il(t,n){if(function No(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Oo(t),1===t.liveConsumerNode.length)for(let u=0;u<t.producerNode.length;u++)il(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Oo(f),f.producerIndexOfThis[u]=n}}function _o(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ko=null;function Ct(t){const n=qi(null);try{return t()}finally{qi(n)}}const Un=()=>{},Wr=(()=>({...Cc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Un}))();class ri{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function pr(){return ii}function ii(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ri),mi}function mi(){const t=Ts(this),n=t?.current;if(n){const s=t.previous;if(s===Ne)t.previous=n;else for(let u in n)s[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Ri(t,n,s,u){const f=this.declaredInputs[s],g=Ts(t)||function ca(t,n){return t[co]=n}(t,{previous:Ne,current:null}),C=g.current||(g.current={}),A=g.previous,R=A[f];C[f]=new ri(R&&R.currentValue,n,A===Ne),t[u]=n}pr.ngInherit=!0;const co="__ngSimpleChanges__";function Ts(t){return t[co]||null}const os=function(t,n,s){};function Er(t){for(;Array.isArray(t);)t=t[ci];return t}function Ac(t,n){return Er(n[t])}function to(t,n){return Er(n[t.index])}function Mu(t,n){return t.data[n]}function yo(t,n){return t[n]}function Ei(t,n){const s=n[t];return Di(s)?s:s[ci]}function as(t,n){return null==n?null:t[n]}function Fo(t){t[ke]=0}function Sc(t){1024&t[Bn]||(t[Bn]|=1024,kd(t,1))}function $l(t){1024&t[Bn]&&(t[Bn]&=-1025,kd(t,-1))}function kd(t,n){let s=t[Wn];if(null===s)return;s[$i]+=n;let u=s;for(s=s[Wn];null!==s&&(1===n&&1===u[$i]||-1===n&&0===u[$i]);)s[$i]+=n,u=s,s=s[Wn]}const Hn={lFrame:ae(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function al(){return Hn.bindingsEnabled}function Wt(){return Hn.lFrame.lView}function Sr(){return Hn.lFrame.tView}function Lo(t){return Hn.lFrame.contextLView=t,t[kr]}function cs(t){return Hn.lFrame.contextLView=null,t}function Ps(){let t=cl();for(;null!==t&&64===t.type;)t=t.parent;return t}function cl(){return Hn.lFrame.currentTNode}function zt(t,n){const s=Hn.lFrame;s.currentTNode=t,s.isParent=n}function nc(){return Hn.lFrame.isParent}function Gl(){Hn.lFrame.isParent=!1}function Xs(){const t=Hn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Xn(){return Hn.lFrame.bindingIndex++}function Qs(t){const n=Hn.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function $h(t,n){const s=Hn.lFrame;s.bindingIndex=s.bindingRootIndex=t,Fu(n)}function Fu(t){Hn.lFrame.currentDirectiveIndex=t}function Pc(){return Hn.lFrame.currentQueryIndex}function D(t){Hn.lFrame.currentQueryIndex=t}function O(t){const n=t[tn];return 2===n.type?n.declTNode:1===n.type?t[wi]:null}function w(t,n,s){if(s&In.SkipSelf){let f=n,g=t;for(;!(f=f.parent,null!==f||s&In.Host||(f=O(g),null===f||(g=g[Z],10&f.type))););if(null===f)return!1;n=f,t=g}const u=Hn.lFrame=H();return u.currentTNode=n,u.lView=t,!0}function N(t){const n=H(),s=t[tn];Hn.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function H(){const t=Hn.lFrame,n=null===t?null:t.child;return null===n?ae(t):n}function ae(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pe(){const t=Hn.lFrame;return Hn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yt=Pe;function dt(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function br(){return Hn.lFrame.selectedIndex}function Fr(t){Hn.lFrame.selectedIndex=t}function _i(){const t=Hn.lFrame;return Mu(t.tView,t.selectedIndex)}let Hh=!0;function ic(){return Hh}function da(t){Hh=t}function ja(t,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:re}=g;C&&(t.contentHooks??=[]).push(-s,C),A&&((t.contentHooks??=[]).push(s,A),(t.contentCheckHooks??=[]).push(s,A)),R&&(t.viewHooks??=[]).push(-s,R),G&&((t.viewHooks??=[]).push(s,G),(t.viewCheckHooks??=[]).push(s,G)),null!=re&&(t.destroyHooks??=[]).push(s,re)}}function Vu(t,n,s){Uu(t,n,3,s)}function ha(t,n,s,u){(3&t[Bn])===s&&Uu(t,n,s,u)}function Kl(t,n){let s=t[Bn];(3&s)===n&&(s&=8191,s+=1,t[Bn]=s)}function Uu(t,n,s,u){const g=u??-1,C=n.length-1;let A=0;for(let R=void 0!==u?65535&t[ke]:0;R<C;R++)if("number"==typeof n[R+1]){if(A=n[R],null!=u&&A>=u)break}else n[R]<0&&(t[ke]+=65536),(A<g||-1==g)&&(ju(t,s,n,R),t[ke]=(4294901760&t[ke])+R+2),R++}function Vd(t,n){os(4,t,n);const s=qi(null);try{n.call(t)}finally{qi(s),os(5,t,n)}}function ju(t,n,s,u){const f=s[u]<0,g=s[u+1],A=t[f?-s[u]:s[u]];f?t[Bn]>>13<t[ke]>>16&&(3&t[Bn])===n&&(t[Bn]+=8192,Vd(A,g)):Vd(A,g)}const Js=-1;class no{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function $u(t){return t!==Js}function Oc(t){return 32767&t}function Ba(t,n){let s=function Hu(t){return t>>16}(t),u=n;for(;s>0;)u=u[Z],s--;return u}let Gu=!0;function sc(t){const n=Gu;return Gu=t,n}const zh=255,Da=5;let Yl=0;const uo={};function ul(t,n){const s=Wh(t,n);if(-1!==s)return s;const u=n[tn];u.firstCreatePass&&(t.injectorIndex=n.length,ks(u.data,t),ks(n,null),ks(u.blueprint,null));const f=Nc(t,n),g=t.injectorIndex;if($u(f)){const C=Oc(f),A=Ba(f,n),R=A[tn].data;for(let G=0;G<8;G++)n[g+G]=A[C+G]|R[C+G]}return n[g+8]=f,g}function ks(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Wh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Nc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,f=n;for(;null!==f;){if(u=$d(f),null===u)return Js;if(s++,f=f[Z],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Js}function dl(t,n,s){!function jd(t,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Vn)&&(u=s[Vn]),null==u&&(u=s[Vn]=Yl++);const f=u&zh;n.data[t+(f>>Da)]|=1<<f}(t,n,s)}function oc(t,n,s){if(s&In.Optional||void 0!==t)return t;rn()}function Sa(t,n,s,u){if(s&In.Optional&&void 0===u&&(u=null),!(s&(In.Self|In.Host))){const f=t[rs],g=$r(void 0);try{return f?f.get(n,u,s&In.Optional):xr(n,u,s&In.Optional)}finally{$r(g)}}return oc(u,0,s)}function zu(t,n,s,u=In.Default,f){if(null!==t){if(2048&n[Bn]&&!(u&In.Self)){const C=function np(t,n,s,u,f){let g=t,C=n;for(;null!==g&&null!==C&&2048&C[Bn]&&!(512&C[Bn]);){const A=hl(g,C,s,u|In.Self,uo);if(A!==uo)return A;let R=g.parent;if(!R){const G=C[Qt];if(G){const re=G.get(s,uo,u);if(re!==uo)return re}R=$d(C),C=C[Z]}g=R}return f}(t,n,s,u,uo);if(C!==uo)return C}const g=hl(t,n,s,u,uo);if(g!==uo)return g}return Sa(n,s,u,f)}function hl(t,n,s,u,f){const g=function Fc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Vn)?t[Vn]:void 0;return"number"==typeof n?n>=0?n&zh:Yu:n}(s);if("function"==typeof g){if(!w(n,t,u))return u&In.Host?oc(f,0,u):Sa(n,s,u,f);try{let C;if(C=g(u),null!=C||u&In.Optional)return C;rn()}finally{yt()}}else if("number"==typeof g){let C=null,A=Wh(t,n),R=Js,G=u&In.Host?n[Q][wi]:null;for((-1===A||u&In.SkipSelf)&&(R=-1===A?Nc(t,n):n[A+8],R!==Js&&tp(u,!1)?(C=n[tn],A=Oc(R),n=Ba(R,n)):A=-1);-1!==A;){const re=n[tn];if(Ku(g,A,re.data)){const Te=Wu(A,n,s,C,u,G);if(Te!==uo)return Te}R=n[A+8],R!==Js&&tp(u,n[tn].data[A+8]===G)&&Ku(g,A,n)?(C=re,A=Oc(R),n=Ba(R,n)):A=-1}}return f}function Wu(t,n,s,u,f,g){const C=n[tn],A=C.data[t+8],re=xa(A,C,s,null==u?is(A)&&Gu:u!=C&&0!=(3&A.type),f&In.Host&&g===A);return null!==re?kc(n,C,re,A):uo}function xa(t,n,s,u,f){const g=t.providerIndexes,C=n.data,A=1048575&g,R=t.directiveStart,re=g>>20,Ye=f?A+re:t.directiveEnd;for(let ct=u?A:A+re;ct<Ye;ct++){const Ft=C[ct];if(ct<R&&s===Ft||ct>=R&&Ft.type===s)return ct}if(f){const ct=C[R];if(ct&&qs(ct)&&ct.type===s)return R}return null}function kc(t,n,s,u){let f=t[s];const g=n.data;if(function Qo(t){return t instanceof no}(f)){const C=f;C.resolving&&function St(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${t}${s}`)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qe(t)}(g[s]));const A=sc(C.canSeeViewProviders);C.resolving=!0;const G=C.injectImpl?$r(C.injectImpl):null;w(t,u,In.Default);try{f=t[s]=C.factory(void 0,g,t,u),n.firstCreatePass&&s>=u.directiveStart&&function Wl(t,n,s){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=n.type.prototype;if(u){const C=ii(n);(s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C)}f&&(s.preOrderHooks??=[]).push(0-t,f),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],n)}finally{null!==G&&$r(G),sc(A),C.resolving=!1,yt()}}return f}function Ku(t,n,s){return!!(s[n+(t>>Da)]&1<<t)}function tp(t,n){return!(t&In.Self||t&In.Host&&n)}class fs{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return zu(this._tNode,this._lView,n,Dn(u),s)}}function Yu(){return new fs(Ps(),Wt())}function fl(t){return vi(()=>{const n=t.prototype.constructor,s=n[qt]||Bd(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const g=f[qt]||Bd(f);if(g&&g!==s)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Bd(t){return Ut(t)?()=>{const n=Bd(At(t));return n&&n()}:Gs(t)}function $d(t){const n=t[tn],s=n.type;return 2===s?n.declTNode:1===s?t[wi]:null}function Hd(t){return function Kh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const u=s.length;let f=0;for(;f<u;){const g=s[f];if(qr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof s[f];)f++;else{if(g===n)return s[f+1];f+=2}}}return null}(Ps(),t)}const Eo="__parameters__";function gl(t,n,s){return vi(()=>{const u=function Vc(t){return function(...s){if(t){const u=t(...s);for(const f in u)this[f]=u[f]}}}(n);function f(...g){if(this instanceof f)return u.apply(this,g),this;const C=new f(...g);return A.annotation=C,A;function A(R,G,re){const Te=R.hasOwnProperty(Eo)?R[Eo]:Object.defineProperty(R,Eo,{value:[]})[Eo];for(;Te.length<=re;)Te.push(null);return(Te[re]=Te[re]||[]).push(C),R}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function Uc(t,n){t.forEach(s=>Array.isArray(s)?Uc(s,n):n(s))}function Gd(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function jc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Jo(t,n,s){let u=cc(t,n);return u>=0?t[1|u]=s:(u=~u,function Rg(t,n,s,u){let f=t.length;if(f==n)t.push(s,u);else if(1===f)t.push(u,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=u}}(t,u,n,s)),u}function Kd(t,n){const s=cc(t,n);if(s>=0)return t[1|s]}function cc(t,n){return function sp(t,n,s){let u=0,f=t.length>>s;for(;f!==u;){const g=u+(f-u>>1),C=t[g<<s];if(n===C)return g<<s;C>n?f=g:u=g+1}return~(f<<s)}(t,n,1)}const uc=cn(gl("Optional"),8),Jl=cn(gl("SkipSelf"),4);function rh(t){return 128==(128&t.flags)}var ih=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ih||{});const h0=/^>|^->|<!--|-->|--!>|<!-$/g,hc=/(<|>)/g,t_="\u200b$1\u200b";const sh=new Map;let hp=0;const oh="__ngContext__";function Uo(t,n){Di(n)?(t[oh]=n[mt],function td(t){sh.set(t[mt],t)}(n)):t[oh]=n}let af;function nu(t,n){return af(t,n)}function lh(t){const n=t[Wn];return Rr(n)?n[Wn]:n}function i_(t){return dh(t[ds])}function Ug(t){return dh(t[Xr])}function dh(t){for(;null!==t&&!Rr(t);)t=t[Xr];return t}function ru(t,n,s,u,f){if(null!=u){let g,C=!1;Rr(u)?g=u:Di(u)&&(C=!0,u=u[ci]);const A=Er(u);0===t&&null!==s?null==f?Tp(n,s,A):id(n,s,A,f||null,!0):1===t&&null!==s?id(n,s,A,f||null,!0):2===t?function df(t,n,s){const u=hh(t,n);u&&function iu(t,n,s,u){t.removeChild(n,s,u)}(t,u,n,s)}(n,A,C):3===t&&n.destroyNode(A),null!=g&&function wp(t,n,s,u,f){const g=s[zr];g!==Er(s)&&ru(n,t,u,g,f);for(let A=ar;A<s.length;A++){const R=s[A];hf(R[tn],R,t,n,u,g)}}(n,t,g,s,f)}}function Ep(t,n){return t.createComment(function dp(t){return t.replace(h0,n=>n.replace(hc,t_))}(n))}function cf(t,n,s){return t.createElement(n,s)}function a_(t,n){const s=t[Ki],u=s.indexOf(n);$l(n),s.splice(u,1)}function uf(t,n){if(t.length<=ar)return;const s=ar+n,u=t[s];if(u){const f=u[Ae];null!==f&&f!==t&&a_(f,u),n>0&&(t[s-1][Xr]=u[Xr]);const g=jc(t,ar+n);!function rd(t,n){hf(t,n,n[qn],2,null,null),n[ci]=null,n[wi]=null}(u[tn],u);const C=g[Qe];null!==C&&C.detachView(g[tn]),u[Wn]=null,u[Xr]=null,u[Bn]&=-129}return u}function bp(t,n){if(!(256&n[Bn])){const s=n[qn];n[Zn]&&Su(n[Zn]),n[Dr]&&Su(n[Dr]),s.destroyNode&&hf(t,n,s,3,null,null),function jg(t){let n=t[ds];if(!n)return Cp(t[tn],t);for(;n;){let s=null;if(Di(n))s=n[ds];else{const u=n[ar];u&&(s=u)}if(!s){for(;n&&!n[Xr]&&n!==t;)Di(n)&&Cp(n[tn],n),n=n[Wn];null===n&&(n=t),Di(n)&&Cp(n[tn],n),s=n&&n[Xr]}n=s}}(n)}}function Cp(t,n){if(!(256&n[Bn])){n[Bn]&=-129,n[Bn]|=256,function jy(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const f=n[s[u]];if(!(f instanceof no)){const g=s[u+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const A=f[g[C]],R=g[C+1];os(4,A,R);try{R.call(A)}finally{os(5,A,R)}}else{os(4,f,g);try{g.call(f)}finally{os(5,f,g)}}}}}(t,n),function c_(t,n){const s=t.cleanup,u=n[ns];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const C=s[g+3];C>=0?u[C]():u[-C].unsubscribe(),g+=2}else s[g].call(u[s[g+1]]);null!==u&&(n[ns]=null);const f=n[Sn];if(null!==f){n[Sn]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(t,n),1===n[tn].type&&n[qn].destroy();const s=n[Ae];if(null!==s&&Rr(n[Wn])){s!==n[Wn]&&a_(s,n);const u=n[Qe];null!==u&&u.detachView(t)}!function n_(t){sh.delete(t[mt])}(n)}}function Bg(t,n,s){return function l_(t,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[ci];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=t.data[u.directiveStart+f];if(g===xi.None||g===xi.Emulated)return null}return to(u,s)}}(t,n.parent,s)}function id(t,n,s,u,f){t.insertBefore(n,s,u,f)}function Tp(t,n,s){t.appendChild(n,s)}function u_(t,n,s,u,f){null!==u?id(t,n,s,u,f):Tp(t,n,s)}function hh(t,n){return t.parentNode(n)}let Hg,Cl,Kg,Pp,fh=function d_(t,n,s){return 40&t.type?to(t,s):null};function ph(t,n,s,u){const f=Bg(t,u,n),g=n[qn],A=function Ip(t,n,s){return fh(t,n,s)}(u.parent||n[wi],u,n);if(null!=f)if(Array.isArray(s))for(let R=0;R<s.length;R++)u_(g,f,s[R],A,!1);else u_(g,f,s,A,!1);void 0!==Hg&&Hg(g,u,n,s,f)}function sd(t,n){if(null!==n){const s=n.type;if(3&s)return to(n,t);if(4&s)return gh(-1,t[n.index]);if(8&s){const u=n.child;if(null!==u)return sd(t,u);{const f=t[n.index];return Rr(f)?gh(-1,f):Er(f)}}if(32&s)return nu(n,t)()||Er(t[n.index]);{const u=zg(t,n);return null!==u?Array.isArray(u)?u[0]:sd(lh(t[Q]),u):sd(t,n.next)}}return null}function zg(t,n){return null!==n?t[Q][wi].projection[n.projection]:null}function gh(t,n){const s=ar+t+1;if(s<n.length){const u=n[s],f=u[tn].firstChild;if(null!==f)return sd(u,f)}return n[zr]}function Wc(t,n,s,u,f,g,C){for(;null!=s;){const A=u[s.index],R=s.type;if(C&&0===n&&(A&&Uo(Er(A),u),s.flags|=2),32!=(32&s.flags))if(8&R)Wc(t,n,s.child,u,f,g,!1),ru(n,t,f,A,g);else if(32&R){const G=nu(s,u);let re;for(;re=G();)ru(n,t,f,re,g);ru(n,t,f,A,g)}else 16&R?f_(t,n,u,s,f,g):ru(n,t,f,A,g);s=C?s.projectionNext:s.next}}function hf(t,n,s,u,f,g){Wc(s,u,t.firstChild,n,f,g,!1)}function f_(t,n,s,u,f,g){const C=s[Q],R=C[wi].projection[u.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)ru(n,t,f,R[G],g);else{let G=R;const re=C[Wn];rh(u)&&(G.flags|=128),Wc(t,n,G,re,f,g,!0)}}function Ap(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Dp(t,n,s){const{mergedAttrs:u,classes:f,styles:g}=s;null!==u&&Hr(t,n,u),null!==f&&Ap(t,n,f),null!==g&&function p_(t,n,s){t.setAttribute(n,"style",s)}(t,n,g)}function su(t){return function Sp(){if(void 0===Cl&&(Cl=null,Kn.trustedTypes))try{Cl=Kn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cl}()?.createHTML(t)||t}function qg(t){Kg=t}function mh(){if(void 0!==Kg)return Kg;if(typeof document<"u")return document;throw new Ce(210,!1)}function pf(){if(void 0===Pp&&(Pp=null,Kn.trustedTypes))try{Pp=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pp}function g_(t){return pf()?.createHTML(t)||t}function m_(t){return pf()?.createScriptURL(t)||t}class Kc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ge})`}}class $y extends Kc{getTypeName(){return"HTML"}}class Rp extends Kc{getTypeName(){return"Style"}}class Op extends Kc{getTypeName(){return"Script"}}class Np extends Kc{getTypeName(){return"URL"}}class ou extends Kc{getTypeName(){return"ResourceURL"}}function qc(t){return t instanceof Kc?t.changingThisBreaksApplicationSecurity:t}function au(t,n){const s=function Yg(t){return t instanceof Kc&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Ge})`)}return s===n}function __(t){return new $y(t)}function Xg(t){return new Rp(t)}function _h(t){return new Op(t)}function Qg(t){return new Np(t)}function Hy(t){return new ou(t)}class y_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(su(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class gf{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=su(n),s}}const fc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mf(t){return(t=String(t)).match(fc)?t:"unsafe:"+t}function pc(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function $a(...t){const n={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const E_=pc("area,br,col,hr,img,wbr"),b_=pc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C_=pc("rp,rt"),_f=$a(E_,$a(b_,pc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$a(C_,pc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$a(C_,b_)),yf=pc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cd=$a(yf,pc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vf=pc("script,style,template");class yh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!_f.hasOwnProperty(s))return this.sanitizedSomething=!0,!vf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),C=g.name,A=C.toLowerCase();if(!cd.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let R=g.value;yf[A]&&(R=mf(R)),this.buf.push(" ",C,'="',Fp(R),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();_f.hasOwnProperty(s)&&!E_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Fp(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const A_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vh=/([^\#-~ |!])/g;function Fp(t){return t.replace(/&/g,"&amp;").replace(A_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(vh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ur;function Lp(t,n){let s=null;try{Ur=Ur||function ad(t){const n=new gf(t);return function v_(){try{return!!(new window.DOMParser).parseFromString(su(""),"text/html")}catch{return!1}}()?new y_(n):n}(t);let u=n?String(n):"";s=Ur.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=s.innerHTML,s=Ur.getInertBodyElement(u)}while(u!==g);return su((new yh).sanitizeChildren(Jg(s)||s))}finally{if(s){const u=Jg(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Jg(t){return"content"in t&&function zy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ld=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ld||{});function Zg(t){const n=Eh();return n?g_(n.sanitize(ld.HTML,t)||""):au(t,"HTML")?g_(qc(t)):Lp(mh(),qe(t))}function Vp(t){const n=Eh();return n?n.sanitize(ld.URL,t)||"":au(t,"URL")?qc(t):mf(qe(t))}function D_(t){const n=Eh();if(n)return m_(n.sanitize(ld.RESOURCE_URL,t)||"");if(au(t,"ResourceURL"))return m_(qc(t));throw new Ce(904,!1)}function S_(t,n,s){return function Xy(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?D_:Vp}(n,s)(t)}function Eh(){const t=Wt();return t&&t[vs].sanitizer}const ud=new gn("ENVIRONMENT_INITIALIZER"),em=new gn("INJECTOR",-1),tm=new gn("INJECTOR_DEF_TYPES");class Up{get(n,s=jn){if(s===jn){const u=new Error(`NullInjectorError: No provider for ${_e(n)}!`);throw u.name="NullInjectorError",u}return s}}function bh(t){return{\u0275providers:t}}function ui(...t){return{\u0275providers:nm(0,t),\u0275fromNgModule:!0}}function nm(t,...n){const s=[],u=new Set;let f;const g=C=>{s.push(C)};return Uc(n,C=>{const A=C;cu(A,g,[],u)&&(f||=[],f.push(A))}),void 0!==f&&rm(f,g),s}function rm(t,n){for(let s=0;s<t.length;s++){const{ngModule:u,providers:f}=t[s];ro(f,g=>{n(g,u)})}}function cu(t,n,s,u){if(!(t=At(t)))return!1;let f=null,g=yr(t);const C=!g&&Ar(t);if(g||C){if(C&&!C.standalone)return!1;f=t}else{const R=t.ngModule;if(g=yr(R),!g)return!1;f=R}const A=u.has(f);if(C){if(A)return!1;if(u.add(f),C.dependencies){const R="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const G of R)cu(G,n,s,u)}}else{if(!g)return!1;{if(null!=g.imports&&!A){let G;u.add(f);try{Uc(g.imports,re=>{cu(re,n,s,u)&&(G||=[],G.push(re))})}finally{}void 0!==G&&rm(G,n)}if(!A){const G=Gs(f)||(()=>new f);n({provide:f,useFactory:G,deps:Mt},f),n({provide:tm,useValue:f,multi:!0},f),n({provide:ud,useValue:()=>It(f),multi:!0},f)}const R=g.providers;if(null!=R&&!A){const G=t;ro(R,re=>{n(re,G)})}}}return f!==t&&void 0!==t.providers}function ro(t,n){for(let s of t)Rt(s)&&(s=s.\u0275providers),Array.isArray(s)?ro(s,n):n(s)}const Ls=ee({provide:String,useValue:ee});function Ha(t){return null!==t&&"object"==typeof t&&Ls in t}function lu(t){return"function"==typeof t}const Ef=new gn("Set Injector scope."),bf={},im={};let sm;function jp(){return void 0===sm&&(sm=new Up),sm}class bi{}class Cf extends bi{get destroyed(){return this._destroyed}constructor(n,s,u,f){super(),this.parent=s,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lm(n,C=>this.processProvider(C)),this.records.set(em,dd(void 0,this)),f.has("environment")&&this.records.set(bi,dd(void 0,this));const g=this.records.get(Ef);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(tm.multi,Mt,In.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=fe(this),u=$r(void 0);try{return n()}finally{fe(s),$r(u)}}get(n,s=jn,u=In.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(On))return n[On](this);u=Dn(u);const g=fe(this),C=$r(void 0);try{if(!(u&In.SkipSelf)){let R=this.records.get(n);if(void 0===R){const G=function ev(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(n)&&$n(n);R=G&&this.injectableDefInScope(G)?dd(om(n),bf):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(u&In.Self?jp():this.parent).get(n,s=u&In.Optional&&s===jn?null:s)}catch(A){if("NullInjectorError"===A.name){if((A[Tr]=A[Tr]||[]).unshift(_e(n)),g)throw A;return function dr(t,n,s,u){const f=t[Tr];throw n[M]&&f.unshift(n[M]),t.message=function ws(t,n,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=_e(n);if(Array.isArray(n))f=n.map(_e).join(" -> ");else if("object"==typeof n){let g=[];for(let C in n)if(n.hasOwnProperty(C)){let A=n[C];g.push(C+":"+("string"==typeof A?JSON.stringify(A):_e(A)))}f=`{${g.join(", ")}}`}return`${s}${u?"("+u+")":""}[${f}]: ${t.replace(Et,"\n  ")}`}("\n"+t.message,f,s,u),t.ngTokenPath=f,t[Tr]=null,t}(A,n,"R3InjectorError",this.source)}throw A}finally{$r(C),fe(g)}}resolveInjectorInitializers(){const n=fe(this),s=$r(void 0);try{const f=this.get(ud.multi,Mt,In.Self);for(const g of f)g()}finally{fe(n),$r(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(_e(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(n){let s=lu(n=At(n))?n:At(n&&n.provide);const u=function M_(t){return Ha(t)?dd(void 0,t.useValue):dd(am(t),bf)}(n);if(lu(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=dd(void 0,bf,!0),f.factory=()=>gr(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===bf&&(s.value=im,s.value=s.factory()),"object"==typeof s.value&&s.value&&function R_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=At(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function om(t){const n=$n(t),s=null!==n?n.factory:Gs(t);if(null!==s)return s;if(t instanceof gn)throw new Ce(204,!1);if(t instanceof Function)return function gs(t){const n=t.length;if(n>0)throw function Bc(t,n){const s=[];for(let u=0;u<t;u++)s.push(n);return s}(n,"?"),new Ce(204,!1);const s=function Lt(t){return t&&(t[un]||t[tr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ce(204,!1)}function am(t,n,s){let u;if(lu(t)){const f=At(t);return Gs(f)||om(f)}if(Ha(t))u=()=>At(t.useValue);else if(function P_(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...gr(t.deps||[]));else if(function x_(t){return!(!t||!t.useExisting)}(t))u=()=>It(At(t.useExisting));else{const f=At(t&&(t.useClass||t.provide));if(!function cm(t){return!!t.deps}(t))return Gs(f)||om(f);u=()=>new f(...gr(t.deps))}return u}function dd(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function lm(t,n){for(const s of t)Array.isArray(s)?lm(s,n):s&&Rt(s)?lm(s.\u0275providers,n):n(s)}const O_=new gn("AppId",{providedIn:"root",factory:()=>tv}),tv="ng",nv=new gn("Platform Initializer"),Tf=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),If=new gn("AnimationModuleType"),rv=new gn("CSP nonce",{providedIn:"root",factory:()=>mh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $p=(t,n,s)=>null;function wl(t,n,s=!1){return $p(t,n,s)}class L_{}class Gp{}class m0{resolveComponentFactory(n){throw function xf(t){const n=Error(`No component factory found for ${_e(t)}.`);return n.ngComponent=t,n}(n)}}let fu=(()=>{class t{static{this.NULL=new m0}}return t})();function jE(){return Pf(Ps(),Wt())}function Pf(t,n){return new Ih(to(t,n))}let Ih=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=jE}}return t})();function _0(t){return t instanceof Ih?t.nativeElement:t}class Wp{}let y0=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function v0(){const t=Wt(),s=Ei(Ps().index,t);return(Di(s)?s:t)[qn]}()}}return t})(),gm=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>null})}}return t})();class iv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const sv=new iv("16.2.12"),yd={};function b0(t,n=null,s=null,u){const f=av(t,n,s,u);return f.resolveInjectorInitializers(),f}function av(t,n=null,s=null,u,f=new Set){const g=[s||Mt,ui(t)];return u=u||("object"==typeof t?void 0:_e(t)),new Cf(g,n||jp(),u||null,f)}let Dl=(()=>{class t{static{this.THROW_IF_NOT_FOUND=jn}static{this.NULL=new Up}static create(s,u){if(Array.isArray(s))return b0({name:""},u,s,"");{const f=s.name??"";return b0({name:f},s.parent,s.providers,f)}}static{this.\u0275prov=sn({token:t,providedIn:"any",factory:()=>It(em)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function pu(t){return t.ngOriginalError}class mc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&pu(n);for(;s&&pu(s);)s=pu(s);return s||null}}function xl(t){return n=>{setTimeout(t,void 0,n)}}const Pl=class w0 extends c.B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let f=n,g=s||(()=>null),C=u;if(n&&"object"==typeof n){const R=n;f=R.next?.bind(R),g=R.error?.bind(R),C=R.complete?.bind(R)}this.__isAsync&&(g=xl(g),f&&(f=xl(f)),C&&(C=xl(C)));const A=super.subscribe({next:f,error:g,complete:C});return n instanceof ue.yU&&n.add(A),A}};function cv(...t){}class bo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pl(!1),this.onMicrotaskEmpty=new Pl(!1),this.onStable=new Pl(!1),this.onError=new Pl(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&s,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function A0(){const t="function"==typeof Kn.requestAnimationFrame;let n=Kn[t?"requestAnimationFrame":"setTimeout"],s=Kn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function x0(t){const n=()=>{!function S0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Kn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,H_(t),t.isCheckStableRunning=!0,$_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),H_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,f,g,C,A)=>{if(function M0(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(A))return s.invokeTask(f,g,C,A);try{return lv(t),s.invokeTask(f,g,C,A)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),wh(t)}},onInvoke:(s,u,f,g,C,A,R)=>{try{return lv(t),s.invoke(f,g,C,A,R)}finally{t.shouldCoalesceRunChangeDetection&&n(),wh(t)}},onHasTask:(s,u,f,g)=>{s.hasTask(f,g),u===f&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,H_(t),$_(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,u,f,g)=>(s.handleError(f,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new Ce(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,f){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+f,n,D0,cv,cv);try{return g.runTask(C,s,u)}finally{g.cancelTask(C)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const D0={};function $_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function H_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function lv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wh(t){t._nesting--,$_(t)}class G_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pl,this.onMicrotaskEmpty=new Pl,this.onStable=new Pl,this.onError=new Pl}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,f){return n.apply(s,u)}}const P0=new gn("",{providedIn:"root",factory:uv});function uv(){const t=dn(bo);let n=!0;const s=new i.c(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),u=new i.c(f=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const C=t.onUnstable.subscribe(()=>{bo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),C.unsubscribe()}});return(0,Ie.h)(s,u.pipe((0,be.u)()))}function dv(t){return t.ownerDocument.defaultView}function vd(t){return t instanceof Function?t():t}let gv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Qp(t){for(;t;){t[Bn]|=64;const n=lh(t);if(Ho(t)&&!n)return t;t=n}return null}const mv=new gn("",{providedIn:"root",factory:()=>!1});let ym=null;function vm(t,n){return t[n]??Em()}function W_(t,n){const s=Em();s.producerNode?.length&&(t[n]=ym,s.lView=t,ym=q_())}const K_={...Cc,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qp(t.lView)},lView:null};function q_(){return Object.create(K_)}function Em(){return ym??=q_(),ym}const jr={};function vv(t){Zp(Sr(),Wt(),br()+t,!1)}function Zp(t,n,s,u){if(!u)if(3==(3&n[Bn])){const g=t.preOrderCheckHooks;null!==g&&Vu(n,g,s)}else{const g=t.preOrderHooks;null!==g&&ha(n,g,0,s)}Fr(s)}function Ml(t,n=In.Default){const s=Wt();return null===s?It(t,n):zu(Ps(),s,At(t),n)}function d(){throw new Error("invalid")}function r(t,n,s,u,f,g,C,A,R,G,re){const Te=n.blueprint.slice();return Te[ci]=f,Te[Bn]=140|u,(null!==G||t&&2048&t[Bn])&&(Te[Bn]|=2048),Fo(Te),Te[Wn]=Te[Z]=t,Te[kr]=s,Te[vs]=C||t&&t[vs],Te[qn]=A||t&&t[qn],Te[rs]=R||t&&t[rs]||null,Te[wi]=g,Te[mt]=function Fg(){return hp++}(),Te[vn]=re,Te[Qt]=G,Te[Q]=2==n.type?t[Q]:Te,Te}function o(t,n,s,u,f){let g=t.data[n];if(null===g)g=function h(t,n,s,u,f){const g=cl(),C=nc(),R=t.data[n]=function nr(t,n,s,u,f,g){let C=n?n.injectorIndex:-1,A=0;return function Yo(){return null!==Hn.skipHydrationRootTNode}()&&(A|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:C,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,s,n,u,f);return null===t.firstChild&&(t.firstChild=R),null!==g&&(C?null==g.child&&null!==R.parent&&(g.child=R):null===g.next&&(g.next=R,R.prev=g)),R}(t,n,s,u,f),function Fd(){return Hn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=u,g.attrs=f;const C=function tc(){const t=Hn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===C?-1:C.injectorIndex}return zt(g,!0),g}function _(t,n,s,u){if(0===s)return-1;const f=n.length;for(let g=0;g<s;g++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function b(t,n,s,u,f){const g=vm(n,Zn),C=br(),A=2&u;try{Fr(-1),A&&n.length>xn&&Zp(t,n,xn,!1),os(A?2:0,f);const G=A?g:null,re=Ia(G);try{null!==G&&(G.dirty=!1),s(u,f)}finally{Ro(G,re)}}finally{A&&null===n[Zn]&&W_(n,Zn),Fr(C),os(A?3:1,f)}}function x(t,n,s){if(go(n)){const u=qi(null);try{const g=n.directiveEnd;for(let C=n.directiveStart;C<g;C++){const A=t.data[C];A.contentQueries&&A.contentQueries(1,s[C],C)}}finally{qi(u)}}}function F(t,n,s){al()&&(function V0(t,n,s,u){const f=s.directiveStart,g=s.directiveEnd;is(s)&&function ng(t,n,s){const u=to(n,t),f=ie(s);let C=16;s.signals?C=4096:s.onPush&&(C=64);const A=Nf(t,r(t,f,null,C,u,n,null,t[vs].rendererFactory.createRenderer(u,s),null,null,null));t[n.index]=A}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||ul(s,n),Uo(u,n);const C=s.initialInputs;for(let A=f;A<g;A++){const R=t.data[A],G=kc(n,t,A,s);Uo(G,n),null!==C&&B0(0,A-f,G,R,0,C),qs(R)&&(Ei(s.index,n)[kr]=kc(n,t,A,s))}}(t,n,s,to(s,n)),64==(64&s.flags)&&Of(t,n,s))}function K(t,n,s=to){const u=n.localNames;if(null!==u){let f=n.index+1;for(let g=0;g<u.length;g+=2){const C=u[g+1],A=-1===C?s(n,t):t[C];t[f++]=A}}}function ie(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ve(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ve(t,n,s,u,f,g,C,A,R,G,re){const Te=xn+u,Ye=Te+f,ct=function $e(t,n){const s=[];for(let u=0;u<n;u++)s.push(u<t?null:jr);return s}(Te,Ye),Ft="function"==typeof G?G():G;return ct[tn]={type:t,blueprint:ct,template:s,queries:null,viewQuery:A,declTNode:n,data:ct.slice().fill(null,Te),bindingStartIndex:Te,expandoStartIndex:Ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Ft,incompleteFirstPass:!1,ssrId:re}}let hn=t=>null;function Nr(t,n,s,u){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const g=t[f];null===u?Ni(s,n,f,g):u.hasOwnProperty(f)&&Ni(s,n,u[f],g)}return s}function Ni(t,n,s,u){t.hasOwnProperty(s)?t[s].push(n,u):t[s]=[n,u]}function Fe(t,n,s,u,f,g,C,A){const R=to(n,s);let re,G=n.inputs;!A&&null!=G&&(re=G[u])?(Tm(t,s,re,u,f),is(n)&&function Ke(t,n){const s=Ei(n,t);16&s[Bn]||(s[Bn]|=64)}(s,n.index)):3&n.type&&(u=function ot(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=C?C(f,n.value||"",u):f,g.setProperty(R,u,f))}function bt(t,n,s,u){if(al()){const f=null===u?null:{"":-1},g=function Y_(t,n){const s=t.directiveRegistry;let u=null,f=null;if(s)for(let g=0;g<s.length;g++){const C=s[g];if(ys(n,C.selectors,!1))if(u||(u=[]),qs(C))if(null!==C.findHostDirectiveDefs){const A=[];f=f||new Map,C.findHostDirectiveDefs(C,A,f),u.unshift(...A,C),bm(t,n,A.length)}else u.unshift(C),bm(t,n,0);else f=f||new Map,C.findHostDirectiveDefs?.(C,u,f),u.push(C)}return null===u?null:[u,f]}(t,s);let C,A;null===g?C=A=null:[C,A]=g,null!==C&&ze(t,n,s,C,f,A),f&&function U0(t,n,s){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const g=s[n[f+1]];if(null==g)throw new Ce(-301,!1);u.push(n[f],g)}}}(s,u,f)}s.mergedAttrs=Qi(s.mergedAttrs,s.attrs)}function ze(t,n,s,u,f,g){for(let G=0;G<u.length;G++)dl(ul(s,n),t,u[G].type);!function ta(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,u.length);for(let G=0;G<u.length;G++){const re=u[G];re.providersResolver&&re.providersResolver(re)}let C=!1,A=!1,R=_(t,n,u.length,null);for(let G=0;G<u.length;G++){const re=u[G];s.mergedAttrs=Qi(s.mergedAttrs,re.hostAttrs),j0(t,s,n,R,re),Ed(R,re,f),null!==re.contentQueries&&(s.flags|=4),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=64);const Te=re.type.prototype;!C&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),C=!0),!A&&(Te.ngOnChanges||Te.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),A=!0),R++}!function si(t,n,s){const f=n.directiveEnd,g=t.data,C=n.attrs,A=[];let R=null,G=null;for(let re=n.directiveStart;re<f;re++){const Te=g[re],Ye=s?s.get(Te):null,Ft=Ye?Ye.outputs:null;R=Nr(Te.inputs,re,R,Ye?Ye.inputs:null),G=Nr(Te.outputs,re,G,Ft);const fn=null===R||null===C||Do(n)?null:rg(R,re,C);A.push(fn)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=8),R.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=A,n.inputs=R,n.outputs=G}(t,s,g)}function Of(t,n,s){const u=s.directiveStart,f=s.directiveEnd,g=s.index,C=function Ld(){return Hn.lFrame.currentDirectiveIndex}();try{Fr(g);for(let A=u;A<f;A++){const R=t.data[A],G=n[A];Fu(A),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&tg(R,G)}}finally{Fr(-1),Fu(C)}}function tg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function bm(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function Ed(t,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=t;qs(n)&&(s[""]=t)}}function j0(t,n,s,u,f){t.data[u]=f;const g=f.factory||(f.factory=Gs(f.type)),C=new no(g,qs(f),Ml);t.blueprint[u]=C,s[u]=C,function mu(t,n,s,u,f){const g=f.hostBindings;if(g){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const A=~n.index;(function eg(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(s,u,g)}}(t,n,u,_(t,s,f.hostVars,jr),f)}function Rl(t,n,s,u,f,g){const C=to(t,n);!function Ah(t,n,s,u,f,g,C){if(null==g)t.removeAttribute(n,f,s);else{const A=null==C?qe(g):C(g,u||"",f);t.setAttribute(n,f,A,s)}}(n[qn],C,g,t.value,s,u,f)}function B0(t,n,s,u,f,g){const C=g[n];if(null!==C)for(let A=0;A<C.length;)Ev(u,s,C[A++],C[A++],C[A++])}function Ev(t,n,s,u,f){const g=qi(null);try{const C=t.inputTransforms;null!==C&&C.hasOwnProperty(u)&&(f=C[u].call(n,f)),null!==t.setInput?t.setInput(n,f,s,u):n[u]=f}finally{qi(g)}}function rg(t,n,s){let u=null,f=0;for(;f<s.length;){const g=s[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===u&&(u=[]);const C=t[g];for(let A=0;A<C.length;A+=2)if(C[A]===n){u.push(g,C[A+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function ig(t,n,s,u){return[t,!0,!1,n,null,0,u,s,null,null,null]}function Cm(t,n){const s=t.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const g=s[u+1];if(-1!==g){const C=t.data[g];D(s[u]),C.contentQueries(2,n[g],g)}}}function Nf(t,n){return t[ds]?t[Ds][Xr]=n:t[ds]=n,t[Ds]=n,n}function sg(t,n,s){D(0);const u=qi(null);try{n(t,s)}finally{qi(u)}}function X_(t){return t[ns]||(t[ns]=[])}function Q_(t){return t.cleanup||(t.cleanup=[])}function J_(t,n){const s=t[rs],u=s?s.get(mc,null):null;u&&u.handleError(n)}function Tm(t,n,s,u,f){for(let g=0;g<s.length;){const C=s[g++],A=s[g++];Ev(t.data[C],n[C],u,A,f)}}function Xc(t,n,s){const u=Ac(n,t);!function vp(t,n,s){t.setValue(n,s)}(t[qn],u,s)}function Tv(t,n){const s=Ei(n,t),u=s[tn];!function $0(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(u,s);const f=s[ci];null!==f&&null===s[vn]&&(s[vn]=wl(f,s[rs])),og(u,s,s[kr])}function og(t,n,s){N(n);try{const u=t.viewQuery;null!==u&&sg(1,u,s);const f=t.template;null!==f&&b(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cm(t,n),t.staticViewQueries&&sg(2,t.viewQuery,s);const g=t.components;null!==g&&function Z_(t,n){for(let s=0;s<n.length;s++)Tv(t,n[s])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[Bn]&=-5,dt()}}let Im=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,u,f){const g=typeof Zone>"u"?null:Zone.current,C=function kt(t,n,s){const u=Object.create(Wr);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=n;const f=C=>{u.cleanupFn=C};return u.ref={notify:()=>hs(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Qa(u))return;u.hasRun=!0;const C=Ia(u);try{u.cleanupFn(),u.cleanupFn=Un,u.fn(f)}finally{Ro(u,C)}},cleanup:()=>u.cleanupFn()},u.ref}(s,G=>{this.all.has(G)&&this.queue.set(G,g)},f);let A;this.all.add(C),C.notify();const R=()=>{C.cleanup(),A?.(),this.all.delete(C),this.queue.delete(C)};return A=u?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=sn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Co(t,n,s){let u=s?t.styles:null,f=s?t.classes:null,g=0;if(null!==n)for(let C=0;C<n.length;C++){const A=n[C];"number"==typeof A?g=A:1==g?f=lt(f,A):2==g&&(u=lt(u,A+": "+n[++C]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=f:t.classesWithoutHost=f}function bd(t,n,s,u,f=!1){for(;null!==s;){const g=n[s.index];null!==g&&u.push(Er(g)),Rr(g)&&ey(g,u);const C=s.type;if(8&C)bd(t,n,s.child,u);else if(32&C){const A=nu(s,n);let R;for(;R=A();)u.push(R)}else if(16&C){const A=zg(n,s);if(Array.isArray(A))u.push(...A);else{const R=lh(n[Q]);bd(R[tn],R,A,u,!0)}}s=f?s.projectionNext:s.next}return u}function ey(t,n){for(let s=ar;s<t.length;s++){const u=t[s],f=u[tn].firstChild;null!==f&&bd(u[tn],u,f,n)}t[zr]!==t[ci]&&n.push(t[zr])}function ag(t,n,s,u=!0){const f=n[vs],g=f.rendererFactory,C=f.afterRenderEventManager;g.begin?.(),C?.begin();try{ty(t,n,t.template,s)}catch(R){throw u&&J_(n,R),R}finally{g.end?.(),f.effectManager?.flush(),C?.end()}}function ty(t,n,s,u){const f=n[Bn];if(256!=(256&f)){n[vs].effectManager?.flush(),N(n);try{Fo(n),function ua(t){return Hn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&b(t,n,s,2,u);const C=3==(3&f);if(C){const G=t.preOrderCheckHooks;null!==G&&Vu(n,G,null)}else{const G=t.preOrderHooks;null!==G&&ha(n,G,0,null),Kl(n,0)}if(function ry(t){for(let n=i_(t);null!==n;n=Ug(n)){if(!n[Pr])continue;const s=n[Ki];for(let u=0;u<s.length;u++){Sc(s[u])}}}(n),ny(n,2),null!==t.contentQueries&&Cm(t,n),C){const G=t.contentCheckHooks;null!==G&&Vu(n,G)}else{const G=t.contentHooks;null!==G&&ha(n,G,1),Kl(n,1)}!function e(t,n){const s=t.hostBindingOpCodes;if(null===s)return;const u=vm(n,Dr);try{for(let f=0;f<s.length;f++){const g=s[f];if(g<0)Fr(~g);else{const C=g,A=s[++f],R=s[++f];$h(A,C),u.dirty=!1;const G=Ia(u);try{R(2,n[C])}finally{Ro(u,G)}}}}finally{null===n[Dr]&&W_(n,Dr),Fr(-1)}}(t,n);const A=t.components;null!==A&&wm(n,A,0);const R=t.viewQuery;if(null!==R&&sg(2,R,u),C){const G=t.viewCheckHooks;null!==G&&Vu(n,G)}else{const G=t.viewHooks;null!==G&&ha(n,G,2),Kl(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Bn]&=-73,$l(n)}finally{dt()}}}function ny(t,n){for(let s=i_(t);null!==s;s=Ug(s))for(let u=ar;u<s.length;u++)Iv(s[u],n)}function H0(t,n,s){Iv(Ei(n,t),s)}function Iv(t,n){if(!function la(t){return 128==(128&t[Bn])}(t))return;const s=t[tn],u=t[Bn];if(80&u&&0===n||1024&u||2===n)ty(s,t,s.template,t[kr]);else if(t[$i]>0){ny(t,1);const f=s.components;null!==f&&wm(t,f,1)}}function wm(t,n,s){for(let u=0;u<n.length;u++)H0(t,n[u],s)}class kf{get rootNodes(){const n=this._lView,s=n[tn];return bd(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kr]}set context(n){this._lView[kr]=n}get destroyed(){return 256==(256&this._lView[Bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Wn];if(Rr(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(uf(n,u),jc(s,u))}this._attachedToViewContainer=!1}bp(this._lView[tn],this._lView)}onDestroy(n){!function vo(t,n){if(256==(256&t[Bn]))throw new Ce(911,!1);null===t[Sn]&&(t[Sn]=[]),t[Sn].push(n)}(this._lView,n)}markForCheck(){Qp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bn]&=-129}reattach(){this._lView[Bn]|=128}detectChanges(){ag(this._lView[tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s_(t,n){hf(t,n,n[qn],2,null,null)}(this._lView[tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=n}}class wv extends kf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ag(n[tn],n,n[kr],!1)}checkNoChanges(){}get context(){return null}}class Ff extends fu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Ar(n);return new Dh(s,this.ngModule)}}function Am(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class Cd{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Dn(u);const f=this.injector.get(n,yd,u);return f!==yd||s===yd?f:this.parentInjector.get(n,s,u)}}class Dh extends Gp{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Am(n.inputs);if(null!==s)for(const f of u)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return u}get outputs(){return Am(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function hi(t){return t.map(So).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,f){let g=(f=f||this.ngModule)instanceof bi?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new Cd(n,g):n,A=C.get(Wp,null);if(null===A)throw new Ce(407,!1);const Te={rendererFactory:A,sanitizer:C.get(gm,null),effectManager:C.get(Im,null),afterRenderEventManager:C.get(gv,null)},Ye=A.createRenderer(null,this.componentDef),ct=this.componentDef.selectors[0][0]||"div",Ft=u?function _t(t,n,s,u){const g=u.get(mv,!1)||s===xi.ShadowDom,C=t.selectRootElement(n,g);return function $t(t){hn(t)}(C),C}(Ye,u,this.componentDef.encapsulation,C):cf(Ye,ct,function iy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ct)),lr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Zt=null;null!==Ft&&(Zt=wl(Ft,C,!0));const Br=ve(0,null,null,1,0,null,null,null,null,null,null),Ci=r(null,Br,null,lr,null,null,Te,Ye,C,null,Zt);let ms,rl;N(Ci);try{const Xf=this.componentDef;let ky,nC=null;Xf.findHostDirectiveDefs?(ky=[],nC=new Map,Xf.findHostDirectiveDefs(Xf,ky,nC),ky.push(Xf)):ky=[Xf];const n1=function sy(t,n){const s=t[tn],u=xn;return t[u]=n,o(s,u,2,"#host",null)}(Ci,Ft),r1=function Td(t,n,s,u,f,g,C){const A=f[tn];!function Dm(t,n,s,u){for(const f of t)n.mergedAttrs=Qi(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Co(n,n.mergedAttrs,!0),null!==s&&Dp(u,s,n))}(u,t,n,C);let R=null;null!==n&&(R=wl(n,f[rs]));const G=g.rendererFactory.createRenderer(n,s);let re=16;s.signals?re=4096:s.onPush&&(re=64);const Te=r(f,ie(s),null,re,f[t.index],t,g,G,null,null,R);return A.firstCreatePass&&bm(A,t,u.length-1),Nf(f,Te),f[t.index]=Te}(n1,Ft,Xf,ky,Ci,Te,Ye);rl=Mu(Br,xn),Ft&&function Av(t,n,s,u){if(u)Hr(t,s,["ng-version",sv.full]);else{const{attrs:f,classes:g}=function Fa(t){const n=[],s=[];let u=1,f=2;for(;u<t.length;){let g=t[u];if("string"==typeof g)2===f?""!==g&&n.push(g,t[++u]):8===f&&s.push(g);else{if(!oi(f))break;f=g}u++}return{attrs:n,classes:s}}(n.selectors[0]);f&&Hr(t,s,f),g&&g.length>0&&Ap(t,s,g.join(" "))}}(Ye,Xf,Ft,u),void 0!==s&&function Id(t,n,s){const u=t.projection=[];for(let f=0;f<n.length;f++){const g=s[f];u.push(null!=g?Array.from(g):null)}}(rl,this.ngContentSelectors,s),ms=function ra(t,n,s,u,f,g){const C=Ps(),A=f[tn],R=to(C,f);ze(A,f,C,s,null,u);for(let re=0;re<s.length;re++)Uo(kc(f,A,C.directiveStart+re,C),f);Of(A,f,C),R&&Uo(R,f);const G=kc(f,A,C.directiveStart+C.componentOffset,C);if(t[kr]=f[kr]=G,null!==g)for(const re of g)re(G,n);return x(A,C,t),G}(r1,Xf,ky,nC,Ci,[Lf]),og(Br,Ci,null)}finally{dt()}return new lg(this.componentType,ms,Pf(rl,Ci),Ci,rl)}}class lg extends L_{constructor(n,s,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new wv(f),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const g=this._rootLView;Tm(g[tn],g,f,n,s),this.previousInputValues.set(n,s),Qp(Ei(this._tNode.index,g))}}get injector(){return new fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Lf(){const t=Ps();ja(Wt()[tn],t)}function Sm(t){let n=function oy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;n;){let f;if(qs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ce(903,!1);f=n.\u0275dir}if(f){if(s){u.push(f);const C=t;C.inputs=ug(t.inputs),C.inputTransforms=ug(t.inputTransforms),C.declaredInputs=ug(t.declaredInputs),C.outputs=ug(t.outputs);const A=f.hostBindings;A&&Sv(t,A);const R=f.viewQuery,G=f.contentQueries;if(R&&Dv(t,R),G&&xm(t,G),oe(t.inputs,f.inputs),oe(t.declaredInputs,f.declaredInputs),oe(t.outputs,f.outputs),null!==f.inputTransforms&&(null===C.inputTransforms&&(C.inputTransforms={}),oe(C.inputTransforms,f.inputTransforms)),qs(f)&&f.data.animation){const re=t.data;re.animation=(re.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let C=0;C<g.length;C++){const A=g[C];A&&A.ngInherit&&A(t),A===Sm&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Sh(t){let n=0,s=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=Qi(f.hostAttrs,s=Qi(s,f.hostAttrs))}}(u)}function ug(t){return t===Ne?{}:t===Mt?[]:t}function Dv(t,n){const s=t.viewQuery;t.viewQuery=s?(u,f)=>{n(u,f),s(u,f)}:n}function xm(t,n){const s=t.contentQueries;t.contentQueries=s?(u,f,g)=>{n(u,f,g),s(u,f,g)}:n}function Sv(t,n){const s=t.hostBindings;t.hostBindings=s?(u,f)=>{n(u,f),s(u,f)}:n}function Pv(t){const n=t.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];Array.isArray(f)&&f[2]&&(s[u]=f[2])}t.inputTransforms=s}function dg(t){return!!_u(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _u(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qc(t,n,s){return t[n]=s}function ki(t,n){return t[n]}function jo(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Ol(t,n,s,u){const f=jo(t,n,s);return jo(t,n+1,u)||f}function xh(t,n,s,u,f){const g=Ol(t,n,s,u);return jo(t,n+2,f)||g}function ma(t,n,s,u,f,g){const C=Ol(t,n,s,u);return Ol(t,n+2,f,g)||C}function fg(t,n,s,u){const f=Wt();return jo(f,Xn(),n)&&(Sr(),Rl(_i(),f,t,n,s,u)),fg}function Ph(t,n,s,u){return jo(t,Xn(),s)?n+qe(s)+u:jr}function Mh(t,n,s,u,f,g){const A=Ol(t,function Gi(){return Hn.lFrame.bindingIndex}(),s,f);return Qs(2),A?n+qe(s)+u+qe(f)+g:jr}function Lh(t,n,s,u,f,g,C,A){const R=Wt(),G=Sr(),re=t+xn,Te=G.firstCreatePass?function Um(t,n,s,u,f,g,C,A,R){const G=n.consts,re=o(n,t,4,C||null,as(G,A));bt(n,s,re,as(G,R)),ja(n,re);const Te=re.tView=ve(2,re,u,f,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,G,null);return null!==n.queries&&(n.queries.template(n,re),Te.queries=n.queries.embeddedTView(re)),re}(re,G,R,n,s,u,f,g,C):G.data[re];zt(Te,!1);const Ye=jm(G,R,Te,t);ic()&&ph(G,R,Ye,Te),Uo(Ye,R),Nf(R,R[re]=ig(Ye,R,Ye,Te)),Es(Te)&&F(G,R,Te),null!=C&&K(R,Te,A)}let jm=function Md(t,n,s,u){return da(!0),n[qn].createComment("")};function yg(t){return yo(function zl(){return Hn.lFrame.contextLView}(),xn+t)}function Vh(t,n,s){const u=Wt();return jo(u,Xn(),n)&&Fe(Sr(),_i(),u,t,n,u[qn],s,!1),Vh}function Ra(t,n,s,u,f){const C=f?"class":"style";Tm(t,s,n.inputs[C],C,u)}function Cu(t,n,s,u){const f=Wt(),g=Sr(),C=xn+t,A=f[qn],R=g.firstCreatePass?function zf(t,n,s,u,f,g){const C=n.consts,R=o(n,t,2,u,as(C,f));return bt(n,s,R,as(C,g)),null!==R.attrs&&Co(R,R.attrs,!1),null!==R.mergedAttrs&&Co(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(C,g,f,n,s,u):g.data[C],G=vg(g,f,R,A,n,t);f[C]=G;const re=Es(R);return zt(R,!0),Dp(A,G,R),32!=(32&R.flags)&&ic()&&ph(g,f,G,R),0===function wa(){return Hn.lFrame.elementDepthCount}()&&Uo(G,f),function Hl(){Hn.lFrame.elementDepthCount++}(),re&&(F(g,f,R),x(g,R,f)),null!==u&&K(f,R),Cu}function Rd(){let t=Ps();nc()?Gl():(t=t.parent,zt(t,!1));const n=t;(function Ru(t){return Hn.skipHydrationRootTNode===t})(n)&&function Nu(){Hn.skipHydrationRootTNode=null}(),function Bh(){Hn.lFrame.elementDepthCount--}();const s=Sr();return s.firstCreatePass&&(ja(s,t),go(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Gh(t){return 0!=(8&t.flags)}(n)&&Ra(s,n,Wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Bu(t){return 0!=(16&t.flags)}(n)&&Ra(s,n,Wt(),n.stylesWithoutHost,!1),Rd}function Tu(t,n,s,u){return Cu(t,n,s,u),Rd(),Tu}let vg=(t,n,s,u,f,g)=>(da(!0),cf(u,f,function Lu(){return Hn.lFrame.currentNamespace}()));function _a(t,n,s){const u=Wt(),f=Sr(),g=t+xn,C=f.firstCreatePass?function Fl(t,n,s,u,f){const g=n.consts,C=as(g,u),A=o(n,t,8,"ng-container",C);return null!==C&&Co(A,C,!0),bt(n,s,A,as(g,f)),null!==n.queries&&n.queries.elementStart(n,A),A}(g,f,u,n,s):f.data[g];zt(C,!0);const A=ya(f,u,C,t);return u[g]=A,ic()&&ph(f,u,A,C),Uo(A,u),Es(C)&&(F(f,u,C),x(f,C,u)),null!=s&&K(u,C),_a}function _c(){let t=Ps();const n=Sr();return nc()?Gl():(t=t.parent,zt(t,!1)),n.firstCreatePass&&(ja(n,t),go(t)&&n.queries.elementEnd(t)),_c}function el(t,n,s){return _a(t,n,s),_c(),el}let ya=(t,n,s,u)=>(da(!0),Ep(n[qn],""));function yc(){return Wt()}function E(t){return!!t&&"function"==typeof t.then}function U(t){return!!t&&"function"==typeof t.subscribe}function q(t,n,s,u){const f=Wt(),g=Sr(),C=Ps();return function xt(t,n,s,u,f,g,C){const A=Es(u),G=t.firstCreatePass&&Q_(t),re=n[kr],Te=X_(n);let Ye=!0;if(3&u.type||C){const fn=to(u,n),Fn=C?C(fn):fn,lr=Te.length,Zt=C?Ci=>C(Er(Ci[u.index])):u.index;let Br=null;if(!C&&A&&(Br=function ft(t,n,s,u){const f=t.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const C=f[g];if(C===s&&f[g+1]===u){const A=n[ns],R=f[g+2];return A.length>R?A[R]:null}"string"==typeof C&&(g+=2)}return null}(t,n,f,u.index)),null!==Br)(Br.__ngLastListenerFn__||Br).__ngNextListenerFn__=g,Br.__ngLastListenerFn__=g,Ye=!1;else{g=Ui(u,n,re,g,!1);const Ci=s.listen(Fn,f,g);Te.push(g,Ci),G&&G.push(f,Zt,lr,lr+1)}}else g=Ui(u,n,re,g,!1);const ct=u.outputs;let Ft;if(Ye&&null!==ct&&(Ft=ct[f])){const fn=Ft.length;if(fn)for(let Fn=0;Fn<fn;Fn+=2){const ms=n[Ft[Fn]][Ft[Fn+1]].subscribe(g),rl=Te.length;Te.push(g,ms),G&&G.push(f,u.index,rl,-(rl+1))}}}(g,f,f[qn],C,t,n,u),q}function mn(t,n,s,u){try{return os(6,n,s),!1!==s(u)}catch(f){return J_(t,f),!1}finally{os(7,n,s)}}function Ui(t,n,s,u,f){return function g(C){if(C===Function)return u;Qp(t.componentOffset>-1?Ei(t.index,n):n);let R=mn(n,s,u,C),G=g.__ngNextListenerFn__;for(;G;)R=mn(n,s,G,C)&&R,G=G.__ngNextListenerFn__;return f&&!1===R&&C.preventDefault(),R}}function To(t=1){return function Cn(t){return(Hn.lFrame.contextLView=function ir(t,n){for(;t>0;)n=n[Z],t--;return n}(t,Hn.lFrame.contextLView))[kr]}(t)}function Nd(t,n,s){return Oa(t,"",n,"",s),Nd}function Oa(t,n,s,u,f){const g=Wt(),C=Ph(g,n,s,u);return C!==jr&&Fe(Sr(),_i(),g,t,C,g[qn],f,!1),Oa}function yy(t,n){return t<<17|n<<2}function wu(t){return t>>17&32767}function Uv(t){return 2|t}function Wf(t){return(131068&t)>>2}function jv(t,n){return-131069&t|n<<2}function Bv(t){return 1|t}function Q0(t,n,s,u,f){const g=t[s+1],C=null===n;let A=u?wu(g):Wf(g),R=!1;for(;0!==A&&(!1===R||C);){const re=t[A+1];qE(t[A],n)&&(R=!0,t[A+1]=u?Bv(re):Uv(re)),A=u?wu(re):Wf(re)}R&&(t[s+1]=u?Uv(g):Bv(g))}function qE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&cc(t,n)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function J0(t){return t.substring(Io.key,Io.keyEnd)}function Z0(t,n){const s=Io.textEnd;return s===n?-1:(n=Io.keyEnd=function eE(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,Io.key=n,s),Tg(t,n,s))}function Tg(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function zv(t,n,s){return Ll(t,n,s,!1),zv}function Cy(t,n){return Ll(t,n,null,!0),Cy}function ZE(t){!function Vl(t,n,s,u){const f=Sr(),g=Qs(2);f.firstUpdatePass&&rE(f,null,g,u);const C=Wt();if(s!==jr&&jo(C,g,s)){const A=f.data[br()];if(wy(A,u)&&!nE(f,g)){let R=u?A.classesWithoutHost:A.stylesWithoutHost;null!==R&&(s=lt(R,s||"")),Ra(f,A,C,s,u)}else!function ib(t,n,s,u,f,g,C,A){f===jr&&(f=Mt);let R=0,G=0,re=0<f.length?f[0]:null,Te=0<g.length?g[0]:null;for(;null!==re||null!==Te;){const Ye=R<f.length?f[R+1]:void 0,ct=G<g.length?g[G+1]:void 0;let fn,Ft=null;re===Te?(R+=2,G+=2,Ye!==ct&&(Ft=Te,fn=ct)):null===Te||null!==re&&re<Te?(R+=2,Ft=re):(G+=2,Ft=Te,fn=ct),null!==Ft&&oE(t,n,s,u,Ft,fn,C,A),re=R<f.length?f[R]:null,Te=G<g.length?g[G]:null}}(f,A,C,C[qn],C[g+1],C[g+1]=function Wv(t,n,s){if(null==s||""===s)return Mt;const u=[],f=qc(s);if(Array.isArray(f))for(let g=0;g<f.length;g++)t(u,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&t(u,g,f[g]);else"string"==typeof f&&n(u,f);return u}(t,n,s),u,g)}}(rb,Au,t,!0)}function Au(t,n){for(let s=function Hv(t){return function zm(t){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=t.length}(t),Z0(t,Tg(t,0,Io.textEnd))}(n);s>=0;s=Z0(n,s))Jo(t,J0(n),!0)}function Ll(t,n,s,u){const f=Wt(),g=Sr(),C=Qs(2);g.firstUpdatePass&&rE(g,t,C,u),n!==jr&&jo(f,C,n)&&oE(g,g.data[br()],f,f[qn],t,f[C+1]=function Ul(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=_e(qc(t)))),t}(n,s),u,C)}function nE(t,n){return n>=t.expandoStartIndex}function rE(t,n,s,u){const f=t.data;if(null===f[s+1]){const g=f[br()],C=nE(t,s);wy(g,u)&&null===n&&!C&&(n=!1),n=function eb(t,n,s,u){const f=function Aa(t){const n=Hn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let g=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(s=Wm(s=Ty(null,t,n,s,u),n.attrs,u),g=null);else{const C=n.directiveStylingLast;if(-1===C||t[C]!==f)if(s=Ty(f,t,n,s,u),null===g){let R=function iE(t,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==Wf(u))return t[wu(u)]}(t,n,u);void 0!==R&&Array.isArray(R)&&(R=Ty(null,t,n,R[1],u),R=Wm(R,n.attrs,u),function tb(t,n,s,u){t[wu(s?n.classBindings:n.styleBindings)]=u}(t,n,u,R))}else g=function nb(t,n,s){let u;const f=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<f;g++)u=Wm(u,t[g].hostAttrs,s);return Wm(u,n.attrs,s)}(t,n,u)}return void 0!==g&&(u?n.residualClasses=g:n.residualStyles=g),s}(f,g,n,u),function $v(t,n,s,u,f,g){let C=g?n.classBindings:n.styleBindings,A=wu(C),R=Wf(C);t[u]=s;let re,G=!1;if(Array.isArray(s)?(re=s[1],(null===re||cc(s,re)>0)&&(G=!0)):re=s,f)if(0!==R){const Ye=wu(t[A+1]);t[u+1]=yy(Ye,A),0!==Ye&&(t[Ye+1]=jv(t[Ye+1],u)),t[A+1]=function WE(t,n){return 131071&t|n<<17}(t[A+1],u)}else t[u+1]=yy(A,0),0!==A&&(t[A+1]=jv(t[A+1],u)),A=u;else t[u+1]=yy(R,0),0===A?A=u:t[R+1]=jv(t[R+1],u),R=u;G&&(t[u+1]=Uv(t[u+1])),Q0(t,re,u,!0),Q0(t,re,u,!1),function vy(t,n,s,u,f){const g=f?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&cc(g,n)>=0&&(s[u+1]=Bv(s[u+1]))}(n,re,t,u,g),C=yy(A,R),g?n.classBindings=C:n.styleBindings=C}(f,g,n,s,C,u)}}function Ty(t,n,s,u,f){let g=null;const C=s.directiveEnd;let A=s.directiveStylingLast;for(-1===A?A=s.directiveStart:A++;A<C&&(g=n[A],u=Wm(u,g.hostAttrs,f),g!==t);)A++;return null!==t&&(s.directiveStylingLast=A),u}function Wm(t,n,s){const u=s?1:2;let f=-1;if(null!==n)for(let g=0;g<n.length;g++){const C=n[g];"number"==typeof C?f=C:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jo(t,C,!!s||n[++g]))}return void 0===t?null:t}function rb(t,n,s){const u=String(n);""!==u&&!u.includes(" ")&&Jo(t,u,s)}function oE(t,n,s,u,f,g,C,A){if(!(3&n.type))return;const R=t.data,G=R[A+1],re=function KE(t){return 1==(1&t)}(G)?Kv(R,n,s,f,Wf(G),C):void 0;Iy(re)||(Iy(g)||function Y0(t){return 2==(2&t)}(G)&&(g=Kv(R,null,s,f,A,C)),function f0(t,n,s,u,f){if(n)f?t.addClass(s,u):t.removeClass(s,u);else{let g=-1===u.indexOf("-")?void 0:ih.DashCase;null==f?t.removeStyle(s,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=ih.Important),t.setStyle(s,u,f,g))}}(u,C,Ac(br(),s),f,g))}function Kv(t,n,s,u,f,g){const C=null===n;let A;for(;f>0;){const R=t[f],G=Array.isArray(R),re=G?R[1]:R,Te=null===re;let Ye=s[f+1];Ye===jr&&(Ye=Te?Mt:void 0);let ct=Te?Kd(Ye,u):re===u?Ye:void 0;if(G&&!Iy(ct)&&(ct=Kd(R,u)),Iy(ct)&&(A=ct,C))return A;const Ft=t[f+1];f=C?wu(Ft):Wf(Ft)}if(null!==n){let R=g?n.residualClasses:n.residualStyles;null!=R&&(A=Kd(R,u))}return A}function Iy(t){return void 0!==t}function wy(t,n){return 0!=(t.flags&(n?8:16))}function Ig(t,n=""){const s=Wt(),u=Sr(),f=t+xn,g=u.firstCreatePass?o(u,f,1,n,null):u.data[f],C=Ay(u,s,g,n,t);s[f]=C,ic()&&ph(u,s,C,g),zt(g,!1)}let Ay=(t,n,s,u,f)=>(da(!0),function bl(t,n){return t.createText(n)}(n[qn],u));function Km(t){return Dy("",t,""),Km}function Dy(t,n,s){const u=Wt(),f=Ph(u,t,n,s);return f!==jr&&Xc(u,br(),f),Dy}function qv(t,n,s,u,f){const g=Wt(),C=Mh(g,t,n,s,u,f);return C!==jr&&Xc(g,br(),C),qv}const qf=void 0;var lC=["en",[["a","p"],["AM","PM"],qf],[["AM","PM"],qf,qf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qf,"{1} 'at' {0}",qf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cC(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Ym={};function n0(t){const n=function a(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=bE(n);if(s)return s;const u=n.split("-")[0];if(s=bE(u),s)return s;if("en"===u)return lC;throw new Ce(701,!1)}function _b(t){return n0(t)[l.PluralCase]}function bE(t){return t in Ym||(Ym[t]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[t]),Ym[t]}var l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(l||{});const L="en-US";let Vt=L;function Tb(t,n,s,u,f){if(t=At(t),Array.isArray(t))for(let g=0;g<t.length;g++)Tb(t[g],n,s,u,f);else{const g=Sr(),C=Wt(),A=Ps();let R=lu(t)?t:At(t.provide);const G=am(t),re=1048575&A.providerIndexes,Te=A.directiveStart,Ye=A.providerIndexes>>20;if(lu(t)||!t.multi){const ct=new no(G,f,Ml),Ft=wb(R,n,f?re:re+Ye,Te);-1===Ft?(dl(ul(A,C),g,R),Ib(g,t,n.length),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(ct),C.push(ct)):(s[Ft]=ct,C[Ft]=ct)}else{const ct=wb(R,n,re+Ye,Te),Ft=wb(R,n,re,re+Ye),Fn=Ft>=0&&s[Ft];if(f&&!Fn||!f&&!(ct>=0&&s[ct])){dl(ul(A,C),g,R);const lr=function NI(t,n,s,u,f){const g=new no(t,s,Ml);return g.multi=[],g.index=n,g.componentProviders=0,vC(g,f,u&&!s),g}(f?OI:RI,s.length,f,u,G);!f&&Fn&&(s[Ft].providerFactory=lr),Ib(g,t,n.length,0),n.push(R),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),s.push(lr),C.push(lr)}else Ib(g,t,ct>-1?ct:Ft,vC(s[f?Ft:ct],G,!f&&u));!f&&u&&Fn&&s[Ft].componentProviders++}}}function Ib(t,n,s,u){const f=lu(n),g=function Zy(t){return!!t.useClass}(n);if(f||g){const R=(g?At(n.useClass):n).prototype.ngOnDestroy;if(R){const G=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const re=G.indexOf(s);-1===re?G.push(s,[u,R]):G[re+1].push(u,R)}else G.push(s,R)}}}function vC(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function wb(t,n,s,u){for(let f=s;f<u;f++)if(n[f]===t)return f;return-1}function RI(t,n,s,u){return Ab(this.multi,[])}function OI(t,n,s,u){const f=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=kc(s,s[tn],this.providerFactory.index,u);g=A.slice(0,C),Ab(f,g);for(let R=C;R<A.length;R++)g.push(A[R])}else g=[],Ab(f,g);return g}function Ab(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function EC(t,n=[]){return s=>{s.providersResolver=(u,f)=>function MI(t,n,s){const u=Sr();if(u.firstCreatePass){const f=qs(t);Tb(s,u.data,u.blueprint,f,!0),Tb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class Qm{}class bC{}function kI(t,n){return new Db(t,n??null,[])}class Db extends Qm{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ff(this);const f=ai(n);this._bootstrapComponents=vd(f.bootstrap),this._r3Injector=av(n,s,[{provide:Qm,useValue:this},{provide:fu,useValue:this.componentFactoryResolver},...u],_e(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Sb extends bC{constructor(n){super(),this.moduleType=n}create(n){return new Db(this.moduleType,n,[])}}class CC extends Qm{constructor(n){super(),this.componentFactoryResolver=new Ff(this),this.instance=null;const s=new Cf([...n.providers,{provide:Qm,useValue:this},{provide:fu,useValue:this.componentFactoryResolver}],n.parent||jp(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function TC(t,n,s=null){return new CC({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let LI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=nm(0,s.type),f=u.length>0?TC([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=sn({token:t,providedIn:"environment",factory:()=>new t(It(bi))})}}return t})();function IC(t){t.getStandaloneInjector=n=>n.get(LI).getOrCreateStandaloneInjector(t)}function MC(t,n,s){const u=Xs()+t,f=Wt();return f[u]===jr?Qc(f,u,s?n.call(s):n()):ki(f,u)}function RC(t,n,s,u){return FC(Wt(),Xs(),t,n,s,u)}function OC(t,n,s,u,f){return LC(Wt(),Xs(),t,n,s,u,f)}function NC(t,n,s,u,f,g,C,A,R){const G=Xs()+t,re=Wt(),Te=ma(re,G,s,u,f,g);return Ol(re,G+4,C,A)||Te?Qc(re,G+6,R?n.call(R,s,u,f,g,C,A):n(s,u,f,g,C,A)):ki(re,G+6)}function kC(t,n,s,u,f,g,C,A,R,G){const re=Xs()+t,Te=Wt();let Ye=ma(Te,re,s,u,f,g);return xh(Te,re+4,C,A,R)||Ye?Qc(Te,re+7,G?n.call(G,s,u,f,g,C,A,R):n(s,u,f,g,C,A,R)):ki(Te,re+7)}function a0(t,n){const s=t[n];return s===jr?void 0:s}function FC(t,n,s,u,f,g){const C=n+s;return jo(t,C,f)?Qc(t,C+1,g?u.call(g,f):u(f)):a0(t,C+1)}function LC(t,n,s,u,f,g,C){const A=n+s;return Ol(t,A,f,g)?Qc(t,A+2,C?u.call(C,f,g):u(f,g)):a0(t,A+2)}function BC(t,n){const s=Sr();let u;const f=t+xn;s.firstCreatePass?(u=function QI(t,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(t===u.name)return u}}(n,s.pipeRegistry),s.data[f]=u,u.onDestroy&&(s.destroyHooks??=[]).push(f,u.onDestroy)):u=s.data[f];const g=u.factory||(u.factory=Gs(u.type)),A=$r(Ml);try{const R=sc(!1),G=g();return sc(R),function bu(t,n,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=u}(s,Wt(),f,G),G}finally{$r(A)}}function $C(t,n,s){const u=t+xn,f=Wt(),g=yo(f,u);return c0(f,u)?FC(f,Xs(),n,g.transform,s,g):g.transform(s)}function HC(t,n,s,u){const f=t+xn,g=Wt(),C=yo(g,f);return c0(g,f)?LC(g,Xs(),n,C.transform,s,u,C):C.transform(s,u)}function GC(t,n,s,u,f){const g=t+xn,C=Wt(),A=yo(C,g);return c0(C,g)?function VC(t,n,s,u,f,g,C,A){const R=n+s;return xh(t,R,f,g,C)?Qc(t,R+3,A?u.call(A,f,g,C):u(f,g,C)):a0(t,R+3)}(C,Xs(),n,A.transform,s,u,f,A):A.transform(s,u,f)}function c0(t,n){return t[tn].data[n].pure}function ew(){return this._results[Symbol.iterator]()}class Pb{get changes(){return this._changes||(this._changes=new Pl)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Pb.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ew)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const f=function Zs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Qh(t,n,s){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],g=n[u];if(s&&(f=s(f),g=s(g)),g!==f)return!1}return!0}(u._results,f,s))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nw(t,n,s,u=!0){const f=n[tn];if(function Uy(t,n,s,u){const f=ar+u,g=s.length;u>0&&(s[f-1][Xr]=n),u<g-ar?(n[Xr]=s[f],Gd(s,ar+u,n)):(s.push(n),n[Xr]=null),n[Wn]=s;const C=n[Ae];null!==C&&s!==C&&function o_(t,n){const s=t[Ki];n[Q]!==n[Wn][Wn][Q]&&(t[Pr]=!0),null===s?t[Ki]=[n]:s.push(n)}(C,n);const A=n[Qe];null!==A&&A.insertView(t),n[Bn]|=128}(f,n,t,s),u){const g=gh(s,t),C=n[qn],A=hh(C,t[zr]);null!==A&&function lf(t,n,s,u,f,g){u[ci]=f,u[wi]=n,hf(t,u,s,1,f,g)}(f,t[wi],C,n,A,g)}}let l0=(()=>{class t{static{this.__NG_ELEMENT_ID__=sw}}return t})();const rw=l0,iw=class extends rw{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,u){const f=function tw(t,n,s,u){const f=n.tView,A=r(t,f,s,4096&t[Bn]?4096:16,null,n,null,null,null,u?.injector??null,u?.hydrationInfo??null);A[Ae]=t[n.index];const G=t[Qe];return null!==G&&(A[Qe]=G.createEmbeddedView(f)),og(f,A,s),A}(this._declarationLView,this._declarationTContainer,n,{injector:s,hydrationInfo:u});return new kf(f)}};function sw(){return xE(Ps(),Wt())}function xE(t,n){return 4&t.type?new iw(n,t,Pf(t,n)):null}let ME=(()=>{class t{static{this.__NG_ELEMENT_ID__=dw}}return t})();function dw(){return QC(Ps(),Wt())}const hw=ME,YC=class extends hw{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return Pf(this._hostTNode,this._hostLView)}get injector(){return new fs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nc(this._hostTNode,this._hostLView);if($u(n)){const s=Ba(n,this._hostLView),u=Oc(n);return new fs(s[tn].data[u+8],s)}return new fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=XC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(n,s,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const A=n.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(A,f,false),A}createComponent(n,s,u,f,g){const C=n&&!function ac(t){return"function"==typeof t}(n);let A;if(C)A=s;else{const fn=s||{};A=fn.index,u=fn.injector,f=fn.projectableNodes,g=fn.environmentInjector||fn.ngModuleRef}const R=C?n:new Dh(Ar(n)),G=u||this.parentInjector;if(!g&&null==R.ngModule){const Fn=(C?G:this.parentInjector).get(bi,null);Fn&&(g=Fn)}Ar(R.componentType??{});const ct=R.create(G,f,null,g);return this.insertImpl(ct.hostView,A,false),ct}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const f=n._lView;if(function qo(t){return Rr(t[Wn])}(f)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const G=f[Wn],re=new YC(G,G[wi],G[Wn]);re.detach(re.indexOf(n))}}const C=this._adjustIndex(s),A=this._lContainer;return nw(A,f,C,!u),n.attachToViewContainerRef(),Gd(Mb(A),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=XC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=uf(this._lContainer,s);u&&(jc(Mb(this._lContainer),s),bp(u[tn],u))}detach(n){const s=this._adjustIndex(n,-1),u=uf(this._lContainer,s);return u&&null!=jc(Mb(this._lContainer),s)?new kf(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function XC(t){return t[8]}function Mb(t){return t[8]||(t[8]=[])}function QC(t,n){let s;const u=n[t.index];return Rr(u)?s=u:(s=ig(u,n,null,t),n[t.index]=s,Nf(n,s)),JC(s,n,t,u),new YC(s,t,n)}let JC=function ZC(t,n,s,u){if(t[zr])return;let f;f=8&s.type?Er(u):function fw(t,n){const s=t[qn],u=s.createComment(""),f=to(n,t);return id(s,hh(s,f),u,function $g(t,n){return t.nextSibling(n)}(s,f),!1),u}(n,s),t[zr]=f};class Rb{constructor(n){this.queryList=n,this.matches=null}clone(){return new Rb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ob{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let g=0;g<u;g++){const C=s.getByIndex(g);f.push(this.queries[C.indexInDeclarationView].clone())}return new Ob(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==cT(n,s).matches&&this.queries[s].setDirty()}}class eT{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Nb{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const f=null!==s?s.length:0,g=this.getByIndex(u).embeddedTView(n,f);g&&(g.indexInDeclarationView=u,null!==s?s.push(g):s=[g])}return null!==s?new Nb(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class kb{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new kb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(n,s,mw(s,g)),this.matchTNodeWithReadOption(n,s,xa(s,n,g,!1,!1))}else u===l0?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,xa(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Ih||f===ME||f===l0&&4&s.type)this.addMatch(s.index,-2);else{const g=xa(s,n,f,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function mw(t,n){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function yw(t,n,s,u){return-1===s?function _w(t,n){return 11&t.type?Pf(t,n):4&t.type?xE(t,n):null}(n,t):-2===s?function vw(t,n,s){return s===Ih?Pf(n,t):s===l0?xE(n,t):s===ME?QC(n,t):void 0}(t,n,u):kc(t,t[tn],s,n)}function tT(t,n,s,u){const f=n[Qe].queries[u];if(null===f.matches){const g=t.data,C=s.matches,A=[];for(let R=0;R<C.length;R+=2){const G=C[R];A.push(G<0?null:yw(n,g[G],C[R+1],s.metadata.read))}f.matches=A}return f.matches}function Fb(t,n,s,u){const f=t.queries.getByIndex(s),g=f.matches;if(null!==g){const C=tT(t,n,f,s);for(let A=0;A<g.length;A+=2){const R=g[A];if(R>0)u.push(C[A/2]);else{const G=g[A+1],re=n[-R];for(let Te=ar;Te<re.length;Te++){const Ye=re[Te];Ye[Ae]===Ye[Wn]&&Fb(Ye[tn],Ye,G,u)}if(null!==re[Ki]){const Te=re[Ki];for(let Ye=0;Ye<Te.length;Ye++){const ct=Te[Ye];Fb(ct[tn],ct,G,u)}}}}}return u}function nT(t){const n=Wt(),s=Sr(),u=Pc();D(u+1);const f=cT(s,u);if(t.dirty&&function Dc(t){return 4==(4&t[Bn])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const g=f.crossesNgTemplate?Fb(s,n,u,[]):tT(s,n,f,u);t.reset(g,_0),t.notifyOnChanges()}return!0}return!1}function rT(t,n,s){const u=Sr();u.firstCreatePass&&(aT(u,new eT(t,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),oT(u,Wt(),n)}function iT(t,n,s,u){const f=Sr();if(f.firstCreatePass){const g=Ps();aT(f,new eT(n,s,u),g.index),function bw(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}oT(f,Wt(),s)}function sT(){return function Ew(t,n){return t[Qe].queries[n].queryList}(Wt(),Pc())}function oT(t,n,s){const u=new Pb(4==(4&s));(function cr(t,n,s,u){const f=X_(n);f.push(s),t.firstCreatePass&&Q_(t).push(u,f.length-1)})(t,n,u,u.destroy),null===n[Qe]&&(n[Qe]=new Ob),n[Qe].queries.push(new Rb(u))}function aT(t,n,s){null===t.queries&&(t.queries=new Nb),t.queries.track(new kb(n,s))}function cT(t,n){return t.queries.getByIndex(n)}function lT(t,n){return xE(t,n)}function Lb(t){return!!ai(t)}const AT=new gn("Application Initializer");let $b=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=dn(AT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const g=f();if(E(g))s.push(g);else if(U(g)){const C=new Promise((A,R)=>{g.subscribe({complete:A,error:R})});s.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(f=>{this.reject(f)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const OE=new gn("LocaleId",{providedIn:"root",factory:()=>dn(OE,In.Optional|In.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||L}()}),Hw=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ST=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Ww=(()=>{class t{compileModuleSync(s){return new Sb(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),g=vd(ai(s).declarations).reduce((C,A)=>{const R=Ar(A);return R&&C.push(new Dh(R)),C},[]);return new zw(u,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const RT=new gn(""),OT=new gn("");let zb,pA=(()=>{class t{constructor(s,u,f){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zb||(function gA(t){zb=t}(f),f.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:f})}whenStable(s,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,f){return[]}static{this.\u0275fac=function(u){return new(u||t)(It(bo),It(NT),It(OT))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac})}}return t})(),NT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return zb?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Sg=null;const kT=new gn("AllowMultipleToken"),Wb=new gn("PlatformDestroyListeners"),Kb=new gn("appBootstrapListener");class yA{constructor(n,s){this.name=n,this.token=s}}function VT(t,n,s=[]){const u=`Platform: ${n}`,f=new gn(u);return(g=[])=>{let C=qb();if(!C||C.injector.get(kT,!1)){const A=[...s,...g,{provide:f,useValue:!0}];t?t(A):function vA(t){if(Sg&&!Sg.get(kT,!1))throw new Ce(400,!1);(function FT(){!function Va(t){Ko=t}(()=>{throw new Ce(600,!1)})})(),Sg=t;const n=t.get(jT);(function LT(t){t.get(nv,null)?.forEach(s=>s())})(t)}(function UT(t=[],n){return Dl.create({name:n,providers:[{provide:Ef,useValue:"platform"},{provide:Wb,useValue:new Set([()=>Sg=null])},...t]})}(A,u))}return function bA(t){const n=qb();if(!n)throw new Ce(401,!1);return n}()}}function qb(){return Sg?.get(jT)??null}let jT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const f=function CA(t="zone.js",n){return"noop"===t?new G_:"zone.js"===t?new bo(n):t}(u?.ngZone,function BT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function FI(t,n,s){return new Db(t,n,s)}(s.moduleType,this.injector,function WT(t){return[{provide:bo,useFactory:t},{provide:ud,multi:!0,useFactory:()=>{const n=dn(IA,{optional:!0});return()=>n.initialize()}},{provide:zT,useFactory:TA},{provide:P0,useFactory:uv}]}(()=>f)),C=g.injector.get(mc,null);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{C.handleError(R)}});g.onDestroy(()=>{kE(this._modules,g),A.unsubscribe()})}),function $T(t,n,s){try{const u=s();return E(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(C,f,()=>{const A=g.injector.get($b);return A.runInitializers(),A.donePromise.then(()=>(function bn(t){rt(t,"Expected localeId to be defined"),"string"==typeof t&&(Vt=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(OE,L)||L),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,u=[]){const f=HT({},u);return function mA(t,n,s){const u=new Sb(s);return Promise.resolve(u)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(s){const u=s.injector.get(Ny);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new Ce(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(Wb,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||t)(It(Dl))}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function HT(t,n){return Array.isArray(n)?n.reduce(HT,t):{...t,...n}}let Ny=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dn(zT),this.zoneIsStable=dn(P0),this.componentTypes=[],this.components=[],this.isStable=dn(ST).hasPendingTasks.pipe((0,Ue.n)(s=>s?(0,Oe.of)(!1):this.zoneIsStable),(0,Se.F)(),(0,be.u)()),this._injector=dn(bi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const f=s instanceof Gp;if(!this._injector.get($b).done)throw!f&&Os(s),new Ce(405,!1);let C;C=f?s:this._injector.get(fu).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const A=function _A(t){return t.isBoundToModule}(C)?void 0:this._injector.get(Qm),G=C.create(Dl.NULL,[],u||C.selector,A),re=G.location.nativeElement,Te=G.injector.get(RT,null);return Te?.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),kE(this.components,G),Te?.unregisterApplication(re)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;kE(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(Kb,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>kE(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ce(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const zT=new gn("",{providedIn:"root",factory:()=>dn(mc).handleError.bind(void 0)});function TA(){const t=dn(bo),n=dn(mc);return s=>t.runOutsideAngular(()=>n.handleError(s))}let IA=(()=>{class t{constructor(){this.zone=dn(bo),this.applicationRef=dn(Ny)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||t)}}static{this.\u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AA(){return!1}let DA=(()=>{class t{static{this.__NG_ELEMENT_ID__=SA}}return t})();function SA(t){return function xA(t,n,s){if(is(t)&&!s){const u=Ei(t.index,n);return new kf(u,u)}return 47&t.type?new kf(n[Q],n):null}(Ps(),Wt(),16==(16&t))}class QT{constructor(){}supports(n){return dg(n)}create(n){return new NA(n)}}const OA=(t,n)=>n;class NA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OA}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,f=0,g=null;for(;s||u;){const C=!u||s&&s.currentIndex<ZT(u,f,g)?s:u,A=ZT(C,f,g),R=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(s=s._next,null==C.previousIndex)f++;else{g||(g=[]);const G=A-f,re=R-f;if(G!=re){for(let Ye=0;Ye<G;Ye++){const ct=Ye<g.length?g[Ye]:g[Ye]=0,Ft=ct+Ye;re<=Ft&&Ft<G&&(g[Ye]=ct+1)}g[C.previousIndex]=re-G}}A!==R&&n(C,A,R)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!dg(n))throw new Ce(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,g,C,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)g=n[A],C=this._trackByFn(A,g),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,g,C,A)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,C,A),u=!0),s=s._next}else f=0,function hg(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,A=>{C=this._trackByFn(f,A),null!==s&&Object.is(s.trackById,C)?(u&&(s=this._verifyReinsertion(s,A,C,f)),Object.is(s.item,A)||this._addIdentityChange(s,A)):(s=this._mismatch(s,A,C,f),u=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,f){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,g,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,g,f)):n=this._addAfter(new kA(s,u),g,f),n}_verifyReinsertion(n,s,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?n=this._reinsertAfter(g,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,g=n._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new JT),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class kA{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class JT{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new FA,this.map.set(s,u)),u.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZT(t,n,s){const u=t.previousIndex;if(null===u)return u;let f=0;return s&&u<s.length&&(f=s[u]),u+n+f}class eI{constructor(){}supports(n){return n instanceof Map||_u(n)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||_u(n)))throw new Ce(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(f,u);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const g=f._prev,C=f._next;return g&&(g._next=C),C&&(C._prev=g),f._next=null,f._prev=null,f}const u=new VA(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class VA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tI(){return new Zb([new QT])}let Zb=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:tI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||tI()),deps:[[t,new Jl,new uc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(null!=u)return u;throw new Ce(901,!1)}}return t})();function nI(){return new eC([new eI])}let eC=(()=>{class t{static{this.\u0275prov=sn({token:t,providedIn:"root",factory:nI})}constructor(s){this.factories=s}static create(s,u){if(u){const f=u.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||nI()),deps:[[t,new Jl,new uc]]}}find(s){const u=this.factories.find(f=>f.supports(s));if(u)return u;throw new Ce(901,!1)}}return t})();const BA=VT(null,"core",[]);let $A=(()=>{class t{constructor(s){}static{this.\u0275fac=function(u){return new(u||t)(It(Ny))}}static{this.\u0275mod=ni({type:t})}static{this.\u0275inj=Xt({})}}return t})();function ZA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function t1(t){const n=Ar(t);if(!n)return null;const s=new Dh(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1977:(on,Je,j)=>{j.d(Je,{DS:()=>jt,X8:()=>Yt,$z:()=>rn,UB:()=>ur,yy:()=>Ot,ZP:()=>xe,AU:()=>yn,CP:()=>St,gF:()=>Pt}),j(2438);var ue=j(177),i=j(7705),Ie=j(5407),pe=j(9253),Oe=j(1413),be=j(7673),Ue=j(1985),Se=j(8455),ee=j(7786),oe=j(941),_e=j(5558),lt=j(6354),Ze=j(6129);class Dt extends Oe.B{constructor(Le=1/0,tt=1/0,en=Ze.U){super(),this._bufferSize=Le,this._windowTime=tt,this._timestampProvider=en,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=tt===1/0,this._bufferSize=Math.max(1,Le),this._windowTime=Math.max(1,tt)}next(Le){const{isStopped:tt,_buffer:en,_infiniteTimeWindow:Be,_timestampProvider:De,_windowTime:Ee}=this;tt||(en.push(Le),!Be&&en.push(De.now()+Ee)),this._trimBuffer(),super.next(Le)}_subscribe(Le){this._throwIfClosed(),this._trimBuffer();const tt=this._innerSubscribe(Le),{_infiniteTimeWindow:en,_buffer:Be}=this,De=Be.slice();for(let Ee=0;Ee<De.length&&!Le.closed;Ee+=en?1:2)Le.next(De[Ee]);return this._checkFinalizedStatuses(Le),tt}_trimBuffer(){const{_bufferSize:Le,_timestampProvider:tt,_buffer:en,_infiniteTimeWindow:Be}=this,De=(Be?1:2)*Le;if(Le<1/0&&De<en.length&&en.splice(0,en.length-De),!Be){const Ee=tt.now();let Ve=0;for(let rt=1;rt<en.length&&en[rt]<=Ee;rt+=2)Ve=rt;Ve&&en.splice(0,Ve+1)}}}var At=j(7647);function Ut(ut,Le,tt){let en,Be=!1;return ut&&"object"==typeof ut?({bufferSize:en=1/0,windowTime:Le=1/0,refCount:Be=!1,scheduler:tt}=ut):en=ut??1/0,(0,At.u)({connector:()=>new Dt(en,Le,tt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}var Rt=j(1594),pn=j(8071);function Ge(ut,Le){return(0,pn.T)(Le)?(0,_e.n)(()=>ut,Le):(0,_e.n)(()=>ut)}var Ce=j(6745),et=j(5964),qe=j(7935);const St=new i.nKC("angularfire2.auth.use-emulator"),Ot=new i.nKC("angularfire2.auth.settings"),xe=new i.nKC("angularfire2.auth.tenant-id"),rn=new i.nKC("angularfire2.auth.langugage-code"),yn=new i.nKC("angularfire2.auth.use-device-language"),ur=new i.nKC("angularfire.auth.persistence"),Pt=(ut,Le,tt,en,Be,De,Ee,Ve)=>(0,pe.BM)(`${ut.name}.auth`,"AngularFireAuth",ut.name,()=>{const rt=Le.runOutsideAngular(()=>ut.auth());if(tt&&rt.useEmulator(...tt),en&&(rt.tenantId=en),rt.languageCode=Be,De&&rt.useDeviceLanguage(),Ee)for(const[Xe,Nt]of Object.entries(Ee))rt.settings[Xe]=Nt;return Ve&&rt.setPersistence(Ve),rt},[tt,en,Be,De,Ee,Ve]);let jt=(()=>{class ut{authState;idToken;user;idTokenResult;credential;constructor(tt,en,Be,De,Ee,Ve,rt,Xe,Nt,An,sr,sn){const Ln=new Oe.B,Xt=(0,be.of)(void 0).pipe((0,oe.Q)(Ee.outsideAngular),(0,_e.n)(()=>De.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,2438)))),(0,lt.T)(()=>(0,pe.iB)(tt,De,en)),(0,lt.T)($n=>Pt($n,De,Ve,Xe,Nt,An,rt,sr)),Ut({bufferSize:1,refCount:!1}));if((0,ue.Vy)(Be))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,be.of)(null);else{Xt.pipe((0,Rt.$)()).subscribe();const $n=Xt.pipe((0,_e.n)(Lt=>Lt.getRedirectResult().then(yr=>yr,()=>null)),Ie.U0,Ut({bufferSize:1,refCount:!1})),kn=Xt.pipe((0,_e.n)(Lt=>new Ue.c(yr=>({unsubscribe:De.runOutsideAngular(()=>Lt.onAuthStateChanged(un=>yr.next(un),un=>yr.error(un),()=>yr.complete()))})))),Gt=Xt.pipe((0,_e.n)(Lt=>new Ue.c(yr=>({unsubscribe:De.runOutsideAngular(()=>Lt.onIdTokenChanged(un=>yr.next(un),un=>yr.error(un),()=>yr.complete()))}))));this.authState=$n.pipe(Ge(kn),(0,Ce._)(Ee.outsideAngular),(0,oe.Q)(Ee.insideAngular)),this.user=$n.pipe(Ge(Gt),(0,Ce._)(Ee.outsideAngular),(0,oe.Q)(Ee.insideAngular)),this.idToken=this.user.pipe((0,_e.n)(Lt=>Lt?(0,Se.H)(Lt.getIdToken()):(0,be.of)(null))),this.idTokenResult=this.user.pipe((0,_e.n)(Lt=>Lt?(0,Se.H)(Lt.getIdTokenResult()):(0,be.of)(null))),this.credential=(0,ee.h)($n,Ln,this.authState.pipe((0,et.p)(Lt=>!Lt))).pipe((0,lt.T)(Lt=>Lt?.user?Lt:null),(0,Ce._)(Ee.outsideAngular),(0,oe.Q)(Ee.insideAngular))}return(0,pe.Gt)(this,Xt,De,{spy:{apply:($n,kn,Gt)=>{($n.startsWith("signIn")||$n.startsWith("createUser"))&&Gt.then(Lt=>Ln.next(Lt))}}})}static \u0275fac=function(en){return new(en||ut)(i.KVO(pe.rx),i.KVO(pe.uP,8),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(Ie.u0),i.KVO(St,8),i.KVO(Ot,8),i.KVO(xe,8),i.KVO(rn,8),i.KVO(yn,8),i.KVO(ur,8),i.KVO(Ie.Jv,8))};static \u0275prov=i.jDH({token:ut,factory:ut.\u0275fac,providedIn:"any"})}return ut})(),Yt=(()=>{class ut{constructor(){qe.A.registerVersion("angularfire",Ie.xv.full,"auth-compat")}static \u0275fac=function(en){return new(en||ut)};static \u0275mod=i.$C({type:ut});static \u0275inj=i.G2t({providers:[jt]})}return ut})()},6340:(on,Je,j)=>{j.d(Je,{Qe:()=>Si,cM:()=>nt});var c=j(177),ue=j(7705),i=j(5407),Ie=j(9253),pe=j(1977),Oe=j(3236),be=j(1985),Ue=j(8455),Se=j(7673),ee=j(9172),oe=j(9974),_e=j(4360);function lt(){return(0,oe.N)((gt,le)=>{let Re,vt=!1;gt.subscribe((0,_e._)(le,Kt=>{const jn=Re;Re=Kt,vt&&le.next([jn,Kt]),vt=!0}))})}var Ze=j(6354),Dt=j(2816),At=j(3294),Ut=j(5964),pn=(j(2438),j(3345)),Ge=j(9583),Ce=j(1076),et=j(1362);function St(gt,le){if(void 0===le)return{merge:!1};if(void 0!==le.mergeFields&&void 0!==le.merge)throw new Ge.W6("invalid-argument",`Invalid options passed to function ${gt}(): You cannot specify both "merge" and "mergeFields".`);return le}function Ot(){if(typeof Uint8Array>"u")throw new Ge.W6("unimplemented","Uint8Arrays are not available in this environment.")}function xe(){if(!(0,Ge.qG)())throw new Ge.W6("unimplemented","Blobs are unavailable in Firestore in this environment.")}class rn{constructor(le){this._delegate=le}static fromBase64String(le){return xe(),new rn(Ge.Ix.fromBase64String(le))}static fromUint8Array(le){return Ot(),new rn(Ge.Ix.fromUint8Array(le))}toBase64(){return xe(),this._delegate.toBase64()}toUint8Array(){return Ot(),this._delegate.toUint8Array()}isEqual(le){return this._delegate.isEqual(le._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yn(gt){return function ur(gt,le){if("object"!=typeof gt||null===gt)return!1;const Re=gt;for(const vt of le)if(vt in Re&&"function"==typeof Re[vt])return!0;return!1}(gt,["next","error","complete"])}class Pt{enableIndexedDbPersistence(le,Re){return(0,Ge.ol)(le._delegate,{forceOwnership:Re})}enableMultiTabIndexedDbPersistence(le){return(0,Ge.Q5)(le._delegate)}clearIndexedDbPersistence(le){return(0,Ge.me)(le._delegate)}}class jt{constructor(le,Re,vt){this._delegate=Re,this._persistenceProvider=vt,this.INTERNAL={delete:()=>this.terminate()},le instanceof Ge.cm||(this._appCompat=le)}get _databaseId(){return this._delegate._databaseId}settings(le){const Re=this._delegate._getSettings();!le.merge&&Re.host!==le.host&&(0,Ge.qi)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),le.merge&&delete(le=Object.assign(Object.assign({},Re),le)).merge,this._delegate._setSettings(le)}useEmulator(le,Re,vt={}){(0,Ge.vN)(this._delegate,le,Re,vt)}enableNetwork(){return(0,Ge.Os)(this._delegate)}disableNetwork(){return(0,Ge.LA)(this._delegate)}enablePersistence(le){let Re=!1,vt=!1;return le&&(Re=!!le.synchronizeTabs,vt=!!le.experimentalForceOwningTab,(0,Ge.c8)("synchronizeTabs",Re,"experimentalForceOwningTab",vt)),Re?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,vt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ge.iB)(this._delegate)}onSnapshotsInSync(le){return(0,Ge.FC)(this._delegate,le)}get app(){if(!this._appCompat)throw new Ge.W6("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(le){try{return new sn(this,(0,Ge.rJ)(this._delegate,le))}catch(Re){throw De(Re,"collection()","Firestore.collection()")}}doc(le){try{return new Be(this,(0,Ge.H9)(this._delegate,le))}catch(Re){throw De(Re,"doc()","Firestore.doc()")}}collectionGroup(le){try{return new Nt(this,(0,Ge.Cs)(this._delegate,le))}catch(Re){throw De(Re,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(le){return(0,Ge.c4)(this._delegate,Re=>le(new Le(this,Re)))}batch(){return(0,Ge.Ws)(this._delegate),new tt(new Ge.GA(this._delegate,le=>(0,Ge.z6)(this._delegate,le)))}loadBundle(le){return(0,Ge.po)(this._delegate,le)}namedQuery(le){return(0,Ge.St)(this._delegate,le).then(Re=>Re?new Nt(this,Re):null)}}class Yt extends Ge.fS{constructor(le){super(),this.firestore=le}convertBytes(le){return new rn(new Ge.Ix(le))}convertReference(le){const Re=this.convertDocumentKey(le,this.firestore._databaseId);return Be.forKey(Re,this.firestore,null)}}class Le{constructor(le,Re){this._firestore=le,this._delegate=Re,this._userDataWriter=new Yt(le)}get(le){const Re=Ln(le);return this._delegate.get(Re).then(vt=>new rt(this._firestore,new Ge.Wq(this._firestore._delegate,this._userDataWriter,vt._key,vt._document,vt.metadata,Re.converter)))}set(le,Re,vt){const Kt=Ln(le);return vt?(St("Transaction.set",vt),this._delegate.set(Kt,Re,vt)):this._delegate.set(Kt,Re),this}update(le,Re,vt,...Kt){const jn=Ln(le);return 2===arguments.length?this._delegate.update(jn,Re):this._delegate.update(jn,Re,vt,...Kt),this}delete(le){const Re=Ln(le);return this._delegate.delete(Re),this}}class tt{constructor(le){this._delegate=le}set(le,Re,vt){const Kt=Ln(le);return vt?(St("WriteBatch.set",vt),this._delegate.set(Kt,Re,vt)):this._delegate.set(Kt,Re),this}update(le,Re,vt,...Kt){const jn=Ln(le);return 2===arguments.length?this._delegate.update(jn,Re):this._delegate.update(jn,Re,vt,...Kt),this}delete(le){const Re=Ln(le);return this._delegate.delete(Re),this}commit(){return this._delegate.commit()}}class en{constructor(le,Re,vt){this._firestore=le,this._userDataWriter=Re,this._delegate=vt}fromFirestore(le,Re){const vt=new Ge.YQ(this._firestore._delegate,this._userDataWriter,le._key,le._document,le.metadata,null);return this._delegate.fromFirestore(new Xe(this._firestore,vt),Re??{})}toFirestore(le,Re){return Re?this._delegate.toFirestore(le,Re):this._delegate.toFirestore(le)}static getInstance(le,Re){const vt=en.INSTANCES;let Kt=vt.get(le);Kt||(Kt=new WeakMap,vt.set(le,Kt));let jn=Kt.get(Re);return jn||(jn=new en(le,new Yt(le),Re),Kt.set(Re,jn)),jn}}en.INSTANCES=new WeakMap;class Be{constructor(le,Re){this.firestore=le,this._delegate=Re,this._userDataWriter=new Yt(le)}static forPath(le,Re,vt){if(le.length%2!=0)throw new Ge.W6("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${le.canonicalString()} has ${le.length}`);return new Be(Re,new Ge.T1(Re._delegate,vt,new Ge.K$(le)))}static forKey(le,Re,vt){return new Be(Re,new Ge.T1(Re._delegate,vt,le))}get id(){return this._delegate.id}get parent(){return new sn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(le){try{return new sn(this.firestore,(0,Ge.rJ)(this._delegate,le))}catch(Re){throw De(Re,"collection()","DocumentReference.collection()")}}isEqual(le){return(le=(0,Ce.Ku)(le))instanceof Ge.T1&&(0,Ge.yx)(this._delegate,le)}set(le,Re){Re=St("DocumentReference.set",Re);try{return Re?(0,Ge.BN)(this._delegate,le,Re):(0,Ge.BN)(this._delegate,le)}catch(vt){throw De(vt,"setDoc()","DocumentReference.set()")}}update(le,Re,...vt){try{return 1===arguments.length?(0,Ge.mZ)(this._delegate,le):(0,Ge.mZ)(this._delegate,le,Re,...vt)}catch(Kt){throw De(Kt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ge.kd)(this._delegate)}onSnapshot(...le){const Re=Ee(le),vt=Ve(le,Kt=>new rt(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,Kt._key,Kt._document,Kt.metadata,this._delegate.converter)));return(0,Ge.aQ)(this._delegate,Re,vt)}get(le){let Re;return Re="cache"===le?.source?(0,Ge.nY)(this._delegate):"server"===le?.source?(0,Ge._e)(this._delegate):(0,Ge.x7)(this._delegate),Re.then(vt=>new rt(this.firestore,new Ge.Wq(this.firestore._delegate,this._userDataWriter,vt._key,vt._document,vt.metadata,this._delegate.converter)))}withConverter(le){return new Be(this.firestore,this._delegate.withConverter(le?en.getInstance(this.firestore,le):null))}}function De(gt,le,Re){return gt.message=gt.message.replace(le,Re),gt}function Ee(gt){for(const le of gt)if("object"==typeof le&&!yn(le))return le;return{}}function Ve(gt,le){var Re,vt;let Kt;return Kt=yn(gt[0])?gt[0]:yn(gt[1])?gt[1]:"function"==typeof gt[0]?{next:gt[0],error:gt[1],complete:gt[2]}:{next:gt[1],error:gt[2],complete:gt[3]},{next:jn=>{Kt.next&&Kt.next(le(jn))},error:null===(Re=Kt.error)||void 0===Re?void 0:Re.bind(Kt),complete:null===(vt=Kt.complete)||void 0===vt?void 0:vt.bind(Kt)}}class rt{constructor(le,Re){this._firestore=le,this._delegate=Re}get ref(){return new Be(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(le){return this._delegate.data(le)}get(le,Re){return this._delegate.get(le,Re)}isEqual(le){return(0,Ge.lN)(this._delegate,le._delegate)}}class Xe extends rt{data(le){const Re=this._delegate.data(le);return this._delegate._converter||(0,Ge.bI)(void 0!==Re,"Document in a QueryDocumentSnapshot should exist"),Re}}class Nt{constructor(le,Re){this.firestore=le,this._delegate=Re,this._userDataWriter=new Yt(le)}where(le,Re,vt){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge._M)(le,Re,vt)))}catch(Kt){throw De(Kt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(le,Re){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.My)(le,Re)))}catch(vt){throw De(vt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(le){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.AB)(le)))}catch(Re){throw De(Re,"limit()","Query.limit()")}}limitToLast(le){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.$1)(le)))}catch(Re){throw De(Re,"limitToLast()","Query.limitToLast()")}}startAt(...le){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.EO)(...le)))}catch(Re){throw De(Re,"startAt()","Query.startAt()")}}startAfter(...le){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.HM)(...le)))}catch(Re){throw De(Re,"startAfter()","Query.startAfter()")}}endBefore(...le){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.rf)(...le)))}catch(Re){throw De(Re,"endBefore()","Query.endBefore()")}}endAt(...le){try{return new Nt(this.firestore,(0,Ge.P)(this._delegate,(0,Ge.FD)(...le)))}catch(Re){throw De(Re,"endAt()","Query.endAt()")}}isEqual(le){return(0,Ge.B)(this._delegate,le._delegate)}get(le){let Re;return Re="cache"===le?.source?(0,Ge.kU)(this._delegate):"server"===le?.source?(0,Ge.Rr)(this._delegate):(0,Ge.GG)(this._delegate),Re.then(vt=>new sr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,vt._snapshot)))}onSnapshot(...le){const Re=Ee(le),vt=Ve(le,Kt=>new sr(this.firestore,new Ge.NJ(this.firestore._delegate,this._userDataWriter,this._delegate,Kt._snapshot)));return(0,Ge.aQ)(this._delegate,Re,vt)}withConverter(le){return new Nt(this.firestore,this._delegate.withConverter(le?en.getInstance(this.firestore,le):null))}}class An{constructor(le,Re){this._firestore=le,this._delegate=Re}get type(){return this._delegate.type}get doc(){return new Xe(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sr{constructor(le,Re){this._firestore=le,this._delegate=Re}get query(){return new Nt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(le=>new Xe(this._firestore,le))}docChanges(le){return this._delegate.docChanges(le).map(Re=>new An(this._firestore,Re))}forEach(le,Re){this._delegate.forEach(vt=>{le.call(Re,new Xe(this._firestore,vt))})}isEqual(le){return(0,Ge.lN)(this._delegate,le._delegate)}}class sn extends Nt{constructor(le,Re){super(le,Re),this.firestore=le,this._delegate=Re}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const le=this._delegate.parent;return le?new Be(this.firestore,le):null}doc(le){try{return new Be(this.firestore,void 0===le?(0,Ge.H9)(this._delegate):(0,Ge.H9)(this._delegate,le))}catch(Re){throw De(Re,"doc()","CollectionReference.doc()")}}add(le){return(0,Ge.gS)(this._delegate,le).then(Re=>new Be(this.firestore,Re))}isEqual(le){return(0,Ge.yx)(this._delegate,le._delegate)}withConverter(le){return new sn(this.firestore,this._delegate.withConverter(le?en.getInstance(this.firestore,le):null))}}function Ln(gt){return(0,Ge.lo)(gt,Ge.T1)}class Xt{constructor(...le){this._delegate=new Ge.uY(...le)}static documentId(){return new Xt(Ge.FA.keyField().canonicalString())}isEqual(le){return(le=(0,Ce.Ku)(le))instanceof Ge.uY&&this._delegate._internalPath.isEqual(le._internalPath)}}class $n{constructor(le){this._delegate=le}static serverTimestamp(){const le=(0,Ge.O5)();return le._methodName="FieldValue.serverTimestamp",new $n(le)}static delete(){const le=(0,Ge.CL)();return le._methodName="FieldValue.delete",new $n(le)}static arrayUnion(...le){const Re=(0,Ge.hq)(...le);return Re._methodName="FieldValue.arrayUnion",new $n(Re)}static arrayRemove(...le){const Re=(0,Ge.C3)(...le);return Re._methodName="FieldValue.arrayRemove",new $n(Re)}static increment(le){const Re=(0,Ge.GV)(le);return Re._methodName="FieldValue.increment",new $n(Re)}isEqual(le){return this._delegate.isEqual(le._delegate)}}const kn={Firestore:jt,GeoPoint:Ge.Ci,Timestamp:Ge.Dc,Blob:rn,Transaction:Le,WriteBatch:tt,DocumentReference:Be,DocumentSnapshot:rt,Query:Nt,QueryDocumentSnapshot:Xe,QuerySnapshot:sr,CollectionReference:sn,FieldPath:Xt,FieldValue:$n,setLogLevel:function ut(gt){(0,Ge.He)(gt)},CACHE_SIZE_UNLIMITED:Ge.H6};!function Lt(gt){(function Gt(gt,le){gt.INTERNAL.registerComponent(new et.uA("firestore-compat",Re=>{const vt=Re.getProvider("app-compat").getImmediate(),Kt=Re.getProvider("firestore").getImmediate();return le(vt,Kt)},"PUBLIC").setServiceProps(Object.assign({},kn)))})(gt,(le,Re)=>new jt(le,Re,new Pt)),gt.registerVersion("@firebase/firestore-compat","0.3.38")}(pn.A);var yr=j(7935);function Or(gt,le){return function un(gt,le=Oe.E){return new be.c(Re=>{let vt;return null!=le?le.schedule(()=>{vt=gt.onSnapshot({includeMetadataChanges:!0},Re)}):vt=gt.onSnapshot({includeMetadataChanges:!0},Re),()=>{vt?.()}})}(gt,le)}function Bt(gt,le){return Or(gt,le).pipe((0,Ze.T)(Re=>({payload:Re,type:"query"})))}class In{ref;afs;constructor(le,Re){this.ref=le,this.afs=Re}set(le,Re){return this.ref.set(le,Re)}update(le){return this.ref.update(le)}delete(){return this.ref.delete()}collection(le,Re){const vt=this.ref.collection(le),{ref:Kt,query:jn}=zn(vt,Re);return new di(Kt,jn,this.afs)}snapshotChanges(){return function tr(gt,le){return Or(gt,le).pipe((0,ee.Z)(void 0),lt(),(0,Ze.T)(Re=>{const[vt,Kt]=Re;return Kt.exists?vt?.exists?{payload:Kt,type:"modified"}:{payload:Kt,type:"added"}:{payload:Kt,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(le={}){return this.snapshotChanges().pipe((0,Ze.T)(({payload:Re})=>le.idField?{...Re.data(),[le.idField]:Re.id}:Re.data()))}get(le){return(0,Ue.H)(this.ref.get(le)).pipe(i.U0)}}function Gn(gt,le){return Bt(gt,le).pipe((0,ee.Z)(void 0),lt(),(0,Ze.T)(Re=>{const[vt,Kt]=Re,jn=Kt.payload.docChanges(),Lr=jn.map(Tr=>({type:Tr.type,payload:Tr}));return vt&&JSON.stringify(vt.payload.metadata)!==JSON.stringify(Kt.payload.metadata)&&Kt.payload.docs.forEach((Tr,Ti)=>{const Et=jn.find(M=>M.doc.ref.isEqual(Tr.ref)),$=vt?.payload.docs.find(M=>M.ref.isEqual(Tr.ref));Et&&JSON.stringify(Et.doc.metadata)===JSON.stringify(Tr.metadata)||!Et&&$&&JSON.stringify($.metadata)===JSON.stringify(Tr.metadata)||Lr.push({type:"modified",payload:{oldIndex:Ti,newIndex:Ti,type:"modified",doc:Tr}})}),Lr}))}function ln(gt,le,Re){return Gn(gt,Re).pipe((0,Dt.S)((vt,Kt)=>function $r(gt,le,Re){return le.forEach(vt=>{Re.indexOf(vt.type)>-1&&(gt=function ei(gt,le){switch(le.type){case"added":if(!gt[le.newIndex]||!gt[le.newIndex].doc.ref.isEqual(le.doc.ref))return xr(gt,le.newIndex,0,le);break;case"modified":if(null==gt[le.oldIndex]||gt[le.oldIndex].doc.ref.isEqual(le.doc.ref)){if(le.oldIndex!==le.newIndex){const Re=gt.slice();return Re.splice(le.oldIndex,1),Re.splice(le.newIndex,0,le),Re}return xr(gt,le.newIndex,1,le)}break;case"removed":if(gt[le.oldIndex]&&gt[le.oldIndex].doc.ref.isEqual(le.doc.ref))return xr(gt,le.oldIndex,1)}return gt}(gt,vt))}),gt}(vt,Kt.map(jn=>jn.payload),le),[]),(0,At.F)(),(0,Ze.T)(vt=>vt.map(Kt=>({type:Kt.type,payload:Kt}))))}function xr(gt,le,Re,...vt){const Kt=gt.slice();return Kt.splice(le,Re,...vt),Kt}function Kn(gt){return(!gt||0===gt.length)&&(gt=["added","removed","modified"]),gt}class di{ref;query;afs;constructor(le,Re,vt){this.ref=le,this.query=Re,this.afs=vt}stateChanges(le){let Re=Gn(this.query,this.afs.schedulers.outsideAngular);return le&&le.length>0&&(Re=Re.pipe((0,Ze.T)(vt=>vt.filter(Kt=>le.indexOf(Kt.type)>-1)))),Re.pipe((0,ee.Z)(void 0),lt(),(0,Ut.p)(([vt,Kt])=>Kt.length>0||!vt),(0,Ze.T)(([,vt])=>vt),i.U0)}auditTrail(le){return this.stateChanges(le).pipe((0,Dt.S)((Re,vt)=>[...Re,...vt],[]))}snapshotChanges(le){const Re=Kn(le);return ln(this.query,Re,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(le={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.T)(Re=>Re.payload.docs.map(vt=>le.idField?{...vt.data(),[le.idField]:vt.id}:vt.data())),i.U0)}get(le){return(0,Ue.H)(this.query.get(le)).pipe(i.U0)}add(le){return this.ref.add(le)}doc(le){return new In(this.ref.doc(le),this.afs)}}class _s{query;afs;constructor(le,Re){this.query=le,this.afs=Re}stateChanges(le){return le&&0!==le.length?Gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.T)(Re=>Re.filter(vt=>le.indexOf(vt.type)>-1)),(0,Ut.p)(Re=>Re.length>0),i.U0):Gn(this.query,this.afs.schedulers.outsideAngular).pipe(i.U0)}auditTrail(le){return this.stateChanges(le).pipe((0,Dt.S)((Re,vt)=>[...Re,...vt],[]))}snapshotChanges(le){const Re=Kn(le);return ln(this.query,Re,this.afs.schedulers.outsideAngular).pipe(i.U0)}valueChanges(le={}){return Bt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ze.T)(vt=>vt.payload.docs.map(Kt=>le.idField?{[le.idField]:Kt.id,...Kt.data()}:Kt.data())),i.U0)}get(le){return(0,Ue.H)(this.query.get(le)).pipe(i.U0)}}const gn=new ue.nKC("angularfire2.enableFirestorePersistence"),ti=new ue.nKC("angularfire2.firestore.persistenceSettings"),rr=new ue.nKC("angularfire2.firestore.settings"),Cr=new ue.nKC("angularfire2.firestore.use-emulator");function zn(gt,le=(Re=>Re)){return{query:le(gt),ref:gt}}let Si=(()=>{class gt{schedulers;firestore;persistenceEnabled$;constructor(Re,vt,Kt,jn,Lr,Tr,Ti,Et,$,M,k,ne,fe,st,It,an,dn){this.schedulers=Ti;const Dn=(0,Ie.iB)(Re,Tr,vt),gr=$;M&&(0,pe.gF)(Dn,Tr,k,fe,st,It,ne,an),[this.firestore,this.persistenceEnabled$]=(0,Ie.BM)(`${Dn.name}.firestore`,"AngularFirestore",Dn.name,()=>{const cn=Tr.runOutsideAngular(()=>Dn.firestore());if(jn&&cn.settings(jn),gr&&cn.useEmulator(...gr),Kt&&!(0,c.Vy)(Lr)){const Vr=()=>{try{return(0,Ue.H)(cn.enablePersistence(Et||void 0).then(()=>!0,()=>!1))}catch(dr){return typeof console<"u"&&console.warn(dr),(0,Se.of)(!1)}};return[cn,Tr.runOutsideAngular(Vr)]}return[cn,(0,Se.of)(!1)]},[jn,gr,Kt])}collection(Re,vt){let Kt;Kt="string"==typeof Re?this.firestore.collection(Re):Re;const{ref:jn,query:Lr}=zn(Kt,vt),Tr=this.schedulers.ngZone.run(()=>jn);return new di(Tr,Lr,this)}collectionGroup(Re,vt){const Kt=vt||(Lr=>Lr),jn=this.firestore.collectionGroup(Re);return new _s(Kt(jn),this)}doc(Re){let vt;vt="string"==typeof Re?this.firestore.doc(Re):Re;const Kt=this.schedulers.ngZone.run(()=>vt);return new In(Kt,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(vt){return new(vt||gt)(ue.KVO(Ie.rx),ue.KVO(Ie.uP,8),ue.KVO(gn,8),ue.KVO(rr,8),ue.KVO(ue.Agw),ue.KVO(ue.SKi),ue.KVO(i.u0),ue.KVO(ti,8),ue.KVO(Cr,8),ue.KVO(pe.DS,8),ue.KVO(pe.CP,8),ue.KVO(pe.yy,8),ue.KVO(pe.ZP,8),ue.KVO(pe.$z,8),ue.KVO(pe.AU,8),ue.KVO(pe.UB,8),ue.KVO(i.Jv,8))};static \u0275prov=ue.jDH({token:gt,factory:gt.\u0275fac,providedIn:"any"})}return gt})(),nt=(()=>{class gt{constructor(){yr.A.registerVersion("angularfire",i.xv.full,"fst-compat")}static enablePersistence(Re){return{ngModule:gt,providers:[{provide:gn,useValue:!0},{provide:ti,useValue:Re}]}}static \u0275fac=function(vt){return new(vt||gt)};static \u0275mod=ue.$C({type:gt});static \u0275inj=ue.G2t({providers:[Si]})}return gt})()},8721:(on,Je,j)=>{j.d(Je,{ap:()=>Le,y5:()=>Be});var c=j(5407),ue=j(1985),i=j(7673),Ie=j(8455),pe=j(3236),Oe=j(9974),be=j(4360),Se=j(6354),ee=j(5558),oe=j(7705),_e=j(9253),lt=j(3345),Ze=j(4535),Dt=j(1362);class At{constructor(Ee,Ve,rt){this._delegate=Ee,this.task=Ve,this.ref=rt}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ut{constructor(Ee,Ve){this._delegate=Ee,this._ref=Ve,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new At(this._delegate.snapshot,this,this._ref)}then(Ee,Ve){return this._delegate.then(rt=>{if(Ee)return Ee(new At(rt,this,this._ref))},Ve)}on(Ee,Ve,rt,Xe){let Nt;return Ve&&(Nt="function"==typeof Ve?An=>Ve(new At(An,this,this._ref)):{next:Ve.next?An=>Ve.next(new At(An,this,this._ref)):void 0,complete:Ve.complete||void 0,error:Ve.error||void 0}),this._delegate.on(Ee,Nt,rt||void 0,Xe||void 0)}}class Rt{constructor(Ee,Ve){this._delegate=Ee,this._service=Ve}get prefixes(){return this._delegate.prefixes.map(Ee=>new pn(Ee,this._service))}get items(){return this._delegate.items.map(Ee=>new pn(Ee,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pn{constructor(Ee,Ve){this._delegate=Ee,this.storage=Ve}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(Ee){const Ve=(0,Ze.Mp)(this._delegate,Ee);return new pn(Ve,this.storage)}get root(){return new pn(this._delegate.root,this.storage)}get parent(){const Ee=this._delegate.parent;return null==Ee?null:new pn(Ee,this.storage)}put(Ee,Ve){return this._throwIfRoot("put"),new Ut((0,Ze.bp)(this._delegate,Ee,Ve),this)}putString(Ee,Ve=Ze.nw.RAW,rt){this._throwIfRoot("putString");const Xe=(0,Ze.ZH)(Ve,Ee),Nt=Object.assign({},rt);return null==Nt.contentType&&null!=Xe.contentType&&(Nt.contentType=Xe.contentType),new Ut(new Ze.UC(this._delegate,new Ze.Mx(Xe.data,!0),Nt),this)}listAll(){return(0,Ze._w)(this._delegate).then(Ee=>new Rt(Ee,this.storage))}list(Ee){return(0,Ze.p_)(this._delegate,Ee||void 0).then(Ve=>new Rt(Ve,this.storage))}getMetadata(){return(0,Ze.yb)(this._delegate)}updateMetadata(Ee){return(0,Ze.D5)(this._delegate,Ee)}getDownloadURL(){return(0,Ze.qk)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ze.XR)(this._delegate)}_throwIfRoot(Ee){if(""===this._delegate._location.path)throw(0,Ze.UY)(Ee)}}class Ge{constructor(Ee,Ve){this.app=Ee,this._delegate=Ve}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(Ee){if(Ce(Ee))throw(0,Ze.uj)("ref() expected a child path but got a URL, use refFromURL instead.");return new pn((0,Ze.KR)(this._delegate,Ee),this)}refFromURL(Ee){if(!Ce(Ee))throw(0,Ze.uj)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ze.TZ.makeFromUrl(Ee,this._delegate.host)}catch{throw(0,Ze.uj)("refFromUrl() expected a valid full URL but got an invalid one.")}return new pn((0,Ze.KR)(this._delegate,Ee),this)}setMaxUploadRetryTime(Ee){this._delegate.maxUploadRetryTime=Ee}setMaxOperationRetryTime(Ee){this._delegate.maxOperationRetryTime=Ee}useEmulator(Ee,Ve,rt={}){(0,Ze.nb)(this._delegate,Ee,Ve,rt)}}function Ce(De){return/^[A-Za-z]+:\/\//.test(De)}function St(De,{instanceIdentifier:Ee}){const Ve=De.getProvider("app-compat").getImmediate(),rt=De.getProvider("storage").getImmediate({identifier:Ee});return new Ge(Ve,rt)}!function Ot(De){const Ee={TaskState:Ze.Ad,TaskEvent:Ze.xc,StringFormat:Ze.nw,Storage:Ge,Reference:pn};De.INTERNAL.registerComponent(new Dt.uA("storage-compat",St,"PUBLIC").setServiceProps(Ee).setMultipleInstances(!0)),De.registerVersion("@firebase/storage-compat","0.3.12")}(lt.A);var xe=j(7935);function yn(De){const Ee=function rn(De){return new ue.c(Ee=>{const Ve=An=>Ee.next(An);Ve(De.snapshot);const Nt=De.on("state_changed",Ve);return De.then(An=>{Ve(An),Ee.complete()},An=>{Ve(De.snapshot),(An=>{Ee.error(An)})(An)}),function(){Nt()}}).pipe(function Ue(De,Ee=pe.E){return(0,Oe.N)((Ve,rt)=>{let Xe=null,Nt=null,An=null;const sr=()=>{if(Xe){Xe.unsubscribe(),Xe=null;const Ln=Nt;Nt=null,rt.next(Ln)}};function sn(){const Ln=An+De,Xt=Ee.now();if(Xt<Ln)return Xe=this.schedule(void 0,Ln-Xt),void rt.add(Xe);sr()}Ve.subscribe((0,be._)(rt,Ln=>{Nt=Ln,An=Ee.now(),Xe||(Xe=Ee.schedule(sn,De),rt.add(Xe))},()=>{sr(),rt.complete()},void 0,()=>{Nt=Xe=null}))})}(0))}(De);return{task:De,then:De.then.bind(De),catch:De.catch.bind(De),pause:De.pause.bind(De),cancel:De.cancel.bind(De),resume:De.resume.bind(De),snapshotChanges:()=>Ee,percentageChanges:()=>Ee.pipe((0,Se.T)(Ve=>Ve.bytesTransferred/Ve.totalBytes*100))}}function ur(De){return{getDownloadURL:()=>(0,i.of)(void 0).pipe(c.Oe,(0,ee.n)(()=>De.getDownloadURL()),c.U0),getMetadata:()=>(0,i.of)(void 0).pipe(c.Oe,(0,ee.n)(()=>De.getMetadata()),c.U0),delete:()=>(0,Ie.H)(De.delete()),child:Ee=>ur(De.child(Ee)),updateMetadata:Ee=>(0,Ie.H)(De.updateMetadata(Ee)),put:(Ee,Ve)=>yn(De.put(Ee,Ve)),putString:(Ee,Ve,rt)=>yn(De.putString(Ee,Ve,rt)),list:Ee=>(0,Ie.H)(De.list(Ee)),listAll:()=>(0,Ie.H)(De.listAll())}}const Pt=new oe.nKC("angularfire2.storageBucket"),jt=new oe.nKC("angularfire2.storage.maxUploadRetryTime"),Yt=new oe.nKC("angularfire2.storage.maxOperationRetryTime"),ut=new oe.nKC("angularfire2.storage.use-emulator");let Le=(()=>{class De{storage;constructor(Ve,rt,Xe,Nt,An,sr,sn,Ln,Xt,$n){const kn=(0,_e.iB)(Ve,An,rt);this.storage=(0,_e.BM)(`${kn.name}.storage.${Xe}`,"AngularFireStorage",kn.name,()=>{const Gt=An.runOutsideAngular(()=>kn.storage(Xe||void 0)),Lt=Xt;return Lt&&Gt.useEmulator(...Lt),sn&&Gt.setMaxUploadRetryTime(sn),Ln&&Gt.setMaxOperationRetryTime(Ln),Gt},[sn,Ln])}ref(Ve){return ur(this.storage.ref(Ve))}refFromURL(Ve){return ur(this.storage.refFromURL(Ve))}upload(Ve,rt,Xe){return ur(this.storage.ref(Ve)).put(rt,Xe)}static \u0275fac=function(rt){return new(rt||De)(oe.KVO(_e.rx),oe.KVO(_e.uP,8),oe.KVO(Pt,8),oe.KVO(oe.Agw),oe.KVO(oe.SKi),oe.KVO(c.u0),oe.KVO(jt,8),oe.KVO(Yt,8),oe.KVO(ut,8),oe.KVO(c.Jv,8))};static \u0275prov=oe.jDH({token:De,factory:De.\u0275fac,providedIn:"any"})}return De})(),en=(()=>{class De{static \u0275fac=function(rt){return new(rt||De)};static \u0275mod=oe.$C({type:De});static \u0275inj=oe.G2t({})}return De})(),Be=(()=>{class De{constructor(){xe.A.registerVersion("angularfire",c.xv.full,"gcs-compat")}static \u0275fac=function(rt){return new(rt||De)};static \u0275mod=oe.$C({type:De});static \u0275inj=oe.G2t({providers:[Le],imports:[en]})}return De})()},9253:(on,Je,j)=>{j.d(Je,{BM:()=>Ze,Gt:()=>pe,bf:()=>lt,e7:()=>Oe,iB:()=>ee,rx:()=>Ue,uP:()=>Se});var c=j(7705),ue=j(5407),i=j(7935);const Ie=["ngOnDestroy"],pe=(Rt,pn,Ge,Ce={})=>new Proxy(Rt,{get:(et,qe)=>Ge.runOutsideAngular(()=>{if(Rt[qe])return Ce?.spy?.get&&Ce.spy.get(qe,Rt[qe]),Rt[qe];if(Ie.indexOf(qe)>-1)return()=>{};const it=pn.toPromise().then(St=>{const Ot=St?.[qe];return"function"==typeof Ot?Ot.bind(St):Ot?.then?Ot.then(xe=>Ge.run(()=>xe)):Ge.run(()=>Ot)});return new Proxy(()=>{},{get:(St,Ot)=>it[Ot],apply:(St,Ot,xe)=>it.then(rn=>{const yn=rn?.(...xe);return Ce?.spy?.apply&&Ce.spy.apply(qe,xe,yn),yn})})})}),Oe=(Rt,pn)=>{pn.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Ce=>{Object.defineProperty(Rt.prototype,Ce,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Ce))})})};class be{constructor(pn){return pn}}const Ue=new c.nKC("angularfire2.app.options"),Se=new c.nKC("angularfire2.app.name");function ee(Rt,pn,Ge){const et="object"==typeof Ge&&Ge||{};et.name=et.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const it=i.A.apps.filter(St=>St&&St.name===et.name)[0]||pn.runOutsideAngular(()=>i.A.initializeApp(Rt,et));try{if(JSON.stringify(Rt)!==JSON.stringify(it.options)){const St=!!module.hot;oe("error",`${it.name} Firebase App already initialized with different options${St?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new be(it)}const oe=(Rt,...pn)=>{(0,c.naY)()&&typeof console<"u"&&console[Rt](...pn)},_e={provide:be,useFactory:ee,deps:[Ue,c.SKi,[new c.Xx1,Se]]};let lt=(()=>{class Rt{static initializeApp(Ge,Ce){return{ngModule:Rt,providers:[{provide:Ue,useValue:Ge},{provide:Se,useValue:Ce}]}}constructor(Ge){i.A.registerVersion("angularfire",ue.xv.full,"core"),i.A.registerVersion("angularfire",ue.xv.full,"app-compat"),i.A.registerVersion("angular",c.xvI.full,Ge.toString())}static \u0275fac=function(Ce){return new(Ce||Rt)(c.KVO(c.Agw))};static \u0275mod=c.$C({type:Rt});static \u0275inj=c.G2t({providers:[_e]})}return Rt})();function Ze(Rt,pn,Ge,Ce,et){const[,qe,it]=globalThis.\u0275AngularfireInstanceCache.find(St=>St[0]===Rt)||[];if(qe)return function Dt(Rt,pn){try{return Rt.toString()===pn.toString()}catch{return Rt===pn}}(et,it)||(Ut("error",`${pn} was already initialized on the ${Ge} Firebase App with different settings.${At?" You may need to reload as Firebase is not HMR aware.":""}`),Ut("warn",{is:et,was:it})),qe;{const St=Ce();return globalThis.\u0275AngularfireInstanceCache.push([Rt,St,et]),St}}const At=typeof module<"u"&&!!module.hot,Ut=(Rt,...pn)=>{(0,c.naY)()&&typeof console<"u"&&console[Rt](...pn)};globalThis.\u0275AngularfireInstanceCache||=[]},5407:(on,Je,j)=>{j.d(Je,{xv:()=>Ze,U0:()=>yn,Oe:()=>xe,u0:()=>qe,Jv:()=>Rt,CA:()=>Ut,lR:()=>At,S3:()=>jt});var c=j(7705),ue=j(2214),i=j(6780),pe=j(9687);const be=new class Oe extends pe.q{}(class Ie extends i.R{constructor(ut,Le){super(ut,Le),this.scheduler=ut,this.work=Le}schedule(ut,Le=0){return Le>0?super.schedule(ut,Le):(this.delay=Le,this.state=ut,this.scheduler.flush(this),this)}execute(ut,Le){return Le>0||this.closed?super.execute(ut,Le):this._execute(ut,Le)}requestAsyncId(ut,Le,tt=0){return null!=tt&&tt>0||null==tt&&this.delay>0?super.requestAsyncId(ut,Le,tt):(ut.flush(this),0)}});var Se=j(3236),ee=j(1985),oe=j(8141),_e=j(941),lt=j(6745);const Ze=new c.RxE("ANGULARFIRE2_VERSION");function At(Yt,ut,Le){if(ut){if(1===ut.length)return ut[0];const Be=ut.filter(De=>De.app===Le);if(1===Be.length)return Be[0]}return Le.container.getProvider(Yt).getImmediate({optional:!0})}const Ut=(Yt,ut)=>{const Le=ut?[ut]:(0,ue.Dk)(),tt=[];return Le.forEach(en=>{en.container.getProvider(Yt).instances.forEach(De=>{tt.includes(De)||tt.push(De)})}),tt};class Rt{constructor(){return Ut(pn)}}const pn="app-check";function Ge(){}class Ce{zone;delegate;constructor(ut,Le=be){this.zone=ut,this.delegate=Le}now(){return this.delegate.now()}schedule(ut,Le,tt){const en=this.zone;return this.delegate.schedule(function(De){en.runGuarded(()=>{ut.apply(this,[De])})},Le,tt)}}class et{zone;task=null;constructor(ut){this.zone=ut}call(ut,Le){const tt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge)),Le.pipe((0,oe.M)({next:tt,complete:tt,error:tt})).subscribe(ut).add(tt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qe=(()=>{class Yt{ngZone;outsideAngular;insideAngular;constructor(Le){this.ngZone=Le,this.outsideAngular=Le.runOutsideAngular(()=>new Ce(Zone.current)),this.insideAngular=Le.run(()=>new Ce(Zone.current,Se.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(tt){return new(tt||Yt)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}return Yt})();function it(){const Yt=globalThis.\u0275AngularFireScheduler;if(!Yt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Yt}function Ot(Yt){return it().ngZone.run(()=>Yt())}function xe(Yt){return Yt.pipe((0,_e.Q)(it().outsideAngular))}function yn(Yt){return function ur(Yt){return function(Le){return(Le=Le.lift(new et(Yt.ngZone))).pipe((0,lt._)(Yt.outsideAngular),(0,_e.Q)(Yt.insideAngular))}}(it())(Yt)}const Pt=(Yt,ut)=>function(){const tt=arguments;return ut&&setTimeout(()=>{"scheduled"===ut.state&&ut.invoke()},10),Ot(()=>Yt.apply(void 0,tt))},jt=(Yt,ut)=>function(){let Le;const tt=arguments;for(let Be=0;Be<arguments.length;Be++)"function"==typeof tt[Be]&&(ut&&(Le||=Ot(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge))),tt[Be]=Pt(tt[Be],Le));const en=function St(Yt){return it().ngZone.runOutsideAngular(()=>Yt())}(()=>Yt.apply(this,tt));if(!ut){if(en instanceof ee.c){const Be=it();return en.pipe((0,lt._)(Be.outsideAngular),(0,_e.Q)(Be.insideAngular))}return Ot(()=>en)}return en instanceof ee.c?en.pipe(yn):en instanceof Promise?Ot(()=>new Promise((Be,De)=>en.then(Ee=>Ot(()=>Be(Ee)),Ee=>Ot(()=>De(Ee))))):"function"==typeof en&&Le?function(){return setTimeout(()=>{Le&&"scheduled"===Le.state&&Le.invoke()},10),en.apply(this,arguments)}:Ot(()=>en)}},4341:(on,Je,j)=>{j.d(Je,{Zm:()=>Ut,me:()=>Ce,v8:()=>$i,ok:()=>xo,JD:()=>kr,j4:()=>tn,$R:()=>Wn,YN:()=>ba,BC:()=>Gn,cb:()=>ln,cV:()=>Zi,vS:()=>Rs,xH:()=>Ds,Q0:()=>$s,Fm:()=>ai,X1:()=>Po,YS:()=>zr,wz:()=>ds,k0:()=>xe,qT:()=>Bs,y7:()=>mt});var c=j(7705),ue=j(177),i=j(8455),Ie=j(1985),pe=j(3073),Oe=j(8750),be=j(3794),Ue=j(4360),Se=j(6450),ee=j(8496),_e=j(6354);let lt=(()=>{class W{constructor(V,ce){this._renderer=V,this._elementRef=ce,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(V,ce){this._renderer.setProperty(this._elementRef.nativeElement,V,ce)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:W})}}return W})(),Ze=(()=>{class W extends lt{static{this.\u0275fac=function(){let V;return function(je){return(V||(V=c.xGo(W)))(je||W)}}()}static{this.\u0275dir=c.FsC({type:W,features:[c.Vt3]})}}return W})();const Dt=new c.nKC("NgValueAccessor"),At={provide:Dt,useExisting:(0,c.Rfq)(()=>Ut),multi:!0};let Ut=(()=>{class W extends Ze{writeValue(V){this.setProperty("checked",V)}static{this.\u0275fac=function(){let V;return function(je){return(V||(V=c.xGo(W)))(je||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ce,je){1&ce&&c.bIt("change",function(er){return je.onChange(er.target.checked)})("blur",function(){return je.onTouched()})},features:[c.Jv_([At]),c.Vt3]})}}return W})();const Rt={provide:Dt,useExisting:(0,c.Rfq)(()=>Ce),multi:!0},Ge=new c.nKC("CompositionEventMode");let Ce=(()=>{class W extends lt{constructor(V,ce,je){super(V,ce),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pn(){const W=(0,ue.QT)()?(0,ue.QT)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Ge,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ce,je){1&ce&&c.bIt("input",function(er){return je._handleInput(er.target.value)})("blur",function(){return je.onTouched()})("compositionstart",function(){return je._compositionStart()})("compositionend",function(er){return je._compositionEnd(er.target.value)})},features:[c.Jv_([Rt]),c.Vt3]})}}return W})();function et(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}function qe(W){return null!=W&&"number"==typeof W.length}const it=new c.nKC("NgValidators"),St=new c.nKC("NgAsyncValidators"),Ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xe{static min(J){return function rn(W){return J=>{if(et(J.value)||et(W))return null;const V=parseFloat(J.value);return!isNaN(V)&&V<W?{min:{min:W,actual:J.value}}:null}}(J)}static max(J){return function yn(W){return J=>{if(et(J.value)||et(W))return null;const V=parseFloat(J.value);return!isNaN(V)&&V>W?{max:{max:W,actual:J.value}}:null}}(J)}static required(J){return ur(J)}static requiredTrue(J){return function Pt(W){return!0===W.value?null:{required:!0}}(J)}static email(J){return function jt(W){return et(W.value)||Ot.test(W.value)?null:{email:!0}}(J)}static minLength(J){return function Yt(W){return J=>et(J.value)||!qe(J.value)?null:J.value.length<W?{minlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function ut(W){return J=>qe(J.value)&&J.value.length>W?{maxlength:{requiredLength:W,actualLength:J.value.length}}:null}(J)}static pattern(J){return function Le(W){if(!W)return tt;let J,V;return"string"==typeof W?(V="","^"!==W.charAt(0)&&(V+="^"),V+=W,"$"!==W.charAt(W.length-1)&&(V+="$"),J=new RegExp(V)):(V=W.toString(),J=W),ce=>{if(et(ce.value))return null;const je=ce.value;return J.test(je)?null:{pattern:{requiredPattern:V,actualValue:je}}}}(J)}static nullValidator(J){return null}static compose(J){return Xe(J)}static composeAsync(J){return An(J)}}function ur(W){return et(W.value)?{required:!0}:null}function tt(W){return null}function en(W){return null!=W}function Be(W){return(0,c.jNT)(W)?(0,i.H)(W):W}function De(W){let J={};return W.forEach(V=>{J=null!=V?{...J,...V}:J}),0===Object.keys(J).length?null:J}function Ee(W,J){return J.map(V=>V(W))}function rt(W){return W.map(J=>function Ve(W){return!W.validate}(J)?J:V=>J.validate(V))}function Xe(W){if(!W)return null;const J=W.filter(en);return 0==J.length?null:function(V){return De(Ee(V,J))}}function Nt(W){return null!=W?Xe(rt(W)):null}function An(W){if(!W)return null;const J=W.filter(en);return 0==J.length?null:function(V){return function oe(...W){const J=(0,be.ms)(W),{args:V,keys:ce}=(0,pe.D)(W),je=new Ie.c(_n=>{const{length:er}=V;if(!er)return void _n.complete();const Cs=new Array(er);let Ys=er,ss=er;for(let mo=0;mo<er;mo++){let Gs=!1;(0,Oe.Tg)(V[mo]).subscribe((0,Ue._)(_n,Hi=>{Gs||(Gs=!0,ss--),Cs[mo]=Hi},()=>Ys--,void 0,()=>{(!Ys||!Gs)&&(ss||_n.next(ce?(0,ee.e)(ce,Cs):Cs),_n.complete())}))}});return J?je.pipe((0,Se.I)(J)):je}(Ee(V,J).map(Be)).pipe((0,_e.T)(De))}}function sr(W){return null!=W?An(rt(W)):null}function sn(W,J){return null===W?[J]:Array.isArray(W)?[...W,J]:[W,J]}function Ln(W){return W._rawValidators}function Xt(W){return W._rawAsyncValidators}function $n(W){return W?Array.isArray(W)?W:[W]:[]}function kn(W,J){return Array.isArray(W)?W.includes(J):W===J}function Gt(W,J){const V=$n(J);return $n(W).forEach(je=>{kn(V,je)||V.push(je)}),V}function Lt(W,J){return $n(J).filter(V=>!kn(W,V))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=sr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,V){return!!this.control&&this.control.hasError(J,V)}getError(J,V){return this.control?this.control.getError(J,V):null}}class un extends yr{get formDirective(){return null}get path(){return null}}class Or extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tr{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gn=(()=>{class W extends tr{constructor(V){super(V)}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(Or,2))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ce,je){2&ce&&c.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)},features:[c.Vt3]})}}return W})(),ln=(()=>{class W extends tr{constructor(V){super(V)}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(un,10))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ce,je){2&ce&&c.AVh("ng-untouched",je.isUntouched)("ng-touched",je.isTouched)("ng-pristine",je.isPristine)("ng-dirty",je.isDirty)("ng-valid",je.isValid)("ng-invalid",je.isInvalid)("ng-pending",je.isPending)("ng-submitted",je.isSubmitted)},features:[c.Vt3]})}}return W})();const Kt="VALID",jn="INVALID",Lr="PENDING",Tr="DISABLED";function Ti(W){return(k(W)?W.validators:W)||null}function $(W,J){return(k(J)?J.asyncValidators:W)||null}function k(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}function ne(W,J,V){const ce=W.controls;if(!(J?Object.keys(ce):ce).length)throw new c.wOt(1e3,"");if(!ce[V])throw new c.wOt(1001,"")}function fe(W,J,V){W._forEachChild((ce,je)=>{if(void 0===V[je])throw new c.wOt(1002,"")})}class st{constructor(J,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===jn}get pending(){return this.status==Lr}get disabled(){return this.status===Tr}get enabled(){return this.status!==Tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(Gt(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(Gt(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Lt(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Lt(J,this._rawAsyncValidators))}hasValidator(J){return kn(this._rawValidators,J)}hasAsyncValidator(J){return kn(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=Lr,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const V=this._parentMarkedDirty(J.onlySelf);this.status=Tr,this.errors=null,this._forEachChild(ce=>{ce.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:V}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(J={}){const V=this._parentMarkedDirty(J.onlySelf);this.status=Kt,this._forEachChild(ce=>{ce.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:V}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Lr)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tr:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=Lr,this._hasOwnPendingAsyncValidator=!0;const V=Be(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,V={}){this.errors=J,this._updateControlsErrors(!1!==V.emitEvent)}get(J){let V=J;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((ce,je)=>ce&&ce._find(je),this)}getError(J,V){const ce=V?this.get(V):this;return ce&&ce.errors?ce.errors[J]:null}hasError(J,V){return!!this.getError(J,V)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Tr:this.errors?jn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lr)?Lr:this._anyControlsHaveStatus(jn)?jn:Kt}_anyControlsHaveStatus(J){return this._anyControls(V=>V.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){k(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function Et(W){return Array.isArray(W)?Nt(W):W||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function M(W){return Array.isArray(W)?sr(W):W||null}(this._rawAsyncValidators)}}class It extends st{constructor(J,V,ce){super(Ti(V),$(ce,V)),this.controls=J,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,V){return this.controls[J]?this.controls[J]:(this.controls[J]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(J,V,ce={}){this.registerControl(J,V),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(J,V={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(J,V,ce={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],V&&this.registerControl(J,V),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,V={}){fe(this,0,J),Object.keys(J).forEach(ce=>{ne(this,!0,ce),this.controls[ce].setValue(J[ce],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(J,V={}){null!=J&&(Object.keys(J).forEach(ce=>{const je=this.controls[ce];je&&je.patchValue(J[ce],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(J={},V={}){this._forEachChild((ce,je)=>{ce.reset(J?J[je]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(J,V,ce)=>(J[ce]=V.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(V,ce)=>!!ce._syncPendingControls()||V);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(V=>{const ce=this.controls[V];ce&&J(ce,V)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[V,ce]of Object.entries(this.controls))if(this.contains(V)&&J(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,ce,je)=>((ce.enabled||this.disabled)&&(V[je]=ce.value),V))}_reduceChildren(J,V){let ce=J;return this._forEachChild((je,_n)=>{ce=V(ce,je,_n)}),ce}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Dn extends It{}const cn=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Vr}),Vr="always";function dr(W,J){return[...J.path,W]}function ws(W,J,V=Vr){Ne(W,J),J.valueAccessor.writeValue(W.value),(W.disabled||"always"===V)&&J.valueAccessor.setDisabledState?.(W.disabled),function ge(W,J){J.valueAccessor.registerOnChange(V=>{W._pendingValue=V,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&we(W,J)})}(W,J),function wt(W,J){const V=(ce,je)=>{J.valueAccessor.writeValue(ce),je&&J.viewToModelUpdate(ce)};W.registerOnChange(V),J._registerOnDestroy(()=>{W._unregisterOnChange(V)})}(W,J),function me(W,J){J.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&we(W,J),"submit"!==W.updateOn&&W.markAsTouched()})}(W,J),function xi(W,J){if(J.valueAccessor.setDisabledState){const V=ce=>{J.valueAccessor.setDisabledState(ce)};W.registerOnDisabledChange(V),J._registerOnDestroy(()=>{W._unregisterOnDisabledChange(V)})}}(W,J)}function vi(W,J,V=!0){const ce=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(ce),J.valueAccessor.registerOnTouched(ce)),Mt(W,J),W&&(J._invokeOnDestroyCallbacks(),W._registerOnCollectionChange(()=>{}))}function Li(W,J){W.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(J)})}function Ne(W,J){const V=Ln(W);null!==J.validator?W.setValidators(sn(V,J.validator)):"function"==typeof V&&W.setValidators([V]);const ce=Xt(W);null!==J.asyncValidator?W.setAsyncValidators(sn(ce,J.asyncValidator)):"function"==typeof ce&&W.setAsyncValidators([ce]);const je=()=>W.updateValueAndValidity();Li(J._rawValidators,je),Li(J._rawAsyncValidators,je)}function Mt(W,J){let V=!1;if(null!==W){if(null!==J.validator){const je=Ln(W);if(Array.isArray(je)&&je.length>0){const _n=je.filter(er=>er!==J.validator);_n.length!==je.length&&(V=!0,W.setValidators(_n))}}if(null!==J.asyncValidator){const je=Xt(W);if(Array.isArray(je)&&je.length>0){const _n=je.filter(er=>er!==J.asyncValidator);_n.length!==je.length&&(V=!0,W.setAsyncValidators(_n))}}}const ce=()=>{};return Li(J._rawValidators,ce),Li(J._rawAsyncValidators,ce),V}function we(W,J){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}function qt(W,J){Ne(W,J)}function Qi(W,J){if(!W.hasOwnProperty("model"))return!1;const V=W.model;return!!V.isFirstChange()||!Object.is(J,V.currentValue)}function Ji(W,J){W._syncPendingControls(),J.forEach(V=>{const ce=V.control;"submit"===ce.updateOn&&ce._pendingChange&&(V.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function Ao(W,J){if(!J)return null;let V,ce,je;return Array.isArray(J),J.forEach(_n=>{_n.constructor===Ce?V=_n:function Ms(W){return Object.getPrototypeOf(W.constructor)===Ze}(_n)?ce=_n:je=_n}),je||ce||V||null}const $o={provide:un,useExisting:(0,c.Rfq)(()=>Zi)},oi=(()=>Promise.resolve())();let Zi=(()=>{class W extends un{constructor(V,ce,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new It({},Nt(V),sr(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){oi.then(()=>{const ce=this._findContainer(V.path);V.control=ce.registerControl(V.name,V.control),ws(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){oi.then(()=>{const ce=this._findContainer(V.path);ce&&ce.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){oi.then(()=>{const ce=this._findContainer(V.path),je=new It({});qt(je,V),ce.registerControl(V.name,je),je.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){oi.then(()=>{const ce=this._findContainer(V.path);ce&&ce.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,ce){oi.then(()=>{this.form.get(V.path).setValue(ce)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,Ji(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(it,10),c.rXU(St,10),c.rXU(cn,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ce,je){1&ce&&c.bIt("submit",function(er){return je.onSubmit(er)})("reset",function(){return je.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([$o]),c.Vt3]})}}return W})();function ys(W,J){const V=W.indexOf(J);V>-1&&W.splice(V,1)}function Yr(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const Bi=class extends st{constructor(J=null,V,ce){super(Ti(V),$(ce,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Yr(J)?J.value:J)}setValue(J,V={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(J,V={}){this.setValue(J,V)}reset(J=this.defaultValue,V={}){this._applyFormState(J),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){ys(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){ys(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){Yr(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}};let io=(()=>{class W extends un{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let V;return function(je){return(V||(V=c.xGo(W)))(je||W)}}()}static{this.\u0275dir=c.FsC({type:W,features:[c.Vt3]})}}return W})();const js={provide:Or,useExisting:(0,c.Rfq)(()=>Rs)},ni=(()=>Promise.resolve())();let Rs=(()=>{class W extends Or{constructor(V,ce,je,_n,er,Cs){super(),this._changeDetectorRef=er,this.callSetDisabledState=Cs,this.control=new Bi,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=V,this._setValidators(ce),this._setAsyncValidators(je),this.valueAccessor=Ao(0,_n)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const ce=V.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Qi(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ws(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){ni.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const ce=V.isDisabled.currentValue,je=0!==ce&&(0,c.L39)(ce);ni.then(()=>{je&&!this.control.disabled?this.control.disable():!je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?dr(V,this._parent):[V]}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(un,9),c.rXU(it,10),c.rXU(St,10),c.rXU(Dt,10),c.rXU(c.gRc,8),c.rXU(cn,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([js]),c.Vt3,c.OA$]})}}return W})(),Bs=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=c.FsC({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return W})();const so={provide:Dt,useExisting:(0,c.Rfq)(()=>$s),multi:!0};let $s=(()=>{class W extends Ze{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=ce=>{V(""==ce?null:parseFloat(ce))}}static{this.\u0275fac=function(){let V;return function(je){return(V||(V=c.xGo(W)))(je||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ce,je){1&ce&&c.bIt("input",function(er){return je.onChange(er.target.value)})("blur",function(){return je.onTouched()})},features:[c.Jv_([so]),c.Vt3]})}}return W})();const Ar={provide:Dt,useExisting:(0,c.Rfq)(()=>ai),multi:!0};let Ii=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({})}}return W})(),Os=(()=>{class W{constructor(){this._accessors=[]}add(V,ce){this._accessors.push([V,ce])}remove(V){for(let ce=this._accessors.length-1;ce>=0;--ce)if(this._accessors[ce][1]===V)return void this._accessors.splice(ce,1)}select(V){this._accessors.forEach(ce=>{this._isSameGroup(ce,V)&&ce[1]!==V&&ce[1].fireUncheck(V.value)})}_isSameGroup(V,ce){return!!V[0].control&&V[0]._parent===ce._control._parent&&V[1].name===ce.name}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=c.jDH({token:W,factory:W.\u0275fac,providedIn:Ii})}}return W})(),ai=(()=>{class W extends Ze{constructor(V,ce,je,_n){super(V,ce),this._registry=je,this._injector=_n,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,c.WQX)(cn,{optional:!0})??Vr}ngOnInit(){this._control=this._injector.get(Or),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(V){this._state=V===this.value,this.setProperty("checked",this._state)}registerOnChange(V){this._fn=V,this.onChange=()=>{V(this.value),this._registry.select(this)}}setDisabledState(V){(this.setDisabledStateFired||V||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",V),this.setDisabledStateFired=!0}fireUncheck(V){this.writeValue(V)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Os),c.rXU(c.zZn))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ce,je){1&ce&&c.bIt("change",function(){return je.onChange()})("blur",function(){return je.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c.Jv_([Ar]),c.Vt3]})}}return W})();const ts=new c.nKC("NgModelWithFormControlWarning"),ci={provide:un,useExisting:(0,c.Rfq)(()=>tn)};let tn=(()=>{class W extends un{constructor(V,ce,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(V),this._setAsyncValidators(ce)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ce=this.form.get(V.path);return ws(ce,V,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ce}getControl(V){return this.form.get(V.path)}removeControl(V){vi(V.control||null,V,!1),function Do(W,J){const V=W.indexOf(J);V>-1&&W.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ce){this.form.get(V.path).setValue(ce)}onSubmit(V){return this.submitted=!0,Ji(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const ce=V.control,je=this.form.get(V.path);ce!==je&&(vi(ce||null,V),(W=>W instanceof Bi)(je)&&(ws(je,V,this.callSetDisabledState),V.control=je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ce=this.form.get(V.path);qt(ce,V),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ce=this.form.get(V.path);ce&&function Vn(W,J){return Mt(W,J)}(ce,V)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ne(this.form,this),this._oldForm&&Mt(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(it,10),c.rXU(St,10),c.rXU(cn,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formGroup",""]],hostBindings:function(ce,je){1&ce&&c.bIt("submit",function(er){return je.onSubmit(er)})("reset",function(){return je.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([ci]),c.Vt3,c.OA$]})}}return W})();const Bn={provide:un,useExisting:(0,c.Rfq)(()=>Wn)};let Wn=(()=>{class W extends io{constructor(V,ce,je){super(),this.name=null,this._parent=V,this._setValidators(ce),this._setAsyncValidators(je)}_checkParentType(){wi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(un,13),c.rXU(it,10),c.rXU(St,10))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c.Jv_([Bn]),c.Vt3]})}}return W})();const Xr={provide:un,useExisting:(0,c.Rfq)(()=>$i)};let $i=(()=>{class W extends un{constructor(V,ce,je){super(),this.name=null,this._parent=V,this._setValidators(ce),this._setAsyncValidators(je)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){wi(this._parent)}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(un,13),c.rXU(it,10),c.rXU(St,10))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c.Jv_([Xr]),c.Vt3]})}}return W})();function wi(W){return!(W instanceof Wn||W instanceof tn||W instanceof $i)}const ns={provide:Or,useExisting:(0,c.Rfq)(()=>kr)};let kr=(()=>{class W extends Or{set isDisabled(V){}static{this._ngModelWarningSentOnce=!1}constructor(V,ce,je,_n,er){super(),this._ngModelWarningConfig=er,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(ce),this._setAsyncValidators(je),this.valueAccessor=Ao(0,_n)}ngOnChanges(V){this._added||this._setUpControl(),Qi(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return dr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(un,13),c.rXU(it,10),c.rXU(St,10),c.rXU(Dt,10),c.rXU(ts,8))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([ns]),c.Vt3,c.OA$]})}}return W})();const rs={provide:Dt,useExisting:(0,c.Rfq)(()=>ds),multi:!0};function vs(W,J){return null==W?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let ds=(()=>{class W extends Ze{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){this.value=V;const je=vs(this._getOptionId(V),V);this.setProperty("value",je)}registerOnChange(V){this.onChange=ce=>{this.value=this._getOptionValue(ce),V(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(V){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce),V))return ce;return null}_getOptionValue(V){const ce=function qn(W){return W.split(":")[0]}(V);return this._optionMap.has(ce)?this._optionMap.get(ce):V}static{this.\u0275fac=function(){let V;return function(je){return(V||(V=c.xGo(W)))(je||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ce,je){1&ce&&c.bIt("change",function(er){return je.onChange(er.target.value)})("blur",function(){return je.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([rs]),c.Vt3]})}}return W})(),Ds=(()=>{class W{constructor(V,ce,je){this._element=V,this._renderer=ce,this._select=je,this._select&&(this.id=this._select._registerOption())}set ngValue(V){null!=this._select&&(this._select._optionMap.set(this.id,V),this._setElementValue(vs(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._setElementValue(V),this._select&&this._select.writeValue(this._select.value)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(ds,9))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})();const Z={provide:Dt,useExisting:(0,c.Rfq)(()=>Qe),multi:!0};function Q(W,J){return null==W?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${W}: ${J}`.slice(0,50))}let Qe=(()=>{class W extends Ze{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(V){this._compareWith=V}writeValue(V){let ce;if(this.value=V,Array.isArray(V)){const je=V.map(_n=>this._getOptionId(_n));ce=(_n,er)=>{_n._setSelected(je.indexOf(er.toString())>-1)}}else ce=(je,_n)=>{je._setSelected(!1)};this._optionMap.forEach(ce)}registerOnChange(V){this.onChange=ce=>{const je=[],_n=ce.selectedOptions;if(void 0!==_n){const er=_n;for(let Cs=0;Cs<er.length;Cs++){const ss=this._getOptionValue(er[Cs].value);je.push(ss)}}else{const er=ce.options;for(let Cs=0;Cs<er.length;Cs++){const Ys=er[Cs];if(Ys.selected){const ss=this._getOptionValue(Ys.value);je.push(ss)}}}this.value=je,V(je)}}_registerOption(V){const ce=(this._idCounter++).toString();return this._optionMap.set(ce,V),ce}_getOptionId(V){for(const ce of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ce)._value,V))return ce;return null}_getOptionValue(V){const ce=function Ae(W){return W.split(":")[0]}(V);return this._optionMap.has(ce)?this._optionMap.get(ce)._value:V}static{this.\u0275fac=function(){let V;return function(je){return(V||(V=c.xGo(W)))(je||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ce,je){1&ce&&c.bIt("change",function(er){return je.onChange(er.target)})("blur",function(){return je.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Z]),c.Vt3]})}}return W})(),mt=(()=>{class W{constructor(V,ce,je){this._element=V,this._renderer=ce,this._select=je,this._select&&(this.id=this._select._registerOption(this))}set ngValue(V){null!=this._select&&(this._value=V,this._setElementValue(Q(this.id,V)),this._select.writeValue(this._select.value))}set value(V){this._select?(this._value=V,this._setElementValue(Q(this.id,V)),this._select.writeValue(this._select.value)):this._setElementValue(V)}_setElementValue(V){this._renderer.setProperty(this._element.nativeElement,"value",V)}_setSelected(V){this._renderer.setProperty(this._element.nativeElement,"selected",V)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(ce){return new(ce||W)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Qe,9))}}static{this.\u0275dir=c.FsC({type:W,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return W})(),vn=(()=>{class W{constructor(){this._validator=tt}ngOnChanges(V){if(this.inputName in V){const ce=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):tt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275dir=c.FsC({type:W,features:[c.OA$]})}}return W})();const Yn={provide:it,useExisting:(0,c.Rfq)(()=>zr),multi:!0};let zr=(()=>{class W extends vn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=V=>ur}enabled(V){return V}static{this.\u0275fac=function(){let V;return function(je){return(V||(V=c.xGo(W)))(je||W)}}()}static{this.\u0275dir=c.FsC({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ce,je){2&ce&&c.BMQ("required",je._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([Yn]),c.Vt3]})}}return W})(),eo=(()=>{class W{static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({imports:[Ii]})}}return W})();class Ea extends st{constructor(J,V,ce){super(Ti(V),$(ce,V)),this.controls=J,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,V={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(J,V,ce={}){this.controls.splice(J,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(J,V={}){let ce=this._adjustIndex(J);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(J,V,ce={}){let je=this._adjustIndex(J);je<0&&(je=0),this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),this.controls.splice(je,1),V&&(this.controls.splice(je,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,V={}){fe(this,0,J),J.forEach((ce,je)=>{ne(this,!1,je),this.at(je).setValue(ce,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(J,V={}){null!=J&&(J.forEach((ce,je)=>{this.at(je)&&this.at(je).patchValue(ce,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(J=[],V={}){this._forEachChild((ce,je)=>{ce.reset(J[je],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((V,ce)=>!!ce._syncPendingControls()||V,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((V,ce)=>{J(V,ce)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(V=>V.enabled&&J(V))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Ss(W){return!!W&&(void 0!==W.asyncValidators||void 0!==W.validators||void 0!==W.updateOn)}let xo=(()=>{class W{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new W;return V.useNonNullable=!0,V}group(V,ce=null){const je=this._reduceControls(V);let _n={};return Ss(ce)?_n=ce:null!==ce&&(_n.validators=ce.validator,_n.asyncValidators=ce.asyncValidator),new It(je,_n)}record(V,ce=null){const je=this._reduceControls(V);return new Dn(je,ce)}control(V,ce,je){let _n={};return this.useNonNullable?(Ss(ce)?_n=ce:(_n.validators=ce,_n.asyncValidators=je),new Bi(V,{..._n,nonNullable:!0})):new Bi(V,ce,je)}array(V,ce,je){const _n=V.map(er=>this._createControl(er));return new Ea(_n,ce,je)}_reduceControls(V){const ce={};return Object.keys(V).forEach(je=>{ce[je]=this._createControl(V[je])}),ce}_createControl(V){return V instanceof Bi||V instanceof st?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275prov=c.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})(),ba=(()=>{class W{static withConfig(V){return{ngModule:W,providers:[{provide:cn,useValue:V.callSetDisabledState??Vr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({imports:[eo]})}}return W})(),Po=(()=>{class W{static withConfig(V){return{ngModule:W,providers:[{provide:ts,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:V.callSetDisabledState??Vr}]}}static{this.\u0275fac=function(ce){return new(ce||W)}}static{this.\u0275mod=c.$C({type:W})}static{this.\u0275inj=c.G2t({imports:[eo]})}}return W})()},345:(on,Je,j)=>{j.d(Je,{B7:()=>Ot,Bb:()=>kn,W8:()=>Lt,hE:()=>Or,sG:()=>sn,up:()=>Si});var c=j(7705),ue=j(177);class i extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends i{static makeCurrent(){(0,ue.ZD)(new Ie)}onAndCancel($,M,k){return $.addEventListener(M,k),()=>{$.removeEventListener(M,k)}}dispatchEvent($,M){$.dispatchEvent(M)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,M){return(M=M||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,M){return"window"===M?window:"document"===M?$:"body"===M?$.body:null}getBaseHref($){const M=function Oe(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==M?null:function Ue(Et){be=be||document.createElement("a"),be.setAttribute("href",Et);const $=be.pathname;return"/"===$.charAt(0)?$:`/${$}`}(M)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,ue._b)(document.cookie,$)}}let be,pe=null,ee=(()=>{class Et{build(){return new XMLHttpRequest}static{this.\u0275fac=function(k){return new(k||Et)}}static{this.\u0275prov=c.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const oe=new c.nKC("EventManagerPlugins");let _e=(()=>{class Et{constructor(M,k){this._zone=k,this._eventNameToPlugin=new Map,M.forEach(ne=>{ne.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,k,ne){return this._findPluginFor(k).addEventListener(M,k,ne)}getZone(){return this._zone}_findPluginFor(M){let k=this._eventNameToPlugin.get(M);if(k)return k;if(k=this._plugins.find(fe=>fe.supports(M)),!k)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(M,k),k}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(oe),c.KVO(c.SKi))}}static{this.\u0275prov=c.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();class lt{constructor($){this._doc=$}}const Ze="ng-app-id";let Dt=(()=>{class Et{constructor(M,k,ne,fe={}){this.doc=M,this.appId=k,this.nonce=ne,this.platformId=fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(fe),this.resetHostNodes()}addStyles(M){for(const k of M)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(M){for(const k of M)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(k=>k.remove()),M.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const k of this.getAllStyles())this.addStyleToHost(M,k)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const k of this.hostNodes)this.addStyleToHost(k,M)}onStyleRemoved(M){const k=this.styleRef;k.get(M)?.elements?.forEach(ne=>ne.remove()),k.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${Ze}="${this.appId}"]`);if(M?.length){const k=new Map;return M.forEach(ne=>{null!=ne.textContent&&k.set(ne.textContent,ne)}),k}return null}changeUsageCount(M,k){const ne=this.styleRef;if(ne.has(M)){const fe=ne.get(M);return fe.usage+=k,fe.usage}return ne.set(M,{usage:k,elements:[]}),k}getStyleElement(M,k){const ne=this.styleNodesInDOM,fe=ne?.get(k);if(fe?.parentNode===M)return ne.delete(k),fe.removeAttribute(Ze),fe;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=k,this.platformIsServer&&st.setAttribute(Ze,this.appId),st}}addStyleToHost(M,k){const ne=this.getStyleElement(M,k);M.appendChild(ne);const fe=this.styleRef,st=fe.get(k)?.elements;st?st.push(ne):fe.set(k,{elements:[ne],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(ue.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))}}static{this.\u0275prov=c.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ut=/%COMP%/g,et=new c.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function St(Et,$){return $.map(M=>M.replace(Ut,Et))}let Ot=(()=>{class Et{constructor(M,k,ne,fe,st,It,an,dn=null){this.eventManager=M,this.sharedStylesHost=k,this.appId=ne,this.removeStylesOnCompDestroy=fe,this.doc=st,this.platformId=It,this.ngZone=an,this.nonce=dn,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(It),this.defaultRenderer=new xe(M,st,an,this.platformIsServer)}createRenderer(M,k){if(!M||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===c.gXe.ShadowDom&&(k={...k,encapsulation:c.gXe.Emulated});const ne=this.getOrCreateRenderer(M,k);return ne instanceof Yt?ne.applyToHost(M):ne instanceof jt&&ne.applyStyles(),ne}getOrCreateRenderer(M,k){const ne=this.rendererByCompId;let fe=ne.get(k.id);if(!fe){const st=this.doc,It=this.ngZone,an=this.eventManager,dn=this.sharedStylesHost,Dn=this.removeStylesOnCompDestroy,gr=this.platformIsServer;switch(k.encapsulation){case c.gXe.Emulated:fe=new Yt(an,dn,k,this.appId,Dn,st,It,gr);break;case c.gXe.ShadowDom:return new Pt(an,dn,M,k,st,It,this.nonce,gr);default:fe=new jt(an,dn,k,Dn,st,It,gr)}ne.set(k.id,fe)}return fe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(_e),c.KVO(Dt),c.KVO(c.sZ2),c.KVO(et),c.KVO(ue.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))}}static{this.\u0275prov=c.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();class xe{constructor($,M,k,ne){this.eventManager=$,this.doc=M,this.ngZone=k,this.platformIsServer=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,M){return M?this.doc.createElementNS(At[M]||M,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,M){(ur($)?$.content:$).appendChild(M)}insertBefore($,M,k){$&&(ur($)?$.content:$).insertBefore(M,k)}removeChild($,M){$&&$.removeChild(M)}selectRootElement($,M){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new c.wOt(-5104,!1);return M||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,M,k,ne){if(ne){M=ne+":"+M;const fe=At[ne];fe?$.setAttributeNS(fe,M,k):$.setAttribute(M,k)}else $.setAttribute(M,k)}removeAttribute($,M,k){if(k){const ne=At[k];ne?$.removeAttributeNS(ne,M):$.removeAttribute(`${k}:${M}`)}else $.removeAttribute(M)}addClass($,M){$.classList.add(M)}removeClass($,M){$.classList.remove(M)}setStyle($,M,k,ne){ne&(c.czy.DashCase|c.czy.Important)?$.style.setProperty(M,k,ne&c.czy.Important?"important":""):$.style[M]=k}removeStyle($,M,k){k&c.czy.DashCase?$.style.removeProperty(M):$.style[M]=""}setProperty($,M,k){$[M]=k}setValue($,M){$.nodeValue=M}listen($,M,k){if("string"==typeof $&&!($=(0,ue.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${M}`);return this.eventManager.addEventListener($,M,this.decoratePreventDefault(k))}decoratePreventDefault($){return M=>{if("__ngUnwrap__"===M)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(M)):$(M))&&M.preventDefault()}}}function ur(Et){return"TEMPLATE"===Et.tagName&&void 0!==Et.content}class Pt extends xe{constructor($,M,k,ne,fe,st,It,an){super($,fe,st,an),this.sharedStylesHost=M,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dn=St(ne.id,ne.styles);for(const Dn of dn){const gr=document.createElement("style");It&&gr.setAttribute("nonce",It),gr.textContent=Dn,this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,M){return super.appendChild(this.nodeOrShadowRoot($),M)}insertBefore($,M,k){return super.insertBefore(this.nodeOrShadowRoot($),M,k)}removeChild($,M){return super.removeChild(this.nodeOrShadowRoot($),M)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jt extends xe{constructor($,M,k,ne,fe,st,It,an){super($,fe,st,It),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ne,this.styles=an?St(an,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yt extends jt{constructor($,M,k,ne,fe,st,It,an){const dn=ne+"-"+k.id;super($,M,k,fe,st,It,an,dn),this.contentAttr=function qe(Et){return"_ngcontent-%COMP%".replace(Ut,Et)}(dn),this.hostAttr=function it(Et){return"_nghost-%COMP%".replace(Ut,Et)}(dn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,M){const k=super.createElement($,M);return super.setAttribute(k,this.contentAttr,""),k}}let ut=(()=>{class Et extends lt{constructor(M){super(M)}supports(M){return!0}addEventListener(M,k,ne){return M.addEventListener(k,ne,!1),()=>this.removeEventListener(M,k,ne)}removeEventListener(M,k,ne){return M.removeEventListener(k,ne)}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(ue.qQ))}}static{this.\u0275prov=c.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const Le=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},en={alt:Et=>Et.altKey,control:Et=>Et.ctrlKey,meta:Et=>Et.metaKey,shift:Et=>Et.shiftKey};let Be=(()=>{class Et extends lt{constructor(M){super(M)}supports(M){return null!=Et.parseEventName(M)}addEventListener(M,k,ne){const fe=Et.parseEventName(k),st=Et.eventCallback(fe.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(M,fe.domEventName,st))}static parseEventName(M){const k=M.toLowerCase().split("."),ne=k.shift();if(0===k.length||"keydown"!==ne&&"keyup"!==ne)return null;const fe=Et._normalizeKey(k.pop());let st="",It=k.indexOf("code");if(It>-1&&(k.splice(It,1),st="code."),Le.forEach(dn=>{const Dn=k.indexOf(dn);Dn>-1&&(k.splice(Dn,1),st+=dn+".")}),st+=fe,0!=k.length||0===fe.length)return null;const an={};return an.domEventName=ne,an.fullKey=st,an}static matchEventFullKeyCode(M,k){let ne=tt[M.key]||M.key,fe="";return k.indexOf("code.")>-1&&(ne=M.code,fe="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),Le.forEach(st=>{st!==ne&&(0,en[st])(M)&&(fe+=st+".")}),fe+=ne,fe===k)}static eventCallback(M,k,ne){return fe=>{Et.matchEventFullKeyCode(fe,M)&&ne.runGuarded(()=>k(fe))}}static _normalizeKey(M){return"esc"===M?"escape":M}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(ue.qQ))}}static{this.\u0275prov=c.jDH({token:Et,factory:Et.\u0275fac})}}return Et})();const sn=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:ue.AJ},{provide:c.PLl,useValue:function Xe(){Ie.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function An(){return(0,c.TL$)(document),document},deps:[]}]),Ln=new c.nKC(""),Xt=[{provide:c.e01,useClass:class Se{addToWindow($){c.JZv.getAngularTestability=(k,ne=!0)=>{const fe=$.findTestabilityInTree(k,ne);if(null==fe)throw new c.wOt(5103,!1);return fe},c.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(k=>{const ne=c.JZv.getAllAngularTestabilities();let fe=ne.length,st=!1;const It=function(an){st=st||an,fe--,0==fe&&k(st)};ne.forEach(an=>{an.whenStable(It)})})}findTestabilityInTree($,M,k){return null==M?null:$.getTestability(M)??(k?(0,ue.QT)().isShadowRoot(M)?this.findTestabilityInTree($,M.host,!0):this.findTestabilityInTree($,M.parentElement,!0):null)}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],$n=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function Nt(){return new c.zcH},deps:[]},{provide:oe,useClass:ut,multi:!0,deps:[ue.qQ,c.SKi,c.Agw]},{provide:oe,useClass:Be,multi:!0,deps:[ue.qQ]},Ot,Dt,_e,{provide:c._9s,useExisting:Ot},{provide:ue.N0,useClass:ee,deps:[]},[]];let kn=(()=>{class Et{constructor(M){}static withServerTransition(M){return{ngModule:Et,providers:[{provide:c.sZ2,useValue:M.appId}]}}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(Ln,12))}}static{this.\u0275mod=c.$C({type:Et})}static{this.\u0275inj=c.G2t({providers:[...$n,...Xt],imports:[ue.MD,c.Hbi]})}}return Et})(),Lt=(()=>{class Et{constructor(M){this._doc=M,this._dom=(0,ue.QT)()}addTag(M,k=!1){return M?this._getOrCreateElement(M,k):null}addTags(M,k=!1){return M?M.reduce((ne,fe)=>(fe&&ne.push(this._getOrCreateElement(fe,k)),ne),[]):[]}getTag(M){return M&&this._doc.querySelector(`meta[${M}]`)||null}getTags(M){if(!M)return[];const k=this._doc.querySelectorAll(`meta[${M}]`);return k?[].slice.call(k):[]}updateTag(M,k){if(!M)return null;k=k||this._parseSelector(M);const ne=this.getTag(k);return ne?this._setMetaElementAttributes(M,ne):this._getOrCreateElement(M,!0)}removeTag(M){this.removeTagElement(this.getTag(M))}removeTagElement(M){M&&this._dom.remove(M)}_getOrCreateElement(M,k=!1){if(!k){const st=this._parseSelector(M),It=this.getTags(st).filter(an=>this._containsAttributes(M,an))[0];if(void 0!==It)return It}const ne=this._dom.createElement("meta");return this._setMetaElementAttributes(M,ne),this._doc.getElementsByTagName("head")[0].appendChild(ne),ne}_setMetaElementAttributes(M,k){return Object.keys(M).forEach(ne=>k.setAttribute(this._getMetaKeyMap(ne),M[ne])),k}_parseSelector(M){const k=M.name?"name":"property";return`${k}="${M[k]}"`}_containsAttributes(M,k){return Object.keys(M).every(ne=>k.getAttribute(this._getMetaKeyMap(ne))===M[ne])}_getMetaKeyMap(M){return yr[M]||M}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(ue.qQ))}}static{this.\u0275prov=c.jDH({token:Et,factory:function(k){let ne=null;return ne=k?new k:function Gt(){return new Lt((0,c.KVO)(ue.qQ))}(),ne},providedIn:"root"})}}return Et})();const yr={httpEquiv:"http-equiv"};let Or=(()=>{class Et{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(ue.qQ))}}static{this.\u0275prov=c.jDH({token:Et,factory:function(k){let ne=null;return ne=k?new k:function un(){return new Or((0,c.KVO)(ue.qQ))}(),ne},providedIn:"root"})}}return Et})();typeof window<"u"&&window;let Si=(()=>{class Et{static{this.\u0275fac=function(k){return new(k||Et)}}static{this.\u0275prov=c.jDH({token:Et,factory:function(k){let ne=null;return ne=k?new(k||Et):c.KVO(gt),ne},providedIn:"root"})}}return Et})(),gt=(()=>{class Et extends Si{constructor(M){super(),this._doc=M}sanitize(M,k){if(null==k)return null;switch(M){case c.WPN.NONE:return k;case c.WPN.HTML:return(0,c.ZF7)(k,"HTML")?(0,c.rcV)(k):(0,c.h9k)(this._doc,String(k)).toString();case c.WPN.STYLE:return(0,c.ZF7)(k,"Style")?(0,c.rcV)(k):k;case c.WPN.SCRIPT:if((0,c.ZF7)(k,"Script"))return(0,c.rcV)(k);throw new c.wOt(5200,!1);case c.WPN.URL:return(0,c.ZF7)(k,"URL")?(0,c.rcV)(k):(0,c.$MX)(String(k));case c.WPN.RESOURCE_URL:if((0,c.ZF7)(k,"ResourceURL"))return(0,c.rcV)(k);throw new c.wOt(5201,!1);default:throw new c.wOt(5202,!1)}}bypassSecurityTrustHtml(M){return(0,c.Kcf)(M)}bypassSecurityTrustStyle(M){return(0,c.cWb)(M)}bypassSecurityTrustScript(M){return(0,c.UyX)(M)}bypassSecurityTrustUrl(M){return(0,c.osQ)(M)}bypassSecurityTrustResourceUrl(M){return(0,c.e5t)(M)}static{this.\u0275fac=function(k){return new(k||Et)(c.KVO(ue.qQ))}}static{this.\u0275prov=c.jDH({token:Et,factory:function(k){let ne=null;return ne=k?new k:function nt(Et){return new gt(Et.get(ue.qQ))}(c.KVO(c.zZn)),ne},providedIn:"root"})}}return Et})()},6814:(on,Je,j)=>{j.d(Je,{nX:()=>Wn,Ix:()=>Ei,Wk:()=>qo,wQ:()=>as,iI:()=>Vo,n3:()=>ds});var c=j(7705),ue=j(1985),i=j(8071),pe=j(8455),Oe=j(7673),be=j(4412),Ue=j(3073),Se=j(3669),ee=j(6450),oe=j(3794),_e=j(8496),lt=j(4360),Ze=j(5225);function Dt(...D){const O=(0,oe.lI)(D),w=(0,oe.ms)(D),{args:N,keys:H}=(0,Ue.D)(D);if(0===N.length)return(0,pe.H)([],O);const ae=new ue.c(function At(D,O,w=Se.D){return N=>{Ut(O,()=>{const{length:H}=D,ae=new Array(H);let Pe=H,yt=H;for(let dt=0;dt<H;dt++)Ut(O,()=>{const Cn=(0,pe.H)(D[dt],O);let ir=!1;Cn.subscribe((0,lt._)(N,br=>{ae[dt]=br,ir||(ir=!0,yt--),yt||N.next(w(ae.slice()))},()=>{--Pe||N.complete()}))},N)},N)}}(N,O,H?Pe=>(0,_e.e)(H,Pe):Se.D));return w?ae.pipe((0,ee.I)(w)):ae}function Ut(D,O,w){D?(0,Ze.N)(w,D,O):O()}var Rt=j(9350),pn=j(8793),Ge=j(8750);function Ce(D){return new ue.c(O=>{(0,Ge.Tg)(D()).subscribe(O)})}var et=j(1203),qe=j(8810),it=j(983),St=j(8359),Ot=j(9974);function xe(){return(0,Ot.N)((D,O)=>{let w=null;D._refCount++;const N=(0,lt._)(O,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(w=null);const H=D._connection,ae=w;w=null,H&&(!ae||H===ae)&&H.unsubscribe(),O.unsubscribe()});D.subscribe(N),N.closed||(w=D.connect())})}class rn extends ue.c{constructor(O,w){super(),this.source=O,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ot.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new St.yU;const w=this.getSubject();O.add(this.source.subscribe((0,lt._)(w,void 0,()=>{this._teardown(),w.complete()},N=>{this._teardown(),w.error(N)},()=>this._teardown()))),O.closed&&(this._connection=null,O=St.yU.EMPTY)}return O}refCount(){return xe()(this)}}var yn=j(1413),ur=j(177),Pt=j(6354),jt=j(5558),Yt=j(6697),ut=j(9172),Le=j(5964),tt=j(1397),en=j(1594),Be=j(274),De=j(8141),Ee=j(9437),Ve=j(2816),rt=j(9901);function Xe(D){return D<=0?()=>it.w:(0,Ot.N)((O,w)=>{let N=[];O.subscribe((0,lt._)(w,H=>{N.push(H),D<N.length&&N.shift()},()=>{for(const H of N)w.next(H);w.complete()},void 0,()=>{N=null}))})}var Nt=j(3774),sn=j(980),Ln=j(5343),$n=j(6365),kn=j(345);const Gt="primary",Lt=Symbol("RouteTitle");class yr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w[0]:w}return null}getAll(O){if(this.has(O)){const w=this.params[O];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function un(D){return new yr(D)}function Or(D,O,w){const N=w.path.split("/");if(N.length>D.length||"full"===w.pathMatch&&(O.hasChildren()||N.length<D.length))return null;const H={};for(let ae=0;ae<N.length;ae++){const Pe=N[ae],yt=D[ae];if(Pe.startsWith(":"))H[Pe.substring(1)]=yt;else if(Pe!==yt.path)return null}return{consumed:D.slice(0,N.length),posParams:H}}function Bt(D,O){const w=D?Object.keys(D):void 0,N=O?Object.keys(O):void 0;if(!w||!N||w.length!=N.length)return!1;let H;for(let ae=0;ae<w.length;ae++)if(H=w[ae],!In(D[H],O[H]))return!1;return!0}function In(D,O){if(Array.isArray(D)&&Array.isArray(O)){if(D.length!==O.length)return!1;const w=[...D].sort(),N=[...O].sort();return w.every((H,ae)=>N[ae]===H)}return D===O}function Gn(D){return D.length>0?D[D.length-1]:null}function ln(D){return function Ie(D){return!!D&&(D instanceof ue.c||(0,i.T)(D.lift)&&(0,i.T)(D.subscribe))}(D)?D:(0,c.jNT)(D)?(0,pe.H)(Promise.resolve(D)):(0,Oe.of)(D)}const $r={exact:function di(D,O,w){if(!gt(D.segments,O.segments)||!rr(D.segments,O.segments,w)||D.numberOfChildren!==O.numberOfChildren)return!1;for(const N in O.children)if(!D.children[N]||!di(D.children[N],O.children[N],w))return!1;return!0},subset:gn},xr={exact:function Kn(D,O){return Bt(D,O)},subset:function _s(D,O){return Object.keys(O).length<=Object.keys(D).length&&Object.keys(O).every(w=>In(D[w],O[w]))},ignored:()=>!0};function ei(D,O,w){return $r[w.paths](D.root,O.root,w.matrixParams)&&xr[w.queryParams](D.queryParams,O.queryParams)&&!("exact"===w.fragment&&D.fragment!==O.fragment)}function gn(D,O,w){return ti(D,O,O.segments,w)}function ti(D,O,w,N){if(D.segments.length>w.length){const H=D.segments.slice(0,w.length);return!(!gt(H,w)||O.hasChildren()||!rr(H,w,N))}if(D.segments.length===w.length){if(!gt(D.segments,w)||!rr(D.segments,w,N))return!1;for(const H in O.children)if(!D.children[H]||!gn(D.children[H],O.children[H],N))return!1;return!0}{const H=w.slice(0,D.segments.length),ae=w.slice(D.segments.length);return!!(gt(D.segments,H)&&rr(D.segments,H,N)&&D.children[Gt])&&ti(D.children[Gt],O,ae,N)}}function rr(D,O,w){return O.every((N,H)=>xr[w](D[H].parameters,N.parameters))}class Cr{constructor(O=new zn([],{}),w={},N=null){this.root=O,this.queryParams=w,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class zn{constructor(O,w){this.segments=O,this.children=w,this.parent=null,Object.values(w).forEach(N=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jn(this)}}class Si{constructor(O,w){this.path=O,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=un(this.parameters)),this._parameterMap}toString(){return ne(this)}}function gt(D,O){return D.length===O.length&&D.every((w,N)=>w.path===O[N].path)}let Re=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:function(){return new vt},providedIn:"root"})}}return D})();class vt{parse(O){const w=new ws(O);return new Cr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(O){const w=`/${Lr(O.root,!0)}`,N=function st(D){const O=Object.keys(D).map(w=>{const N=D[w];return Array.isArray(N)?N.map(H=>`${Ti(w)}=${Ti(H)}`).join("&"):`${Ti(w)}=${Ti(N)}`}).filter(w=>!!w);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${w}${N}${"string"==typeof O.fragment?`#${function Et(D){return encodeURI(D)}(O.fragment)}`:""}`}}const Kt=new vt;function jn(D){return D.segments.map(O=>ne(O)).join("/")}function Lr(D,O){if(!D.hasChildren())return jn(D);if(O){const w=D.children[Gt]?Lr(D.children[Gt],!1):"",N=[];return Object.entries(D.children).forEach(([H,ae])=>{H!==Gt&&N.push(`${H}:${Lr(ae,!1)}`)}),N.length>0?`${w}(${N.join("//")})`:w}{const w=function le(D,O){let w=[];return Object.entries(D.children).forEach(([N,H])=>{N===Gt&&(w=w.concat(O(H,N)))}),Object.entries(D.children).forEach(([N,H])=>{N!==Gt&&(w=w.concat(O(H,N)))}),w}(D,(N,H)=>H===Gt?[Lr(D.children[Gt],!1)]:[`${H}:${Lr(N,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Gt]?`${jn(D)}/${w[0]}`:`${jn(D)}/(${w.join("//")})`}}function Tr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ti(D){return Tr(D).replace(/%3B/gi,";")}function $(D){return Tr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(D){return decodeURIComponent(D)}function k(D){return M(D.replace(/\+/g,"%20"))}function ne(D){return`${$(D.path)}${function fe(D){return Object.keys(D).map(O=>`;${$(O)}=${$(D[O])}`).join("")}(D.parameters)}`}const It=/^[^\/()?;#]+/;function an(D){const O=D.match(It);return O?O[0]:""}const dn=/^[^\/()?;=#]+/,gr=/^[^=?&#]+/,Vr=/^[^&#]+/;class ws{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(O.length>0||Object.keys(w).length>0)&&(N[Gt]=new zn(O,w)),N}parseSegment(){const O=an(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(O),new Si(M(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const w=function Dn(D){const O=D.match(dn);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const H=an(this.remaining);H&&(N=H,this.capture(N))}O[M(w)]=M(N)}parseQueryParam(O){const w=function cn(D){const O=D.match(gr);return O?O[0]:""}(this.remaining);if(!w)return;this.capture(w);let N="";if(this.consumeOptional("=")){const Pe=function dr(D){const O=D.match(Vr);return O?O[0]:""}(this.remaining);Pe&&(N=Pe,this.capture(N))}const H=k(w),ae=k(N);if(O.hasOwnProperty(H)){let Pe=O[H];Array.isArray(Pe)||(Pe=[Pe],O[H]=Pe),Pe.push(ae)}else O[H]=ae}parseParens(O){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=an(this.remaining),H=this.remaining[N.length];if("/"!==H&&")"!==H&&";"!==H)throw new c.wOt(4010,!1);let ae;N.indexOf(":")>-1?(ae=N.slice(0,N.indexOf(":")),this.capture(ae),this.capture(":")):O&&(ae=Gt);const Pe=this.parseChildren();w[ae]=1===Object.keys(Pe).length?Pe[Gt]:new zn([],Pe),this.consumeOptional("//")}return w}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new c.wOt(4011,!1)}}function vi(D){return D.segments.length>0?new zn([],{[Gt]:D}):D}function Li(D){const O={};for(const N of Object.keys(D.children)){const ae=Li(D.children[N]);if(N===Gt&&0===ae.segments.length&&ae.hasChildren())for(const[Pe,yt]of Object.entries(ae.children))O[Pe]=yt;else(ae.segments.length>0||ae.hasChildren())&&(O[N]=ae)}return function xi(D){if(1===D.numberOfChildren&&D.children[Gt]){const O=D.children[Gt];return new zn(D.segments.concat(O.segments),O.children)}return D}(new zn(D.segments,O))}function Ne(D){return D instanceof Cr}function ge(D){let O;const H=vi(function w(ae){const Pe={};for(const dt of ae.children){const Cn=w(dt);Pe[dt.outlet]=Cn}const yt=new zn(ae.url,Pe);return ae===D&&(O=yt),yt}(D.root));return O??H}function me(D,O,w,N){let H=D;for(;H.parent;)H=H.parent;if(0===O.length)return qt(H,H,H,w,N);const ae=function hr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new On(!0,0,D);let O=0,w=!1;const N=D.reduce((H,ae,Pe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const yt={};return Object.entries(ae.outlets).forEach(([dt,Cn])=>{yt[dt]="string"==typeof Cn?Cn.split("/"):Cn}),[...H,{outlets:yt}]}if(ae.segmentPath)return[...H,ae.segmentPath]}return"string"!=typeof ae?[...H,ae]:0===Pe?(ae.split("/").forEach((yt,dt)=>{0==dt&&"."===yt||(0==dt&&""===yt?w=!0:".."===yt?O++:""!=yt&&H.push(yt))}),H):[...H,ae]},[]);return new On(w,O,N)}(O);if(ae.toRoot())return qt(H,H,new zn([],{}),w,N);const Pe=function qr(D,O,w){if(D.isAbsolute)return new Hr(O,!0,0);if(!w)return new Hr(O,!1,NaN);if(null===w.parent)return new Hr(w,!0,0);const N=we(D.commands[0])?0:1;return function Ir(D,O,w){let N=D,H=O,ae=w;for(;ae>H;){if(ae-=H,N=N.parent,!N)throw new c.wOt(4005,!1);H=N.segments.length}return new Hr(N,!1,H-ae)}(w,w.segments.length-1+N,D.numberOfDoubleDots)}(ae,H,D),yt=Pe.processChildren?Ji(Pe.segmentGroup,Pe.index,ae.commands):Ms(Pe.segmentGroup,Pe.index,ae.commands);return qt(H,Pe.segmentGroup,yt,w,N)}function we(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function wt(D){return"object"==typeof D&&null!=D&&D.outlets}function qt(D,O,w,N,H){let Pe,ae={};N&&Object.entries(N).forEach(([dt,Cn])=>{ae[dt]=Array.isArray(Cn)?Cn.map(ir=>`${ir}`):`${Cn}`}),Pe=D===O?w:Vn(D,O,w);const yt=vi(Li(Pe));return new Cr(yt,ae,H)}function Vn(D,O,w){const N={};return Object.entries(D.children).forEach(([H,ae])=>{N[H]=ae===O?w:Vn(ae,O,w)}),new zn(D.segments,N)}class On{constructor(O,w,N){if(this.isAbsolute=O,this.numberOfDoubleDots=w,this.commands=N,O&&N.length>0&&we(N[0]))throw new c.wOt(4003,!1);const H=N.find(wt);if(H&&H!==Gn(N))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hr{constructor(O,w,N){this.segmentGroup=O,this.processChildren=w,this.index=N}}function Ms(D,O,w){if(D||(D=new zn([],{})),0===D.segments.length&&D.hasChildren())return Ji(D,O,w);const N=function Ao(D,O,w){let N=0,H=O;const ae={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(N>=w.length)return ae;const Pe=D.segments[H],yt=w[N];if(wt(yt))break;const dt=`${yt}`,Cn=N<w.length-1?w[N+1]:null;if(H>0&&void 0===dt)break;if(dt&&Cn&&"object"==typeof Cn&&void 0===Cn.outlets){if(!oi(dt,Cn,Pe))return ae;N+=2}else{if(!oi(dt,{},Pe))return ae;N++}H++}return{match:!0,pathIndex:H,commandIndex:N}}(D,O,w),H=w.slice(N.commandIndex);if(N.match&&N.pathIndex<D.segments.length){const ae=new zn(D.segments.slice(0,N.pathIndex),{});return ae.children[Gt]=new zn(D.segments.slice(N.pathIndex),D.children),Ji(ae,0,H)}return N.match&&0===H.length?new zn(D.segments,{}):N.match&&!D.hasChildren()?Do(D,O,w):N.match?Ji(D,0,H):Do(D,O,w)}function Ji(D,O,w){if(0===w.length)return new zn(D.segments,{});{const N=function Qi(D){return wt(D[0])?D[0].outlets:{[Gt]:D}}(w),H={};if(Object.keys(N).some(ae=>ae!==Gt)&&D.children[Gt]&&1===D.numberOfChildren&&0===D.children[Gt].segments.length){const ae=Ji(D.children[Gt],O,w);return new zn(D.segments,ae.children)}return Object.entries(N).forEach(([ae,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(H[ae]=Ms(D.children[ae],O,Pe))}),Object.entries(D.children).forEach(([ae,Pe])=>{void 0===N[ae]&&(H[ae]=Pe)}),new zn(D.segments,H)}}function Do(D,O,w){const N=D.segments.slice(0,O);let H=0;for(;H<w.length;){const ae=w[H];if(wt(ae)){const dt=Vi(ae.outlets);return new zn(N,dt)}if(0===H&&we(w[0])){N.push(new Si(D.segments[O].path,$o(w[0]))),H++;continue}const Pe=wt(ae)?ae.outlets[Gt]:`${ae}`,yt=H<w.length-1?w[H+1]:null;Pe&&yt&&we(yt)?(N.push(new Si(Pe,$o(yt))),H+=2):(N.push(new Si(Pe,{})),H++)}return new zn(N,{})}function Vi(D){const O={};return Object.entries(D).forEach(([w,N])=>{"string"==typeof N&&(N=[N]),null!==N&&(O[w]=Do(new zn([],{}),0,N))}),O}function $o(D){const O={};return Object.entries(D).forEach(([w,N])=>O[w]=`${N}`),O}function oi(D,O,w){return D==w.path&&Bt(O,w.parameters)}const Zi="imperative";class ys{constructor(O,w){this.id=O,this.url=w}}class Yr extends ys{constructor(O,w,N="imperative",H=null){super(O,w),this.type=0,this.navigationTrigger=N,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends ys{constructor(O,w,N){super(O,w),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oi extends ys{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wr extends ys{constructor(O,w,N,H){super(O,w),this.reason=N,this.code=H,this.type=16}}class io extends ys{constructor(O,w,N,H){super(O,w),this.error=N,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class So extends ys{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends ys{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends ys{constructor(O,w,N,H,ae){super(O,w),this.urlAfterRedirects=N,this.state=H,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xa extends ys{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends ys{constructor(O,w,N,H){super(O,w),this.urlAfterRedirects=N,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class va{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class js{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ni{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(O,w,N){this.routerEvent=O,this.position=w,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ar{}class fi{constructor(O){this.url=O}}class Os{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ai,this.attachRef=null}}let ai=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(w,N){const H=this.getOrCreateContext(w);H.outlet=N,this.contexts.set(w,H)}onChildOutletDestroyed(w){const N=this.getContext(w);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let N=this.getContext(w);return N||(N=new Os,this.contexts.set(w,N)),N}getContext(w){return this.contexts.get(w)||null}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class es{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const w=this.pathFromRoot(O);return w.length>1?w[w.length-2]:null}children(O){const w=oo(O,this._root);return w?w.children.map(N=>N.value):[]}firstChild(O){const w=oo(O,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(O){const w=ts(O,this._root);return w.length<2?[]:w[w.length-2].children.map(H=>H.value).filter(H=>H!==O)}pathFromRoot(O){return ts(O,this._root).map(w=>w.value)}}function oo(D,O){if(D===O.value)return O;for(const w of O.children){const N=oo(D,w);if(N)return N}return null}function ts(D,O){if(D===O.value)return[O];for(const w of O.children){const N=ts(D,w);if(N.length)return N.unshift(O),N}return[]}class As{constructor(O,w){this.value=O,this.children=w}toString(){return`TreeNode(${this.value})`}}function Hs(D){const O={};return D&&D.children.forEach(w=>O[w.value.outlet]=w),O}class ci extends es{constructor(O,w){super(O),this.snapshot=w,kr(this,O)}toString(){return this.snapshot.toString()}}function tn(D,O){const w=function Bn(D,O){const Pe=new wi([],{},{},"",{},Gt,O,null,{});return new ns("",new As(Pe,[]))}(0,O),N=new be.t([new Si("",{})]),H=new be.t({}),ae=new be.t({}),Pe=new be.t({}),yt=new be.t(""),dt=new Wn(N,H,Pe,yt,ae,Gt,O,w.root);return dt.snapshot=w.root,new ci(new As(dt,[]),w)}class Wn{constructor(O,w,N,H,ae,Pe,yt,dt){this.urlSubject=O,this.paramsSubject=w,this.queryParamsSubject=N,this.fragmentSubject=H,this.dataSubject=ae,this.outlet=Pe,this.component=yt,this._futureSnapshot=dt,this.title=this.dataSubject?.pipe((0,Pt.T)(Cn=>Cn[Lt]))??(0,Oe.of)(void 0),this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.T)(O=>un(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.T)(O=>un(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xr(D,O="emptyOnly"){const w=D.pathFromRoot;let N=0;if("always"!==O)for(N=w.length-1;N>=1;){const H=w[N],ae=w[N-1];if(H.routeConfig&&""===H.routeConfig.path)N--;else{if(ae.component)break;N--}}return function $i(D){return D.reduce((O,w)=>({params:{...O.params,...w.params},data:{...O.data,...w.data},resolve:{...w.data,...O.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(N))}class wi{get title(){return this.data?.[Lt]}constructor(O,w,N,H,ae,Pe,yt,dt,Cn){this.url=O,this.params=w,this.queryParams=N,this.fragment=H,this.data=ae,this.outlet=Pe,this.component=yt,this.routeConfig=dt,this._resolve=Cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ns extends es{constructor(O,w){super(w),this.url=O,kr(this,w)}toString(){return rs(this._root)}}function kr(D,O){O.value._routerState=D,O.children.forEach(w=>kr(D,w))}function rs(D){const O=D.children.length>0?` { ${D.children.map(rs).join(", ")} } `:"";return`${D.value}${O}`}function vs(D){if(D.snapshot){const O=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Bt(O.queryParams,w.queryParams)||D.queryParamsSubject.next(w.queryParams),O.fragment!==w.fragment&&D.fragmentSubject.next(w.fragment),Bt(O.params,w.params)||D.paramsSubject.next(w.params),function tr(D,O){if(D.length!==O.length)return!1;for(let w=0;w<D.length;++w)if(!Bt(D[w],O[w]))return!1;return!0}(O.url,w.url)||D.urlSubject.next(w.url),Bt(O.data,w.data)||D.dataSubject.next(w.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function qn(D,O){const w=Bt(D.params,O.params)&&function nt(D,O){return gt(D,O)&&D.every((w,N)=>Bt(w.parameters,O[N].parameters))}(D.url,O.url);return w&&!(!D.parent!=!O.parent)&&(!D.parent||qn(D.parent,O.parent))}let ds=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(ai),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(Z,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:N,previousValue:H}=w.name;if(N)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,N){this.activated=w,this._activatedRoute=N,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,N){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=w;const H=this.location,Pe=w.snapshot.component,yt=this.parentContexts.getOrCreateContext(this.name).children,dt=new Ds(w,yt,H.injector);this.activated=H.createComponent(Pe,{index:H.length,injector:dt,environmentInjector:N??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275dir=c.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}}return D})();class Ds{constructor(O,w,N){this.route=O,this.childContexts=w,this.parent=N}get(O,w){return O===Wn?this.route:O===ai?this.childContexts:this.parent.get(O,w)}}const Z=new c.nKC("");let Q=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:N}=w,H=Dt([N.queryParams,N.params,N.data]).pipe((0,jt.n)(([ae,Pe,yt],dt)=>(yt={...ae,...Pe,...yt},0===dt?(0,Oe.of)(yt):Promise.resolve(yt)))).subscribe(ae=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(w);const Pe=(0,c.HJs)(N.component);if(Pe)for(const{templateName:yt}of Pe.inputs)w.activatedComponentRef.setInput(yt,ae[yt]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,H)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac})}}return D})();function ke(D,O,w){if(w&&D.shouldReuseRoute(O.value,w.value.snapshot)){const N=w.value;N._futureSnapshot=O.value;const H=function Qe(D,O,w){return O.children.map(N=>{for(const H of w.children)if(D.shouldReuseRoute(N.value,H.value.snapshot))return ke(D,N,H);return ke(D,N)})}(D,O,w);return new As(N,H)}{if(D.shouldAttach(O.value)){const ae=D.retrieve(O.value);if(null!==ae){const Pe=ae.route;return Pe.value._futureSnapshot=O.value,Pe.children=O.children.map(yt=>ke(D,yt)),Pe}}const N=function mt(D){return new Wn(new be.t(D.url),new be.t(D.params),new be.t(D.queryParams),new be.t(D.fragment),new be.t(D.data),D.outlet,D.component,D)}(O.value),H=O.children.map(ae=>ke(D,ae));return new As(N,H)}}const Qt="ngNavigationCancelingError";function Sn(D,O){const{redirectTo:w,navigationBehaviorOptions:N}=Ne(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,H=vn(!1,0,O);return H.url=w,H.navigationBehaviorOptions=N,H}function vn(D,O,w){const N=new Error("NavigationCancelingError: "+(D||""));return N[Qt]=!0,N.cancellationCode=O,w&&(N.url=w),N}function Dr(D){return D&&D[Qt]}let xn=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275cmp=c.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(N,H){1&N&&c.nrm(0,"router-outlet")},dependencies:[ds],encapsulation:2})}}return D})();function Di(D){const O=D.children&&D.children.map(Di),w=O?{...D,children:O}:{...D};return!w.component&&!w.loadComponent&&(O||w.loadChildren)&&w.outlet&&w.outlet!==Gt&&(w.component=xn),w}function Rr(D){return D.outlet||Gt}function is(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let O=D.parent;O;O=O.parent){const w=O.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class Ho{constructor(O,w,N,H,ae){this.routeReuseStrategy=O,this.futureState=w,this.currState=N,this.forwardEvent=H,this.inputBindingEnabled=ae}activate(O){const w=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,N,O),vs(this.futureState.root),this.activateChildRoutes(w,N,O)}deactivateChildRoutes(O,w,N){const H=Hs(w);O.children.forEach(ae=>{const Pe=ae.value.outlet;this.deactivateRoutes(ae,H[Pe],N),delete H[Pe]}),Object.values(H).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,N)})}deactivateRoutes(O,w,N){const H=O.value,ae=w?w.value:null;if(H===ae)if(H.component){const Pe=N.getContext(H.outlet);Pe&&this.deactivateChildRoutes(O,w,Pe.children)}else this.deactivateChildRoutes(O,w,N);else ae&&this.deactivateRouteAndItsChildren(w,N)}deactivateRouteAndItsChildren(O,w){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,w):this.deactivateRouteAndOutlet(O,w)}detachAndStoreRouteSubtree(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ae=Hs(O);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],H);if(N&&N.outlet){const Pe=N.outlet.detach(),yt=N.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Pe,route:O,contexts:yt})}}deactivateRouteAndOutlet(O,w){const N=w.getContext(O.value.outlet),H=N&&O.value.component?N.children:w,ae=Hs(O);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],H);N&&(N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated()),N.attachRef=null,N.route=null)}activateChildRoutes(O,w,N){const H=Hs(w);O.children.forEach(ae=>{this.activateRoutes(ae,H[ae.value.outlet],N),this.forwardEvent(new so(ae.value.snapshot))}),O.children.length&&this.forwardEvent(new Rs(O.value.snapshot))}activateRoutes(O,w,N){const H=O.value,ae=w?w.value:null;if(vs(H),H===ae)if(H.component){const Pe=N.getOrCreateContext(H.outlet);this.activateChildRoutes(O,w,Pe.children)}else this.activateChildRoutes(O,w,N);else if(H.component){const Pe=N.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const yt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),Pe.children.onOutletReAttached(yt.contexts),Pe.attachRef=yt.componentRef,Pe.route=yt.route.value,Pe.outlet&&Pe.outlet.attach(yt.componentRef,yt.route.value),vs(yt.route.value),this.activateChildRoutes(O,null,Pe.children)}else{const yt=is(H.snapshot);Pe.attachRef=null,Pe.route=H,Pe.injector=yt,Pe.outlet&&Pe.outlet.activateWith(H,Pe.injector),this.activateChildRoutes(O,null,Pe.children)}}else this.activateChildRoutes(O,null,N)}}class eo{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Ea{constructor(O,w){this.component=O,this.route=w}}function Go(D,O,w){const N=D._root;return xo(N,O?O._root:null,w,[N.value])}function Ss(D,O){const w=Symbol(),N=O.get(D,w);return N===w?"function"!=typeof D||(0,c.LfX)(D)?O.get(D):D:N}function xo(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Hs(O);return D.children.forEach(Pe=>{(function zo(D,O,w,N,H={canDeactivateChecks:[],canActivateChecks:[]}){const ae=D.value,Pe=O?O.value:null,yt=w?w.getContext(D.value.outlet):null;if(Pe&&ae.routeConfig===Pe.routeConfig){const dt=function aa(D,O,w){if("function"==typeof w)return w(D,O);switch(w){case"pathParamsChange":return!gt(D.url,O.url);case"pathParamsOrQueryParamsChange":return!gt(D.url,O.url)||!Bt(D.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(D,O)||!Bt(D.queryParams,O.queryParams);default:return!qn(D,O)}}(Pe,ae,ae.routeConfig.runGuardsAndResolvers);dt?H.canActivateChecks.push(new eo(N)):(ae.data=Pe.data,ae._resolvedData=Pe._resolvedData),xo(D,O,ae.component?yt?yt.children:null:w,N,H),dt&&yt&&yt.outlet&&yt.outlet.isActivated&&H.canDeactivateChecks.push(new Ea(yt.outlet.component,Pe))}else Pe&&li(O,yt,H),H.canActivateChecks.push(new eo(N)),xo(D,null,ae.component?yt?yt.children:null:w,N,H)})(Pe,ae[Pe.value.outlet],w,N.concat([Pe.value]),H),delete ae[Pe.value.outlet]}),Object.entries(ae).forEach(([Pe,yt])=>li(yt,w.getContext(Pe),H)),H}function li(D,O,w){const N=Hs(D),H=D.value;Object.entries(N).forEach(([ae,Pe])=>{li(Pe,H.component?O?O.children.getContext(ae):null:O,w)}),w.canDeactivateChecks.push(new Ea(H.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,H))}function ba(D){return"function"==typeof D}function Cs(D){return D instanceof Rt.G||"EmptyError"===D?.name}const Ys=Symbol("INITIAL_VALUE");function ss(){return(0,jt.n)(D=>Dt(D.map(O=>O.pipe((0,Yt.s)(1),(0,ut.Z)(Ys)))).pipe((0,Pt.T)(O=>{for(const w of O)if(!0!==w){if(w===Ys)return Ys;if(!1===w||w instanceof Cr)return w}return!0}),(0,Le.p)(O=>O!==Ys),(0,Yt.s)(1)))}function Yi(D){return(0,et.F)((0,De.M)(O=>{if(Ne(O))throw Sn(0,O)}),(0,Pt.T)(O=>!0===O))}class ao{constructor(O){this.segmentGroup=O||null}}class Ta{constructor(O){this.urlTree=O}}function hs(D){return(0,qe.$)(new ao(D))}function Ia(D){return(0,qe.$)(new Ta(D))}class Su{constructor(O,w){this.urlSerializer=O,this.urlTree=w}noMatchError(O){return new c.wOt(4002,!1)}lineralizeSegments(O,w){let N=[],H=w.root;for(;;){if(N=N.concat(H.segments),0===H.numberOfChildren)return(0,Oe.of)(N);if(H.numberOfChildren>1||!H.children[Gt])return(0,qe.$)(new c.wOt(4e3,!1));H=H.children[Gt]}}applyRedirectCommands(O,w,N){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),O,N)}applyRedirectCreateUrlTree(O,w,N,H){const ae=this.createSegmentGroup(O,w.root,N,H);return new Cr(ae,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(O,w){const N={};return Object.entries(O).forEach(([H,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const yt=ae.substring(1);N[H]=w[yt]}else N[H]=ae}),N}createSegmentGroup(O,w,N,H){const ae=this.createSegments(O,w.segments,N,H);let Pe={};return Object.entries(w.children).forEach(([yt,dt])=>{Pe[yt]=this.createSegmentGroup(O,dt,N,H)}),new zn(ae,Pe)}createSegments(O,w,N,H){return w.map(ae=>ae.path.startsWith(":")?this.findPosParam(O,ae,H):this.findOrReturn(ae,N))}findPosParam(O,w,N){const H=N[w.path.substring(1)];if(!H)throw new c.wOt(4001,!1);return H}findOrReturn(O,w){let N=0;for(const H of w){if(H.path===O.path)return w.splice(N),H;N++}return O}}const fr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function il(D,O,w,N,H){const ae=_o(D,O,w);return ae.matched?(N=function wn(D,O){return D.providers&&!D._injector&&(D._injector=(0,c.Ol2)(D.providers,O,`Route: ${D.path}`)),D._injector??O}(O,N),function Ca(D,O,w,N){const H=O.canMatch;if(!H||0===H.length)return(0,Oe.of)(!0);const ae=H.map(Pe=>{const yt=Ss(Pe,D);return ln(function je(D){return D&&ba(D.canMatch)}(yt)?yt.canMatch(O,w):D.runInContext(()=>yt(O,w)))});return(0,Oe.of)(ae).pipe(ss(),Yi())}(N,O,w).pipe((0,Pt.T)(Pe=>!0===Pe?ae:{...fr}))):(0,Oe.of)(ae)}function _o(D,O,w){if(""===O.path)return"full"===O.pathMatch&&(D.hasChildren()||w.length>0)?{...fr}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const H=(O.matcher||Or)(w,D,O);if(!H)return{...fr};const ae={};Object.entries(H.posParams??{}).forEach(([yt,dt])=>{ae[yt]=dt.path});const Pe=H.consumed.length>0?{...ae,...H.consumed[H.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:H.consumed,remainingSegments:w.slice(H.consumed.length),parameters:Pe,positionalParamSegments:H.posParams??{}}}function Oo(D,O,w,N){return w.length>0&&function Tc(D,O,w){return w.some(N=>La(D,O,N)&&Rr(N)!==Gt)}(D,w,N)?{segmentGroup:new zn(O,xu(N,new zn(w,D.children))),slicedSegments:[]}:0===w.length&&function Uh(D,O,w){return w.some(N=>La(D,O,N))}(D,w,N)?{segmentGroup:new zn(D.segments,No(D,0,w,N,D.children)),slicedSegments:w}:{segmentGroup:new zn(D.segments,D.children),slicedSegments:w}}function No(D,O,w,N,H){const ae={};for(const Pe of N)if(La(D,w,Pe)&&!H[Rr(Pe)]){const yt=new zn([],{});ae[Rr(Pe)]=yt}return{...H,...ae}}function xu(D,O){const w={};w[Gt]=O;for(const N of D)if(""===N.path&&Rr(N)!==Gt){const H=new zn([],{});w[Rr(N)]=H}return w}function La(D,O,w){return(!(D.hasChildren()||O.length>0)||"full"!==w.pathMatch)&&""===w.path}class Ic{constructor(O,w,N,H,ae,Pe,yt){this.injector=O,this.configLoader=w,this.rootComponentType=N,this.config=H,this.urlTree=ae,this.paramsInheritanceStrategy=Pe,this.urlSerializer=yt,this.allowRedirects=!0,this.applyRedirects=new Su(this.urlSerializer,this.urlTree)}noMatchError(O){return new c.wOt(4002,!1)}recognize(){const O=Oo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Gt).pipe((0,Ee.W)(w=>{if(w instanceof Ta)return this.allowRedirects=!1,this.urlTree=w.urlTree,this.match(w.urlTree);throw w instanceof ao?this.noMatchError(w):w}),(0,Pt.T)(w=>{const N=new wi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),H=new As(N,w),ae=new ns("",H),Pe=function Mt(D,O,w=null,N=null){return me(ge(D),O,w,N)}(N,[],this.urlTree.queryParams,this.urlTree.fragment);return Pe.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Pe),this.inheritParamsAndData(ae._root),{state:ae,tree:Pe}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Gt).pipe((0,Ee.W)(N=>{throw N instanceof ao?this.noMatchError(N):N}))}inheritParamsAndData(O){const w=O.value,N=Xr(w,this.paramsInheritanceStrategy);w.params=Object.freeze(N.params),w.data=Object.freeze(N.data),O.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(O,w,N,H){return 0===N.segments.length&&N.hasChildren()?this.processChildren(O,w,N):this.processSegment(O,w,N,N.segments,H,!0)}processChildren(O,w,N){const H=[];for(const ae of Object.keys(N.children))"primary"===ae?H.unshift(ae):H.push(ae);return(0,pe.H)(H).pipe((0,Be.H)(ae=>{const Pe=N.children[ae],yt=function go(D,O){const w=D.filter(N=>Rr(N)===O);return w.push(...D.filter(N=>Rr(N)!==O)),w}(w,ae);return this.processSegmentGroup(O,yt,Pe,ae)}),(0,Ve.S)((ae,Pe)=>(ae.push(...Pe),ae)),(0,rt.U)(null),function An(D,O){const w=arguments.length>=2;return N=>N.pipe(D?(0,Le.p)((H,ae)=>D(H,ae,N)):Se.D,Xe(1),w?(0,rt.U)(O):(0,Nt.v)(()=>new Rt.G))}(),(0,tt.Z)(ae=>{if(null===ae)return hs(N);const Pe=Ua(ae);return function Va(D){D.sort((O,w)=>O.value.outlet===Gt?-1:w.value.outlet===Gt?1:O.value.outlet.localeCompare(w.value.outlet))}(Pe),(0,Oe.of)(Pe)}))}processSegment(O,w,N,H,ae,Pe){return(0,pe.H)(w).pipe((0,Be.H)(yt=>this.processSegmentAgainstRoute(yt._injector??O,w,yt,N,H,ae,Pe).pipe((0,Ee.W)(dt=>{if(dt instanceof ao)return(0,Oe.of)(null);throw dt}))),(0,en.$)(yt=>!!yt),(0,Ee.W)(yt=>{if(Cs(yt))return function Ja(D,O,w){return 0===O.length&&!D.children[w]}(N,H,ae)?(0,Oe.of)([]):hs(N);throw yt}))}processSegmentAgainstRoute(O,w,N,H,ae,Pe,yt){return function Bl(D,O,w,N){return!!(Rr(D)===N||N!==Gt&&La(O,w,D))&&("**"===D.path||_o(O,D,w).matched)}(N,H,ae,Pe)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(O,H,N,ae,Pe,yt):yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,H,w,N,ae,Pe):hs(H):hs(H)}expandSegmentAgainstRouteUsingRedirect(O,w,N,H,ae,Pe){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,N,H,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ae,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,w,N,H){const ae=this.applyRedirects.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?Ia(ae):this.applyRedirects.lineralizeSegments(N,ae).pipe((0,tt.Z)(Pe=>{const yt=new zn(Pe,{});return this.processSegment(O,w,yt,Pe,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,w,N,H,ae,Pe){const{matched:yt,consumedSegments:dt,remainingSegments:Cn,positionalParamSegments:ir}=_o(w,H,ae);if(!yt)return hs(w);const br=this.applyRedirects.applyRedirectCommands(dt,H.redirectTo,ir);return H.redirectTo.startsWith("/")?Ia(br):this.applyRedirects.lineralizeSegments(H,br).pipe((0,tt.Z)(Fr=>this.processSegment(O,N,w,Fr.concat(Cn),Pe,!1)))}matchSegmentAgainstRoute(O,w,N,H,ae,Pe){let yt;if("**"===N.path){const dt=H.length>0?Gn(H).parameters:{},Cn=new wi(H,dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wc(N),Rr(N),N.component??N._loadedComponent??null,N,P(N));yt=(0,Oe.of)({snapshot:Cn,consumedSegments:[],remainingSegments:[]}),w.children={}}else yt=il(w,N,H,O).pipe((0,Pt.T)(({matched:dt,consumedSegments:Cn,remainingSegments:ir,parameters:br})=>dt?{snapshot:new wi(Cn,br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wc(N),Rr(N),N.component??N._loadedComponent??null,N,P(N)),consumedSegments:Cn,remainingSegments:ir}:null));return yt.pipe((0,jt.n)(dt=>null===dt?hs(w):this.getChildConfig(O=N._injector??O,N,H).pipe((0,jt.n)(({routes:Cn})=>{const ir=N._loadedInjector??O,{snapshot:br,consumedSegments:Fr,remainingSegments:_i}=dt,{segmentGroup:rc,slicedSegments:Mc}=Oo(w,Fr,_i,Cn);if(0===Mc.length&&rc.hasChildren())return this.processChildren(ir,Cn,rc).pipe((0,Pt.T)(Rc=>null===Rc?null:[new As(br,Rc)]));if(0===Cn.length&&0===Mc.length)return(0,Oe.of)([new As(br,[])]);const ll=Rr(N)===ae;return this.processSegment(ir,Cn,rc,Mc,ll?Gt:ae,!0).pipe((0,Pt.T)(Rc=>[new As(br,Rc)]))}))))}getChildConfig(O,w,N){return w.children?(0,Oe.of)({routes:w.children,injector:O}):w.loadChildren?void 0!==w._loadedRoutes?(0,Oe.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Cc(D,O,w,N){const H=O.canLoad;if(void 0===H||0===H.length)return(0,Oe.of)(!0);const ae=H.map(Pe=>{const yt=Ss(Pe,D);return ln(function W(D){return D&&ba(D.canLoad)}(yt)?yt.canLoad(O,w):D.runInContext(()=>yt(O,w)))});return(0,Oe.of)(ae).pipe(ss(),Yi())}(O,w,N).pipe((0,tt.Z)(H=>H?this.configLoader.loadChildren(O,w).pipe((0,De.M)(ae=>{w._loadedRoutes=ae.routes,w._loadedInjector=ae.injector})):function Qa(D){return(0,qe.$)(vn(!1,3))}())):(0,Oe.of)({routes:[],injector:O})}}function Za(D){const O=D.value.routeConfig;return O&&""===O.path}function Ua(D){const O=[],w=new Set;for(const N of D){if(!Za(N)){O.push(N);continue}const H=O.find(ae=>N.value.routeConfig===ae.value.routeConfig);void 0!==H?(H.children.push(...N.children),w.add(H)):O.push(N)}for(const N of w){const H=Ua(N.children);O.push(new As(N.value,H))}return O.filter(N=>!w.has(N))}function wc(D){return D.data||{}}function P(D){return D.resolve||{}}function Un(D){return"string"==typeof D.title||null===D.title}function Wr(D){return(0,jt.n)(O=>{const w=D(O);return w?(0,pe.H)(w).pipe((0,Pt.T)(()=>O)):(0,Oe.of)(O)})}const gi=new c.nKC("ROUTES");let ri=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,Oe.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const N=ln(w.loadComponent()).pipe((0,Pt.T)(mi),(0,De.M)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=ae}),(0,sn.j)(()=>{this.componentLoaders.delete(w)})),H=new rn(N,()=>new yn.B).pipe(xe());return this.componentLoaders.set(w,H),H}loadChildren(w,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,Oe.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const ae=function pr(D,O,w,N){return ln(D.loadChildren()).pipe((0,Pt.T)(mi),(0,tt.Z)(H=>H instanceof c.Co$||Array.isArray(H)?(0,Oe.of)(H):(0,pe.H)(O.compileModuleAsync(H))),(0,Pt.T)(H=>{N&&N(D);let ae,Pe,yt=!1;return Array.isArray(H)?(Pe=H,!0):(ae=H.create(w).injector,Pe=ae.get(gi,[],{optional:!0,self:!0}).flat()),{routes:Pe.map(Di),injector:ae}}))}(N,this.compiler,w,this.onLoadEndListener).pipe((0,sn.j)(()=>{this.childrenLoaders.delete(N)})),Pe=new rn(ae,()=>new yn.B).pipe(xe());return this.childrenLoaders.set(N,Pe),Pe}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function mi(D){return function ii(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Ri=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yn.B,this.transitionAbortSubject=new yn.B,this.configLoader=(0,c.WQX)(ri),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Re),this.rootContexts=(0,c.WQX)(ai),this.inputBindingEnabled=null!==(0,c.WQX)(Z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new js(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new va(H))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const N=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:N})}setupNavigations(w,N,H){return this.transitions=new be.t({id:0,currentUrlTree:N,currentRawUrl:N,currentBrowserUrl:N,extractedUrl:w.urlHandlingStrategy.extract(N),urlAfterRedirects:w.urlHandlingStrategy.extract(N),rawUrl:N,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Le.p)(ae=>0!==ae.id),(0,Pt.T)(ae=>({...ae,extractedUrl:w.urlHandlingStrategy.extract(ae.rawUrl)})),(0,jt.n)(ae=>{this.currentTransition=ae;let Pe=!1,yt=!1;return(0,Oe.of)(ae).pipe((0,De.M)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jt.n)(dt=>{const Cn=dt.currentBrowserUrl.toString(),ir=!w.navigated||dt.extractedUrl.toString()!==Cn||Cn!==dt.currentUrlTree.toString();if(!ir&&"reload"!==(dt.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Fr="";return this.events.next(new wr(dt.id,this.urlSerializer.serialize(dt.rawUrl),Fr,0)),dt.resolve(null),it.w}if(w.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return(0,Oe.of)(dt).pipe((0,jt.n)(Fr=>{const _i=this.transitions?.getValue();return this.events.next(new Yr(Fr.id,this.urlSerializer.serialize(Fr.extractedUrl),Fr.source,Fr.restoredState)),_i!==this.transitions?.getValue()?it.w:Promise.resolve(Fr)}),function te(D,O,w,N,H,ae){return(0,tt.Z)(Pe=>function Ko(D,O,w,N,H,ae,Pe="emptyOnly"){return new Ic(D,O,w,N,H,Pe,ae).recognize()}(D,O,w,N,Pe.extractedUrl,H,ae).pipe((0,Pt.T)(({state:yt,tree:dt})=>({...Pe,targetSnapshot:yt,urlAfterRedirects:dt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,De.M)(Fr=>{ae.targetSnapshot=Fr.targetSnapshot,ae.urlAfterRedirects=Fr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Fr.urlAfterRedirects};const _i=new So(Fr.id,this.urlSerializer.serialize(Fr.extractedUrl),this.urlSerializer.serialize(Fr.urlAfterRedirects),Fr.targetSnapshot);this.events.next(_i)}));if(ir&&w.urlHandlingStrategy.shouldProcessUrl(dt.currentRawUrl)){const{id:Fr,extractedUrl:_i,source:rc,restoredState:Mc,extras:ll}=dt,Rc=new Yr(Fr,this.urlSerializer.serialize(_i),rc,Mc);this.events.next(Rc);const Lu=tn(0,this.rootComponentType).snapshot;return this.currentTransition=ae={...dt,targetSnapshot:Lu,urlAfterRedirects:_i,extras:{...ll,skipLocationChange:!1,replaceUrl:!1}},(0,Oe.of)(ae)}{const Fr="";return this.events.next(new wr(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Fr,1)),dt.resolve(null),it.w}}),(0,De.M)(dt=>{const Cn=new hi(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(Cn)}),(0,Pt.T)(dt=>(this.currentTransition=ae={...dt,guards:Go(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)},ae)),function mo(D,O){return(0,tt.Z)(w=>{const{targetSnapshot:N,currentSnapshot:H,guards:{canActivateChecks:ae,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===ae.length?(0,Oe.of)({...w,guardsResult:!0}):function Gs(D,O,w,N){return(0,pe.H)(D).pipe((0,tt.Z)(H=>function qi(D,O,w,N,H){const ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,Oe.of)(!0);const Pe=ae.map(yt=>{const dt=is(O)??H,Cn=Ss(yt,dt);return ln(function ce(D){return D&&ba(D.canDeactivate)}(Cn)?Cn.canDeactivate(D,O,w,N):dt.runInContext(()=>Cn(D,O,w,N))).pipe((0,en.$)())});return(0,Oe.of)(Pe).pipe(ss())}(H.component,H.route,w,O,N)),(0,en.$)(H=>!0!==H,!0))}(Pe,N,H,D).pipe((0,tt.Z)(yt=>yt&&function Po(D){return"boolean"==typeof D}(yt)?function Hi(D,O,w,N){return(0,pe.H)(O).pipe((0,Be.H)(H=>(0,pn.x)(function bc(D,O){return null!==D&&O&&O(new ni(D)),(0,Oe.of)(!0)}(H.route.parent,N),function Wo(D,O){return null!==D&&O&&O(new Bs(D)),(0,Oe.of)(!0)}(H.route,N),function Mo(D,O,w){const N=O[O.length-1],ae=O.slice(0,O.length-1).reverse().map(Pe=>function bs(D){const O=D.routeConfig?D.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:D,guards:O}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>Ce(()=>{const yt=Pe.guards.map(dt=>{const Cn=is(Pe.node)??w,ir=Ss(dt,Cn);return ln(function V(D){return D&&ba(D.canActivateChild)}(ir)?ir.canActivateChild(N,D):Cn.runInContext(()=>ir(N,D))).pipe((0,en.$)())});return(0,Oe.of)(yt).pipe(ss())}));return(0,Oe.of)(ae).pipe(ss())}(D,H.path,w),function xs(D,O,w){const N=O.routeConfig?O.routeConfig.canActivate:null;if(!N||0===N.length)return(0,Oe.of)(!0);const H=N.map(ae=>Ce(()=>{const Pe=is(O)??w,yt=Ss(ae,Pe);return ln(function J(D){return D&&ba(D.canActivate)}(yt)?yt.canActivate(O,D):Pe.runInContext(()=>yt(O,D))).pipe((0,en.$)())}));return(0,Oe.of)(H).pipe(ss())}(D,H.route,w))),(0,en.$)(H=>!0!==H,!0))}(N,ae,D,O):(0,Oe.of)(yt)),(0,Pt.T)(yt=>({...w,guardsResult:yt})))})}(this.environmentInjector,dt=>this.events.next(dt)),(0,De.M)(dt=>{if(ae.guardsResult=dt.guardsResult,Ne(dt.guardsResult))throw Sn(0,dt.guardsResult);const Cn=new Fa(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.events.next(Cn)}),(0,Le.p)(dt=>!!dt.guardsResult||(this.cancelNavigationTransition(dt,"",3),!1)),Wr(dt=>{if(dt.guards.canActivateChecks.length)return(0,Oe.of)(dt).pipe((0,De.M)(Cn=>{const ir=new Xa(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(ir)}),(0,jt.n)(Cn=>{let ir=!1;return(0,Oe.of)(Cn).pipe(function B(D,O){return(0,tt.Z)(w=>{const{targetSnapshot:N,guards:{canActivateChecks:H}}=w;if(!H.length)return(0,Oe.of)(w);let ae=0;return(0,pe.H)(H).pipe((0,Be.H)(Pe=>function Y(D,O,w,N){const H=D.routeConfig,ae=D._resolve;return void 0!==H?.title&&!Un(H)&&(ae[Lt]=H.title),function Me(D,O,w,N){const H=function Ct(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,Oe.of)({});const ae={};return(0,pe.H)(H).pipe((0,tt.Z)(Pe=>function kt(D,O,w,N){const H=is(O)??N,ae=Ss(D,H);return ln(ae.resolve?ae.resolve(O,w):H.runInContext(()=>ae(O,w)))}(D[Pe],O,w,N).pipe((0,en.$)(),(0,De.M)(yt=>{ae[Pe]=yt}))),Xe(1),function sr(D){return(0,Pt.T)(()=>D)}(ae),(0,Ee.W)(Pe=>Cs(Pe)?it.w:(0,qe.$)(Pe)))}(ae,D,O,N).pipe((0,Pt.T)(Pe=>(D._resolvedData=Pe,D.data=Xr(D,w).resolve,H&&Un(H)&&(D.data[Lt]=H.title),null)))}(Pe.route,N,D,O)),(0,De.M)(()=>ae++),Xe(1),(0,tt.Z)(Pe=>ae===H.length?(0,Oe.of)(w):it.w))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,De.M)({next:()=>ir=!0,complete:()=>{ir||this.cancelNavigationTransition(Cn,"",2)}}))}),(0,De.M)(Cn=>{const ir=new Pi(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(ir)}))}),Wr(dt=>{const Cn=ir=>{const br=[];ir.routeConfig?.loadComponent&&!ir.routeConfig._loadedComponent&&br.push(this.configLoader.loadComponent(ir.routeConfig).pipe((0,De.M)(Fr=>{ir.component=Fr}),(0,Pt.T)(()=>{})));for(const Fr of ir.children)br.push(...Cn(Fr));return br};return Dt(Cn(dt.targetSnapshot.root)).pipe((0,rt.U)(),(0,Yt.s)(1))}),Wr(()=>this.afterPreactivation()),(0,Pt.T)(dt=>{const Cn=function Ae(D,O,w){const N=ke(D,O._root,w?w._root:void 0);return new ci(N,O)}(w.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return this.currentTransition=ae={...dt,targetRouterState:Cn},ae}),(0,De.M)(()=>{this.events.next(new Ar)}),((D,O,w,N)=>(0,Pt.T)(H=>(new Ho(O,H.targetRouterState,H.currentRouterState,w,N).activate(D),H)))(this.rootContexts,w.routeReuseStrategy,dt=>this.events.next(dt),this.inputBindingEnabled),(0,Yt.s)(1),(0,De.M)({next:dt=>{Pe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects))),w.titleStrategy?.updateTitle(dt.targetRouterState.snapshot),dt.resolve(!0)},complete:()=>{Pe=!0}}),function Xt(D){return(0,Ot.N)((O,w)=>{(0,Ge.Tg)(D).subscribe((0,lt._)(w,()=>w.complete(),Ln.l)),!w.closed&&O.subscribe(w)})}(this.transitionAbortSubject.pipe((0,De.M)(dt=>{throw dt}))),(0,sn.j)(()=>{Pe||yt||this.cancelNavigationTransition(ae,"",1),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,Ee.W)(dt=>{if(yt=!0,Dr(dt))this.events.next(new Oi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),dt.message,dt.cancellationCode)),function Zn(D){return Dr(D)&&Ne(D.url)}(dt)?this.events.next(new fi(dt.url)):ae.resolve(!1);else{this.events.next(new io(ae.id,this.urlSerializer.serialize(ae.extractedUrl),dt,ae.targetSnapshot??void 0));try{ae.resolve(w.errorHandler(dt))}catch(Cn){ae.reject(Cn)}}return it.w}))}))}cancelNavigationTransition(w,N,H){const ae=new Oi(w.id,this.urlSerializer.serialize(w.extractedUrl),N,H);this.events.next(ae),w.resolve(!1)}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function co(D){return D!==Zi}let Ts=(()=>{class D{buildTitle(w){let N,H=w.root;for(;void 0!==H;)N=this.getResolvedTitleForRoute(H)??N,H=H.children.find(ae=>ae.outlet===Gt);return N}getResolvedTitleForRoute(w){return w.data[Lt]}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:function(){return(0,c.WQX)(ca)},providedIn:"root"})}}return D})(),ca=(()=>{class D extends Ts{constructor(w){super(),this.title=w}updateTitle(w){const N=this.buildTitle(w);void 0!==N&&this.title.setTitle(N)}static{this.\u0275fac=function(N){return new(N||D)(c.KVO(kn.hE))}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),zs=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:function(){return(0,c.WQX)(os)},providedIn:"root"})}}return D})();class Ns{shouldDetach(O){return!1}store(O,w){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,w){return O.routeConfig===w.routeConfig}}let os=(()=>{class D extends Ns{static{this.\u0275fac=function(){let w;return function(H){return(w||(w=c.xGo(D)))(H||D)}}()}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const ko=new c.nKC("",{providedIn:"root",factory:()=>({})});let jh=(()=>{class D{static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:function(){return(0,c.WQX)(Er)},providedIn:"root"})}}return D})(),Er=(()=>{class D{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,N){return w}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var Mr=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Mr||{});function Ac(D,O){D.events.pipe((0,Le.p)(w=>w instanceof Bi||w instanceof Oi||w instanceof io||w instanceof wr),(0,Pt.T)(w=>w instanceof Bi||w instanceof wr?Mr.COMPLETE:w instanceof Oi&&(0===w.code||1===w.code)?Mr.REDIRECTING:Mr.FAILED),(0,Le.p)(w=>w!==Mr.REDIRECTING),(0,Yt.s)(1)).subscribe(()=>{O()})}function to(D){throw D}function Pu(D,O,w){return O.parse("/")}const Mu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.WQX)(c.H3F),this.isNgZoneEnabled=!1,this._events=new yn.B,this.options=(0,c.WQX)(ko,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.$K3),this.errorHandler=this.options.errorHandler||to,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.WQX)(jh),this.routeReuseStrategy=(0,c.WQX)(zs),this.titleStrategy=(0,c.WQX)(Ts),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.WQX)(gi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.WQX)(Ri),this.urlSerializer=(0,c.WQX)(Re),this.location=(0,c.WQX)(ur.aZ),this.componentInputBindingEnabled=!!(0,c.WQX)(Z,{optional:!0}),this.eventsSubscription=new St.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(N=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(la(N)&&this._events.next(N));if(N instanceof Yr)co(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(N instanceof wr)this.rawUrlTree=H.rawUrl;else if(N instanceof So){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ae,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(N instanceof Ar)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(N instanceof Oi)0!==N.code&&1!==N.code&&(this.navigated=!0),(3===N.code||2===N.code)&&this.restoreHistory(H);else if(N instanceof fi){const ae=this.urlHandlingStrategy.merge(N.url,H.currentRawUrl),Pe={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||co(H.source)};this.scheduleNavigation(ae,Zi,null,Pe,{resolve:H.resolve,reject:H.reject,promise:H.promise})}N instanceof io&&this.restoreHistory(H,!0),N instanceof Bi&&(this.navigated=!0),la(N)&&this._events.next(N)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zi,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const N="popstate"===w.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,N,w.state)},0)}))}navigateToSyncWithBrowser(w,N,H){const ae={replaceUrl:!0},Pe=H?.navigationId?H:null;if(H){const dt={...H};delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(ae.state=dt)}const yt=this.parseUrl(w);this.scheduleNavigation(yt,N,Pe,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Di),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,N={}){const{relativeTo:H,queryParams:ae,fragment:Pe,queryParamsHandling:yt,preserveFragment:dt}=N,Cn=dt?this.currentUrlTree.fragment:Pe;let br,ir=null;switch(yt){case"merge":ir={...this.currentUrlTree.queryParams,...ae};break;case"preserve":ir=this.currentUrlTree.queryParams;break;default:ir=ae||null}null!==ir&&(ir=this.removeEmptyProps(ir));try{br=ge(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),br=this.currentUrlTree.root}return me(br,w,ir,Cn??null)}navigateByUrl(w,N={skipLocationChange:!1}){const H=Ne(w)?w:this.parseUrl(w),ae=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ae,Zi,null,N)}navigate(w,N={skipLocationChange:!1}){return function Dc(D){for(let O=0;O<D.length;O++)if(null==D[O])throw new c.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,N),N)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let N;try{N=this.urlSerializer.parse(w)}catch(H){N=this.malformedUriErrorHandler(H,this.urlSerializer,w)}return N}isActive(w,N){let H;if(H=!0===N?{...Mu}:!1===N?{...yo}:N,Ne(w))return ei(this.currentUrlTree,w,H);const ae=this.parseUrl(w);return ei(this.currentUrlTree,ae,H)}removeEmptyProps(w){return Object.keys(w).reduce((N,H)=>{const ae=w[H];return null!=ae&&(N[H]=ae),N},{})}scheduleNavigation(w,N,H,ae,Pe){if(this.disposed)return Promise.resolve(!1);let yt,dt,Cn;Pe?(yt=Pe.resolve,dt=Pe.reject,Cn=Pe.promise):Cn=new Promise((br,Fr)=>{yt=br,dt=Fr});const ir=this.pendingTasks.add();return Ac(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ir))}),this.navigationTransitions.handleNavigationRequest({source:N,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:w,extras:ae,resolve:yt,reject:dt,promise:Cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Cn.catch(br=>Promise.reject(br))}setBrowserUrl(w,N){const H=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(H)||N.extras.replaceUrl){const Pe={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId)};this.location.replaceState(H,"",Pe)}else{const ae={...N.extras.state,...this.generateNgRouterState(N.id,this.browserPageId+1)};this.location.go(H,"",ae)}}restoreHistory(w,N=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,N){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:N}:{navigationId:w}}static{this.\u0275fac=function(N){return new(N||D)}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function la(D){return!(D instanceof Ar||D instanceof fi)}let qo=(()=>{class D{constructor(w,N,H,ae,Pe,yt){this.router=w,this.route=N,this.tabIndexAttribute=H,this.renderer=ae,this.el=Pe,this.locationStrategy=yt,this.href=null,this.commands=null,this.onChanges=new yn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const dt=Pe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===dt||"area"===dt,this.isAnchorElement?this.subscription=w.events.subscribe(Cn=>{Cn instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,N,H,ae,Pe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||N||H||ae||Pe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,N){const H=this.renderer,ae=this.el.nativeElement;null!==N?H.setAttribute(ae,w,N):H.removeAttribute(ae,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(N){return new(N||D)(c.rXU(Ei),c.rXU(Wn),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(ur.hb))}}static{this.\u0275dir=c.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(N,H){1&N&&c.bIt("click",function(Pe){return H.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&N&&c.BMQ("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.L39],skipLocationChange:["skipLocationChange","skipLocationChange",c.L39],replaceUrl:["replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}}return D})(),as=(()=>{class D{get isActive(){return this._isActive}constructor(w,N,H,ae,Pe){this.router=w,this.element=N,this.renderer=H,this.cdr=ae,this.link=Pe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.bkB,this.routerEventsSubscription=w.events.subscribe(yt=>{yt instanceof Bi&&this.update()})}ngAfterContentInit(){(0,Oe.of)(this.links.changes,(0,Oe.of)(null)).pipe((0,$n.U)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const w=[...this.links.toArray(),this.link].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,pe.H)(w).pipe((0,$n.U)()).subscribe(N=>{this._isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(w){const N=Array.isArray(w)?w:w.split(" ");this.classes=N.filter(H=>!!H)}ngOnChanges(w){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const w=this.hasActiveLinks();this._isActive!==w&&(this._isActive=w,this.cdr.markForCheck(),this.classes.forEach(N=>{w?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),w&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(w))})}isLinkActive(w){const N=function Fo(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return H=>!!H.urlTree&&w.isActive(H.urlTree,N)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.links.some(w)}static{this.\u0275fac=function(N){return new(N||D)(c.rXU(Ei),c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(c.gRc),c.rXU(qo,8))}}static{this.\u0275dir=c.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(N,H,ae){if(1&N&&c.wni(ae,qo,5),2&N){let Pe;c.mGM(Pe=c.lsd())&&(H.links=Pe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.OA$]})}}return D})();class Sc{}let vo=(()=>{class D{constructor(w,N,H,ae,Pe){this.router=w,this.injector=H,this.preloadingStrategy=ae,this.loader=Pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Le.p)(w=>w instanceof Bi),(0,Be.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,N){const H=[];for(const ae of N){ae.providers&&!ae._injector&&(ae._injector=(0,c.Ol2)(ae.providers,w,`Route: ${ae.path}`));const Pe=ae._injector??w,yt=ae._loadedInjector??Pe;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&H.push(this.preloadConfig(Pe,ae)),(ae.children||ae._loadedRoutes)&&H.push(this.processRoutes(yt,ae.children??ae._loadedRoutes))}return(0,pe.H)(H).pipe((0,$n.U)())}preloadConfig(w,N){return this.preloadingStrategy.preload(N,()=>{let H;H=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(w,N):(0,Oe.of)(null);const ae=H.pipe((0,tt.Z)(Pe=>null===Pe?(0,Oe.of)(void 0):(N._loadedRoutes=Pe.routes,N._loadedInjector=Pe.injector,this.processRoutes(Pe.injector??w,Pe.routes))));if(N.loadComponent&&!N._loadedComponent){const Pe=this.loader.loadComponent(N);return(0,pe.H)([ae,Pe]).pipe((0,$n.U)())}return ae})}static{this.\u0275fac=function(N){return new(N||D)(c.KVO(Ei),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Sc),c.KVO(ri))}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const lo=new c.nKC("");let Hn=(()=>{class D{constructor(w,N,H,ae,Pe={}){this.urlSerializer=w,this.transitions=N,this.viewportScroller=H,this.zone=ae,this.options=Pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pe.scrollPositionRestoration=Pe.scrollPositionRestoration||"disabled",Pe.anchorScrolling=Pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Bi?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof wr&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof $s&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,N){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $s(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(N){c.QTQ()}}static{this.\u0275prov=c.jDH({token:D,factory:D.\u0275fac})}}return D})();function wa(D,O){return{\u0275kind:D,\u0275providers:O}}function Ru(){const D=(0,c.WQX)(c.zZn);return O=>{const w=D.get(c.o8S);if(O!==w.components[0])return;const N=D.get(Ei),H=D.get(Ou);1===D.get(Xi)&&N.initialNavigation(),D.get(Sr,null,c.$GK.Optional)?.setUpPreloading(),D.get(lo,null,c.$GK.Optional)?.init(),N.resetRootComponentType(w.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Ou=new c.nKC("",{factory:()=>new yn.B}),Xi=new c.nKC("",{providedIn:"root",factory:()=>1}),Sr=new c.nKC("");function Lo(D){return wa(0,[{provide:Sr,useExisting:vo},{provide:Sc,useExisting:D}])}const nc=new c.nKC("ROUTER_FORROOT_GUARD"),Gl=[ur.aZ,{provide:Re,useClass:vt},Ei,ai,{provide:Wn,useFactory:function ol(D){return D.routerState.root},deps:[Ei]},ri,[]];function zl(){return new c.NEm("Router",Ei)}let Vo=(()=>{class D{constructor(w){}static forRoot(w,N){return{ngModule:D,providers:[Gl,[],{provide:gi,multi:!0,useValue:w},{provide:nc,useFactory:ua,deps:[[Ei,new c.Xx1,new c.kdw]]},{provide:ko,useValue:N||{}},N?.useHash?{provide:ur.hb,useClass:ur.fw}:{provide:ur.hb,useClass:ur.Sm},{provide:lo,useFactory:()=>{const D=(0,c.WQX)(ur.Xr),O=(0,c.WQX)(c.SKi),w=(0,c.WQX)(ko),N=(0,c.WQX)(Ri),H=(0,c.WQX)(Re);return w.scrollOffset&&D.setOffset(w.scrollOffset),new Hn(H,N,D,O,w)}},N?.preloadingStrategy?Lo(N.preloadingStrategy).\u0275providers:[],{provide:c.NEm,multi:!0,useFactory:zl},N?.initialNavigation?Xn(N):[],N?.bindToComponentInputs?wa(8,[Q,{provide:Z,useExisting:Q}]).\u0275providers:[],[{provide:Qs,useFactory:Ru},{provide:c.iLQ,multi:!0,useExisting:Qs}]]}}static forChild(w){return{ngModule:D,providers:[{provide:gi,multi:!0,useValue:w}]}}static{this.\u0275fac=function(N){return new(N||D)(c.KVO(nc,8))}}static{this.\u0275mod=c.$C({type:D})}static{this.\u0275inj=c.G2t({})}}return D})();function ua(D){return"guarded"}function Xn(D){return["disabled"===D.initialNavigation?wa(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const O=(0,c.WQX)(Ei);return()=>{O.setUpLocationChangeListener()}}},{provide:Xi,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?wa(2,[{provide:Xi,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:O=>{const w=O.get(ur.hj,Promise.resolve());return()=>w.then(()=>new Promise(N=>{const H=O.get(Ei),ae=O.get(Ou);Ac(H,()=>{N(!0)}),O.get(Ri).afterPreactivation=()=>(N(!0),ae.closed?(0,Oe.of)(void 0):ae),H.initialNavigation()}))}}]).\u0275providers:[]]}const Qs=new c.nKC("")},3345:(on,Je,j)=>{j.d(Je,{A:()=>Dt});var c=j(1076),ue=j(1362),i=j(7852),Ie=j(8041);class pe{constructor(Ut,Rt){this._delegate=Ut,this.firebase=Rt,(0,i._addComponent)(Ut,new ue.uA("app-compat",()=>this,"PUBLIC")),this.container=Ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ut){this._delegate.automaticDataCollectionEnabled=Ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ut=>{this._delegate.checkDestroyed(),Ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(Ut,Rt=i._DEFAULT_ENTRY_NAME){var pn;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(Ut);return!Ge.isInitialized()&&"EXPLICIT"===(null===(pn=Ge.getComponent())||void 0===pn?void 0:pn.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Rt})}_removeServiceInstance(Ut,Rt=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ut).clearInstance(Rt)}_addComponent(Ut){(0,i._addComponent)(this._delegate,Ut)}_addOrOverwriteComponent(Ut){(0,i._addOrOverwriteComponent)(this._delegate,Ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Se(){const At=function Ue(At){const Ut={},Rt={__esModule:!0,initializeApp:function Ce(St,Ot={}){const xe=i.initializeApp(St,Ot);if((0,c.gR)(Ut,xe.name))return Ut[xe.name];const rn=new At(xe,Rt);return Ut[xe.name]=rn,rn},app:Ge,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function qe(St){const Ot=St.name,xe=Ot.replace("-compat","");if(i._registerComponent(St)&&"PUBLIC"===St.type){const rn=(yn=Ge())=>{if("function"!=typeof yn[xe])throw be.create("invalid-app-argument",{appName:Ot});return yn[xe]()};void 0!==St.serviceProps&&(0,c.zw)(rn,St.serviceProps),Rt[xe]=rn,At.prototype[xe]=function(...yn){return this._getService.bind(this,Ot).apply(this,St.multipleInstances?yn:[])}}return"PUBLIC"===St.type?Rt[xe]:null},removeApp:function pn(St){delete Ut[St]},useAsService:function it(St,Ot){return"serverAuth"===Ot?null:Ot},modularAPIs:i}};function Ge(St){if(!(0,c.gR)(Ut,St=St||i._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:St});return Ut[St]}return Rt.default=Rt,Object.defineProperty(Rt,"apps",{get:function et(){return Object.keys(Ut).map(St=>Ut[St])}}),Ge.App=At,Rt}(pe);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function Ut(Rt){(0,c.zw)(At,Rt)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),At}(),oe=new Ie.Vy("@firebase/app-compat");try{const At=(0,c.mS)();if(void 0!==At.firebase){oe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ut=At.firebase.SDK_VERSION;Ut&&Ut.indexOf("LITE")>=0&&oe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Dt=ee;!function Ze(At){(0,i.registerVersion)("@firebase/app-compat","0.2.43",At)}()},7852:(on,Je,j)=>{j.r(Je),j.d(Je,{FirebaseError:()=>Ie.g,SDK_VERSION:()=>vt,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>di,_addOrOverwriteComponent:()=>_s,_apps:()=>xr,_clearComponents:()=>Si,_components:()=>Kn,_getProvider:()=>ti,_isFirebaseApp:()=>Cr,_isFirebaseServerApp:()=>zn,_registerComponent:()=>gn,_removeServiceInstance:()=>rr,_serverApps:()=>ei,deleteApp:()=>Ti,getApp:()=>Lr,getApps:()=>Tr,initializeApp:()=>Kt,initializeServerApp:()=>jn,onLog:()=>M,registerVersion:()=>$,setLogLevel:()=>k});var c=j(467),ue=j(1362),i=j(8041),Ie=j(1076);const pe=(me,we)=>we.some(wt=>me instanceof wt);let Oe,be;const ee=new WeakMap,oe=new WeakMap,_e=new WeakMap,lt=new WeakMap,Ze=new WeakMap;let Ut={get(me,we,wt){if(me instanceof IDBTransaction){if("done"===we)return oe.get(me);if("objectStoreNames"===we)return me.objectStoreNames||_e.get(me);if("store"===we)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return Ce(me[we])},set:(me,we,wt)=>(me[we]=wt,!0),has:(me,we)=>me instanceof IDBTransaction&&("done"===we||"store"===we)||we in me};function Ge(me){return"function"==typeof me?function pn(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...we){return me.apply(et(this),we),Ce(ee.get(this))}:function(...we){return Ce(me.apply(et(this),we))}:function(we,...wt){const qt=me.call(et(this),we,...wt);return _e.set(qt,we.sort?we.sort():[we]),Ce(qt)}}(me):(me instanceof IDBTransaction&&function At(me){if(oe.has(me))return;const we=new Promise((wt,qt)=>{const Vn=()=>{me.removeEventListener("complete",On),me.removeEventListener("error",hr),me.removeEventListener("abort",hr)},On=()=>{wt(),Vn()},hr=()=>{qt(me.error||new DOMException("AbortError","AbortError")),Vn()};me.addEventListener("complete",On),me.addEventListener("error",hr),me.addEventListener("abort",hr)});oe.set(me,we)}(me),pe(me,function Ue(){return Oe||(Oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Ut):me)}function Ce(me){if(me instanceof IDBRequest)return function Dt(me){const we=new Promise((wt,qt)=>{const Vn=()=>{me.removeEventListener("success",On),me.removeEventListener("error",hr)},On=()=>{wt(Ce(me.result)),Vn()},hr=()=>{qt(me.error),Vn()};me.addEventListener("success",On),me.addEventListener("error",hr)});return we.then(wt=>{wt instanceof IDBCursor&&ee.set(wt,me)}).catch(()=>{}),Ze.set(we,me),we}(me);if(lt.has(me))return lt.get(me);const we=Ge(me);return we!==me&&(lt.set(me,we),Ze.set(we,me)),we}const et=me=>Ze.get(me),St=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],xe=new Map;function rn(me,we){if(!(me instanceof IDBDatabase)||we in me||"string"!=typeof we)return;if(xe.get(we))return xe.get(we);const wt=we.replace(/FromIndex$/,""),qt=we!==wt,Vn=Ot.includes(wt);if(!(wt in(qt?IDBIndex:IDBObjectStore).prototype)||!Vn&&!St.includes(wt))return;const On=function(){var hr=(0,c.A)(function*(Hr,...qr){const Ir=this.transaction(Hr,Vn?"readwrite":"readonly");let Qi=Ir.store;return qt&&(Qi=Qi.index(qr.shift())),(yield Promise.all([Qi[wt](...qr),Vn&&Ir.done]))[0]});return function(qr){return hr.apply(this,arguments)}}();return xe.set(we,On),On}!function Rt(me){Ut=me(Ut)}(me=>({...me,get:(we,wt,qt)=>rn(we,wt)||me.get(we,wt,qt),has:(we,wt)=>!!rn(we,wt)||me.has(we,wt)}));class yn{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function ur(me){const we=me.getComponent();return"VERSION"===we?.type}(wt)){const qt=wt.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(wt=>wt).join(" ")}}const Pt="@firebase/app",jt="0.10.13",Yt=new i.Vy("@firebase/app"),ln="[DEFAULT]",$r={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},xr=new Map,ei=new Map,Kn=new Map;function di(me,we){try{me.container.addComponent(we)}catch(wt){Yt.debug(`Component ${we.name} failed to register with FirebaseApp ${me.name}`,wt)}}function _s(me,we){me.container.addOrOverwriteComponent(we)}function gn(me){const we=me.name;if(Kn.has(we))return Yt.debug(`There were multiple attempts to register component ${we}.`),!1;Kn.set(we,me);for(const wt of xr.values())di(wt,me);for(const wt of ei.values())di(wt,me);return!0}function ti(me,we){const wt=me.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),me.container.getProvider(we)}function rr(me,we,wt=ln){ti(me,we).clearInstance(wt)}function Cr(me){return void 0!==me.options}function zn(me){return void 0!==me.settings}function Si(){Kn.clear()}const gt=new Ie.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class le{constructor(we,wt,qt){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}class Re extends le{constructor(we,wt,qt,Vn){const On=void 0!==wt.automaticDataCollectionEnabled&&wt.automaticDataCollectionEnabled,hr={name:qt,automaticDataCollectionEnabled:On};super(void 0!==we.apiKey?we:we.options,hr,Vn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:On},wt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,wt.releaseOnDeref=void 0,$(Pt,jt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(we){this.isDeleted||(this._refCount++,void 0!==we&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(we,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ti(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw gt.create("server-app-deleted")}}const vt="10.14.1";function Kt(me,we={}){let wt=me;"object"!=typeof we&&(we={name:we});const qt=Object.assign({name:ln,automaticDataCollectionEnabled:!1},we),Vn=qt.name;if("string"!=typeof Vn||!Vn)throw gt.create("bad-app-name",{appName:String(Vn)});if(wt||(wt=(0,Ie.T9)()),!wt)throw gt.create("no-options");const On=xr.get(Vn);if(On){if((0,Ie.bD)(wt,On.options)&&(0,Ie.bD)(qt,On.config))return On;throw gt.create("duplicate-app",{appName:Vn})}const hr=new ue.h1(Vn);for(const qr of Kn.values())hr.addComponent(qr);const Hr=new le(wt,qt,hr);return xr.set(Vn,Hr),Hr}function jn(me,we){if((0,Ie.Bd)()&&!(0,Ie.p7)())throw gt.create("invalid-server-app-environment");let wt;void 0===we.automaticDataCollectionEnabled&&(we.automaticDataCollectionEnabled=!1),wt=Cr(me)?me.options:me;const qt=Object.assign(Object.assign({},we),wt);if(void 0!==qt.releaseOnDeref&&delete qt.releaseOnDeref,void 0!==we.releaseOnDeref&&typeof FinalizationRegistry>"u")throw gt.create("finalization-registry-not-supported",{});const On=""+(Ir=JSON.stringify(qt),[...Ir].reduce((Qi,Ms)=>Math.imul(31,Qi)+Ms.charCodeAt(0)|0,0)),hr=ei.get(On);var Ir;if(hr)return hr.incRefCount(we.releaseOnDeref),hr;const Hr=new ue.h1(On);for(const Ir of Kn.values())Hr.addComponent(Ir);const qr=new Re(wt,we,On,Hr);return ei.set(On,qr),qr}function Lr(me=ln){const we=xr.get(me);if(!we&&me===ln&&(0,Ie.T9)())return Kt();if(!we)throw gt.create("no-app",{appName:me});return we}function Tr(){return Array.from(xr.values())}function Ti(me){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.A)(function*(me){let we=!1;const wt=me.name;xr.has(wt)?(we=!0,xr.delete(wt)):ei.has(wt)&&me.decRefCount()<=0&&(ei.delete(wt),we=!0),we&&(yield Promise.all(me.container.getProviders().map(qt=>qt.delete())),me.isDeleted=!0)})).apply(this,arguments)}function $(me,we,wt){var qt;let Vn=null!==(qt=$r[me])&&void 0!==qt?qt:me;wt&&(Vn+=`-${wt}`);const On=Vn.match(/\s|\//),hr=we.match(/\s|\//);if(On||hr){const Hr=[`Unable to register library "${Vn}" with version "${we}":`];return On&&Hr.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),On&&hr&&Hr.push("and"),hr&&Hr.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void Yt.warn(Hr.join(" "))}gn(new ue.uA(`${Vn}-version`,()=>({library:Vn,version:we}),"VERSION"))}function M(me,we){if(null!==me&&"function"!=typeof me)throw gt.create("invalid-log-argument");(0,i.Ey)(me,we)}function k(me){(0,i.He)(me)}const ne="firebase-heartbeat-database",fe=1,st="firebase-heartbeat-store";let It=null;function an(){return It||(It=function qe(me,we,{blocked:wt,upgrade:qt,blocking:Vn,terminated:On}={}){const hr=indexedDB.open(me,we),Hr=Ce(hr);return qt&&hr.addEventListener("upgradeneeded",qr=>{qt(Ce(hr.result),qr.oldVersion,qr.newVersion,Ce(hr.transaction),qr)}),wt&&hr.addEventListener("blocked",qr=>wt(qr.oldVersion,qr.newVersion,qr)),Hr.then(qr=>{On&&qr.addEventListener("close",()=>On()),Vn&&qr.addEventListener("versionchange",Ir=>Vn(Ir.oldVersion,Ir.newVersion,Ir))}).catch(()=>{}),Hr}(ne,fe,{upgrade:(me,we)=>{if(0===we)try{me.createObjectStore(st)}catch(wt){console.warn(wt)}}}).catch(me=>{throw gt.create("idb-open",{originalErrorMessage:me.message})})),It}function Dn(){return(Dn=(0,c.A)(function*(me){try{const wt=(yield an()).transaction(st),qt=yield wt.objectStore(st).get(Vr(me));return yield wt.done,qt}catch(we){if(we instanceof Ie.g)Yt.warn(we.message);else{const wt=gt.create("idb-get",{originalErrorMessage:we?.message});Yt.warn(wt.message)}}})).apply(this,arguments)}function gr(me,we){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.A)(function*(me,we){try{const qt=(yield an()).transaction(st,"readwrite");yield qt.objectStore(st).put(we,Vr(me)),yield qt.done}catch(wt){if(wt instanceof Ie.g)Yt.warn(wt.message);else{const qt=gt.create("idb-set",{originalErrorMessage:wt?.message});Yt.warn(qt.message)}}})).apply(this,arguments)}function Vr(me){return`${me.name}!${me.options.appId}`}class vi{constructor(we){this.container=we,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new Ne(wt),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var we=this;return(0,c.A)(function*(){var wt,qt;try{const On=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hr=Li();return null==(null===(wt=we._heartbeatsCache)||void 0===wt?void 0:wt.heartbeats)&&(we._heartbeatsCache=yield we._heartbeatsCachePromise,null==(null===(qt=we._heartbeatsCache)||void 0===qt?void 0:qt.heartbeats))||we._heartbeatsCache.lastSentHeartbeatDate===hr||we._heartbeatsCache.heartbeats.some(Hr=>Hr.date===hr)?void 0:(we._heartbeatsCache.heartbeats.push({date:hr,agent:On}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Hr=>{const qr=new Date(Hr.date).valueOf();return Date.now()-qr<=2592e6}),we._storage.overwrite(we._heartbeatsCache))}catch(Vn){Yt.warn(Vn)}})()}getHeartbeatsHeader(){var we=this;return(0,c.A)(function*(){var wt;try{if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null==(null===(wt=we._heartbeatsCache)||void 0===wt?void 0:wt.heartbeats)||0===we._heartbeatsCache.heartbeats.length)return"";const qt=Li(),{heartbeatsToSend:Vn,unsentEntries:On}=function xi(me,we=1024){const wt=[];let qt=me.slice();for(const Vn of me){const On=wt.find(hr=>hr.agent===Vn.agent);if(On){if(On.dates.push(Vn.date),Mt(wt)>we){On.dates.pop();break}}else if(wt.push({agent:Vn.agent,dates:[Vn.date]}),Mt(wt)>we){wt.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:qt}}(we._heartbeatsCache.heartbeats),hr=(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:Vn}));return we._heartbeatsCache.lastSentHeartbeatDate=qt,On.length>0?(we._heartbeatsCache.heartbeats=On,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),hr}catch(qt){return Yt.warn(qt),""}})()}}function Li(){return(new Date).toISOString().substring(0,10)}class Ne{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,Ie.zW)()&&(0,Ie.eX)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,c.A)(function*(){if(yield we._canUseIndexedDBPromise){const qt=yield function dn(me){return Dn.apply(this,arguments)}(we.app);return qt?.heartbeats?qt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(we){var wt=this;return(0,c.A)(function*(){var qt;if(yield wt._canUseIndexedDBPromise){const On=yield wt.read();return gr(wt.app,{lastSentHeartbeatDate:null!==(qt=we.lastSentHeartbeatDate)&&void 0!==qt?qt:On.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var wt=this;return(0,c.A)(function*(){var qt;if(yield wt._canUseIndexedDBPromise){const On=yield wt.read();return gr(wt.app,{lastSentHeartbeatDate:null!==(qt=we.lastSentHeartbeatDate)&&void 0!==qt?qt:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...we.heartbeats]})}})()}}function Mt(me){return(0,Ie.Uj)(JSON.stringify({version:2,heartbeats:me})).length}!function ge(me){gn(new ue.uA("platform-logger",we=>new yn(we),"PRIVATE")),gn(new ue.uA("heartbeat",we=>new vi(we),"PRIVATE")),$(Pt,jt,me),$(Pt,jt,"esm2017"),$("fire-js","")}("")},1362:(on,Je,j)=>{j.d(Je,{h1:()=>Ue,uA:()=>i});var c=j(467),ue=j(1076);class i{constructor(ee,oe,_e){this.name=ee,this.instanceFactory=oe,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ie="[DEFAULT]";class pe{constructor(ee,oe){this.name=ee,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const oe=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(oe)){const _e=new ue.cY;if(this.instancesDeferred.set(oe,_e),this.isInitialized(oe)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:oe});lt&&_e.resolve(lt)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ee){var oe;const _e=this.normalizeInstanceIdentifier(ee?.identifier),lt=null!==(oe=ee?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Ze){if(lt)return null;throw Ze}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function be(Se){return"EAGER"===Se.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[oe,_e]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(oe);try{const Ze=this.getOrInitializeService({instanceIdentifier:lt});_e.resolve(Ze)}catch{}}}}clearInstance(ee=Ie){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,c.A)(function*(){const oe=Array.from(ee.instances.values());yield Promise.all([...oe.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...oe.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ie){return this.instances.has(ee)}getOptions(ee=Ie){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:oe={}}=ee,_e=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:_e,options:oe});for(const[Ze,Dt]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(Ze)&&Dt.resolve(lt);return lt}onInit(ee,oe){var _e;const lt=this.normalizeInstanceIdentifier(oe),Ze=null!==(_e=this.onInitCallbacks.get(lt))&&void 0!==_e?_e:new Set;Ze.add(ee),this.onInitCallbacks.set(lt,Ze);const Dt=this.instances.get(lt);return Dt&&ee(Dt,lt),()=>{Ze.delete(ee)}}invokeOnInitCallbacks(ee,oe){const _e=this.onInitCallbacks.get(oe);if(_e)for(const lt of _e)try{lt(ee,oe)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:oe={}}){let _e=this.instances.get(ee);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=ee,Se===Ie?void 0:Se),options:oe}),this.instances.set(ee,_e),this.instancesOptions.set(ee,oe),this.invokeOnInitCallbacks(_e,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,_e)}catch{}var Se;return _e||null}normalizeInstanceIdentifier(ee=Ie){return this.component?this.component.multipleInstances?ee:Ie:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const oe=this.getProvider(ee.name);if(oe.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);oe.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const oe=new pe(ee,this);return this.providers.set(ee,oe),oe}getProviders(){return Array.from(this.providers.values())}}},8041:(on,Je,j)=>{j.d(Je,{$b:()=>ue,Ey:()=>Se,He:()=>Ue,Vy:()=>be});const c=[];var ue=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(ue||{});const i={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Ie=ue.INFO,pe={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Oe=(ee,oe,..._e)=>{if(oe<ee.logLevel)return;const lt=(new Date).toISOString(),Ze=pe[oe];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Ze](`[${lt}]  ${ee.name}:`,..._e)};class be{constructor(oe){this.name=oe,this._logLevel=Ie,this._logHandler=Oe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in ue))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?i[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...oe),this._logHandler(this,ue.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...oe),this._logHandler(this,ue.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...oe),this._logHandler(this,ue.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...oe),this._logHandler(this,ue.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...oe),this._logHandler(this,ue.ERROR,...oe)}}function Ue(ee){c.forEach(oe=>{oe.setLogLevel(ee)})}function Se(ee,oe){for(const _e of c){let lt=null;oe&&oe.level&&(lt=i[oe.level]),_e.userLogHandler=null===ee?null:(Ze,Dt,...At)=>{const Ut=At.map(Rt=>{if(null==Rt)return null;if("string"==typeof Rt)return Rt;if("number"==typeof Rt||"boolean"==typeof Rt)return Rt.toString();if(Rt instanceof Error)return Rt.message;try{return JSON.stringify(Rt)}catch{return null}}).filter(Rt=>Rt).join(" ");Dt>=(lt??Ze.logLevel)&&ee({level:ue[Dt].toLowerCase(),message:Ut,args:At,type:Ze.name})}}}},2214:(on,Je,j)=>{j.d(Je,{Dk:()=>c.getApps,KO:()=>c.registerVersion,Sx:()=>c.getApp,Wp:()=>c.initializeApp});var c=j(7852);(0,c.registerVersion)("firebase","10.14.1","app")},7935:(on,Je,j)=>{j.d(Je,{A:()=>c.A});var c=j(3345);c.A.registerVersion("firebase","10.14.1","app-compat")},2438:(on,Je,j)=>{var c=j(467),ue=j(3345),i=j(5504),Ie=j(1076),be=(j(7852),j(8041),j(1362));function Ue(){return window}function oe(){return oe=(0,c.A)(function*($,M,k){var ne;const{BuildInfo:fe}=Ue();(0,i.au)(M.sessionId,"AuthEvent did not contain a session ID");const st=yield function Rt($){return pn.apply(this,arguments)}(M.sessionId),It={};return(0,i.av)()?It.ibi=fe.packageName:(0,i.aw)()?It.apn=fe.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),fe.displayName&&(It.appDisplayName=fe.displayName),It.sessionId=st,(0,i.ay)($,k,M.type,void 0,null!==(ne=M.eventId)&&void 0!==ne?ne:void 0,It)}),oe.apply(this,arguments)}function lt(){return(lt=(0,c.A)(function*($){const{BuildInfo:M}=Ue(),k={};(0,i.av)()?k.iosBundleId=M.packageName:(0,i.aw)()?k.androidPackageName=M.packageName:(0,i.ax)($,"operation-not-supported-in-this-environment"),yield(0,i.az)($,k)})).apply(this,arguments)}function At(){return(At=(0,c.A)(function*($,M,k){const{cordova:ne}=Ue();let fe=()=>{};try{yield new Promise((st,It)=>{let an=null;function dn(){var cn;st();const Vr=null===(cn=ne.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Vr&&Vr(),"function"==typeof k?.close&&k.close()}function Dn(){an||(an=window.setTimeout(()=>{It((0,i.aB)($,"redirect-cancelled-by-user"))},2e3))}function gr(){"visible"===document?.visibilityState&&Dn()}M.addPassiveListener(dn),document.addEventListener("resume",Dn,!1),(0,i.aw)()&&document.addEventListener("visibilitychange",gr,!1),fe=()=>{M.removePassiveListener(dn),document.removeEventListener("resume",Dn,!1),document.removeEventListener("visibilitychange",gr,!1),an&&window.clearTimeout(an)}})}finally{fe()}})).apply(this,arguments)}function pn(){return(pn=(0,c.A)(function*($){const M=function Ge($){if((0,i.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const M=new ArrayBuffer($.length),k=new Uint8Array(M);for(let ne=0;ne<$.length;ne++)k[ne]=$.charCodeAt(ne);return k}($),k=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(k)).map(fe=>fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class et extends i.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInitialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(M)),super.onEvent(M)}initialized(){var M=this;return(0,c.A)(function*(){yield M.initPromise})()}}function St($){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.A)(function*($){const M=yield yn()._get(ur($));return M&&(yield yn()._remove(ur($))),M})).apply(this,arguments)}function rn(){const $=[];for(let k=0;k<20;k++){const ne=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return $.join("")}function yn(){return(0,i.aE)(i.b)}function ur($){return(0,i.aF)("authEvent",$.config.apiKey,$.name)}function Yt($){if(!$?.includes("?"))return{};const[M,...k]=$.split("?");return(0,Ie.I9)(k.join("?"))}const tt=class Le{constructor(){this._redirectPersistence=i.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,c.A)(function*(){const ne=M._key();let fe=k.eventManagers.get(ne);return fe||(fe=new et(M),k.eventManagers.set(ne,fe),k.attachCallbackListeners(M,fe)),fe})()}_openPopup(M){(0,i.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,k,ne,fe){var st=this;return(0,c.A)(function*(){!function Ut($){var M,k,ne,fe,st,It,an,dn,Dn,gr;const cn=Ue();(0,i.aC)("function"==typeof(null===(M=cn?.universalLinks)||void 0===M?void 0:M.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,i.aC)(typeof(null===(k=cn?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,i.aC)("function"==typeof(null===(st=null===(fe=null===(ne=cn?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===st?void 0:st.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(dn=null===(an=null===(It=cn?.cordova)||void 0===It?void 0:It.plugins)||void 0===an?void 0:an.browsertab)||void 0===dn?void 0:dn.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,i.aC)("function"==typeof(null===(gr=null===(Dn=cn?.cordova)||void 0===Dn?void 0:Dn.InAppBrowser)||void 0===gr?void 0:gr.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const It=yield st._initialize(M);yield It.initialized(),It.resetRedirect(),(0,i.aI)(),yield st._originValidation(M);const an=function qe($,M,k=null){return{type:M,eventId:k,urlResponse:null,sessionId:rn(),postBody:null,tenantId:$.tenantId,error:(0,i.aB)($,"no-auth-event")}}(M,ne,fe);yield function it($,M){return yn()._set(ur($),M)}(M,an);const dn=yield function ee($,M,k){return oe.apply(this,arguments)}(M,an,k),Dn=yield function Ze($){const{cordova:M}=Ue();return new Promise(k=>{M.plugins.browsertab.isAvailable(ne=>{let fe=null;ne?M.plugins.browsertab.openUrl($):fe=M.InAppBrowser.open($,(0,i.aA)()?"_blank":"_system","location=yes"),k(fe)})})}(dn);return function Dt($,M,k){return At.apply(this,arguments)}(M,It,Dn)})()}_isIframeWebStorageSupported(M,k){throw new Error("Method not implemented.")}_originValidation(M){const k=M._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function _e($){return lt.apply(this,arguments)}(M)),this.originValidationPromises[k]}attachCallbackListeners(M,k){const{universalLinks:ne,handleOpenURL:fe,BuildInfo:st}=Ue(),It=setTimeout((0,c.A)(function*(){yield St(M),k.onEvent(en())}),500),an=function(){var gr=(0,c.A)(function*(cn){clearTimeout(It);const Vr=yield St(M);let dr=null;Vr&&cn?.url&&(dr=function xe($,M){var k,ne;const fe=function jt($){const M=Yt($),k=M.link?decodeURIComponent(M.link):void 0,ne=Yt(k).link,fe=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return Yt(fe).link||fe||ne||k||$}(M);if(fe.includes("/__/auth/callback")){const st=Yt(fe),It=st.firebaseError?function Pt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,an=null===(ne=null===(k=It?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ne?void 0:ne[1],dn=an?(0,i.aB)(an):null;return dn?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:fe,postBody:null}}return null}(Vr,cn.url)),k.onEvent(dr||en())});return function(Vr){return gr.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,an);const dn=fe,Dn=`${st.packageName.toLowerCase()}://`;Ue().handleOpenURL=function(){var gr=(0,c.A)(function*(cn){if(cn.toLowerCase().startsWith(Dn)&&an({url:cn}),"function"==typeof dn)try{dn(cn)}catch(Vr){console.error(Vr)}});return function(cn){return gr.apply(this,arguments)}}()}};function en(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,i.aB)("no-auth-event")}}function rt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Nt($=(0,Ie.ZQ)()){return!("file:"!==rt()&&"ionic:"!==rt()&&"capacitor:"!==rt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xt(){try{const $=self.localStorage,M=i.aN();if($)return $.setItem(M,"1"),$.removeItem(M),!function Ln($=(0,Ie.ZQ)()){return function sr(){return(0,Ie.lT)()&&11===document?.documentMode}()||function sn($=(0,Ie.ZQ)()){return/Edge\/\d+/.test($)}($)}()||(0,Ie.zW)()}catch{return $n()&&(0,Ie.zW)()}return!1}function $n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function Xe(){return"http:"===rt()||"https:"===rt()}()||(0,Ie.sr)()||Nt())&&!function An(){return(0,Ie.lV)()||(0,Ie.Ll)()}()&&Xt()&&!$n()}function Gt(){return Nt()&&typeof document<"u"}function yr(){return(yr=(0,c.A)(function*(){return!!Gt()&&new Promise($=>{const M=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),$(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},tr=i.aC,Bt="persistence";function Gn($){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.A)(function*($){yield $._initializationPromise;const M=xr(),k=i.aF(Bt,$.config.apiKey,$.name);M&&M.setItem(k,$._getPersistence())})).apply(this,arguments)}function xr(){var $;try{return(null===($=function un(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const ei=i.aC;class Kn{constructor(){this.browserResolver=i.aE(i.k),this.cordovaResolver=i.aE(tt),this.underlyingResolver=null,this._redirectPersistence=i.a,this._completeRedirectFn=i.aG,this._overrideRedirectResult=i.aH}_initialize(M){var k=this;return(0,c.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,k,ne,fe){var st=this;return(0,c.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(M,k,ne,fe)})()}_openRedirect(M,k,ne,fe){var st=this;return(0,c.A)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(M,k,ne,fe)})()}_isIframeWebStorageSupported(M,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,k)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Gt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ei(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,c.A)(function*(){if(M.underlyingResolver)return;const k=yield function Lt(){return yr.apply(this,arguments)}();M.underlyingResolver=k?M.cordovaResolver:M.browserResolver})()}}function di($){return $.unwrap()}function gn($){return rr($)}function rr($){const{_tokenResponse:M}=$ instanceof Ie.g?$.customData:$;if(!M)return null;if(!($ instanceof Ie.g)&&"temporaryProof"in M&&"phoneNumber"in M)return i.P.credentialFromResult($);const k=M.providerId;if(!k||k===i.p.PASSWORD)return null;let ne;switch(k){case i.p.GOOGLE:ne=i.X;break;case i.p.FACEBOOK:ne=i.W;break;case i.p.GITHUB:ne=i.Y;break;case i.p.TWITTER:ne=i.$;break;default:const{oauthIdToken:fe,oauthAccessToken:st,oauthTokenSecret:It,pendingToken:an,nonce:dn}=M;return st||It||fe||an?an?k.startsWith("saml.")?i.aQ._create(k,an):i.N._fromParams({providerId:k,signInMethod:k,pendingToken:an,idToken:fe,accessToken:st}):new i.Z(k).credential({idToken:fe,accessToken:st,rawNonce:dn}):null}return $ instanceof Ie.g?ne.credentialFromError($):ne.credentialFromResult($)}function Cr($,M){return M.catch(k=>{throw k instanceof Ie.g&&function ti($,M){var k;const ne=null===(k=M.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new nt($,i.as($,M));else if(ne){const fe=rr(M),st=M;fe&&(st.credential=fe,st.tenantId=ne.tenantId||void 0,st.email=ne.email||void 0,st.phoneNumber=ne.phoneNumber||void 0)}}($,k),k}).then(k=>{const fe=k.user;return{operationType:k.operationType,credential:gn(k),additionalUserInfo:i.aq(k),user:gt.getOrCreate(fe)}})}function zn($,M){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.A)(function*($,M){const k=yield M;return{verificationId:k.verificationId,confirm:ne=>Cr($,k.confirm(ne))}})).apply(this,arguments)}class nt{constructor(M,k){this.resolver=k,this.auth=function _s($){return $.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return Cr(di(this.auth),this.resolver.resolveSignIn(M))}}class gt{constructor(M){this._delegate=M,this.multiFactor=i.at(M)}static getOrCreate(M){return gt.USER_MAP.has(M)||gt.USER_MAP.set(M,new gt(M)),gt.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var k=this;return(0,c.A)(function*(){return Cr(k.auth,i.a2(k._delegate,M))})()}linkWithPhoneNumber(M,k){var ne=this;return(0,c.A)(function*(){return zn(ne.auth,i.l(ne._delegate,M,k))})()}linkWithPopup(M){var k=this;return(0,c.A)(function*(){return Cr(k.auth,i.d(k._delegate,M,Kn))})()}linkWithRedirect(M){var k=this;return(0,c.A)(function*(){return yield Gn(i.aJ(k.auth)),i.g(k._delegate,M,Kn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var k=this;return(0,c.A)(function*(){return Cr(k.auth,i.a3(k._delegate,M))})()}reauthenticateWithPhoneNumber(M,k){return zn(this.auth,i.r(this._delegate,M,k))}reauthenticateWithPopup(M){return Cr(this.auth,i.e(this._delegate,M,Kn))}reauthenticateWithRedirect(M){var k=this;return(0,c.A)(function*(){return yield Gn(i.aJ(k.auth)),i.h(k._delegate,M,Kn)})()}sendEmailVerification(M){return i.ag(this._delegate,M)}unlink(M){var k=this;return(0,c.A)(function*(){return yield i.ap(k._delegate,M),k})()}updateEmail(M){return i.al(this._delegate,M)}updatePassword(M){return i.am(this._delegate,M)}updatePhoneNumber(M){return i.u(this._delegate,M)}updateProfile(M){return i.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,k){return i.ah(this._delegate,M,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gt.USER_MAP=new WeakMap;const le=i.aC;let Re=(()=>{class ${constructor(k,ne){if(this.app=k,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:fe}=k.options;le(fe,"invalid-api-key",{appName:k.name}),le(fe,"invalid-api-key",{appName:k.name});const st=typeof window<"u"?Kn:void 0;this._delegate=ne.initialize({options:{persistence:Kt(fe,k.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(i.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ne){i.K(this._delegate,k,ne)}applyActionCode(k){return i.a7(this._delegate,k)}checkActionCode(k){return i.a8(this._delegate,k)}confirmPasswordReset(k,ne){return i.a6(this._delegate,k,ne)}createUserWithEmailAndPassword(k,ne){var fe=this;return(0,c.A)(function*(){return Cr(fe._delegate,i.aa(fe._delegate,k,ne))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return i.af(this._delegate,k)}isSignInWithEmailLink(k){return i.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,c.A)(function*(){le(kn(),k._delegate,"operation-not-supported-in-this-environment");const ne=yield i.j(k._delegate,Kn);return ne?Cr(k._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Be($,M){(0,i.aJ)($)._logFramework(M)}(this._delegate,k)}onAuthStateChanged(k,ne,fe){const{next:st,error:It,complete:an}=vt(k,ne,fe);return this._delegate.onAuthStateChanged(st,It,an)}onIdTokenChanged(k,ne,fe){const{next:st,error:It,complete:an}=vt(k,ne,fe);return this._delegate.onIdTokenChanged(st,It,an)}sendSignInLinkToEmail(k,ne){return i.ac(this._delegate,k,ne)}sendPasswordResetEmail(k,ne){return i.a5(this._delegate,k,ne||void 0)}setPersistence(k){var ne=this;return(0,c.A)(function*(){let fe;switch(function In($,M){tr(Object.values(Or).includes(M),$,"invalid-persistence-type"),(0,Ie.lV)()?tr(M!==Or.SESSION,$,"unsupported-persistence-type"):(0,Ie.Ll)()?tr(M===Or.NONE,$,"unsupported-persistence-type"):$n()?tr(M===Or.NONE||M===Or.LOCAL&&(0,Ie.zW)(),$,"unsupported-persistence-type"):tr(M===Or.NONE||Xt(),$,"unsupported-persistence-type")}(ne._delegate,k),k){case Or.SESSION:fe=i.a;break;case Or.LOCAL:fe=(yield i.aE(i.i)._isAvailable())?i.i:i.b;break;case Or.NONE:fe=i.U;break;default:return i.ax("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(fe)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Cr(this._delegate,i.a0(this._delegate))}signInWithCredential(k){return Cr(this._delegate,i.a1(this._delegate,k))}signInWithCustomToken(k){return Cr(this._delegate,i.a4(this._delegate,k))}signInWithEmailAndPassword(k,ne){return Cr(this._delegate,i.ab(this._delegate,k,ne))}signInWithEmailLink(k,ne){return Cr(this._delegate,i.ae(this._delegate,k,ne))}signInWithPhoneNumber(k,ne){return zn(this._delegate,i.s(this._delegate,k,ne))}signInWithPopup(k){var ne=this;return(0,c.A)(function*(){return le(kn(),ne._delegate,"operation-not-supported-in-this-environment"),Cr(ne._delegate,i.c(ne._delegate,k,Kn))})()}signInWithRedirect(k){var ne=this;return(0,c.A)(function*(){return le(kn(),ne._delegate,"operation-not-supported-in-this-environment"),yield Gn(ne._delegate),i.f(ne._delegate,k,Kn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return i.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Or,$})();function vt($,M,k){let ne=$;"function"!=typeof $&&({next:ne,error:M,complete:k}=$);const fe=ne;return{next:It=>fe(It&&gt.getOrCreate(It)),error:M,complete:k}}function Kt($,M){const k=function $r($,M){const k=xr();if(!k)return[];const ne=i.aF(Bt,$,M);switch(k.getItem(ne)){case Or.NONE:return[i.U];case Or.LOCAL:return[i.i,i.a];case Or.SESSION:return[i.a];default:return[]}}($,M);if(typeof self<"u"&&!k.includes(i.i)&&k.push(i.i),typeof window<"u")for(const ne of[i.b,i.a])k.includes(ne)||k.push(ne);return k.includes(i.U)||k.push(i.U),k}class jn{constructor(){this.providerId="phone",this._delegate=new i.P(di(ue.A.auth()))}static credential(M,k){return i.P.credential(M,k)}verifyPhoneNumber(M,k){return this._delegate.verifyPhoneNumber(M,k)}unwrap(){return this._delegate}}jn.PHONE_SIGN_IN_METHOD=i.P.PHONE_SIGN_IN_METHOD,jn.PROVIDER_ID=i.P.PROVIDER_ID;const Lr=i.aC;class Tr{constructor(M,k,ne=ue.A.app()){var fe;Lr(null===(fe=ne.options)||void 0===fe?void 0:fe.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new i.R(ne.auth(),M,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Et($){$.INTERNAL.registerComponent(new be.uA("auth-compat",M=>{const k=M.getProvider("app-compat").getImmediate(),ne=M.getProvider("auth");return new Re(k,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:i.A.EMAIL_SIGNIN,PASSWORD_RESET:i.A.PASSWORD_RESET,RECOVER_EMAIL:i.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:i.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:i.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:i.A.VERIFY_EMAIL}},EmailAuthProvider:i.V,FacebookAuthProvider:i.W,GithubAuthProvider:i.Y,GoogleAuthProvider:i.X,OAuthProvider:i.Z,SAMLAuthProvider:i._,PhoneAuthProvider:jn,PhoneMultiFactorGenerator:i.m,RecaptchaVerifier:Tr,TwitterAuthProvider:i.$,Auth:Re,AuthCredential:i.L,Error:Ie.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.14")}(ue.A)},467:(on,Je,j)=>{function c(i,Ie,pe,Oe,be,Ue,Se){try{var ee=i[Ue](Se),oe=ee.value}catch(_e){return void pe(_e)}ee.done?Ie(oe):Promise.resolve(oe).then(Oe,be)}function ue(i){return function(){var Ie=this,pe=arguments;return new Promise(function(Oe,be){var Ue=i.apply(Ie,pe);function Se(oe){c(Ue,Oe,be,Se,ee,"next",oe)}function ee(oe){c(Ue,Oe,be,Se,ee,"throw",oe)}Se(void 0)})}}j.d(Je,{A:()=>ue})},1635:(on,Je,j)=>{function Ie(Be,De){var Ee={};for(var Ve in Be)Object.prototype.hasOwnProperty.call(Be,Ve)&&De.indexOf(Ve)<0&&(Ee[Ve]=Be[Ve]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Ve=Object.getOwnPropertySymbols(Be);rt<Ve.length;rt++)De.indexOf(Ve[rt])<0&&Object.prototype.propertyIsEnumerable.call(Be,Ve[rt])&&(Ee[Ve[rt]]=Be[Ve[rt]])}return Ee}function _e(Be,De,Ee,Ve){return new(Ee||(Ee=Promise))(function(Xe,Nt){function An(Ln){try{sn(Ve.next(Ln))}catch(Xt){Nt(Xt)}}function sr(Ln){try{sn(Ve.throw(Ln))}catch(Xt){Nt(Xt)}}function sn(Ln){Ln.done?Xe(Ln.value):function rt(Xe){return Xe instanceof Ee?Xe:new Ee(function(Nt){Nt(Xe)})}(Ln.value).then(An,sr)}sn((Ve=Ve.apply(Be,De||[])).next())})}function Ce(Be){return this instanceof Ce?(this.v=Be,this):new Ce(Be)}function et(Be,De,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Ve=Ee.apply(Be,De||[]),Xe=[];return rt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),An("next"),An("throw"),An("return",function Nt(kn){return function(Gt){return Promise.resolve(Gt).then(kn,Xt)}}),rt[Symbol.asyncIterator]=function(){return this},rt;function An(kn,Gt){Ve[kn]&&(rt[kn]=function(Lt){return new Promise(function(yr,un){Xe.push([kn,Lt,yr,un])>1||sr(kn,Lt)})},Gt&&(rt[kn]=Gt(rt[kn])))}function sr(kn,Gt){try{!function sn(kn){kn.value instanceof Ce?Promise.resolve(kn.value.v).then(Ln,Xt):$n(Xe[0][2],kn)}(Ve[kn](Gt))}catch(Lt){$n(Xe[0][3],Lt)}}function Ln(kn){sr("next",kn)}function Xt(kn){sr("throw",kn)}function $n(kn,Gt){kn(Gt),Xe.shift(),Xe.length&&sr(Xe[0][0],Xe[0][1])}}function it(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,De=Be[Symbol.asyncIterator];return De?De.call(Be):(Be=function At(Be){var De="function"==typeof Symbol&&Symbol.iterator,Ee=De&&Be[De],Ve=0;if(Ee)return Ee.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&Ve>=Be.length&&(Be=void 0),{value:Be&&Be[Ve++],done:!Be}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(Be),Ee={},Ve("next"),Ve("throw"),Ve("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ve(Xe){Ee[Xe]=Be[Xe]&&function(Nt){return new Promise(function(An,sr){!function rt(Xe,Nt,An,sr){Promise.resolve(sr).then(function(sn){Xe({value:sn,done:An})},Nt)}(An,sr,(Nt=Be[Xe](Nt)).done,Nt.value)})}}}j.d(Je,{AQ:()=>et,N3:()=>Ce,Tt:()=>Ie,sH:()=>_e,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=8889)}]);